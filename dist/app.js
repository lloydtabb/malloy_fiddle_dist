(()=>{var gMe=Object.create;var mL=Object.defineProperty;var yMe=Object.getOwnPropertyDescriptor;var vMe=Object.getOwnPropertyNames;var _Me=Object.getPrototypeOf,bMe=Object.prototype.hasOwnProperty;var bce=n=>mL(n,"__esModule",{value:!0});var xL=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var TQ=(n,e)=>()=>(n&&(e=n(n=0)),e);var we=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),FQ=(n,e)=>{for(var t in e)mL(n,t,{get:e[t],enumerable:!0})},Ece=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of vMe(e))!bMe.call(n,i)&&(t||i!=="default")&&mL(n,i,{get:()=>e[i],enumerable:!(r=yMe(e,i))||r.enumerable});return n},xr=(n,e)=>Ece(bce(mL(n!=null?gMe(_Me(n)):{},"default",!e&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),EMe=(n=>(e,t)=>n&&n.get(e)||(t=Ece(bce({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var DQ=we((H5t,Cce)=>{"use strict";m();var Sce=Object.getOwnPropertySymbols,SMe=Object.prototype.hasOwnProperty,CMe=Object.prototype.propertyIsEnumerable;function wMe(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function AMe(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Cce.exports=AMe()?Object.assign:function(n,e){for(var t,r=wMe(n),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var o in t)SMe.call(t,o)&&(r[o]=t[o]);if(Sce){i=Sce(t);for(var a=0;a<i.length;a++)CMe.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r}});var qce=we(na=>{"use strict";m();var OQ=DQ(),xE=60103,wce=60106;na.Fragment=60107;na.StrictMode=60108;na.Profiler=60114;var Ace=60109,Tce=60110,Fce=60112;na.Suspense=60113;var Dce=60115,Oce=60116;typeof Symbol=="function"&&Symbol.for&&(gp=Symbol.for,xE=gp("react.element"),wce=gp("react.portal"),na.Fragment=gp("react.fragment"),na.StrictMode=gp("react.strict_mode"),na.Profiler=gp("react.profiler"),Ace=gp("react.provider"),Tce=gp("react.context"),Fce=gp("react.forward_ref"),na.Suspense=gp("react.suspense"),Dce=gp("react.memo"),Oce=gp("react.lazy"));var gp,Nce=typeof Symbol=="function"&&Symbol.iterator;function TMe(n){return n===null||typeof n!="object"?null:(n=Nce&&n[Nce]||n["@@iterator"],typeof n=="function"?n:null)}function Ow(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rce={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lce={};function gE(n,e,t){this.props=n,this.context=e,this.refs=Lce,this.updater=t||Rce}gE.prototype.isReactComponent={};gE.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(Ow(85));this.updater.enqueueSetState(this,n,e,"setState")};gE.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function kce(){}kce.prototype=gE.prototype;function NQ(n,e,t){this.props=n,this.context=e,this.refs=Lce,this.updater=t||Rce}var RQ=NQ.prototype=new kce;RQ.constructor=NQ;OQ(RQ,gE.prototype);RQ.isPureReactComponent=!0;var LQ={current:null},Ice=Object.prototype.hasOwnProperty,Mce={key:!0,ref:!0,__self:!0,__source:!0};function Pce(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ice.call(e,r)&&!Mce.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];i.children=c}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xE,type:n,key:s,ref:o,props:i,_owner:LQ.current}}function FMe(n,e){return{$$typeof:xE,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function kQ(n){return typeof n=="object"&&n!==null&&n.$$typeof===xE}function DMe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Bce=/\/+/g;function IQ(n,e){return typeof n=="object"&&n!==null&&n.key!=null?DMe(""+n.key):e.toString(36)}function gL(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case xE:case wce:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+IQ(o,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(Bce,"$&/")+"/"),gL(i,e,t,"",function(d){return d})):i!=null&&(kQ(i)&&(i=FMe(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Bce,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(n))for(var a=0;a<n.length;a++){s=n[a];var c=r+IQ(s,a);o+=gL(s,e,t,c,i)}else if(c=TMe(n),typeof c=="function")for(n=c.call(n),a=0;!(s=n.next()).done;)s=s.value,c=r+IQ(s,a++),o+=gL(s,e,t,c,i);else if(s==="object")throw e=""+n,Error(Ow(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return o}function yL(n,e,t){if(n==null)return n;var r=[],i=0;return gL(n,r,"","",function(s){return e.call(t,s,i++)}),r}function OMe(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var jce={current:null};function Yx(){var n=jce.current;if(n===null)throw Error(Ow(321));return n}var NMe={ReactCurrentDispatcher:jce,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:LQ,IsSomeRendererActing:{current:!1},assign:OQ};na.Children={map:yL,forEach:function(n,e,t){yL(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return yL(n,function(){e++}),e},toArray:function(n){return yL(n,function(e){return e})||[]},only:function(n){if(!kQ(n))throw Error(Ow(143));return n}};na.Component=gE;na.PureComponent=NQ;na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NMe;na.cloneElement=function(n,e,t){if(n==null)throw Error(Ow(267,n));var r=OQ({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=LQ.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)Ice.call(e,c)&&!Mce.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:xE,type:n.type,key:i,ref:s,props:r,_owner:o}};na.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:Tce,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:Ace,_context:n},n.Consumer=n};na.createElement=Pce;na.createFactory=function(n){var e=Pce.bind(null,n);return e.type=n,e};na.createRef=function(){return{current:null}};na.forwardRef=function(n){return{$$typeof:Fce,render:n}};na.isValidElement=kQ;na.lazy=function(n){return{$$typeof:Oce,_payload:{_status:-1,_result:n},_init:OMe}};na.memo=function(n,e){return{$$typeof:Dce,type:n,compare:e===void 0?null:e}};na.useCallback=function(n,e){return Yx().useCallback(n,e)};na.useContext=function(n,e){return Yx().useContext(n,e)};na.useDebugValue=function(){};na.useEffect=function(n,e){return Yx().useEffect(n,e)};na.useImperativeHandle=function(n,e,t){return Yx().useImperativeHandle(n,e,t)};na.useLayoutEffect=function(n,e){return Yx().useLayoutEffect(n,e)};na.useMemo=function(n,e){return Yx().useMemo(n,e)};na.useReducer=function(n,e,t){return Yx().useReducer(n,e,t)};na.useRef=function(n){return Yx().useRef(n)};na.useState=function(n){return Yx().useState(n)};na.version="17.0.2"});var Rr=we((W5t,Uce)=>{"use strict";m();Uce.exports=qce()});var v,m=TQ(()=>{v=xr(Rr())});var Qce=we(_a=>{"use strict";m();var yE,Nw,vL,MQ;typeof performance=="object"&&typeof performance.now=="function"?($ce=performance,_a.unstable_now=function(){return $ce.now()}):(PQ=Date,zce=PQ.now(),_a.unstable_now=function(){return PQ.now()-zce});var $ce,PQ,zce;typeof window=="undefined"||typeof MessageChannel!="function"?(vE=null,BQ=null,jQ=function(){if(vE!==null)try{var n=_a.unstable_now();vE(!0,n),vE=null}catch(e){throw setTimeout(jQ,0),e}},yE=function(n){vE!==null?setTimeout(yE,0,n):(vE=n,setTimeout(jQ,0))},Nw=function(n,e){BQ=setTimeout(n,e)},vL=function(){clearTimeout(BQ)},_a.unstable_shouldYield=function(){return!1},MQ=_a.unstable_forceFrameRate=function(){}):(Hce=window.setTimeout,Vce=window.clearTimeout,typeof console!="undefined"&&(Wce=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Wce!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Rw=!1,Lw=null,_L=-1,qQ=5,UQ=0,_a.unstable_shouldYield=function(){return _a.unstable_now()>=UQ},MQ=function(){},_a.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qQ=0<n?Math.floor(1e3/n):5},$Q=new MessageChannel,bL=$Q.port2,$Q.port1.onmessage=function(){if(Lw!==null){var n=_a.unstable_now();UQ=n+qQ;try{Lw(!0,n)?bL.postMessage(null):(Rw=!1,Lw=null)}catch(e){throw bL.postMessage(null),e}}else Rw=!1},yE=function(n){Lw=n,Rw||(Rw=!0,bL.postMessage(null))},Nw=function(n,e){_L=Hce(function(){n(_a.unstable_now())},e)},vL=function(){Vce(_L),_L=-1});var vE,BQ,jQ,Hce,Vce,Wce,Rw,Lw,_L,qQ,UQ,$Q,bL;function zQ(n,e){var t=n.length;n.push(e);e:for(;;){var r=t-1>>>1,i=n[r];if(i!==void 0&&0<SL(i,e))n[r]=e,n[t]=i,t=r;else break e}}function W1(n){return n=n[0],n===void 0?null:n}function EL(n){var e=n[0];if(e!==void 0){var t=n.pop();if(t!==e){n[0]=t;e:for(var r=0,i=n.length;r<i;){var s=2*(r+1)-1,o=n[s],a=s+1,c=n[a];if(o!==void 0&&0>SL(o,t))c!==void 0&&0>SL(c,o)?(n[r]=c,n[a]=t,r=a):(n[r]=o,n[s]=t,r=s);else if(c!==void 0&&0>SL(c,t))n[r]=c,n[a]=t,r=a;else break e}}return e}return null}function SL(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}var K2=[],t3=[],RMe=1,yp=null,m0=3,CL=!1,zv=!1,kw=!1;function HQ(n){for(var e=W1(t3);e!==null;){if(e.callback===null)EL(t3);else if(e.startTime<=n)EL(t3),e.sortIndex=e.expirationTime,zQ(K2,e);else break;e=W1(t3)}}function VQ(n){if(kw=!1,HQ(n),!zv)if(W1(K2)!==null)zv=!0,yE(WQ);else{var e=W1(t3);e!==null&&Nw(VQ,e.startTime-n)}}function WQ(n,e){zv=!1,kw&&(kw=!1,vL()),CL=!0;var t=m0;try{for(HQ(e),yp=W1(K2);yp!==null&&(!(yp.expirationTime>e)||n&&!_a.unstable_shouldYield());){var r=yp.callback;if(typeof r=="function"){yp.callback=null,m0=yp.priorityLevel;var i=r(yp.expirationTime<=e);e=_a.unstable_now(),typeof i=="function"?yp.callback=i:yp===W1(K2)&&EL(K2),HQ(e)}else EL(K2);yp=W1(K2)}if(yp!==null)var s=!0;else{var o=W1(t3);o!==null&&Nw(VQ,o.startTime-e),s=!1}return s}finally{yp=null,m0=t,CL=!1}}var LMe=MQ;_a.unstable_IdlePriority=5;_a.unstable_ImmediatePriority=1;_a.unstable_LowPriority=4;_a.unstable_NormalPriority=3;_a.unstable_Profiling=null;_a.unstable_UserBlockingPriority=2;_a.unstable_cancelCallback=function(n){n.callback=null};_a.unstable_continueExecution=function(){zv||CL||(zv=!0,yE(WQ))};_a.unstable_getCurrentPriorityLevel=function(){return m0};_a.unstable_getFirstCallbackNode=function(){return W1(K2)};_a.unstable_next=function(n){switch(m0){case 1:case 2:case 3:var e=3;break;default:e=m0}var t=m0;m0=e;try{return n()}finally{m0=t}};_a.unstable_pauseExecution=function(){};_a.unstable_requestPaint=LMe;_a.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=m0;m0=n;try{return e()}finally{m0=t}};_a.unstable_scheduleCallback=function(n,e,t){var r=_a.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?r+t:r):t=r,n){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=t+i,n={id:RMe++,callback:e,priorityLevel:n,startTime:t,expirationTime:i,sortIndex:-1},t>r?(n.sortIndex=t,zQ(t3,n),W1(K2)===null&&n===W1(t3)&&(kw?vL():kw=!0,Nw(VQ,t-r))):(n.sortIndex=i,zQ(K2,n),zv||CL||(zv=!0,yE(WQ))),n};_a.unstable_wrapCallback=function(n){var e=m0;return function(){var t=m0;m0=e;try{return n.apply(this,arguments)}finally{m0=t}}}});var Yce=we((Y5t,Gce)=>{"use strict";m();Gce.exports=Qce()});var Ide=we(Cp=>{"use strict";m();var wL=Rr(),Mu=DQ(),uf=Yce();function oi(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!wL)throw Error(oi(227));var Kce=new Set,Iw={};function Hv(n,e){_E(n,e),_E(n+"Capture",e)}function _E(n,e){for(Iw[n]=e,n=0;n<e.length;n++)Kce.add(e[n])}var Kx=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),kMe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jce=Object.prototype.hasOwnProperty,Xce={},Zce={};function IMe(n){return Jce.call(Zce,n)?!0:Jce.call(Xce,n)?!1:kMe.test(n)?Zce[n]=!0:(Xce[n]=!0,!1)}function MMe(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function PMe(n,e,t,r){if(e===null||typeof e=="undefined"||MMe(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rd(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var If={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){If[n]=new rd(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];If[e]=new rd(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){If[n]=new rd(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){If[n]=new rd(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){If[n]=new rd(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){If[n]=new rd(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){If[n]=new rd(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){If[n]=new rd(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){If[n]=new rd(n,5,!1,n.toLowerCase(),null,!1,!1)});var QQ=/[\-:]([a-z])/g;function GQ(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(QQ,GQ);If[e]=new rd(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(QQ,GQ);If[e]=new rd(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(QQ,GQ);If[e]=new rd(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){If[n]=new rd(n,1,!1,n.toLowerCase(),null,!1,!1)});If.xlinkHref=new rd("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){If[n]=new rd(n,1,!1,n.toLowerCase(),null,!0,!0)});function YQ(n,e,t,r){var i=If.hasOwnProperty(e)?If[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(PMe(e,t,i,r)&&(t=null),r||i===null?IMe(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Vv=wL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mw=60103,Wv=60106,n3=60107,KQ=60108,Pw=60114,JQ=60109,XQ=60110,AL=60112,Bw=60113,TL=60120,FL=60115,ZQ=60116,eG=60121,tG=60128,efe=60129,nG=60130,rG=60131;typeof Symbol=="function"&&Symbol.for&&(Ic=Symbol.for,Mw=Ic("react.element"),Wv=Ic("react.portal"),n3=Ic("react.fragment"),KQ=Ic("react.strict_mode"),Pw=Ic("react.profiler"),JQ=Ic("react.provider"),XQ=Ic("react.context"),AL=Ic("react.forward_ref"),Bw=Ic("react.suspense"),TL=Ic("react.suspense_list"),FL=Ic("react.memo"),ZQ=Ic("react.lazy"),eG=Ic("react.block"),Ic("react.scope"),tG=Ic("react.opaque.id"),efe=Ic("react.debug_trace_mode"),nG=Ic("react.offscreen"),rG=Ic("react.legacy_hidden"));var Ic,tfe=typeof Symbol=="function"&&Symbol.iterator;function jw(n){return n===null||typeof n!="object"?null:(n=tfe&&n[tfe]||n["@@iterator"],typeof n=="function"?n:null)}var iG;function qw(n){if(iG===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);iG=e&&e[1]||""}return`
`+iG+n}var sG=!1;function DL(n,e){if(!n||sG)return"";sG=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{sG=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?qw(n):""}function BMe(n){switch(n.tag){case 5:return qw(n.type);case 16:return qw("Lazy");case 13:return qw("Suspense");case 19:return qw("SuspenseList");case 0:case 2:case 15:return n=DL(n.type,!1),n;case 11:return n=DL(n.type.render,!1),n;case 22:return n=DL(n.type._render,!1),n;case 1:return n=DL(n.type,!0),n;default:return""}}function bE(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case n3:return"Fragment";case Wv:return"Portal";case Pw:return"Profiler";case KQ:return"StrictMode";case Bw:return"Suspense";case TL:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case XQ:return(n.displayName||"Context")+".Consumer";case JQ:return(n._context.displayName||"Context")+".Provider";case AL:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case FL:return bE(n.type);case eG:return bE(n._render);case ZQ:e=n._payload,n=n._init;try{return bE(n(e))}catch{}}return null}function r3(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function nfe(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jMe(n){var e=nfe(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function OL(n){n._valueTracker||(n._valueTracker=jMe(n))}function rfe(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=nfe(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function NL(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function oG(n,e){var t=e.checked;return Mu({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ife(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=r3(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sfe(n,e){e=e.checked,e!=null&&YQ(n,"checked",e,!1)}function aG(n,e){sfe(n,e);var t=r3(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?uG(n,e.type,t):e.hasOwnProperty("defaultValue")&&uG(n,e.type,r3(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function ofe(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function uG(n,e,t){(e!=="number"||NL(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function qMe(n){var e="";return wL.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function lG(n,e){return n=Mu({children:void 0},e),(e=qMe(e.children))&&(n.children=e),n}function EE(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+r3(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function cG(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oi(91));return Mu({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function afe(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(oi(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(oi(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:r3(t)}}function ufe(n,e){var t=r3(e.value),r=r3(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function lfe(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var fG={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function cfe(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dG(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?cfe(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var RL,ffe=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==fG.svg||"innerHTML"in n)n.innerHTML=e;else{for(RL=RL||document.createElement("div"),RL.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=RL.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Uw(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var $w={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UMe=["Webkit","ms","Moz","O"];Object.keys($w).forEach(function(n){UMe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),$w[e]=$w[n]})});function dfe(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||$w.hasOwnProperty(n)&&$w[n]?(""+e).trim():e+"px"}function hfe(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=dfe(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var $Me=Mu({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hG(n,e){if(e){if($Me[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oi(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oi(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(oi(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oi(62))}}function pG(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function mG(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xG=null,SE=null,CE=null;function pfe(n){if(n=oA(n)){if(typeof xG!="function")throw Error(oi(280));var e=n.stateNode;e&&(e=ZL(e),xG(n.stateNode,n.type,e))}}function mfe(n){SE?CE?CE.push(n):CE=[n]:SE=n}function xfe(){if(SE){var n=SE,e=CE;if(CE=SE=null,pfe(n),e)for(n=0;n<e.length;n++)pfe(e[n])}}function gG(n,e){return n(e)}function gfe(n,e,t,r,i){return n(e,t,r,i)}function yG(){}var yfe=gG,Qv=!1,vG=!1;function _G(){(SE!==null||CE!==null)&&(yG(),xfe())}function zMe(n,e,t){if(vG)return n(e,t);vG=!0;try{return yfe(n,e,t)}finally{vG=!1,_G()}}function zw(n,e){var t=n.stateNode;if(t===null)return null;var r=ZL(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(oi(231,e,typeof t));return t}var bG=!1;if(Kx)try{wE={},Object.defineProperty(wE,"passive",{get:function(){bG=!0}}),window.addEventListener("test",wE,wE),window.removeEventListener("test",wE,wE)}catch{bG=!1}var wE;function HMe(n,e,t,r,i,s,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(p){this.onError(p)}}var Hw=!1,LL=null,kL=!1,EG=null,VMe={onError:function(n){Hw=!0,LL=n}};function WMe(n,e,t,r,i,s,o,a,c){Hw=!1,LL=null,HMe.apply(VMe,arguments)}function QMe(n,e,t,r,i,s,o,a,c){if(WMe.apply(this,arguments),Hw){if(Hw){var d=LL;Hw=!1,LL=null}else throw Error(oi(198));kL||(kL=!0,EG=d)}}function Gv(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function vfe(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function _fe(n){if(Gv(n)!==n)throw Error(oi(188))}function GMe(n){var e=n.alternate;if(!e){if(e=Gv(n),e===null)throw Error(oi(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return _fe(i),n;if(s===r)return _fe(i),e;s=s.sibling}throw Error(oi(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(oi(189))}}if(t.alternate!==r)throw Error(oi(190))}if(t.tag!==3)throw Error(oi(188));return t.stateNode.current===t?n:e}function bfe(n){if(n=GMe(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Efe(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var Sfe,SG,Cfe,wfe,CG=!1,J2=[],i3=null,s3=null,o3=null,Vw=new Map,Ww=new Map,Qw=[],Afe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wG(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function Tfe(n,e){switch(n){case"focusin":case"focusout":i3=null;break;case"dragenter":case"dragleave":s3=null;break;case"mouseover":case"mouseout":o3=null;break;case"pointerover":case"pointerout":Vw.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ww.delete(e.pointerId)}}function Gw(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n=wG(e,t,r,i,s),e!==null&&(e=oA(e),e!==null&&SG(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function YMe(n,e,t,r,i){switch(e){case"focusin":return i3=Gw(i3,n,e,t,r,i),!0;case"dragenter":return s3=Gw(s3,n,e,t,r,i),!0;case"mouseover":return o3=Gw(o3,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Vw.set(s,Gw(Vw.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ww.set(s,Gw(Ww.get(s)||null,n,e,t,r,i)),!0}return!1}function KMe(n){var e=Yv(n.target);if(e!==null){var t=Gv(e);if(t!==null){if(e=t.tag,e===13){if(e=vfe(t),e!==null){n.blockedOn=e,wfe(n.lanePriority,function(){uf.unstable_runWithPriority(n.priority,function(){Cfe(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function IL(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=NG(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=oA(t),e!==null&&SG(e),n.blockedOn=t,!1;e.shift()}return!0}function Ffe(n,e,t){IL(n)&&t.delete(e)}function JMe(){for(CG=!1;0<J2.length;){var n=J2[0];if(n.blockedOn!==null){n=oA(n.blockedOn),n!==null&&Sfe(n);break}for(var e=n.targetContainers;0<e.length;){var t=NG(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&J2.shift()}i3!==null&&IL(i3)&&(i3=null),s3!==null&&IL(s3)&&(s3=null),o3!==null&&IL(o3)&&(o3=null),Vw.forEach(Ffe),Ww.forEach(Ffe)}function Yw(n,e){n.blockedOn===e&&(n.blockedOn=null,CG||(CG=!0,uf.unstable_scheduleCallback(uf.unstable_NormalPriority,JMe)))}function Dfe(n){function e(i){return Yw(i,n)}if(0<J2.length){Yw(J2[0],n);for(var t=1;t<J2.length;t++){var r=J2[t];r.blockedOn===n&&(r.blockedOn=null)}}for(i3!==null&&Yw(i3,n),s3!==null&&Yw(s3,n),o3!==null&&Yw(o3,n),Vw.forEach(e),Ww.forEach(e),t=0;t<Qw.length;t++)r=Qw[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Qw.length&&(t=Qw[0],t.blockedOn===null);)KMe(t),t.blockedOn===null&&Qw.shift()}function ML(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var AE={animationend:ML("Animation","AnimationEnd"),animationiteration:ML("Animation","AnimationIteration"),animationstart:ML("Animation","AnimationStart"),transitionend:ML("Transition","TransitionEnd")},AG={},Ofe={};Kx&&(Ofe=document.createElement("div").style,"AnimationEvent"in window||(delete AE.animationend.animation,delete AE.animationiteration.animation,delete AE.animationstart.animation),"TransitionEvent"in window||delete AE.transitionend.transition);function PL(n){if(AG[n])return AG[n];if(!AE[n])return n;var e=AE[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Ofe)return AG[n]=e[t];return n}var Nfe=PL("animationend"),Rfe=PL("animationiteration"),Lfe=PL("animationstart"),kfe=PL("transitionend"),Ife=new Map,TG=new Map,XMe=["abort","abort",Nfe,"animationEnd",Rfe,"animationIteration",Lfe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",kfe,"transitionEnd","waiting","waiting"];function FG(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),TG.set(r,e),Ife.set(r,i),Hv(i,[r])}}var ZMe=uf.unstable_now;ZMe();var Za=8;function TE(n){if((1&n)!==0)return Za=15,1;if((2&n)!==0)return Za=14,2;if((4&n)!==0)return Za=13,4;var e=24&n;return e!==0?(Za=12,e):(n&32)!==0?(Za=11,32):(e=192&n,e!==0?(Za=10,e):(n&256)!==0?(Za=9,256):(e=3584&n,e!==0?(Za=8,e):(n&4096)!==0?(Za=7,4096):(e=4186112&n,e!==0?(Za=6,e):(e=62914560&n,e!==0?(Za=5,e):n&67108864?(Za=4,67108864):(n&134217728)!==0?(Za=3,134217728):(e=805306368&n,e!==0?(Za=2,e):(1073741824&n)!==0?(Za=1,1073741824):(Za=8,n))))))}function ePe(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function tPe(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(oi(358,n))}}function Kw(n,e){var t=n.pendingLanes;if(t===0)return Za=0;var r=0,i=0,s=n.expiredLanes,o=n.suspendedLanes,a=n.pingedLanes;if(s!==0)r=s,i=Za=15;else if(s=t&134217727,s!==0){var c=s&~o;c!==0?(r=TE(c),i=Za):(a&=s,a!==0&&(r=TE(a),i=Za))}else s=t&~o,s!==0?(r=TE(s),i=Za):a!==0&&(r=TE(a),i=Za);if(r===0)return 0;if(r=31-a3(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(TE(e),i<=Za)return e;Za=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-a3(e),i=1<<t,r|=n[t],e&=~i;return r}function Mfe(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function BL(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=FE(24&~e),n===0?BL(10,e):n;case 10:return n=FE(192&~e),n===0?BL(8,e):n;case 8:return n=FE(3584&~e),n===0&&(n=FE(4186112&~e),n===0&&(n=512)),n;case 2:return e=FE(805306368&~e),e===0&&(e=268435456),e}throw Error(oi(358,n))}function FE(n){return n&-n}function DG(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function jL(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-a3(e),n[e]=t}var a3=Math.clz32?Math.clz32:iPe,nPe=Math.log,rPe=Math.LN2;function iPe(n){return n===0?32:31-(nPe(n)/rPe|0)|0}var sPe=uf.unstable_UserBlockingPriority,oPe=uf.unstable_runWithPriority,qL=!0;function aPe(n,e,t,r){Qv||yG();var i=OG,s=Qv;Qv=!0;try{gfe(i,n,e,t,r)}finally{(Qv=s)||_G()}}function uPe(n,e,t,r){oPe(sPe,OG.bind(null,n,e,t,r))}function OG(n,e,t,r){if(qL){var i;if((i=(e&4)===0)&&0<J2.length&&-1<Afe.indexOf(n))n=wG(null,n,e,t,r),J2.push(n);else{var s=NG(n,e,t,r);if(s===null)i&&Tfe(n,r);else{if(i){if(-1<Afe.indexOf(n)){n=wG(s,n,e,t,r),J2.push(n);return}if(YMe(s,n,e,t,r))return;Tfe(n,r)}c0e(n,e,r,null,t)}}}}function NG(n,e,t,r){var i=mG(r);if(i=Yv(i),i!==null){var s=Gv(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=vfe(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return c0e(n,e,r,i,t),null}var u3=null,RG=null,UL=null;function Pfe(){if(UL)return UL;var n,e=RG,t=e.length,r,i="value"in u3?u3.value:u3.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return UL=i.slice(n,1<r?1-r:void 0)}function $L(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function zL(){return!0}function Bfe(){return!1}function Lh(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zL:Bfe,this.isPropagationStopped=Bfe,this}return Mu(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=zL)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=zL)},persist:function(){},isPersistent:zL}),e}var DE={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},LG=Lh(DE),Jw=Mu({},DE,{view:0,detail:0}),lPe=Lh(Jw),kG,IG,Xw,HL=Mu({},Jw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PG,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Xw&&(Xw&&n.type==="mousemove"?(kG=n.screenX-Xw.screenX,IG=n.screenY-Xw.screenY):IG=kG=0,Xw=n),kG)},movementY:function(n){return"movementY"in n?n.movementY:IG}}),jfe=Lh(HL),cPe=Mu({},HL,{dataTransfer:0}),fPe=Lh(cPe),dPe=Mu({},Jw,{relatedTarget:0}),MG=Lh(dPe),hPe=Mu({},DE,{animationName:0,elapsedTime:0,pseudoElement:0}),pPe=Lh(hPe),mPe=Mu({},DE,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xPe=Lh(mPe),gPe=Mu({},DE,{data:0}),qfe=Lh(gPe),yPe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vPe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_Pe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bPe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=_Pe[n])?!!e[n]:!1}function PG(){return bPe}var EPe=Mu({},Jw,{key:function(n){if(n.key){var e=yPe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=$L(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?vPe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PG,charCode:function(n){return n.type==="keypress"?$L(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$L(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),SPe=Lh(EPe),CPe=Mu({},HL,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ufe=Lh(CPe),wPe=Mu({},Jw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PG}),APe=Lh(wPe),TPe=Mu({},DE,{propertyName:0,elapsedTime:0,pseudoElement:0}),FPe=Lh(TPe),DPe=Mu({},HL,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),OPe=Lh(DPe),NPe=[9,13,27,32],BG=Kx&&"CompositionEvent"in window,Zw=null;Kx&&"documentMode"in document&&(Zw=document.documentMode);var RPe=Kx&&"TextEvent"in window&&!Zw,$fe=Kx&&(!BG||Zw&&8<Zw&&11>=Zw),zfe=String.fromCharCode(32),Hfe=!1;function Vfe(n,e){switch(n){case"keyup":return NPe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wfe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var OE=!1;function LPe(n,e){switch(n){case"compositionend":return Wfe(e);case"keypress":return e.which!==32?null:(Hfe=!0,zfe);case"textInput":return n=e.data,n===zfe&&Hfe?null:n;default:return null}}function kPe(n,e){if(OE)return n==="compositionend"||!BG&&Vfe(n,e)?(n=Pfe(),UL=RG=u3=null,OE=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $fe&&e.locale!=="ko"?null:e.data;default:return null}}var IPe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qfe(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!IPe[n.type]:e==="textarea"}function Gfe(n,e,t,r){mfe(r),e=YL(e,"onChange"),0<e.length&&(t=new LG("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var eA=null,tA=null;function MPe(n){s0e(n,0)}function VL(n){var e=IE(n);if(rfe(e))return n}function PPe(n,e){if(n==="change")return e}var Yfe=!1;Kx&&(Kx?(QL="oninput"in document,QL||(jG=document.createElement("div"),jG.setAttribute("oninput","return;"),QL=typeof jG.oninput=="function"),WL=QL):WL=!1,Yfe=WL&&(!document.documentMode||9<document.documentMode));var WL,QL,jG;function Kfe(){eA&&(eA.detachEvent("onpropertychange",Jfe),tA=eA=null)}function Jfe(n){if(n.propertyName==="value"&&VL(tA)){var e=[];if(Gfe(e,tA,n,mG(n)),n=MPe,Qv)n(e);else{Qv=!0;try{gG(n,e)}finally{Qv=!1,_G()}}}}function BPe(n,e,t){n==="focusin"?(Kfe(),eA=e,tA=t,eA.attachEvent("onpropertychange",Jfe)):n==="focusout"&&Kfe()}function jPe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return VL(tA)}function qPe(n,e){if(n==="click")return VL(e)}function UPe(n,e){if(n==="input"||n==="change")return VL(e)}function $Pe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var vp=typeof Object.is=="function"?Object.is:$Pe,zPe=Object.prototype.hasOwnProperty;function nA(n,e){if(vp(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!zPe.call(e,t[r])||!vp(n[t[r]],e[t[r]]))return!1;return!0}function Xfe(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Zfe(n,e){var t=Xfe(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Xfe(t)}}function e0e(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?e0e(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function t0e(){for(var n=window,e=NL();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=NL(n.document)}return e}function qG(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var HPe=Kx&&"documentMode"in document&&11>=document.documentMode,NE=null,UG=null,rA=null,$G=!1;function n0e(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;$G||NE==null||NE!==NL(r)||(r=NE,"selectionStart"in r&&qG(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rA&&nA(rA,r)||(rA=r,r=YL(UG,"onSelect"),0<r.length&&(e=new LG("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=NE)))}FG("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);FG("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);FG(XMe,2);for(zG="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),GL=0;GL<zG.length;GL++)TG.set(zG[GL],0);var zG,GL;_E("onMouseEnter",["mouseout","mouseover"]);_E("onMouseLeave",["mouseout","mouseover"]);_E("onPointerEnter",["pointerout","pointerover"]);_E("onPointerLeave",["pointerout","pointerover"]);Hv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hv("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(iA));function i0e(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,QMe(r,e,void 0,n),n.currentTarget=null}function s0e(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;i0e(i,a,d),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;i0e(i,a,d),s=c}}}if(kL)throw n=EG,kL=!1,EG=null,n}function mu(n,e){var t=x0e(e),r=n+"__bubble";t.has(r)||(l0e(e,n,2,!1),t.add(r))}var o0e="_reactListening"+Math.random().toString(36).slice(2);function a0e(n){n[o0e]||(n[o0e]=!0,Kce.forEach(function(e){r0e.has(e)||u0e(e,!1,n,null),u0e(e,!0,n,null)}))}function u0e(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=t;if(n==="selectionchange"&&t.nodeType!==9&&(s=t.ownerDocument),r!==null&&!e&&r0e.has(n)){if(n!=="scroll")return;i|=2,s=r}var o=x0e(s),a=n+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),l0e(s,n,i,e),o.add(a))}function l0e(n,e,t,r){var i=TG.get(e);switch(i===void 0?2:i){case 0:i=aPe;break;case 1:i=uPe;break;default:i=OG}t=i.bind(null,e,t,n),i=void 0,!bG||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function c0e(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yv(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zMe(function(){var d=s,p=mG(t),b=[];e:{var C=Ife.get(n);if(C!==void 0){var N=LG,R=n;switch(n){case"keypress":if($L(t)===0)break e;case"keydown":case"keyup":N=SPe;break;case"focusin":R="focus",N=MG;break;case"focusout":R="blur",N=MG;break;case"beforeblur":case"afterblur":N=MG;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=jfe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=fPe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=APe;break;case Nfe:case Rfe:case Lfe:N=pPe;break;case kfe:N=FPe;break;case"scroll":N=lPe;break;case"wheel":N=OPe;break;case"copy":case"cut":case"paste":N=xPe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Ufe}var U=(e&4)!==0,V=!U&&n==="scroll",P=U?C!==null?C+"Capture":null:C;U=[];for(var $=d,M;$!==null;){M=$;var G=M.stateNode;if(M.tag===5&&G!==null&&(M=G,P!==null&&(G=zw($,P),G!=null&&U.push(sA($,G,M)))),V)break;$=$.return}0<U.length&&(C=new N(C,R,null,t,p),b.push({event:C,listeners:U}))}}if((e&7)===0){e:{if(C=n==="mouseover"||n==="pointerover",N=n==="mouseout"||n==="pointerout",C&&(e&16)===0&&(R=t.relatedTarget||t.fromElement)&&(Yv(R)||R[kE]))break e;if((N||C)&&(C=p.window===p?p:(C=p.ownerDocument)?C.defaultView||C.parentWindow:window,N?(R=t.relatedTarget||t.toElement,N=d,R=R?Yv(R):null,R!==null&&(V=Gv(R),R!==V||R.tag!==5&&R.tag!==6)&&(R=null)):(N=null,R=d),N!==R)){if(U=jfe,G="onMouseLeave",P="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(U=Ufe,G="onPointerLeave",P="onPointerEnter",$="pointer"),V=N==null?C:IE(N),M=R==null?C:IE(R),C=new U(G,$+"leave",N,t,p),C.target=V,C.relatedTarget=M,G=null,Yv(p)===d&&(U=new U(P,$+"enter",R,t,p),U.target=M,U.relatedTarget=V,G=U),V=G,N&&R)t:{for(U=N,P=R,$=0,M=U;M;M=RE(M))$++;for(M=0,G=P;G;G=RE(G))M++;for(;0<$-M;)U=RE(U),$--;for(;0<M-$;)P=RE(P),M--;for(;$--;){if(U===P||P!==null&&U===P.alternate)break t;U=RE(U),P=RE(P)}U=null}else U=null;N!==null&&f0e(b,C,N,U,!1),R!==null&&V!==null&&f0e(b,V,R,U,!0)}}e:{if(C=d?IE(d):window,N=C.nodeName&&C.nodeName.toLowerCase(),N==="select"||N==="input"&&C.type==="file")var ae=PPe;else if(Qfe(C))if(Yfe)ae=UPe;else{ae=jPe;var I=BPe}else(N=C.nodeName)&&N.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(ae=qPe);if(ae&&(ae=ae(n,d))){Gfe(b,ae,t,p);break e}I&&I(n,C,d),n==="focusout"&&(I=C._wrapperState)&&I.controlled&&C.type==="number"&&uG(C,"number",C.value)}switch(I=d?IE(d):window,n){case"focusin":(Qfe(I)||I.contentEditable==="true")&&(NE=I,UG=d,rA=null);break;case"focusout":rA=UG=NE=null;break;case"mousedown":$G=!0;break;case"contextmenu":case"mouseup":case"dragend":$G=!1,n0e(b,t,p);break;case"selectionchange":if(HPe)break;case"keydown":case"keyup":n0e(b,t,p)}var Z;if(BG)e:{switch(n){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else OE?Vfe(n,t)&&(me="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(me="onCompositionStart");me&&($fe&&t.locale!=="ko"&&(OE||me!=="onCompositionStart"?me==="onCompositionEnd"&&OE&&(Z=Pfe()):(u3=p,RG="value"in u3?u3.value:u3.textContent,OE=!0)),I=YL(d,me),0<I.length&&(me=new qfe(me,n,null,t,p),b.push({event:me,listeners:I}),Z?me.data=Z:(Z=Wfe(t),Z!==null&&(me.data=Z)))),(Z=RPe?LPe(n,t):kPe(n,t))&&(d=YL(d,"onBeforeInput"),0<d.length&&(p=new qfe("onBeforeInput","beforeinput",null,t,p),b.push({event:p,listeners:d}),p.data=Z))}s0e(b,e)})}function sA(n,e,t){return{instance:n,listener:e,currentTarget:t}}function YL(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zw(n,t),s!=null&&r.unshift(sA(n,s,i)),s=zw(n,e),s!=null&&r.push(sA(n,s,i))),n=n.return}return r}function RE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function f0e(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,i?(c=zw(t,s),c!=null&&o.unshift(sA(t,c,a))):i||(c=zw(t,s),c!=null&&o.push(sA(t,c,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}function KL(){}var HG=null,VG=null;function d0e(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function WG(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h0e=typeof setTimeout=="function"?setTimeout:void 0,VPe=typeof clearTimeout=="function"?clearTimeout:void 0;function QG(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function LE(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function p0e(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var GG=0;function WPe(n){return{$$typeof:tG,toString:n,valueOf:n}}var JL=Math.random().toString(36).slice(2),l3="__reactFiber$"+JL,XL="__reactProps$"+JL,kE="__reactContainer$"+JL,m0e="__reactEvents$"+JL;function Yv(n){var e=n[l3];if(e)return e;for(var t=n.parentNode;t;){if(e=t[kE]||t[l3]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=p0e(n);n!==null;){if(t=n[l3])return t;n=p0e(n)}return e}n=t,t=n.parentNode}return null}function oA(n){return n=n[l3]||n[kE],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function IE(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(oi(33))}function ZL(n){return n[XL]||null}function x0e(n){var e=n[m0e];return e===void 0&&(e=n[m0e]=new Set),e}var YG=[],ME=-1;function c3(n){return{current:n}}function xu(n){0>ME||(n.current=YG[ME],YG[ME]=null,ME--)}function Cl(n,e){ME++,YG[ME]=n.current,n.current=e}var f3={},x0=c3(f3),Gd=c3(!1),Kv=f3;function PE(n,e){var t=n.type.contextTypes;if(!t)return f3;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Yd(n){return n=n.childContextTypes,n!=null}function ek(){xu(Gd),xu(x0)}function g0e(n,e,t){if(x0.current!==f3)throw Error(oi(168));Cl(x0,e),Cl(Gd,t)}function y0e(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(oi(108,bE(e)||"Unknown",i));return Mu({},t,r)}function tk(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||f3,Kv=x0.current,Cl(x0,n),Cl(Gd,Gd.current),!0}function v0e(n,e,t){var r=n.stateNode;if(!r)throw Error(oi(169));t?(n=y0e(n,e,Kv),r.__reactInternalMemoizedMergedChildContext=n,xu(Gd),xu(x0),Cl(x0,n)):xu(Gd),Cl(Gd,t)}var KG=null,Jv=null,QPe=uf.unstable_runWithPriority,JG=uf.unstable_scheduleCallback,XG=uf.unstable_cancelCallback,GPe=uf.unstable_shouldYield,_0e=uf.unstable_requestPaint,ZG=uf.unstable_now,YPe=uf.unstable_getCurrentPriorityLevel,nk=uf.unstable_ImmediatePriority,b0e=uf.unstable_UserBlockingPriority,E0e=uf.unstable_NormalPriority,S0e=uf.unstable_LowPriority,C0e=uf.unstable_IdlePriority,eY={},KPe=_0e!==void 0?_0e:function(){},Jx=null,rk=null,tY=!1,w0e=ZG(),g0=1e4>w0e?ZG:function(){return ZG()-w0e};function BE(){switch(YPe()){case nk:return 99;case b0e:return 98;case E0e:return 97;case S0e:return 96;case C0e:return 95;default:throw Error(oi(332))}}function A0e(n){switch(n){case 99:return nk;case 98:return b0e;case 97:return E0e;case 96:return S0e;case 95:return C0e;default:throw Error(oi(332))}}function Xv(n,e){return n=A0e(n),QPe(n,e)}function aA(n,e,t){return n=A0e(n),JG(n,e,t)}function X2(){if(rk!==null){var n=rk;rk=null,XG(n)}T0e()}function T0e(){if(!tY&&Jx!==null){tY=!0;var n=0;try{var e=Jx;Xv(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),Jx=null}catch(t){throw Jx!==null&&(Jx=Jx.slice(n+1)),JG(nk,X2),t}finally{tY=!1}}}var JPe=Vv.ReactCurrentBatchConfig;function Q1(n,e){if(n&&n.defaultProps){e=Mu({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var ik=c3(null),sk=null,jE=null,ok=null;function nY(){ok=jE=sk=null}function rY(n){var e=ik.current;xu(ik),n.type._context._currentValue=e}function F0e(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function qE(n,e){sk=n,ok=jE=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(G1=!0),n.firstContext=null)}function _p(n,e){if(ok!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(ok=n,e=1073741823),e={context:n,observedBits:e,next:null},jE===null){if(sk===null)throw Error(oi(308));jE=e,sk.dependencies={lanes:0,firstContext:e,responders:null}}else jE=jE.next=e;return n._currentValue}var d3=!1;function iY(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function D0e(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function h3(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function p3(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function O0e(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function uA(n,e,t,r){var i=n.updateQueue;d3=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var p=n.alternate;if(p!==null){p=p.updateQueue;var b=p.lastBaseUpdate;b!==o&&(b===null?p.firstBaseUpdate=d:b.next=d,p.lastBaseUpdate=c)}}if(s!==null){b=i.baseState,o=0,p=d=c=null;do{a=s.lane;var C=s.eventTime;if((r&a)===a){p!==null&&(p=p.next={eventTime:C,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var N=n,R=s;switch(a=e,C=t,R.tag){case 1:if(N=R.payload,typeof N=="function"){b=N.call(C,b,a);break e}b=N;break e;case 3:N.flags=N.flags&-4097|64;case 0:if(N=R.payload,a=typeof N=="function"?N.call(C,b,a):N,a==null)break e;b=Mu({},b,a);break e;case 2:d3=!0}}s.callback!==null&&(n.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else C={eventTime:C,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(d=p=C,c=b):p=p.next=C,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);p===null&&(c=b),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,_A|=o,n.lanes=o,n.memoizedState=b}}function N0e(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(oi(191,i));i.call(r)}}}var R0e=new wL.Component().refs;function ak(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Mu({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var uk={isMounted:function(n){return(n=n._reactInternals)?Gv(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=kh(),i=g3(n),s=h3(r,i);s.payload=e,t!=null&&(s.callback=t),p3(n,s),y3(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=kh(),i=g3(n),s=h3(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),p3(n,s),y3(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=kh(),r=g3(n),i=h3(t,r);i.tag=2,e!=null&&(i.callback=e),p3(n,i),y3(n,r,t)}};function L0e(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!nA(t,r)||!nA(i,s):!0}function k0e(n,e,t){var r=!1,i=f3,s=e.contextType;return typeof s=="object"&&s!==null?s=_p(s):(i=Yd(e)?Kv:x0.current,r=e.contextTypes,s=(r=r!=null)?PE(n,i):f3),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uk,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function I0e(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&uk.enqueueReplaceState(e,e.state,null)}function sY(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=R0e,iY(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_p(s):(s=Yd(e)?Kv:x0.current,i.context=PE(n,s)),uA(n,t,i,r),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ak(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uk.enqueueReplaceState(i,i.state,null),uA(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var lk=Array.isArray;function lA(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(oi(309));var r=t.stateNode}if(!r)throw Error(oi(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===R0e&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof n!="string")throw Error(oi(284));if(!t._owner)throw Error(oi(290,n))}return n}function ck(n,e){if(n.type!=="textarea")throw Error(oi(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function M0e(n){function e(V,P){if(n){var $=V.lastEffect;$!==null?($.nextEffect=P,V.lastEffect=P):V.firstEffect=V.lastEffect=P,P.nextEffect=null,P.flags=8}}function t(V,P){if(!n)return null;for(;P!==null;)e(V,P),P=P.sibling;return null}function r(V,P){for(V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function i(V,P){return V=b3(V,P),V.index=0,V.sibling=null,V}function s(V,P,$){return V.index=$,n?($=V.alternate,$!==null?($=$.index,$<P?(V.flags=2,P):$):(V.flags=2,P)):P}function o(V){return n&&V.alternate===null&&(V.flags=2),V}function a(V,P,$,M){return P===null||P.tag!==6?(P=UY($,V.mode,M),P.return=V,P):(P=i(P,$),P.return=V,P)}function c(V,P,$,M){return P!==null&&P.elementType===$.type?(M=i(P,$.props),M.ref=lA(V,P,$),M.return=V,M):(M=Fk($.type,$.key,$.props,null,V.mode,M),M.ref=lA(V,P,$),M.return=V,M)}function d(V,P,$,M){return P===null||P.tag!==4||P.stateNode.containerInfo!==$.containerInfo||P.stateNode.implementation!==$.implementation?(P=$Y($,V.mode,M),P.return=V,P):(P=i(P,$.children||[]),P.return=V,P)}function p(V,P,$,M,G){return P===null||P.tag!==7?(P=GE($,V.mode,M,G),P.return=V,P):(P=i(P,$),P.return=V,P)}function b(V,P,$){if(typeof P=="string"||typeof P=="number")return P=UY(""+P,V.mode,$),P.return=V,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Mw:return $=Fk(P.type,P.key,P.props,null,V.mode,$),$.ref=lA(V,null,P),$.return=V,$;case Wv:return P=$Y(P,V.mode,$),P.return=V,P}if(lk(P)||jw(P))return P=GE(P,V.mode,$,null),P.return=V,P;ck(V,P)}return null}function C(V,P,$,M){var G=P!==null?P.key:null;if(typeof $=="string"||typeof $=="number")return G!==null?null:a(V,P,""+$,M);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Mw:return $.key===G?$.type===n3?p(V,P,$.props.children,M,G):c(V,P,$,M):null;case Wv:return $.key===G?d(V,P,$,M):null}if(lk($)||jw($))return G!==null?null:p(V,P,$,M,null);ck(V,$)}return null}function N(V,P,$,M,G){if(typeof M=="string"||typeof M=="number")return V=V.get($)||null,a(P,V,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Mw:return V=V.get(M.key===null?$:M.key)||null,M.type===n3?p(P,V,M.props.children,G,M.key):c(P,V,M,G);case Wv:return V=V.get(M.key===null?$:M.key)||null,d(P,V,M,G)}if(lk(M)||jw(M))return V=V.get($)||null,p(P,V,M,G,null);ck(P,M)}return null}function R(V,P,$,M){for(var G=null,ae=null,I=P,Z=P=0,me=null;I!==null&&Z<$.length;Z++){I.index>Z?(me=I,I=null):me=I.sibling;var ye=C(V,I,$[Z],M);if(ye===null){I===null&&(I=me);break}n&&I&&ye.alternate===null&&e(V,I),P=s(ye,P,Z),ae===null?G=ye:ae.sibling=ye,ae=ye,I=me}if(Z===$.length)return t(V,I),G;if(I===null){for(;Z<$.length;Z++)I=b(V,$[Z],M),I!==null&&(P=s(I,P,Z),ae===null?G=I:ae.sibling=I,ae=I);return G}for(I=r(V,I);Z<$.length;Z++)me=N(I,V,Z,$[Z],M),me!==null&&(n&&me.alternate!==null&&I.delete(me.key===null?Z:me.key),P=s(me,P,Z),ae===null?G=me:ae.sibling=me,ae=me);return n&&I.forEach(function(He){return e(V,He)}),G}function U(V,P,$,M){var G=jw($);if(typeof G!="function")throw Error(oi(150));if($=G.call($),$==null)throw Error(oi(151));for(var ae=G=null,I=P,Z=P=0,me=null,ye=$.next();I!==null&&!ye.done;Z++,ye=$.next()){I.index>Z?(me=I,I=null):me=I.sibling;var He=C(V,I,ye.value,M);if(He===null){I===null&&(I=me);break}n&&I&&He.alternate===null&&e(V,I),P=s(He,P,Z),ae===null?G=He:ae.sibling=He,ae=He,I=me}if(ye.done)return t(V,I),G;if(I===null){for(;!ye.done;Z++,ye=$.next())ye=b(V,ye.value,M),ye!==null&&(P=s(ye,P,Z),ae===null?G=ye:ae.sibling=ye,ae=ye);return G}for(I=r(V,I);!ye.done;Z++,ye=$.next())ye=N(I,V,Z,ye.value,M),ye!==null&&(n&&ye.alternate!==null&&I.delete(ye.key===null?Z:ye.key),P=s(ye,P,Z),ae===null?G=ye:ae.sibling=ye,ae=ye);return n&&I.forEach(function(ot){return e(V,ot)}),G}return function(V,P,$,M){var G=typeof $=="object"&&$!==null&&$.type===n3&&$.key===null;G&&($=$.props.children);var ae=typeof $=="object"&&$!==null;if(ae)switch($.$$typeof){case Mw:e:{for(ae=$.key,G=P;G!==null;){if(G.key===ae){switch(G.tag){case 7:if($.type===n3){t(V,G.sibling),P=i(G,$.props.children),P.return=V,V=P;break e}break;default:if(G.elementType===$.type){t(V,G.sibling),P=i(G,$.props),P.ref=lA(V,G,$),P.return=V,V=P;break e}}t(V,G);break}else e(V,G);G=G.sibling}$.type===n3?(P=GE($.props.children,V.mode,M,$.key),P.return=V,V=P):(M=Fk($.type,$.key,$.props,null,V.mode,M),M.ref=lA(V,P,$),M.return=V,V=M)}return o(V);case Wv:e:{for(G=$.key;P!==null;){if(P.key===G)if(P.tag===4&&P.stateNode.containerInfo===$.containerInfo&&P.stateNode.implementation===$.implementation){t(V,P.sibling),P=i(P,$.children||[]),P.return=V,V=P;break e}else{t(V,P);break}else e(V,P);P=P.sibling}P=$Y($,V.mode,M),P.return=V,V=P}return o(V)}if(typeof $=="string"||typeof $=="number")return $=""+$,P!==null&&P.tag===6?(t(V,P.sibling),P=i(P,$),P.return=V,V=P):(t(V,P),P=UY($,V.mode,M),P.return=V,V=P),o(V);if(lk($))return R(V,P,$,M);if(jw($))return U(V,P,$,M);if(ae&&ck(V,$),typeof $=="undefined"&&!G)switch(V.tag){case 1:case 22:case 0:case 11:case 15:throw Error(oi(152,bE(V.type)||"Component"))}return t(V,P)}}var fk=M0e(!0),P0e=M0e(!1),cA={},Z2=c3(cA),fA=c3(cA),dA=c3(cA);function Zv(n){if(n===cA)throw Error(oi(174));return n}function oY(n,e){switch(Cl(dA,e),Cl(fA,n),Cl(Z2,cA),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dG(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=dG(e,n)}xu(Z2),Cl(Z2,e)}function UE(){xu(Z2),xu(fA),xu(dA)}function B0e(n){Zv(dA.current);var e=Zv(Z2.current),t=dG(e,n.type);e!==t&&(Cl(fA,n),Cl(Z2,t))}function aY(n){fA.current===n&&(xu(Z2),xu(fA))}var wl=c3(0);function dk(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xx=null,m3=null,em=!1;function j0e(n,e){var t=Sp(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function q0e(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function uY(n){if(em){var e=m3;if(e){var t=e;if(!q0e(n,e)){if(e=LE(t.nextSibling),!e||!q0e(n,e)){n.flags=n.flags&-1025|2,em=!1,Xx=n;return}j0e(Xx,t)}Xx=n,m3=LE(e.firstChild)}else n.flags=n.flags&-1025|2,em=!1,Xx=n}}function U0e(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xx=n}function hk(n){if(n!==Xx)return!1;if(!em)return U0e(n),em=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!WG(e,n.memoizedProps))for(e=m3;e;)j0e(n,e),e=LE(e.nextSibling);if(U0e(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(oi(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){m3=LE(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}m3=null}}else m3=Xx?LE(n.stateNode.nextSibling):null;return!0}function lY(){m3=Xx=null,em=!1}var $E=[];function cY(){for(var n=0;n<$E.length;n++)$E[n]._workInProgressVersionPrimary=null;$E.length=0}var hA=Vv.ReactCurrentDispatcher,bp=Vv.ReactCurrentBatchConfig,pA=0,$l=null,y0=null,Mf=null,pk=!1,mA=!1;function Kd(){throw Error(oi(321))}function fY(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!vp(n[t],e[t]))return!1;return!0}function dY(n,e,t,r,i,s){if(pA=s,$l=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hA.current=n===null||n.memoizedState===null?ZPe:eBe,n=t(r,i),mA){s=0;do{if(mA=!1,!(25>s))throw Error(oi(301));s+=1,Mf=y0=null,e.updateQueue=null,hA.current=tBe,n=t(r,i)}while(mA)}if(hA.current=yk,e=y0!==null&&y0.next!==null,pA=0,Mf=y0=$l=null,pk=!1,e)throw Error(oi(300));return n}function e_(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mf===null?$l.memoizedState=Mf=n:Mf=Mf.next=n,Mf}function t_(){if(y0===null){var n=$l.alternate;n=n!==null?n.memoizedState:null}else n=y0.next;var e=Mf===null?$l.memoizedState:Mf.next;if(e!==null)Mf=e,y0=n;else{if(n===null)throw Error(oi(310));y0=n,n={memoizedState:y0.memoizedState,baseState:y0.baseState,baseQueue:y0.baseQueue,queue:y0.queue,next:null},Mf===null?$l.memoizedState=Mf=n:Mf=Mf.next=n}return Mf}function tm(n,e){return typeof e=="function"?e(n):e}function xA(n){var e=t_(),t=e.queue;if(t===null)throw Error(oi(311));t.lastRenderedReducer=n;var r=y0,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,c=i;do{var d=c.lane;if((pA&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===n?c.eagerState:n(r,c.action);else{var p={lane:d,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};a===null?(o=a=p,s=r):a=a.next=p,$l.lanes|=d,_A|=d}c=c.next}while(c!==null&&c!==i);a===null?s=r:a.next=o,vp(r,e.memoizedState)||(G1=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function gA(n){var e=t_(),t=e.queue;if(t===null)throw Error(oi(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);vp(s,e.memoizedState)||(G1=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function $0e(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(pA&n)===n)&&(e._workInProgressVersionPrimary=r,$E.push(e))),n)return t(e._source);throw $E.push(e),Error(oi(350))}function z0e(n,e,t,r){var i=id;if(i===null)throw Error(oi(349));var s=e._getVersion,o=s(e._source),a=hA.current,c=a.useState(function(){return $0e(i,e,t)}),d=c[1],p=c[0];c=Mf;var b=n.memoizedState,C=b.refs,N=C.getSnapshot,R=b.source;b=b.subscribe;var U=$l;return n.memoizedState={refs:C,source:e,subscribe:r},a.useEffect(function(){C.getSnapshot=t,C.setSnapshot=d;var V=s(e._source);if(!vp(o,V)){V=t(e._source),vp(p,V)||(d(V),V=g3(U),i.mutableReadLanes|=V&i.pendingLanes),V=i.mutableReadLanes,i.entangledLanes|=V;for(var P=i.entanglements,$=V;0<$;){var M=31-a3($),G=1<<M;P[M]|=V,$&=~G}}},[t,e,r]),a.useEffect(function(){return r(e._source,function(){var V=C.getSnapshot,P=C.setSnapshot;try{P(V(e._source));var $=g3(U);i.mutableReadLanes|=$&i.pendingLanes}catch(M){P(function(){throw M})}})},[e,r]),vp(N,t)&&vp(R,e)&&vp(b,r)||(n={pending:null,dispatch:null,lastRenderedReducer:tm,lastRenderedState:p},n.dispatch=d=xY.bind(null,$l,n),c.queue=n,c.baseQueue=null,p=$0e(i,e,t),c.memoizedState=c.baseState=p),p}function H0e(n,e,t){var r=t_();return z0e(r,n,e,t)}function yA(n){var e=e_();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:tm,lastRenderedState:n},n=n.dispatch=xY.bind(null,$l,n),[e.memoizedState,n]}function mk(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=$l.updateQueue,e===null?(e={lastEffect:null},$l.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function V0e(n){var e=e_();return n={current:n},e.memoizedState=n}function xk(){return t_().memoizedState}function hY(n,e,t,r){var i=e_();$l.flags|=n,i.memoizedState=mk(1|e,t,void 0,r===void 0?null:r)}function pY(n,e,t,r){var i=t_();r=r===void 0?null:r;var s=void 0;if(y0!==null){var o=y0.memoizedState;if(s=o.destroy,r!==null&&fY(r,o.deps)){mk(e,t,s,r);return}}$l.flags|=n,i.memoizedState=mk(1|e,t,s,r)}function W0e(n,e){return hY(516,4,n,e)}function gk(n,e){return pY(516,4,n,e)}function Q0e(n,e){return pY(4,2,n,e)}function G0e(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Y0e(n,e,t){return t=t!=null?t.concat([n]):null,pY(4,2,G0e.bind(null,e,n),t)}function mY(){}function K0e(n,e){var t=t_();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fY(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function J0e(n,e){var t=t_();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fY(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function XPe(n,e){var t=BE();Xv(98>t?98:t,function(){n(!0)}),Xv(97<t?97:t,function(){var r=bp.transition;bp.transition=1;try{n(!1),e()}finally{bp.transition=r}})}function xY(n,e,t){var r=kh(),i=g3(n),s={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=n.alternate,n===$l||o!==null&&o===$l)mA=pk=!0;else{if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,t);if(s.eagerReducer=o,s.eagerState=c,vp(c,a))return}catch{}finally{}y3(n,i,r)}}var yk={readContext:_p,useCallback:Kd,useContext:Kd,useEffect:Kd,useImperativeHandle:Kd,useLayoutEffect:Kd,useMemo:Kd,useReducer:Kd,useRef:Kd,useState:Kd,useDebugValue:Kd,useDeferredValue:Kd,useTransition:Kd,useMutableSource:Kd,useOpaqueIdentifier:Kd,unstable_isNewReconciler:!1},ZPe={readContext:_p,useCallback:function(n,e){return e_().memoizedState=[n,e===void 0?null:e],n},useContext:_p,useEffect:W0e,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,hY(4,2,G0e.bind(null,e,n),t)},useLayoutEffect:function(n,e){return hY(4,2,n,e)},useMemo:function(n,e){var t=e_();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=e_();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=xY.bind(null,$l,n),[r.memoizedState,n]},useRef:V0e,useState:yA,useDebugValue:mY,useDeferredValue:function(n){var e=yA(n),t=e[0],r=e[1];return W0e(function(){var i=bp.transition;bp.transition=1;try{r(n)}finally{bp.transition=i}},[n]),t},useTransition:function(){var n=yA(!1),e=n[0];return n=XPe.bind(null,n[1]),V0e(n),[n,e]},useMutableSource:function(n,e,t){var r=e_();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},z0e(r,n,e,t)},useOpaqueIdentifier:function(){if(em){var n=!1,e=WPe(function(){throw n||(n=!0,t("r:"+(GG++).toString(36))),Error(oi(355))}),t=yA(e)[1];return($l.mode&2)===0&&($l.flags|=516,mk(5,function(){t("r:"+(GG++).toString(36))},void 0,null)),e}return e="r:"+(GG++).toString(36),yA(e),e},unstable_isNewReconciler:!1},eBe={readContext:_p,useCallback:K0e,useContext:_p,useEffect:gk,useImperativeHandle:Y0e,useLayoutEffect:Q0e,useMemo:J0e,useReducer:xA,useRef:xk,useState:function(){return xA(tm)},useDebugValue:mY,useDeferredValue:function(n){var e=xA(tm),t=e[0],r=e[1];return gk(function(){var i=bp.transition;bp.transition=1;try{r(n)}finally{bp.transition=i}},[n]),t},useTransition:function(){var n=xA(tm)[0];return[xk().current,n]},useMutableSource:H0e,useOpaqueIdentifier:function(){return xA(tm)[0]},unstable_isNewReconciler:!1},tBe={readContext:_p,useCallback:K0e,useContext:_p,useEffect:gk,useImperativeHandle:Y0e,useLayoutEffect:Q0e,useMemo:J0e,useReducer:gA,useRef:xk,useState:function(){return gA(tm)},useDebugValue:mY,useDeferredValue:function(n){var e=gA(tm),t=e[0],r=e[1];return gk(function(){var i=bp.transition;bp.transition=1;try{r(n)}finally{bp.transition=i}},[n]),t},useTransition:function(){var n=gA(tm)[0];return[xk().current,n]},useMutableSource:H0e,useOpaqueIdentifier:function(){return gA(tm)[0]},unstable_isNewReconciler:!1},nBe=Vv.ReactCurrentOwner,G1=!1;function Jd(n,e,t,r){e.child=n===null?P0e(e,null,t,r):fk(e,n.child,t,r)}function X0e(n,e,t,r,i){t=t.render;var s=e.ref;return qE(e,i),r=dY(n,e,t,r,s,i),n!==null&&!G1?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Zx(n,e,i)):(e.flags|=1,Jd(n,e,r,i),e.child)}function Z0e(n,e,t,r,i,s){if(n===null){var o=t.type;return typeof o=="function"&&!jY(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,ede(n,e,o,r,i,s)):(n=Fk(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}return o=n.child,(i&s)===0&&(i=o.memoizedProps,t=t.compare,t=t!==null?t:nA,t(i,r)&&n.ref===e.ref)?Zx(n,e,s):(e.flags|=1,n=b3(o,r),n.ref=e.ref,n.return=e,e.child=n)}function ede(n,e,t,r,i,s){if(n!==null&&nA(n.memoizedProps,r)&&n.ref===e.ref)if(G1=!1,(s&i)!==0)(n.flags&16384)!==0&&(G1=!0);else return e.lanes=n.lanes,Zx(n,e,s);return yY(n,e,t,r,s)}function gY(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Tk(e,t);else if((t&1073741824)!==0)e.memoizedState={baseLanes:0},Tk(e,s!==null?s.baseLanes:t);else return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},Tk(e,n),null;else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Tk(e,r);return Jd(n,e,i,t),e.child}function tde(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function yY(n,e,t,r,i){var s=Yd(t)?Kv:x0.current;return s=PE(e,s),qE(e,i),t=dY(n,e,t,r,s,i),n!==null&&!G1?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Zx(n,e,i)):(e.flags|=1,Jd(n,e,t,i),e.child)}function nde(n,e,t,r,i){if(Yd(t)){var s=!0;tk(e)}else s=!1;if(qE(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),k0e(e,t,r),sY(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=t.contextType;typeof d=="object"&&d!==null?d=_p(d):(d=Yd(t)?Kv:x0.current,d=PE(e,d));var p=t.getDerivedStateFromProps,b=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";b||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&I0e(e,o,r,d),d3=!1;var C=e.memoizedState;o.state=C,uA(e,r,o,i),c=e.memoizedState,a!==r||C!==c||Gd.current||d3?(typeof p=="function"&&(ak(e,t,p,r),c=e.memoizedState),(a=d3||L0e(e,t,a,r,C,c,d))?(b||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,D0e(n,e),a=e.memoizedProps,d=e.type===e.elementType?a:Q1(e.type,a),o.props=d,b=e.pendingProps,C=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=_p(c):(c=Yd(t)?Kv:x0.current,c=PE(e,c));var N=t.getDerivedStateFromProps;(p=typeof N=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==b||C!==c)&&I0e(e,o,r,c),d3=!1,C=e.memoizedState,o.state=C,uA(e,r,o,i);var R=e.memoizedState;a!==b||C!==R||Gd.current||d3?(typeof N=="function"&&(ak(e,t,N,r),R=e.memoizedState),(d=d3||L0e(e,t,d,r,C,R,c))?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&C===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&C===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&C===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&C===n.memoizedState||(e.flags|=256),r=!1)}return vY(n,e,t,r,s,i)}function vY(n,e,t,r,i,s){tde(n,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&v0e(e,t,!1),Zx(n,e,s);r=e.stateNode,nBe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=fk(e,n.child,null,s),e.child=fk(e,null,a,s)):Jd(n,e,a,s),e.memoizedState=r.state,i&&v0e(e,t,!0),e.child}function rde(n){var e=n.stateNode;e.pendingContext?g0e(n,e.pendingContext,e.pendingContext!==e.context):e.context&&g0e(n,e.context,!1),oY(n,e.containerInfo)}var vk={dehydrated:null,retryLane:0};function ide(n,e,t){var r=e.pendingProps,i=wl.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Cl(wl,i&1),n===null?(r.fallback!==void 0&&uY(e),n=r.children,i=r.fallback,s?(n=sde(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=vk,n):typeof r.unstable_expectedLoadTime=="number"?(n=sde(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=vk,e.lanes=33554432,n):(t=qY({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?s?(r=ade(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=vk,r):(t=ode(n,e,r.children,t),e.memoizedState=null,t):s?(r=ade(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=vk,r):(t=ode(n,e,r.children,t),e.memoizedState=null,t)}function sde(n,e,t,r){var i=n.mode,s=n.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=qY(e,i,0,null),t=GE(t,i,r,null),s.return=n,t.return=n,s.sibling=t,n.child=s,t}function ode(n,e,t,r){var i=n.child;return n=i.sibling,t=b3(i,{mode:"visible",children:t}),(e.mode&2)===0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function ade(n,e,t,r,i){var s=e.mode,o=n.child;n=o.sibling;var a={mode:"hidden",children:t};return(s&2)===0&&e.child!==o?(t=e.child,t.childLanes=0,t.pendingProps=a,o=t.lastEffect,o!==null?(e.firstEffect=t.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):t=b3(o,a),n!==null?r=b3(n,r):(r=GE(r,s,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function ude(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),F0e(n.return,e)}function _Y(n,e,t,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i,o.lastEffect=s)}function lde(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jd(n,e,r.children,t),r=wl.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ude(n,t);else if(n.tag===19)ude(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Cl(wl,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&dk(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),_Y(e,!1,i,t,s,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&dk(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}_Y(e,!0,t,null,s,e.lastEffect);break;case"together":_Y(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Zx(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),_A|=e.lanes,(t&e.childLanes)!==0){if(n!==null&&e.child!==n.child)throw Error(oi(153));if(e.child!==null){for(n=e.child,t=b3(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=b3(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var cde,bY,fde,dde;cde=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};bY=function(){};fde=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Zv(Z2.current);var s=null;switch(t){case"input":i=oG(n,i),r=oG(n,r),s=[];break;case"option":i=lG(n,i),r=lG(n,r),s=[];break;case"select":i=Mu({},i,{value:void 0}),r=Mu({},r,{value:void 0}),s=[];break;case"textarea":i=cG(n,i),r=cG(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=KL)}hG(t,r);var o;t=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Iw.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(s||(s=[]),s.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Iw.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&mu("scroll",n),s||a===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===tG?c.toString():(s=s||[]).push(d,c))}t&&(s=s||[]).push("style",t);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};dde=function(n,e,t,r){t!==r&&(e.flags|=4)};function vA(n,e){if(!em)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function rBe(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Yd(e.type)&&ek(),null;case 3:return UE(),xu(Gd),xu(x0),cY(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(hk(e)?e.flags|=4:r.hydrate||(e.flags|=256)),bY(e),null;case 5:aY(e);var i=Zv(dA.current);if(t=e.type,n!==null&&e.stateNode!=null)fde(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(oi(166));return null}if(n=Zv(Z2.current),hk(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[l3]=e,r[XL]=s,t){case"dialog":mu("cancel",r),mu("close",r);break;case"iframe":case"object":case"embed":mu("load",r);break;case"video":case"audio":for(n=0;n<iA.length;n++)mu(iA[n],r);break;case"source":mu("error",r);break;case"img":case"image":case"link":mu("error",r),mu("load",r);break;case"details":mu("toggle",r);break;case"input":ife(r,s),mu("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},mu("invalid",r);break;case"textarea":afe(r,s),mu("invalid",r)}hG(t,s),n=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):Iw.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&mu("scroll",r));switch(t){case"input":OL(r),ofe(r,s,!0);break;case"textarea":OL(r),lfe(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=KL)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,n===fG.html&&(n=cfe(t)),n===fG.html?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[l3]=e,n[XL]=r,cde(n,e,!1,!1),e.stateNode=n,o=pG(t,r),t){case"dialog":mu("cancel",n),mu("close",n),i=r;break;case"iframe":case"object":case"embed":mu("load",n),i=r;break;case"video":case"audio":for(i=0;i<iA.length;i++)mu(iA[i],n);i=r;break;case"source":mu("error",n),i=r;break;case"img":case"image":case"link":mu("error",n),mu("load",n),i=r;break;case"details":mu("toggle",n),i=r;break;case"input":ife(n,r),i=oG(n,r),mu("invalid",n);break;case"option":i=lG(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Mu({},r,{value:void 0}),mu("invalid",n);break;case"textarea":afe(n,r),i=cG(n,r),mu("invalid",n);break;default:i=r}hG(t,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?hfe(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ffe(n,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Uw(n,c):typeof c=="number"&&Uw(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Iw.hasOwnProperty(s)?c!=null&&s==="onScroll"&&mu("scroll",n):c!=null&&YQ(n,s,c,o))}switch(t){case"input":OL(n),ofe(n,r,!1);break;case"textarea":OL(n),lfe(n);break;case"option":r.value!=null&&n.setAttribute("value",""+r3(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?EE(n,!!r.multiple,s,!1):r.defaultValue!=null&&EE(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=KL)}d0e(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)dde(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oi(166));t=Zv(dA.current),Zv(Z2.current),hk(e)?(r=e.stateNode,t=e.memoizedProps,r[l3]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[l3]=e,e.stateNode=r)}return null;case 13:return xu(wl),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&hk(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!==0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(wl.current&1)!==0?Pf===0&&(Pf=3):((Pf===0||Pf===3)&&(Pf=4),id===null||(_A&134217727)===0&&(HE&134217727)===0||WE(id,v0))),(r||t)&&(e.flags|=4),null);case 4:return UE(),bY(e),n===null&&a0e(e.stateNode.containerInfo),null;case 10:return rY(e),null;case 17:return Yd(e.type)&&ek(),null;case 19:if(xu(wl),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)vA(r,!1);else{if(Pf!==0||n!==null&&(n.flags&64)!==0)for(n=e.child;n!==null;){if(o=dk(n),o!==null){for(e.flags|=64,vA(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Cl(wl,wl.current&1|2),e.child}n=n.sibling}r.tail!==null&&g0()>RY&&(e.flags|=64,s=!0,vA(r,!1),e.lanes=33554432)}else{if(!s)if(n=dk(o),n!==null){if(e.flags|=64,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),vA(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!em)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*g0()-r.renderingStartTime>RY&&t!==1073741824&&(e.flags|=64,s=!0,vA(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=g0(),t.sibling=null,e=wl.current,Cl(wl,s?e&1|2:e&1),t):null;case 23:case 24:return BY(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(oi(156,e.tag))}function iBe(n){switch(n.tag){case 1:Yd(n.type)&&ek();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(UE(),xu(Gd),xu(x0),cY(),e=n.flags,(e&64)!==0)throw Error(oi(285));return n.flags=e&-4097|64,n;case 5:return aY(n),null;case 13:return xu(wl),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return xu(wl),null;case 4:return UE(),null;case 10:return rY(n),null;case 23:case 24:return BY(),null;default:return null}}function EY(n,e){try{var t="",r=e;do t+=BMe(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i}}function SY(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var sBe=typeof WeakMap=="function"?WeakMap:Map;function hde(n,e,t){t=h3(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Ek||(Ek=!0,LY=r),SY(n,e)},t}function pde(n,e,t){t=h3(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return SY(n,e),r(i)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(nm===null?nm=new Set([this]):nm.add(this),SY(n,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}var oBe=typeof WeakSet=="function"?WeakSet:Set;function mde(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){_3(n,t)}else e.current=null}function aBe(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:Q1(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&QG(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(oi(163))}function uBe(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)===3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(Ode(t,n),xBe(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:Q1(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&N0e(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}N0e(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&d0e(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&Dfe(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(oi(163))}function xde(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=dfe("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function gde(n,e){if(Jv&&typeof Jv.onCommitFiberUnmount=="function")try{Jv.onCommitFiberUnmount(KG,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)Ode(e,t);else{r=e;try{i()}catch(s){_3(r,s)}}t=t.next}while(t!==n)}break;case 1:if(mde(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(s){_3(e,s)}break;case 5:mde(e);break;case 4:bde(n,e)}}function yde(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function vde(n){return n.tag===5||n.tag===3||n.tag===4}function _de(n){e:{for(var e=n.return;e!==null;){if(vde(e))break e;e=e.return}throw Error(oi(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(oi(161))}t.flags&16&&(Uw(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||vde(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?CY(n,t,e):wY(n,t,e)}function CY(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=KL));else if(r!==4&&(n=n.child,n!==null))for(CY(n,e,t),n=n.sibling;n!==null;)CY(n,e,t),n=n.sibling}function wY(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(wY(n,e,t),n=n.sibling;n!==null;)wY(n,e,t),n=n.sibling}function bde(n,e){for(var t=e,r=!1,i,s;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(oi(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var o=n,a=t,c=a;;)if(gde(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(o=i,a=t.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,s=!0,t.child.return=t,t=t.child;continue}}else if(gde(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function AY(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)===3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(t[XL]=r,n==="input"&&r.type==="radio"&&r.name!=null&&sfe(t,r),pG(n,i),e=pG(n,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?hfe(t,a):o==="dangerouslySetInnerHTML"?ffe(t,a):o==="children"?Uw(t,a):YQ(t,o,a,e)}switch(n){case"input":aG(t,r);break;case"textarea":ufe(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?EE(t,!!r.multiple,s,!1):n!==!!r.multiple&&(r.defaultValue!=null?EE(t,!!r.multiple,r.defaultValue,!0):EE(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(oi(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,Dfe(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(NY=g0(),xde(e.child,!0)),Ede(e);return;case 19:Ede(e);return;case 17:return;case 23:case 24:xde(e,e.memoizedState!==null);return}throw Error(oi(163))}function Ede(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new oBe),e.forEach(function(r){var i=vBe.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function lBe(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var cBe=Math.ceil,_k=Vv.ReactCurrentDispatcher,TY=Vv.ReactCurrentOwner,js=0,id=null,Mc=null,v0=0,n_=0,FY=c3(0),Pf=0,bk=null,zE=0,_A=0,HE=0,DY=0,OY=null,NY=0,RY=1/0;function VE(){RY=g0()+500}var Hi=null,Ek=!1,LY=null,nm=null,x3=!1,bA=null,EA=90,kY=[],IY=[],eg=null,SA=0,MY=null,Sk=-1,tg=0,Ck=0,CA=null,wk=!1;function kh(){return(js&48)!==0?g0():Sk!==-1?Sk:Sk=g0()}function g3(n){if(n=n.mode,(n&2)===0)return 1;if((n&4)===0)return BE()===99?1:2;if(tg===0&&(tg=zE),JPe.transition!==0){Ck!==0&&(Ck=OY!==null?OY.pendingLanes:0),n=tg;var e=4186112&~Ck;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=BE(),(js&4)!==0&&n===98?n=BL(12,tg):(n=ePe(n),n=BL(n,tg)),n}function y3(n,e,t){if(50<SA)throw SA=0,MY=null,Error(oi(185));if(n=Ak(n,e),n===null)return null;jL(n,e,t),n===id&&(HE|=e,Pf===4&&WE(n,v0));var r=BE();e===1?(js&8)!==0&&(js&48)===0?PY(n):(Ep(n,t),js===0&&(VE(),X2())):((js&4)===0||r!==98&&r!==99||(eg===null?eg=new Set([n]):eg.add(n)),Ep(n,t)),OY=n}function Ak(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Ep(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-a3(o),c=1<<a,d=s[a];if(d===-1){if((c&r)===0||(c&i)!==0){d=e,TE(c);var p=Za;s[a]=10<=p?d+250:6<=p?d+5e3:-1}}else d<=e&&(n.expiredLanes|=c);o&=~c}if(r=Kw(n,n===id?v0:0),e=Za,r===0)t!==null&&(t!==eY&&XG(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==eY&&XG(t)}e===15?(t=PY.bind(null,n),Jx===null?(Jx=[t],rk=JG(nk,T0e)):Jx.push(t),t=eY):e===14?t=aA(99,PY.bind(null,n)):(t=tPe(e),t=aA(t,Sde.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function Sde(n){if(Sk=-1,Ck=tg=0,(js&48)!==0)throw Error(oi(327));var e=n.callbackNode;if(v3()&&n.callbackNode!==e)return null;var t=Kw(n,n===id?v0:0);if(t===0)return null;var r=t,i=js;js|=16;var s=Tde();(id!==n||v0!==r)&&(VE(),QE(n,r));do try{hBe();break}catch(a){Ade(n,a)}while(1);if(nY(),_k.current=s,js=i,Mc!==null?r=0:(id=null,v0=0,r=Pf),(zE&HE)!==0)QE(n,0);else if(r!==0){if(r===2&&(js|=64,n.hydrate&&(n.hydrate=!1,QG(n.containerInfo)),t=Mfe(n),t!==0&&(r=wA(n,t))),r===1)throw e=bk,QE(n,0),WE(n,t),Ep(n,g0()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(oi(345));case 2:r_(n);break;case 3:if(WE(n,t),(t&62914560)===t&&(r=NY+500-g0(),10<r)){if(Kw(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){kh(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=h0e(r_.bind(null,n),r);break}r_(n);break;case 4:if(WE(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var o=31-a3(t);s=1<<o,o=r[o],o>i&&(i=o),t&=~s}if(t=i,t=g0()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*cBe(t/1960))-t,10<t){n.timeoutHandle=h0e(r_.bind(null,n),t);break}r_(n);break;case 5:r_(n);break;default:throw Error(oi(329))}}return Ep(n,g0()),n.callbackNode===e?Sde.bind(null,n):null}function WE(n,e){for(e&=~DY,e&=~HE,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-a3(e),r=1<<t;n[t]=-1,e&=~r}}function PY(n){if((js&48)!==0)throw Error(oi(327));if(v3(),n===id&&(n.expiredLanes&v0)!==0){var e=v0,t=wA(n,e);(zE&HE)!==0&&(e=Kw(n,e),t=wA(n,e))}else e=Kw(n,0),t=wA(n,e);if(n.tag!==0&&t===2&&(js|=64,n.hydrate&&(n.hydrate=!1,QG(n.containerInfo)),e=Mfe(n),e!==0&&(t=wA(n,e))),t===1)throw t=bk,QE(n,0),WE(n,e),Ep(n,g0()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,r_(n),Ep(n,g0()),null}function fBe(){if(eg!==null){var n=eg;eg=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Ep(e,g0())})}X2()}function Cde(n,e){var t=js;js|=1;try{return n(e)}finally{js=t,js===0&&(VE(),X2())}}function wde(n,e){var t=js;js&=-2,js|=8;try{return n(e)}finally{js=t,js===0&&(VE(),X2())}}function Tk(n,e){Cl(FY,n_),n_|=e,zE|=e}function BY(){n_=FY.current,xu(FY)}function QE(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,VPe(t)),Mc!==null)for(t=Mc.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&ek();break;case 3:UE(),xu(Gd),xu(x0),cY();break;case 5:aY(r);break;case 4:UE();break;case 13:xu(wl);break;case 19:xu(wl);break;case 10:rY(r);break;case 23:case 24:BY()}t=t.return}id=n,Mc=b3(n.current,null),v0=n_=zE=e,Pf=0,bk=null,DY=HE=_A=0}function Ade(n,e){do{var t=Mc;try{if(nY(),hA.current=yk,pk){for(var r=$l.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pk=!1}if(pA=0,Mf=y0=$l=null,mA=!1,TY.current=null,t===null||t.return===null){Pf=1,bk=e,Mc=null;break}e:{var s=n,o=t.return,a=t,c=e;if(e=v0,a.flags|=2048,a.firstEffect=a.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c;if((a.mode&2)===0){var p=a.alternate;p?(a.updateQueue=p.updateQueue,a.memoizedState=p.memoizedState,a.lanes=p.lanes):(a.updateQueue=null,a.memoizedState=null)}var b=(wl.current&1)!==0,C=o;do{var N;if(N=C.tag===13){var R=C.memoizedState;if(R!==null)N=R.dehydrated!==null;else{var U=C.memoizedProps;N=U.fallback===void 0?!1:U.unstable_avoidThisFallback!==!0?!0:!b}}if(N){var V=C.updateQueue;if(V===null){var P=new Set;P.add(d),C.updateQueue=P}else V.add(d);if((C.mode&2)===0){if(C.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var $=h3(-1,1);$.tag=2,p3(a,$)}a.lanes|=1;break e}c=void 0,a=e;var M=s.pingCache;if(M===null?(M=s.pingCache=new sBe,c=new Set,M.set(d,c)):(c=M.get(d),c===void 0&&(c=new Set,M.set(d,c))),!c.has(a)){c.add(a);var G=yBe.bind(null,s,d,a);d.then(G,G)}C.flags|=4096,C.lanes=e;break e}C=C.return}while(C!==null);c=Error((bE(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Pf!==5&&(Pf=2),c=EY(c,a),C=o;do{switch(C.tag){case 3:s=c,C.flags|=4096,e&=-e,C.lanes|=e;var ae=hde(C,s,e);O0e(C,ae);break e;case 1:s=c;var I=C.type,Z=C.stateNode;if((C.flags&64)===0&&(typeof I.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(nm===null||!nm.has(Z)))){C.flags|=4096,e&=-e,C.lanes|=e;var me=pde(C,s,e);O0e(C,me);break e}}C=C.return}while(C!==null)}Dde(t)}catch(ye){e=ye,Mc===t&&t!==null&&(Mc=t=t.return);continue}break}while(1)}function Tde(){var n=_k.current;return _k.current=yk,n===null?yk:n}function wA(n,e){var t=js;js|=16;var r=Tde();id===n&&v0===e||QE(n,e);do try{dBe();break}catch(i){Ade(n,i)}while(1);if(nY(),js=t,_k.current=r,Mc!==null)throw Error(oi(261));return id=null,v0=0,Pf}function dBe(){for(;Mc!==null;)Fde(Mc)}function hBe(){for(;Mc!==null&&!GPe();)Fde(Mc)}function Fde(n){var e=Rde(n.alternate,n,n_);n.memoizedProps=n.pendingProps,e===null?Dde(n):Mc=e,TY.current=null}function Dde(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)===0){if(t=rBe(t,e,n_),t!==null){Mc=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(n_&1073741824)!==0||(t.mode&4)===0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)===0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=iBe(e),t!==null){t.flags&=2047,Mc=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){Mc=e;return}Mc=e=n}while(e!==null);Pf===0&&(Pf=5)}function r_(n){var e=BE();return Xv(99,pBe.bind(null,n,e)),null}function pBe(n,e){do v3();while(bA!==null);if((js&48)!==0)throw Error(oi(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(oi(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,s=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var o=n.eventTimes,a=n.expirationTimes;0<s;){var c=31-a3(s),d=1<<c;i[c]=0,o[c]=-1,a[c]=-1,s&=~d}if(eg!==null&&(r&24)===0&&eg.has(n)&&eg.delete(n),n===id&&(Mc=id=null,v0=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=js,js|=32,TY.current=null,HG=qL,o=t0e(),qG(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(d=a.getSelection&&a.getSelection())&&d.rangeCount!==0){a=d.anchorNode,s=d.anchorOffset,c=d.focusNode,d=d.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var p=0,b=-1,C=-1,N=0,R=0,U=o,V=null;t:for(;;){for(var P;U!==a||s!==0&&U.nodeType!==3||(b=p+s),U!==c||d!==0&&U.nodeType!==3||(C=p+d),U.nodeType===3&&(p+=U.nodeValue.length),(P=U.firstChild)!==null;)V=U,U=P;for(;;){if(U===o)break t;if(V===a&&++N===s&&(b=p),V===c&&++R===d&&(C=p),(P=U.nextSibling)!==null)break;U=V,V=U.parentNode}U=P}a=b===-1||C===-1?null:{start:b,end:C}}else a=null;a=a||{start:0,end:0}}else a=null;VG={focusedElem:o,selectionRange:a},qL=!1,CA=null,wk=!1,Hi=r;do try{mBe()}catch(ye){if(Hi===null)throw Error(oi(330));_3(Hi,ye),Hi=Hi.nextEffect}while(Hi!==null);CA=null,Hi=r;do try{for(o=n;Hi!==null;){var $=Hi.flags;if($&16&&Uw(Hi.stateNode,""),$&128){var M=Hi.alternate;if(M!==null){var G=M.ref;G!==null&&(typeof G=="function"?G(null):G.current=null)}}switch($&1038){case 2:_de(Hi),Hi.flags&=-3;break;case 6:_de(Hi),Hi.flags&=-3,AY(Hi.alternate,Hi);break;case 1024:Hi.flags&=-1025;break;case 1028:Hi.flags&=-1025,AY(Hi.alternate,Hi);break;case 4:AY(Hi.alternate,Hi);break;case 8:a=Hi,bde(o,a);var ae=a.alternate;yde(a),ae!==null&&yde(ae)}Hi=Hi.nextEffect}}catch(ye){if(Hi===null)throw Error(oi(330));_3(Hi,ye),Hi=Hi.nextEffect}while(Hi!==null);if(G=VG,M=t0e(),$=G.focusedElem,o=G.selectionRange,M!==$&&$&&$.ownerDocument&&e0e($.ownerDocument.documentElement,$)){for(o!==null&&qG($)&&(M=o.start,G=o.end,G===void 0&&(G=M),"selectionStart"in $?($.selectionStart=M,$.selectionEnd=Math.min(G,$.value.length)):(G=(M=$.ownerDocument||document)&&M.defaultView||window,G.getSelection&&(G=G.getSelection(),a=$.textContent.length,ae=Math.min(o.start,a),o=o.end===void 0?ae:Math.min(o.end,a),!G.extend&&ae>o&&(a=o,o=ae,ae=a),a=Zfe($,ae),s=Zfe($,o),a&&s&&(G.rangeCount!==1||G.anchorNode!==a.node||G.anchorOffset!==a.offset||G.focusNode!==s.node||G.focusOffset!==s.offset)&&(M=M.createRange(),M.setStart(a.node,a.offset),G.removeAllRanges(),ae>o?(G.addRange(M),G.extend(s.node,s.offset)):(M.setEnd(s.node,s.offset),G.addRange(M)))))),M=[],G=$;G=G.parentNode;)G.nodeType===1&&M.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<M.length;$++)G=M[$],G.element.scrollLeft=G.left,G.element.scrollTop=G.top}qL=!!HG,VG=HG=null,n.current=t,Hi=r;do try{for($=n;Hi!==null;){var I=Hi.flags;if(I&36&&uBe($,Hi.alternate,Hi),I&128){M=void 0;var Z=Hi.ref;if(Z!==null){var me=Hi.stateNode;switch(Hi.tag){case 5:M=me;break;default:M=me}typeof Z=="function"?Z(M):Z.current=M}}Hi=Hi.nextEffect}}catch(ye){if(Hi===null)throw Error(oi(330));_3(Hi,ye),Hi=Hi.nextEffect}while(Hi!==null);Hi=null,KPe(),js=i}else n.current=t;if(x3)x3=!1,bA=n,EA=e;else for(Hi=r;Hi!==null;)e=Hi.nextEffect,Hi.nextEffect=null,Hi.flags&8&&(I=Hi,I.sibling=null,I.stateNode=null),Hi=e;if(r=n.pendingLanes,r===0&&(nm=null),r===1?n===MY?SA++:(SA=0,MY=n):SA=0,t=t.stateNode,Jv&&typeof Jv.onCommitFiberRoot=="function")try{Jv.onCommitFiberRoot(KG,t,void 0,(t.current.flags&64)===64)}catch{}if(Ep(n,g0()),Ek)throw Ek=!1,n=LY,LY=null,n;return(js&8)!==0||X2(),null}function mBe(){for(;Hi!==null;){var n=Hi.alternate;wk||CA===null||((Hi.flags&8)!==0?Efe(Hi,CA)&&(wk=!0):Hi.tag===13&&lBe(n,Hi)&&Efe(Hi,CA)&&(wk=!0));var e=Hi.flags;(e&256)!==0&&aBe(n,Hi),(e&512)===0||x3||(x3=!0,aA(97,function(){return v3(),null})),Hi=Hi.nextEffect}}function v3(){if(EA!==90){var n=97<EA?97:EA;return EA=90,Xv(n,gBe)}return!1}function xBe(n,e){kY.push(e,n),x3||(x3=!0,aA(97,function(){return v3(),null}))}function Ode(n,e){IY.push(e,n),x3||(x3=!0,aA(97,function(){return v3(),null}))}function gBe(){if(bA===null)return!1;var n=bA;if(bA=null,(js&48)!==0)throw Error(oi(331));var e=js;js|=32;var t=IY;IY=[];for(var r=0;r<t.length;r+=2){var i=t[r],s=t[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(s===null)throw Error(oi(330));_3(s,c)}}for(t=kY,kY=[],r=0;r<t.length;r+=2){i=t[r],s=t[r+1];try{var a=i.create;i.destroy=a()}catch(c){if(s===null)throw Error(oi(330));_3(s,c)}}for(a=n.current.firstEffect;a!==null;)n=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=n;return js=e,X2(),!0}function Nde(n,e,t){e=EY(t,e),e=hde(n,e,1),p3(n,e),e=kh(),n=Ak(n,1),n!==null&&(jL(n,1,e),Ep(n,e))}function _3(n,e){if(n.tag===3)Nde(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){Nde(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nm===null||!nm.has(r))){n=EY(e,n);var i=pde(t,n,1);if(p3(t,i),i=kh(),t=Ak(t,1),t!==null)jL(t,1,i),Ep(t,i);else if(typeof r.componentDidCatch=="function"&&(nm===null||!nm.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function yBe(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=kh(),n.pingedLanes|=n.suspendedLanes&t,id===n&&(v0&t)===t&&(Pf===4||Pf===3&&(v0&62914560)===v0&&500>g0()-NY?QE(n,0):DY|=t),Ep(n,e)}function vBe(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)===0?e=1:(e&4)===0?e=BE()===99?1:2:(tg===0&&(tg=zE),e=FE(62914560&~tg),e===0&&(e=4194304))),t=kh(),n=Ak(n,e),n!==null&&(jL(n,e,t),Ep(n,t))}var Rde;Rde=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||Gd.current)G1=!0;else if((t&r)!==0)G1=(n.flags&16384)!==0;else{switch(G1=!1,e.tag){case 3:rde(e),lY();break;case 5:B0e(e);break;case 1:Yd(e.type)&&tk(e);break;case 4:oY(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Cl(ik,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!==0?ide(n,e,t):(Cl(wl,wl.current&1),e=Zx(n,e,t),e!==null?e.sibling:null);Cl(wl,wl.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&64)!==0){if(r)return lde(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Cl(wl,wl.current),r)break;return null;case 23:case 24:return e.lanes=0,gY(n,e,t)}return Zx(n,e,t)}else G1=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=PE(e,x0.current),qE(e,t),i=dY(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yd(r)){var s=!0;tk(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iY(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&ak(e,r,o,n),i.updater=uk,e.stateNode=i,i._reactInternals=e,sY(e,r,n,t),e=vY(null,e,r,!0,s,t)}else e.tag=0,Jd(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=bBe(i),n=Q1(i,n),s){case 0:e=yY(null,e,i,n,t);break e;case 1:e=nde(null,e,i,n,t);break e;case 11:e=X0e(null,e,i,n,t);break e;case 14:e=Z0e(null,e,i,Q1(i.type,n),r,t);break e}throw Error(oi(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Q1(r,i),yY(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Q1(r,i),nde(n,e,r,i,t);case 3:if(rde(e),r=e.updateQueue,n===null||r===null)throw Error(oi(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,D0e(n,e),uA(e,r,null,t),r=e.memoizedState.element,r===i)lY(),e=Zx(n,e,t);else{if(i=e.stateNode,(s=i.hydrate)&&(m3=LE(e.stateNode.containerInfo.firstChild),Xx=e,s=em=!0),s){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)s=n[i],s._workInProgressVersionPrimary=n[i+1],$E.push(s);for(t=P0e(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else Jd(n,e,r,t),lY();e=e.child}return e;case 5:return B0e(e),n===null&&uY(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,WG(r,i)?o=null:s!==null&&WG(r,s)&&(e.flags|=16),tde(n,e),Jd(n,e,o,t),e.child;case 6:return n===null&&uY(e),null;case 13:return ide(n,e,t);case 4:return oY(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=fk(e,null,r,t):Jd(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Q1(r,i),X0e(n,e,r,i,t);case 7:return Jd(n,e,e.pendingProps,t),e.child;case 8:return Jd(n,e,e.pendingProps.children,t),e.child;case 12:return Jd(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(Cl(ik,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=vp(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!Gd.current){e=Zx(n,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var d=c.firstContext;d!==null;){if(d.context===r&&(d.observedBits&s)!==0){a.tag===1&&(d=h3(-1,t&-t),d.tag=2,p3(a,d)),a.lanes|=t,d=a.alternate,d!==null&&(d.lanes|=t),F0e(a.return,t),c.lanes|=t;break}d=d.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Jd(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,qE(e,t),i=_p(i,s.unstable_observedBits),r=r(i),e.flags|=1,Jd(n,e,r,t),e.child;case 14:return i=e.type,s=Q1(i,e.pendingProps),s=Q1(i.type,s),Z0e(n,e,i,s,r,t);case 15:return ede(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Q1(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Yd(r)?(n=!0,tk(e)):n=!1,qE(e,t),k0e(e,r,i),sY(e,r,i,t),vY(null,e,r,!0,n,t);case 19:return lde(n,e,t);case 23:return gY(n,e,t);case 24:return gY(n,e,t)}throw Error(oi(156,e.tag))};function _Be(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Sp(n,e,t,r){return new _Be(n,e,t,r)}function jY(n){return n=n.prototype,!(!n||!n.isReactComponent)}function bBe(n){if(typeof n=="function")return jY(n)?1:0;if(n!=null){if(n=n.$$typeof,n===AL)return 11;if(n===FL)return 14}return 2}function b3(n,e){var t=n.alternate;return t===null?(t=Sp(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Fk(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")jY(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case n3:return GE(t.children,i,s,e);case efe:o=8,i|=16;break;case KQ:o=8,i|=1;break;case Pw:return n=Sp(12,t,e,i|8),n.elementType=Pw,n.type=Pw,n.lanes=s,n;case Bw:return n=Sp(13,t,e,i),n.type=Bw,n.elementType=Bw,n.lanes=s,n;case TL:return n=Sp(19,t,e,i),n.elementType=TL,n.lanes=s,n;case nG:return qY(t,i,s,e);case rG:return n=Sp(24,t,e,i),n.elementType=rG,n.lanes=s,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case JQ:o=10;break e;case XQ:o=9;break e;case AL:o=11;break e;case FL:o=14;break e;case ZQ:o=16,r=null;break e;case eG:o=22;break e}throw Error(oi(130,n==null?n:typeof n,""))}return e=Sp(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function GE(n,e,t,r){return n=Sp(7,n,r,e),n.lanes=t,n}function qY(n,e,t,r){return n=Sp(23,n,r,e),n.elementType=nG,n.lanes=t,n}function UY(n,e,t){return n=Sp(6,n,null,e),n.lanes=t,n}function $Y(n,e,t){return e=Sp(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function EBe(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=DG(0),this.expirationTimes=DG(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=DG(0),this.mutableSourceEagerHydrationData=null}function SBe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wv,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Dk(n,e,t,r){var i=e.current,s=kh(),o=g3(i);e:if(t){t=t._reactInternals;t:{if(Gv(t)!==t||t.tag!==1)throw Error(oi(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Yd(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(oi(171))}if(t.tag===1){var c=t.type;if(Yd(c)){t=y0e(t,c,a);break e}}t=a}else t=f3;return e.context===null?e.context=t:e.pendingContext=t,e=h3(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),p3(i,e),y3(i,o,s),o}function zY(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Lde(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function HY(n,e){Lde(n,e),(n=n.alternate)&&Lde(n,e)}function CBe(){return null}function VY(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new EBe(n,e,t!=null&&t.hydrate===!0),e=Sp(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,iY(e),n[kE]=t.current,a0e(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}VY.prototype.render=function(n){Dk(n,this._internalRoot,null,null)};VY.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;Dk(null,n,null,function(){e[kE]=null})};function AA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function wBe(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new VY(n,0,e?{hydrate:!0}:void 0)}function Ok(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var d=zY(o);a.call(d)}}Dk(e,o,n,i)}else{if(s=t._reactRootContainer=wBe(t,r),o=s._internalRoot,typeof i=="function"){var c=i;i=function(){var d=zY(o);c.call(d)}}wde(function(){Dk(e,o,n,i)})}return zY(o)}Sfe=function(n){if(n.tag===13){var e=kh();y3(n,4,e),HY(n,4)}};SG=function(n){if(n.tag===13){var e=kh();y3(n,67108864,e),HY(n,67108864)}};Cfe=function(n){if(n.tag===13){var e=kh(),t=g3(n);y3(n,t,e),HY(n,t)}};wfe=function(n,e){return e()};xG=function(n,e,t){switch(e){case"input":if(aG(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ZL(r);if(!i)throw Error(oi(90));rfe(r),aG(r,i)}}}break;case"textarea":ufe(n,t);break;case"select":e=t.value,e!=null&&EE(n,!!t.multiple,e,!1)}};gG=Cde;gfe=function(n,e,t,r,i){var s=js;js|=4;try{return Xv(98,n.bind(null,e,t,r,i))}finally{js=s,js===0&&(VE(),X2())}};yG=function(){(js&49)===0&&(fBe(),v3())};yfe=function(n,e){var t=js;js|=2;try{return n(e)}finally{js=t,js===0&&(VE(),X2())}};function kde(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AA(e))throw Error(oi(200));return SBe(n,e,null,t)}var ABe={Events:[oA,IE,ZL,mfe,xfe,v3,{current:!1}]},TA={findFiberByHostInstance:Yv,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},TBe={bundleType:TA.bundleType,version:TA.version,rendererPackageName:TA.rendererPackageName,rendererConfig:TA.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vv.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=bfe(n),n===null?null:n.stateNode},findFiberByHostInstance:TA.findFiberByHostInstance||CBe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(FA=__REACT_DEVTOOLS_GLOBAL_HOOK__,!FA.isDisabled&&FA.supportsFiber))try{KG=FA.inject(TBe),Jv=FA}catch{}var FA;Cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ABe;Cp.createPortal=kde;Cp.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(oi(188)):Error(oi(268,Object.keys(n)));return n=bfe(e),n=n===null?null:n.stateNode,n};Cp.flushSync=function(n,e){var t=js;if((t&48)!==0)return n(e);js|=1;try{if(n)return Xv(99,n.bind(null,e))}finally{js=t,X2()}};Cp.hydrate=function(n,e,t){if(!AA(e))throw Error(oi(200));return Ok(null,n,e,!0,t)};Cp.render=function(n,e,t){if(!AA(e))throw Error(oi(200));return Ok(null,n,e,!1,t)};Cp.unmountComponentAtNode=function(n){if(!AA(n))throw Error(oi(40));return n._reactRootContainer?(wde(function(){Ok(null,null,n,!1,function(){n._reactRootContainer=null,n[kE]=null})}),!0):!1};Cp.unstable_batchedUpdates=Cde;Cp.unstable_createPortal=function(n,e){return kde(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Cp.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!AA(t))throw Error(oi(200));if(n==null||n._reactInternals===void 0)throw Error(oi(38));return Ok(n,e,t,!1,r)};Cp.version="17.0.2"});var Nk=we((J5t,Pde)=>{"use strict";m();function Mde(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mde)}catch(n){console.error(n)}}Mde(),Pde.exports=Ide()});var che=we(Ca=>{"use strict";m();var iK=Symbol.for("react.element"),sK=Symbol.for("react.portal"),Mk=Symbol.for("react.fragment"),Pk=Symbol.for("react.strict_mode"),Bk=Symbol.for("react.profiler"),jk=Symbol.for("react.provider"),qk=Symbol.for("react.context"),jBe=Symbol.for("react.server_context"),Uk=Symbol.for("react.forward_ref"),$k=Symbol.for("react.suspense"),zk=Symbol.for("react.suspense_list"),Hk=Symbol.for("react.memo"),Vk=Symbol.for("react.lazy"),qBe=Symbol.for("react.offscreen"),lhe;lhe=Symbol.for("react.module.reference");function Ap(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case iK:switch(n=n.type,n){case Mk:case Bk:case Pk:case $k:case zk:return n;default:switch(n=n&&n.$$typeof,n){case jBe:case qk:case Uk:case Vk:case Hk:case jk:return n;default:return e}}case sK:return e}}}Ca.ContextConsumer=qk;Ca.ContextProvider=jk;Ca.Element=iK;Ca.ForwardRef=Uk;Ca.Fragment=Mk;Ca.Lazy=Vk;Ca.Memo=Hk;Ca.Portal=sK;Ca.Profiler=Bk;Ca.StrictMode=Pk;Ca.Suspense=$k;Ca.SuspenseList=zk;Ca.isAsyncMode=function(){return!1};Ca.isConcurrentMode=function(){return!1};Ca.isContextConsumer=function(n){return Ap(n)===qk};Ca.isContextProvider=function(n){return Ap(n)===jk};Ca.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===iK};Ca.isForwardRef=function(n){return Ap(n)===Uk};Ca.isFragment=function(n){return Ap(n)===Mk};Ca.isLazy=function(n){return Ap(n)===Vk};Ca.isMemo=function(n){return Ap(n)===Hk};Ca.isPortal=function(n){return Ap(n)===sK};Ca.isProfiler=function(n){return Ap(n)===Bk};Ca.isStrictMode=function(n){return Ap(n)===Pk};Ca.isSuspense=function(n){return Ap(n)===$k};Ca.isSuspenseList=function(n){return Ap(n)===zk};Ca.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Mk||n===Bk||n===Pk||n===$k||n===zk||n===qBe||typeof n=="object"&&n!==null&&(n.$$typeof===Vk||n.$$typeof===Hk||n.$$typeof===jk||n.$$typeof===qk||n.$$typeof===Uk||n.$$typeof===lhe||n.getModuleId!==void 0)};Ca.typeOf=Ap});var dhe=we((a6t,fhe)=>{"use strict";m();fhe.exports=che()});var phe=we((u6t,hhe)=>{m();hhe.exports=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),d=0;d<o.length;d++){var p=o[d];if(!c(p))return!1;var b=e[p],C=t[p];if(s=r?r.call(i,b,C,p):void 0,s===!1||s===void 0&&b!==C)return!1}return!0}});var ghe=we(oK=>{"use strict";m();Object.defineProperty(oK,"__esModule",{value:!0});function zBe(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}oK.default=zBe});var vhe=we((d6t,yhe)=>{"use strict";m();yhe.exports=ghe()});var _he=we(aK=>{"use strict";m();Object.defineProperty(aK,"__esModule",{value:!0});var HBe=vhe();function VBe(n){return n&&n.__esModule?n:{default:n}}var WBe=VBe(HBe),QBe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,GBe=WBe.default(function(n){return QBe.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});aK.default=GBe});var Ehe=we((p6t,bhe)=>{"use strict";m();bhe.exports=_he()});var Che=we(wa=>{"use strict";m();var lf=typeof Symbol=="function"&&Symbol.for,uK=lf?Symbol.for("react.element"):60103,lK=lf?Symbol.for("react.portal"):60106,Wk=lf?Symbol.for("react.fragment"):60107,Qk=lf?Symbol.for("react.strict_mode"):60108,Gk=lf?Symbol.for("react.profiler"):60114,Yk=lf?Symbol.for("react.provider"):60109,Kk=lf?Symbol.for("react.context"):60110,cK=lf?Symbol.for("react.async_mode"):60111,Jk=lf?Symbol.for("react.concurrent_mode"):60111,Xk=lf?Symbol.for("react.forward_ref"):60112,Zk=lf?Symbol.for("react.suspense"):60113,YBe=lf?Symbol.for("react.suspense_list"):60120,eI=lf?Symbol.for("react.memo"):60115,tI=lf?Symbol.for("react.lazy"):60116,KBe=lf?Symbol.for("react.block"):60121,JBe=lf?Symbol.for("react.fundamental"):60117,XBe=lf?Symbol.for("react.responder"):60118,ZBe=lf?Symbol.for("react.scope"):60119;function Mh(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case uK:switch(n=n.type,n){case cK:case Jk:case Wk:case Gk:case Qk:case Zk:return n;default:switch(n=n&&n.$$typeof,n){case Kk:case Xk:case tI:case eI:case Yk:return n;default:return e}}case lK:return e}}}function She(n){return Mh(n)===Jk}wa.AsyncMode=cK;wa.ConcurrentMode=Jk;wa.ContextConsumer=Kk;wa.ContextProvider=Yk;wa.Element=uK;wa.ForwardRef=Xk;wa.Fragment=Wk;wa.Lazy=tI;wa.Memo=eI;wa.Portal=lK;wa.Profiler=Gk;wa.StrictMode=Qk;wa.Suspense=Zk;wa.isAsyncMode=function(n){return She(n)||Mh(n)===cK};wa.isConcurrentMode=She;wa.isContextConsumer=function(n){return Mh(n)===Kk};wa.isContextProvider=function(n){return Mh(n)===Yk};wa.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===uK};wa.isForwardRef=function(n){return Mh(n)===Xk};wa.isFragment=function(n){return Mh(n)===Wk};wa.isLazy=function(n){return Mh(n)===tI};wa.isMemo=function(n){return Mh(n)===eI};wa.isPortal=function(n){return Mh(n)===lK};wa.isProfiler=function(n){return Mh(n)===Gk};wa.isStrictMode=function(n){return Mh(n)===Qk};wa.isSuspense=function(n){return Mh(n)===Zk};wa.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Wk||n===Jk||n===Gk||n===Qk||n===Zk||n===YBe||typeof n=="object"&&n!==null&&(n.$$typeof===tI||n.$$typeof===eI||n.$$typeof===Yk||n.$$typeof===Kk||n.$$typeof===Xk||n.$$typeof===JBe||n.$$typeof===XBe||n.$$typeof===ZBe||n.$$typeof===KBe)};wa.typeOf=Mh});var Ahe=we((x6t,whe)=>{"use strict";m();whe.exports=Che()});var Lhe=we((g6t,Rhe)=>{"use strict";m();var fK=Ahe(),eje={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tje={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nje={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},The={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dK={};dK[fK.ForwardRef]=nje;dK[fK.Memo]=The;function Fhe(n){return fK.isMemo(n)?The:dK[n.$$typeof]||eje}var rje=Object.defineProperty,ije=Object.getOwnPropertyNames,Dhe=Object.getOwnPropertySymbols,sje=Object.getOwnPropertyDescriptor,oje=Object.getPrototypeOf,Ohe=Object.prototype;function Nhe(n,e,t){if(typeof e!="string"){if(Ohe){var r=oje(e);r&&r!==Ohe&&Nhe(n,r,t)}var i=ije(e);Dhe&&(i=i.concat(Dhe(e)));for(var s=Fhe(n),o=Fhe(e),a=0;a<i.length;++a){var c=i[a];if(!tje[c]&&!(t&&t[c])&&!(o&&o[c])&&!(s&&s[c])){var d=sje(e,c);try{rje(n,c,d)}catch{}}}}return n}Rhe.exports=Nhe});var tpe=we((jA,AK)=>{m();(function(n,e){typeof jA=="object"&&typeof AK=="object"?AK.exports=e():typeof define=="function"&&define.amd?define([],e):typeof jA=="object"?jA.onig=e():n.onig=e()})(jA,function(){return n={770:function(t,r,i){"use strict";var s=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(r,"__esModule",{value:!0}),r.setDefaultDebugCall=r.createOnigScanner=r.createOnigString=r.loadWASM=r.OnigScanner=r.OnigString=void 0;let o=s(i(418)),a=null,c=!1;class d{constructor(U){let V=U.length,P=d._utf8ByteLength(U),$=P!==V,M=$?new Uint32Array(V+1):null;$&&(M[V]=P);let G=$?new Uint32Array(P+1):null;$&&(G[P]=V);let ae=new Uint8Array(P),I=0;for(let Z=0;Z<V;Z++){let me=U.charCodeAt(Z),ye=me,He=!1;if(me>=55296&&me<=56319&&Z+1<V){let ot=U.charCodeAt(Z+1);ot>=56320&&ot<=57343&&(ye=65536+(me-55296<<10)|ot-56320,He=!0)}$&&(M[Z]=I,He&&(M[Z+1]=I),ye<=127?G[I+0]=Z:ye<=2047?(G[I+0]=Z,G[I+1]=Z):ye<=65535?(G[I+0]=Z,G[I+1]=Z,G[I+2]=Z):(G[I+0]=Z,G[I+1]=Z,G[I+2]=Z,G[I+3]=Z)),ye<=127?ae[I++]=ye:ye<=2047?(ae[I++]=192|(1984&ye)>>>6,ae[I++]=128|(63&ye)>>>0):ye<=65535?(ae[I++]=224|(61440&ye)>>>12,ae[I++]=128|(4032&ye)>>>6,ae[I++]=128|(63&ye)>>>0):(ae[I++]=240|(1835008&ye)>>>18,ae[I++]=128|(258048&ye)>>>12,ae[I++]=128|(4032&ye)>>>6,ae[I++]=128|(63&ye)>>>0),He&&Z++}this.utf16Length=V,this.utf8Length=P,this.utf16Value=U,this.utf8Value=ae,this.utf16OffsetToUtf8=M,this.utf8OffsetToUtf16=G}static _utf8ByteLength(U){let V=0;for(let P=0,$=U.length;P<$;P++){let M=U.charCodeAt(P),G=M,ae=!1;if(M>=55296&&M<=56319&&P+1<$){let I=U.charCodeAt(P+1);I>=56320&&I<=57343&&(G=65536+(M-55296<<10)|I-56320,ae=!0)}V+=G<=127?1:G<=2047?2:G<=65535?3:4,ae&&P++}return V}createString(U){let V=U._omalloc(this.utf8Length);return U.HEAPU8.set(this.utf8Value,V),V}}class p{constructor(U){if(this.id=++p.LAST_ID,!a)throw new Error("Must invoke loadWASM first.");this._onigBinding=a,this.content=U;let V=new d(U);this.utf16Length=V.utf16Length,this.utf8Length=V.utf8Length,this.utf16OffsetToUtf8=V.utf16OffsetToUtf8,this.utf8OffsetToUtf16=V.utf8OffsetToUtf16,this.utf8Length<1e4&&!p._sharedPtrInUse?(p._sharedPtr||(p._sharedPtr=a._omalloc(1e4)),p._sharedPtrInUse=!0,a.HEAPU8.set(V.utf8Value,p._sharedPtr),this.ptr=p._sharedPtr):this.ptr=V.createString(a)}convertUtf8OffsetToUtf16(U){return this.utf8OffsetToUtf16?U<0?0:U>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[U]:U}convertUtf16OffsetToUtf8(U){return this.utf16OffsetToUtf8?U<0?0:U>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[U]:U}dispose(){this.ptr===p._sharedPtr?p._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}r.OnigString=p,p.LAST_ID=0,p._sharedPtr=0,p._sharedPtrInUse=!1;class b{constructor(U){if(!a)throw new Error("Must invoke loadWASM first.");let V=[],P=[];for(let ae=0,I=U.length;ae<I;ae++){let Z=new d(U[ae]);V[ae]=Z.createString(a),P[ae]=Z.utf8Length}let $=a._omalloc(4*U.length);a.HEAPU32.set(V,$/4);let M=a._omalloc(4*U.length);a.HEAPU32.set(P,M/4);let G=a._createOnigScanner($,M,U.length);for(let ae=0,I=U.length;ae<I;ae++)a._ofree(V[ae]);a._ofree(M),a._ofree($),G===0&&function(ae){throw new Error(ae.UTF8ToString(ae._getLastOnigError()))}(a),this._onigBinding=a,this._ptr=G}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(U,V,P){let $=c,M=0;if(typeof P=="number"?(8&P&&($=!0),M=P):typeof P=="boolean"&&($=P),typeof U=="string"){U=new p(U);let G=this._findNextMatchSync(U,V,$,M);return U.dispose(),G}return this._findNextMatchSync(U,V,$,M)}_findNextMatchSync(U,V,P,$){let M=this._onigBinding,G;if(G=P?M._findNextOnigScannerMatchDbg(this._ptr,U.id,U.ptr,U.utf8Length,U.convertUtf16OffsetToUtf8(V),$):M._findNextOnigScannerMatch(this._ptr,U.id,U.ptr,U.utf8Length,U.convertUtf16OffsetToUtf8(V),$),G===0)return null;let ae=M.HEAPU32,I=G/4,Z=ae[I++],me=ae[I++],ye=[];for(let He=0;He<me;He++){let ot=U.convertUtf8OffsetToUtf16(ae[I++]),at=U.convertUtf8OffsetToUtf16(ae[I++]);ye[He]={start:ot,end:at,length:at-ot}}return{index:Z,captureIndices:ye}}}r.OnigScanner=b;let C=!1,N=null;r.loadWASM=function(R){if(C)return N;let U,V,P,$;if(C=!0,function(M){return typeof M.instantiator=="function"}(R))U=R.instantiator,V=R.print;else{let M;(function(G){return G.data!==void 0})(R)?(M=R.data,V=R.print):M=R,U=function(G){return typeof Response!="undefined"&&G instanceof Response}(M)?typeof WebAssembly.instantiateStreaming=="function"?function(G){return ae=>WebAssembly.instantiateStreaming(G,ae)}(M):function(G){return async ae=>{let I=await G.arrayBuffer();return WebAssembly.instantiate(I,ae)}}(M):function(G){return ae=>WebAssembly.instantiate(G,ae)}(M)}return N=new Promise((M,G)=>{P=M,$=G}),function(M,G,ae,I){o.default({print:G,instantiateWasm:(Z,me)=>{if(typeof performance=="undefined"){let ye=()=>Date.now();Z.env.emscripten_get_now=ye,Z.wasi_snapshot_preview1.emscripten_get_now=ye}return M(Z).then(ye=>me(ye.instance),I),{}}}).then(Z=>{a=Z,ae()})}(U,V,P,$),N},r.createOnigString=function(R){return new p(R)},r.createOnigScanner=function(R){return new b(R)},r.setDefaultDebugCall=function(R){c=R}},418:t=>{var r=(typeof document!="undefined"&&document.currentScript&&document.currentScript.src,function(i){var s,o,a=(i=i||{})!==void 0?i:{};a.ready=new Promise(function(Ne,$e){s=Ne,o=$e});var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);var p,b=[],C=!1,N=!1,R=!0,U="";function V(Ne){return a.locateFile?a.locateFile(Ne,U):U+Ne}R&&(p=function(Ne){var $e;return typeof readbuffer=="function"?new Uint8Array(readbuffer(Ne)):(Z(typeof($e=read(Ne,"binary"))=="object"),$e)},typeof scriptArgs!="undefined"?b=scriptArgs:arguments!==void 0&&(b=arguments),typeof onig_print!="undefined"&&(typeof console=="undefined"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr!="undefined"?printErr:onig_print));var P=a.print||console.log.bind(console),$=a.printErr||console.warn.bind(console);for(c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);d=null,a.arguments&&(b=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&a.quit;var M,G,ae=function(Ne){};a.wasmBinary&&(M=a.wasmBinary),a.noExitRuntime,typeof WebAssembly!="object"&&Ee("no native wasm support detected");var I=!1;function Z(Ne,$e){Ne||Ee("Assertion failed: "+$e)}var me,ye,He,ot=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function at(Ne,$e,De){for(var qt=$e+De,yt=$e;Ne[yt]&&!(yt>=qt);)++yt;if(yt-$e>16&&Ne.subarray&&ot)return ot.decode(Ne.subarray($e,yt));for(var mt="";$e<yt;){var nn=Ne[$e++];if(128&nn){var Wt=63&Ne[$e++];if((224&nn)!=192){var Fn=63&Ne[$e++];if((nn=(240&nn)==224?(15&nn)<<12|Wt<<6|Fn:(7&nn)<<18|Wt<<12|Fn<<6|63&Ne[$e++])<65536)mt+=String.fromCharCode(nn);else{var Qn=nn-65536;mt+=String.fromCharCode(55296|Qn>>10,56320|1023&Qn)}}else mt+=String.fromCharCode((31&nn)<<6|Wt)}else mt+=String.fromCharCode(nn)}return mt}function Ze(Ne,$e){return Ne?at(ye,Ne,$e):""}function Tt(Ne,$e){return Ne%$e>0&&(Ne+=$e-Ne%$e),Ne}function Mt(Ne){me=Ne,a.HEAP8=new Int8Array(Ne),a.HEAP16=new Int16Array(Ne),a.HEAP32=He=new Int32Array(Ne),a.HEAPU8=ye=new Uint8Array(Ne),a.HEAPU16=new Uint16Array(Ne),a.HEAPU32=new Uint32Array(Ne),a.HEAPF32=new Float32Array(Ne),a.HEAPF64=new Float64Array(Ne)}typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le"),a.INITIAL_MEMORY;var Ue,te=[],st=[],be=[],Re=[];function Ae(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Qt(a.preRun.shift());Nt(te)}function xe(){Nt(st)}function Je(){Nt(be)}function lt(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)Et(a.postRun.shift());Nt(Re)}function Qt(Ne){te.unshift(Ne)}function Et(Ne){Re.unshift(Ne)}st.push({func:function(){sr()}});var mn=0,Lt=null,kt=null;function cn(Ne){mn++,a.monitorRunDependencies&&a.monitorRunDependencies(mn)}function wt(Ne){if(mn--,a.monitorRunDependencies&&a.monitorRunDependencies(mn),mn==0&&(Lt!==null&&(clearInterval(Lt),Lt=null),kt)){var $e=kt;kt=null,$e()}}function Ee(Ne){a.onAbort&&a.onAbort(Ne),$(Ne+=""),I=!0,Ne="abort("+Ne+"). Build with -s ASSERTIONS=1 for more info.";var $e=new WebAssembly.RuntimeError(Ne);throw o($e),$e}function Ie(Ne,$e){return String.prototype.startsWith?Ne.startsWith($e):Ne.indexOf($e)===0}a.preloadedImages={},a.preloadedAudios={};var Ce="data:application/octet-stream;base64,";function fe(Ne){return Ie(Ne,Ce)}var rt,Xe="onig.wasm";function de(Ne){try{if(Ne==Xe&&M)return new Uint8Array(M);if(p)return p(Ne);throw"both async and sync fetching of the wasm failed"}catch($e){Ee($e)}}function Ge(){return M||!C&&!N||typeof fetch!="function"?Promise.resolve().then(function(){return de(Xe)}):fetch(Xe,{credentials:"same-origin"}).then(function(Ne){if(!Ne.ok)throw"failed to load wasm binary file at '"+Xe+"'";return Ne.arrayBuffer()}).catch(function(){return de(Xe)})}function Ot(){var Ne={env:qn,wasi_snapshot_preview1:qn};function $e(yt,mt){var nn=yt.exports;a.asm=nn,Mt((G=a.asm.memory).buffer),Ue=a.asm.__indirect_function_table,wt()}function De(yt){$e(yt.instance)}function qt(yt){return Ge().then(function(mt){return WebAssembly.instantiate(mt,Ne)}).then(yt,function(mt){$("failed to asynchronously prepare wasm: "+mt),Ee(mt)})}if(cn(),a.instantiateWasm)try{return a.instantiateWasm(Ne,$e)}catch(yt){return $("Module.instantiateWasm callback failed with error: "+yt),!1}return(M||typeof WebAssembly.instantiateStreaming!="function"||fe(Xe)||typeof fetch!="function"?qt(De):fetch(Xe,{credentials:"same-origin"}).then(function(yt){return WebAssembly.instantiateStreaming(yt,Ne).then(De,function(mt){return $("wasm streaming compile failed: "+mt),$("falling back to ArrayBuffer instantiation"),qt(De)})})).catch(o),{}}function Nt(Ne){for(;Ne.length>0;){var $e=Ne.shift();if(typeof $e!="function"){var De=$e.func;typeof De=="number"?$e.arg===void 0?Ue.get(De)():Ue.get(De)($e.arg):De($e.arg===void 0?null:$e.arg)}else $e(a)}}function zt(Ne,$e,De){ye.copyWithin(Ne,$e,$e+De)}function en(){return ye.length}function Xt(Ne){try{return G.grow(Ne-me.byteLength+65535>>>16),Mt(G.buffer),1}catch{}}function bn(Ne){var $e=en(),De=2147483648;if(Ne>De)return!1;for(var qt=1;qt<=4;qt*=2){var yt=$e*(1+.2/qt);if(yt=Math.min(yt,Ne+100663296),Xt(Math.min(De,Tt(Math.max(Ne,yt),65536))))return!0}return!1}fe(Xe)||(Xe=V(Xe)),rt=typeof dateNow!="undefined"?dateNow:function(){return performance.now()};var Tn={mappings:{},buffers:[null,[],[]],printChar:function(Ne,$e){var De=Tn.buffers[Ne];$e===0||$e===10?((Ne===1?P:$)(at(De,0)),De.length=0):De.push($e)},varargs:void 0,get:function(){return Tn.varargs+=4,He[Tn.varargs-4>>2]},getStr:function(Ne){return Ze(Ne)},get64:function(Ne,$e){return Ne}};function Dn(Ne,$e,De,qt){for(var yt=0,mt=0;mt<De;mt++){for(var nn=He[$e+8*mt>>2],Wt=He[$e+(8*mt+4)>>2],Fn=0;Fn<Wt;Fn++)Tn.printChar(Ne,ye[nn+Fn]);yt+=Wt}return He[qt>>2]=yt,0}function Ut(Ne){ae(0|Ne)}var pn,qn={emscripten_get_now:rt,emscripten_memcpy_big:zt,emscripten_resize_heap:bn,fd_write:Dn,setTempRet0:Ut},sr=(Ot(),a.___wasm_call_ctors=function(){return(sr=a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)});function In(Ne){function $e(){pn||(pn=!0,a.calledRun=!0,I||(xe(),Je(),s(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),lt()))}Ne=Ne||b,mn>0||(Ae(),mn>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),$e()},1)):$e()))}if(a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)},a._omalloc=function(){return(a._omalloc=a.asm.omalloc).apply(null,arguments)},a._ofree=function(){return(a._ofree=a.asm.ofree).apply(null,arguments)},a._getLastOnigError=function(){return(a._getLastOnigError=a.asm.getLastOnigError).apply(null,arguments)},a._createOnigScanner=function(){return(a._createOnigScanner=a.asm.createOnigScanner).apply(null,arguments)},a._freeOnigScanner=function(){return(a._freeOnigScanner=a.asm.freeOnigScanner).apply(null,arguments)},a._findNextOnigScannerMatch=function(){return(a._findNextOnigScannerMatch=a.asm.findNextOnigScannerMatch).apply(null,arguments)},a._findNextOnigScannerMatchDbg=function(){return(a._findNextOnigScannerMatchDbg=a.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},a.stackSave=function(){return(a.stackSave=a.asm.stackSave).apply(null,arguments)},a.stackRestore=function(){return(a.stackRestore=a.asm.stackRestore).apply(null,arguments)},a.stackAlloc=function(){return(a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.dynCall_jiji).apply(null,arguments)},a.UTF8ToString=Ze,kt=function Ne(){pn||In(),pn||(kt=Ne)},a.run=In,a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return In(),i.ready});t.exports=r}},e={},function t(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={exports:{}};return n[r].call(s.exports,s,s.exports,t),s.exports}(770);var n,e})});var npe=we((qA,TK)=>{m();(function(n,e){typeof qA=="object"&&typeof TK=="object"?TK.exports=e():typeof define=="function"&&define.amd?define([],e):typeof qA=="object"?qA.vscodetextmate=e():n.vscodetextmate=e()})(qA,function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,s){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},t.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)t.d(s,o,function(a){return r[a]}.bind(null,o));return s},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=3)}([function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(1),i=t(5),s=t(6),o=t(2),a=typeof performance=="undefined"?function(){return Date.now()}:function(){return performance.now()};e.createGrammar=function(Ue,te,st,be,Re,Ae){return new M(Ue,te,st,be,Re,Ae)};var c=function(Ue){this.scopeName=Ue};e.FullScopeDependency=c;var d=function(){function Ue(te,st){this.scopeName=te,this.include=st}return Ue.prototype.toKey=function(){return this.scopeName+"#"+this.include},Ue}();e.PartialScopeDependency=d;var p=function(){function Ue(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return Ue.prototype.add=function(te){te instanceof c?this._seenFull.has(te.scopeName)||(this._seenFull.add(te.scopeName),this.full.push(te)):this._seenPartial.has(te.toKey())||(this._seenPartial.add(te.toKey()),this.partial.push(te))},Ue}();function b(Ue,te,st,be,Re){for(var Ae=0,xe=be;Ae<xe.length;Ae++){var Je=xe[Ae];if(!Ue.visitedRule.has(Je)){Ue.visitedRule.add(Je);var lt=Je.repository?r.mergeObjects({},Re,Je.repository):Re;Array.isArray(Je.patterns)&&b(Ue,te,st,Je.patterns,lt);var Qt=Je.include;if(Qt)if(Qt==="$base"||Qt===te.scopeName)N(Ue,te,te);else if(Qt==="$self"||Qt===st.scopeName)N(Ue,te,st);else if(Qt.charAt(0)==="#")C(Ue,te,st,Qt.substring(1),lt);else{var Et=Qt.indexOf("#");if(Et>=0){var mn=Qt.substring(0,Et),Lt=Qt.substring(Et+1);mn===te.scopeName?C(Ue,te,te,Lt,lt):mn===st.scopeName?C(Ue,te,st,Lt,lt):Ue.add(new d(mn,Qt.substring(Et+1)))}else Ue.add(new c(Qt))}}}}function C(Ue,te,st,be,Re){Re===void 0&&(Re=st.repository),Re&&Re[be]&&b(Ue,te,st,[Re[be]],Re)}function N(Ue,te,st){if(st.patterns&&Array.isArray(st.patterns)&&b(Ue,te,st,st.patterns,st.repository),st.injections){var be=[];for(var Re in st.injections)be.push(st.injections[Re]);b(Ue,te,st,be,st.repository)}}function R(Ue,te){if(!Ue)return!1;if(Ue===te)return!0;var st=te.length;return Ue.length>st&&Ue.substr(0,st)===te&&Ue[st]==="."}function U(Ue,te){if(te.length<Ue.length)return!1;var st=0;return Ue.every(function(be){for(var Re=st;Re<te.length;Re++)if(R(te[Re],be))return st=Re+1,!0;return!1})}function V(Ue,te,st,be,Re){for(var Ae=s.createMatchers(te,U),xe=i.RuleFactory.getCompiledRuleId(st,be,Re.repository),Je=0,lt=Ae;Je<lt.length;Je++){var Qt=lt[Je];Ue.push({matcher:Qt.matcher,ruleId:xe,grammar:Re,priority:Qt.priority})}}e.ScopeDependencyCollector=p,e.collectSpecificDependencies=C,e.collectDependencies=N;var P=function(Ue,te,st,be){this.scopeName=Ue,this.languageId=te,this.tokenType=st,this.themeData=be};e.ScopeMetadata=P;var $=function(){function Ue(te,st,be){if(this._initialLanguage=te,this._themeProvider=st,this._cache=new Map,this._defaultMetaData=new P("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),be)for(var Re=Object.keys(be),Ae=0,xe=Re.length;Ae<xe;Ae++){var Je=Re[Ae],lt=be[Je];typeof lt=="number"&&lt!==0?this._embeddedLanguages[Je]=lt:console.warn("Invalid embedded language found at scope "+Je+": <<"+lt+">>")}var Qt=Object.keys(this._embeddedLanguages).map(function(Et){return Ue._escapeRegExpCharacters(Et)});Qt.length===0?this._embeddedLanguagesRegex=null:(Qt.sort(),Qt.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+Qt.join(")|(")+"))($|\\.)",""))}return Ue.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new P("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},Ue.prototype.getDefaultMetadata=function(){return this._defaultMetaData},Ue._escapeRegExpCharacters=function(te){return te.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},Ue.prototype.getMetadataForScope=function(te){if(te===null)return Ue._NULL_SCOPE_METADATA;var st=this._cache.get(te);return st||(st=this._doGetMetadataForScope(te),this._cache.set(te,st),st)},Ue.prototype._doGetMetadataForScope=function(te){var st=this._scopeToLanguage(te),be=this._toStandardTokenType(te),Re=this._themeProvider.themeMatch(te);return new P(te,st,be,Re)},Ue.prototype._scopeToLanguage=function(te){if(!te||!this._embeddedLanguagesRegex)return 0;var st=te.match(this._embeddedLanguagesRegex);if(!st)return 0;var be=this._embeddedLanguages[st[1]]||0;return be||0},Ue.prototype._toStandardTokenType=function(te){var st=te.match(Ue.STANDARD_TOKEN_TYPE_REGEXP);if(!st)return 0;switch(st[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},Ue._NULL_SCOPE_METADATA=new P("",0,0,null),Ue.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,Ue}(),M=function(){function Ue(te,st,be,Re,Ae,xe){if(this._scopeMetadataProvider=new $(st,Ae,be),this._onigLib=xe,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=Ae,this._grammar=ae(te,null),this._injections=null,this._tokenTypeMatchers=[],Re)for(var Je=0,lt=Object.keys(Re);Je<lt.length;Je++)for(var Qt=lt[Je],Et=0,mn=s.createMatchers(Qt,U);Et<mn.length;Et++){var Lt=mn[Et];this._tokenTypeMatchers.push({matcher:Lt.matcher,type:Re[Qt]})}}return Ue.prototype.dispose=function(){for(var te=0,st=this._ruleId2desc;te<st.length;te++){var be=st[te];be&&be.dispose()}},Ue.prototype.createOnigScanner=function(te){return this._onigLib.createOnigScanner(te)},Ue.prototype.createOnigString=function(te){return this._onigLib.createOnigString(te)},Ue.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},Ue.prototype.getMetadataForScope=function(te){return this._scopeMetadataProvider.getMetadataForScope(te)},Ue.prototype.getInjections=function(){var te=this;if(this._injections===null){this._injections=[];var st=this._grammar.injections;if(st)for(var be in st)V(this._injections,be,st[be],this,this._grammar);if(this._grammarRepository){var Re=this._grammarRepository.injections(this._grammar.scopeName);Re&&Re.forEach(function(Ae){var xe=te.getExternalGrammar(Ae);if(xe){var Je=xe.injectionSelector;Je&&V(te._injections,Je,xe,te,xe)}})}this._injections.sort(function(Ae,xe){return Ae.priority-xe.priority})}return this._injections},Ue.prototype.registerRule=function(te){var st=++this._lastRuleId,be=te(st);return this._ruleId2desc[st]=be,be},Ue.prototype.getRule=function(te){return this._ruleId2desc[te]},Ue.prototype.getExternalGrammar=function(te,st){if(this._includedGrammars[te])return this._includedGrammars[te];if(this._grammarRepository){var be=this._grammarRepository.lookup(te);if(be)return this._includedGrammars[te]=ae(be,st&&st.$base),this._includedGrammars[te]}return null},Ue.prototype.tokenizeLine=function(te,st){var be=this._tokenize(te,st,!1);return{tokens:be.lineTokens.getResult(be.ruleStack,be.lineLength),ruleStack:be.ruleStack}},Ue.prototype.tokenizeLine2=function(te,st){var be=this._tokenize(te,st,!0);return{tokens:be.lineTokens.getBinaryResult(be.ruleStack,be.lineLength),ruleStack:be.ruleStack}},Ue.prototype._tokenize=function(te,st,be){var Re;if(this._rootId===-1&&(this._rootId=i.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),st&&st!==at.NULL)Re=!1,st.reset();else{Re=!0;var Ae=this._scopeMetadataProvider.getDefaultMetadata(),xe=Ae.themeData[0],Je=He.set(0,Ae.languageId,Ae.tokenType,xe.fontStyle,xe.foreground,xe.background),lt=this.getRule(this._rootId).getName(null,null),Qt=this._scopeMetadataProvider.getMetadataForScope(lt),Et=ot.mergeMetadata(Je,null,Qt),mn=new ot(null,lt===null?"unknown":lt,Et);st=new at(null,this._rootId,-1,-1,!1,null,mn,mn)}te+=`
`;var Lt=this.createOnigString(te),kt=Lt.content.length,cn=new Tt(be,te,this._tokenTypeMatchers),wt=ye(this,Lt,Re,0,st,cn,!0);return G(Lt),{lineLength:kt,lineTokens:cn,ruleStack:wt}},Ue}();function G(Ue){typeof Ue.dispose=="function"&&Ue.dispose()}function ae(Ue,te){return(Ue=r.clone(Ue)).repository=Ue.repository||{},Ue.repository.$self={$vscodeTextmateLocation:Ue.$vscodeTextmateLocation,patterns:Ue.patterns,name:Ue.scopeName},Ue.repository.$base=te||Ue.repository.$self,Ue}function I(Ue,te,st,be,Re,Ae,xe){if(Ae.length!==0){for(var Je=te.content,lt=Math.min(Ae.length,xe.length),Qt=[],Et=xe[0].end,mn=0;mn<lt;mn++){var Lt=Ae[mn];if(Lt!==null){var kt=xe[mn];if(kt.length!==0){if(kt.start>Et)break;for(;Qt.length>0&&Qt[Qt.length-1].endPos<=kt.start;)Re.produceFromScopes(Qt[Qt.length-1].scopes,Qt[Qt.length-1].endPos),Qt.pop();if(Qt.length>0?Re.produceFromScopes(Qt[Qt.length-1].scopes,kt.start):Re.produce(be,kt.start),Lt.retokenizeCapturedWithRuleId){var cn=Lt.getName(Je,xe),wt=be.contentNameScopesList.push(Ue,cn),Ee=Lt.getContentName(Je,xe),Ie=wt.push(Ue,Ee),Ce=be.push(Lt.retokenizeCapturedWithRuleId,kt.start,-1,!1,null,wt,Ie),fe=Ue.createOnigString(Je.substring(0,kt.end));ye(Ue,fe,st&&kt.start===0,kt.start,Ce,Re,!1),G(fe)}else{var rt=Lt.getName(Je,xe);if(rt!==null){var Xe=(Qt.length>0?Qt[Qt.length-1].scopes:be.contentNameScopesList).push(Ue,rt);Qt.push(new Ze(Xe,kt.end))}}}}}for(;Qt.length>0;)Re.produceFromScopes(Qt[Qt.length-1].scopes,Qt[Qt.length-1].endPos),Qt.pop()}}function Z(Ue){for(var te=[],st=0,be=Ue.rules.length;st<be;st++)te.push("   - "+Ue.rules[st]+": "+Ue.debugRegExps[st]);return te.join(`
`)}function me(Ue,te,st,be,Re,Ae){var xe=function(mn,Lt,kt,cn,wt,Ee){var Ie=wt.getRule(mn),Ce=Ie.compile(mn,wt.endRule,kt,cn===Ee),fe=0;o.DebugFlags.InDebugMode&&(fe=a());var rt=Ce.scanner.findNextMatchSync(Lt,cn);if(o.DebugFlags.InDebugMode){var Xe=a()-fe;Xe>5&&console.warn("Rule "+Ie.debugName+" ("+Ie.id+") matching took "+Xe+" against '"+Lt+"'"),rt&&console.log("matched rule id: "+Ce.rules[rt.index]+" from "+rt.captureIndices[0].start+" to "+rt.captureIndices[0].end)}return rt?{captureIndices:rt.captureIndices,matchedRuleId:Ce.rules[rt.index]}:null}(Ue,te,st,be,Re,Ae),Je=Ue.getInjections();if(Je.length===0)return xe;var lt=function(mn,Lt,kt,cn,wt,Ee,Ie){for(var Ce,fe=Number.MAX_VALUE,rt=null,Xe=0,de=Ee.contentNameScopesList.generateScopes(),Ge=0,Ot=mn.length;Ge<Ot;Ge++){var Nt=mn[Ge];if(Nt.matcher(de)){var zt=Lt.getRule(Nt.ruleId).compile(Lt,null,cn,wt===Ie),en=zt.scanner.findNextMatchSync(kt,wt);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(Z(zt))),en){var Xt=en.captureIndices[0].start;if(!(Xt>=fe)&&(fe=Xt,rt=en.captureIndices,Ce=zt.rules[en.index],Xe=Nt.priority,fe===wt))break}}}return rt?{priorityMatch:Xe===-1,captureIndices:rt,matchedRuleId:Ce}:null}(Je,Ue,te,st,be,Re,Ae);if(!lt)return xe;if(!xe)return lt;var Qt=xe.captureIndices[0].start,Et=lt.captureIndices[0].start;return Et<Qt||lt.priorityMatch&&Et===Qt?lt:xe}function ye(Ue,te,st,be,Re,Ae,xe){var Je=te.content.length,lt=!1,Qt=-1;if(xe){var Et=function(Lt,kt,cn,wt,Ee,Ie){for(var Ce=Ee.beginRuleCapturedEOL?0:-1,fe=[],rt=Ee;rt;rt=rt.pop()){var Xe=rt.getRule(Lt);Xe instanceof i.BeginWhileRule&&fe.push({rule:Xe,stack:rt})}for(var de=fe.pop();de;de=fe.pop()){var Ge=de.rule.compileWhile(Lt,de.stack.endRule,cn,Ce===wt),Ot=Ge.scanner.findNextMatchSync(kt,wt);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(Z(Ge))),!Ot){o.DebugFlags.InDebugMode&&console.log("  popping "+de.rule.debugName+" - "+de.rule.debugWhileRegExp),Ee=de.stack.pop();break}if(Ge.rules[Ot.index]!==-2){Ee=de.stack.pop();break}Ot.captureIndices&&Ot.captureIndices.length&&(Ie.produce(de.stack,Ot.captureIndices[0].start),I(Lt,kt,cn,de.stack,Ie,de.rule.whileCaptures,Ot.captureIndices),Ie.produce(de.stack,Ot.captureIndices[0].end),Ce=Ot.captureIndices[0].end,Ot.captureIndices[0].end>wt&&(wt=Ot.captureIndices[0].end,cn=!1))}return{stack:Ee,linePos:wt,anchorPosition:Ce,isFirstLine:cn}}(Ue,te,st,be,Re,Ae);Re=Et.stack,be=Et.linePos,st=Et.isFirstLine,Qt=Et.anchorPosition}for(;!lt;)mn();function mn(){o.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+be+": |"+te.content.substr(be).replace(/\n$/,"\\n")+"|"));var Lt=me(Ue,te,st,be,Re,Qt);if(!Lt)return o.DebugFlags.InDebugMode&&console.log("  no more matches."),Ae.produce(Re,Je),void(lt=!0);var kt=Lt.captureIndices,cn=Lt.matchedRuleId,wt=!!(kt&&kt.length>0)&&kt[0].end>be;if(cn===-1){var Ee=Re.getRule(Ue);o.DebugFlags.InDebugMode&&console.log("  popping "+Ee.debugName+" - "+Ee.debugEndRegExp),Ae.produce(Re,kt[0].start),Re=Re.setContentNameScopesList(Re.nameScopesList),I(Ue,te,st,Re,Ae,Ee.endCaptures,kt),Ae.produce(Re,kt[0].end);var Ie=Re;if(Re=Re.pop(),Qt=Ie.getAnchorPos(),!wt&&Ie.getEnterPos()===be)return o.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),Re=Ie,Ae.produce(Re,Je),void(lt=!0)}else{var Ce=Ue.getRule(cn);Ae.produce(Re,kt[0].start);var fe=Re,rt=Ce.getName(te.content,kt),Xe=Re.contentNameScopesList.push(Ue,rt);if(Re=Re.push(cn,be,Qt,kt[0].end===Je,null,Xe,Xe),Ce instanceof i.BeginEndRule){var de=Ce;o.DebugFlags.InDebugMode&&console.log("  pushing "+de.debugName+" - "+de.debugBeginRegExp),I(Ue,te,st,Re,Ae,de.beginCaptures,kt),Ae.produce(Re,kt[0].end),Qt=kt[0].end;var Ge=de.getContentName(te.content,kt),Ot=Xe.push(Ue,Ge);if(Re=Re.setContentNameScopesList(Ot),de.endHasBackReferences&&(Re=Re.setEndRule(de.getEndWithResolvedBackReferences(te.content,kt))),!wt&&fe.hasSameRuleAs(Re))return o.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),Re=Re.pop(),Ae.produce(Re,Je),void(lt=!0)}else if(Ce instanceof i.BeginWhileRule){if(de=Ce,o.DebugFlags.InDebugMode&&console.log("  pushing "+de.debugName),I(Ue,te,st,Re,Ae,de.beginCaptures,kt),Ae.produce(Re,kt[0].end),Qt=kt[0].end,Ge=de.getContentName(te.content,kt),Ot=Xe.push(Ue,Ge),Re=Re.setContentNameScopesList(Ot),de.whileHasBackReferences&&(Re=Re.setEndRule(de.getWhileWithResolvedBackReferences(te.content,kt))),!wt&&fe.hasSameRuleAs(Re))return o.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),Re=Re.pop(),Ae.produce(Re,Je),void(lt=!0)}else{var Nt=Ce;if(o.DebugFlags.InDebugMode&&console.log("  matched "+Nt.debugName+" - "+Nt.debugMatchRegExp),I(Ue,te,st,Re,Ae,Nt.captures,kt),Ae.produce(Re,kt[0].end),Re=Re.pop(),!wt)return o.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),Re=Re.safePop(),Ae.produce(Re,Je),void(lt=!0)}}kt[0].end>be&&(be=kt[0].end,st=!1)}return Re}e.Grammar=M;var He=function(){function Ue(){}return Ue.toBinaryStr=function(te){for(var st=te.toString(2);st.length<32;)st="0"+st;return st},Ue.printMetadata=function(te){var st=Ue.getLanguageId(te),be=Ue.getTokenType(te),Re=Ue.getFontStyle(te),Ae=Ue.getForeground(te),xe=Ue.getBackground(te);console.log({languageId:st,tokenType:be,fontStyle:Re,foreground:Ae,background:xe})},Ue.getLanguageId=function(te){return(255&te)>>>0},Ue.getTokenType=function(te){return(1792&te)>>>8},Ue.getFontStyle=function(te){return(14336&te)>>>11},Ue.getForeground=function(te){return(8372224&te)>>>14},Ue.getBackground=function(te){return(4286578688&te)>>>23},Ue.set=function(te,st,be,Re,Ae,xe){var Je=Ue.getLanguageId(te),lt=Ue.getTokenType(te),Qt=Ue.getFontStyle(te),Et=Ue.getForeground(te),mn=Ue.getBackground(te);return st!==0&&(Je=st),be!==0&&(lt=be===8?0:be),Re!==-1&&(Qt=Re),Ae!==0&&(Et=Ae),xe!==0&&(mn=xe),(Je<<0|lt<<8|Qt<<11|Et<<14|mn<<23)>>>0},Ue}();e.StackElementMetadata=He;var ot=function(){function Ue(te,st,be){this.parent=te,this.scope=st,this.metadata=be}return Ue._equals=function(te,st){for(;;){if(te===st||!te&&!st)return!0;if(!te||!st||te.scope!==st.scope||te.metadata!==st.metadata)return!1;te=te.parent,st=st.parent}},Ue.prototype.equals=function(te){return Ue._equals(this,te)},Ue._matchesScope=function(te,st,be){return st===te||te.substring(0,be.length)===be},Ue._matches=function(te,st){if(st===null)return!0;for(var be=st.length,Re=0,Ae=st[Re],xe=Ae+".";te;){if(this._matchesScope(te.scope,Ae,xe)){if(++Re===be)return!0;xe=(Ae=st[Re])+"."}te=te.parent}return!1},Ue.mergeMetadata=function(te,st,be){if(be===null)return te;var Re=-1,Ae=0,xe=0;if(be.themeData!==null)for(var Je=0,lt=be.themeData.length;Je<lt;Je++){var Qt=be.themeData[Je];if(this._matches(st,Qt.parentScopes)){Re=Qt.fontStyle,Ae=Qt.foreground,xe=Qt.background;break}}return He.set(te,be.languageId,be.tokenType,Re,Ae,xe)},Ue._push=function(te,st,be){for(var Re=0,Ae=be.length;Re<Ae;Re++){var xe=be[Re],Je=st.getMetadataForScope(xe),lt=Ue.mergeMetadata(te.metadata,te,Je);te=new Ue(te,xe,lt)}return te},Ue.prototype.push=function(te,st){return st===null?this:st.indexOf(" ")>=0?Ue._push(this,te,st.split(/ /g)):Ue._push(this,te,[st])},Ue._generateScopes=function(te){for(var st=[],be=0;te;)st[be++]=te.scope,te=te.parent;return st.reverse(),st},Ue.prototype.generateScopes=function(){return Ue._generateScopes(this)},Ue}();e.ScopeListElement=ot;var at=function(){function Ue(te,st,be,Re,Ae,xe,Je,lt){this.parent=te,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=st,this._enterPos=be,this._anchorPos=Re,this.beginRuleCapturedEOL=Ae,this.endRule=xe,this.nameScopesList=Je,this.contentNameScopesList=lt}return Ue._structuralEquals=function(te,st){for(;;){if(te===st||!te&&!st)return!0;if(!te||!st||te.depth!==st.depth||te.ruleId!==st.ruleId||te.endRule!==st.endRule)return!1;te=te.parent,st=st.parent}},Ue._equals=function(te,st){return te===st||!!this._structuralEquals(te,st)&&te.contentNameScopesList.equals(st.contentNameScopesList)},Ue.prototype.clone=function(){return this},Ue.prototype.equals=function(te){return te!==null&&Ue._equals(this,te)},Ue._reset=function(te){for(;te;)te._enterPos=-1,te._anchorPos=-1,te=te.parent},Ue.prototype.reset=function(){Ue._reset(this)},Ue.prototype.pop=function(){return this.parent},Ue.prototype.safePop=function(){return this.parent?this.parent:this},Ue.prototype.push=function(te,st,be,Re,Ae,xe,Je){return new Ue(this,te,st,be,Re,Ae,xe,Je)},Ue.prototype.getEnterPos=function(){return this._enterPos},Ue.prototype.getAnchorPos=function(){return this._anchorPos},Ue.prototype.getRule=function(te){return te.getRule(this.ruleId)},Ue.prototype._writeString=function(te,st){return this.parent&&(st=this.parent._writeString(te,st)),te[st++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",st},Ue.prototype.toString=function(){var te=[];return this._writeString(te,0),"["+te.join(",")+"]"},Ue.prototype.setContentNameScopesList=function(te){return this.contentNameScopesList===te?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,te)},Ue.prototype.setEndRule=function(te){return this.endRule===te?this:new Ue(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,te,this.nameScopesList,this.contentNameScopesList)},Ue.prototype.hasSameRuleAs=function(te){return this.ruleId===te.ruleId},Ue.NULL=new Ue(null,0,0,0,!1,null,null,null),Ue}();e.StackElement=at;var Ze=function(Ue,te){this.scopes=Ue,this.endPos=te};e.LocalStackElement=Ze;var Tt=function(){function Ue(te,st,be){this._emitBinaryTokens=te,this._tokenTypeOverrides=be,o.DebugFlags.InDebugMode?this._lineText=st:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return Ue.prototype.produce=function(te,st){this.produceFromScopes(te.contentNameScopesList,st)},Ue.prototype.produceFromScopes=function(te,st){if(!(this._lastTokenEndIndex>=st)){if(this._emitBinaryTokens){for(var be=te.metadata,Re=0,Ae=this._tokenTypeOverrides;Re<Ae.length;Re++){var xe=Ae[Re];xe.matcher(te.generateScopes())&&(be=He.set(be,0,Mt(xe.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===be||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(be)),void(this._lastTokenEndIndex=st)}var Je=te.generateScopes();if(o.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,st).replace(/\n$/,"\\n")+"|");for(var lt=0;lt<Je.length;lt++)console.log("      * "+Je[lt])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:st,scopes:Je}),this._lastTokenEndIndex=st}},Ue.prototype.getResult=function(te,st){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===st-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(te,st),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},Ue.prototype.getBinaryResult=function(te,st){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===st-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(te,st),this._binaryTokens[this._binaryTokens.length-2]=0);for(var be=new Uint32Array(this._binaryTokens.length),Re=0,Ae=this._binaryTokens.length;Re<Ae;Re++)be[Re]=this._binaryTokens[Re];return be},Ue}();function Mt(Ue){switch(Ue){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},function(n,e,t){"use strict";function r(o){return Array.isArray(o)?function(a){for(var c=[],d=0,p=a.length;d<p;d++)c[d]=r(a[d]);return c}(o):typeof o=="object"?function(a){var c={};for(var d in a)c[d]=r(a[d]);return c}(o):o}Object.defineProperty(e,"__esModule",{value:!0}),e.clone=function(o){return r(o)},e.mergeObjects=function(o){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];return a.forEach(function(d){for(var p in d)o[p]=d[p]}),o},e.basename=function o(a){var c=~a.lastIndexOf("/")||~a.lastIndexOf("\\");return c===0?a:~c==a.length-1?o(a.substring(0,a.length-1)):a.substr(1+~c)};var i=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,s=function(){function o(){}return o.hasCaptures=function(a){return a!==null&&i.test(a)},o.replaceCaptures=function(a,c,d){return a.replace(i,function(p,b,C,N){var R=d[parseInt(b||C,10)];if(!R)return p;for(var U=c.substring(R.start,R.end);U[0]===".";)U=U.substring(1);switch(N){case"downcase":return U.toLowerCase();case"upcase":return U.toUpperCase();default:return U}})},o}();e.RegexSource=s},function(n,e,t){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0}),e.DebugFlags={InDebugMode:r!==void 0&&!!r.env.VSCODE_TEXTMATE_DEBUG}}).call(this,t(7))},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(p,b,C,N){return new(C||(C=Promise))(function(R,U){function V(M){try{$(N.next(M))}catch(G){U(G)}}function P(M){try{$(N.throw(M))}catch(G){U(G)}}function $(M){var G;M.done?R(M.value):(G=M.value,G instanceof C?G:new C(function(ae){ae(G)})).then(V,P)}$((N=N.apply(p,b||[])).next())})},i=this&&this.__generator||function(p,b){var C,N,R,U,V={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return U={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function P($){return function(M){return function(G){if(C)throw new TypeError("Generator is already executing.");for(;V;)try{if(C=1,N&&(R=2&G[0]?N.return:G[0]?N.throw||((R=N.return)&&R.call(N),0):N.next)&&!(R=R.call(N,G[1])).done)return R;switch(N=0,R&&(G=[2&G[0],R.value]),G[0]){case 0:case 1:R=G;break;case 4:return V.label++,{value:G[1],done:!1};case 5:V.label++,N=G[1],G=[0];continue;case 7:G=V.ops.pop(),V.trys.pop();continue;default:if(R=V.trys,!((R=R.length>0&&R[R.length-1])||G[0]!==6&&G[0]!==2)){V=0;continue}if(G[0]===3&&(!R||G[1]>R[0]&&G[1]<R[3])){V.label=G[1];break}if(G[0]===6&&V.label<R[1]){V.label=R[1],R=G;break}if(R&&V.label<R[2]){V.label=R[2],V.ops.push(G);break}R[2]&&V.ops.pop(),V.trys.pop();continue}G=b.call(p,V)}catch(ae){G=[6,ae],N=0}finally{C=R=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([$,M])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(4),o=t(8),a=t(11),c=t(0),d=function(){function p(b){this._options=b,this._syncRegistry=new s.SyncRegistry(a.Theme.createFromRawTheme(b.theme,b.colorMap),b.onigLib),this._ensureGrammarCache=new Map}return p.prototype.dispose=function(){this._syncRegistry.dispose()},p.prototype.setTheme=function(b,C){this._syncRegistry.setTheme(a.Theme.createFromRawTheme(b,C))},p.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},p.prototype.loadGrammarWithEmbeddedLanguages=function(b,C,N){return this.loadGrammarWithConfiguration(b,C,{embeddedLanguages:N})},p.prototype.loadGrammarWithConfiguration=function(b,C,N){return this._loadGrammar(b,C,N.embeddedLanguages,N.tokenTypes)},p.prototype.loadGrammar=function(b){return this._loadGrammar(b,0,null,null)},p.prototype._doLoadSingleGrammar=function(b){return r(this,void 0,void 0,function(){var C,N;return i(this,function(R){switch(R.label){case 0:return[4,this._options.loadGrammar(b)];case 1:return(C=R.sent())&&(N=typeof this._options.getInjections=="function"?this._options.getInjections(b):void 0,this._syncRegistry.addGrammar(C,N)),[2]}})})},p.prototype._loadSingleGrammar=function(b){return r(this,void 0,void 0,function(){return i(this,function(C){return this._ensureGrammarCache.has(b)||this._ensureGrammarCache.set(b,this._doLoadSingleGrammar(b)),[2,this._ensureGrammarCache.get(b)]})})},p.prototype._collectDependenciesForDep=function(b,C,N){var R=this._syncRegistry.lookup(N.scopeName);if(R){N instanceof c.FullScopeDependency?c.collectDependencies(C,this._syncRegistry.lookup(b),R):c.collectSpecificDependencies(C,this._syncRegistry.lookup(b),R,N.include);var U=this._syncRegistry.injections(N.scopeName);if(U)for(var V=0,P=U;V<P.length;V++){var $=P[V];C.add(new c.FullScopeDependency($))}}else if(N.scopeName===b)throw new Error("No grammar provided for <"+b+">")},p.prototype._loadGrammar=function(b,C,N,R){return r(this,void 0,void 0,function(){var U,V,P,$,M,G,ae,I,Z,me,ye,He,ot=this;return i(this,function(at){switch(at.label){case 0:U=new Set,V=new Set,U.add(b),P=[new c.FullScopeDependency(b)],at.label=1;case 1:return P.length>0?($=P,P=[],[4,Promise.all($.map(function(Ze){return ot._loadSingleGrammar(Ze.scopeName)}))]):[3,3];case 2:for(at.sent(),M=new c.ScopeDependencyCollector,G=0,ae=$;G<ae.length;G++)He=ae[G],this._collectDependenciesForDep(b,M,He);for(I=0,Z=M.full;I<Z.length;I++)He=Z[I],U.has(He.scopeName)||(U.add(He.scopeName),P.push(He));for(me=0,ye=M.partial;me<ye.length;me++)He=ye[me],U.has(He.scopeName)||V.has(He.toKey())||(V.add(He.toKey()),P.push(He));return[3,1];case 3:return[2,this.grammarForScopeName(b,C,N,R)]}})})},p.prototype.addGrammar=function(b,C,N,R){return C===void 0&&(C=[]),N===void 0&&(N=0),R===void 0&&(R=null),r(this,void 0,void 0,function(){return i(this,function(U){switch(U.label){case 0:return this._syncRegistry.addGrammar(b,C),[4,this.grammarForScopeName(b.scopeName,N,R)];case 1:return[2,U.sent()]}})})},p.prototype.grammarForScopeName=function(b,C,N,R){return C===void 0&&(C=0),N===void 0&&(N=null),R===void 0&&(R=null),this._syncRegistry.grammarForScopeName(b,C,N,R)},p}();e.Registry=d,e.INITIAL=c.StackElement.NULL,e.parseRawGrammar=o.parseRawGrammar},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(a,c,d,p){return new(d||(d=Promise))(function(b,C){function N(V){try{U(p.next(V))}catch(P){C(P)}}function R(V){try{U(p.throw(V))}catch(P){C(P)}}function U(V){var P;V.done?b(V.value):(P=V.value,P instanceof d?P:new d(function($){$(P)})).then(N,R)}U((p=p.apply(a,c||[])).next())})},i=this&&this.__generator||function(a,c){var d,p,b,C,N={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return C={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function R(U){return function(V){return function(P){if(d)throw new TypeError("Generator is already executing.");for(;N;)try{if(d=1,p&&(b=2&P[0]?p.return:P[0]?p.throw||((b=p.return)&&b.call(p),0):p.next)&&!(b=b.call(p,P[1])).done)return b;switch(p=0,b&&(P=[2&P[0],b.value]),P[0]){case 0:case 1:b=P;break;case 4:return N.label++,{value:P[1],done:!1};case 5:N.label++,p=P[1],P=[0];continue;case 7:P=N.ops.pop(),N.trys.pop();continue;default:if(b=N.trys,!((b=b.length>0&&b[b.length-1])||P[0]!==6&&P[0]!==2)){N=0;continue}if(P[0]===3&&(!b||P[1]>b[0]&&P[1]<b[3])){N.label=P[1];break}if(P[0]===6&&N.label<b[1]){N.label=b[1],b=P;break}if(b&&N.label<b[2]){N.label=b[2],N.ops.push(P);break}b[2]&&N.ops.pop(),N.trys.pop();continue}P=c.call(a,N)}catch($){P=[6,$],p=0}finally{d=b=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([U,V])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(0),o=function(){function a(c,d){this._theme=c,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=d}return a.prototype.dispose=function(){for(var c in this._grammars)this._grammars.hasOwnProperty(c)&&this._grammars[c].dispose()},a.prototype.setTheme=function(c){var d=this;this._theme=c,Object.keys(this._grammars).forEach(function(p){d._grammars[p].onDidChangeTheme()})},a.prototype.getColorMap=function(){return this._theme.getColorMap()},a.prototype.addGrammar=function(c,d){this._rawGrammars[c.scopeName]=c,d&&(this._injectionGrammars[c.scopeName]=d)},a.prototype.lookup=function(c){return this._rawGrammars[c]},a.prototype.injections=function(c){return this._injectionGrammars[c]},a.prototype.getDefaults=function(){return this._theme.getDefaults()},a.prototype.themeMatch=function(c){return this._theme.match(c)},a.prototype.grammarForScopeName=function(c,d,p,b){return r(this,void 0,void 0,function(){var C,N,R,U,V;return i(this,function(P){switch(P.label){case 0:return this._grammars[c]?[3,2]:(C=this._rawGrammars[c])?(N=this._grammars,R=c,U=s.createGrammar,V=[C,d,p,b,this],[4,this._onigLibPromise]):[2,null];case 1:N[R]=U.apply(void 0,V.concat([P.sent()])),P.label=2;case 2:return[2,this._grammars[c]]}})})},a}();e.SyncRegistry=o},function(n,e,t){"use strict";var r,i=this&&this.__extends||(r=function($,M){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,ae){G.__proto__=ae}||function(G,ae){for(var I in ae)ae.hasOwnProperty(I)&&(G[I]=ae[I])})($,M)},function($,M){function G(){this.constructor=$}r($,M),$.prototype=M===null?Object.create(M):(G.prototype=M.prototype,new G)});Object.defineProperty(e,"__esModule",{value:!0});var s=t(1),o=/\\(\d+)/,a=/\\(\d+)/g,c=function(){function $(M,G,ae){this.debugRegExps=G,this.rules=ae,this.scanner=M.createOnigScanner(G)}return $.prototype.dispose=function(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()},$}();e.CompiledRule=c;var d=function(){function $(M,G,ae,I){this.$location=M,this.id=G,this._name=ae||null,this._nameIsCapturing=s.RegexSource.hasCaptures(this._name),this._contentName=I||null,this._contentNameIsCapturing=s.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty($.prototype,"debugName",{get:function(){var M=this.$location?s.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+M},enumerable:!0,configurable:!0}),$.prototype.getName=function(M,G){return this._nameIsCapturing&&this._name!==null&&M!==null&&G!==null?s.RegexSource.replaceCaptures(this._name,M,G):this._name},$.prototype.getContentName=function(M,G){return this._contentNameIsCapturing&&this._contentName!==null?s.RegexSource.replaceCaptures(this._contentName,M,G):this._contentName},$}();e.Rule=d;var p=function($){function M(G,ae,I,Z,me){var ye=$.call(this,G,ae,I,Z)||this;return ye.retokenizeCapturedWithRuleId=me,ye}return i(M,$),M.prototype.dispose=function(){},M.prototype.collectPatternsRecursive=function(G,ae,I){throw new Error("Not supported!")},M.prototype.compile=function(G,ae,I,Z){throw new Error("Not supported!")},M}(d);e.CaptureRule=p;var b=function(){function $(M,G,ae){if(ae===void 0&&(ae=!0),ae)if(M){for(var I=M.length,Z=0,me=[],ye=!1,He=0;He<I;He++)if(M.charAt(He)==="\\"&&He+1<I){var ot=M.charAt(He+1);ot==="z"?(me.push(M.substring(Z,He)),me.push("$(?!\\n)(?<!\\n)"),Z=He+2):ot!=="A"&&ot!=="G"||(ye=!0),He++}this.hasAnchor=ye,Z===0?this.source=M:(me.push(M.substring(Z,I)),this.source=me.join(""))}else this.hasAnchor=!1,this.source=M;else this.hasAnchor=!1,this.source=M;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=G,this.hasBackReferences=o.test(this.source)}return $.prototype.clone=function(){return new $(this.source,this.ruleId,!0)},$.prototype.setSource=function(M){this.source!==M&&(this.source=M,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},$.prototype.resolveBackReferences=function(M,G){var ae=G.map(function(I){return M.substring(I.start,I.end)});return a.lastIndex=0,this.source.replace(a,function(I,Z){return(ae[parseInt(Z,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")})},$.prototype._buildAnchorCache=function(){var M,G,ae,I,Z=[],me=[],ye=[],He=[];for(M=0,G=this.source.length;M<G;M++)ae=this.source.charAt(M),Z[M]=ae,me[M]=ae,ye[M]=ae,He[M]=ae,ae==="\\"&&M+1<G&&((I=this.source.charAt(M+1))==="A"?(Z[M+1]="\uFFFF",me[M+1]="\uFFFF",ye[M+1]="A",He[M+1]="A"):I==="G"?(Z[M+1]="\uFFFF",me[M+1]="G",ye[M+1]="\uFFFF",He[M+1]="G"):(Z[M+1]=I,me[M+1]=I,ye[M+1]=I,He[M+1]=I),M++);return{A0_G0:Z.join(""),A0_G1:me.join(""),A1_G0:ye.join(""),A1_G1:He.join("")}},$.prototype.resolveAnchors=function(M,G){return this.hasAnchor&&this._anchorCache?M?G?this._anchorCache.A1_G1:this._anchorCache.A1_G0:G?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},$}();e.RegExpSource=b;var C=function(){function $(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return $.prototype.dispose=function(){this._disposeCaches()},$.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},$.prototype.push=function(M){this._items.push(M),this._hasAnchors=this._hasAnchors||M.hasAnchor},$.prototype.unshift=function(M){this._items.unshift(M),this._hasAnchors=this._hasAnchors||M.hasAnchor},$.prototype.length=function(){return this._items.length},$.prototype.setSource=function(M,G){this._items[M].source!==G&&(this._disposeCaches(),this._items[M].setSource(G))},$.prototype.compile=function(M,G,ae){if(this._hasAnchors)return G?ae?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(M,G,ae)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(M,G,ae)),this._anchorCache.A1_G0):ae?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(M,G,ae)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(M,G,ae)),this._anchorCache.A0_G0);if(!this._cached){var I=this._items.map(function(Z){return Z.source});this._cached=new c(M,I,this._items.map(function(Z){return Z.ruleId}))}return this._cached},$.prototype._resolveAnchors=function(M,G,ae){var I=this._items.map(function(Z){return Z.resolveAnchors(G,ae)});return new c(M,I,this._items.map(function(Z){return Z.ruleId}))},$}();e.RegExpSourceList=C;var N=function($){function M(G,ae,I,Z,me){var ye=$.call(this,G,ae,I,null)||this;return ye._match=new b(Z,ye.id),ye.captures=me,ye._cachedCompiledPatterns=null,ye}return i(M,$),M.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(M.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),M.prototype.collectPatternsRecursive=function(G,ae,I){ae.push(this._match)},M.prototype.compile=function(G,ae,I,Z){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new C,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(G,I,Z)},M}(d);e.MatchRule=N;var R=function($){function M(G,ae,I,Z,me){var ye=$.call(this,G,ae,I,Z)||this;return ye.patterns=me.patterns,ye.hasMissingPatterns=me.hasMissingPatterns,ye._cachedCompiledPatterns=null,ye}return i(M,$),M.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},M.prototype.collectPatternsRecursive=function(G,ae,I){var Z,me;for(Z=0,me=this.patterns.length;Z<me;Z++)G.getRule(this.patterns[Z]).collectPatternsRecursive(G,ae,!1)},M.prototype.compile=function(G,ae,I,Z){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new C,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(G,I,Z)},M}(d);e.IncludeOnlyRule=R;var U=function($){function M(G,ae,I,Z,me,ye,He,ot,at,Ze){var Tt=$.call(this,G,ae,I,Z)||this;return Tt._begin=new b(me,Tt.id),Tt.beginCaptures=ye,Tt._end=new b(He||"\uFFFF",-1),Tt.endHasBackReferences=Tt._end.hasBackReferences,Tt.endCaptures=ot,Tt.applyEndPatternLast=at||!1,Tt.patterns=Ze.patterns,Tt.hasMissingPatterns=Ze.hasMissingPatterns,Tt._cachedCompiledPatterns=null,Tt}return i(M,$),M.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(M.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),M.prototype.getEndWithResolvedBackReferences=function(G,ae){return this._end.resolveBackReferences(G,ae)},M.prototype.collectPatternsRecursive=function(G,ae,I){if(I){var Z,me=void 0;for(me=0,Z=this.patterns.length;me<Z;me++)G.getRule(this.patterns[me]).collectPatternsRecursive(G,ae,!1)}else ae.push(this._begin)},M.prototype.compile=function(G,ae,I,Z){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new C,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,ae):this._cachedCompiledPatterns.setSource(0,ae)),this._cachedCompiledPatterns.compile(G,I,Z)},M}(d);e.BeginEndRule=U;var V=function($){function M(G,ae,I,Z,me,ye,He,ot,at){var Ze=$.call(this,G,ae,I,Z)||this;return Ze._begin=new b(me,Ze.id),Ze.beginCaptures=ye,Ze.whileCaptures=ot,Ze._while=new b(He,-2),Ze.whileHasBackReferences=Ze._while.hasBackReferences,Ze.patterns=at.patterns,Ze.hasMissingPatterns=at.hasMissingPatterns,Ze._cachedCompiledPatterns=null,Ze._cachedCompiledWhilePatterns=null,Ze}return i(M,$),M.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(M.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),M.prototype.getWhileWithResolvedBackReferences=function(G,ae){return this._while.resolveBackReferences(G,ae)},M.prototype.collectPatternsRecursive=function(G,ae,I){if(I){var Z,me=void 0;for(me=0,Z=this.patterns.length;me<Z;me++)G.getRule(this.patterns[me]).collectPatternsRecursive(G,ae,!1)}else ae.push(this._begin)},M.prototype.compile=function(G,ae,I,Z){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new C,this.collectPatternsRecursive(G,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(G,I,Z)},M.prototype.compileWhile=function(G,ae,I,Z){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new C,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,ae||"\uFFFF"),this._cachedCompiledWhilePatterns.compile(G,I,Z)},M}(d);e.BeginWhileRule=V;var P=function(){function $(){}return $.createCaptureRule=function(M,G,ae,I,Z){return M.registerRule(function(me){return new p(G,me,ae,I,Z)})},$.getCompiledRuleId=function(M,G,ae){return M.id||G.registerRule(function(I){if(M.id=I,M.match)return new N(M.$vscodeTextmateLocation,M.id,M.name,M.match,$._compileCaptures(M.captures,G,ae));if(M.begin===void 0){M.repository&&(ae=s.mergeObjects({},ae,M.repository));var Z=M.patterns;return Z===void 0&&M.include&&(Z=[{include:M.include}]),new R(M.$vscodeTextmateLocation,M.id,M.name,M.contentName,$._compilePatterns(Z,G,ae))}return M.while?new V(M.$vscodeTextmateLocation,M.id,M.name,M.contentName,M.begin,$._compileCaptures(M.beginCaptures||M.captures,G,ae),M.while,$._compileCaptures(M.whileCaptures||M.captures,G,ae),$._compilePatterns(M.patterns,G,ae)):new U(M.$vscodeTextmateLocation,M.id,M.name,M.contentName,M.begin,$._compileCaptures(M.beginCaptures||M.captures,G,ae),M.end,$._compileCaptures(M.endCaptures||M.captures,G,ae),M.applyEndPatternLast,$._compilePatterns(M.patterns,G,ae))}),M.id},$._compileCaptures=function(M,G,ae){var I=[];if(M){var Z=0;for(var me in M)me!=="$vscodeTextmateLocation"&&(He=parseInt(me,10))>Z&&(Z=He);for(var ye=0;ye<=Z;ye++)I[ye]=null;for(var me in M)if(me!=="$vscodeTextmateLocation"){var He=parseInt(me,10),ot=0;M[me].patterns&&(ot=$.getCompiledRuleId(M[me],G,ae)),I[He]=$.createCaptureRule(G,M[me].$vscodeTextmateLocation,M[me].name,M[me].contentName,ot)}}return I},$._compilePatterns=function(M,G,ae){var I=[];if(M)for(var Z=0,me=M.length;Z<me;Z++){var ye=M[Z],He=-1;if(ye.include)if(ye.include.charAt(0)==="#"){var ot=ae[ye.include.substr(1)];ot&&(He=$.getCompiledRuleId(ot,G,ae))}else if(ye.include==="$base"||ye.include==="$self")He=$.getCompiledRuleId(ae[ye.include],G,ae);else{var at=null,Ze=null,Tt=ye.include.indexOf("#");Tt>=0?(at=ye.include.substring(0,Tt),Ze=ye.include.substring(Tt+1)):at=ye.include;var Mt=G.getExternalGrammar(at,ae);if(Mt)if(Ze){var Ue=Mt.repository[Ze];Ue&&(He=$.getCompiledRuleId(Ue,G,Mt.repository))}else He=$.getCompiledRuleId(Mt.repository.$self,G,Mt.repository)}else He=$.getCompiledRuleId(ye,G,ae);if(He!==-1){var te=G.getRule(He),st=!1;if((te instanceof R||te instanceof U||te instanceof V)&&te.hasMissingPatterns&&te.patterns.length===0&&(st=!0),st)continue;I.push(He)}}return{patterns:I,hasMissingPatterns:(M?M.length:0)!==I.length}},$}();e.RuleFactory=P},function(n,e,t){"use strict";function r(i){return!!i&&!!i.match(/[\w\.:]+/)}Object.defineProperty(e,"__esModule",{value:!0}),e.createMatchers=function(i,s){for(var o,a,c,d=[],p=(c=(a=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(o=i),{next:function(){if(!c)return null;var V=c[0];return c=a.exec(o),V}}),b=p.next();b!==null;){var C=0;if(b.length===2&&b.charAt(1)===":"){switch(b.charAt(0)){case"R":C=1;break;case"L":C=-1;break;default:console.log("Unknown priority "+b+" in scope selector")}b=p.next()}var N=U();if(d.push({matcher:N,priority:C}),b!==",")break;b=p.next()}return d;function R(){if(b==="-"){b=p.next();var V=R();return function(M){return!!V&&!V(M)}}if(b==="("){b=p.next();var P=function(){for(var M=[],G=U();G&&(M.push(G),b==="|"||b===",");){do b=p.next();while(b==="|"||b===",");G=U()}return function(ae){return M.some(function(I){return I(ae)})}}();return b===")"&&(b=p.next()),P}if(r(b)){var $=[];do $.push(b),b=p.next();while(r(b));return function(M){return s($,M)}}return null}function U(){for(var V=[],P=R();P;)V.push(P),P=R();return function($){return V.every(function(M){return M($)})}}}},function(n,e){var t,r,i=n.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(V){if(t===setTimeout)return setTimeout(V,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(V,0);try{return t(V,0)}catch{try{return t.call(null,V,0)}catch{return t.call(this,V,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:s}catch{t=s}try{r=typeof clearTimeout=="function"?clearTimeout:o}catch{r=o}})();var c,d=[],p=!1,b=-1;function C(){p&&c&&(p=!1,c.length?d=c.concat(d):b=-1,d.length&&N())}function N(){if(!p){var V=a(C);p=!0;for(var P=d.length;P;){for(c=d,d=[];++b<P;)c&&c[b].run();b=-1,P=d.length}c=null,p=!1,function($){if(r===clearTimeout)return clearTimeout($);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout($);try{r($)}catch{try{return r.call(null,$)}catch{return r.call(this,$)}}}(V)}}function R(V,P){this.fun=V,this.array=P}function U(){}i.nextTick=function(V){var P=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)P[$-1]=arguments[$];d.push(new R(V,P)),d.length!==1||p||a(N)},R.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=U,i.addListener=U,i.once=U,i.off=U,i.removeListener=U,i.removeAllListeners=U,i.emit=U,i.prependListener=U,i.prependOnceListener=U,i.listeners=function(V){return[]},i.binding=function(V){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(V){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(9),i=t(2),s=t(10);e.parseRawGrammar=function(o,a){return a===void 0&&(a=null),a!==null&&/\.json$/.test(a)?function(c,d){return i.DebugFlags.InDebugMode?s.parse(c,d,!0):JSON.parse(c)}(o,a):function(c,d){return i.DebugFlags.InDebugMode?r.parseWithLocation(c,d,"$vscodeTextmateLocation"):r.parse(c)}(o,a)}},function(n,e,t){"use strict";function r(i,s,o){var a=i.length,c=0,d=1,p=0;function b(Lt){if(o===null)c+=Lt;else for(;Lt>0;)i.charCodeAt(c)===10?(c++,d++,p=0):(c++,p++),Lt--}function C(Lt){o===null?c=Lt:b(Lt-c)}function N(){for(;c<a;){var Lt=i.charCodeAt(c);if(Lt!==32&&Lt!==9&&Lt!==13&&Lt!==10)break;b(1)}}function R(Lt){return i.substr(c,Lt.length)===Lt&&(b(Lt.length),!0)}function U(Lt){var kt=i.indexOf(Lt,c);C(kt!==-1?kt+Lt.length:a)}function V(Lt){var kt=i.indexOf(Lt,c);if(kt!==-1){var cn=i.substring(c,kt);return C(kt+Lt.length),cn}return cn=i.substr(c),C(a),cn}a>0&&i.charCodeAt(0)===65279&&(c=1);var P=0,$=null,M=[],G=[],ae=null;function I(Lt,kt){M.push(P),G.push($),P=Lt,$=kt}function Z(){if(M.length===0)return me("illegal state stack");P=M.pop(),$=G.pop()}function me(Lt){throw new Error("Near offset "+c+": "+Lt+" ~~~"+i.substr(c,50)+"~~~")}var ye,He,ot,at=function(){if(ae===null)return me("missing <key>");var Lt={};o!==null&&(Lt[o]={filename:s,line:d,char:p}),$[ae]=Lt,ae=null,I(1,Lt)},Ze=function(){if(ae===null)return me("missing <key>");var Lt=[];$[ae]=Lt,ae=null,I(2,Lt)},Tt=function(){var Lt={};o!==null&&(Lt[o]={filename:s,line:d,char:p}),$.push(Lt),I(1,Lt)},Mt=function(){var Lt=[];$.push(Lt),I(2,Lt)};function Ue(){if(P!==1)return me("unexpected </dict>");Z()}function te(){return P===1||P!==2?me("unexpected </array>"):void Z()}function st(Lt){if(P===1){if(ae===null)return me("missing <key>");$[ae]=Lt,ae=null}else P===2?$.push(Lt):$=Lt}function be(Lt){if(isNaN(Lt))return me("cannot parse float");if(P===1){if(ae===null)return me("missing <key>");$[ae]=Lt,ae=null}else P===2?$.push(Lt):$=Lt}function Re(Lt){if(isNaN(Lt))return me("cannot parse integer");if(P===1){if(ae===null)return me("missing <key>");$[ae]=Lt,ae=null}else P===2?$.push(Lt):$=Lt}function Ae(Lt){if(P===1){if(ae===null)return me("missing <key>");$[ae]=Lt,ae=null}else P===2?$.push(Lt):$=Lt}function xe(Lt){if(P===1){if(ae===null)return me("missing <key>");$[ae]=Lt,ae=null}else P===2?$.push(Lt):$=Lt}function Je(Lt){if(P===1){if(ae===null)return me("missing <key>");$[ae]=Lt,ae=null}else P===2?$.push(Lt):$=Lt}function lt(Lt){if(Lt.isClosed)return"";var kt=V("</");return U(">"),kt.replace(/&#([0-9]+);/g,function(cn,wt){return String.fromCodePoint(parseInt(wt,10))}).replace(/&#x([0-9a-f]+);/g,function(cn,wt){return String.fromCodePoint(parseInt(wt,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(cn){switch(cn){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return cn})}for(;c<a&&(N(),!(c>=a));){var Qt=i.charCodeAt(c);if(b(1),Qt!==60)return me("expected <");if(c>=a)return me("unexpected end of input");var Et=i.charCodeAt(c);if(Et!==63)if(Et!==33){if(Et===47){if(b(1),N(),R("plist")){U(">");continue}if(R("dict")){U(">"),Ue();continue}if(R("array")){U(">"),te();continue}return me("unexpected closed tag")}var mn=(He=void 0,ot=void 0,He=V(">"),ot=!1,He.charCodeAt(He.length-1)===47&&(ot=!0,He=He.substring(0,He.length-1)),{name:He.trim(),isClosed:ot});switch(mn.name){case"dict":P===1?at():P===2?Tt():($={},o!==null&&($[o]={filename:s,line:d,char:p}),I(1,$)),mn.isClosed&&Ue();continue;case"array":P===1?Ze():P===2?Mt():I(2,$=[]),mn.isClosed&&te();continue;case"key":ye=lt(mn),P!==1?me("unexpected <key>"):ae!==null?me("too many <key>"):ae=ye;continue;case"string":st(lt(mn));continue;case"real":be(parseFloat(lt(mn)));continue;case"integer":Re(parseInt(lt(mn),10));continue;case"date":Ae(new Date(lt(mn)));continue;case"data":xe(lt(mn));continue;case"true":lt(mn),Je(!0);continue;case"false":lt(mn),Je(!1);continue}if(!/^plist/.test(mn.name))return me("unexpected opened tag "+mn.name)}else{if(b(1),R("--")){U("-->");continue}U(">")}else b(1),U("?>")}return $}Object.defineProperty(e,"__esModule",{value:!0}),e.parseWithLocation=function(i,s,o){return r(i,s,o)},e.parse=function(i){return r(i,null,null)}},function(n,e,t){"use strict";function r(a,c){throw new Error("Near offset "+a.pos+": "+c+" ~~~"+a.source.substr(a.pos,50)+"~~~")}Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(a,c,d){var p=new i(a),b=new s,C=0,N=null,R=[],U=[];function V(){R.push(C),U.push(N)}function P(){C=R.pop(),N=U.pop()}function $(I){r(p,I)}for(;o(p,b);){if(C===0){if(N!==null&&$("too many constructs in root"),b.type===3){N={},d&&(N.$vscodeTextmateLocation=b.toLocation(c)),V(),C=1;continue}if(b.type===2){N=[],V(),C=4;continue}$("unexpected token in root")}if(C===2){if(b.type===5){P();continue}if(b.type===7){C=3;continue}$("expected , or }")}if(C===1||C===3){if(C===1&&b.type===5){P();continue}if(b.type===1){var M=b.value;if(o(p,b)&&b.type===6||$("expected colon"),o(p,b)||$("expected value"),C=2,b.type===1){N[M]=b.value;continue}if(b.type===8){N[M]=null;continue}if(b.type===9){N[M]=!0;continue}if(b.type===10){N[M]=!1;continue}if(b.type===11){N[M]=parseFloat(b.value);continue}if(b.type===2){var G=[];N[M]=G,V(),C=4,N=G;continue}if(b.type===3){var ae={};d&&(ae.$vscodeTextmateLocation=b.toLocation(c)),N[M]=ae,V(),C=1,N=ae;continue}}$("unexpected token in dict")}if(C===5){if(b.type===4){P();continue}if(b.type===7){C=6;continue}$("expected , or ]")}if(C===4||C===6){if(C===4&&b.type===4){P();continue}if(C=5,b.type===1){N.push(b.value);continue}if(b.type===8){N.push(null);continue}if(b.type===9){N.push(!0);continue}if(b.type===10){N.push(!1);continue}if(b.type===11){N.push(parseFloat(b.value));continue}if(b.type===2){G=[],N.push(G),V(),C=4,N=G;continue}if(b.type===3){ae={},d&&(ae.$vscodeTextmateLocation=b.toLocation(c)),N.push(ae),V(),C=1,N=ae;continue}$("unexpected token in array")}$("unknown state")}return U.length!==0&&$("unclosed constructs"),N};var i=function(a){this.source=a,this.pos=0,this.len=a.length,this.line=1,this.char=0},s=function(){function a(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return a.prototype.toLocation=function(c){return{filename:c,line:this.line,char:this.char}},a}();function o(a,c){c.value=null,c.type=0,c.offset=-1,c.len=-1,c.line=-1,c.char=-1;for(var d,p=a.source,b=a.pos,C=a.len,N=a.line,R=a.char;;){if(b>=C)return!1;if((d=p.charCodeAt(b))!==32&&d!==9&&d!==13){if(d!==10)break;b++,N++,R=0}else b++,R++}if(c.offset=b,c.line=N,c.char=R,d===34){for(c.type=1,b++,R++;;){if(b>=C)return!1;if(d=p.charCodeAt(b),b++,R++,d!==92){if(d===34)break}else b++,R++}c.value=p.substring(c.offset+1,b-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(U,V){return String.fromCodePoint(parseInt(V,16))}).replace(/\\(.)/g,function(U,V){switch(V){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:r(a,"invalid escape sequence")}throw new Error("unreachable")})}else if(d===91)c.type=2,b++,R++;else if(d===123)c.type=3,b++,R++;else if(d===93)c.type=4,b++,R++;else if(d===125)c.type=5,b++,R++;else if(d===58)c.type=6,b++,R++;else if(d===44)c.type=7,b++,R++;else if(d===110){if(c.type=8,b++,R++,(d=p.charCodeAt(b))!==117||(b++,R++,(d=p.charCodeAt(b))!==108)||(b++,R++,(d=p.charCodeAt(b))!==108))return!1;b++,R++}else if(d===116){if(c.type=9,b++,R++,(d=p.charCodeAt(b))!==114||(b++,R++,(d=p.charCodeAt(b))!==117)||(b++,R++,(d=p.charCodeAt(b))!==101))return!1;b++,R++}else if(d===102){if(c.type=10,b++,R++,(d=p.charCodeAt(b))!==97||(b++,R++,(d=p.charCodeAt(b))!==108)||(b++,R++,(d=p.charCodeAt(b))!==115)||(b++,R++,(d=p.charCodeAt(b))!==101))return!1;b++,R++}else for(c.type=11;;){if(b>=C)return!1;if(!((d=p.charCodeAt(b))===46||d>=48&&d<=57||d===101||d===69||d===45||d===43))break;b++,R++}return c.len=b-c.offset,c.value===null&&(c.value=p.substr(c.offset,c.len)),a.pos=b,a.line=N,a.char=R,!0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(N,R,U,V,P,$){this.scope=N,this.parentScopes=R,this.index=U,this.fontStyle=V,this.foreground=P,this.background=$};function i(N){return!!/^#[0-9a-f]{6}$/i.test(N)||!!/^#[0-9a-f]{8}$/i.test(N)||!!/^#[0-9a-f]{3}$/i.test(N)||!!/^#[0-9a-f]{4}$/i.test(N)}function s(N){if(!N)return[];if(!N.settings||!Array.isArray(N.settings))return[];for(var R=N.settings,U=[],V=0,P=0,$=R.length;P<$;P++){var M=R[P];if(M.settings){var G=void 0;typeof M.scope=="string"?G=M.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):G=Array.isArray(M.scope)?M.scope:[""];var ae=-1;if(typeof M.settings.fontStyle=="string"){ae=0;for(var I=0,Z=(He=M.settings.fontStyle.split(" ")).length;I<Z;I++)switch(He[I]){case"italic":ae|=1;break;case"bold":ae|=2;break;case"underline":ae|=4}}var me=null;typeof M.settings.foreground=="string"&&i(M.settings.foreground)&&(me=M.settings.foreground);var ye=null;for(typeof M.settings.background=="string"&&i(M.settings.background)&&(ye=M.settings.background),I=0,Z=G.length;I<Z;I++){var He,ot=(He=G[I].trim().split(" "))[He.length-1],at=null;He.length>1&&(at=He.slice(0,He.length-1)).reverse(),U[V++]=new r(ot,at,P,ae,me,ye)}}}return U}function o(N,R){N.sort(function(ye,He){var ot=d(ye.scope,He.scope);return ot!==0||(ot=p(ye.parentScopes,He.parentScopes))!==0?ot:ye.index-He.index});for(var U=0,V="#000000",P="#ffffff";N.length>=1&&N[0].scope==="";){var $=N.shift();$.fontStyle!==-1&&(U=$.fontStyle),$.foreground!==null&&(V=$.foreground),$.background!==null&&(P=$.background)}for(var M=new a(R),G=new b(0,null,U,M.getId(V),M.getId(P)),ae=new C(new b(0,null,-1,0,0),[]),I=0,Z=N.length;I<Z;I++){var me=N[I];ae.insert(0,me.scope,me.parentScopes,me.fontStyle,M.getId(me.foreground),M.getId(me.background))}return new c(M,G,ae)}e.ParsedThemeRule=r,e.parseTheme=s;var a=function(){function N(R){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(R)){this._isFrozen=!0;for(var U=0,V=R.length;U<V;U++)this._color2id[R[U]]=U,this._id2color[U]=R[U]}else this._isFrozen=!1}return N.prototype.getId=function(R){if(R===null)return 0;R=R.toUpperCase();var U=this._color2id[R];if(U)return U;if(this._isFrozen)throw new Error("Missing color in color map - "+R);return U=++this._lastColorId,this._color2id[R]=U,this._id2color[U]=R,U},N.prototype.getColorMap=function(){return this._id2color.slice(0)},N}();e.ColorMap=a;var c=function(){function N(R,U,V){this._colorMap=R,this._root=V,this._defaults=U,this._cache={}}return N.createFromRawTheme=function(R,U){return this.createFromParsedTheme(s(R),U)},N.createFromParsedTheme=function(R,U){return o(R,U)},N.prototype.getColorMap=function(){return this._colorMap.getColorMap()},N.prototype.getDefaults=function(){return this._defaults},N.prototype.match=function(R){return this._cache.hasOwnProperty(R)||(this._cache[R]=this._root.match(R)),this._cache[R]},N}();function d(N,R){return N<R?-1:N>R?1:0}function p(N,R){if(N===null&&R===null)return 0;if(!N)return-1;if(!R)return 1;var U=N.length,V=R.length;if(U===V){for(var P=0;P<U;P++){var $=d(N[P],R[P]);if($!==0)return $}return 0}return U-V}e.Theme=c,e.strcmp=d,e.strArrCmp=p;var b=function(){function N(R,U,V,P,$){this.scopeDepth=R,this.parentScopes=U,this.fontStyle=V,this.foreground=P,this.background=$}return N.prototype.clone=function(){return new N(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},N.cloneArr=function(R){for(var U=[],V=0,P=R.length;V<P;V++)U[V]=R[V].clone();return U},N.prototype.acceptOverwrite=function(R,U,V,P){this.scopeDepth>R?console.log("how did this happen?"):this.scopeDepth=R,U!==-1&&(this.fontStyle=U),V!==0&&(this.foreground=V),P!==0&&(this.background=P)},N}();e.ThemeTrieElementRule=b;var C=function(){function N(R,U,V){U===void 0&&(U=[]),V===void 0&&(V={}),this._mainRule=R,this._rulesWithParentScopes=U,this._children=V}return N._sortBySpecificity=function(R){return R.length===1||R.sort(this._cmpBySpecificity),R},N._cmpBySpecificity=function(R,U){if(R.scopeDepth===U.scopeDepth){var V=R.parentScopes,P=U.parentScopes,$=V===null?0:V.length,M=P===null?0:P.length;if($===M)for(var G=0;G<$;G++){var ae=V[G].length,I=P[G].length;if(ae!==I)return I-ae}return M-$}return U.scopeDepth-R.scopeDepth},N.prototype.match=function(R){if(R==="")return N._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var U,V,P=R.indexOf(".");return P===-1?(U=R,V=""):(U=R.substring(0,P),V=R.substring(P+1)),this._children.hasOwnProperty(U)?this._children[U].match(V):N._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},N.prototype.insert=function(R,U,V,P,$,M){if(U!==""){var G,ae,I,Z=U.indexOf(".");Z===-1?(G=U,ae=""):(G=U.substring(0,Z),ae=U.substring(Z+1)),this._children.hasOwnProperty(G)?I=this._children[G]:(I=new N(this._mainRule.clone(),b.cloneArr(this._rulesWithParentScopes)),this._children[G]=I),I.insert(R+1,ae,V,P,$,M)}else this._doInsertHere(R,V,P,$,M)},N.prototype._doInsertHere=function(R,U,V,P,$){if(U!==null){for(var M=0,G=this._rulesWithParentScopes.length;M<G;M++){var ae=this._rulesWithParentScopes[M];if(p(ae.parentScopes,U)===0)return void ae.acceptOverwrite(R,V,P,$)}V===-1&&(V=this._mainRule.fontStyle),P===0&&(P=this._mainRule.foreground),$===0&&($=this._mainRule.background),this._rulesWithParentScopes.push(new b(R,U,V,P,$))}else this._mainRule.acceptOverwrite(R,V,P,$)},N}();e.ThemeTrieElement=C}])})});var FK=we(()=>{m()});var DK=we(()=>{m()});var ds=we((k6t,xI)=>{m();var gpe,ype,vpe,_pe,bpe,Epe,Spe,Cpe,wpe,pI,BK,Ape,Tpe,Fpe,i7,Dpe,Ope,Npe,Rpe,Lpe,kpe,Ipe,Mpe,Ppe,mI;(function(n){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){n(t(e,t(r)))}):typeof xI=="object"&&typeof xI.exports=="object"?n(t(e,t(xI.exports))):n(t(e));function t(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(s,o){return r[s]=i?i(s,o):o}}})(function(n){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])};gpe=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function s(){this.constructor=r}r.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},ype=Object.assign||function(r){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},vpe=function(r,i){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(s[o[a]]=r[o[a]]);return s},_pe=function(r,i,s,o){var a=arguments.length,c=a<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,s):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,o);else for(var p=r.length-1;p>=0;p--)(d=r[p])&&(c=(a<3?d(c):a>3?d(i,s,c):d(i,s))||c);return a>3&&c&&Object.defineProperty(i,s,c),c},bpe=function(r,i){return function(s,o){i(s,o,r)}},Epe=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},Spe=function(r,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function p(N){try{C(o.next(N))}catch(R){d(R)}}function b(N){try{C(o.throw(N))}catch(R){d(R)}}function C(N){N.done?c(N.value):a(N.value).then(p,b)}C((o=o.apply(r,i||[])).next())})},Cpe=function(r,i){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(C){return function(N){return b([C,N])}}function b(C){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(c=C[0]&2?a.return:C[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,C[1])).done)return c;switch(a=0,c&&(C=[C[0]&2,c.value]),C[0]){case 0:case 1:c=C;break;case 4:return s.label++,{value:C[1],done:!1};case 5:s.label++,a=C[1],C=[0];continue;case 7:C=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(C[0]===6||C[0]===2)){s=0;continue}if(C[0]===3&&(!c||C[1]>c[0]&&C[1]<c[3])){s.label=C[1];break}if(C[0]===6&&s.label<c[1]){s.label=c[1],c=C;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(C);break}c[2]&&s.ops.pop(),s.trys.pop();continue}C=i.call(r,s)}catch(N){C=[6,N],a=0}finally{o=c=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},wpe=function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&mI(i,r,s)},mI=Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]},pI=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&r[i],o=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},BK=function(r,i){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var o=s.call(r),a,c=[],d;try{for(;(i===void 0||i-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(p){d={error:p}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(d)throw d.error}}return c},Ape=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(BK(arguments[i]));return r},Tpe=function(){for(var r=0,i=0,s=arguments.length;i<s;i++)r+=arguments[i].length;for(var o=Array(r),a=0,i=0;i<s;i++)for(var c=arguments[i],d=0,p=c.length;d<p;d++,a++)o[a]=c[d];return o},Fpe=function(r,i,s){if(s||arguments.length===2)for(var o=0,a=i.length,c;o<a;o++)(c||!(o in i))&&(c||(c=Array.prototype.slice.call(i,0,o)),c[o]=i[o]);return r.concat(c||Array.prototype.slice.call(i))},i7=function(r){return this instanceof i7?(this.v=r,this):new i7(r)},Dpe=function(r,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(r,i||[]),a,c=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(U){o[U]&&(a[U]=function(V){return new Promise(function(P,$){c.push([U,V,P,$])>1||p(U,V)})})}function p(U,V){try{b(o[U](V))}catch(P){R(c[0][3],P)}}function b(U){U.value instanceof i7?Promise.resolve(U.value.v).then(C,N):R(c[0][2],U)}function C(U){p("next",U)}function N(U){p("throw",U)}function R(U,V){U(V),c.shift(),c.length&&p(c[0][0],c[0][1])}},Ope=function(r){var i,s;return i={},o("next"),o("throw",function(a){throw a}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(a,c){i[a]=r[a]?function(d){return(s=!s)?{value:i7(r[a](d)),done:a==="return"}:c?c(d):d}:c}},Npe=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],s;return i?i.call(r):(r=typeof pI=="function"?pI(r):r[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(c){s[c]=r[c]&&function(d){return new Promise(function(p,b){d=r[c](d),a(p,b,d.done,d.value)})}}function a(c,d,p,b){Promise.resolve(b).then(function(C){c({value:C,done:p})},d)}},Rpe=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var t=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};Lpe=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)s!=="default"&&Object.prototype.hasOwnProperty.call(r,s)&&mI(i,r,s);return t(i,r),i},kpe=function(r){return r&&r.__esModule?r:{default:r}},Ipe=function(r,i,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!o:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(r):o?o.value:i.get(r)},Mpe=function(r,i,s,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!a:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(r,s):a?a.value=s:i.set(r,s),s},Ppe=function(r,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?i===r:r.has(i)},n("__extends",gpe),n("__assign",ype),n("__rest",vpe),n("__decorate",_pe),n("__param",bpe),n("__metadata",Epe),n("__awaiter",Spe),n("__generator",Cpe),n("__exportStar",wpe),n("__createBinding",mI),n("__values",pI),n("__read",BK),n("__spread",Ape),n("__spreadArrays",Tpe),n("__spreadArray",Fpe),n("__await",i7),n("__asyncGenerator",Dpe),n("__asyncDelegator",Ope),n("__asyncValues",Npe),n("__makeTemplateObject",Rpe),n("__importStar",Lpe),n("__importDefault",kpe),n("__classPrivateFieldGet",Ipe),n("__classPrivateFieldSet",Mpe),n("__classPrivateFieldIn",Ppe)})});var l_=we(s7=>{"use strict";m();Object.defineProperty(s7,"__esModule",{value:!0});s7.encodeUtf8=s7.decodeUtf8=void 0;var fqe=new TextDecoder("utf-8"),dqe=n=>fqe.decode(n);s7.decodeUtf8=dqe;var hqe=new TextEncoder,pqe=n=>hqe.encode(n);s7.encodeUtf8=pqe});var om=we($i=>{"use strict";m();Object.defineProperty($i,"__esModule",{value:!0});$i.isFlatbuffersByteBuffer=$i.isReadableNodeStream=$i.isWritableNodeStream=$i.isReadableDOMStream=$i.isWritableDOMStream=$i.isFetchResponse=$i.isFSReadStream=$i.isFileHandle=$i.isUnderlyingSink=$i.isIteratorResult=$i.isArrayLike=$i.isArrowJSON=$i.isAsyncIterable=$i.isIterable=$i.isObservable=$i.isPromise=$i.isObject=$i.BigUint64ArrayAvailable=$i.BigUint64Array=$i.BigInt64ArrayAvailable=$i.BigInt64Array=$i.BigIntAvailable=$i.BigInt=void 0;var[mqe,xqe]=(()=>{let n=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw n()}return e.asIntN=()=>{throw n()},e.asUintN=()=>{throw n()},typeof BigInt!="undefined"?[BigInt,!0]:[e,!1]})();$i.BigInt=mqe;$i.BigIntAvailable=xqe;var[gqe,yqe]=(()=>{let n=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[e,!1]})();$i.BigInt64Array=gqe;$i.BigInt64ArrayAvailable=yqe;var[vqe,_qe]=(()=>{let n=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[e,!1]})();$i.BigUint64Array=vqe;$i.BigUint64ArrayAvailable=_qe;var jK=n=>typeof n=="number",Bpe=n=>typeof n=="boolean",Bu=n=>typeof n=="function",bqe=n=>n!=null&&Object(n)===n;$i.isObject=bqe;var Eqe=n=>(0,$i.isObject)(n)&&Bu(n.then);$i.isPromise=Eqe;var Sqe=n=>(0,$i.isObject)(n)&&Bu(n.subscribe);$i.isObservable=Sqe;var Cqe=n=>(0,$i.isObject)(n)&&Bu(n[Symbol.iterator]);$i.isIterable=Cqe;var wqe=n=>(0,$i.isObject)(n)&&Bu(n[Symbol.asyncIterator]);$i.isAsyncIterable=wqe;var Aqe=n=>(0,$i.isObject)(n)&&(0,$i.isObject)(n.schema);$i.isArrowJSON=Aqe;var Tqe=n=>(0,$i.isObject)(n)&&jK(n.length);$i.isArrayLike=Tqe;var Fqe=n=>(0,$i.isObject)(n)&&"done"in n&&"value"in n;$i.isIteratorResult=Fqe;var Dqe=n=>(0,$i.isObject)(n)&&Bu(n.abort)&&Bu(n.close)&&Bu(n.start)&&Bu(n.write);$i.isUnderlyingSink=Dqe;var Oqe=n=>(0,$i.isObject)(n)&&Bu(n.stat)&&jK(n.fd);$i.isFileHandle=Oqe;var Nqe=n=>(0,$i.isReadableNodeStream)(n)&&jK(n.bytesRead);$i.isFSReadStream=Nqe;var Rqe=n=>(0,$i.isObject)(n)&&(0,$i.isReadableDOMStream)(n.body);$i.isFetchResponse=Rqe;var gI=n=>"_getDOMStream"in n&&"_getNodeStream"in n,Lqe=n=>(0,$i.isObject)(n)&&Bu(n.abort)&&Bu(n.getWriter)&&!gI(n);$i.isWritableDOMStream=Lqe;var kqe=n=>(0,$i.isObject)(n)&&Bu(n.cancel)&&Bu(n.getReader)&&!gI(n);$i.isReadableDOMStream=kqe;var Iqe=n=>(0,$i.isObject)(n)&&Bu(n.end)&&Bu(n.write)&&Bpe(n.writable)&&!gI(n);$i.isWritableNodeStream=Iqe;var Mqe=n=>(0,$i.isObject)(n)&&Bu(n.read)&&Bu(n.pipe)&&Bpe(n.readable)&&!gI(n);$i.isReadableNodeStream=Mqe;var Pqe=n=>(0,$i.isObject)(n)&&Bu(n.clear)&&Bu(n.bytes)&&Bu(n.position)&&Bu(n.setPosition)&&Bu(n.capacity)&&Bu(n.getBufferIdentifier)&&Bu(n.createLong);$i.isFlatbuffersByteBuffer=Pqe});var jf=we(Di=>{"use strict";m();Object.defineProperty(Di,"__esModule",{value:!0});Di.compareArrayLike=Di.rebaseValueOffsets=Di.toUint8ClampedArrayAsyncIterator=Di.toFloat64ArrayAsyncIterator=Di.toFloat32ArrayAsyncIterator=Di.toUint32ArrayAsyncIterator=Di.toUint16ArrayAsyncIterator=Di.toUint8ArrayAsyncIterator=Di.toInt32ArrayAsyncIterator=Di.toInt16ArrayAsyncIterator=Di.toInt8ArrayAsyncIterator=Di.toArrayBufferViewAsyncIterator=Di.toUint8ClampedArrayIterator=Di.toFloat64ArrayIterator=Di.toFloat32ArrayIterator=Di.toUint32ArrayIterator=Di.toUint16ArrayIterator=Di.toUint8ArrayIterator=Di.toInt32ArrayIterator=Di.toInt16ArrayIterator=Di.toInt8ArrayIterator=Di.toArrayBufferViewIterator=Di.toUint8ClampedArray=Di.toFloat64Array=Di.toFloat32Array=Di.toBigUint64Array=Di.toUint32Array=Di.toUint16Array=Di.toUint8Array=Di.toBigInt64Array=Di.toInt32Array=Di.toInt16Array=Di.toInt8Array=Di.toArrayBufferView=Di.joinUint8Arrays=Di.memcpy=void 0;var fc=ds(),Bqe=l_(),F3=om(),qK=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function jqe(n){let e=n[0]?[n[0]]:[],t,r,i,s;for(let o,a,c=0,d=0,p=n.length;++c<p;){if(o=e[d],a=n[c],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++d]=a);continue}if({byteOffset:t,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,t+i<r||r+s<t){a&&(e[++d]=a);continue}e[d]=new Uint8Array(o.buffer,t,r-t+s)}return e}function UK(n,e,t=0,r=e.byteLength){let i=n.byteLength,s=new Uint8Array(n.buffer,n.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,t),n}Di.memcpy=UK;function qqe(n,e){let t=jqe(n),r=t.reduce((p,b)=>p+b.byteLength,0),i,s,o,a=0,c=-1,d=Math.min(e||Number.POSITIVE_INFINITY,r);for(let p=t.length;++c<p;){if(i=t[c],s=i.subarray(0,Math.min(i.length,d-a)),d<=a+s.length){s.length<i.length?t[c]=i.subarray(s.length):s.length===i.length&&c++,o?UK(o,s,a):o=s;break}UK(o||(o=new Uint8Array(d)),s,a),a+=s.length}return[o||new Uint8Array(0),t.slice(c),r-(o?o.byteLength:0)]}Di.joinUint8Arrays=qqe;function sd(n,e){let t=(0,F3.isIteratorResult)(e)?e.value:e;return t instanceof n?n===Uint8Array?new n(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=(0,Bqe.encodeUtf8)(t)),t instanceof ArrayBuffer?new n(t):t instanceof qK?new n(t):(0,F3.isFlatbuffersByteBuffer)(t)?sd(n,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new n(0):new n(t.buffer,t.byteOffset,t.byteLength/n.BYTES_PER_ELEMENT):n.from(t)):new n(0)}Di.toArrayBufferView=sd;var Uqe=n=>sd(Int8Array,n);Di.toInt8Array=Uqe;var $qe=n=>sd(Int16Array,n);Di.toInt16Array=$qe;var zqe=n=>sd(Int32Array,n);Di.toInt32Array=zqe;var Hqe=n=>sd(F3.BigInt64Array,n);Di.toBigInt64Array=Hqe;var Vqe=n=>sd(Uint8Array,n);Di.toUint8Array=Vqe;var Wqe=n=>sd(Uint16Array,n);Di.toUint16Array=Wqe;var Qqe=n=>sd(Uint32Array,n);Di.toUint32Array=Qqe;var Gqe=n=>sd(F3.BigUint64Array,n);Di.toBigUint64Array=Gqe;var Yqe=n=>sd(Float32Array,n);Di.toFloat32Array=Yqe;var Kqe=n=>sd(Float64Array,n);Di.toFloat64Array=Kqe;var Jqe=n=>sd(Uint8ClampedArray,n);Di.toUint8ClampedArray=Jqe;var $K=n=>(n.next(),n);function*am(n,e){let t=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof qK?t(e):(0,F3.isIterable)(e)?e:t(e);return yield*$K(function*(i){let s=null;do s=i.next(yield sd(n,s));while(!s.done)}(r[Symbol.iterator]())),new n}Di.toArrayBufferViewIterator=am;var Xqe=n=>am(Int8Array,n);Di.toInt8ArrayIterator=Xqe;var Zqe=n=>am(Int16Array,n);Di.toInt16ArrayIterator=Zqe;var eUe=n=>am(Int32Array,n);Di.toInt32ArrayIterator=eUe;var tUe=n=>am(Uint8Array,n);Di.toUint8ArrayIterator=tUe;var nUe=n=>am(Uint16Array,n);Di.toUint16ArrayIterator=nUe;var rUe=n=>am(Uint32Array,n);Di.toUint32ArrayIterator=rUe;var iUe=n=>am(Float32Array,n);Di.toFloat32ArrayIterator=iUe;var sUe=n=>am(Float64Array,n);Di.toFloat64ArrayIterator=sUe;var oUe=n=>am(Uint8ClampedArray,n);Di.toUint8ClampedArrayIterator=oUe;function Y1(n,e){return fc.__asyncGenerator(this,arguments,function*(){if((0,F3.isPromise)(e))return yield fc.__await(yield fc.__await(yield*fc.__asyncDelegator(fc.__asyncValues(Y1(n,yield fc.__await(e))))));let r=function(o){return fc.__asyncGenerator(this,arguments,function*(){yield yield fc.__await(yield fc.__await(o))})},i=function(o){return fc.__asyncGenerator(this,arguments,function*(){yield fc.__await(yield*fc.__asyncDelegator(fc.__asyncValues($K(function*(a){let c=null;do c=a.next(yield c==null?void 0:c.value);while(!c.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof qK?r(e):(0,F3.isIterable)(e)?i(e):(0,F3.isAsyncIterable)(e)?e:r(e);return yield fc.__await(yield*fc.__asyncDelegator(fc.__asyncValues($K(function(o){return fc.__asyncGenerator(this,arguments,function*(){let a=null;do a=yield fc.__await(o.next(yield yield fc.__await(sd(n,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield fc.__await(new n)})}Di.toArrayBufferViewAsyncIterator=Y1;var aUe=n=>Y1(Int8Array,n);Di.toInt8ArrayAsyncIterator=aUe;var uUe=n=>Y1(Int16Array,n);Di.toInt16ArrayAsyncIterator=uUe;var lUe=n=>Y1(Int32Array,n);Di.toInt32ArrayAsyncIterator=lUe;var cUe=n=>Y1(Uint8Array,n);Di.toUint8ArrayAsyncIterator=cUe;var fUe=n=>Y1(Uint16Array,n);Di.toUint16ArrayAsyncIterator=fUe;var dUe=n=>Y1(Uint32Array,n);Di.toUint32ArrayAsyncIterator=dUe;var hUe=n=>Y1(Float32Array,n);Di.toFloat32ArrayAsyncIterator=hUe;var pUe=n=>Y1(Float64Array,n);Di.toFloat64ArrayAsyncIterator=pUe;var mUe=n=>Y1(Uint8ClampedArray,n);Di.toUint8ClampedArrayAsyncIterator=mUe;function xUe(n,e,t){if(n!==0){t=t.slice(0,e+1);for(let r=-1;++r<=e;)t[r]+=n}return t}Di.rebaseValueOffsets=xUe;function gUe(n,e){let t=0,r=n.length;if(r!==e.length)return!1;if(r>0)do if(n[t]!==e[t])return!1;while(++t<r);return!0}Di.compareArrayLike=gUe});var VA=we(HK=>{"use strict";m();Object.defineProperty(HK,"__esModule",{value:!0});var eu=ds(),od=jf();HK.default={fromIterable(n){return yI(yUe(n))},fromAsyncIterable(n){return yI(vUe(n))},fromDOMStream(n){return yI(_Ue(n))},fromNodeStream(n){return yI(bUe(n))},toDOMStream(n,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(n,e){throw new Error('"toNodeStream" not available in this environment')}};var yI=n=>(n.next(),n);function*yUe(n){let e,t=!1,r=[],i,s,o,a=0;function c(){return s==="peek"?(0,od.joinUint8Arrays)(r,o)[0]:([i,r,a]=(0,od.joinUint8Arrays)(r,o),i)}({cmd:s,size:o}=yield null);let d=(0,od.toUint8ArrayIterator)(n)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?d.next():d.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield c());while(o<a);while(!e)}catch(p){(t=!0)&&typeof d.throw=="function"&&d.throw(p)}finally{t===!1&&typeof d.return=="function"&&d.return(null)}return null}function vUe(n){return eu.__asyncGenerator(this,arguments,function*(){let t,r=!1,i=[],s,o,a,c=0;function d(){return o==="peek"?(0,od.joinUint8Arrays)(i,a)[0]:([s,i,c]=(0,od.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield eu.__await(null));let p=(0,od.toUint8ArrayAsyncIterator)(n)[Symbol.asyncIterator]();try{do if({done:t,value:s}=Number.isNaN(a-c)?yield eu.__await(p.next()):yield eu.__await(p.next(a-c)),!t&&s.byteLength>0&&(i.push(s),c+=s.byteLength),t||a<=c)do({cmd:o,size:a}=yield yield eu.__await(d()));while(a<c);while(!t)}catch(b){(r=!0)&&typeof p.throw=="function"&&(yield eu.__await(p.throw(b)))}finally{r===!1&&typeof p.return=="function"&&(yield eu.__await(p.return(new Uint8Array(0))))}return yield eu.__await(null)})}function _Ue(n){return eu.__asyncGenerator(this,arguments,function*(){let t=!1,r=!1,i=[],s,o,a,c=0;function d(){return o==="peek"?(0,od.joinUint8Arrays)(i,a)[0]:([s,i,c]=(0,od.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield eu.__await(null));let p=new jpe(n);try{do if({done:t,value:s}=Number.isNaN(a-c)?yield eu.__await(p.read()):yield eu.__await(p.read(a-c)),!t&&s.byteLength>0&&(i.push((0,od.toUint8Array)(s)),c+=s.byteLength),t||a<=c)do({cmd:o,size:a}=yield yield eu.__await(d()));while(a<c);while(!t)}catch(b){(r=!0)&&(yield eu.__await(p.cancel(b)))}finally{r===!1?yield eu.__await(p.cancel()):n.locked&&p.releaseLock()}return yield eu.__await(null)})}var jpe=class{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return eu.__awaiter(this,void 0,void 0,function*(){let{reader:t,source:r}=this;t&&(yield t.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return eu.__awaiter(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let t=yield this.reader.read();return!t.done&&(t.value=(0,od.toUint8Array)(t)),t})}},zK=(n,e)=>{let t=i=>r([e,i]),r;return[e,t,new Promise(i=>(r=i)&&n.once(e,t))]};function bUe(n){return eu.__asyncGenerator(this,arguments,function*(){let t=[],r="error",i=!1,s=null,o,a,c=0,d=[],p;function b(){return o==="peek"?(0,od.joinUint8Arrays)(d,a)[0]:([p,d,c]=(0,od.joinUint8Arrays)(d,a),p)}if({cmd:o,size:a}=yield yield eu.__await(null),n.isTTY)return yield yield eu.__await(new Uint8Array(0)),yield eu.__await(null);try{t[0]=zK(n,"end"),t[1]=zK(n,"error");do{if(t[2]=zK(n,"readable"),[r,s]=yield eu.__await(Promise.race(t.map(N=>N[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-c)?(p=(0,od.toUint8Array)(n.read(a-c)),p.byteLength<a-c&&(p=(0,od.toUint8Array)(n.read()))):p=(0,od.toUint8Array)(n.read()),p.byteLength>0&&(d.push(p),c+=p.byteLength)),i||a<=c)do({cmd:o,size:a}=yield yield eu.__await(b()));while(a<c)}while(!i)}finally{yield eu.__await(C(t,r==="error"?s:null))}return yield eu.__await(null);function C(N,R){return p=d=null,new Promise((U,V)=>{for(let[P,$]of N)n.off(P,$);try{let P=n.destroy;P&&P.call(n,R),R=void 0}catch(P){R=P||R}finally{R!=null?V(R):U()}})}})}});var Al=we(Aa=>{"use strict";m();Object.defineProperty(Aa,"__esModule",{value:!0});Aa.BufferType=Aa.Type=Aa.MessageHeader=Aa.IntervalUnit=Aa.TimeUnit=Aa.DateUnit=Aa.Precision=Aa.UnionMode=Aa.MetadataVersion=void 0;var EUe;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(EUe=Aa.MetadataVersion||(Aa.MetadataVersion={}));var SUe;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(SUe=Aa.UnionMode||(Aa.UnionMode={}));var CUe;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(CUe=Aa.Precision||(Aa.Precision={}));var wUe;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(wUe=Aa.DateUnit||(Aa.DateUnit={}));var AUe;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(AUe=Aa.TimeUnit||(Aa.TimeUnit={}));var TUe;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(TUe=Aa.IntervalUnit||(Aa.IntervalUnit={}));var FUe;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(FUe=Aa.MessageHeader||(Aa.MessageHeader={}));var DUe;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(DUe=Aa.Type||(Aa.Type={}));var OUe;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(OUe=Aa.BufferType||(Aa.BufferType={}))});var _I=we(vI=>{"use strict";m();Object.defineProperty(vI,"__esModule",{value:!0});vI.valueToString=void 0;var NUe=void 0;function qpe(n){if(n===null)return"null";if(n===NUe)return"undefined";switch(typeof n){case"number":return`${n}`;case"bigint":return`${n}`;case"string":return`"${n}"`}return typeof n[Symbol.toPrimitive]=="function"?n[Symbol.toPrimitive]("string"):ArrayBuffer.isView(n)?n instanceof BigInt64Array||n instanceof BigUint64Array?`[${[...n].map(e=>qpe(e))}]`:`[${n}]`:ArrayBuffer.isView(n)?`[${n}]`:JSON.stringify(n,(e,t)=>typeof t=="bigint"?`${t}`:t)}vI.valueToString=qpe});var EI=we(Pc=>{"use strict";m();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.BN=Pc.bignumToBigInt=Pc.bignumToString=Pc.isArrowBigNumSymbol=void 0;var RUe=jf(),o7=om();Pc.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function K1(n,...e){return e.length===0?Object.setPrototypeOf((0,RUe.toArrayBufferView)(this.TypedArray,n),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(n,...e),this.constructor.prototype)}K1.prototype[Pc.isArrowBigNumSymbol]=!0;K1.prototype.toJSON=function(){return`"${(0,Pc.bignumToString)(this)}"`};K1.prototype.valueOf=function(){return Upe(this)};K1.prototype.toString=function(){return(0,Pc.bignumToString)(this)};K1.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return Upe(this);case"string":return(0,Pc.bignumToString)(this);case"default":return(0,Pc.bignumToBigInt)(this)}return(0,Pc.bignumToString)(this)};function a7(...n){return K1.apply(this,n)}function u7(...n){return K1.apply(this,n)}function WA(...n){return K1.apply(this,n)}Object.setPrototypeOf(a7.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(u7.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(WA.prototype,Object.create(Uint32Array.prototype));Object.assign(a7.prototype,K1.prototype,{constructor:a7,signed:!0,TypedArray:Int32Array,BigIntArray:o7.BigInt64Array});Object.assign(u7.prototype,K1.prototype,{constructor:u7,signed:!1,TypedArray:Uint32Array,BigIntArray:o7.BigUint64Array});Object.assign(WA.prototype,K1.prototype,{constructor:WA,signed:!0,TypedArray:Uint32Array,BigIntArray:o7.BigUint64Array});function Upe(n){let{buffer:e,byteOffset:t,length:r,signed:i}=n,s=new o7.BigUint64Array(e,t,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63),a=BigInt(o?1:0),c=BigInt(0);if(o){for(let d of s)a+=~d*(BigInt(1)<<BigInt(32)*c++);a*=BigInt(-1)}else for(let d of s)a+=d*(BigInt(1)<<BigInt(32)*c++);return a}o7.BigIntAvailable?(Pc.bignumToBigInt=n=>n.byteLength===8?new n.BigIntArray(n.buffer,n.byteOffset,1)[0]:VK(n),Pc.bignumToString=n=>n.byteLength===8?`${new n.BigIntArray(n.buffer,n.byteOffset,1)[0]}`:VK(n)):(Pc.bignumToString=VK,Pc.bignumToBigInt=Pc.bignumToString);function VK(n){let e="",t=new Uint32Array(2),r=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),s=-1,o=r.length-1;do{for(t[0]=r[s=0];s<o;)r[s++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+r[s];r[s]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e||"0"}var bI=class{static new(e,t){switch(t){case!0:return new a7(e);case!1:return new u7(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case o7.BigInt64Array:return new a7(e)}return e.byteLength===16?new WA(e):new u7(e)}static signed(e){return new a7(e)}static unsigned(e){return new u7(e)}static decimal(e){return new WA(e)}constructor(e,t){return bI.new(e,t)}};Pc.BN=bI});var tu=we(ei=>{"use strict";m();var $pe,zpe,Hpe,Vpe,Wpe,Qpe,Gpe,Ype,Kpe,Jpe,Xpe,Zpe,e1e,t1e,n1e,r1e,i1e,s1e,o1e;Object.defineProperty(ei,"__esModule",{value:!0});ei.strideForType=ei.Dictionary=ei.Map_=ei.FixedSizeList=ei.FixedSizeBinary=ei.SparseUnion=ei.DenseUnion=ei.Union=ei.Struct=ei.List=ei.IntervalYearMonth=ei.IntervalDayTime=ei.Interval=ei.TimestampNanosecond=ei.TimestampMicrosecond=ei.TimestampMillisecond=ei.TimestampSecond=ei.Timestamp=ei.TimeNanosecond=ei.TimeMicrosecond=ei.TimeMillisecond=ei.TimeSecond=ei.Time=ei.DateMillisecond=ei.DateDay=ei.Date_=ei.Decimal=ei.Bool=ei.Utf8=ei.Binary=ei.Float64=ei.Float32=ei.Float16=ei.Float=ei.Uint64=ei.Uint32=ei.Uint16=ei.Uint8=ei.Int64=ei.Int32=ei.Int16=ei.Int8=ei.Int=ei.Null=ei.DataType=void 0;var Mi=Al(),gu=class{static isNull(e){return(e==null?void 0:e.typeId)===Mi.Type.Null}static isInt(e){return(e==null?void 0:e.typeId)===Mi.Type.Int}static isFloat(e){return(e==null?void 0:e.typeId)===Mi.Type.Float}static isBinary(e){return(e==null?void 0:e.typeId)===Mi.Type.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===Mi.Type.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===Mi.Type.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===Mi.Type.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===Mi.Type.Date}static isTime(e){return(e==null?void 0:e.typeId)===Mi.Type.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===Mi.Type.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===Mi.Type.Interval}static isList(e){return(e==null?void 0:e.typeId)===Mi.Type.List}static isStruct(e){return(e==null?void 0:e.typeId)===Mi.Type.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===Mi.Type.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===Mi.Type.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===Mi.Type.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===Mi.Type.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===Mi.Type.Dictionary}static isDenseUnion(e){return gu.isUnion(e)&&e.mode===Mi.UnionMode.Dense}static isSparseUnion(e){return gu.isUnion(e)&&e.mode===Mi.UnionMode.Sparse}get typeId(){return Mi.Type.NONE}};ei.DataType=gu;$pe=Symbol.toStringTag;gu[$pe]=(n=>(n.children=null,n.ArrayType=Array,n[Symbol.toStringTag]="DataType"))(gu.prototype);var SI=class extends gu{toString(){return"Null"}get typeId(){return Mi.Type.Null}};ei.Null=SI;zpe=Symbol.toStringTag;SI[zpe]=(n=>n[Symbol.toStringTag]="Null")(SI.prototype);var Tp=class extends gu{constructor(e,t){super();this.isSigned=e,this.bitWidth=t}get typeId(){return Mi.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};ei.Int=Tp;Hpe=Symbol.toStringTag;Tp[Hpe]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))(Tp.prototype);var WK=class extends Tp{constructor(){super(!0,8)}get ArrayType(){return Int8Array}};ei.Int8=WK;var QK=class extends Tp{constructor(){super(!0,16)}get ArrayType(){return Int16Array}};ei.Int16=QK;var GK=class extends Tp{constructor(){super(!0,32)}get ArrayType(){return Int32Array}};ei.Int32=GK;var YK=class extends Tp{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}};ei.Int64=YK;var KK=class extends Tp{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}};ei.Uint8=KK;var JK=class extends Tp{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}};ei.Uint16=JK;var XK=class extends Tp{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}};ei.Uint32=XK;var ZK=class extends Tp{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}};ei.Uint64=ZK;Object.defineProperty(WK.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(QK.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(GK.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(YK.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(KK.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(JK.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(XK.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(ZK.prototype,"ArrayType",{value:BigUint64Array});var c_=class extends gu{constructor(e){super();this.precision=e}get typeId(){return Mi.Type.Float}get ArrayType(){switch(this.precision){case Mi.Precision.HALF:return Uint16Array;case Mi.Precision.SINGLE:return Float32Array;case Mi.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};ei.Float=c_;Vpe=Symbol.toStringTag;c_[Vpe]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(c_.prototype);var eJ=class extends c_{constructor(){super(Mi.Precision.HALF)}};ei.Float16=eJ;var tJ=class extends c_{constructor(){super(Mi.Precision.SINGLE)}};ei.Float32=tJ;var nJ=class extends c_{constructor(){super(Mi.Precision.DOUBLE)}};ei.Float64=nJ;Object.defineProperty(eJ.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(tJ.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(nJ.prototype,"ArrayType",{value:Float64Array});var CI=class extends gu{constructor(){super()}get typeId(){return Mi.Type.Binary}toString(){return"Binary"}};ei.Binary=CI;Wpe=Symbol.toStringTag;CI[Wpe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))(CI.prototype);var wI=class extends gu{constructor(){super()}get typeId(){return Mi.Type.Utf8}toString(){return"Utf8"}};ei.Utf8=wI;Qpe=Symbol.toStringTag;wI[Qpe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(wI.prototype);var AI=class extends gu{constructor(){super()}get typeId(){return Mi.Type.Bool}toString(){return"Bool"}};ei.Bool=AI;Gpe=Symbol.toStringTag;AI[Gpe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(AI.prototype);var TI=class extends gu{constructor(e,t,r=128){super();this.scale=e,this.precision=t,this.bitWidth=r}get typeId(){return Mi.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};ei.Decimal=TI;Ype=Symbol.toStringTag;TI[Ype]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(TI.prototype);var l7=class extends gu{constructor(e){super();this.unit=e}get typeId(){return Mi.Type.Date}toString(){return`Date${(this.unit+1)*32}<${Mi.DateUnit[this.unit]}>`}};ei.Date_=l7;Kpe=Symbol.toStringTag;l7[Kpe]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"))(l7.prototype);var a1e=class extends l7{constructor(){super(Mi.DateUnit.DAY)}};ei.DateDay=a1e;var u1e=class extends l7{constructor(){super(Mi.DateUnit.MILLISECOND)}};ei.DateMillisecond=u1e;var D3=class extends gu{constructor(e,t){super();this.unit=e,this.bitWidth=t}get typeId(){return Mi.Type.Time}toString(){return`Time${this.bitWidth}<${Mi.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}};ei.Time=D3;Jpe=Symbol.toStringTag;D3[Jpe]=(n=>(n.unit=null,n.bitWidth=null,n[Symbol.toStringTag]="Time"))(D3.prototype);var l1e=class extends D3{constructor(){super(Mi.TimeUnit.SECOND,32)}};ei.TimeSecond=l1e;var c1e=class extends D3{constructor(){super(Mi.TimeUnit.MILLISECOND,32)}};ei.TimeMillisecond=c1e;var f1e=class extends D3{constructor(){super(Mi.TimeUnit.MICROSECOND,64)}};ei.TimeMicrosecond=f1e;var d1e=class extends D3{constructor(){super(Mi.TimeUnit.NANOSECOND,64)}};ei.TimeNanosecond=d1e;var O3=class extends gu{constructor(e,t){super();this.unit=e,this.timezone=t}get typeId(){return Mi.Type.Timestamp}toString(){return`Timestamp<${Mi.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};ei.Timestamp=O3;Xpe=Symbol.toStringTag;O3[Xpe]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"))(O3.prototype);var h1e=class extends O3{constructor(e){super(Mi.TimeUnit.SECOND,e)}};ei.TimestampSecond=h1e;var p1e=class extends O3{constructor(e){super(Mi.TimeUnit.MILLISECOND,e)}};ei.TimestampMillisecond=p1e;var m1e=class extends O3{constructor(e){super(Mi.TimeUnit.MICROSECOND,e)}};ei.TimestampMicrosecond=m1e;var x1e=class extends O3{constructor(e){super(Mi.TimeUnit.NANOSECOND,e)}};ei.TimestampNanosecond=x1e;var c7=class extends gu{constructor(e){super();this.unit=e}get typeId(){return Mi.Type.Interval}toString(){return`Interval<${Mi.IntervalUnit[this.unit]}>`}};ei.Interval=c7;Zpe=Symbol.toStringTag;c7[Zpe]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))(c7.prototype);var g1e=class extends c7{constructor(){super(Mi.IntervalUnit.DAY_TIME)}};ei.IntervalDayTime=g1e;var y1e=class extends c7{constructor(){super(Mi.IntervalUnit.YEAR_MONTH)}};ei.IntervalYearMonth=y1e;var FI=class extends gu{constructor(e){super();this.children=[e]}get typeId(){return Mi.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};ei.List=FI;e1e=Symbol.toStringTag;FI[e1e]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(FI.prototype);var DI=class extends gu{constructor(e){super();this.children=e}get typeId(){return Mi.Type.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};ei.Struct=DI;t1e=Symbol.toStringTag;DI[t1e]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(DI.prototype);var f7=class extends gu{constructor(e,t,r){super();this.mode=e,this.children=r,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return Mi.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}};ei.Union=f7;n1e=Symbol.toStringTag;f7[n1e]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(f7.prototype);var v1e=class extends f7{constructor(e,t){super(Mi.UnionMode.Dense,e,t)}};ei.DenseUnion=v1e;var _1e=class extends f7{constructor(e,t){super(Mi.UnionMode.Sparse,e,t)}};ei.SparseUnion=_1e;var OI=class extends gu{constructor(e){super();this.byteWidth=e}get typeId(){return Mi.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};ei.FixedSizeBinary=OI;r1e=Symbol.toStringTag;OI[r1e]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))(OI.prototype);var NI=class extends gu{constructor(e,t){super();this.listSize=e,this.children=[t]}get typeId(){return Mi.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};ei.FixedSizeList=NI;i1e=Symbol.toStringTag;NI[i1e]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(NI.prototype);var RI=class extends gu{constructor(e,t=!1){super();this.children=[e],this.keysSorted=t}get typeId(){return Mi.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};ei.Map_=RI;s1e=Symbol.toStringTag;RI[s1e]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))(RI.prototype);var LUe=(n=>()=>++n)(-1),LI=class extends gu{constructor(e,t,r,i){super();this.indices=t,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?LUe():typeof r=="number"?r:r.low}get typeId(){return Mi.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};ei.Dictionary=LI;o1e=Symbol.toStringTag;LI[o1e]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))(LI.prototype);function kUe(n){let e=n;switch(n.typeId){case Mi.Type.Decimal:return n.bitWidth/32;case Mi.Type.Timestamp:return 2;case Mi.Type.Date:return 1+e.unit;case Mi.Type.Interval:return 1+e.unit;case Mi.Type.FixedSizeList:return e.listSize;case Mi.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}ei.strideForType=kUe});var ad=we(kI=>{"use strict";m();Object.defineProperty(kI,"__esModule",{value:!0});kI.Visitor=void 0;var _r=Al(),b1e=tu(),za=class{visitMany(e,...t){return e.map((r,i)=>this.visit(r,...t.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return IUe(this,e,t)}getVisitFnByTypeId(e,t=!0){return d7(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};kI.Visitor=za;function IUe(n,e,t=!0){return typeof e=="number"?d7(n,e,t):typeof e=="string"&&e in _r.Type?d7(n,_r.Type[e],t):e&&e instanceof b1e.DataType?d7(n,E1e(e),t):(e==null?void 0:e.type)&&e.type instanceof b1e.DataType?d7(n,E1e(e.type),t):d7(n,_r.Type.NONE,t)}function d7(n,e,t=!0){let r=null;switch(e){case _r.Type.Null:r=n.visitNull;break;case _r.Type.Bool:r=n.visitBool;break;case _r.Type.Int:r=n.visitInt;break;case _r.Type.Int8:r=n.visitInt8||n.visitInt;break;case _r.Type.Int16:r=n.visitInt16||n.visitInt;break;case _r.Type.Int32:r=n.visitInt32||n.visitInt;break;case _r.Type.Int64:r=n.visitInt64||n.visitInt;break;case _r.Type.Uint8:r=n.visitUint8||n.visitInt;break;case _r.Type.Uint16:r=n.visitUint16||n.visitInt;break;case _r.Type.Uint32:r=n.visitUint32||n.visitInt;break;case _r.Type.Uint64:r=n.visitUint64||n.visitInt;break;case _r.Type.Float:r=n.visitFloat;break;case _r.Type.Float16:r=n.visitFloat16||n.visitFloat;break;case _r.Type.Float32:r=n.visitFloat32||n.visitFloat;break;case _r.Type.Float64:r=n.visitFloat64||n.visitFloat;break;case _r.Type.Utf8:r=n.visitUtf8;break;case _r.Type.Binary:r=n.visitBinary;break;case _r.Type.FixedSizeBinary:r=n.visitFixedSizeBinary;break;case _r.Type.Date:r=n.visitDate;break;case _r.Type.DateDay:r=n.visitDateDay||n.visitDate;break;case _r.Type.DateMillisecond:r=n.visitDateMillisecond||n.visitDate;break;case _r.Type.Timestamp:r=n.visitTimestamp;break;case _r.Type.TimestampSecond:r=n.visitTimestampSecond||n.visitTimestamp;break;case _r.Type.TimestampMillisecond:r=n.visitTimestampMillisecond||n.visitTimestamp;break;case _r.Type.TimestampMicrosecond:r=n.visitTimestampMicrosecond||n.visitTimestamp;break;case _r.Type.TimestampNanosecond:r=n.visitTimestampNanosecond||n.visitTimestamp;break;case _r.Type.Time:r=n.visitTime;break;case _r.Type.TimeSecond:r=n.visitTimeSecond||n.visitTime;break;case _r.Type.TimeMillisecond:r=n.visitTimeMillisecond||n.visitTime;break;case _r.Type.TimeMicrosecond:r=n.visitTimeMicrosecond||n.visitTime;break;case _r.Type.TimeNanosecond:r=n.visitTimeNanosecond||n.visitTime;break;case _r.Type.Decimal:r=n.visitDecimal;break;case _r.Type.List:r=n.visitList;break;case _r.Type.Struct:r=n.visitStruct;break;case _r.Type.Union:r=n.visitUnion;break;case _r.Type.DenseUnion:r=n.visitDenseUnion||n.visitUnion;break;case _r.Type.SparseUnion:r=n.visitSparseUnion||n.visitUnion;break;case _r.Type.Dictionary:r=n.visitDictionary;break;case _r.Type.Interval:r=n.visitInterval;break;case _r.Type.IntervalDayTime:r=n.visitIntervalDayTime||n.visitInterval;break;case _r.Type.IntervalYearMonth:r=n.visitIntervalYearMonth||n.visitInterval;break;case _r.Type.FixedSizeList:r=n.visitFixedSizeList;break;case _r.Type.Map:r=n.visitMap;break}if(typeof r=="function")return r;if(!t)return()=>null;throw new Error(`Unrecognized type '${_r.Type[e]}'`)}function E1e(n){switch(n.typeId){case _r.Type.Null:return _r.Type.Null;case _r.Type.Int:{let{bitWidth:e,isSigned:t}=n;switch(e){case 8:return t?_r.Type.Int8:_r.Type.Uint8;case 16:return t?_r.Type.Int16:_r.Type.Uint16;case 32:return t?_r.Type.Int32:_r.Type.Uint32;case 64:return t?_r.Type.Int64:_r.Type.Uint64}return _r.Type.Int}case _r.Type.Float:switch(n.precision){case _r.Precision.HALF:return _r.Type.Float16;case _r.Precision.SINGLE:return _r.Type.Float32;case _r.Precision.DOUBLE:return _r.Type.Float64}return _r.Type.Float;case _r.Type.Binary:return _r.Type.Binary;case _r.Type.Utf8:return _r.Type.Utf8;case _r.Type.Bool:return _r.Type.Bool;case _r.Type.Decimal:return _r.Type.Decimal;case _r.Type.Time:switch(n.unit){case _r.TimeUnit.SECOND:return _r.Type.TimeSecond;case _r.TimeUnit.MILLISECOND:return _r.Type.TimeMillisecond;case _r.TimeUnit.MICROSECOND:return _r.Type.TimeMicrosecond;case _r.TimeUnit.NANOSECOND:return _r.Type.TimeNanosecond}return _r.Type.Time;case _r.Type.Timestamp:switch(n.unit){case _r.TimeUnit.SECOND:return _r.Type.TimestampSecond;case _r.TimeUnit.MILLISECOND:return _r.Type.TimestampMillisecond;case _r.TimeUnit.MICROSECOND:return _r.Type.TimestampMicrosecond;case _r.TimeUnit.NANOSECOND:return _r.Type.TimestampNanosecond}return _r.Type.Timestamp;case _r.Type.Date:switch(n.unit){case _r.DateUnit.DAY:return _r.Type.DateDay;case _r.DateUnit.MILLISECOND:return _r.Type.DateMillisecond}return _r.Type.Date;case _r.Type.Interval:switch(n.unit){case _r.IntervalUnit.DAY_TIME:return _r.Type.IntervalDayTime;case _r.IntervalUnit.YEAR_MONTH:return _r.Type.IntervalYearMonth}return _r.Type.Interval;case _r.Type.Map:return _r.Type.Map;case _r.Type.List:return _r.Type.List;case _r.Type.Struct:return _r.Type.Struct;case _r.Type.Union:switch(n.mode){case _r.UnionMode.Dense:return _r.Type.DenseUnion;case _r.UnionMode.Sparse:return _r.Type.SparseUnion}return _r.Type.Union;case _r.Type.FixedSizeBinary:return _r.Type.FixedSizeBinary;case _r.Type.FixedSizeList:return _r.Type.FixedSizeList;case _r.Type.Dictionary:return _r.Type.Dictionary}throw new Error(`Unrecognized type '${_r.Type[n.typeId]}'`)}za.prototype.visitInt8=null;za.prototype.visitInt16=null;za.prototype.visitInt32=null;za.prototype.visitInt64=null;za.prototype.visitUint8=null;za.prototype.visitUint16=null;za.prototype.visitUint32=null;za.prototype.visitUint64=null;za.prototype.visitFloat16=null;za.prototype.visitFloat32=null;za.prototype.visitFloat64=null;za.prototype.visitDateDay=null;za.prototype.visitDateMillisecond=null;za.prototype.visitTimestampSecond=null;za.prototype.visitTimestampMillisecond=null;za.prototype.visitTimestampMicrosecond=null;za.prototype.visitTimestampNanosecond=null;za.prototype.visitTimeSecond=null;za.prototype.visitTimeMillisecond=null;za.prototype.visitTimeMicrosecond=null;za.prototype.visitTimeNanosecond=null;za.prototype.visitDenseUnion=null;za.prototype.visitSparseUnion=null;za.prototype.visitIntervalDayTime=null;za.prototype.visitIntervalYearMonth=null});var QA=we(p7=>{"use strict";m();Object.defineProperty(p7,"__esModule",{value:!0});p7.float64ToUint16=p7.uint16ToFloat64=void 0;var S1e=new Float64Array(1),h7=new Uint32Array(S1e.buffer);function MUe(n){let e=(n&31744)>>10,t=(n&1023)/1024,r=Math.pow(-1,(n&32768)>>15);switch(e){case 31:return r*(t?Number.NaN:1/0);case 0:return r*(t?6103515625e-14*t:0)}return r*Math.pow(2,e-15)*(1+t)}p7.uint16ToFloat64=MUe;function PUe(n){if(n!==n)return 32256;S1e[0]=n;let e=(h7[1]&2147483648)>>16&65535,t=h7[1]&2146435072,r=0;return t>=1089470464?h7[0]>0?t=31744:(t=(t&2080374784)>>16,r=(h7[1]&1048575)>>10):t<=1056964608?(r=1048576+(h7[1]&1048575),r=1048576+(r<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,r=(h7[1]&1048575)+512>>10),e|t|r&65535}p7.float64ToUint16=PUe});var Fp=we(Ar=>{"use strict";m();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.instance=Ar.setIntervalYearMonth=Ar.setIntervalDayTime=Ar.setIntervalValue=Ar.setDecimal=Ar.setTime=Ar.setTimeNanosecond=Ar.setTimeMicrosecond=Ar.setTimeMillisecond=Ar.setTimeSecond=Ar.setTimestamp=Ar.setTimestampNanosecond=Ar.setTimestampMicrosecond=Ar.setTimestampMillisecond=Ar.setTimestampSecond=Ar.setDate=Ar.setFixedSizeBinary=Ar.setDateMillisecond=Ar.setDateDay=Ar.setAnyFloat=Ar.setFloat16=Ar.setFloat=Ar.setInt=Ar.setVariableWidthBytes=Ar.setEpochMsToNanosecondsLong=Ar.setEpochMsToMicrosecondsLong=Ar.setEpochMsToMillisecondsLong=Ar.setEpochMsToDays=Ar.SetVisitor=void 0;var BUe=ud(),jUe=ad(),qUe=l_(),UUe=QA(),eh=Al(),Gs=class extends jUe.Visitor{};Ar.SetVisitor=Gs;function mo(n){return(e,t,r)=>{if(e.setValid(t,r!=null))return n(e,t,r)}}var $Ue=(n,e,t)=>{n[e]=Math.trunc(t/864e5)};Ar.setEpochMsToDays=$Ue;var zUe=(n,e,t)=>{n[e]=Math.trunc(t%4294967296),n[e+1]=Math.trunc(t/4294967296)};Ar.setEpochMsToMillisecondsLong=zUe;var HUe=(n,e,t)=>{n[e]=Math.trunc(t*1e3%4294967296),n[e+1]=Math.trunc(t*1e3/4294967296)};Ar.setEpochMsToMicrosecondsLong=HUe;var VUe=(n,e,t)=>{n[e]=Math.trunc(t*1e6%4294967296),n[e+1]=Math.trunc(t*1e6/4294967296)};Ar.setEpochMsToNanosecondsLong=VUe;var WUe=(n,e,t,r)=>{if(t+1<e.length){let{[t]:i,[t+1]:s}=e;n.set(r.subarray(0,s-i),i)}};Ar.setVariableWidthBytes=WUe;var QUe=({offset:n,values:e},t,r)=>{let i=n+t;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},GUe=({values:n},e,t)=>{n[e]=t};Ar.setInt=GUe;var YUe=({values:n},e,t)=>{n[e]=t};Ar.setFloat=YUe;var KUe=({values:n},e,t)=>{n[e]=(0,UUe.float64ToUint16)(t)};Ar.setFloat16=KUe;var JUe=(n,e,t)=>{switch(n.type.precision){case eh.Precision.HALF:return(0,Ar.setFloat16)(n,e,t);case eh.Precision.SINGLE:case eh.Precision.DOUBLE:return(0,Ar.setFloat)(n,e,t)}};Ar.setAnyFloat=JUe;var XUe=({values:n},e,t)=>{(0,Ar.setEpochMsToDays)(n,e,t.valueOf())};Ar.setDateDay=XUe;var ZUe=({values:n},e,t)=>{(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t.valueOf())};Ar.setDateMillisecond=ZUe;var e$e=({stride:n,values:e},t,r)=>{e.set(r.subarray(0,n),n*t)};Ar.setFixedSizeBinary=e$e;var t$e=({values:n,valueOffsets:e},t,r)=>(0,Ar.setVariableWidthBytes)(n,e,t,r),n$e=({values:n,valueOffsets:e},t,r)=>{(0,Ar.setVariableWidthBytes)(n,e,t,(0,qUe.encodeUtf8)(r))},r$e=(n,e,t)=>{n.type.unit===eh.DateUnit.DAY?(0,Ar.setDateDay)(n,e,t):(0,Ar.setDateMillisecond)(n,e,t)};Ar.setDate=r$e;var i$e=({values:n},e,t)=>(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t/1e3);Ar.setTimestampSecond=i$e;var s$e=({values:n},e,t)=>(0,Ar.setEpochMsToMillisecondsLong)(n,e*2,t);Ar.setTimestampMillisecond=s$e;var o$e=({values:n},e,t)=>(0,Ar.setEpochMsToMicrosecondsLong)(n,e*2,t);Ar.setTimestampMicrosecond=o$e;var a$e=({values:n},e,t)=>(0,Ar.setEpochMsToNanosecondsLong)(n,e*2,t);Ar.setTimestampNanosecond=a$e;var u$e=(n,e,t)=>{switch(n.type.unit){case eh.TimeUnit.SECOND:return(0,Ar.setTimestampSecond)(n,e,t);case eh.TimeUnit.MILLISECOND:return(0,Ar.setTimestampMillisecond)(n,e,t);case eh.TimeUnit.MICROSECOND:return(0,Ar.setTimestampMicrosecond)(n,e,t);case eh.TimeUnit.NANOSECOND:return(0,Ar.setTimestampNanosecond)(n,e,t)}};Ar.setTimestamp=u$e;var l$e=({values:n},e,t)=>{n[e]=t};Ar.setTimeSecond=l$e;var c$e=({values:n},e,t)=>{n[e]=t};Ar.setTimeMillisecond=c$e;var f$e=({values:n},e,t)=>{n[e]=t};Ar.setTimeMicrosecond=f$e;var d$e=({values:n},e,t)=>{n[e]=t};Ar.setTimeNanosecond=d$e;var h$e=(n,e,t)=>{switch(n.type.unit){case eh.TimeUnit.SECOND:return(0,Ar.setTimeSecond)(n,e,t);case eh.TimeUnit.MILLISECOND:return(0,Ar.setTimeMillisecond)(n,e,t);case eh.TimeUnit.MICROSECOND:return(0,Ar.setTimeMicrosecond)(n,e,t);case eh.TimeUnit.NANOSECOND:return(0,Ar.setTimeNanosecond)(n,e,t)}};Ar.setTime=h$e;var p$e=({values:n,stride:e},t,r)=>{n.set(r.subarray(0,e),e*t)};Ar.setDecimal=p$e;var m$e=(n,e,t)=>{let r=n.children[0],i=n.valueOffsets,s=Ar.instance.getVisitFn(r);if(Array.isArray(t))for(let o=-1,a=i[e],c=i[e+1];a<c;)s(r,a++,t[++o]);else for(let o=-1,a=i[e],c=i[e+1];a<c;)s(r,a++,t.get(++o))},x$e=(n,e,t)=>{let r=n.children[0],{valueOffsets:i}=n,s=Ar.instance.getVisitFn(r),{[e]:o,[e+1]:a}=i,c=t instanceof Map?t.entries():Object.entries(t);for(let d of c)if(s(r,o,d),++o>=a)break},g$e=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[s]),y$e=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(s)),v$e=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(i.name)),_$e=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[i.name]),b$e=(n,e,t)=>{let r=n.type.children.map(s=>Ar.instance.getVisitFn(s.type)),i=t instanceof Map?v$e(e,t):t instanceof BUe.Vector?y$e(e,t):Array.isArray(t)?g$e(e,t):_$e(e,t);n.type.children.forEach((s,o)=>i(r[o],n.children[o],s,o))},E$e=(n,e,t)=>{n.type.mode===eh.UnionMode.Dense?C1e(n,e,t):w1e(n,e,t)},C1e=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];Ar.instance.visit(i,n.valueOffsets[e],t)},w1e=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];Ar.instance.visit(i,e,t)},S$e=(n,e,t)=>{var r;(r=n.dictionary)===null||r===void 0||r.set(n.values[e],t)},C$e=(n,e,t)=>{n.type.unit===eh.IntervalUnit.DAY_TIME?(0,Ar.setIntervalDayTime)(n,e,t):(0,Ar.setIntervalYearMonth)(n,e,t)};Ar.setIntervalValue=C$e;var w$e=({values:n},e,t)=>{n.set(t.subarray(0,2),2*e)};Ar.setIntervalDayTime=w$e;var A$e=({values:n},e,t)=>{n[e]=t[0]*12+t[1]%12};Ar.setIntervalYearMonth=A$e;var T$e=(n,e,t)=>{let{stride:r}=n,i=n.children[0],s=Ar.instance.getVisitFn(i);if(Array.isArray(t))for(let o=-1,a=e*r;++o<r;)s(i,a+o,t[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,t.get(o))};Gs.prototype.visitBool=mo(QUe);Gs.prototype.visitInt=mo(Ar.setInt);Gs.prototype.visitInt8=mo(Ar.setInt);Gs.prototype.visitInt16=mo(Ar.setInt);Gs.prototype.visitInt32=mo(Ar.setInt);Gs.prototype.visitInt64=mo(Ar.setInt);Gs.prototype.visitUint8=mo(Ar.setInt);Gs.prototype.visitUint16=mo(Ar.setInt);Gs.prototype.visitUint32=mo(Ar.setInt);Gs.prototype.visitUint64=mo(Ar.setInt);Gs.prototype.visitFloat=mo(Ar.setAnyFloat);Gs.prototype.visitFloat16=mo(Ar.setFloat16);Gs.prototype.visitFloat32=mo(Ar.setFloat);Gs.prototype.visitFloat64=mo(Ar.setFloat);Gs.prototype.visitUtf8=mo(n$e);Gs.prototype.visitBinary=mo(t$e);Gs.prototype.visitFixedSizeBinary=mo(Ar.setFixedSizeBinary);Gs.prototype.visitDate=mo(Ar.setDate);Gs.prototype.visitDateDay=mo(Ar.setDateDay);Gs.prototype.visitDateMillisecond=mo(Ar.setDateMillisecond);Gs.prototype.visitTimestamp=mo(Ar.setTimestamp);Gs.prototype.visitTimestampSecond=mo(Ar.setTimestampSecond);Gs.prototype.visitTimestampMillisecond=mo(Ar.setTimestampMillisecond);Gs.prototype.visitTimestampMicrosecond=mo(Ar.setTimestampMicrosecond);Gs.prototype.visitTimestampNanosecond=mo(Ar.setTimestampNanosecond);Gs.prototype.visitTime=mo(Ar.setTime);Gs.prototype.visitTimeSecond=mo(Ar.setTimeSecond);Gs.prototype.visitTimeMillisecond=mo(Ar.setTimeMillisecond);Gs.prototype.visitTimeMicrosecond=mo(Ar.setTimeMicrosecond);Gs.prototype.visitTimeNanosecond=mo(Ar.setTimeNanosecond);Gs.prototype.visitDecimal=mo(Ar.setDecimal);Gs.prototype.visitList=mo(m$e);Gs.prototype.visitStruct=mo(b$e);Gs.prototype.visitUnion=mo(E$e);Gs.prototype.visitDenseUnion=mo(C1e);Gs.prototype.visitSparseUnion=mo(w1e);Gs.prototype.visitDictionary=mo(S$e);Gs.prototype.visitInterval=mo(Ar.setIntervalValue);Gs.prototype.visitIntervalDayTime=mo(Ar.setIntervalDayTime);Gs.prototype.visitIntervalYearMonth=mo(Ar.setIntervalYearMonth);Gs.prototype.visitFixedSizeList=mo(T$e);Gs.prototype.visitMap=mo(x$e);Ar.instance=new Gs});var MI=we(II=>{"use strict";m();Object.defineProperty(II,"__esModule",{value:!0});II.StructRow=void 0;var A1e=_I(),rJ=f_(),F$e=Fp(),J1=Symbol.for("parent"),m7=Symbol.for("rowIndex"),iJ=class{constructor(e,t){return this[J1]=e,this[m7]=t,new Proxy(this,new F1e)}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[m7],t=this[J1],r=t.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=rJ.instance.visit(t.children[s],e);return i}toString(){return`{${[...this].map(([e,t])=>`${(0,A1e.valueToString)(e)}: ${(0,A1e.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new T1e(this[J1],this[m7])}};II.StructRow=iJ;var T1e=class{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,rJ.instance.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}};Object.defineProperties(iJ.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[J1]:{writable:!0,enumerable:!1,configurable:!1,value:null},[m7]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});var F1e=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[J1].type.children.map(t=>t.name)}has(e,t){return e[J1].type.children.findIndex(r=>r.name===t)!==-1}getOwnPropertyDescriptor(e,t){if(e[J1].type.children.findIndex(r=>r.name===t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[J1].type.children.findIndex(i=>i.name===t);if(r!==-1){let i=rJ.instance.visit(e[J1].children[r],e[m7]);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[J1].type.children.findIndex(s=>s.name===t);return i!==-1?(F$e.instance.visit(e[J1].children[i],e[m7],r),Reflect.set(e,t,r)):Reflect.has(e,t)||typeof t=="symbol"?Reflect.set(e,t,r):!1}}});var f_=we(R3=>{"use strict";m();Object.defineProperty(R3,"__esModule",{value:!0});R3.instance=R3.GetVisitor=void 0;var D$e=EI(),D1e=ud(),O$e=ad(),N$e=GA(),R$e=MI(),L$e=l_(),O1e=QA(),Dp=Al(),Us=class extends O$e.Visitor{};R3.GetVisitor=Us;function oo(n){return(e,t)=>e.getValid(t)?n(e,t):null}var k$e=(n,e)=>864e5*n[e],sJ=(n,e)=>4294967296*n[e+1]+(n[e]>>>0),I$e=(n,e)=>4294967296*(n[e+1]/1e3)+(n[e]>>>0)/1e3,M$e=(n,e)=>4294967296*(n[e+1]/1e6)+(n[e]>>>0)/1e6,N1e=n=>new Date(n),P$e=(n,e)=>N1e(k$e(n,e)),B$e=(n,e)=>N1e(sJ(n,e)),j$e=(n,e)=>null,R1e=(n,e,t)=>{if(t+1>=e.length)return null;let r=e[t],i=e[t+1];return n.subarray(r,i)},q$e=({offset:n,values:e},t)=>{let r=n+t;return(e[r>>3]&1<<r%8)!==0},L1e=({values:n},e)=>P$e(n,e),k1e=({values:n},e)=>B$e(n,e*2),N3=({stride:n,values:e},t)=>e[n*t],U$e=({stride:n,values:e},t)=>(0,O1e.uint16ToFloat64)(e[n*t]),I1e=({values:n},e)=>n[e],$$e=({stride:n,values:e},t)=>e.subarray(n*t,n*(t+1)),z$e=({values:n,valueOffsets:e},t)=>R1e(n,e,t),H$e=({values:n,valueOffsets:e},t)=>{let r=R1e(n,e,t);return r!==null?(0,L$e.decodeUtf8)(r):null},V$e=({values:n},e)=>n[e],W$e=({type:n,values:e},t)=>n.precision!==Dp.Precision.HALF?e[t]:(0,O1e.uint16ToFloat64)(e[t]),Q$e=(n,e)=>n.type.unit===Dp.DateUnit.DAY?L1e(n,e):k1e(n,e),M1e=({values:n},e)=>1e3*sJ(n,e*2),P1e=({values:n},e)=>sJ(n,e*2),B1e=({values:n},e)=>I$e(n,e*2),j1e=({values:n},e)=>M$e(n,e*2),G$e=(n,e)=>{switch(n.type.unit){case Dp.TimeUnit.SECOND:return M1e(n,e);case Dp.TimeUnit.MILLISECOND:return P1e(n,e);case Dp.TimeUnit.MICROSECOND:return B1e(n,e);case Dp.TimeUnit.NANOSECOND:return j1e(n,e)}},q1e=({values:n},e)=>n[e],U1e=({values:n},e)=>n[e],$1e=({values:n},e)=>n[e],z1e=({values:n},e)=>n[e],Y$e=(n,e)=>{switch(n.type.unit){case Dp.TimeUnit.SECOND:return q1e(n,e);case Dp.TimeUnit.MILLISECOND:return U1e(n,e);case Dp.TimeUnit.MICROSECOND:return $1e(n,e);case Dp.TimeUnit.NANOSECOND:return z1e(n,e)}},K$e=({values:n,stride:e},t)=>D$e.BN.decimal(n.subarray(e*t,e*(t+1))),J$e=(n,e)=>{let{valueOffsets:t,stride:r,children:i}=n,{[e*r]:s,[e*r+1]:o}=t,c=i[0].slice(s,o-s);return new D1e.Vector([c])},X$e=(n,e)=>{let{valueOffsets:t,children:r}=n,{[e]:i,[e+1]:s}=t,o=r[0];return new N$e.MapRow(o.slice(i,s-i))},Z$e=(n,e)=>new R$e.StructRow(n,e),eze=(n,e)=>n.type.mode===Dp.UnionMode.Dense?H1e(n,e):V1e(n,e),H1e=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return R3.instance.visit(r,n.valueOffsets[e])},V1e=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return R3.instance.visit(r,e)},tze=(n,e)=>{var t;return(t=n.dictionary)===null||t===void 0?void 0:t.get(n.values[e])},nze=(n,e)=>n.type.unit===Dp.IntervalUnit.DAY_TIME?W1e(n,e):Q1e(n,e),W1e=({values:n},e)=>n.subarray(2*e,2*(e+1)),Q1e=({values:n},e)=>{let t=n[e],r=new Int32Array(2);return r[0]=Math.trunc(t/12),r[1]=Math.trunc(t%12),r},rze=(n,e)=>{let{stride:t,children:r}=n,s=r[0].slice(e*t,t);return new D1e.Vector([s])};Us.prototype.visitNull=oo(j$e);Us.prototype.visitBool=oo(q$e);Us.prototype.visitInt=oo(V$e);Us.prototype.visitInt8=oo(N3);Us.prototype.visitInt16=oo(N3);Us.prototype.visitInt32=oo(N3);Us.prototype.visitInt64=oo(I1e);Us.prototype.visitUint8=oo(N3);Us.prototype.visitUint16=oo(N3);Us.prototype.visitUint32=oo(N3);Us.prototype.visitUint64=oo(I1e);Us.prototype.visitFloat=oo(W$e);Us.prototype.visitFloat16=oo(U$e);Us.prototype.visitFloat32=oo(N3);Us.prototype.visitFloat64=oo(N3);Us.prototype.visitUtf8=oo(H$e);Us.prototype.visitBinary=oo(z$e);Us.prototype.visitFixedSizeBinary=oo($$e);Us.prototype.visitDate=oo(Q$e);Us.prototype.visitDateDay=oo(L1e);Us.prototype.visitDateMillisecond=oo(k1e);Us.prototype.visitTimestamp=oo(G$e);Us.prototype.visitTimestampSecond=oo(M1e);Us.prototype.visitTimestampMillisecond=oo(P1e);Us.prototype.visitTimestampMicrosecond=oo(B1e);Us.prototype.visitTimestampNanosecond=oo(j1e);Us.prototype.visitTime=oo(Y$e);Us.prototype.visitTimeSecond=oo(q1e);Us.prototype.visitTimeMillisecond=oo(U1e);Us.prototype.visitTimeMicrosecond=oo($1e);Us.prototype.visitTimeNanosecond=oo(z1e);Us.prototype.visitDecimal=oo(K$e);Us.prototype.visitList=oo(J$e);Us.prototype.visitStruct=oo(Z$e);Us.prototype.visitUnion=oo(eze);Us.prototype.visitDenseUnion=oo(H1e);Us.prototype.visitSparseUnion=oo(V1e);Us.prototype.visitDictionary=oo(tze);Us.prototype.visitInterval=oo(nze);Us.prototype.visitIntervalDayTime=oo(W1e);Us.prototype.visitIntervalYearMonth=oo(Q1e);Us.prototype.visitFixedSizeList=oo(rze);Us.prototype.visitMap=oo(X$e);R3.instance=new Us});var GA=we(ju=>{"use strict";m();Object.defineProperty(ju,"__esModule",{value:!0});ju.MapRow=ju.kVals=ju.kKeys=void 0;var ize=ud(),G1e=_I(),oJ=f_(),sze=Fp();ju.kKeys=Symbol.for("keys");ju.kVals=Symbol.for("vals");var aJ=class{constructor(e){return this[ju.kKeys]=new ize.Vector([e.children[0]]).memoize(),this[ju.kVals]=e.children[1],new Proxy(this,new K1e)}[Symbol.iterator](){return new Y1e(this[ju.kKeys],this[ju.kVals])}get size(){return this[ju.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[ju.kKeys],t=this[ju.kVals],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=oJ.instance.visit(t,i);return r}toString(){return`{${[...this].map(([e,t])=>`${(0,G1e.valueToString)(e)}: ${(0,G1e.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}};ju.MapRow=aJ;var Y1e=class{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){let e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),oJ.instance.visit(this.vals,e)]})}},K1e=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[ju.kKeys].toArray().map(String)}has(e,t){return e[ju.kKeys].includes(t)}getOwnPropertyDescriptor(e,t){if(e[ju.kKeys].indexOf(t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[ju.kKeys].indexOf(t);if(r!==-1){let i=oJ.instance.visit(Reflect.get(e,ju.kVals),r);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[ju.kKeys].indexOf(t);return i!==-1?(sze.instance.visit(Reflect.get(e,ju.kVals),i,r),Reflect.set(e,t,r)):Reflect.has(e,t)?Reflect.set(e,t,r):!1}};Object.defineProperties(aJ.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ju.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ju.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null}})});var KA=we(L3=>{"use strict";m();Object.defineProperty(L3,"__esModule",{value:!0});L3.createElementComparator=L3.clampRange=L3.clampIndex=void 0;var J1e=ud(),oze=GA(),aze=MI(),uze=jf();function lze(n,e,t){let r=n.length,i=e>-1?e:r+e%r;return t?t(n,i):i}L3.clampIndex=lze;var X1e;function cze(n,e,t,r){let{length:i=0}=n,s=typeof e!="number"?0:e,o=typeof t!="number"?i:t;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(X1e=s,s=o,o=X1e),o>i&&(o=i),r?r(n,s,o):[s,o]}L3.clampRange=cze;var Z1e=n=>n!==n;function YA(n){if(typeof n!=="object"||n===null)return Z1e(n)?Z1e:t=>t===n;if(n instanceof Date){let t=n.valueOf();return r=>r instanceof Date?r.valueOf()===t:!1}return ArrayBuffer.isView(n)?t=>t?(0,uze.compareArrayLike)(n,t):!1:n instanceof Map?dze(n):Array.isArray(n)?fze(n):n instanceof J1e.Vector?hze(n):pze(n,!0)}L3.createElementComparator=YA;function fze(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=YA(n[t]);return PI(e)}function dze(n){let e=-1,t=[];for(let r of n.values())t[++e]=YA(r);return PI(t)}function hze(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=YA(n.get(t));return PI(e)}function pze(n,e=!1){let t=Object.keys(n);if(!e&&t.length===0)return()=>!1;let r=[];for(let i=-1,s=t.length;++i<s;)r[i]=YA(n[t[i]]);return PI(r,t)}function PI(n,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return mze(n,t);case Map:return e2e(n,t,t.keys());case oze.MapRow:case aze.StructRow:case Object:case void 0:return e2e(n,t,e||Object.keys(t))}return t instanceof J1e.Vector?xze(n,t):!1}}function mze(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e[r]))return!1;return!0}function xze(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e.get(r)))return!1;return!0}function e2e(n,e,t){let r=t[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),o=0,a=n.length,c=s.next(),d=r.next(),p=i.next();for(;o<a&&!d.done&&!p.done&&!c.done&&!(d.value!==p.value||!n[o](c.value));++o,d=r.next(),p=i.next(),c=s.next());return o===a&&d.done&&p.done&&c.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}});var d_=we(dc=>{"use strict";m();Object.defineProperty(dc,"__esModule",{value:!0});dc.popcnt_uint32=dc.popcnt_array=dc.popcnt_bit_range=dc.BitIterator=dc.packBools=dc.truncateBitmap=dc.setBool=dc.getBit=dc.getBool=void 0;function t2e(n,e,t,r){return(t&1<<r)!==0}dc.getBool=t2e;function n2e(n,e,t,r){return(t&1<<r)>>r}dc.getBit=n2e;function gze(n,e,t){return t?!!(n[e>>3]|=1<<e%8)||!0:!(n[e>>3]&=~(1<<e%8))&&!1}dc.setBool=gze;function yze(n,e,t){let r=t.byteLength+7&~7;if(n>0||t.byteLength<r){let i=new Uint8Array(r);return i.set(n%8===0?t.subarray(n>>3):r2e(new BI(t,n,e,null,t2e)).subarray(0,r)),i}return t}dc.truncateBitmap=yze;function r2e(n){let e=[],t=0,r=0,i=0;for(let o of n)o&&(i|=1<<r),++r===8&&(e[t++]=i,i=r=0);(t===0||r>0)&&(e[t++]=i);let s=new Uint8Array(e.length+7&~7);return s.set(e),s}dc.packBools=r2e;var BI=class{constructor(e,t,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};dc.BitIterator=BI;function uJ(n,e,t){if(t-e<=0)return 0;if(t-e<8){let s=0;for(let o of new BI(n,e,t-e,n,n2e))s+=o;return s}let r=t>>3<<3,i=e+(e%8===0?0:8-e%8);return uJ(n,e,i)+uJ(n,r,t)+i2e(n,i>>3,r-i>>3)}dc.popcnt_bit_range=uJ;function i2e(n,e,t){let r=0,i=Math.trunc(e),s=new DataView(n.buffer,n.byteOffset,n.byteLength),o=t===void 0?n.byteLength:i+t;for(;o-i>=4;)r+=jI(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=jI(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=jI(s.getUint8(i)),i+=1;return r}dc.popcnt_array=i2e;function jI(n){let e=Math.trunc(n);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}dc.popcnt_uint32=jI});var um=we(ig=>{"use strict";m();Object.defineProperty(ig,"__esModule",{value:!0});ig.makeData=ig.Data=ig.kUnknownNullCount=void 0;var vze=ud(),k3=Al(),rg=tu(),s2e=d_();ig.kUnknownNullCount=-1;var yu=class{constructor(e,t,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let c;s instanceof yu?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=(0,rg.strideForType)(e),s&&((c=s[0])&&(this.valueOffsets=c),(c=s[1])&&(this.values=c),(c=s[2])&&(this.nullBitmap=c),(c=s[3])&&(this.typeIds=c))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:r,nullBitmap:i,typeIds:s}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=ig.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-(0,s2e.popcnt_bit_range)(t,this.offset,this.offset+this.length)),e}getValid(e){if(this.nullable&&this.nullCount>0){let t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}setValid(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){let{nullBitmap:c}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:c,_nullCount:0})}let{nullBitmap:r,offset:i}=this,s=i+e>>3,o=(i+e)%8,a=r[s]>>o&1;return t?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),t}clone(e=this.type,t=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new yu(e,t,r,i,s,o,this.dictionary)}slice(e,t){let{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,c=this._sliceBuffers(e,t,r,i);return this.clone(this.type,this.offset+e,t,o,c,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===k3.Type.Null)return this.clone(this.type,0,e,0);let{length:t,nullCount:r}=this,i=new Uint8Array((e+63&~63)>>3).fill(255,0,t>>3);i[t>>3]=(1<<t-(t&~7))-1,r>0&&i.set((0,s2e.truncateBitmap)(this.offset,t,this.nullBitmap),0);let s=this.buffers;return s[k3.BufferType.VALIDITY]=i,this.clone(this.type,0,e,r+(e-t),s)}_sliceBuffers(e,t,r,i){let s,{buffers:o}=this;return(s=o[k3.BufferType.TYPE])&&(o[k3.BufferType.TYPE]=s.subarray(e,e+t)),(s=o[k3.BufferType.OFFSET])&&(o[k3.BufferType.OFFSET]=s.subarray(e,e+t+1))||(s=o[k3.BufferType.DATA])&&(o[k3.BufferType.DATA]=i===6?s:s.subarray(r*e,r*(e+t))),o}_sliceChildren(e,t,r){return e.map(i=>i.slice(t,r))}};ig.Data=yu;yu.prototype.children=Object.freeze([]);var _ze=ad(),Qo=jf(),x7=class extends _ze.Visitor{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){let{["type"]:t,["offset"]:r=0,["length"]:i=0}=e;return new yu(t,r,i,0)}visitBool(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.nullBitmap),s=(0,Qo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new yu(t,r,o,a,[void 0,s,i])}visitInt(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.nullBitmap),s=(0,Qo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new yu(t,r,o,a,[void 0,s,i])}visitFloat(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.nullBitmap),s=(0,Qo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new yu(t,r,o,a,[void 0,s,i])}visitUtf8(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.data),s=(0,Qo.toUint8Array)(e.nullBitmap),o=(0,Qo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=e.nullBitmap?-1:0}=e;return new yu(t,r,a,c,[o,i,s])}visitBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.data),s=(0,Qo.toUint8Array)(e.nullBitmap),o=(0,Qo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=e.nullBitmap?-1:0}=e;return new yu(t,r,a,c,[o,i,s])}visitFixedSizeBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.nullBitmap),s=(0,Qo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,rg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new yu(t,r,o,a,[void 0,s,i])}visitDate(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.nullBitmap),s=(0,Qo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,rg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new yu(t,r,o,a,[void 0,s,i])}visitTimestamp(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.nullBitmap),s=(0,Qo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,rg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new yu(t,r,o,a,[void 0,s,i])}visitTime(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.nullBitmap),s=(0,Qo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,rg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new yu(t,r,o,a,[void 0,s,i])}visitDecimal(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.nullBitmap),s=(0,Qo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,rg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new yu(t,r,o,a,[void 0,s,i])}visitList(e){let{["type"]:t,["offset"]:r=0,["child"]:i}=e,s=(0,Qo.toUint8Array)(e.nullBitmap),o=(0,Qo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=e.nullBitmap?-1:0}=e;return new yu(t,r,a,c,[o,void 0,s],[i])}visitStruct(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,Qo.toUint8Array)(e.nullBitmap),{length:o=i.reduce((c,{length:d})=>Math.max(c,d),0),nullCount:a=e.nullBitmap?-1:0}=e;return new yu(t,r,o,a,[void 0,void 0,s],i)}visitUnion(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,Qo.toUint8Array)(e.nullBitmap),o=(0,Qo.toArrayBufferView)(t.ArrayType,e.typeIds),{["length"]:a=o.length,["nullCount"]:c=e.nullBitmap?-1:0}=e;if(rg.DataType.isSparseUnion(t))return new yu(t,r,a,c,[void 0,void 0,s,o],i);let d=(0,Qo.toInt32Array)(e.valueOffsets);return new yu(t,r,a,c,[d,void 0,s,o],i)}visitDictionary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.nullBitmap),s=(0,Qo.toArrayBufferView)(t.indices.ArrayType,e.data),{["dictionary"]:o=new vze.Vector([new x7().visit({type:t.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:c=e.nullBitmap?-1:0}=e;return new yu(t,r,a,c,[void 0,s,i],[],o)}visitInterval(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Qo.toUint8Array)(e.nullBitmap),s=(0,Qo.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,rg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new yu(t,r,o,a,[void 0,s,i])}visitFixedSizeList(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new x7().visit({type:t.valueType})}=e,s=(0,Qo.toUint8Array)(e.nullBitmap),{["length"]:o=i.length/(0,rg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new yu(t,r,o,a,[void 0,void 0,s],[i])}visitMap(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new x7().visit({type:t.childType})}=e,s=(0,Qo.toUint8Array)(e.nullBitmap),o=(0,Qo.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=e.nullBitmap?-1:0}=e;return new yu(t,r,a,c,[o,void 0,s],[i])}};function bze(n){return new x7().visit(n)}ig.makeData=bze});var UI=we(hc=>{"use strict";m();Object.defineProperty(hc,"__esModule",{value:!0});hc.wrapChunkedIndexOf=hc.wrapChunkedCall2=hc.wrapChunkedCall1=hc.isChunkedValid=hc.binarySearch=hc.sliceChunks=hc.computeChunkOffsets=hc.computeChunkNullCounts=hc.ChunkedIterator=void 0;var o2e=class{constructor(e=0,t){this.numChunks=e,this.getChunkIterator=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}};hc.ChunkedIterator=o2e;function Eze(n){return n.reduce((e,t)=>e+t.nullCount,0)}hc.computeChunkNullCounts=Eze;function Sze(n){return n.reduce((e,t,r)=>(e[r+1]=e[r]+t.length,e),new Uint32Array(n.length+1))}hc.computeChunkOffsets=Sze;function Cze(n,e,t,r){let i=[];for(let s=-1,o=n.length;++s<o;){let a=n[s],c=e[s],{length:d}=a;if(c>=r)break;if(t>=c+d)continue;if(c>=t&&c+d<=r){i.push(a);continue}let p=Math.max(0,t-c),b=Math.min(r-c,d);i.push(a.slice(p,b-p))}return i.length===0&&i.push(n[0].slice(0,0)),i}hc.sliceChunks=Cze;function qI(n,e,t,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return t<e[o]?r(n,i,t-e[i]):null;s=i+Math.trunc((o-i)*.5),t<e[s]?o=s:i=s}while(i<o)}hc.binarySearch=qI;function wze(n,e){return n.getValid(e)}hc.isChunkedValid=wze;function Aze(n){function e(t,r,i){return n(t[r],i)}return function(t){let r=this.data;return qI(r,this._offsets,t,e)}}hc.wrapChunkedCall1=Aze;function Tze(n){let e;function t(r,i,s){return n(r[i],s,e)}return function(r,i){let s=this.data;e=i;let o=qI(s,this._offsets,r,t);return e=void 0,o}}hc.wrapChunkedCall2=Tze;function Fze(n){let e;function t(r,i,s){let o=s,a=0,c=0;for(let d=i-1,p=r.length;++d<p;){let b=r[d];if(~(a=n(b,e,o)))return c+a;o=0,c+=b.length}return-1}return function(r,i){e=r;let s=this.data,o=typeof i!="number"?t(s,0,0):qI(s,this._offsets,i,t);return e=void 0,o}}hc.wrapChunkedIndexOf=Fze});var $I=we(g7=>{"use strict";m();Object.defineProperty(g7,"__esModule",{value:!0});g7.instance=g7.IndexOfVisitor=void 0;var Dze=ad(),a2e=f_(),u2e=d_(),l2e=KA(),$s=class extends Dze.Visitor{};g7.IndexOfVisitor=$s;function Oze(n,e){return e===null&&n.length>0?0:-1}function Nze(n,e){let{nullBitmap:t}=n;if(!t||n.nullCount<=0)return-1;let r=0;for(let i of new u2e.BitIterator(t,n.offset+(e||0),n.length,t,u2e.getBool)){if(!i)return r;++r}return-1}function To(n,e,t){if(e===void 0)return-1;if(e===null)return Nze(n,t);let r=a2e.instance.getVisitFn(n),i=(0,l2e.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}function c2e(n,e,t){let r=a2e.instance.getVisitFn(n),i=(0,l2e.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}$s.prototype.visitNull=Oze;$s.prototype.visitBool=To;$s.prototype.visitInt=To;$s.prototype.visitInt8=To;$s.prototype.visitInt16=To;$s.prototype.visitInt32=To;$s.prototype.visitInt64=To;$s.prototype.visitUint8=To;$s.prototype.visitUint16=To;$s.prototype.visitUint32=To;$s.prototype.visitUint64=To;$s.prototype.visitFloat=To;$s.prototype.visitFloat16=To;$s.prototype.visitFloat32=To;$s.prototype.visitFloat64=To;$s.prototype.visitUtf8=To;$s.prototype.visitBinary=To;$s.prototype.visitFixedSizeBinary=To;$s.prototype.visitDate=To;$s.prototype.visitDateDay=To;$s.prototype.visitDateMillisecond=To;$s.prototype.visitTimestamp=To;$s.prototype.visitTimestampSecond=To;$s.prototype.visitTimestampMillisecond=To;$s.prototype.visitTimestampMicrosecond=To;$s.prototype.visitTimestampNanosecond=To;$s.prototype.visitTime=To;$s.prototype.visitTimeSecond=To;$s.prototype.visitTimeMillisecond=To;$s.prototype.visitTimeMicrosecond=To;$s.prototype.visitTimeNanosecond=To;$s.prototype.visitDecimal=To;$s.prototype.visitList=To;$s.prototype.visitStruct=To;$s.prototype.visitUnion=To;$s.prototype.visitDenseUnion=c2e;$s.prototype.visitSparseUnion=c2e;$s.prototype.visitDictionary=To;$s.prototype.visitInterval=To;$s.prototype.visitIntervalDayTime=To;$s.prototype.visitIntervalYearMonth=To;$s.prototype.visitFixedSizeList=To;$s.prototype.visitMap=To;g7.instance=new $s});var zI=we(y7=>{"use strict";m();Object.defineProperty(y7,"__esModule",{value:!0});y7.instance=y7.IteratorVisitor=void 0;var Rze=ad(),f2e=Al(),lJ=tu(),d2e=UI(),zs=class extends Rze.Visitor{};y7.IteratorVisitor=zs;function ao(n){let{type:e}=n;if(n.nullCount===0&&n.stride===1&&(e.typeId===f2e.Type.Timestamp||e instanceof lJ.Int&&e.bitWidth!==64||e instanceof lJ.Time&&e.bitWidth!==64||e instanceof lJ.Float&&e.precision!==f2e.Precision.HALF))return new d2e.ChunkedIterator(n.data.length,r=>{let i=n.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let t=0;return new d2e.ChunkedIterator(n.data.length,r=>{let s=n.data[r].length,o=n.slice(t,t+s);return t+=s,new h2e(o)})}var h2e=class{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};zs.prototype.visitNull=ao;zs.prototype.visitBool=ao;zs.prototype.visitInt=ao;zs.prototype.visitInt8=ao;zs.prototype.visitInt16=ao;zs.prototype.visitInt32=ao;zs.prototype.visitInt64=ao;zs.prototype.visitUint8=ao;zs.prototype.visitUint16=ao;zs.prototype.visitUint32=ao;zs.prototype.visitUint64=ao;zs.prototype.visitFloat=ao;zs.prototype.visitFloat16=ao;zs.prototype.visitFloat32=ao;zs.prototype.visitFloat64=ao;zs.prototype.visitUtf8=ao;zs.prototype.visitBinary=ao;zs.prototype.visitFixedSizeBinary=ao;zs.prototype.visitDate=ao;zs.prototype.visitDateDay=ao;zs.prototype.visitDateMillisecond=ao;zs.prototype.visitTimestamp=ao;zs.prototype.visitTimestampSecond=ao;zs.prototype.visitTimestampMillisecond=ao;zs.prototype.visitTimestampMicrosecond=ao;zs.prototype.visitTimestampNanosecond=ao;zs.prototype.visitTime=ao;zs.prototype.visitTimeSecond=ao;zs.prototype.visitTimeMillisecond=ao;zs.prototype.visitTimeMicrosecond=ao;zs.prototype.visitTimeNanosecond=ao;zs.prototype.visitDecimal=ao;zs.prototype.visitList=ao;zs.prototype.visitStruct=ao;zs.prototype.visitUnion=ao;zs.prototype.visitDenseUnion=ao;zs.prototype.visitSparseUnion=ao;zs.prototype.visitDictionary=ao;zs.prototype.visitInterval=ao;zs.prototype.visitIntervalDayTime=ao;zs.prototype.visitIntervalYearMonth=ao;zs.prototype.visitFixedSizeList=ao;zs.prototype.visitMap=ao;y7.instance=new zs});var HI=we(Op=>{"use strict";m();Object.defineProperty(Op,"__esModule",{value:!0});Op.instance=Op.GetByteLengthVisitor=void 0;var Lze=ad(),p2e=Al(),kze=(n,e)=>n+e,lm=class extends Lze.Visitor{visitNull(e,t){return 0}visitInt(e,t){return e.type.bitWidth/8}visitFloat(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,t){return 1/8}visitDecimal(e,t){return e.type.bitWidth/8}visitDate(e,t){return(e.type.unit+1)*4}visitTime(e,t){return e.type.bitWidth/8}visitTimestamp(e,t){return e.type.unit===p2e.TimeUnit.SECOND?4:8}visitInterval(e,t){return(e.type.unit+1)*4}visitStruct(e,t){return e.children.reduce((r,i)=>r+Op.instance.visit(i,t),0)}visitFixedSizeBinary(e,t){return e.type.byteWidth}visitMap(e,t){return 8+e.children.reduce((r,i)=>r+Op.instance.visit(i,t),0)}visitDictionary(e,t){var r;return e.type.indices.bitWidth/8+(((r=e.dictionary)===null||r===void 0?void 0:r.getByteLength(e.values[t]))||0)}};Op.GetByteLengthVisitor=lm;var Ize=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),Mze=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),Pze=({valueOffsets:n,stride:e,children:t},r)=>{let i=t[0],{[r*e]:s}=n,{[r*e+1]:o}=n,a=Op.instance.getVisitFn(i.type),c=i.slice(s,o-s),d=8;for(let p=-1,b=o-s;++p<b;)d+=a(c,p);return d},Bze=({stride:n,children:e},t)=>{let r=e[0],i=r.slice(t*n,n),s=Op.instance.getVisitFn(r.type),o=0;for(let a=-1,c=i.length;++a<c;)o+=s(i,a);return o},jze=(n,e)=>n.type.mode===p2e.UnionMode.Dense?m2e(n,e):x2e(n,e),m2e=({type:n,children:e,typeIds:t,valueOffsets:r},i)=>{let s=n.typeIdToChildIndex[t[i]];return 8+Op.instance.visit(e[s],r[i])},x2e=({children:n},e)=>4+Op.instance.visitMany(n,n.map(()=>e)).reduce(kze,0);lm.prototype.visitUtf8=Ize;lm.prototype.visitBinary=Mze;lm.prototype.visitList=Pze;lm.prototype.visitFixedSizeList=Bze;lm.prototype.visitUnion=jze;lm.prototype.visitDenseUnion=m2e;lm.prototype.visitSparseUnion=x2e;Op.instance=new lm});var ud=we(_7=>{"use strict";m();var g2e;Object.defineProperty(_7,"__esModule",{value:!0});_7.makeVector=_7.Vector=void 0;var qze=ds(),sg=Al(),Uze=KA(),v7=tu(),th=um(),cm=UI(),y2e=f_(),v2e=Fp(),_2e=$I(),$ze=zI(),b2e=HI(),E2e={},S2e={},Ta=class{constructor(e){var t,r,i;let s=e[0]instanceof Ta?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof th.Data)))throw new TypeError("Vector constructor expects an Array of Data instances.");let o=(t=s[0])===null||t===void 0?void 0:t.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{let{get:a,set:c,indexOf:d,byteLength:p}=E2e[o.typeId],b=s[0];this.isValid=C=>(0,cm.isChunkedValid)(b,C),this.get=C=>a(b,C),this.set=(C,N)=>c(b,C,N),this.indexOf=C=>d(b,C),this.getByteLength=C=>p(b,C),this._offsets=[0,b.length];break}default:Object.setPrototypeOf(this,S2e[o.typeId]),this._offsets=(0,cm.computeChunkOffsets)(s);break}this.data=s,this.type=o,this.stride=(0,v7.strideForType)(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,cm.computeChunkNullCounts)(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${sg.Type[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return $ze.instance.visit(this)}concat(...e){return new Ta(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(e,t){return new Ta((0,Uze.clampRange)(this,e,t,({data:r,_offsets:i},s,o)=>(0,cm.sliceChunks)(r,i,s,o)))}toJSON(){return[...this]}toArray(){let{type:e,data:t,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case sg.Type.Int:case sg.Type.Float:case sg.Type.Decimal:case sg.Type.Time:case sg.Type.Timestamp:switch(t.length){case 0:return new s;case 1:return t[0].values.subarray(0,r*i);default:return t.reduce((o,{values:a})=>(o.array.set(a,o.offset),o.offset+=a.length,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt((t=this.type.children)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new Ta(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return v7.DataType.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(v7.DataType.isDictionary(this.type)){let e=new JA(this.data[0].dictionary),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new Ta(t)}return new JA(this)}unmemoize(){if(v7.DataType.isDictionary(this.type)&&this.isMemoized){let e=this.data[0].dictionary.unmemoize(),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new Ta(t)}return this}};_7.Vector=Ta;g2e=Symbol.toStringTag;Ta[g2e]=(n=>{n.type=v7.DataType.prototype,n.data=[],n.length=0,n.stride=1,n.numChildren=0,n._nullCount=-1,n._byteLength=-1,n._offsets=new Uint32Array([0]),n[Symbol.isConcatSpreadable]=!0;let e=Object.keys(sg.Type).map(t=>sg.Type[t]).filter(t=>typeof t=="number"&&t!==sg.Type.NONE);for(let t of e){let r=y2e.instance.getVisitFnByTypeId(t),i=v2e.instance.getVisitFnByTypeId(t),s=_2e.instance.getVisitFnByTypeId(t),o=b2e.instance.getVisitFnByTypeId(t);E2e[t]={get:r,set:i,indexOf:s,byteLength:o},S2e[t]=Object.create(n,{isValid:{value:(0,cm.wrapChunkedCall1)(cm.isChunkedValid)},get:{value:(0,cm.wrapChunkedCall1)(y2e.instance.getVisitFnByTypeId(t))},set:{value:(0,cm.wrapChunkedCall2)(v2e.instance.getVisitFnByTypeId(t))},indexOf:{value:(0,cm.wrapChunkedIndexOf)(_2e.instance.getVisitFnByTypeId(t))},getByteLength:{value:(0,cm.wrapChunkedCall1)(b2e.instance.getVisitFnByTypeId(t))}})}return"Vector"})(Ta.prototype);var JA=class extends Ta{constructor(e){super(e.data);let t=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){let a=s[o];if(a!==void 0)return a;let c=t.call(this,o);return s[o]=c,c}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new JA(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Ta(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}},fm=qze.__importStar(tu());function C2e(n){if(n){if(n instanceof th.Data)return new Ta([n]);if(n instanceof Ta)return new Ta(n.data);if(n.type instanceof v7.DataType)return new Ta([(0,th.makeData)(n)]);if(Array.isArray(n))return new Ta(n.flatMap(e=>zze(e)));if(ArrayBuffer.isView(n)){n instanceof DataView&&(n=new Uint8Array(n.buffer));let e={offset:0,length:n.length,nullCount:0,data:n};if(n instanceof Int8Array)return new Ta([(0,th.makeData)(Object.assign(Object.assign({},e),{type:new fm.Int8}))]);if(n instanceof Int16Array)return new Ta([(0,th.makeData)(Object.assign(Object.assign({},e),{type:new fm.Int16}))]);if(n instanceof Int32Array)return new Ta([(0,th.makeData)(Object.assign(Object.assign({},e),{type:new fm.Int32}))]);if(n instanceof BigInt64Array)return new Ta([(0,th.makeData)(Object.assign(Object.assign({},e),{type:new fm.Int64}))]);if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)return new Ta([(0,th.makeData)(Object.assign(Object.assign({},e),{type:new fm.Uint8}))]);if(n instanceof Uint16Array)return new Ta([(0,th.makeData)(Object.assign(Object.assign({},e),{type:new fm.Uint16}))]);if(n instanceof Uint32Array)return new Ta([(0,th.makeData)(Object.assign(Object.assign({},e),{type:new fm.Uint32}))]);if(n instanceof BigUint64Array)return new Ta([(0,th.makeData)(Object.assign(Object.assign({},e),{type:new fm.Uint64}))]);if(n instanceof Float32Array)return new Ta([(0,th.makeData)(Object.assign(Object.assign({},e),{type:new fm.Float32}))]);if(n instanceof Float64Array)return new Ta([(0,th.makeData)(Object.assign(Object.assign({},e),{type:new fm.Float64}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}_7.makeVector=C2e;function zze(n){return n instanceof th.Data?[n]:n instanceof Ta?n.data:C2e(n).data}});var w2e=we(VI=>{"use strict";m();Object.defineProperty(VI,"__esModule",{value:!0});VI.createIsValidFunction=void 0;var cJ=_I(),Hze=om();function Vze(n){if(!n||n.length<=0)return function(i){return!0};let e="",t=n.filter(r=>r===r);return t.length>0&&(e=`
    switch (x) {${t.map(r=>`
        case ${Wze(r)}:`).join("")}
            return false;
    }`),n.length!==t.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}VI.createIsValidFunction=Vze;function Wze(n){return typeof n!="bigint"?(0,cJ.valueToString)(n):Hze.BigIntAvailable?`${(0,cJ.valueToString)(n)}n`:`"${(0,cJ.valueToString)(n)}"`}});var h_=we(dm=>{"use strict";m();Object.defineProperty(dm,"__esModule",{value:!0});dm.OffsetsBufferBuilder=dm.BitmapBufferBuilder=dm.DataBufferBuilder=dm.BufferBuilder=void 0;var A2e=jf(),fJ=(n,e)=>(n*e+63&~63||64)/e,Qze=(n,e=0)=>n.length>=e?n.subarray(0,e):(0,A2e.memcpy)(new n.constructor(e),n,0),WI=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=Math.trunc(e.length/t))}get byteLength(){return Math.trunc(this.length*this.stride*this.BYTES_PER_ELEMENT)}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,r=this.length*t,i=this.buffer.length;r>=i&&this._resize(i===0?fJ(r*1,this.BYTES_PER_ELEMENT):fJ(r*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=fJ(e*this.stride,this.BYTES_PER_ELEMENT);let t=Qze(this.buffer,e);return this.clear(),t}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=(0,A2e.memcpy)(new this.ArrayType(e),this.buffer)}};dm.BufferBuilder=WI;WI.prototype.offset=0;var QI=class extends WI{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};dm.DataBufferBuilder=QI;var T2e=class extends QI{constructor(e=new Uint8Array(0)){super(e,1/8);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:r}=this.reserve(e-this.length+1),i=e>>3,s=e%8,o=r[i]>>s&1;return t?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}};dm.BitmapBufferBuilder=T2e;var F2e=class extends QI{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let r=this.length-1,i=this.reserve(e-r+1).buffer;return r<e++&&i.fill(i[r],r,e),i[e]=i[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}};dm.OffsetsBufferBuilder=F2e});var zl=we(I3=>{"use strict";m();Object.defineProperty(I3,"__esModule",{value:!0});I3.VariableWidthBuilder=I3.FixedWidthBuilder=I3.Builder=void 0;var Gze=ud(),Yze=um(),D2e=GA(),Kze=tu(),Jze=w2e(),dJ=h_(),hm=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=(0,Kze.strideForType)(e),this._nulls=new dJ.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=(0,Jze.createIsValidFunction)(t))}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}toVector(){return new Gze.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0,{_offsets:t,_values:r,_nulls:i,_typeIds:s,children:o}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),o.reduce((a,c)=>a+c.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((t,r)=>t+r.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e,t,r,i,{type:s,length:o,nullCount:a,_typeIds:c,_offsets:d,_values:p,_nulls:b}=this;(t=c==null?void 0:c.flush(o))?i=d==null?void 0:d.flush(o):(i=d==null?void 0:d.flush(o))?e=p==null?void 0:p.flush(d.last()):e=p==null?void 0:p.flush(o),a>0&&(r=b==null?void 0:b.flush(o));let C=this.children.map(N=>N.flush());return this.clear(),(0,Yze.makeData)({type:s,length:o,nullCount:a,children:C,child:C[0],data:e,typeIds:t,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(let e of this.children)e.finish();return this}clear(){var e,t,r,i;this.length=0,(e=this._nulls)===null||e===void 0||e.clear(),(t=this._values)===null||t===void 0||t.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(let s of this.children)s.clear();return this}};I3.Builder=hm;hm.prototype.length=1;hm.prototype.stride=1;hm.prototype.children=null;hm.prototype.finished=!1;hm.prototype.nullValues=null;hm.prototype._isValid=()=>!0;var O2e=class extends hm{constructor(e){super(e);this._values=new dJ.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let r=this._values;return r.reserve(e-r.length+1),super.setValue(e,t)}};I3.FixedWidthBuilder=O2e;var N2e=class extends hm{constructor(e){super(e);this._pendingLength=0,this._offsets=new dJ.OffsetsBufferBuilder}setValue(e,t){let r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=t instanceof D2e.MapRow?t[D2e.kKeys].length:t.length,r.set(e,t)}setValid(e,t){return super.setValid(e,t)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}};I3.VariableWidthBuilder=N2e});var hJ=we(GI=>{"use strict";m();Object.defineProperty(GI,"__esModule",{value:!0});GI.Block=void 0;var R2e=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,t,r,i){return e.prep(8,24),e.writeInt64(i),e.pad(4),e.writeInt32(r),e.writeInt64(t),e.offset()}};GI.Block=R2e});var p_=we(pm=>{"use strict";m();Object.defineProperty(pm,"__esModule",{value:!0});pm.SIZE_PREFIX_LENGTH=pm.FILE_IDENTIFIER_LENGTH=pm.SIZEOF_INT=pm.SIZEOF_SHORT=void 0;pm.SIZEOF_SHORT=2;pm.SIZEOF_INT=4;pm.FILE_IDENTIFIER_LENGTH=4;pm.SIZE_PREFIX_LENGTH=4});var pJ=we(Np=>{"use strict";m();Object.defineProperty(Np,"__esModule",{value:!0});Np.isLittleEndian=Np.float64=Np.float32=Np.int32=void 0;Np.int32=new Int32Array(2);Np.float32=new Float32Array(Np.int32.buffer);Np.float64=new Float64Array(Np.int32.buffer);Np.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1});var YI=we(b7=>{"use strict";m();Object.defineProperty(b7,"__esModule",{value:!0});b7.Long=b7.createLong=void 0;function Xze(n,e){return L2e.create(n,e)}b7.createLong=Xze;var L2e=function(){function n(e,t){this.low=e|0,this.high=t|0}return n.create=function(e,t){return e==0&&t==0?n.ZERO:new n(e,t)},n.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296},n.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},n.ZERO=new n(0,0),n}();b7.Long=L2e});var mJ=we(XA=>{"use strict";m();Object.defineProperty(XA,"__esModule",{value:!0});XA.Encoding=void 0;var Zze;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(Zze=XA.Encoding||(XA.Encoding={}))});var gJ=we(KI=>{"use strict";m();Object.defineProperty(KI,"__esModule",{value:!0});KI.ByteBuffer=void 0;var mm=p_(),xJ=YI(),nh=pJ(),eHe=mJ(),tHe=function(){function n(e){this.bytes_=e,this.position_=0}return n.allocate=function(e){return new n(new Uint8Array(e))},n.prototype.clear=function(){this.position_=0},n.prototype.bytes=function(){return this.bytes_},n.prototype.position=function(){return this.position_},n.prototype.setPosition=function(e){this.position_=e},n.prototype.capacity=function(){return this.bytes_.length},n.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},n.prototype.readUint8=function(e){return this.bytes_[e]},n.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},n.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},n.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},n.prototype.readUint32=function(e){return this.readInt32(e)>>>0},n.prototype.readInt64=function(e){return new xJ.Long(this.readInt32(e),this.readInt32(e+4))},n.prototype.readUint64=function(e){return new xJ.Long(this.readUint32(e),this.readUint32(e+4))},n.prototype.readFloat32=function(e){return nh.int32[0]=this.readInt32(e),nh.float32[0]},n.prototype.readFloat64=function(e){return nh.int32[nh.isLittleEndian?0:1]=this.readInt32(e),nh.int32[nh.isLittleEndian?1:0]=this.readInt32(e+4),nh.float64[0]},n.prototype.writeInt8=function(e,t){this.bytes_[e]=t},n.prototype.writeUint8=function(e,t){this.bytes_[e]=t},n.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},n.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},n.prototype.writeFloat32=function(e,t){nh.float32[0]=t,this.writeInt32(e,nh.int32[0])},n.prototype.writeFloat64=function(e,t){nh.float64[0]=t,this.writeInt32(e,nh.int32[nh.isLittleEndian?0:1]),this.writeInt32(e+4,nh.int32[nh.isLittleEndian?1:0])},n.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+mm.SIZEOF_INT+mm.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<mm.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+mm.SIZEOF_INT+t));return e},n.prototype.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},n.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},n.prototype.__string=function(e,t){e+=this.readInt32(e);var r=this.readInt32(e),i="",s=0;if(e+=mm.SIZEOF_INT,t===eHe.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+r);for(;s<r;){var o=void 0,a=this.readUint8(e+s++);if(a<192)o=a;else{var c=this.readUint8(e+s++);if(a<224)o=(a&31)<<6|c&63;else{var d=this.readUint8(e+s++);if(a<240)o=(a&15)<<12|(c&63)<<6|d&63;else{var p=this.readUint8(e+s++);o=(a&7)<<18|(c&63)<<12|(d&63)<<6|p&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&(1<<10)-1)+56320))}return i},n.prototype.__union_with_string=function(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)},n.prototype.__indirect=function(e){return e+this.readInt32(e)},n.prototype.__vector=function(e){return e+this.readInt32(e)+mm.SIZEOF_INT},n.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},n.prototype.__has_identifier=function(e){if(e.length!=mm.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+mm.FILE_IDENTIFIER_LENGTH);for(var t=0;t<mm.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+mm.SIZEOF_INT+t))return!1;return!0},n.prototype.createLong=function(e,t){return xJ.Long.create(e,t)},n.prototype.createScalarList=function(e,t){for(var r=[],i=0;i<t;++i)e(i)!==null&&r.push(e(i));return r},n.prototype.createObjList=function(e,t){for(var r=[],i=0;i<t;++i){var s=e(i);s!==null&&r.push(s.unpack())}return r},n}();KI.ByteBuffer=tHe});var I2e=we(JI=>{"use strict";m();Object.defineProperty(JI,"__esModule",{value:!0});JI.Builder=void 0;var k2e=gJ(),Bh=p_(),nHe=YI(),rHe=function(){function n(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;var t;e?t=e:t=1024,this.bb=k2e.ByteBuffer.allocate(t),this.space=t}return n.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null},n.prototype.forceDefaults=function(e){this.force_defaults=e},n.prototype.dataBuffer=function(){return this.bb},n.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},n.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var r=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<r+e+t;){var i=this.bb.capacity();this.bb=n.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)},n.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},n.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},n.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},n.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},n.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},n.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},n.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},n.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},n.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},n.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},n.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},n.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},n.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},n.prototype.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},n.prototype.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},n.prototype.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},n.prototype.addFieldInt64=function(e,t,r){(this.force_defaults||!t.equals(r))&&(this.addInt64(t),this.slot(e))},n.prototype.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},n.prototype.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},n.prototype.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},n.prototype.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},n.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},n.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},n.prototype.slot=function(e){this.vtable!==null&&(this.vtable[e]=this.offset())},n.prototype.offset=function(){return this.bb.capacity()-this.space},n.growByteBuffer=function(e){var t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=t<<1,i=k2e.ByteBuffer.allocate(r);return i.setPosition(r-t),i.bytes().set(e.bytes(),r-t),i},n.prototype.addOffset=function(e){this.prep(Bh.SIZEOF_INT,0),this.writeInt32(this.offset()-e+Bh.SIZEOF_INT)},n.prototype.startObject=function(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},n.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var r=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);var i=2;this.addInt16(e-this.object_start);var s=(r+i)*Bh.SIZEOF_SHORT;this.addInt16(s);var o=0,a=this.space;e:for(t=0;t<this.vtables.length;t++){var c=this.bb.capacity()-this.vtables[t];if(s==this.bb.readInt16(c)){for(var d=Bh.SIZEOF_SHORT;d<s;d+=Bh.SIZEOF_SHORT)if(this.bb.readInt16(a+d)!=this.bb.readInt16(c+d))continue e;o=this.vtables[t];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},n.prototype.finish=function(e,t,r){var i=r?Bh.SIZE_PREFIX_LENGTH:0;if(t){var s=t;if(this.prep(this.minalign,Bh.SIZEOF_INT+Bh.FILE_IDENTIFIER_LENGTH+i),s.length!=Bh.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+Bh.FILE_IDENTIFIER_LENGTH);for(var o=Bh.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Bh.SIZEOF_INT+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},n.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},n.prototype.requiredField=function(e,t){var r=this.bb.capacity()-e,i=r-this.bb.readInt32(r),s=this.bb.readInt16(i+t)!=0;if(!s)throw new Error("FlatBuffers: field "+t+" must be set")},n.prototype.startVector=function(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(Bh.SIZEOF_INT,e*t),this.prep(r,e*t)},n.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},n.prototype.createSharedString=function(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);var t=this.createString(e);return this.string_maps.set(e,t),t},n.prototype.createString=function(e){if(!e)return 0;var t;if(e instanceof Uint8Array)t=e;else{t=[];for(var r=0;r<e.length;){var i=void 0,s=e.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{var o=e.charCodeAt(r++);i=(s<<10)+o+(65536-(55296<<10)-56320)}i<128?t.push(i):(i<2048?t.push(i>>6&31|192):(i<65536?t.push(i>>12&15|224):t.push(i>>18&7|240,i>>12&63|128),t.push(i>>6&63|128)),t.push(i&63|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var r=0,a=this.space,c=this.bb.bytes();r<t.length;r++)c[a++]=t[r];return this.endVector()},n.prototype.createLong=function(e,t){return nHe.Long.create(e,t)},n.prototype.createObjectOffset=function(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)},n.prototype.createObjectOffsetList=function(e){for(var t=[],r=0;r<e.length;++r){var i=e[r];if(i!==null)t.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t},n.prototype.createStructOffsetList=function(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()},n}();JI.Builder=rHe});var So=we(Ma=>{"use strict";m();Object.defineProperty(Ma,"__esModule",{value:!0});Ma.ByteBuffer=Ma.Builder=Ma.Encoding=Ma.createLong=Ma.Long=Ma.isLittleEndian=Ma.float64=Ma.float32=Ma.int32=Ma.SIZE_PREFIX_LENGTH=Ma.FILE_IDENTIFIER_LENGTH=Ma.SIZEOF_INT=Ma.SIZEOF_SHORT=void 0;var iHe=p_();Object.defineProperty(Ma,"SIZEOF_SHORT",{enumerable:!0,get:function(){return iHe.SIZEOF_SHORT}});var sHe=p_();Object.defineProperty(Ma,"SIZEOF_INT",{enumerable:!0,get:function(){return sHe.SIZEOF_INT}});var oHe=p_();Object.defineProperty(Ma,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return oHe.FILE_IDENTIFIER_LENGTH}});var aHe=p_();Object.defineProperty(Ma,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return aHe.SIZE_PREFIX_LENGTH}});var XI=pJ();Object.defineProperty(Ma,"int32",{enumerable:!0,get:function(){return XI.int32}});Object.defineProperty(Ma,"float32",{enumerable:!0,get:function(){return XI.float32}});Object.defineProperty(Ma,"float64",{enumerable:!0,get:function(){return XI.float64}});Object.defineProperty(Ma,"isLittleEndian",{enumerable:!0,get:function(){return XI.isLittleEndian}});var M2e=YI();Object.defineProperty(Ma,"Long",{enumerable:!0,get:function(){return M2e.Long}});Object.defineProperty(Ma,"createLong",{enumerable:!0,get:function(){return M2e.createLong}});var uHe=mJ();Object.defineProperty(Ma,"Encoding",{enumerable:!0,get:function(){return uHe.Encoding}});var lHe=I2e();Object.defineProperty(Ma,"Builder",{enumerable:!0,get:function(){return lHe.Builder}});var cHe=gJ();Object.defineProperty(Ma,"ByteBuffer",{enumerable:!0,get:function(){return cHe.ByteBuffer}})});var E7=we(ZI=>{"use strict";m();Object.defineProperty(ZI,"__esModule",{value:!0});ZI.KeyValue=void 0;var fHe=ds(),dHe=fHe.__importStar(So()),og=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new og).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+dHe.SIZE_PREFIX_LENGTH),(t||new og).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,r){return og.startKeyValue(e),og.addKey(e,t),og.addValue(e,r),og.endKeyValue(e)}};ZI.KeyValue=og});var yJ=we(ZA=>{"use strict";m();Object.defineProperty(ZA,"__esModule",{value:!0});ZA.MetadataVersion=void 0;var hHe;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(hHe=ZA.MetadataVersion||(ZA.MetadataVersion={}))});var vJ=we(eT=>{"use strict";m();Object.defineProperty(eT,"__esModule",{value:!0});eT.Endianness=void 0;var pHe;(function(n){n[n.Little=0]="Little",n[n.Big=1]="Big"})(pHe=eT.Endianness||(eT.Endianness={}))});var P2e=we(tT=>{"use strict";m();Object.defineProperty(tT,"__esModule",{value:!0});tT.DictionaryKind=void 0;var mHe;(function(n){n[n.DenseArray=0]="DenseArray"})(mHe=tT.DictionaryKind||(tT.DictionaryKind={}))});var M3=we(eM=>{"use strict";m();Object.defineProperty(eM,"__esModule",{value:!0});eM.Int=void 0;var xHe=ds(),gHe=xHe.__importStar(So()),ag=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new ag).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+gHe.SIZE_PREFIX_LENGTH),(t||new ag).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,r){return ag.startInt(e),ag.addBitWidth(e,t),ag.addIsSigned(e,r),ag.endInt(e)}};eM.Int=ag});var _J=we(tM=>{"use strict";m();Object.defineProperty(tM,"__esModule",{value:!0});tM.DictionaryEncoding=void 0;var yHe=ds(),vHe=yHe.__importStar(So()),B2e=P2e(),_He=M3(),nT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new nT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+vHe.SIZE_PREFIX_LENGTH),(t||new nT).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new _He.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):B2e.DictionaryKind.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,B2e.DictionaryKind.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}};tM.DictionaryEncoding=nT});var bJ=we(nM=>{"use strict";m();Object.defineProperty(nM,"__esModule",{value:!0});nM.Binary=void 0;var bHe=ds(),EHe=bHe.__importStar(So()),m_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new m_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+EHe.SIZE_PREFIX_LENGTH),(t||new m_).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return m_.startBinary(e),m_.endBinary(e)}};nM.Binary=m_});var EJ=we(rM=>{"use strict";m();Object.defineProperty(rM,"__esModule",{value:!0});rM.Bool=void 0;var SHe=ds(),CHe=SHe.__importStar(So()),x_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new x_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+CHe.SIZE_PREFIX_LENGTH),(t||new x_).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return x_.startBool(e),x_.endBool(e)}};rM.Bool=x_});var j2e=we(rT=>{"use strict";m();Object.defineProperty(rT,"__esModule",{value:!0});rT.DateUnit=void 0;var wHe;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(wHe=rT.DateUnit||(rT.DateUnit={}))});var sM=we(iM=>{"use strict";m();Object.defineProperty(iM,"__esModule",{value:!0});iM.Date=void 0;var AHe=ds(),THe=AHe.__importStar(So()),q2e=j2e(),P3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new P3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+THe.SIZE_PREFIX_LENGTH),(t||new P3).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):q2e.DateUnit.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,q2e.DateUnit.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return P3.startDate(e),P3.addUnit(e,t),P3.endDate(e)}};iM.Date=P3});var aM=we(oM=>{"use strict";m();Object.defineProperty(oM,"__esModule",{value:!0});oM.Decimal=void 0;var FHe=ds(),DHe=FHe.__importStar(So()),xm=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new xm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+DHe.SIZE_PREFIX_LENGTH),(t||new xm).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,r,i){return xm.startDecimal(e),xm.addPrecision(e,t),xm.addScale(e,r),xm.addBitWidth(e,i),xm.endDecimal(e)}};oM.Decimal=xm});var uM=we(iT=>{"use strict";m();Object.defineProperty(iT,"__esModule",{value:!0});iT.TimeUnit=void 0;var OHe;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(OHe=iT.TimeUnit||(iT.TimeUnit={}))});var $2e=we(lM=>{"use strict";m();Object.defineProperty(lM,"__esModule",{value:!0});lM.Duration=void 0;var NHe=ds(),RHe=NHe.__importStar(So()),U2e=uM(),B3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new B3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,t){return e.setPosition(e.position()+RHe.SIZE_PREFIX_LENGTH),(t||new B3).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):U2e.TimeUnit.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,U2e.TimeUnit.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return B3.startDuration(e),B3.addUnit(e,t),B3.endDuration(e)}};lM.Duration=B3});var fM=we(cM=>{"use strict";m();Object.defineProperty(cM,"__esModule",{value:!0});cM.FixedSizeBinary=void 0;var LHe=ds(),kHe=LHe.__importStar(So()),j3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new j3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+kHe.SIZE_PREFIX_LENGTH),(t||new j3).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return j3.startFixedSizeBinary(e),j3.addByteWidth(e,t),j3.endFixedSizeBinary(e)}};cM.FixedSizeBinary=j3});var hM=we(dM=>{"use strict";m();Object.defineProperty(dM,"__esModule",{value:!0});dM.FixedSizeList=void 0;var IHe=ds(),MHe=IHe.__importStar(So()),q3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new q3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+MHe.SIZE_PREFIX_LENGTH),(t||new q3).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return q3.startFixedSizeList(e),q3.addListSize(e,t),q3.endFixedSizeList(e)}};dM.FixedSizeList=q3});var z2e=we(sT=>{"use strict";m();Object.defineProperty(sT,"__esModule",{value:!0});sT.Precision=void 0;var PHe;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(PHe=sT.Precision||(sT.Precision={}))});var mM=we(pM=>{"use strict";m();Object.defineProperty(pM,"__esModule",{value:!0});pM.FloatingPoint=void 0;var BHe=ds(),jHe=BHe.__importStar(So()),H2e=z2e(),U3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new U3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+jHe.SIZE_PREFIX_LENGTH),(t||new U3).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):H2e.Precision.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,H2e.Precision.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return U3.startFloatingPoint(e),U3.addPrecision(e,t),U3.endFloatingPoint(e)}};pM.FloatingPoint=U3});var V2e=we(oT=>{"use strict";m();Object.defineProperty(oT,"__esModule",{value:!0});oT.IntervalUnit=void 0;var qHe;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(qHe=oT.IntervalUnit||(oT.IntervalUnit={}))});var gM=we(xM=>{"use strict";m();Object.defineProperty(xM,"__esModule",{value:!0});xM.Interval=void 0;var UHe=ds(),$He=UHe.__importStar(So()),W2e=V2e(),$3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new $3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+$He.SIZE_PREFIX_LENGTH),(t||new $3).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):W2e.IntervalUnit.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,W2e.IntervalUnit.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return $3.startInterval(e),$3.addUnit(e,t),$3.endInterval(e)}};xM.Interval=$3});var Q2e=we(yM=>{"use strict";m();Object.defineProperty(yM,"__esModule",{value:!0});yM.LargeBinary=void 0;var zHe=ds(),HHe=zHe.__importStar(So()),g_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,t){return(t||new g_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,t){return e.setPosition(e.position()+HHe.SIZE_PREFIX_LENGTH),(t||new g_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return g_.startLargeBinary(e),g_.endLargeBinary(e)}};yM.LargeBinary=g_});var G2e=we(vM=>{"use strict";m();Object.defineProperty(vM,"__esModule",{value:!0});vM.LargeList=void 0;var VHe=ds(),WHe=VHe.__importStar(So()),y_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,t){return(t||new y_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,t){return e.setPosition(e.position()+WHe.SIZE_PREFIX_LENGTH),(t||new y_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return y_.startLargeList(e),y_.endLargeList(e)}};vM.LargeList=y_});var Y2e=we(_M=>{"use strict";m();Object.defineProperty(_M,"__esModule",{value:!0});_M.LargeUtf8=void 0;var QHe=ds(),GHe=QHe.__importStar(So()),v_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,t){return(t||new v_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,t){return e.setPosition(e.position()+GHe.SIZE_PREFIX_LENGTH),(t||new v_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return v_.startLargeUtf8(e),v_.endLargeUtf8(e)}};_M.LargeUtf8=v_});var SJ=we(bM=>{"use strict";m();Object.defineProperty(bM,"__esModule",{value:!0});bM.List=void 0;var YHe=ds(),KHe=YHe.__importStar(So()),__=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new __).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+KHe.SIZE_PREFIX_LENGTH),(t||new __).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return __.startList(e),__.endList(e)}};bM.List=__});var SM=we(EM=>{"use strict";m();Object.defineProperty(EM,"__esModule",{value:!0});EM.Map=void 0;var JHe=ds(),XHe=JHe.__importStar(So()),z3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new z3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+XHe.SIZE_PREFIX_LENGTH),(t||new z3).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return z3.startMap(e),z3.addKeysSorted(e,t),z3.endMap(e)}};EM.Map=z3});var CJ=we(CM=>{"use strict";m();Object.defineProperty(CM,"__esModule",{value:!0});CM.Null=void 0;var ZHe=ds(),eVe=ZHe.__importStar(So()),b_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new b_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+eVe.SIZE_PREFIX_LENGTH),(t||new b_).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return b_.startNull(e),b_.endNull(e)}};CM.Null=b_});var wJ=we(wM=>{"use strict";m();Object.defineProperty(wM,"__esModule",{value:!0});wM.Struct_=void 0;var tVe=ds(),nVe=tVe.__importStar(So()),E_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new E_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+nVe.SIZE_PREFIX_LENGTH),(t||new E_).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return E_.startStruct_(e),E_.endStruct_(e)}};wM.Struct_=E_});var TM=we(AM=>{"use strict";m();Object.defineProperty(AM,"__esModule",{value:!0});AM.Time=void 0;var rVe=ds(),iVe=rVe.__importStar(So()),K2e=uM(),ug=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new ug).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+iVe.SIZE_PREFIX_LENGTH),(t||new ug).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):K2e.TimeUnit.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,K2e.TimeUnit.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,r){return ug.startTime(e),ug.addUnit(e,t),ug.addBitWidth(e,r),ug.endTime(e)}};AM.Time=ug});var DM=we(FM=>{"use strict";m();Object.defineProperty(FM,"__esModule",{value:!0});FM.Timestamp=void 0;var sVe=ds(),oVe=sVe.__importStar(So()),J2e=uM(),lg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new lg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+oVe.SIZE_PREFIX_LENGTH),(t||new lg).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):J2e.TimeUnit.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,J2e.TimeUnit.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,r){return lg.startTimestamp(e),lg.addUnit(e,t),lg.addTimezone(e,r),lg.endTimestamp(e)}};FM.Timestamp=lg});var X2e=we(aT=>{"use strict";m();Object.defineProperty(aT,"__esModule",{value:!0});aT.UnionMode=void 0;var aVe;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(aVe=aT.UnionMode||(aT.UnionMode={}))});var NM=we(OM=>{"use strict";m();Object.defineProperty(OM,"__esModule",{value:!0});OM.Union=void 0;var uVe=ds(),lVe=uVe.__importStar(So()),Z2e=X2e(),cg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new cg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+lVe.SIZE_PREFIX_LENGTH),(t||new cg).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Z2e.UnionMode.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,Z2e.UnionMode.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,r){return cg.startUnion(e),cg.addMode(e,t),cg.addTypeIds(e,r),cg.endUnion(e)}};OM.Union=cg});var AJ=we(RM=>{"use strict";m();Object.defineProperty(RM,"__esModule",{value:!0});RM.Utf8=void 0;var cVe=ds(),fVe=cVe.__importStar(So()),S_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new S_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+fVe.SIZE_PREFIX_LENGTH),(t||new S_).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return S_.startUtf8(e),S_.endUtf8(e)}};RM.Utf8=S_});var S7=we(fg=>{"use strict";m();Object.defineProperty(fg,"__esModule",{value:!0});fg.unionListToType=fg.unionToType=fg.Type=void 0;var eme=bJ(),tme=EJ(),nme=sM(),rme=aM(),ime=$2e(),sme=fM(),ome=hM(),ame=mM(),ume=M3(),lme=gM(),cme=Q2e(),fme=G2e(),dme=Y2e(),hme=SJ(),pme=SM(),mme=CJ(),xme=wJ(),gme=TM(),yme=DM(),vme=NM(),_me=AJ(),TJ;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.FloatingPoint=3]="FloatingPoint",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct_=13]="Struct_",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Duration=18]="Duration",n[n.LargeBinary=19]="LargeBinary",n[n.LargeUtf8=20]="LargeUtf8",n[n.LargeList=21]="LargeList"})(TJ=fg.Type||(fg.Type={}));function dVe(n,e){switch(TJ[n]){case"NONE":return null;case"Null":return e(new mme.Null);case"Int":return e(new ume.Int);case"FloatingPoint":return e(new ame.FloatingPoint);case"Binary":return e(new eme.Binary);case"Utf8":return e(new _me.Utf8);case"Bool":return e(new tme.Bool);case"Decimal":return e(new rme.Decimal);case"Date":return e(new nme.Date);case"Time":return e(new gme.Time);case"Timestamp":return e(new yme.Timestamp);case"Interval":return e(new lme.Interval);case"List":return e(new hme.List);case"Struct_":return e(new xme.Struct_);case"Union":return e(new vme.Union);case"FixedSizeBinary":return e(new sme.FixedSizeBinary);case"FixedSizeList":return e(new ome.FixedSizeList);case"Map":return e(new pme.Map);case"Duration":return e(new ime.Duration);case"LargeBinary":return e(new cme.LargeBinary);case"LargeUtf8":return e(new dme.LargeUtf8);case"LargeList":return e(new fme.LargeList);default:return null}}fg.unionToType=dVe;function hVe(n,e,t){switch(TJ[n]){case"NONE":return null;case"Null":return e(t,new mme.Null);case"Int":return e(t,new ume.Int);case"FloatingPoint":return e(t,new ame.FloatingPoint);case"Binary":return e(t,new eme.Binary);case"Utf8":return e(t,new _me.Utf8);case"Bool":return e(t,new tme.Bool);case"Decimal":return e(t,new rme.Decimal);case"Date":return e(t,new nme.Date);case"Time":return e(t,new gme.Time);case"Timestamp":return e(t,new yme.Timestamp);case"Interval":return e(t,new lme.Interval);case"List":return e(t,new hme.List);case"Struct_":return e(t,new xme.Struct_);case"Union":return e(t,new vme.Union);case"FixedSizeBinary":return e(t,new sme.FixedSizeBinary);case"FixedSizeList":return e(t,new ome.FixedSizeList);case"Map":return e(t,new pme.Map);case"Duration":return e(t,new ime.Duration);case"LargeBinary":return e(t,new cme.LargeBinary);case"LargeUtf8":return e(t,new dme.LargeUtf8);case"LargeList":return e(t,new fme.LargeList);default:return null}}fg.unionListToType=hVe});var FJ=we(LM=>{"use strict";m();Object.defineProperty(LM,"__esModule",{value:!0});LM.Field=void 0;var pVe=ds(),mVe=pVe.__importStar(So()),xVe=_J(),gVe=E7(),bme=S7(),C7=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new C7).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+mVe.SIZE_PREFIX_LENGTH),(t||new C7).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):bme.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new xVe.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let r=this.bb.__offset(this.bb_pos,14);return r?(t||new C7).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,16);return r?(t||new gVe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,bme.Type.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}};LM.Field=C7});var IM=we(kM=>{"use strict";m();Object.defineProperty(kM,"__esModule",{value:!0});kM.Schema=void 0;var yVe=ds(),vVe=yVe.__importStar(So()),Eme=vJ(),_Ve=FJ(),bVe=E7(),X1=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new X1).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+vVe.SIZE_PREFIX_LENGTH),(t||new X1).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Eme.Endianness.Little}fields(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new _Ve.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new bVe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,Eme.Endianness.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,r,i,s){return X1.startSchema(e),X1.addEndianness(e,t),X1.addFields(e,r),X1.addCustomMetadata(e,i),X1.addFeatures(e,s),X1.endSchema(e)}};kM.Schema=X1});var wme=we(MM=>{"use strict";m();Object.defineProperty(MM,"__esModule",{value:!0});MM.Footer=void 0;var EVe=ds(),SVe=EVe.__importStar(So()),Sme=hJ(),CVe=E7(),Cme=yJ(),wVe=IM(),uT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new uT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+SVe.SIZE_PREFIX_LENGTH),(t||new uT).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Cme.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new wVe.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new Sme.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new Sme.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new CVe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,Cme.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}};MM.Footer=uT});var rh=we(w7=>{"use strict";m();Object.defineProperty(w7,"__esModule",{value:!0});w7.Field=w7.Schema=void 0;var AVe=tu(),Rp=class{constructor(e=[],t,r){this.fields=e||[],this.metadata=t||new Map,r||(r=DJ(e)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(e){let t=new Set(e),r=this.fields.filter(i=>t.has(i.name));return new Rp(r,this.metadata)}selectAt(e){let t=e.map(r=>this.fields[r]).filter(Boolean);return new Rp(t,this.metadata)}assign(...e){let t=e[0]instanceof Rp?e[0]:Array.isArray(e[0])?new Rp(e[0]):new Rp(e),r=[...this.fields],i=PM(PM(new Map,this.metadata),t.metadata),s=t.fields.filter(a=>{let c=r.findIndex(d=>d.name===a.name);return~c?(r[c]=a.clone({metadata:PM(PM(new Map,r[c].metadata),a.metadata)}))&&!1:!0}),o=DJ(s,new Map);return new Rp([...r,...s],i,new Map([...this.dictionaries,...o]))}};w7.Schema=Rp;Rp.prototype.fields=null;Rp.prototype.metadata=null;Rp.prototype.dictionaries=null;var dg=class{constructor(e,t,r=!1,i){this.name=e,this.type=t,this.nullable=r,this.metadata=i||new Map}static new(...e){let[t,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new dg(`${t}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:t=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],dg.new(t,r,i,s)}};w7.Field=dg;dg.prototype.type=null;dg.prototype.name=null;dg.prototype.nullable=null;dg.prototype.metadata=null;function PM(n,e){return new Map([...n||new Map,...e||new Map])}function DJ(n,e=new Map){for(let t=-1,r=n.length;++t<r;){let s=n[t].type;if(AVe.DataType.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&DJ(s.children,e)}return e}});var RJ=we(A7=>{"use strict";m();Object.defineProperty(A7,"__esModule",{value:!0});A7.FileBlock=A7.Footer=void 0;var TVe=ds(),FVe=hJ(),gm=wme(),OJ=TVe.__importStar(So()),Ame=OJ.Long,DVe=OJ.Builder,OVe=OJ.ByteBuffer,Tme=rh(),Fme=Al(),NVe=jf(),NJ=class{constructor(e,t=Fme.MetadataVersion.V4,r,i){this.schema=e,this.version=t,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(e){e=new OVe((0,NVe.toUint8Array)(e));let t=gm.Footer.getRootAsFooter(e),r=Tme.Schema.decode(t.schema());return new Dme(r,t)}static encode(e){let t=new DVe,r=Tme.Schema.encode(t,e.schema);gm.Footer.startRecordBatchesVector(t,e.numRecordBatches);for(let o of[...e.recordBatches()].slice().reverse())H3.encode(t,o);let i=t.endVector();gm.Footer.startDictionariesVector(t,e.numDictionaries);for(let o of[...e.dictionaryBatches()].slice().reverse())H3.encode(t,o);let s=t.endVector();return gm.Footer.startFooter(t),gm.Footer.addSchema(t,r),gm.Footer.addVersion(t,Fme.MetadataVersion.V4),gm.Footer.addRecordBatches(t,i),gm.Footer.addDictionaries(t,s),gm.Footer.finishFooterBuffer(t,gm.Footer.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,r=this.numRecordBatches;++t<r;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,r=this.numDictionaries;++t<r;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};A7.Footer=NJ;var Dme=class extends NJ{constructor(e,t){super(e,t.version());this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return H3.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return H3.decode(t)}return null}},H3=class{constructor(e,t,r){this.metaDataLength=e,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new H3(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){let{metaDataLength:r}=t,i=new Ame(t.offset,0),s=new Ame(t.bodyLength,0);return FVe.Block.createBlock(e,i,r,s)}};A7.FileBlock=H3});var lT=we(ih=>{"use strict";m();Object.defineProperty(ih,"__esModule",{value:!0});ih.AsyncQueue=ih.ReadableInterop=ih.ArrowJSON=ih.ITERATOR_DONE=void 0;var T7=ds(),Ome=T7.__importDefault(VA());ih.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var Nme=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};ih.ArrowJSON=Nme;var LJ=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};ih.ReadableInterop=LJ;var Rme=class extends LJ{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return T7.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(ih.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return Ome.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return Ome.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return T7.__awaiter(this,void 0,void 0,function*(){return yield this.abort(e),ih.ITERATOR_DONE})}return(e){return T7.__awaiter(this,void 0,void 0,function*(){return yield this.close(),ih.ITERATOR_DONE})}read(e){return T7.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return T7.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,r)=>{this.resolvers.push({resolve:t,reject:r})}):Promise.resolve(ih.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};ih.AsyncQueue=Rme});var G3=we(Q3=>{"use strict";m();Object.defineProperty(Q3,"__esModule",{value:!0});Q3.AsyncByteStream=Q3.ByteStream=Q3.AsyncByteQueue=void 0;var hg=ds(),V3=hg.__importDefault(VA()),Lme=l_(),cT=lT(),kJ=jf(),F7=om(),IJ=class extends cT.AsyncQueue{write(e){if((e=(0,kJ.toUint8Array)(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?(0,Lme.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(Lme.decodeUtf8)}toUint8Array(e=!1){return e?(0,kJ.joinUint8Arrays)(this._values)[0]:(()=>hg.__awaiter(this,void 0,void 0,function*(){var t,r;let i=[],s=0;try{for(var o=hg.__asyncValues(this),a;a=yield o.next(),!a.done;){let c=a.value;i.push(c),s+=c.byteLength}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return(0,kJ.joinUint8Arrays)(i,s)[0]}))()}};Q3.AsyncByteQueue=IJ;var kme=class{constructor(e){e&&(this.source=new Ime(V3.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};Q3.ByteStream=kme;var BM=class{constructor(e){e instanceof BM?this.source=e.source:e instanceof IJ?this.source=new W3(V3.default.fromAsyncIterable(e)):(0,F7.isReadableNodeStream)(e)?this.source=new W3(V3.default.fromNodeStream(e)):(0,F7.isReadableDOMStream)(e)?this.source=new W3(V3.default.fromDOMStream(e)):(0,F7.isFetchResponse)(e)?this.source=new W3(V3.default.fromDOMStream(e.body)):(0,F7.isIterable)(e)?this.source=new W3(V3.default.fromIterable(e)):(0,F7.isPromise)(e)?this.source=new W3(V3.default.fromAsyncIterable(e)):(0,F7.isAsyncIterable)(e)&&(this.source=new W3(V3.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};Q3.AsyncByteStream=BM;var Ime=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||cT.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||cT.ITERATOR_DONE)}},W3=class{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return hg.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return hg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return hg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return hg.__awaiter(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return hg.__awaiter(this,void 0,void 0,function*(){let t=this.source.throw&&(yield this.source.throw(e))||cT.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return hg.__awaiter(this,void 0,void 0,function*(){let t=this.source.return&&(yield this.source.return(e))||cT.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}});var MJ=we(D7=>{"use strict";m();Object.defineProperty(D7,"__esModule",{value:!0});D7.AsyncRandomAccessFile=D7.RandomAccessFile=void 0;var Y3=ds(),Mme=G3(),RVe=jf(),Pme=class extends Mme.ByteStream{constructor(e,t){super();this.position=0,this.buffer=(0,RVe.toUint8Array)(e),this.size=typeof t=="undefined"?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:r}=this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:r,position:i}=this;return t&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),t.subarray(i,this.position)):null}readAt(e,t){let r=this.buffer,i=Math.min(this.size,e+t);return r?r.subarray(e,i):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};D7.RandomAccessFile=Pme;var Bme=class extends Mme.AsyncByteStream{constructor(e,t){super();this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=(()=>Y3.__awaiter(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return Y3.__awaiter(this,void 0,void 0,function*(){let{buffer:t,byteOffset:r}=yield this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)})}seek(e){return Y3.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return Y3.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:t,size:r,position:i}=this;if(t&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0,c=Math.min(r,s+Math.min(r-s,e)),d=new Uint8Array(Math.max(0,(this.position=c)-s));for(;(s+=a)<c&&(o+=a)<d.byteLength;)({bytesRead:a}=yield t.read(d,o,d.byteLength-o,s));return d}return null})}readAt(e,t){return Y3.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:r,size:i}=this;if(r&&e+t<i){let s=Math.min(i,e+t),o=new Uint8Array(s-e);return(yield r.read(o,0,t,e)).buffer}return new Uint8Array(t)})}close(){return Y3.__awaiter(this,void 0,void 0,function*(){let e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return Y3.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return Y3.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}};D7.AsyncRandomAccessFile=Bme});var BJ=we(ym=>{"use strict";m();Object.defineProperty(ym,"__esModule",{value:!0});ym.Int128=ym.Int64=ym.Uint64=ym.BaseInt64=void 0;var LVe=1<<16;function O7(n){return n<0&&(n=4294967295+n+1),`0x${n.toString(16)}`}var N7=8,PJ=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],jM=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),i=t[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=t[2]*r[3],s+=i,i=t[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?LVe:0,this.buffer[1]+=s>>>16,this.buffer[1]+=t[1]*r[3]+t[2]*r[2]+t[3]*r[1],this.buffer[1]+=t[0]*r[3]+t[1]*r[2]+t[2]*r[1]+t[3]*r[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${O7(this.buffer[1])} ${O7(this.buffer[0])}`}};ym.BaseInt64=jM;var fa=class extends jM{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return fa.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return fa.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.length,i=new fa(t);for(let s=0;s<r;){let o=N7<r-s?N7:r-s,a=new fa(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),c=new fa(new Uint32Array([PJ[o],0]));i.times(c),i.plus(a),s+=o}return i}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)fa.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new fa(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new fa(new Uint32Array(e.buffer)).plus(t)}};ym.Uint64=fa;var jh=class extends jM{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,r=e.buffer[1]<<0;return t<r||t===r&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return jh.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return jh.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.startsWith("-"),i=e.length,s=new jh(t);for(let o=r?1:0;o<i;){let a=N7<i-o?N7:i-o,c=new jh(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),d=new jh(new Uint32Array([PJ[a],0]));s.times(d),s.plus(c),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)jh.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new jh(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new jh(new Uint32Array(e.buffer)).plus(t)}};ym.Int64=jh;var Z1=class{constructor(e){this.buffer=e}high(){return new jh(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new jh(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let t=new fa(new Uint32Array([this.buffer[3],0])),r=new fa(new Uint32Array([this.buffer[2],0])),i=new fa(new Uint32Array([this.buffer[1],0])),s=new fa(new Uint32Array([this.buffer[0],0])),o=new fa(new Uint32Array([e.buffer[3],0])),a=new fa(new Uint32Array([e.buffer[2],0])),c=new fa(new Uint32Array([e.buffer[1],0])),d=new fa(new Uint32Array([e.buffer[0],0])),p=fa.multiply(s,d);this.buffer[0]=p.low();let b=new fa(new Uint32Array([p.high(),0]));return p=fa.multiply(i,d),b.plus(p),p=fa.multiply(s,c),b.plus(p),this.buffer[1]=b.low(),this.buffer[3]=b.lessThan(p)?1:0,this.buffer[2]=b.high(),new fa(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(fa.multiply(r,d)).plus(fa.multiply(i,c)).plus(fa.multiply(s,a)),this.buffer[3]+=fa.multiply(t,d).plus(fa.multiply(r,c)).plus(fa.multiply(i,a)).plus(fa.multiply(s,o)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${O7(this.buffer[3])} ${O7(this.buffer[2])} ${O7(this.buffer[1])} ${O7(this.buffer[0])}`}static multiply(e,t){return new Z1(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Z1(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return Z1.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return Z1.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let r=e.startsWith("-"),i=e.length,s=new Z1(t);for(let o=r?1:0;o<i;){let a=N7<i-o?N7:i-o,c=new Z1(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),d=new Z1(new Uint32Array([PJ[a],0,0,0]));s.times(d),s.plus(c),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)Z1.from(e[r],new Uint32Array(t.buffer,t.byteOffset+4*4*r,4));return t}};ym.Int128=Z1});var $me=we(R7=>{"use strict";m();Object.defineProperty(R7,"__esModule",{value:!0});R7.JSONVectorLoader=R7.VectorLoader=void 0;var Bc=um(),kVe=rh(),pg=tu(),IVe=ad(),jme=d_(),MVe=l_(),qM=BJ(),qme=Al(),vm=jf(),jJ=class extends IVe.Visitor{constructor(e,t,r,i){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=r,this.dictionaries=i}visit(e){return super.visit(e instanceof kVe.Field?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t})}visitBool(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===qme.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Bc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,r=this.nextBufferRange()){return t>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+t)}readDictionary(e){return this.dictionaries.get(e.id)}};R7.VectorLoader=jJ;var Ume=class extends jJ{constructor(e,t,r,i){super(new Uint8Array(0),t,r,i);this.sources=e}readNullBitmap(e,t,{offset:r}=this.nextBufferRange()){return t<=0?new Uint8Array(0):(0,jme.packBools)(this.sources[r])}readOffsets(e,{offset:t}=this.nextBufferRange()){return(0,vm.toArrayBufferView)(Uint8Array,(0,vm.toArrayBufferView)(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return(0,vm.toArrayBufferView)(Uint8Array,(0,vm.toArrayBufferView)(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:r}=this;return pg.DataType.isTimestamp(e)||(pg.DataType.isInt(e)||pg.DataType.isTime(e))&&e.bitWidth===64||pg.DataType.isDate(e)&&e.unit===qme.DateUnit.MILLISECOND?(0,vm.toArrayBufferView)(Uint8Array,qM.Int64.convertArray(r[t])):pg.DataType.isDecimal(e)?(0,vm.toArrayBufferView)(Uint8Array,qM.Int128.convertArray(r[t])):pg.DataType.isBinary(e)||pg.DataType.isFixedSizeBinary(e)?PVe(r[t]):pg.DataType.isBool(e)?(0,jme.packBools)(r[t]):pg.DataType.isUtf8(e)?(0,MVe.encodeUtf8)(r[t].join("")):(0,vm.toArrayBufferView)(Uint8Array,(0,vm.toArrayBufferView)(e.ArrayType,r[t].map(i=>+i)))}};R7.JSONVectorLoader=Ume;function PVe(n){let e=n.join(""),t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r>>1]=Number.parseInt(e.slice(r,r+2),16);return t}});var $M=we(UM=>{"use strict";m();Object.defineProperty(UM,"__esModule",{value:!0});UM.BinaryBuilder=void 0;var BVe=jf(),jVe=h_(),qVe=zl(),zme=class extends qVe.VariableWidthBuilder{constructor(e){super(e);this._values=new jVe.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,BVe.toUint8Array)(t))}_flushPending(e,t){let r=this._offsets,i=this._values.reserve(t).buffer,s=0;for(let[o,a]of e)if(a===void 0)r.set(o,0);else{let c=a.length;i.set(a,s),r.set(o,c),s+=c}}};UM.BinaryBuilder=zme});var qJ=we(zM=>{"use strict";m();Object.defineProperty(zM,"__esModule",{value:!0});zM.BoolBuilder=void 0;var UVe=h_(),$Ve=zl(),Hme=class extends $Ve.Builder{constructor(e){super(e);this._values=new UVe.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};zM.BoolBuilder=Hme});var HJ=we(K3=>{"use strict";m();Object.defineProperty(K3,"__esModule",{value:!0});K3.DateMillisecondBuilder=K3.DateDayBuilder=K3.DateBuilder=void 0;var zVe=zl(),UJ=Fp(),fT=class extends zVe.FixedWidthBuilder{};K3.DateBuilder=fT;fT.prototype._setValue=UJ.setDate;var $J=class extends fT{};K3.DateDayBuilder=$J;$J.prototype._setValue=UJ.setDateDay;var zJ=class extends fT{};K3.DateMillisecondBuilder=zJ;zJ.prototype._setValue=UJ.setDateMillisecond});var WJ=we(HM=>{"use strict";m();Object.defineProperty(HM,"__esModule",{value:!0});HM.DecimalBuilder=void 0;var HVe=zl(),VVe=Fp(),VJ=class extends HVe.FixedWidthBuilder{};HM.DecimalBuilder=VJ;VJ.prototype._setValue=VVe.setDecimal});var QJ=we(VM=>{"use strict";m();Object.defineProperty(VM,"__esModule",{value:!0});VM.DictionaryBuilder=void 0;var WVe=tu(),QVe=zl(),Vme=dT(),Wme=class extends QVe.Builder{constructor({type:e,nullValues:t,dictionaryHashFunction:r}){super({type:new WVe.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)});this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,Vme.makeBuilder)({type:this.type.indices,nullValues:t}),this.dictionary=(0,Vme.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let r=this.indices;return t=r.setValid(e,t),this.length=r.length,t}setValue(e,t){let r=this._keysToIndices,i=this.valueToKey(t),s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,s)}flush(){let e=this.type,t=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=t?t.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}};VM.DictionaryBuilder=Wme});var YJ=we(WM=>{"use strict";m();Object.defineProperty(WM,"__esModule",{value:!0});WM.FixedSizeBinaryBuilder=void 0;var GVe=zl(),YVe=Fp(),GJ=class extends GVe.FixedWidthBuilder{};WM.FixedSizeBinaryBuilder=GJ;GJ.prototype._setValue=YVe.setFixedSizeBinary});var KJ=we(QM=>{"use strict";m();Object.defineProperty(QM,"__esModule",{value:!0});QM.FixedSizeListBuilder=void 0;var KVe=rh(),JVe=zl(),XVe=tu(),Qme=class extends JVe.Builder{setValue(e,t){let[r]=this.children,i=e*this.stride;for(let s=-1,o=t.length;++s<o;)r.set(i+s,t[s])}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let r=this.children.push(e);return this.type=new XVe.FixedSizeList(this.type.listSize,new KVe.Field(t,e.type,!0)),r}};QM.FixedSizeListBuilder=Qme});var JJ=we(_m=>{"use strict";m();Object.defineProperty(_m,"__esModule",{value:!0});_m.Float64Builder=_m.Float32Builder=_m.Float16Builder=_m.FloatBuilder=void 0;var ZVe=QA(),eWe=zl(),hT=class extends eWe.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};_m.FloatBuilder=hT;var Gme=class extends hT{setValue(e,t){super.setValue(e,(0,ZVe.float64ToUint16)(t))}};_m.Float16Builder=Gme;var Yme=class extends hT{};_m.Float32Builder=Yme;var Kme=class extends hT{};_m.Float64Builder=Kme});var tX=we(J3=>{"use strict";m();Object.defineProperty(J3,"__esModule",{value:!0});J3.IntervalYearMonthBuilder=J3.IntervalDayTimeBuilder=J3.IntervalBuilder=void 0;var tWe=zl(),XJ=Fp(),pT=class extends tWe.FixedWidthBuilder{};J3.IntervalBuilder=pT;pT.prototype._setValue=XJ.setIntervalValue;var ZJ=class extends pT{};J3.IntervalDayTimeBuilder=ZJ;ZJ.prototype._setValue=XJ.setIntervalDayTime;var eX=class extends pT{};J3.IntervalYearMonthBuilder=eX;eX.prototype._setValue=XJ.setIntervalYearMonth});var nX=we(pc=>{"use strict";m();Object.defineProperty(pc,"__esModule",{value:!0});pc.Uint64Builder=pc.Uint32Builder=pc.Uint16Builder=pc.Uint8Builder=pc.Int64Builder=pc.Int32Builder=pc.Int16Builder=pc.Int8Builder=pc.IntBuilder=void 0;var nWe=zl(),bm=class extends nWe.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};pc.IntBuilder=bm;var Jme=class extends bm{};pc.Int8Builder=Jme;var Xme=class extends bm{};pc.Int16Builder=Xme;var Zme=class extends bm{};pc.Int32Builder=Zme;var exe=class extends bm{};pc.Int64Builder=exe;var txe=class extends bm{};pc.Uint8Builder=txe;var nxe=class extends bm{};pc.Uint16Builder=nxe;var rxe=class extends bm{};pc.Uint32Builder=rxe;var ixe=class extends bm{};pc.Uint64Builder=ixe});var rX=we(GM=>{"use strict";m();Object.defineProperty(GM,"__esModule",{value:!0});GM.ListBuilder=void 0;var rWe=rh(),iWe=tu(),sWe=h_(),oWe=zl(),sxe=class extends oWe.VariableWidthBuilder{constructor(e){super(e);this._offsets=new sWe.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new iWe.List(new rWe.Field(t,e.type,!0)),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let o=s.length,a=t.set(i,o).buffer[i];for(let c=-1;++c<o;)r.set(a+c,s[c])}}};GM.ListBuilder=sxe});var iX=we(YM=>{"use strict";m();Object.defineProperty(YM,"__esModule",{value:!0});YM.MapBuilder=void 0;var aWe=rh(),uWe=tu(),lWe=zl(),oxe=class extends lWe.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){let r=t instanceof Map?t:new Map(Object.entries(t)),i=this._pending||(this._pending=new Map),s=i.get(e);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(e,r)}addChild(e,t=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new uWe.Map_(new aWe.Field(t,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let{[i]:o,[i+1]:a}=t.set(i,s.size).buffer;for(let c of s.entries())if(r.set(o,c),++o>=a)break}}};YM.MapBuilder=oxe});var sX=we(KM=>{"use strict";m();Object.defineProperty(KM,"__esModule",{value:!0});KM.NullBuilder=void 0;var cWe=zl(),axe=class extends cWe.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};KM.NullBuilder=axe});var oX=we(JM=>{"use strict";m();Object.defineProperty(JM,"__esModule",{value:!0});JM.StructBuilder=void 0;var fWe=rh(),dWe=zl(),hWe=tu(),uxe=class extends dWe.Builder{setValue(e,t){let{children:r,type:i}=this;switch(Array.isArray(t)||t.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(e,t[o]));case Map:return i.children.forEach((s,o)=>r[o].set(e,t.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(e,t[s.name]))}}setValid(e,t){return super.setValid(e,t)||this.children.forEach(r=>r.setValid(e,t)),t}addChild(e,t=`${this.numChildren}`){let r=this.children.push(e);return this.type=new hWe.Struct([...this.type.children,new fWe.Field(t,e.type,!0)]),r}};JM.StructBuilder=uxe});var fX=we(Lp=>{"use strict";m();Object.defineProperty(Lp,"__esModule",{value:!0});Lp.TimestampNanosecondBuilder=Lp.TimestampMicrosecondBuilder=Lp.TimestampMillisecondBuilder=Lp.TimestampSecondBuilder=Lp.TimestampBuilder=void 0;var pWe=zl(),mT=Fp(),C_=class extends pWe.FixedWidthBuilder{};Lp.TimestampBuilder=C_;C_.prototype._setValue=mT.setTimestamp;var aX=class extends C_{};Lp.TimestampSecondBuilder=aX;aX.prototype._setValue=mT.setTimestampSecond;var uX=class extends C_{};Lp.TimestampMillisecondBuilder=uX;uX.prototype._setValue=mT.setTimestampMillisecond;var lX=class extends C_{};Lp.TimestampMicrosecondBuilder=lX;lX.prototype._setValue=mT.setTimestampMicrosecond;var cX=class extends C_{};Lp.TimestampNanosecondBuilder=cX;cX.prototype._setValue=mT.setTimestampNanosecond});var xX=we(kp=>{"use strict";m();Object.defineProperty(kp,"__esModule",{value:!0});kp.TimeNanosecondBuilder=kp.TimeMicrosecondBuilder=kp.TimeMillisecondBuilder=kp.TimeSecondBuilder=kp.TimeBuilder=void 0;var mWe=zl(),xT=Fp(),w_=class extends mWe.FixedWidthBuilder{};kp.TimeBuilder=w_;w_.prototype._setValue=xT.setTime;var dX=class extends w_{};kp.TimeSecondBuilder=dX;dX.prototype._setValue=xT.setTimeSecond;var hX=class extends w_{};kp.TimeMillisecondBuilder=hX;hX.prototype._setValue=xT.setTimeMillisecond;var pX=class extends w_{};kp.TimeMicrosecondBuilder=pX;pX.prototype._setValue=xT.setTimeMicrosecond;var mX=class extends w_{};kp.TimeNanosecondBuilder=mX;mX.prototype._setValue=xT.setTimeNanosecond});var gX=we(X3=>{"use strict";m();Object.defineProperty(X3,"__esModule",{value:!0});X3.DenseUnionBuilder=X3.SparseUnionBuilder=X3.UnionBuilder=void 0;var xWe=rh(),lxe=h_(),gWe=zl(),yWe=tu(),XM=class extends gWe.Builder{constructor(e){super(e);this._typeIds=new lxe.DataBufferBuilder(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,r){return r===void 0&&(r=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,r),this}setValue(e,t,r){this._typeIds.set(e,r);let i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(e,t)}addChild(e,t=`${this.children.length}`){let r=this.children.push(e),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new xWe.Field(t,e.type)];return this.type=new yWe.Union(s,[...o,r],a),r}_valueToChildTypeId(e,t,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};X3.UnionBuilder=XM;var cxe=class extends XM{};X3.SparseUnionBuilder=cxe;var fxe=class extends XM{constructor(e){super(e);this._offsets=new lxe.DataBufferBuilder(new Int32Array(0))}setValue(e,t,r){let i=this._typeIds.set(e,r).buffer[e],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(e,s.length).buffer[e];s==null||s.set(o,t)}};X3.DenseUnionBuilder=fxe});var vX=we(ZM=>{"use strict";m();Object.defineProperty(ZM,"__esModule",{value:!0});ZM.Utf8Builder=void 0;var vWe=l_(),_We=$M(),bWe=h_(),EWe=zl(),yX=class extends EWe.VariableWidthBuilder{constructor(e){super(e);this._values=new bWe.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,vWe.encodeUtf8)(t))}_flushPending(e,t){}};ZM.Utf8Builder=yX;yX.prototype._flushPending=_We.BinaryBuilder.prototype._flushPending});var dxe=we(L7=>{"use strict";m();Object.defineProperty(L7,"__esModule",{value:!0});L7.instance=L7.GetBuilderCtor=void 0;var SWe=ad(),CWe=$M(),wWe=qJ(),_X=HJ(),AWe=WJ(),TWe=QJ(),FWe=YJ(),DWe=KJ(),eP=JJ(),bX=tX(),mg=nX(),OWe=rX(),NWe=iX(),RWe=sX(),LWe=oX(),gT=fX(),yT=xX(),EX=gX(),kWe=vX(),SX=class extends SWe.Visitor{visitNull(){return RWe.NullBuilder}visitBool(){return wWe.BoolBuilder}visitInt(){return mg.IntBuilder}visitInt8(){return mg.Int8Builder}visitInt16(){return mg.Int16Builder}visitInt32(){return mg.Int32Builder}visitInt64(){return mg.Int64Builder}visitUint8(){return mg.Uint8Builder}visitUint16(){return mg.Uint16Builder}visitUint32(){return mg.Uint32Builder}visitUint64(){return mg.Uint64Builder}visitFloat(){return eP.FloatBuilder}visitFloat16(){return eP.Float16Builder}visitFloat32(){return eP.Float32Builder}visitFloat64(){return eP.Float64Builder}visitUtf8(){return kWe.Utf8Builder}visitBinary(){return CWe.BinaryBuilder}visitFixedSizeBinary(){return FWe.FixedSizeBinaryBuilder}visitDate(){return _X.DateBuilder}visitDateDay(){return _X.DateDayBuilder}visitDateMillisecond(){return _X.DateMillisecondBuilder}visitTimestamp(){return gT.TimestampBuilder}visitTimestampSecond(){return gT.TimestampSecondBuilder}visitTimestampMillisecond(){return gT.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return gT.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return gT.TimestampNanosecondBuilder}visitTime(){return yT.TimeBuilder}visitTimeSecond(){return yT.TimeSecondBuilder}visitTimeMillisecond(){return yT.TimeMillisecondBuilder}visitTimeMicrosecond(){return yT.TimeMicrosecondBuilder}visitTimeNanosecond(){return yT.TimeNanosecondBuilder}visitDecimal(){return AWe.DecimalBuilder}visitList(){return OWe.ListBuilder}visitStruct(){return LWe.StructBuilder}visitUnion(){return EX.UnionBuilder}visitDenseUnion(){return EX.DenseUnionBuilder}visitSparseUnion(){return EX.SparseUnionBuilder}visitDictionary(){return TWe.DictionaryBuilder}visitInterval(){return bX.IntervalBuilder}visitIntervalDayTime(){return bX.IntervalDayTimeBuilder}visitIntervalYearMonth(){return bX.IntervalYearMonthBuilder}visitFixedSizeList(){return DWe.FixedSizeListBuilder}visitMap(){return NWe.MapBuilder}};L7.GetBuilderCtor=SX;L7.instance=new SX});var ET=we(Tl=>{"use strict";m();Object.defineProperty(Tl,"__esModule",{value:!0});Tl.compareTypes=Tl.compareFields=Tl.compareSchemas=Tl.instance=Tl.TypeComparator=void 0;var IWe=ad(),Hs=class extends IWe.Visitor{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((r,i)=>this.compareFields(r,t[i]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}};Tl.TypeComparator=Hs;function sh(n,e){return e instanceof n.constructor}function vT(n,e){return n===e||sh(n,e)}function xg(n,e){return n===e||sh(n,e)&&n.bitWidth===e.bitWidth&&n.isSigned===e.isSigned}function tP(n,e){return n===e||sh(n,e)&&n.precision===e.precision}function MWe(n,e){return n===e||sh(n,e)&&n.byteWidth===e.byteWidth}function CX(n,e){return n===e||sh(n,e)&&n.unit===e.unit}function _T(n,e){return n===e||sh(n,e)&&n.unit===e.unit&&n.timezone===e.timezone}function bT(n,e){return n===e||sh(n,e)&&n.unit===e.unit&&n.bitWidth===e.bitWidth}function PWe(n,e){return n===e||sh(n,e)&&n.children.length===e.children.length&&Tl.instance.compareManyFields(n.children,e.children)}function BWe(n,e){return n===e||sh(n,e)&&n.children.length===e.children.length&&Tl.instance.compareManyFields(n.children,e.children)}function wX(n,e){return n===e||sh(n,e)&&n.mode===e.mode&&n.typeIds.every((t,r)=>t===e.typeIds[r])&&Tl.instance.compareManyFields(n.children,e.children)}function jWe(n,e){return n===e||sh(n,e)&&n.id===e.id&&n.isOrdered===e.isOrdered&&Tl.instance.visit(n.indices,e.indices)&&Tl.instance.visit(n.dictionary,e.dictionary)}function AX(n,e){return n===e||sh(n,e)&&n.unit===e.unit}function qWe(n,e){return n===e||sh(n,e)&&n.listSize===e.listSize&&n.children.length===e.children.length&&Tl.instance.compareManyFields(n.children,e.children)}function UWe(n,e){return n===e||sh(n,e)&&n.keysSorted===e.keysSorted&&n.children.length===e.children.length&&Tl.instance.compareManyFields(n.children,e.children)}Hs.prototype.visitNull=vT;Hs.prototype.visitBool=vT;Hs.prototype.visitInt=xg;Hs.prototype.visitInt8=xg;Hs.prototype.visitInt16=xg;Hs.prototype.visitInt32=xg;Hs.prototype.visitInt64=xg;Hs.prototype.visitUint8=xg;Hs.prototype.visitUint16=xg;Hs.prototype.visitUint32=xg;Hs.prototype.visitUint64=xg;Hs.prototype.visitFloat=tP;Hs.prototype.visitFloat16=tP;Hs.prototype.visitFloat32=tP;Hs.prototype.visitFloat64=tP;Hs.prototype.visitUtf8=vT;Hs.prototype.visitBinary=vT;Hs.prototype.visitFixedSizeBinary=MWe;Hs.prototype.visitDate=CX;Hs.prototype.visitDateDay=CX;Hs.prototype.visitDateMillisecond=CX;Hs.prototype.visitTimestamp=_T;Hs.prototype.visitTimestampSecond=_T;Hs.prototype.visitTimestampMillisecond=_T;Hs.prototype.visitTimestampMicrosecond=_T;Hs.prototype.visitTimestampNanosecond=_T;Hs.prototype.visitTime=bT;Hs.prototype.visitTimeSecond=bT;Hs.prototype.visitTimeMillisecond=bT;Hs.prototype.visitTimeMicrosecond=bT;Hs.prototype.visitTimeNanosecond=bT;Hs.prototype.visitDecimal=vT;Hs.prototype.visitList=PWe;Hs.prototype.visitStruct=BWe;Hs.prototype.visitUnion=wX;Hs.prototype.visitDenseUnion=wX;Hs.prototype.visitSparseUnion=wX;Hs.prototype.visitDictionary=jWe;Hs.prototype.visitInterval=AX;Hs.prototype.visitIntervalDayTime=AX;Hs.prototype.visitIntervalYearMonth=AX;Hs.prototype.visitFixedSizeList=qWe;Hs.prototype.visitMap=UWe;Tl.instance=new Hs;function $We(n,e){return Tl.instance.compareSchemas(n,e)}Tl.compareSchemas=$We;function zWe(n,e){return Tl.instance.compareFields(n,e)}Tl.compareFields=zWe;function HWe(n,e){return Tl.instance.visit(n,e)}Tl.compareTypes=HWe});var dT=we(Mp=>{"use strict";m();Object.defineProperty(Mp,"__esModule",{value:!0});Mp.builderThroughAsyncIterable=Mp.builderThroughIterable=Mp.tableFromJSON=Mp.vectorFromArray=Mp.makeBuilder=void 0;var A_=ds(),TX=rh(),Ip=A_.__importStar(tu()),VWe=um(),hxe=ud(),WWe=dxe(),QWe=k7(),GWe=Z3(),YWe=ET();function nP(n){let e=n.type,t=new(WWe.instance.getVisitFn(e)())(n);if(e.children&&e.children.length>0){let r=n.children||[],i={nullValues:n.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(let[o,a]of e.children.entries()){let{type:c}=a,d=s(a,o);t.children.push(nP(Object.assign(Object.assign({},d),{type:c})))}}return t}Mp.makeBuilder=nP;function pxe(n,e){if(n instanceof VWe.Data||n instanceof hxe.Vector||n.type instanceof Ip.DataType||ArrayBuffer.isView(n))return(0,hxe.makeVector)(n);let t={type:e??rP(n),nullValues:[null]},r=[...mxe(t)(n)],i=r.length===1?r[0]:r.reduce((s,o)=>s.concat(o));return Ip.DataType.isDictionary(i.type)?i.memoize():i}Mp.vectorFromArray=pxe;function KWe(n){let e=pxe(n),t=new GWe.RecordBatch(new TX.Schema(e.type.children),e.data[0]);return new QWe.Table(t)}Mp.tableFromJSON=KWe;function rP(n){if(n.length===0)return new Ip.Null;let e=0,t=0,r=0,i=0,s=0,o=0,a=0,c=0;for(let d of n){if(d==null){++e;continue}switch(typeof d){case"bigint":++o;continue;case"boolean":++a;continue;case"number":++i;continue;case"string":++s;continue;case"object":Array.isArray(d)?++t:Object.prototype.toString.call(d)==="[object Date]"?++c:++r;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}if(i+e===n.length)return new Ip.Float64;if(s+e===n.length)return new Ip.Dictionary(new Ip.Utf8,new Ip.Int32);if(o+e===n.length)return new Ip.Int64;if(a+e===n.length)return new Ip.Bool;if(c+e===n.length)return new Ip.DateMillisecond;if(t+e===n.length){let d=n,p=rP(d[d.findIndex(b=>b!=null)]);if(d.every(b=>b==null||(0,YWe.compareTypes)(p,rP(b))))return new Ip.List(new TX.Field("",p,!0))}else if(r+e===n.length){let d=new Map;for(let p of n)for(let b of Object.keys(p))!d.has(b)&&p[b]!=null&&d.set(b,new TX.Field(b,rP([p[b]]),!0));return new Ip.Struct([...d.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}function mxe(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function*(i){let s=0,o=nP(n);for(let a of i)o.append(a)[r]>=t&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}Mp.builderThroughIterable=mxe;function JWe(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function(i){return A_.__asyncGenerator(this,arguments,function*(){var s,o;let a=0,c=nP(n);try{for(var d=A_.__asyncValues(i),p;p=yield A_.__await(d.next()),!p.done;){let b=p.value;c.append(b)[r]>=t&&++a&&(yield yield A_.__await(c.toVector()))}}catch(b){s={error:b}}finally{try{p&&!p.done&&(o=d.return)&&(yield A_.__await(o.call(d)))}finally{if(s)throw s.error}}(c.finish().length>0||a===0)&&(yield yield A_.__await(c.toVector()))})}}Mp.builderThroughAsyncIterable=JWe});var gxe=we(iP=>{"use strict";m();Object.defineProperty(iP,"__esModule",{value:!0});iP.distributeVectorsIntoRecordBatches=void 0;var xxe=um(),XWe=tu(),ZWe=Z3();function eQe(n,e){return tQe(n,e.map(t=>t.data.concat()))}iP.distributeVectorsIntoRecordBatches=eQe;function tQe(n,e){let t=[...n.fields],r=[],i={numBatches:e.reduce((b,C)=>Math.max(b,C.length),0)},s=0,o=0,a=-1,c=e.length,d,p=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<c;)p[a]=d=e[a].shift(),o=Math.min(o,d?d.length:o);Number.isFinite(o)&&(p=nQe(t,o,p,e,i),o>0&&(r[s++]=(0,xxe.makeData)({type:new XWe.Struct(t),length:o,nullCount:0,children:p.slice()})))}return[n=n.assign(t),r.map(b=>new ZWe.RecordBatch(n,b))]}function nQe(n,e,t,r,i){var s;let o=(e+63&~63)>>3;for(let a=-1,c=r.length;++a<c;){let d=t[a],p=d==null?void 0:d.length;if(p>=e)p===e?t[a]=d:(t[a]=d.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(d.slice(e,p-e))));else{let b=n[a];n[a]=b.clone({nullable:!0}),t[a]=(s=d==null?void 0:d._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:(0,xxe.makeData)({type:b.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return t}});var k7=we(e4=>{"use strict";m();var yxe;Object.defineProperty(e4,"__esModule",{value:!0});e4.tableFromArrays=e4.makeTable=e4.Table=void 0;var sP=Al(),FX=um(),rQe=dT(),ST=ud(),T_=rh(),vxe=tu(),iQe=ET(),DX=gxe(),gg=UI(),sQe=f_(),oQe=Fp(),aQe=$I(),uQe=zI(),lQe=HI(),cQe=KA(),I7=Z3(),qh=class{constructor(...e){var t,r;if(e.length===0)return this.batches=[],this.schema=new T_.Schema([]),this._offsets=[0],this;let i,s;e[0]instanceof T_.Schema&&(i=e.shift()),e[e.length-1]instanceof Uint32Array&&(s=e.pop());let o=c=>{if(c){if(c instanceof I7.RecordBatch)return[c];if(c instanceof qh)return c.batches;if(c instanceof FX.Data){if(c.type instanceof vxe.Struct)return[new I7.RecordBatch(new T_.Schema(c.type.children),c)]}else{if(Array.isArray(c))return c.flatMap(d=>o(d));if(typeof c[Symbol.iterator]=="function")return[...c].flatMap(d=>o(d));if(typeof c=="object"){let d=Object.keys(c),p=d.map(N=>new ST.Vector([c[N]])),b=new T_.Schema(d.map((N,R)=>new T_.Field(String(N),p[R].type))),[,C]=(0,DX.distributeVectorsIntoRecordBatches)(b,p);return C.length===0?[new I7.RecordBatch(c)]:C}}}return[]},a=e.flatMap(c=>o(c));if(i=(r=i??((t=a[0])===null||t===void 0?void 0:t.schema))!==null&&r!==void 0?r:new T_.Schema([]),!(i instanceof T_.Schema))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let c of a){if(!(c instanceof I7.RecordBatch))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,iQe.compareSchemas)(i,c.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??(0,gg.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,gg.computeChunkNullCounts)(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?uQe.instance.visit(new ST.Vector(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){let t=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new qh(t,r.map(i=>new I7.RecordBatch(t,i)))}slice(e,t){let r=this.schema;[e,t]=(0,cQe.clampRange)({length:this.numRows},e,t);let i=(0,gg.sliceChunks)(this.data,this._offsets,e,t);return new qh(r,i.map(s=>new I7.RecordBatch(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){let t=this.data.map(r=>r.children[e]);if(t.length===0){let{type:r}=this.schema.fields[e],i=(0,FX.makeData)({type:r,length:0,nullCount:0});t.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new ST.Vector(t)}return null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new ST.Vector([(0,FX.makeData)({type:new vxe.Null,length:this.numRows})]));let s=r.fields.slice(),o=s[e].clone({type:t.type}),a=this.schema.fields.map((c,d)=>this.getChildAt(d));[s[e],a[e]]=[o,t],[r,i]=(0,DX.distributeVectorsIntoRecordBatches)(r,a)}return new qh(r,i)}select(e){let t=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>t.get(r)).filter(r=>r>-1))}selectAt(e){let t=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new qh(t,r)}assign(e){let t=this.schema.fields,[r,i]=e.schema.fields.reduce((a,c,d)=>{let[p,b]=a,C=t.findIndex(N=>N.name===c.name);return~C?b[C]=d:p.push(d),a},[[],[]]),s=this.schema.assign(e.schema),o=[...t.map((a,c)=>[c,i[c]]).map(([a,c])=>c===void 0?this.getChildAt(a):e.getChildAt(c)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new qh(...(0,DX.distributeVectorsIntoRecordBatches)(s,o))}};e4.Table=qh;yxe=Symbol.toStringTag;qh[yxe]=(n=>(n.schema=null,n.batches=[],n._offsets=new Uint32Array([0]),n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,n.isValid=(0,gg.wrapChunkedCall1)(gg.isChunkedValid),n.get=(0,gg.wrapChunkedCall1)(sQe.instance.getVisitFn(sP.Type.Struct)),n.set=(0,gg.wrapChunkedCall2)(oQe.instance.getVisitFn(sP.Type.Struct)),n.indexOf=(0,gg.wrapChunkedIndexOf)(aQe.instance.getVisitFn(sP.Type.Struct)),n.getByteLength=(0,gg.wrapChunkedCall1)(lQe.instance.getVisitFn(sP.Type.Struct)),"Table"))(qh.prototype);function fQe(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,ST.makeVector)(i);return new qh(e)}e4.makeTable=fQe;function dQe(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,rQe.vectorFromArray)(i);return new qh(e)}e4.tableFromArrays=dQe});var Z3=we(M7=>{"use strict";m();var _xe;Object.defineProperty(M7,"__esModule",{value:!0});M7._InternalEmptyPlaceholderRecordBatch=M7.RecordBatch=void 0;var Pp=um(),hQe=k7(),oP=ud(),aP=rh(),yg=tu(),pQe=f_(),mQe=Fp(),xQe=$I(),gQe=zI(),yQe=HI(),Em=class{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof aP.Schema))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,Pp.makeData)({nullCount:0,type:new yg.Struct(this.schema.fields),children:this.schema.fields.map(t=>(0,Pp.makeData)({type:t.type,nullCount:0}))})]=e,!(this.data instanceof Pp.Data))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=bxe(this.schema,this.data.children);break}case 1:{let[t]=e,{fields:r,children:i,length:s}=Object.keys(t).reduce((c,d,p)=>(c.children[p]=t[d],c.length=Math.max(c.length,t[d].length),c.fields[p]=aP.Field.new({name:d,type:t[d].type,nullable:!0}),c),{length:0,fields:new Array,children:new Array}),o=new aP.Schema(r),a=(0,Pp.makeData)({type:new yg.Struct(r),length:s,children:i,nullCount:0});[this.schema,this.data]=bxe(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Exe(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return pQe.instance.visit(this.data,e)}set(e,t){return mQe.instance.visit(this.data,e,t)}indexOf(e,t){return xQe.instance.visit(this.data,e,t)}getByteLength(e){return yQe.instance.visit(this.data,e)}[Symbol.iterator](){return gQe.instance.visit(new oP.Vector([this.data]))}toArray(){return[...this]}concat(...e){return new hQe.Table(this.schema,[this,...e])}slice(e,t){let[r]=new oP.Vector([this.data]).slice(e,t).data;return new Em(this.schema,r)}getChild(e){var t;return this.getChildAt((t=this.schema.fields)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new oP.Vector([this.data.children[e]]):null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){t||(t=new oP.Vector([(0,Pp.makeData)({type:new yg.Null,length:this.numRows})]));let s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:t.type});[s[e],o[e]]=[a,t.data[0]],r=new aP.Schema(s,new Map(this.schema.metadata)),i=(0,Pp.makeData)({type:new yg.Struct(s),children:o})}return new Em(r,i)}select(e){let t=this.schema.select(e),r=new yg.Struct(t.fields),i=[];for(let s of e){let o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new Em(t,(0,Pp.makeData)({type:r,length:this.numRows,children:i}))}selectAt(e){let t=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=(0,Pp.makeData)({type:new yg.Struct(t.fields),length:this.numRows,children:r});return new Em(t,i)}};M7.RecordBatch=Em;_xe=Symbol.toStringTag;Em[_xe]=(n=>(n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Em.prototype);function bxe(n,e,t=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;let i=[...n.fields],s=[...e],o=(t+63&~63)>>3;for(let[a,c]of n.fields.entries()){let d=e[a];(!d||d.length!==t)&&(i[a]=c.clone({nullable:!0}),s[a]=(r=d==null?void 0:d._changeLengthAndBackfillNullBitmap(t))!==null&&r!==void 0?r:(0,Pp.makeData)({type:c.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)}))}return[n.assign(i),(0,Pp.makeData)({type:new yg.Struct(i),length:t,children:s})]}function Exe(n,e,t=new Map){for(let r=-1,i=n.length;++r<i;){let o=n[r].type,a=e[r];if(yg.DataType.isDictionary(o)){if(!t.has(o.id))a.dictionary&&t.set(o.id,a.dictionary);else if(t.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&Exe(o.children,a.children,t)}return t}var Sxe=class extends Em{constructor(e){let t=e.fields.map(i=>(0,Pp.makeData)({type:i.type})),r=(0,Pp.makeData)({type:new yg.Struct(e.fields),nullCount:0,children:t});super(e,r)}};M7._InternalEmptyPlaceholderRecordBatch=Sxe});var Cxe=we(CT=>{"use strict";m();Object.defineProperty(CT,"__esModule",{value:!0});CT.BodyCompressionMethod=void 0;var vQe;(function(n){n[n.BUFFER=0]="BUFFER"})(vQe=CT.BodyCompressionMethod||(CT.BodyCompressionMethod={}))});var wxe=we(wT=>{"use strict";m();Object.defineProperty(wT,"__esModule",{value:!0});wT.CompressionType=void 0;var _Qe;(function(n){n[n.LZ4_FRAME=0]="LZ4_FRAME",n[n.ZSTD=1]="ZSTD"})(_Qe=wT.CompressionType||(wT.CompressionType={}))});var Fxe=we(uP=>{"use strict";m();Object.defineProperty(uP,"__esModule",{value:!0});uP.BodyCompression=void 0;var bQe=ds(),EQe=bQe.__importStar(So()),Axe=Cxe(),Txe=wxe(),vg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new vg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+EQe.SIZE_PREFIX_LENGTH),(t||new vg).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):Txe.CompressionType.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):Axe.BodyCompressionMethod.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,Txe.CompressionType.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,Axe.BodyCompressionMethod.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,r){return vg.startBodyCompression(e),vg.addCodec(e,t),vg.addMethod(e,r),vg.endBodyCompression(e)}};uP.BodyCompression=vg});var t4=we(lP=>{"use strict";m();Object.defineProperty(lP,"__esModule",{value:!0});lP.Buffer=void 0;var Dxe=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};lP.Buffer=Dxe});var OX=we(cP=>{"use strict";m();Object.defineProperty(cP,"__esModule",{value:!0});cP.FieldNode=void 0;var Oxe=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};cP.FieldNode=Oxe});var dP=we(fP=>{"use strict";m();Object.defineProperty(fP,"__esModule",{value:!0});fP.RecordBatch=void 0;var SQe=ds(),CQe=SQe.__importStar(So()),wQe=Fxe(),AQe=t4(),TQe=OX(),AT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new AT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+CQe.SIZE_PREFIX_LENGTH),(t||new AT).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new TQe.FieldNode).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new AQe.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new wQe.BodyCompression).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}};fP.RecordBatch=AT});var NX=we(hP=>{"use strict";m();Object.defineProperty(hP,"__esModule",{value:!0});hP.DictionaryBatch=void 0;var FQe=ds(),DQe=FQe.__importStar(So()),OQe=dP(),TT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new TT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+DQe.SIZE_PREFIX_LENGTH),(t||new TT).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new OQe.RecordBatch).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}};hP.DictionaryBatch=TT});var Nxe=we(FT=>{"use strict";m();Object.defineProperty(FT,"__esModule",{value:!0});FT.SparseMatrixCompressedAxis=void 0;var NQe;(function(n){n[n.Row=0]="Row",n[n.Column=1]="Column"})(NQe=FT.SparseMatrixCompressedAxis||(FT.SparseMatrixCompressedAxis={}))});var Ixe=we(pP=>{"use strict";m();Object.defineProperty(pP,"__esModule",{value:!0});pP.SparseMatrixIndexCSX=void 0;var RQe=ds(),LQe=RQe.__importStar(So()),Rxe=t4(),Lxe=M3(),kxe=Nxe(),DT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseMatrixIndexCSX(e,t){return(t||new DT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseMatrixIndexCSX(e,t){return e.setPosition(e.position()+LQe.SIZE_PREFIX_LENGTH),(t||new DT).__init(e.readInt32(e.position())+e.position(),e)}compressedAxis(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):kxe.SparseMatrixCompressedAxis.Row}indptrType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new Lxe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new Rxe.Buffer).__init(this.bb_pos+t,this.bb):null}indicesType(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new Lxe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new Rxe.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseMatrixIndexCSX(e){e.startObject(5)}static addCompressedAxis(e,t){e.addFieldInt16(0,t,kxe.SparseMatrixCompressedAxis.Row)}static addIndptrType(e,t){e.addFieldOffset(1,t,0)}static addIndptrBuffer(e,t){e.addFieldStruct(2,t,0)}static addIndicesType(e,t){e.addFieldOffset(3,t,0)}static addIndicesBuffer(e,t){e.addFieldStruct(4,t,0)}static endSparseMatrixIndexCSX(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};pP.SparseMatrixIndexCSX=DT});var Mxe=we(mP=>{"use strict";m();Object.defineProperty(mP,"__esModule",{value:!0});mP.SparseTensorIndexCOO=void 0;var kQe=ds(),IQe=kQe.__importStar(So()),MQe=t4(),PQe=M3(),OT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCOO(e,t){return(t||new OT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCOO(e,t){return e.setPosition(e.position()+IQe.SIZE_PREFIX_LENGTH),(t||new OT).__init(e.readInt32(e.position())+e.position(),e)}indicesType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new PQe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesStrides(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}indicesStridesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new MQe.Buffer).__init(this.bb_pos+t,this.bb):null}isCanonical(){let e=this.bb.__offset(this.bb_pos,10);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startSparseTensorIndexCOO(e){e.startObject(4)}static addIndicesType(e,t){e.addFieldOffset(0,t,0)}static addIndicesStrides(e,t){e.addFieldOffset(1,t,0)}static createIndicesStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startIndicesStridesVector(e,t){e.startVector(8,t,8)}static addIndicesBuffer(e,t){e.addFieldStruct(2,t,0)}static addIsCanonical(e,t){e.addFieldInt8(3,+t,0)}static endSparseTensorIndexCOO(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,8),t}};mP.SparseTensorIndexCOO=OT});var jxe=we(xP=>{"use strict";m();Object.defineProperty(xP,"__esModule",{value:!0});xP.SparseTensorIndexCSF=void 0;var BQe=ds(),jQe=BQe.__importStar(So()),Pxe=t4(),Bxe=M3(),NT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCSF(e,t){return(t||new NT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCSF(e,t){return e.setPosition(e.position()+jQe.SIZE_PREFIX_LENGTH),(t||new NT).__init(e.readInt32(e.position())+e.position(),e)}indptrType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new Bxe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffers(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new Pxe.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indptrBuffersLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesType(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new Bxe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffers(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new Pxe.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indicesBuffersLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrder(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}axisOrderLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrderArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startSparseTensorIndexCSF(e){e.startObject(5)}static addIndptrType(e,t){e.addFieldOffset(0,t,0)}static addIndptrBuffers(e,t){e.addFieldOffset(1,t,0)}static startIndptrBuffersVector(e,t){e.startVector(16,t,8)}static addIndicesType(e,t){e.addFieldOffset(2,t,0)}static addIndicesBuffers(e,t){e.addFieldOffset(3,t,0)}static startIndicesBuffersVector(e,t){e.startVector(16,t,8)}static addAxisOrder(e,t){e.addFieldOffset(4,t,0)}static createAxisOrderVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startAxisOrderVector(e,t){e.startVector(4,t,4)}static endSparseTensorIndexCSF(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};xP.SparseTensorIndexCSF=NT});var zxe=we(_g=>{"use strict";m();Object.defineProperty(_g,"__esModule",{value:!0});_g.unionListToSparseTensorIndex=_g.unionToSparseTensorIndex=_g.SparseTensorIndex=void 0;var qxe=Ixe(),Uxe=Mxe(),$xe=jxe(),RX;(function(n){n[n.NONE=0]="NONE",n[n.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",n[n.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",n[n.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(RX=_g.SparseTensorIndex||(_g.SparseTensorIndex={}));function qQe(n,e){switch(RX[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(new Uxe.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(new qxe.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(new $xe.SparseTensorIndexCSF);default:return null}}_g.unionToSparseTensorIndex=qQe;function UQe(n,e,t){switch(RX[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(t,new Uxe.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(t,new qxe.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(t,new $xe.SparseTensorIndexCSF);default:return null}}_g.unionListToSparseTensorIndex=UQe});var LX=we(gP=>{"use strict";m();Object.defineProperty(gP,"__esModule",{value:!0});gP.TensorDim=void 0;var $Qe=ds(),zQe=$Qe.__importStar(So()),bg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorDim(e,t){return(t||new bg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorDim(e,t){return e.setPosition(e.position()+zQe.SIZE_PREFIX_LENGTH),(t||new bg).__init(e.readInt32(e.position())+e.position(),e)}size(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}name(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTensorDim(e){e.startObject(2)}static addSize(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addName(e,t){e.addFieldOffset(1,t,0)}static endTensorDim(e){return e.endObject()}static createTensorDim(e,t,r){return bg.startTensorDim(e),bg.addSize(e,t),bg.addName(e,r),bg.endTensorDim(e)}};gP.TensorDim=bg});var Wxe=we(yP=>{"use strict";m();Object.defineProperty(yP,"__esModule",{value:!0});yP.SparseTensor=void 0;var HQe=ds(),VQe=HQe.__importStar(So()),WQe=t4(),Hxe=zxe(),QQe=LX(),Vxe=S7(),RT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new RT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+VQe.SIZE_PREFIX_LENGTH),(t||new RT).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):Vxe.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new QQe.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}nonZeroLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}sparseIndexType(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb_pos+e):Hxe.SparseTensorIndex.NONE}sparseIndex(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__union(e,this.bb_pos+t):null}data(e){let t=this.bb.__offset(this.bb_pos,16);return t?(e||new WQe.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseTensor(e){e.startObject(7)}static addTypeType(e,t){e.addFieldInt8(0,t,Vxe.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addNonZeroLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addSparseIndexType(e,t){e.addFieldInt8(4,t,Hxe.SparseTensorIndex.NONE)}static addSparseIndex(e,t){e.addFieldOffset(5,t,0)}static addData(e,t){e.addFieldStruct(6,t,0)}static endSparseTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,14),e.requiredField(t,16),t}static finishSparseTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedSparseTensorBuffer(e,t){e.finish(t,void 0,!0)}};yP.SparseTensor=RT});var Gxe=we(vP=>{"use strict";m();Object.defineProperty(vP,"__esModule",{value:!0});vP.Tensor=void 0;var GQe=ds(),YQe=GQe.__importStar(So()),KQe=t4(),JQe=LX(),Qxe=S7(),LT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new LT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+YQe.SIZE_PREFIX_LENGTH),(t||new LT).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):Qxe.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new JQe.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}strides(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}stridesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}data(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new KQe.Buffer).__init(this.bb_pos+t,this.bb):null}static startTensor(e){e.startObject(5)}static addTypeType(e,t){e.addFieldInt8(0,t,Qxe.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addStrides(e,t){e.addFieldOffset(3,t,0)}static createStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startStridesVector(e,t){e.startVector(8,t,8)}static addData(e,t){e.addFieldStruct(4,t,0)}static endTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,12),t}static finishTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedTensorBuffer(e,t){e.finish(t,void 0,!0)}};vP.Tensor=LT});var IX=we(Eg=>{"use strict";m();Object.defineProperty(Eg,"__esModule",{value:!0});Eg.unionListToMessageHeader=Eg.unionToMessageHeader=Eg.MessageHeader=void 0;var Yxe=NX(),Kxe=dP(),Jxe=IM(),Xxe=Wxe(),Zxe=Gxe(),kX;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(kX=Eg.MessageHeader||(Eg.MessageHeader={}));function XQe(n,e){switch(kX[n]){case"NONE":return null;case"Schema":return e(new Jxe.Schema);case"DictionaryBatch":return e(new Yxe.DictionaryBatch);case"RecordBatch":return e(new Kxe.RecordBatch);case"Tensor":return e(new Zxe.Tensor);case"SparseTensor":return e(new Xxe.SparseTensor);default:return null}}Eg.unionToMessageHeader=XQe;function ZQe(n,e,t){switch(kX[n]){case"NONE":return null;case"Schema":return e(t,new Jxe.Schema);case"DictionaryBatch":return e(t,new Yxe.DictionaryBatch);case"RecordBatch":return e(t,new Kxe.RecordBatch);case"Tensor":return e(t,new Zxe.Tensor);case"SparseTensor":return e(t,new Xxe.SparseTensor);default:return null}}Eg.unionListToMessageHeader=ZQe});var nge=we(_P=>{"use strict";m();Object.defineProperty(_P,"__esModule",{value:!0});_P.Message=void 0;var eGe=ds(),tGe=eGe.__importStar(So()),nGe=E7(),ege=IX(),tge=yJ(),Bp=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new Bp).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+tGe.SIZE_PREFIX_LENGTH),(t||new Bp).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):tge.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):ege.MessageHeader.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new nGe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,tge.MetadataVersion.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,ege.MessageHeader.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,r,i,s,o){return Bp.startMessage(e),Bp.addVersion(e,t),Bp.addHeaderType(e,r),Bp.addHeader(e,i),Bp.addBodyLength(e,s),Bp.addCustomMetadata(e,o),Bp.endMessage(e)}};_P.Message=Bp});var lge=we(B7=>{"use strict";m();Object.defineProperty(B7,"__esModule",{value:!0});B7.instance=B7.TypeAssembler=void 0;var rGe=ds(),iGe=rGe.__importStar(So()),sGe=iGe.Long,oGe=ad(),rge=CJ(),bP=M3(),MX=mM(),ige=bJ(),sge=EJ(),oge=AJ(),kT=aM(),PX=sM(),EP=TM(),SP=DM(),BX=gM(),age=SJ(),uge=wJ(),P7=NM(),IT=_J(),jX=fM(),qX=hM(),UX=SM(),$X=class extends oGe.Visitor{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return rge.Null.startNull(t),rge.Null.endNull(t)}visitInt(e,t){return bP.Int.startInt(t),bP.Int.addBitWidth(t,e.bitWidth),bP.Int.addIsSigned(t,e.isSigned),bP.Int.endInt(t)}visitFloat(e,t){return MX.FloatingPoint.startFloatingPoint(t),MX.FloatingPoint.addPrecision(t,e.precision),MX.FloatingPoint.endFloatingPoint(t)}visitBinary(e,t){return ige.Binary.startBinary(t),ige.Binary.endBinary(t)}visitBool(e,t){return sge.Bool.startBool(t),sge.Bool.endBool(t)}visitUtf8(e,t){return oge.Utf8.startUtf8(t),oge.Utf8.endUtf8(t)}visitDecimal(e,t){return kT.Decimal.startDecimal(t),kT.Decimal.addScale(t,e.scale),kT.Decimal.addPrecision(t,e.precision),kT.Decimal.addBitWidth(t,e.bitWidth),kT.Decimal.endDecimal(t)}visitDate(e,t){return PX.Date.startDate(t),PX.Date.addUnit(t,e.unit),PX.Date.endDate(t)}visitTime(e,t){return EP.Time.startTime(t),EP.Time.addUnit(t,e.unit),EP.Time.addBitWidth(t,e.bitWidth),EP.Time.endTime(t)}visitTimestamp(e,t){let r=e.timezone&&t.createString(e.timezone)||void 0;return SP.Timestamp.startTimestamp(t),SP.Timestamp.addUnit(t,e.unit),r!==void 0&&SP.Timestamp.addTimezone(t,r),SP.Timestamp.endTimestamp(t)}visitInterval(e,t){return BX.Interval.startInterval(t),BX.Interval.addUnit(t,e.unit),BX.Interval.endInterval(t)}visitList(e,t){return age.List.startList(t),age.List.endList(t)}visitStruct(e,t){return uge.Struct_.startStruct_(t),uge.Struct_.endStruct_(t)}visitUnion(e,t){P7.Union.startTypeIdsVector(t,e.typeIds.length);let r=P7.Union.createTypeIdsVector(t,e.typeIds);return P7.Union.startUnion(t),P7.Union.addMode(t,e.mode),P7.Union.addTypeIds(t,r),P7.Union.endUnion(t)}visitDictionary(e,t){let r=this.visit(e.indices,t);return IT.DictionaryEncoding.startDictionaryEncoding(t),IT.DictionaryEncoding.addId(t,new sGe(e.id,0)),IT.DictionaryEncoding.addIsOrdered(t,e.isOrdered),r!==void 0&&IT.DictionaryEncoding.addIndexType(t,r),IT.DictionaryEncoding.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return jX.FixedSizeBinary.startFixedSizeBinary(t),jX.FixedSizeBinary.addByteWidth(t,e.byteWidth),jX.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return qX.FixedSizeList.startFixedSizeList(t),qX.FixedSizeList.addListSize(t,e.listSize),qX.FixedSizeList.endFixedSizeList(t)}visitMap(e,t){return UX.Map.startMap(t),UX.Map.addKeysSorted(t,e.keysSorted),UX.Map.endMap(t)}};B7.TypeAssembler=$X;B7.instance=new $X});var xge=we(Sm=>{"use strict";m();Object.defineProperty(Sm,"__esModule",{value:!0});Sm.fieldFromJSON=Sm.dictionaryBatchFromJSON=Sm.recordBatchFromJSON=Sm.schemaFromJSON=void 0;var j7=rh(),qu=tu(),F_=D_(),q7=Al();function aGe(n,e=new Map){return new j7.Schema(lGe(n,e),CP(n.customMetadata),e)}Sm.schemaFromJSON=aGe;function cge(n){return new F_.RecordBatch(n.count,dge(n.columns),hge(n.columns))}Sm.recordBatchFromJSON=cge;function uGe(n){return new F_.DictionaryBatch(cge(n.data),n.id,n.isDelta)}Sm.dictionaryBatchFromJSON=uGe;function lGe(n,e){return(n.fields||[]).filter(Boolean).map(t=>j7.Field.fromJSON(t,e))}function fge(n,e){return(n.children||[]).filter(Boolean).map(t=>j7.Field.fromJSON(t,e))}function dge(n){return(n||[]).reduce((e,t)=>[...e,new F_.FieldNode(t.count,cGe(t.VALIDITY)),...dge(t.children)],[])}function hge(n,e=[]){for(let t=-1,r=(n||[]).length;++t<r;){let i=n[t];i.VALIDITY&&e.push(new F_.BufferRegion(e.length,i.VALIDITY.length)),i.TYPE&&e.push(new F_.BufferRegion(e.length,i.TYPE.length)),i.OFFSET&&e.push(new F_.BufferRegion(e.length,i.OFFSET.length)),i.DATA&&e.push(new F_.BufferRegion(e.length,i.DATA.length)),e=hge(i.children,e)}return e}function cGe(n){return(n||[]).reduce((e,t)=>e+ +(t===0),0)}function fGe(n,e){let t,r,i,s,o,a;return!e||!(s=n.dictionary)?(o=mge(n,fge(n,e)),i=new j7.Field(n.name,o,n.nullable,CP(n.customMetadata))):e.has(t=s.id)?(r=(r=s.indexType)?pge(r):new qu.Int32,a=new qu.Dictionary(e.get(t),r,t,s.isOrdered),i=new j7.Field(n.name,a,n.nullable,CP(n.customMetadata))):(r=(r=s.indexType)?pge(r):new qu.Int32,e.set(t,o=mge(n,fge(n,e))),a=new qu.Dictionary(o,r,t,s.isOrdered),i=new j7.Field(n.name,a,n.nullable,CP(n.customMetadata))),i||null}Sm.fieldFromJSON=fGe;function CP(n){return new Map(Object.entries(n||{}))}function pge(n){return new qu.Int(n.isSigned,n.bitWidth)}function mge(n,e){let t=n.type.name;switch(t){case"NONE":return new qu.Null;case"null":return new qu.Null;case"binary":return new qu.Binary;case"utf8":return new qu.Utf8;case"bool":return new qu.Bool;case"list":return new qu.List((e||[])[0]);case"struct":return new qu.Struct(e||[]);case"struct_":return new qu.Struct(e||[])}switch(t){case"int":{let r=n.type;return new qu.Int(r.isSigned,r.bitWidth)}case"floatingpoint":{let r=n.type;return new qu.Float(q7.Precision[r.precision])}case"decimal":{let r=n.type;return new qu.Decimal(r.scale,r.precision,r.bitWidth)}case"date":{let r=n.type;return new qu.Date_(q7.DateUnit[r.unit])}case"time":{let r=n.type;return new qu.Time(q7.TimeUnit[r.unit],r.bitWidth)}case"timestamp":{let r=n.type;return new qu.Timestamp(q7.TimeUnit[r.unit],r.timezone)}case"interval":{let r=n.type;return new qu.Interval(q7.IntervalUnit[r.unit])}case"union":{let r=n.type;return new qu.Union(q7.UnionMode[r.mode],r.typeIds||[],e||[])}case"fixedsizebinary":{let r=n.type;return new qu.FixedSizeBinary(r.byteWidth)}case"fixedsizelist":{let r=n.type;return new qu.FixedSizeList(r.listSize,(e||[])[0])}case"map":{let r=n.type;return new qu.Map_((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}});var D_=we(qp=>{"use strict";m();Object.defineProperty(qp,"__esModule",{value:!0});qp.FieldNode=qp.BufferRegion=qp.DictionaryBatch=qp.RecordBatch=qp.Message=void 0;var dGe=ds(),zX=dGe.__importStar(So()),Sg=IM(),hGe=M3(),n4=dP(),U7=NX(),pGe=t4(),e2=FJ(),mGe=OX(),jc=S7(),r4=E7(),gge=vJ(),xGe=mM(),gGe=aM(),yGe=sM(),vGe=TM(),_Ge=DM(),bGe=gM(),EGe=NM(),SGe=fM(),CGe=hM(),wGe=SM(),i4=nge(),cf=rh(),AGe=jf(),Fl=Al(),HX=lge(),wP=xge(),O_=zX.Long,TGe=zX.Builder,FGe=zX.ByteBuffer,Uu=tu(),s4=class{constructor(e,t,r,i){this._version=t,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){let r=new s4(0,Fl.MetadataVersion.V4,t);return r._createHeader=DGe(e,t),r}static decode(e){e=new FGe((0,AGe.toUint8Array)(e));let t=i4.Message.getRootAsMessage(e),r=t.bodyLength(),i=t.version(),s=t.headerType(),o=new s4(r,i,s);return o._createHeader=OGe(t,s),o}static encode(e){let t=new TGe,r=-1;return e.isSchema()?r=cf.Schema.encode(t,e.header()):e.isRecordBatch()?r=jp.encode(t,e.header()):e.isDictionaryBatch()&&(r=Cm.encode(t,e.header())),i4.Message.startMessage(t),i4.Message.addVersion(t,Fl.MetadataVersion.V4),i4.Message.addHeader(t,r),i4.Message.addHeaderType(t,e.headerType),i4.Message.addBodyLength(t,new O_(e.bodyLength,0)),i4.Message.finishMessageBuffer(t,i4.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof cf.Schema)return new s4(0,Fl.MetadataVersion.V4,Fl.MessageHeader.Schema,e);if(e instanceof jp)return new s4(t,Fl.MetadataVersion.V4,Fl.MessageHeader.RecordBatch,e);if(e instanceof Cm)return new s4(t,Fl.MetadataVersion.V4,Fl.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Fl.MessageHeader.Schema}isRecordBatch(){return this.headerType===Fl.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===Fl.MessageHeader.DictionaryBatch}};qp.Message=s4;var jp=class{constructor(e,t,r){this._nodes=t,this._buffers=r,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};qp.RecordBatch=jp;var Cm=class{constructor(e,t,r=!1){this._data=e,this._isDelta=r,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};qp.DictionaryBatch=Cm;var N_=class{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}};qp.BufferRegion=N_;var R_=class{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}};qp.FieldNode=R_;function DGe(n,e){return()=>{switch(e){case Fl.MessageHeader.Schema:return cf.Schema.fromJSON(n);case Fl.MessageHeader.RecordBatch:return jp.fromJSON(n);case Fl.MessageHeader.DictionaryBatch:return Cm.fromJSON(n)}throw new Error(`Unrecognized Message type: { name: ${Fl.MessageHeader[e]}, type: ${e} }`)}}function OGe(n,e){return()=>{switch(e){case Fl.MessageHeader.Schema:return cf.Schema.decode(n.header(new Sg.Schema));case Fl.MessageHeader.RecordBatch:return jp.decode(n.header(new n4.RecordBatch),n.version());case Fl.MessageHeader.DictionaryBatch:return Cm.decode(n.header(new U7.DictionaryBatch),n.version())}throw new Error(`Unrecognized Message type: { name: ${Fl.MessageHeader[e]}, type: ${e} }`)}}cf.Field.encode=UGe;cf.Field.decode=jGe;cf.Field.fromJSON=wP.fieldFromJSON;cf.Schema.encode=qGe;cf.Schema.decode=NGe;cf.Schema.fromJSON=wP.schemaFromJSON;jp.encode=$Ge;jp.decode=RGe;jp.fromJSON=wP.recordBatchFromJSON;Cm.encode=zGe;Cm.decode=LGe;Cm.fromJSON=wP.dictionaryBatchFromJSON;R_.encode=HGe;R_.decode=IGe;N_.encode=VGe;N_.decode=kGe;function NGe(n,e=new Map){let t=BGe(n,e);return new cf.Schema(t,AP(n),e)}function RGe(n,e=Fl.MetadataVersion.V4){if(n.compression()!==null)throw new Error("Record batch compression not implemented");return new jp(n.length(),MGe(n),PGe(n,e))}function LGe(n,e=Fl.MetadataVersion.V4){return new Cm(jp.decode(n.data(),e),n.id(),n.isDelta())}function kGe(n){return new N_(n.offset(),n.length())}function IGe(n){return new R_(n.length(),n.nullCount())}function MGe(n){let e=[];for(let t,r=-1,i=-1,s=n.nodesLength();++r<s;)(t=n.nodes(r))&&(e[++i]=R_.decode(t));return e}function PGe(n,e){let t=[];for(let r,i=-1,s=-1,o=n.buffersLength();++i<o;)(r=n.buffers(i))&&(e<Fl.MetadataVersion.V4&&(r.bb_pos+=8*(i+1)),t[++s]=N_.decode(r));return t}function BGe(n,e){let t=[];for(let r,i=-1,s=-1,o=n.fieldsLength();++i<o;)(r=n.fields(i))&&(t[++s]=cf.Field.decode(r,e));return t}function yge(n,e){let t=[];for(let r,i=-1,s=-1,o=n.childrenLength();++i<o;)(r=n.children(i))&&(t[++s]=cf.Field.decode(r,e));return t}function jGe(n,e){let t,r,i,s,o,a;return!e||!(a=n.dictionary())?(i=_ge(n,yge(n,e)),r=new cf.Field(n.name(),i,n.nullable(),AP(n))):e.has(t=a.id().low)?(s=(s=a.indexType())?vge(s):new Uu.Int32,o=new Uu.Dictionary(e.get(t),s,t,a.isOrdered()),r=new cf.Field(n.name(),o,n.nullable(),AP(n))):(s=(s=a.indexType())?vge(s):new Uu.Int32,e.set(t,i=_ge(n,yge(n,e))),o=new Uu.Dictionary(i,s,t,a.isOrdered()),r=new cf.Field(n.name(),o,n.nullable(),AP(n))),r||null}function AP(n){let e=new Map;if(n)for(let t,r,i=-1,s=Math.trunc(n.customMetadataLength());++i<s;)(t=n.customMetadata(i))&&(r=t.key())!=null&&e.set(r,t.value());return e}function vge(n){return new Uu.Int(n.isSigned(),n.bitWidth())}function _ge(n,e){let t=n.typeType();switch(t){case jc.Type.NONE:return new Uu.Null;case jc.Type.Null:return new Uu.Null;case jc.Type.Binary:return new Uu.Binary;case jc.Type.Utf8:return new Uu.Utf8;case jc.Type.Bool:return new Uu.Bool;case jc.Type.List:return new Uu.List((e||[])[0]);case jc.Type.Struct_:return new Uu.Struct(e||[])}switch(t){case jc.Type.Int:{let r=n.type(new hGe.Int);return new Uu.Int(r.isSigned(),r.bitWidth())}case jc.Type.FloatingPoint:{let r=n.type(new xGe.FloatingPoint);return new Uu.Float(r.precision())}case jc.Type.Decimal:{let r=n.type(new gGe.Decimal);return new Uu.Decimal(r.scale(),r.precision(),r.bitWidth())}case jc.Type.Date:{let r=n.type(new yGe.Date);return new Uu.Date_(r.unit())}case jc.Type.Time:{let r=n.type(new vGe.Time);return new Uu.Time(r.unit(),r.bitWidth())}case jc.Type.Timestamp:{let r=n.type(new _Ge.Timestamp);return new Uu.Timestamp(r.unit(),r.timezone())}case jc.Type.Interval:{let r=n.type(new bGe.Interval);return new Uu.Interval(r.unit())}case jc.Type.Union:{let r=n.type(new EGe.Union);return new Uu.Union(r.mode(),r.typeIdsArray()||[],e||[])}case jc.Type.FixedSizeBinary:{let r=n.type(new SGe.FixedSizeBinary);return new Uu.FixedSizeBinary(r.byteWidth())}case jc.Type.FixedSizeList:{let r=n.type(new CGe.FixedSizeList);return new Uu.FixedSizeList(r.listSize(),(e||[])[0])}case jc.Type.Map:{let r=n.type(new wGe.Map);return new Uu.Map_((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${jc.Type[t]}" (${t})`)}function qGe(n,e){let t=e.fields.map(s=>cf.Field.encode(n,s));Sg.Schema.startFieldsVector(n,t.length);let r=Sg.Schema.createFieldsVector(n,t),i=e.metadata&&e.metadata.size>0?Sg.Schema.createCustomMetadataVector(n,[...e.metadata].map(([s,o])=>{let a=n.createString(`${s}`),c=n.createString(`${o}`);return r4.KeyValue.startKeyValue(n),r4.KeyValue.addKey(n,a),r4.KeyValue.addValue(n,c),r4.KeyValue.endKeyValue(n)})):-1;return Sg.Schema.startSchema(n),Sg.Schema.addFields(n,r),Sg.Schema.addEndianness(n,WGe?gge.Endianness.Little:gge.Endianness.Big),i!==-1&&Sg.Schema.addCustomMetadata(n,i),Sg.Schema.endSchema(n)}function UGe(n,e){let t=-1,r=-1,i=-1,s=e.type,o=e.typeId;Uu.DataType.isDictionary(s)?(o=s.dictionary.typeId,i=HX.instance.visit(s,n),r=HX.instance.visit(s.dictionary,n)):r=HX.instance.visit(s,n);let a=(s.children||[]).map(p=>cf.Field.encode(n,p)),c=e2.Field.createChildrenVector(n,a),d=e.metadata&&e.metadata.size>0?e2.Field.createCustomMetadataVector(n,[...e.metadata].map(([p,b])=>{let C=n.createString(`${p}`),N=n.createString(`${b}`);return r4.KeyValue.startKeyValue(n),r4.KeyValue.addKey(n,C),r4.KeyValue.addValue(n,N),r4.KeyValue.endKeyValue(n)})):-1;return e.name&&(t=n.createString(e.name)),e2.Field.startField(n),e2.Field.addType(n,r),e2.Field.addTypeType(n,o),e2.Field.addChildren(n,c),e2.Field.addNullable(n,!!e.nullable),t!==-1&&e2.Field.addName(n,t),i!==-1&&e2.Field.addDictionary(n,i),d!==-1&&e2.Field.addCustomMetadata(n,d),e2.Field.endField(n)}function $Ge(n,e){let t=e.nodes||[],r=e.buffers||[];n4.RecordBatch.startNodesVector(n,t.length);for(let o of t.slice().reverse())R_.encode(n,o);let i=n.endVector();n4.RecordBatch.startBuffersVector(n,r.length);for(let o of r.slice().reverse())N_.encode(n,o);let s=n.endVector();return n4.RecordBatch.startRecordBatch(n),n4.RecordBatch.addLength(n,new O_(e.length,0)),n4.RecordBatch.addNodes(n,i),n4.RecordBatch.addBuffers(n,s),n4.RecordBatch.endRecordBatch(n)}function zGe(n,e){let t=jp.encode(n,e.data);return U7.DictionaryBatch.startDictionaryBatch(n),U7.DictionaryBatch.addId(n,new O_(e.id,0)),U7.DictionaryBatch.addIsDelta(n,e.isDelta),U7.DictionaryBatch.addData(n,t),U7.DictionaryBatch.endDictionaryBatch(n)}function HGe(n,e){return mGe.FieldNode.createFieldNode(n,new O_(e.length,0),new O_(e.nullCount,0))}function VGe(n,e){return pGe.Buffer.createBuffer(n,new O_(e.offset,0),new O_(e.length,0))}var WGe=(()=>{let n=new ArrayBuffer(2);return new DataView(n).setInt16(0,256,!0),new Int16Array(n)[0]===256})()});var FP=we(Go=>{"use strict";m();Object.defineProperty(Go,"__esModule",{value:!0});Go.magicX2AndPadding=Go.magicAndPadding=Go.magicLength=Go.checkForMagicArrowString=Go.MAGIC=Go.MAGIC_STR=Go.PADDING=Go.JSONMessageReader=Go.AsyncMessageReader=Go.MessageReader=void 0;var o4=ds(),a4=Al(),bge=So(),MT=D_(),QGe=om(),GGe=MJ(),Ege=jf(),TP=G3(),t2=lT(),VX=n=>`Expected ${a4.MessageHeader[n]} Message in stream, but was null or length 0.`,WX=n=>`Header pointer of flatbuffer-encoded ${a4.MessageHeader[n]} Message is null or length 0.`,Sge=(n,e)=>`Expected to read ${n} metadata bytes, but only read ${e}.`,Cge=(n,e)=>`Expected to read ${n} bytes for message body, but only read ${e}.`,QX=class{constructor(e){this.source=e instanceof TP.ByteStream?e:new TP.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?t2.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(VX(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=(0,Ege.toUint8Array)(this.source.read(e));if(t.byteLength<e)throw new Error(Cge(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=a4.MessageHeader.Schema,r=this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(WX(t));return i}readMetadataLength(){let e=this.source.read(Go.PADDING),t=e&&new bge.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(e){let t=this.source.read(e);if(!t)return t2.ITERATOR_DONE;if(t.byteLength<e)throw new Error(Sge(e,t.byteLength));return{done:!1,value:MT.Message.decode(t)}}};Go.MessageReader=QX;var wge=class{constructor(e,t){this.source=e instanceof TP.AsyncByteStream?e:(0,QGe.isFileHandle)(e)?new GGe.AsyncRandomAccessFile(e,t):new TP.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return o4.__awaiter(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?t2.ITERATOR_DONE:e})}throw(e){return o4.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return o4.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return o4.__awaiter(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(VX(e));return t.value})}readMessageBody(e){return o4.__awaiter(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);let t=(0,Ege.toUint8Array)(yield this.source.read(e));if(t.byteLength<e)throw new Error(Cge(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return o4.__awaiter(this,void 0,void 0,function*(){let t=a4.MessageHeader.Schema,r=yield this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(WX(t));return i})}readMetadataLength(){return o4.__awaiter(this,void 0,void 0,function*(){let e=yield this.source.read(Go.PADDING),t=e&&new bge.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(e){return o4.__awaiter(this,void 0,void 0,function*(){let t=yield this.source.read(e);if(!t)return t2.ITERATOR_DONE;if(t.byteLength<e)throw new Error(Sge(e,t.byteLength));return{done:!1,value:MT.Message.decode(t)}})}};Go.AsyncMessageReader=wge;var Age=class extends QX{constructor(e){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof t2.ArrowJSON?e:new t2.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema){this._schema=!0;let t=MT.Message.fromJSON(e.schema,a4.MessageHeader.Schema);return{done:!1,value:t}}if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];this._body=t.data.columns;let r=MT.Message.fromJSON(t,a4.MessageHeader.DictionaryBatch);return{done:!1,value:r}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];this._body=t.columns;let r=MT.Message.fromJSON(t,a4.MessageHeader.RecordBatch);return{done:!1,value:r}}return this._body=[],t2.ITERATOR_DONE}readMessageBody(e){return t(this._body);function t(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...t(s.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(VX(e));return t.value}readSchema(){let e=a4.MessageHeader.Schema,t=this.readMessage(e),r=t==null?void 0:t.header();if(!t||!r)throw new Error(WX(e));return r}};Go.JSONMessageReader=Age;Go.PADDING=4;Go.MAGIC_STR="ARROW1";Go.MAGIC=new Uint8Array(Go.MAGIC_STR.length);for(let n=0;n<Go.MAGIC_STR.length;n+=1)Go.MAGIC[n]=Go.MAGIC_STR.codePointAt(n);function YGe(n,e=0){for(let t=-1,r=Go.MAGIC.length;++t<r;)if(Go.MAGIC[t]!==n[e+t])return!1;return!0}Go.checkForMagicArrowString=YGe;Go.magicLength=Go.MAGIC.length;Go.magicAndPadding=Go.magicLength+Go.PADDING;Go.magicX2AndPadding=Go.magicLength*2+Go.PADDING});var qT=we(zp=>{"use strict";m();Object.defineProperty(zp,"__esModule",{value:!0});zp.AsyncRecordBatchFileReader=zp.RecordBatchFileReader=zp.AsyncRecordBatchStreamReader=zp.RecordBatchStreamReader=zp.RecordBatchReader=void 0;var Pa=ds(),KGe=um(),Tge=ud(),JGe=tu(),DP=Al(),Fge=RJ(),Dge=Pa.__importDefault(VA()),Oge=G3(),PT=MJ(),Nge=$me(),GX=Z3(),L_=lT(),Up=FP(),$p=om(),wm=class extends L_.ReadableInterop{constructor(e){super();this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return(0,$p.isPromise)(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Dge.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Dge.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof wm?e:(0,$p.isArrowJSON)(e)?XGe(e):(0,$p.isFileHandle)(e)?tYe(e):(0,$p.isPromise)(e)?(()=>Pa.__awaiter(this,void 0,void 0,function*(){return yield wm.from(yield e)}))():(0,$p.isFetchResponse)(e)||(0,$p.isReadableDOMStream)(e)||(0,$p.isReadableNodeStream)(e)||(0,$p.isAsyncIterable)(e)?eYe(new Oge.AsyncByteStream(e)):ZGe(new Oge.ByteStream(e))}static readAll(e){return e instanceof wm?e.isSync()?Ige(e):Mge(e):(0,$p.isArrowJSON)(e)||ArrayBuffer.isView(e)||(0,$p.isIterable)(e)||(0,$p.isIteratorResult)(e)?Ige(e):Mge(e)}};zp.RecordBatchReader=wm;var $7=class extends wm{constructor(e){super(e);this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Pa.__asyncGenerator(this,arguments,function*(){yield Pa.__await(yield*Pa.__asyncDelegator(Pa.__asyncValues(this[Symbol.iterator]())))})}};zp.RecordBatchStreamReader=$7;var z7=class extends wm{constructor(e){super(e);this._impl=e}readAll(){var e,t;return Pa.__awaiter(this,void 0,void 0,function*(){let r=new Array;try{for(var i=Pa.__asyncValues(this),s;s=yield i.next(),!s.done;){let o=s.value;r.push(o)}}catch(o){e={error:o}}finally{try{s&&!s.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}return r})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};zp.AsyncRecordBatchStreamReader=z7;var OP=class extends $7{constructor(e){super(e);this._impl=e}};zp.RecordBatchFileReader=OP;var YX=class extends z7{constructor(e){super(e);this._impl=e}};zp.AsyncRecordBatchFileReader=YX;var KX=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){let r=this._loadVectors(e,t,this.schema.fields),i=(0,KGe.makeData)({type:new JGe.Struct(this.schema.fields),length:e.length,children:r});return new GX.RecordBatch(this.schema,i)}_loadDictionaryBatch(e,t){let{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r);if(i||!a){let c=o.dictionaries.get(r),d=this._loadVectors(e.data,t,[c]);return(a&&i?a.concat(new Tge.Vector(d)):new Tge.Vector(d)).memoize()}return a.memoize()}_loadVectors(e,t,r){return new Nge.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}},BT=class extends KX{constructor(e,t){super(t);this._reader=(0,$p.isArrowJSON)(e)?new Up.JSONMessageReader(this._handle=e):new Up.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=kge(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):L_.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):L_.ITERATOR_DONE}next(){if(this.closed)return L_.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new GX._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},jT=class extends KX{constructor(e,t){super(t);this._reader=new Up.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Pa.__awaiter(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return Pa.__awaiter(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=kge(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return Pa.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):L_.ITERATOR_DONE})}return(e){return Pa.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):L_.ITERATOR_DONE})}next(){return Pa.__awaiter(this,void 0,void 0,function*(){if(this.closed)return L_.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new GX._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return Pa.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}},JX=class extends BT{constructor(e,t){super(e instanceof PT.RandomAccessFile?e:new PT.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var t;if(this.closed)return null;this._footer||this.open();let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(DP.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var t;let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(DP.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){let{_handle:e}=this,t=e.size-Up.magicAndPadding,r=e.readInt32(t),i=e.readAt(t-r,r);return Fge.Footer.decode(i)}_readNextMessageAndValidate(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}},Rge=class extends jT{constructor(e,...t){let r=typeof t[0]!="number"?t.shift():void 0,i=t[0]instanceof Map?t.shift():void 0;super(e instanceof PT.AsyncRandomAccessFile?e:new PT.AsyncRandomAccessFile(e,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let t=Object.create(null,{open:{get:()=>super.open}});return Pa.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){var t;return Pa.__awaiter(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(DP.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){var t;return Pa.__awaiter(this,void 0,void 0,function*(){let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(DP.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return Pa.__awaiter(this,void 0,void 0,function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-Up.magicAndPadding,r=yield e.readInt32(t),i=yield e.readAt(t-r,r);return Fge.Footer.decode(i)})}_readNextMessageAndValidate(e){return Pa.__awaiter(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}},Lge=class extends BT{constructor(e,t){super(e,t)}_loadVectors(e,t,r){return new Nge.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}};function kge(n,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:n.autoDestroy}function*Ige(n){let e=wm.from(n);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function Mge(n){return Pa.__asyncGenerator(this,arguments,function*(){let t=yield Pa.__await(wm.from(n));try{if(!(yield Pa.__await(t.open({autoDestroy:!1}))).closed)do yield yield Pa.__await(t);while(!(yield Pa.__await(t.reset().open())).closed)}finally{yield Pa.__await(t.cancel())}})}function XGe(n){return new $7(new Lge(n))}function ZGe(n){let e=n.peek(Up.magicLength+7&~7);return e&&e.byteLength>=4?(0,Up.checkForMagicArrowString)(e)?new OP(new JX(n.read())):new $7(new BT(n)):new $7(new BT(function*(){}()))}function eYe(n){return Pa.__awaiter(this,void 0,void 0,function*(){let e=yield n.peek(Up.magicLength+7&~7);return e&&e.byteLength>=4?(0,Up.checkForMagicArrowString)(e)?new OP(new JX(yield n.read())):new z7(new jT(n)):new z7(new jT(function(){return Pa.__asyncGenerator(this,arguments,function*(){})}()))})}function tYe(n){return Pa.__awaiter(this,void 0,void 0,function*(){let{size:e}=yield n.stat(),t=new PT.AsyncRandomAccessFile(n,e);return e>=Up.magicX2AndPadding&&(0,Up.checkForMagicArrowString)(yield t.readAt(0,Up.magicLength+7&~7))?new YX(new Rge(t)):new z7(new jT(t))})}});var Uge=we(NP=>{"use strict";m();Object.defineProperty(NP,"__esModule",{value:!0});NP.VectorAssembler=void 0;var nYe=ud(),rYe=ad(),Pge=Al(),iYe=Z3(),XX=jf(),ZX=d_(),Bge=D_(),jge=tu(),mc=class extends rYe.Visitor{constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=i=>i.flatMap(s=>Array.isArray(s)?t(s):s instanceof iYe.RecordBatch?s.data.children:s.data),r=new mc;return r.visitMany(t(e)),r}visit(e){if(e instanceof nYe.Vector)return this.visitMany(e.data),this;let{type:t}=e;if(!jge.DataType.isDictionary(t)){let{length:r,nullCount:i}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");jge.DataType.isNull(t)||n2.call(this,i<=0?new Uint8Array(0):(0,ZX.truncateBitmap)(e.offset,r,e.nullBitmap)),this.nodes.push(new Bge.FieldNode(r,i))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};NP.VectorAssembler=mc;function n2(n){let e=n.byteLength+7&~7;return this.buffers.push(n),this.bufferRegions.push(new Bge.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function sYe(n){let{type:e,length:t,typeIds:r,valueOffsets:i}=n;if(n2.call(this,r),e.mode===Pge.UnionMode.Sparse)return tZ.call(this,n);if(e.mode===Pge.UnionMode.Dense){if(n.offset<=0)return n2.call(this,i),tZ.call(this,n);{let s=r.reduce((p,b)=>Math.max(p,b),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),c=new Int32Array(t),d=(0,XX.rebaseValueOffsets)(-i[0],t,i);for(let p,b,C=-1;++C<t;)(b=a[p=r[C]])===-1&&(b=a[p]=d[p]),c[C]=d[C]-b,++o[p];n2.call(this,c);for(let p,b=-1,C=e.children.length;++b<C;)if(p=n.children[b]){let N=e.typeIds[b],R=Math.min(t,o[N]);this.visit(p.slice(a[N],R))}}}return this}function oYe(n){let e;return n.nullCount>=n.length?n2.call(this,new Uint8Array(0)):(e=n.values)instanceof Uint8Array?n2.call(this,(0,ZX.truncateBitmap)(n.offset,n.length,e)):n2.call(this,(0,ZX.packBools)(n.values))}function u4(n){return n2.call(this,n.values.subarray(0,n.length*n.stride))}function qge(n){let{length:e,values:t,valueOffsets:r}=n,i=r[0],s=r[e],o=Math.min(s-i,t.byteLength-i);return n2.call(this,(0,XX.rebaseValueOffsets)(-r[0],e,r)),n2.call(this,t.subarray(i,i+o)),this}function eZ(n){let{length:e,valueOffsets:t}=n;return t&&n2.call(this,(0,XX.rebaseValueOffsets)(t[0],e,t)),this.visit(n.children[0])}function tZ(n){return this.visitMany(n.type.children.map((e,t)=>n.children[t]).filter(Boolean))[0]}mc.prototype.visitBool=oYe;mc.prototype.visitInt=u4;mc.prototype.visitFloat=u4;mc.prototype.visitUtf8=qge;mc.prototype.visitBinary=qge;mc.prototype.visitFixedSizeBinary=u4;mc.prototype.visitDate=u4;mc.prototype.visitTimestamp=u4;mc.prototype.visitTime=u4;mc.prototype.visitDecimal=u4;mc.prototype.visitList=eZ;mc.prototype.visitStruct=tZ;mc.prototype.visitUnion=sYe;mc.prototype.visitInterval=u4;mc.prototype.visitFixedSizeList=eZ;mc.prototype.visitMap=eZ});var zge=we(RP=>{"use strict";m();Object.defineProperty(RP,"__esModule",{value:!0});RP.JSONTypeAssembler=void 0;var aYe=ad(),qf=S7(),H7=Al(),$ge=class extends aYe.Visitor{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:qf.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:r}){return{name:qf.Type[e].toLowerCase(),bitWidth:t,isSigned:r}}visitFloat({typeId:e,precision:t}){return{name:qf.Type[e].toLowerCase(),precision:H7.Precision[t]}}visitBinary({typeId:e}){return{name:qf.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:qf.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:qf.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:r,bitWidth:i}){return{name:qf.Type[e].toLowerCase(),scale:t,precision:r,bitWidth:i}}visitDate({typeId:e,unit:t}){return{name:qf.Type[e].toLowerCase(),unit:H7.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:r}){return{name:qf.Type[e].toLowerCase(),unit:H7.TimeUnit[t],bitWidth:r}}visitTimestamp({typeId:e,timezone:t,unit:r}){return{name:qf.Type[e].toLowerCase(),unit:H7.TimeUnit[r],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:qf.Type[e].toLowerCase(),unit:H7.IntervalUnit[t]}}visitList({typeId:e}){return{name:qf.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:qf.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:r}){return{name:qf.Type[e].toLowerCase(),mode:H7.UnionMode[t],typeIds:[...r]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:qf.Type[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:qf.Type[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:qf.Type[e].toLowerCase(),keysSorted:t}}};RP.JSONTypeAssembler=$ge});var Wge=we(IP=>{"use strict";m();Object.defineProperty(IP,"__esModule",{value:!0});IP.JSONVectorAssembler=void 0;var uYe=EI(),nZ=ud(),lYe=ad(),cYe=Al(),rZ=Al(),LP=d_(),Hge=tu(),kP=class extends lYe.Visitor{static assemble(...e){let t=new kP;return e.map(({schema:r,data:i})=>t.visitMany(r.fields,i.children))}visit({name:e},t){let{length:r}=t,{offset:i,nullCount:s,nullBitmap:o}=t,a=Hge.DataType.isDictionary(t.type)?t.type.indices:t.type,c=Object.assign([],t.buffers,{[cYe.BufferType.VALIDITY]:void 0});return Object.assign({name:e,count:r,VALIDITY:Hge.DataType.isNull(a)?void 0:s<=0?Array.from({length:r},()=>1):[...new LP.BitIterator(o,i,r,null,LP.getBit)]},super.visit(t.clone(a,i,r,0,c)))}visitNull(){return{}}visitBool({values:e,offset:t,length:r}){return{DATA:[...new LP.BitIterator(e,t,r,null,LP.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...UT(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...new nZ.Vector([e])],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...Vge(new nZ.Vector([e]))],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...Vge(new nZ.Vector([e]))]}}visitDate(e){return{DATA:e.type.unit===rZ.DateUnit.DAY?[...e.values]:[...UT(e.values,2)]}}visitTimestamp(e){return{DATA:[...UT(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<rZ.TimeUnit.MICROSECOND?[...e.values]:[...UT(e.values,2)]}}visitDecimal(e){return{DATA:[...UT(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}visitStruct(e){return{children:this.visitMany(e.type.children,e.children)}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===rZ.UnionMode.Dense?[...e.valueOffsets]:void 0,children:this.visitMany(e.type.children,e.children)}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:this.visitMany(e.type.children,e.children)}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}};IP.JSONVectorAssembler=kP;function*Vge(n){for(let e of n)yield e.reduce((t,r)=>`${t}${("0"+(r&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*UT(n,e){let t=new Uint32Array(n.buffer);for(let r=-1,i=t.length/e;++r<i;)yield`${uYe.BN.new(t.subarray((r+0)*e,(r+1)*e),!1)}`}});var UP=we(Tm=>{"use strict";m();Object.defineProperty(Tm,"__esModule",{value:!0});Tm.RecordBatchJSONWriter=Tm.RecordBatchFileWriter=Tm.RecordBatchStreamWriter=Tm.RecordBatchWriter=void 0;var iZ=ds(),sZ=k7(),fYe=FP(),dYe=ud(),hYe=tu(),MP=D_(),oZ=iZ.__importStar(D_()),V7=RJ(),aZ=Al(),Qge=ET(),uZ=G3(),Gge=Uge(),pYe=zge(),Yge=Wge(),mYe=jf(),PP=Z3(),xYe=lT(),Am=om(),$T=class extends xYe.ReadableInterop{constructor(e){super();this._position=0,this._started=!1,this._sink=new uZ.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(0,Am.isObject)(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return(0,Am.isPromise)(e)?e.then(t=>this.writeAll(t)):(0,Am.isAsyncIterable)(e)?cZ(this,e):lZ(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof uZ.AsyncByteQueue?this._sink=e:(this._sink=new uZ.AsyncByteQueue,e&&(0,Am.isWritableDOMStream)(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&(0,Am.isWritableNodeStream)(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!(0,Qge.compareSchemas)(t,this._schema))&&(t==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof sZ.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof PP.RecordBatch&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!(0,Qge.compareSchemas)(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof PP.RecordBatch?e instanceof PP._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof sZ.Table?this.writeAll(e.batches):(0,Am.isIterable)(e)&&this.writeAll(e)}_writeMessage(e,t=8){let r=t-1,i=MP.Message.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,c=a-s-o;return e.headerType===aZ.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new V7.FileBlock(a,e.bodyLength,this._position)):e.headerType===aZ.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new V7.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(c)}_write(e){if(this._started){let t=(0,mYe.toUint8Array)(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(MP.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(fYe.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:r,bufferRegions:i,buffers:s}=Gge.VectorAssembler.assemble(e),o=new oZ.RecordBatch(e.numRows,r,i),a=MP.Message.from(o,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,t,r=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Gge.VectorAssembler.assemble(new dYe.Vector([e])),c=new oZ.RecordBatch(e.length,s,o),d=new oZ.DictionaryBatch(c,t,r),p=MP.Message.from(d,i);return this._writeMessage(p)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,r,i;for(let s=-1,o=e.length;++s<o;)(t=e[s])&&(r=t.byteLength)>0&&(this._write(t),(i=(r+7&~7)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){for(let[t,r]of e.dictionaries){let i=this._dictionaryDeltaOffsets.get(t)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(let s of r.data)this._writeDictionaryBatch(s,t,i>0),i+=s.length}return this}};Tm.RecordBatchWriter=$T;var BP=class extends $T{static writeAll(e,t){let r=new BP(t);return(0,Am.isPromise)(e)?e.then(i=>r.writeAll(i)):(0,Am.isAsyncIterable)(e)?cZ(r,e):lZ(r,e)}};Tm.RecordBatchStreamWriter=BP;var jP=class extends $T{static writeAll(e){let t=new jP;return(0,Am.isPromise)(e)?e.then(r=>t.writeAll(r)):(0,Am.isAsyncIterable)(e)?cZ(t,e):lZ(t,e)}constructor(){super();this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=V7.Footer.encode(new V7.Footer(e,aZ.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};Tm.RecordBatchFileWriter=jP;var qP=class extends $T{constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return new qP().writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(t=>Kge(t))},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,r=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${gYe(e,t,r)}`),this._dictionaryBlocks.push(new V7.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,t=this._recordBatches.length;++e<t;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(`${yYe(this._recordBatches[e])}`),this._recordBatchBlocks.push(new V7.FileBlock(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}};Tm.RecordBatchJSONWriter=qP;function lZ(n,e){let t=e;e instanceof sZ.Table&&(t=e.batches,n.reset(void 0,e.schema));for(let r of t)n.write(r);return n.finish()}function cZ(n,e){var t,r,i,s;return iZ.__awaiter(this,void 0,void 0,function*(){try{for(t=iZ.__asyncValues(e);r=yield t.next(),!r.done;){let o=r.value;n.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}return n.finish()})}function Kge({name:n,type:e,nullable:t}){let r=new pYe.JSONTypeAssembler;return{name:n,nullable:t,type:r.visit(e),children:(e.children||[]).map(i=>Kge(i)),dictionary:hYe.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:r.visit(e.indices)}:void 0}}function gYe(n,e,t=!1){let[r]=Yge.JSONVectorAssembler.assemble(new PP.RecordBatch({[e]:n}));return JSON.stringify({id:e,isDelta:t,data:{count:n.length,columns:r}},null,2)}function yYe(n){let[e]=Yge.JSONVectorAssembler.assemble(n);return JSON.stringify({count:n.numRows,columns:e},null,2)}});var Zge=we(zP=>{"use strict";m();Object.defineProperty(zP,"__esModule",{value:!0});zP.toDOMStream=void 0;var $P=ds(),Jge=jf(),Xge=om();function vYe(n,e){if((0,Xge.isAsyncIterable)(n))return bYe(n,e);if((0,Xge.isIterable)(n))return _Ye(n,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}zP.toDOMStream=vYe;function _Ye(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){s(o,t||(t=n[Symbol.iterator]()))},pull(o){t?s(o,t):o.close()},cancel(){((t==null?void 0:t.return)&&t.return()||!0)&&(t=null)}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){let c,d=null,p=o.desiredSize||null;for(;!(d=a.next(r?p:null)).done;)if(ArrayBuffer.isView(d.value)&&(c=(0,Jge.toUint8Array)(d.value))&&(p!=null&&r&&(p=p-c.byteLength+1),d.value=c),o.enqueue(d.value),p!=null&&--p<=0)return;o.close()}}function bYe(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){return $P.__awaiter(this,void 0,void 0,function*(){yield s(o,t||(t=n[Symbol.asyncIterator]()))})},pull(o){return $P.__awaiter(this,void 0,void 0,function*(){t?yield s(o,t):o.close()})},cancel(){return $P.__awaiter(this,void 0,void 0,function*(){((t==null?void 0:t.return)&&(yield t.return())||!0)&&(t=null)})}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){return $P.__awaiter(this,void 0,void 0,function*(){let c,d=null,p=o.desiredSize||null;for(;!(d=yield a.next(r?p:null)).done;)if(ArrayBuffer.isView(d.value)&&(c=(0,Jge.toUint8Array)(d.value))&&(p!=null&&r&&(p=p-c.byteLength+1),d.value=c),o.enqueue(d.value),p!=null&&--p<=0)return;o.close()})}}});var nye=we(W7=>{"use strict";m();Object.defineProperty(W7,"__esModule",{value:!0});W7.BuilderTransform=W7.builderThroughDOMStream=void 0;var EYe=ds(),SYe=dT();function CYe(n){return new fZ(n)}W7.builderThroughDOMStream=CYe;var fZ=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:t,["writableStrategy"]:r,["queueingStrategy"]:i="count"}=e,s=EYe.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,SYe.makeBuilder)(s),this._getSize=i!=="bytes"?eye:tye;let{["highWaterMark"]:o=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},t),{["highWaterMark"]:a=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},r);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:c=>{this._maybeFlush(this._builder,this._controller=c)},start:c=>{this._maybeFlush(this._builder,this._controller=c)}},{highWaterMark:o,size:i!=="bytes"?eye:tye}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:c=>this._writeValueAndReturnChunkSize(c)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){t!=null&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,t==null?e.close():e.enqueue(t)}};W7.BuilderTransform=fZ;var eye=n=>{var e;return(e=n==null?void 0:n.length)!==null&&e!==void 0?e:0},tye=n=>{var e;return(e=n==null?void 0:n.byteLength)!==null&&e!==void 0?e:0}});var rye=we(HP=>{"use strict";m();Object.defineProperty(HP,"__esModule",{value:!0});HP.recordBatchReaderThroughDOMStream=void 0;var zT=ds(),wYe=G3(),AYe=qT();function TYe(n,e){let t=new wYe.AsyncByteQueue,r=null,i=new ReadableStream({cancel(){return zT.__awaiter(this,void 0,void 0,function*(){yield t.close()})},start(a){return zT.__awaiter(this,void 0,void 0,function*(){yield o(a,r||(r=yield s()))})},pull(a){return zT.__awaiter(this,void 0,void 0,function*(){r?yield o(a,r):a.close()})}});return{writable:new WritableStream(t,Object.assign({highWaterMark:Math.pow(2,14)},n)),readable:i};function s(){return zT.__awaiter(this,void 0,void 0,function*(){return yield(yield AYe.RecordBatchReader.from(t)).open(e)})}function o(a,c){return zT.__awaiter(this,void 0,void 0,function*(){let d=a.desiredSize,p=null;for(;!(p=yield c.next()).done;)if(a.enqueue(p.value),d!=null&&--d<=0)return;a.close()})}}HP.recordBatchReaderThroughDOMStream=TYe});var iye=we(WP=>{"use strict";m();Object.defineProperty(WP,"__esModule",{value:!0});WP.recordBatchWriterThroughDOMStream=void 0;var VP=ds(),FYe=G3();function DYe(n,e){let t=new this(n),r=new FYe.AsyncByteStream(t),i=new ReadableStream({cancel(){return VP.__awaiter(this,void 0,void 0,function*(){yield r.cancel()})},pull(o){return VP.__awaiter(this,void 0,void 0,function*(){yield s(o)})},start(o){return VP.__awaiter(this,void 0,void 0,function*(){yield s(o)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(t,n),readable:i};function s(o){return VP.__awaiter(this,void 0,void 0,function*(){let a=null,c=o.desiredSize;for(;a=yield r.read(c||null);)if(o.enqueue(a),c!=null&&(c-=a.byteLength)<=0)return;o.close()})}}WP.recordBatchWriterThroughDOMStream=DYe});var uye=we(Q7=>{"use strict";m();Object.defineProperty(Q7,"__esModule",{value:!0});Q7.tableToIPC=Q7.tableFromIPC=void 0;var sye=k7(),OYe=om(),NYe=qT(),oye=UP();function aye(n){let e=NYe.RecordBatchReader.from(n);return(0,OYe.isPromise)(e)?e.then(t=>aye(t)):e.isAsync()?e.readAll().then(t=>new sye.Table(t)):new sye.Table(e.readAll())}Q7.tableFromIPC=aye;function RYe(n,e="stream"){return(e==="stream"?oye.RecordBatchStreamWriter:oye.RecordBatchFileWriter).writeAll(n).toUint8Array(!0)}Q7.tableToIPC=RYe});var vZ=we(an=>{"use strict";m();Object.defineProperty(an,"__esModule",{value:!0});an.Dictionary=an.SparseUnion=an.DenseUnion=an.Union=an.Struct=an.List=an.Decimal=an.TimeNanosecond=an.TimeMicrosecond=an.TimeMillisecond=an.TimeSecond=an.Time=an.TimestampNanosecond=an.TimestampMicrosecond=an.TimestampMillisecond=an.TimestampSecond=an.Timestamp=an.DateMillisecond=an.DateDay=an.Date_=an.FixedSizeBinary=an.Binary=an.Utf8=an.Float64=an.Float32=an.Float16=an.Float=an.Uint64=an.Uint32=an.Uint16=an.Uint8=an.Int64=an.Int32=an.Int16=an.Int8=an.Int=an.Bool=an.Null=an.DataType=an.makeData=an.Data=an.MetadataVersion=an.IntervalUnit=an.UnionMode=an.Precision=an.TimeUnit=an.DateUnit=an.BufferType=an.Type=an.MessageHeader=void 0;an.TimestampMillisecondBuilder=an.TimestampSecondBuilder=an.TimestampBuilder=an.TimeNanosecondBuilder=an.TimeMicrosecondBuilder=an.TimeMillisecondBuilder=an.TimeSecondBuilder=an.TimeBuilder=an.Uint64Builder=an.Uint32Builder=an.Uint16Builder=an.Uint8Builder=an.Int64Builder=an.Int32Builder=an.Int16Builder=an.Int8Builder=an.IntBuilder=an.Float64Builder=an.Float32Builder=an.Float16Builder=an.FloatBuilder=an.FixedSizeBinaryBuilder=an.DictionaryBuilder=an.DecimalBuilder=an.DateMillisecondBuilder=an.DateDayBuilder=an.DateBuilder=an.NullBuilder=an.BoolBuilder=an.builderThroughAsyncIterable=an.builderThroughIterable=an.tableFromJSON=an.vectorFromArray=an.makeBuilder=an.Builder=an.StructRow=an.MapRow=an.Field=an.Schema=an.Visitor=an.makeVector=an.Vector=an.tableFromArrays=an.makeTable=an.Table=an.Map_=an.FixedSizeList=an.IntervalYearMonth=an.IntervalDayTime=an.Interval=void 0;an.util=an.RecordBatch=an.Message=an.JSONMessageReader=an.AsyncMessageReader=an.MessageReader=an.tableFromIPC=an.tableToIPC=an.RecordBatchJSONWriter=an.RecordBatchStreamWriter=an.RecordBatchFileWriter=an.RecordBatchWriter=an.AsyncRecordBatchStreamReader=an.AsyncRecordBatchFileReader=an.RecordBatchStreamReader=an.RecordBatchFileReader=an.RecordBatchReader=an.AsyncByteQueue=an.AsyncByteStream=an.ByteStream=an.DenseUnionBuilder=an.SparseUnionBuilder=an.UnionBuilder=an.StructBuilder=an.MapBuilder=an.FixedSizeListBuilder=an.ListBuilder=an.BinaryBuilder=an.Utf8Builder=an.IntervalYearMonthBuilder=an.IntervalDayTimeBuilder=an.IntervalBuilder=an.TimestampNanosecondBuilder=an.TimestampMicrosecondBuilder=void 0;var G7=ds(),LYe=IX();Object.defineProperty(an,"MessageHeader",{enumerable:!0,get:function(){return LYe.MessageHeader}});var l4=Al();Object.defineProperty(an,"Type",{enumerable:!0,get:function(){return l4.Type}});Object.defineProperty(an,"BufferType",{enumerable:!0,get:function(){return l4.BufferType}});Object.defineProperty(an,"DateUnit",{enumerable:!0,get:function(){return l4.DateUnit}});Object.defineProperty(an,"TimeUnit",{enumerable:!0,get:function(){return l4.TimeUnit}});Object.defineProperty(an,"Precision",{enumerable:!0,get:function(){return l4.Precision}});Object.defineProperty(an,"UnionMode",{enumerable:!0,get:function(){return l4.UnionMode}});Object.defineProperty(an,"IntervalUnit",{enumerable:!0,get:function(){return l4.IntervalUnit}});Object.defineProperty(an,"MetadataVersion",{enumerable:!0,get:function(){return l4.MetadataVersion}});var lye=um();Object.defineProperty(an,"Data",{enumerable:!0,get:function(){return lye.Data}});Object.defineProperty(an,"makeData",{enumerable:!0,get:function(){return lye.makeData}});var Zs=tu();Object.defineProperty(an,"DataType",{enumerable:!0,get:function(){return Zs.DataType}});Object.defineProperty(an,"Null",{enumerable:!0,get:function(){return Zs.Null}});Object.defineProperty(an,"Bool",{enumerable:!0,get:function(){return Zs.Bool}});Object.defineProperty(an,"Int",{enumerable:!0,get:function(){return Zs.Int}});Object.defineProperty(an,"Int8",{enumerable:!0,get:function(){return Zs.Int8}});Object.defineProperty(an,"Int16",{enumerable:!0,get:function(){return Zs.Int16}});Object.defineProperty(an,"Int32",{enumerable:!0,get:function(){return Zs.Int32}});Object.defineProperty(an,"Int64",{enumerable:!0,get:function(){return Zs.Int64}});Object.defineProperty(an,"Uint8",{enumerable:!0,get:function(){return Zs.Uint8}});Object.defineProperty(an,"Uint16",{enumerable:!0,get:function(){return Zs.Uint16}});Object.defineProperty(an,"Uint32",{enumerable:!0,get:function(){return Zs.Uint32}});Object.defineProperty(an,"Uint64",{enumerable:!0,get:function(){return Zs.Uint64}});Object.defineProperty(an,"Float",{enumerable:!0,get:function(){return Zs.Float}});Object.defineProperty(an,"Float16",{enumerable:!0,get:function(){return Zs.Float16}});Object.defineProperty(an,"Float32",{enumerable:!0,get:function(){return Zs.Float32}});Object.defineProperty(an,"Float64",{enumerable:!0,get:function(){return Zs.Float64}});Object.defineProperty(an,"Utf8",{enumerable:!0,get:function(){return Zs.Utf8}});Object.defineProperty(an,"Binary",{enumerable:!0,get:function(){return Zs.Binary}});Object.defineProperty(an,"FixedSizeBinary",{enumerable:!0,get:function(){return Zs.FixedSizeBinary}});Object.defineProperty(an,"Date_",{enumerable:!0,get:function(){return Zs.Date_}});Object.defineProperty(an,"DateDay",{enumerable:!0,get:function(){return Zs.DateDay}});Object.defineProperty(an,"DateMillisecond",{enumerable:!0,get:function(){return Zs.DateMillisecond}});Object.defineProperty(an,"Timestamp",{enumerable:!0,get:function(){return Zs.Timestamp}});Object.defineProperty(an,"TimestampSecond",{enumerable:!0,get:function(){return Zs.TimestampSecond}});Object.defineProperty(an,"TimestampMillisecond",{enumerable:!0,get:function(){return Zs.TimestampMillisecond}});Object.defineProperty(an,"TimestampMicrosecond",{enumerable:!0,get:function(){return Zs.TimestampMicrosecond}});Object.defineProperty(an,"TimestampNanosecond",{enumerable:!0,get:function(){return Zs.TimestampNanosecond}});Object.defineProperty(an,"Time",{enumerable:!0,get:function(){return Zs.Time}});Object.defineProperty(an,"TimeSecond",{enumerable:!0,get:function(){return Zs.TimeSecond}});Object.defineProperty(an,"TimeMillisecond",{enumerable:!0,get:function(){return Zs.TimeMillisecond}});Object.defineProperty(an,"TimeMicrosecond",{enumerable:!0,get:function(){return Zs.TimeMicrosecond}});Object.defineProperty(an,"TimeNanosecond",{enumerable:!0,get:function(){return Zs.TimeNanosecond}});Object.defineProperty(an,"Decimal",{enumerable:!0,get:function(){return Zs.Decimal}});Object.defineProperty(an,"List",{enumerable:!0,get:function(){return Zs.List}});Object.defineProperty(an,"Struct",{enumerable:!0,get:function(){return Zs.Struct}});Object.defineProperty(an,"Union",{enumerable:!0,get:function(){return Zs.Union}});Object.defineProperty(an,"DenseUnion",{enumerable:!0,get:function(){return Zs.DenseUnion}});Object.defineProperty(an,"SparseUnion",{enumerable:!0,get:function(){return Zs.SparseUnion}});Object.defineProperty(an,"Dictionary",{enumerable:!0,get:function(){return Zs.Dictionary}});Object.defineProperty(an,"Interval",{enumerable:!0,get:function(){return Zs.Interval}});Object.defineProperty(an,"IntervalDayTime",{enumerable:!0,get:function(){return Zs.IntervalDayTime}});Object.defineProperty(an,"IntervalYearMonth",{enumerable:!0,get:function(){return Zs.IntervalYearMonth}});Object.defineProperty(an,"FixedSizeList",{enumerable:!0,get:function(){return Zs.FixedSizeList}});Object.defineProperty(an,"Map_",{enumerable:!0,get:function(){return Zs.Map_}});var dZ=k7();Object.defineProperty(an,"Table",{enumerable:!0,get:function(){return dZ.Table}});Object.defineProperty(an,"makeTable",{enumerable:!0,get:function(){return dZ.makeTable}});Object.defineProperty(an,"tableFromArrays",{enumerable:!0,get:function(){return dZ.tableFromArrays}});var cye=ud();Object.defineProperty(an,"Vector",{enumerable:!0,get:function(){return cye.Vector}});Object.defineProperty(an,"makeVector",{enumerable:!0,get:function(){return cye.makeVector}});var kYe=ad();Object.defineProperty(an,"Visitor",{enumerable:!0,get:function(){return kYe.Visitor}});var fye=rh();Object.defineProperty(an,"Schema",{enumerable:!0,get:function(){return fye.Schema}});Object.defineProperty(an,"Field",{enumerable:!0,get:function(){return fye.Field}});var IYe=GA();Object.defineProperty(an,"MapRow",{enumerable:!0,get:function(){return IYe.MapRow}});var MYe=MI();Object.defineProperty(an,"StructRow",{enumerable:!0,get:function(){return MYe.StructRow}});var PYe=zl();Object.defineProperty(an,"Builder",{enumerable:!0,get:function(){return PYe.Builder}});var HT=dT();Object.defineProperty(an,"makeBuilder",{enumerable:!0,get:function(){return HT.makeBuilder}});Object.defineProperty(an,"vectorFromArray",{enumerable:!0,get:function(){return HT.vectorFromArray}});Object.defineProperty(an,"tableFromJSON",{enumerable:!0,get:function(){return HT.tableFromJSON}});Object.defineProperty(an,"builderThroughIterable",{enumerable:!0,get:function(){return HT.builderThroughIterable}});Object.defineProperty(an,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return HT.builderThroughAsyncIterable}});var BYe=qJ();Object.defineProperty(an,"BoolBuilder",{enumerable:!0,get:function(){return BYe.BoolBuilder}});var jYe=sX();Object.defineProperty(an,"NullBuilder",{enumerable:!0,get:function(){return jYe.NullBuilder}});var hZ=HJ();Object.defineProperty(an,"DateBuilder",{enumerable:!0,get:function(){return hZ.DateBuilder}});Object.defineProperty(an,"DateDayBuilder",{enumerable:!0,get:function(){return hZ.DateDayBuilder}});Object.defineProperty(an,"DateMillisecondBuilder",{enumerable:!0,get:function(){return hZ.DateMillisecondBuilder}});var qYe=WJ();Object.defineProperty(an,"DecimalBuilder",{enumerable:!0,get:function(){return qYe.DecimalBuilder}});var UYe=QJ();Object.defineProperty(an,"DictionaryBuilder",{enumerable:!0,get:function(){return UYe.DictionaryBuilder}});var $Ye=YJ();Object.defineProperty(an,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return $Ye.FixedSizeBinaryBuilder}});var QP=JJ();Object.defineProperty(an,"FloatBuilder",{enumerable:!0,get:function(){return QP.FloatBuilder}});Object.defineProperty(an,"Float16Builder",{enumerable:!0,get:function(){return QP.Float16Builder}});Object.defineProperty(an,"Float32Builder",{enumerable:!0,get:function(){return QP.Float32Builder}});Object.defineProperty(an,"Float64Builder",{enumerable:!0,get:function(){return QP.Float64Builder}});var Cg=nX();Object.defineProperty(an,"IntBuilder",{enumerable:!0,get:function(){return Cg.IntBuilder}});Object.defineProperty(an,"Int8Builder",{enumerable:!0,get:function(){return Cg.Int8Builder}});Object.defineProperty(an,"Int16Builder",{enumerable:!0,get:function(){return Cg.Int16Builder}});Object.defineProperty(an,"Int32Builder",{enumerable:!0,get:function(){return Cg.Int32Builder}});Object.defineProperty(an,"Int64Builder",{enumerable:!0,get:function(){return Cg.Int64Builder}});Object.defineProperty(an,"Uint8Builder",{enumerable:!0,get:function(){return Cg.Uint8Builder}});Object.defineProperty(an,"Uint16Builder",{enumerable:!0,get:function(){return Cg.Uint16Builder}});Object.defineProperty(an,"Uint32Builder",{enumerable:!0,get:function(){return Cg.Uint32Builder}});Object.defineProperty(an,"Uint64Builder",{enumerable:!0,get:function(){return Cg.Uint64Builder}});var VT=xX();Object.defineProperty(an,"TimeBuilder",{enumerable:!0,get:function(){return VT.TimeBuilder}});Object.defineProperty(an,"TimeSecondBuilder",{enumerable:!0,get:function(){return VT.TimeSecondBuilder}});Object.defineProperty(an,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return VT.TimeMillisecondBuilder}});Object.defineProperty(an,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return VT.TimeMicrosecondBuilder}});Object.defineProperty(an,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return VT.TimeNanosecondBuilder}});var WT=fX();Object.defineProperty(an,"TimestampBuilder",{enumerable:!0,get:function(){return WT.TimestampBuilder}});Object.defineProperty(an,"TimestampSecondBuilder",{enumerable:!0,get:function(){return WT.TimestampSecondBuilder}});Object.defineProperty(an,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return WT.TimestampMillisecondBuilder}});Object.defineProperty(an,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return WT.TimestampMicrosecondBuilder}});Object.defineProperty(an,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return WT.TimestampNanosecondBuilder}});var pZ=tX();Object.defineProperty(an,"IntervalBuilder",{enumerable:!0,get:function(){return pZ.IntervalBuilder}});Object.defineProperty(an,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return pZ.IntervalDayTimeBuilder}});Object.defineProperty(an,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return pZ.IntervalYearMonthBuilder}});var zYe=vX();Object.defineProperty(an,"Utf8Builder",{enumerable:!0,get:function(){return zYe.Utf8Builder}});var HYe=$M();Object.defineProperty(an,"BinaryBuilder",{enumerable:!0,get:function(){return HYe.BinaryBuilder}});var VYe=rX();Object.defineProperty(an,"ListBuilder",{enumerable:!0,get:function(){return VYe.ListBuilder}});var WYe=KJ();Object.defineProperty(an,"FixedSizeListBuilder",{enumerable:!0,get:function(){return WYe.FixedSizeListBuilder}});var QYe=iX();Object.defineProperty(an,"MapBuilder",{enumerable:!0,get:function(){return QYe.MapBuilder}});var GYe=oX();Object.defineProperty(an,"StructBuilder",{enumerable:!0,get:function(){return GYe.StructBuilder}});var mZ=gX();Object.defineProperty(an,"UnionBuilder",{enumerable:!0,get:function(){return mZ.UnionBuilder}});Object.defineProperty(an,"SparseUnionBuilder",{enumerable:!0,get:function(){return mZ.SparseUnionBuilder}});Object.defineProperty(an,"DenseUnionBuilder",{enumerable:!0,get:function(){return mZ.DenseUnionBuilder}});var xZ=G3();Object.defineProperty(an,"ByteStream",{enumerable:!0,get:function(){return xZ.ByteStream}});Object.defineProperty(an,"AsyncByteStream",{enumerable:!0,get:function(){return xZ.AsyncByteStream}});Object.defineProperty(an,"AsyncByteQueue",{enumerable:!0,get:function(){return xZ.AsyncByteQueue}});var QT=qT();Object.defineProperty(an,"RecordBatchReader",{enumerable:!0,get:function(){return QT.RecordBatchReader}});Object.defineProperty(an,"RecordBatchFileReader",{enumerable:!0,get:function(){return QT.RecordBatchFileReader}});Object.defineProperty(an,"RecordBatchStreamReader",{enumerable:!0,get:function(){return QT.RecordBatchStreamReader}});Object.defineProperty(an,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return QT.AsyncRecordBatchFileReader}});Object.defineProperty(an,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return QT.AsyncRecordBatchStreamReader}});var GP=UP();Object.defineProperty(an,"RecordBatchWriter",{enumerable:!0,get:function(){return GP.RecordBatchWriter}});Object.defineProperty(an,"RecordBatchFileWriter",{enumerable:!0,get:function(){return GP.RecordBatchFileWriter}});Object.defineProperty(an,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return GP.RecordBatchStreamWriter}});Object.defineProperty(an,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return GP.RecordBatchJSONWriter}});var dye=uye();Object.defineProperty(an,"tableToIPC",{enumerable:!0,get:function(){return dye.tableToIPC}});Object.defineProperty(an,"tableFromIPC",{enumerable:!0,get:function(){return dye.tableFromIPC}});var gZ=FP();Object.defineProperty(an,"MessageReader",{enumerable:!0,get:function(){return gZ.MessageReader}});Object.defineProperty(an,"AsyncMessageReader",{enumerable:!0,get:function(){return gZ.AsyncMessageReader}});Object.defineProperty(an,"JSONMessageReader",{enumerable:!0,get:function(){return gZ.JSONMessageReader}});var YYe=D_();Object.defineProperty(an,"Message",{enumerable:!0,get:function(){return YYe.Message}});var KYe=Z3();Object.defineProperty(an,"RecordBatch",{enumerable:!0,get:function(){return KYe.RecordBatch}});var JYe=G7.__importStar(EI()),XYe=G7.__importStar(BJ()),ZYe=G7.__importStar(d_()),eKe=G7.__importStar(QA()),tKe=G7.__importStar(jf()),nKe=G7.__importStar(KA()),yZ=ET();an.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},JYe),XYe),ZYe),eKe),tKe),nKe),{compareSchemas:yZ.compareSchemas,compareFields:yZ.compareFields,compareTypes:yZ.compareTypes})});var YP=we(un=>{"use strict";m();Object.defineProperty(un,"__esModule",{value:!0});un.SparseUnion=un.DenseUnion=un.Union=un.StructRow=un.Struct=un.List=un.Decimal=un.TimeNanosecond=un.TimeMicrosecond=un.TimeMillisecond=un.TimeSecond=un.Time=un.TimestampNanosecond=un.TimestampMicrosecond=un.TimestampMillisecond=un.TimestampSecond=un.Timestamp=un.DateMillisecond=un.DateDay=un.Date_=un.FixedSizeBinary=un.Binary=un.Utf8=un.Float64=un.Float32=un.Float16=un.Float=un.Uint64=un.Uint32=un.Uint16=un.Uint8=un.Int64=un.Int32=un.Int16=un.Int8=un.Int=un.Bool=un.Null=un.DataType=un.makeData=un.Data=un.BufferType=un.UnionMode=un.Type=un.TimeUnit=un.Precision=un.MetadataVersion=un.MessageHeader=un.IntervalUnit=un.DateUnit=void 0;un.FixedSizeListBuilder=un.FixedSizeBinaryBuilder=un.DictionaryBuilder=un.DecimalBuilder=un.DateMillisecondBuilder=un.DateDayBuilder=un.DateBuilder=un.BoolBuilder=un.BinaryBuilder=un.builderThroughAsyncIterable=un.builderThroughIterable=un.makeBuilder=un.Builder=un.util=un.RecordBatch=un.Message=un.JSONMessageReader=un.AsyncMessageReader=un.MessageReader=un.tableToIPC=un.tableFromIPC=un.RecordBatchJSONWriter=un.RecordBatchStreamWriter=un.RecordBatchFileWriter=un.RecordBatchWriter=un.AsyncRecordBatchStreamReader=un.AsyncRecordBatchFileReader=un.RecordBatchStreamReader=un.RecordBatchFileReader=un.RecordBatchReader=un.AsyncByteQueue=un.AsyncByteStream=un.ByteStream=un.tableFromJSON=un.vectorFromArray=un.makeVector=un.Vector=un.Visitor=un.Field=un.Schema=un.tableFromArrays=un.makeTable=un.Table=un.MapRow=un.Map_=un.FixedSizeList=un.IntervalYearMonth=un.IntervalDayTime=un.Interval=un.Dictionary=void 0;un.Utf8Builder=un.SparseUnionBuilder=un.DenseUnionBuilder=un.UnionBuilder=un.TimeNanosecondBuilder=un.TimeMicrosecondBuilder=un.TimeMillisecondBuilder=un.TimeSecondBuilder=un.TimeBuilder=un.TimestampNanosecondBuilder=un.TimestampMicrosecondBuilder=un.TimestampMillisecondBuilder=un.TimestampSecondBuilder=un.TimestampBuilder=un.StructBuilder=un.NullBuilder=un.MapBuilder=un.ListBuilder=un.Uint64Builder=un.Uint32Builder=un.Uint16Builder=un.Uint8Builder=un.Int64Builder=un.Int32Builder=un.Int16Builder=un.Int8Builder=un.IntBuilder=un.IntervalYearMonthBuilder=un.IntervalDayTimeBuilder=un.IntervalBuilder=un.Float64Builder=un.Float32Builder=un.Float16Builder=un.FloatBuilder=void 0;var rKe=ds(),iKe=rKe.__importDefault(VA()),sKe=zl(),_Z=qT(),bZ=UP(),oKe=Zge(),aKe=nye(),EZ=rye(),SZ=iye();iKe.default.toDOMStream=oKe.toDOMStream;sKe.Builder.throughDOM=aKe.builderThroughDOMStream;_Z.RecordBatchReader.throughDOM=EZ.recordBatchReaderThroughDOMStream;_Z.RecordBatchFileReader.throughDOM=EZ.recordBatchReaderThroughDOMStream;_Z.RecordBatchStreamReader.throughDOM=EZ.recordBatchReaderThroughDOMStream;bZ.RecordBatchWriter.throughDOM=SZ.recordBatchWriterThroughDOMStream;bZ.RecordBatchFileWriter.throughDOM=SZ.recordBatchWriterThroughDOMStream;bZ.RecordBatchStreamWriter.throughDOM=SZ.recordBatchWriterThroughDOMStream;var ti=vZ();Object.defineProperty(un,"DateUnit",{enumerable:!0,get:function(){return ti.DateUnit}});Object.defineProperty(un,"IntervalUnit",{enumerable:!0,get:function(){return ti.IntervalUnit}});Object.defineProperty(un,"MessageHeader",{enumerable:!0,get:function(){return ti.MessageHeader}});Object.defineProperty(un,"MetadataVersion",{enumerable:!0,get:function(){return ti.MetadataVersion}});Object.defineProperty(un,"Precision",{enumerable:!0,get:function(){return ti.Precision}});Object.defineProperty(un,"TimeUnit",{enumerable:!0,get:function(){return ti.TimeUnit}});Object.defineProperty(un,"Type",{enumerable:!0,get:function(){return ti.Type}});Object.defineProperty(un,"UnionMode",{enumerable:!0,get:function(){return ti.UnionMode}});Object.defineProperty(un,"BufferType",{enumerable:!0,get:function(){return ti.BufferType}});Object.defineProperty(un,"Data",{enumerable:!0,get:function(){return ti.Data}});Object.defineProperty(un,"makeData",{enumerable:!0,get:function(){return ti.makeData}});Object.defineProperty(un,"DataType",{enumerable:!0,get:function(){return ti.DataType}});Object.defineProperty(un,"Null",{enumerable:!0,get:function(){return ti.Null}});Object.defineProperty(un,"Bool",{enumerable:!0,get:function(){return ti.Bool}});Object.defineProperty(un,"Int",{enumerable:!0,get:function(){return ti.Int}});Object.defineProperty(un,"Int8",{enumerable:!0,get:function(){return ti.Int8}});Object.defineProperty(un,"Int16",{enumerable:!0,get:function(){return ti.Int16}});Object.defineProperty(un,"Int32",{enumerable:!0,get:function(){return ti.Int32}});Object.defineProperty(un,"Int64",{enumerable:!0,get:function(){return ti.Int64}});Object.defineProperty(un,"Uint8",{enumerable:!0,get:function(){return ti.Uint8}});Object.defineProperty(un,"Uint16",{enumerable:!0,get:function(){return ti.Uint16}});Object.defineProperty(un,"Uint32",{enumerable:!0,get:function(){return ti.Uint32}});Object.defineProperty(un,"Uint64",{enumerable:!0,get:function(){return ti.Uint64}});Object.defineProperty(un,"Float",{enumerable:!0,get:function(){return ti.Float}});Object.defineProperty(un,"Float16",{enumerable:!0,get:function(){return ti.Float16}});Object.defineProperty(un,"Float32",{enumerable:!0,get:function(){return ti.Float32}});Object.defineProperty(un,"Float64",{enumerable:!0,get:function(){return ti.Float64}});Object.defineProperty(un,"Utf8",{enumerable:!0,get:function(){return ti.Utf8}});Object.defineProperty(un,"Binary",{enumerable:!0,get:function(){return ti.Binary}});Object.defineProperty(un,"FixedSizeBinary",{enumerable:!0,get:function(){return ti.FixedSizeBinary}});Object.defineProperty(un,"Date_",{enumerable:!0,get:function(){return ti.Date_}});Object.defineProperty(un,"DateDay",{enumerable:!0,get:function(){return ti.DateDay}});Object.defineProperty(un,"DateMillisecond",{enumerable:!0,get:function(){return ti.DateMillisecond}});Object.defineProperty(un,"Timestamp",{enumerable:!0,get:function(){return ti.Timestamp}});Object.defineProperty(un,"TimestampSecond",{enumerable:!0,get:function(){return ti.TimestampSecond}});Object.defineProperty(un,"TimestampMillisecond",{enumerable:!0,get:function(){return ti.TimestampMillisecond}});Object.defineProperty(un,"TimestampMicrosecond",{enumerable:!0,get:function(){return ti.TimestampMicrosecond}});Object.defineProperty(un,"TimestampNanosecond",{enumerable:!0,get:function(){return ti.TimestampNanosecond}});Object.defineProperty(un,"Time",{enumerable:!0,get:function(){return ti.Time}});Object.defineProperty(un,"TimeSecond",{enumerable:!0,get:function(){return ti.TimeSecond}});Object.defineProperty(un,"TimeMillisecond",{enumerable:!0,get:function(){return ti.TimeMillisecond}});Object.defineProperty(un,"TimeMicrosecond",{enumerable:!0,get:function(){return ti.TimeMicrosecond}});Object.defineProperty(un,"TimeNanosecond",{enumerable:!0,get:function(){return ti.TimeNanosecond}});Object.defineProperty(un,"Decimal",{enumerable:!0,get:function(){return ti.Decimal}});Object.defineProperty(un,"List",{enumerable:!0,get:function(){return ti.List}});Object.defineProperty(un,"Struct",{enumerable:!0,get:function(){return ti.Struct}});Object.defineProperty(un,"StructRow",{enumerable:!0,get:function(){return ti.StructRow}});Object.defineProperty(un,"Union",{enumerable:!0,get:function(){return ti.Union}});Object.defineProperty(un,"DenseUnion",{enumerable:!0,get:function(){return ti.DenseUnion}});Object.defineProperty(un,"SparseUnion",{enumerable:!0,get:function(){return ti.SparseUnion}});Object.defineProperty(un,"Dictionary",{enumerable:!0,get:function(){return ti.Dictionary}});Object.defineProperty(un,"Interval",{enumerable:!0,get:function(){return ti.Interval}});Object.defineProperty(un,"IntervalDayTime",{enumerable:!0,get:function(){return ti.IntervalDayTime}});Object.defineProperty(un,"IntervalYearMonth",{enumerable:!0,get:function(){return ti.IntervalYearMonth}});Object.defineProperty(un,"FixedSizeList",{enumerable:!0,get:function(){return ti.FixedSizeList}});Object.defineProperty(un,"Map_",{enumerable:!0,get:function(){return ti.Map_}});Object.defineProperty(un,"MapRow",{enumerable:!0,get:function(){return ti.MapRow}});Object.defineProperty(un,"Table",{enumerable:!0,get:function(){return ti.Table}});Object.defineProperty(un,"makeTable",{enumerable:!0,get:function(){return ti.makeTable}});Object.defineProperty(un,"tableFromArrays",{enumerable:!0,get:function(){return ti.tableFromArrays}});Object.defineProperty(un,"Schema",{enumerable:!0,get:function(){return ti.Schema}});Object.defineProperty(un,"Field",{enumerable:!0,get:function(){return ti.Field}});Object.defineProperty(un,"Visitor",{enumerable:!0,get:function(){return ti.Visitor}});Object.defineProperty(un,"Vector",{enumerable:!0,get:function(){return ti.Vector}});Object.defineProperty(un,"makeVector",{enumerable:!0,get:function(){return ti.makeVector}});Object.defineProperty(un,"vectorFromArray",{enumerable:!0,get:function(){return ti.vectorFromArray}});Object.defineProperty(un,"tableFromJSON",{enumerable:!0,get:function(){return ti.tableFromJSON}});Object.defineProperty(un,"ByteStream",{enumerable:!0,get:function(){return ti.ByteStream}});Object.defineProperty(un,"AsyncByteStream",{enumerable:!0,get:function(){return ti.AsyncByteStream}});Object.defineProperty(un,"AsyncByteQueue",{enumerable:!0,get:function(){return ti.AsyncByteQueue}});Object.defineProperty(un,"RecordBatchReader",{enumerable:!0,get:function(){return ti.RecordBatchReader}});Object.defineProperty(un,"RecordBatchFileReader",{enumerable:!0,get:function(){return ti.RecordBatchFileReader}});Object.defineProperty(un,"RecordBatchStreamReader",{enumerable:!0,get:function(){return ti.RecordBatchStreamReader}});Object.defineProperty(un,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return ti.AsyncRecordBatchFileReader}});Object.defineProperty(un,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return ti.AsyncRecordBatchStreamReader}});Object.defineProperty(un,"RecordBatchWriter",{enumerable:!0,get:function(){return ti.RecordBatchWriter}});Object.defineProperty(un,"RecordBatchFileWriter",{enumerable:!0,get:function(){return ti.RecordBatchFileWriter}});Object.defineProperty(un,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return ti.RecordBatchStreamWriter}});Object.defineProperty(un,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return ti.RecordBatchJSONWriter}});Object.defineProperty(un,"tableFromIPC",{enumerable:!0,get:function(){return ti.tableFromIPC}});Object.defineProperty(un,"tableToIPC",{enumerable:!0,get:function(){return ti.tableToIPC}});Object.defineProperty(un,"MessageReader",{enumerable:!0,get:function(){return ti.MessageReader}});Object.defineProperty(un,"AsyncMessageReader",{enumerable:!0,get:function(){return ti.AsyncMessageReader}});Object.defineProperty(un,"JSONMessageReader",{enumerable:!0,get:function(){return ti.JSONMessageReader}});Object.defineProperty(un,"Message",{enumerable:!0,get:function(){return ti.Message}});Object.defineProperty(un,"RecordBatch",{enumerable:!0,get:function(){return ti.RecordBatch}});Object.defineProperty(un,"util",{enumerable:!0,get:function(){return ti.util}});Object.defineProperty(un,"Builder",{enumerable:!0,get:function(){return ti.Builder}});Object.defineProperty(un,"makeBuilder",{enumerable:!0,get:function(){return ti.makeBuilder}});Object.defineProperty(un,"builderThroughIterable",{enumerable:!0,get:function(){return ti.builderThroughIterable}});Object.defineProperty(un,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return ti.builderThroughAsyncIterable}});var uo=vZ();Object.defineProperty(un,"BinaryBuilder",{enumerable:!0,get:function(){return uo.BinaryBuilder}});Object.defineProperty(un,"BoolBuilder",{enumerable:!0,get:function(){return uo.BoolBuilder}});Object.defineProperty(un,"DateBuilder",{enumerable:!0,get:function(){return uo.DateBuilder}});Object.defineProperty(un,"DateDayBuilder",{enumerable:!0,get:function(){return uo.DateDayBuilder}});Object.defineProperty(un,"DateMillisecondBuilder",{enumerable:!0,get:function(){return uo.DateMillisecondBuilder}});Object.defineProperty(un,"DecimalBuilder",{enumerable:!0,get:function(){return uo.DecimalBuilder}});Object.defineProperty(un,"DictionaryBuilder",{enumerable:!0,get:function(){return uo.DictionaryBuilder}});Object.defineProperty(un,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return uo.FixedSizeBinaryBuilder}});Object.defineProperty(un,"FixedSizeListBuilder",{enumerable:!0,get:function(){return uo.FixedSizeListBuilder}});Object.defineProperty(un,"FloatBuilder",{enumerable:!0,get:function(){return uo.FloatBuilder}});Object.defineProperty(un,"Float16Builder",{enumerable:!0,get:function(){return uo.Float16Builder}});Object.defineProperty(un,"Float32Builder",{enumerable:!0,get:function(){return uo.Float32Builder}});Object.defineProperty(un,"Float64Builder",{enumerable:!0,get:function(){return uo.Float64Builder}});Object.defineProperty(un,"IntervalBuilder",{enumerable:!0,get:function(){return uo.IntervalBuilder}});Object.defineProperty(un,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return uo.IntervalDayTimeBuilder}});Object.defineProperty(un,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return uo.IntervalYearMonthBuilder}});Object.defineProperty(un,"IntBuilder",{enumerable:!0,get:function(){return uo.IntBuilder}});Object.defineProperty(un,"Int8Builder",{enumerable:!0,get:function(){return uo.Int8Builder}});Object.defineProperty(un,"Int16Builder",{enumerable:!0,get:function(){return uo.Int16Builder}});Object.defineProperty(un,"Int32Builder",{enumerable:!0,get:function(){return uo.Int32Builder}});Object.defineProperty(un,"Int64Builder",{enumerable:!0,get:function(){return uo.Int64Builder}});Object.defineProperty(un,"Uint8Builder",{enumerable:!0,get:function(){return uo.Uint8Builder}});Object.defineProperty(un,"Uint16Builder",{enumerable:!0,get:function(){return uo.Uint16Builder}});Object.defineProperty(un,"Uint32Builder",{enumerable:!0,get:function(){return uo.Uint32Builder}});Object.defineProperty(un,"Uint64Builder",{enumerable:!0,get:function(){return uo.Uint64Builder}});Object.defineProperty(un,"ListBuilder",{enumerable:!0,get:function(){return uo.ListBuilder}});Object.defineProperty(un,"MapBuilder",{enumerable:!0,get:function(){return uo.MapBuilder}});Object.defineProperty(un,"NullBuilder",{enumerable:!0,get:function(){return uo.NullBuilder}});Object.defineProperty(un,"StructBuilder",{enumerable:!0,get:function(){return uo.StructBuilder}});Object.defineProperty(un,"TimestampBuilder",{enumerable:!0,get:function(){return uo.TimestampBuilder}});Object.defineProperty(un,"TimestampSecondBuilder",{enumerable:!0,get:function(){return uo.TimestampSecondBuilder}});Object.defineProperty(un,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return uo.TimestampMillisecondBuilder}});Object.defineProperty(un,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return uo.TimestampMicrosecondBuilder}});Object.defineProperty(un,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return uo.TimestampNanosecondBuilder}});Object.defineProperty(un,"TimeBuilder",{enumerable:!0,get:function(){return uo.TimeBuilder}});Object.defineProperty(un,"TimeSecondBuilder",{enumerable:!0,get:function(){return uo.TimeSecondBuilder}});Object.defineProperty(un,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return uo.TimeMillisecondBuilder}});Object.defineProperty(un,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return uo.TimeMicrosecondBuilder}});Object.defineProperty(un,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return uo.TimeNanosecondBuilder}});Object.defineProperty(un,"UnionBuilder",{enumerable:!0,get:function(){return uo.UnionBuilder}});Object.defineProperty(un,"DenseUnionBuilder",{enumerable:!0,get:function(){return uo.DenseUnionBuilder}});Object.defineProperty(un,"SparseUnionBuilder",{enumerable:!0,get:function(){return uo.SparseUnionBuilder}});Object.defineProperty(un,"Utf8Builder",{enumerable:!0,get:function(){return uo.Utf8Builder}})});var Dye=we((s7t,Fye)=>{"use strict";m();var uKe=Object.create,KP=Object.defineProperty,lKe=Object.getOwnPropertyDescriptor,cKe=Object.getOwnPropertyNames,fKe=Object.getPrototypeOf,dKe=Object.prototype.hasOwnProperty,hKe=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),pKe=(n,e)=>{for(var t in e)KP(n,t,{get:e[t],enumerable:!0})},hye=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cKe(e))!dKe.call(n,i)&&i!==t&&KP(n,i,{get:()=>e[i],enumerable:!(r=lKe(e,i))||r.enumerable});return n},CZ=(n,e,t)=>(t=n!=null?uKe(fKe(n)):{},hye(e||!n||!n.__esModule?KP(t,"default",{value:n,enumerable:!0}):t,n)),mKe=n=>hye(KP({},"__esModule",{value:!0}),n),xKe=hKe((n,e)=>{e.exports=Worker}),pye={};pKe(pye,{AsyncDuckDB:()=>CKe,AsyncDuckDBConnection:()=>_ye,AsyncDuckDBDispatcher:()=>wKe,AsyncPreparedStatement:()=>bye,AsyncResultStreamIterator:()=>wZ,ConsoleLogger:()=>yKe,LogEvent:()=>gye,LogLevel:()=>mye,LogOrigin:()=>yye,LogTopic:()=>xye,PACKAGE_NAME:()=>Cye,PACKAGE_VERSION:()=>wye,PACKAGE_VERSION_MAJOR:()=>OKe,PACKAGE_VERSION_MINOR:()=>NKe,PACKAGE_VERSION_PATCH:()=>RKe,StatusCode:()=>vye,VoidLogger:()=>gKe,WorkerRequestType:()=>Eye,WorkerResponseType:()=>Sye,WorkerTask:()=>Yo,createWorker:()=>BKe,getJsDelivrBundles:()=>IKe,getLogEventLabel:()=>_Ke,getLogLevelLabel:()=>vKe,getLogOriginLabel:()=>EKe,getLogTopicLabel:()=>bKe,getPlatformFeatures:()=>Tye,isFirefox:()=>LKe,isNode:()=>DZ,isSafari:()=>kKe,selectBundle:()=>MKe});Fye.exports=mKe(pye);var mye=(n=>(n[n.NONE=0]="NONE",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR",n))(mye||{}),xye=(n=>(n[n.NONE=0]="NONE",n[n.CONNECT=1]="CONNECT",n[n.DISCONNECT=2]="DISCONNECT",n[n.OPEN=3]="OPEN",n[n.QUERY=4]="QUERY",n[n.INSTANTIATE=5]="INSTANTIATE",n))(xye||{}),gye=(n=>(n[n.NONE=0]="NONE",n[n.OK=1]="OK",n[n.ERROR=2]="ERROR",n[n.START=3]="START",n[n.RUN=4]="RUN",n[n.CAPTURE=5]="CAPTURE",n))(gye||{}),yye=(n=>(n[n.NONE=0]="NONE",n[n.WEB_WORKER=1]="WEB_WORKER",n[n.NODE_WORKER=2]="NODE_WORKER",n[n.BINDINGS=3]="BINDINGS",n[n.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",n))(yye||{}),gKe=class{log(n){}},yKe=class{constructor(n=2){this.level=n}log(n){n.level>=this.level&&console.log(n)}};function vKe(n){switch(n){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function _Ke(n){switch(n){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function bKe(n){switch(n){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function EKe(n){switch(n){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var vye=(n=>(n[n.SUCCESS=0]="SUCCESS",n))(vye||{}),k_=CZ(YP()),_ye=class{constructor(n,e){this._bindings=n,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(n){return n(this._bindings,this._conn)}async query(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.runQuery(this._conn,n),t=k_.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new k_.Table(t)}async send(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.startPendingQuery(this._conn,n);for(;e==null;)e=await this._bindings.pollPendingQuery(this._conn);let t=new wZ(this._bindings,this._conn,e),r=await k_.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(n){return await this._bindings.getTableNames(this._conn,n)}async prepare(n){let e=await this._bindings.createPrepared(this._conn,n);return new bye(this._bindings,this._conn,e)}async insertArrowTable(n,e){let t=k_.tableToIPC(n,"stream");await this.insertArrowFromIPCStream(t,e)}async insertArrowFromIPCStream(n,e){await this._bindings.insertArrowFromIPCStream(this._conn,n,e)}async insertCSVFromPath(n,e){await this._bindings.insertCSVFromPath(this._conn,n,e)}async insertJSONFromPath(n,e){await this._bindings.insertJSONFromPath(this._conn,n,e)}},wZ=class{constructor(n,e,t){this.db=n,this.conn=e,this.header=t,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let n;return this._inFlight!=null?(n=await this._inFlight,this._inFlight=null):n=await this.db.fetchQueryResults(this.conn),this._depleted=n.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:n}}[Symbol.asyncIterator](){return this}},bye=class{constructor(n,e,t){this.bindings=n,this.connectionId=e,this.statementId=t}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...n){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,n),t=k_.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new k_.Table(t)}async send(...n){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,n),t=new wZ(this.bindings,this.connectionId,e),r=await k_.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},Eye=(n=>(n.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",n.CLOSE_PREPARED="CLOSE_PREPARED",n.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",n.CONNECT="CONNECT",n.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",n.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",n.CREATE_PREPARED="CREATE_PREPARED",n.DISCONNECT="DISCONNECT",n.DROP_FILE="DROP_FILE",n.DROP_FILES="DROP_FILES",n.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",n.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",n.FLUSH_FILES="FLUSH_FILES",n.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",n.GET_TABLE_NAMES="GET_TABLE_NAMES",n.GET_VERSION="GET_VERSION",n.GLOB_FILE_INFOS="GLOB_FILE_INFOS",n.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",n.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",n.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",n.INSTANTIATE="INSTANTIATE",n.OPEN="OPEN",n.PING="PING",n.POLL_PENDING_QUERY="POLL_PENDING_QUERY",n.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",n.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",n.REGISTER_FILE_URL="REGISTER_FILE_URL",n.RESET="RESET",n.RUN_PREPARED="RUN_PREPARED",n.RUN_QUERY="RUN_QUERY",n.SEND_PREPARED="SEND_PREPARED",n.START_PENDING_QUERY="START_PENDING_QUERY",n.TOKENIZE="TOKENIZE",n))(Eye||{}),Sye=(n=>(n.CONNECTION_INFO="CONNECTION_INFO",n.ERROR="ERROR",n.FEATURE_FLAGS="FEATURE_FLAGS",n.FILE_BUFFER="FILE_BUFFER",n.FILE_INFOS="FILE_INFOS",n.FILE_SIZE="FILE_SIZE",n.FILE_STATISTICS="FILE_STATISTICS",n.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",n.LOG="LOG",n.OK="OK",n.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",n.QUERY_PLAN="QUERY_PLAN",n.QUERY_RESULT="QUERY_RESULT",n.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",n.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",n.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",n.REGISTERED_FILE="REGISTERED_FILE",n.SCRIPT_TOKENS="SCRIPT_TOKENS",n.SUCCESS="SUCCESS",n.TABLE_NAMES="TABLE_NAMES",n.VERSION_STRING="VERSION_STRING",n))(Sye||{}),Yo=class{constructor(n,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=n,this.data=e,this.promise=new Promise((t,r)=>{this.promiseResolver=t,this.promiseRejecter=r})}},$o=CZ(YP());function JP(n){switch(n.typeId){case $o.Type.Binary:return{sqlType:"binary"};case $o.Type.Bool:return{sqlType:"bool"};case $o.Type.Date:return{sqlType:"date"};case $o.Type.DateDay:return{sqlType:"date32[d]"};case $o.Type.DateMillisecond:return{sqlType:"date64[ms]"};case $o.Type.Decimal:{let e=n;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case $o.Type.Float:return{sqlType:"float"};case $o.Type.Float16:return{sqlType:"float16"};case $o.Type.Float32:return{sqlType:"float32"};case $o.Type.Float64:return{sqlType:"float64"};case $o.Type.Int:return{sqlType:"int32"};case $o.Type.Int16:return{sqlType:"int16"};case $o.Type.Int32:return{sqlType:"int32"};case $o.Type.Int64:return{sqlType:"int64"};case $o.Type.Uint16:return{sqlType:"uint16"};case $o.Type.Uint32:return{sqlType:"uint32"};case $o.Type.Uint64:return{sqlType:"uint64"};case $o.Type.Uint8:return{sqlType:"uint8"};case $o.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case $o.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case $o.Type.List:return{sqlType:"list",valueType:JP(n.valueType)};case $o.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:n.byteWidth};case $o.Type.Null:return{sqlType:"null"};case $o.Type.Utf8:return{sqlType:"utf8"};case $o.Type.Struct:return{sqlType:"struct",fields:n.children.map(e=>AZ(e.name,e.type))};case $o.Type.Map:{let e=n;return{sqlType:"map",keyType:JP(e.keyType),valueType:JP(e.valueType)}}case $o.Type.Time:return{sqlType:"time[s]"};case $o.Type.TimeMicrosecond:return{sqlType:"time[us]"};case $o.Type.TimeMillisecond:return{sqlType:"time[ms]"};case $o.Type.TimeNanosecond:return{sqlType:"time[ns]"};case $o.Type.TimeSecond:return{sqlType:"time[s]"};case $o.Type.Timestamp:return{sqlType:"timestamp",timezone:n.timezone||void 0};case $o.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:n.timezone||void 0};case $o.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:n.timezone||void 0};case $o.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:n.timezone||void 0};case $o.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:n.timezone||void 0}}throw new Error(`unsupported arrow type: ${n.toString()}`)}function AZ(n,e){let t=JP(e);return t.name=n,t}var SKe=new TextEncoder,CKe=class{constructor(n,e=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=n,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(n){this._worker=n,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,t)=>{this._workerShutdownResolver=e})}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(n,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let t=this._nextMessageId++;return this._pendingRequests.set(t,n),this._worker.postMessage({messageId:t,type:n.type,data:n.data},e),await n.promise}onMessage(n){let e=n.data;switch(e.type){case"LOG":{this._logger.log(e.data);return}case"INSTANTIATE_PROGRESS":{for(let r of this._onInstantiationProgress)r(e.data);return}}let t=this._pendingRequests.get(e.requestId);if(!t){console.warn(`unassociated response: [${e.requestId}, ${e.type.toString()}]`);return}if(this._pendingRequests.delete(e.requestId),e.type=="ERROR"){let r=new Error(e.data.message);r.name=e.data.name,r.stack=e.data.stack,t.promiseRejecter(r);return}switch(t.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(e.type=="OK"){t.promiseResolver(e.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],e.type=="OK"){t.promiseResolver(e.data);return}break;case"GLOB_FILE_INFOS":if(e.type=="FILE_INFOS"){t.promiseResolver(e.data);return}break;case"GET_VERSION":if(e.type=="VERSION_STRING"){t.promiseResolver(e.data);return}break;case"GET_FEATURE_FLAGS":if(e.type=="FEATURE_FLAGS"){t.promiseResolver(e.data);return}break;case"GET_TABLE_NAMES":if(e.type=="TABLE_NAMES"){t.promiseResolver(e.data);return}break;case"TOKENIZE":if(e.type=="SCRIPT_TOKENS"){t.promiseResolver(e.data);return}break;case"COPY_FILE_TO_BUFFER":if(e.type=="FILE_BUFFER"){t.promiseResolver(e.data);return}break;case"EXPORT_FILE_STATISTICS":if(e.type=="FILE_STATISTICS"){t.promiseResolver(e.data);return}break;case"CONNECT":if(e.type=="CONNECTION_INFO"){t.promiseResolver(e.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(e.type=="QUERY_RESULT"){t.promiseResolver(e.data);return}break;case"SEND_PREPARED":if(e.type=="QUERY_RESULT_HEADER"){t.promiseResolver(e.data);return}break;case"START_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"POLL_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],e.type=="SUCCESS"){t.promiseResolver(e.data);return}break;case"FETCH_QUERY_RESULTS":if(e.type=="QUERY_RESULT_CHUNK"){t.promiseResolver(e.data);return}break;case"CREATE_PREPARED":if(e.type=="PREPARED_STATEMENT_ID"){t.promiseResolver(e.data);return}break}t.promiseRejecter(new Error(`unexpected response type: ${e.type.toString()}`))}onError(n){console.error(n),console.error(`error in duckdb worker: ${n.message}`),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`);return}this._pendingRequests.clear()}async reset(){let n=new Yo("RESET",null);return await this.postTask(n)}async ping(){let n=new Yo("PING",null);await this.postTask(n)}async dropFile(n){let e=new Yo("DROP_FILE",n);return await this.postTask(e)}async dropFiles(){let n=new Yo("DROP_FILES",null);return await this.postTask(n)}async flushFiles(){let n=new Yo("FLUSH_FILES",null);return await this.postTask(n)}async instantiate(n,e=null,t=r=>{}){this._onInstantiationProgress.push(t);let r=new Yo("INSTANTIATE",[n,e]);return await this.postTask(r)}async getVersion(){let n=new Yo("GET_VERSION",null);return await this.postTask(n)}async getFeatureFlags(){let n=new Yo("GET_FEATURE_FLAGS",null);return await this.postTask(n)}async open(n){let e=new Yo("OPEN",n);await this.postTask(e)}async tokenize(n){let e=new Yo("TOKENIZE",n);return await this.postTask(e)}async connectInternal(){let n=new Yo("CONNECT",null);return await this.postTask(n)}async connect(){let n=await this.connectInternal();return new _ye(this,n)}async disconnect(n){let e=new Yo("DISCONNECT",n);await this.postTask(e)}async runQuery(n,e){let t=new Yo("RUN_QUERY",[n,e]);return await this.postTask(t)}async startPendingQuery(n,e){let t=new Yo("START_PENDING_QUERY",[n,e]);return await this.postTask(t)}async pollPendingQuery(n){let e=new Yo("POLL_PENDING_QUERY",n);return await this.postTask(e)}async cancelPendingQuery(n){let e=new Yo("CANCEL_PENDING_QUERY",n);return await this.postTask(e)}async fetchQueryResults(n){let e=new Yo("FETCH_QUERY_RESULTS",n);return await this.postTask(e)}async getTableNames(n,e){let t=new Yo("GET_TABLE_NAMES",[n,e]);return await this.postTask(t)}async createPrepared(n,e){let t=new Yo("CREATE_PREPARED",[n,e]);return await this.postTask(t)}async closePrepared(n,e){let t=new Yo("CLOSE_PREPARED",[n,e]);await this.postTask(t)}async runPrepared(n,e,t){let r=new Yo("RUN_PREPARED",[n,e,t]);return await this.postTask(r)}async sendPrepared(n,e,t){let r=new Yo("SEND_PREPARED",[n,e,t]);return await this.postTask(r)}async globFiles(n){let e=new Yo("GLOB_FILE_INFOS",n);return await this.postTask(e)}async registerFileText(n,e){let t=SKe.encode(e);await this.registerFileBuffer(n,t)}async registerFileURL(n,e){e===void 0&&(e=n);let t=new Yo("REGISTER_FILE_URL",[n,e]);await this.postTask(t)}async registerEmptyFileBuffer(n){let e=new Yo("REGISTER_FILE_BUFFER",[n,new Uint8Array]);await this.postTask(e)}async registerFileBuffer(n,e){let t=new Yo("REGISTER_FILE_BUFFER",[n,e]);await this.postTask(t,[e.buffer])}async registerFileHandle(n,e){let t=new Yo("REGISTER_FILE_HANDLE",[n,e]);await this.postTask(t,[])}async collectFileStatistics(n,e){let t=new Yo("COLLECT_FILE_STATISTICS",[n,e]);await this.postTask(t,[])}async exportFileStatistics(n){let e=new Yo("EXPORT_FILE_STATISTICS",n);return await this.postTask(e,[])}async copyFileToBuffer(n){let e=new Yo("COPY_FILE_TO_BUFFER",n);return await this.postTask(e)}async copyFileToPath(n,e){let t=new Yo("COPY_FILE_TO_PATH",[n,e]);await this.postTask(t)}async insertArrowFromIPCStream(n,e,t){if(e.length==0)return;let r=new Yo("INSERT_ARROW_FROM_IPC_STREAM",[n,e,t]);await this.postTask(r,[e.buffer])}async insertCSVFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(AZ(s,o))}t.columnsFlat=i,delete t.columns}let r=new Yo("IMPORT_CSV_FROM_PATH",[n,e,t]);await this.postTask(r)}async insertJSONFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(AZ(s,o))}t.columnsFlat=i,delete t.columns}let r=new Yo("IMPORT_JSON_FROM_PATH",[n,e,t]);await this.postTask(r)}},wKe=class{constructor(){this._bindings=null,this._nextMessageId=0}log(n){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:n},[])}sendOK(n){this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"OK",data:null},[])}failWith(n,e){let t={name:e.name,message:e.message,stack:e.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"ERROR",data:t},[])}async onMessage(n){switch(n.type){case"PING":this.sendOK(n);return;case"INSTANTIATE":this._bindings!=null&&this.failWith(n,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(n.data[0],n.data[1],e=>{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"INSTANTIATE_PROGRESS",data:e},[])}),this.sendOK(n)}catch(e){this._bindings=null,this.failWith(n,e)}return;default:break}if(!this._bindings)return this.failWith(n,new Error("duckdb is not initialized"));try{switch(n.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(n);break;case"OPEN":this._bindings.open(n.data),this.sendOK(n);break;case"DROP_FILE":this._bindings.dropFile(n.data),this.sendOK(n);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(n);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(n);break;case"CONNECT":{let e=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"CONNECTION_INFO",data:e.useUnsafe((t,r)=>r)},[]);break}case"DISCONNECT":this._bindings.disconnect(n.data),this.sendOK(n);break;case"CREATE_PREPARED":{let e=this._bindings.createPrepared(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"PREPARED_STATEMENT_ID",data:e},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared(n.data[0],n.data[1]),this.sendOK(n);break}case"RUN_PREPARED":{let e=this._bindings.runPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"RUN_QUERY":{let e=this._bindings.runQuery(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"SEND_PREPARED":{let e=this._bindings.sendPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER",data:e},[e.buffer]);break}case"START_PENDING_QUERY":{let e=this._bindings.startPendingQuery(n.data[0],n.data[1]),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"POLL_PENDING_QUERY":{let e=this._bindings.pollPendingQuery(n.data),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"CANCEL_PENDING_QUERY":{let e=this._bindings.cancelPendingQuery(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SUCCESS",data:e},[]);break}case"FETCH_QUERY_RESULTS":{let e=this._bindings.fetchQueryResults(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_CHUNK",data:e},[e.buffer]);break}case"GET_TABLE_NAMES":{let e=this._bindings.getTableNames(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"TABLE_NAMES",data:e},[]);break}case"GLOB_FILE_INFOS":{let e=this._bindings.globFiles(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_INFOS",data:e},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(n.data[0],n.data[1]),this.sendOK(n);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(n.data[0],n.data[1]),this.sendOK(n);break;case"REGISTER_FILE_HANDLE":this._bindings.registerFileHandle(n.data[0],n.data[1]),this.sendOK(n);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(n.data[0],n.data[1]),this.sendOK(n);break;case"COPY_FILE_TO_BUFFER":{let e=this._bindings.copyFileToBuffer(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_BUFFER",data:e},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(n.data[0],n.data[1]),this.sendOK(n);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(n.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"TOKENIZE":{let e=this._bindings.tokenize(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SCRIPT_TOKENS",data:e},[]);break}}}catch(e){return this.failWith(n,e)}}},AKe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),TKe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),FKe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),DKe=()=>(async n=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(n)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),TZ={name:"@duckdb/duckdb-wasm",version:"1.17.0",description:"DuckDB powered by WebAssembly",license:"MPL-2.0",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^9.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.0","@typescript-eslint/eslint-plugin":"^5.36.1","@typescript-eslint/parser":"^5.36.1",esbuild:"^0.15.6",eslint:"^8.23.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.31.1","fast-glob":"^3.2.11",jasmine:"^4.4.0","jasmine-core":"^4.3.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.0","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.0.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.34","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.7.1",puppeteer:"^17.1.3",rimraf:"^3.0.2",s3rver:"^3.7.1",typedoc:"^0.23.14",typescript:"^4.7.4","wasm-feature-detect":"^1.2.11","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},Cye=TZ.name,wye=TZ.version,FZ=TZ.version.split("."),OKe=FZ[0],NKe=FZ[1],RKe=FZ[2],DZ=()=>typeof navigator>"u",Aye=()=>DZ()?"node":navigator.userAgent,LKe=()=>Aye().includes("Firefox"),kKe=()=>/^((?!chrome|android).)*safari/i.test(Aye());function IKe(){let n=`https://cdn.jsdelivr.net/npm/${Cye}@${wye}/dist/`;return{mvp:{mainModule:`${n}duckdb-mvp.wasm`,mainWorker:`${n}duckdb-browser-mvp.worker.js`},eh:{mainModule:`${n}duckdb-eh.wasm`,mainWorker:`${n}duckdb-browser-eh.worker.js`}}}var OZ=null,NZ=null,RZ=null,LZ=null,kZ=null;async function Tye(){return OZ==null&&(OZ=typeof BigInt64Array<"u"),NZ==null&&(NZ=await TKe()),RZ==null&&(RZ=await DKe()),LZ==null&&(LZ=await FKe()),kZ==null&&(kZ=await AKe()),{bigInt64Array:OZ,crossOriginIsolated:DZ()||globalThis.crossOriginIsolated||!1,wasmExceptions:NZ,wasmSIMD:LZ,wasmThreads:RZ,wasmBulkMemory:kZ}}async function MKe(n){let e=await Tye();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&n.coi)return{mainModule:n.coi.mainModule,mainWorker:n.coi.mainWorker,pthreadWorker:n.coi.pthreadWorker};if(n.eh)return{mainModule:n.eh.mainModule,mainWorker:n.eh.mainWorker,pthreadWorker:null}}return{mainModule:n.mvp.mainModule,mainWorker:n.mvp.mainWorker,pthreadWorker:null}}var PKe=CZ(xKe());async function BKe(n){let e=new Request(n),t=await fetch(e),r=URL.createObjectURL(await t.blob());return new PKe.default(r)}});var r2=we(Wr=>{"use strict";m();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.isValueDate=Wr.isValueTimestamp=Wr.isValueBoolean=Wr.isValueNumber=Wr.isValueString=Wr.isMeasureLike=Wr.getPhysicalFields=Wr.getDimensions=Wr.isPhysical=Wr.isDimensional=Wr.isTurtleDef=Wr.getIdentifier=Wr.isFieldStructDef=Wr.isFieldTimeBased=Wr.isFieldTypeDef=Wr.isJoinOn=Wr.isIndexSegment=Wr.isSamplingEnable=Wr.isSamplingPercent=Wr.isSamplingRows=Wr.isQuerySegment=Wr.isProjectSegment=Wr.isReduceSegment=Wr.refIsStructDef=Wr.isByExpression=Wr.isByName=Wr.ValueType=Wr.isExtractUnit=Wr.isTimestampUnit=Wr.isDateUnit=Wr.FieldIsIntrinsic=Wr.isAtomicFieldType=Wr.isTimeFieldType=Wr.hasExpression=Wr.mkExpr=Wr.isApplyFragment=Wr.isApplyValue=Wr.isParameterFragment=Wr.isFieldFragment=Wr.isUngroupFragment=Wr.isAsymmetricFragment=Wr.isAggregateFragment=Wr.isDialectFragment=Wr.isFilterFragment=Wr.isFilteredAliasedName=Wr.paramHasValue=Wr.isConditionParameter=Wr.isValueParameter=void 0;function Oye(n){return n.value!==void 0}Wr.isValueParameter=Oye;function jKe(n){return n.condition!==void 0}Wr.isConditionParameter=jKe;function qKe(n){return Oye(n)||n.condition!==null}Wr.paramHasValue=qKe;function UKe(n){for(let e of Object.keys(n))if(!["name","as","filterList"].includes(e))return!1;return!0}Wr.isFilteredAliasedName=UKe;function $Ke(n){return(n==null?void 0:n.type)==="filterExpression"}Wr.isFilterFragment=$Ke;function zKe(n){return(n==null?void 0:n.type)==="dialect"}Wr.isDialectFragment=zKe;function Nye(n){return(n==null?void 0:n.type)==="aggregate"}Wr.isAggregateFragment=Nye;function HKe(n){return Nye(n)&&["sum","avg","count"].includes(n.function)}Wr.isAsymmetricFragment=HKe;function VKe(n){let e=n==null?void 0:n.type;return e=="all"||e=="exclude"}Wr.isUngroupFragment=VKe;function WKe(n){return(n==null?void 0:n.type)==="field"}Wr.isFieldFragment=WKe;function QKe(n){return(n==null?void 0:n.type)==="parameter"}Wr.isParameterFragment=QKe;function GKe(n){return(n==null?void 0:n.type)==="applyVal"}Wr.isApplyValue=GKe;function YKe(n){return(n==null?void 0:n.type)==="apply"}Wr.isApplyFragment=YKe;function KKe(n,...e){let t=[],r;for(r=0;r<e.length;r++){let i=e[r];n[r].length>0&&t.push(n[r]),typeof i=="string"?t.push(i):t.push(...i)}return n[r].length>0&&t.push(n[r]),t}Wr.mkExpr=KKe;function Rye(n){return n.e!==void 0}Wr.hasExpression=Rye;function JKe(n){return n=="date"||n=="timestamp"}Wr.isTimeFieldType=JKe;function Lye(n){return["string","number","date","timestamp","boolean"].includes(n)}Wr.isAtomicFieldType=Lye;function XKe(n){return Lye(n.type)&&!Rye(n)?!0:n.type==="struct"&&(n.structSource.type==="inline"||n.structSource.type==="nested")}Wr.FieldIsIntrinsic=XKe;function kye(n){return["day","week","month","quarter","year"].includes(n)}Wr.isDateUnit=kye;function Iye(n){return kye(n)||["hour","minute","second"].includes(n)}Wr.isTimestampUnit=Iye;function ZKe(n){return Iye(n)||n=="day_of_week"||n=="day_of_year"}Wr.isExtractUnit=ZKe;var eJe;(function(n){n.Date="date",n.Timestamp="timestamp",n.Number="number",n.String="string"})(eJe=Wr.ValueType||(Wr.ValueType={}));function tJe(n){return n===void 0?!1:n.by==="name"}Wr.isByName=tJe;function nJe(n){return n===void 0?!1:n.by==="name"}Wr.isByExpression=nJe;function rJe(n){return typeof n!="string"&&n.type==="struct"}Wr.refIsStructDef=rJe;function Mye(n){return n.type==="reduce"}Wr.isReduceSegment=Mye;function Pye(n){return n.type==="project"}Wr.isProjectSegment=Pye;function iJe(n){return Pye(n)||Mye(n)}Wr.isQuerySegment=iJe;function sJe(n){return n.rows!==void 0}Wr.isSamplingRows=sJe;function oJe(n){return n.percent!==void 0}Wr.isSamplingPercent=oJe;function aJe(n){return n.enable!==void 0}Wr.isSamplingEnable=aJe;function uJe(n){return n.type==="index"}Wr.isIndexSegment=uJe;function lJe(n){return["one","many","cross"].includes(n.type)}Wr.isJoinOn=lJe;function Bye(n){return n.type==="string"||n.type==="date"||n.type==="number"||n.type==="timestamp"||n.type==="boolean"}Wr.isFieldTypeDef=Bye;function cJe(n){return n.type==="date"||n.type==="timestamp"}Wr.isFieldTimeBased=cJe;function jye(n){return n.type==="struct"}Wr.isFieldStructDef=jye;function fJe(n){return n.as!==void 0?n.as:n.name}Wr.getIdentifier=fJe;function dJe(n){return n.type==="turtle"}Wr.isTurtleDef=dJe;function qye(n){var e;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension":!1}Wr.isDimensional=qye;function Uye(n){return Bye(n)&&n.e===void 0||jye(n)&&(n.structSource.type==="nested"||n.structSource.type=="inline")}Wr.isPhysical=Uye;function hJe(n){return n.fields.filter(qye)}Wr.getDimensions=hJe;function pJe(n){return n.fields.filter(Uye)}Wr.getPhysicalFields=pJe;function mJe(n){var e,t;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=n.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct":!1}Wr.isMeasureLike=mJe;function xJe(n,e){return e.type==="string"}Wr.isValueString=xJe;function gJe(n,e){return e.type==="number"}Wr.isValueNumber=gJe;function yJe(n,e){return e.type==="boolean"}Wr.isValueBoolean=yJe;function vJe(n,e){return e.type==="timestamp"}Wr.isValueTimestamp=vJe;function _Je(n,e){return e.type==="date"}Wr.isValueDate=_Je});var YT=we((Y7,GT)=>{m();(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",s="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",a=500,c="__lodash_placeholder__",d=1,p=2,b=4,C=1,N=2,R=1,U=2,V=4,P=8,$=16,M=32,G=64,ae=128,I=256,Z=512,me=30,ye="...",He=800,ot=16,at=1,Ze=2,Tt=3,Mt=1/0,Ue=9007199254740991,te=17976931348623157e292,st=0/0,be=4294967295,Re=be-1,Ae=be>>>1,xe=[["ary",ae],["bind",R],["bindKey",U],["curry",P],["curryRight",$],["flip",Z],["partial",M],["partialRight",G],["rearg",I]],Je="[object Arguments]",lt="[object Array]",Qt="[object AsyncFunction]",Et="[object Boolean]",mn="[object Date]",Lt="[object DOMException]",kt="[object Error]",cn="[object Function]",wt="[object GeneratorFunction]",Ee="[object Map]",Ie="[object Number]",Ce="[object Null]",fe="[object Object]",rt="[object Promise]",Xe="[object Proxy]",de="[object RegExp]",Ge="[object Set]",Ot="[object String]",Nt="[object Symbol]",zt="[object Undefined]",en="[object WeakMap]",Xt="[object WeakSet]",bn="[object ArrayBuffer]",Tn="[object DataView]",Dn="[object Float32Array]",Ut="[object Float64Array]",pn="[object Int8Array]",qn="[object Int16Array]",sr="[object Int32Array]",In="[object Uint8Array]",Ne="[object Uint8ClampedArray]",$e="[object Uint16Array]",De="[object Uint32Array]",qt=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nn=/&(?:amp|lt|gt|quot|#39);/g,Wt=/[&<>"']/g,Fn=RegExp(nn.source),Qn=RegExp(Wt.source),Zn=/<%-([\s\S]+?)%>/g,Pn=/<%([\s\S]+?)%>/g,or=/<%=([\s\S]+?)%>/g,Ye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gt=/^\w*$/,se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,et=RegExp(Pe.source),At=/^\s+/,fn=/\s/,on=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,re=/,? & /,Te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,je=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ft=/\w*$/,ne=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,nt=/^0o[0-7]+$/i,Bt=/^(?:0|[1-9]\d*)$/,rn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Sn=/($^)/,vn=/['\n\r\u2028\u2029\\]/g,xn="\\ud800-\\udfff",zn="\\u0300-\\u036f",Oe="\\ufe20-\\ufe2f",qe="\\u20d0-\\u20ff",Ct=zn+Oe+qe,O="\\u2700-\\u27bf",H="a-z\\xdf-\\xf6\\xf8-\\xff",ve="\\xac\\xb1\\xd7\\xf7",pe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",K="\\u2000-\\u206f",oe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",le="A-Z\\xc0-\\xd6\\xd8-\\xde",We="\\ufe0e\\ufe0f",Rt=ve+pe+K+oe,bt="['\u2019]",ln="["+xn+"]",S="["+Rt+"]",B="["+Ct+"]",ee="\\d+",_e="["+O+"]",ft="["+H+"]",St="[^"+xn+Rt+ee+O+H+le+"]",Jt="\\ud83c[\\udffb-\\udfff]",Kt="(?:"+B+"|"+Jt+")",hn="[^"+xn+"]",Bn="(?:\\ud83c[\\udde6-\\uddff]){2}",jn="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="["+le+"]",Jr="\\u200d",Vr="(?:"+ft+"|"+St+")",yr="(?:"+Vn+"|"+St+")",Mr="(?:"+bt+"(?:d|ll|m|re|s|t|ve))?",xi="(?:"+bt+"(?:D|LL|M|RE|S|T|VE))?",ai=Kt+"?",Ji="["+We+"]?",Es="(?:"+Jr+"(?:"+[hn,Bn,jn].join("|")+")"+Ji+ai+")*",es="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ea="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",da=Ji+ai+Es,fl="(?:"+[_e,Bn,jn].join("|")+")"+da,wc="(?:"+[hn+B+"?",B,Bn,jn,ln].join("|")+")",au=RegExp(bt,"g"),uu=RegExp(B,"g"),Gu=RegExp(Jt+"(?="+Jt+")|"+wc+da,"g"),wu=RegExp([Vn+"?"+ft+"+"+Mr+"(?="+[S,Vn,"$"].join("|")+")",yr+"+"+xi+"(?="+[S,Vn+Vr,"$"].join("|")+")",Vn+"?"+Vr+"+"+Mr,Vn+"+"+xi,Ea,es,ee,fl].join("|"),"g"),Ac=RegExp("["+Jr+xn+Ct+We+"]"),Zo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gc=-1,Qe={};Qe[Dn]=Qe[Ut]=Qe[pn]=Qe[qn]=Qe[sr]=Qe[In]=Qe[Ne]=Qe[$e]=Qe[De]=!0,Qe[Je]=Qe[lt]=Qe[bn]=Qe[Et]=Qe[Tn]=Qe[mn]=Qe[kt]=Qe[cn]=Qe[Ee]=Qe[Ie]=Qe[fe]=Qe[de]=Qe[Ge]=Qe[Ot]=Qe[en]=!1;var Gt={};Gt[Je]=Gt[lt]=Gt[bn]=Gt[Tn]=Gt[Et]=Gt[mn]=Gt[Dn]=Gt[Ut]=Gt[pn]=Gt[qn]=Gt[sr]=Gt[Ee]=Gt[Ie]=Gt[fe]=Gt[de]=Gt[Ge]=Gt[Ot]=Gt[Nt]=Gt[In]=Gt[Ne]=Gt[$e]=Gt[De]=!0,Gt[kt]=Gt[cn]=Gt[en]=!1;var Mn={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Yn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ri={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Br={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xr=parseFloat,Cs=parseInt,lo=typeof global=="object"&&global&&global.Object===Object&&global,no=typeof self=="object"&&self&&self.Object===Object&&self,as=lo||no||Function("return this")(),ro=typeof Y7=="object"&&Y7&&!Y7.nodeType&&Y7,co=ro&&typeof GT=="object"&&GT&&!GT.nodeType&&GT,hi=co&&co.exports===ro,Ei=hi&&lo.process,Vi=function(){try{var tn=co&&co.require&&co.require("util").types;return tn||Ei&&Ei.binding&&Ei.binding("util")}catch{}}(),Ko=Vi&&Vi.isArrayBuffer,la=Vi&&Vi.isDate,ca=Vi&&Vi.isMap,fo=Vi&&Vi.isRegExp,us=Vi&&Vi.isSet,hs=Vi&&Vi.isTypedArray;function Xi(tn,Jn,yn){switch(yn.length){case 0:return tn.call(Jn);case 1:return tn.call(Jn,yn[0]);case 2:return tn.call(Jn,yn[0],yn[1]);case 3:return tn.call(Jn,yn[0],yn[1],yn[2])}return tn.apply(Jn,yn)}function lu(tn,Jn,yn,Yr){for(var Ti=-1,ts=tn==null?0:tn.length;++Ti<ts;){var ps=tn[Ti];Jn(Yr,ps,yn(ps),tn)}return Yr}function Is(tn,Jn){for(var yn=-1,Yr=tn==null?0:tn.length;++yn<Yr&&Jn(tn[yn],yn,tn)!==!1;);return tn}function ha(tn,Jn){for(var yn=tn==null?0:tn.length;yn--&&Jn(tn[yn],yn,tn)!==!1;);return tn}function ia(tn,Jn){for(var yn=-1,Yr=tn==null?0:tn.length;++yn<Yr;)if(!Jn(tn[yn],yn,tn))return!1;return!0}function Ni(tn,Jn){for(var yn=-1,Yr=tn==null?0:tn.length,Ti=0,ts=[];++yn<Yr;){var ps=tn[yn];Jn(ps,yn,tn)&&(ts[Ti++]=ps)}return ts}function Ho(tn,Jn){var yn=tn==null?0:tn.length;return!!yn&&oa(tn,Jn,0)>-1}function ys(tn,Jn,yn){for(var Yr=-1,Ti=tn==null?0:tn.length;++Yr<Ti;)if(yn(Jn,tn[Yr]))return!0;return!1}function Ii(tn,Jn){for(var yn=-1,Yr=tn==null?0:tn.length,Ti=Array(Yr);++yn<Yr;)Ti[yn]=Jn(tn[yn],yn,tn);return Ti}function Do(tn,Jn){for(var yn=-1,Yr=Jn.length,Ti=tn.length;++yn<Yr;)tn[Ti+yn]=Jn[yn];return tn}function Oa(tn,Jn,yn,Yr){var Ti=-1,ts=tn==null?0:tn.length;for(Yr&&ts&&(yn=tn[++Ti]);++Ti<ts;)yn=Jn(yn,tn[Ti],Ti,tn);return yn}function Ga(tn,Jn,yn,Yr){var Ti=tn==null?0:tn.length;for(Yr&&Ti&&(yn=tn[--Ti]);Ti--;)yn=Jn(yn,tn[Ti],Ti,tn);return yn}function Oo(tn,Jn){for(var yn=-1,Yr=tn==null?0:tn.length;++yn<Yr;)if(Jn(tn[yn],yn,tn))return!0;return!1}var Ao=Ku("length");function ja(tn){return tn.split("")}function cu(tn){return tn.match(Te)||[]}function qa(tn,Jn,yn){var Yr;return yn(tn,function(Ti,ts,ps){if(Jn(Ti,ts,ps))return Yr=ts,!1}),Yr}function sa(tn,Jn,yn,Yr){for(var Ti=tn.length,ts=yn+(Yr?1:-1);Yr?ts--:++ts<Ti;)if(Jn(tn[ts],ts,tn))return ts;return-1}function oa(tn,Jn,yn){return Jn===Jn?Ir(tn,Jn,yn):sa(tn,Pl,yn)}function dl(tn,Jn,yn,Yr){for(var Ti=yn-1,ts=tn.length;++Ti<ts;)if(Yr(tn[Ti],Jn))return Ti;return-1}function Pl(tn){return tn!==tn}function ea(tn,Jn){var yn=tn==null?0:tn.length;return yn?pr(tn,Jn)/yn:st}function Ku(tn){return function(Jn){return Jn==null?n:Jn[tn]}}function ui(tn){return function(Jn){return tn==null?n:tn[Jn]}}function ns(tn,Jn,yn,Yr,Ti){return Ti(tn,function(ts,ps,zi){yn=Yr?(Yr=!1,ts):Jn(yn,ts,ps,zi)}),yn}function ls(tn,Jn){var yn=tn.length;for(tn.sort(Jn);yn--;)tn[yn]=tn[yn].value;return tn}function pr(tn,Jn){for(var yn,Yr=-1,Ti=tn.length;++Yr<Ti;){var ts=Jn(tn[Yr]);ts!==n&&(yn=yn===n?ts:yn+ts)}return yn}function rs(tn,Jn){for(var yn=-1,Yr=Array(tn);++yn<tn;)Yr[yn]=Jn(yn);return Yr}function Le(tn,Jn){return Ii(Jn,function(yn){return[yn,tn[yn]]})}function pt(tn){return tn&&tn.slice(0,ms(tn)+1).replace(At,"")}function Yt(tn){return function(Jn){return tn(Jn)}}function jt(tn,Jn){return Ii(Jn,function(yn){return tn[yn]})}function dn(tn,Jn){return tn.has(Jn)}function Nn(tn,Jn){for(var yn=-1,Yr=tn.length;++yn<Yr&&oa(Jn,tn[yn],0)>-1;);return yn}function Kn(tn,Jn){for(var yn=tn.length;yn--&&oa(Jn,tn[yn],0)>-1;);return yn}function Un(tn,Jn){for(var yn=tn.length,Yr=0;yn--;)tn[yn]===Jn&&++Yr;return Yr}var br=ui(Mn),wr=ui(Yn);function Gn(tn){return"\\"+Br[tn]}function ar(tn,Jn){return tn==null?n:tn[Jn]}function er(tn){return Ac.test(tn)}function gr(tn){return Zo.test(tn)}function Or(tn){for(var Jn,yn=[];!(Jn=tn.next()).done;)yn.push(Jn.value);return yn}function di(tn){var Jn=-1,yn=Array(tn.size);return tn.forEach(function(Yr,Ti){yn[++Jn]=[Ti,Yr]}),yn}function ni(tn,Jn){return function(yn){return tn(Jn(yn))}}function pi(tn,Jn){for(var yn=-1,Yr=tn.length,Ti=0,ts=[];++yn<Yr;){var ps=tn[yn];(ps===Jn||ps===c)&&(tn[yn]=c,ts[Ti++]=yn)}return ts}function ii(tn){var Jn=-1,yn=Array(tn.size);return tn.forEach(function(Yr){yn[++Jn]=Yr}),yn}function qr(tn){var Jn=-1,yn=Array(tn.size);return tn.forEach(function(Yr){yn[++Jn]=[Yr,Yr]}),yn}function Ir(tn,Jn,yn){for(var Yr=yn-1,Ti=tn.length;++Yr<Ti;)if(tn[Yr]===Jn)return Yr;return-1}function yi(tn,Jn,yn){for(var Yr=yn+1;Yr--;)if(tn[Yr]===Jn)return Yr;return Yr}function gi(tn){return er(tn)?Ms(tn):Ao(tn)}function ss(tn){return er(tn)?is(tn):ja(tn)}function ms(tn){for(var Jn=tn.length;Jn--&&fn.test(tn.charAt(Jn)););return Jn}var vi=ui(ri);function Ms(tn){for(var Jn=Gu.lastIndex=0;Gu.test(tn);)++Jn;return Jn}function is(tn){return tn.match(Gu)||[]}function pa(tn){return tn.match(wu)||[]}var No=function tn(Jn){Jn=Jn==null?as:ws.defaults(as.Object(),Jn,ws.pick(as,Yu));var yn=Jn.Array,Yr=Jn.Date,Ti=Jn.Error,ts=Jn.Function,ps=Jn.Math,zi=Jn.Object,cs=Jn.RegExp,fu=Jn.String,ue=Jn.TypeError,ut=yn.prototype,Zt=ts.prototype,An=zi.prototype,nr=Jn["__core-js_shared__"],vr=Zt.toString,fr=An.hasOwnProperty,Zi=0,vs=function(){var h=/[^.]+$/.exec(nr&&nr.keys&&nr.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Ns=An.toString,io=vr.call(zi),Ya=as._,Zl=cs("^"+vr.call(fr).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yc=hi?Jn.Buffer:n,Tc=Jn.Symbol,Zf=Jn.Uint8Array,B0=Yc?Yc.allocUnsafe:n,ec=ni(zi.getPrototypeOf,zi),Kc=zi.create,e0=An.propertyIsEnumerable,hl=ut.splice,Fc=Tc?Tc.isConcatSpreadable:n,t0=Tc?Tc.iterator:n,tc=Tc?Tc.toStringTag:n,Bl=function(){try{var h=Ur(zi,"defineProperty");return h({},"",{}),h}catch{}}(),j0=Jn.clearTimeout!==as.clearTimeout&&Jn.clearTimeout,_h=Yr&&Yr.now!==as.Date.now&&Yr.now,q0=Jn.setTimeout!==as.setTimeout&&Jn.setTimeout,U0=ps.ceil,Jc=ps.floor,$0=zi.getOwnPropertySymbols,Dc=Yc?Yc.isBuffer:n,n0=Jn.isFinite,r0=ut.join,i0=ni(zi.keys,zi),qo=ps.max,Jo=ps.min,s0=Yr.now,pl=Jn.parseInt,Xc=ps.random,Rd=ut.reverse,Au=Ur(Jn,"DataView"),yo=Ur(Jn,"Map"),bh=Ur(Jn,"Promise"),ml=Ur(Jn,"Set"),Ls=Ur(Jn,"WeakMap"),xl=Ur(zi,"create"),L=Ls&&new Ls,X={},Be=jx(Au),Dt=jx(yo),Ht=jx(bh),Cn=jx(ml),Rn=jx(Ls),rr=Tc?Tc.prototype:n,dr=rr?rr.valueOf:n,Nr=rr?rr.toString:n;function tt(h){if(Lu(h)&&!Bs(h)&&!(h instanceof Qr)){if(h instanceof Li)return h;if(fr.call(h,"__wrapped__"))return FN(h)}return new Li(h)}var Fi=function(){function h(){}return function(E){if(!Xa(E))return{};if(Kc)return Kc(E);h.prototype=E;var j=new h;return h.prototype=n,j}}();function Wi(){}function Li(h,E){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=n}tt.templateSettings={escape:Zn,evaluate:Pn,interpolate:or,variable:"",imports:{_:tt}},tt.prototype=Wi.prototype,tt.prototype.constructor=tt,Li.prototype=Fi(Wi.prototype),Li.prototype.constructor=Li;function Qr(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=be,this.__views__=[]}function Qs(){var h=new Qr(this.__wrapped__);return h.__actions__=Fe(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Fe(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Fe(this.__views__),h}function Uo(){if(this.__filtered__){var h=new Qr(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function ma(){var h=this.__wrapped__.value(),E=this.__dir__,j=Bs(h),he=E<0,dt=j?h.length:0,Vt=ac(0,dt,this.__views__),gn=Vt.start,On=Vt.end,Wn=On-gn,Sr=he?On:gn-1,Tr=this.__iteratees__,Pr=Tr.length,Ci=0,Ki=Jo(Wn,this.__takeCount__);if(!j||!he&&dt==Wn&&Ki==Wn)return I1(h,this.__actions__);var gs=[];e:for(;Wn--&&Ci<Ki;){Sr+=E;for(var po=-1,bs=h[Sr];++po<Pr;){var Eo=Tr[po],Io=Eo.iteratee,ed=Eo.type,kf=Io(bs);if(ed==Ze)bs=kf;else if(!kf){if(ed==at)continue e;break e}}gs[Ci++]=bs}return gs}Qr.prototype=Fi(Wi.prototype),Qr.prototype.constructor=Qr;function ho(h){var E=-1,j=h==null?0:h.length;for(this.clear();++E<j;){var he=h[E];this.set(he[0],he[1])}}function Na(){this.__data__=xl?xl(null):{},this.size=0}function nc(h){var E=this.has(h)&&delete this.__data__[h];return this.size-=E?1:0,E}function jl(h){var E=this.__data__;if(xl){var j=E[h];return j===o?n:j}return fr.call(E,h)?E[h]:n}function Ra(h){var E=this.__data__;return xl?E[h]!==n:fr.call(E,h)}function rc(h,E){var j=this.__data__;return this.size+=this.has(h)?0:1,j[h]=xl&&E===n?o:E,this}ho.prototype.clear=Na,ho.prototype.delete=nc,ho.prototype.get=jl,ho.prototype.has=Ra,ho.prototype.set=rc;function xa(h){var E=-1,j=h==null?0:h.length;for(this.clear();++E<j;){var he=h[E];this.set(he[0],he[1])}}function Zc(){this.__data__=[],this.size=0}function ef(h){var E=this.__data__,j=Xu(E,h);if(j<0)return!1;var he=E.length-1;return j==he?E.pop():hl.call(E,j,1),--this.size,!0}function Ju(h){var E=this.__data__,j=Xu(E,h);return j<0?n:E[j][1]}function ic(h){return Xu(this.__data__,h)>-1}function F1(h,E){var j=this.__data__,he=Xu(j,h);return he<0?(++this.size,j.push([h,E])):j[he][1]=E,this}xa.prototype.clear=Zc,xa.prototype.delete=ef,xa.prototype.get=Ju,xa.prototype.has=ic,xa.prototype.set=F1;function Oc(h){var E=-1,j=h==null?0:h.length;for(this.clear();++E<j;){var he=h[E];this.set(he[0],he[1])}}function B2(){this.size=0,this.__data__={hash:new ho,map:new(yo||xa),string:new ho}}function ql(h){var E=Ps(this,h).delete(h);return this.size-=E?1:0,E}function Cf(h){return Ps(this,h).get(h)}function Nc(h){return Ps(this,h).has(h)}function jr(h,E){var j=Ps(this,h),he=j.size;return j.set(h,E),this.size+=j.size==he?0:1,this}Oc.prototype.clear=B2,Oc.prototype.delete=ql,Oc.prototype.get=Cf,Oc.prototype.has=Nc,Oc.prototype.set=jr;function z0(h){var E=-1,j=h==null?0:h.length;for(this.__data__=new Oc;++E<j;)this.add(h[E])}function H0(h){return this.__data__.set(h,o),this}function $r(h){return this.__data__.has(h)}z0.prototype.add=z0.prototype.push=H0,z0.prototype.has=$r;function gl(h){var E=this.__data__=new xa(h);this.size=E.size}function D1(){this.__data__=new xa,this.size=0}function tp(h){var E=this.__data__,j=E.delete(h);return this.size=E.size,j}function vo(h){return this.__data__.get(h)}function V0(h){return this.__data__.has(h)}function Ld(h,E){var j=this.__data__;if(j instanceof xa){var he=j.__data__;if(!yo||he.length<t-1)return he.push([h,E]),this.size=++j.size,this;j=this.__data__=new Oc(he)}return j.set(h,E),this.size=j.size,this}gl.prototype.clear=D1,gl.prototype.delete=tp,gl.prototype.get=vo,gl.prototype.has=V0,gl.prototype.set=Ld;function W0(h,E){var j=Bs(h),he=!j&&U2(h),dt=!j&&!he&&$2(h),Vt=!j&&!he&&!dt&&Hy(h),gn=j||he||dt||Vt,On=gn?rs(h.length,fu):[],Wn=On.length;for(var Sr in h)(E||fr.call(h,Sr))&&!(gn&&(Sr=="length"||dt&&(Sr=="offset"||Sr=="parent")||Vt&&(Sr=="buffer"||Sr=="byteLength"||Sr=="byteOffset")||fp(Sr,Wn)))&&On.push(Sr);return On}function tf(h){var E=h.length;return E?h[Du(0,E-1)]:n}function Rx(h,E){return qy(Fe(h),wf(E,0,h.length))}function Lx(h){return qy(Fe(h))}function Eh(h,E,j){(j!==n&&!Hd(h[E],j)||j===n&&!(E in h))&&Zu(h,E,j)}function nf(h,E,j){var he=h[E];(!(fr.call(h,E)&&Hd(he,j))||j===n&&!(E in h))&&Zu(h,E,j)}function Xu(h,E){for(var j=h.length;j--;)if(Hd(h[j][0],E))return j;return-1}function kd(h,E,j,he){return Rc(h,function(dt,Vt,gn){E(he,dt,j(dt),gn)}),he}function np(h,E){return h&&it(E,ku(E),h)}function O1(h,E){return h&&it(E,h0(E),h)}function Zu(h,E,j){E=="__proto__"&&Bl?Bl(h,E,{configurable:!0,enumerable:!0,value:j,writable:!0}):h[E]=j}function Q0(h,E){for(var j=-1,he=E.length,dt=yn(he),Vt=h==null;++j<he;)dt[j]=Vt?n:lw(h,E[j]);return dt}function wf(h,E,j){return h===h&&(j!==n&&(h=h<=j?h:j),E!==n&&(h=h>=E?h:E)),h}function yl(h,E,j,he,dt,Vt){var gn,On=E&d,Wn=E&p,Sr=E&b;if(j&&(gn=dt?j(h,he,dt,Vt):j(h)),gn!==n)return gn;if(!Xa(h))return h;var Tr=Bs(h);if(Tr){if(gn=Ud(h),!On)return Fe(h,gn)}else{var Pr=bo(h),Ci=Pr==cn||Pr==wt;if($2(h))return F(h,On);if(Pr==fe||Pr==Je||Ci&&!dt){if(gn=Wn||Ci?{}:$d(h),!On)return Wn?En(h,O1(gn,h)):$t(h,np(gn,h))}else{if(!Gt[Pr])return dt?h:{};gn=Bx(h,Pr,On)}}Vt||(Vt=new gl);var Ki=Vt.get(h);if(Ki)return Ki;Vt.set(h,gn),aw(h)?h.forEach(function(bs){gn.add(yl(bs,E,j,bs,h,Vt))}):mR(h)&&h.forEach(function(bs,Eo){gn.set(Eo,yl(bs,E,j,Eo,h,Vt))});var gs=Sr?Wn?Iy:q2:Wn?h0:ku,po=Tr?n:gs(h);return Is(po||h,function(bs,Eo){po&&(Eo=bs,bs=h[Eo]),nf(gn,Eo,yl(bs,E,j,Eo,h,Vt))}),gn}function rp(h){var E=ku(h);return function(j){return du(j,h,E)}}function du(h,E,j){var he=j.length;if(h==null)return!he;for(h=zi(h);he--;){var dt=j[he],Vt=E[dt],gn=h[dt];if(gn===n&&!(dt in h)||!Vt(gn))return!1}return!0}function N1(h,E,j){if(typeof h!="function")throw new ue(i);return pu(function(){h.apply(n,j)},E)}function el(h,E,j,he){var dt=-1,Vt=Ho,gn=!0,On=h.length,Wn=[],Sr=E.length;if(!On)return Wn;j&&(E=Ii(E,Yt(j))),he?(Vt=ys,gn=!1):E.length>=t&&(Vt=dn,gn=!1,E=new z0(E));e:for(;++dt<On;){var Tr=h[dt],Pr=j==null?Tr:j(Tr);if(Tr=he||Tr!==0?Tr:0,gn&&Pr===Pr){for(var Ci=Sr;Ci--;)if(E[Ci]===Pr)continue e;Wn.push(Tr)}else Vt(E,Pr,he)||Wn.push(Tr)}return Wn}var Rc=Hn(La),Sh=Hn(Ah,!0);function Id(h,E){var j=!0;return Rc(h,function(he,dt,Vt){return j=!!E(he,dt,Vt),j}),j}function rf(h,E,j){for(var he=-1,dt=h.length;++he<dt;){var Vt=h[he],gn=E(Vt);if(gn!=null&&(On===n?gn===gn&&!Z0(gn):j(gn,On)))var On=gn,Wn=Vt}return Wn}function Ch(h,E,j,he){var dt=h.length;for(j=Xs(j),j<0&&(j=-j>dt?0:dt+j),he=he===n||he>dt?dt:Xs(he),he<0&&(he+=dt),he=j>he?0:mp(he);j<he;)h[j++]=E;return h}function ip(h,E){var j=[];return Rc(h,function(he,dt,Vt){E(he,dt,Vt)&&j.push(he)}),j}function Ua(h,E,j,he,dt){var Vt=-1,gn=h.length;for(j||(j=SN),dt||(dt=[]);++Vt<gn;){var On=h[Vt];E>0&&j(On)?E>1?Ua(On,E-1,j,he,dt):Do(dt,On):he||(dt[dt.length]=On)}return dt}var wh=ir(),G0=ir(!0);function La(h,E){return h&&wh(h,E,ku)}function Ah(h,E){return h&&G0(h,E,ku)}function Tu(h,E){return Ni(E,function(j){return j1(h[j])})}function Ka(h,E){E=u0(E,h);for(var j=0,he=E.length;h!=null&&j<he;)h=h[Nf(E[j++])];return j&&j==he?h:n}function Th(h,E,j){var he=E(h);return Bs(h)?he:Do(he,j(h))}function ga(h){return h==null?h===n?zt:Ce:tc&&tc in zi(h)?af(h):jy(h)}function Fh(h,E){return h>E}function sp(h,E){return h!=null&&fr.call(h,E)}function o0(h,E){return h!=null&&E in zi(h)}function Y0(h,E,j){return h>=Jo(E,j)&&h<qo(E,j)}function sf(h,E,j){for(var he=j?ys:Ho,dt=h[0].length,Vt=h.length,gn=Vt,On=yn(Vt),Wn=1/0,Sr=[];gn--;){var Tr=h[gn];gn&&E&&(Tr=Ii(Tr,Yt(E))),Wn=Jo(Tr.length,Wn),On[gn]=!j&&(E||dt>=120&&Tr.length>=120)?new z0(gn&&Tr):n}Tr=h[0];var Pr=-1,Ci=On[0];e:for(;++Pr<dt&&Sr.length<Wn;){var Ki=Tr[Pr],gs=E?E(Ki):Ki;if(Ki=j||Ki!==0?Ki:0,!(Ci?dn(Ci,gs):he(Sr,gs,j))){for(gn=Vt;--gn;){var po=On[gn];if(!(po?dn(po,gs):he(h[gn],gs,j)))continue e}Ci&&Ci.push(gs),Sr.push(Ki)}}return Sr}function Ul(h,E,j,he){return La(h,function(dt,Vt,gn){E(he,j(dt),Vt,gn)}),he}function Fu(h,E,j){E=u0(E,h),h=qb(h,E);var he=h==null?h:h[Nf(zd(E))];return he==null?n:Xi(he,h,j)}function op(h){return Lu(h)&&ga(h)==Je}function tl(h){return Lu(h)&&ga(h)==bn}function Dh(h){return Lu(h)&&ga(h)==mn}function Md(h,E,j,he,dt){return h===E?!0:h==null||E==null||!Lu(h)&&!Lu(E)?h!==h&&E!==E:j2(h,E,j,he,Md,dt)}function j2(h,E,j,he,dt,Vt){var gn=Bs(h),On=Bs(E),Wn=gn?lt:bo(h),Sr=On?lt:bo(E);Wn=Wn==Je?fe:Wn,Sr=Sr==Je?fe:Sr;var Tr=Wn==fe,Pr=Sr==fe,Ci=Wn==Sr;if(Ci&&$2(h)){if(!$2(E))return!1;gn=!0,Tr=!1}if(Ci&&!Tr)return Vt||(Vt=new gl),gn||Hy(h)?qd(h,E,j,he,dt,Vt):M1(h,E,Wn,j,he,dt,Vt);if(!(j&C)){var Ki=Tr&&fr.call(h,"__wrapped__"),gs=Pr&&fr.call(E,"__wrapped__");if(Ki||gs){var po=Ki?h.value():h,bs=gs?E.value():E;return Vt||(Vt=new gl),dt(po,bs,j,he,Vt)}}return Ci?(Vt||(Vt=new gl),cp(h,E,j,he,dt,Vt)):!1}function ap(h){return Lu(h)&&bo(h)==Ee}function Af(h,E,j,he){var dt=j.length,Vt=dt,gn=!he;if(h==null)return!Vt;for(h=zi(h);dt--;){var On=j[dt];if(gn&&On[2]?On[1]!==h[On[0]]:!(On[0]in h))return!1}for(;++dt<Vt;){On=j[dt];var Wn=On[0],Sr=h[Wn],Tr=On[1];if(gn&&On[2]){if(Sr===n&&!(Wn in h))return!1}else{var Pr=new gl;if(he)var Ci=he(Sr,Tr,Wn,h,E,Pr);if(!(Ci===n?Md(Tr,Sr,C|N,he,Pr):Ci))return!1}}return!0}function K0(h){if(!Xa(h)||dV(h))return!1;var E=j1(h)?Zl:Ve;return E.test(jx(h))}function Ks(h){return Lu(h)&&ga(h)==de}function A(h){return Lu(h)&&bo(h)==Ge}function W(h){return Lu(h)&&nE(h.length)&&!!Qe[ga(h)]}function ce(h){return typeof h=="function"?h:h==null?Lf:typeof h=="object"?Bs(h)?Pi(h[0],h[1]):Ui(h):lE(h)}function Me(h){if(!_v(h))return i0(h);var E=[];for(var j in zi(h))fr.call(h,j)&&j!="constructor"&&E.push(j);return E}function _t(h){if(!Xa(h))return pV(h);var E=_v(h),j=[];for(var he in h)he=="constructor"&&(E||!fr.call(h,he))||j.push(he);return j}function wn(h,E){return h<E}function ur(h,E){var j=-1,he=f0(h)?yn(h.length):[];return Rc(h,function(dt,Vt,gn){he[++j]=E(dt,Vt,gn)}),he}function Ui(h){var E=_o(h);return E.length==1&&E[0][2]?k9(E[0][0],E[0][1]):function(j){return j===h||Af(j,h,E)}}function Pi(h,E){return L9(h)&&CN(E)?k9(Nf(h),E):function(j){var he=lw(j,h);return he===n&&he===E?Lv(j,h):Md(E,he,C|N)}}function so(h,E,j,he,dt){h!==E&&wh(E,function(Vt,gn){if(dt||(dt=new gl),Xa(Vt))hu(h,E,gn,j,so,he,dt);else{var On=he?he(I9(h,gn),Vt,gn+"",h,E,dt):n;On===n&&(On=Vt),Eh(h,gn,On)}},h0)}function hu(h,E,j,he,dt,Vt,gn){var On=I9(h,j),Wn=I9(E,j),Sr=gn.get(Wn);if(Sr){Eh(h,j,Sr);return}var Tr=Vt?Vt(On,Wn,j+"",h,E,gn):n,Pr=Tr===n;if(Pr){var Ci=Bs(Wn),Ki=!Ci&&$2(Wn),gs=!Ci&&!Ki&&Hy(Wn);Tr=Wn,Ci||Ki||gs?Bs(On)?Tr=On:Ru(On)?Tr=Fe(On):Ki?(Pr=!1,Tr=F(Wn,!0)):gs?(Pr=!1,Tr=x(Wn,!0)):Tr=[]:zy(Wn)||U2(Wn)?(Tr=On,U2(On)?Tr=d0(On):(!Xa(On)||j1(On))&&(Tr=$d(Wn))):Pr=!1}Pr&&(gn.set(Wn,Tr),dt(Tr,Wn,he,Vt,gn),gn.delete(Wn)),Eh(h,j,Tr)}function Lc(h,E){var j=h.length;if(!!j)return E+=E<0?j:0,fp(E,j)?h[E]:n}function Tf(h,E,j){E.length?E=Ii(E,function(Vt){return Bs(Vt)?function(gn){return Ka(gn,Vt.length===1?Vt[0]:Vt)}:Vt}):E=[Lf];var he=-1;E=Ii(E,Yt(Fr()));var dt=ur(h,function(Vt,gn,On){var Wn=Ii(E,function(Sr){return Sr(Vt)});return{criteria:Wn,index:++he,value:Vt}});return ls(dt,function(Vt,gn){return q(Vt,gn,j)})}function Bb(h,E){return Ny(h,E,function(j,he){return Lv(h,he)})}function Ny(h,E,j){for(var he=-1,dt=E.length,Vt={};++he<dt;){var gn=E[he],On=Ka(h,gn);j(On,gn)&&up(Vt,u0(gn,h),On)}return Vt}function gv(h){return function(E){return Ka(E,h)}}function Ry(h,E,j,he){var dt=he?dl:oa,Vt=-1,gn=E.length,On=h;for(h===E&&(E=Fe(E)),j&&(On=Ii(h,Yt(j)));++Vt<gn;)for(var Wn=0,Sr=E[Vt],Tr=j?j(Sr):Sr;(Wn=dt(On,Tr,Wn,he))>-1;)On!==h&&hl.call(On,Wn,1),hl.call(h,Wn,1);return h}function J0(h,E){for(var j=h?E.length:0,he=j-1;j--;){var dt=E[j];if(j==he||dt!==Vt){var Vt=dt;fp(dt)?hl.call(h,dt,1):k1(h,dt)}}return h}function Du(h,E){return h+Jc(Xc()*(E-h+1))}function yv(h,E,j,he){for(var dt=-1,Vt=qo(U0((E-h)/(j||1)),0),gn=yn(Vt);Vt--;)gn[he?Vt:++dt]=h,h+=j;return gn}function Oh(h,E){var j="";if(!h||E<1||E>Ue)return j;do E%2&&(j+=h),E=Jc(E/2),E&&(h+=h);while(E);return j}function As(h,E){return $b(jb(h,E,Lf),h+"")}function a0(h){return tf(Qy(h))}function vl(h,E){var j=Qy(h);return qy(j,wf(E,0,j.length))}function up(h,E,j,he){if(!Xa(h))return h;E=u0(E,h);for(var dt=-1,Vt=E.length,gn=Vt-1,On=h;On!=null&&++dt<Vt;){var Wn=Nf(E[dt]),Sr=j;if(Wn==="__proto__"||Wn==="constructor"||Wn==="prototype")return h;if(dt!=gn){var Tr=On[Wn];Sr=he?he(Tr,Wn,On):n,Sr===n&&(Sr=Xa(Tr)?Tr:fp(E[dt+1])?[]:{})}nf(On,Wn,Sr),On=On[Wn]}return h}var Ou=L?function(h,E){return L.set(h,E),h}:Lf,R1=Bl?function(h,E){return Bl(h,"toString",{configurable:!0,enumerable:!1,value:aE(E),writable:!0})}:Lf;function L1(h){return qy(Qy(h))}function _l(h,E,j){var he=-1,dt=h.length;E<0&&(E=-E>dt?0:dt+E),j=j>dt?dt:j,j<0&&(j+=dt),dt=E>j?0:j-E>>>0,E>>>=0;for(var Vt=yn(dt);++he<dt;)Vt[he]=h[he+E];return Vt}function Ly(h,E){var j;return Rc(h,function(he,dt,Vt){return j=E(he,dt,Vt),!j}),!!j}function Pd(h,E,j){var he=0,dt=h==null?he:h.length;if(typeof E=="number"&&E===E&&dt<=Ae){for(;he<dt;){var Vt=he+dt>>>1,gn=h[Vt];gn!==null&&!Z0(gn)&&(j?gn<=E:gn<E)?he=Vt+1:dt=Vt}return dt}return Nh(h,E,Lf,j)}function Nh(h,E,j,he){var dt=0,Vt=h==null?0:h.length;if(Vt===0)return 0;E=j(E);for(var gn=E!==E,On=E===null,Wn=Z0(E),Sr=E===n;dt<Vt;){var Tr=Jc((dt+Vt)/2),Pr=j(h[Tr]),Ci=Pr!==n,Ki=Pr===null,gs=Pr===Pr,po=Z0(Pr);if(gn)var bs=he||gs;else Sr?bs=gs&&(he||Ci):On?bs=gs&&Ci&&(he||!Ki):Wn?bs=gs&&Ci&&!Ki&&(he||!po):Ki||po?bs=!1:bs=he?Pr<=E:Pr<E;bs?dt=Tr+1:Vt=Tr}return Jo(Vt,Re)}function ky(h,E){for(var j=-1,he=h.length,dt=0,Vt=[];++j<he;){var gn=h[j],On=E?E(gn):gn;if(!j||!Hd(On,Wn)){var Wn=On;Vt[dt++]=gn===0?0:gn}}return Vt}function Ff(h){return typeof h=="number"?h:Z0(h)?st:+h}function bl(h){if(typeof h=="string")return h;if(Bs(h))return Ii(h,bl)+"";if(Z0(h))return Nr?Nr.call(h):"";var E=h+"";return E=="0"&&1/h==-Mt?"-0":E}function Df(h,E,j){var he=-1,dt=Ho,Vt=h.length,gn=!0,On=[],Wn=On;if(j)gn=!1,dt=ys;else if(Vt>=t){var Sr=E?null:El(h);if(Sr)return ii(Sr);gn=!1,dt=dn,Wn=new z0}else Wn=E?[]:On;e:for(;++he<Vt;){var Tr=h[he],Pr=E?E(Tr):Tr;if(Tr=j||Tr!==0?Tr:0,gn&&Pr===Pr){for(var Ci=Wn.length;Ci--;)if(Wn[Ci]===Pr)continue e;E&&Wn.push(Pr),On.push(Tr)}else dt(Wn,Pr,j)||(Wn!==On&&Wn.push(Pr),On.push(Tr))}return On}function k1(h,E){return E=u0(E,h),h=qb(h,E),h==null||delete h[Nf(zd(E))]}function lp(h,E,j,he){return up(h,E,j(Ka(h,E)),he)}function Bd(h,E,j,he){for(var dt=h.length,Vt=he?dt:-1;(he?Vt--:++Vt<dt)&&E(h[Vt],Vt,h););return j?_l(h,he?0:Vt,he?Vt+1:dt):_l(h,he?Vt+1:0,he?dt:Vt)}function I1(h,E){var j=h;return j instanceof Qr&&(j=j.value()),Oa(E,function(he,dt){return dt.func.apply(dt.thisArg,Do([he],dt.args))},j)}function of(h,E,j){var he=h.length;if(he<2)return he?Df(h[0]):[];for(var dt=-1,Vt=yn(he);++dt<he;)for(var gn=h[dt],On=-1;++On<he;)On!=dt&&(Vt[dt]=el(Vt[dt]||gn,h[On],E,j));return Df(Ua(Vt,1),E,j)}function kx(h,E,j){for(var he=-1,dt=h.length,Vt=E.length,gn={};++he<dt;){var On=he<Vt?E[he]:n;j(gn,h[he],On)}return gn}function Ix(h){return Ru(h)?h:[]}function sc(h){return typeof h=="function"?h:Lf}function u0(h,E){return Bs(h)?h:L9(h,E)?[h]:Ev(Vo(h))}var vv=As;function X0(h,E,j){var he=h.length;return j=j===n?he:j,!E&&j>=he?h:_l(h,E,j)}var y=j0||function(h){return as.clearTimeout(h)};function F(h,E){if(E)return h.slice();var j=h.length,he=B0?B0(j):new h.constructor(j);return h.copy(he),he}function z(h){var E=new h.constructor(h.byteLength);return new Zf(E).set(new Zf(h)),E}function Y(h,E){var j=E?z(h.buffer):h.buffer;return new h.constructor(j,h.byteOffset,h.byteLength)}function ke(h){var E=new h.constructor(h.source,Ft.exec(h));return E.lastIndex=h.lastIndex,E}function xt(h){return dr?zi(dr.call(h)):{}}function x(h,E){var j=E?z(h.buffer):h.buffer;return new h.constructor(j,h.byteOffset,h.length)}function T(h,E){if(h!==E){var j=h!==n,he=h===null,dt=h===h,Vt=Z0(h),gn=E!==n,On=E===null,Wn=E===E,Sr=Z0(E);if(!On&&!Sr&&!Vt&&h>E||Vt&&gn&&Wn&&!On&&!Sr||he&&gn&&Wn||!j&&Wn||!dt)return 1;if(!he&&!Vt&&!Sr&&h<E||Sr&&j&&dt&&!he&&!Vt||On&&j&&dt||!gn&&dt||!Wn)return-1}return 0}function q(h,E,j){for(var he=-1,dt=h.criteria,Vt=E.criteria,gn=dt.length,On=j.length;++he<gn;){var Wn=T(dt[he],Vt[he]);if(Wn){if(he>=On)return Wn;var Sr=j[he];return Wn*(Sr=="desc"?-1:1)}}return h.index-E.index}function J(h,E,j,he){for(var dt=-1,Vt=h.length,gn=j.length,On=-1,Wn=E.length,Sr=qo(Vt-gn,0),Tr=yn(Wn+Sr),Pr=!he;++On<Wn;)Tr[On]=E[On];for(;++dt<gn;)(Pr||dt<Vt)&&(Tr[j[dt]]=h[dt]);for(;Sr--;)Tr[On++]=h[dt++];return Tr}function ge(h,E,j,he){for(var dt=-1,Vt=h.length,gn=-1,On=j.length,Wn=-1,Sr=E.length,Tr=qo(Vt-On,0),Pr=yn(Tr+Sr),Ci=!he;++dt<Tr;)Pr[dt]=h[dt];for(var Ki=dt;++Wn<Sr;)Pr[Ki+Wn]=E[Wn];for(;++gn<On;)(Ci||dt<Vt)&&(Pr[Ki+j[gn]]=h[dt++]);return Pr}function Fe(h,E){var j=-1,he=h.length;for(E||(E=yn(he));++j<he;)E[j]=h[j];return E}function it(h,E,j,he){var dt=!j;j||(j={});for(var Vt=-1,gn=E.length;++Vt<gn;){var On=E[Vt],Wn=he?he(j[On],h[On],On,j,h):n;Wn===n&&(Wn=h[On]),dt?Zu(j,On,Wn):nf(j,On,Wn)}return j}function $t(h,E){return it(h,Er(h),E)}function En(h,E){return it(h,rl(h),E)}function _n(h,E){return function(j,he){var dt=Bs(j)?lu:kd,Vt=E?E():{};return dt(j,h,Fr(he,2),Vt)}}function kn(h){return As(function(E,j){var he=-1,dt=j.length,Vt=dt>1?j[dt-1]:n,gn=dt>2?j[2]:n;for(Vt=h.length>3&&typeof Vt=="function"?(dt--,Vt):n,gn&&Of(j[0],j[1],gn)&&(Vt=dt<3?n:Vt,dt=1),E=zi(E);++he<dt;){var On=j[he];On&&h(E,On,he,Vt)}return E})}function Hn(h,E){return function(j,he){if(j==null)return j;if(!f0(j))return h(j,he);for(var dt=j.length,Vt=E?dt:-1,gn=zi(j);(E?Vt--:++Vt<dt)&&he(gn[Vt],Vt,gn)!==!1;);return j}}function ir(h){return function(E,j,he){for(var dt=-1,Vt=zi(E),gn=he(E),On=gn.length;On--;){var Wn=gn[h?On:++dt];if(j(Vt[Wn],Wn,Vt)===!1)break}return E}}function Dr(h,E,j){var he=E&R,dt=bi(h);function Vt(){var gn=this&&this!==as&&this instanceof Vt?dt:h;return gn.apply(he?j:this,arguments)}return Vt}function Kr(h){return function(E){E=Vo(E);var j=er(E)?ss(E):n,he=j?j[0]:E.charAt(0),dt=j?X0(j,1).join(""):E.slice(1);return he[h]()+dt}}function Lr(h){return function(E){return Oa(Pv(NR(E).replace(au,"")),h,"")}}function bi(h){return function(){var E=arguments;switch(E.length){case 0:return new h;case 1:return new h(E[0]);case 2:return new h(E[0],E[1]);case 3:return new h(E[0],E[1],E[2]);case 4:return new h(E[0],E[1],E[2],E[3]);case 5:return new h(E[0],E[1],E[2],E[3],E[4]);case 6:return new h(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new h(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var j=Fi(h.prototype),he=h.apply(j,E);return Xa(he)?he:j}}function ki(h,E,j){var he=bi(h);function dt(){for(var Vt=arguments.length,gn=yn(Vt),On=Vt,Wn=P1(dt);On--;)gn[On]=arguments[On];var Sr=Vt<3&&gn[0]!==Wn&&gn[Vt-1]!==Wn?[]:pi(gn,Wn);if(Vt-=Sr.length,Vt<j)return Sa(h,E,Js,dt.placeholder,n,gn,Sr,n,n,j-Vt);var Tr=this&&this!==as&&this instanceof dt?he:h;return Xi(Tr,this,gn)}return dt}function Fs(h){return function(E,j,he){var dt=zi(E);if(!f0(E)){var Vt=Fr(j,3);E=ku(E),j=function(On){return Vt(dt[On],On,dt)}}var gn=h(E,j,he);return gn>-1?dt[Vt?E[gn]:gn]:n}}function fs(h){return c0(function(E){var j=E.length,he=j,dt=Li.prototype.thru;for(h&&E.reverse();he--;){var Vt=E[he];if(typeof Vt!="function")throw new ue(i);if(dt&&!gn&&Px(Vt)=="wrapper")var gn=new Li([],!0)}for(he=gn?he:j;++he<j;){Vt=E[he];var On=Px(Vt),Wn=On=="wrapper"?Mx(Vt):n;Wn&&By(Wn[0])&&Wn[1]==(ae|P|M|I)&&!Wn[4].length&&Wn[9]==1?gn=gn[Px(Wn[0])].apply(gn,Wn[3]):gn=Vt.length==1&&By(Vt)?gn[On]():gn.thru(Vt)}return function(){var Sr=arguments,Tr=Sr[0];if(gn&&Sr.length==1&&Bs(Tr))return gn.plant(Tr).value();for(var Pr=0,Ci=j?E[Pr].apply(this,Sr):Tr;++Pr<j;)Ci=E[Pr].call(this,Ci);return Ci}})}function Js(h,E,j,he,dt,Vt,gn,On,Wn,Sr){var Tr=E&ae,Pr=E&R,Ci=E&U,Ki=E&(P|$),gs=E&Z,po=Ci?n:bi(h);function bs(){for(var Eo=arguments.length,Io=yn(Eo),ed=Eo;ed--;)Io[ed]=arguments[ed];if(Ki)var kf=P1(bs),td=Un(Io,kf);if(he&&(Io=J(Io,he,dt,Ki)),Vt&&(Io=ge(Io,Vt,gn,Ki)),Eo-=td,Ki&&Eo<Sr){var Iu=pi(Io,kf);return Sa(h,E,Js,bs.placeholder,j,Io,Iu,On,Wn,Sr-Eo)}var nd=Pr?j:this,Wd=Ci?nd[h]:h;return Eo=Io.length,On?Io=Ub(Io,On):gs&&Eo>1&&Io.reverse(),Tr&&Wn<Eo&&(Io.length=Wn),this&&this!==as&&this instanceof bs&&(Wd=po||bi(Wd)),Wd.apply(nd,Io)}return bs}function xs(h,E){return function(j,he){return Ul(j,h,E(he),{})}}function Gr(h,E){return function(j,he){var dt;if(j===n&&he===n)return E;if(j!==n&&(dt=j),he!==n){if(dt===n)return he;typeof j=="string"||typeof he=="string"?(j=bl(j),he=bl(he)):(j=Ff(j),he=Ff(he)),dt=h(j,he)}return dt}}function Yi(h){return c0(function(E){return E=Ii(E,Yt(Fr())),As(function(j){var he=this;return h(E,function(dt){return Xi(dt,he,j)})})})}function ka(h,E){E=E===n?" ":bl(E);var j=E.length;if(j<2)return j?Oh(E,h):E;var he=Oh(E,U0(h/gi(E)));return er(E)?X0(ss(he),0,h).join(""):he.slice(0,h)}function Ja(h,E,j,he){var dt=E&R,Vt=bi(h);function gn(){for(var On=-1,Wn=arguments.length,Sr=-1,Tr=he.length,Pr=yn(Tr+Wn),Ci=this&&this!==as&&this instanceof gn?Vt:h;++Sr<Tr;)Pr[Sr]=he[Sr];for(;Wn--;)Pr[Sr++]=arguments[++On];return Xi(Ci,dt?j:this,Pr)}return gn}function Nu(h){return function(E,j,he){return he&&typeof he!="number"&&Of(E,j,he)&&(j=he=n),E=q1(E),j===n?(j=E,E=0):j=q1(j),he=he===n?E<j?1:-1:q1(he),yv(E,j,he,h)}}function _s(h){return function(E,j){return typeof E=="string"&&typeof j=="string"||(E=il(E),j=il(j)),h(E,j)}}function Sa(h,E,j,he,dt,Vt,gn,On,Wn,Sr){var Tr=E&P,Pr=Tr?gn:n,Ci=Tr?n:gn,Ki=Tr?Vt:n,gs=Tr?n:Vt;E|=Tr?M:G,E&=~(Tr?G:M),E&V||(E&=~(R|U));var po=[h,E,dt,Ki,Pr,gs,Ci,On,Wn,Sr],bs=j.apply(n,po);return By(h)&&Rh(bs,po),bs.placeholder=he,bv(bs,h,E)}function $a(h){var E=ps[h];return function(j,he){if(j=il(j),he=he==null?0:Jo(Xs(he),292),he&&n0(j)){var dt=(Vo(j)+"e").split("e"),Vt=E(dt[0]+"e"+(+dt[1]+he));return dt=(Vo(Vt)+"e").split("e"),+(dt[0]+"e"+(+dt[1]-he))}return E(j)}}var El=ml&&1/ii(new ml([,-0]))[1]==Mt?function(h){return new ml(h)}:Gy;function jd(h){return function(E){var j=bo(E);return j==Ee?di(E):j==Ge?qr(E):Le(E,h(E))}}function nl(h,E,j,he,dt,Vt,gn,On){var Wn=E&U;if(!Wn&&typeof h!="function")throw new ue(i);var Sr=he?he.length:0;if(Sr||(E&=~(M|G),he=dt=n),gn=gn===n?gn:qo(Xs(gn),0),On=On===n?On:Xs(On),Sr-=dt?dt.length:0,E&G){var Tr=he,Pr=dt;he=dt=n}var Ci=Wn?n:Mx(h),Ki=[h,E,j,he,dt,Tr,Pr,Vt,gn,On];if(Ci&&AN(Ki,Ci),h=Ki[0],E=Ki[1],j=Ki[2],he=Ki[3],dt=Ki[4],On=Ki[9]=Ki[9]===n?Wn?0:h.length:qo(Ki[9]-Sr,0),!On&&E&(P|$)&&(E&=~(P|$)),!E||E==R)var gs=Dr(h,E,j);else E==P||E==$?gs=ki(h,E,On):(E==M||E==(R|M))&&!dt.length?gs=Ja(h,E,j,he):gs=Js.apply(n,Ki);var po=Ci?Ou:Rh;return bv(po(gs,Ki),h,E)}function l0(h,E,j,he){return h===n||Hd(h,An[j])&&!fr.call(he,j)?E:h}function ya(h,E,j,he,dt,Vt){return Xa(h)&&Xa(E)&&(Vt.set(E,h),so(h,E,n,ya,Vt),Vt.delete(E)),h}function oc(h){return zy(h)?n:h}function qd(h,E,j,he,dt,Vt){var gn=j&C,On=h.length,Wn=E.length;if(On!=Wn&&!(gn&&Wn>On))return!1;var Sr=Vt.get(h),Tr=Vt.get(E);if(Sr&&Tr)return Sr==E&&Tr==h;var Pr=-1,Ci=!0,Ki=j&N?new z0:n;for(Vt.set(h,E),Vt.set(E,h);++Pr<On;){var gs=h[Pr],po=E[Pr];if(he)var bs=gn?he(po,gs,Pr,E,h,Vt):he(gs,po,Pr,h,E,Vt);if(bs!==n){if(bs)continue;Ci=!1;break}if(Ki){if(!Oo(E,function(Eo,Io){if(!dn(Ki,Io)&&(gs===Eo||dt(gs,Eo,j,he,Vt)))return Ki.push(Io)})){Ci=!1;break}}else if(!(gs===po||dt(gs,po,j,he,Vt))){Ci=!1;break}}return Vt.delete(h),Vt.delete(E),Ci}function M1(h,E,j,he,dt,Vt,gn){switch(j){case Tn:if(h.byteLength!=E.byteLength||h.byteOffset!=E.byteOffset)return!1;h=h.buffer,E=E.buffer;case bn:return!(h.byteLength!=E.byteLength||!Vt(new Zf(h),new Zf(E)));case Et:case mn:case Ie:return Hd(+h,+E);case kt:return h.name==E.name&&h.message==E.message;case de:case Ot:return h==E+"";case Ee:var On=di;case Ge:var Wn=he&C;if(On||(On=ii),h.size!=E.size&&!Wn)return!1;var Sr=gn.get(h);if(Sr)return Sr==E;he|=N,gn.set(h,E);var Tr=qd(On(h),On(E),he,dt,Vt,gn);return gn.delete(h),Tr;case Nt:if(dr)return dr.call(h)==dr.call(E)}return!1}function cp(h,E,j,he,dt,Vt){var gn=j&C,On=q2(h),Wn=On.length,Sr=q2(E),Tr=Sr.length;if(Wn!=Tr&&!gn)return!1;for(var Pr=Wn;Pr--;){var Ci=On[Pr];if(!(gn?Ci in E:fr.call(E,Ci)))return!1}var Ki=Vt.get(h),gs=Vt.get(E);if(Ki&&gs)return Ki==E&&gs==h;var po=!0;Vt.set(h,E),Vt.set(E,h);for(var bs=gn;++Pr<Wn;){Ci=On[Pr];var Eo=h[Ci],Io=E[Ci];if(he)var ed=gn?he(Io,Eo,Ci,E,h,Vt):he(Eo,Io,Ci,h,E,Vt);if(!(ed===n?Eo===Io||dt(Eo,Io,j,he,Vt):ed)){po=!1;break}bs||(bs=Ci=="constructor")}if(po&&!bs){var kf=h.constructor,td=E.constructor;kf!=td&&"constructor"in h&&"constructor"in E&&!(typeof kf=="function"&&kf instanceof kf&&typeof td=="function"&&td instanceof td)&&(po=!1)}return Vt.delete(h),Vt.delete(E),po}function c0(h){return $b(jb(h,n,wv),h+"")}function q2(h){return Th(h,ku,Er)}function Iy(h){return Th(h,h0,rl)}var Mx=L?function(h){return L.get(h)}:Gy;function Px(h){for(var E=h.name+"",j=X[E],he=fr.call(X,E)?j.length:0;he--;){var dt=j[he],Vt=dt.func;if(Vt==null||Vt==h)return dt.name}return E}function P1(h){var E=fr.call(tt,"placeholder")?tt:h;return E.placeholder}function Fr(){var h=tt.iteratee||uE;return h=h===uE?ce:h,arguments.length?h(arguments[0],arguments[1]):h}function Ps(h,E){var j=h.__data__;return fi(E)?j[typeof E=="string"?"string":"hash"]:j.map}function _o(h){for(var E=ku(h),j=E.length;j--;){var he=E[j],dt=h[he];E[j]=[he,dt,CN(dt)]}return E}function Ur(h,E){var j=ar(h,E);return K0(j)?j:n}function af(h){var E=fr.call(h,tc),j=h[tc];try{h[tc]=n;var he=!0}catch{}var dt=Ns.call(h);return he&&(E?h[tc]=j:delete h[tc]),dt}var Er=$0?function(h){return h==null?[]:(h=zi(h),Ni($0(h),function(E){return e0.call(h,E)}))}:vw,rl=$0?function(h){for(var E=[];h;)Do(E,Er(h)),h=ec(h);return E}:vw,bo=ga;(Au&&bo(new Au(new ArrayBuffer(1)))!=Tn||yo&&bo(new yo)!=Ee||bh&&bo(bh.resolve())!=rt||ml&&bo(new ml)!=Ge||Ls&&bo(new Ls)!=en)&&(bo=function(h){var E=ga(h),j=E==fe?h.constructor:n,he=j?jx(j):"";if(he)switch(he){case Be:return Tn;case Dt:return Ee;case Ht:return rt;case Cn:return Ge;case Rn:return en}return E});function ac(h,E,j){for(var he=-1,dt=j.length;++he<dt;){var Vt=j[he],gn=Vt.size;switch(Vt.type){case"drop":h+=gn;break;case"dropRight":E-=gn;break;case"take":E=Jo(E,h+gn);break;case"takeRight":h=qo(h,E-gn);break}}return{start:h,end:E}}function My(h){var E=h.match(ct);return E?E[1].split(re):[]}function Rs(h,E,j){E=u0(E,h);for(var he=-1,dt=E.length,Vt=!1;++he<dt;){var gn=Nf(E[he]);if(!(Vt=h!=null&&j(h,gn)))break;h=h[gn]}return Vt||++he!=dt?Vt:(dt=h==null?0:h.length,!!dt&&nE(dt)&&fp(gn,dt)&&(Bs(h)||U2(h)))}function Ud(h){var E=h.length,j=new h.constructor(E);return E&&typeof h[0]=="string"&&fr.call(h,"index")&&(j.index=h.index,j.input=h.input),j}function $d(h){return typeof h.constructor=="function"&&!_v(h)?Fi(ec(h)):{}}function Bx(h,E,j){var he=h.constructor;switch(E){case bn:return z(h);case Et:case mn:return new he(+h);case Tn:return Y(h,j);case Dn:case Ut:case pn:case qn:case sr:case In:case Ne:case $e:case De:return x(h,j);case Ee:return new he;case Ie:case Ot:return new he(h);case de:return ke(h);case Ge:return new he;case Nt:return xt(h)}}function Py(h,E){var j=E.length;if(!j)return h;var he=j-1;return E[he]=(j>1?"& ":"")+E[he],E=E.join(j>2?", ":" "),h.replace(on,`{
/* [wrapped with `+E+`] */
`)}function SN(h){return Bs(h)||U2(h)||!!(Fc&&h&&h[Fc])}function fp(h,E){var j=typeof h;return E=E??Ue,!!E&&(j=="number"||j!="symbol"&&Bt.test(h))&&h>-1&&h%1==0&&h<E}function Of(h,E,j){if(!Xa(j))return!1;var he=typeof E;return(he=="number"?f0(j)&&fp(E,j.length):he=="string"&&E in j)?Hd(j[E],h):!1}function L9(h,E){if(Bs(h))return!1;var j=typeof h;return j=="number"||j=="symbol"||j=="boolean"||h==null||Z0(h)?!0:gt.test(h)||!Ye.test(h)||E!=null&&h in zi(E)}function fi(h){var E=typeof h;return E=="string"||E=="number"||E=="symbol"||E=="boolean"?h!=="__proto__":h===null}function By(h){var E=Px(h),j=tt[E];if(typeof j!="function"||!(E in Qr.prototype))return!1;if(h===j)return!0;var he=Mx(j);return!!he&&h===he[0]}function dV(h){return!!vs&&vs in h}var hV=nr?j1:cE;function _v(h){var E=h&&h.constructor,j=typeof E=="function"&&E.prototype||An;return h===j}function CN(h){return h===h&&!Xa(h)}function k9(h,E){return function(j){return j==null?!1:j[h]===E&&(E!==n||h in zi(j))}}function wN(h){var E=Zb(h,function(he){return j.size===a&&j.clear(),he}),j=E.cache;return E}function AN(h,E){var j=h[1],he=E[1],dt=j|he,Vt=dt<(R|U|ae),gn=he==ae&&j==P||he==ae&&j==I&&h[7].length<=E[8]||he==(ae|I)&&E[7].length<=E[8]&&j==P;if(!(Vt||gn))return h;he&R&&(h[2]=E[2],dt|=j&R?0:V);var On=E[3];if(On){var Wn=h[3];h[3]=Wn?J(Wn,On,E[4]):On,h[4]=Wn?pi(h[3],c):E[4]}return On=E[5],On&&(Wn=h[5],h[5]=Wn?ge(Wn,On,E[6]):On,h[6]=Wn?pi(h[5],c):E[6]),On=E[7],On&&(h[7]=On),he&ae&&(h[8]=h[8]==null?E[8]:Jo(h[8],E[8])),h[9]==null&&(h[9]=E[9]),h[0]=E[0],h[1]=dt,h}function pV(h){var E=[];if(h!=null)for(var j in zi(h))E.push(j);return E}function jy(h){return Ns.call(h)}function jb(h,E,j){return E=qo(E===n?h.length-1:E,0),function(){for(var he=arguments,dt=-1,Vt=qo(he.length-E,0),gn=yn(Vt);++dt<Vt;)gn[dt]=he[E+dt];dt=-1;for(var On=yn(E+1);++dt<E;)On[dt]=he[dt];return On[E]=j(gn),Xi(h,this,On)}}function qb(h,E){return E.length<2?h:Ka(h,_l(E,0,-1))}function Ub(h,E){for(var j=h.length,he=Jo(E.length,j),dt=Fe(h);he--;){var Vt=E[he];h[he]=fp(Vt,j)?dt[Vt]:n}return h}function I9(h,E){if(!(E==="constructor"&&typeof h[E]=="function")&&E!="__proto__")return h[E]}var Rh=TN(Ou),pu=q0||function(h,E){return as.setTimeout(h,E)},$b=TN(R1);function bv(h,E,j){var he=E+"";return $b(h,Py(he,Uy(My(he),j)))}function TN(h){var E=0,j=0;return function(){var he=s0(),dt=ot-(he-j);if(j=he,dt>0){if(++E>=He)return arguments[0]}else E=0;return h.apply(n,arguments)}}function qy(h,E){var j=-1,he=h.length,dt=he-1;for(E=E===n?he:E;++j<E;){var Vt=Du(j,dt),gn=h[Vt];h[Vt]=h[j],h[j]=gn}return h.length=E,h}var Ev=wN(function(h){var E=[];return h.charCodeAt(0)===46&&E.push(""),h.replace(se,function(j,he,dt,Vt){E.push(dt?Vt.replace(ht,"$1"):he||j)}),E});function Nf(h){if(typeof h=="string"||Z0(h))return h;var E=h+"";return E=="0"&&1/h==-Mt?"-0":E}function jx(h){if(h!=null){try{return vr.call(h)}catch{}try{return h+""}catch{}}return""}function Uy(h,E){return Is(xe,function(j){var he="_."+j[0];E&j[1]&&!Ho(h,he)&&h.push(he)}),h.sort()}function FN(h){if(h instanceof Qr)return h.clone();var E=new Li(h.__wrapped__,h.__chain__);return E.__actions__=Fe(h.__actions__),E.__index__=h.__index__,E.__values__=h.__values__,E}function zb(h,E,j){(j?Of(h,E,j):E===n)?E=1:E=qo(Xs(E),0);var he=h==null?0:h.length;if(!he||E<1)return[];for(var dt=0,Vt=0,gn=yn(U0(he/E));dt<he;)gn[Vt++]=_l(h,dt,dt+=E);return gn}function DN(h){for(var E=-1,j=h==null?0:h.length,he=0,dt=[];++E<j;){var Vt=h[E];Vt&&(dt[he++]=Vt)}return dt}function Sv(){var h=arguments.length;if(!h)return[];for(var E=yn(h-1),j=arguments[0],he=h;he--;)E[he-1]=arguments[he];return Do(Bs(j)?Fe(j):[j],Ua(E,1))}var ON=As(function(h,E){return Ru(h)?el(h,Ua(E,1,Ru,!0)):[]}),Cv=As(function(h,E){var j=zd(E);return Ru(j)&&(j=n),Ru(h)?el(h,Ua(E,1,Ru,!0),Fr(j,2)):[]}),NN=As(function(h,E){var j=zd(E);return Ru(j)&&(j=n),Ru(h)?el(h,Ua(E,1,Ru,!0),n,j):[]});function mV(h,E,j){var he=h==null?0:h.length;return he?(E=j||E===n?1:Xs(E),_l(h,E<0?0:E,he)):[]}function RN(h,E,j){var he=h==null?0:h.length;return he?(E=j||E===n?1:Xs(E),E=he-E,_l(h,0,E<0?0:E)):[]}function xV(h,E){return h&&h.length?Bd(h,Fr(E,3),!0,!0):[]}function LN(h,E){return h&&h.length?Bd(h,Fr(E,3),!0):[]}function mle(h,E,j,he){var dt=h==null?0:h.length;return dt?(j&&typeof j!="number"&&Of(h,E,j)&&(j=0,he=dt),Ch(h,E,j,he)):[]}function M9(h,E,j){var he=h==null?0:h.length;if(!he)return-1;var dt=j==null?0:Xs(j);return dt<0&&(dt=qo(he+dt,0)),sa(h,Fr(E,3),dt)}function dp(h,E,j){var he=h==null?0:h.length;if(!he)return-1;var dt=he-1;return j!==n&&(dt=Xs(j),dt=j<0?qo(he+dt,0):Jo(dt,he-1)),sa(h,Fr(E,3),dt,!0)}function wv(h){var E=h==null?0:h.length;return E?Ua(h,1):[]}function qx(h){var E=h==null?0:h.length;return E?Ua(h,Mt):[]}function kN(h,E){var j=h==null?0:h.length;return j?(E=E===n?1:Xs(E),Ua(h,E)):[]}function P9(h){for(var E=-1,j=h==null?0:h.length,he={};++E<j;){var dt=h[E];he[dt[0]]=dt[1]}return he}function Hb(h){return h&&h.length?h[0]:n}function IN(h,E,j){var he=h==null?0:h.length;if(!he)return-1;var dt=j==null?0:Xs(j);return dt<0&&(dt=qo(he+dt,0)),oa(h,E,dt)}function gV(h){var E=h==null?0:h.length;return E?_l(h,0,-1):[]}var yV=As(function(h){var E=Ii(h,Ix);return E.length&&E[0]===h[0]?sf(E):[]}),Vb=As(function(h){var E=zd(h),j=Ii(h,Ix);return E===zd(j)?E=n:j.pop(),j.length&&j[0]===h[0]?sf(j,Fr(E,2)):[]}),vV=As(function(h){var E=zd(h),j=Ii(h,Ix);return E=typeof E=="function"?E:n,E&&j.pop(),j.length&&j[0]===h[0]?sf(j,n,E):[]});function B9(h,E){return h==null?"":r0.call(h,E)}function zd(h){var E=h==null?0:h.length;return E?h[E-1]:n}function MN(h,E,j){var he=h==null?0:h.length;if(!he)return-1;var dt=he;return j!==n&&(dt=Xs(j),dt=dt<0?qo(he+dt,0):Jo(dt,he-1)),E===E?yi(h,E,dt):sa(h,Pl,dt,!0)}function _V(h,E){return h&&h.length?Lc(h,Xs(E)):n}var j9=As(Wb);function Wb(h,E){return h&&h.length&&E&&E.length?Ry(h,E):h}function q9(h,E,j){return h&&h.length&&E&&E.length?Ry(h,E,Fr(j,2)):h}function PN(h,E,j){return h&&h.length&&E&&E.length?Ry(h,E,n,j):h}var BN=c0(function(h,E){var j=h==null?0:h.length,he=Q0(h,E);return J0(h,Ii(E,function(dt){return fp(dt,j)?+dt:dt}).sort(T)),he});function Qb(h,E){var j=[];if(!(h&&h.length))return j;var he=-1,dt=[],Vt=h.length;for(E=Fr(E,3);++he<Vt;){var gn=h[he];E(gn,he,h)&&(j.push(gn),dt.push(he))}return J0(h,dt),j}function Gb(h){return h==null?h:Rd.call(h)}function Yb(h,E,j){var he=h==null?0:h.length;return he?(j&&typeof j!="number"&&Of(h,E,j)?(E=0,j=he):(E=E==null?0:Xs(E),j=j===n?he:Xs(j)),_l(h,E,j)):[]}function bV(h,E){return Pd(h,E)}function EV(h,E,j){return Nh(h,E,Fr(j,2))}function jN(h,E){var j=h==null?0:h.length;if(j){var he=Pd(h,E);if(he<j&&Hd(h[he],E))return he}return-1}function qN(h,E){return Pd(h,E,!0)}function UN(h,E,j){return Nh(h,E,Fr(j,2),!0)}function SV(h,E){var j=h==null?0:h.length;if(j){var he=Pd(h,E,!0)-1;if(Hd(h[he],E))return he}return-1}function U9(h){return h&&h.length?ky(h):[]}function CV(h,E){return h&&h.length?ky(h,Fr(E,2)):[]}function wV(h){var E=h==null?0:h.length;return E?_l(h,1,E):[]}function $N(h,E,j){return h&&h.length?(E=j||E===n?1:Xs(E),_l(h,0,E<0?0:E)):[]}function AV(h,E,j){var he=h==null?0:h.length;return he?(E=j||E===n?1:Xs(E),E=he-E,_l(h,E<0?0:E,he)):[]}function TV(h,E){return h&&h.length?Bd(h,Fr(E,3),!1,!0):[]}function FV(h,E){return h&&h.length?Bd(h,Fr(E,3)):[]}var DV=As(function(h){return Df(Ua(h,1,Ru,!0))}),zN=As(function(h){var E=zd(h);return Ru(E)&&(E=n),Df(Ua(h,1,Ru,!0),Fr(E,2))}),OV=As(function(h){var E=zd(h);return E=typeof E=="function"?E:n,Df(Ua(h,1,Ru,!0),n,E)});function HN(h){return h&&h.length?Df(h):[]}function $9(h,E){return h&&h.length?Df(h,Fr(E,2)):[]}function NV(h,E){return E=typeof E=="function"?E:n,h&&h.length?Df(h,n,E):[]}function z9(h){if(!(h&&h.length))return[];var E=0;return h=Ni(h,function(j){if(Ru(j))return E=qo(j.length,E),!0}),rs(E,function(j){return Ii(h,Ku(j))})}function H9(h,E){if(!(h&&h.length))return[];var j=z9(h);return E==null?j:Ii(j,function(he){return Xi(E,n,he)})}var VN=As(function(h,E){return Ru(h)?el(h,E):[]}),V9=As(function(h){return of(Ni(h,Ru))}),RV=As(function(h){var E=zd(h);return Ru(E)&&(E=n),of(Ni(h,Ru),Fr(E,2))}),LV=As(function(h){var E=zd(h);return E=typeof E=="function"?E:n,of(Ni(h,Ru),n,E)}),WN=As(z9);function QN(h,E){return kx(h||[],E||[],nf)}function kV(h,E){return kx(h||[],E||[],up)}var IV=As(function(h){var E=h.length,j=E>1?h[E-1]:n;return j=typeof j=="function"?(h.pop(),j):n,H9(h,j)});function MV(h){var E=tt(h);return E.__chain__=!0,E}function GN(h,E){return E(h),h}function Av(h,E){return E(h)}var PV=c0(function(h){var E=h.length,j=E?h[0]:0,he=this.__wrapped__,dt=function(Vt){return Q0(Vt,h)};return E>1||this.__actions__.length||!(he instanceof Qr)||!fp(j)?this.thru(dt):(he=he.slice(j,+j+(E?1:0)),he.__actions__.push({func:Av,args:[dt],thisArg:n}),new Li(he,this.__chain__).thru(function(Vt){return E&&!Vt.length&&Vt.push(n),Vt}))});function BV(){return MV(this)}function hp(){return new Li(this.value(),this.__chain__)}function jV(){this.__values__===n&&(this.__values__=yR(this.value()));var h=this.__index__>=this.__values__.length,E=h?n:this.__values__[this.__index__++];return{done:h,value:E}}function W9(){return this}function Q9(h){for(var E,j=this;j instanceof Wi;){var he=FN(j);he.__index__=0,he.__values__=n,E?dt.__wrapped__=he:E=he;var dt=he;j=j.__wrapped__}return dt.__wrapped__=h,E}function G9(){var h=this.__wrapped__;if(h instanceof Qr){var E=h;return this.__actions__.length&&(E=new Qr(this)),E=E.reverse(),E.__actions__.push({func:Av,args:[Gb],thisArg:n}),new Li(E,this.__chain__)}return this.thru(Gb)}function YN(){return I1(this.__wrapped__,this.__actions__)}var qV=_n(function(h,E,j){fr.call(h,j)?++h[j]:Zu(h,j,1)});function Y9(h,E,j){var he=Bs(h)?ia:Id;return j&&Of(h,E,j)&&(E=n),he(h,Fr(E,3))}function Kb(h,E){var j=Bs(h)?Ni:ip;return j(h,Fr(E,3))}var K9=Fs(M9),KN=Fs(dp);function pp(h,E){return Ua(Tv(h,E),1)}function JN(h,E){return Ua(Tv(h,E),Mt)}function XN(h,E,j){return j=j===n?1:Xs(j),Ua(Tv(h,E),j)}function UV(h,E){var j=Bs(h)?Is:Rc;return j(h,Fr(E,3))}function ZN(h,E){var j=Bs(h)?ha:Sh;return j(h,Fr(E,3))}var $V=_n(function(h,E,j){fr.call(h,j)?h[j].push(E):Zu(h,j,[E])});function J9(h,E,j,he){h=f0(h)?h:Qy(h),j=j&&!he?Xs(j):0;var dt=h.length;return j<0&&(j=qo(dt+j,0)),Nv(h)?j<=dt&&h.indexOf(E,j)>-1:!!dt&&oa(h,E,j)>-1}var Jb=As(function(h,E,j){var he=-1,dt=typeof E=="function",Vt=f0(h)?yn(h.length):[];return Rc(h,function(gn){Vt[++he]=dt?Xi(E,gn,j):Fu(gn,E,j)}),Vt}),Xb=_n(function(h,E,j){Zu(h,j,E)});function Tv(h,E){var j=Bs(h)?Ii:ur;return j(h,Fr(E,3))}function xle(h,E,j,he){return h==null?[]:(Bs(E)||(E=E==null?[]:[E]),j=he?n:j,Bs(j)||(j=j==null?[]:[j]),Tf(h,E,j))}var zV=_n(function(h,E,j){h[j?0:1].push(E)},function(){return[[],[]]});function B1(h,E,j){var he=Bs(h)?Oa:ns,dt=arguments.length<3;return he(h,Fr(E,4),j,dt,Rc)}function eR(h,E,j){var he=Bs(h)?Ga:ns,dt=arguments.length<3;return he(h,Fr(E,4),j,dt,Sh)}function tR(h,E){var j=Bs(h)?Ni:ip;return j(h,eE(Fr(E,3)))}function HV(h){var E=Bs(h)?tf:a0;return E(h)}function VV(h,E,j){(j?Of(h,E,j):E===n)?E=1:E=Xs(E);var he=Bs(h)?Rx:vl;return he(h,E)}function WV(h){var E=Bs(h)?Lx:L1;return E(h)}function nR(h){if(h==null)return 0;if(f0(h))return Nv(h)?gi(h):h.length;var E=bo(h);return E==Ee||E==Ge?h.size:Me(h).length}function QV(h,E,j){var he=Bs(h)?Oo:Ly;return j&&Of(h,E,j)&&(E=n),he(h,Fr(E,3))}var GV=As(function(h,E){if(h==null)return[];var j=E.length;return j>1&&Of(h,E[0],E[1])?E=[]:j>2&&Of(E[0],E[1],E[2])&&(E=[E[0]]),Tf(h,Ua(E,1),[])}),Fv=_h||function(){return as.Date.now()};function YV(h,E){if(typeof E!="function")throw new ue(i);return h=Xs(h),function(){if(--h<1)return E.apply(this,arguments)}}function rR(h,E,j){return E=j?n:E,E=h&&E==null?h.length:E,nl(h,ae,n,n,n,n,E)}function iR(h,E){var j;if(typeof E!="function")throw new ue(i);return h=Xs(h),function(){return--h>0&&(j=E.apply(this,arguments)),h<=1&&(E=n),j}}var X9=As(function(h,E,j){var he=R;if(j.length){var dt=pi(j,P1(X9));he|=M}return nl(h,he,E,j,dt)}),sR=As(function(h,E,j){var he=R|U;if(j.length){var dt=pi(j,P1(sR));he|=M}return nl(E,he,h,j,dt)});function oR(h,E,j){E=j?n:E;var he=nl(h,P,n,n,n,n,n,E);return he.placeholder=oR.placeholder,he}function Dv(h,E,j){E=j?n:E;var he=nl(h,$,n,n,n,n,n,E);return he.placeholder=Dv.placeholder,he}function aR(h,E,j){var he,dt,Vt,gn,On,Wn,Sr=0,Tr=!1,Pr=!1,Ci=!0;if(typeof h!="function")throw new ue(i);E=il(E)||0,Xa(j)&&(Tr=!!j.leading,Pr="maxWait"in j,Vt=Pr?qo(il(j.maxWait)||0,E):Vt,Ci="trailing"in j?!!j.trailing:Ci);function Ki(Iu){var nd=he,Wd=dt;return he=dt=n,Sr=Iu,gn=h.apply(Wd,nd),gn}function gs(Iu){return Sr=Iu,On=pu(Eo,E),Tr?Ki(Iu):gn}function po(Iu){var nd=Iu-Wn,Wd=Iu-Sr,Sw=E-nd;return Pr?Jo(Sw,Vt-Wd):Sw}function bs(Iu){var nd=Iu-Wn,Wd=Iu-Sr;return Wn===n||nd>=E||nd<0||Pr&&Wd>=Vt}function Eo(){var Iu=Fv();if(bs(Iu))return Io(Iu);On=pu(Eo,po(Iu))}function Io(Iu){return On=n,Ci&&he?Ki(Iu):(he=dt=n,gn)}function ed(){On!==n&&y(On),Sr=0,he=Wn=dt=On=n}function kf(){return On===n?gn:Io(Fv())}function td(){var Iu=Fv(),nd=bs(Iu);if(he=arguments,dt=this,Wn=Iu,nd){if(On===n)return gs(Wn);if(Pr)return y(On),On=pu(Eo,E),Ki(Wn)}return On===n&&(On=pu(Eo,E)),gn}return td.cancel=ed,td.flush=kf,td}var KV=As(function(h,E){return N1(h,1,E)}),Z9=As(function(h,E,j){return N1(h,il(E)||0,j)});function JV(h){return nl(h,Z)}function Zb(h,E){if(typeof h!="function"||E!=null&&typeof E!="function")throw new ue(i);var j=function(){var he=arguments,dt=E?E.apply(this,he):he[0],Vt=j.cache;if(Vt.has(dt))return Vt.get(dt);var gn=h.apply(this,he);return j.cache=Vt.set(dt,gn)||Vt,gn};return j.cache=new(Zb.Cache||Oc),j}Zb.Cache=Oc;function eE(h){if(typeof h!="function")throw new ue(i);return function(){var E=arguments;switch(E.length){case 0:return!h.call(this);case 1:return!h.call(this,E[0]);case 2:return!h.call(this,E[0],E[1]);case 3:return!h.call(this,E[0],E[1],E[2])}return!h.apply(this,E)}}function XV(h){return iR(2,h)}var $y=vv(function(h,E){E=E.length==1&&Bs(E[0])?Ii(E[0],Yt(Fr())):Ii(Ua(E,1),Yt(Fr()));var j=E.length;return As(function(he){for(var dt=-1,Vt=Jo(he.length,j);++dt<Vt;)he[dt]=E[dt].call(this,he[dt]);return Xi(h,this,he)})}),tE=As(function(h,E){var j=pi(E,P1(tE));return nl(h,M,n,E,j)}),uR=As(function(h,E){var j=pi(E,P1(uR));return nl(h,G,n,E,j)}),lR=c0(function(h,E){return nl(h,I,n,n,n,E)});function ZV(h,E){if(typeof h!="function")throw new ue(i);return E=E===n?E:Xs(E),As(h,E)}function eW(h,E){if(typeof h!="function")throw new ue(i);return E=E==null?0:qo(Xs(E),0),As(function(j){var he=j[E],dt=X0(j,0,E);return he&&Do(dt,he),Xi(h,this,dt)})}function ew(h,E,j){var he=!0,dt=!0;if(typeof h!="function")throw new ue(i);return Xa(j)&&(he="leading"in j?!!j.leading:he,dt="trailing"in j?!!j.trailing:dt),aR(h,E,{leading:he,maxWait:E,trailing:dt})}function cR(h){return rR(h,1)}function tW(h,E){return tE(sc(E),h)}function nW(){if(!arguments.length)return[];var h=arguments[0];return Bs(h)?h:[h]}function tw(h){return yl(h,b)}function nw(h,E){return E=typeof E=="function"?E:n,yl(h,b,E)}function fR(h){return yl(h,d|b)}function dR(h,E){return E=typeof E=="function"?E:n,yl(h,d|b,E)}function hR(h,E){return E==null||du(h,E,ku(E))}function Hd(h,E){return h===E||h!==h&&E!==E}var rW=_s(Fh),iW=_s(function(h,E){return h>=E}),U2=op(function(){return arguments}())?op:function(h){return Lu(h)&&fr.call(h,"callee")&&!e0.call(h,"callee")},Bs=yn.isArray,rw=Ko?Yt(Ko):tl;function f0(h){return h!=null&&nE(h.length)&&!j1(h)}function Ru(h){return Lu(h)&&f0(h)}function sW(h){return h===!0||h===!1||Lu(h)&&ga(h)==Et}var $2=Dc||cE,oW=la?Yt(la):Dh;function aW(h){return Lu(h)&&h.nodeType===1&&!zy(h)}function uW(h){if(h==null)return!0;if(f0(h)&&(Bs(h)||typeof h=="string"||typeof h.splice=="function"||$2(h)||Hy(h)||U2(h)))return!h.length;var E=bo(h);if(E==Ee||E==Ge)return!h.size;if(_v(h))return!Me(h).length;for(var j in h)if(fr.call(h,j))return!1;return!0}function lW(h,E){return Md(h,E)}function cW(h,E,j){j=typeof j=="function"?j:n;var he=j?j(h,E):n;return he===n?Md(h,E,n,j):!!he}function iw(h){if(!Lu(h))return!1;var E=ga(h);return E==kt||E==Lt||typeof h.message=="string"&&typeof h.name=="string"&&!zy(h)}function fW(h){return typeof h=="number"&&n0(h)}function j1(h){if(!Xa(h))return!1;var E=ga(h);return E==cn||E==wt||E==Qt||E==Xe}function pR(h){return typeof h=="number"&&h==Xs(h)}function nE(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=Ue}function Xa(h){var E=typeof h;return h!=null&&(E=="object"||E=="function")}function Lu(h){return h!=null&&typeof h=="object"}var mR=ca?Yt(ca):ap;function dW(h,E){return h===E||Af(h,E,_o(E))}function hW(h,E,j){return j=typeof j=="function"?j:n,Af(h,E,_o(E),j)}function pW(h){return sw(h)&&h!=+h}function mW(h){if(hV(h))throw new Ti(r);return K0(h)}function xW(h){return h===null}function xR(h){return h==null}function sw(h){return typeof h=="number"||Lu(h)&&ga(h)==Ie}function zy(h){if(!Lu(h)||ga(h)!=fe)return!1;var E=ec(h);if(E===null)return!0;var j=fr.call(E,"constructor")&&E.constructor;return typeof j=="function"&&j instanceof j&&vr.call(j)==io}var Ov=fo?Yt(fo):Ks;function ow(h){return pR(h)&&h>=-Ue&&h<=Ue}var aw=us?Yt(us):A;function Nv(h){return typeof h=="string"||!Bs(h)&&Lu(h)&&ga(h)==Ot}function Z0(h){return typeof h=="symbol"||Lu(h)&&ga(h)==Nt}var Hy=hs?Yt(hs):W;function gW(h){return h===n}function yW(h){return Lu(h)&&bo(h)==en}function gR(h){return Lu(h)&&ga(h)==Xt}var vW=_s(wn),_W=_s(function(h,E){return h<=E});function yR(h){if(!h)return[];if(f0(h))return Nv(h)?ss(h):Fe(h);if(t0&&h[t0])return Or(h[t0]());var E=bo(h),j=E==Ee?di:E==Ge?ii:Qy;return j(h)}function q1(h){if(!h)return h===0?h:0;if(h=il(h),h===Mt||h===-Mt){var E=h<0?-1:1;return E*te}return h===h?h:0}function Xs(h){var E=q1(h),j=E%1;return E===E?j?E-j:E:0}function mp(h){return h?wf(Xs(h),0,be):0}function il(h){if(typeof h=="number")return h;if(Z0(h))return st;if(Xa(h)){var E=typeof h.valueOf=="function"?h.valueOf():h;h=Xa(E)?E+"":E}if(typeof h!="string")return h===0?h:+h;h=pt(h);var j=Se.test(h);return j||nt.test(h)?Cs(h.slice(2),j?2:8):ne.test(h)?st:+h}function d0(h){return it(h,h0(h))}function vR(h){return h?wf(Xs(h),-Ue,Ue):h===0?h:0}function Vo(h){return h==null?"":bl(h)}var z2=kn(function(h,E){if(_v(E)||f0(E)){it(E,ku(E),h);return}for(var j in E)fr.call(E,j)&&nf(h,j,E[j])}),_R=kn(function(h,E){it(E,h0(E),h)}),U1=kn(function(h,E,j,he){it(E,h0(E),h,he)}),Rv=kn(function(h,E,j,he){it(E,ku(E),h,he)}),bR=c0(Q0);function H2(h,E){var j=Fi(h);return E==null?j:np(j,E)}var ER=As(function(h,E){h=zi(h);var j=-1,he=E.length,dt=he>2?E[2]:n;for(dt&&Of(E[0],E[1],dt)&&(he=1);++j<he;)for(var Vt=E[j],gn=h0(Vt),On=-1,Wn=gn.length;++On<Wn;){var Sr=gn[On],Tr=h[Sr];(Tr===n||Hd(Tr,An[Sr])&&!fr.call(h,Sr))&&(h[Sr]=Vt[Sr])}return h}),SR=As(function(h){return h.push(n,ya),Xi(fw,n,h)});function uw(h,E){return qa(h,Fr(E,3),La)}function Ia(h,E){return qa(h,Fr(E,3),Ah)}function Ux(h,E){return h==null?h:wh(h,Fr(E,3),h0)}function bW(h,E){return h==null?h:G0(h,Fr(E,3),h0)}function EW(h,E){return h&&La(h,Fr(E,3))}function SW(h,E){return h&&Ah(h,Fr(E,3))}function CW(h){return h==null?[]:Tu(h,ku(h))}function CR(h){return h==null?[]:Tu(h,h0(h))}function lw(h,E,j){var he=h==null?n:Ka(h,E);return he===n?j:he}function wW(h,E){return h!=null&&Rs(h,E,sp)}function Lv(h,E){return h!=null&&Rs(h,E,o0)}var va=xs(function(h,E,j){E!=null&&typeof E.toString!="function"&&(E=Ns.call(E)),h[E]=j},aE(Lf)),Rf=xs(function(h,E,j){E!=null&&typeof E.toString!="function"&&(E=Ns.call(E)),fr.call(h,E)?h[E].push(j):h[E]=[j]},Fr),xp=As(Fu);function ku(h){return f0(h)?W0(h):Me(h)}function h0(h){return f0(h)?W0(h,!0):_t(h)}function AW(h,E){var j={};return E=Fr(E,3),La(h,function(he,dt,Vt){Zu(j,E(he,dt,Vt),he)}),j}function V2(h,E){var j={};return E=Fr(E,3),La(h,function(he,dt,Vt){Zu(j,dt,E(he,dt,Vt))}),j}var cw=kn(function(h,E,j){so(h,E,j)}),fw=kn(function(h,E,j,he){so(h,E,j,he)}),Vy=c0(function(h,E){var j={};if(h==null)return j;var he=!1;E=Ii(E,function(Vt){return Vt=u0(Vt,h),he||(he=Vt.length>1),Vt}),it(h,Iy(h),j),he&&(j=yl(j,d|p|b,oc));for(var dt=E.length;dt--;)k1(j,E[dt]);return j});function dw(h,E){return wR(h,eE(Fr(E)))}var TW=c0(function(h,E){return h==null?{}:Bb(h,E)});function wR(h,E){if(h==null)return{};var j=Ii(Iy(h),function(he){return[he]});return E=Fr(E),Ny(h,j,function(he,dt){return E(he,dt[0])})}function AR(h,E,j){E=u0(E,h);var he=-1,dt=E.length;for(dt||(dt=1,h=n);++he<dt;){var Vt=h==null?n:h[Nf(E[he])];Vt===n&&(he=dt,Vt=j),h=j1(Vt)?Vt.call(h):Vt}return h}function FW(h,E,j){return h==null?h:up(h,E,j)}function Wy(h,E,j,he){return he=typeof he=="function"?he:n,h==null?h:up(h,E,j,he)}var rE=jd(ku),kv=jd(h0);function TR(h,E,j){var he=Bs(h),dt=he||$2(h)||Hy(h);if(E=Fr(E,4),j==null){var Vt=h&&h.constructor;dt?j=he?new Vt:[]:Xa(h)?j=j1(Vt)?Fi(ec(h)):{}:j={}}return(dt?Is:La)(h,function(gn,On,Wn){return E(j,gn,On,Wn)}),j}function FR(h,E){return h==null?!0:k1(h,E)}function DR(h,E,j){return h==null?h:lp(h,E,sc(j))}function DW(h,E,j,he){return he=typeof he=="function"?he:n,h==null?h:lp(h,E,sc(j),he)}function Qy(h){return h==null?[]:jt(h,ku(h))}function OW(h){return h==null?[]:jt(h,h0(h))}function uc(h,E,j){return j===n&&(j=E,E=n),j!==n&&(j=il(j),j=j===j?j:0),E!==n&&(E=il(E),E=E===E?E:0),wf(il(h),E,j)}function OR(h,E,j){return E=q1(E),j===n?(j=E,E=0):j=q1(j),h=il(h),Y0(h,E,j)}function NW(h,E,j){if(j&&typeof j!="boolean"&&Of(h,E,j)&&(E=j=n),j===n&&(typeof E=="boolean"?(j=E,E=n):typeof h=="boolean"&&(j=h,h=n)),h===n&&E===n?(h=0,E=1):(h=q1(h),E===n?(E=h,h=0):E=q1(E)),h>E){var he=h;h=E,E=he}if(j||h%1||E%1){var dt=Xc();return Jo(h+dt*(E-h+Xr("1e-"+((dt+"").length-1))),E)}return Du(h,E)}var Iv=Lr(function(h,E,j){return E=E.toLowerCase(),h+(j?kc(E):E)});function kc(h){return oE(Vo(h).toLowerCase())}function NR(h){return h=Vo(h),h&&h.replace(rn,br).replace(uu,"")}function hw(h,E,j){h=Vo(h),E=bl(E);var he=h.length;j=j===n?he:wf(Xs(j),0,he);var dt=j;return j-=E.length,j>=0&&h.slice(j,dt)==E}function RW(h){return h=Vo(h),h&&Qn.test(h)?h.replace(Wt,wr):h}function LW(h){return h=Vo(h),h&&et.test(h)?h.replace(Pe,"\\$&"):h}var RR=Lr(function(h,E,j){return h+(j?"-":"")+E.toLowerCase()}),iE=Lr(function(h,E,j){return h+(j?" ":"")+E.toLowerCase()}),LR=Kr("toLowerCase");function kW(h,E,j){h=Vo(h),E=Xs(E);var he=E?gi(h):0;if(!E||he>=E)return h;var dt=(E-he)/2;return ka(Jc(dt),j)+h+ka(U0(dt),j)}function IW(h,E,j){h=Vo(h),E=Xs(E);var he=E?gi(h):0;return E&&he<E?h+ka(E-he,j):h}function sE(h,E,j){h=Vo(h),E=Xs(E);var he=E?gi(h):0;return E&&he<E?ka(E-he,j)+h:h}function W2(h,E,j){return j||E==null?E=0:E&&(E=+E),pl(Vo(h).replace(At,""),E||0)}function MW(h,E,j){return(j?Of(h,E,j):E===n)?E=1:E=Xs(E),Oh(Vo(h),E)}function PW(){var h=arguments,E=Vo(h[0]);return h.length<3?E:E.replace(h[1],h[2])}var Mv=Lr(function(h,E,j){return h+(j?"_":"")+E.toLowerCase()});function BW(h,E,j){return j&&typeof j!="number"&&Of(h,E,j)&&(E=j=n),j=j===n?be:j>>>0,j?(h=Vo(h),h&&(typeof E=="string"||E!=null&&!Ov(E))&&(E=bl(E),!E&&er(h))?X0(ss(h),0,j):h.split(E,j)):[]}var kR=Lr(function(h,E,j){return h+(j?" ":"")+oE(E)});function jW(h,E,j){return h=Vo(h),j=j==null?0:wf(Xs(j),0,h.length),E=bl(E),h.slice(j,j+E.length)==E}function Vd(h,E,j){var he=tt.templateSettings;j&&Of(h,E,j)&&(E=n),h=Vo(h),E=U1({},E,he,l0);var dt=U1({},E.imports,he.imports,l0),Vt=ku(dt),gn=jt(dt,Vt),On,Wn,Sr=0,Tr=E.interpolate||Sn,Pr="__p += '",Ci=cs((E.escape||Sn).source+"|"+Tr.source+"|"+(Tr===or?vt:Sn).source+"|"+(E.evaluate||Sn).source+"|$","g"),Ki="//# sourceURL="+(fr.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gc+"]")+`
`;h.replace(Ci,function(bs,Eo,Io,ed,kf,td){return Io||(Io=ed),Pr+=h.slice(Sr,td).replace(vn,Gn),Eo&&(On=!0,Pr+=`' +
__e(`+Eo+`) +
'`),kf&&(Wn=!0,Pr+=`';
`+kf+`;
__p += '`),Io&&(Pr+=`' +
((__t = (`+Io+`)) == null ? '' : __t) +
'`),Sr=td+bs.length,bs}),Pr+=`';
`;var gs=fr.call(E,"variable")&&E.variable;if(!gs)Pr=`with (obj) {
`+Pr+`
}
`;else if(je.test(gs))throw new Ti(s);Pr=(Wn?Pr.replace(qt,""):Pr).replace(yt,"$1").replace(mt,"$1;"),Pr="function("+(gs||"obj")+`) {
`+(gs?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(On?", __e = _.escape":"")+(Wn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pr+`return __p
}`;var po=xw(function(){return ts(Vt,Ki+"return "+Pr).apply(n,gn)});if(po.source=Pr,iw(po))throw po;return po}function IR(h){return Vo(h).toLowerCase()}function qW(h){return Vo(h).toUpperCase()}function UW(h,E,j){if(h=Vo(h),h&&(j||E===n))return pt(h);if(!h||!(E=bl(E)))return h;var he=ss(h),dt=ss(E),Vt=Nn(he,dt),gn=Kn(he,dt)+1;return X0(he,Vt,gn).join("")}function pw(h,E,j){if(h=Vo(h),h&&(j||E===n))return h.slice(0,ms(h)+1);if(!h||!(E=bl(E)))return h;var he=ss(h),dt=Kn(he,ss(E))+1;return X0(he,0,dt).join("")}function $W(h,E,j){if(h=Vo(h),h&&(j||E===n))return h.replace(At,"");if(!h||!(E=bl(E)))return h;var he=ss(h),dt=Nn(he,ss(E));return X0(he,dt).join("")}function MR(h,E){var j=me,he=ye;if(Xa(E)){var dt="separator"in E?E.separator:dt;j="length"in E?Xs(E.length):j,he="omission"in E?bl(E.omission):he}h=Vo(h);var Vt=h.length;if(er(h)){var gn=ss(h);Vt=gn.length}if(j>=Vt)return h;var On=j-gi(he);if(On<1)return he;var Wn=gn?X0(gn,0,On).join(""):h.slice(0,On);if(dt===n)return Wn+he;if(gn&&(On+=Wn.length-On),Ov(dt)){if(h.slice(On).search(dt)){var Sr,Tr=Wn;for(dt.global||(dt=cs(dt.source,Vo(Ft.exec(dt))+"g")),dt.lastIndex=0;Sr=dt.exec(Tr);)var Pr=Sr.index;Wn=Wn.slice(0,Pr===n?On:Pr)}}else if(h.indexOf(bl(dt),On)!=On){var Ci=Wn.lastIndexOf(dt);Ci>-1&&(Wn=Wn.slice(0,Ci))}return Wn+he}function mw(h){return h=Vo(h),h&&Fn.test(h)?h.replace(nn,vi):h}var PR=Lr(function(h,E,j){return h+(j?" ":"")+E.toUpperCase()}),oE=Kr("toUpperCase");function Pv(h,E,j){return h=Vo(h),E=j?n:E,E===n?gr(h)?pa(h):cu(h):h.match(E)||[]}var xw=As(function(h,E){try{return Xi(h,n,E)}catch(j){return iw(j)?j:new Ti(j)}}),zW=c0(function(h,E){return Is(E,function(j){j=Nf(j),Zu(h,j,X9(h[j],h))}),h});function BR(h){var E=h==null?0:h.length,j=Fr();return h=E?Ii(h,function(he){if(typeof he[1]!="function")throw new ue(i);return[j(he[0]),he[1]]}):[],As(function(he){for(var dt=-1;++dt<E;){var Vt=h[dt];if(Xi(Vt[0],this,he))return Xi(Vt[1],this,he)}})}function HW(h){return rp(yl(h,d))}function aE(h){return function(){return h}}function jR(h,E){return h==null||h!==h?E:h}var VW=fs(),qR=fs(!0);function Lf(h){return h}function uE(h){return ce(typeof h=="function"?h:yl(h,d))}function WW(h){return Ui(yl(h,d))}function UR(h,E){return Pi(h,yl(E,d))}var $x=As(function(h,E){return function(j){return Fu(j,h,E)}}),Q2=As(function(h,E){return function(j){return Fu(h,j,E)}});function gw(h,E,j){var he=ku(E),dt=Tu(E,he);j==null&&!(Xa(E)&&(dt.length||!he.length))&&(j=E,E=h,h=this,dt=Tu(E,ku(E)));var Vt=!(Xa(j)&&"chain"in j)||!!j.chain,gn=j1(h);return Is(dt,function(On){var Wn=E[On];h[On]=Wn,gn&&(h.prototype[On]=function(){var Sr=this.__chain__;if(Vt||Sr){var Tr=h(this.__wrapped__),Pr=Tr.__actions__=Fe(this.__actions__);return Pr.push({func:Wn,args:arguments,thisArg:h}),Tr.__chain__=Sr,Tr}return Wn.apply(h,Do([this.value()],arguments))})}),h}function $R(){return as._===this&&(as._=Ya),this}function Gy(){}function QW(h){return h=Xs(h),As(function(E){return Lc(E,h)})}var Yy=Yi(Ii),yw=Yi(ia),zR=Yi(Oo);function lE(h){return L9(h)?Ku(Nf(h)):gv(h)}function HR(h){return function(E){return h==null?n:Ka(h,E)}}var VR=Nu(),Ky=Nu(!0);function vw(){return[]}function cE(){return!1}function WR(){return{}}function GW(){return""}function fE(){return!0}function YW(h,E){if(h=Xs(h),h<1||h>Ue)return[];var j=be,he=Jo(h,be);E=Fr(E),h-=be;for(var dt=rs(he,E);++j<h;)E(j);return dt}function _w(h){return Bs(h)?Ii(h,Nf):Z0(h)?[h]:Fe(Ev(Vo(h)))}function Bv(h){var E=++Zi;return Vo(h)+E}var QR=Gr(function(h,E){return h+E},0),KW=$a("ceil"),GR=Gr(function(h,E){return h/E},1),JW=$a("floor");function XW(h){return h&&h.length?rf(h,Lf,Fh):n}function bw(h,E){return h&&h.length?rf(h,Fr(E,2),Fh):n}function YR(h){return ea(h,Lf)}function ZW(h,E){return ea(h,Fr(E,2))}function eQ(h){return h&&h.length?rf(h,Lf,wn):n}function tQ(h,E){return h&&h.length?rf(h,Fr(E,2),wn):n}var Ew=Gr(function(h,E){return h*E},1),KR=$a("round"),JR=Gr(function(h,E){return h-E},0);function nQ(h){return h&&h.length?pr(h,Lf):0}function rQ(h,E){return h&&h.length?pr(h,Fr(E,2)):0}return tt.after=YV,tt.ary=rR,tt.assign=z2,tt.assignIn=_R,tt.assignInWith=U1,tt.assignWith=Rv,tt.at=bR,tt.before=iR,tt.bind=X9,tt.bindAll=zW,tt.bindKey=sR,tt.castArray=nW,tt.chain=MV,tt.chunk=zb,tt.compact=DN,tt.concat=Sv,tt.cond=BR,tt.conforms=HW,tt.constant=aE,tt.countBy=qV,tt.create=H2,tt.curry=oR,tt.curryRight=Dv,tt.debounce=aR,tt.defaults=ER,tt.defaultsDeep=SR,tt.defer=KV,tt.delay=Z9,tt.difference=ON,tt.differenceBy=Cv,tt.differenceWith=NN,tt.drop=mV,tt.dropRight=RN,tt.dropRightWhile=xV,tt.dropWhile=LN,tt.fill=mle,tt.filter=Kb,tt.flatMap=pp,tt.flatMapDeep=JN,tt.flatMapDepth=XN,tt.flatten=wv,tt.flattenDeep=qx,tt.flattenDepth=kN,tt.flip=JV,tt.flow=VW,tt.flowRight=qR,tt.fromPairs=P9,tt.functions=CW,tt.functionsIn=CR,tt.groupBy=$V,tt.initial=gV,tt.intersection=yV,tt.intersectionBy=Vb,tt.intersectionWith=vV,tt.invert=va,tt.invertBy=Rf,tt.invokeMap=Jb,tt.iteratee=uE,tt.keyBy=Xb,tt.keys=ku,tt.keysIn=h0,tt.map=Tv,tt.mapKeys=AW,tt.mapValues=V2,tt.matches=WW,tt.matchesProperty=UR,tt.memoize=Zb,tt.merge=cw,tt.mergeWith=fw,tt.method=$x,tt.methodOf=Q2,tt.mixin=gw,tt.negate=eE,tt.nthArg=QW,tt.omit=Vy,tt.omitBy=dw,tt.once=XV,tt.orderBy=xle,tt.over=Yy,tt.overArgs=$y,tt.overEvery=yw,tt.overSome=zR,tt.partial=tE,tt.partialRight=uR,tt.partition=zV,tt.pick=TW,tt.pickBy=wR,tt.property=lE,tt.propertyOf=HR,tt.pull=j9,tt.pullAll=Wb,tt.pullAllBy=q9,tt.pullAllWith=PN,tt.pullAt=BN,tt.range=VR,tt.rangeRight=Ky,tt.rearg=lR,tt.reject=tR,tt.remove=Qb,tt.rest=ZV,tt.reverse=Gb,tt.sampleSize=VV,tt.set=FW,tt.setWith=Wy,tt.shuffle=WV,tt.slice=Yb,tt.sortBy=GV,tt.sortedUniq=U9,tt.sortedUniqBy=CV,tt.split=BW,tt.spread=eW,tt.tail=wV,tt.take=$N,tt.takeRight=AV,tt.takeRightWhile=TV,tt.takeWhile=FV,tt.tap=GN,tt.throttle=ew,tt.thru=Av,tt.toArray=yR,tt.toPairs=rE,tt.toPairsIn=kv,tt.toPath=_w,tt.toPlainObject=d0,tt.transform=TR,tt.unary=cR,tt.union=DV,tt.unionBy=zN,tt.unionWith=OV,tt.uniq=HN,tt.uniqBy=$9,tt.uniqWith=NV,tt.unset=FR,tt.unzip=z9,tt.unzipWith=H9,tt.update=DR,tt.updateWith=DW,tt.values=Qy,tt.valuesIn=OW,tt.without=VN,tt.words=Pv,tt.wrap=tW,tt.xor=V9,tt.xorBy=RV,tt.xorWith=LV,tt.zip=WN,tt.zipObject=QN,tt.zipObjectDeep=kV,tt.zipWith=IV,tt.entries=rE,tt.entriesIn=kv,tt.extend=_R,tt.extendWith=U1,gw(tt,tt),tt.add=QR,tt.attempt=xw,tt.camelCase=Iv,tt.capitalize=kc,tt.ceil=KW,tt.clamp=uc,tt.clone=tw,tt.cloneDeep=fR,tt.cloneDeepWith=dR,tt.cloneWith=nw,tt.conformsTo=hR,tt.deburr=NR,tt.defaultTo=jR,tt.divide=GR,tt.endsWith=hw,tt.eq=Hd,tt.escape=RW,tt.escapeRegExp=LW,tt.every=Y9,tt.find=K9,tt.findIndex=M9,tt.findKey=uw,tt.findLast=KN,tt.findLastIndex=dp,tt.findLastKey=Ia,tt.floor=JW,tt.forEach=UV,tt.forEachRight=ZN,tt.forIn=Ux,tt.forInRight=bW,tt.forOwn=EW,tt.forOwnRight=SW,tt.get=lw,tt.gt=rW,tt.gte=iW,tt.has=wW,tt.hasIn=Lv,tt.head=Hb,tt.identity=Lf,tt.includes=J9,tt.indexOf=IN,tt.inRange=OR,tt.invoke=xp,tt.isArguments=U2,tt.isArray=Bs,tt.isArrayBuffer=rw,tt.isArrayLike=f0,tt.isArrayLikeObject=Ru,tt.isBoolean=sW,tt.isBuffer=$2,tt.isDate=oW,tt.isElement=aW,tt.isEmpty=uW,tt.isEqual=lW,tt.isEqualWith=cW,tt.isError=iw,tt.isFinite=fW,tt.isFunction=j1,tt.isInteger=pR,tt.isLength=nE,tt.isMap=mR,tt.isMatch=dW,tt.isMatchWith=hW,tt.isNaN=pW,tt.isNative=mW,tt.isNil=xR,tt.isNull=xW,tt.isNumber=sw,tt.isObject=Xa,tt.isObjectLike=Lu,tt.isPlainObject=zy,tt.isRegExp=Ov,tt.isSafeInteger=ow,tt.isSet=aw,tt.isString=Nv,tt.isSymbol=Z0,tt.isTypedArray=Hy,tt.isUndefined=gW,tt.isWeakMap=yW,tt.isWeakSet=gR,tt.join=B9,tt.kebabCase=RR,tt.last=zd,tt.lastIndexOf=MN,tt.lowerCase=iE,tt.lowerFirst=LR,tt.lt=vW,tt.lte=_W,tt.max=XW,tt.maxBy=bw,tt.mean=YR,tt.meanBy=ZW,tt.min=eQ,tt.minBy=tQ,tt.stubArray=vw,tt.stubFalse=cE,tt.stubObject=WR,tt.stubString=GW,tt.stubTrue=fE,tt.multiply=Ew,tt.nth=_V,tt.noConflict=$R,tt.noop=Gy,tt.now=Fv,tt.pad=kW,tt.padEnd=IW,tt.padStart=sE,tt.parseInt=W2,tt.random=NW,tt.reduce=B1,tt.reduceRight=eR,tt.repeat=MW,tt.replace=PW,tt.result=AR,tt.round=KR,tt.runInContext=tn,tt.sample=HV,tt.size=nR,tt.snakeCase=Mv,tt.some=QV,tt.sortedIndex=bV,tt.sortedIndexBy=EV,tt.sortedIndexOf=jN,tt.sortedLastIndex=qN,tt.sortedLastIndexBy=UN,tt.sortedLastIndexOf=SV,tt.startCase=kR,tt.startsWith=jW,tt.subtract=JR,tt.sum=nQ,tt.sumBy=rQ,tt.template=Vd,tt.times=YW,tt.toFinite=q1,tt.toInteger=Xs,tt.toLength=mp,tt.toLower=IR,tt.toNumber=il,tt.toSafeInteger=vR,tt.toString=Vo,tt.toUpper=qW,tt.trim=UW,tt.trimEnd=pw,tt.trimStart=$W,tt.truncate=MR,tt.unescape=mw,tt.uniqueId=Bv,tt.upperCase=PR,tt.upperFirst=oE,tt.each=UV,tt.eachRight=ZN,tt.first=Hb,gw(tt,function(){var h={};return La(tt,function(E,j){fr.call(tt.prototype,j)||(h[j]=E)}),h}(),{chain:!1}),tt.VERSION=e,Is(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){tt[h].placeholder=tt}),Is(["drop","take"],function(h,E){Qr.prototype[h]=function(j){j=j===n?1:qo(Xs(j),0);var he=this.__filtered__&&!E?new Qr(this):this.clone();return he.__filtered__?he.__takeCount__=Jo(j,he.__takeCount__):he.__views__.push({size:Jo(j,be),type:h+(he.__dir__<0?"Right":"")}),he},Qr.prototype[h+"Right"]=function(j){return this.reverse()[h](j).reverse()}}),Is(["filter","map","takeWhile"],function(h,E){var j=E+1,he=j==at||j==Tt;Qr.prototype[h]=function(dt){var Vt=this.clone();return Vt.__iteratees__.push({iteratee:Fr(dt,3),type:j}),Vt.__filtered__=Vt.__filtered__||he,Vt}}),Is(["head","last"],function(h,E){var j="take"+(E?"Right":"");Qr.prototype[h]=function(){return this[j](1).value()[0]}}),Is(["initial","tail"],function(h,E){var j="drop"+(E?"":"Right");Qr.prototype[h]=function(){return this.__filtered__?new Qr(this):this[j](1)}}),Qr.prototype.compact=function(){return this.filter(Lf)},Qr.prototype.find=function(h){return this.filter(h).head()},Qr.prototype.findLast=function(h){return this.reverse().find(h)},Qr.prototype.invokeMap=As(function(h,E){return typeof h=="function"?new Qr(this):this.map(function(j){return Fu(j,h,E)})}),Qr.prototype.reject=function(h){return this.filter(eE(Fr(h)))},Qr.prototype.slice=function(h,E){h=Xs(h);var j=this;return j.__filtered__&&(h>0||E<0)?new Qr(j):(h<0?j=j.takeRight(-h):h&&(j=j.drop(h)),E!==n&&(E=Xs(E),j=E<0?j.dropRight(-E):j.take(E-h)),j)},Qr.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Qr.prototype.toArray=function(){return this.take(be)},La(Qr.prototype,function(h,E){var j=/^(?:filter|find|map|reject)|While$/.test(E),he=/^(?:head|last)$/.test(E),dt=tt[he?"take"+(E=="last"?"Right":""):E],Vt=he||/^find/.test(E);!dt||(tt.prototype[E]=function(){var gn=this.__wrapped__,On=he?[1]:arguments,Wn=gn instanceof Qr,Sr=On[0],Tr=Wn||Bs(gn),Pr=function(Eo){var Io=dt.apply(tt,Do([Eo],On));return he&&Ci?Io[0]:Io};Tr&&j&&typeof Sr=="function"&&Sr.length!=1&&(Wn=Tr=!1);var Ci=this.__chain__,Ki=!!this.__actions__.length,gs=Vt&&!Ci,po=Wn&&!Ki;if(!Vt&&Tr){gn=po?gn:new Qr(this);var bs=h.apply(gn,On);return bs.__actions__.push({func:Av,args:[Pr],thisArg:n}),new Li(bs,Ci)}return gs&&po?h.apply(this,On):(bs=this.thru(Pr),gs?he?bs.value()[0]:bs.value():bs)})}),Is(["pop","push","shift","sort","splice","unshift"],function(h){var E=ut[h],j=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",he=/^(?:pop|shift)$/.test(h);tt.prototype[h]=function(){var dt=arguments;if(he&&!this.__chain__){var Vt=this.value();return E.apply(Bs(Vt)?Vt:[],dt)}return this[j](function(gn){return E.apply(Bs(gn)?gn:[],dt)})}}),La(Qr.prototype,function(h,E){var j=tt[E];if(j){var he=j.name+"";fr.call(X,he)||(X[he]=[]),X[he].push({name:E,func:j})}}),X[Js(n,U).name]=[{name:"wrapper",func:n}],Qr.prototype.clone=Qs,Qr.prototype.reverse=Uo,Qr.prototype.value=ma,tt.prototype.at=PV,tt.prototype.chain=BV,tt.prototype.commit=hp,tt.prototype.next=jV,tt.prototype.plant=Q9,tt.prototype.reverse=G9,tt.prototype.toJSON=tt.prototype.valueOf=tt.prototype.value=YN,tt.prototype.first=tt.prototype.head,t0&&(tt.prototype[t0]=W9),tt},ws=No();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(as._=ws,define(function(){return ws})):co?((co.exports=ws)._=ws,ro._=ws):as._=ws}).call(Y7)});var KT=we(c4=>{"use strict";m();Object.defineProperty(c4,"__esModule",{value:!0});c4.AndChain=c4.generateSQLStringLiteral=c4.indent=void 0;function bJe(n){let e=/(^|\n)/g,t=/\n {2}$/;return n.replace(e,"$1  ").replace(t,`
`)}c4.indent=bJe;function EJe(n){return`'${n.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`}c4.generateSQLStringLiteral=EJe;var XP=class{constructor(e){this.clauses=[],e&&this.clauses.push(e)}clone(){let e=new XP;return e.addChain(this),e}add(e){return this.clauses.push(e),this}addChain(e){return this.clauses.push(...e.clauses),this}empty(){return this.clauses.length===0}present(){return this.clauses.length>0}sqlOr(){return this.empty()?"":this.clauses.map(e=>`(${e})`).join("OR ")+`
`}sql(e){if(this.empty())return"";let t="",r="";return e&&(t=e.toUpperCase()+" ",r=`
`),this.clauses.length===1?t+this.clauses[0]+r:t+this.clauses.map(i=>`(${i})`).join(`
AND `)+r}};c4.AndChain=XP});var JT=we(ZP=>{"use strict";m();Object.defineProperty(ZP,"__esModule",{value:!0});ZP.Dialect=void 0;var $ye=r2(),zye=class{sqlFinalStage(e,t){throw new Error("Dialect has no final Stage but called Anyway")}sqlDateToString(e){return`CAST(DATE(${e}) AS ${this.stringTypeName} )`}ignoreInProject(e){return!1}getFunctionInfo(e){return this.functionInfo[e.toLowerCase()]}dialectExpr(e){switch(e.function){case"now":return this.sqlNow();case"timeDiff":return this.sqlMeasureTime(e.left,e.right,e.units);case"delta":return this.sqlAlterTime(e.op,e.base,e.delta,e.units);case"trunc":return this.sqlTrunc(e.expr,e.units);case"extract":return this.sqlExtract(e.expr,e.units);case"cast":return this.sqlCast(e);case"regexpMatch":return this.sqlRegexpMatch(e.expr,e.regexp);case"div":return this.divisionIsInteger?(0,$ye.mkExpr)`${e.numerator}*1.0/${e.denominator}`:(0,$ye.mkExpr)`${e.numerator}/${e.denominator}`;case"timeLiteral":return[this.sqlLiteralTime(e.literal,e.literalType,e.timezone)]}}sqlSumDistinct(e,t){return"sqlSumDistinct called bu not implemented"}sqlSampleTable(e,t){if(t!==void 0)throw new Error(`Sampling is not supported on dialect ${this.name}.`);return e}sqlOrderBy(e){return`ORDER BY ${e.join(",")}`}};ZP.Dialect=zye});var tB=we(eB=>{"use strict";m();Object.defineProperty(eB,"__esModule",{value:!0});eB.StandardSQLDialect=void 0;var Hye=KT(),al=K7(),SJe=JT(),CJe={number:"float64"},wJe=["microsecond","millisecond","second","minute","hour","day"],AJe={day_of_week:"dayofweek",day_of_year:"dayofyear"},Vye=class extends SJe.Dialect{constructor(){super(...arguments);this.name="standardsql",this.defaultNumberType="FLOAT64",this.udfPrefix="__udf",this.hasFinalStage=!1,this.stringTypeName="STRING",this.divisionIsInteger=!1,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={enable:!1},this.supportUnnestArrayAgg=!1,this.supportsCTEinCoorelatedSubQueries=!1,this.functionInfo={timestamp_seconds:{returnType:"timestamp"},concat:{returnType:"string"}},this.keywords=`
  ALL
  AND
  ANY
  ARRAY
  AS
  ASC
  ASSERT_ROWS_MODIFIED
  AT
  BETWEEN
  BY
  CASE
  CAST
  COLLATE
  CONTAINS
  CREATE
  CROSS
  CUBE
  CURRENT
  DEFAULT
  DEFINE
  DESC
  DISTINCT
  ELSE
  END
  ENUM
  ESCAPE
  EXCEPT
  EXCLUDE
  EXISTS
  EXTRACT
  FALSE
  FETCH
  FOLLOWING
  FOR
  FROM
  FULL
  GROUP
  GROUPING
  GROUPS
  HASH
  HAVING
  IF
  IGNORE
  IN
  INNER
  INTERSECT
  INTERVAL
  INTO
  IS
  JOIN
  LATERAL
  LEFT
  LIKE
  LIMIT
  LOOKUP
  MERGE
  NATURAL
  NEW
  NO
  NOT
  NULL
  NULLS
  OF
  ON
  OR
  ORDER
  OUTER
  OVER
  PARTITION
  PRECEDING
  PROTO
  RANGE
  RECURSIVE
  RESPECT
  RIGHT
  ROLLUP
  ROWS
  SELECT
  SET
  SOME
  STRUCT
  TABLESAMPLE
  THEN
  TO
  TREAT
  TRUE
  UNBOUNDED
  UNION
  UNNEST
  USING
  WHEN
  WHERE
  WINDOW
  WITH
  WITHIN`.split(/\s/)}quoteTablePath(e){return`\`${e}\``}sqlGroupSetTable(e){return`CROSS JOIN (SELECT row_number() OVER() -1  group_set FROM UNNEST(GENERATE_ARRAY(0,${e},1)))`}sqlAnyValue(e,t){return`ANY_VALUE(CASE WHEN group_set=${e} THEN ${t} END)`}sqlAggregateTurtle(e,t,r,i){let s="";i!==void 0&&(s+=` LIMIT ${i}`);let o=t.map(a=>`
  ${a.sqlExpression} as ${a.sqlOutputName}`).join(", ");return`ARRAY_AGG(CASE WHEN group_set=${e} THEN STRUCT(${o}
  ) END IGNORE NULLS ${r} ${s})`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`ANY_VALUE(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlExpression} as ${s.sqlOutputName}`).join(", "),i=t.map(s=>`NULL as ${s.sqlOutputName}`).join(", ");return`COALESCE(ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}) END), STRUCT(${i}))`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, value FROM UNNEST(${e}) value))) as ${t}`:`LEFT JOIN UNNEST(ARRAY((SELECT AS STRUCT value FROM unnest(${e}) value))) as ${t}`:i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, * FROM UNNEST(${e})))) as ${t}`:`LEFT JOIN UNNEST(${e}) as ${t}`}sqlSumDistinctHashedKey(e){e=`CAST(${e} AS STRING)`;let t=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 1, 15)) as int64) as numeric) * 4294967296`,r=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 16, 8)) as int64) as numeric)`;return`(${t} + ${r}) * 0.000000001`}sqlGenerateUUID(){return"GENERATE_UUID()"}sqlFieldReference(e,t,r,i,s){return`${e}.${t}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`UNNEST(${r})`}sqlCreateFunction(e,t){return`CREATE TEMPORARY FUNCTION ${e}(__param ANY TYPE) AS ((
${(0,Hye.indent)(t)}));
`}sqlCreateTableAsSelect(e,t){return`
CREATE TABLE IF NOT EXISTS \`${e}\`
OPTIONS (
    expiration_timestamp=TIMESTAMP_ADD(current_timestamp(),  INTERVAL 1 hour)
)
AS (
${(0,Hye.indent)(t)}
);
`}sqlCreateFunctionCombineLastStage(e){return`SELECT ARRAY((SELECT AS STRUCT * FROM ${e}))
`}sqlSelectAliasAsStruct(e){return`(SELECT AS STRUCT ${e}.*)`}sqlMaybeQuoteIdentifier(e){return this.keywords.indexOf(e.toUpperCase())>0?"`"+e+"`":e}sqlNow(){return(0,al.mkExpr)`CURRENT_TIMESTAMP()`}sqlTrunc(e,t){return e.valueType=="date"?(0,al.isDateUnit)(t)?(0,al.mkExpr)`DATE_TRUNC(${e.value},${t})`:(0,al.mkExpr)`TIMESTAMP(${e.value})`:(0,al.mkExpr)`TIMESTAMP_TRUNC(${e.value},${t})`}sqlExtract(e,t){let r=AJe[t]||t;return(0,al.mkExpr)`EXTRACT(${r} FROM ${e.value})`}sqlAlterTime(e,t,r,i){let s=t.value,o=t.valueType;i!="day"&&wJe.includes(i)?(o="timestamp",t.valueType!="timestamp"&&(s=(0,al.mkExpr)`TIMESTAMP(${s})`)):t.valueType=="timestamp"&&(s=(0,al.mkExpr)`DATETIME(${s})`,o="datetime");let a=o.toUpperCase()+(e=="+"?"_ADD":"_SUB"),c=(0,al.mkExpr)`${a}(${s}, INTERVAL ${r} ${i})`;return o=="datetime"?(0,al.mkExpr)`TIMESTAMP(${c})`:c}ignoreInProject(e){return e==="_PARTITIONTIME"}sqlCast(e){if(e.srcType!==e.dstType){let t=CJe[e.dstType]||e.dstType;if(!e.safe&&e.srcType&&(0,al.isTimeFieldType)(e.srcType))return t=="date"?(0,al.mkExpr)`DATE(${e.expr})`:(0,al.mkExpr)`TIMESTAMP(${e.expr})`;let r=e.safe?"SAFE_CAST":"CAST";return(0,al.mkExpr)`${r}(${e.expr}  AS ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,al.mkExpr)`REGEXP_CONTAINS(${e}, r${t})`}sqlLiteralTime(e,t,r){if(t==="date")return`DATE('${e}')`;if(t==="timestamp")return`TIMESTAMP('${e}', '${r}')`;throw new Error(`Unknown Liternal time format ${t}`)}sqlMeasureTime(e,t,r){let i=e.value,s=t.value,o="TIMESTAMP_DIFF";return r=="second"||r=="minute"||r=="hour"?(e.valueType!="timestamp"&&(i=(0,al.mkExpr)`TIMESTAMP(${i})`),t.valueType!="timestamp"&&(s=(0,al.mkExpr)`TIMESTAMP(${s})`)):(o="DATE_DIFF",e.valueType!="date"&&(i=(0,al.mkExpr)`DATE(${i})`),t.valueType!="date"&&(s=(0,al.mkExpr)`DATE(${s})`)),(0,al.mkExpr)`${o}(${s}, ${i}, ${r})`}sqlSampleTable(e,t){if(t!==void 0){if((0,al.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,al.isSamplingRows)(t))throw new Error("StandardSQL doesn't support sampling by rows only percent");if((0,al.isSamplingPercent)(t))return`(SELECT * FROM ${e}  TABLESAMPLE SYSTEM (${t.percent} PERCENT))`}return e}};eB.StandardSQLDialect=Vye});var IZ=we(nB=>{"use strict";m();Object.defineProperty(nB,"__esModule",{value:!0});nB.PostgresDialect=void 0;var TJe=KT(),nu=K7(),FJe=JT(),DJe={number:"double precision",string:"varchar"},OJe={day_of_week:"dow",day_of_year:"doy"},NJe={year:"years",month:"months",week:"weeks",day:"days",hour:"hours",minute:"mins",second:"secs"},Wye={second:1,minute:60,hour:3600},Qye=class extends FJe.Dialect{constructor(){super(...arguments);this.name="postgres",this.defaultNumberType="DOUBLE PRECISION",this.udfPrefix="pg_temp.__udf",this.hasFinalStage=!0,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.functionInfo={concat:{returnType:"string"}}}quoteTablePath(e){return e.split(".").map(t=>`"${t}"`).join(".")}sqlGroupSetTable(e){return`CROSS JOIN GENERATE_SERIES(0,${e},1) as group_set`}sqlAnyValue(e,t){return`MAX(${t})`}mapFields(e){return e.map(t=>`
  ${t.sqlExpression}${t.type=="number"?`::${this.defaultNumberType}`:""} as ${t.sqlOutputName}`).join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(TO_JSONB((ARRAY_AGG((SELECT TO_JSONB(__x) FROM (SELECT ${this.mapFields(t)}
  ) as __x) ${r} ) FILTER (WHERE group_set=${e}))${s}),'[]'::JSONB)`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`(ARRAY_AGG(${e}__${t}) FILTER (WHERE group_set=${t} AND ${e}__${t} IS NOT NULL))[1] as ${r}`}sqlCoaleseMeasuresInline(e,t){return`TO_JSONB((ARRAY_AGG((SELECT __x FROM (SELECT ${this.mapFields(t)}) as __x)) FILTER (WHERE group_set=${e}))[1])`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_id', row_number() over (), 'value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_number', row_number() over())|| __xx::jsonb as b FROM  JSONB_ARRAY_ELEMENTS(${e}) __xx ))) as ${t} ON true`:`LEFT JOIN JSONB_ARRAY_ELEMENTS(${e}) as ${t} ON true`}sqlSumDistinctHashedKey(e){return`('x' || MD5(${e}::varchar))::bit(64)::bigint::DECIMAL(65,0)  *18446744073709551616 + ('x' || SUBSTR(MD5(${e}::varchar),17))::bit(64)::bigint::DECIMAL(65,0)`}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlFieldReference(e,t,r,i,s){let o=`${e}->>'${t}'`;if(i){switch(r){case"string":break;case"number":o=`(${o})::double precision`;break;case"struct":o=`(${o})::jsonb`;break}return o}else return`${e}."${t}"`}sqlUnnestPipelineHead(e,t){return e?`UNNEST(ARRAY((SELECT ${t})))`:`JSONB_ARRAY_ELEMENTS(${t})`}sqlCreateFunction(e,t){return`CREATE FUNCTION ${e}(JSONB) RETURNS JSONB AS $$
${(0,TJe.indent)(t)}
$$ LANGUAGE SQL;
`}sqlCreateFunctionCombineLastStage(e){return`SELECT JSONB_AGG(__stage0) FROM ${e}
`}sqlFinalStage(e,t){return`SELECT row_to_json(finalStage) as row FROM ${e} AS finalStage`}sqlSelectAliasAsStruct(e){return`ROW(${e})`}sqlMaybeQuoteIdentifier(e){return`"${e}"`}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}sqlNow(){return(0,nu.mkExpr)`CURRENT_TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,nu.mkExpr)`${e.value}+interval'1'day`:e.value,s=(0,nu.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,nu.mkExpr)`(${s}-interval'1'day)`:s}sqlExtract(e,t){let r=OJe[t]||t,i=(0,nu.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,nu.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,nu.mkExpr)`${r}*3`);let s=(0,nu.mkExpr)`make_interval(${NJe[i]}=>${r})`;return(0,nu.mkExpr)`((${t.value})${e}${s})`}sqlCast(e){if(e.dstType!==e.srcType){let t=DJe[e.dstType]||e.dstType;return(0,nu.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,nu.mkExpr)`(${e} ~ ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE('${e}')`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(Wye[r]){i=(0,nu.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,nu.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let a=(0,nu.mkExpr)`(${s} - ${i})`;return r=="second"?a:(0,nu.mkExpr)`TRUNC(${a}/${Wye[r].toString()})`}if(r==="day")return(0,nu.mkExpr)`${s}::date - ${i}::date`;let o=(0,nu.mkExpr)`(DATE_PART('year', ${s}) - DATE_PART('year', ${i}))`;if(r=="year")return o;if(r=="week"){let a=(0,nu.mkExpr)`(DATE_TRUNC('week', ${s} + '1 day'::interval)::date - DATE_TRUNC('week', ${i} + '1 day'::interval)::date)`;return(0,nu.mkExpr)`${a} / 7`}if(r=="month"){let a=(0,nu.mkExpr)`DATE_PART('month', ${s}) - DATE_PART('month', ${i})`;return(0,nu.mkExpr)`${o} * 12 + ${a}`}if(r=="quarter"){let a=(0,nu.mkExpr)`DATE_PART('quarter', ${s}) - DATE_PART('quarter', ${i})`;return(0,nu.mkExpr)`${o} * 4 + ${a}`}throw new Error(`Unknown or unhandled postgres time unit: ${r}`)}sqlSumDistinct(e,t){return`(
      SELECT sum((a::json->>'f2')::DOUBLE PRECISION) as value
      FROM (
        SELECT UNNEST(array_agg(distinct row_to_json(row(${e},${t}))::text)) a
      ) a
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,nu.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,nu.isSamplingRows)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM_ROWS(${t.rows}))`;if((0,nu.isSamplingPercent)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM (${t.percent}))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}};nB.PostgresDialect=Qye});var Jye=we(rB=>{"use strict";m();Object.defineProperty(rB,"__esModule",{value:!0});rB.DuckDBDialect=void 0;var vu=K7(),RJe=KT(),LJe=JT(),Gye="-- hack: split on this",f7t=`
ALL
ANALYSE
ANALYZE
AND
ANY
ARRAY
AS
ASC_P
ASYMMETRIC
BOTH
CASE
CAST
CHECK_P
COLLATE
COLUMN
CONSTRAINT
CREATE_P
CURRENT_CATALOG
CURRENT_DATE
CURRENT_ROLE
CURRENT_TIME
CURRENT_TIMESTAMP
CURRENT_USER
DEFAULT
DEFERRABLE
DESC_P
DISTINCT
DO
ELSE
END_P
EXCEPT
FALSE_P
FETCH
FOR
FOREIGN
FROM
GRANT
GROUP_P
HAVING
IN_P
INITIALLY
INTERSECT
INTO
LATERAL_P
LEADING
LIMIT
LOCALTIME
LOCALTIMESTAMP
NOT
NULL_P
OFFSET
ON
ONLY
OR
ORDER
PLACING
PRIMARY
REFERENCES
RETURNING
SELECT
SESSION_USER
SOME
SYMMETRIC
TABLE
THEN
TO
TRAILING
TRUE_P
UNION
UNIQUE
USER
USING
VARIADIC
WHEN
WHERE
WINDOW
WITH
`.split(/\s/),kJe={number:"double precision",string:"varchar"},IJe={day_of_week:"dow",day_of_year:"doy"},Yye={second:1,minute:60,hour:3600},Kye=class extends LJe.Dialect{constructor(){super(...arguments);this.name="duckdb",this.defaultNumberType="DOUBLE",this.hasFinalStage=!1,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!0,this.unnestWithNumbers=!0,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.functionInfo={concat:{returnType:"string"}}}get udfPrefix(){return`__udf${Math.floor(Math.random()*1e5)}`}quoteTablePath(e){return e.match(/\//)?`'${e}'`:e}sqlGroupSetTable(e){return`CROSS JOIN (SELECT UNNEST(GENERATE_SERIES(0,${e},1)) as group_set  ) as group_set`}sqlAnyValue(e,t){return`FIRST(${t}) FILTER (WHERE ${t} IS NOT NULL)`}mapFields(e){return e.join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(LIST({${t.map(a=>`
  ${a.sqlOutputName}: ${a.sqlExpression}`).join(", ")}} ${r}) FILTER (WHERE group_set=${e})${s},[])`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN ROW(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`MAX(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlOutputName}: ${s.sqlExpression} `).join(", "),i=t.map(s=>`${s.sqlOutputName}: NULL`).join(", ");return`COALESCE(FIRST({${r}}) FILTER(WHERE group_set=${e}), {${i}})`}sqlUnnestAlias(e,t,r,i){return`LEFT JOIN (select UNNEST(generate_series(1,
        100000, --
        -- (SELECT genres_length FROM movies limit 1),
        1)) as __row_id) as ${t} ON  ${t}.__row_id <= array_length(${e})`}sqlSumDistinctHashedKey(e){return"uses sumDistinctFunction, should not be called"}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlDateToString(e){return`(${e})::date::varchar`}sqlFieldReference(e,t,r,i,s){return s?e:`${e}.${this.sqlMaybeQuoteIdentifier(t)}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`(SELECT UNNEST(${r}) as base)`}sqlCreateFunction(e,t){return`DROP MACRO IF EXISTS ${e}; 
${Gye}
 CREATE MACRO ${e}(_param) AS (
${(0,RJe.indent)(t)}
);
${Gye}
`}sqlCreateFunctionCombineLastStage(e,t){return`SELECT LIST(ROW(${t.fields.map(r=>this.sqlMaybeQuoteIdentifier((0,vu.getIdentifier)(r))).join(",")})) FROM ${e}
`}sqlSelectAliasAsStruct(e,t){return`ROW(${t.map(r=>`${e}.${r}`).join(", ")})`}sqlMaybeQuoteIdentifier(e){return'"'+e+'"'}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(Yye[r]){i=(0,vu.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,vu.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let o=(0,vu.mkExpr)`(${s} - ${i})`;return r=="second"?o:(0,vu.mkExpr)`FLOOR(${o}/${Yye[r].toString()})`}return e.valueType!="date"&&(i=(0,vu.mkExpr)`CAST((${i}) AS DATE)`),t.valueType!="date"&&(s=(0,vu.mkExpr)`CAST((${s}) AS DATE)`),r=="week"&&(i=(0,vu.mkExpr)`(${i} + INTERVAL 1 DAY)`,s=(0,vu.mkExpr)`(${s} + INTERVAL 1 DAY)`),(0,vu.mkExpr)`DATE_DIFF('${r}', ${i}, ${s})`}sqlNow(){return(0,vu.mkExpr)`CURRENT_TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,vu.mkExpr)`${e.value} + INTERVAL 1 DAY`:e.value,s=(0,vu.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,vu.mkExpr)`(${s} - INTERVAL 1 DAY)`:s}sqlExtract(e,t){let r=IJe[t]||t,i=(0,vu.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,vu.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,vu.mkExpr)`${r}*3`),i=="week"&&(i="day",r=(0,vu.mkExpr)`${r}*7`);let s=(0,vu.mkExpr)`INTERVAL (${r}) ${i}`;return(0,vu.mkExpr)`((${t.value})) ${e} ${s}`}sqlCast(e){if(e.dstType!==e.srcType){let t=kJe[e.dstType]||e.dstType;return(0,vu.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,vu.mkExpr)`REGEXP_MATCHES(${e}, ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE '${e}'`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}sqlSumDistinct(e,t){return`(
      SELECT sum(a.val) as value
      FROM (
        SELECT UNNEST(list(distinct {key:${e}, val: ${t}})) a
      )
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,vu.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,vu.isSamplingRows)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.rows})`;if((0,vu.isSamplingPercent)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.percent} PERCENT (bernoulli))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}};rB.DuckDBDialect=Kye});var Zye=we(J7=>{"use strict";m();Object.defineProperty(J7,"__esModule",{value:!0});J7.registerDialect=J7.getDialect=void 0;var MJe=sB(),PJe=IZ(),BJe=tB(),Xye=new Map;function jJe(n){let e=Xye.get(n);if(e===void 0)throw new Error(`Unknown Dialect ${n}`);return e}J7.getDialect=jJe;function iB(n){Xye.set(n.name,n)}J7.registerDialect=iB;iB(new PJe.PostgresDialect);iB(new BJe.StandardSQLDialect);iB(new MJe.DuckDBDialect)});var sB=we(oh=>{"use strict";m();Object.defineProperty(oh,"__esModule",{value:!0});oh.registerDialect=oh.getDialect=oh.DuckDBDialect=oh.PostgresDialect=oh.StandardSQLDialect=oh.Dialect=void 0;var qJe=JT();Object.defineProperty(oh,"Dialect",{enumerable:!0,get:function(){return qJe.Dialect}});var UJe=tB();Object.defineProperty(oh,"StandardSQLDialect",{enumerable:!0,get:function(){return UJe.StandardSQLDialect}});var $Je=IZ();Object.defineProperty(oh,"PostgresDialect",{enumerable:!0,get:function(){return $Je.PostgresDialect}});var zJe=Jye();Object.defineProperty(oh,"DuckDBDialect",{enumerable:!0,get:function(){return zJe.DuckDBDialect}});var e3e=Zye();Object.defineProperty(oh,"getDialect",{enumerable:!0,get:function(){return e3e.getDialect}});Object.defineProperty(oh,"registerDialect",{enumerable:!0,get:function(){return e3e.registerDialect}})});var n3e=we((m7t,t3e)=>{m();(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,r){return t<<r|t>>>32-r},rotr:function(t,r){return t<<32-r|t>>>r},endian:function(t){if(t.constructor==Number)return e.rotl(t,8)&16711935|e.rotl(t,24)&4278255360;for(var r=0;r<t.length;r++)t[r]=e.endian(t[r]);return t},randomBytes:function(t){for(var r=[];t>0;t--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(t){for(var r=[],i=0,s=0;i<t.length;i++,s+=8)r[s>>>5]|=t[i]<<24-s%32;return r},wordsToBytes:function(t){for(var r=[],i=0;i<t.length*32;i+=8)r.push(t[i>>>5]>>>24-i%32&255);return r},bytesToHex:function(t){for(var r=[],i=0;i<t.length;i++)r.push((t[i]>>>4).toString(16)),r.push((t[i]&15).toString(16));return r.join("")},hexToBytes:function(t){for(var r=[],i=0;i<t.length;i+=2)r.push(parseInt(t.substr(i,2),16));return r},bytesToBase64:function(t){for(var r=[],i=0;i<t.length;i+=3)for(var s=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)i*8+o*6<=t.length*8?r.push(n.charAt(s>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],i=0,s=0;i<t.length;s=++i%4)s!=0&&r.push((n.indexOf(t.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<s*2|n.indexOf(t.charAt(i))>>>6-s*2);return r}};t3e.exports=e})()});var PZ=we((x7t,r3e)=>{m();var MZ={utf8:{stringToBytes:function(n){return MZ.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(MZ.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var e=[],t=0;t<n.length;t++)e.push(n.charCodeAt(t)&255);return e},bytesToString:function(n){for(var e=[],t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}}};r3e.exports=MZ});var o3e=we((g7t,s3e)=>{m();s3e.exports=function(n){return n!=null&&(i3e(n)||HJe(n)||!!n._isBuffer)};function i3e(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function HJe(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&i3e(n.slice(0,0))}});var BZ=we((y7t,a3e)=>{m();(function(){var n=n3e(),e=PZ().utf8,t=o3e(),r=PZ().bin,i=function(s,o){s.constructor==String?o&&o.encoding==="binary"?s=r.stringToBytes(s):s=e.stringToBytes(s):t(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var a=n.bytesToWords(s),c=s.length*8,d=1732584193,p=-271733879,b=-1732584194,C=271733878,N=0;N<a.length;N++)a[N]=(a[N]<<8|a[N]>>>24)&16711935|(a[N]<<24|a[N]>>>8)&4278255360;a[c>>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;for(var R=i._ff,U=i._gg,V=i._hh,P=i._ii,N=0;N<a.length;N+=16){var $=d,M=p,G=b,ae=C;d=R(d,p,b,C,a[N+0],7,-680876936),C=R(C,d,p,b,a[N+1],12,-389564586),b=R(b,C,d,p,a[N+2],17,606105819),p=R(p,b,C,d,a[N+3],22,-1044525330),d=R(d,p,b,C,a[N+4],7,-176418897),C=R(C,d,p,b,a[N+5],12,1200080426),b=R(b,C,d,p,a[N+6],17,-1473231341),p=R(p,b,C,d,a[N+7],22,-45705983),d=R(d,p,b,C,a[N+8],7,1770035416),C=R(C,d,p,b,a[N+9],12,-1958414417),b=R(b,C,d,p,a[N+10],17,-42063),p=R(p,b,C,d,a[N+11],22,-1990404162),d=R(d,p,b,C,a[N+12],7,1804603682),C=R(C,d,p,b,a[N+13],12,-40341101),b=R(b,C,d,p,a[N+14],17,-1502002290),p=R(p,b,C,d,a[N+15],22,1236535329),d=U(d,p,b,C,a[N+1],5,-165796510),C=U(C,d,p,b,a[N+6],9,-1069501632),b=U(b,C,d,p,a[N+11],14,643717713),p=U(p,b,C,d,a[N+0],20,-373897302),d=U(d,p,b,C,a[N+5],5,-701558691),C=U(C,d,p,b,a[N+10],9,38016083),b=U(b,C,d,p,a[N+15],14,-660478335),p=U(p,b,C,d,a[N+4],20,-405537848),d=U(d,p,b,C,a[N+9],5,568446438),C=U(C,d,p,b,a[N+14],9,-1019803690),b=U(b,C,d,p,a[N+3],14,-187363961),p=U(p,b,C,d,a[N+8],20,1163531501),d=U(d,p,b,C,a[N+13],5,-1444681467),C=U(C,d,p,b,a[N+2],9,-51403784),b=U(b,C,d,p,a[N+7],14,1735328473),p=U(p,b,C,d,a[N+12],20,-1926607734),d=V(d,p,b,C,a[N+5],4,-378558),C=V(C,d,p,b,a[N+8],11,-2022574463),b=V(b,C,d,p,a[N+11],16,1839030562),p=V(p,b,C,d,a[N+14],23,-35309556),d=V(d,p,b,C,a[N+1],4,-1530992060),C=V(C,d,p,b,a[N+4],11,1272893353),b=V(b,C,d,p,a[N+7],16,-155497632),p=V(p,b,C,d,a[N+10],23,-1094730640),d=V(d,p,b,C,a[N+13],4,681279174),C=V(C,d,p,b,a[N+0],11,-358537222),b=V(b,C,d,p,a[N+3],16,-722521979),p=V(p,b,C,d,a[N+6],23,76029189),d=V(d,p,b,C,a[N+9],4,-640364487),C=V(C,d,p,b,a[N+12],11,-421815835),b=V(b,C,d,p,a[N+15],16,530742520),p=V(p,b,C,d,a[N+2],23,-995338651),d=P(d,p,b,C,a[N+0],6,-198630844),C=P(C,d,p,b,a[N+7],10,1126891415),b=P(b,C,d,p,a[N+14],15,-1416354905),p=P(p,b,C,d,a[N+5],21,-57434055),d=P(d,p,b,C,a[N+12],6,1700485571),C=P(C,d,p,b,a[N+3],10,-1894986606),b=P(b,C,d,p,a[N+10],15,-1051523),p=P(p,b,C,d,a[N+1],21,-2054922799),d=P(d,p,b,C,a[N+8],6,1873313359),C=P(C,d,p,b,a[N+15],10,-30611744),b=P(b,C,d,p,a[N+6],15,-1560198380),p=P(p,b,C,d,a[N+13],21,1309151649),d=P(d,p,b,C,a[N+4],6,-145523070),C=P(C,d,p,b,a[N+11],10,-1120210379),b=P(b,C,d,p,a[N+2],15,718787259),p=P(p,b,C,d,a[N+9],21,-343485551),d=d+$>>>0,p=p+M>>>0,b=b+G>>>0,C=C+ae>>>0}return n.endian([d,p,b,C])};i._ff=function(s,o,a,c,d,p,b){var C=s+(o&a|~o&c)+(d>>>0)+b;return(C<<p|C>>>32-p)+o},i._gg=function(s,o,a,c,d,p,b){var C=s+(o&c|a&~c)+(d>>>0)+b;return(C<<p|C>>>32-p)+o},i._hh=function(s,o,a,c,d,p,b){var C=s+(o^a^c)+(d>>>0)+b;return(C<<p|C>>>32-p)+o},i._ii=function(s,o,a,c,d,p,b){var C=s+(a^(o|~c))+(d>>>0)+b;return(C<<p|C>>>32-p)+o},i._blocksize=16,i._digestsize=16,a3e.exports=function(s,o){if(s==null)throw new Error("Illegal argument "+s);var a=n.wordsToBytes(i(s,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):n.bytesToHex(a)}})()});var zZ=we(f4=>{"use strict";m();var VJe=f4&&f4.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(f4,"__esModule",{value:!0});f4.QueryModel=f4.Segment=void 0;var u3e=YT(),WJe=tB(),QJe=sB(),Ro=r2(),Hp=KT(),GJe=VJe(BZ());function jZ(n){return`'${n}'`}var X7=class{constructor(e=!0,t){this.withs=[],this.udfs=[],this.pdts=[],this.stagePrefix="__stage",this.parent=t,this.useCTE=e}getName(e){return`${this.stagePrefix}${e}`}root(){return this.parent===void 0?this:this.parent.root()}addStage(e){return this.useCTE?(this.withs.push(e),this.getName(this.withs.length-1)):(this.withs[0]=e,(0,Hp.indent)(`
(${e})
`))}addUDF(e,t,r){let{sql:i,lastStageName:s}=e.combineStages(!0);if(s===void 0)throw new Error("Internal Error: no stage to combine");i+=t.sqlCreateFunctionCombineLastStage(s,r);let o=`${t.udfPrefix}${this.root().udfs.length}`;return i=t.sqlCreateFunction(o,i),this.root().udfs.push(i),o}addPDT(e,t){let r=this.combineStages(!1).sql+this.withs[this.withs.length-1],i="scratch."+e+(0,GJe.default)(r);return this.root().pdts.push(t.sqlCreateTableAsSelect(i,r)),i}combineStages(e){if(!this.useCTE)return{sql:this.withs[0],lastStageName:this.withs[0]};let t=this.getName(0),r="WITH ",i="";for(let s=0;s<this.withs.length-(e?0:1);s++){let o=this.withs[s];if(t=this.getName(s),o===void 0)throw new Error(`Expected sql WITH to be present for stage ${t}.`);i+=`${r}${t} AS (
${(0,Hp.indent)(o)})
`,r=", "}return{sql:i,lastStageName:t}}generateSQLStages(){let e=this.withs.length-1;if(e<0)throw new Error("No SQL generated");let t=this.udfs.join(`
`),r=this.pdts.join(`
`),i=this.combineStages(!1).sql;return t+r+i+this.withs[e]}generateCoorelatedSubQuery(e,t){return this.useCTE?this.combineStages(!0).sql+e.sqlCreateFunctionCombineLastStage(this.getName(this.withs.length-1),t):e.sqlCreateFunctionCombineLastStage(`(${this.withs[0]})`,t)}},Z7=class{constructor(){this.totalGroupSet=-1}withWhere(e){let t=new Z7;return t.whereSQL=e,t.applyValue=this.applyValue,t.totalGroupSet=this.totalGroupSet,t}withApply(e){let t=new Z7;return t.whereSQL=this.whereSQL,t.applyValue=e,t.totalGroupSet=this.totalGroupSet,t}withTotal(e){let t=new Z7;return t.whereSQL=this.whereSQL,t.applyValue=this.applyValue,t.totalGroupSet=e,t}},qZ=class{constructor(e){this.fieldDef=e}getIdentifier(){return(0,Ro.getIdentifier)(this.fieldDef)}getChildByName(e){}},XT=class extends qZ{constructor(e,t){super(e);this.parent=t,this.fieldDef=e}mayNeedUniqueKey(){return!1}getJoinableParent(){let e=this.parent;if(e.fieldDef.structRelationship.type==="inline"){if(e)return e.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return e}caseGroup(e,t){return e.length===0?t:`CASE WHEN group_set${e.length===1?`=${e[0]}`:` IN (${e.join(",")})`} THEN
  ${t}
  END`}getFullOutputName(){return this.parent.getFullOutputName()+this.getIdentifier()}generateFieldFragment(e,t,r,i){let s=t.getFieldByName(r.path);if((0,Ro.hasExpression)(s.fieldDef)){let o=this.generateExpressionFromExpr(e,s.parent,s.fieldDef.e,i);return o.match(/^\(.*\)$/)||(o=`(${o})`),o}else return s.generateExpression(e)}generateParameterFragment(e,t,r,i){let s=t.parameters()[r.path];if((0,Ro.isValueParameter)(s)){if(s.value)return this.generateExpressionFromExpr(e,t,s.value,i)}else if(s.condition)return this.generateExpressionFromExpr(e,t,s.condition,i);throw new Error(`Can't generate SQL, no value for ${r.path}`)}generateFilterFragment(e,t,r,i){let s=new Hp.AndChain(i.whereSQL);for(let o of r.filterList)s.add(this.generateExpressionFromExpr(e,t,o.expression,i.withWhere()));return this.generateExpressionFromExpr(e,t,r.e,i.withWhere(s.sql()))}generateDimFragment(e,t,r,i){let s=this.generateExpressionFromExpr(e,t,r.e,i);return i.whereSQL&&(s=`CASE WHEN ${i.whereSQL} THEN ${s} END`),s}generateUngroupedFragment(e,t,r,i){if(i.totalGroupSet!==-1)throw new Error("Already in ALL.  Cannot nest within an all calcuation.");let s,o;if(r.fields&&r.fields.length>0){let b=r.fields.sort().join("|")+r.type;if(o=e.ungroupedSets.get(b),o===void 0)throw new Error(`Internal Error, cannot find groupset with key ${b}`);s=o.groupSet}else s=e.parent?e.parent.groupSet:0;let a=this.generateExpressionFromExpr(e,t,r.e,i.withTotal(s)),c=e.getUngroupPartitions(o),d="",p=c.map(b=>b.getPartitionSQL()).join(", ");return p.length>0&&(d=`PARTITION BY ${p}`),`MAX(${a}) OVER (${d})`}generateDistinctKeyIfNecessary(e,t,r){let i=t;if(r&&(i=this.parent.root().getStructByName(r)),i.needsSymetricCalculation(e))return i.getDistinctKey().generateExpression(e)}generateSumFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath),a;return o?this.parent.dialect.supportsSumDistinctFunction?a=this.parent.dialect.sqlSumDistinct(o,s):a=h3e(this.parent.dialect,s,o):a=`SUM(${s})`,`COALESCE(${a},0)`}generateSymmetricFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i);return`${r.function==="count_distinct"?"count(distinct ":r.function+"("}${s})`}generateAvgFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath);if(o){let a=o;i.whereSQL&&(a=`CASE WHEN ${i.whereSQL} THEN ${o} END`);let c;return this.parent.dialect.supportsSumDistinctFunction?c=this.parent.dialect.sqlSumDistinct(o,s):c=h3e(this.parent.dialect,s,o),`(${c})/NULLIF(COUNT(DISTINCT ${a}),0)`}else return`AVG(${s})`}generateCountFragment(e,t,r,i){let s="COUNT(",o="1",a=this.generateDistinctKeyIfNecessary(e,t,r.structPath);return a&&(s="COUNT(DISTINCT",o=a),i.whereSQL?`${s} CASE WHEN ${i.whereSQL} THEN ${o} END)`:`${s} ${o})`}generateDialect(e,t,r,i){return this.generateExpressionFromExpr(e,t,t.dialect.dialectExpr(r),i)}generateExpressionFromExpr(e,t,r,i=new Z7){let s="";for(let o of r)if(typeof o=="string")s+=o;else if((0,Ro.isFieldFragment)(o))s+=this.generateFieldFragment(e,t,o,i);else if((0,Ro.isParameterFragment)(o))s+=this.generateParameterFragment(e,t,o,i);else if((0,Ro.isFilterFragment)(o))s+=this.generateFilterFragment(e,t,o,i);else if((0,Ro.isUngroupFragment)(o))s+=this.generateUngroupedFragment(e,t,o,i);else if((0,Ro.isAggregateFragment)(o)){let a;if(o.function==="sum")a=this.generateSumFragment(e,t,o,i);else if(o.function==="avg")a=this.generateAvgFragment(e,t,o,i);else if(o.function==="count")a=this.generateCountFragment(e,t,o,i);else if(["count_distinct","min","max"].includes(o.function))a=this.generateSymmetricFragment(e,t,o,i);else throw new Error(`Internal Error: Unknown aggregate function ${o.function}`);if(e.root().isComplexQuery){let c=e.groupSet;i.totalGroupSet!==-1&&(c=i.totalGroupSet),s+=this.caseGroup([c],a)}else s+=a}else if((0,Ro.isApplyFragment)(o)){let a=this.generateExpressionFromExpr(e,t,o.value,i);s+=this.generateExpressionFromExpr(e,t,o.to,i.withApply(a))}else if((0,Ro.isApplyValue)(o))if(i.applyValue)s+=i.applyValue;else throw new Error("Internal Error: Partial application value referenced but not provided");else if(o.type=="dialect")s+=this.generateDialect(e,t,o,i);else throw new Error(`Internal Error: Unknown expression fragment ${JSON.stringify(o,void 0,2)}`);return s}getExpr(){return(0,Ro.hasExpression)(this.fieldDef)?this.fieldDef.e:[this.parent.dialect.sqlFieldReference(this.parent.getSQLIdentifier(),this.fieldDef.name,this.fieldDef.type,this.parent.fieldDef.structSource.type==="nested"||this.parent.fieldDef.structSource.type==="inline"||this.parent.fieldDef.structSource.type==="sql"&&this.parent.fieldDef.structSource.method==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray)]}generateExpression(e){return this.generateExpressionFromExpr(e,this.parent,this.getExpr())}};function I_(n){return n instanceof C0&&n.isAggregate()}function S0(n){return n instanceof C0&&!n.isAggregate()}var C0=class extends XT{includeInWildcard(){return!0}isAggregate(){return this.fieldDef.aggregate!==void 0&&this.fieldDef.aggregate===!0}getFilterList(){return[]}hasExpression(){return(0,Ro.hasExpression)(this.fieldDef)}},l3e=class extends C0{},c3e=class extends C0{},oB=class extends C0{},aB=class extends C0{constructor(e,t,r){super(e,t);this.primaryKey=r}getName(){return(0,Ro.getIdentifier)(this.fieldDef)}getAsJoinedStructDef(e){return{...this.parent.fieldDef,structRelationship:{type:"one",onExpression:[{type:"field",path:this.primaryKey},"=",{type:"field",path:e}]}}}},ZT=class extends C0{generateExpression(e){let t=this.fieldDef;if(t.timeframe){let r=this.parent.dialect.sqlTrunc({value:this.getExpr(),valueType:"date"},t.timeframe);return this.generateExpressionFromExpr(e,this.parent,r)}else return super.generateExpression(e)}getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new ZT(t,this.parent)}},eF=class extends C0{getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new eF(t,this.parent)}},f3e=class extends C0{generateExpression(e){var t;return this.parent.primaryKey()?this.parent.getPrimaryKeyField(this.fieldDef).generateExpression(e):this.parent.fieldDef.structSource.type==="nested"?`CONCAT(${(t=this.parent.parent)===null||t===void 0?void 0:t.getDistinctKey().generateExpression(e)}, 'x', ${this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__row_id","string",!0,!1)})`:this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__distinct_key","string",this.parent.fieldDef.structRelationship.type==="nested",!1)}includeInWildcard(){return!1}},d3e=9;function h3e(n,e,t){let r=9,i=n.sqlSumDistinctHashedKey(t),s=10**(r-d3e),a=`(${`
  (
    SUM(DISTINCT
      (CAST(ROUND(COALESCE(${e},0)*(${s}*1.0), ${d3e}) AS NUMERIC) +
      ${i}
    ))
    -
     SUM(DISTINCT ${i})
  )`}/(${s}*1.0))`;return a=`CAST(${a} as ${n.defaultNumberType})`,a}var w0=class{constructor(e,t,r){this.type="field",this.additionalGroupSets=[],this.f=e,this.fieldUsage=t,this.parent=r}root(){return this.parent.root()}getSQL(){let e=this.f.generateExpression(this.parent);return S0(this.f)&&(e=this.f.caseGroup(this.parent.childGroups.concat(this.additionalGroupSets),e)),e}getPartitionSQL(){return this.partitionSQL===void 0?this.getSQL():this.partitionSQL}},i2=class{constructor(e,t){this.type="query",this.allFields=new Map,this.groupSet=0,this.depth=0,this.childGroups=[],this.hasHaving=!1,this.ungroupedSets=new Map,this.resultUsesUngrouped=!1,this.parent=t,this.turtleDef=e,this.firstSegment=e.pipeline[0]}addField(e,t,r){let i;if(i=this.allFields.get(e)){if(i.type==="query")throw new Error(`Redefinition of field ${t.fieldDef.name} as struct`);if(i.fieldUsage.type==="result"){if(r.type!=="result")return;throw new Error(`Ambiguous output field name '${t.fieldDef.name}'.`)}}this.add(e,new w0(t,r,this))}parentGroupSet(){return this.parent?this.parent.groupSet:0}add(e,t){this.allFields.set(e,t)}hasField(e){let t=this.allFields.get(e);return t!==void 0&&t instanceof w0}getField(e){let t=this.allFields.get(e);if(t===void 0)throw new Error(`Internal Error, field Not defined ${e}`);if(t instanceof w0)return t;throw new Error(`can't use a query here ${e}`)}getFieldByNumber(e){for(let[t,r]of this.allFields)if(r instanceof w0&&r.fieldUsage.type==="result"&&r.fieldUsage.resultIndex===e)return{name:t,fif:r};throw new Error(`Invalid Order By index '${e}`)}computeGroups(e,t){e===0&&this.resultUsesUngrouped&&this.root().computeOnlyGroups.push(e++);for(let[o,a]of this.ungroupedSets){let c=e++;a.groupSet=c,this.root().computeOnlyGroups.push(c)}this.groupSet=e++,this.depth=t;let r=t,i=!1,s=[this.groupSet];for(let[o,a]of this.allFields)if(a.type==="query"){let c=a;if(i=!0,c.firstSegment.type==="reduce"){let d=c.computeGroups(e,t+1);s=s.concat(d.children),e=d.nextGroupSetNumber,d.maxDepth>r&&(r=d.maxDepth)}}return this.childGroups=s,{nextGroupSetNumber:e,maxDepth:r,children:s,isComplex:i}}fields(e=void 0){let t=[];for(let r of this.allFields.values())r instanceof w0&&(e===void 0||e(r))&&t.push(r);return t}fieldNames(e){let t=[];for(let[r,i]of this.allFields)i instanceof w0&&(e===void 0||e(i))&&t.push(r);return t}getRepeatedResultType(){let e="inline_all_numbers";for(let t of this.fields())if(t.fieldUsage.type==="result"){if(S0(t.f))return"nested";t.f instanceof ff&&(e="inline")}return e}structs(){let e=[];for(let t of this.allFields.values())t instanceof i2&&e.push(t);return e}selectStructs(e,t){t(this)&&e.push(this);for(let r of this.structs())r.selectStructs(e,t);return e}calculateDefaultOrderBy(){let e;for(let[t,r]of this.allFields)if(r instanceof w0&&r.fieldUsage.type==="result"){if(e||(e=r.fieldUsage.resultIndex),["date","timestamp"].indexOf(r.f.fieldDef.type)>-1)return[{dir:"desc",field:r.fieldUsage.resultIndex}];if(I_(r.f))return[{dir:"desc",field:r.fieldUsage.resultIndex}]}return e?[{dir:"asc",field:e}]:[]}addStructToJoin(e,t,r,i){var s;let o=e.getIdentifier();if(i.indexOf(o)!==-1)return;let a;if(a=this.root().joins.get(o)){a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r);return}let c,d=(s=e.parent)===null||s===void 0?void 0:s.getJoinableParent();d&&(this.addStructToJoin(d,t,!1,i),c=this.root().joins.get(d.getIdentifier()));let p=e.fieldDef.structRelationship;(0,Ro.isJoinOn)(p)&&e.parent&&p.onExpression!==void 0&&i.indexOf(o)===-1&&t.addDependantExpr(this,e.parent,p.onExpression,[...i,o]),(a=this.root().joins.get(o))||(a=new m3e(e,o,c),this.root().joins.set(o,a)),a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r)}findJoins(e){for(let t of this.fields())this.addStructToJoin(t.f.getJoinableParent(),e,t.f.mayNeedUniqueKey(),[]);for(let t of this.structs())t.findJoins(e)}root(){if(this.parent)return this.parent.root();throw new Error("Internal Error, Null parent FieldInstanceResult")}getUngroupPartitions(e){let t=[],r=this,i=[],s=[];if(e===void 0||e.type==="all"){let a=(e==null?void 0:e.fields)||[];i=this.fields(c=>S0(c.f)&&c.fieldUsage.type==="result"&&a.indexOf(c.f.getIdentifier())===-1).map(c=>c.f.getIdentifier())}else i=e.fields;let o=!0;for(;r!==void 0;)(o||(e==null?void 0:e.type)==="exclude")&&(s=s.concat(r.fields(a=>S0(a.f)&&a.fieldUsage.type==="result").map(a=>a.f.getIdentifier()))),t=t.concat(r.fields(a=>S0(a.f)&&a.fieldUsage.type==="result"&&i.indexOf(a.f.getIdentifier())===-1)),r=r.parent,o=!1;for(let a of(e==null?void 0:e.fields)||[])if(s.indexOf(a)===-1)throw new Error(`${e==null?void 0:e.type}(): unknown field name "${a}" or name not in scope.`);return t}assignFieldsToGroups(){for(let[e,t]of this.ungroupedSets)for(let r of this.getUngroupPartitions(t))r.additionalGroupSets.push(t.groupSet);for(let e of this.structs())e.assignFieldsToGroups()}},p3e=class extends i2{constructor(e){super(e,void 0);this.joins=new Map,this.havings=new Hp.AndChain,this.isComplexQuery=!1,this.queryUsesUngrouped=!1,this.computeOnlyGroups=[],this.elimatedComputeGroups=!1}root(){return this}eliminateComputeGroupsSQL(){return this.elimatedComputeGroups||this.computeOnlyGroups.length==0?"":(this.elimatedComputeGroups=!0,`group_set NOT IN (${this.computeOnlyGroups.join(",")})`)}calculateSymmetricAggregates(){let e;for(let[t,r]of this.joins)if(r.parentRelationship()==="many_to_many")e="0never";else if(e===void 0)e=t;else if(r.parentRelationship()==="one_to_many"){let s=r.queryStruct;s.parent&&s.parent.getIdentifier()===e?e=t:e="0never"}for(let[t,r]of this.joins)r.leafiest=t===e;for(let[t,r]of this.joins)if(!r.leafiest&&r.mayNeedUniqueKey){let i=r;for(;i;)i.queryStruct.primaryKey()||(i.makeUniqueKey=!0),i.queryStruct.fieldDef.structRelationship.type==="nested"?i=i.parent:i=void 0}}},m3e=class{constructor(e,t,r){if(this.mayNeedUniqueKey=!1,this.makeUniqueKey=!1,this.leafiest=!1,this.children=[],this.queryStruct=e,this.parent=r,this.alias=t,r&&r.children.push(this),this.queryStruct.fieldDef.filterList)for(let i of this.queryStruct.fieldDef.filterList){this.joinFilterConditions=[];let s=new oB({type:"boolean",name:"ignoreme",e:i.expression},this.queryStruct);this.joinFilterConditions.push(s)}}parentRelationship(){if(this.queryStruct.parent===void 0)return"root";switch(this.queryStruct.fieldDef.structRelationship.type){case"one":return"many_to_one";case"cross":return"many_to_many";case"many":return"one_to_many";case"nested":return"one_to_many";case"inline":return"one_to_one";default:throw new Error(`Internal error unknown relationship type to parent for ${this.queryStruct.fieldDef.name}`)}}getDialectFieldList(){let e=[];for(let t of this.queryStruct.fieldDef.fields.filter(Ro.isPhysical))e.push({type:t.type,sqlExpression:(0,Ro.getIdentifier)(t),sqlOutputName:(0,Ro.getIdentifier)(t)});return e}},UZ=class extends XT{},x3e=class{static nextStructDef(e,t){let r=new ff(e,{model:new $Z(void 0)}),i={type:"turtle",name:"ignoreme",pipeline:[t]};return ah.makeQuery(i,r,new X7(!0,void 0)).getResultStructDef()}};f4.Segment=x3e;var ah=class extends XT{constructor(e,t,r){super(e,t);this.prepared=!1,this.maxDepth=0,this.maxGroupSet=0,this.fieldDef=e,this.rootResult=new p3e(e),this.stageWriter=r,this.firstSegment=e.pipeline[0]}static makeQuery(e,t,r=void 0){let i=t.flattenTurtleDef(e),s=t,o=i.pipeline[0];switch(r!==void 0&&(0,Ro.isQuerySegment)(o)&&o.extendSource!==void 0&&(s=new ff({...t.fieldDef,fields:[...t.fieldDef.fields,...o.extendSource]},s.parent?{struct:s}:{model:s.model}),i={...i,pipeline:[{...o,extendSource:void 0},...i.pipeline.slice(1)]}),o.type){case"reduce":return new g3e(i,s,r);case"project":return new y3e(i,s,r);case"index":return new v3e(i,s,r)}}getFieldList(){switch(this.firstSegment.type){case"reduce":return this.firstSegment.fields;case"project":return this.firstSegment.fields;default:throw new Error(`Query contains no fields ${JSON.stringify(this.fieldDef)}`)}}expandField(e){let t,r;if(typeof e=="string")r=this.parent.getQueryFieldByName(e);else if("type"in e)r=this.parent.makeQueryField(e);else if("name"in e&&"as"in e){if(r=this.parent.getQueryFieldByName(e.name),t=r.fieldDef.as||e.as,r instanceof aB)throw new Error("Syntax currently disallowed. Semantics up for discussion");let i;if(r instanceof ah){let s=(0,u3e.cloneDeep)(r.fieldDef);s.as=e.name,s.filterList=e.filterList,r=ah.makeQuery(s,this.parent)}else if(!(r instanceof eF||r instanceof ZT)){i=[{type:"field",path:r.getFullOutputName()}],"filterList"in e&&e.filterList&&(i=[{type:"filterExpression",filterList:e.filterList,e:i}]);let s={type:r.fieldDef.type,name:e.as,e:i,aggregate:I_(r)};r=this.parent.makeQueryField(s)}}else throw new Error(`Unrecognized field definition ${JSON.stringify(e,void 0,2)}`);return t||(t=r.getIdentifier()),{as:t,field:r}}expandDependantField(e,t){this.expandField(t)}expandWildCardStruct(e,t,r=void 0){let i=[],s=[];for(let[o,a]of e.nameMap)a instanceof C0&&S0(a)&&a.includeInWildcard()&&!this.parent.dialect.ignoreInProject(a.fieldDef.name)&&(!r||r(a))?i.push(a.getFullOutputName()):a instanceof ff&&t&&s.push(a);for(let o of s)i=i.concat(this.expandWildCardStruct(o,t,r));return i}expandWildCards(e,t=void 0){let r=[];for(let i of e)if(typeof i!="string")r.push(i);else{let o=i.split(".");if(!o[o.length-1].startsWith("*"))r.push(i);else{let a=o.pop()==="**",c=this.parent,d;for(;o.length>0&&(d=o.shift());){let p=c.getChildByName(d);if(p===void 0)throw new Error(`Nested explore not found '${d}'`);if(p instanceof ff)c=p;else throw new Error(`'${d}' is not an explore object`)}r=r.concat(this.expandWildCardStruct(c,a,t))}}return r}addDependantPath(e,t,r,i,s){let o=t.getFieldByName(r),a;if(o instanceof XT)a=o.parent;else if(o instanceof ff)a=o;else throw new Error("Internal Error:  Unknown object type");e.root().addStructToJoin(a.getJoinableParent(),this,i,s)}addDependantExpr(e,t,r,i){for(let s of r)if((0,Ro.isUngroupFragment)(s)){if(e.resultUsesUngrouped=!0,e.root().isComplexQuery=!0,e.root().queryUsesUngrouped=!0,s.fields&&s.fields.length>0){let o=s.fields.sort().join("|")+s.type;e.ungroupedSets.get(o)===void 0&&e.ungroupedSets.set(o,{type:s.type,fields:s.fields,groupSet:-1})}this.addDependantExpr(e,t,s.e,i)}else if((0,Ro.isFieldFragment)(s)){let o=t.getDimensionOrMeasureByName(s.path);(0,Ro.hasExpression)(o.fieldDef)?this.addDependantExpr(e,o.parent,o.fieldDef.e,i):e.root().addStructToJoin(o.parent.getJoinableParent(),this,!1,i)}else if((0,Ro.isFilterFragment)(s))for(let o of s.filterList)this.addDependantExpr(e,t,o.expression,i);else if((0,Ro.isDialectFragment)(s)){let o=[];switch(s.function){case"now":break;case"div":o.push(s.denominator),o.push(s.numerator);break;case"timeLiteral":break;case"timeDiff":o.push(s.left.value,s.right.value);break;case"delta":o.push(s.base.value,s.delta);break;case"trunc":case"extract":o.push(s.expr.value);break;case"regexpMatch":case"cast":o.push(s.expr);break;default:throw new Error("Unknown dialect Fragment type.  Can't generate dependancies")}for(let a of o)this.addDependantExpr(e,t,a,i)}else(0,Ro.isAggregateFragment)(s)&&((0,Ro.isAsymmetricFragment)(s)&&(s.structPath?this.addDependantPath(e,t,s.structPath,!0,i):e.addStructToJoin(t,this,!0,i)),this.addDependantExpr(e,t,s.e,i))}addDependancies(e,t){(0,Ro.hasExpression)(t.fieldDef)&&this.addDependantExpr(e,t.parent,t.fieldDef.e,[])}expandFields(e){let t=1;for(let r of this.expandWildCards(e.firstSegment.fields)){let{as:i,field:s}=this.expandField(r);if(s instanceof UZ||s instanceof ah){if(this.firstSegment.type==="project")throw new Error(`Turtled Queries cannot be used in PROJECT - '${s.fieldDef.name}'`);let o=new i2(s.fieldDef,e);this.expandFields(o),e.add(i,o)}else if(s instanceof C0&&(e.addField(i,s,{resultIndex:t,type:"result"}),this.addDependancies(e,s),I_(s)&&this.firstSegment.type==="project"))throw new Error(`Aggregate Fields cannot be used in PROJECT - '${s.fieldDef.name}'`);t++}this.expandFilters(e)}expandFilters(e){if(e.firstSegment.filterList!==void 0){for(let t of e.firstSegment.filterList||[]){let r=this.parent;this.addDependantExpr(e,r,t.expression,[])}for(let t of e.root().joins.values()||[])for(let r of t.joinFilterConditions||[])r.fieldDef.type==="boolean"&&r.fieldDef.e&&this.addDependantExpr(e,r.parent,r.fieldDef.e,[])}}generateSQLFilters(e,t,r=void 0){let i=new Hp.AndChain,s=r||e.firstSegment.filterList;if(s===void 0)return i;for(let o of s||[]){let a=this.parent;if(t==="having"&&o.aggregate||t==="where"&&!o.aggregate){let c=this.generateExpressionFromExpr(e,a,o.expression,void 0);i.add(c)}}return i}prepare(e){this.prepared||(this.expandFields(this.rootResult),this.rootResult.findJoins(this),this.rootResult.calculateSymmetricAggregates(),this.prepared=!0)}getResultMetadata(e){if(e instanceof w0){if(e.fieldUsage.type==="result"){let t=e.f.fieldDef,r,i=e.f.parent.getFullOutputName()+(t.name||t.as),s=t.code,o=[i];return I_(e.f)?(r=e.f.getFilterList(),{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"measure"}):S0(e.f)?{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"dimension"}:void 0}return}else if(e instanceof i2){let t=e.turtleDef.name||e.turtleDef.as,r=t?[t]:[],i=e.firstSegment.filterList,s=e.turtleDef.pipeline[e.turtleDef.pipeline.length-1].limit;if(t)return{sourceField:t,filterList:i,sourceClasses:r,fieldKind:"struct",limit:s}}}getResultStructDef(e=this.rootResult,t=!0){let r=[],i;this.prepare(void 0);let s=0;for(let[o,a]of e.allFields){let c=this.getResultMetadata(a);if(a instanceof i2){let{structDef:d}=this.generateTurtlePipelineSQL(a,new X7(!0,void 0),"<nosource>"),p=a.getRepeatedResultType()==="nested"?"nested":"inline";d.name=o,d.structRelationship={field:o,type:p,isArray:!1},d.structSource={type:p},d.resultMetadata=c,r.push(d)}else if(a instanceof w0&&a.fieldUsage.type==="result"){a.f instanceof aB&&r.push(a.f.getAsJoinedStructDef(o)),S0(a.f)&&(s===0&&t?i=o:i=void 0,s++);let d=a.f.fieldDef.location;switch(a.f.fieldDef.type){case"boolean":case"string":r.push({name:o,type:a.f.fieldDef.type,resultMetadata:c,location:d});break;case"timestamp":{let p=a.f.fieldDef.timeframe;switch(p){case"year":case"month":case"week":case"quarter":case"day":r.push({name:o,type:"date",timeframe:p,resultMetadata:c,location:d});break;case"second":case"minute":case"hour":r.push({name:o,type:"timestamp",timeframe:p,resultMetadata:c,location:d});break;default:r.push({name:o,type:"timestamp",resultMetadata:c,location:d});break}break}case"date":{r.push({name:o,type:a.f.fieldDef.type,timeframe:a.f.fieldDef.timeframe,resultMetadata:c,location:d});break}case"number":r.push({name:o,numberType:a.f.fieldDef.numberType,type:"number",resultMetadata:c,location:d});break;default:throw new Error(`unknown Field Type in query ${JSON.stringify(a.f.fieldDef)}`)}}}return{fields:r,name:this.resultStage||"result",dialect:this.parent.dialect.name,primaryKey:i,structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"},resultMetadata:this.getResultMetadata(this.rootResult),type:"struct"}}generateSQLJoinBlock(e,t){let r="",i=t.queryStruct,s=i.fieldDef.structRelationship,o=i.structSourceSQL(e);if((0,Ro.isJoinOn)(s)){t.makeUniqueKey&&(o=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${o})`);let a="";if(i.parent===void 0)throw new Error("Expected joined struct to have a parent.");s.onExpression?a=new oB({type:"boolean",name:"ignoreme",e:s.onExpression},i.parent).generateExpression(this.rootResult):a="1=1";let c="",d;if(t.joinFilterConditions&&(d=t.joinFilterConditions.map(p=>p.generateExpression(this.rootResult))),t.children.length===0||d===void 0)d!==void 0&&d.length>=1&&(c=` AND (${d.join(" AND ")})`),r+=`LEFT JOIN ${o} AS ${t.alias}
  ON ${a}${c}
`;else{let p=`SELECT ${t.alias}.*`,b="";for(let C of t.children){b+=this.generateSQLJoinBlock(e,C);let N=(0,Ro.getPhysicalFields)(C.queryStruct.fieldDef).map(R=>this.parent.dialect.sqlMaybeQuoteIdentifier(R.name));p+=`, ${this.parent.dialect.sqlSelectAliasAsStruct(C.alias,N)} AS ${C.alias}`}return p+=`
FROM ${o} AS ${t.alias}
${b}
WHERE ${d==null?void 0:d.join(" AND ")}
`,r+=`LEFT JOIN (
${(0,Hp.indent)(p)}) AS ${t.alias}
  ON ${a}
`,r}}else if(s.type==="nested"){if(i.parent===void 0||t.parent===void 0)throw new Error("Internal Error, nested structure with no parent.");let a=this.parent.dialect.sqlFieldReference(i.parent.getSQLIdentifier(),s.field,"struct",i.parent.fieldDef.structRelationship.type==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray);r+=`${this.parent.dialect.sqlUnnestAlias(a,t.alias,t.getDialectFieldList(),t.makeUniqueKey,s.isArray)}
`}else throw s.type==="inline"?new Error("Internal Error: inline structs should never appear in join trees"):new Error(`Join type not implemented ${JSON.stringify(i.fieldDef.structRelationship)}`);for(let a of t.children)r+=this.generateSQLJoinBlock(e,a);return r}generateSQLJoins(e){let t="",[[,r]]=this.rootResult.joins,i=r.queryStruct,s=i.structSourceSQL(e);if((0,Ro.isIndexSegment)(this.firstSegment)&&(s=this.parent.dialect.sqlSampleTable(s,this.firstSegment.sample)),i.fieldDef.structRelationship.type==="basetable")r.makeUniqueKey&&(s=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${s} as x)`),t+=`FROM ${s} as ${this.parent.getIdentifier()}
`;else throw new Error("Internal Error, queries must start from a basetable");for(let a of r.children)t+=this.generateSQLJoinBlock(e,a);return t}genereateSQLOrderBy(e,t){let r="";if(this.firstSegment.type==="project"&&!e.orderBy)return"";let i=e.orderBy||t.calculateDefaultOrderBy(),s=[];for(let o of i)if(typeof o.field=="string"){let a=t.getField(o.field);if(a&&a.fieldUsage.type==="result")s.push(`${a.fieldUsage.resultIndex} ${o.dir||"ASC"}`);else throw new Error(`Unknown field in ORDER BY ${o.field}`)}else s.push(`${o.field} ${o.dir||"ASC"}`);return s.length>0&&(r=this.parent.dialect.sqlOrderBy(s)+`
`),r}generateSimpleSQL(e){let t="";t+=`SELECT 
`;let r=[];for(let[i,s]of this.rootResult.allFields){let o=s,a=this.parent.dialect.sqlMaybeQuoteIdentifier(i);o.fieldUsage.type==="result"&&r.push(` ${o.f.generateExpression(this.rootResult)} as ${a}`)}if(t+=(0,Hp.indent)(r.join(`,
`))+`
`,t+=this.generateSQLJoins(e),t+=this.generateSQLFilters(this.rootResult,"where").sql("where"),this.firstSegment.type==="reduce"){let i=[];for(let s of this.rootResult.fields()){let o=s;o.fieldUsage.type==="result"&&S0(o.f)&&i.push(o.fieldUsage.resultIndex.toString())}i.length>0&&(t+=`GROUP BY ${i.join(",")}
`)}return t+=this.generateSQLFilters(this.rootResult,"having").sql("having"),t+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(t+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(t),this.resultStage}generatePipelinedStages(e,t,r){if(e.length===0)return t;let i=e.map(s=>`${s.pipelineSQL} as ${s.sqlFieldName}
      `).join(`,
`);return r.addStage(`SELECT * replace (${i}) FROM ${t}
      `)}generateStage0Fields(e,t,r){for(let[s,o]of e.allFields){let a=this.parent.dialect.sqlMaybeQuoteIdentifier(`${s}__${e.groupSet}`);if(o instanceof w0){if(o.fieldUsage.type==="result"){let c=o.getSQL();if(S0(o.f)){if(this.parent.dialect.name==="standardsql"&&this.rootResult.queryUsesUngrouped)if(o.f.fieldDef.type==="number"){t.sql.push(`${c} as ${a}`);let d=`__lateral_join_bag.${a}_string`;t.sql.push(d),t.dimensionIndexes.push(t.fieldIndex++),t.lateralJoinSQLExpressions.push(`CAST(${c} as STRING) as ${a}_string`),o.partitionSQL=d}else{let d=`__lateral_join_bag.${a}`;o.partitionSQL=d,t.lateralJoinSQLExpressions.push(`${c} as ${a}`),t.sql.push(d)}else t.sql.push(`${c} as ${a}`);t.dimensionIndexes.push(t.fieldIndex++)}else I_(o.f)&&(t.sql.push(`${c} as ${a}`),t.fieldIndex++)}}else if(o instanceof i2){if(o.firstSegment.type==="reduce")this.generateStage0Fields(o,t,r);else if(o.firstSegment.type==="project"){let c=this.generateTurtleSQL(o,r,a,t.outputPipelinedSQL);t.sql.push(`${c} as ${a}`),t.fieldIndex++}}}let i=this.generateSQLFilters(e,"having");i.empty()||(e.childGroups.length===1?e.root().havings.add(`(group_set<>${e.groupSet} OR (group_set=${e.groupSet} AND ${i.sql()}))`):(e.hasHaving=!0,t.sql.push(`CASE WHEN group_set=${e.groupSet} THEN CASE WHEN ${i.sql()} THEN 0 ELSE 1 END END as __delete__${e.groupSet}`),t.fieldIndex++))}generateSQLWhereChildren(e){let t=new Hp.AndChain;for(let[,r]of e.allFields)if(r.type==="query"){let i=r,s=this.generateSQLFilters(i,"where");if(s.present()){let o=i.childGroups.join(",");t.add(`(group_set NOT IN (${o}) OR (group_set IN (${o}) AND ${s.sql()}))`)}t.addChain(this.generateSQLWhereChildren(i))}return t}generateSQLWhereTurtled(){let e=this.generateSQLFilters(this.rootResult,"where");return e.addChain(this.generateSQLWhereChildren(this.rootResult)),e.sql("where")}generateSQLHavingLimit(e,t){let r=[],i=this.rootResult.selectStructs([],s=>s.hasHaving);if(i.length>0)for(let s of i){let o=[],a=s;for(;a;){for(let c of a.fieldNames(d=>S0(d.f)))o.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${c}__${a.groupSet}`));a=a.parent}r.push(`MAX(CASE WHEN group_set IN (${s.childGroups.join(",")}) THEN __delete__${s.groupSet} END) OVER(partition by ${o.map(c=>`CAST(${c} AS ${this.parent.dialect.stringTypeName}) `).join(",")}) as __shaving__${s.groupSet}`)}if(i.length>0){t=e.addStage(`SELECT
  *,
  ${r.join(`,
  `)} 
FROM ${t}`);let s=new Hp.AndChain;for(let o of i)s.add(`group_set IN (${o.childGroups.join(",")}) AND __shaving__${o.groupSet}=1`);t=e.addStage(`SELECT *
FROM ${t}
WHERE NOT (${s.sqlOr()})`)}return t}generateSQLStage0(e){let t=`SELECT
`,r=this.generateSQLJoins(e),i=this.generateSQLWhereTurtled(),s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};if(this.generateStage0Fields(this.rootResult,s,e),this.firstSegment.type==="project")throw new Error("PROJECT cannot be used on queries with turtles");let o="GROUP BY "+s.dimensionIndexes.join(",")+`
`;r+=this.parent.dialect.sqlGroupSetTable(this.maxGroupSet)+`
`,t+=(0,Hp.indent)(s.sql.join(`,
`))+`
`,s.lateralJoinSQLExpressions.length>0&&(r+=`LEFT JOIN UNNEST([STRUCT(${s.lateralJoinSQLExpressions.join(`,
`)})]) as __lateral_join_bag
`),t+=r+i+o+this.rootResult.havings.sql("having");let a=e.addStage(t);return this.resultStage=this.generateSQLHavingLimit(e,a),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,e),this.resultStage}generateDepthNFields(e,t,r,i){let s=[];for(let[o,a]of t.allFields){let c=this.parent.dialect.sqlMaybeQuoteIdentifier(`${o}__${t.groupSet}`);if(a instanceof w0){if(a.fieldUsage.type==="result"){if(S0(a.f)){let d=this.caseGroup(t.groupSet>0?t.childGroups:[],c);r.sql.push(`${d} as ${c}`),r.dimensionIndexes.push(r.fieldIndex++)}else if(I_(a.f)){let d=this.parent.dialect.sqlAnyValue(t.groupSet,c);r.sql.push(`${d} as ${c}`),r.fieldIndex++}}}else if(a instanceof i2&&!(a.depth>e))if(a.depth===e){let d=this.generateTurtleSQL(a,i,c,r.outputPipelinedSQL);r.groupsAggregated.push({fromGroup:a.groupSet,toGroup:t.groupSet}),s.push(a.groupSet),r.sql.push(`${d} as ${c}`),r.fieldIndex++}else this.generateDepthNFields(e,a,r,i)}if(r.groupsAggregated.length>0){r.sql[0]="CASE ";for(let o of r.groupsAggregated)r.sql[0]+=`WHEN group_set=${o.fromGroup} THEN ${o.toGroup} `;r.sql[0]+=" ELSE group_set END as group_set"}}generateSQLDepthN(e,t,r){let i=`SELECT 
`,s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};this.generateDepthNFields(e,this.rootResult,s,t),i+=(0,Hp.indent)(s.sql.join(`,
`))+`
`,i+=`FROM ${r}
`;let o=this.rootResult.eliminateComputeGroupsSQL();return o.length>0&&(i+=`WHERE ${o}
`),s.dimensionIndexes.length>0&&(i+=`GROUP BY ${s.dimensionIndexes.join(",")}
`),this.resultStage=t.addStage(i),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,t),this.resultStage}genereateSQLCombineTurtles(e,t){let r=`SELECT
`,i=[],s=1,o=[],a=[];for(let[d,p]of this.rootResult.allFields){let b=this.parent.dialect.sqlMaybeQuoteIdentifier(d);p instanceof w0?p.fieldUsage.type==="result"&&(S0(p.f)?(i.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${d}__${this.rootResult.groupSet}`)+` as ${b}`),a.push(s++)):I_(p.f)&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(d,this.rootResult.groupSet,b)),s++)):p instanceof i2&&(p.firstSegment.type==="reduce"?(i.push(`${this.generateTurtleSQL(p,e,b,o)} as ${b}`),s++):p.firstSegment.type==="project"&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(d,this.rootResult.groupSet,b)),s++))}r+=(0,Hp.indent)(i.join(`,
`))+`
FROM ${t}
`;let c=this.rootResult.eliminateComputeGroupsSQL();return c.length>0&&(r+=`WHERE ${c}
`),a.length>0&&(r+=`GROUP BY ${a.join(",")}
`),r+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(r+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(r),this.resultStage=this.generatePipelinedStages(o,this.resultStage,e),this.resultStage}generateTurtleSQL(e,t,r,i){let s=[],o="",a=e.firstSegment.limit,c=[],d,p=e.firstSegment.orderBy||e.calculateDefaultOrderBy();for(let V of p)typeof V.field=="string"?d={name:V.field,fif:e.getField(V.field)}:d=e.getFieldByNumber(V.field),e.firstSegment.type==="reduce"?c.push(" "+this.parent.dialect.sqlMaybeQuoteIdentifier(`${d.name}__${e.groupSet}`)+` ${V.dir||"ASC"}`):e.firstSegment.type==="project"&&c.push(` ${d.fif.f.generateExpression(e)} ${V.dir||"ASC"}`);c.length>0&&(o=" "+this.parent.dialect.sqlOrderBy(c));for(let[V,P]of e.allFields){let $=this.parent.dialect.sqlMaybeQuoteIdentifier(V);e.firstSegment.type==="reduce"&&(P instanceof i2||P instanceof w0&&P.fieldUsage.type==="result")?s.push({type:P instanceof w0?P.f.fieldDef.type:"struct",sqlExpression:this.parent.dialect.sqlMaybeQuoteIdentifier(`${V}__${e.groupSet}`),sqlOutputName:$}):e.firstSegment.type==="project"&&P instanceof w0&&P.fieldUsage.type==="result"&&s.push({type:P.type,sqlExpression:P.f.generateExpression(e),sqlOutputName:$})}let b,C;(b=e.getRepeatedResultType())!=="nested"?b==="inline_all_numbers"?C=this.parent.dialect.sqlCoaleseMeasuresInline(e.groupSet,s):C=this.parent.dialect.sqlAnyValueTurtle(e.groupSet,s):C=this.parent.dialect.sqlAggregateTurtle(e.groupSet,s,o,a);let N=new X7(this.parent.dialect.supportsCTEinCoorelatedSubQueries,t),{structDef:R,pipeOut:U}=this.generateTurtlePipelineSQL(e,N,this.parent.dialect.supportUnnestArrayAgg?C:r);if(U!==void 0){let V=N.generateCoorelatedSubQuery(this.parent.dialect,R);this.parent.dialect.supportUnnestArrayAgg?C=`(${V})`:i.push({sqlFieldName:r,pipelineSQL:`(${V})`})}return C}generateTurtlePipelineSQL(e,t,r){let i=this.getResultStructDef(e,!1),s=e.getRepeatedResultType(),o=e.turtleDef.pipeline.length>1,a;if(o){let c=[...e.turtleDef.pipeline];c.shift();let d={type:"turtle",name:"starthere",pipeline:c};i.name=this.parent.dialect.sqlUnnestPipelineHead(s==="inline_all_numbers",r),i.structSource={type:"sql",method:"nested"};let p=new ff(i,{model:this.parent.getModel()});a=ah.makeQuery(d,p,t).generateSQLFromPipeline(t),i=a.outputStruct}return{structDef:i,pipeOut:a}}generateComplexSQL(e){let t=this.generateSQLStage0(e);if(this.maxDepth>1){let r=this.maxDepth;for(;r>1;)t=this.generateSQLDepthN(r,e,t),r--}return this.genereateSQLCombineTurtles(e,t)}generateSQL(e){var t;let r=this.rootResult.computeGroups(0,0);return this.maxDepth=r.maxDepth,this.maxGroupSet=r.nextGroupSetNumber-1,this.rootResult.assignFieldsToGroups(),(t=this.rootResult).isComplexQuery||(t.isComplexQuery=this.maxDepth>0||r.isComplex),this.rootResult.isComplexQuery?this.generateComplexSQL(e):this.generateSimpleSQL(e)}toMalloy(){let e=`EXPLORE ${(0,Ro.getIdentifier)(this.parent.fieldDef)} | `;return e+=this.fieldDef.type.toUpperCase()+" ",e}generateSQLFromPipeline(e){this.prepare(e);let t=this.generateSQL(e),r=this.getResultStructDef();if(this.fieldDef.pipeline.length>1){let i=[...this.fieldDef.pipeline],s={...r,structSource:{type:"sql",method:"lastStage"}};i.shift();for(let o of i){let a=new ff(s,{model:this.parent.getModel()}),c=ah.makeQuery({type:"turtle",name:"ignoreme",pipeline:[o]},a,e);c.prepare(e),t=c.generateSQL(e),r=c.getResultStructDef(),s={...r,structSource:{type:"sql",method:"lastStage"}}}}return{lastStageName:t,outputStruct:r}}},g3e=class extends ah{},y3e=class extends ah{},v3e=class extends ah{constructor(e,t,r){super(e,t,r);this.fanPrefixes=[],this.fieldDef=e,this.findFanPrefexes(t)}findFanPrefexes(e){for(let[t,r]of e.nameMap)r instanceof ff&&(r.fieldDef.structRelationship.type==="many"||r.fieldDef.structRelationship.type==="nested")&&this.fanPrefixes.push(r.getFullOutputName())}expandField(e){let t=this.parent.getFieldByName(e);return{as:e,field:t}}expandFields(e){let t=1,r=e.groupSet;this.maxGroupSet=r;let i=this.firstSegment.fields||[];i.length===0&&i.push("**"),i=this.expandWildCards(i,o=>["string","number","timestamp","date"].indexOf(o.fieldDef.type)!==-1);for(let o of i){let{as:a,field:c}=this.expandField(o);e.addField(a,c,{resultIndex:t,type:"result"}),c instanceof C0&&this.addDependancies(e,c),t++}let s=this.firstSegment.weightMeasure;if(s!==void 0){let o=this.parent.getFieldByName(s);e.addField(s,o,{resultIndex:t,type:"result"}),this.addDependancies(e,o)}this.expandFilters(e)}generateSQL(e){let t="COUNT(*)",r=this.parent.dialect,i=r.sqlMaybeQuoteIdentifier("fieldName"),s=r.sqlMaybeQuoteIdentifier("fieldValue"),o=r.sqlMaybeQuoteIdentifier("fieldType"),a=r.sqlMaybeQuoteIdentifier("fieldRange"),c=this.firstSegment.weightMeasure;c&&(t=this.rootResult.getField(c).f.generateExpression(this.rootResult));let d=[];for(let[C,N]of this.rootResult.allFields){let R=N;if(R.fieldUsage.type==="result"&&S0(R.f)){let U=R.f.generateExpression(this.rootResult);d.push({name:C,type:R.f.fieldDef.type,expression:U})}}let p=`SELECT
  group_set,
`;p+=`  CASE group_set
`;for(let C=0;C<d.length;C++)p+=`    WHEN ${C} THEN '${d[C].name}'
`;p+=`  END as ${i},`,p+=`  CASE group_set
`;for(let C=0;C<d.length;C++)p+=`    WHEN ${C} THEN '${d[C].type}'
`;p+=`  END as ${o},`,p+=`  CASE group_set
`;for(let C=0;C<d.length;C++)d[C].type==="string"&&(p+=`    WHEN ${C} THEN ${d[C].expression}
`);p+=`  END as ${s},
`,p+=` ${t} as weight,
`,p+=`  CASE group_set
    WHEN 99999 THEN ''`;for(let C=0;C<d.length;C++)d[C].type==="number"&&(p+=`    WHEN ${C} THEN CAST(MIN(${d[C].expression}) AS ${r.stringTypeName}) || ' to ' || CAST(MAX(${d[C].expression}) AS ${r.stringTypeName})
`),(d[C].type==="timestamp"||d[C].type==="date")&&(p+=`    WHEN ${C} THEN MIN(${r.sqlDateToString(d[C].expression)}) || ' to ' || MAX(${r.sqlDateToString(d[C].expression)})
`);p+=`  END as ${a}
`,p+=this.generateSQLJoins(e),p+=r.sqlGroupSetTable(d.length)+`
`,p+=this.generateSQLFilters(this.rootResult,"where").sql("where"),p+=`GROUP BY 1,2,3,4
`,this.firstSegment.limit&&(p+=`LIMIT ${this.firstSegment.limit}
`);let b=e.addStage(p);return this.resultStage=e.addStage(`SELECT
  ${i},
  ${o},
  COALESCE(${s}, ${a}) as ${s},
  weight
FROM ${b}
`),this.resultStage}getResultStructDef(){return{type:"struct",name:this.resultStage||"result",dialect:this.parent.fieldDef.dialect,fields:[{type:"string",name:"fieldName"},{type:"string",name:"fieldValue"},{type:"string",name:"fieldType"},{type:"number",name:"weight",numberType:"integer"}],structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"}}}},ff=class extends qZ{constructor(e,t){super(e);if(this.nameMap=new Map,this.setParent(t),"model"in t)if(this.model=t.model,this.pathAliasMap=new Map,e.structRelationship.type==="basetable")this.connectionName=e.structRelationship.connectionName;else throw new Error("All root StructDefs should be a baseTable");else this.model=this.getModel(),this.pathAliasMap=this.root().pathAliasMap,this.connectionName=this.root().connectionName;this.fieldDef=e,this.dialect=(0,QJe.getDialect)(this.fieldDef.dialect),this.addFieldsFromFieldList(this.fieldDef.fields)}parameters(){return this.fieldDef.parameters||{}}addFieldsFromFieldList(e){for(let t of e){let r=(0,Ro.getIdentifier)(t);switch(t.type){case"struct":{this.addFieldToNameMap(r,new ff(t,{struct:this}));break}case"turtle":{this.addFieldToNameMap(r,ah.makeQuery(t,this));break}default:this.addFieldToNameMap(r,this.makeQueryField(t))}}this.nameMap.has("__distinct_key")||this.addFieldToNameMap("__distinct_key",new f3e({type:"string",name:"__distinct_key"},this))}getAliasIdentifier(){let e=this.getFullOutputName(),t=this.pathAliasMap.get(e);if(t===void 0){let r=Array.from(this.pathAliasMap.values()),i=(0,Ro.getIdentifier)(this.fieldDef),s=`${i}_0`,o=1;for(;r.includes(s)&&o<1e3;)o++,s=`${i}_${o}`;if(o<1e3)return this.pathAliasMap.set(e,s),s;throw new Error("Internal Error: cannot create unique alias name")}else return t}getAsQueryField(){if(this.fieldDef.primaryKey===void 0)throw new Error(`Joined explores can only be included in queries if a primary key is defined: '${this.getFullOutputName()}' has no primary key`);let e=this.getPrimaryKeyField(this.fieldDef),t=e.fieldDef.type;if(t!=="string"&&t!=="number")throw new Error(`Unknown Primary key data type for ${name}`);let r=(0,Ro.getIdentifier)(this.fieldDef),i=this.fieldDef.primaryKey,s={type:t,name:`${r}_id`,e:[{type:"field",path:e.getIdentifier()}]};return new aB(s,this,`${r}.${i}`)}getSQLIdentifier(){return this.unnestWithNumbers()&&this.parent!==void 0?this.parent.getSQLIdentifier()+"."+(0,Ro.getIdentifier)(this.fieldDef)+`[${this.getIdentifier()}.__row_id]`:this.getIdentifier()}getIdentifier(){return this.fieldDef.structRelationship.type==="basetable"?this.fieldDef.as===void 0?"base":super.getIdentifier():this.fieldDef.structRelationship.type==="inline"&&this.parent?this.parent.getIdentifier()+"."+super.getIdentifier():this.getAliasIdentifier()}getFullOutputName(){return this.parent?this.parent.getFullOutputName()+(0,Ro.getIdentifier)(this.fieldDef)+".":""}needsSymetricCalculation(e){let t=this.getJoinableParent().getIdentifier(),r=e.root().joins.get(t);if(r)return!r.leafiest;throw new Error(`Join ${t} not found in result set`)}unnestWithNumbers(){return this.dialect.unnestWithNumbers&&this.fieldDef.structRelationship.type==="nested"}getJoinableParent(){if(this.fieldDef.structRelationship.type==="inline"){if(this.parent)return this.parent.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return this}addFieldToNameMap(e,t){if(this.nameMap.has(e))throw new Error(`Redefinition of ${e}`);this.nameMap.set(e,t)}getPrimaryKeyField(e){let t;if(t=this.primaryKey())return t;throw new Error(`Missing primary key for ${e}`)}resolveQueryFields(){if(this.fieldDef.structSource.type==="query"){let e=this.model.loadQuery(this.fieldDef.structSource.query,void 0).structs.pop();if(!e)throw new Error("Internal Error, query didn't produce a struct");let t={...this.fieldDef};for(let r of e.fields){let i;this.nameMap.has(i=(0,Ro.getIdentifier)(r))||(t.fields.push(r),this.nameMap.set(i,this.makeQueryField(r)))}this.fieldDef=t,!this.fieldDef.primaryKey&&e.primaryKey&&(this.fieldDef.primaryKey=e.primaryKey)}for(let[,e]of this.nameMap)e instanceof ff&&e.resolveQueryFields()}getModel(){if(this.model)return this.model;if(this.parent===void 0)throw new Error("Expected this query struct to have a parent, as no model was present.");return this.parent.getModel()}setParent(e){"struct"in e&&(this.parent=e.struct),"model"in e?this.model=e.model:this.model=this.getModel()}makeQueryField(e){switch(e.type){case"string":return new l3e(e,this);case"date":return new ZT(e,this);case"timestamp":return new eF(e,this);case"number":return new c3e(e,this);case"boolean":return new oB(e,this);case"turtle":return new UZ(e,this);default:throw new Error(`unknown field definition ${JSON.stringify(e)}`)}}getOrMakeField(e){return typeof e=="string"?this.getFieldByName(e):this.makeQueryField(e)}getOrMakeDimension(e){let t=this.getOrMakeField(e);if(t instanceof C0&&S0(t))return t;throw new Error(`${e} is not of type a scalar'`)}structSourceSQL(e){switch(this.fieldDef.structSource.type){case"table":{let t=this.fieldDef.structSource.tablePath;return this.dialect.quoteTablePath(t)}case"sql":if(this.fieldDef.structSource.method==="nested"||this.fieldDef.structSource.method==="lastStage")return this.fieldDef.name;if(this.fieldDef.structSource.method==="subquery")return`(${this.fieldDef.structSource.sqlBlock.select})`;throw new Error("Internal Error: Unknown structSource type 'sql' method");case"nested":return"UNNEST(this.fieldDef.name)";case"inline":return"";case"query":{let t=(0,Ro.getIdentifier)(this.fieldDef);if(t.includes("cache")){let r=new X7(!0,e);return this.model.loadQuery(this.fieldDef.structSource.query,r),r.addPDT(t,this.dialect)}else return this.model.loadQuery(this.fieldDef.structSource.query,e).lastStageName}default:throw new Error(`unknown structSource ${this.fieldDef}`)}}root(){return this.parent===void 0?this:this.parent.root()}primaryKey(){if(this.fieldDef.primaryKey)return this.getDimensionByName(this.fieldDef.primaryKey)}static resolvePath(e){return e.split(".")}getChildByName(e){return this.nameMap.get(e)}getFieldByName(e){let t=ff.resolvePath(e),r=this;for(let i of t){let s=r.getChildByName(i);if(s===void 0)throw new Error(`Path not found ${e}`);r=s}return r}getQueryFieldByName(e){let t=this.getFieldByName(e);return t instanceof ff&&(t=t.getAsQueryField()),t}getDimensionOrMeasureByName(e){let t=this.getFieldByName(e);if(t instanceof C0)return t;throw new Error(`${e} is not of type a scalar'`)}getDimensionByName(e){let t=this.getFieldByName(e);if(t instanceof C0&&S0(t))return t;throw new Error(`${e} is not of type a scalar'`)}getStructByName(e){let t=this.getFieldByName(e);if(t instanceof ff)return t;throw new Error(`Error: Path to structure not found '${e}'`)}getDistinctKey(){if(this.fieldDef.structRelationship.type!=="inline")return this.getDimensionByName("__distinct_key");if(this.parent)return this.parent.getDistinctKey();throw new Error("Internal Error.  inline struct can not be top level")}flattenTurtleDef(e){let t=e.pipeline,r=e.pipeHead;for(;r;){let o=this.getFieldByName(r.name);if(o instanceof ah)r=o.fieldDef.pipeHead,t=o.fieldDef.pipeline.concat(t);else throw new Error(`Only Turtles can be used in a pipeline ${r.name}`)}let i=e.filterList||[];return t=(0,u3e.cloneDeep)(t),t[0].filterList=i.concat(t[0].filterList||[],this.fieldDef.filterList||[]),{type:"turtle",name:e.name,pipeline:t,location:e.location}}},$Z=class{constructor(e){this.dialect=new WJe.StandardSQLDialect,this.modelDef=void 0,this.structs=new Map,this.exploreSearchSQLMap=new Map,e&&this.loadModelFromDef(e)}loadModelFromDef(e){this.modelDef=e;for(let t of Object.values(this.modelDef.contents)){let r;if(t.type==="struct")r=new ff(t,{model:this}),this.structs.set((0,Ro.getIdentifier)(t),r),r.resolveQueryFields();else if(t.type!=="query")throw new Error("Internal Error: Unknown structure type")}}parseQueryPath(e){let t=e.split("."),r;if(r=this.structs.get(t[0])){if(t.length>1)t.shift();else throw new Error(`No query specified in Struct '${t[0]}'`);return{queryName:t.join("."),struct:r}}else throw new Error(`Cannot find Struct '${t[0]}' Model`)}getStructByName(e){let t;if(t=this.structs.get(e))return t;throw new Error(`Struct ${e} not found in model.`)}getStructFromRef(e){let t;if(typeof e=="string")return this.getStructByName(e);if(e.type==="struct")t=e;else throw new Error("Broken for now");return new ff(t,{model:this})}loadQuery(e,t,r=!1){let i="";t||(t=new X7(!0,void 0));let s={type:"turtle",name:"ignoreme",pipeHead:e.pipeHead,pipeline:e.pipeline,filterList:e.filterList},o=ah.makeQuery(s,this.getStructFromRef(e.structRef),t),a=o.generateSQLFromPipeline(t);if(r&&o.parent.dialect.hasFinalStage){let c=(0,Ro.getPhysicalFields)(a.outputStruct).map(d=>o.parent.dialect.sqlMaybeQuoteIdentifier(d.name));a.lastStageName=t.addStage(o.parent.dialect.sqlFinalStage(a.lastStageName,c))}return{lastStageName:a.lastStageName,malloy:i,stageWriter:t,structs:[a.outputStruct],connectionName:o.parent.connectionName}}compileQuery(e,t=!0){let r,s=(r||this).loadQuery(e,void 0,t),o=typeof e.structRef=="string"?e.structRef:e.structRef.type==="struct"?e.structRef.as||e.structRef.name:"(need to figure this out)";return t&&this.dialect.hasFinalStage&&(s.lastStageName=s.stageWriter.addStage(this.dialect.sqlFinalStage(s.lastStageName,[]))),{lastStageName:s.lastStageName,malloy:s.malloy,sql:s.stageWriter.generateSQLStages(),structs:s.structs,sourceExplore:o,sourceFilters:e.filterList,queryName:e.pipeHead&&e.pipeline.length===0?e.pipeHead.name:void 0,connectionName:s.connectionName}}async searchIndex(e,t,r,i=1e3,s=void 0){if(!e.canPersist())return;let o=this.getStructByName(t),a;o.nameMap.get("search_index")?a={structRef:t,pipeHead:{name:"search_index"},pipeline:[]}:a={structRef:t,pipeline:[{type:"index",fields:["*"],sample:o.dialect.defaultSampling}]};let c=o.dialect.sqlMaybeQuoteIdentifier("fieldName"),d=o.dialect.sqlMaybeQuoteIdentifier("fieldValue"),p=o.dialect.sqlMaybeQuoteIdentifier("fieldType"),b=this.exploreSearchSQLMap.get(t);b===void 0&&(b=(await this.compileQuery(a,!1)).sql,this.exploreSearchSQLMap.set(t,b));let C=`SELECT
              ${c},
              ${d},
              ${p},
              weight,
              CASE WHEN lower(${d}) LIKE  lower(${jZ(r+"%")}) THEN 1 ELSE 0 END as match_first
            FROM  ${await e.manifestTemporaryTable(b)}
            WHERE lower(${d}) LIKE lower(${jZ("%"+r+"%")}) ${s!==void 0?` AND ${c} = '`+s+`' 
`:""}
            ORDER BY CASE WHEN lower(${d}) LIKE  lower(${jZ(r+"%")}) THEN 1 ELSE 0 END DESC, weight DESC
            LIMIT ${i}
          `;return o.dialect.hasFinalStage&&(C=`WITH __stage0 AS(
${C}
)
${o.dialect.sqlFinalStage("__stage0",[c,d,p,"weight","match_first"])}`),(await e.runSQL(C,{rowLimit:1e3})).rows}};f4.QueryModel=$Z});var K7=we(s2=>{"use strict";m();var YJe=s2&&s2.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),KJe=s2&&s2.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&YJe(e,n,t)};Object.defineProperty(s2,"__esModule",{value:!0});s2.QueryModel=s2.Segment=void 0;KJe(r2(),s2);var _3e=zZ();Object.defineProperty(s2,"Segment",{enumerable:!0,get:function(){return _3e.Segment}});Object.defineProperty(s2,"QueryModel",{enumerable:!0,get:function(){return _3e.QueryModel}})});var E3e=we(b3e=>{"use strict";m();Object.defineProperty(b3e,"__esModule",{value:!0})});var C3e=we(S3e=>{"use strict";m();Object.defineProperty(S3e,"__esModule",{value:!0})});var HZ=we((S7t,w3e)=>{"use strict";m();w3e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var tF=we((C7t,A3e)=>{"use strict";m();var JJe=HZ();A3e.exports=function(){return JJe()&&!!Symbol.toStringTag}});var D3e=we((w7t,F3e)=>{"use strict";m();var T3e=typeof Symbol!="undefined"&&Symbol,XJe=HZ();F3e.exports=function(){return typeof T3e!="function"||typeof Symbol!="function"||typeof T3e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:XJe()}});var N3e=we((A7t,O3e)=>{"use strict";m();var ZJe="Function.prototype.bind called on incompatible ",VZ=Array.prototype.slice,eXe=Object.prototype.toString,tXe="[object Function]";O3e.exports=function(e){var t=this;if(typeof t!="function"||eXe.call(t)!==tXe)throw new TypeError(ZJe+t);for(var r=VZ.call(arguments,1),i,s=function(){if(this instanceof i){var p=t.apply(this,r.concat(VZ.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,r.concat(VZ.call(arguments)))},o=Math.max(0,t.length-r.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var d=function(){};d.prototype=t.prototype,i.prototype=new d,d.prototype=null}return i}});var uB=we((T7t,R3e)=>{"use strict";m();var nXe=N3e();R3e.exports=Function.prototype.bind||nXe});var k3e=we((F7t,L3e)=>{"use strict";m();var rXe=uB();L3e.exports=rXe.call(Function.call,Object.prototype.hasOwnProperty)});var rF=we((D7t,B3e)=>{"use strict";m();var Xo,e8=SyntaxError,I3e=Function,t8=TypeError,WZ=function(n){try{return I3e('"use strict"; return ('+n+").constructor;")()}catch{}},M_=Object.getOwnPropertyDescriptor;if(M_)try{M_({},"")}catch{M_=null}var QZ=function(){throw new t8},iXe=M_?function(){try{return arguments.callee,QZ}catch{try{return M_(arguments,"callee").get}catch{return QZ}}}():QZ,n8=D3e()(),d4=Object.getPrototypeOf||function(n){return n.__proto__},r8={},sXe=typeof Uint8Array=="undefined"?Xo:d4(Uint8Array),i8={"%AggregateError%":typeof AggregateError=="undefined"?Xo:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?Xo:ArrayBuffer,"%ArrayIteratorPrototype%":n8?d4([][Symbol.iterator]()):Xo,"%AsyncFromSyncIteratorPrototype%":Xo,"%AsyncFunction%":r8,"%AsyncGenerator%":r8,"%AsyncGeneratorFunction%":r8,"%AsyncIteratorPrototype%":r8,"%Atomics%":typeof Atomics=="undefined"?Xo:Atomics,"%BigInt%":typeof BigInt=="undefined"?Xo:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?Xo:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?Xo:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?Xo:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?Xo:FinalizationRegistry,"%Function%":I3e,"%GeneratorFunction%":r8,"%Int8Array%":typeof Int8Array=="undefined"?Xo:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?Xo:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?Xo:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":n8?d4(d4([][Symbol.iterator]())):Xo,"%JSON%":typeof JSON=="object"?JSON:Xo,"%Map%":typeof Map=="undefined"?Xo:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!n8?Xo:d4(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?Xo:Promise,"%Proxy%":typeof Proxy=="undefined"?Xo:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?Xo:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?Xo:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!n8?Xo:d4(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?Xo:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":n8?d4(""[Symbol.iterator]()):Xo,"%Symbol%":n8?Symbol:Xo,"%SyntaxError%":e8,"%ThrowTypeError%":iXe,"%TypedArray%":sXe,"%TypeError%":t8,"%Uint8Array%":typeof Uint8Array=="undefined"?Xo:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?Xo:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?Xo:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?Xo:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?Xo:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?Xo:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?Xo:WeakSet},oXe=function n(e){var t;if(e==="%AsyncFunction%")t=WZ("async function () {}");else if(e==="%GeneratorFunction%")t=WZ("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=WZ("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&(t=d4(i.prototype))}return i8[e]=t,t},M3e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},nF=uB(),lB=k3e(),aXe=nF.call(Function.call,Array.prototype.concat),uXe=nF.call(Function.apply,Array.prototype.splice),P3e=nF.call(Function.call,String.prototype.replace),cB=nF.call(Function.call,String.prototype.slice),lXe=nF.call(Function.call,RegExp.prototype.exec),cXe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,fXe=/\\(\\)?/g,dXe=function(e){var t=cB(e,0,1),r=cB(e,-1);if(t==="%"&&r!=="%")throw new e8("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new e8("invalid intrinsic syntax, expected opening `%`");var i=[];return P3e(e,cXe,function(s,o,a,c){i[i.length]=a?P3e(c,fXe,"$1"):o||s}),i},hXe=function(e,t){var r=e,i;if(lB(M3e,r)&&(i=M3e[r],r="%"+i[0]+"%"),lB(i8,r)){var s=i8[r];if(s===r8&&(s=oXe(r)),typeof s=="undefined"&&!t)throw new t8("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new e8("intrinsic "+e+" does not exist!")};B3e.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new t8("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new t8('"allowMissing" argument must be a boolean');if(lXe(/^%?[^%]*%?$/,e)===null)throw new e8("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=dXe(e),i=r.length>0?r[0]:"",s=hXe("%"+i+"%",t),o=s.name,a=s.value,c=!1,d=s.alias;d&&(i=d[0],uXe(r,aXe([0,1],d)));for(var p=1,b=!0;p<r.length;p+=1){var C=r[p],N=cB(C,0,1),R=cB(C,-1);if((N==='"'||N==="'"||N==="`"||R==='"'||R==="'"||R==="`")&&N!==R)throw new e8("property names with quotes must have matching quotes");if((C==="constructor"||!b)&&(c=!0),i+="."+C,o="%"+i+"%",lB(i8,o))a=i8[o];else if(a!=null){if(!(C in a)){if(!t)throw new t8("base intrinsic for "+e+" exists, but the property is not available.");return}if(M_&&p+1>=r.length){var U=M_(a,C);b=!!U,b&&"get"in U&&!("originalValue"in U.get)?a=U.get:a=a[C]}else b=lB(a,C),a=a[C];b&&!c&&(i8[o]=a)}}return a}});var dB=we((O7t,fB)=>{"use strict";m();var GZ=uB(),s8=rF(),j3e=s8("%Function.prototype.apply%"),q3e=s8("%Function.prototype.call%"),U3e=s8("%Reflect.apply%",!0)||GZ.call(q3e,j3e),$3e=s8("%Object.getOwnPropertyDescriptor%",!0),P_=s8("%Object.defineProperty%",!0),pXe=s8("%Math.max%");if(P_)try{P_({},"a",{value:1})}catch{P_=null}fB.exports=function(e){var t=U3e(GZ,q3e,arguments);if($3e&&P_){var r=$3e(t,"length");r.configurable&&P_(t,"length",{value:1+pXe(0,e.length-(arguments.length-1))})}return t};var z3e=function(){return U3e(GZ,j3e,arguments)};P_?P_(fB.exports,"apply",{value:z3e}):fB.exports.apply=z3e});var hB=we((N7t,W3e)=>{"use strict";m();var H3e=rF(),V3e=dB(),mXe=V3e(H3e("String.prototype.indexOf"));W3e.exports=function(e,t){var r=H3e(e,!!t);return typeof r=="function"&&mXe(e,".prototype.")>-1?V3e(r):r}});var Y3e=we((R7t,G3e)=>{"use strict";m();var xXe=tF()(),gXe=hB(),YZ=gXe("Object.prototype.toString"),pB=function(e){return xXe&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:YZ(e)==="[object Arguments]"},Q3e=function(e){return pB(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&YZ(e)!=="[object Array]"&&YZ(e.callee)==="[object Function]"},yXe=function(){return pB(arguments)}();pB.isLegacyArguments=Q3e;G3e.exports=yXe?pB:Q3e});var X3e=we((L7t,J3e)=>{"use strict";m();var vXe=Object.prototype.toString,_Xe=Function.prototype.toString,bXe=/^\s*(?:function)?\*/,K3e=tF()(),KZ=Object.getPrototypeOf,EXe=function(){if(!K3e)return!1;try{return Function("return function*() {}")()}catch{}},JZ;J3e.exports=function(e){if(typeof e!="function")return!1;if(bXe.test(_Xe.call(e)))return!0;if(!K3e){var t=vXe.call(e);return t==="[object GeneratorFunction]"}if(!KZ)return!1;if(typeof JZ=="undefined"){var r=EXe();JZ=r?KZ(r):!1}return KZ(e)===JZ}});var n4e=we((k7t,t4e)=>{"use strict";m();var Z3e=Function.prototype.toString,o8=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,XZ,mB;if(typeof o8=="function"&&typeof Object.defineProperty=="function")try{XZ=Object.defineProperty({},"length",{get:function(){throw mB}}),mB={},o8(function(){throw 42},null,XZ)}catch(n){n!==mB&&(o8=null)}else o8=null;var SXe=/^\s*class\b/,ZZ=function(e){try{var t=Z3e.call(e);return SXe.test(t)}catch{return!1}},eee=function(e){try{return ZZ(e)?!1:(Z3e.call(e),!0)}catch{return!1}},xB=Object.prototype.toString,CXe="[object Object]",wXe="[object Function]",AXe="[object GeneratorFunction]",TXe="[object HTMLAllCollection]",FXe="[object HTML document.all class]",DXe="[object HTMLCollection]",OXe=typeof Symbol=="function"&&!!Symbol.toStringTag,NXe=!(0 in[,]),tee=function(){return!1};typeof document=="object"&&(e4e=document.all,xB.call(e4e)===xB.call(document.all)&&(tee=function(e){if((NXe||!e)&&(typeof e=="undefined"||typeof e=="object"))try{var t=xB.call(e);return(t===TXe||t===FXe||t===DXe||t===CXe)&&e("")==null}catch{}return!1}));var e4e;t4e.exports=o8?function(e){if(tee(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{o8(e,null,XZ)}catch(t){if(t!==mB)return!1}return!ZZ(e)&&eee(e)}:function(e){if(tee(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(OXe)return eee(e);if(ZZ(e))return!1;var t=xB.call(e);return t!==wXe&&t!==AXe&&!/^\[object HTML/.test(t)?!1:eee(e)}});var nee=we((I7t,i4e)=>{"use strict";m();var RXe=n4e(),LXe=Object.prototype.toString,r4e=Object.prototype.hasOwnProperty,kXe=function(e,t,r){for(var i=0,s=e.length;i<s;i++)r4e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},IXe=function(e,t,r){for(var i=0,s=e.length;i<s;i++)r==null?t(e.charAt(i),i,e):t.call(r,e.charAt(i),i,e)},MXe=function(e,t,r){for(var i in e)r4e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},PXe=function(e,t,r){if(!RXe(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),LXe.call(e)==="[object Array]"?kXe(e,t,i):typeof e=="string"?IXe(e,t,i):MXe(e,t,i)};i4e.exports=PXe});var iee=we((M7t,s4e)=>{"use strict";m();var ree=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],BXe=typeof globalThis=="undefined"?global:globalThis;s4e.exports=function(){for(var e=[],t=0;t<ree.length;t++)typeof BXe[ree[t]]=="function"&&(e[e.length]=ree[t]);return e}});var see=we((P7t,o4e)=>{"use strict";m();var jXe=rF(),gB=jXe("%Object.getOwnPropertyDescriptor%",!0);if(gB)try{gB([],"length")}catch{gB=null}o4e.exports=gB});var uee=we((B7t,f4e)=>{"use strict";m();var a4e=nee(),qXe=iee(),oee=hB(),UXe=oee("Object.prototype.toString"),u4e=tF()(),$Xe=typeof globalThis=="undefined"?global:globalThis,l4e=qXe(),zXe=oee("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},HXe=oee("String.prototype.slice"),c4e={},yB=see(),aee=Object.getPrototypeOf;u4e&&yB&&aee&&a4e(l4e,function(n){var e=new $Xe[n];if(Symbol.toStringTag in e){var t=aee(e),r=yB(t,Symbol.toStringTag);if(!r){var i=aee(t);r=yB(i,Symbol.toStringTag)}c4e[n]=r.get}});var VXe=function(e){var t=!1;return a4e(c4e,function(r,i){if(!t)try{t=r.call(e)===i}catch{}}),t};f4e.exports=function(e){if(!e||typeof e!="object")return!1;if(!u4e||!(Symbol.toStringTag in e)){var t=HXe(UXe(e),8,-1);return zXe(l4e,t)>-1}return yB?VXe(e):!1}});var y4e=we((j7t,g4e)=>{"use strict";m();var d4e=nee(),WXe=iee(),h4e=hB(),QXe=h4e("Object.prototype.toString"),p4e=tF()(),m4e=typeof globalThis=="undefined"?global:globalThis,GXe=WXe(),YXe=h4e("String.prototype.slice"),x4e={},lee=see(),cee=Object.getPrototypeOf;p4e&&lee&&cee&&d4e(GXe,function(n){if(typeof m4e[n]=="function"){var e=new m4e[n];if(Symbol.toStringTag in e){var t=cee(e),r=lee(t,Symbol.toStringTag);if(!r){var i=cee(t);r=lee(i,Symbol.toStringTag)}x4e[n]=r.get}}});var KXe=function(e){var t=!1;return d4e(x4e,function(r,i){if(!t)try{var s=r.call(e);s===i&&(t=s)}catch{}}),t},JXe=uee();g4e.exports=function(e){return JXe(e)?!p4e||!(Symbol.toStringTag in e)?YXe(QXe(e),8,-1):KXe(e):!1}});var R4e=we(Mo=>{"use strict";m();var XXe=Y3e(),ZXe=X3e(),o2=y4e(),v4e=uee();function a8(n){return n.call.bind(n)}var _4e=typeof BigInt!="undefined",b4e=typeof Symbol!="undefined",Vp=a8(Object.prototype.toString),eZe=a8(Number.prototype.valueOf),tZe=a8(String.prototype.valueOf),nZe=a8(Boolean.prototype.valueOf);_4e&&(E4e=a8(BigInt.prototype.valueOf));var E4e;b4e&&(S4e=a8(Symbol.prototype.valueOf));var S4e;function iF(n,e){if(typeof n!="object")return!1;try{return e(n),!0}catch{return!1}}Mo.isArgumentsObject=XXe;Mo.isGeneratorFunction=ZXe;Mo.isTypedArray=v4e;function rZe(n){return typeof Promise!="undefined"&&n instanceof Promise||n!==null&&typeof n=="object"&&typeof n.then=="function"&&typeof n.catch=="function"}Mo.isPromise=rZe;function iZe(n){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(n):v4e(n)||w4e(n)}Mo.isArrayBufferView=iZe;function sZe(n){return o2(n)==="Uint8Array"}Mo.isUint8Array=sZe;function oZe(n){return o2(n)==="Uint8ClampedArray"}Mo.isUint8ClampedArray=oZe;function aZe(n){return o2(n)==="Uint16Array"}Mo.isUint16Array=aZe;function uZe(n){return o2(n)==="Uint32Array"}Mo.isUint32Array=uZe;function lZe(n){return o2(n)==="Int8Array"}Mo.isInt8Array=lZe;function cZe(n){return o2(n)==="Int16Array"}Mo.isInt16Array=cZe;function fZe(n){return o2(n)==="Int32Array"}Mo.isInt32Array=fZe;function dZe(n){return o2(n)==="Float32Array"}Mo.isFloat32Array=dZe;function hZe(n){return o2(n)==="Float64Array"}Mo.isFloat64Array=hZe;function pZe(n){return o2(n)==="BigInt64Array"}Mo.isBigInt64Array=pZe;function mZe(n){return o2(n)==="BigUint64Array"}Mo.isBigUint64Array=mZe;function vB(n){return Vp(n)==="[object Map]"}vB.working=typeof Map!="undefined"&&vB(new Map);function xZe(n){return typeof Map=="undefined"?!1:vB.working?vB(n):n instanceof Map}Mo.isMap=xZe;function _B(n){return Vp(n)==="[object Set]"}_B.working=typeof Set!="undefined"&&_B(new Set);function gZe(n){return typeof Set=="undefined"?!1:_B.working?_B(n):n instanceof Set}Mo.isSet=gZe;function bB(n){return Vp(n)==="[object WeakMap]"}bB.working=typeof WeakMap!="undefined"&&bB(new WeakMap);function yZe(n){return typeof WeakMap=="undefined"?!1:bB.working?bB(n):n instanceof WeakMap}Mo.isWeakMap=yZe;function fee(n){return Vp(n)==="[object WeakSet]"}fee.working=typeof WeakSet!="undefined"&&fee(new WeakSet);function vZe(n){return fee(n)}Mo.isWeakSet=vZe;function EB(n){return Vp(n)==="[object ArrayBuffer]"}EB.working=typeof ArrayBuffer!="undefined"&&EB(new ArrayBuffer);function C4e(n){return typeof ArrayBuffer=="undefined"?!1:EB.working?EB(n):n instanceof ArrayBuffer}Mo.isArrayBuffer=C4e;function SB(n){return Vp(n)==="[object DataView]"}SB.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&SB(new DataView(new ArrayBuffer(1),0,1));function w4e(n){return typeof DataView=="undefined"?!1:SB.working?SB(n):n instanceof DataView}Mo.isDataView=w4e;var dee=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function sF(n){return Vp(n)==="[object SharedArrayBuffer]"}function A4e(n){return typeof dee=="undefined"?!1:(typeof sF.working=="undefined"&&(sF.working=sF(new dee)),sF.working?sF(n):n instanceof dee)}Mo.isSharedArrayBuffer=A4e;function _Ze(n){return Vp(n)==="[object AsyncFunction]"}Mo.isAsyncFunction=_Ze;function bZe(n){return Vp(n)==="[object Map Iterator]"}Mo.isMapIterator=bZe;function EZe(n){return Vp(n)==="[object Set Iterator]"}Mo.isSetIterator=EZe;function SZe(n){return Vp(n)==="[object Generator]"}Mo.isGeneratorObject=SZe;function CZe(n){return Vp(n)==="[object WebAssembly.Module]"}Mo.isWebAssemblyCompiledModule=CZe;function T4e(n){return iF(n,eZe)}Mo.isNumberObject=T4e;function F4e(n){return iF(n,tZe)}Mo.isStringObject=F4e;function D4e(n){return iF(n,nZe)}Mo.isBooleanObject=D4e;function O4e(n){return _4e&&iF(n,E4e)}Mo.isBigIntObject=O4e;function N4e(n){return b4e&&iF(n,S4e)}Mo.isSymbolObject=N4e;function wZe(n){return T4e(n)||F4e(n)||D4e(n)||O4e(n)||N4e(n)}Mo.isBoxedPrimitive=wZe;function AZe(n){return typeof Uint8Array!="undefined"&&(C4e(n)||A4e(n))}Mo.isAnyArrayBuffer=AZe;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(n){Object.defineProperty(Mo,n,{enumerable:!1,value:function(){throw new Error(n+" is not supported in userland")}})})});var k4e=we((U7t,L4e)=>{m();L4e.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var I4e=we(($7t,hee)=>{m();typeof Object.create=="function"?hee.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:hee.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}});var p4=we(Po=>{m();var M4e=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},TZe=/%[sdj%]/g;Po.format=function(n){if(!TB(n)){for(var e=[],t=0;t<arguments.length;t++)e.push(h4(arguments[t]));return e.join(" ")}for(var t=1,r=arguments,i=r.length,s=String(n).replace(TZe,function(a){if(a==="%%")return"%";if(t>=i)return a;switch(a){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":try{return JSON.stringify(r[t++])}catch{return"[Circular]"}default:return a}}),o=r[t];t<i;o=r[++t])AB(o)||!u8(o)?s+=" "+o:s+=" "+h4(o);return s};Po.deprecate=function(n,e){if(typeof process!="undefined"&&process.noDeprecation===!0)return n;if(typeof process=="undefined")return function(){return Po.deprecate(n,e).apply(this,arguments)};var t=!1;function r(){if(!t){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),t=!0}return n.apply(this,arguments)}return r};var CB={},FZe=/^$/;Po.debuglog=function(n){if(n=n.toUpperCase(),!CB[n])if(FZe.test(n)){var e=process.pid;CB[n]=function(){var t=Po.format.apply(Po,arguments);console.error("%s %d: %s",n,e,t)}}else CB[n]=function(){};return CB[n]};function h4(n,e){var t={seen:[],stylize:OZe};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),xee(e)?t.showHidden=e:e&&Po._extend(t,e),B_(t.showHidden)&&(t.showHidden=!1),B_(t.depth)&&(t.depth=2),B_(t.colors)&&(t.colors=!1),B_(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=DZe),wB(t,n,t.depth)}Po.inspect=h4;h4.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};h4.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function DZe(n,e){var t=h4.styles[e];return t?"\x1B["+h4.colors[t][0]+"m"+n+"\x1B["+h4.colors[t][1]+"m":n}function OZe(n,e){return n}function NZe(n){var e={};return n.forEach(function(t,r){e[t]=!0}),e}function wB(n,e,t){if(n.customInspect&&e&&DB(e.inspect)&&e.inspect!==Po.inspect&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(t,n);return TB(r)||(r=wB(n,r,t)),r}var i=RZe(n,e);if(i)return i;var s=Object.keys(e),o=NZe(s);if(n.showHidden&&(s=Object.getOwnPropertyNames(e)),aF(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return pee(e);if(s.length===0){if(DB(e)){var a=e.name?": "+e.name:"";return n.stylize("[Function"+a+"]","special")}if(oF(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(FB(e))return n.stylize(Date.prototype.toString.call(e),"date");if(aF(e))return pee(e)}var c="",d=!1,p=["{","}"];if(P4e(e)&&(d=!0,p=["[","]"]),DB(e)){var b=e.name?": "+e.name:"";c=" [Function"+b+"]"}if(oF(e)&&(c=" "+RegExp.prototype.toString.call(e)),FB(e)&&(c=" "+Date.prototype.toUTCString.call(e)),aF(e)&&(c=" "+pee(e)),s.length===0&&(!d||e.length==0))return p[0]+c+p[1];if(t<0)return oF(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);var C;return d?C=LZe(n,e,t,o,s):C=s.map(function(N){return mee(n,e,t,o,N,d)}),n.seen.pop(),kZe(C,c,p)}function RZe(n,e){if(B_(e))return n.stylize("undefined","undefined");if(TB(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}if(B4e(e))return n.stylize(""+e,"number");if(xee(e))return n.stylize(""+e,"boolean");if(AB(e))return n.stylize("null","null")}function pee(n){return"["+Error.prototype.toString.call(n)+"]"}function LZe(n,e,t,r,i){for(var s=[],o=0,a=e.length;o<a;++o)j4e(e,String(o))?s.push(mee(n,e,t,r,String(o),!0)):s.push("");return i.forEach(function(c){c.match(/^\d+$/)||s.push(mee(n,e,t,r,c,!0))}),s}function mee(n,e,t,r,i,s){var o,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?c.set?a=n.stylize("[Getter/Setter]","special"):a=n.stylize("[Getter]","special"):c.set&&(a=n.stylize("[Setter]","special")),j4e(r,i)||(o="["+i+"]"),a||(n.seen.indexOf(c.value)<0?(AB(t)?a=wB(n,c.value,null):a=wB(n,c.value,t-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(d){return"  "+d}).join(`
`).slice(2):a=`
`+a.split(`
`).map(function(d){return"   "+d}).join(`
`))):a=n.stylize("[Circular]","special")),B_(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=n.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=n.stylize(o,"string"))}return o+": "+a}function kZe(n,e,t){var r=0,i=n.reduce(function(s,o){return r++,o.indexOf(`
`)>=0&&r++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(e===""?"":e+`
 `)+" "+n.join(`,
  `)+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}Po.types=R4e();function P4e(n){return Array.isArray(n)}Po.isArray=P4e;function xee(n){return typeof n=="boolean"}Po.isBoolean=xee;function AB(n){return n===null}Po.isNull=AB;function IZe(n){return n==null}Po.isNullOrUndefined=IZe;function B4e(n){return typeof n=="number"}Po.isNumber=B4e;function TB(n){return typeof n=="string"}Po.isString=TB;function MZe(n){return typeof n=="symbol"}Po.isSymbol=MZe;function B_(n){return n===void 0}Po.isUndefined=B_;function oF(n){return u8(n)&&gee(n)==="[object RegExp]"}Po.isRegExp=oF;Po.types.isRegExp=oF;function u8(n){return typeof n=="object"&&n!==null}Po.isObject=u8;function FB(n){return u8(n)&&gee(n)==="[object Date]"}Po.isDate=FB;Po.types.isDate=FB;function aF(n){return u8(n)&&(gee(n)==="[object Error]"||n instanceof Error)}Po.isError=aF;Po.types.isNativeError=aF;function DB(n){return typeof n=="function"}Po.isFunction=DB;function PZe(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n=="undefined"}Po.isPrimitive=PZe;Po.isBuffer=k4e();function gee(n){return Object.prototype.toString.call(n)}function yee(n){return n<10?"0"+n.toString(10):n.toString(10)}var BZe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function jZe(){var n=new Date,e=[yee(n.getHours()),yee(n.getMinutes()),yee(n.getSeconds())].join(":");return[n.getDate(),BZe[n.getMonth()],e].join(" ")}Po.log=function(){console.log("%s - %s",jZe(),Po.format.apply(Po,arguments))};Po.inherits=I4e();Po._extend=function(n,e){if(!e||!u8(e))return n;for(var t=Object.keys(e),r=t.length;r--;)n[t[r]]=e[t[r]];return n};function j4e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var j_=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;Po.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(j_&&e[j_]){var t=e[j_];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,j_,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,i,s=new Promise(function(c,d){r=c,i=d}),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push(function(c,d){c?i(c):r(d)});try{e.apply(this,o)}catch(c){i(c)}return s}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),j_&&Object.defineProperty(t,j_,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,M4e(e))};Po.promisify.custom=j_;function qZe(n,e){if(!n){var t=new Error("Promise was rejected with a falsy value");t.reason=n,n=t}return e(n)}function UZe(n){if(typeof n!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};n.apply(this,t).then(function(a){process.nextTick(o.bind(null,null,a))},function(a){process.nextTick(qZe.bind(null,a,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(n)),Object.defineProperties(e,M4e(n)),e}Po.callbackify=UZe});var Eee=we((H7t,$4e)=>{"use strict";m();function l8(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l8=function(t){return typeof t}:l8=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l8(n)}function $Ze(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zZe(n,e){return e&&(l8(e)==="object"||typeof e=="function")?e:HZe(n)}function HZe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vee(n){return vee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vee(n)}function VZe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&_ee(n,e)}function _ee(n,e){return _ee=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},_ee(n,e)}var q4e={},c8,bee;function uF(n,e,t){t||(t=Error);function r(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){VZe(o,s);function o(a,c,d){var p;return $Ze(this,o),p=zZe(this,vee(o).call(this,r(a,c,d))),p.code=n,p}return o}(t);q4e[n]=i}function U4e(n,e){if(Array.isArray(n)){var t=n.length;return n=n.map(function(r){return String(r)}),t>2?"one of ".concat(e," ").concat(n.slice(0,t-1).join(", "),", or ")+n[t-1]:t===2?"one of ".concat(e," ").concat(n[0]," or ").concat(n[1]):"of ".concat(e," ").concat(n[0])}else return"of ".concat(e," ").concat(String(n))}function WZe(n,e,t){return n.substr(!t||t<0?0:+t,e.length)===e}function QZe(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function GZe(n,e,t){return typeof t!="number"&&(t=0),t+e.length>n.length?!1:n.indexOf(e,t)!==-1}uF("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);uF("ERR_INVALID_ARG_TYPE",function(n,e,t){c8===void 0&&(c8=A0()),c8(typeof n=="string","'name' must be a string");var r;typeof e=="string"&&WZe(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var i;if(QZe(n," argument"))i="The ".concat(n," ").concat(r," ").concat(U4e(e,"type"));else{var s=GZe(n,".")?"property":"argument";i='The "'.concat(n,'" ').concat(s," ").concat(r," ").concat(U4e(e,"type"))}return i+=". Received type ".concat(l8(t)),i},TypeError);uF("ERR_INVALID_ARG_VALUE",function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";bee===void 0&&(bee=p4());var r=bee.inspect(e);return r.length>128&&(r="".concat(r.slice(0,128),"...")),"The argument '".concat(n,"' ").concat(t,". Received ").concat(r)},TypeError,RangeError);uF("ERR_INVALID_RETURN_VALUE",function(n,e,t){var r;return t&&t.constructor&&t.constructor.name?r="instance of ".concat(t.constructor.name):r="type ".concat(l8(t)),"Expected ".concat(n,' to be returned from the "').concat(e,'"')+" function but got ".concat(r,".")},TypeError);uF("ERR_MISSING_ARGS",function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];c8===void 0&&(c8=A0()),c8(e.length>0,"At least one arg needs to be specified");var r="The ",i=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),i){case 1:r+="".concat(e[0]," argument");break;case 2:r+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:r+=e.slice(0,i-1).join(", "),r+=", and ".concat(e[i-1]," arguments");break}return"".concat(r," must be specified")},TypeError);$4e.exports.codes=q4e});var Q4e=we((V7t,W4e)=>{"use strict";m();function YZe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){KZe(n,i,t[i])})}return n}function KZe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function z4e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function XZe(n,e,t){return e&&z4e(n.prototype,e),t&&z4e(n,t),n}function f8(n,e){return e&&(Wp(e)==="object"||typeof e=="function")?e:See(n)}function See(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ZZe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&lF(n,e)}function Cee(n){var e=typeof Map=="function"?new Map:void 0;return Cee=function(r){if(r===null||!tet(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return OB(r,arguments,m4(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),lF(i,r)},Cee(n)}function eet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function OB(n,e,t){return eet()?OB=Reflect.construct:OB=function(i,s,o){var a=[null];a.push.apply(a,s);var c=Function.bind.apply(i,a),d=new c;return o&&lF(d,o.prototype),d},OB.apply(null,arguments)}function tet(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function lF(n,e){return lF=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lF(n,e)}function m4(n){return m4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m4(n)}function Wp(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wp=function(t){return typeof t}:Wp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(n)}var net=p4(),wee=net.inspect,ret=Eee(),iet=ret.codes.ERR_INVALID_ARG_TYPE;function H4e(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function set(n,e){if(e=Math.floor(e),n.length==0||e==0)return"";var t=n.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)n+=n,e--;return n+=n.substring(0,t-n.length),n}var a2="",cF="",fF="",Uf="",q_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},oet=10;function V4e(n){var e=Object.keys(n),t=Object.create(Object.getPrototypeOf(n));return e.forEach(function(r){t[r]=n[r]}),Object.defineProperty(t,"message",{value:n.message}),t}function dF(n){return wee(n,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function aet(n,e,t){var r="",i="",s=0,o="",a=!1,c=dF(n),d=c.split(`
`),p=dF(e).split(`
`),b=0,C="";if(t==="strictEqual"&&Wp(n)==="object"&&Wp(e)==="object"&&n!==null&&e!==null&&(t="strictEqualObject"),d.length===1&&p.length===1&&d[0]!==p[0]){var N=d[0].length+p[0].length;if(N<=oet){if((Wp(n)!=="object"||n===null)&&(Wp(e)!=="object"||e===null)&&(n!==0||e!==0))return"".concat(q_[t],`

`)+"".concat(d[0]," !== ").concat(p[0],`
`)}else if(t!=="strictEqualObject"){var R=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(N<R){for(;d[0][b]===p[0][b];)b++;b>2&&(C=`
  `.concat(set(" ",b),"^"),b=0)}}}for(var U=d[d.length-1],V=p[p.length-1];U===V&&(b++<2?o=`
  `.concat(U).concat(o):r=U,d.pop(),p.pop(),!(d.length===0||p.length===0));)U=d[d.length-1],V=p[p.length-1];var P=Math.max(d.length,p.length);if(P===0){var $=c.split(`
`);if($.length>30)for($[26]="".concat(a2,"...").concat(Uf);$.length>27;)$.pop();return"".concat(q_.notIdentical,`

`).concat($.join(`
`),`
`)}b>3&&(o=`
`.concat(a2,"...").concat(Uf).concat(o),a=!0),r!==""&&(o=`
  `.concat(r).concat(o),r="");var M=0,G=q_[t]+`
`.concat(cF,"+ actual").concat(Uf," ").concat(fF,"- expected").concat(Uf),ae=" ".concat(a2,"...").concat(Uf," Lines skipped");for(b=0;b<P;b++){var I=b-s;if(d.length<b+1)I>1&&b>2&&(I>4?(i+=`
`.concat(a2,"...").concat(Uf),a=!0):I>3&&(i+=`
  `.concat(p[b-2]),M++),i+=`
  `.concat(p[b-1]),M++),s=b,r+=`
`.concat(fF,"-").concat(Uf," ").concat(p[b]),M++;else if(p.length<b+1)I>1&&b>2&&(I>4?(i+=`
`.concat(a2,"...").concat(Uf),a=!0):I>3&&(i+=`
  `.concat(d[b-2]),M++),i+=`
  `.concat(d[b-1]),M++),s=b,i+=`
`.concat(cF,"+").concat(Uf," ").concat(d[b]),M++;else{var Z=p[b],me=d[b],ye=me!==Z&&(!H4e(me,",")||me.slice(0,-1)!==Z);ye&&H4e(Z,",")&&Z.slice(0,-1)===me&&(ye=!1,me+=","),ye?(I>1&&b>2&&(I>4?(i+=`
`.concat(a2,"...").concat(Uf),a=!0):I>3&&(i+=`
  `.concat(d[b-2]),M++),i+=`
  `.concat(d[b-1]),M++),s=b,i+=`
`.concat(cF,"+").concat(Uf," ").concat(me),r+=`
`.concat(fF,"-").concat(Uf," ").concat(Z),M+=2):(i+=r,r="",(I===1||b===0)&&(i+=`
  `.concat(me),M++))}if(M>20&&b<P-2)return"".concat(G).concat(ae,`
`).concat(i,`
`).concat(a2,"...").concat(Uf).concat(r,`
`)+"".concat(a2,"...").concat(Uf)}return"".concat(G).concat(a?ae:"",`
`).concat(i).concat(r).concat(o).concat(C)}var uet=function(n){ZZe(e,n);function e(t){var r;if(JZe(this,e),Wp(t)!=="object"||t===null)throw new iet("options","Object",t);var i=t.message,s=t.operator,o=t.stackStartFn,a=t.actual,c=t.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)r=f8(this,m4(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(a2="\x1B[34m",cF="\x1B[32m",Uf="\x1B[39m",fF="\x1B[31m"):(a2="",cF="",Uf="",fF="")),Wp(a)==="object"&&a!==null&&Wp(c)==="object"&&c!==null&&"stack"in a&&a instanceof Error&&"stack"in c&&c instanceof Error&&(a=V4e(a),c=V4e(c)),s==="deepStrictEqual"||s==="strictEqual")r=f8(this,m4(e).call(this,aet(a,c,s)));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var p=q_[s],b=dF(a).split(`
`);if(s==="notStrictEqual"&&Wp(a)==="object"&&a!==null&&(p=q_.notStrictEqualObject),b.length>30)for(b[26]="".concat(a2,"...").concat(Uf);b.length>27;)b.pop();b.length===1?r=f8(this,m4(e).call(this,"".concat(p," ").concat(b[0]))):r=f8(this,m4(e).call(this,"".concat(p,`

`).concat(b.join(`
`),`
`)))}else{var C=dF(a),N="",R=q_[s];s==="notDeepEqual"||s==="notEqual"?(C="".concat(q_[s],`

`).concat(C),C.length>1024&&(C="".concat(C.slice(0,1021),"..."))):(N="".concat(dF(c)),C.length>512&&(C="".concat(C.slice(0,509),"...")),N.length>512&&(N="".concat(N.slice(0,509),"...")),s==="deepEqual"||s==="equal"?C="".concat(R,`

`).concat(C,`

should equal

`):N=" ".concat(s," ").concat(N)),r=f8(this,m4(e).call(this,"".concat(C).concat(N)))}return Error.stackTraceLimit=d,r.generatedMessage=!i,Object.defineProperty(See(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=a,r.expected=c,r.operator=s,Error.captureStackTrace&&Error.captureStackTrace(See(r),o),r.stack,r.name="AssertionError",f8(r)}return XZe(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:wee.custom,value:function(r,i){return wee(this,YZe({},i,{customInspect:!1,depth:0}))}}]),e}(Cee(Error));W4e.exports=uet});var K4e=we((W7t,Y4e)=>{"use strict";m();function G4e(n,e){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(n),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s=Object.keys(Object(i)),o=0,a=s.length;o<a;o++){var c=s[o],d=Object.getOwnPropertyDescriptor(i,c);d!==void 0&&d.enumerable&&(t[c]=i[c])}}return t}function cet(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:G4e})}Y4e.exports={assign:G4e,polyfill:cet}});var Aee=we((Q7t,X4e)=>{"use strict";m();var J4e=Object.prototype.toString;X4e.exports=function(e){var t=J4e.call(e),r=t==="[object Arguments]";return r||(r=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&J4e.call(e.callee)==="[object Function]"),r}});var a5e=we((G7t,o5e)=>{"use strict";m();var Z4e;Object.keys||(hF=Object.prototype.hasOwnProperty,Tee=Object.prototype.toString,e5e=Aee(),Fee=Object.prototype.propertyIsEnumerable,t5e=!Fee.call({toString:null},"toString"),n5e=Fee.call(function(){},"prototype"),pF=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],NB=function(n){var e=n.constructor;return e&&e.prototype===n},r5e={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},i5e=function(){if(typeof window=="undefined")return!1;for(var n in window)try{if(!r5e["$"+n]&&hF.call(window,n)&&window[n]!==null&&typeof window[n]=="object")try{NB(window[n])}catch{return!0}}catch{return!0}return!1}(),s5e=function(n){if(typeof window=="undefined"||!i5e)return NB(n);try{return NB(n)}catch{return!1}},Z4e=function(e){var t=e!==null&&typeof e=="object",r=Tee.call(e)==="[object Function]",i=e5e(e),s=t&&Tee.call(e)==="[object String]",o=[];if(!t&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var a=n5e&&r;if(s&&e.length>0&&!hF.call(e,0))for(var c=0;c<e.length;++c)o.push(String(c));if(i&&e.length>0)for(var d=0;d<e.length;++d)o.push(String(d));else for(var p in e)!(a&&p==="prototype")&&hF.call(e,p)&&o.push(String(p));if(t5e)for(var b=s5e(e),C=0;C<pF.length;++C)!(b&&pF[C]==="constructor")&&hF.call(e,pF[C])&&o.push(pF[C]);return o});var hF,Tee,e5e,Fee,t5e,n5e,pF,NB,r5e,i5e,s5e;o5e.exports=Z4e});var f5e=we((Y7t,c5e)=>{"use strict";m();var fet=Array.prototype.slice,det=Aee(),u5e=Object.keys,RB=u5e?function(e){return u5e(e)}:a5e(),l5e=Object.keys;RB.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(r){return det(r)?l5e(fet.call(r)):l5e(r)})}else Object.keys=RB;return Object.keys||RB};c5e.exports=RB});var h5e=we((K7t,d5e)=>{"use strict";m();var het=rF(),Dee=het("%Object.defineProperty%",!0),Oee=function(){if(Dee)try{return Dee({},"a",{value:1}),!0}catch{return!1}return!1};Oee.hasArrayLengthDefineBug=function(){if(!Oee())return null;try{return Dee([],"length",{value:1}).length!==1}catch{return!0}};d5e.exports=Oee});var mF=we((J7t,g5e)=>{"use strict";m();var pet=f5e(),met=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",xet=Object.prototype.toString,get=Array.prototype.concat,p5e=Object.defineProperty,yet=function(n){return typeof n=="function"&&xet.call(n)==="[object Function]"},vet=h5e()(),m5e=p5e&&vet,_et=function(n,e,t,r){e in n&&(!yet(r)||!r())||(m5e?p5e(n,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):n[e]=t)},x5e=function(n,e){var t=arguments.length>2?arguments[2]:{},r=pet(e);met&&(r=get.call(r,Object.getOwnPropertySymbols(e)));for(var i=0;i<r.length;i+=1)_et(n,r[i],e[r[i]],t[r[i]])};x5e.supportsDescriptors=!!m5e;g5e.exports=x5e});var Nee=we((X7t,v5e)=>{"use strict";m();var y5e=function(n){return n!==n};v5e.exports=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||y5e(e)&&y5e(t))}});var Ree=we((Z7t,_5e)=>{"use strict";m();var bet=Nee();_5e.exports=function(){return typeof Object.is=="function"?Object.is:bet}});var E5e=we((e8t,b5e)=>{"use strict";m();var Eet=Ree(),Cet=mF();b5e.exports=function(){var e=Eet();return Cet(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var Lee=we((t8t,w5e)=>{"use strict";m();var wet=mF(),Aet=dB(),Tet=Nee(),S5e=Ree(),Fet=E5e(),C5e=Aet(S5e(),Object);wet(C5e,{getPolyfill:S5e,implementation:Tet,shim:Fet});w5e.exports=C5e});var kee=we((n8t,A5e)=>{"use strict";m();A5e.exports=function(e){return e!==e}});var Iee=we((r8t,T5e)=>{"use strict";m();var Det=kee();T5e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:Det}});var D5e=we((i8t,F5e)=>{"use strict";m();var Oet=mF(),Net=Iee();F5e.exports=function(){var e=Net();return Oet(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var L5e=we((s8t,R5e)=>{"use strict";m();var Ret=dB(),Let=mF(),ket=kee(),O5e=Iee(),Iet=D5e(),N5e=Ret(O5e(),Number);Let(N5e,{getPolyfill:O5e,implementation:ket,shim:Iet});R5e.exports=N5e});var X5e=we((o8t,J5e)=>{"use strict";m();function k5e(n,e){return Bet(n)||Pet(n,e)||Met()}function Met(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Pet(n,e){var t=[],r=!0,i=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return t}function Bet(n){if(Array.isArray(n))return n}function Uh(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uh=function(t){return typeof t}:Uh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(n)}var jet=/a/g.flags!==void 0,LB=function(e){var t=[];return e.forEach(function(r){return t.push(r)}),t},I5e=function(e){var t=[];return e.forEach(function(r,i){return t.push([i,r])}),t},M5e=Object.is?Object.is:Lee(),kB=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},Mee=Number.isNaN?Number.isNaN:L5e();function Pee(n){return n.call.bind(n)}var xF=Pee(Object.prototype.hasOwnProperty),IB=Pee(Object.prototype.propertyIsEnumerable),P5e=Pee(Object.prototype.toString),ld=p4().types,qet=ld.isAnyArrayBuffer,Uet=ld.isArrayBufferView,B5e=ld.isDate,MB=ld.isMap,j5e=ld.isRegExp,PB=ld.isSet,$et=ld.isNativeError,zet=ld.isBoxedPrimitive,q5e=ld.isNumberObject,U5e=ld.isStringObject,$5e=ld.isBooleanObject,z5e=ld.isBigIntObject,Het=ld.isSymbolObject,Vet=ld.isFloat32Array,Wet=ld.isFloat64Array;function Qet(n){if(n.length===0||n.length>10)return!0;for(var e=0;e<n.length;e++){var t=n.charCodeAt(e);if(t<48||t>57)return!0}return n.length===10&&n>=Math.pow(2,32)}function BB(n){return Object.keys(n).filter(Qet).concat(kB(n).filter(Object.prototype.propertyIsEnumerable.bind(n)))}function H5e(n,e){if(n===e)return 0;for(var t=n.length,r=e.length,i=0,s=Math.min(t,r);i<s;++i)if(n[i]!==e[i]){t=n[i],r=e[i];break}return t<r?-1:r<t?1:0}var jB=void 0,Get=!0,Yet=!1,Bee=0,jee=1,V5e=2,W5e=3;function Ket(n,e){return jet?n.source===e.source&&n.flags===e.flags:RegExp.prototype.toString.call(n)===RegExp.prototype.toString.call(e)}function Jet(n,e){if(n.byteLength!==e.byteLength)return!1;for(var t=0;t<n.byteLength;t++)if(n[t]!==e[t])return!1;return!0}function Xet(n,e){return n.byteLength!==e.byteLength?!1:H5e(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function Zet(n,e){return n.byteLength===e.byteLength&&H5e(new Uint8Array(n),new Uint8Array(e))===0}function ett(n,e){return q5e(n)?q5e(e)&&M5e(Number.prototype.valueOf.call(n),Number.prototype.valueOf.call(e)):U5e(n)?U5e(e)&&String.prototype.valueOf.call(n)===String.prototype.valueOf.call(e):$5e(n)?$5e(e)&&Boolean.prototype.valueOf.call(n)===Boolean.prototype.valueOf.call(e):z5e(n)?z5e(e)&&BigInt.prototype.valueOf.call(n)===BigInt.prototype.valueOf.call(e):Het(e)&&Symbol.prototype.valueOf.call(n)===Symbol.prototype.valueOf.call(e)}function Qp(n,e,t,r){if(n===e)return n!==0?!0:t?M5e(n,e):!0;if(t){if(Uh(n)!=="object")return typeof n=="number"&&Mee(n)&&Mee(e);if(Uh(e)!=="object"||n===null||e===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1}else{if(n===null||Uh(n)!=="object")return e===null||Uh(e)!=="object"?n==e:!1;if(e===null||Uh(e)!=="object")return!1}var i=P5e(n),s=P5e(e);if(i!==s)return!1;if(Array.isArray(n)){if(n.length!==e.length)return!1;var o=BB(n,jB),a=BB(e,jB);return o.length!==a.length?!1:gF(n,e,t,r,jee,o)}if(i==="[object Object]"&&(!MB(n)&&MB(e)||!PB(n)&&PB(e)))return!1;if(B5e(n)){if(!B5e(e)||Date.prototype.getTime.call(n)!==Date.prototype.getTime.call(e))return!1}else if(j5e(n)){if(!j5e(e)||!Ket(n,e))return!1}else if($et(n)||n instanceof Error){if(n.message!==e.message||n.name!==e.name)return!1}else if(Uet(n)){if(!t&&(Vet(n)||Wet(n))){if(!Jet(n,e))return!1}else if(!Xet(n,e))return!1;var c=BB(n,jB),d=BB(e,jB);return c.length!==d.length?!1:gF(n,e,t,r,Bee,c)}else{if(PB(n))return!PB(e)||n.size!==e.size?!1:gF(n,e,t,r,V5e);if(MB(n))return!MB(e)||n.size!==e.size?!1:gF(n,e,t,r,W5e);if(qet(n)){if(!Zet(n,e))return!1}else if(zet(n)&&!ett(n,e))return!1}return gF(n,e,t,r,Bee)}function Q5e(n,e){return e.filter(function(t){return IB(n,t)})}function gF(n,e,t,r,i,s){if(arguments.length===5){s=Object.keys(n);var o=Object.keys(e);if(s.length!==o.length)return!1}for(var a=0;a<s.length;a++)if(!xF(e,s[a]))return!1;if(t&&arguments.length===5){var c=kB(n);if(c.length!==0){var d=0;for(a=0;a<c.length;a++){var p=c[a];if(IB(n,p)){if(!IB(e,p))return!1;s.push(p),d++}else if(IB(e,p))return!1}var b=kB(e);if(c.length!==b.length&&Q5e(e,b).length!==d)return!1}else{var C=kB(e);if(C.length!==0&&Q5e(e,C).length!==0)return!1}}if(s.length===0&&(i===Bee||i===jee&&n.length===0||n.size===0))return!0;if(r===void 0)r={val1:new Map,val2:new Map,position:0};else{var N=r.val1.get(n);if(N!==void 0){var R=r.val2.get(e);if(R!==void 0)return N===R}r.position++}r.val1.set(n,r.position),r.val2.set(e,r.position);var U=stt(n,e,t,s,r,i);return r.val1.delete(n),r.val2.delete(e),U}function G5e(n,e,t,r){for(var i=LB(n),s=0;s<i.length;s++){var o=i[s];if(Qp(e,o,t,r))return n.delete(o),!0}return!1}function Y5e(n){switch(Uh(n)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":n=+n;case"number":if(Mee(n))return!1}return!0}function ttt(n,e,t){var r=Y5e(t);return r??(e.has(r)&&!n.has(r))}function ntt(n,e,t,r,i){var s=Y5e(t);if(s!=null)return s;var o=e.get(s);return o===void 0&&!e.has(s)||!Qp(r,o,!1,i)?!1:!n.has(s)&&Qp(r,o,!1,i)}function rtt(n,e,t,r){for(var i=null,s=LB(n),o=0;o<s.length;o++){var a=s[o];if(Uh(a)==="object"&&a!==null)i===null&&(i=new Set),i.add(a);else if(!e.has(a)){if(t||!ttt(n,e,a))return!1;i===null&&(i=new Set),i.add(a)}}if(i!==null){for(var c=LB(e),d=0;d<c.length;d++){var p=c[d];if(Uh(p)==="object"&&p!==null){if(!G5e(i,p,t,r))return!1}else if(!t&&!n.has(p)&&!G5e(i,p,t,r))return!1}return i.size===0}return!0}function K5e(n,e,t,r,i,s){for(var o=LB(n),a=0;a<o.length;a++){var c=o[a];if(Qp(t,c,i,s)&&Qp(r,e.get(c),i,s))return n.delete(c),!0}return!1}function itt(n,e,t,r){for(var i=null,s=I5e(n),o=0;o<s.length;o++){var a=k5e(s[o],2),c=a[0],d=a[1];if(Uh(c)==="object"&&c!==null)i===null&&(i=new Set),i.add(c);else{var p=e.get(c);if(p===void 0&&!e.has(c)||!Qp(d,p,t,r)){if(t||!ntt(n,e,c,d,r))return!1;i===null&&(i=new Set),i.add(c)}}}if(i!==null){for(var b=I5e(e),C=0;C<b.length;C++){var N=k5e(b[C],2),c=N[0],R=N[1];if(Uh(c)==="object"&&c!==null){if(!K5e(i,n,c,R,t,r))return!1}else if(!t&&(!n.has(c)||!Qp(n.get(c),R,!1,r))&&!K5e(i,n,c,R,!1,r))return!1}return i.size===0}return!0}function stt(n,e,t,r,i,s){var o=0;if(s===V5e){if(!rtt(n,e,t,i))return!1}else if(s===W5e){if(!itt(n,e,t,i))return!1}else if(s===jee)for(;o<n.length;o++)if(xF(n,o)){if(!xF(e,o)||!Qp(n[o],e[o],t,i))return!1}else{if(xF(e,o))return!1;for(var a=Object.keys(n);o<a.length;o++){var c=a[o];if(!xF(e,c)||!Qp(n[c],e[c],t,i))return!1}return a.length===Object.keys(e).length}for(o=0;o<r.length;o++){var d=r[o];if(!Qp(n[d],e[d],t,i))return!1}return!0}function ott(n,e){return Qp(n,e,Yet)}function att(n,e){return Qp(n,e,Get)}J5e.exports={isDeepEqual:ott,isDeepStrictEqual:att}});var A0=we((a8t,pve)=>{"use strict";m();function x4(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x4=function(t){return typeof t}:x4=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x4(n)}function utt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var ltt=Eee(),yF=ltt.codes,Z5e=yF.ERR_AMBIGUOUS_ARGUMENT,vF=yF.ERR_INVALID_ARG_TYPE,ctt=yF.ERR_INVALID_ARG_VALUE,ftt=yF.ERR_INVALID_RETURN_VALUE,g4=yF.ERR_MISSING_ARGS,U_=Q4e(),dtt=p4(),htt=dtt.inspect,eve=p4().types,ptt=eve.isPromise,qee=eve.isRegExp,mtt=Object.assign?Object.assign:K4e().assign,tve=Object.is?Object.is:Lee(),y4,qB;function _F(){var n=X5e();y4=n.isDeepEqual,qB=n.isDeepStrictEqual}var nve=!1,$u=pve.exports=Uee,UB={};function u2(n){throw n.message instanceof Error?n.message:new U_(n)}function rve(n,e,t,r,i){var s=arguments.length,o;if(s===0)o="Failed";else if(s===1)t=n,n=void 0;else{if(nve===!1){nve=!0;var a=process.emitWarning?process.emitWarning:console.warn.bind(console);a("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(r="!=")}if(t instanceof Error)throw t;var c={actual:n,expected:e,operator:r===void 0?"fail":r,stackStartFn:i||rve};t!==void 0&&(c.message=t);var d=new U_(c);throw o&&(d.message=o,d.generatedMessage=!0),d}$u.fail=rve;$u.AssertionError=U_;function ive(n,e,t,r){if(!t){var i=!1;if(e===0)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var s=new U_({actual:t,expected:!0,message:r,operator:"==",stackStartFn:n});throw s.generatedMessage=i,s}}function Uee(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];ive.apply(void 0,[Uee,e.length].concat(e))}$u.ok=Uee;$u.equal=function n(e,t,r){if(arguments.length<2)throw new g4("actual","expected");e!=t&&u2({actual:e,expected:t,message:r,operator:"==",stackStartFn:n})};$u.notEqual=function n(e,t,r){if(arguments.length<2)throw new g4("actual","expected");e==t&&u2({actual:e,expected:t,message:r,operator:"!=",stackStartFn:n})};$u.deepEqual=function n(e,t,r){if(arguments.length<2)throw new g4("actual","expected");y4===void 0&&_F(),y4(e,t)||u2({actual:e,expected:t,message:r,operator:"deepEqual",stackStartFn:n})};$u.notDeepEqual=function n(e,t,r){if(arguments.length<2)throw new g4("actual","expected");y4===void 0&&_F(),y4(e,t)&&u2({actual:e,expected:t,message:r,operator:"notDeepEqual",stackStartFn:n})};$u.deepStrictEqual=function n(e,t,r){if(arguments.length<2)throw new g4("actual","expected");y4===void 0&&_F(),qB(e,t)||u2({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n})};$u.notDeepStrictEqual=sve;function sve(n,e,t){if(arguments.length<2)throw new g4("actual","expected");y4===void 0&&_F(),qB(n,e)&&u2({actual:n,expected:e,message:t,operator:"notDeepStrictEqual",stackStartFn:sve})}$u.strictEqual=function n(e,t,r){if(arguments.length<2)throw new g4("actual","expected");tve(e,t)||u2({actual:e,expected:t,message:r,operator:"strictEqual",stackStartFn:n})};$u.notStrictEqual=function n(e,t,r){if(arguments.length<2)throw new g4("actual","expected");tve(e,t)&&u2({actual:e,expected:t,message:r,operator:"notStrictEqual",stackStartFn:n})};var ove=function n(e,t,r){var i=this;utt(this,n),t.forEach(function(s){s in e&&(r!==void 0&&typeof r[s]=="string"&&qee(e[s])&&e[s].test(r[s])?i[s]=r[s]:i[s]=e[s])})};function xtt(n,e,t,r,i,s){if(!(t in n)||!qB(n[t],e[t])){if(!r){var o=new ove(n,i),a=new ove(e,i,n),c=new U_({actual:o,expected:a,operator:"deepStrictEqual",stackStartFn:s});throw c.actual=n,c.expected=e,c.operator=s.name,c}u2({actual:n,expected:e,message:r,operator:s.name,stackStartFn:s})}}function ave(n,e,t,r){if(typeof e!="function"){if(qee(e))return e.test(n);if(arguments.length===2)throw new vF("expected",["Function","RegExp"],e);if(x4(n)!=="object"||n===null){var i=new U_({actual:n,expected:e,message:t,operator:"deepStrictEqual",stackStartFn:r});throw i.operator=r.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new ctt("error",e,"may not be an empty object");return y4===void 0&&_F(),s.forEach(function(o){typeof n[o]=="string"&&qee(e[o])&&e[o].test(n[o])||xtt(n,e,o,t,s,r)}),!0}return e.prototype!==void 0&&n instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},n)===!0}function uve(n){if(typeof n!="function")throw new vF("fn","Function",n);try{n()}catch(e){return e}return UB}function lve(n){return ptt(n)||n!==null&&x4(n)==="object"&&typeof n.then=="function"&&typeof n.catch=="function"}function cve(n){return Promise.resolve().then(function(){var e;if(typeof n=="function"){if(e=n(),!lve(e))throw new ftt("instance of Promise","promiseFn",e)}else if(lve(n))e=n;else throw new vF("promiseFn",["Function","Promise"],n);return Promise.resolve().then(function(){return e}).then(function(){return UB}).catch(function(t){return t})})}function fve(n,e,t,r){if(typeof t=="string"){if(arguments.length===4)throw new vF("error",["Object","Error","Function","RegExp"],t);if(x4(e)==="object"&&e!==null){if(e.message===t)throw new Z5e("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===t)throw new Z5e("error/message",'The error "'.concat(e,'" is identical to the message.'));r=t,t=void 0}else if(t!=null&&x4(t)!=="object"&&typeof t!="function")throw new vF("error",["Object","Error","Function","RegExp"],t);if(e===UB){var i="";t&&t.name&&(i+=" (".concat(t.name,")")),i+=r?": ".concat(r):".";var s=n.name==="rejects"?"rejection":"exception";u2({actual:void 0,expected:t,operator:n.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:n})}if(t&&!ave(e,t,r,n))throw e}function dve(n,e,t,r){if(e!==UB){if(typeof t=="string"&&(r=t,t=void 0),!t||ave(e,t)){var i=r?": ".concat(r):".",s=n.name==="doesNotReject"?"rejection":"exception";u2({actual:e,expected:t,operator:n.name,message:"Got unwanted ".concat(s).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:n})}throw e}}$u.throws=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];fve.apply(void 0,[n,uve(e)].concat(r))};$u.rejects=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return cve(e).then(function(s){return fve.apply(void 0,[n,s].concat(r))})};$u.doesNotThrow=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];dve.apply(void 0,[n,uve(e)].concat(r))};$u.doesNotReject=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return cve(e).then(function(s){return dve.apply(void 0,[n,s].concat(r))})};$u.ifError=function n(e){if(e!=null){var t="ifError got unwanted exception: ";x4(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?t+=e.constructor.name:t+=e.message:t+=htt(e);var r=new U_({actual:e,expected:null,operator:"ifError",message:t,stackStartFn:n}),i=e.stack;if(typeof i=="string"){var s=i.split(`
`);s.shift();for(var o=r.stack.split(`
`),a=0;a<s.length;a++){var c=o.indexOf(s[a]);if(c!==-1){o=o.slice(0,c);break}}r.stack="".concat(o.join(`
`),`
`).concat(s.join(`
`))}throw r}};function hve(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];ive.apply(void 0,[hve,e.length].concat(e))}$u.strict=mtt(hve,$u,{equal:$u.strictEqual,deepEqual:$u.deepStrictEqual,notEqual:$u.notStrictEqual,notDeepEqual:$u.notDeepStrictEqual});$u.strict.strict=$u.strict});var Cr=we(Fm=>{"use strict";m();Object.defineProperty(Fm,"__esModule",{value:!0});Fm.SuppressWarnings=Fm.Override=Fm.Nullable=Fm.NotNull=void 0;function gtt(n,e,t){}Fm.NotNull=gtt;function ytt(n,e,t){}Fm.Nullable=ytt;function vtt(n,e,t){}Fm.Override=vtt;function _tt(n){return(e,t,r)=>{}}Fm.SuppressWarnings=_tt});var wg=we(bF=>{"use strict";m();Object.defineProperty(bF,"__esModule",{value:!0});bF.IntStream=void 0;var btt;(function(n){n.EOF=-1,n.UNKNOWN_SOURCE_NAME="<unknown>"})(btt=bF.IntStream||(bF.IntStream={}))});var mve=we(d8=>{"use strict";m();var Dm=d8&&d8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(d8,"__esModule",{value:!0});d8.ANTLRInputStream=void 0;var Ett=A0(),Om=Cr(),$B=wg(),Gp=class{constructor(e){this.p=0,this.data=e,this.n=e.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw Ett(this.LA(1)===$B.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(e){return e===0?0:e<0&&(e++,this.p+e-1<0)||this.p+e-1>=this.n?$B.IntStream.EOF:this.data.charCodeAt(this.p+e-1)}LT(e){return this.LA(e)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(e){}seek(e){if(e<=this.p){this.p=e;return}for(e=Math.min(e,this.n);this.p<e;)this.consume()}getText(e){let t=e.a,r=e.b;r>=this.n&&(r=this.n-1);let i=r-t+1;return t>=this.n?"":this.data.substr(t,i)}get sourceName(){return this.name?this.name:$B.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};Dm([Om.Override],Gp.prototype,"consume",null);Dm([Om.Override],Gp.prototype,"LA",null);Dm([Om.Override],Gp.prototype,"index",null);Dm([Om.Override],Gp.prototype,"size",null);Dm([Om.Override],Gp.prototype,"mark",null);Dm([Om.Override],Gp.prototype,"release",null);Dm([Om.Override],Gp.prototype,"seek",null);Dm([Om.Override],Gp.prototype,"getText",null);Dm([Om.Override],Gp.prototype,"sourceName",null);Dm([Om.Override],Gp.prototype,"toString",null);d8.ANTLRInputStream=Gp});var Nm=we(v4=>{"use strict";m();var $ee=v4&&v4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(v4,"__esModule",{value:!0});v4.ATNState=void 0;var zee=Cr(),Ag=class{constructor(){this.stateNumber=Ag.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(e){return e instanceof Ag?this.stateNumber===e.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(e,t){if(this.transitions.length===0)this.epsilonOnlyTransitions=e.isEpsilon;else if(this.epsilonOnlyTransitions!==e.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(t!==void 0?t:this.transitions.length,0,e)}transition(e){return this.transitions[e]}setTransition(e,t){this.transitions[e]=t}removeTransition(e){return this.transitions.splice(e,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(e){this.ruleIndex=e}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(e){return this.optimizedTransitions[e]}addOptimizedTransition(e){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(e)}setOptimizedTransition(e,t){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[e]=t}removeOptimizedTransition(e){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(e,1)}};$ee([zee.Override],Ag.prototype,"hashCode",null);$ee([zee.Override],Ag.prototype,"equals",null);$ee([zee.Override],Ag.prototype,"toString",null);v4.ATNState=Ag;(function(n){n.INVALID_STATE_NUMBER=-1})(Ag=v4.ATNState||(v4.ATNState={}))});var df=we(EF=>{"use strict";m();Object.defineProperty(EF,"__esModule",{value:!0});EF.ATNStateType=void 0;var Stt;(function(n){n[n.INVALID_TYPE=0]="INVALID_TYPE",n[n.BASIC=1]="BASIC",n[n.RULE_START=2]="RULE_START",n[n.BLOCK_START=3]="BLOCK_START",n[n.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",n[n.STAR_BLOCK_START=5]="STAR_BLOCK_START",n[n.TOKEN_START=6]="TOKEN_START",n[n.RULE_STOP=7]="RULE_STOP",n[n.BLOCK_END=8]="BLOCK_END",n[n.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",n[n.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",n[n.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",n[n.LOOP_END=12]="LOOP_END"})(Stt=EF.ATNStateType||(EF.ATNStateType={}))});var Tg=we(zB=>{"use strict";m();Object.defineProperty(zB,"__esModule",{value:!0});zB.RecognitionException=void 0;var xve=class extends Error{constructor(e,t,r,i){super(i);this._offendingState=-1,this._recognizer=e,this.input=t,this.ctx=r,e&&(this._offendingState=e.state)}get offendingState(){return this._offendingState}setOffendingState(e){this._offendingState=e}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(e){if(!(e&&e!==this._recognizer))return this.offendingToken}setOffendingToken(e,t){e===this._recognizer&&(this.offendingToken=t)}get recognizer(){return this._recognizer}};zB.RecognitionException=xve});var Fg=we(_4=>{"use strict";m();var gve=_4&&_4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ctt=_4&&_4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(_4,"__esModule",{value:!0});_4.Transition=void 0;var yve=Cr(),SF=class{constructor(e){if(e==null)throw new Error("target cannot be null.");this.target=e}get isEpsilon(){return!1}get label(){}};SF.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"];gve([yve.NotNull],SF.prototype,"target",void 0);SF=gve([Ctt(0,yve.NotNull)],SF);_4.Transition=SF});var VB=we(HB=>{"use strict";m();Object.defineProperty(HB,"__esModule",{value:!0});HB.AbstractPredicateTransition=void 0;var wtt=Fg(),vve=class extends wtt.Transition{constructor(e){super(e)}};HB.AbstractPredicateTransition=vve});var Dl=we(CF=>{"use strict";m();Object.defineProperty(CF,"__esModule",{value:!0});CF.MurmurHash=void 0;var Att;(function(n){let e=0;function t(a=e){return a}n.initialize=t;function r(a,c){let d=3432918353,p=461845907,b=15,C=13,N=5,R=3864292196;c==null?c=0:typeof c=="string"?c=o(c):typeof c=="object"&&(c=c.hashCode());let U=c;return U=Math.imul(U,d),U=U<<b|U>>>32-b,U=Math.imul(U,p),a=a^U,a=a<<C|a>>>32-C,a=Math.imul(a,N)+R,a&4294967295}n.update=r;function i(a,c){return a=a^c*4,a=a^a>>>16,a=Math.imul(a,2246822507),a=a^a>>>13,a=Math.imul(a,3266489909),a=a^a>>>16,a}n.finish=i;function s(a,c=e){let d=t(c),p=0;for(let b of a)d=r(d,b),p++;return d=i(d,p),d}n.hashCode=s;function o(a){let c=a.length;if(c===0)return 0;let d=0;for(let p=0;p<c;p++){let b=a.charCodeAt(p);d=(d<<5>>>0)-d+b,d|=0}return d}})(Att=CF.MurmurHash||(CF.MurmurHash={}))});var l2=we(p8=>{"use strict";m();var _ve=p8&&p8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(p8,"__esModule",{value:!0});p8.ObjectEqualityComparator=void 0;var bve=Cr(),h8=class{hashCode(e){return e==null?0:e.hashCode()}equals(e,t){return e==null?t==null:e.equals(t)}};h8.INSTANCE=new h8;_ve([bve.Override],h8.prototype,"hashCode",null);_ve([bve.Override],h8.prototype,"equals",null);p8.ObjectEqualityComparator=h8});var wve=we(x8=>{"use strict";m();var Eve=x8&&x8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(x8,"__esModule",{value:!0});x8.DefaultEqualityComparator=void 0;var Sve=Cr(),Ttt=Dl(),Cve=l2(),m8=class{hashCode(e){return e==null?0:typeof e=="string"||typeof e=="number"?Ttt.MurmurHash.hashCode([e]):Cve.ObjectEqualityComparator.INSTANCE.hashCode(e)}equals(e,t){return e==null?t==null:typeof e=="string"||typeof e=="number"?e===t:Cve.ObjectEqualityComparator.INSTANCE.equals(e,t)}};m8.INSTANCE=new m8;Eve([Sve.Override],m8.prototype,"hashCode",null);Eve([Sve.Override],m8.prototype,"equals",null);x8.DefaultEqualityComparator=m8});var Dg=we(b4=>{"use strict";m();var T0=b4&&b4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ftt=b4&&b4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(b4,"__esModule",{value:!0});b4.Array2DHashSet=void 0;var Dtt=A0(),Ott=wve(),F0=Cr(),Hee=Dl(),WB=16,Vee=.75,Ol=class{constructor(e,t=WB){if(this.n=0,this.threshold=Math.floor(WB*Vee),e instanceof Ol){this.comparator=e.comparator,this.buckets=e.buckets.slice(0);for(let r=0;r<this.buckets.length;r++){let i=this.buckets[r];i&&(this.buckets[r]=i.slice(0))}this.n=e.n,this.threshold=e.threshold}else this.comparator=e||Ott.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(t)}getOrAdd(e){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(e)}getOrAddImpl(e){let t=this.getBucket(e),r=this.buckets[t];if(!r)return r=[e],this.buckets[t]=r,this.n++,e;for(let i of r)if(this.comparator.equals(i,e))return i;return r.push(e),this.n++,e}get(e){if(e==null)return e;let t=this.getBucket(e),r=this.buckets[t];if(!!r){for(let i of r)if(this.comparator.equals(i,e))return i}}getBucket(e){return this.comparator.hashCode(e)&this.buckets.length-1}hashCode(){let e=Hee.MurmurHash.initialize();for(let t of this.buckets)if(t!=null)for(let r of t){if(r==null)break;e=Hee.MurmurHash.update(e,this.comparator.hashCode(r))}return e=Hee.MurmurHash.finish(e,this.size),e}equals(e){return e===this?!0:!(e instanceof Ol)||e.size!==this.size?!1:this.containsAll(e)}expand(){let e=this.buckets,t=this.buckets.length*2,r=this.createBuckets(t);this.buckets=r,this.threshold=Math.floor(t*Vee);let i=this.size;for(let s of e)if(!!s)for(let o of s){let a=this.getBucket(o),c=this.buckets[a];c||(c=[],this.buckets[a]=c),c.push(o)}Dtt(this.n===i)}add(e){return this.getOrAdd(e)===e}get size(){return this.n}get isEmpty(){return this.n===0}contains(e){return this.containsFast(this.asElementType(e))}containsFast(e){return e==null?!1:this.get(e)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){let e=new Array(this.size),t=0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;e[t++]=i}return e}containsAll(e){if(e instanceof Ol){let t=e;for(let r of t.buckets)if(r!=null)for(let i of r){if(i==null)break;if(!this.containsFast(this.asElementType(i)))return!1}}else for(let t of e)if(!this.containsFast(this.asElementType(t)))return!1;return!0}addAll(e){let t=!1;for(let r of e)this.getOrAdd(r)!==r&&(t=!0);return t}clear(){this.buckets=this.createBuckets(WB),this.n=0,this.threshold=Math.floor(WB*Vee)}toString(){if(this.size===0)return"{}";let e="{",t=!0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;t?t=!1:e+=", ",e+=i.toString()}return e+="}",e}toTableString(){let e="";for(let t of this.buckets){if(t==null){e+=`null
`;continue}e+="[";let r=!0;for(let i of t)r?r=!1:e+=" ",i==null?e+="_":e+=i.toString();e+=`]
`}return e}asElementType(e){return e}createBuckets(e){return new Array(e)}};T0([F0.NotNull],Ol.prototype,"comparator",void 0);T0([F0.Override],Ol.prototype,"hashCode",null);T0([F0.Override],Ol.prototype,"equals",null);T0([F0.Override],Ol.prototype,"add",null);T0([F0.Override],Ol.prototype,"size",null);T0([F0.Override],Ol.prototype,"isEmpty",null);T0([F0.Override],Ol.prototype,"contains",null);T0([Ftt(0,F0.Nullable)],Ol.prototype,"containsFast",null);T0([F0.Override],Ol.prototype,Symbol.iterator,null);T0([F0.Override],Ol.prototype,"toArray",null);T0([F0.Override],Ol.prototype,"containsAll",null);T0([F0.Override],Ol.prototype,"addAll",null);T0([F0.Override],Ol.prototype,"clear",null);T0([F0.Override],Ol.prototype,"toString",null);T0([F0.SuppressWarnings("unchecked")],Ol.prototype,"asElementType",null);T0([F0.SuppressWarnings("unchecked")],Ol.prototype,"createBuckets",null);b4.Array2DHashSet=Ol});var wF=we(y8=>{"use strict";m();var Ave=y8&&y8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(y8,"__esModule",{value:!0});y8.ArrayEqualityComparator=void 0;var Tve=Cr(),Ntt=Dl(),Rtt=l2(),g8=class{hashCode(e){return e==null?0:Ntt.MurmurHash.hashCode(e,0)}equals(e,t){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Rtt.ObjectEqualityComparator.INSTANCE.equals(e[r],t[r]))return!1;return!0}};g8.INSTANCE=new g8;Ave([Tve.Override],g8.prototype,"hashCode",null);Ave([Tve.Override],g8.prototype,"equals",null);y8.ArrayEqualityComparator=g8});var c2=we(Yp=>{"use strict";m();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.toCharArray=Yp.toMap=Yp.equals=Yp.join=Yp.escapeWhitespace=void 0;function Ltt(n,e){return e?n.replace(/ /,"\xB7"):n.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}Yp.escapeWhitespace=Ltt;function ktt(n,e){let t="",r=!0;for(let i of n)r?r=!1:t+=e,t+=i;return t}Yp.join=ktt;function Itt(n,e){return n===e?!0:n===void 0||e===void 0?!1:n.equals(e)}Yp.equals=Itt;function Mtt(n){let e=new Map;for(let t=0;t<n.length;t++)e.set(n[t],t);return e}Yp.toMap=Mtt;function Ptt(n){if(typeof n=="string"){let e=new Uint16Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}else return n.toCharArray()}Yp.toCharArray=Ptt});var z_=we(Rm=>{"use strict";m();var zu=Rm&&Rm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},QB=Rm&&Rm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Rm,"__esModule",{value:!0});Rm.SemanticContext=void 0;var Fve=Dg(),Dve=wF(),$_=Dl(),ru=Cr(),Ove=l2(),Nve=c2();function Btt(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)<0&&(e=t)}return e}function jtt(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)>0&&(e=t)}return e}var cd=class{static get NONE(){return cd._NONE===void 0&&(cd._NONE=new cd.Predicate),cd._NONE}evalPrecedence(e,t){return this}static and(e,t){if(!e||e===cd.NONE)return t;if(t===cd.NONE)return e;let r=new cd.AND(e,t);return r.opnds.length===1?r.opnds[0]:r}static or(e,t){if(!e)return t;if(e===cd.NONE||t===cd.NONE)return cd.NONE;let r=new cd.OR(e,t);return r.opnds.length===1?r.opnds[0]:r}};Rm.SemanticContext=cd;(function(n){let e=40363613,t=486279973;function r(d){let p=[];for(let b=0;b<d.length;b++){let C=d[b];C instanceof n.PrecedencePredicate&&(p.push(C),d.splice(b,1),b--)}return p}class i extends n{constructor(p=-1,b=-1,C=!1){super();this.ruleIndex=p,this.predIndex=b,this.isCtxDependent=C}eval(p,b){let C=this.isCtxDependent?b:void 0;return p.sempred(C,this.ruleIndex,this.predIndex)}hashCode(){let p=$_.MurmurHash.initialize();return p=$_.MurmurHash.update(p,this.ruleIndex),p=$_.MurmurHash.update(p,this.predIndex),p=$_.MurmurHash.update(p,this.isCtxDependent?1:0),p=$_.MurmurHash.finish(p,3),p}equals(p){return p instanceof i?this===p?!0:this.ruleIndex===p.ruleIndex&&this.predIndex===p.predIndex&&this.isCtxDependent===p.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}zu([ru.Override],i.prototype,"eval",null),zu([ru.Override],i.prototype,"hashCode",null),zu([ru.Override],i.prototype,"equals",null),zu([ru.Override],i.prototype,"toString",null),n.Predicate=i;class s extends n{constructor(p){super();this.precedence=p}eval(p,b){return p.precpred(b,this.precedence)}evalPrecedence(p,b){if(p.precpred(b,this.precedence))return n.NONE}compareTo(p){return this.precedence-p.precedence}hashCode(){let p=1;return p=31*p+this.precedence,p}equals(p){return p instanceof s?this===p?!0:this.precedence===p.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}zu([ru.Override],s.prototype,"eval",null),zu([ru.Override],s.prototype,"evalPrecedence",null),zu([ru.Override],s.prototype,"compareTo",null),zu([ru.Override],s.prototype,"hashCode",null),zu([ru.Override],s.prototype,"equals",null),zu([ru.Override],s.prototype,"toString",null),n.PrecedencePredicate=s;class o extends n{}n.Operator=o;let a=class GB extends o{constructor(p,b){super();let C=new Fve.Array2DHashSet(Ove.ObjectEqualityComparator.INSTANCE);p instanceof GB?C.addAll(p.opnds):C.add(p),b instanceof GB?C.addAll(b.opnds):C.add(b),this.opnds=C.toArray();let N=r(this.opnds),R=jtt(N);R&&this.opnds.push(R)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof GB?Dve.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return $_.MurmurHash.hashCode(this.opnds,e)}eval(p,b){for(let C of this.opnds)if(!C.eval(p,b))return!1;return!0}evalPrecedence(p,b){let C=!1,N=[];for(let U of this.opnds){let V=U.evalPrecedence(p,b);if(C=C||V!==U,V==null)return;V!==n.NONE&&N.push(V)}if(!C)return this;if(N.length===0)return n.NONE;let R=N[0];for(let U=1;U<N.length;U++)R=n.and(R,N[U]);return R}toString(){return Nve.join(this.opnds,"&&")}};zu([ru.Override],a.prototype,"operands",null),zu([ru.Override],a.prototype,"equals",null),zu([ru.Override],a.prototype,"hashCode",null),zu([ru.Override],a.prototype,"eval",null),zu([ru.Override],a.prototype,"evalPrecedence",null),zu([ru.Override],a.prototype,"toString",null),a=zu([QB(0,ru.NotNull),QB(1,ru.NotNull)],a),n.AND=a;let c=class YB extends o{constructor(p,b){super();let C=new Fve.Array2DHashSet(Ove.ObjectEqualityComparator.INSTANCE);p instanceof YB?C.addAll(p.opnds):C.add(p),b instanceof YB?C.addAll(b.opnds):C.add(b),this.opnds=C.toArray();let N=r(this.opnds),R=Btt(N);R&&this.opnds.push(R)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof YB?Dve.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return $_.MurmurHash.hashCode(this.opnds,t)}eval(p,b){for(let C of this.opnds)if(C.eval(p,b))return!0;return!1}evalPrecedence(p,b){let C=!1,N=[];for(let U of this.opnds){let V=U.evalPrecedence(p,b);if(C=C||V!==U,V===n.NONE)return n.NONE;V&&N.push(V)}if(!C)return this;if(N.length===0)return;let R=N[0];for(let U=1;U<N.length;U++)R=n.or(R,N[U]);return R}toString(){return Nve.join(this.opnds,"||")}};zu([ru.Override],c.prototype,"operands",null),zu([ru.Override],c.prototype,"equals",null),zu([ru.Override],c.prototype,"hashCode",null),zu([ru.Override],c.prototype,"eval",null),zu([ru.Override],c.prototype,"evalPrecedence",null),zu([ru.Override],c.prototype,"toString",null),c=zu([QB(0,ru.NotNull),QB(1,ru.NotNull)],c),n.OR=c})(cd=Rm.SemanticContext||(Rm.SemanticContext={}))});var Wee=we(E4=>{"use strict";m();var AF=E4&&E4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},qtt=E4&&E4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(E4,"__esModule",{value:!0});E4.PredicateTransition=void 0;var Utt=VB(),v8=Cr(),$tt=z_(),H_=class extends Utt.AbstractPredicateTransition{constructor(e,t,r,i){super(e);this.ruleIndex=t,this.predIndex=r,this.isCtxDependent=i}get serializationType(){return 4}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new $tt.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};AF([v8.Override],H_.prototype,"serializationType",null);AF([v8.Override],H_.prototype,"isEpsilon",null);AF([v8.Override],H_.prototype,"matches",null);AF([v8.Override,v8.NotNull],H_.prototype,"toString",null);H_=AF([qtt(0,v8.NotNull)],H_);E4.PredicateTransition=H_});var TF=we(S4=>{"use strict";m();var Rve=S4&&S4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ztt=S4&&S4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(S4,"__esModule",{value:!0});S4.FailedPredicateException=void 0;var Htt=Tg(),Lve=Cr(),Vtt=Wee(),KB=class kve extends Htt.RecognitionException{constructor(e,t,r){super(e,e.inputStream,e.context,kve.formatMessage(t,r));let s=e.interpreter.atn.states[e.state].transition(0);s instanceof Vtt.PredicateTransition?(this._ruleIndex=s.ruleIndex,this._predicateIndex=s.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=t,super.setOffendingToken(e,e.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(e,t){return t||`failed predicate: {${e}}?`}};Rve([Lve.NotNull],KB,"formatMessage",null);KB=Rve([ztt(0,Lve.NotNull)],KB);S4.FailedPredicateException=KB});var FF=we(C4=>{"use strict";m();var Wtt=C4&&C4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Qtt=C4&&C4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(C4,"__esModule",{value:!0});C4.InputMismatchException=void 0;var Gtt=Tg(),Ytt=Cr(),Qee=class extends Gtt.RecognitionException{constructor(e,t,r){r===void 0&&(r=e.context);super(e,e.inputStream,r);t!==void 0&&this.setOffendingState(t),this.setOffendingToken(e,e.currentToken)}};Qee=Wtt([Qtt(0,Ytt.NotNull)],Qee);C4.InputMismatchException=Qee});var JB=we(DF=>{"use strict";m();Object.defineProperty(DF,"__esModule",{value:!0});DF.Arrays=void 0;var Ktt;(function(n){function e(i,s,o,a){return t(i,o!==void 0?o:0,a!==void 0?a:i.length,s)}n.binarySearch=e;function t(i,s,o,a){let c=s,d=o-1;for(;c<=d;){let p=c+d>>>1,b=i[p];if(b<a)c=p+1;else if(b>a)d=p-1;else return p}return-(c+1)}function r(i){let s="[",o=!0;for(let a of i)o?o=!1:s+=", ",a===null?s+="null":a===void 0?s+="undefined":s+=a;return s+="]",s}n.toString=r})(Ktt=DF.Arrays||(DF.Arrays={}))});var ej=we(_8=>{"use strict";m();var XB=_8&&_8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(_8,"__esModule",{value:!0});_8.IntegerList=void 0;var Jtt=JB(),ZB=Cr(),Gee=new Int32Array(0),Xtt=4,Yee=(1<<31>>>0)-1-8,Lm=class{constructor(e){if(!e)this._data=Gee,this._size=0;else if(e instanceof Lm)this._data=e._data.slice(0),this._size=e._size;else if(typeof e=="number")e===0?(this._data=Gee,this._size=0):(this._data=new Int32Array(e),this._size=0);else{this._data=Gee,this._size=0;for(let t of e)this.add(t)}}add(e){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=e,this._size++}addAll(e){if(Array.isArray(e))this.ensureCapacity(this._size+e.length),this._data.subarray(this._size,this._size+e.length).set(e),this._size+=e.length;else if(e instanceof Lm)this.ensureCapacity(this._size+e._size),this._data.subarray(this._size,this._size+e.size).set(e._data),this._size+=e._size;else{this.ensureCapacity(this._size+e.size);let t=0;for(let r of e)this._data[this._size+t]=r,t++;this._size+=e.size}}get(e){if(e<0||e>=this._size)throw RangeError();return this._data[e]}contains(e){for(let t=0;t<this._size;t++)if(this._data[t]===e)return!0;return!1}set(e,t){if(e<0||e>=this._size)throw RangeError();let r=this._data[e];return this._data[e]=t,r}removeAt(e){let t=this.get(e);return this._data.copyWithin(e,e+1,this._size),this._data[this._size-1]=0,this._size--,t}removeRange(e,t){if(e<0||t<0||e>this._size||t>this._size||e>t)throw RangeError();this._data.copyWithin(t,e,this._size),this._data.fill(0,this._size-(t-e),this._size),this._size-=t-e}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(e){if(e===this)return!0;if(!(e instanceof Lm)||this._size!==e._size)return!1;for(let t=0;t<this._size;t++)if(this._data[t]!==e._data[t])return!1;return!0}hashCode(){let e=1;for(let t=0;t<this._size;t++)e=31*e+this._data[t];return e}toString(){return this._data.toString()}binarySearch(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this._size),t<0||r<0||t>this._size||r>this._size)throw new RangeError;if(t>r)throw new RangeError;return Jtt.Arrays.binarySearch(this._data,e,t,r)}ensureCapacity(e){if(e<0||e>Yee)throw new RangeError;let t;for(this._data.length===0?t=Xtt:t=this._data.length;t<e;)t=t*2,(t<0||t>Yee)&&(t=Yee);let r=new Int32Array(t);r.set(this._data),this._data=r}toCharArray(){let e=new Uint16Array(this._size),t=0,r=!1;for(let i=0;i<this._size;i++){let s=this._data[i];if(s>=0&&s<65536){e[t]=s,t++;continue}if(!r){let a=new Uint16Array(this.charArraySize());a.set(e,0),e=a,r=!0}let o=String.fromCodePoint(s);e[t]=o.charCodeAt(0),e[t+1]=o.charCodeAt(1),t+=2}return e}charArraySize(){let e=0;for(let t=0;t<this._size;t++)e+=this._data[t]>=65536?2:1;return e}};XB([ZB.NotNull],Lm.prototype,"_data",void 0);XB([ZB.Override],Lm.prototype,"equals",null);XB([ZB.Override],Lm.prototype,"hashCode",null);XB([ZB.Override],Lm.prototype,"toString",null);_8.IntegerList=Lm});var D0=we(b8=>{"use strict";m();var Kee=b8&&b8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(b8,"__esModule",{value:!0});b8.Interval=void 0;var Jee=Cr(),Ive=1e3,xc=class{constructor(e,t){this.a=e,this.b=t}static get INVALID(){return xc._INVALID}static of(e,t){return e!==t||e<0||e>Ive?new xc(e,t):(xc.cache[e]==null&&(xc.cache[e]=new xc(e,e)),xc.cache[e])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(e){return e===this?!0:e instanceof xc?this.a===e.a&&this.b===e.b:!1}hashCode(){let e=23;return e=e*31+this.a,e=e*31+this.b,e}startsBeforeDisjoint(e){return this.a<e.a&&this.b<e.a}startsBeforeNonDisjoint(e){return this.a<=e.a&&this.b>=e.a}startsAfter(e){return this.a>e.a}startsAfterDisjoint(e){return this.a>e.b}startsAfterNonDisjoint(e){return this.a>e.a&&this.a<=e.b}disjoint(e){return this.startsBeforeDisjoint(e)||this.startsAfterDisjoint(e)}adjacent(e){return this.a===e.b+1||this.b===e.a-1}properlyContains(e){return e.a>=this.a&&e.b<=this.b}union(e){return xc.of(Math.min(this.a,e.a),Math.max(this.b,e.b))}intersection(e){return xc.of(Math.max(this.a,e.a),Math.min(this.b,e.b))}differenceNotProperlyContained(e){let t;return e.startsBeforeNonDisjoint(this)?t=xc.of(Math.max(this.a,e.b+1),this.b):e.startsAfterNonDisjoint(this)&&(t=xc.of(this.a,e.a-1)),t}toString(){return this.a+".."+this.b}};xc._INVALID=new xc(-1,-2);xc.cache=new Array(Ive+1);Kee([Jee.Override],xc.prototype,"equals",null);Kee([Jee.Override],xc.prototype,"hashCode",null);Kee([Jee.Override],xc.prototype,"toString",null);b8.Interval=xc});var iu=we(OF=>{"use strict";m();Object.defineProperty(OF,"__esModule",{value:!0});OF.Token=void 0;var Ztt=wg(),ent;(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=Ztt.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(ent=OF.Token||(OF.Token={}))});var E8=we(w4=>{"use strict";m();var uh=w4&&w4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Mve=w4&&w4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(w4,"__esModule",{value:!0});w4.CommonToken=void 0;var tnt=D0(),lh=Cr(),Pve=iu(),$f=class NF{constructor(e,t,r=NF.EMPTY_SOURCE,i=Pve.Token.DEFAULT_CHANNEL,s=0,o=0){this._line=0,this._charPositionInLine=-1,this._channel=Pve.Token.DEFAULT_CHANNEL,this.index=-1,this._text=t,this._type=e,this.source=r,this._channel=i,this.start=s,this.stop=o,r.source!=null&&(this._line=r.source.line,this._charPositionInLine=r.source.charPositionInLine)}static fromToken(e){let t=new NF(e.type,void 0,NF.EMPTY_SOURCE,e.channel,e.startIndex,e.stopIndex);return t._line=e.line,t.index=e.tokenIndex,t._charPositionInLine=e.charPositionInLine,e instanceof NF?(t._text=e._text,t.source=e.source):(t._text=e.text,t.source={source:e.tokenSource,stream:e.inputStream}),t}get type(){return this._type}set type(e){this._type=e}get line(){return this._line}set line(e){this._line=e}get text(){if(this._text!=null)return this._text;let e=this.inputStream;if(e==null)return;let t=e.size;return this.start<t&&this.stop<t?e.getText(tnt.Interval.of(this.start,this.stop)):"<EOF>"}set text(e){this._text=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}get channel(){return this._channel}set channel(e){this._channel=e}get startIndex(){return this.start}set startIndex(e){this.start=e}get stopIndex(){return this.stop}set stopIndex(e){this.stop=e}get tokenIndex(){return this.index}set tokenIndex(e){this.index=e}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(e){let t="";this._channel>0&&(t=",channel="+this._channel);let r=this.text;r!=null?(r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r=r.replace(/\t/g,"\\t")):r="<no text>";let i=String(this._type);return e&&(i=e.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+r+"',<"+i+">"+t+","+this._line+":"+this.charPositionInLine+"]"}};$f.EMPTY_SOURCE={source:void 0,stream:void 0};uh([lh.NotNull],$f.prototype,"source",void 0);uh([lh.Override],$f.prototype,"type",null);uh([lh.Override],$f.prototype,"line",null);uh([lh.Override],$f.prototype,"text",null);uh([lh.Override],$f.prototype,"charPositionInLine",null);uh([lh.Override],$f.prototype,"channel",null);uh([lh.Override],$f.prototype,"startIndex",null);uh([lh.Override],$f.prototype,"stopIndex",null);uh([lh.Override],$f.prototype,"tokenIndex",null);uh([lh.Override],$f.prototype,"tokenSource",null);uh([lh.Override],$f.prototype,"inputStream",null);uh([lh.Override],$f.prototype,"toString",null);uh([Mve(0,lh.NotNull)],$f,"fromToken",null);$f=uh([Mve(2,lh.NotNull)],$f);w4.CommonToken=$f});var tj=we(A4=>{"use strict";m();var Bve=A4&&A4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(A4,"__esModule",{value:!0});A4.CommonTokenFactory=void 0;var jve=E8(),nnt=D0(),qve=Cr(),RF=class{constructor(e=!1){this.copyText=e}create(e,t,r,i,s,o,a,c){let d=new jve.CommonToken(t,r,e,i,s,o);return d.line=a,d.charPositionInLine=c,r==null&&this.copyText&&e.stream!=null&&(d.text=e.stream.getText(nnt.Interval.of(s,o))),d}createSimple(e,t){return new jve.CommonToken(e,t)}};Bve([qve.Override],RF.prototype,"create",null);Bve([qve.Override],RF.prototype,"createSimple",null);A4.CommonTokenFactory=RF;(function(n){n.DEFAULT=new n})(RF=A4.CommonTokenFactory||(A4.CommonTokenFactory={}))});var Xee=we(nj=>{"use strict";m();Object.defineProperty(nj,"__esModule",{value:!0});nj.IntegerStack=void 0;var rnt=ej(),Uve=class extends rnt.IntegerList{constructor(e){super(e)}push(e){this.add(e)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};nj.IntegerStack=Uve});var Zee=we(rj=>{"use strict";m();Object.defineProperty(rj,"__esModule",{value:!0});rj.AcceptStateInfo=void 0;var $ve=class{constructor(e,t){this._prediction=e,this._lexerActionExecutor=t}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};rj.AcceptStateInfo=$ve});var V_=we(ij=>{"use strict";m();Object.defineProperty(ij,"__esModule",{value:!0});ij.Array2DHashMap=void 0;var zve=Dg(),Hve=class{constructor(e){this.keyComparator=e}hashCode(e){return this.keyComparator.hashCode(e.key)}equals(e,t){return this.keyComparator.equals(e.key,t.key)}},LF=class{constructor(e){e instanceof LF?this.backingStore=new zve.Array2DHashSet(e.backingStore):this.backingStore=new zve.Array2DHashSet(new Hve(e))}clear(){this.backingStore.clear()}containsKey(e){return this.backingStore.contains({key:e})}get(e){let t=this.backingStore.get({key:e});if(!!t)return t.value}get isEmpty(){return this.backingStore.isEmpty}put(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?(i=r.value,r.value=t):this.backingStore.add({key:e,value:t}),i}putIfAbsent(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?i=r.value:this.backingStore.add({key:e,value:t}),i}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(e){return e instanceof LF?this.backingStore.equals(e.backingStore):!1}};ij.Array2DHashMap=LF});var T4=we(sj=>{"use strict";m();Object.defineProperty(sj,"__esModule",{value:!0});sj.DecisionState=void 0;var int=Nm(),Vve=class extends int.ATNState{constructor(){super(...arguments);this.decision=-1,this.nonGreedy=!1,this.sll=!1}};sj.DecisionState=Vve});var uj=we(D4=>{"use strict";m();var oj=D4&&D4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(D4,"__esModule",{value:!0});D4.PredictionContextCache=void 0;var ete=V_(),aj=Cr(),tte=l2(),Wve=Kp(),Qve=A0(),F4=class{constructor(e=!0){this.contexts=new ete.Array2DHashMap(tte.ObjectEqualityComparator.INSTANCE),this.childContexts=new ete.Array2DHashMap(tte.ObjectEqualityComparator.INSTANCE),this.joinContexts=new ete.Array2DHashMap(tte.ObjectEqualityComparator.INSTANCE),this.enableCache=e}getAsCached(e){if(!this.enableCache)return e;let t=this.contexts.get(e);return t||(t=e,this.contexts.put(e,e)),t}getChild(e,t){if(!this.enableCache)return e.getChild(t);let r=new F4.PredictionContextAndInt(e,t),i=this.childContexts.get(r);return i||(i=e.getChild(t),i=this.getAsCached(i),this.childContexts.put(r,i)),i}join(e,t){if(!this.enableCache)return Wve.PredictionContext.join(e,t,this);let r=new F4.IdentityCommutativePredictionContextOperands(e,t),i=this.joinContexts.get(r);return i||(i=Wve.PredictionContext.join(e,t,this),i=this.getAsCached(i),this.joinContexts.put(r,i),i)}};D4.PredictionContextCache=F4;F4.UNCACHED=new F4(!1);(function(n){class e{constructor(i,s){this.obj=i,this.value=s}equals(i){if(i instanceof e){if(i===this)return!0}else return!1;let s=i;return this.value===s.value&&(this.obj===s.obj||this.obj!=null&&this.obj.equals(s.obj))}hashCode(){let i=5;return i=7*i+(this.obj!=null?this.obj.hashCode():0),i=7*i+this.value,i}}oj([aj.Override],e.prototype,"equals",null),oj([aj.Override],e.prototype,"hashCode",null),n.PredictionContextAndInt=e;class t{constructor(i,s){Qve(i!=null),Qve(s!=null),this._x=i,this._y=s}get x(){return this._x}get y(){return this._y}equals(i){if(i instanceof t){if(this===i)return!0}else return!1;let s=i;return this._x===s._x&&this._y===s._y||this._x===s._y&&this._y===s._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}oj([aj.Override],t.prototype,"equals",null),oj([aj.Override],t.prototype,"hashCode",null),n.IdentityCommutativePredictionContextOperands=t})(F4=D4.PredictionContextCache||(D4.PredictionContextCache={}))});var Kp=we(Jp=>{"use strict";m();var xo=Jp&&Jp.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},O4=Jp&&Jp.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.SingletonPredictionContext=Jp.PredictionContext=void 0;var snt=V_(),ont=Dg(),ant=JB(),km=Dl(),Vs=Cr(),Gve=uj(),lj=A0(),nte=1,ko=class{constructor(e){this.cachedHashCode=e}static calculateEmptyHashCode(){let e=km.MurmurHash.initialize(nte);return e=km.MurmurHash.finish(e,0),e}static calculateSingleHashCode(e,t){let r=km.MurmurHash.initialize(nte);return r=km.MurmurHash.update(r,e),r=km.MurmurHash.update(r,t),r=km.MurmurHash.finish(r,2),r}static calculateHashCode(e,t){let r=km.MurmurHash.initialize(nte);for(let i of e)r=km.MurmurHash.update(r,i);for(let i of t)r=km.MurmurHash.update(r,i);return r=km.MurmurHash.finish(r,2*e.length),r}static fromRuleContext(e,t,r=!0){if(t.isEmpty)return r?ko.EMPTY_FULL:ko.EMPTY_LOCAL;let i;t._parent?i=ko.fromRuleContext(e,t._parent,r):i=r?ko.EMPTY_FULL:ko.EMPTY_LOCAL;let o=e.states[t.invokingState].transition(0);return i.getChild(o.followState.stateNumber)}static addEmptyContext(e){return e.addEmptyContext()}static removeEmptyContext(e){return e.removeEmptyContext()}static join(e,t,r=Gve.PredictionContextCache.UNCACHED){if(e===t)return e;if(e.isEmpty)return ko.isEmptyLocal(e)?e:ko.addEmptyContext(t);if(t.isEmpty)return ko.isEmptyLocal(t)?t:ko.addEmptyContext(e);let i=e.size,s=t.size;if(i===1&&s===1&&e.getReturnState(0)===t.getReturnState(0)){let N=r.join(e.getParent(0),t.getParent(0));return N===e.getParent(0)?e:N===t.getParent(0)?t:N.getChild(e.getReturnState(0))}let o=0,a=new Array(i+s),c=new Array(a.length),d=0,p=0,b=!0,C=!0;for(;d<i&&p<s;)e.getReturnState(d)===t.getReturnState(p)?(a[o]=r.join(e.getParent(d),t.getParent(p)),c[o]=e.getReturnState(d),b=b&&a[o]===e.getParent(d),C=C&&a[o]===t.getParent(p),d++,p++):e.getReturnState(d)<t.getReturnState(p)?(a[o]=e.getParent(d),c[o]=e.getReturnState(d),C=!1,d++):(lj(t.getReturnState(p)<e.getReturnState(d)),a[o]=t.getParent(p),c[o]=t.getReturnState(p),b=!1,p++),o++;for(;d<i;)a[o]=e.getParent(d),c[o]=e.getReturnState(d),d++,C=!1,o++;for(;p<s;)a[o]=t.getParent(p),c[o]=t.getReturnState(p),p++,b=!1,o++;return b?e:C?t:(o<a.length&&(a=a.slice(0,o),c=c.slice(0,o)),a.length===0?ko.EMPTY_FULL:a.length===1?new qc(a[0],c[0]):new zf(a,c))}static isEmptyLocal(e){return e===ko.EMPTY_LOCAL}static getCachedContext(e,t,r){if(e.isEmpty)return e;let i=r.get(e);if(i)return i;if(i=t.get(e),i)return r.put(e,i),i;let s=!1,o=new Array(e.size);for(let c=0;c<o.length;c++){let d=ko.getCachedContext(e.getParent(c),t,r);if(s||d!==e.getParent(c)){if(!s){o=new Array(e.size);for(let p=0;p<e.size;p++)o[p]=e.getParent(p);s=!0}o[c]=d}}if(!s)return i=t.putIfAbsent(e,e),r.put(e,i??e),e;let a;if(o.length===1)a=new qc(o[0],e.getReturnState(0));else{let c=new Array(e.size);for(let d=0;d<e.size;d++)c[d]=e.getReturnState(d);a=new zf(o,c,e.hashCode())}return i=t.putIfAbsent(a,a),r.put(a,i||a),r.put(e,i||a),a}appendSingleContext(e,t){return this.appendContext(ko.EMPTY_FULL.getChild(e),t)}getChild(e){return new qc(this,e)}hashCode(){return this.cachedHashCode}toStrings(e,t,r=ko.EMPTY_FULL){let i=[];e:for(let s=0;;s++){let o=0,a=!0,c=this,d=t,p="";for(p+="[";!c.isEmpty&&c!==r;){let b=0;if(c.size>0){let C=1;for(;1<<C>>>0<c.size;)C++;let N=(1<<C>>>0)-1;if(b=s>>o&N,a=a&&b>=c.size-1,b>=c.size)continue e;o+=C}if(e){p.length>1&&(p+=" ");let N=e.atn.states[d];p+=e.ruleNames[N.ruleIndex]}else c.getReturnState(b)!==ko.EMPTY_FULL_STATE_KEY&&(c.isEmpty||(p.length>1&&(p+=" "),p+=c.getReturnState(b)));d=c.getReturnState(b),c=c.getParent(b)}if(p+="]",i.push(p),a)break}return i}};xo([Vs.Override],ko.prototype,"hashCode",null);xo([O4(0,Vs.NotNull),O4(1,Vs.NotNull),O4(2,Vs.NotNull)],ko,"join",null);xo([O4(0,Vs.NotNull),O4(1,Vs.NotNull),O4(2,Vs.NotNull)],ko,"getCachedContext",null);Jp.PredictionContext=ko;var fd=class extends ko{constructor(e){super(ko.calculateEmptyHashCode());this.fullContext=e}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(e){throw new Error("index out of bounds")}getReturnState(e){throw new Error("index out of bounds")}findReturnState(e){return-1}get size(){return 0}appendSingleContext(e,t){return t.getChild(this,e)}appendContext(e,t){return e}get isEmpty(){return!0}get hasEmpty(){return!0}equals(e){return this===e}toStrings(e,t,r){return["[]"]}};xo([Vs.Override],fd.prototype,"addEmptyContext",null);xo([Vs.Override],fd.prototype,"removeEmptyContext",null);xo([Vs.Override],fd.prototype,"getParent",null);xo([Vs.Override],fd.prototype,"getReturnState",null);xo([Vs.Override],fd.prototype,"findReturnState",null);xo([Vs.Override],fd.prototype,"size",null);xo([Vs.Override],fd.prototype,"appendSingleContext",null);xo([Vs.Override],fd.prototype,"appendContext",null);xo([Vs.Override],fd.prototype,"isEmpty",null);xo([Vs.Override],fd.prototype,"hasEmpty",null);xo([Vs.Override],fd.prototype,"equals",null);xo([Vs.Override],fd.prototype,"toStrings",null);var zf=class W_ extends ko{constructor(e,t,r){super(r||ko.calculateHashCode(e,t));lj(e.length===t.length),lj(t.length>1||t[0]!==ko.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=e,this.returnStates=t}getParent(e){return this.parents[e]}getReturnState(e){return this.returnStates[e]}findReturnState(e){return ant.Arrays.binarySearch(this.returnStates,e)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===ko.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let e=this.parents.slice(0),t=this.returnStates.slice(0);return e.push(ko.EMPTY_FULL),t.push(ko.EMPTY_FULL_STATE_KEY),new W_(e,t)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new qc(this.parents[0],this.returnStates[0]);{let e=this.parents.slice(0,this.parents.length-1),t=this.returnStates.slice(0,this.returnStates.length-1);return new W_(e,t)}}appendContext(e,t){return W_.appendContextImpl(this,e,new ko.IdentityHashMap)}static appendContextImpl(e,t,r){if(t.isEmpty){if(ko.isEmptyLocal(t)){if(e.hasEmpty)return ko.EMPTY_LOCAL;throw new Error("what to do here?")}return e}if(t.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let i=r.get(e);if(!i){if(e.isEmpty)i=t;else{let s=e.size;e.hasEmpty&&s--;let o=new Array(s),a=new Array(s);for(let c=0;c<s;c++)a[c]=e.getReturnState(c);for(let c=0;c<s;c++)o[c]=W_.appendContextImpl(e.getParent(c),t,r);o.length===1?i=new qc(o[0],a[0]):(lj(o.length>1),i=new W_(o,a)),e.hasEmpty&&(i=ko.join(i,t))}r.put(e,i)}return i}equals(e){if(this===e)return!0;if(!(e instanceof W_)||this.hashCode()!==e.hashCode())return!1;let t=e;return this.equalsImpl(t,new ont.Array2DHashSet)}equalsImpl(e,t){let r=[],i=[];for(r.push(this),i.push(e);;){let s=r.pop(),o=i.pop();if(!s||!o)break;let a=new Gve.PredictionContextCache.IdentityCommutativePredictionContextOperands(s,o);if(!t.add(a))continue;let c=a.x.size;if(c===0){if(!a.x.equals(a.y))return!1;continue}let d=a.y.size;if(c!==d)return!1;for(let p=0;p<c;p++){if(a.x.getReturnState(p)!==a.y.getReturnState(p))return!1;let b=a.x.getParent(p),C=a.y.getParent(p);if(b.hashCode()!==C.hashCode())return!1;b!==C&&(r.push(b),i.push(C))}}return!0}};xo([Vs.NotNull],zf.prototype,"parents",void 0);xo([Vs.NotNull],zf.prototype,"returnStates",void 0);xo([Vs.Override],zf.prototype,"getParent",null);xo([Vs.Override],zf.prototype,"getReturnState",null);xo([Vs.Override],zf.prototype,"findReturnState",null);xo([Vs.Override],zf.prototype,"size",null);xo([Vs.Override],zf.prototype,"isEmpty",null);xo([Vs.Override],zf.prototype,"hasEmpty",null);xo([Vs.Override],zf.prototype,"addEmptyContext",null);xo([Vs.Override],zf.prototype,"removeEmptyContext",null);xo([Vs.Override],zf.prototype,"appendContext",null);xo([Vs.Override],zf.prototype,"equals",null);zf=xo([O4(0,Vs.NotNull)],zf);var qc=class Yve extends ko{constructor(e,t){super(ko.calculateSingleHashCode(e,t));this.parent=e,this.returnState=t}getParent(e){return this.parent}getReturnState(e){return this.returnState}findReturnState(e){return this.returnState===e?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(e,t){return t.getChild(this.parent.appendContext(e,t),this.returnState)}addEmptyContext(){let e=[this.parent,ko.EMPTY_FULL],t=[this.returnState,ko.EMPTY_FULL_STATE_KEY];return new zf(e,t)}removeEmptyContext(){return this}equals(e){if(e===this)return!0;if(!(e instanceof Yve))return!1;let t=e;return this.hashCode()!==t.hashCode()?!1:this.returnState===t.returnState&&this.parent.equals(t.parent)}};xo([Vs.NotNull],qc.prototype,"parent",void 0);xo([Vs.Override],qc.prototype,"getParent",null);xo([Vs.Override],qc.prototype,"getReturnState",null);xo([Vs.Override],qc.prototype,"findReturnState",null);xo([Vs.Override],qc.prototype,"size",null);xo([Vs.Override],qc.prototype,"isEmpty",null);xo([Vs.Override],qc.prototype,"hasEmpty",null);xo([Vs.Override],qc.prototype,"appendContext",null);xo([Vs.Override],qc.prototype,"addEmptyContext",null);xo([Vs.Override],qc.prototype,"removeEmptyContext",null);xo([Vs.Override],qc.prototype,"equals",null);qc=xo([O4(0,Vs.NotNull)],qc);Jp.SingletonPredictionContext=qc;(function(n){n.EMPTY_LOCAL=new fd(!1),n.EMPTY_FULL=new fd(!0),n.EMPTY_LOCAL_STATE_KEY=-(1<<31>>>0),n.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class e extends snt.Array2DHashMap{constructor(){super(t.INSTANCE)}}n.IdentityHashMap=e;class t{IdentityEqualityComparator(){}hashCode(i){return i.hashCode()}equals(i,s){return i===s}}t.INSTANCE=new t,xo([Vs.Override],t.prototype,"hashCode",null),xo([Vs.Override],t.prototype,"equals",null),n.IdentityEqualityComparator=t})(ko=Jp.PredictionContext||(Jp.PredictionContext={}))});var IF=we(N4=>{"use strict";m();var gc=N4&&N4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},$h=N4&&N4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(N4,"__esModule",{value:!0});N4.ATNConfig=void 0;var unt=V_(),lnt=T4(),Og=Dl(),Ha=Cr(),cnt=l2(),Kve=Kp(),Q_=z_(),Jve=A0(),rte=2147483648,dd=class kF{constructor(e,t,r){typeof t=="number"?(Jve((t&16777215)===t),this._state=e,this.altAndOuterContextDepth=t,this._context=r):(this._state=e,this.altAndOuterContextDepth=t.altAndOuterContextDepth,this._context=r)}static create(e,t,r,i=Q_.SemanticContext.NONE,s){return i!==Q_.SemanticContext.NONE?s!=null?new C8(s,i,e,t,r,!1):new G_(i,e,t,r):s!=null?new S8(s,e,t,r,!1):new kF(e,t,r)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(e){this._context=e}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(e){Jve(e>=0),e=Math.min(e,127),this.altAndOuterContextDepth=e<<24|(this.altAndOuterContextDepth&~2130706432)>>>0}get lexerActionExecutor(){}get semanticContext(){return Q_.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(e,t,r){return r==null?this.transformImpl(e,this._context,this.semanticContext,t,this.lexerActionExecutor):r instanceof Kve.PredictionContext?this.transformImpl(e,r,this.semanticContext,t,this.lexerActionExecutor):r instanceof Q_.SemanticContext?this.transformImpl(e,this._context,r,t,this.lexerActionExecutor):this.transformImpl(e,this._context,this.semanticContext,t,r)}transformImpl(e,t,r,i,s){let o=i&&kF.checkNonGreedyDecision(this,e);return r!==Q_.SemanticContext.NONE?s!=null||o?new C8(s,r,e,this,t,o):new G_(r,e,this,t):s!=null||o?new S8(s,e,this,t,o):new kF(e,this,t)}static checkNonGreedyDecision(e,t){return e.hasPassedThroughNonGreedyDecision||t instanceof lnt.DecisionState&&t.nonGreedy}appendContext(e,t){if(typeof e=="number"){let r=this.context.appendSingleContext(e,t);return this.transform(this.state,!1,r)}else{let r=this.context.appendContext(e,t);return this.transform(this.state,!1,r)}}contains(e){if(this.state.stateNumber!==e.state.stateNumber||this.alt!==e.alt||!this.semanticContext.equals(e.semanticContext))return!1;let t=[],r=[];for(t.push(this.context),r.push(e.context);;){let i=t.pop(),s=r.pop();if(!i||!s)break;if(i===s)return!0;if(i.size<s.size)return!1;if(s.isEmpty)return i.hasEmpty;for(let o=0;o<s.size;o++){let a=i.findReturnState(s.getReturnState(o));if(a<0)return!1;t.push(i.getParent(a)),r.push(s.getParent(o))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&rte)!==0}set isPrecedenceFilterSuppressed(e){e?this.altAndOuterContextDepth|=rte:this.altAndOuterContextDepth&=~rte}equals(e){return this===e?!0:e instanceof kF?this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.reachesIntoOuterContext===e.reachesIntoOuterContext&&this.context.equals(e.context)&&this.semanticContext.equals(e.semanticContext)&&this.isPrecedenceFilterSuppressed===e.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===e.hasPassedThroughNonGreedyDecision&&cnt.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,e.lexerActionExecutor):!1}hashCode(){let e=Og.MurmurHash.initialize(7);return e=Og.MurmurHash.update(e,this.state.stateNumber),e=Og.MurmurHash.update(e,this.alt),e=Og.MurmurHash.update(e,this.reachesIntoOuterContext?1:0),e=Og.MurmurHash.update(e,this.context),e=Og.MurmurHash.update(e,this.semanticContext),e=Og.MurmurHash.update(e,this.hasPassedThroughNonGreedyDecision?1:0),e=Og.MurmurHash.update(e,this.lexerActionExecutor),e=Og.MurmurHash.finish(e,7),e}toDotString(){let e="";e+=`digraph G {
`,e+=`rankdir=LR;
`;let t=new unt.Array2DHashMap(Kve.PredictionContext.IdentityEqualityComparator.INSTANCE),r=[];function i(s){let o=t.size,a=t.putIfAbsent(s,o);return a??(r.push(s),o)}for(r.push(this.context),t.put(this.context,0);;){let s=r.pop();if(!s)break;for(let o=0;o<s.size;o++)e+="  s"+i(s),e+="->",e+="s"+i(s.getParent(o)),e+='[label="'+s.getReturnState(o)+`"];
`}return e+=`}
`,e.toString()}toString(e,t,r){r==null&&(r=t!=null),t==null&&(t=!0);let i="",s;r?s=this.context.toStrings(e,this.state.stateNumber):s=["?"];let o=!0;for(let a of s)o?o=!1:i+=", ",i+="(",i+=this.state,t&&(i+=",",i+=this.alt),this.context&&(i+=",",i+=a),this.semanticContext!==Q_.SemanticContext.NONE&&(i+=",",i+=this.semanticContext),this.reachesIntoOuterContext&&(i+=",up="+this.outerContextDepth),i+=")";return i.toString()}};gc([Ha.NotNull],dd.prototype,"_state",void 0);gc([Ha.NotNull],dd.prototype,"_context",void 0);gc([Ha.NotNull],dd.prototype,"state",null);gc([Ha.NotNull,$h(0,Ha.NotNull)],dd.prototype,"context",null);gc([Ha.NotNull],dd.prototype,"semanticContext",null);gc([Ha.Override],dd.prototype,"clone",null);gc([$h(0,Ha.NotNull),$h(2,Ha.NotNull)],dd.prototype,"transformImpl",null);gc([Ha.Override],dd.prototype,"equals",null);gc([Ha.Override],dd.prototype,"hashCode",null);gc([$h(0,Ha.NotNull),$h(3,Ha.NotNull)],dd,"create",null);dd=gc([$h(0,Ha.NotNull),$h(2,Ha.NotNull)],dd);N4.ATNConfig=dd;var G_=class extends dd{constructor(e,t,r,i){typeof r=="number"?super(t,r,i):super(t,r,i),this._semanticContext=e}get semanticContext(){return this._semanticContext}};gc([Ha.NotNull],G_.prototype,"_semanticContext",void 0);gc([Ha.Override],G_.prototype,"semanticContext",null);G_=gc([$h(1,Ha.NotNull),$h(2,Ha.NotNull)],G_);var S8=class extends dd{constructor(e,t,r,i,s){if(typeof r=="number")super(t,r,i);else{super(t,r,i);if(r.semanticContext!==Q_.SemanticContext.NONE)throw new Error("Not supported")}this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=s}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};gc([Ha.Override],S8.prototype,"lexerActionExecutor",null);gc([Ha.Override],S8.prototype,"hasPassedThroughNonGreedyDecision",null);S8=gc([$h(1,Ha.NotNull),$h(2,Ha.NotNull)],S8);var C8=class extends G_{constructor(e,t,r,i,s,o){typeof i=="number"?super(t,r,i,s):super(t,r,i,s),this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=o}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};gc([Ha.Override],C8.prototype,"lexerActionExecutor",null);gc([Ha.Override],C8.prototype,"hasPassedThroughNonGreedyDecision",null);C8=gc([$h(1,Ha.NotNull),$h(2,Ha.NotNull)],C8)});var Ng=we(cj=>{"use strict";m();Object.defineProperty(cj,"__esModule",{value:!0});cj.BitSet=void 0;var fnt=p4(),dnt=Dl(),MF=new Uint16Array(0);function zh(n){return n>>>4}function w8(n){return n*16}function ite(n){let e=1;for(let t=0;t<16;t++){if((n&e)!==0)return t;e=e<<1>>>0}throw new RangeError("No specified bit found")}function Xve(n){let e=1<<15>>>0;for(let t=15;t>=0;t--){if((n&e)!==0)return t;e=e>>>1}throw new RangeError("No specified bit found")}function Xp(n,e){return n&=15,e&=15,n===e?1<<n>>>0:65535>>>15-e^65535>>>16-n}var ste=new Uint8Array(65536);for(let n=0;n<16;n++){let e=1<<n>>>0,t=0;for(;t<ste.length;){t+=e;for(let r=0;r<e;r++)ste[t]++,t++}}var Y_=class{constructor(e){if(!e)this.data=MF;else if(typeof e=="number"){if(e<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(zh(e-1)+1)}else if(e instanceof Y_)this.data=e.data.slice(0);else{let t=-1;for(let r of e)t<r&&(t=r);this.data=new Uint16Array(zh(t-1)+1);for(let r of e)this.set(r)}}and(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o])!==0&&(s=o);s===-1&&(this.data=MF),s<t.length-1&&(this.data=t.slice(0,s+1))}andNot(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o]^65535)!==0&&(s=o);s===-1&&(this.data=MF),s<t.length-1&&(this.data=t.slice(0,s+1))}cardinality(){if(this.isEmpty)return 0;let e=this.data,t=e.length,r=0;for(let i=0;i<t;i++)r+=ste[e[i]];return r}clear(e,t){e==null?this.data.fill(0):t==null?this.set(e,!1):this.set(e,t,!1)}flip(e,t){if(t==null&&(t=e),e<0||t<e)throw new RangeError;let r=zh(e),i=zh(t);if(r===i)this.data[r]^=Xp(e,t);else{for(this.data[r++]^=Xp(e,15);r<i;)this.data[r++]^=65535;this.data[r++]^=Xp(0,t)}}get(e,t){if(t===void 0)return!!(this.data[zh(e)]&Xp(e,e));{let r=new Y_(t+1);for(let i=e;i<=t;i++)r.set(i,this.get(i));return r}}intersects(e){let t=Math.min(this.length(),e.length());if(t===0)return!1;let r=zh(t-1);for(let i=0;i<=r;i++)if((this.data[i]&e.data[i])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(w8(this.data.length)-1)+1:0}nextClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=zh(e);if(i>r)return-1;let s=65535^Xp(e,15);if((t[i]|s)===65535){for(i++,s=0;i<r&&t[i]===65535;i++);if(i===r)return-1}return w8(i)+ite((t[i]|s)^65535)}nextSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=zh(e);if(i>r)return-1;let s=Xp(e,15);if((t[i]&s)===0){for(i++,s=65535;i<r&&t[i]===0;i++);if(i>=r)return-1}return w8(i)+ite(t[i]&s)}or(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let d=0;d<i;d++)(o[d]=t[d]|r[d])!==0&&(a=d);let c=t.length>r.length?t:r;for(let d=i;d<s;d++)(o[d]=c[d])!==0&&(a=d);a===-1?this.data=MF:o.length===a+1?this.data=o:this.data=o.slice(0,a)}previousClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=zh(e);i>=r&&(i=r-1);let s=65535^Xp(0,e);if((t[i]|s)===65535){for(s=0,i--;i>=0&&t[i]===65535;i--);if(i<0)return-1}return w8(i)+Xve((t[i]|s)^65535)}previousSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=zh(e);i>=r&&(i=r-1);let s=Xp(0,e);if((t[i]&s)===0){for(i--,s=65535;i>=0&&t[i]===0;i--);if(i<0)return-1}return w8(i)+Xve(t[i]&s)}set(e,t,r){if(t===void 0?(t=e,r=!0):typeof t=="boolean"&&(r=t,t=e),r===void 0&&(r=!0),e<0||e>t)throw new RangeError;let i=zh(e),s=zh(t);if(r&&s>=this.data.length){let o=new Uint16Array(s+1);this.data.forEach((a,c)=>o[c]=a),this.data=o}else if(!r){if(i>=this.data.length)return;s>=this.data.length&&(s=this.data.length-1,t=this.data.length*16-1)}if(i===s)this._setBits(i,r,Xp(e,t));else{for(this._setBits(i++,r,Xp(e,15));i<s;)this.data[i++]=r?65535:0;this._setBits(i,r,Xp(0,t))}}_setBits(e,t,r){t?this.data[e]|=r:this.data[e]&=65535^r}get size(){return this.data.byteLength*8}hashCode(){return dnt.MurmurHash.hashCode(this.data,22)}equals(e){if(e===this)return!0;if(!(e instanceof Y_))return!1;let t=this.length();if(t!==e.length())return!1;if(t===0)return!0;let r=zh(t-1);for(let i=0;i<=r;i++)if(this.data[i]!==e.data[i])return!1;return!0}toString(){let e="{",t=!0;for(let r=this.nextSetBit(0);r>=0;r=this.nextSetBit(r+1))t?t=!1:e+=", ",e+=r;return e+="}",e}xor(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let d=0;d<i;d++)(o[d]=t[d]^r[d])!==0&&(a=d);let c=t.length>r.length?t:r;for(let d=i;d<s;d++)(o[d]=c[d])!==0&&(a=d);a===-1?this.data=MF:o.length===a+1?this.data=o:this.data=o.slice(0,a+1)}clone(){return new Y_(this)}[Symbol.iterator](){return new Zve(this.data)}[fnt.inspect.custom](){return"BitSet "+this.toString()}};cj.BitSet=Y_;var Zve=class{constructor(e){this.data=e,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){let e=this.data[this.index]&this.mask;if(e!==0){let t=w8(this.index)+ite(e);return this.mask=Xp(t+1,15),{done:!1,value:t}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}});var T8=we(A8=>{"use strict";m();var Im=A8&&A8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(A8,"__esModule",{value:!0});A8.ATNConfigSet=void 0;var e_e=V_(),hnt=Dg(),t_e=wF(),fj=f2(),n_e=IF(),pnt=Ng(),Mm=Cr(),mnt=l2(),r_e=Kp(),xnt=uj(),gnt=z_(),dj=A0(),ynt=c2(),hj=class{hashCode(e){return e.state^e.alt}equals(e,t){return e.state===t.state&&e.alt===t.alt}};hj.INSTANCE=new hj;function ote(n){return n?new e_e.Array2DHashMap(n):new e_e.Array2DHashMap(hj.INSTANCE)}var hd=class{constructor(e,t){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,e?(t?(this.mergedConfigs=void 0,this.unmerged=void 0):e.isReadOnly?(this.mergedConfigs=ote(),this.unmerged=[]):(this.mergedConfigs=ote(e.mergedConfigs),this.unmerged=e.unmerged.slice(0)),this.configs=e.configs.slice(0),this._dipsIntoOuterContext=e._dipsIntoOuterContext,this._hasSemanticContext=e._hasSemanticContext,this.outermostConfigSet=e.outermostConfigSet,(t||!e.isReadOnly)&&(this._uniqueAlt=e._uniqueAlt,this._conflictInfo=e._conflictInfo)):(this.mergedConfigs=ote(),this.unmerged=[],this.configs=[],this._uniqueAlt=fj.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let e=new pnt.BitSet;for(let t of this)e.set(t.alt);return e}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(e){if(this.outermostConfigSet&&!e)throw new Error("IllegalStateException");dj(!e||!this._dipsIntoOuterContext),this.outermostConfigSet=e}getStates(){let e=new hnt.Array2DHashSet(mnt.ObjectEqualityComparator.INSTANCE);for(let t of this.configs)e.add(t.state);return e}optimizeConfigs(e){if(this.configs.length!==0)for(let t of this.configs)t.context=e.atn.getCachedContext(t.context)}clone(e){let t=new hd(this,e);return!e&&this.isReadOnly&&t.addAll(this.configs),t}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(e){if(!(e instanceof n_e.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let t=e,r=this.getKey(t),i=this.mergedConfigs.get(r);if(i!=null&&this.canMerge(t,r,i))return i.contains(t);for(let s of this.unmerged)if(s.contains(e))return!0}else for(let t of this.configs)if(t.contains(e))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(e,t){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");dj(!this.outermostConfigSet||!e.reachesIntoOuterContext),t==null&&(t=xnt.PredictionContextCache.UNCACHED);let r,i=this.getKey(e),s=this.mergedConfigs.get(i);if(r=s==null,s!=null&&this.canMerge(e,i,s)){s.outerContextDepth=Math.max(s.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(s.isPrecedenceFilterSuppressed=!0);let o=r_e.PredictionContext.join(s.context,e.context,t);return this.updatePropertiesForMergedConfig(e),s.context===o?!1:(s.context=o,!0)}for(let o=0;o<this.unmerged.length;o++){let a=this.unmerged[o];if(this.canMerge(e,i,a)){a.outerContextDepth=Math.max(a.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(a.isPrecedenceFilterSuppressed=!0);let c=r_e.PredictionContext.join(a.context,e.context,t);return this.updatePropertiesForMergedConfig(e),a.context===c?!1:(a.context=c,r&&(this.mergedConfigs.put(i,a),this.unmerged.splice(o,1)),!0)}}return this.configs.push(e),r?this.mergedConfigs.put(i,e):this.unmerged.push(e),this.updatePropertiesForAddedConfig(e),!0}updatePropertiesForMergedConfig(e){this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,dj(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(e){this.configs.length===1?this._uniqueAlt=e.alt:this._uniqueAlt!==e.alt&&(this._uniqueAlt=fj.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!gnt.SemanticContext.NONE.equals(e.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,dj(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(e,t,r){return e.state.stateNumber!==r.state.stateNumber||t.alt!==r.alt?!1:e.semanticContext.equals(r.semanticContext)}getKey(e){return{state:e.state.stateNumber,alt:e.alt}}containsAll(e){for(let t of e)if(!(t instanceof n_e.ATNConfig)||!this.contains(t))return!1;return!0}addAll(e,t){this.ensureWritable();let r=!1;for(let i of e)this.add(i,t)&&(r=!0);return r}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=fj.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(e){return this===e?!0:e instanceof hd?this.outermostConfigSet===e.outermostConfigSet&&ynt.equals(this._conflictInfo,e._conflictInfo)&&t_e.ArrayEqualityComparator.INSTANCE.equals(this.configs,e.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let e=1;return e=5*e^(this.outermostConfigSet?1:0),e=5*e^t_e.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=e),e}toString(e){e==null&&(e=!1);let t="",r=this.configs.slice(0);r.sort((i,s)=>i.alt!==s.alt?i.alt-s.alt:i.state.stateNumber!==s.state.stateNumber?i.state.stateNumber-s.state.stateNumber:i.semanticContext.toString().localeCompare(s.semanticContext.toString())),t+="[";for(let i=0;i<r.length;i++)i>0&&(t+=", "),t+=r[i].toString(void 0,!0,e);return t+="]",this._hasSemanticContext&&(t+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==fj.ATN.INVALID_ALT_NUMBER&&(t+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(t+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(t+="*")),this._dipsIntoOuterContext&&(t+=",dipsIntoOuterContext"),t.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(e){this.ensureWritable(),this._hasSemanticContext=e}get conflictInfo(){return this._conflictInfo}set conflictInfo(e){this.ensureWritable(),this._conflictInfo=e}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(e){return this.configs[e]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};Im([Mm.NotNull],hd.prototype,"getRepresentedAlternatives",null);Im([Mm.Override],hd.prototype,"size",null);Im([Mm.Override],hd.prototype,"isEmpty",null);Im([Mm.Override],hd.prototype,"contains",null);Im([Mm.Override],hd.prototype,Symbol.iterator,null);Im([Mm.Override],hd.prototype,"toArray",null);Im([Mm.Override],hd.prototype,"containsAll",null);Im([Mm.Override],hd.prototype,"clear",null);Im([Mm.Override],hd.prototype,"equals",null);Im([Mm.Override],hd.prototype,"hashCode",null);A8.ATNConfigSet=hd});var PF=we(Pm=>{"use strict";m();var Rg=Pm&&Pm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vnt=Pm&&Pm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Pm,"__esModule",{value:!0});Pm.DFAState=void 0;var _nt=f2(),bnt=Ng(),ate=Dl(),Lg=Cr(),pj=Kp(),i_e=A0(),d2=class{constructor(e){this.stateNumber=-1,this.configs=e,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(e){return this.isContextSensitive?this.contextSymbols.get(e):!1}setContextSymbol(e){i_e(this.isContextSensitive),this.contextSymbols.set(e)}setContextSensitive(e){i_e(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new bnt.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(e){this._acceptStateInfo=e}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:_nt.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(!!this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(e){return this.edges.get(e)}setTarget(e,t){this.edges.set(e,t)}getEdgeMap(){return this.edges}getContextTarget(e){return e===pj.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.get(e)}setContextTarget(e,t){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");e===pj.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.set(e,t)}getContextEdgeMap(){let e=new Map(this.contextEdges),t=e.get(-1);if(t!==void 0)if(e.size===1){let r=new Map;return r.set(pj.PredictionContext.EMPTY_FULL_STATE_KEY,t),r}else e.delete(-1),e.set(pj.PredictionContext.EMPTY_FULL_STATE_KEY,t);return e}hashCode(){let e=ate.MurmurHash.initialize(7);return e=ate.MurmurHash.update(e,this.configs.hashCode()),e=ate.MurmurHash.finish(e,1),e}equals(e){if(this===e)return!0;if(!(e instanceof d2))return!1;let t=e;return this.configs.equals(t.configs)}toString(){let e="";return e+=this.stateNumber+":"+this.configs,this.isAcceptState&&(e+="=>",this.predicates?e+=this.predicates:e+=this.prediction),e.toString()}};Rg([Lg.NotNull],d2.prototype,"configs",void 0);Rg([Lg.NotNull],d2.prototype,"edges",void 0);Rg([Lg.NotNull],d2.prototype,"contextEdges",void 0);Rg([Lg.Override],d2.prototype,"hashCode",null);Rg([Lg.Override],d2.prototype,"equals",null);Rg([Lg.Override],d2.prototype,"toString",null);Pm.DFAState=d2;(function(n){let e=class{constructor(r,i){this.alt=i,this.pred=r}toString(){return"("+this.pred+", "+this.alt+")"}};Rg([Lg.NotNull],e.prototype,"pred",void 0),Rg([Lg.Override],e.prototype,"toString",null),e=Rg([vnt(0,Lg.NotNull)],e),n.PredPrediction=e})(d2=Pm.DFAState||(Pm.DFAState={}))});var jF=we(h2=>{"use strict";m();var ute=h2&&h2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ent=h2&&h2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(h2,"__esModule",{value:!0});h2.ATNSimulator=void 0;var Snt=T8(),Cnt=PF(),lte=Cr(),wnt=Kp(),K_=class BF{constructor(e){this.atn=e}static get ERROR(){return BF._ERROR||(BF._ERROR=new Cnt.DFAState(new Snt.ATNConfigSet),BF._ERROR.stateNumber=wnt.PredictionContext.EMPTY_FULL_STATE_KEY),BF._ERROR}clearDFA(){this.atn.clearDFA()}};ute([lte.NotNull],K_.prototype,"atn",void 0);ute([lte.NotNull],K_,"ERROR",null);K_=ute([Ent(0,lte.NotNull)],K_);h2.ATNSimulator=K_;(function(n){let e="$",t="$lf$",r="$nolf$"})(K_=h2.ATNSimulator||(h2.ATNSimulator={}));h2.ATNSimulator=K_});var cte=we(xj=>{"use strict";m();Object.defineProperty(xj,"__esModule",{value:!0});xj.ConsoleErrorListener=void 0;var mj=class{syntaxError(e,t,r,i,s,o){console.error(`line ${r}:${i} ${s}`)}};xj.ConsoleErrorListener=mj;mj.INSTANCE=new mj});var gj=we(R4=>{"use strict";m();var Ant=R4&&R4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},s_e=R4&&R4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(R4,"__esModule",{value:!0});R4.ProxyErrorListener=void 0;var fte=Cr(),dte=class{constructor(e){if(this.delegates=e,!e)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(e,t,r,i,s,o){this.delegates.forEach(a=>{a.syntaxError&&a.syntaxError(e,t,r,i,s,o)})}};Ant([fte.Override,s_e(0,fte.NotNull),s_e(4,fte.NotNull)],dte.prototype,"syntaxError",null);R4.ProxyErrorListener=dte});var F8=we(L4=>{"use strict";m();var Bm=L4&&L4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},yj=L4&&L4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(L4,"__esModule",{value:!0});L4.Recognizer=void 0;var Tnt=cte(),Fnt=gj(),Hh=Cr(),o_e=iu(),Dnt=c2(),yc=class{constructor(){this._listeners=[Tnt.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let e=this.vocabulary,t=yc.tokenTypeMapCache.get(e);if(t==null){let r=new Map;for(let i=0;i<=this.atn.maxTokenType;i++){let s=e.getLiteralName(i);s!=null&&r.set(s,i);let o=e.getSymbolicName(i);o!=null&&r.set(o,i)}r.set("EOF",o_e.Token.EOF),t=r,yc.tokenTypeMapCache.set(e,t)}return t}getRuleIndexMap(){let e=this.ruleNames;if(e==null)throw new Error("The current recognizer does not provide a list of rule names.");let t=yc.ruleIndexMapCache.get(e);return t==null&&(t=Dnt.toMap(e),yc.ruleIndexMapCache.set(e,t)),t}getTokenType(e){let t=this.getTokenTypeMap().get(e);return t??o_e.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(e){this._interp=e}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(e){let t=e.getOffendingToken();if(!t)return"";let r=t.line,i=t.charPositionInLine;return"line "+r+":"+i}addErrorListener(e){if(!e)throw new TypeError("listener must not be null");this._listeners.push(e)}removeErrorListener(e){let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new Fnt.ProxyErrorListener(this.getErrorListeners())}sempred(e,t,r){return!0}precpred(e,t){return!0}action(e,t,r){}get state(){return this._stateNumber}set state(e){this._stateNumber=e}};yc.EOF=-1;yc.tokenTypeMapCache=new WeakMap;yc.ruleIndexMapCache=new WeakMap;Bm([Hh.SuppressWarnings("serial"),Hh.NotNull],yc.prototype,"_listeners",void 0);Bm([Hh.NotNull],yc.prototype,"getTokenTypeMap",null);Bm([Hh.NotNull],yc.prototype,"getRuleIndexMap",null);Bm([Hh.NotNull],yc.prototype,"serializedATN",null);Bm([Hh.NotNull],yc.prototype,"atn",null);Bm([Hh.NotNull,yj(0,Hh.NotNull)],yc.prototype,"interpreter",null);Bm([Hh.NotNull,yj(0,Hh.NotNull)],yc.prototype,"getErrorHeader",null);Bm([yj(0,Hh.NotNull)],yc.prototype,"addErrorListener",null);Bm([yj(0,Hh.NotNull)],yc.prototype,"removeErrorListener",null);Bm([Hh.NotNull],yc.prototype,"getErrorListeners",null);L4.Recognizer=yc});var Ig=we(D8=>{"use strict";m();var k4=D8&&D8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(D8,"__esModule",{value:!0});D8.VocabularyImpl=void 0;var kg=Cr(),Ont=iu(),Zp=class{constructor(e,t,r){this.literalNames=e,this.symbolicNames=t,this.displayNames=r,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(e){if(e>=0&&e<this.literalNames.length)return this.literalNames[e]}getSymbolicName(e){if(e>=0&&e<this.symbolicNames.length)return this.symbolicNames[e];if(e===Ont.Token.EOF)return"EOF"}getDisplayName(e){if(e>=0&&e<this.displayNames.length){let i=this.displayNames[e];if(i)return i}let t=this.getLiteralName(e);if(t)return t;let r=this.getSymbolicName(e);return r||String(e)}};Zp.EMPTY_VOCABULARY=new Zp([],[],[]);k4([kg.NotNull],Zp.prototype,"literalNames",void 0);k4([kg.NotNull],Zp.prototype,"symbolicNames",void 0);k4([kg.NotNull],Zp.prototype,"displayNames",void 0);k4([kg.Override],Zp.prototype,"maxTokenType",null);k4([kg.Override],Zp.prototype,"getLiteralName",null);k4([kg.Override],Zp.prototype,"getSymbolicName",null);k4([kg.Override,kg.NotNull],Zp.prototype,"getDisplayName",null);k4([kg.NotNull],Zp,"EMPTY_VOCABULARY",void 0);D8.VocabularyImpl=Zp});var xte=we(O8=>{"use strict";m();var hte=O8&&O8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(O8,"__esModule",{value:!0});O8.DFASerializer=void 0;var pte=jF(),mte=Cr(),a_e=Kp(),Nnt=F8(),Rnt=Ig(),qF=class{constructor(e,t,r,i){t instanceof Nnt.Recognizer?(r=t.ruleNames,i=t.atn,t=t.vocabulary):t||(t=Rnt.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=e,this.vocabulary=t,this.ruleNames=r,this.atn=i}toString(){if(!this.dfa.s0)return"";let e="";if(this.dfa.states){let r=new Array(...this.dfa.states.toArray());r.sort((i,s)=>i.stateNumber-s.stateNumber);for(let i of r){let s=i.getEdgeMap(),o=[...s.keys()].sort((d,p)=>d-p),a=i.getContextEdgeMap(),c=[...a.keys()].sort((d,p)=>d-p);for(let d of o){let p=s.get(d);if((p==null||p===pte.ATNSimulator.ERROR)&&!i.isContextSymbol(d))continue;let b=!1;e+=this.getStateString(i)+"-"+this.getEdgeLabel(d)+"->",i.isContextSymbol(d)&&(e+="!",b=!0);let C=p;C&&C.stateNumber!==pte.ATNSimulator.ERROR.stateNumber?e+=this.getStateString(C)+`
`:b&&(e+=`ctx
`)}if(i.isContextSensitive)for(let d of c)e+=this.getStateString(i)+"-"+this.getContextLabel(d)+"->"+this.getStateString(a.get(d))+`
`}}let t=e;return t.length===0?"":t}getContextLabel(e){if(e===a_e.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(e===a_e.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&e>0&&e<=this.atn.states.length){let r=this.atn.states[e].ruleIndex;if(this.ruleNames&&r>=0&&r<this.ruleNames.length)return"ctx:"+String(e)+"("+this.ruleNames[r]+")"}return"ctx:"+String(e)}getEdgeLabel(e){return this.vocabulary.getDisplayName(e)}getStateString(e){if(e===pte.ATNSimulator.ERROR)return"ERROR";let t=e.stateNumber,r="s"+t;if(e.isAcceptState&&(e.predicates?r=":s"+t+"=>"+e.predicates:r=":s"+t+"=>"+e.prediction),e.isContextSensitive){r+="*";for(let i of e.configs)if(i.reachesIntoOuterContext){r+="*";break}}return r}};hte([mte.NotNull],qF.prototype,"dfa",void 0);hte([mte.NotNull],qF.prototype,"vocabulary",void 0);hte([mte.Override],qF.prototype,"toString",null);O8.DFASerializer=qF});var l_e=we(I4=>{"use strict";m();var u_e=I4&&I4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Lnt=I4&&I4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(I4,"__esModule",{value:!0});I4.LexerDFASerializer=void 0;var knt=xte(),gte=Cr(),Int=Ig(),vj=class extends knt.DFASerializer{constructor(e){super(e,Int.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(e){return"'"+String.fromCodePoint(e)+"'"}};u_e([gte.Override,gte.NotNull],vj.prototype,"getEdgeLabel",null);vj=u_e([Lnt(0,gte.NotNull)],vj);I4.LexerDFASerializer=vj});var _j=we(N8=>{"use strict";m();var Mnt=N8&&N8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(N8,"__esModule",{value:!0});N8.StarLoopEntryState=void 0;var Pnt=df(),Bnt=Ng(),jnt=T4(),qnt=Cr(),yte=class extends jnt.DecisionState{constructor(){super(...arguments);this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new Bnt.BitSet}get stateType(){return Pnt.ATNStateType.STAR_LOOP_ENTRY}};Mnt([qnt.Override],yte.prototype,"stateType",null);N8.StarLoopEntryState=yte});var vte=we(M4=>{"use strict";m();var bj=M4&&M4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Unt=M4&&M4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(M4,"__esModule",{value:!0});M4.DFA=void 0;var $nt=Dg(),c_e=T8(),f_e=xte(),d_e=PF(),znt=l_e(),Ej=Cr(),Hnt=l2(),Vnt=_j(),Wnt=Ig(),R8=class{constructor(e,t=0){if(this.states=new $nt.Array2DHashSet(Hnt.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!e.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=e,this.atn=e.atn,this.decision=t;let r=!1;e instanceof Vnt.StarLoopEntryState&&e.precedenceRuleDecision&&(r=!0,this.s0=new d_e.DFAState(new c_e.ATNConfigSet),this.s0full=new d_e.DFAState(new c_e.ATNConfigSet)),this.precedenceDfa=r}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(e,t){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return t?this.s0full.getTarget(e):this.s0.getTarget(e)}setPrecedenceStartState(e,t,r){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");e<0||(t?this.s0full.setTarget(e,r):this.s0.setTarget(e,r))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(e){return e.stateNumber=this.nextStateNumber++,this.states.getOrAdd(e)}toString(e,t){if(e||(e=Wnt.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let r;return t?r=new f_e.DFASerializer(this,e,t,this.atnStartState.atn):r=new f_e.DFASerializer(this,e),r.toString()}toLexerString(){return this.s0?new znt.LexerDFASerializer(this).toString():""}};bj([Ej.NotNull],R8.prototype,"states",void 0);bj([Ej.NotNull],R8.prototype,"atnStartState",void 0);bj([Ej.NotNull],R8.prototype,"atn",void 0);R8=bj([Unt(0,Ej.NotNull)],R8);M4.DFA=R8});var bte=we(L8=>{"use strict";m();var Qnt=L8&&L8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(L8,"__esModule",{value:!0});L8.BasicState=void 0;var Gnt=Nm(),Ynt=df(),Knt=Cr(),_te=class extends Gnt.ATNState{get stateType(){return Ynt.ATNStateType.BASIC}};Qnt([Knt.Override],_te.prototype,"stateType",null);L8.BasicState=_te});var Ste=we(k8=>{"use strict";m();var Jnt=k8&&k8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(k8,"__esModule",{value:!0});k8.InvalidState=void 0;var Xnt=df(),Znt=bte(),ert=Cr(),Ete=class extends Znt.BasicState{get stateType(){return Xnt.ATNStateType.INVALID_TYPE}};Jnt([ert.Override],Ete.prototype,"stateType",null);k8.InvalidState=Ete});var Sj=we(B4=>{"use strict";m();var I8=B4&&B4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},h_e=B4&&B4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(B4,"__esModule",{value:!0});B4.SetTransition=void 0;var trt=j4(),Mg=Cr(),nrt=iu(),rrt=Fg(),P4=class extends rrt.Transition{constructor(e,t){super(e);t==null&&(t=trt.IntervalSet.of(nrt.Token.INVALID_TYPE)),this.set=t}get serializationType(){return 7}get label(){return this.set}matches(e,t,r){return this.set.contains(e)}toString(){return this.set.toString()}};I8([Mg.NotNull],P4.prototype,"set",void 0);I8([Mg.Override],P4.prototype,"serializationType",null);I8([Mg.Override,Mg.NotNull],P4.prototype,"label",null);I8([Mg.Override],P4.prototype,"matches",null);I8([Mg.Override,Mg.NotNull],P4.prototype,"toString",null);P4=I8([h_e(0,Mg.NotNull),h_e(1,Mg.Nullable)],P4);B4.SetTransition=P4});var wj=we(q4=>{"use strict";m();var Cj=q4&&q4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},p_e=q4&&q4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(q4,"__esModule",{value:!0});q4.NotSetTransition=void 0;var UF=Cr(),irt=Sj(),M8=class extends irt.SetTransition{constructor(e,t){super(e,t)}get serializationType(){return 8}matches(e,t,r){return e>=t&&e<=r&&!super.matches(e,t,r)}toString(){return"~"+super.toString()}};Cj([UF.Override],M8.prototype,"serializationType",null);Cj([UF.Override],M8.prototype,"matches",null);Cj([UF.Override],M8.prototype,"toString",null);M8=Cj([p_e(0,UF.NotNull),p_e(1,UF.Nullable)],M8);q4.NotSetTransition=M8});var B8=we(P8=>{"use strict";m();var m_e=P8&&P8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(P8,"__esModule",{value:!0});P8.RuleStopState=void 0;var srt=Nm(),ort=df(),x_e=Cr(),Aj=class extends srt.ATNState{get nonStopStateNumber(){return-1}get stateType(){return ort.ATNStateType.RULE_STOP}};m_e([x_e.Override],Aj.prototype,"nonStopStateNumber",null);m_e([x_e.Override],Aj.prototype,"stateType",null);P8.RuleStopState=Aj});var Tj=we(U4=>{"use strict";m();var $F=U4&&U4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},g_e=U4&&U4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(U4,"__esModule",{value:!0});U4.RuleTransition=void 0;var j8=Cr(),art=Fg(),J_=class extends art.Transition{constructor(e,t,r,i){super(e);this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=t,this.precedence=r,this.followState=i}get serializationType(){return 3}get isEpsilon(){return!0}matches(e,t,r){return!1}};$F([j8.NotNull],J_.prototype,"followState",void 0);$F([j8.Override],J_.prototype,"serializationType",null);$F([j8.Override],J_.prototype,"isEpsilon",null);$F([j8.Override],J_.prototype,"matches",null);J_=$F([g_e(0,j8.NotNull),g_e(3,j8.NotNull)],J_);U4.RuleTransition=J_});var Cte=we($4=>{"use strict";m();var Fj=$4&&$4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},urt=$4&&$4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty($4,"__esModule",{value:!0});$4.WildcardTransition=void 0;var zF=Cr(),lrt=Fg(),q8=class extends lrt.Transition{constructor(e){super(e)}get serializationType(){return 9}matches(e,t,r){return e>=t&&e<=r}toString(){return"."}};Fj([zF.Override],q8.prototype,"serializationType",null);Fj([zF.Override],q8.prototype,"matches",null);Fj([zF.Override,zF.NotNull],q8.prototype,"toString",null);q8=Fj([urt(0,zF.NotNull)],q8);$4.WildcardTransition=q8});var __e=we(H4=>{"use strict";m();var Dj=H4&&H4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},z4=H4&&H4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(H4,"__esModule",{value:!0});H4.LL1Analyzer=void 0;var crt=VB(),y_e=Dg(),frt=IF(),v_e=Ng(),Oj=j4(),jm=Cr(),drt=wj(),hrt=l2(),Nj=Kp(),prt=B8(),mrt=Tj(),U8=iu(),xrt=Cte(),X_=class wte{constructor(e){this.atn=e}getDecisionLookahead(e){if(e==null)return;let t=new Array(e.numberOfTransitions);for(let r=0;r<e.numberOfTransitions;r++){let i=new Oj.IntervalSet;t[r]=i;let s=new y_e.Array2DHashSet(hrt.ObjectEqualityComparator.INSTANCE),o=!1;this._LOOK(e.transition(r).target,void 0,Nj.PredictionContext.EMPTY_LOCAL,i,s,new v_e.BitSet,o,!1),(i.size===0||i.contains(wte.HIT_PRED))&&(i=void 0,t[r]=i)}return t}LOOK(e,t,r){if(r===void 0){if(e.atn==null)throw new Error("Illegal state");r=e.atn.ruleToStopState[e.ruleIndex]}else r===null&&(r=void 0);let i=new Oj.IntervalSet,s=!0,o=!0;return this._LOOK(e,r,t,i,new y_e.Array2DHashSet,new v_e.BitSet,s,o),i}_LOOK(e,t,r,i,s,o,a,c){let d=frt.ATNConfig.create(e,0,r);if(!s.add(d))return;if(e===t){if(Nj.PredictionContext.isEmptyLocal(r)){i.add(U8.Token.EPSILON);return}else if(r.isEmpty){c&&i.add(U8.Token.EOF);return}}if(e instanceof prt.RuleStopState){if(r.isEmpty&&!Nj.PredictionContext.isEmptyLocal(r)){c&&i.add(U8.Token.EOF);return}let b=o.get(e.ruleIndex);try{o.clear(e.ruleIndex);for(let C=0;C<r.size;C++){if(r.getReturnState(C)===Nj.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let N=this.atn.states[r.getReturnState(C)];this._LOOK(N,t,r.getParent(C),i,s,o,a,c)}}finally{b&&o.set(e.ruleIndex)}}let p=e.numberOfTransitions;for(let b=0;b<p;b++){let C=e.transition(b);if(C instanceof mrt.RuleTransition){if(o.get(C.ruleIndex))continue;let N=r.getChild(C.followState.stateNumber);try{o.set(C.ruleIndex),this._LOOK(C.target,t,N,i,s,o,a,c)}finally{o.clear(C.ruleIndex)}}else if(C instanceof crt.AbstractPredicateTransition)a?this._LOOK(C.target,t,r,i,s,o,a,c):i.add(wte.HIT_PRED);else if(C.isEpsilon)this._LOOK(C.target,t,r,i,s,o,a,c);else if(C instanceof xrt.WildcardTransition)i.addAll(Oj.IntervalSet.of(U8.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let N=C.label;N!=null&&(C instanceof drt.NotSetTransition&&(N=N.complement(Oj.IntervalSet.of(U8.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),i.addAll(N))}}}};X_.HIT_PRED=U8.Token.INVALID_TYPE;Dj([jm.NotNull],X_.prototype,"atn",void 0);Dj([jm.NotNull,z4(0,jm.NotNull),z4(1,jm.NotNull)],X_.prototype,"LOOK",null);Dj([z4(0,jm.NotNull),z4(2,jm.NotNull),z4(3,jm.NotNull),z4(4,jm.NotNull),z4(5,jm.NotNull)],X_.prototype,"_LOOK",null);X_=Dj([z4(0,jm.NotNull)],X_);H4.LL1Analyzer=X_});var f2=we(p2=>{"use strict";m();var e1=p2&&p2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},HF=p2&&p2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(p2,"__esModule",{value:!0});p2.ATN=void 0;var grt=V_(),Rj=vte(),yrt=j4(),vrt=Ste(),_rt=__e(),Vh=Cr(),brt=l2(),Ate=Kp(),$8=iu(),Ert=A0(),O0=class{constructor(e,t){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new grt.Array2DHashMap(brt.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=e,this.maxTokenType=t}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let e=0;e<this.decisionToDFA.length;e++)this.decisionToDFA[e]=new Rj.DFA(this.decisionToState[e],e);this.modeToDFA=new Array(this.modeToStartState.length);for(let e=0;e<this.modeToDFA.length;e++)this.modeToDFA[e]=new Rj.DFA(this.modeToStartState[e]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(e){return Ate.PredictionContext.getCachedContext(e,this.contextCache,new Ate.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return Ert(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(e,t){return t?new _rt.LL1Analyzer(this).LOOK(e,t):(e.nextTokenWithinRule||(e.nextTokenWithinRule=this.nextTokens(e,Ate.PredictionContext.EMPTY_LOCAL),e.nextTokenWithinRule.setReadonly(!0)),e.nextTokenWithinRule)}addState(e){e.atn=this,e.stateNumber=this.states.length,this.states.push(e)}removeState(e){let t=new vrt.InvalidState;t.atn=this,t.stateNumber=e.stateNumber,this.states[e.stateNumber]=t}defineMode(e,t){this.modeNameToStartState.set(e,t),this.modeToStartState.push(t),this.modeToDFA.push(new Rj.DFA(t)),this.defineDecisionState(t)}defineDecisionState(e){return this.decisionToState.push(e),e.decision=this.decisionToState.length-1,this.decisionToDFA.push(new Rj.DFA(e,e.decision)),e.decision}getDecisionState(e){if(this.decisionToState.length>0)return this.decisionToState[e]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(e,t){if(e<0||e>=this.states.length)throw new RangeError("Invalid state number.");let r=t,i=this.states[e],s=this.nextTokens(i);if(!s.contains($8.Token.EPSILON))return s;let o=new yrt.IntervalSet;for(o.addAll(s),o.remove($8.Token.EPSILON);r!=null&&r.invokingState>=0&&s.contains($8.Token.EPSILON);){let c=this.states[r.invokingState].transition(0);s=this.nextTokens(c.followState),o.addAll(s),o.remove($8.Token.EPSILON),r=r._parent}return s.contains($8.Token.EPSILON)&&o.add($8.Token.EOF),o}};e1([Vh.NotNull],O0.prototype,"states",void 0);e1([Vh.NotNull],O0.prototype,"decisionToState",void 0);e1([Vh.NotNull],O0.prototype,"modeNameToStartState",void 0);e1([Vh.NotNull],O0.prototype,"modeToStartState",void 0);e1([Vh.NotNull],O0.prototype,"decisionToDFA",void 0);e1([Vh.NotNull],O0.prototype,"modeToDFA",void 0);e1([Vh.NotNull],O0.prototype,"nextTokens",null);e1([HF(0,Vh.NotNull)],O0.prototype,"removeState",null);e1([HF(0,Vh.NotNull),HF(1,Vh.NotNull)],O0.prototype,"defineMode",null);e1([HF(0,Vh.NotNull)],O0.prototype,"defineDecisionState",null);e1([Vh.NotNull],O0.prototype,"getExpectedTokens",null);O0=e1([HF(0,Vh.NotNull)],O0);p2.ATN=O0;(function(n){n.INVALID_ALT_NUMBER=0})(O0=p2.ATN||(p2.ATN={}));p2.ATN=O0});var E_e=we(V4=>{"use strict";m();var Z_=V4&&V4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Srt=V4&&V4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(V4,"__esModule",{value:!0});V4.LexerIndexedCustomAction=void 0;var Lj=Dl(),e6=Cr(),Pg=class b_e{constructor(e,t){this._offset=e,this._action=t}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(e){this._action.execute(e)}hashCode(){let e=Lj.MurmurHash.initialize();return e=Lj.MurmurHash.update(e,this._offset),e=Lj.MurmurHash.update(e,this._action),Lj.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof b_e?this._offset===e._offset&&this._action.equals(e._action):!1}};Z_([e6.NotNull],Pg.prototype,"action",null);Z_([e6.Override],Pg.prototype,"actionType",null);Z_([e6.Override],Pg.prototype,"isPositionDependent",null);Z_([e6.Override],Pg.prototype,"execute",null);Z_([e6.Override],Pg.prototype,"hashCode",null);Z_([e6.Override],Pg.prototype,"equals",null);Pg=Z_([Srt(1,e6.NotNull)],Pg);V4.LexerIndexedCustomAction=Pg});var S_e=we(Q4=>{"use strict";m();var t6=Q4&&Q4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Tte=Q4&&Q4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Q4,"__esModule",{value:!0});Q4.LexerActionExecutor=void 0;var Crt=wF(),Fte=E_e(),Dte=Dl(),W4=Cr(),Bg=class VF{constructor(e){this._lexerActions=e;let t=Dte.MurmurHash.initialize();for(let r of e)t=Dte.MurmurHash.update(t,r);this.cachedHashCode=Dte.MurmurHash.finish(t,e.length)}static append(e,t){if(!e)return new VF([t]);let r=e._lexerActions.slice(0);return r.push(t),new VF(r)}fixOffsetBeforeMatch(e){let t;for(let r=0;r<this._lexerActions.length;r++)this._lexerActions[r].isPositionDependent&&!(this._lexerActions[r]instanceof Fte.LexerIndexedCustomAction)&&(t||(t=this._lexerActions.slice(0)),t[r]=new Fte.LexerIndexedCustomAction(e,this._lexerActions[r]));return t?new VF(t):this}get lexerActions(){return this._lexerActions}execute(e,t,r){let i=!1,s=t.index;try{for(let o of this._lexerActions){if(o instanceof Fte.LexerIndexedCustomAction){let a=o.offset;t.seek(r+a),o=o.action,i=r+a!==s}else o.isPositionDependent&&(t.seek(s),i=!1);o.execute(e)}}finally{i&&t.seek(s)}}hashCode(){return this.cachedHashCode}equals(e){return e===this?!0:e instanceof VF?this.cachedHashCode===e.cachedHashCode&&Crt.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,e._lexerActions):!1}};t6([W4.NotNull],Bg.prototype,"_lexerActions",void 0);t6([W4.NotNull],Bg.prototype,"lexerActions",null);t6([Tte(0,W4.NotNull)],Bg.prototype,"execute",null);t6([W4.Override],Bg.prototype,"hashCode",null);t6([W4.Override],Bg.prototype,"equals",null);t6([W4.NotNull,Tte(1,W4.NotNull)],Bg,"append",null);Bg=t6([Tte(0,W4.NotNull)],Bg);Q4.LexerActionExecutor=Bg});var QF=we(G4=>{"use strict";m();var Ote=G4&&G4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},wrt=G4&&G4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(G4,"__esModule",{value:!0});G4.LexerNoViableAltException=void 0;var Art=Tg(),Nte=Cr(),Trt=D0(),Frt=c2(),WF=class extends Art.RecognitionException{constructor(e,t,r,i){super(e,t);this._startIndex=r,this._deadEndConfigs=i}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let e="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(e=this.inputStream.getText(Trt.Interval.of(this._startIndex,this._startIndex)),e=Frt.escapeWhitespace(e,!1)),`LexerNoViableAltException('${e}')`}};Ote([Nte.Override],WF.prototype,"inputStream",null);Ote([Nte.Override],WF.prototype,"toString",null);WF=Ote([wrt(1,Nte.NotNull)],WF);G4.LexerNoViableAltException=WF});var C_e=we(z8=>{"use strict";m();var Rte=z8&&z8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(z8,"__esModule",{value:!0});z8.OrderedATNConfigSet=void 0;var Drt=T8(),Lte=Cr(),n6=class extends Drt.ATNConfigSet{constructor(e,t){e!=null&&t!=null?super(e,t):super()}clone(e){let t=new n6(this,e);return!e&&this.isReadOnly&&t.addAll(this),t}getKey(e){return{state:0,alt:e.hashCode()}}canMerge(e,t,r){return e.equals(r)}};Rte([Lte.Override],n6.prototype,"clone",null);Rte([Lte.Override],n6.prototype,"getKey",null);Rte([Lte.Override],n6.prototype,"canMerge",null);z8.OrderedATNConfigSet=n6});var YF=we(m2=>{"use strict";m();var Hl=m2&&m2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Fa=m2&&m2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(m2,"__esModule",{value:!0});m2.LexerATNSimulator=void 0;var Ort=Zee(),Nrt=f2(),Rrt=IF(),Lrt=T8(),kj=jF(),w_e=PF(),krt=D0(),GF=wg(),H8=jg(),Irt=S_e(),Mrt=QF(),Bo=Cr(),A_e=C_e(),kte=Kp(),T_e=B8(),Prt=iu(),F_e=A0(),_u=class Wh extends kj.ATNSimulator{constructor(e,t){super(e);this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=H8.Lexer.DEFAULT_MODE,this.prevAccept=new Wh.SimState,this.recog=t}copyState(e){this._charPositionInLine=e.charPositionInLine,this._line=e._line,this.mode=e.mode,this.startIndex=e.startIndex}match(e,t){this.mode=t;let r=e.mark();try{this.startIndex=e.index,this.prevAccept.reset();let i=this.atn.modeToDFA[t].s0;return i==null?this.matchATN(e):this.execATN(e,i)}finally{e.release(r)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=H8.Lexer.DEFAULT_MODE}matchATN(e){let t=this.atn.modeToStartState[this.mode];Wh.debug&&console.log(`matchATN mode ${this.mode} start: ${t}`);let r=this.mode,i=this.computeStartState(e,t),s=i.hasSemanticContext;s&&(i.hasSemanticContext=!1);let o=this.addDFAState(i);if(!s){let c=this.atn.modeToDFA[this.mode];c.s0?o=c.s0:c.s0=o}let a=this.execATN(e,o);return Wh.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[r].toLexerString()}`),a}execATN(e,t){Wh.debug&&console.log(`start state closure=${t.configs}`),t.isAcceptState&&this.captureSimState(this.prevAccept,e,t);let r=e.LA(1),i=t;for(;;){Wh.debug&&console.log(`execATN loop starting closure: ${i.configs}`);let s=this.getExistingTargetState(i,r);if(s==null&&(s=this.computeTargetState(e,i,r)),s===kj.ATNSimulator.ERROR||(r!==GF.IntStream.EOF&&this.consume(e),s.isAcceptState&&(this.captureSimState(this.prevAccept,e,s),r===GF.IntStream.EOF)))break;r=e.LA(1),i=s}return this.failOrAccept(this.prevAccept,e,i.configs,r)}getExistingTargetState(e,t){let r=e.getTarget(t);return Wh.debug&&r!=null&&console.log("reuse state "+e.stateNumber+" edge to "+r.stateNumber),r}computeTargetState(e,t,r){let i=new A_e.OrderedATNConfigSet;return this.getReachableConfigSet(e,t.configs,i,r),i.isEmpty?(i.hasSemanticContext||this.addDFAEdge(t,r,kj.ATNSimulator.ERROR),kj.ATNSimulator.ERROR):this.addDFAEdge(t,r,i)}failOrAccept(e,t,r,i){if(e.dfaState!=null){let s=e.dfaState.lexerActionExecutor;return this.accept(t,s,this.startIndex,e.index,e.line,e.charPos),e.dfaState.prediction}else{if(i===GF.IntStream.EOF&&t.index===this.startIndex)return Prt.Token.EOF;throw new Mrt.LexerNoViableAltException(this.recog,t,this.startIndex,r)}}getReachableConfigSet(e,t,r,i){let s=Nrt.ATN.INVALID_ALT_NUMBER;for(let o of t){let a=o.alt===s;if(a&&o.hasPassedThroughNonGreedyDecision)continue;Wh.debug&&console.log(`testing ${this.getTokenName(i)} at ${o.toString(this.recog,!0)}`);let c=o.state.numberOfOptimizedTransitions;for(let d=0;d<c;d++){let p=o.state.getOptimizedTransition(d),b=this.getReachableTarget(p,i);if(b!=null){let C=o.lexerActionExecutor,N;C!=null?(C=C.fixOffsetBeforeMatch(e.index-this.startIndex),N=o.transform(b,!0,C)):(F_e(o.lexerActionExecutor==null),N=o.transform(b,!0));let R=i===GF.IntStream.EOF;if(this.closure(e,N,r,a,!0,R)){s=o.alt;break}}}}}accept(e,t,r,i,s,o){Wh.debug&&console.log(`ACTION ${t}`),e.seek(i),this._line=s,this._charPositionInLine=o,t!=null&&this.recog!=null&&t.execute(this.recog,e,r)}getReachableTarget(e,t){if(e.matches(t,H8.Lexer.MIN_CHAR_VALUE,H8.Lexer.MAX_CHAR_VALUE))return e.target}computeStartState(e,t){let r=kte.PredictionContext.EMPTY_FULL,i=new A_e.OrderedATNConfigSet;for(let s=0;s<t.numberOfTransitions;s++){let o=t.transition(s).target,a=Rrt.ATNConfig.create(o,s+1,r);this.closure(e,a,i,!1,!1,!1)}return i}closure(e,t,r,i,s,o){if(Wh.debug&&console.log("closure("+t.toString(this.recog,!0)+")"),t.state instanceof T_e.RuleStopState){Wh.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[t.state.ruleIndex]} rule stop ${t}`):console.log(`closure at rule stop ${t}`));let c=t.context;if(c.isEmpty)return r.add(t),!0;c.hasEmpty&&(r.add(t.transform(t.state,!0,kte.PredictionContext.EMPTY_FULL)),i=!0);for(let d=0;d<c.size;d++){let p=c.getReturnState(d);if(p===kte.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let b=c.getParent(d),C=this.atn.states[p],N=t.transform(C,!1,b);i=this.closure(e,N,r,i,s,o)}return i}t.state.onlyHasEpsilonTransitions||(!i||!t.hasPassedThroughNonGreedyDecision)&&r.add(t);let a=t.state;for(let c=0;c<a.numberOfOptimizedTransitions;c++){let d=a.getOptimizedTransition(c),p=this.getEpsilonTarget(e,t,d,r,s,o);p!=null&&(i=this.closure(e,p,r,i,s,o))}return i}getEpsilonTarget(e,t,r,i,s,o){let a;switch(r.serializationType){case 3:let c=r;if(this.optimize_tail_calls&&c.optimizedTailCall&&!t.context.hasEmpty)a=t.transform(r.target,!0);else{let p=t.context.getChild(c.followState.stateNumber);a=t.transform(r.target,!0,p)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let d=r;Wh.debug&&console.log("EVAL rule "+d.ruleIndex+":"+d.predIndex),i.hasSemanticContext=!0,this.evaluatePredicate(e,d.ruleIndex,d.predIndex,s)?a=t.transform(r.target,!0):a=void 0;break;case 6:if(t.context.hasEmpty){let p=Irt.LexerActionExecutor.append(t.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);a=t.transform(r.target,!0,p);break}else{a=t.transform(r.target,!0);break}case 1:a=t.transform(r.target,!0);break;case 5:case 2:case 7:if(o&&r.matches(GF.IntStream.EOF,H8.Lexer.MIN_CHAR_VALUE,H8.Lexer.MAX_CHAR_VALUE)){a=t.transform(r.target,!1);break}a=void 0;break;default:a=void 0;break}return a}evaluatePredicate(e,t,r,i){if(this.recog==null)return!0;if(!i)return this.recog.sempred(void 0,t,r);let s=this._charPositionInLine,o=this._line,a=e.index,c=e.mark();try{return this.consume(e),this.recog.sempred(void 0,t,r)}finally{this._charPositionInLine=s,this._line=o,e.seek(a),e.release(c)}}captureSimState(e,t,r){e.index=t.index,e.line=this._line,e.charPos=this._charPositionInLine,e.dfaState=r}addDFAEdge(e,t,r){if(r instanceof Lrt.ATNConfigSet){let i=r.hasSemanticContext;i&&(r.hasSemanticContext=!1);let s=this.addDFAState(r);return i||this.addDFAEdge(e,t,s),s}else Wh.debug&&console.log("EDGE "+e+" -> "+r+" upon "+String.fromCharCode(t)),e!=null&&e.setTarget(t,r)}addDFAState(e){F_e(!e.hasSemanticContext);let t=new w_e.DFAState(e),r=this.atn.modeToDFA[this.mode].states.get(t);if(r!=null)return r;e.optimizeConfigs(this);let i=new w_e.DFAState(e.clone(!0)),s;for(let o of e)if(o.state instanceof T_e.RuleStopState){s=o;break}if(s!=null){let o=this.atn.ruleToTokenType[s.state.ruleIndex],a=s.lexerActionExecutor;i.acceptStateInfo=new Ort.AcceptStateInfo(o,a)}return this.atn.modeToDFA[this.mode].addState(i)}getDFA(e){return this.atn.modeToDFA[e]}getText(e){return e.getText(krt.Interval.of(this.startIndex,e.index-1))}get line(){return this._line}set line(e){this._line=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}consume(e){e.LA(1)===`
`.charCodeAt(0)?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,e.consume()}getTokenName(e){return e===-1?"EOF":"'"+String.fromCharCode(e)+"'"}};Hl([Bo.NotNull],_u.prototype,"prevAccept",void 0);Hl([Fa(0,Bo.NotNull)],_u.prototype,"copyState",null);Hl([Fa(0,Bo.NotNull)],_u.prototype,"match",null);Hl([Bo.Override],_u.prototype,"reset",null);Hl([Fa(0,Bo.NotNull)],_u.prototype,"matchATN",null);Hl([Fa(0,Bo.NotNull),Fa(1,Bo.NotNull)],_u.prototype,"execATN",null);Hl([Fa(0,Bo.NotNull)],_u.prototype,"getExistingTargetState",null);Hl([Bo.NotNull,Fa(0,Bo.NotNull),Fa(1,Bo.NotNull)],_u.prototype,"computeTargetState",null);Hl([Fa(0,Bo.NotNull),Fa(1,Bo.NotNull),Fa(2,Bo.NotNull)],_u.prototype,"getReachableConfigSet",null);Hl([Fa(0,Bo.NotNull)],_u.prototype,"accept",null);Hl([Bo.NotNull,Fa(0,Bo.NotNull),Fa(1,Bo.NotNull)],_u.prototype,"computeStartState",null);Hl([Fa(0,Bo.NotNull),Fa(1,Bo.NotNull),Fa(2,Bo.NotNull)],_u.prototype,"closure",null);Hl([Fa(0,Bo.NotNull),Fa(1,Bo.NotNull),Fa(2,Bo.NotNull),Fa(3,Bo.NotNull)],_u.prototype,"getEpsilonTarget",null);Hl([Fa(0,Bo.NotNull)],_u.prototype,"evaluatePredicate",null);Hl([Fa(0,Bo.NotNull),Fa(1,Bo.NotNull),Fa(2,Bo.NotNull)],_u.prototype,"captureSimState",null);Hl([Bo.NotNull,Fa(0,Bo.NotNull)],_u.prototype,"addDFAState",null);Hl([Bo.NotNull],_u.prototype,"getDFA",null);Hl([Bo.NotNull,Fa(0,Bo.NotNull)],_u.prototype,"getText",null);Hl([Fa(0,Bo.NotNull)],_u.prototype,"consume",null);Hl([Bo.NotNull],_u.prototype,"getTokenName",null);_u=Hl([Fa(0,Bo.NotNull)],_u);m2.LexerATNSimulator=_u;(function(n){n.debug=!1,n.dfa_debug=!1;class e{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}n.SimState=e})(_u=m2.LexerATNSimulator||(m2.LexerATNSimulator={}));m2.LexerATNSimulator=_u});var jg=we(Q8=>{"use strict";m();var V8=Q8&&Q8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Q8,"__esModule",{value:!0});Q8.Lexer=void 0;var Brt=tj(),jrt=Xee(),qrt=D0(),D_e=wg(),O_e=YF(),N_e=QF(),W8=Cr(),Urt=F8(),x2=iu(),Vl=class extends Urt.Recognizer{constructor(e){super();this._factory=Brt.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new jrt.IntegerStack,this._mode=Vl.DEFAULT_MODE,this._input=e,this._tokenFactorySourcePair={source:this,stream:e}}static get DEFAULT_TOKEN_CHANNEL(){return x2.Token.DEFAULT_CHANNEL}static get HIDDEN(){return x2.Token.HIDDEN_CHANNEL}reset(e){(e===void 0||e)&&this._input.seek(0),this._token=void 0,this._type=x2.Token.INVALID_TYPE,this._channel=x2.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=Vl.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let e=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=x2.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=x2.Token.INVALID_TYPE;let t;try{t=this.interpreter.match(this._input,this._mode)}catch(r){if(r instanceof N_e.LexerNoViableAltException)this.notifyListeners(r),this.recover(r),t=Vl.SKIP;else throw r}if(this._input.LA(1)===D_e.IntStream.EOF&&(this._hitEOF=!0),this._type===x2.Token.INVALID_TYPE&&(this._type=t),this._type===Vl.SKIP)continue e}while(this._type===Vl.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(e)}}skip(){this._type=Vl.SKIP}more(){this._type=Vl.MORE}mode(e){this._mode=e}pushMode(e){O_e.LexerATNSimulator.debug&&console.log("pushMode "+e),this._modeStack.push(this._mode),this.mode(e)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return O_e.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(e){this._factory=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(e){return e||(e=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=e,e}emitEOF(){let e=this.charPositionInLine,t=this.line,r=this._factory.create(this._tokenFactorySourcePair,x2.Token.EOF,void 0,x2.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,t,e);return this.emit(r),r}get line(){return this.interpreter.line}set line(e){this.interpreter.line=e}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(e){this.interpreter.charPositionInLine=e}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(e){this._text=e}get token(){return this._token}set token(e){this._token=e}set type(e){this._type=e}get type(){return this._type}set channel(e){this._channel=e}get channel(){return this._channel}getAllTokens(){let e=[],t=this.nextToken();for(;t.type!==x2.Token.EOF;)e.push(t),t=this.nextToken();return e}notifyListeners(e){let t=this._input.getText(qrt.Interval.of(this._tokenStartCharIndex,this._input.index)),r="token recognition error at: '"+this.getErrorDisplay(t)+"'",i=this.getErrorListenerDispatch();i.syntaxError&&i.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,r,e)}getErrorDisplay(e){if(typeof e=="number"){switch(e){case x2.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(e)}return e.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(e){let t=this.getErrorDisplay(e);return"'"+t+"'"}recover(e){e instanceof N_e.LexerNoViableAltException?this._input.LA(1)!==D_e.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};Vl.DEFAULT_MODE=0;Vl.MORE=-2;Vl.SKIP=-3;Vl.MIN_CHAR_VALUE=0;Vl.MAX_CHAR_VALUE=1114111;V8([W8.Override],Vl.prototype,"nextToken",null);V8([W8.Override],Vl.prototype,"tokenFactory",null);V8([W8.Override],Vl.prototype,"inputStream",null);V8([W8.Override],Vl.prototype,"sourceName",null);V8([W8.Override],Vl.prototype,"line",null);V8([W8.Override],Vl.prototype,"charPositionInLine",null);Q8.Lexer=Vl});var j4=we(Y4=>{"use strict";m();var pd=Y4&&Y4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},R_e=Y4&&Y4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Y4,"__esModule",{value:!0});Y4.IntervalSet=void 0;var $rt=wF(),zrt=ej(),G8=D0(),L_e=jg(),Ij=Dl(),N0=Cr(),Ite=iu(),Os=class{constructor(e){this.readonly=!1,e!=null?this._intervals=e.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return Os._COMPLETE_CHAR_SET===void 0&&(Os._COMPLETE_CHAR_SET=Os.of(L_e.Lexer.MIN_CHAR_VALUE,L_e.Lexer.MAX_CHAR_VALUE),Os._COMPLETE_CHAR_SET.setReadonly(!0)),Os._COMPLETE_CHAR_SET}static get EMPTY_SET(){return Os._EMPTY_SET==null&&(Os._EMPTY_SET=new Os,Os._EMPTY_SET.setReadonly(!0)),Os._EMPTY_SET}static of(e,t=e){let r=new Os;return r.add(e,t),r}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(e,t=e){this.addRange(G8.Interval.of(e,t))}addRange(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(e.b<e.a)){for(let t=0;t<this._intervals.length;t++){let r=this._intervals[t];if(e.equals(r))return;if(e.adjacent(r)||!e.disjoint(r)){let i=e.union(r);for(this._intervals[t]=i;t<this._intervals.length-1;){t++;let s=this._intervals[t];if(!i.adjacent(s)&&i.disjoint(s))break;this._intervals.splice(t,1),t--,this._intervals[t]=i.union(s)}return}if(e.startsBeforeDisjoint(r)){this._intervals.splice(t,0,e);return}}this._intervals.push(e)}}static or(e){let t=new Os;for(let r of e)t.addAll(r);return t}addAll(e){if(e==null)return this;if(e instanceof Os){let t=e,r=t._intervals.length;for(let i=0;i<r;i++){let s=t._intervals[i];this.add(s.a,s.b)}}else for(let t of e.toArray())this.add(t);return this}complementRange(e,t){return this.complement(Os.of(e,t))}complement(e){if(e.isNil)return Os.EMPTY_SET;let t;return e instanceof Os?t=e:(t=new Os,t.addAll(e)),t.subtract(this)}subtract(e){if(e==null||e.isNil)return new Os(this._intervals);if(e instanceof Os)return Os.subtract(this,e);let t=new Os;return t.addAll(e),Os.subtract(this,t)}static subtract(e,t){if(e.isNil)return new Os;let r=new Os(e._intervals);if(t.isNil)return r;let i=0,s=0;for(;i<r._intervals.length&&s<t._intervals.length;){let o=r._intervals[i],a=t._intervals[s];if(a.b<o.a){s++;continue}if(a.a>o.b){i++;continue}let c,d;if(a.a>o.a&&(c=new G8.Interval(o.a,a.a-1)),a.b<o.b&&(d=new G8.Interval(a.b+1,o.b)),c)if(d){r._intervals[i]=c,r._intervals.splice(i+1,0,d),i++,s++;continue}else{r._intervals[i]=c,i++;continue}else if(d){r._intervals[i]=d,s++;continue}else{r._intervals.splice(i,1);continue}}return r}or(e){let t=new Os;return t.addAll(this),t.addAll(e),t}and(e){if(e.isNil)return new Os;let t=this._intervals,r=e._intervals,i,s=t.length,o=r.length,a=0,c=0;for(;a<s&&c<o;){let d=t[a],p=r[c];d.startsBeforeDisjoint(p)?a++:p.startsBeforeDisjoint(d)?c++:d.properlyContains(p)?(i||(i=new Os),i.addRange(d.intersection(p)),c++):p.properlyContains(d)?(i||(i=new Os),i.addRange(d.intersection(p)),a++):d.disjoint(p)||(i||(i=new Os),i.addRange(d.intersection(p)),d.startsAfterNonDisjoint(p)?c++:p.startsAfterNonDisjoint(d)&&a++)}return i||new Os}contains(e){let t=this._intervals.length,r=0,i=t-1;for(;r<=i;){let s=r+i>>1,o=this._intervals[s],a=o.a;if(o.b<e)r=s+1;else if(a>e)i=s-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let e=Ij.MurmurHash.initialize();for(let t of this._intervals)e=Ij.MurmurHash.update(e,t.a),e=Ij.MurmurHash.update(e,t.b);return e=Ij.MurmurHash.finish(e,this._intervals.length*2),e}equals(e){return e==null||!(e instanceof Os)?!1:$rt.ArrayEqualityComparator.INSTANCE.equals(this._intervals,e._intervals)}toString(e=!1){let t="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;s===o?s===Ite.Token.EOF?t+="<EOF>":e?t+="'"+String.fromCodePoint(s)+"'":t+=s:e?t+="'"+String.fromCodePoint(s)+"'..'"+String.fromCodePoint(o)+"'":t+=s+".."+o}return this.size>1&&(t+="}"),t}toStringVocabulary(e){if(this._intervals==null||this._intervals.length===0)return"{}";let t="";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;if(s===o)t+=this.elementName(e,s);else for(let a=s;a<=o;a++)a>s&&(t+=", "),t+=this.elementName(e,a)}return this.size>1&&(t+="}"),t}elementName(e,t){return t===Ite.Token.EOF?"<EOF>":t===Ite.Token.EPSILON?"<EPSILON>":e.getDisplayName(t)}get size(){let e=0,t=this._intervals.length;if(t===1){let r=this._intervals[0];return r.b-r.a+1}for(let r=0;r<t;r++){let i=this._intervals[r];e+=i.b-i.a+1}return e}toIntegerList(){let e=new zrt.IntegerList(this.size),t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.add(a)}return e}toSet(){let e=new Set;for(let t of this._intervals){let r=t.a,i=t.b;for(let s=r;s<=i;s++)e.add(s)}return e}toArray(){let e=new Array,t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.push(a)}return e}remove(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;if(e<s)break;if(e===s&&e===o){this._intervals.splice(r,1);break}if(e===s){this._intervals[r]=G8.Interval.of(i.a+1,i.b);break}if(e===o){this._intervals[r]=G8.Interval.of(i.a,i.b-1);break}if(e>s&&e<o){let a=i.b;this._intervals[r]=G8.Interval.of(i.a,e-1),this.add(e+1,a)}}}get isReadonly(){return this.readonly}setReadonly(e){if(this.readonly&&!e)throw new Error("can't alter readonly IntervalSet");this.readonly=e}};pd([N0.Override],Os.prototype,"addAll",null);pd([N0.Override],Os.prototype,"complement",null);pd([N0.Override],Os.prototype,"subtract",null);pd([N0.Override],Os.prototype,"or",null);pd([N0.Override],Os.prototype,"and",null);pd([N0.Override],Os.prototype,"contains",null);pd([N0.Override],Os.prototype,"isNil",null);pd([N0.Override],Os.prototype,"hashCode",null);pd([N0.Override],Os.prototype,"equals",null);pd([R_e(0,N0.NotNull)],Os.prototype,"toStringVocabulary",null);pd([N0.NotNull,R_e(0,N0.NotNull)],Os.prototype,"elementName",null);pd([N0.Override],Os.prototype,"size",null);pd([N0.Override],Os.prototype,"remove",null);pd([N0.NotNull],Os,"of",null);pd([N0.NotNull],Os,"subtract",null);Y4.IntervalSet=Os});var Mte=we(Y8=>{"use strict";m();var Hrt=Y8&&Y8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Y8,"__esModule",{value:!0});Y8.ATNDeserializationOptions=void 0;var Vrt=Cr(),qg=class{constructor(e){this.readOnly=!1,e?(this.verifyATN=e.verifyATN,this.generateRuleBypassTransitions=e.generateRuleBypassTransitions,this.optimize=e.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return qg._defaultOptions==null&&(qg._defaultOptions=new qg,qg._defaultOptions.makeReadOnly()),qg._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(e){this.throwIfReadOnly(),this.verifyATN=e}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(e){this.throwIfReadOnly(),this.generateRuleBypassTransitions=e}get isOptimize(){return this.optimize}set isOptimize(e){this.throwIfReadOnly(),this.optimize=e}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};Hrt([Vrt.NotNull],qg,"defaultOptions",null);Y8.ATNDeserializationOptions=qg});var Pte=we(K4=>{"use strict";m();var KF=K4&&K4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Wrt=K4&&K4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(K4,"__esModule",{value:!0});K4.ActionTransition=void 0;var JF=Cr(),Qrt=Fg(),r6=class extends Qrt.Transition{constructor(e,t,r=-1,i=!1){super(e);this.ruleIndex=t,this.actionIndex=r,this.isCtxDependent=i}get serializationType(){return 6}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};KF([JF.Override],r6.prototype,"serializationType",null);KF([JF.Override],r6.prototype,"isEpsilon",null);KF([JF.Override],r6.prototype,"matches",null);KF([JF.Override],r6.prototype,"toString",null);r6=KF([Wrt(0,JF.NotNull)],r6);K4.ActionTransition=r6});var Bte=we(J4=>{"use strict";m();var XF=J4&&J4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Grt=J4&&J4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(J4,"__esModule",{value:!0});J4.AtomTransition=void 0;var Yrt=j4(),i6=Cr(),Krt=Fg(),s6=class extends Krt.Transition{constructor(e,t){super(e);this._label=t}get serializationType(){return 5}get label(){return Yrt.IntervalSet.of(this._label)}matches(e,t,r){return this._label===e}toString(){return String(this.label)}};XF([i6.Override],s6.prototype,"serializationType",null);XF([i6.Override,i6.NotNull],s6.prototype,"label",null);XF([i6.Override],s6.prototype,"matches",null);XF([i6.Override,i6.NotNull],s6.prototype,"toString",null);s6=XF([Grt(0,i6.NotNull)],s6);J4.AtomTransition=s6});var ZF=we(Mj=>{"use strict";m();Object.defineProperty(Mj,"__esModule",{value:!0});Mj.BlockStartState=void 0;var Jrt=T4(),k_e=class extends Jrt.DecisionState{};Mj.BlockStartState=k_e});var I_e=we(K8=>{"use strict";m();var Xrt=K8&&K8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(K8,"__esModule",{value:!0});K8.BasicBlockStartState=void 0;var Zrt=df(),eit=ZF(),tit=Cr(),jte=class extends eit.BlockStartState{get stateType(){return Zrt.ATNStateType.BLOCK_START}};Xrt([tit.Override],jte.prototype,"stateType",null);K8.BasicBlockStartState=jte});var M_e=we(J8=>{"use strict";m();var nit=J8&&J8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(J8,"__esModule",{value:!0});J8.BlockEndState=void 0;var rit=Nm(),iit=df(),sit=Cr(),qte=class extends rit.ATNState{get stateType(){return iit.ATNStateType.BLOCK_END}};nit([sit.Override],qte.prototype,"stateType",null);J8.BlockEndState=qte});var P_e=we(X4=>{"use strict";m();var eD=X4&&X4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},oit=X4&&X4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(X4,"__esModule",{value:!0});X4.EpsilonTransition=void 0;var X8=Cr(),ait=Fg(),o6=class extends ait.Transition{constructor(e,t=-1){super(e);this._outermostPrecedenceReturn=t}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"epsilon"}};eD([X8.Override],o6.prototype,"serializationType",null);eD([X8.Override],o6.prototype,"isEpsilon",null);eD([X8.Override],o6.prototype,"matches",null);eD([X8.Override,X8.NotNull],o6.prototype,"toString",null);o6=eD([oit(0,X8.NotNull)],o6);X4.EpsilonTransition=o6});var B_e=we(Z4=>{"use strict";m();var Z8=Z4&&Z4.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},uit=Z4&&Z4.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Z4,"__esModule",{value:!0});Z4.LexerChannelAction=void 0;var Pj=Dl(),a6=Cr(),qm=class{constructor(e){this._channel=e}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(e){e.channel=this._channel}hashCode(){let e=Pj.MurmurHash.initialize();return e=Pj.MurmurHash.update(e,this.actionType),e=Pj.MurmurHash.update(e,this._channel),Pj.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof qm?this._channel===e._channel:!1}toString(){return`channel(${this._channel})`}};Z8([a6.Override],qm.prototype,"actionType",null);Z8([a6.Override],qm.prototype,"isPositionDependent",null);Z8([a6.Override,uit(0,a6.NotNull)],qm.prototype,"execute",null);Z8([a6.Override],qm.prototype,"hashCode",null);Z8([a6.Override],qm.prototype,"equals",null);Z8([a6.Override],qm.prototype,"toString",null);Z4.LexerChannelAction=qm});var j_e=we(e5=>{"use strict";m();var tD=e5&&e5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},lit=e5&&e5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(e5,"__esModule",{value:!0});e5.LexerCustomAction=void 0;var nD=Dl(),eS=Cr(),Ug=class{constructor(e,t){this._ruleIndex=e,this._actionIndex=t}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(e){e.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let e=nD.MurmurHash.initialize();return e=nD.MurmurHash.update(e,this.actionType),e=nD.MurmurHash.update(e,this._ruleIndex),e=nD.MurmurHash.update(e,this._actionIndex),nD.MurmurHash.finish(e,3)}equals(e){return e===this?!0:e instanceof Ug?this._ruleIndex===e._ruleIndex&&this._actionIndex===e._actionIndex:!1}};tD([eS.Override],Ug.prototype,"actionType",null);tD([eS.Override],Ug.prototype,"isPositionDependent",null);tD([eS.Override,lit(0,eS.NotNull)],Ug.prototype,"execute",null);tD([eS.Override],Ug.prototype,"hashCode",null);tD([eS.Override],Ug.prototype,"equals",null);e5.LexerCustomAction=Ug});var q_e=we(t5=>{"use strict";m();var tS=t5&&t5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},cit=t5&&t5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(t5,"__esModule",{value:!0});t5.LexerModeAction=void 0;var Bj=Dl(),u6=Cr(),Um=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(e){e.mode(this._mode)}hashCode(){let e=Bj.MurmurHash.initialize();return e=Bj.MurmurHash.update(e,this.actionType),e=Bj.MurmurHash.update(e,this._mode),Bj.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof Um?this._mode===e._mode:!1}toString(){return`mode(${this._mode})`}};tS([u6.Override],Um.prototype,"actionType",null);tS([u6.Override],Um.prototype,"isPositionDependent",null);tS([u6.Override,cit(0,u6.NotNull)],Um.prototype,"execute",null);tS([u6.Override],Um.prototype,"hashCode",null);tS([u6.Override],Um.prototype,"equals",null);tS([u6.Override],Um.prototype,"toString",null);t5.LexerModeAction=Um});var U_e=we($m=>{"use strict";m();var nS=$m&&$m.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},fit=$m&&$m.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty($m,"__esModule",{value:!0});$m.LexerMoreAction=void 0;var Ute=Dl(),l6=Cr(),$g=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(e){e.more()}hashCode(){let e=Ute.MurmurHash.initialize();return e=Ute.MurmurHash.update(e,this.actionType),Ute.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"more"}};nS([l6.Override],$g.prototype,"actionType",null);nS([l6.Override],$g.prototype,"isPositionDependent",null);nS([l6.Override,fit(0,l6.NotNull)],$g.prototype,"execute",null);nS([l6.Override],$g.prototype,"hashCode",null);nS([l6.Override],$g.prototype,"equals",null);nS([l6.Override],$g.prototype,"toString",null);$m.LexerMoreAction=$g;(function(n){n.INSTANCE=new n})($g=$m.LexerMoreAction||($m.LexerMoreAction={}))});var $_e=we(zm=>{"use strict";m();var rS=zm&&zm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},dit=zm&&zm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(zm,"__esModule",{value:!0});zm.LexerPopModeAction=void 0;var $te=Dl(),c6=Cr(),zg=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(e){e.popMode()}hashCode(){let e=$te.MurmurHash.initialize();return e=$te.MurmurHash.update(e,this.actionType),$te.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"popMode"}};rS([c6.Override],zg.prototype,"actionType",null);rS([c6.Override],zg.prototype,"isPositionDependent",null);rS([c6.Override,dit(0,c6.NotNull)],zg.prototype,"execute",null);rS([c6.Override],zg.prototype,"hashCode",null);rS([c6.Override],zg.prototype,"equals",null);rS([c6.Override],zg.prototype,"toString",null);zm.LexerPopModeAction=zg;(function(n){n.INSTANCE=new n})(zg=zm.LexerPopModeAction||(zm.LexerPopModeAction={}))});var z_e=we(n5=>{"use strict";m();var iS=n5&&n5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},hit=n5&&n5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(n5,"__esModule",{value:!0});n5.LexerPushModeAction=void 0;var jj=Dl(),f6=Cr(),Hm=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(e){e.pushMode(this._mode)}hashCode(){let e=jj.MurmurHash.initialize();return e=jj.MurmurHash.update(e,this.actionType),e=jj.MurmurHash.update(e,this._mode),jj.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof Hm?this._mode===e._mode:!1}toString(){return`pushMode(${this._mode})`}};iS([f6.Override],Hm.prototype,"actionType",null);iS([f6.Override],Hm.prototype,"isPositionDependent",null);iS([f6.Override,hit(0,f6.NotNull)],Hm.prototype,"execute",null);iS([f6.Override],Hm.prototype,"hashCode",null);iS([f6.Override],Hm.prototype,"equals",null);iS([f6.Override],Hm.prototype,"toString",null);n5.LexerPushModeAction=Hm});var H_e=we(Vm=>{"use strict";m();var sS=Vm&&Vm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},pit=Vm&&Vm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Vm,"__esModule",{value:!0});Vm.LexerSkipAction=void 0;var zte=Dl(),d6=Cr(),Hg=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(e){e.skip()}hashCode(){let e=zte.MurmurHash.initialize();return e=zte.MurmurHash.update(e,this.actionType),zte.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"skip"}};sS([d6.Override],Hg.prototype,"actionType",null);sS([d6.Override],Hg.prototype,"isPositionDependent",null);sS([d6.Override,pit(0,d6.NotNull)],Hg.prototype,"execute",null);sS([d6.Override],Hg.prototype,"hashCode",null);sS([d6.Override],Hg.prototype,"equals",null);sS([d6.Override],Hg.prototype,"toString",null);Vm.LexerSkipAction=Hg;(function(n){n.INSTANCE=new n})(Hg=Vm.LexerSkipAction||(Vm.LexerSkipAction={}))});var V_e=we(r5=>{"use strict";m();var oS=r5&&r5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},mit=r5&&r5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(r5,"__esModule",{value:!0});r5.LexerTypeAction=void 0;var qj=Dl(),h6=Cr(),Wm=class{constructor(e){this._type=e}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(e){e.type=this._type}hashCode(){let e=qj.MurmurHash.initialize();return e=qj.MurmurHash.update(e,this.actionType),e=qj.MurmurHash.update(e,this._type),qj.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof Wm?this._type===e._type:!1}toString(){return`type(${this._type})`}};oS([h6.Override],Wm.prototype,"actionType",null);oS([h6.Override],Wm.prototype,"isPositionDependent",null);oS([h6.Override,mit(0,h6.NotNull)],Wm.prototype,"execute",null);oS([h6.Override],Wm.prototype,"hashCode",null);oS([h6.Override],Wm.prototype,"equals",null);oS([h6.Override],Wm.prototype,"toString",null);r5.LexerTypeAction=Wm});var Vte=we(aS=>{"use strict";m();var xit=aS&&aS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(aS,"__esModule",{value:!0});aS.LoopEndState=void 0;var git=Nm(),yit=df(),vit=Cr(),Hte=class extends git.ATNState{get stateType(){return yit.ATNStateType.LOOP_END}};xit([vit.Override],Hte.prototype,"stateType",null);aS.LoopEndState=Hte});var G_e=we(lS=>{"use strict";m();var W_e=lS&&lS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(lS,"__esModule",{value:!0});lS.ConflictInfo=void 0;var Q_e=Cr(),_it=c2(),uS=class{constructor(e,t){this._conflictedAlts=e,this.exact=t}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(e){return e===this?!0:e instanceof uS?this.isExact===e.isExact&&_it.equals(this.conflictedAlts,e.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};W_e([Q_e.Override],uS.prototype,"equals",null);W_e([Q_e.Override],uS.prototype,"hashCode",null);lS.ConflictInfo=uS});var Vg=we(cS=>{"use strict";m();var Qm=cS&&cS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(cS,"__esModule",{value:!0});cS.TerminalNode=void 0;var bit=D0(),Gm=Cr(),Eit=iu(),t1=class{constructor(e){this._symbol=e}getChild(e){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this._symbol}get sourceInterval(){let e=this._symbol.tokenIndex;return new bit.Interval(e,e)}get childCount(){return 0}accept(e){return e.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(e){return this.toString()}toString(){return this._symbol.type===Eit.Token.EOF?"<EOF>":this._symbol.text||""}};Qm([Gm.Override],t1.prototype,"getChild",null);Qm([Gm.Override],t1.prototype,"parent",null);Qm([Gm.Override],t1.prototype,"setParent",null);Qm([Gm.Override],t1.prototype,"payload",null);Qm([Gm.Override],t1.prototype,"sourceInterval",null);Qm([Gm.Override],t1.prototype,"childCount",null);Qm([Gm.Override],t1.prototype,"accept",null);Qm([Gm.Override],t1.prototype,"text",null);Qm([Gm.Override],t1.prototype,"toStringTree",null);Qm([Gm.Override],t1.prototype,"toString",null);cS.TerminalNode=t1});var dS=we(fS=>{"use strict";m();var Sit=fS&&fS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(fS,"__esModule",{value:!0});fS.ErrorNode=void 0;var Cit=Cr(),wit=Vg(),Wte=class extends wit.TerminalNode{constructor(e){super(e)}accept(e){return e.visitErrorNode(this)}};Sit([Cit.Override],Wte.prototype,"accept",null);fS.ErrorNode=Wte});var hS=we(Uj=>{"use strict";m();Object.defineProperty(Uj,"__esModule",{value:!0});Uj.RuleNode=void 0;var Y_e=class{};Uj.RuleNode=Y_e});var Wg=we(i5=>{"use strict";m();var Qte=i5&&i5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Gte=i5&&i5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(i5,"__esModule",{value:!0});i5.Trees=void 0;var Ait=f2(),Tit=E8(),Fit=dS(),$j=Cr(),K_e=pS(),Yte=n1(),Dit=hS(),Kte=Vg(),Oit=iu(),J_e=c2(),Qh=class{static toStringTree(e,t){let r;t instanceof K_e.Parser?r=t.ruleNames:r=t;let i=J_e.escapeWhitespace(this.getNodeText(e,r),!1);if(e.childCount===0)return i;let s="";s+="(",i=J_e.escapeWhitespace(this.getNodeText(e,r),!1),s+=i,s+=" ";for(let o=0;o<e.childCount;o++)o>0&&(s+=" "),s+=this.toStringTree(e.getChild(o),r);return s+=")",s}static getNodeText(e,t){let r;if(t instanceof K_e.Parser)r=t.ruleNames;else if(t)r=t;else{let i=e.payload;return typeof i.text=="string"?i.text:e.payload.toString()}if(e instanceof Dit.RuleNode){let i=e.ruleContext,s=i.ruleIndex,o=r[s],a=i.altNumber;return a!==Ait.ATN.INVALID_ALT_NUMBER?o+":"+a:o}else{if(e instanceof Fit.ErrorNode)return e.toString();if(e instanceof Kte.TerminalNode)return e.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(e){let t=[];for(let r=0;r<e.childCount;r++)t.push(e.getChild(r));return t}static getAncestors(e){let t=[],r=e.parent;for(;r;)t.unshift(r),r=r.parent;return t}static isAncestorOf(e,t){if(!e||!t||!e.parent)return!1;let r=t.parent;for(;r;){if(e===r)return!0;r=r.parent}return!1}static findAllTokenNodes(e,t){return Qh.findAllNodes(e,t,!0)}static findAllRuleNodes(e,t){return Qh.findAllNodes(e,t,!1)}static findAllNodes(e,t,r){let i=[];return Qh._findAllNodes(e,t,r,i),i}static _findAllNodes(e,t,r,i){r&&e instanceof Kte.TerminalNode?e.symbol.type===t&&i.push(e):!r&&e instanceof Yte.ParserRuleContext&&e.ruleIndex===t&&i.push(e);for(let s=0;s<e.childCount;s++)Qh._findAllNodes(e.getChild(s),t,r,i)}static getDescendants(e){let t=[];function r(i){t.push(i);let s=i.childCount;for(let o=0;o<s;o++)r(i.getChild(o))}return r(e),t}static getRootOfSubtreeEnclosingRegion(e,t,r){let i=e.childCount;for(let s=0;s<i;s++){let o=e.getChild(s),a=Qh.getRootOfSubtreeEnclosingRegion(o,t,r);if(a)return a}if(e instanceof Yte.ParserRuleContext){let s=e.stop;if(t>=e.start.tokenIndex&&(s==null||r<=s.tokenIndex))return e}}static stripChildrenOutOfRange(e,t,r,i){if(!e)return;let s=e.childCount;for(let o=0;o<s;o++){let a=e.getChild(o),c=a.sourceInterval;if(a instanceof Yte.ParserRuleContext&&(c.b<r||c.a>i)&&Qh.isAncestorOf(a,t)){let d=new Tit.CommonToken(Oit.Token.INVALID_TYPE,"...");e.children[o]=new Kte.TerminalNode(d)}}}static findNodeSuchThat(e,t){if(t(e))return e;let r=e.childCount;for(let i=0;i<r;i++){let s=Qh.findNodeSuchThat(e.getChild(i),t);if(s!==void 0)return s}}};Qte([Gte(0,$j.NotNull)],Qh,"toStringTree",null);Qte([$j.NotNull,Gte(0,$j.NotNull)],Qh,"getAncestors",null);Qte([Gte(0,$j.NotNull)],Qh,"getRootOfSubtreeEnclosingRegion",null);i5.Trees=Qh});var Jte=we(mS=>{"use strict";m();var Ym=mS&&mS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(mS,"__esModule",{value:!0});mS.RuleContext=void 0;var Nit=f2(),Rit=F8(),Lit=hS(),kit=D0(),Km=Cr(),Iit=Wg(),Mit=n1(),ch=class extends Lit.RuleNode{constructor(e,t){super();this._parent=e,this.invokingState=t??-1}static getChildContext(e,t){return new ch(e,t)}depth(){let e=0,t=this;for(;t;)t=t._parent,e++;return e}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return kit.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this}get text(){if(this.childCount===0)return"";let e="";for(let t=0;t<this.childCount;t++)e+=this.getChild(t).text;return e.toString()}get ruleIndex(){return-1}get altNumber(){return Nit.ATN.INVALID_ALT_NUMBER}set altNumber(e){}getChild(e){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(e){return e.visitChildren(this)}toStringTree(e){return Iit.Trees.toStringTree(this,e)}toString(e,t){let r=e instanceof Rit.Recognizer?e.ruleNames:e;t=t||Mit.ParserRuleContext.emptyContext();let i="",s=this;for(i+="[";s&&s!==t;){if(!r)s.isEmpty||(i+=s.invokingState);else{let o=s.ruleIndex;i+=o>=0&&o<r.length?r[o]:o.toString()}s._parent&&(r||!s._parent.isEmpty)&&(i+=" "),s=s._parent}return i+="]",i.toString()}};Ym([Km.Override],ch.prototype,"sourceInterval",null);Ym([Km.Override],ch.prototype,"ruleContext",null);Ym([Km.Override],ch.prototype,"parent",null);Ym([Km.Override],ch.prototype,"setParent",null);Ym([Km.Override],ch.prototype,"payload",null);Ym([Km.Override],ch.prototype,"text",null);Ym([Km.Override],ch.prototype,"getChild",null);Ym([Km.Override],ch.prototype,"childCount",null);Ym([Km.Override],ch.prototype,"accept",null);Ym([Km.Override],ch.prototype,"toStringTree",null);mS.RuleContext=ch});var n1=we(xS=>{"use strict";m();var Xte=xS&&xS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(xS,"__esModule",{value:!0});xS.ParserRuleContext=void 0;var Zte=dS(),ene=D0(),tne=Cr(),X_e=Jte(),zj=Vg(),Jm=class extends X_e.RuleContext{constructor(e,t){t==null?super():super(e,t)}static emptyContext(){return Jm.EMPTY}copyFrom(e){if(this._parent=e._parent,this.invokingState=e.invokingState,this._start=e._start,this._stop=e._stop,e.children){this.children=[];for(let t of e.children)t instanceof Zte.ErrorNode&&this.addChild(t)}}enterRule(e){}exitRule(e){}addAnyChild(e){return this.children?this.children.push(e):this.children=[e],e}addChild(e){let t;if(e instanceof zj.TerminalNode){e.setParent(this),this.addAnyChild(e);return}else if(e instanceof X_e.RuleContext){this.addAnyChild(e);return}else return e=new zj.TerminalNode(e),this.addAnyChild(e),e.setParent(this),e}addErrorNode(e){if(e instanceof Zte.ErrorNode){let t=e;return t.setParent(this),this.addAnyChild(t)}else{let t=e,r=new Zte.ErrorNode(t);return this.addAnyChild(r),r.setParent(this),r}}removeLastChild(){this.children&&this.children.pop()}get parent(){let e=super.parent;if(e===void 0||e instanceof Jm)return e;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(e,t){if(!this.children||e<0||e>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(t==null)return this.children[e];let r=this.tryGetChild(e,t);if(r===void 0)throw new Error("The specified node does not exist");return r}tryGetChild(e,t){if(!this.children||e<0||e>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof t&&(r++,r===e))return i}getToken(e,t){let r=this.tryGetToken(e,t);if(r===void 0)throw new Error("The specified token does not exist");return r}tryGetToken(e,t){if(!this.children||t<0||t>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof zj.TerminalNode&&i.symbol.type===e&&(r++,r===t))return i}getTokens(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof zj.TerminalNode&&r.symbol.type===e&&t.push(r);return t}get ruleContext(){return this}getRuleContext(e,t){return this.getChild(e,t)}tryGetRuleContext(e,t){return this.tryGetChild(e,t)}getRuleContexts(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof e&&t.push(r);return t}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?ene.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):ene.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):ene.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(e){let t=e.getRuleInvocationStack(this).reverse();return"ParserRuleContext"+t+"{start="+this._start+", stop="+this._stop+"}"}};Jm.EMPTY=new Jm;Xte([tne.Override],Jm.prototype,"parent",null);Xte([tne.Override],Jm.prototype,"childCount",null);Xte([tne.Override],Jm.prototype,"sourceInterval",null);xS.ParserRuleContext=Jm});var r6e=we(Qg=>{"use strict";m();var Z_e=Qg&&Qg.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Qg,"__esModule",{value:!0});Qg.PredictionMode=void 0;var Pit=V_(),Hj=Dl(),e6e=Cr(),t6e=B8(),n6e;(function(n){n[n.SLL=0]="SLL",n[n.LL=1]="LL",n[n.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(n6e=Qg.PredictionMode||(Qg.PredictionMode={}));(function(n){class e extends Pit.Array2DHashMap{constructor(){super(t.INSTANCE)}}class t{AltAndContextConfigEqualityComparator(){}hashCode(o){let a=Hj.MurmurHash.initialize(7);return a=Hj.MurmurHash.update(a,o.state.stateNumber),a=Hj.MurmurHash.update(a,o.context),a=Hj.MurmurHash.finish(a,2),a}equals(o,a){return o===a?!0:o==null||a==null?!1:o.state.stateNumber===a.state.stateNumber&&o.context.equals(a.context)}}t.INSTANCE=new t,Z_e([e6e.Override],t.prototype,"hashCode",null),Z_e([e6e.Override],t.prototype,"equals",null);function r(s){for(let o of s)if(o.state instanceof t6e.RuleStopState)return!0;return!1}n.hasConfigInRuleStopState=r;function i(s){for(let o of s)if(!(o.state instanceof t6e.RuleStopState))return!1;return!0}n.allConfigsInRuleStopStates=i})(n6e=Qg.PredictionMode||(Qg.PredictionMode={}))});var rne=we(s5=>{"use strict";m();var Bit=s5&&s5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},jit=s5&&s5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(s5,"__esModule",{value:!0});s5.SimulatorState=void 0;var qit=Cr(),Uit=n1(),nne=class{constructor(e,t,r,i){this.outerContext=e??Uit.ParserRuleContext.emptyContext(),this.s0=t,this.useContext=r,this.remainingOuterContext=i}};nne=Bit([jit(1,qit.NotNull)],nne);s5.SimulatorState=nne});var vS=we(a5=>{"use strict";m();var Co=a5&&a5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ji=a5&&a5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(a5,"__esModule",{value:!0});a5.ParserATNSimulator=void 0;var i6e=Zee(),$it=Pte(),zit=Dg(),Hit=JB(),Xm=f2(),s6e=IF(),Gg=T8(),gS=jF(),Vit=df(),Wit=Bte(),rD=Ng(),Qit=G_e(),Git=T4(),ine=PF(),Yit=ej(),Vj=D0(),Wj=wg(),li=Cr(),Kit=wj(),Jit=iD(),Xit=l2(),o6e=n1(),hf=Kp(),sne=uj(),yS=r6e(),p6=B8(),a6e=Tj(),o5=z_(),Zit=Sj(),r1=rne(),Qj=iu(),u6e=Ig(),ul=A0(),est=65535,l6e=-(1<<31>>>0),ks=class go extends gS.ATNSimulator{constructor(e,t){super(e);this.predictionMode=yS.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=t}getPredictionMode(){return this.predictionMode}setPredictionMode(e){this.predictionMode=e}reset(){}adaptivePredict(e,t,r,i){i===void 0&&(i=!1);let s=this.atn.decisionToDFA[t];if(ul(s!=null),this.optimize_ll1&&!s.isPrecedenceDfa&&!s.isEmpty){let d=e.LA(1);if(d>=0&&d<=65535){let p=(t<<16>>>0)+d,b=this.atn.LL1Table.get(p);if(b!=null)return b}}this.dfa=s,this.force_global_context?i=!0:this.always_try_local_context||(i=i||s.isContextSensitive),this.userWantsCtxSensitive=i||this.predictionMode!==yS.PredictionMode.SLL&&r!=null&&!this.atn.decisionToState[t].sll,r==null&&(r=o6e.ParserRuleContext.emptyContext());let o;s.isEmpty||(o=this.getStartState(s,e,r,i)),o==null&&(r==null&&(r=o6e.ParserRuleContext.emptyContext()),go.debug&&console.log("ATN decision "+s.decision+" exec LA(1)=="+this.getLookaheadName(e)+", outerContext="+r.toString(this._parser)),o=this.computeStartState(s,r,i));let a=e.mark(),c=e.index;try{let d=this.execDFA(s,e,c,o);return go.debug&&console.log("DFA after predictATN: "+s.toString(this._parser.vocabulary,this._parser.ruleNames)),d}finally{this.dfa=void 0,e.seek(c),e.release(a)}}getStartState(e,t,r,i){if(!i)if(e.isPrecedenceDfa){let a=e.getPrecedenceStartState(this._parser.precedence,!1);return a==null?void 0:new r1.SimulatorState(r,a,!1,r)}else return e.s0==null?void 0:new r1.SimulatorState(r,e.s0,!1,r);if(!this.enable_global_context_dfa)return;let s=r;ul(r!=null);let o;for(e.isPrecedenceDfa?o=e.getPrecedenceStartState(this._parser.precedence,!0):o=e.s0full;s!=null&&o!=null&&o.isContextSensitive;)s=this.skipTailCalls(s),o=o.getContextTarget(this.getReturnState(s)),s.isEmpty?ul(o==null||!o.isContextSensitive):s=s.parent;if(o!=null)return new r1.SimulatorState(r,o,i,s)}execDFA(e,t,r,i){let s=i.outerContext;go.dfa_debug&&console.log("DFA decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+s.toString(this._parser)),go.dfa_debug&&console.log(e.toString(this._parser.vocabulary,this._parser.ruleNames));let o=i.s0,a=t.LA(1),c=i.remainingOuterContext;for(;;){if(go.dfa_debug&&console.log("DFA state "+o.stateNumber+" LA(1)=="+this.getLookaheadName(t)),i.useContext)for(;o.isContextSymbol(a);){let b;if(c!=null&&(c=this.skipTailCalls(c),b=o.getContextTarget(this.getReturnState(c))),b==null){let C=new r1.SimulatorState(i.outerContext,o,i.useContext,c);return this.execATN(e,t,r,C)}ul(c!=null),c=c.parent,o=b}if(this.isAcceptState(o,i.useContext)){o.predicates!=null?go.dfa_debug&&console.log("accept "+o):go.dfa_debug&&console.log("accept; predict "+o.prediction+" in state "+o.stateNumber);break}ul(!this.isAcceptState(o,i.useContext));let p=this.getExistingTargetState(o,a);if(p==null){go.dfa_debug&&a>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(a));let b;if(go.dfa_debug){let N=Vj.Interval.of(r,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(N)+" at DFA state "+o.stateNumber)}let C=new r1.SimulatorState(s,o,i.useContext,c);return b=this.execATN(e,t,r,C),go.dfa_debug&&console.log("back from DFA update, alt="+b+`, dfa=
`+e.toString(this._parser.vocabulary,this._parser.ruleNames)),go.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+b),b}else if(p===gS.ATNSimulator.ERROR){let b=new r1.SimulatorState(s,o,i.useContext,c);return this.handleNoViableAlt(t,r,b)}o=p,!this.isAcceptState(o,i.useContext)&&a!==Wj.IntStream.EOF&&(t.consume(),a=t.LA(1))}if(!i.useContext&&o.configs.conflictInfo!=null&&e.atnStartState instanceof Git.DecisionState&&!(!this.userWantsCtxSensitive||!o.configs.dipsIntoOuterContext&&o.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&t.index===r)){ul(!i.useContext);let p,b=o.predicates;if(b!=null){let C=t.index;if(C!==r&&t.seek(r),p=this.evalSemanticContext(b,s,!0),p.cardinality()===1)return p.nextSetBit(0);C!==r&&t.seek(C)}if(this.reportAmbiguities){let C=new r1.SimulatorState(s,o,i.useContext,c);this.reportAttemptingFullContext(e,p,C,r,t.index)}return t.seek(r),this.adaptivePredict(t,e.decision,s,!0)}let d=o.predicates;if(d!=null){let p=t.index;r!==p&&t.seek(r);let b=this.evalSemanticContext(d,s,this.reportAmbiguities&&this.predictionMode===yS.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(b.cardinality()){case 0:throw this.noViableAlt(t,s,o.configs,r);case 1:return b.nextSetBit(0);default:return r!==p&&t.seek(p),this.reportAmbiguity(e,o,r,p,o.configs.isExactConflict,b,o.configs),b.nextSetBit(0)}}return go.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+o.prediction),o.prediction}isAcceptState(e,t){return e.isAcceptState?e.configs.conflictingAlts==null?!0:t&&this.predictionMode===yS.PredictionMode.LL_EXACT_AMBIG_DETECTION?e.configs.isExactConflict:!0:!1}execATN(e,t,r,i){go.debug&&console.log("execATN decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t));let s=i.outerContext,o=i.useContext,a=t.LA(1),c=i,d=new sne.PredictionContextCache;for(;;){let p=this.computeReachSet(e,c,a,d);if(p==null)return this.setDFAEdge(c.s0,t.LA(1),gS.ATNSimulator.ERROR),this.handleNoViableAlt(t,r,c);let b=p.s0;if(ul(b.isAcceptState||b.prediction===Xm.ATN.INVALID_ALT_NUMBER),ul(b.isAcceptState||b.configs.conflictInfo==null),this.isAcceptState(b,o)){let C=b.configs.conflictingAlts,N=C==null?b.prediction:Xm.ATN.INVALID_ALT_NUMBER;if(N!==Xm.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&t.index===r&&!e.isPrecedenceDfa&&p.outerContext===p.remainingOuterContext&&e.decision>=0&&!b.configs.hasSemanticContext&&a>=0&&a<=est){let U=(e.decision<<16>>>0)+a;this.atn.LL1Table.set(U,N)}o&&this.always_try_local_context&&this.reportContextSensitivity(e,N,p,r,t.index)}N=b.prediction;let R=C!=null&&this.userWantsCtxSensitive;if(R&&(R=!o&&(b.configs.dipsIntoOuterContext||!b.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||t.index!==r)),b.configs.hasSemanticContext){let U=b.predicates;if(U!=null){let V=t.index;switch(V!==r&&t.seek(r),C=this.evalSemanticContext(U,s,R||this.reportAmbiguities),C.cardinality()){case 0:throw this.noViableAlt(t,s,b.configs,r);case 1:return C.nextSetBit(0);default:break}V!==r&&t.seek(V)}}if(R){ul(!o),ul(this.isAcceptState(b,!1)),go.debug&&console.log("RETRY with outerContext="+s);let U=this.computeStartState(e,s,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(e,C,p,r,t.index),t.seek(r),this.execATN(e,t,r,U)}else return C!=null&&(this.reportAmbiguities&&C.cardinality()>1&&this.reportAmbiguity(e,b,r,t.index,b.configs.isExactConflict,C,b.configs),N=C.nextSetBit(0)),N}c=p,a!==Wj.IntStream.EOF&&(t.consume(),a=t.LA(1))}}handleNoViableAlt(e,t,r){if(r.s0!=null){let i=new rD.BitSet,s=0;for(let o of r.s0.configs)(o.reachesIntoOuterContext||o.state instanceof p6.RuleStopState)&&(i.set(o.alt),s=Math.max(s,o.alt));switch(i.cardinality()){case 0:break;case 1:return i.nextSetBit(0);default:if(!r.s0.configs.hasSemanticContext)return i.nextSetBit(0);let o=new Gg.ATNConfigSet;for(let c of r.s0.configs)(c.reachesIntoOuterContext||c.state instanceof p6.RuleStopState)&&o.add(c);let a=this.getPredsForAmbigAlts(i,o,s);if(a!=null){let c=this.getPredicatePredictions(i,a);if(c!=null){let d=e.index;try{e.seek(t);let p=this.evalSemanticContext(c,r.outerContext,!1);if(!p.isEmpty)return p.nextSetBit(0)}finally{e.seek(d)}}}return i.nextSetBit(0)}}throw this.noViableAlt(e,r.outerContext,r.s0.configs,t)}computeReachSet(e,t,r,i){let s=t.useContext,o=t.remainingOuterContext,a=t.s0;if(s)for(;a.isContextSymbol(r);){let p;if(o!=null&&(o=this.skipTailCalls(o),p=a.getContextTarget(this.getReturnState(o))),p==null)break;ul(o!=null),o=o.parent,a=p}if(ul(!this.isAcceptState(a,s)),this.isAcceptState(a,s))return new r1.SimulatorState(t.outerContext,a,s,o);let c=a,d=this.getExistingTargetState(c,r);if(d==null){let p=this.computeTargetState(e,c,o,r,s,i);d=p[0],o=p[1]}if(d!==gS.ATNSimulator.ERROR)return ul(!s||!d.configs.dipsIntoOuterContext),new r1.SimulatorState(t.outerContext,d,s,o)}getExistingTargetState(e,t){return e.getTarget(t)}computeTargetState(e,t,r,i,s,o){let a=t.configs.toArray(),c,d=new Gg.ATNConfigSet,p;do{let C=!s||r!=null;C||(d.isOutermostConfigSet=!0);let N=new Gg.ATNConfigSet,R;for(let P of a){if(go.debug&&console.log("testing "+this.getTokenName(i)+" at "+P.toString()),P.state instanceof p6.RuleStopState){ul(P.context.isEmpty),(s&&!P.reachesIntoOuterContext||i===Wj.IntStream.EOF)&&(R==null&&(R=[]),R.push(P));continue}let $=P.state.numberOfOptimizedTransitions;for(let M=0;M<$;M++){let G=P.state.getOptimizedTransition(M),ae=this.getReachableTarget(P,G,i);ae!=null&&N.add(P.transform(ae,!1),o)}}if(this.optimize_unique_closure&&R==null&&i!==Qj.Token.EOF&&N.uniqueAlt!==Xm.ATN.INVALID_ALT_NUMBER){N.isOutermostConfigSet=d.isOutermostConfigSet,d=N;break}let U=!1,V=i===Qj.Token.EOF;if(this.closure(N,d,U,C,o,V),p=d.dipsIntoOuterContext,i===Wj.IntStream.EOF&&(d=this.removeAllConfigsNotInRuleStopState(d,o)),R!=null&&(!s||!yS.PredictionMode.hasConfigInRuleStopState(d))){ul(R.length>0);for(let P of R)d.add(P,o)}if(s&&p){d.clear(),r=r,r=this.skipTailCalls(r);let P=this.getReturnState(r);if(c==null&&(c=new Yit.IntegerList),r.isEmpty?r=void 0:r=r.parent,c.add(P),P!==hf.PredictionContext.EMPTY_FULL_STATE_KEY)for(let $=0;$<a.length;$++)a[$]=a[$].appendContext(P,o)}}while(s&&p);return d.isEmpty?(this.setDFAEdge(t,i,gS.ATNSimulator.ERROR),[gS.ATNSimulator.ERROR,r]):[this.addDFAEdge(e,t,i,c,d,o),r]}removeAllConfigsNotInRuleStopState(e,t){if(yS.PredictionMode.allConfigsInRuleStopStates(e))return e;let r=new Gg.ATNConfigSet;for(let i of e)i.state instanceof p6.RuleStopState&&r.add(i,t);return r}computeStartState(e,t,r){let i=e.isPrecedenceDfa?e.getPrecedenceStartState(this._parser.precedence,r):r?e.s0full:e.s0;if(i!=null){if(!r)return new r1.SimulatorState(t,i,r,t);i.setContextSensitive(this.atn)}let s=e.decision,o=e.atnStartState,a=0,c=t,d=r?hf.PredictionContext.EMPTY_FULL:hf.PredictionContext.EMPTY_LOCAL,p=new sne.PredictionContextCache;if(r){if(!this.enable_global_context_dfa)for(;c!=null;)c.isEmpty?(a=hf.PredictionContext.EMPTY_FULL_STATE_KEY,c=void 0):(a=this.getReturnState(c),d=d.appendSingleContext(a,p),c=c.parent);for(;i!=null&&i.isContextSensitive&&c!=null;){let C;if(c=this.skipTailCalls(c),c.isEmpty?(C=i.getContextTarget(hf.PredictionContext.EMPTY_FULL_STATE_KEY),a=hf.PredictionContext.EMPTY_FULL_STATE_KEY,c=void 0):(a=this.getReturnState(c),C=i.getContextTarget(a),d=d.appendSingleContext(a,p),c=c.parent),C==null)break;i=C}}if(i!=null&&!i.isContextSensitive)return new r1.SimulatorState(t,i,r,c);let b=new Gg.ATNConfigSet;for(;;){let C=new Gg.ATNConfigSet,N=o.numberOfTransitions;for(let M=0;M<N;M++){let G=o.transition(M).target;C.add(s6e.ATNConfig.create(G,M+1,d))}let R=c!=null;R||(b.isOutermostConfigSet=!0);let U=!0;this.closure(C,b,U,R,p,!1);let V=b.dipsIntoOuterContext,P;if(r&&!this.enable_global_context_dfa){i=this.addDFAState(e,b,p);break}else i==null?e.isPrecedenceDfa?(b=this.applyPrecedenceFilter(b,t,p),P=this.addDFAState(e,b,p),e.setPrecedenceStartState(this._parser.precedence,r,P)):(P=this.addDFAState(e,b,p),r?e.s0full?P=e.s0full:e.s0full=P:e.s0?P=e.s0:e.s0=P):(e.isPrecedenceDfa&&(b=this.applyPrecedenceFilter(b,t,p)),P=this.addDFAState(e,b,p),i.setContextTarget(a,P));if(i=P,!r||!V)break;P.setContextSensitive(this.atn),c=c,b.clear(),c=this.skipTailCalls(c);let $=this.getReturnState(c);c.isEmpty?c=void 0:c=c.parent,$!==hf.PredictionContext.EMPTY_FULL_STATE_KEY&&(d=d.appendSingleContext($,p)),a=$}return new r1.SimulatorState(t,i,r,c)}applyPrecedenceFilter(e,t,r){let i=new Map,s=new Gg.ATNConfigSet;for(let o of e){if(o.alt!==1)continue;let a=o.semanticContext.evalPrecedence(this._parser,t);a!=null&&(i.set(o.state.stateNumber,o.context),a!==o.semanticContext?s.add(o.transform(o.state,!1,a),r):s.add(o,r))}for(let o of e)if(o.alt!==1){if(!o.isPrecedenceFilterSuppressed){let a=i.get(o.state.stateNumber);if(a!=null&&a.equals(o.context))continue}s.add(o,r)}return s}getReachableTarget(e,t,r){if(t.matches(r,0,this.atn.maxTokenType))return t.target}predicateDFAState(e,t,r){let i=this.getConflictingAltsFromConfigSet(t);if(!i)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");go.debug&&console.log("predicateDFAState "+e);let s=this.getPredsForAmbigAlts(i,t,r),o;return s!=null&&(o=this.getPredicatePredictions(i,s),e.predicates=o),o}getPredsForAmbigAlts(e,t,r){let i=new Array(r+1),s=i.length;for(let c of t)e.get(c.alt)&&(i[c.alt]=o5.SemanticContext.or(i[c.alt],c.semanticContext));let o=0;for(let c=0;c<s;c++)i[c]==null?i[c]=o5.SemanticContext.NONE:i[c]!==o5.SemanticContext.NONE&&o++;let a=i;return o===0&&(a=void 0),go.debug&&console.log("getPredsForAmbigAlts result "+(a?Hit.Arrays.toString(a):"undefined")),a}getPredicatePredictions(e,t){let r=[],i=!1;for(let s=1;s<t.length;s++){let o=t[s];ul(o!=null),e!=null&&e.get(s)&&o===o5.SemanticContext.NONE?r.push(new ine.DFAState.PredPrediction(o,s)):o!==o5.SemanticContext.NONE&&(i=!0,r.push(new ine.DFAState.PredPrediction(o,s)))}if(!!i)return r}evalSemanticContext(e,t,r){let i=new rD.BitSet;for(let s of e){if(s.pred===o5.SemanticContext.NONE){if(i.set(s.alt),!r)break;continue}let o=this.evalSemanticContextImpl(s.pred,t,s.alt);if((go.debug||go.dfa_debug)&&console.log("eval pred "+s+"="+o),o&&((go.debug||go.dfa_debug)&&console.log("PREDICT "+s.alt),i.set(s.alt),!r))break}return i}evalSemanticContextImpl(e,t,r){return e.eval(this._parser,t)}closure(e,t,r,i,s,o){s==null&&(s=sne.PredictionContextCache.UNCACHED);let a=e,c=new zit.Array2DHashSet(Xit.ObjectEqualityComparator.INSTANCE);for(;a.size>0;){let d=new Gg.ATNConfigSet;for(let p of a)this.closureImpl(p,t,d,c,r,i,s,0,o);a=d}}closureImpl(e,t,r,i,s,o,a,c,d){if(go.debug&&console.log("closure("+e.toString(this._parser,!0)+")"),e.state instanceof p6.RuleStopState)if(e.context.isEmpty)if(o)go.debug&&console.log("FALLING off rule "+this.getRuleName(e.state.ruleIndex)),e.context===hf.PredictionContext.EMPTY_FULL?e=e.transform(e.state,!1,hf.PredictionContext.EMPTY_LOCAL):!e.reachesIntoOuterContext&&hf.PredictionContext.isEmptyLocal(e.context)&&t.add(e,a);else{t.add(e,a);return}else{let b=e.context.hasEmpty,C=e.context.size-(b?1:0);for(let N=0;N<C;N++){let R=e.context.getParent(N),U=this.atn.states[e.context.getReturnState(N)],V=s6e.ATNConfig.create(U,e.alt,R,e.semanticContext);V.outerContextDepth=e.outerContextDepth,V.isPrecedenceFilterSuppressed=e.isPrecedenceFilterSuppressed,ul(c>l6e),this.closureImpl(V,t,r,i,s,o,a,c-1,d)}if(!b||!o)return;e=e.transform(e.state,!1,hf.PredictionContext.EMPTY_LOCAL)}let p=e.state;p.onlyHasEpsilonTransitions||(t.add(e,a),go.debug&&console.log("added config "+t));for(let b=0;b<p.numberOfOptimizedTransitions;b++){if(b===0&&p.stateType===Vit.ATNStateType.STAR_LOOP_ENTRY&&p.precedenceRuleDecision&&!e.context.hasEmpty){let U=p,V=!0;for(let P=0;P<e.context.size;P++)if(!U.precedenceLoopbackStates.get(e.context.getReturnState(P))){V=!1;break}if(V)continue}let C=p.getOptimizedTransition(b),N=!(C instanceof $it.ActionTransition)&&s,R=this.getEpsilonTarget(e,C,N,c===0,a,d);if(R!=null){if(C instanceof a6e.RuleTransition&&r!=null&&!s){r.add(R,a);continue}let U=c;if(e.state instanceof p6.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&C.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(R.isPrecedenceFilterSuppressed=!0),R.outerContextDepth=R.outerContextDepth+1,!i.add(R))continue;ul(U>l6e),U--,go.debug&&console.log("dips into outer ctx: "+R)}else if(C instanceof a6e.RuleTransition)this.optimize_tail_calls&&C.optimizedTailCall&&(!this.tail_call_preserves_sll||!hf.PredictionContext.isEmptyLocal(e.context))?(ul(R.context===e.context),U===0&&(U--,!this.tail_call_preserves_sll&&hf.PredictionContext.isEmptyLocal(e.context)&&(R.outerContextDepth=R.outerContextDepth+1))):U>=0&&U++;else if(!C.isEpsilon&&!i.add(R))continue;this.closureImpl(R,t,r,i,N,o,a,U,d)}}}getRuleName(e){return this._parser!=null&&e>=0?this._parser.ruleNames[e]:"<rule "+e+">"}getEpsilonTarget(e,t,r,i,s,o){switch(t.serializationType){case 3:return this.ruleTransition(e,t,s);case 10:return this.precedenceTransition(e,t,r,i);case 4:return this.predTransition(e,t,r,i);case 6:return this.actionTransition(e,t);case 1:return e.transform(t.target,!1);case 5:case 2:case 7:return o&&t.matches(Qj.Token.EOF,0,1)?e.transform(t.target,!1):void 0;default:return}}actionTransition(e,t){return go.debug&&console.log("ACTION edge "+t.ruleIndex+":"+t.actionIndex),e.transform(t.target,!1)}precedenceTransition(e,t,r,i){go.debug&&(console.log("PRED (collectPredicates="+r+") "+t.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&i){let o=o5.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return go.debug&&console.log("config from pred transition="+s),s}predTransition(e,t,r,i){go.debug&&(console.log("PRED (collectPredicates="+r+") "+t.ruleIndex+":"+t.predIndex+", ctx dependent="+t.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&(!t.isCtxDependent||t.isCtxDependent&&i)){let o=o5.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return go.debug&&console.log("config from pred transition="+s),s}ruleTransition(e,t,r){go.debug&&console.log("CALL rule "+this.getRuleName(t.target.ruleIndex)+", ctx="+e.context);let i=t.followState,s;return this.optimize_tail_calls&&t.optimizedTailCall&&(!this.tail_call_preserves_sll||!hf.PredictionContext.isEmptyLocal(e.context))?s=e.context:r!=null?s=r.getChild(e.context,i.stateNumber):s=e.context.getChild(i.stateNumber),e.transform(t.target,!1,s)}isConflicted(e,t){if(e.uniqueAlt!==Xm.ATN.INVALID_ALT_NUMBER||e.size<=1)return;let r=e.toArray();r.sort(go.STATE_ALT_SORT_COMPARATOR);let i=!e.dipsIntoOuterContext,s=new rD.BitSet,o=r[0].alt;s.set(o);let a=r[0].state.nonStopStateNumber;for(let C of r){let N=C.state.nonStopStateNumber;if(N!==a){if(C.alt!==o)return;a=N}}let c;if(i){a=r[0].state.nonStopStateNumber,c=new rD.BitSet;let C=o;for(let R of r){if(R.state.nonStopStateNumber!==a)break;let U=R.alt;c.set(U),C=U}a=r[0].state.nonStopStateNumber;let N=o;for(let R of r){let U=R.state.nonStopStateNumber,V=R.alt;if(U!==a){if(N!==C){i=!1;break}a=U,N=o}else if(V!==N){if(V!==c.nextSetBit(N+1)){i=!1;break}N=V}}}a=r[0].state.nonStopStateNumber;let d=0,p=0,b=r[0].context;for(let C=1;C<r.length;C++){let N=r[C];if(N.alt!==o||N.state.nonStopStateNumber!==a)break;p=C,b=t.join(b,r[C].context)}for(let C=p+1;C<r.length;C++){let N=r[C],R=N.state;if(s.set(N.alt),R.nonStopStateNumber!==a){a=R.nonStopStateNumber,d=C,p=C,b=N.context;for(let M=d+1;M<r.length;M++){let G=r[M];if(G.alt!==o||G.state.nonStopStateNumber!==a)break;p=M,b=t.join(b,G.context)}C=p;continue}let U=N.context,V=N.alt,P=C;for(let M=P+1;M<r.length;M++){let G=r[M];if(G.alt!==V||G.state.nonStopStateNumber!==a)break;P=M,U=t.join(U,G.context)}C=P;let $=t.join(b,U);if(!b.equals($))return;i=i&&b.equals(U)}return new Qit.ConflictInfo(s,i)}getConflictingAltsFromConfigSet(e){let t=e.conflictingAlts;return t==null&&e.uniqueAlt!==Xm.ATN.INVALID_ALT_NUMBER&&(t=new rD.BitSet,t.set(e.uniqueAlt)),t}getTokenName(e){if(e===Qj.Token.EOF)return"EOF";let r=(this._parser!=null?this._parser.vocabulary:u6e.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(e);return r===String(e)?r:r+"<"+e+">"}getLookaheadName(e){return this.getTokenName(e.LA(1))}dumpDeadEndConfigs(e){console.log("dead end configs: ");let t=e.deadEndConfigs;if(!!t)for(let r of t){let i="no edges";if(r.state.numberOfOptimizedTransitions>0){let s=r.state.getOptimizedTransition(0);s instanceof Wit.AtomTransition?i="Atom "+this.getTokenName(s._label):s instanceof Zit.SetTransition&&(i=(s instanceof Kit.NotSetTransition?"~":"")+"Set "+s.set.toString())}console.log(r.toString(this._parser,!0)+":"+i)}}noViableAlt(e,t,r,i){return new Jit.NoViableAltException(this._parser,e,e.get(i),e.LT(1),r,t)}getUniqueAlt(e){let t=Xm.ATN.INVALID_ALT_NUMBER;for(let r of e)if(t===Xm.ATN.INVALID_ALT_NUMBER)t=r.alt;else if(r.alt!==t)return Xm.ATN.INVALID_ALT_NUMBER;return t}configWithAltAtStopState(e,t){for(let r of e)if(r.alt===t&&r.state instanceof p6.RuleStopState)return!0;return!1}addDFAEdge(e,t,r,i,s,o){ul(i==null||i.isEmpty||e.isContextSensitive);let a=t,c=this.addDFAState(e,s,o);if(i!=null)for(let d of i.toArray()){if(d===hf.PredictionContext.EMPTY_FULL_STATE_KEY&&a.configs.isOutermostConfigSet)continue;a.setContextSensitive(this.atn),a.setContextSymbol(r);let p=a.getContextTarget(d);if(p!=null){a=p;continue}p=this.addDFAContextState(e,a.configs,d,o),ul(d!==hf.PredictionContext.EMPTY_FULL_STATE_KEY||p.configs.isOutermostConfigSet),a.setContextTarget(d,p),a=p}return go.debug&&console.log("EDGE "+a+" -> "+c+" upon "+this.getTokenName(r)),this.setDFAEdge(a,r,c),go.debug&&console.log(`DFA=
`+e.toString(this._parser!=null?this._parser.vocabulary:u6e.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),c}setDFAEdge(e,t,r){e!=null&&e.setTarget(t,r)}addDFAContextState(e,t,r,i){if(r!==hf.PredictionContext.EMPTY_FULL_STATE_KEY){let s=new Gg.ATNConfigSet;for(let o of t)s.add(o.appendContext(r,i));return this.addDFAState(e,s,i)}else return ul(!t.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),t=t.clone(!0),t.isOutermostConfigSet=!0,this.addDFAState(e,t,i)}addDFAState(e,t,r){let i=this.enable_global_context_dfa||!t.isOutermostConfigSet;if(i){t.isReadOnly||t.optimizeConfigs(this);let d=this.createDFAState(e,t),p=e.states.get(d);if(p!=null)return p}t.isReadOnly||t.conflictInfo==null&&(t.conflictInfo=this.isConflicted(t,r));let s=this.createDFAState(e,t.clone(!0)),o=this.atn.getDecisionState(e.decision),a=this.getUniqueAlt(t);if(a!==Xm.ATN.INVALID_ALT_NUMBER)s.acceptStateInfo=new i6e.AcceptStateInfo(a);else if(t.conflictingAlts!=null){let d=t.conflictingAlts;d&&(s.acceptStateInfo=new i6e.AcceptStateInfo(d.nextSetBit(0)))}if(s.isAcceptState&&t.hasSemanticContext&&this.predicateDFAState(s,t,o.numberOfTransitions),!i)return s;let c=e.addState(s);return go.debug&&c===s&&console.log("adding new DFA state: "+s),c}createDFAState(e,t){return new ine.DFAState(t)}reportAttemptingFullContext(e,t,r,i,s){if(go.debug||go.retry_debug){let o=Vj.Interval.of(i,s);console.log("reportAttemptingFullContext decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportAttemptingFullContext&&o.reportAttemptingFullContext(this._parser,e,i,s,t,r)}}reportContextSensitivity(e,t,r,i,s){if(go.debug||go.retry_debug){let o=Vj.Interval.of(i,s);console.log("reportContextSensitivity decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportContextSensitivity&&o.reportContextSensitivity(this._parser,e,i,s,t,r)}}reportAmbiguity(e,t,r,i,s,o,a){if(go.debug||go.retry_debug){let c=Vj.Interval.of(r,i);console.log("reportAmbiguity "+o+":"+a+", input="+this._parser.inputStream.getText(c))}if(this._parser!=null){let c=this._parser.getErrorListenerDispatch();c.reportAmbiguity&&c.reportAmbiguity(this._parser,e,r,i,s,o,a)}}getReturnState(e){return e.isEmpty?hf.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[e.invokingState].transition(0).followState.stateNumber}skipTailCalls(e){if(!this.optimize_tail_calls)return e;for(;!e.isEmpty;){let t=this.atn.states[e.invokingState];if(ul(t.numberOfTransitions===1&&t.transition(0).serializationType===3),!t.transition(0).tailCall)break;e=e.parent}return e}get parser(){return this._parser}};ks.debug=!1;ks.dfa_debug=!1;ks.retry_debug=!1;ks.STATE_ALT_SORT_COMPARATOR=(n,e)=>{let t=n.state.nonStopStateNumber-e.state.nonStopStateNumber;return t!==0||(t=n.alt-e.alt,t!==0)?t:0};Co([li.NotNull],ks.prototype,"predictionMode",void 0);Co([li.NotNull],ks.prototype,"getPredictionMode",null);Co([ji(0,li.NotNull)],ks.prototype,"setPredictionMode",null);Co([li.Override],ks.prototype,"reset",null);Co([ji(0,li.NotNull)],ks.prototype,"adaptivePredict",null);Co([ji(0,li.NotNull),ji(1,li.NotNull),ji(2,li.NotNull)],ks.prototype,"getStartState",null);Co([ji(0,li.NotNull),ji(1,li.NotNull),ji(3,li.NotNull)],ks.prototype,"execDFA",null);Co([ji(0,li.NotNull),ji(1,li.NotNull),ji(3,li.NotNull)],ks.prototype,"execATN",null);Co([ji(0,li.NotNull),ji(2,li.NotNull)],ks.prototype,"handleNoViableAlt",null);Co([ji(0,li.NotNull)],ks.prototype,"getExistingTargetState",null);Co([li.NotNull,ji(0,li.NotNull),ji(1,li.NotNull)],ks.prototype,"computeTargetState",null);Co([li.NotNull,ji(0,li.NotNull)],ks.prototype,"removeAllConfigsNotInRuleStopState",null);Co([li.NotNull],ks.prototype,"computeStartState",null);Co([li.NotNull,ji(0,li.NotNull)],ks.prototype,"applyPrecedenceFilter",null);Co([ji(0,li.NotNull),ji(1,li.NotNull)],ks.prototype,"getReachableTarget",null);Co([ji(0,li.NotNull),ji(1,li.NotNull)],ks.prototype,"getPredsForAmbigAlts",null);Co([ji(0,li.NotNull)],ks.prototype,"evalSemanticContext",null);Co([ji(0,li.NotNull)],ks.prototype,"evalSemanticContextImpl",null);Co([ji(1,li.NotNull),ji(4,li.Nullable)],ks.prototype,"closure",null);Co([ji(0,li.NotNull),ji(1,li.NotNull),ji(2,li.Nullable),ji(3,li.NotNull),ji(6,li.NotNull)],ks.prototype,"closureImpl",null);Co([li.NotNull],ks.prototype,"getRuleName",null);Co([ji(0,li.NotNull),ji(1,li.NotNull)],ks.prototype,"getEpsilonTarget",null);Co([li.NotNull,ji(0,li.NotNull),ji(1,li.NotNull)],ks.prototype,"actionTransition",null);Co([li.Nullable,ji(0,li.NotNull),ji(1,li.NotNull)],ks.prototype,"precedenceTransition",null);Co([li.Nullable,ji(0,li.NotNull),ji(1,li.NotNull)],ks.prototype,"predTransition",null);Co([li.NotNull,ji(0,li.NotNull),ji(1,li.NotNull),ji(2,li.Nullable)],ks.prototype,"ruleTransition",null);Co([ji(0,li.NotNull)],ks.prototype,"isConflicted",null);Co([li.NotNull],ks.prototype,"getTokenName",null);Co([ji(0,li.NotNull)],ks.prototype,"dumpDeadEndConfigs",null);Co([li.NotNull,ji(0,li.NotNull),ji(1,li.NotNull),ji(2,li.NotNull)],ks.prototype,"noViableAlt",null);Co([ji(0,li.NotNull)],ks.prototype,"getUniqueAlt",null);Co([ji(0,li.NotNull)],ks.prototype,"configWithAltAtStopState",null);Co([li.NotNull,ji(0,li.NotNull),ji(1,li.NotNull),ji(4,li.NotNull)],ks.prototype,"addDFAEdge",null);Co([ji(0,li.Nullable),ji(2,li.Nullable)],ks.prototype,"setDFAEdge",null);Co([li.NotNull,ji(0,li.NotNull),ji(1,li.NotNull)],ks.prototype,"addDFAContextState",null);Co([li.NotNull,ji(0,li.NotNull),ji(1,li.NotNull)],ks.prototype,"addDFAState",null);Co([li.NotNull,ji(0,li.NotNull),ji(1,li.NotNull)],ks.prototype,"createDFAState",null);Co([ji(0,li.NotNull),ji(2,li.NotNull)],ks.prototype,"reportAttemptingFullContext",null);Co([ji(0,li.NotNull),ji(2,li.NotNull)],ks.prototype,"reportContextSensitivity",null);Co([ji(0,li.NotNull),ji(5,li.NotNull),ji(6,li.NotNull)],ks.prototype,"reportAmbiguity",null);ks=Co([ji(0,li.NotNull)],ks);a5.ParserATNSimulator=ks});var c6e=we(_S=>{"use strict";m();var tst=_S&&_S.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(_S,"__esModule",{value:!0});_S.PlusBlockStartState=void 0;var nst=df(),rst=ZF(),ist=Cr(),one=class extends rst.BlockStartState{get stateType(){return nst.ATNStateType.PLUS_BLOCK_START}};tst([ist.Override],one.prototype,"stateType",null);_S.PlusBlockStartState=one});var f6e=we(bS=>{"use strict";m();var sst=bS&&bS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(bS,"__esModule",{value:!0});bS.PlusLoopbackState=void 0;var ost=df(),ast=T4(),ust=Cr(),ane=class extends ast.DecisionState{get stateType(){return ost.ATNStateType.PLUS_LOOP_BACK}};sst([ust.Override],ane.prototype,"stateType",null);bS.PlusLoopbackState=ane});var d6e=we(u5=>{"use strict";m();var sD=u5&&u5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},lst=u5&&u5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(u5,"__esModule",{value:!0});u5.PrecedencePredicateTransition=void 0;var cst=VB(),oD=Cr(),fst=z_(),m6=class extends cst.AbstractPredicateTransition{constructor(e,t){super(e);this.precedence=t}get serializationType(){return 10}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new fst.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};sD([oD.Override],m6.prototype,"serializationType",null);sD([oD.Override],m6.prototype,"isEpsilon",null);sD([oD.Override],m6.prototype,"matches",null);sD([oD.Override],m6.prototype,"toString",null);m6=sD([lst(0,oD.NotNull)],m6);u5.PrecedencePredicateTransition=m6});var h6e=we(l5=>{"use strict";m();var aD=l5&&l5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},dst=l5&&l5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(l5,"__esModule",{value:!0});l5.RangeTransition=void 0;var hst=j4(),x6=Cr(),pst=Fg(),g6=class extends pst.Transition{constructor(e,t,r){super(e);this.from=t,this.to=r}get serializationType(){return 2}get label(){return hst.IntervalSet.of(this.from,this.to)}matches(e,t,r){return e>=this.from&&e<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};aD([x6.Override],g6.prototype,"serializationType",null);aD([x6.Override,x6.NotNull],g6.prototype,"label",null);aD([x6.Override],g6.prototype,"matches",null);aD([x6.Override,x6.NotNull],g6.prototype,"toString",null);g6=aD([dst(0,x6.NotNull)],g6);l5.RangeTransition=g6});var p6e=we(ES=>{"use strict";m();var mst=ES&&ES.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ES,"__esModule",{value:!0});ES.RuleStartState=void 0;var xst=Nm(),gst=df(),yst=Cr(),une=class extends xst.ATNState{constructor(){super(...arguments);this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return gst.ATNStateType.RULE_START}};mst([yst.Override],une.prototype,"stateType",null);ES.RuleStartState=une});var m6e=we(SS=>{"use strict";m();var vst=SS&&SS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(SS,"__esModule",{value:!0});SS.StarBlockStartState=void 0;var _st=df(),bst=ZF(),Est=Cr(),lne=class extends bst.BlockStartState{get stateType(){return _st.ATNStateType.STAR_BLOCK_START}};vst([Est.Override],lne.prototype,"stateType",null);SS.StarBlockStartState=lne});var x6e=we(CS=>{"use strict";m();var Sst=CS&&CS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(CS,"__esModule",{value:!0});CS.StarLoopbackState=void 0;var Cst=Nm(),wst=df(),Ast=Cr(),cne=class extends Cst.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return wst.ATNStateType.STAR_LOOP_BACK}};Sst([Ast.Override],cne.prototype,"stateType",null);CS.StarLoopbackState=cne});var g6e=we(wS=>{"use strict";m();var Tst=wS&&wS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(wS,"__esModule",{value:!0});wS.TokensStartState=void 0;var Fst=df(),Dst=T4(),Ost=Cr(),fne=class extends Dst.DecisionState{get stateType(){return Fst.ATNStateType.TOKEN_START}};Tst([Ost.Override],fne.prototype,"stateType",null);wS.TokensStartState=fne});var y6e=we(Gj=>{"use strict";m();Object.defineProperty(Gj,"__esModule",{value:!0});Gj.UUID=void 0;var Nst=Dl(),uD=class{constructor(e,t,r,i){this.data=new Uint32Array(4),this.data[0]=e,this.data[1]=t,this.data[2]=r,this.data[3]=i}static fromString(e){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(e))throw new Error("Incorrectly formatted UUID");let t=e.split("-"),r=parseInt(t[0],16),i=(parseInt(t[1],16)<<16>>>0)+parseInt(t[2],16),s=(parseInt(t[3],16)<<16>>>0)+parseInt(t[4].substr(0,4),16),o=parseInt(t[4].substr(-8),16);return new uD(r,i,s,o)}hashCode(){return Nst.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(e){return e===this?!0:e instanceof uD?this.data[0]===e.data[0]&&this.data[1]===e.data[1]&&this.data[2]===e.data[2]&&this.data[3]===e.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};Gj.UUID=uD});var dD=we(f5=>{"use strict";m();var Yj=f5&&f5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},dne=f5&&f5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(f5,"__esModule",{value:!0});f5.ATNDeserializer=void 0;var hne=Pte(),Rst=Dg(),Lst=f2(),kst=Mte(),Hf=df(),AS=Bte(),v6e=I_e(),Kj=bte(),_6e=Ng(),Jj=M_e(),pne=ZF(),Ist=T4(),b6e=vte(),Yg=P_e(),mne=j4(),E6e=Ste(),Mst=B_e(),S6e=j_e(),Pst=q_e(),Bst=U_e(),jst=$_e(),qst=z_e(),Ust=H_e(),$st=V_e(),TS=Vte(),lD=Cr(),xne=wj(),gne=vS(),yne=c6e(),C6e=f6e(),zst=d6e(),Hst=Wee(),cD=h6e(),w6e=p6e(),c5=B8(),fD=Tj(),Xj=Sj(),vne=m6e(),_ne=x6e(),FS=_j(),bne=iu(),Vst=g6e(),Zj=y6e(),Wst=Cte(),A6e;(function(n){n[n.UNICODE_BMP=0]="UNICODE_BMP",n[n.UNICODE_SMP=1]="UNICODE_SMP"})(A6e||(A6e={}));var Si=class{constructor(e){e===void 0&&(e=kst.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=e}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(e,t){let r=Si.SUPPORTED_UUIDS.findIndex(i=>i.equals(e));return r<0?!1:Si.SUPPORTED_UUIDS.findIndex(i=>i.equals(t))>=r}static getUnicodeDeserializer(e){return e===0?{readUnicode:(t,r)=>Si.toInt(t[r]),size:1}:{readUnicode:(t,r)=>Si.toInt32(t,r),size:2}}deserialize(e){e=e.slice(0);for(let I=1;I<e.length;I++)e[I]=e[I]-2&65535;let t=0,r=Si.toInt(e[t++]);if(r!==Si.SERIALIZED_VERSION){let I=`Could not deserialize ATN with version ${r} (expected ${Si.SERIALIZED_VERSION}).`;throw new Error(I)}let i=Si.toUUID(e,t);if(t+=8,Si.SUPPORTED_UUIDS.findIndex(I=>I.equals(i))<0){let I=`Could not deserialize ATN with UUID ${i} (expected ${Si.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(I)}let s=Si.isFeatureSupported(Si.ADDED_LEXER_ACTIONS,i),o=Si.toInt(e[t++]),a=Si.toInt(e[t++]),c=new Lst.ATN(o,a),d=[],p=[],b=Si.toInt(e[t++]);for(let I=0;I<b;I++){let Z=Si.toInt(e[t++]);if(Z===Hf.ATNStateType.INVALID_TYPE){c.addState(new E6e.InvalidState);continue}let me=Si.toInt(e[t++]);me===65535&&(me=-1);let ye=this.stateFactory(Z,me);if(Z===Hf.ATNStateType.LOOP_END){let He=Si.toInt(e[t++]);d.push([ye,He])}else if(ye instanceof pne.BlockStartState){let He=Si.toInt(e[t++]);p.push([ye,He])}c.addState(ye)}for(let I of d)I[0].loopBackState=c.states[I[1]];for(let I of p)I[0].endState=c.states[I[1]];let C=Si.toInt(e[t++]);for(let I=0;I<C;I++){let Z=Si.toInt(e[t++]);c.states[Z].nonGreedy=!0}let N=Si.toInt(e[t++]);for(let I=0;I<N;I++){let Z=Si.toInt(e[t++]);c.states[Z].sll=!0}let R=Si.toInt(e[t++]);for(let I=0;I<R;I++){let Z=Si.toInt(e[t++]);c.states[Z].isPrecedenceRule=!0}let U=Si.toInt(e[t++]);c.grammarType===0&&(c.ruleToTokenType=new Int32Array(U)),c.ruleToStartState=new Array(U);for(let I=0;I<U;I++){let Z=Si.toInt(e[t++]),me=c.states[Z];if(me.leftFactored=Si.toInt(e[t++])!==0,c.ruleToStartState[I]=me,c.grammarType===0){let ye=Si.toInt(e[t++]);if(ye===65535&&(ye=bne.Token.EOF),c.ruleToTokenType[I]=ye,!Si.isFeatureSupported(Si.ADDED_LEXER_ACTIONS,i)){let He=Si.toInt(e[t++]);He===65535&&(He=-1)}}}c.ruleToStopState=new Array(U);for(let I of c.states)I instanceof c5.RuleStopState&&(c.ruleToStopState[I.ruleIndex]=I,c.ruleToStartState[I.ruleIndex].stopState=I);let V=Si.toInt(e[t++]);for(let I=0;I<V;I++){let Z=Si.toInt(e[t++]);c.modeToStartState.push(c.states[Z])}c.modeToDFA=new Array(V);for(let I=0;I<V;I++)c.modeToDFA[I]=new b6e.DFA(c.modeToStartState[I]);let P=[];t=this.deserializeSets(e,t,P,Si.getUnicodeDeserializer(0)),Si.isFeatureSupported(Si.ADDED_UNICODE_SMP,i)&&(t=this.deserializeSets(e,t,P,Si.getUnicodeDeserializer(1)));let $=Si.toInt(e[t++]);for(let I=0;I<$;I++){let Z=Si.toInt(e[t]),me=Si.toInt(e[t+1]),ye=Si.toInt(e[t+2]),He=Si.toInt(e[t+3]),ot=Si.toInt(e[t+4]),at=Si.toInt(e[t+5]),Ze=this.edgeFactory(c,ye,Z,me,He,ot,at,P);c.states[Z].addTransition(Ze),t+=6}let M=new Rst.Array2DHashSet({hashCode:I=>I.stopState^I.returnState^I.outermostPrecedenceReturn,equals:(I,Z)=>I.stopState===Z.stopState&&I.returnState===Z.returnState&&I.outermostPrecedenceReturn===Z.outermostPrecedenceReturn}),G=[];for(let I of c.states){let Z=I.ruleIndex>=0&&c.ruleToStartState[I.ruleIndex].leftFactored;for(let me=0;me<I.numberOfTransitions;me++){let ye=I.transition(me);if(!(ye instanceof fD.RuleTransition))continue;let He=ye;if(!c.ruleToStartState[He.target.ruleIndex].leftFactored&&Z)continue;let at=-1;c.ruleToStartState[He.target.ruleIndex].isPrecedenceRule&&He.precedence===0&&(at=He.target.ruleIndex);let Ze={stopState:He.target.ruleIndex,returnState:He.followState.stateNumber,outermostPrecedenceReturn:at};M.add(Ze)&&G.push(Ze)}}for(let I of G){let Z=new Yg.EpsilonTransition(c.states[I.returnState],I.outermostPrecedenceReturn);c.ruleToStopState[I.stopState].addTransition(Z)}for(let I of c.states){if(I instanceof pne.BlockStartState){if(I.endState===void 0)throw new Error("IllegalStateException");if(I.endState.startState!==void 0)throw new Error("IllegalStateException");I.endState.startState=I}if(I instanceof C6e.PlusLoopbackState){let Z=I;for(let me=0;me<Z.numberOfTransitions;me++){let ye=Z.transition(me).target;ye instanceof yne.PlusBlockStartState&&(ye.loopBackState=Z)}}else if(I instanceof _ne.StarLoopbackState){let Z=I;for(let me=0;me<Z.numberOfTransitions;me++){let ye=Z.transition(me).target;ye instanceof FS.StarLoopEntryState&&(ye.loopBackState=Z)}}}let ae=Si.toInt(e[t++]);for(let I=1;I<=ae;I++){let Z=Si.toInt(e[t++]),me=c.states[Z];c.decisionToState.push(me),me.decision=I-1}if(c.grammarType===0)if(s){c.lexerActions=new Array(Si.toInt(e[t++]));for(let I=0;I<c.lexerActions.length;I++){let Z=Si.toInt(e[t++]),me=Si.toInt(e[t++]);me===65535&&(me=-1);let ye=Si.toInt(e[t++]);ye===65535&&(ye=-1);let He=this.lexerActionFactory(Z,me,ye);c.lexerActions[I]=He}}else{let I=[];for(let Z of c.states)for(let me=0;me<Z.numberOfTransitions;me++){let ye=Z.transition(me);if(!(ye instanceof hne.ActionTransition))continue;let He=ye.ruleIndex,ot=ye.actionIndex,at=new S6e.LexerCustomAction(He,ot);Z.setTransition(me,new hne.ActionTransition(ye.target,He,I.length,!1)),I.push(at)}c.lexerActions=I}this.markPrecedenceDecisions(c),c.decisionToDFA=new Array(ae);for(let I=0;I<ae;I++)c.decisionToDFA[I]=new b6e.DFA(c.decisionToState[I],I);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(c),this.deserializationOptions.isGenerateRuleBypassTransitions&&c.grammarType===1){c.ruleToTokenType=new Int32Array(c.ruleToStartState.length);for(let I=0;I<c.ruleToStartState.length;I++)c.ruleToTokenType[I]=c.maxTokenType+I+1;for(let I=0;I<c.ruleToStartState.length;I++){let Z=new v6e.BasicBlockStartState;Z.ruleIndex=I,c.addState(Z);let me=new Jj.BlockEndState;me.ruleIndex=I,c.addState(me),Z.endState=me,c.defineDecisionState(Z),me.startState=Z;let ye,He;if(c.ruleToStartState[I].isPrecedenceRule){ye=void 0;for(let at of c.states){if(at.ruleIndex!==I||!(at instanceof FS.StarLoopEntryState))continue;let Ze=at.transition(at.numberOfTransitions-1).target;if(Ze instanceof TS.LoopEndState&&Ze.epsilonOnlyTransitions&&Ze.transition(0).target instanceof c5.RuleStopState){ye=at;break}}if(!ye)throw new Error("Couldn't identify final state of the precedence rule prefix section.");He=ye.loopBackState.transition(0)}else ye=c.ruleToStopState[I];for(let at of c.states)for(let Ze=0;Ze<at.numberOfTransitions;Ze++){let Tt=at.transition(Ze);Tt!==He&&Tt.target===ye&&(Tt.target=me)}for(;c.ruleToStartState[I].numberOfTransitions>0;){let at=c.ruleToStartState[I].removeTransition(c.ruleToStartState[I].numberOfTransitions-1);Z.addTransition(at)}c.ruleToStartState[I].addTransition(new Yg.EpsilonTransition(Z)),me.addTransition(new Yg.EpsilonTransition(ye));let ot=new Kj.BasicState;c.addState(ot),ot.addTransition(new AS.AtomTransition(me,c.ruleToTokenType[I])),Z.addTransition(new Yg.EpsilonTransition(ot))}this.deserializationOptions.isVerifyATN&&this.verifyATN(c)}if(this.deserializationOptions.isOptimize){for(;;){let I=0;I+=Si.inlineSetRules(c),I+=Si.combineChainedEpsilons(c);let Z=c.grammarType===0;if(I+=Si.optimizeSets(c,Z),I===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(c)}return Si.identifyTailCalls(c),c}deserializeSets(e,t,r,i){let s=Si.toInt(e[t++]);for(let o=0;o<s;o++){let a=Si.toInt(e[t]);t++;let c=new mne.IntervalSet;r.push(c),Si.toInt(e[t++])!==0&&c.add(-1);for(let p=0;p<a;p++){let b=i.readUnicode(e,t);t+=i.size;let C=i.readUnicode(e,t);t+=i.size,c.add(b,C)}}return t}markPrecedenceDecisions(e){let t=new Map;for(let r of e.states)if(r instanceof FS.StarLoopEntryState&&e.ruleToStartState[r.ruleIndex].isPrecedenceRule){let i=r.transition(r.numberOfTransitions-1).target;i instanceof TS.LoopEndState&&i.epsilonOnlyTransitions&&i.transition(0).target instanceof c5.RuleStopState&&(t.set(r.ruleIndex,r),r.precedenceRuleDecision=!0,r.precedenceLoopbackStates=new _6e.BitSet(e.states.length))}for(let r of t)for(let i of e.ruleToStopState[r[0]].getTransitions())i.serializationType!==1||i.outermostPrecedenceReturn!==-1||r[1].precedenceLoopbackStates.set(i.target.stateNumber)}verifyATN(e){for(let t of e.states)if(this.checkCondition(t!==void 0,"ATN states should not be undefined."),t.stateType!==Hf.ATNStateType.INVALID_TYPE){if(this.checkCondition(t.onlyHasEpsilonTransitions||t.numberOfTransitions<=1),t instanceof yne.PlusBlockStartState&&this.checkCondition(t.loopBackState!==void 0),t instanceof FS.StarLoopEntryState){let r=t;if(this.checkCondition(r.loopBackState!==void 0),this.checkCondition(r.numberOfTransitions===2),r.transition(0).target instanceof vne.StarBlockStartState)this.checkCondition(r.transition(1).target instanceof TS.LoopEndState),this.checkCondition(!r.nonGreedy);else if(r.transition(0).target instanceof TS.LoopEndState)this.checkCondition(r.transition(1).target instanceof vne.StarBlockStartState),this.checkCondition(r.nonGreedy);else throw new Error("IllegalStateException")}if(t instanceof _ne.StarLoopbackState&&(this.checkCondition(t.numberOfTransitions===1),this.checkCondition(t.transition(0).target instanceof FS.StarLoopEntryState)),t instanceof TS.LoopEndState&&this.checkCondition(t.loopBackState!==void 0),t instanceof w6e.RuleStartState&&this.checkCondition(t.stopState!==void 0),t instanceof pne.BlockStartState&&this.checkCondition(t.endState!==void 0),t instanceof Jj.BlockEndState&&this.checkCondition(t.startState!==void 0),t instanceof Ist.DecisionState){let r=t;this.checkCondition(r.numberOfTransitions<=1||r.decision>=0)}else this.checkCondition(t.numberOfTransitions<=1||t instanceof c5.RuleStopState)}}checkCondition(e,t){if(!e)throw new Error("IllegalStateException: "+t)}static inlineSetRules(e){let t=0,r=new Array(e.ruleToStartState.length);for(let i=0;i<e.ruleToStartState.length;i++){let o=e.ruleToStartState[i];for(;o.onlyHasEpsilonTransitions&&o.numberOfOptimizedTransitions===1&&o.getOptimizedTransition(0).serializationType===1;)o=o.getOptimizedTransition(0).target;if(o.numberOfOptimizedTransitions!==1)continue;let a=o.getOptimizedTransition(0),c=a.target;if(!(a.isEpsilon||!c.onlyHasEpsilonTransitions||c.numberOfOptimizedTransitions!==1||!(c.getOptimizedTransition(0).target instanceof c5.RuleStopState)))switch(a.serializationType){case 5:case 2:case 7:r[i]=a;break;case 8:case 9:continue;default:continue}}for(let i of e.states){if(i.ruleIndex<0)continue;let s;for(let o=0;o<i.numberOfOptimizedTransitions;o++){let a=i.getOptimizedTransition(o);if(!(a instanceof fD.RuleTransition)){s!==void 0&&s.push(a);continue}let c=a,d=r[c.target.ruleIndex];if(d===void 0){s!==void 0&&s.push(a);continue}if(s===void 0){s=[];for(let C=0;C<o;C++)s.push(i.getOptimizedTransition(o))}t++;let p=c.followState,b=new Kj.BasicState;switch(b.setRuleIndex(p.ruleIndex),e.addState(b),s.push(new Yg.EpsilonTransition(b)),d.serializationType){case 5:b.addTransition(new AS.AtomTransition(p,d._label));break;case 2:b.addTransition(new cD.RangeTransition(p,d.from,d.to));break;case 7:b.addTransition(new Xj.SetTransition(p,d.label));break;default:throw new Error("UnsupportedOperationException")}}if(s!==void 0){if(i.isOptimized)for(;i.numberOfOptimizedTransitions>0;)i.removeOptimizedTransition(i.numberOfOptimizedTransitions-1);for(let o of s)i.addOptimizedTransition(o)}}return gne.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" rule invocations by inlining sets."),t}static combineChainedEpsilons(e){let t=0;for(let r of e.states){if(!r.onlyHasEpsilonTransitions||r instanceof c5.RuleStopState)continue;let i;e:for(let s=0;s<r.numberOfOptimizedTransitions;s++){let o=r.getOptimizedTransition(s),a=o.target;if(o.serializationType!==1||o.outermostPrecedenceReturn!==-1||a.stateType!==Hf.ATNStateType.BASIC||!a.onlyHasEpsilonTransitions){i!==void 0&&i.push(o);continue e}for(let c=0;c<a.numberOfOptimizedTransitions;c++)if(a.getOptimizedTransition(c).serializationType!==1||a.getOptimizedTransition(c).outermostPrecedenceReturn!==-1){i!==void 0&&i.push(o);continue e}if(t++,i===void 0){i=[];for(let c=0;c<s;c++)i.push(r.getOptimizedTransition(c))}for(let c=0;c<a.numberOfOptimizedTransitions;c++){let d=a.getOptimizedTransition(c).target;i.push(new Yg.EpsilonTransition(d))}}if(i!==void 0){if(r.isOptimized)for(;r.numberOfOptimizedTransitions>0;)r.removeOptimizedTransition(r.numberOfOptimizedTransitions-1);for(let s of i)r.addOptimizedTransition(s)}}return gne.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" transitions by combining chained epsilon transitions."),t}static optimizeSets(e,t){if(t)return 0;let r=0,i=e.decisionToState;for(let s of i){let o=new mne.IntervalSet;for(let C=0;C<s.numberOfOptimizedTransitions;C++){let N=s.getOptimizedTransition(C);if(!(N instanceof Yg.EpsilonTransition)||N.target.numberOfOptimizedTransitions!==1)continue;let R=N.target.getOptimizedTransition(0);R.target instanceof Jj.BlockEndState&&(R instanceof xne.NotSetTransition||(R instanceof AS.AtomTransition||R instanceof cD.RangeTransition||R instanceof Xj.SetTransition)&&o.add(C))}if(o.size<=1)continue;let a=[];for(let C=0;C<s.numberOfOptimizedTransitions;C++)o.contains(C)||a.push(s.getOptimizedTransition(C));let c=s.getOptimizedTransition(o.minElement).target.getOptimizedTransition(0).target,d=new mne.IntervalSet;for(let C of o.intervals)for(let N=C.a;N<=C.b;N++){let R=s.getOptimizedTransition(N).target.getOptimizedTransition(0);if(R instanceof xne.NotSetTransition)throw new Error("Not yet implemented.");d.addAll(R.label)}let p;if(d.intervals.length===1)if(d.size===1)p=new AS.AtomTransition(c,d.minElement);else{let C=d.intervals[0];p=new cD.RangeTransition(c,C.a,C.b)}else p=new Xj.SetTransition(c,d);let b=new Kj.BasicState;if(b.setRuleIndex(s.ruleIndex),e.addState(b),b.addTransition(p),a.push(new Yg.EpsilonTransition(b)),r+=s.numberOfOptimizedTransitions-a.length,s.isOptimized)for(;s.numberOfOptimizedTransitions>0;)s.removeOptimizedTransition(s.numberOfOptimizedTransitions-1);for(let C of a)s.addOptimizedTransition(C)}return gne.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+r+" paths by collapsing sets."),r}static identifyTailCalls(e){for(let t of e.states){for(let r=0;r<t.numberOfTransitions;r++){let i=t.transition(r);i instanceof fD.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}if(!!t.isOptimized)for(let r=0;r<t.numberOfOptimizedTransitions;r++){let i=t.getOptimizedTransition(r);i instanceof fD.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}}}static testTailCall(e,t,r){if(!r&&t.tailCall||r&&t.optimizedTailCall)return!0;let i=new _6e.BitSet(e.states.length),s=[];for(s.push(t.followState);;){let o=s.pop();if(!o)break;if(i.get(o.stateNumber)||o instanceof c5.RuleStopState)continue;if(!o.onlyHasEpsilonTransitions)return!1;let a=r?o.numberOfOptimizedTransitions:o.numberOfTransitions;for(let c=0;c<a;c++){let d=r?o.getOptimizedTransition(c):o.transition(c);if(d.serializationType!==1)return!1;s.push(d.target)}}return!0}static toInt(e){return e}static toInt32(e,t){return(e[t]|e[t+1]<<16)>>>0}static toUUID(e,t){let r=Si.toInt32(e,t),i=Si.toInt32(e,t+2),s=Si.toInt32(e,t+4),o=Si.toInt32(e,t+6);return new Zj.UUID(o,s,i,r)}edgeFactory(e,t,r,i,s,o,a,c){let d=e.states[i];switch(t){case 1:return new Yg.EpsilonTransition(d);case 2:return a!==0?new cD.RangeTransition(d,bne.Token.EOF,o):new cD.RangeTransition(d,s,o);case 3:return new fD.RuleTransition(e.states[s],o,a,d);case 4:return new Hst.PredicateTransition(d,s,o,a!==0);case 10:return new zst.PrecedencePredicateTransition(d,s);case 5:return a!==0?new AS.AtomTransition(d,bne.Token.EOF):new AS.AtomTransition(d,s);case 6:return new hne.ActionTransition(d,s,o,a!==0);case 7:return new Xj.SetTransition(d,c[s]);case 8:return new xne.NotSetTransition(d,c[s]);case 9:return new Wst.WildcardTransition(d)}throw new Error("The specified transition type is not valid.")}stateFactory(e,t){let r;switch(e){case Hf.ATNStateType.INVALID_TYPE:return new E6e.InvalidState;case Hf.ATNStateType.BASIC:r=new Kj.BasicState;break;case Hf.ATNStateType.RULE_START:r=new w6e.RuleStartState;break;case Hf.ATNStateType.BLOCK_START:r=new v6e.BasicBlockStartState;break;case Hf.ATNStateType.PLUS_BLOCK_START:r=new yne.PlusBlockStartState;break;case Hf.ATNStateType.STAR_BLOCK_START:r=new vne.StarBlockStartState;break;case Hf.ATNStateType.TOKEN_START:r=new Vst.TokensStartState;break;case Hf.ATNStateType.RULE_STOP:r=new c5.RuleStopState;break;case Hf.ATNStateType.BLOCK_END:r=new Jj.BlockEndState;break;case Hf.ATNStateType.STAR_LOOP_BACK:r=new _ne.StarLoopbackState;break;case Hf.ATNStateType.STAR_LOOP_ENTRY:r=new FS.StarLoopEntryState;break;case Hf.ATNStateType.PLUS_LOOP_BACK:r=new C6e.PlusLoopbackState;break;case Hf.ATNStateType.LOOP_END:r=new TS.LoopEndState;break;default:let i=`The specified state type ${e} is not valid.`;throw new Error(i)}return r.ruleIndex=t,r}lexerActionFactory(e,t,r){switch(e){case 0:return new Mst.LexerChannelAction(t);case 1:return new S6e.LexerCustomAction(t,r);case 2:return new Pst.LexerModeAction(t);case 3:return Bst.LexerMoreAction.INSTANCE;case 4:return jst.LexerPopModeAction.INSTANCE;case 5:return new qst.LexerPushModeAction(t);case 6:return Ust.LexerSkipAction.INSTANCE;case 7:return new $st.LexerTypeAction(t);default:let i=`The specified lexer action type ${e} is not valid.`;throw new Error(i)}}};Si.BASE_SERIALIZED_UUID=Zj.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3");Si.ADDED_LEXER_ACTIONS=Zj.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D");Si.ADDED_UNICODE_SMP=Zj.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B");Si.SUPPORTED_UUIDS=[Si.BASE_SERIALIZED_UUID,Si.ADDED_LEXER_ACTIONS,Si.ADDED_UNICODE_SMP];Si.SERIALIZED_UUID=Si.ADDED_UNICODE_SMP;Yj([lD.NotNull],Si.prototype,"deserializationOptions",void 0);Yj([dne(0,lD.NotNull)],Si.prototype,"deserialize",null);Yj([dne(0,lD.NotNull)],Si.prototype,"markPrecedenceDecisions",null);Yj([lD.NotNull,dne(0,lD.NotNull)],Si.prototype,"edgeFactory",null);f5.ATNDeserializer=Si});var T6e=we(d5=>{"use strict";m();var Ene=d5&&d5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Qst=d5&&d5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(d5,"__esModule",{value:!0});d5.ParseInfo=void 0;var Sne=Cr(),hD=class{constructor(e){this.atnSimulator=e}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let e=this.atnSimulator.getDecisionInfo(),t=[];for(let r=0;r<e.length;r++)e[r].LL_Fallback>0&&t.push(r);return t}getTotalTimeInPrediction(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.timeInPrediction;return t}getTotalSLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_TotalLook;return t}getTotalLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_TotalLook;return t}getTotalSLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions;return t}getTotalLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_ATNTransitions;return t}getTotalATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions,t+=r.LL_ATNTransitions;return t}getDFASize(e){if(e)return this.atnSimulator.atn.decisionToDFA[e].states.size;{let t=0,r=this.atnSimulator.atn.decisionToDFA;for(let i=0;i<r.length;i++)t+=this.getDFASize(i);return t}}};Ene([Sne.NotNull],hD.prototype,"getDecisionInfo",null);Ene([Sne.NotNull],hD.prototype,"getLLDecisions",null);hD=Ene([Qst(0,Sne.NotNull)],hD);d5.ParseInfo=hD});var Ane=we(DS=>{"use strict";m();var Cne=DS&&DS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(DS,"__esModule",{value:!0});DS.ProxyParserErrorListener=void 0;var Gst=gj(),wne=Cr(),pD=class extends Gst.ProxyErrorListener{constructor(e){super(e)}reportAmbiguity(e,t,r,i,s,o,a){this.getDelegates().forEach(c=>{c.reportAmbiguity&&c.reportAmbiguity(e,t,r,i,s,o,a)})}reportAttemptingFullContext(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportAttemptingFullContext&&a.reportAttemptingFullContext(e,t,r,i,s,o)})}reportContextSensitivity(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportContextSensitivity&&a.reportContextSensitivity(e,t,r,i,s,o)})}};Cne([wne.Override],pD.prototype,"reportAmbiguity",null);Cne([wne.Override],pD.prototype,"reportAttemptingFullContext",null);Cne([wne.Override],pD.prototype,"reportContextSensitivity",null);DS.ProxyParserErrorListener=pD});var F6e=we(h5=>{"use strict";m();Object.defineProperty(h5,"__esModule",{value:!0});h5.isSupplementaryCodePoint=h5.isLowSurrogate=h5.isHighSurrogate=void 0;function Yst(n){return n>=55296&&n<=56319}h5.isHighSurrogate=Yst;function Kst(n){return n>=56320&&n<=57343}h5.isLowSurrogate=Kst;function Jst(n){return n>=65536}h5.isSupplementaryCodePoint=Jst});var Tne=we(NS=>{"use strict";m();Object.defineProperty(NS,"__esModule",{value:!0});NS.CodePointBuffer=void 0;var D6e=A0(),mD=F6e(),OS=class{constructor(e,t){this.buffer=e,this._position=0,this._size=t}static withArray(e){return new OS(e,e.length)}get position(){return this._position}set position(e){if(e<0||e>this._size)throw new RangeError;this._position=e}get remaining(){return this._size-this.position}get(e){return this.buffer[e]}array(){return this.buffer.slice(0,this._size)}static builder(e){return new OS.Builder(e)}};NS.CodePointBuffer=OS;(function(n){let e;(function(r){r[r.BYTE=0]="BYTE",r[r.CHAR=1]="CHAR",r[r.INT=2]="INT"})(e||(e={}));class t{constructor(i){this.type=0,this.buffer=new Uint8Array(i),this.prevHighSurrogate=-1,this.position=0}build(){return new n(this.buffer,this.position)}static roundUpToNextPowerOfTwo(i){let s=32-Math.clz32(i-1);return Math.pow(2,s)}ensureRemaining(i){switch(this.type){case 0:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint8Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 1:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint16Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 2:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Int32Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break}}append(i){this.ensureRemaining(i.length),this.appendArray(i)}appendArray(i){switch(this.type){case 0:this.appendArrayByte(i);break;case 1:this.appendArrayChar(i);break;case 2:this.appendArrayInt(i);break}}appendArrayByte(i){D6e(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,c=this.buffer,d=this.position;for(;o<a;){let p=s[o];if(p<=255)c[d]=p;else if(i=i.subarray(o,a),this.position=d,mD.isHighSurrogate(p)){this.byteToIntBuffer(i.length),this.appendArrayInt(i);return}else{this.byteToCharBuffer(i.length),this.appendArrayChar(i);return}o++,d++}this.position=d}appendArrayChar(i){D6e(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,c=this.buffer,d=this.position;for(;o<a;){let p=s[o];if(!mD.isHighSurrogate(p))c[d]=p;else{i=i.subarray(o,a),this.position=d,this.charToIntBuffer(i.length),this.appendArrayInt(i);return}o++,d++}this.position=d}appendArrayInt(i){let s=i,o=0,a=i.length,c=this.buffer,d=this.position;for(;o<a;){let p=s[o];o++,this.prevHighSurrogate!==-1?mD.isLowSurrogate(p)?(c[d]=String.fromCharCode(this.prevHighSurrogate,p).codePointAt(0),d++,this.prevHighSurrogate=-1):(c[d]=this.prevHighSurrogate,d++,mD.isHighSurrogate(p)?this.prevHighSurrogate=p:(c[d]=p,d++,this.prevHighSurrogate=-1)):mD.isHighSurrogate(p)?this.prevHighSurrogate=p:(c[d]=p,d++)}this.prevHighSurrogate!==-1&&(c[d]=this.prevHighSurrogate,d++),this.position=d}byteToCharBuffer(i){let s=new Uint16Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=s}byteToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>2));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}charToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}}n.Builder=t})(OS=NS.CodePointBuffer||(NS.CodePointBuffer={}))});var Fne=we(RS=>{"use strict";m();var Zm=RS&&RS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(RS,"__esModule",{value:!0});RS.CodePointCharStream=void 0;var O6e=A0(),eq=wg(),Xst=D0(),ex=Cr(),fh=class{constructor(e,t,r,i){O6e(t===0),this._array=e,this._size=r,this._name=i,this._position=0}get internalStorage(){return this._array}static fromBuffer(e,t){return(t===void 0||t.length===0)&&(t=eq.IntStream.UNKNOWN_SOURCE_NAME),new fh(e.array(),e.position,e.remaining,t)}consume(){if(this._size-this._position===0)throw O6e(this.LA(1)===eq.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(e){}seek(e){this._position=e}get sourceName(){return this._name}toString(){return this.getText(Xst.Interval.of(0,this.size-1))}LA(e){let t;switch(Math.sign(e)){case-1:return t=this.index+e,t<0?eq.IntStream.EOF:this._array[t];case 0:return 0;case 1:return t=this.index+e-1,t>=this.size?eq.IntStream.EOF:this._array[t]}throw new RangeError("Not reached")}getText(e){let t=Math.min(e.a,this.size),r=Math.min(e.b-e.a+1,this.size-t);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(t,t+r))):String.fromCharCode(...Array.from(this._array.subarray(t,t+r)))}};Zm([ex.Override],fh.prototype,"consume",null);Zm([ex.Override],fh.prototype,"index",null);Zm([ex.Override],fh.prototype,"size",null);Zm([ex.Override],fh.prototype,"mark",null);Zm([ex.Override],fh.prototype,"release",null);Zm([ex.Override],fh.prototype,"seek",null);Zm([ex.Override],fh.prototype,"sourceName",null);Zm([ex.Override],fh.prototype,"toString",null);Zm([ex.Override],fh.prototype,"LA",null);Zm([ex.Override],fh.prototype,"getText",null);RS.CodePointCharStream=fh});var tq=we(xD=>{"use strict";m();Object.defineProperty(xD,"__esModule",{value:!0});xD.CharStreams=void 0;var Zst=Tne(),eot=Fne(),tot=wg(),not;(function(n){function e(t,r){(r===void 0||r.length===0)&&(r=tot.IntStream.UNKNOWN_SOURCE_NAME);let i=Zst.CodePointBuffer.builder(t.length),s=new Uint16Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return i.append(s),eot.CodePointCharStream.fromBuffer(i.build(),r)}n.fromString=e})(not=xD.CharStreams||(xD.CharStreams={}))});var Nne=we(p5=>{"use strict";m();var md=p5&&p5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},rot=p5&&p5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(p5,"__esModule",{value:!0});p5.BufferedTokenStream=void 0;var N6e=A0(),R6e=E8(),Dne=D0(),One=jg(),pf=Cr(),y6=iu(),Vf=class{constructor(e){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,e==null)throw new Error("tokenSource cannot be null");this._tokenSource=e}get tokenSource(){return this._tokenSource}set tokenSource(e){this._tokenSource=e,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(e){}seek(e){this.lazyInit(),this.p=this.adjustSeekIndex(e)}get size(){return this.tokens.length}consume(){let e;if(this.p>=0?this.fetchedEOF?e=this.p<this.tokens.length-1:e=this.p<this.tokens.length:e=!1,!e&&this.LA(1)===y6.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(e){N6e(e>=0);let t=e-this.tokens.length+1;return t>0?this.fetch(t)>=t:!0}fetch(e){if(this.fetchedEOF)return 0;for(let t=0;t<e;t++){let r=this.tokenSource.nextToken();if(this.isWritableToken(r)&&(r.tokenIndex=this.tokens.length),this.tokens.push(r),r.type===y6.Token.EOF)return this.fetchedEOF=!0,t+1}return e}get(e){if(e<0||e>=this.tokens.length)throw new RangeError("token index "+e+" out of range 0.."+(this.tokens.length-1));return this.tokens[e]}getRange(e,t){if(e<0||t<0)return[];this.lazyInit();let r=new Array;t>=this.tokens.length&&(t=this.tokens.length-1);for(let i=e;i<=t;i++){let s=this.tokens[i];if(s.type===y6.Token.EOF)break;r.push(s)}return r}LA(e){let t=this.LT(e);return t?t.type:y6.Token.INVALID_TYPE}tryLB(e){if(!(this.p-e<0))return this.tokens[this.p-e]}LT(e){let t=this.tryLT(e);if(t===void 0)throw new RangeError("requested lookback index out of range");return t}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p+e-1;return this.sync(t),t>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[t]}adjustSeekIndex(e){return e}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(e,t,r){if(this.lazyInit(),e===void 0)return N6e(t===void 0&&r===void 0),this.tokens;if(t===void 0&&(t=this.tokens.length-1),e<0||t>=this.tokens.length||t<0||e>=this.tokens.length)throw new RangeError("start "+e+" or stop "+t+" not in 0.."+(this.tokens.length-1));if(e>t)return[];if(r===void 0)return this.tokens.slice(e,t+1);typeof r=="number"&&(r=new Set().add(r));let i=r,s=this.tokens.slice(e,t+1);return s=s.filter(o=>i.has(o.type)),s}nextTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;let r=this.tokens[e];for(;r.channel!==t;){if(r.type===y6.Token.EOF)return e;e++,this.sync(e),r=this.tokens[e]}return e}previousTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;for(;e>=0;){let r=this.tokens[e];if(r.type===y6.Token.EOF||r.channel===t)return e;e--}return e}getHiddenTokensToRight(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));let r=this.nextTokenOnChannel(e+1,One.Lexer.DEFAULT_TOKEN_CHANNEL),i,s=e+1;return r===-1?i=this.size-1:i=r,this.filterForChannel(s,i,t)}getHiddenTokensToLeft(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));if(e===0)return[];let r=this.previousTokenOnChannel(e-1,One.Lexer.DEFAULT_TOKEN_CHANNEL);if(r===e-1)return[];let i=r+1,s=e-1;return this.filterForChannel(i,s,t)}filterForChannel(e,t,r){let i=new Array;for(let s=e;s<=t;s++){let o=this.tokens[s];r===-1?o.channel!==One.Lexer.DEFAULT_TOKEN_CHANNEL&&i.push(o):o.channel===r&&i.push(o)}return i}get sourceName(){return this.tokenSource.sourceName}getText(e){e===void 0?e=Dne.Interval.of(0,this.size-1):e instanceof Dne.Interval||(e=e.sourceInterval);let t=e.a,r=e.b;if(t<0||r<0)return"";this.fill(),r>=this.tokens.length&&(r=this.tokens.length-1);let i="";for(let s=t;s<=r;s++){let o=this.tokens[s];if(o.type===y6.Token.EOF)break;i+=o.text}return i.toString()}getTextFromRange(e,t){return this.isToken(e)&&this.isToken(t)?this.getText(Dne.Interval.of(e.tokenIndex,t.tokenIndex)):""}fill(){this.lazyInit();let e=1e3;for(;;)if(this.fetch(e)<e)return}isWritableToken(e){return e instanceof R6e.CommonToken}isToken(e){return e instanceof R6e.CommonToken}};md([pf.NotNull],Vf.prototype,"_tokenSource",void 0);md([pf.Override],Vf.prototype,"tokenSource",null);md([pf.Override],Vf.prototype,"index",null);md([pf.Override],Vf.prototype,"mark",null);md([pf.Override],Vf.prototype,"release",null);md([pf.Override],Vf.prototype,"seek",null);md([pf.Override],Vf.prototype,"size",null);md([pf.Override],Vf.prototype,"consume",null);md([pf.Override],Vf.prototype,"get",null);md([pf.Override],Vf.prototype,"LA",null);md([pf.NotNull,pf.Override],Vf.prototype,"LT",null);md([pf.Override],Vf.prototype,"sourceName",null);md([pf.NotNull,pf.Override],Vf.prototype,"getText",null);md([pf.NotNull,pf.Override],Vf.prototype,"getTextFromRange",null);Vf=md([rot(0,pf.NotNull)],Vf);p5.BufferedTokenStream=Vf});var iq=we(m5=>{"use strict";m();var nq=m5&&m5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},iot=m5&&m5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(m5,"__esModule",{value:!0});m5.CommonTokenStream=void 0;var sot=Nne(),rq=Cr(),L6e=iu(),LS=class extends sot.BufferedTokenStream{constructor(e,t=L6e.Token.DEFAULT_CHANNEL){super(e);this.channel=t}adjustSeekIndex(e){return this.nextTokenOnChannel(e,this.channel)}tryLB(e){if(this.p-e<0)return;let t=this.p,r=1;for(;r<=e&&t>0;)t=this.previousTokenOnChannel(t-1,this.channel),r++;if(!(t<0))return this.tokens[t]}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p,r=1;for(;r<e;)this.sync(t+1)&&(t=this.nextTokenOnChannel(t+1,this.channel)),r++;return this.tokens[t]}getNumberOfOnChannelTokens(){let e=0;this.fill();for(let t of this.tokens)if(t.channel===this.channel&&e++,t.type===L6e.Token.EOF)break;return e}};nq([rq.Override],LS.prototype,"adjustSeekIndex",null);nq([rq.Override],LS.prototype,"tryLB",null);nq([rq.Override],LS.prototype,"tryLT",null);LS=nq([iot(0,rq.NotNull)],LS);m5.CommonTokenStream=LS});var Lne=we(x5=>{"use strict";m();var v6=x5&&x5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},k6e=x5&&x5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(x5,"__esModule",{value:!0});x5.ListTokenSource=void 0;var oot=tj(),Kg=Cr(),Rne=iu(),Jg=class{constructor(e,t){if(this.i=0,this._factory=oot.CommonTokenFactory.DEFAULT,e==null)throw new Error("tokens cannot be null");this.tokens=e,this._sourceName=t}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.text;if(t!=null){let r=t.lastIndexOf(`
`);if(r>=0)return t.length-r-1}return e.charPositionInLine+e.stopIndex-e.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let t=-1;if(this.tokens.length>0){let i=this.tokens[this.tokens.length-1].stopIndex;i!==-1&&(t=i+1)}let r=Math.max(-1,t-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},Rne.Token.EOF,"EOF",Rne.Token.DEFAULT_CHANNEL,t,r,this.line,this.charPositionInLine)}return this.eofToken}let e=this.tokens[this.i];return this.i===this.tokens.length-1&&e.type===Rne.Token.EOF&&(this.eofToken=e),this.i++,e}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.line,r=e.text;if(r!=null)for(let i=0;i<r.length;i++)r.charAt(i)===`
`&&t++;return t}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let e=this.inputStream;return e!=null?e.sourceName:"List"}set tokenFactory(e){this._factory=e}get tokenFactory(){return this._factory}};v6([Kg.Override],Jg.prototype,"charPositionInLine",null);v6([Kg.Override],Jg.prototype,"nextToken",null);v6([Kg.Override],Jg.prototype,"line",null);v6([Kg.Override],Jg.prototype,"inputStream",null);v6([Kg.Override],Jg.prototype,"sourceName",null);v6([Kg.Override,Kg.NotNull,k6e(0,Kg.NotNull)],Jg.prototype,"tokenFactory",null);Jg=v6([k6e(0,Kg.NotNull)],Jg);x5.ListTokenSource=Jg});var M6e=we(sq=>{"use strict";m();Object.defineProperty(sq,"__esModule",{value:!0});sq.MultiMap=void 0;var I6e=class extends Map{constructor(){super()}map(e,t){let r=super.get(e);r||(r=[],super.set(e,r)),r.push(t)}getPairs(){let e=[];return this.forEach((t,r)=>{t.forEach(i=>{e.push([r,i])})}),e}};sq.MultiMap=I6e});var kne=we(oq=>{"use strict";m();Object.defineProperty(oq,"__esModule",{value:!0});oq.ParseCancellationException=void 0;var P6e=class extends Error{constructor(e){super(e.message);this.cause=e,this.stack=e.stack}getCause(){return this.cause}};oq.ParseCancellationException=P6e});var Mne=we(kS=>{"use strict";m();var aot=kS&&kS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(kS,"__esModule",{value:!0});kS.InterpreterRuleContext=void 0;var uot=Cr(),lot=n1(),Ine=class extends lot.ParserRuleContext{constructor(e,t,r){r!==void 0?super(t,r):super(),this._ruleIndex=e}get ruleIndex(){return this._ruleIndex}};aot([uot.Override],Ine.prototype,"ruleIndex",null);kS.InterpreterRuleContext=Ine});var Bne=we(y5=>{"use strict";m();var g5=y5&&y5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},cot=y5&&y5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(y5,"__esModule",{value:!0});y5.ParserInterpreter=void 0;var fot=Nm(),dot=df(),hot=Ng(),B6e=TF(),pot=FF(),mot=Mne(),xot=Vte(),j6e=Cr(),IS=Cr(),got=pS(),q6e=vS(),yot=Tg(),vot=_j(),gD=iu(),tx=class Pne extends got.Parser{constructor(e,t,r,i,s){super(e instanceof Pne?e.inputStream:s);if(this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,e instanceof Pne){let o=e;this._grammarFileName=o._grammarFileName,this._atn=o._atn,this.pushRecursionContextStates=o.pushRecursionContextStates,this._ruleNames=o._ruleNames,this._vocabulary=o._vocabulary,this.interpreter=new q6e.ParserATNSimulator(this._atn,this)}else{t=t,r=r,i=i,this._grammarFileName=e,this._atn=i,this._ruleNames=r.slice(0),this._vocabulary=t,this.pushRecursionContextStates=new hot.BitSet(i.states.length);for(let o of i.states)o instanceof vot.StarLoopEntryState&&o.precedenceRuleDecision&&this.pushRecursionContextStates.set(o.stateNumber);this.interpreter=new q6e.ParserATNSimulator(i,this)}}reset(e){e===void 0?super.reset():super.reset(e),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(e){let t=this._atn.ruleToStartState[e];for(this._rootContext=this.createInterpreterRuleContext(void 0,fot.ATNState.INVALID_STATE_NUMBER,e),t.isPrecedenceRule?this.enterRecursionRule(this._rootContext,t.stateNumber,e,0):this.enterRule(this._rootContext,t.stateNumber,e);;){let r=this.atnState;switch(r.stateType){case dot.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(t.isPrecedenceRule){let i=this._ctx,s=this._parentContextStack.pop();return this.unrollRecursionContexts(s[0]),i}else return this.exitRule(),this._rootContext;this.visitRuleStopState(r);break;default:try{this.visitState(r)}catch(i){if(i instanceof yot.RecognitionException)this.state=this._atn.ruleToStopState[r.ruleIndex].stateNumber,this.context.exception=i,this.errorHandler.reportError(this,i),this.recover(i);else throw i}break}}}enterRecursionRule(e,t,r,i){this._parentContextStack.push([this._ctx,e.invokingState]),super.enterRecursionRule(e,t,r,i)}get atnState(){return this._atn.states[this.state]}visitState(e){let t=1;e.numberOfTransitions>1&&(t=this.visitDecisionState(e));let r=e.transition(t-1);switch(r.serializationType){case 1:if(this.pushRecursionContextStates.get(e.stateNumber)&&!(r.target instanceof xot.LoopEndState)){let d=this._parentContextStack[this._parentContextStack.length-1],p=this.createInterpreterRuleContext(d[0],d[1],this._ctx.ruleIndex);this.pushNewRecursionContext(p,this._atn.ruleToStartState[e.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(r._label);break;case 2:case 7:case 8:r.matches(this._input.LA(1),gD.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let i=r.target,s=i.ruleIndex,o=this.createInterpreterRuleContext(this._ctx,e.stateNumber,s);i.isPrecedenceRule?this.enterRecursionRule(o,i.stateNumber,s,r.precedence):this.enterRule(o,r.target.stateNumber,s);break;case 4:let a=r;if(!this.sempred(this._ctx,a.ruleIndex,a.predIndex))throw new B6e.FailedPredicateException(this);break;case 6:let c=r;this.action(this._ctx,c.ruleIndex,c.actionIndex);break;case 10:if(!this.precpred(this._ctx,r.precedence)){let d=r.precedence;throw new B6e.FailedPredicateException(this,`precpred(_ctx, ${d})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=r.target.stateNumber}visitDecisionState(e){let t;this.errorHandler.sync(this);let r=e.decision;return r===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(t=this.overrideDecisionAlt,this.overrideDecisionReached=!0):t=this.interpreter.adaptivePredict(this._input,r,this._ctx),t}createInterpreterRuleContext(e,t,r){return new mot.InterpreterRuleContext(r,e,t)}visitRuleStopState(e){if(this._atn.ruleToStartState[e.ruleIndex].isPrecedenceRule){let i=this._parentContextStack.pop();this.unrollRecursionContexts(i[0]),this.state=i[1]}else this.exitRule();let r=this._atn.states[this.state].transition(0);this.state=r.followState.stateNumber}addDecisionOverride(e,t,r){this.overrideDecision=e,this.overrideDecisionInputIndex=t,this.overrideDecisionAlt=r}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(e){let t=this._input.index;if(this.errorHandler.recover(this,e),this._input.index===t){let r=e.getOffendingToken();if(!r)throw new Error("Expected exception to have an offending token");let i=r.tokenSource,s=i!==void 0?i.inputStream:void 0,o={source:i,stream:s};if(e instanceof pot.InputMismatchException){let a=e.expectedTokens;if(a===void 0)throw new Error("Expected the exception to provide expected tokens");let c=gD.Token.INVALID_TYPE;a.isNil||(c=a.minElement);let d=this.tokenFactory.create(o,c,r.text,gD.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,d))}else{let a=r.tokenSource,c=this.tokenFactory.create(o,gD.Token.INVALID_TYPE,r.text,gD.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,c))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};g5([j6e.NotNull],tx.prototype,"_vocabulary",void 0);g5([IS.Override],tx.prototype,"reset",null);g5([IS.Override],tx.prototype,"atn",null);g5([IS.Override],tx.prototype,"vocabulary",null);g5([IS.Override],tx.prototype,"ruleNames",null);g5([IS.Override],tx.prototype,"grammarFileName",null);g5([IS.Override],tx.prototype,"enterRecursionRule",null);tx=g5([cot(1,j6e.NotNull)],tx);y5.ParserInterpreter=tx});var U6e=we(_5=>{"use strict";m();var MS=_5&&_5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},aq=_5&&_5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(_5,"__esModule",{value:!0});_5.ParseTreeMatch=void 0;var Xg=Cr(),v5=class{constructor(e,t,r,i){if(!e)throw new Error("tree cannot be null");if(!t)throw new Error("pattern cannot be null");if(!r)throw new Error("labels cannot be null");this._tree=e,this._pattern=t,this._labels=r,this._mismatchedNode=i}get(e){let t=this._labels.get(e);if(!(!t||t.length===0))return t[t.length-1]}getAll(e){let t=this._labels.get(e);return t||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};MS([Xg.NotNull,aq(0,Xg.NotNull)],v5.prototype,"getAll",null);MS([Xg.NotNull],v5.prototype,"labels",null);MS([Xg.NotNull],v5.prototype,"pattern",null);MS([Xg.NotNull],v5.prototype,"tree",null);MS([Xg.Override],v5.prototype,"toString",null);v5=MS([aq(0,Xg.NotNull),aq(1,Xg.NotNull),aq(2,Xg.NotNull)],v5);_5.ParseTreeMatch=v5});var z6e=we(uq=>{"use strict";m();Object.defineProperty(uq,"__esModule",{value:!0});uq.XPathLexer=void 0;var _ot=dD(),bot=jg(),Eot=YF(),Sot=Ig(),$6e=c2(),jo=class extends bot.Lexer{constructor(e){super(e);this._interp=new Eot.LexerATNSimulator(jo._ATN,this)}get vocabulary(){return jo.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return jo.ruleNames}get serializedATN(){return jo._serializedATN}get channelNames(){return jo.channelNames}get modeNames(){return jo.modeNames}action(e,t,r){switch(t){case 4:this.ID_action(e,r);break}}ID_action(e,t){switch(t){case 0:let r=this.text;r.charAt(0)===r.charAt(0).toUpperCase()?this.type=jo.TOKEN_REF:this.type=jo.RULE_REF;break}}static get _ATN(){return jo.__ATN||(jo.__ATN=new _ot.ATNDeserializer().deserialize($6e.toCharArray(jo._serializedATN))),jo.__ATN}};uq.XPathLexer=jo;jo.TOKEN_REF=1;jo.RULE_REF=2;jo.ANYWHERE=3;jo.ROOT=4;jo.WILDCARD=5;jo.BANG=6;jo.ID=7;jo.STRING=8;jo.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];jo.modeNames=["DEFAULT_MODE"];jo.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"];jo._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"];jo._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"];jo.VOCABULARY=new Sot.VocabularyImpl(jo._LITERAL_NAMES,jo._SYMBOLIC_NAMES,[]);jo._serializedATNSegments=2;jo._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r
\u02B6
2;C\\aac|\x81\xA1\xAC\xAC\xAF\xAF\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0302\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u0485\u0489\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u0593\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0602\u0607\u0612\u061C\u061E\u061E\u0622\u066B\u0670\u06D5\u06D7\u06DF\u06E1\u06EA\u06EC\u06FE\u0701\u0701\u0711\u074C\u074F\u07B3\u07C2\u07F7\u07FC\u07FC\u0802\u082F\u0842\u085D\u08A2\u08B6\u08B8\u08BF\u08D6\u0965\u0968\u0971\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BE\u09C6\u09C9\u09CA\u09CD\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09E8\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A3E\u0A3E\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4F\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A68\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABE\u0AC7\u0AC9\u0ACB\u0ACD\u0ACF\u0AD2\u0AD2\u0AE2\u0AE5\u0AE8\u0AF1\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3E\u0B46\u0B49\u0B4A\u0B4D\u0B4F\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B68\u0B71\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCF\u0BD2\u0BD2\u0BD9\u0BD9\u0BE8\u0BF1\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4F\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C68\u0C71\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBE\u0CC6\u0CC8\u0CCA\u0CCC\u0CCF\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CE8\u0CF1\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D50\u0D56\u0D59\u0D61\u0D65\u0D68\u0D71\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DCC\u0DCC\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DE8\u0DF1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E50\u0E52\u0E5B\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECA\u0ECF\u0ED2\u0EDB\u0EDE\u0EE1\u0F02\u0F02\u0F1A\u0F1B\u0F22\u0F2B\u0F37\u0F37\u0F39\u0F39\u0F3B\u0F3B\u0F40\u0F49\u0F4B\u0F6E\u0F73\u0F86\u0F88\u0F99\u0F9B\u0FBE\u0FC8\u0FC8\u1002\u104B\u1052\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u135F\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1716\u1722\u1736\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17D5\u17D9\u17D9\u17DE\u17DF\u17E2\u17EB\u180D\u1810\u1812\u181B\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193D\u1948\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u19D2\u19DB\u1A02\u1A1D\u1A22\u1A60\u1A62\u1A7E\u1A81\u1A8B\u1A92\u1A9B\u1AA9\u1AA9\u1AB2\u1ABF\u1B02\u1B4D\u1B52\u1B5B\u1B6D\u1B75\u1B82\u1BF5\u1C02\u1C39\u1C42\u1C4B\u1C4F\u1C7F\u1C82\u1C8A\u1CD2\u1CD4\u1CD6\u1CF8\u1CFA\u1CFB\u1D02\u1DF7\u1DFD\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u200D\u2011\u202C\u2030\u2041\u2042\u2056\u2056\u2062\u2066\u2068\u2071\u2073\u2073\u2081\u2081\u2092\u209E\u20D2\u20DE\u20E3\u20E3\u20E7\u20F2\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D81\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u3031\u3033\u3037\u303A\u303E\u3043\u3098\u309B\u309C\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA62D\uA642\uA671\uA676\uA67F\uA681\uA6F3\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA829\uA842\uA875\uA882\uA8C7\uA8D2\uA8DB\uA8E2\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA902\uA92F\uA932\uA955\uA962\uA97E\uA982\uA9C2\uA9D1\uA9DB\uA9E2\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA52\uAA5B\uAA62\uAA78\uAA7C\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF8\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uABEE\uABEF\uABF2\uABFB\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE02\uFE11\uFE22\uFE31\uFE35\uFE36\uFE4F\uFE51\uFE72\uFE76\uFE78\uFEFE\uFF01\uFF01\uFF12\uFF1B\uFF23\uFF3C\uFF41\uFF41\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\uFFFB\uFFFD\r(*<>?AOR_\x82\xFC\u0142\u0176\u01FF\u01FF\u0282\u029E\u02A2\u02D2\u02E2\u02E2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04A2\u04AB\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A3A\u0A3C\u0A41\u0A41\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE8\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1048\u1068\u1071\u1081\u10BC\u10BF\u10BF\u10D2\u10EA\u10F2\u10FB\u1102\u1136\u1138\u1141\u1152\u1175\u1178\u1178\u1182\u11C6\u11CC\u11CE\u11D2\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EC\u12F2\u12FB\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133E\u1346\u1349\u134A\u134D\u134F\u1352\u1352\u1359\u1359\u135F\u1365\u1368\u136E\u1372\u1376\u1402\u144C\u1452\u145B\u1482\u14C7\u14C9\u14C9\u14D2\u14DB\u1582\u15B7\u15BA\u15C2\u15DA\u15DF\u1602\u1642\u1646\u1646\u1652\u165B\u1682\u16B9\u16C2\u16CB\u1702\u171B\u171F\u172D\u1732\u173B\u18A2\u18EB\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C42\u1C52\u1C5B\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6A62\u6A6B\u6AD2\u6AEF\u6AF2\u6AF6\u6B02\u6B38\u6B42\u6B45\u6B52\u6B5B\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F91\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBC9F\uBCA0\uBCA2\uBCA5\uD167\uD16B\uD16F\uD184\uD187\uD18D\uD1AC\uD1AF\uD244\uD246\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uD7D0\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE8D2\uE8D8\uE902\uE94C\uE952\uE95B\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F"\x81\u0102\u01F1\u0240C\\c|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05D2\u05EC\u05F2\u05F4\u0622\u064C\u0670\u0671\u0673\u06D5\u06D7\u06D7\u06E7\u06E8\u06F0\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0712\u0714\u0731\u074F\u07A7\u07B3\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0817\u081C\u081C\u0826\u0826\u082A\u082A\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u0906\u093B\u093F\u093F\u0952\u0952\u095A\u0963\u0973\u0982\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09BF\u09D0\u09D0\u09DE\u09DF\u09E1\u09E3\u09F2\u09F3\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A5B\u0A5E\u0A60\u0A60\u0A74\u0A76\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0ABF\u0AD2\u0AD2\u0AE2\u0AE3\u0AFB\u0AFB\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B3F\u0B5E\u0B5F\u0B61\u0B63\u0B73\u0B73\u0B85\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BD2\u0BD2\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C3F\u0C5A\u0C5C\u0C62\u0C63\u0C82\u0C82\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CBF\u0CE0\u0CE0\u0CE2\u0CE3\u0CF3\u0CF4\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D3F\u0D50\u0D50\u0D56\u0D58\u0D61\u0D63\u0D7C\u0D81\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0E03\u0E32\u0E34\u0E35\u0E42\u0E48\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EB2\u0EB4\u0EB5\u0EBF\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F8A\u0F8E\u1002\u102C\u1041\u1041\u1052\u1057\u105C\u105F\u1063\u1063\u1067\u1068\u1070\u1072\u1077\u1083\u1090\u1090\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1713\u1722\u1733\u1742\u1753\u1762\u176E\u1770\u1772\u1782\u17B5\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u1886\u1889\u18AA\u18AC\u18AC\u18B2\u18F7\u1902\u1920\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A18\u1A22\u1A56\u1AA9\u1AA9\u1B07\u1B35\u1B47\u1B4D\u1B85\u1BA2\u1BB0\u1BB1\u1BBC\u1BE7\u1C02\u1C25\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF3\u1CF7\u1CF8\u1D02\u1DC1\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA681\uA69F\uA6A2\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA824\uA842\uA875\uA884\uA8B5\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA927\uA932\uA948\uA962\uA97E\uA986\uA9B4\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA2A\uAA42\uAA44\uAA46\uAA4D\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAB1\uAAB3\uAAB3\uAAB7\uAAB8\uAABB\uAABF\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAEC\uAAF4\uAAF6\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABE4\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB1F\uFB21\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u0377\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A02\u0A12\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1005\u1039\u1085\u10B1\u10D2\u10EA\u1105\u1128\u1152\u1174\u1178\u1178\u1185\u11B4\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u122D\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12E0\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u133F\u1352\u1352\u135F\u1363\u1402\u1436\u1449\u144C\u1482\u14B1\u14C6\u14C7\u14C9\u14C9\u1582\u15B0\u15DA\u15DD\u1602\u1631\u1646\u1646\u1682\u16AC\u1702\u171B\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C30\u1C42\u1C42\u1C74\u1C91\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B31\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F52\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548`;jo._serializedATNSegment1=`\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE802\uE8C6\uE902\uE945\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`;jo._serializedATN=$6e.join([jo._serializedATNSegment0,jo._serializedATNSegment1],"")});var H6e=we(PS=>{"use strict";m();var Cot=PS&&PS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(PS,"__esModule",{value:!0});PS.XPathLexerErrorListener=void 0;var wot=Cr(),jne=class{syntaxError(e,t,r,i,s,o){}};Cot([wot.Override],jne.prototype,"syntaxError",null);PS.XPathLexerErrorListener=jne});var _6=we(BS=>{"use strict";m();var Aot=BS&&BS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(BS,"__esModule",{value:!0});BS.XPathElement=void 0;var Tot=Cr(),qne=class{constructor(e){this.nodeName=e,this.invert=!1}toString(){let e=this.invert?"!":"";return Object.constructor.name+"["+e+this.nodeName+"]"}};Aot([Tot.Override],qne.prototype,"toString",null);BS.XPathElement=qne});var V6e=we(jS=>{"use strict";m();var Fot=jS&&jS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(jS,"__esModule",{value:!0});jS.XPathRuleAnywhereElement=void 0;var Dot=Cr(),Oot=Wg(),Not=_6(),Une=class extends Not.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){return Oot.Trees.findAllRuleNodes(e,this.ruleIndex)}};Fot([Dot.Override],Une.prototype,"evaluate",null);jS.XPathRuleAnywhereElement=Une});var W6e=we(qS=>{"use strict";m();var Rot=qS&&qS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(qS,"__esModule",{value:!0});qS.XPathRuleElement=void 0;var Lot=n1(),kot=Cr(),Iot=Wg(),Mot=_6(),$ne=class extends Mot.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){let t=[];for(let r of Iot.Trees.getChildren(e))r instanceof Lot.ParserRuleContext&&(r.ruleIndex===this.ruleIndex&&!this.invert||r.ruleIndex!==this.ruleIndex&&this.invert)&&t.push(r);return t}};Rot([kot.Override],$ne.prototype,"evaluate",null);qS.XPathRuleElement=$ne});var Q6e=we(US=>{"use strict";m();var Pot=US&&US.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(US,"__esModule",{value:!0});US.XPathTokenAnywhereElement=void 0;var Bot=Cr(),jot=Wg(),qot=_6(),zne=class extends qot.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){return jot.Trees.findAllTokenNodes(e,this.tokenType)}};Pot([Bot.Override],zne.prototype,"evaluate",null);US.XPathTokenAnywhereElement=zne});var G6e=we($S=>{"use strict";m();var Uot=$S&&$S.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty($S,"__esModule",{value:!0});$S.XPathTokenElement=void 0;var $ot=Cr(),zot=Vg(),Hot=Wg(),Vot=_6(),Hne=class extends Vot.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){let t=[];for(let r of Hot.Trees.getChildren(e))r instanceof zot.TerminalNode&&(r.symbol.type===this.tokenType&&!this.invert||r.symbol.type!==this.tokenType&&this.invert)&&t.push(r);return t}};Uot([$ot.Override],Hne.prototype,"evaluate",null);$S.XPathTokenElement=Hne});var Y6e=we(zS=>{"use strict";m();var Wot=zS&&zS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(zS,"__esModule",{value:!0});zS.XPathWildcardAnywhereElement=void 0;var Qot=Cr(),Got=Wg(),Yot=lq(),Kot=_6(),Vne=class extends Kot.XPathElement{constructor(){super(Yot.XPath.WILDCARD)}evaluate(e){return this.invert?[]:Got.Trees.getDescendants(e)}};Wot([Qot.Override],Vne.prototype,"evaluate",null);zS.XPathWildcardAnywhereElement=Vne});var K6e=we(HS=>{"use strict";m();var Jot=HS&&HS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(HS,"__esModule",{value:!0});HS.XPathWildcardElement=void 0;var Xot=Cr(),Zot=Wg(),eat=lq(),tat=_6(),Wne=class extends tat.XPathElement{constructor(){super(eat.XPath.WILDCARD)}evaluate(e){let t=[];if(this.invert)return t;for(let r of Zot.Trees.getChildren(e))t.push(r);return t}};Jot([Xot.Override],Wne.prototype,"evaluate",null);HS.XPathWildcardElement=Wne});var lq=we(cq=>{"use strict";m();Object.defineProperty(cq,"__esModule",{value:!0});cq.XPath=void 0;var nat=tq(),rat=iq(),iat=QF(),sat=n1(),Qne=iu(),g2=z6e(),oat=H6e(),aat=V6e(),uat=W6e(),lat=Q6e(),cat=G6e(),fat=Y6e(),dat=K6e(),VS=class{constructor(e,t){this.parser=e,this.path=t,this.elements=this.split(t)}split(e){let t=new g2.XPathLexer(nat.CharStreams.fromString(e));t.recover=c=>{throw c},t.removeErrorListeners(),t.addErrorListener(new oat.XPathLexerErrorListener);let r=new rat.CommonTokenStream(t);try{r.fill()}catch(c){if(c instanceof iat.LexerNoViableAltException){let d=t.charPositionInLine,p="Invalid tokens or characters at index "+d+" in path '"+e+"' -- "+c.message;throw new RangeError(p)}throw c}let i=r.getTokens(),s=[],o=i.length,a=0;e:for(;a<o;){let c=i[a],d;switch(c.type){case g2.XPathLexer.ROOT:case g2.XPathLexer.ANYWHERE:let p=c.type===g2.XPathLexer.ANYWHERE;a++,d=i[a];let b=d.type===g2.XPathLexer.BANG;b&&(a++,d=i[a]);let C=this.getXPathElement(d,p);C.invert=b,s.push(C),a++;break;case g2.XPathLexer.TOKEN_REF:case g2.XPathLexer.RULE_REF:case g2.XPathLexer.WILDCARD:s.push(this.getXPathElement(c,!1)),a++;break;case Qne.Token.EOF:break e;default:throw new Error("Unknowth path element "+c)}}return s}getXPathElement(e,t){if(e.type===Qne.Token.EOF)throw new Error("Missing path element at end of path");let r=e.text;if(r==null)throw new Error("Expected wordToken to have text content.");let i=this.parser.getTokenType(r),s=this.parser.getRuleIndex(r);switch(e.type){case g2.XPathLexer.WILDCARD:return t?new fat.XPathWildcardAnywhereElement:new dat.XPathWildcardElement;case g2.XPathLexer.TOKEN_REF:case g2.XPathLexer.STRING:if(i===Qne.Token.INVALID_TYPE)throw new Error(r+" at index "+e.startIndex+" isn't a valid token name");return t?new lat.XPathTokenAnywhereElement(r,i):new cat.XPathTokenElement(r,i);default:if(s===-1)throw new Error(r+" at index "+e.startIndex+" isn't a valid rule name");return t?new aat.XPathRuleAnywhereElement(r,s):new uat.XPathRuleElement(r,s)}}static findAll(e,t,r){return new VS(r,t).evaluate(e)}evaluate(e){let t=new sat.ParserRuleContext;t.addChild(e);let r=new Set([t]),i=0;for(;i<this.elements.length;){let s=new Set;for(let o of r)o.childCount>0&&this.elements[i].evaluate(o).forEach(s.add,s);i++,r=s}return r}};cq.XPath=VS;VS.WILDCARD="*";VS.NOT="!"});var J6e=we(b5=>{"use strict";m();var nx=b5&&b5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},b6=b5&&b5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(b5,"__esModule",{value:!0});b5.ParseTreePattern=void 0;var xd=Cr(),hat=lq(),i1=class{constructor(e,t,r,i){this._matcher=e,this._patternRuleIndex=r,this._pattern=t,this._patternTree=i}match(e){return this._matcher.match(e,this)}matches(e){return this._matcher.match(e,this).succeeded}findAll(e,t){let r=hat.XPath.findAll(e,t,this._matcher.parser),i=[];for(let s of r){let o=this.match(s);o.succeeded&&i.push(o)}return i}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};nx([xd.NotNull],i1.prototype,"_pattern",void 0);nx([xd.NotNull],i1.prototype,"_patternTree",void 0);nx([xd.NotNull],i1.prototype,"_matcher",void 0);nx([xd.NotNull,b6(0,xd.NotNull)],i1.prototype,"match",null);nx([b6(0,xd.NotNull)],i1.prototype,"matches",null);nx([xd.NotNull,b6(0,xd.NotNull),b6(1,xd.NotNull)],i1.prototype,"findAll",null);nx([xd.NotNull],i1.prototype,"matcher",null);nx([xd.NotNull],i1.prototype,"pattern",null);nx([xd.NotNull],i1.prototype,"patternTree",null);i1=nx([b6(0,xd.NotNull),b6(1,xd.NotNull),b6(3,xd.NotNull)],i1);b5.ParseTreePattern=i1});var X6e=we(E5=>{"use strict";m();var Gh=E5&&E5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},pat=E5&&E5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(E5,"__esModule",{value:!0});E5.RuleTagToken=void 0;var Yh=Cr(),mat=iu(),gd=class{constructor(e,t,r){if(e==null||e.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=e,this.bypassTokenType=t,this._label=r}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return mat.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};Gh([Yh.NotNull],gd.prototype,"ruleName",null);Gh([Yh.Override],gd.prototype,"channel",null);Gh([Yh.Override],gd.prototype,"text",null);Gh([Yh.Override],gd.prototype,"type",null);Gh([Yh.Override],gd.prototype,"line",null);Gh([Yh.Override],gd.prototype,"charPositionInLine",null);Gh([Yh.Override],gd.prototype,"tokenIndex",null);Gh([Yh.Override],gd.prototype,"startIndex",null);Gh([Yh.Override],gd.prototype,"stopIndex",null);Gh([Yh.Override],gd.prototype,"tokenSource",null);Gh([Yh.Override],gd.prototype,"inputStream",null);Gh([Yh.Override],gd.prototype,"toString",null);gd=Gh([pat(0,Yh.NotNull)],gd);E5.RuleTagToken=gd});var Gne=we(fq=>{"use strict";m();Object.defineProperty(fq,"__esModule",{value:!0});fq.Chunk=void 0;var Z6e=class{};fq.Chunk=Z6e});var nbe=we(WS=>{"use strict";m();var ebe=WS&&WS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(WS,"__esModule",{value:!0});WS.TagChunk=void 0;var xat=Gne(),tbe=Cr(),dq=class extends xat.Chunk{constructor(e,t){super();if(e==null||e.length===0)throw new Error("tag cannot be null or empty");this._tag=e,this._label=t}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};ebe([tbe.NotNull],dq.prototype,"tag",null);ebe([tbe.Override],dq.prototype,"toString",null);WS.TagChunk=dq});var rbe=we(S5=>{"use strict";m();var hq=S5&&S5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},gat=S5&&S5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(S5,"__esModule",{value:!0});S5.TextChunk=void 0;var yat=Gne(),pq=Cr(),QS=class extends yat.Chunk{constructor(e){super();if(e==null)throw new Error("text cannot be null");this._text=e}get text(){return this._text}toString(){return"'"+this._text+"'"}};hq([pq.NotNull],QS.prototype,"_text",void 0);hq([pq.NotNull],QS.prototype,"text",null);hq([pq.Override],QS.prototype,"toString",null);QS=hq([gat(0,pq.NotNull)],QS);S5.TextChunk=QS});var ibe=we(C5=>{"use strict";m();var yD=C5&&C5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vat=C5&&C5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(C5,"__esModule",{value:!0});C5.TokenTagToken=void 0;var _at=E8(),vD=Cr(),E6=class extends _at.CommonToken{constructor(e,t,r){super(t);this._tokenName=e,this._label=r}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};yD([vD.NotNull],E6.prototype,"_tokenName",void 0);yD([vD.NotNull],E6.prototype,"tokenName",null);yD([vD.Override],E6.prototype,"text",null);yD([vD.Override],E6.prototype,"toString",null);E6=yD([vat(0,vD.NotNull)],E6);C5.TokenTagToken=E6});var cbe=we(ix=>{"use strict";m();var mq=ix&&ix.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},xq=ix&&ix.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ix,"__esModule",{value:!0});ix.ParseTreePatternMatcher=void 0;var bat=Jne(),Eat=tq(),Sat=iq(),Cat=Lne(),sbe=M6e(),S6=Cr(),wat=kne(),Aat=Bne(),obe=n1(),Tat=U6e(),Fat=J6e(),Dat=Tg(),Oat=hS(),abe=X6e(),ube=nbe(),Yne=Vg(),GS=rbe(),Kne=iu(),lbe=ibe(),rx=class{constructor(e,t){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=e,this._parser=t}setDelimiters(e,t,r){if(!e)throw new Error("start cannot be null or empty");if(!t)throw new Error("stop cannot be null or empty");this.start=e,this.stop=t,this.escape=r,this.escapeRE=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.matches(e,i)}else{let i=new sbe.MultiMap;return!this.matchImpl(e,t.patternTree,i)}}match(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.match(e,i)}else{let i=new sbe.MultiMap,s=this.matchImpl(e,t.patternTree,i);return new Tat.ParseTreeMatch(e,t,i,s)}}compile(e,t){let r=this.tokenize(e),i=new Cat.ListTokenSource(r),s=new Sat.CommonTokenStream(i),o=this._parser,a=new Aat.ParserInterpreter(o.grammarFileName,o.vocabulary,o.ruleNames,o.getATNWithBypassAlts(),s),c;try{a.errorHandler=new bat.BailErrorStrategy,c=a.parse(t)}catch(d){throw d instanceof wat.ParseCancellationException?d.getCause():d instanceof Dat.RecognitionException?d:d instanceof Error?new rx.CannotInvokeStartRule(d):d}if(s.LA(1)!==Kne.Token.EOF)throw new rx.StartRuleDoesNotConsumeFullPattern;return new Fat.ParseTreePattern(this,e,t,c)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(e,t,r){if(!e)throw new TypeError("tree cannot be null");if(!t)throw new TypeError("patternTree cannot be null");if(e instanceof Yne.TerminalNode&&t instanceof Yne.TerminalNode){let i;if(e.symbol.type===t.symbol.type)if(t.symbol instanceof lbe.TokenTagToken){let s=t.symbol;r.map(s.tokenName,e);let o=s.label;o&&r.map(o,e)}else e.text===t.text||i||(i=e);else i||(i=e);return i}if(e instanceof obe.ParserRuleContext&&t instanceof obe.ParserRuleContext){let i,s=this.getRuleTagToken(t);if(s){let a;if(e.ruleContext.ruleIndex===t.ruleContext.ruleIndex){r.map(s.ruleName,e);let c=s.label;c&&r.map(c,e)}else i||(i=e);return i}if(e.childCount!==t.childCount)return i||(i=e),i;let o=e.childCount;for(let a=0;a<o;a++){let c=this.matchImpl(e.getChild(a),t.getChild(a),r);if(c)return c}return i}return e}getRuleTagToken(e){if(e instanceof Oat.RuleNode&&e.childCount===1&&e.getChild(0)instanceof Yne.TerminalNode){let t=e.getChild(0);if(t.symbol instanceof abe.RuleTagToken)return t.symbol}}tokenize(e){let t=this.split(e),r=[];for(let i of t)if(i instanceof ube.TagChunk){let s=i,o=s.tag.substr(0,1);if(o===o.toUpperCase()){let a=this._parser.getTokenType(s.tag);if(a===Kne.Token.INVALID_TYPE)throw new Error("Unknown token "+s.tag+" in pattern: "+e);let c=new lbe.TokenTagToken(s.tag,a,s.label);r.push(c)}else if(o===o.toLowerCase()){let a=this._parser.getRuleIndex(s.tag);if(a===-1)throw new Error("Unknown rule "+s.tag+" in pattern: "+e);let c=this._parser.getATNWithBypassAlts().ruleToTokenType[a];r.push(new abe.RuleTagToken(s.tag,c,s.label))}else throw new Error("invalid tag: "+s.tag+" in pattern: "+e)}else{let s=i;this._lexer.inputStream=Eat.CharStreams.fromString(s.text);let o=this._lexer.nextToken();for(;o.type!==Kne.Token.EOF;)r.push(o),o=this._lexer.nextToken()}return r}split(e){let t=0,r=e.length,i=[],s,o=[],a=[];for(;t<r;)t===e.indexOf(this.escape+this.start,t)?t+=this.escape.length+this.start.length:t===e.indexOf(this.escape+this.stop,t)?t+=this.escape.length+this.stop.length:t===e.indexOf(this.start,t)?(o.push(t),t+=this.start.length):t===e.indexOf(this.stop,t)?(a.push(t),t+=this.stop.length):t++;if(o.length>a.length)throw new Error("unterminated tag in pattern: "+e);if(o.length<a.length)throw new Error("missing start tag in pattern: "+e);let c=o.length;for(let d=0;d<c;d++)if(o[d]>=a[d])throw new Error("tag delimiters out of order in pattern: "+e);if(c===0){let d=e.substring(0,r);i.push(new GS.TextChunk(d))}if(c>0&&o[0]>0){let d=e.substring(0,o[0]);i.push(new GS.TextChunk(d))}for(let d=0;d<c;d++){let p=e.substring(o[d]+this.start.length,a[d]),b=p,C,N=p.indexOf(":");if(N>=0&&(C=p.substring(0,N),b=p.substring(N+1,p.length)),i.push(new ube.TagChunk(b,C)),d+1<c){let R=e.substring(a[d]+this.stop.length,o[d+1]);i.push(new GS.TextChunk(R))}}if(c>0){let d=a[c-1]+this.stop.length;if(d<r){let p=e.substring(d,r);i.push(new GS.TextChunk(p))}}for(let d=0;d<i.length;d++){let p=i[d];if(p instanceof GS.TextChunk){let b=p.text.replace(this.escapeRE,"");b.length<p.text.length&&(i[d]=new GS.TextChunk(b))}}return i}};mq([S6.NotNull,xq(1,S6.NotNull)],rx.prototype,"match",null);mq([S6.NotNull],rx.prototype,"lexer",null);mq([S6.NotNull],rx.prototype,"parser",null);mq([xq(0,S6.NotNull),xq(1,S6.NotNull),xq(2,S6.NotNull)],rx.prototype,"matchImpl",null);ix.ParseTreePatternMatcher=rx;(function(n){class e extends Error{constructor(i){super(`CannotInvokeStartRule: ${i}`);this.error=i}}n.CannotInvokeStartRule=e;class t extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}n.StartRuleDoesNotConsumeFullPattern=t})(rx=ix.ParseTreePatternMatcher||(ix.ParseTreePatternMatcher={}))});var YS=we(w5=>{"use strict";m();var fbe=w5&&w5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Nat=w5&&w5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(w5,"__esModule",{value:!0});w5.DecisionEventInfo=void 0;var dbe=Cr(),gq=class{constructor(e,t,r,i,s,o){this.decision=e,this.fullCtx=o,this.stopIndex=s,this.input=r,this.startIndex=i,this.state=t}};fbe([dbe.NotNull],gq.prototype,"input",void 0);gq=fbe([Nat(2,dbe.NotNull)],gq);w5.DecisionEventInfo=gq});var hbe=we(A5=>{"use strict";m();var Xne=A5&&A5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Zne=A5&&A5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(A5,"__esModule",{value:!0});A5.AmbiguityInfo=void 0;var Rat=YS(),_D=Cr(),bD=class extends Rat.DecisionEventInfo{constructor(e,t,r,i,s,o){super(e,t,i,s,o,t.useContext);this.ambigAlts=r}get ambiguousAlternatives(){return this.ambigAlts}};Xne([_D.NotNull],bD.prototype,"ambigAlts",void 0);Xne([_D.NotNull],bD.prototype,"ambiguousAlternatives",null);bD=Xne([Zne(1,_D.NotNull),Zne(2,_D.NotNull),Zne(3,_D.NotNull)],bD);A5.AmbiguityInfo=bD});var xbe=we(T5=>{"use strict";m();var Lat=T5&&T5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},pbe=T5&&T5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(T5,"__esModule",{value:!0});T5.ContextSensitivityInfo=void 0;var kat=YS(),mbe=Cr(),ere=class extends kat.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}};ere=Lat([pbe(1,mbe.NotNull),pbe(2,mbe.NotNull)],ere);T5.ContextSensitivityInfo=ere});var gbe=we(KS=>{"use strict";m();var Iat=KS&&KS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(KS,"__esModule",{value:!0});KS.DecisionInfo=void 0;var Mat=Cr(),tre=class{constructor(e){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=e}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};Iat([Mat.Override],tre.prototype,"toString",null);KS.DecisionInfo=tre});var _be=we(F5=>{"use strict";m();var Pat=F5&&F5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ybe=F5&&F5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(F5,"__esModule",{value:!0});F5.ErrorInfo=void 0;var Bat=YS(),vbe=Cr(),nre=class extends Bat.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,t.useContext)}};nre=Pat([ybe(1,vbe.NotNull),ybe(2,vbe.NotNull)],nre);F5.ErrorInfo=nre});var bbe=we(D5=>{"use strict";m();var jat=D5&&D5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},qat=D5&&D5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(D5,"__esModule",{value:!0});D5.LookaheadEventInfo=void 0;var Uat=YS(),$at=Cr(),rre=class extends Uat.DecisionEventInfo{constructor(e,t,r,i,s,o,a){super(e,t,i,s,o,a);this.predictedAlt=r}};rre=jat([qat(3,$at.NotNull)],rre);D5.LookaheadEventInfo=rre});var Ebe=we(O5=>{"use strict";m();var zat=O5&&O5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ire=O5&&O5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(O5,"__esModule",{value:!0});O5.PredicateEvalInfo=void 0;var Hat=YS(),sre=Cr(),ore=class extends Hat.DecisionEventInfo{constructor(e,t,r,i,s,o,a,c){super(t,e,r,i,s,e.useContext);this.semctx=o,this.evalResult=a,this.predictedAlt=c}};ore=zat([ire(0,sre.NotNull),ire(2,sre.NotNull),ire(5,sre.NotNull)],ore);O5.PredicateEvalInfo=ore});var are=we(N5=>{"use strict";m();var sx=N5&&N5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},yq=N5&&N5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(N5,"__esModule",{value:!0});N5.ProfilingATNSimulator=void 0;var Vat=hbe(),Sbe=f2(),Wat=jF(),Cbe=xbe(),Qat=gbe(),wbe=_be(),dh=Cr(),Abe=bbe(),Gat=vS(),Yat=Ebe(),Kat=z_(),Tbe=rne(),s1=class extends Gat.ParserATNSimulator{constructor(e){super(e.interpreter.atn,e);this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let t=0;t<this.numDecisions;t++)this.decisions.push(new Qat.DecisionInfo(t))}adaptivePredict(e,t,r,i){if(i!==void 0)return super.adaptivePredict(e,t,r,i);try{this._input=e,this._startIndex=e.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=t,this.currentState=void 0,this.conflictingAltResolvedBySLL=Sbe.ATN.INVALID_ALT_NUMBER;let s=process.hrtime(),o=super.adaptivePredict(e,t,r),a=process.hrtime(),c=(a[0]-s[0])*1e9;c===0?c=a[1]-s[1]:c+=1e9-s[1]+a[1],this.decisions[t].timeInPrediction+=c,this.decisions[t].invocations++;let d=this._sllStopIndex-this._startIndex+1;if(this.decisions[t].SLL_TotalLook+=d,this.decisions[t].SLL_MinLook=this.decisions[t].SLL_MinLook===0?d:Math.min(this.decisions[t].SLL_MinLook,d),d>this.decisions[t].SLL_MaxLook&&(this.decisions[t].SLL_MaxLook=d,this.decisions[t].SLL_MaxLookEvent=new Abe.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let p=this._llStopIndex-this._startIndex+1;this.decisions[t].LL_TotalLook+=p,this.decisions[t].LL_MinLook=this.decisions[t].LL_MinLook===0?p:Math.min(this.decisions[t].LL_MinLook,p),p>this.decisions[t].LL_MaxLook&&(this.decisions[t].LL_MaxLook=p,this.decisions[t].LL_MaxLookEvent=new Abe.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._llStopIndex,!0))}return o}finally{this._input=void 0,this.currentDecision=-1}}getStartState(e,t,r,i){let s=super.getStartState(e,t,r,i);return this.currentState=s,s}computeStartState(e,t,r){let i=super.computeStartState(e,t,r);return this.currentState=i,i}computeReachSet(e,t,r,i){if(this._input===void 0)throw new Error("Invalid state");let s=super.computeReachSet(e,t,r,i);return s==null&&this.decisions[this.currentDecision].errors.push(new wbe.ErrorInfo(this.currentDecision,t,this._input,this._startIndex,this._input.index)),this.currentState=s,s}getExistingTargetState(e,t){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let r=super.getExistingTargetState(e,t);if(r!=null&&(this.currentState=new Tbe.SimulatorState(this.currentState.outerContext,r,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,r===Wat.ATNSimulator.ERROR)){let i=new Tbe.SimulatorState(this.currentState.outerContext,e,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new wbe.ErrorInfo(this.currentDecision,i,this._input,this._startIndex,this._input.index))}return r}computeTargetState(e,t,r,i,s,o){let a=super.computeTargetState(e,t,r,i,s,o);return s?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,a}evalSemanticContextImpl(e,t,r){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let i=super.evalSemanticContextImpl(e,t,r);if(!(e instanceof Kat.SemanticContext.PrecedencePredicate)){let o=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new Yat.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,o,e,i,r))}return i}reportContextSensitivity(e,t,r,i,s){if(this._input===void 0)throw new Error("Invalid state");t!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new Cbe.ContextSensitivityInfo(this.currentDecision,r,this._input,i,s)),super.reportContextSensitivity(e,t,r,i,s)}reportAttemptingFullContext(e,t,r,i,s){t!=null?this.conflictingAltResolvedBySLL=t.nextSetBit(0):this.conflictingAltResolvedBySLL=r.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(e,t,r,i,s)}reportAmbiguity(e,t,r,i,s,o,a){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let c;o!=null?c=o.nextSetBit(0):c=a.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==Sbe.ATN.INVALID_ALT_NUMBER&&c!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new Cbe.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,r,i)),this.decisions[this.currentDecision].ambiguities.push(new Vat.AmbiguityInfo(this.currentDecision,this.currentState,o,this._input,r,i)),super.reportAmbiguity(e,t,r,i,s,o,a)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};sx([dh.Override,yq(0,dh.NotNull)],s1.prototype,"adaptivePredict",null);sx([dh.Override],s1.prototype,"getStartState",null);sx([dh.Override],s1.prototype,"computeStartState",null);sx([dh.Override],s1.prototype,"computeReachSet",null);sx([dh.Override],s1.prototype,"getExistingTargetState",null);sx([dh.Override],s1.prototype,"computeTargetState",null);sx([dh.Override],s1.prototype,"evalSemanticContextImpl",null);sx([dh.Override],s1.prototype,"reportContextSensitivity",null);sx([dh.Override],s1.prototype,"reportAttemptingFullContext",null);sx([dh.Override,yq(0,dh.NotNull),yq(5,dh.NotNull),yq(6,dh.NotNull)],s1.prototype,"reportAmbiguity",null);N5.ProfilingATNSimulator=s1});var pS=we(ox=>{"use strict";m();var Uc=ox&&ox.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vq=ox&&ox.__param||function(n,e){return function(t,r){e(t,r,n)}},Fbe=ox&&ox.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(b){o(b)}}function c(p){try{d(r.throw(p))}catch(b){o(b)}}function d(p){p.done?s(p.value):i(p.value).then(a,c)}d((r=r.apply(n,e||[])).next())})};Object.defineProperty(ox,"__esModule",{value:!0});ox.Parser=void 0;var Jat=c2(),Xat=Mte(),Zat=dD(),eut=_q(),tut=dS(),nut=Xee(),rut=jg(),Wl=Cr(),iut=T6e(),sut=vS(),out=Ane(),aut=F8(),uut=Vg(),ED=iu(),JS=class{constructor(e,t){this.ruleNames=e,this.tokenStream=t}enterEveryRule(e){console.log("enter   "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(e){console.log("exit    "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(e){}visitTerminal(e){let t=e.parent.ruleContext,r=e.symbol;console.log("consume "+r+" rule "+this.ruleNames[t.ruleIndex])}};Uc([Wl.Override],JS.prototype,"enterEveryRule",null);Uc([Wl.Override],JS.prototype,"exitEveryRule",null);Uc([Wl.Override],JS.prototype,"visitErrorNode",null);Uc([Wl.Override],JS.prototype,"visitTerminal",null);var Nl=class extends aut.Recognizer{constructor(e){super();this._errHandler=new eut.DefaultErrorStrategy,this._precedenceStack=new nut.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=e}reset(e){(e===void 0||e)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let t=this.interpreter;t!=null&&t.reset()}match(e){let t=this.currentToken;return t.type===e?(e===ED.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this._buildParseTrees&&t.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,t))),t}matchWildcard(){let e=this.currentToken;return e.type>0?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this._buildParseTrees&&e.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,e))),e}set buildParseTree(e){this._buildParseTrees=e}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(e){if(e==null)throw new TypeError("listener cannot be null");this._parseListeners.push(e)}removeParseListener(e){let t=this._parseListeners.findIndex(r=>r===e);t!==-1&&this._parseListeners.splice(t,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let e of this._parseListeners)e.enterEveryRule&&e.enterEveryRule(this._ctx),this._ctx.enterRule(e)}triggerExitRuleEvent(){for(let e=this._parseListeners.length-1;e>=0;e--){let t=this._parseListeners[e];this._ctx.exitRule(t),t.exitEveryRule&&t.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let e=this.serializedATN;if(e==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let t=Nl.bypassAltsAtnCache.get(e);if(t==null){let r=new Xat.ATNDeserializationOptions;r.isGenerateRuleBypassTransitions=!0,t=new Zat.ATNDeserializer(r).deserialize(Jat.toCharArray(e)),Nl.bypassAltsAtnCache.set(e,t)}return t}compileParseTreePattern(e,t,r){return Fbe(this,void 0,void 0,function*(){if(!r){if(this.inputStream){let a=this.inputStream.tokenSource;a instanceof rut.Lexer&&(r=a)}if(!r)throw new Error("Parser can't discover a lexer to use")}let i=r,s=yield Promise.resolve().then(()=>cbe());return new s.ParseTreePatternMatcher(i,this).compile(e,t)})}get errorHandler(){return this._errHandler}set errorHandler(e){this._errHandler=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e}get currentToken(){return this._input.LT(1)}notifyErrorListeners(e,t,r){t===void 0?t=this.currentToken:t===null&&(t=void 0),this._syntaxErrors++;let i=-1,s=-1;t!=null&&(i=t.line,s=t.charPositionInLine);let o=this.getErrorListenerDispatch();o.syntaxError&&o.syntaxError(this,t,i,s,e,r)}consume(){let e=this.currentToken;e.type!==Nl.EOF&&this.inputStream.consume();let t=this._parseListeners.length!==0;if(this._buildParseTrees||t)if(this._errHandler.inErrorRecoveryMode(this)){let r=this._ctx.addErrorNode(this.createErrorNode(this._ctx,e));if(t)for(let i of this._parseListeners)i.visitErrorNode&&i.visitErrorNode(r)}else{let r=this.createTerminalNode(this._ctx,e);if(this._ctx.addChild(r),t)for(let i of this._parseListeners)i.visitTerminal&&i.visitTerminal(r)}return e}createTerminalNode(e,t){return new uut.TerminalNode(t)}createErrorNode(e,t){return new tut.ErrorNode(t)}addContextToParseTree(){let e=this._ctx._parent;e!=null&&e.addChild(this._ctx)}enterRule(e,t,r){this.state=t,this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(e,t,r){if(this.state=t,this._buildParseTrees){let i=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),i._parent=e,e.addChild(i)}this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(e,t){if(e.altNumber=t,this._buildParseTrees&&this._ctx!==e){let r=this._ctx._parent;r!=null&&(r.removeLastChild(),r.addChild(e))}this._ctx=e}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(e,t,r,i){this.state=t,this._precedenceStack.push(i),this._ctx=e,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(e,t,r){let i=this._ctx;i._parent=e,i.invokingState=t,i._stop=this._input.tryLT(-1),this._ctx=e,this._ctx._start=i._start,this._buildParseTrees&&this._ctx.addChild(i),this.triggerEnterRuleEvent()}unrollRecursionContexts(e){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let t=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==e;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=e;t._parent=e,this._buildParseTrees&&e!=null&&e.addChild(t)}getInvokingContext(e){let t=this._ctx;for(;t&&t.ruleIndex!==e;)t=t._parent;return t}get context(){return this._ctx}set context(e){this._ctx=e}precpred(e,t){return t>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new out.ProxyParserErrorListener(this.getErrorListeners())}inContext(e){return!1}isExpectedToken(e){let t=this.interpreter.atn,r=this._ctx,i=t.states[this.state],s=t.nextTokens(i);if(s.contains(e))return!0;if(!s.contains(ED.Token.EPSILON))return!1;for(;r!=null&&r.invokingState>=0&&s.contains(ED.Token.EPSILON);){let a=t.states[r.invokingState].transition(0);if(s=t.nextTokens(a.followState),s.contains(e))return!0;r=r._parent}return!!(s.contains(ED.Token.EPSILON)&&e===ED.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let e=this.interpreter.atn,t=e.states[this.state];return e.nextTokens(t)}getRuleIndex(e){let t=this.getRuleIndexMap().get(e);return t??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(e=this._ctx){let t=e,r=this.ruleNames,i=[];for(;t!=null;){let s=t.ruleIndex;s<0?i.push("n/a"):i.push(r[s]),t=t._parent}return i}getDFAStrings(){let e=[];for(let t of this._interp.atn.decisionToDFA)e.push(t.toString(this.vocabulary,this.ruleNames));return e}dumpDFA(){let e=!1;for(let t of this._interp.atn.decisionToDFA)t.isEmpty||(e&&console.log(),console.log("Decision "+t.decision+":"),process.stdout.write(t.toString(this.vocabulary,this.ruleNames)),e=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>are()).then(e=>{let t=this.interpreter;if(t instanceof e.ProfilingATNSimulator)return new iut.ParseInfo(t)})}setProfile(e){return Fbe(this,void 0,void 0,function*(){let t=yield Promise.resolve().then(()=>are()),r=this.interpreter;e?r instanceof t.ProfilingATNSimulator||(this.interpreter=new t.ProfilingATNSimulator(this)):r instanceof t.ProfilingATNSimulator&&(this.interpreter=new sut.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(r.getPredictionMode())})}set isTrace(e){e?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new JS(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};Nl.bypassAltsAtnCache=new Map;Uc([Wl.NotNull],Nl.prototype,"_errHandler",void 0);Uc([Wl.NotNull],Nl.prototype,"match",null);Uc([Wl.NotNull],Nl.prototype,"matchWildcard",null);Uc([Wl.NotNull],Nl.prototype,"getParseListeners",null);Uc([vq(0,Wl.NotNull)],Nl.prototype,"addParseListener",null);Uc([Wl.NotNull],Nl.prototype,"getATNWithBypassAlts",null);Uc([Wl.NotNull,vq(0,Wl.NotNull)],Nl.prototype,"errorHandler",null);Uc([Wl.Override],Nl.prototype,"inputStream",null);Uc([Wl.NotNull],Nl.prototype,"currentToken",null);Uc([vq(0,Wl.NotNull)],Nl.prototype,"enterRule",null);Uc([Wl.Override,vq(0,Wl.Nullable)],Nl.prototype,"precpred",null);Uc([Wl.Override],Nl.prototype,"getErrorListenerDispatch",null);Uc([Wl.NotNull],Nl.prototype,"getExpectedTokens",null);Uc([Wl.NotNull],Nl.prototype,"getExpectedTokensWithinCurrentRule",null);Uc([Wl.Override],Nl.prototype,"parseInfo",null);ox.Parser=Nl});var iD=we(XS=>{"use strict";m();var lut=XS&&XS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(XS,"__esModule",{value:!0});XS.NoViableAltException=void 0;var cut=pS(),fut=Tg(),dut=Cr(),ure=class extends fut.RecognitionException{constructor(e,t,r,i,s,o){e instanceof cut.Parser&&(t===void 0&&(t=e.inputStream),r===void 0&&(r=e.currentToken),i===void 0&&(i=e.currentToken),o===void 0&&(o=e.context));super(e,t,o);this._deadEndConfigs=s,this._startToken=r,this.setOffendingToken(e,i)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};lut([dut.NotNull],ure.prototype,"_startToken",void 0);XS.NoViableAltException=ure});var _q=we(R5=>{"use strict";m();var Hu=R5&&R5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ql=R5&&R5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(R5,"__esModule",{value:!0});R5.DefaultErrorStrategy=void 0;var Dbe=Nm(),ZS=df(),hut=TF(),bq=FF(),Obe=j4(),put=iD(),mut=Kp(),Zg=iu(),aa=Cr(),su=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=Dbe.ATNState.INVALID_STATE_NUMBER}reset(e){this.endErrorCondition(e)}beginErrorCondition(e){this.errorRecoveryMode=!0}inErrorRecoveryMode(e){return this.errorRecoveryMode}endErrorCondition(e){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(e){this.endErrorCondition(e)}reportError(e,t){this.inErrorRecoveryMode(e)||(this.beginErrorCondition(e),t instanceof put.NoViableAltException?this.reportNoViableAlternative(e,t):t instanceof bq.InputMismatchException?this.reportInputMismatch(e,t):t instanceof hut.FailedPredicateException?this.reportFailedPredicate(e,t):(console.error(`unknown recognition error type: ${t}`),this.notifyErrorListeners(e,t.toString(),t)))}notifyErrorListeners(e,t,r){let i=r.getOffendingToken(e);i===void 0&&(i=null),e.notifyErrorListeners(t,i,r)}recover(e,t){this.lastErrorIndex===e.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(e.state)&&e.consume(),this.lastErrorIndex=e.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new Obe.IntervalSet),this.lastErrorStates.add(e.state);let r=this.getErrorRecoverySet(e);this.consumeUntil(e,r)}sync(e){let t=e.interpreter.atn.states[e.state];if(this.inErrorRecoveryMode(e))return;let i=e.inputStream.LA(1),s=e.atn.nextTokens(t);if(s.contains(i)){this.nextTokensContext=void 0,this.nextTokensState=Dbe.ATNState.INVALID_STATE_NUMBER;return}if(s.contains(Zg.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=e.context,this.nextTokensState=e.state);return}switch(t.stateType){case ZS.ATNStateType.BLOCK_START:case ZS.ATNStateType.STAR_BLOCK_START:case ZS.ATNStateType.PLUS_BLOCK_START:case ZS.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(e))return;throw new bq.InputMismatchException(e);case ZS.ATNStateType.PLUS_LOOP_BACK:case ZS.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(e);let a=e.getExpectedTokens().or(this.getErrorRecoverySet(e));this.consumeUntil(e,a);break;default:break}}reportNoViableAlternative(e,t){let r=e.inputStream,i;r?t.startToken.type===Zg.Token.EOF?i="<EOF>":i=r.getTextFromRange(t.startToken,t.getOffendingToken()):i="<unknown input>";let s="no viable alternative at input "+this.escapeWSAndQuote(i);this.notifyErrorListeners(e,s,t)}reportInputMismatch(e,t){let r=t.expectedTokens,i=r?r.toStringVocabulary(e.vocabulary):"",s="mismatched input "+this.getTokenErrorDisplay(t.getOffendingToken(e))+" expecting "+i;this.notifyErrorListeners(e,s,t)}reportFailedPredicate(e,t){let r=e.ruleNames[e.context.ruleIndex],i="rule "+r+" "+t.message;this.notifyErrorListeners(e,i,t)}reportUnwantedToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getTokenErrorDisplay(t),i=this.getExpectedTokens(e),s="extraneous input "+r+" expecting "+i.toStringVocabulary(e.vocabulary);e.notifyErrorListeners(s,t,void 0)}reportMissingToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getExpectedTokens(e),i="missing "+r.toStringVocabulary(e.vocabulary)+" at "+this.getTokenErrorDisplay(t);e.notifyErrorListeners(i,t,void 0)}recoverInline(e){let t=this.singleTokenDeletion(e);if(t)return e.consume(),t;if(this.singleTokenInsertion(e))return this.getMissingSymbol(e);throw this.nextTokensContext===void 0?new bq.InputMismatchException(e):new bq.InputMismatchException(e,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(e){let t=e.inputStream.LA(1),i=e.interpreter.atn.states[e.state].transition(0).target,s=e.interpreter.atn;return s.nextTokens(i,mut.PredictionContext.fromRuleContext(s,e.context)).contains(t)?(this.reportMissingToken(e),!0):!1}singleTokenDeletion(e){let t=e.inputStream.LA(2);if(this.getExpectedTokens(e).contains(t)){this.reportUnwantedToken(e),e.consume();let i=e.currentToken;return this.reportMatch(e),i}}getMissingSymbol(e){let t=e.currentToken,r=this.getExpectedTokens(e),i=Zg.Token.INVALID_TYPE;r.isNil||(i=r.minElement);let s;i===Zg.Token.EOF?s="<missing EOF>":s="<missing "+e.vocabulary.getDisplayName(i)+">";let o=t,a=e.inputStream.tryLT(-1);return o.type===Zg.Token.EOF&&a!=null&&(o=a),this.constructToken(e.inputStream.tokenSource,i,s,o)}constructToken(e,t,r,i){let s=e.tokenFactory,o=i.tokenSource,a=o?o.inputStream:void 0;return s.create({source:e,stream:a},t,r,Zg.Token.DEFAULT_CHANNEL,-1,-1,i.line,i.charPositionInLine)}getExpectedTokens(e){return e.getExpectedTokens()}getTokenErrorDisplay(e){if(!e)return"<no token>";let t=this.getSymbolText(e);return t||(this.getSymbolType(e)===Zg.Token.EOF?t="<EOF>":t=`<${this.getSymbolType(e)}>`),this.escapeWSAndQuote(t)}getSymbolText(e){return e.text}getSymbolType(e){return e.type}escapeWSAndQuote(e){return e=e.replace(`
`,"\\n"),e=e.replace("\r","\\r"),e=e.replace("	","\\t"),"'"+e+"'"}getErrorRecoverySet(e){let t=e.interpreter.atn,r=e.context,i=new Obe.IntervalSet;for(;r&&r.invokingState>=0;){let o=t.states[r.invokingState].transition(0),a=t.nextTokens(o.followState);i.addAll(a),r=r._parent}return i.remove(Zg.Token.EPSILON),i}consumeUntil(e,t){let r=e.inputStream.LA(1);for(;r!==Zg.Token.EOF&&!t.contains(r);)e.consume(),r=e.inputStream.LA(1)}};Hu([aa.Override],su.prototype,"reset",null);Hu([Ql(0,aa.NotNull)],su.prototype,"beginErrorCondition",null);Hu([aa.Override],su.prototype,"inErrorRecoveryMode",null);Hu([Ql(0,aa.NotNull)],su.prototype,"endErrorCondition",null);Hu([aa.Override],su.prototype,"reportMatch",null);Hu([aa.Override],su.prototype,"reportError",null);Hu([Ql(0,aa.NotNull)],su.prototype,"notifyErrorListeners",null);Hu([aa.Override],su.prototype,"recover",null);Hu([aa.Override],su.prototype,"sync",null);Hu([Ql(0,aa.NotNull),Ql(1,aa.NotNull)],su.prototype,"reportNoViableAlternative",null);Hu([Ql(0,aa.NotNull),Ql(1,aa.NotNull)],su.prototype,"reportInputMismatch",null);Hu([Ql(0,aa.NotNull),Ql(1,aa.NotNull)],su.prototype,"reportFailedPredicate",null);Hu([Ql(0,aa.NotNull)],su.prototype,"reportUnwantedToken",null);Hu([Ql(0,aa.NotNull)],su.prototype,"reportMissingToken",null);Hu([aa.Override],su.prototype,"recoverInline",null);Hu([Ql(0,aa.NotNull)],su.prototype,"singleTokenInsertion",null);Hu([Ql(0,aa.NotNull)],su.prototype,"singleTokenDeletion",null);Hu([aa.NotNull,Ql(0,aa.NotNull)],su.prototype,"getMissingSymbol",null);Hu([aa.NotNull,Ql(0,aa.NotNull)],su.prototype,"getExpectedTokens",null);Hu([Ql(0,aa.NotNull)],su.prototype,"getSymbolText",null);Hu([Ql(0,aa.NotNull)],su.prototype,"getSymbolType",null);Hu([aa.NotNull,Ql(0,aa.NotNull)],su.prototype,"escapeWSAndQuote",null);Hu([aa.NotNull,Ql(0,aa.NotNull)],su.prototype,"getErrorRecoverySet",null);Hu([Ql(0,aa.NotNull),Ql(1,aa.NotNull)],su.prototype,"consumeUntil",null);R5.DefaultErrorStrategy=su});var Jne=we(eC=>{"use strict";m();var lre=eC&&eC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(eC,"__esModule",{value:!0});eC.BailErrorStrategy=void 0;var xut=_q(),gut=FF(),cre=Cr(),Nbe=kne(),SD=class extends xut.DefaultErrorStrategy{recover(e,t){for(let r=e.context;r;r=r.parent)r.exception=t;throw new Nbe.ParseCancellationException(t)}recoverInline(e){let t=new gut.InputMismatchException(e);for(let r=e.context;r;r=r.parent)r.exception=t;throw new Nbe.ParseCancellationException(t)}sync(e){}};lre([cre.Override],SD.prototype,"recover",null);lre([cre.Override],SD.prototype,"recoverInline",null);lre([cre.Override],SD.prototype,"sync",null);eC.BailErrorStrategy=SD});var Lbe=we(Rbe=>{"use strict";m();Object.defineProperty(Rbe,"__esModule",{value:!0})});var kbe=we(CD=>{"use strict";m();Object.defineProperty(CD,"__esModule",{value:!0});CD.Dependents=void 0;var yut;(function(n){n[n.SELF=0]="SELF",n[n.PARENTS=1]="PARENTS",n[n.CHILDREN=2]="CHILDREN",n[n.ANCESTORS=3]="ANCESTORS",n[n.DESCENDANTS=4]="DESCENDANTS",n[n.SIBLINGS=5]="SIBLINGS",n[n.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",n[n.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",n[n.PRECEEDING=8]="PRECEEDING",n[n.FOLLOWING=9]="FOLLOWING"})(yut=CD.Dependents||(CD.Dependents={}))});var Ibe=we(k5=>{"use strict";m();var tC=k5&&k5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},o1=k5&&k5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(k5,"__esModule",{value:!0});k5.DiagnosticErrorListener=void 0;var vut=Ng(),Wf=Cr(),fre=D0(),L5=class{constructor(e=!0){this.exactOnly=e,this.exactOnly=e}syntaxError(e,t,r,i,s,o){}reportAmbiguity(e,t,r,i,s,o,a){if(this.exactOnly&&!s)return;let c=this.getDecisionDescription(e,t),d=this.getConflictingAlts(o,a),p=e.inputStream.getText(fre.Interval.of(r,i)),b=`reportAmbiguity d=${c}: ambigAlts=${d}, input='${p}'`;e.notifyErrorListeners(b)}reportAttemptingFullContext(e,t,r,i,s,o){let a="reportAttemptingFullContext d=%s, input='%s'",c=this.getDecisionDescription(e,t),d=e.inputStream.getText(fre.Interval.of(r,i)),p=`reportAttemptingFullContext d=${c}, input='${d}'`;e.notifyErrorListeners(p)}reportContextSensitivity(e,t,r,i,s,o){let a="reportContextSensitivity d=%s, input='%s'",c=this.getDecisionDescription(e,t),d=e.inputStream.getText(fre.Interval.of(r,i)),p=`reportContextSensitivity d=${c}, input='${d}'`;e.notifyErrorListeners(p)}getDecisionDescription(e,t){let r=t.decision,i=t.atnStartState.ruleIndex,s=e.ruleNames;if(i<0||i>=s.length)return r.toString();let o=s[i];return o?`${r} (${o})`:r.toString()}getConflictingAlts(e,t){if(e!=null)return e;let r=new vut.BitSet;for(let i of t)r.set(i.alt);return r}};tC([Wf.Override],L5.prototype,"syntaxError",null);tC([Wf.Override,o1(0,Wf.NotNull),o1(1,Wf.NotNull),o1(6,Wf.NotNull)],L5.prototype,"reportAmbiguity",null);tC([Wf.Override,o1(0,Wf.NotNull),o1(1,Wf.NotNull),o1(5,Wf.NotNull)],L5.prototype,"reportAttemptingFullContext",null);tC([Wf.Override,o1(0,Wf.NotNull),o1(1,Wf.NotNull),o1(5,Wf.NotNull)],L5.prototype,"reportContextSensitivity",null);tC([o1(0,Wf.NotNull),o1(1,Wf.NotNull)],L5.prototype,"getDecisionDescription",null);tC([Wf.NotNull,o1(1,Wf.NotNull)],L5.prototype,"getConflictingAlts",null);k5.DiagnosticErrorListener=L5});var Pbe=we(M5=>{"use strict";m();var I5=M5&&M5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},_ut=M5&&M5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(M5,"__esModule",{value:!0});M5.LexerInterpreter=void 0;var but=jg(),Eut=YF(),Mbe=Cr(),nC=Cr(),ax=class extends but.Lexer{constructor(e,t,r,i,s,o,a){super(a);if(o.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=e,this._atn=o,this._ruleNames=r.slice(0),this._channelNames=i.slice(0),this._modeNames=s.slice(0),this._vocabulary=t,this._interp=new Eut.LexerATNSimulator(o,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};I5([Mbe.NotNull],ax.prototype,"_vocabulary",void 0);I5([nC.Override],ax.prototype,"atn",null);I5([nC.Override],ax.prototype,"grammarFileName",null);I5([nC.Override],ax.prototype,"ruleNames",null);I5([nC.Override],ax.prototype,"channelNames",null);I5([nC.Override],ax.prototype,"modeNames",null);I5([nC.Override],ax.prototype,"vocabulary",null);ax=I5([_ut(1,Mbe.NotNull)],ax);M5.LexerInterpreter=ax});var jbe=we(Bbe=>{"use strict";m();Object.defineProperty(Bbe,"__esModule",{value:!0})});var qbe=we(rC=>{"use strict";m();var Sut=rC&&rC.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(rC,"__esModule",{value:!0});rC.RuleContextWithAltNum=void 0;var Cut=f2(),wut=Cr(),Aut=n1(),dre=class extends Aut.ParserRuleContext{constructor(e,t){t!==void 0?super(e,t):super(),this._altNumber=Cut.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(e){this._altNumber=e}};Sut([wut.Override],dre.prototype,"altNumber",null);rC.RuleContextWithAltNum=dre});var Ube=we(Eq=>{"use strict";m();Object.defineProperty(Eq,"__esModule",{value:!0});Eq.RuleDependency=void 0;function Tut(n){return(e,t,r)=>{}}Eq.RuleDependency=Tut});var $be=we(Sq=>{"use strict";m();Object.defineProperty(Sq,"__esModule",{value:!0});Sq.RuleVersion=void 0;function Fut(n){return(e,t,r)=>{}}Sq.RuleVersion=Fut});var Hbe=we(zbe=>{"use strict";m();Object.defineProperty(zbe,"__esModule",{value:!0})});var Wbe=we(Vbe=>{"use strict";m();Object.defineProperty(Vbe,"__esModule",{value:!0})});var Gbe=we(Qbe=>{"use strict";m();Object.defineProperty(Qbe,"__esModule",{value:!0})});var Jbe=we(B5=>{"use strict";m();var Cq=B5&&B5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(B5,"__esModule",{value:!0});B5.RewriteOperation=B5.TokenStreamRewriter=void 0;var Ybe=D0(),wq=Cr(),Kbe=iu(),Qf=class{constructor(e){this.tokens=e,this.programs=new Map,this.programs.set(Qf.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(e,t=Qf.DEFAULT_PROGRAM_NAME){let r=this.programs.get(t);r!=null&&this.programs.set(t,r.slice(Qf.MIN_TOKEN_INDEX,e))}deleteProgram(e=Qf.DEFAULT_PROGRAM_NAME){this.rollback(Qf.MIN_TOKEN_INDEX,e)}insertAfter(e,t,r=Qf.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new hre(this.tokens,i,s.length,t);s.push(o)}insertBefore(e,t,r=Qf.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new P5(this.tokens,i,s.length,t);s.push(o)}replaceSingle(e,t){typeof e=="number"?this.replace(e,e,t):this.replace(e,e,t)}replace(e,t,r,i=Qf.DEFAULT_PROGRAM_NAME){if(typeof e!="number"&&(e=e.tokenIndex),typeof t!="number"&&(t=t.tokenIndex),e>t||e<0||t<0||t>=this.tokens.size)throw new RangeError(`replace: range invalid: ${e}..${t}(size=${this.tokens.size})`);let s=this.getProgram(i),o=new C6(this.tokens,e,t,s.length,r);s.push(o)}delete(e,t,r=Qf.DEFAULT_PROGRAM_NAME){t===void 0&&(t=e),typeof e=="number"?this.replace(e,t,"",r):this.replace(e,t,"",r)}getLastRewriteTokenIndex(e=Qf.DEFAULT_PROGRAM_NAME){let t=this.lastRewriteTokenIndexes.get(e);return t??-1}setLastRewriteTokenIndex(e,t){this.lastRewriteTokenIndexes.set(e,t)}getProgram(e){let t=this.programs.get(e);return t==null&&(t=this.initializeProgram(e)),t}initializeProgram(e){let t=[];return this.programs.set(e,t),t}getText(e,t=Qf.DEFAULT_PROGRAM_NAME){let r;e instanceof Ybe.Interval?r=e:r=Ybe.Interval.of(0,this.tokens.size-1),typeof e=="string"&&(t=e);let i=this.programs.get(t),s=r.a,o=r.b;if(o>this.tokens.size-1&&(o=this.tokens.size-1),s<0&&(s=0),i==null||i.length===0)return this.tokens.getText(r);let a=[],c=this.reduceToSingleOperationPerIndex(i),d=s;for(;d<=o&&d<this.tokens.size;){let p=c.get(d);c.delete(d);let b=this.tokens.get(d);p==null?(b.type!==Kbe.Token.EOF&&a.push(String(b.text)),d++):d=p.execute(a)}if(o===this.tokens.size-1)for(let p of c.values())p.index>=this.tokens.size-1&&a.push(p.text.toString());return a.join("")}reduceToSingleOperationPerIndex(e){for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof C6))continue;let s=i,o=this.getKindOfOps(e,P5,r);for(let c of o)c.index===s.index?(e[c.instructionIndex]=void 0,s.text=c.text.toString()+(s.text!=null?s.text.toString():"")):c.index>s.index&&c.index<=s.lastIndex&&(e[c.instructionIndex]=void 0);let a=this.getKindOfOps(e,C6,r);for(let c of a){if(c.index>=s.index&&c.lastIndex<=s.lastIndex){e[c.instructionIndex]=void 0;continue}let d=c.lastIndex<s.index||c.index>s.lastIndex;if(c.text==null&&s.text==null&&!d)e[c.instructionIndex]=void 0,s.index=Math.min(c.index,s.index),s.lastIndex=Math.max(c.lastIndex,s.lastIndex);else if(!d)throw new Error(`replace op boundaries of ${s} overlap with previous ${c}`)}}for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof P5))continue;let s=i,o=this.getKindOfOps(e,P5,r);for(let c of o)c.index===s.index&&(c instanceof hre?(s.text=this.catOpText(c.text,s.text),e[c.instructionIndex]=void 0):c instanceof P5&&(s.text=this.catOpText(s.text,c.text),e[c.instructionIndex]=void 0));let a=this.getKindOfOps(e,C6,r);for(let c of a){if(s.index===c.index){c.text=this.catOpText(s.text,c.text),e[r]=void 0;continue}if(s.index>=c.index&&s.index<=c.lastIndex)throw new Error(`insert op ${s} within boundaries of previous ${c}`)}}let t=new Map;for(let r of e)if(r!=null){if(t.get(r.index)!=null)throw new Error("should only be one op per index");t.set(r.index,r)}return t}catOpText(e,t){let r="",i="";return e!=null&&(r=e.toString()),t!=null&&(i=t.toString()),r+i}getKindOfOps(e,t,r){let i=[];for(let s=0;s<r&&s<e.length;s++){let o=e[s];o!=null&&o instanceof t&&i.push(o)}return i}};B5.TokenStreamRewriter=Qf;Qf.DEFAULT_PROGRAM_NAME="default";Qf.PROGRAM_INIT_SIZE=100;Qf.MIN_TOKEN_INDEX=0;var wD=class{constructor(e,t,r,i){this.tokens=e,this.instructionIndex=r,this.index=t,this.text=i===void 0?"":i}execute(e){return this.index}toString(){let e=this.constructor.name,t=e.indexOf("$");return e=e.substring(t+1,e.length),"<"+e+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}};Cq([wq.Override],wD.prototype,"toString",null);B5.RewriteOperation=wD;var P5=class extends wD{constructor(e,t,r,i){super(e,t,r,i)}execute(e){return e.push(this.text.toString()),this.tokens.get(this.index).type!==Kbe.Token.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}};Cq([wq.Override],P5.prototype,"execute",null);var hre=class extends P5{constructor(e,t,r,i){super(e,t+1,r,i)}},C6=class extends wD{constructor(e,t,r,i,s){super(e,t,i,s);this.lastIndex=r}execute(e){return this.text!=null&&e.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}};Cq([wq.Override],C6.prototype,"execute",null);Cq([wq.Override],C6.prototype,"toString",null)});var Zbe=we(Xbe=>{"use strict";m();Object.defineProperty(Xbe,"__esModule",{value:!0})});var tEe=we(eEe=>{"use strict";m();Object.defineProperty(eEe,"__esModule",{value:!0})});var nEe=we(Ss=>{"use strict";m();var Dut=Ss&&Ss.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ys=Ss&&Ss.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Dut(e,n,t)};Object.defineProperty(Ss,"__esModule",{value:!0});Ys(E3e(),Ss);Ys(C3e(),Ss);Ys(mve(),Ss);Ys(Jne(),Ss);Ys(Nne(),Ss);Ys(Lbe(),Ss);Ys(tq(),Ss);Ys(Tne(),Ss);Ys(Fne(),Ss);Ys(E8(),Ss);Ys(tj(),Ss);Ys(iq(),Ss);Ys(cte(),Ss);Ys(_q(),Ss);Ys(kbe(),Ss);Ys(Ibe(),Ss);Ys(TF(),Ss);Ys(FF(),Ss);Ys(Mne(),Ss);Ys(wg(),Ss);Ys(jg(),Ss);Ys(Pbe(),Ss);Ys(QF(),Ss);Ys(Lne(),Ss);Ys(iD(),Ss);Ys(pS(),Ss);Ys(jbe(),Ss);Ys(Bne(),Ss);Ys(n1(),Ss);Ys(gj(),Ss);Ys(Ane(),Ss);Ys(Tg(),Ss);Ys(F8(),Ss);Ys(Jte(),Ss);Ys(qbe(),Ss);Ys(Ube(),Ss);Ys($be(),Ss);Ys(iu(),Ss);Ys(Hbe(),Ss);Ys(Wbe(),Ss);Ys(Gbe(),Ss);Ys(Jbe(),Ss);Ys(Zbe(),Ss);Ys(Ig(),Ss);Ys(tEe(),Ss)});var iEe=we(ux=>{"use strict";m();var Out=ux&&ux.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Nut=ux&&ux.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Rut=ux&&ux.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Out(e,n,t);return Nut(e,n),e};Object.defineProperty(ux,"__esModule",{value:!0});ux.MalloyLexer=void 0;var Lut=dD(),kut=jg(),Iut=YF(),Mut=Ig(),rEe=Rut(c2()),tr=class extends kut.Lexer{constructor(e){super(e);this._interp=new Iut.LexerATNSimulator(tr._ATN,this)}get vocabulary(){return tr.VOCABULARY}get grammarFileName(){return"MalloyLexer.g4"}get ruleNames(){return tr.ruleNames}get serializedATN(){return tr._serializedATN}get channelNames(){return tr.channelNames}get modeNames(){return tr.modeNames}static get _ATN(){return tr.__ATN||(tr.__ATN=new Lut.ATNDeserializer().deserialize(rEe.toCharArray(tr._serializedATN))),tr.__ATN}};ux.MalloyLexer=tr;tr.JSON_STRING=1;tr.ACCEPT=2;tr.AGGREGATE=3;tr.DECLARE=4;tr.DIMENSION=5;tr.EXCEPT=6;tr.EXPLORE=7;tr.GROUP_BY=8;tr.HAVING=9;tr.INDEX=10;tr.JOIN_CROSS=11;tr.JOIN_ONE=12;tr.JOIN_MANY=13;tr.LIMIT=14;tr.MEASURE=15;tr.NEST=16;tr.ORDER_BY=17;tr.PRIMARY_KEY=18;tr.PROJECT=19;tr.QUERY=20;tr.RENAME=21;tr.SAMPLE=22;tr.SOURCE=23;tr.SQL=24;tr.FANCYSQL=25;tr.TOP=26;tr.WHERE=27;tr.ALL=28;tr.AND=29;tr.AS=30;tr.ASC=31;tr.AVG=32;tr.BOOLEAN=33;tr.BY=34;tr.CASE=35;tr.CAST=36;tr.CONDITION=37;tr.COUNT=38;tr.DATE=39;tr.DAY=40;tr.DESC=41;tr.DISTINCT=42;tr.ELSE=43;tr.END=44;tr.EXCLUDE=45;tr.FALSE=46;tr.FOR=47;tr.FROM=48;tr.FROM_SQL=49;tr.HAS=50;tr.HOUR=51;tr.IMPORT=52;tr.IS=53;tr.JSON=54;tr.LAST=55;tr.MAX=56;tr.MIN=57;tr.MINUTE=58;tr.MONTH=59;tr.NOT=60;tr.NOW=61;tr.NULL=62;tr.NUMBER=63;tr.ON=64;tr.OR=65;tr.PICK=66;tr.QMARK=67;tr.QUARTER=68;tr.SECOND=69;tr.STRING=70;tr.SUM=71;tr.TABLE=72;tr.THEN=73;tr.THIS=74;tr.TIMESTAMP=75;tr.TO=76;tr.TRUE=77;tr.TURTLE=78;tr.WEEK=79;tr.WHEN=80;tr.WITH=81;tr.YEAR=82;tr.UNGROUPED=83;tr.STRING_ESCAPE=84;tr.HACKY_REGEX=85;tr.STRING_LITERAL=86;tr.AMPER=87;tr.ARROW=88;tr.FAT_ARROW=89;tr.OPAREN=90;tr.CPAREN=91;tr.OBRACK=92;tr.CBRACK=93;tr.OCURLY=94;tr.CCURLY=95;tr.DOUBLECOLON=96;tr.COLON=97;tr.COMMA=98;tr.DOT=99;tr.LT=100;tr.GT=101;tr.EQ=102;tr.NE=103;tr.LTE=104;tr.GTE=105;tr.PLUS=106;tr.MINUS=107;tr.STAR=108;tr.STARSTAR=109;tr.SLASH=110;tr.BAR=111;tr.SEMI=112;tr.NOT_MATCH=113;tr.MATCH=114;tr.LITERAL_TIMESTAMP=115;tr.LITERAL_DAY=116;tr.LITERAL_QUARTER=117;tr.LITERAL_MONTH=118;tr.LITERAL_WEEK=119;tr.LITERAL_YEAR=120;tr.IDENTIFIER=121;tr.PERCENT_LITERAL=122;tr.INTEGER_LITERAL=123;tr.NUMERIC_LITERAL=124;tr.OBJECT_NAME_LITERAL=125;tr.BLOCK_COMMENT=126;tr.COMMENT_TO_EOL=127;tr.WHITE_SPACE=128;tr.SQL_STRING=129;tr.UNWATED_CHARS_TRAILING_NUMBERS=130;tr.UNEXPECTED_CHAR=131;tr.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];tr.modeNames=["DEFAULT_MODE"];tr.ruleNames=["JSON_STRING","ESC","UNICODE","HEX","SAFECODEPOINT","SPACE_CHAR","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","F_YEAR","F_DD","LX","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","ID_CHAR","DIGIT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];tr._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'"];tr._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];tr.VOCABULARY=new Mut.VocabularyImpl(tr._LITERAL_NAMES,tr._SYMBOLIC_NAMES,[]);tr._serializedATNSegments=4;tr._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x85\u0580\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	fg	gh	hi	ij	jk	kl	lm	mn	no	op	pq	qr	rs	st	tu	uv	vw	wx	xy	yz	z{	{|	|}	}~	~\x7F	\x7F\x80	\x80\x81	\x81\x82	\x82\x83	\x83\x84	\x84\x85	\x85\x86	\x86\x87	\x87\x88	\x88\x89	\x89\x8A	\x8A\x8B	\x8B\x8C	\x8C\x8D	\x8D\x8E	\x8E\x8F	\x8F\x90	\x90\x91	\x91\x92	\x92\x93	\x93\x94	\x94\x95	\x95\x96	\x96\x97	\x97\x98	\x98\x99	\x99\x9A	\x9A\x9B	\x9B\x9C	\x9C\x9D	\x9D\x9E	\x9E\x9F	\x9F\xA0	\xA0\xA1	\xA1\xA2	\xA2\xA3	\xA3\xA4	\xA4\xA5	\xA5\xA6	\xA6\xA7	\xA7\xA8	\xA8\x07\u0155
\f\u0158\v\u015F
\x07\x07\b\b\b\b\b\b\b\x07\b\u0174
\b\f\b\b\u0177\v\b\b\b										\x07	\u0185
	\f		\u0188\v			








\v\v\v\v\v\v\v\v\v\v\x07\v\u019F
\v\f\v\v\u01A2\v\v\v\v\f\f\f\f\f\f\f\x07\f\u01AD
\f\f\f\f\u01B0\v\f\f\f\r\r\r\r\r\r\r\r\x07\r\u01BC
\r\f\r\r\u01BF\v\r\r\r\x07\u01CC
\f\u01CF\v\x07\u01DA
\f\u01DD\v\x07\u01E7
\f\u01EA\v\x07\u0203
\f\u0206\v\x07\u0214
\f\u0217\v\x07\u0221
\f\u0224\v\x07\u0230
\f\u0233\v\x07\u023C
\f\u023F\v\x07\u024C
\f\u024F\v\x07\u025F
\f\u0262\v\x07\u026E
\f\u0271\v\x07\u027B
\f\u027E\v\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x07\x1B\u0289
\x1B\f\x1B\x1B\u028C\v\x1B\x1B\x1B\x07\u0297
\f\u029A\v\x07\u02A5
\f\u02A8\v\x07\u02B0
\f\u02B3\v\x07\u02BF
\f\u02C2\v    \x07 \u02CA
 \f  \u02CD\v   !!!!!!\x07!\u02D7
!\f!!\u02DA\v!!!""""####$$$%%%%&&&&''''''''((()))))*****++++++++++,,,,,,-----.....\u031F
./////000000000111112222333333334444445555666667777777778888999999\u0361
9:::::::;;;<<<<<=====>>>>????@@@@@@@@\u0386
@AAAAAAA\u038E
ABBBBCCCCDDDDDEEEEEEEFFFGGGHHHHHIIJJJJJJJJJ\u03B9
JKKKKKKKK\u03C2
KLLLLLLLMMMMNNNNNNOOOOOPPPPPQQQQQQQQQQRRRSSSSSTTTTTTTUUUUUU\u03FD
UVVVVVWWWWWXXXXXX\u040E
XYYYYYYYYYYZZZZZZZ\u0420
Z[[\u0423
[[[[\x07[\u0428
[\f[[\u042B\v[[[\\\\\\\x07\\\u0432
\\\f\\\\\u0435\v\\\\\\]]^^^___\`\`aabbccddeefffgghhiijjkkllmmmnnnoooppqqrrsssttuuvvwwwxxyyyyyzzz{{{{{\u0485
{\r{{\u0486|||||||||||||\u0495
|||\u0498
|}}}}}}}}\u04A1
}~~~~~~~\u04A9
~\x7F\x7F\x7F\x7F\x7F\x7F\u04B0
\x7F\x80\x80\x80\x80\x80\x80\x80\x80\x80\x80\u04BB
\x80\x81\x81\x81\x81\u04C0
\x81\x82\x82\x82\x07\x82\u04C5
\x82\f\x82\x82\u04C8\v\x82\x83\x83\u04CB
\x83\r\x83\x83\u04CC\x83\x83\x84\x84\u04D2
\x84\r\x84\x84\u04D3\x85\x85\u04D7
\x85\r\x85\x85\u04D8\x85\x85\x07\x85\u04DD
\x85\f\x85\x85\u04E0\v\x85\x85\u04E2
\x85\x85\x85\x85\u04E6
\x85\r\x85\x85\u04E7\x85\x85\x85\u04EC
\x85\x85\x85\u04EF
\x85\r\x85\x85\u04F0\x85\u04F3
\x85\x85\u04F5
\x85\x86\x86\x86\x86\x86\x07\x86\u04FC
\x86\f\x86\x86\u04FF\v\x86\x86\x86\x87\x87\x88\x88\x89\x89\x8A\x8A\x8B\x8B\x8C\x8C\x8D\x8D\x8E\x8E\x8F\x8F\x90\x90\x91\x91\x92\x92\x93\x93\x94\x94\x95\x95\x96\x96\x97\x97\x98\x98\x99\x99\x9A\x9A\x9B\x9B\x9C\x9C\x9D\x9D\x9E\x9E\x9F\x9F\xA0\xA0\xA1\xA1\xA2\xA2\xA3\xA3\xA3\xA3\x07\xA3\u053F
\xA3\f\xA3\xA3\u0542\v\xA3\xA3\xA3\xA3\xA3\xA3\xA4\xA4\xA4\xA4\xA4\u054D
\xA4\xA4\x07\xA4\u0550
\xA4\f\xA4\xA4\u0553\v\xA4\xA4\xA4\u0556
\xA4\xA4\xA4\xA4\u055A
\xA4\xA4\xA4\xA5\xA5\xA5\xA5\xA6\xA6\xA6\xA6\x07\xA6\u0566
\xA6\f\xA6\xA6\u0569\v\xA6\xA6\xA6\xA6\xA7\xA7\u056F
\xA7\r\xA7\xA7\u0570\xA7\xA7\u0574
\xA7\r\xA7\xA7\u0575\xA7\xA7\x07\xA7\u057A
\xA7\f\xA7\xA7\u057D\v\xA7\xA8\xA8\u0540\u0567\xA9\x07	\v\r\x07\b	\x1B
\v\f!\r#%')+-/13579;=\x1B?ACEG I!K"M#O$Q%S&U'W(Y)[*]+_,a-c.e/g0i1k2m3o4q5s6u7w8y9{:};\x7F<\x81=\x83>\x85?\x87@\x89A\x8BB\x8DC\x8FD\x91E\x93F\x95G\x97H\x99I\x9BJ\x9DK\x9FL\xA1M\xA3N\xA5O\xA7P\xA9Q\xABR\xADS\xAFT\xB1U\xB3V\xB5W\xB7X\xB9Y\xBBZ\xBD[\xBF\\\xC1]\xC3^\xC5_\xC7\`\xC9a\xCBb\xCDc\xCFd\xD1e\xD3f\xD5g\xD7h\xD9i\xDBj\xDDk\xDFl\xE1m\xE3n\xE5o\xE7p\xE9q\xEBr\xEDs\xEFt\xF1\xF3\xF5\xF7u\xF9v\xFBw\xFDx\xFFy\u0101z\u0103{\u0105|\u0107}\u0109~\u010B\x7F\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0139\u013B\u013D\u013F\u0141\u0143\u0145\x80\u0147\x81\u0149\x82\u014B\x83\u014D\x84\u014F\x85%
$$11^^ddhhppttvv2;CHch!$$^^\v\r""11TTtt))^^--//2;CCccDDddEEeeFFffGGggHHhhIIiiJJjjKKkkLLllMMmmNNnnOOooPPppQQqqRRrrSSssTTttUUuuVVvvWWwwXXxxYYyyZZzz[[{{\\\\||\f\f\u0287C\\aac|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0347\u0347\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05B2\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0612\u061C\u0622\u0659\u065B\u0661\u0670\u06D5\u06D7\u06DE\u06E3\u06EA\u06EF\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0741\u074F\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0819\u081C\u082E\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u08D6\u08E1\u08E5\u08EB\u08F2\u093D\u093F\u094E\u0950\u0952\u0957\u0965\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09C6\u09C9\u09CA\u09CD\u09CE\u09D0\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09F2\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4E\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A72\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0AC7\u0AC9\u0ACB\u0ACD\u0ACE\u0AD2\u0AD2\u0AE2\u0AE5\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B46\u0B49\u0B4A\u0B4D\u0B4E\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCE\u0BD2\u0BD2\u0BD9\u0BD9\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4E\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CC6\u0CC8\u0CCA\u0CCC\u0CCE\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D4E\u0D50\u0D50\u0D56\u0D59\u0D61\u0D65\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E48\u0E4F\u0E4F\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECF\u0ECF\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F73\u0F83\u0F8A\u0F99\u0F9B\u0FBE\u1002\u1038\u103A\u103A\u103D\u1041\u1052\u1064\u1067\u106A\u1070\u1088\u1090\u1090\u109E\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1361\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1715\u1722\u1735\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17B5\u17B8\u17CA\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193A\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A1D\u1A22\u1A60\u1A63\u1A76\u1AA9\u1AA9\u1B02\u1B35\u1B37\u1B45\u1B47\u1B4D\u1B82\u1BAB\u1BAE\u1BB1\u1BBC\u1BE7\u1BE9\u1BF3\u1C02\u1C37\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF5\u1CF7\u1CF8\u1D02\u1DC1\u1DE9\u1DF6\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u24B8\u24EB\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2`;tr._serializedATNSegment1=`\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA676\uA67D\uA681\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA829\uA842\uA875\uA882\uA8C5\uA8C7\uA8C7\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA92C\uA932\uA954\uA962\uA97E\uA982\uA9B4\uA9B6\uA9C1\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAC0\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF7\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1047\u1084\u10BA\u10D2\u10EA\u1102\u1134\u1152\u1174\u1178\u1178\u1182\u11C1\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1236\u1239\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EA\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u1346\u1349\u134A\u134D\u134E\u1352\u1352\u1359\u1359\u135F\u1365\u1402\u1443\u1445\u1447\u1449\u144C\u1482\u14C3\u14C6\u14C7\u14C9\u14C9\u1582\u15B7\u15BA\u15C0\u15DA\u15DF\u1602\u1640\u1642\u1642\u1646\u1646\u1682\u16B7\u1702\u171B\u171F\u172C\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C40\u1C42\u1C42\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B38\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBCA0\uBCA0\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE902\uE945\uE949\uE949\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uF132\uF14B\uF152\uF16B\uF172\uF18B\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F\u05A6\x1B!#%')+-/13579;=?ACEGIKMOQSUWY[]_acegikmoqsuwy{}\x7F\x81\x83\x85\x87\x89\x8B\x8D\x8F\x91\x93\x95\x97\x99\x9B\x9D\x9F\xA1\xA3\xA5\xA7\xA9\xAB\xAD\xAF\xB1\xB3\xB5\xB7\xB9\xBB\xBD\xBF\xC1\xC3\xC5\xC7\xC9\xCB\xCD\xCF\xD1\xD3\xD5\xD7\xD9\xDB\xDD\xDF\xE1\xE3\xE5\xE7\xE9\xEB\xED\xEF\xF7\xF9\xFB\xFD\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u0145\u0147\u0149\u014B\u014D\u014F\u0151\u015B\x07\u0160	\u0166\v\u0168\r\u016A\u016C\u017A\u018B\u0194\u01A5\u01B3\x1B\u01C2\u01D2\u01E0!\u01ED#\u01F9%\u0209'\u021A)\u0227+\u0236-\u0242/\u02521\u02653\u02745\u02817\u028F9\u029D;\u02AB=\u02B6?\u02C5A\u02D0C\u02DDE\u02E1G\u02E5I\u02E8K\u02ECM\u02F0O\u02F8Q\u02FBS\u0300U\u0305W\u030FY\u0315[\u031A]\u0320_\u0325a\u032Ec\u0333e\u0337g\u033Fi\u0345k\u0349m\u034Eo\u0357q\u035Bs\u0362u\u0369w\u036Cy\u0371{\u0376}\u037A\x7F\u037E\x81\u0387\x83\u038F\x85\u0393\x87\u0397\x89\u039C\x8B\u03A3\x8D\u03A6\x8F\u03A9\x91\u03AE\x93\u03B0\x95\u03BA\x97\u03C3\x99\u03CA\x9B\u03CE\x9D\u03D4\x9F\u03D9\xA1\u03DE\xA3\u03E8\xA5\u03EB\xA7\u03F0\xA9\u03F7\xAB\u03FE\xAD\u0403\xAF\u0408\xB1\u040F\xB3\u041F\xB5\u0422\xB7\u042E\xB9\u0438\xBB\u043A\xBD\u043D\xBF\u0440\xC1\u0442\xC3\u0444\xC5\u0446\xC7\u0448\xC9\u044A\xCB\u044C\xCD\u044F\xCF\u0451\xD1\u0453\xD3\u0455\xD5\u0457\xD7\u0459\xD9\u045B\xDB\u045E\xDD\u0461\xDF\u0464\xE1\u0466\xE3\u0468\xE5\u046A\xE7\u046D\xE9\u046F\xEB\u0471\xED\u0473\xEF\u0476\xF1\u0478\xF3\u047D\xF5\u0480\xF7\u0488\xF9\u0499\xFB\u04A2\xFD\u04AA\xFF\u04B1\u0101\u04BC\u0103\u04C1\u0105\u04CA\u0107\u04D1\u0109\u04F4\u010B\u04F6\u010D\u0502\u010F\u0504\u0111\u0506\u0113\u0508\u0115\u050A\u0117\u050C\u0119\u050E\u011B\u0510\u011D\u0512\u011F\u0514\u0121\u0516\u0123\u0518\u0125\u051A\u0127\u051C\u0129\u051E\u012B\u0520\u012D\u0522\u012F\u0524\u0131\u0526\u0133\u0528\u0135\u052A\u0137\u052C\u0139\u052E\u013B\u0530\u013D\u0532\u013F\u0534\u0141\u0536\u0143\u0538\u0145\u053A\u0147\u054C\u0149\u055D\u014B\u0561\u014D\u056E\u014F\u057E\u0151\u0156\x07$\u0152\u0155\u0153\u0155\v\u0154\u0152\u0154\u0153\u0155\u0158\u0156\u0154\u0156\u0157\u0157\u0159\u0158\u0156\u0159\u015A\x07$\u015A\u015B\u015E\x07^\u015C\u015F	\u015D\u015F\x07\u015E\u015C\u015E\u015D\u015F\u0160\u0161\x07w\u0161\u0162	\u0162\u0163	\u0163\u0164	\u0164\u0165	\u0165\b\u0166\u0167	\u0167
\u0168\u0169
\u0169\f\u016A\u016B	\u016B\u016C\u016D\u0111\x89\u016D\u016E\u0115\x8B\u016E\u016F\u0115\x8B\u016F\u0170\u0119\x8D\u0170\u0171\u012F\x98\u0171\u0175\u0137\x9C\u0172\u0174\r\x07\u0173\u0172\u0174\u0177\u0175\u0173\u0175\u0176\u0176\u0178\u0177\u0175\u0178\u0179\x07<\u0179\u017A\u017B\u0111\x89\u017B\u017C\u011D\x8F\u017C\u017D\u011D\x8F\u017D\u017E\u0133\x9A\u017E\u017F\u0119\x8D\u017F\u0180\u011D\x8F\u0180\u0181\u0111\x89\u0181\u0182\u0137\x9C\u0182\u0186\u0119\x8D\u0183\u0185\r\x07\u0184\u0183\u0185\u0188\u0186\u0184\u0186\u0187\u0187\u0189\u0188\u0186\u0189\u018A\x07<\u018A\u018B\u018C\u0117\x8C\u018C\u018D\u0119\x8D\u018D\u018E\u0115\x8B\u018E\u018F\u0127\x94\u018F\u0190\u0111\x89\u0190\u0191\u0133\x9A\u0191\u0192\u0119\x8D\u0192\u0193\x07<\u0193\u0194\u0195\u0117\x8C\u0195\u0196\u0121\x91\u0196\u0197\u0129\x95\u0197\u0198\u0119\x8D\u0198\u0199\u012B\x96\u0199\u019A\u0135\x9B\u019A\u019B\u0121\x91\u019B\u019C\u012D\x97\u019C\u01A0\u012B\x96\u019D\u019F\r\x07\u019E\u019D\u019F\u01A2\u01A0\u019E\u01A0\u01A1\u01A1\u01A3\u01A2\u01A0\u01A3\u01A4\x07<\u01A4\u01A5\u01A6\u0119\x8D\u01A6\u01A7\u013F\xA0\u01A7\u01A8\u0115\x8B\u01A8\u01A9\u0119\x8D\u01A9\u01AA\u012F\x98\u01AA\u01AE\u0137\x9C\u01AB\u01AD\r\x07\u01AC\u01AB\u01AD\u01B0\u01AE\u01AC\u01AE\u01AF\u01AF\u01B1\u01B0\u01AE\u01B1\u01B2\x07<\u01B2\u01B3\u01B4\u0119\x8D\u01B4\u01B5\u013F\xA0\u01B5\u01B6\u012F\x98\u01B6\u01B7\u0127\x94\u01B7\u01B8\u012D\x97\u01B8\u01B9\u0133\x9A\u01B9\u01BD\u0119\x8D\u01BA\u01BC\r\x07\u01BB\u01BA\u01BC\u01BF\u01BD\u01BB\u01BD\u01BE\u01BE\u01C0\u01BF\u01BD\u01C0\u01C1\x07<\u01C1\u01C2\u01C3\u011D\x8F\u01C3\u01C4\u0133\x9A\u01C4\u01C5\u012D\x97\u01C5\u01C6\u0139\x9D\u01C6\u01C7\u012F\x98\u01C7\u01C8\x07a\u01C8\u01C9\u0113\x8A\u01C9\u01CD\u0141\xA1\u01CA\u01CC\r\x07\u01CB\u01CA\u01CC\u01CF\u01CD\u01CB\u01CD\u01CE\u01CE\u01D0\u01CF\u01CD\u01D0\u01D1\x07<\u01D1\u01D2\u01D3\u011F\x90\u01D3\u01D4\u0111\x89\u01D4\u01D5\u013B\x9E\u01D5\u01D6\u0121\x91\u01D6\u01D7\u012B\x96\u01D7\u01DB\u011D\x8F\u01D8\u01DA\r\x07\u01D9\u01D8\u01DA\u01DD\u01DB\u01D9\u01DB\u01DC\u01DC\u01DE\u01DD\u01DB\u01DE\u01DF\x07<\u01DF\u01E0\u01E1\u0121\x91\u01E1\u01E2\u012B\x96\u01E2\u01E3\u0117\x8C\u01E3\u01E4\u0119\x8D\u01E4\u01E8\u013F\xA0\u01E5\u01E7\r\x07\u01E6\u01E5\u01E7\u01EA\u01E8\u01E6\u01E8\u01E9\u01E9\u01EB\u01EA\u01E8\u01EB\u01EC\x07<\u01EC \u01ED\u01EE\u0123\x92\u01EE\u01EF\u012D\x97\u01EF\u01F0\u0121\x91\u01F0\u01F1\u012B\x96\u01F1\u01F2\x07a\u01F2\u01F3\u0115\x8B\u01F3\u01F4\u0133\x9A\u01F4\u01F5\u012D\x97\u01F5\u01F6\u0135\x9B\u01F6\u01F7\u0135\x9B\u01F7\u01F8\x07<\u01F8"\u01F9\u01FA\u0123\x92\u01FA\u01FB\u012D\x97\u01FB\u01FC\u0121\x91\u01FC\u01FD\u012B\x96\u01FD\u01FE\x07a\u01FE\u01FF\u012D\x97\u01FF\u0200\u012B\x96\u0200\u0204\u0119\x8D\u0201\u0203\r\x07\u0202\u0201\u0203\u0206\u0204\u0202\u0204\u0205\u0205\u0207\u0206\u0204\u0207\u0208\x07<\u0208$\u0209\u020A\u0123\x92\u020A\u020B\u012D\x97\u020B\u020C\u0121\x91\u020C\u020D\u012B\x96\u020D\u020E\x07a\u020E\u020F\u0129\x95\u020F\u0210\u0111\x89\u0210\u0211\u012B\x96\u0211\u0215\u0141\xA1\u0212\u0214\r\x07\u0213\u0212\u0214\u0217\u0215\u0213\u0215\u0216\u0216\u0218\u0217\u0215\u0218\u0219\x07<\u0219&\u021A\u021B\u0127\x94\u021B\u021C\u0121\x91\u021C\u021D\u0129\x95\u021D\u021E\u0121\x91\u021E\u0222\u0137\x9C\u021F\u0221\r\x07\u0220\u021F\u0221\u0224\u0222\u0220\u0222\u0223\u0223\u0225\u0224\u0222\u0225\u0226\x07<\u0226(\u0227\u0228\u0129\x95\u0228\u0229\u0119\x8D\u0229\u022A\u0111\x89\u022A\u022B\u0135\x9B\u022B\u022C\u0139\x9D\u022C\u022D\u0133\x9A\u022D\u0231\u0119\x8D\u022E\u0230\r\x07\u022F\u022E\u0230\u0233\u0231\u022F\u0231\u0232\u0232\u0234\u0233\u0231\u0234\u0235\x07<\u0235*\u0236\u0237\u012B\x96\u0237\u0238\u0119\x8D\u0238\u0239\u0135\x9B\u0239\u023D\u0137\x9C\u023A\u023C\r\x07\u023B\u023A\u023C\u023F\u023D\u023B\u023D\u023E\u023E\u0240\u023F\u023D\u0240\u0241\x07<\u0241,\u0242\u0243\u012D\x97\u0243\u0244\u0133\x9A\u0244\u0245\u0117\x8C\u0245\u0246\u0119\x8D\u0246\u0247\u0133\x9A\u0247\u0248\x07a\u0248\u0249\u0113\x8A\u0249\u024D\u0141\xA1\u024A\u024C\r\x07\u024B\u024A\u024C\u024F\u024D\u024B\u024D\u024E\u024E\u0250\u024F\u024D\u0250\u0251\x07<\u0251.\u0252\u0253\u012F\x98\u0253\u0254\u0133\x9A\u0254\u0255\u0121\x91\u0255\u0256\u0129\x95\u0256\u0257\u0111\x89\u0257\u0258\u0133\x9A\u0258\u0259\u0141\xA1\u0259\u025A\x07a\u025A\u025B\u0125\x93\u025B\u025C\u0119\x8D\u025C\u0260\u0141\xA1\u025D\u025F\r\x07\u025E\u025D\u025F\u0262\u0260\u025E\u0260\u0261\u0261\u0263\u0262\u0260\u0263\u0264\x07<\u02640\u0265\u0266\u012F\x98\u0266\u0267\u0133\x9A\u0267\u0268\u012D\x97\u0268\u0269\u0123\x92\u0269\u026A\u0119\x8D\u026A\u026B\u0115\x8B\u026B\u026F\u0137\x9C\u026C\u026E\r\x07\u026D\u026C\u026E\u0271\u026F\u026D\u026F\u0270\u0270\u0272\u0271\u026F\u0272\u0273\x07<\u02732\u0274\u0275\u0131\x99\u0275\u0276\u0139\x9D\u0276\u0277\u0119\x8D\u0277\u0278\u0133\x9A\u0278\u027C\u0141\xA1\u0279\u027B\r\x07\u027A\u0279\u027B\u027E\u027C\u027A\u027C\u027D\u027D\u027F\u027E\u027C\u027F\u0280\x07<\u02804\u0281\u0282\u0133\x9A\u0282\u0283\u0119\x8D\u0283`;tr._serializedATNSegment2=`\u0284\u012B\x96\u0284\u0285\u0111\x89\u0285\u0286\u0129\x95\u0286\u028A\u0119\x8D\u0287\u0289\r\x07\u0288\u0287\u0289\u028C\u028A\u0288\u028A\u028B\u028B\u028D\u028C\u028A\u028D\u028E\x07<\u028E6\u028F\u0290\u0135\x9B\u0290\u0291\u0111\x89\u0291\u0292\u0129\x95\u0292\u0293\u012F\x98\u0293\u0294\u0127\x94\u0294\u0298\u0119\x8D\u0295\u0297\r\x07\u0296\u0295\u0297\u029A\u0298\u0296\u0298\u0299\u0299\u029B\u029A\u0298\u029B\u029C\x07<\u029C8\u029D\u029E\u0135\x9B\u029E\u029F\u012D\x97\u029F\u02A0\u0139\x9D\u02A0\u02A1\u0133\x9A\u02A1\u02A2\u0115\x8B\u02A2\u02A6\u0119\x8D\u02A3\u02A5\r\x07\u02A4\u02A3\u02A5\u02A8\u02A6\u02A4\u02A6\u02A7\u02A7\u02A9\u02A8\u02A6\u02A9\u02AA\x07<\u02AA:\u02AB\u02AC\u0135\x9B\u02AC\u02AD\u0131\x99\u02AD\u02B1\u0127\x94\u02AE\u02B0\r\x07\u02AF\u02AE\u02B0\u02B3\u02B1\u02AF\u02B1\u02B2\u02B2\u02B4\u02B3\u02B1\u02B4\u02B5\x07<\u02B5<\u02B6\u02B7\u0137\x9C\u02B7\u02B8\u0139\x9D\u02B8\u02B9\u0133\x9A\u02B9\u02BA\u0117\x8C\u02BA\u02BB\u0139\x9D\u02BB\u02BC\u0115\x8B\u02BC\u02C0\u0125\x93\u02BD\u02BF\r\x07\u02BE\u02BD\u02BF\u02C2\u02C0\u02BE\u02C0\u02C1\u02C1\u02C3\u02C2\u02C0\u02C3\u02C4\x07<\u02C4>\u02C5\u02C6\u0137\x9C\u02C6\u02C7\u012D\x97\u02C7\u02CB\u012F\x98\u02C8\u02CA\r\x07\u02C9\u02C8\u02CA\u02CD\u02CB\u02C9\u02CB\u02CC\u02CC\u02CE\u02CD\u02CB\u02CE\u02CF\x07<\u02CF@\u02D0\u02D1\u013D\x9F\u02D1\u02D2\u011F\x90\u02D2\u02D3\u0119\x8D\u02D3\u02D4\u0133\x9A\u02D4\u02D8\u0119\x8D\u02D5\u02D7\r\x07\u02D6\u02D5\u02D7\u02DA\u02D8\u02D6\u02D8\u02D9\u02D9\u02DB\u02DA\u02D8\u02DB\u02DC\x07<\u02DCB\u02DD\u02DE\u0111\x89\u02DE\u02DF\u0127\x94\u02DF\u02E0\u0127\x94\u02E0D\u02E1\u02E2\u0111\x89\u02E2\u02E3\u012B\x96\u02E3\u02E4\u0117\x8C\u02E4F\u02E5\u02E6\u0111\x89\u02E6\u02E7\u0135\x9B\u02E7H\u02E8\u02E9\u0111\x89\u02E9\u02EA\u0135\x9B\u02EA\u02EB\u0115\x8B\u02EBJ\u02EC\u02ED\u0111\x89\u02ED\u02EE\u013B\x9E\u02EE\u02EF\u011D\x8F\u02EFL\u02F0\u02F1\u0113\x8A\u02F1\u02F2\u012D\x97\u02F2\u02F3\u012D\x97\u02F3\u02F4\u0127\x94\u02F4\u02F5\u0119\x8D\u02F5\u02F6\u0111\x89\u02F6\u02F7\u012B\x96\u02F7N\u02F8\u02F9\u0113\x8A\u02F9\u02FA\u0141\xA1\u02FAP\u02FB\u02FC\u0115\x8B\u02FC\u02FD\u0111\x89\u02FD\u02FE\u0135\x9B\u02FE\u02FF\u0119\x8D\u02FFR\u0300\u0301\u0115\x8B\u0301\u0302\u0111\x89\u0302\u0303\u0135\x9B\u0303\u0304\u0137\x9C\u0304T\u0305\u0306\u0115\x8B\u0306\u0307\u012D\x97\u0307\u0308\u012B\x96\u0308\u0309\u0117\x8C\u0309\u030A\u0121\x91\u030A\u030B\u0137\x9C\u030B\u030C\u0121\x91\u030C\u030D\u012D\x97\u030D\u030E\u012B\x96\u030EV\u030F\u0310\u0115\x8B\u0310\u0311\u012D\x97\u0311\u0312\u0139\x9D\u0312\u0313\u012B\x96\u0313\u0314\u0137\x9C\u0314X\u0315\u0316\u0117\x8C\u0316\u0317\u0111\x89\u0317\u0318\u0137\x9C\u0318\u0319\u0119\x8D\u0319Z\u031A\u031B\u0117\x8C\u031B\u031C\u0111\x89\u031C\u031E\u0141\xA1\u031D\u031F\u0135\x9B\u031E\u031D\u031E\u031F\u031F\\\u0320\u0321\u0117\x8C\u0321\u0322\u0119\x8D\u0322\u0323\u0135\x9B\u0323\u0324\u0115\x8B\u0324^\u0325\u0326\u0117\x8C\u0326\u0327\u0121\x91\u0327\u0328\u0135\x9B\u0328\u0329\u0137\x9C\u0329\u032A\u0121\x91\u032A\u032B\u012B\x96\u032B\u032C\u0115\x8B\u032C\u032D\u0137\x9C\u032D\`\u032E\u032F\u0119\x8D\u032F\u0330\u0127\x94\u0330\u0331\u0135\x9B\u0331\u0332\u0119\x8D\u0332b\u0333\u0334\u0119\x8D\u0334\u0335\u012B\x96\u0335\u0336\u0117\x8C\u0336d\u0337\u0338\u0119\x8D\u0338\u0339\u013F\xA0\u0339\u033A\u0115\x8B\u033A\u033B\u0127\x94\u033B\u033C\u0139\x9D\u033C\u033D\u0117\x8C\u033D\u033E\u0119\x8D\u033Ef\u033F\u0340\u011B\x8E\u0340\u0341\u0111\x89\u0341\u0342\u0127\x94\u0342\u0343\u0135\x9B\u0343\u0344\u0119\x8D\u0344h\u0345\u0346\u011B\x8E\u0346\u0347\u012D\x97\u0347\u0348\u0133\x9A\u0348j\u0349\u034A\u011B\x8E\u034A\u034B\u0133\x9A\u034B\u034C\u012D\x97\u034C\u034D\u0129\x95\u034Dl\u034E\u034F\u011B\x8E\u034F\u0350\u0133\x9A\u0350\u0351\u012D\x97\u0351\u0352\u0129\x95\u0352\u0353\x07a\u0353\u0354\u0135\x9B\u0354\u0355\u0131\x99\u0355\u0356\u0127\x94\u0356n\u0357\u0358\u011F\x90\u0358\u0359\u0111\x89\u0359\u035A\u0135\x9B\u035Ap\u035B\u035C\u011F\x90\u035C\u035D\u012D\x97\u035D\u035E\u0139\x9D\u035E\u0360\u0133\x9A\u035F\u0361\u0135\x9B\u0360\u035F\u0360\u0361\u0361r\u0362\u0363\u0121\x91\u0363\u0364\u0129\x95\u0364\u0365\u012F\x98\u0365\u0366\u012D\x97\u0366\u0367\u0133\x9A\u0367\u0368\u0137\x9C\u0368t\u0369\u036A\u0121\x91\u036A\u036B\u0135\x9B\u036Bv\u036C\u036D\u0123\x92\u036D\u036E\u0135\x9B\u036E\u036F\u012D\x97\u036F\u0370\u012B\x96\u0370x\u0371\u0372\u0127\x94\u0372\u0373\u0111\x89\u0373\u0374\u0135\x9B\u0374\u0375\u0137\x9C\u0375z\u0376\u0377\u0129\x95\u0377\u0378\u0111\x89\u0378\u0379\u013F\xA0\u0379|\u037A\u037B\u0129\x95\u037B\u037C\u0121\x91\u037C\u037D\u012B\x96\u037D~\u037E\u037F\u0129\x95\u037F\u0380\u0121\x91\u0380\u0381\u012B\x96\u0381\u0382\u0139\x9D\u0382\u0383\u0137\x9C\u0383\u0385\u0119\x8D\u0384\u0386\u0135\x9B\u0385\u0384\u0385\u0386\u0386\x80\u0387\u0388\u0129\x95\u0388\u0389\u012D\x97\u0389\u038A\u012B\x96\u038A\u038B\u0137\x9C\u038B\u038D\u011F\x90\u038C\u038E\u0135\x9B\u038D\u038C\u038D\u038E\u038E\x82\u038F\u0390\u012B\x96\u0390\u0391\u012D\x97\u0391\u0392\u0137\x9C\u0392\x84\u0393\u0394\u012B\x96\u0394\u0395\u012D\x97\u0395\u0396\u013D\x9F\u0396\x86\u0397\u0398\u012B\x96\u0398\u0399\u0139\x9D\u0399\u039A\u0127\x94\u039A\u039B\u0127\x94\u039B\x88\u039C\u039D\u012B\x96\u039D\u039E\u0139\x9D\u039E\u039F\u0129\x95\u039F\u03A0\u0113\x8A\u03A0\u03A1\u0119\x8D\u03A1\u03A2\u0133\x9A\u03A2\x8A\u03A3\u03A4\u012D\x97\u03A4\u03A5\u012B\x96\u03A5\x8C\u03A6\u03A7\u012D\x97\u03A7\u03A8\u0133\x9A\u03A8\x8E\u03A9\u03AA\u012F\x98\u03AA\u03AB\u0121\x91\u03AB\u03AC\u0115\x8B\u03AC\u03AD\u0125\x93\u03AD\x90\u03AE\u03AF\x07A\u03AF\x92\u03B0\u03B1\u0131\x99\u03B1\u03B2\u0139\x9D\u03B2\u03B3\u0111\x89\u03B3\u03B4\u0133\x9A\u03B4\u03B5\u0137\x9C\u03B5\u03B6\u0119\x8D\u03B6\u03B8\u0133\x9A\u03B7\u03B9\u0135\x9B\u03B8\u03B7\u03B8\u03B9\u03B9\x94\u03BA\u03BB\u0135\x9B\u03BB\u03BC\u0119\x8D\u03BC\u03BD\u0115\x8B\u03BD\u03BE\u012D\x97\u03BE\u03BF\u012B\x96\u03BF\u03C1\u0117\x8C\u03C0\u03C2\u0135\x9B\u03C1\u03C0\u03C1\u03C2\u03C2\x96\u03C3\u03C4\u0135\x9B\u03C4\u03C5\u0137\x9C\u03C5\u03C6\u0133\x9A\u03C6\u03C7\u0121\x91\u03C7\u03C8\u012B\x96\u03C8\u03C9\u011D\x8F\u03C9\x98\u03CA\u03CB\u0135\x9B\u03CB\u03CC\u0139\x9D\u03CC\u03CD\u0129\x95\u03CD\x9A\u03CE\u03CF\u0137\x9C\u03CF\u03D0\u0111\x89\u03D0\u03D1\u0113\x8A\u03D1\u03D2\u0127\x94\u03D2\u03D3\u0119\x8D\u03D3\x9C\u03D4\u03D5\u0137\x9C\u03D5\u03D6\u011F\x90\u03D6\u03D7\u0119\x8D\u03D7\u03D8\u012B\x96\u03D8\x9E\u03D9\u03DA\u0137\x9C\u03DA\u03DB\u011F\x90\u03DB\u03DC\u0121\x91\u03DC\u03DD\u0135\x9B\u03DD\xA0\u03DE\u03DF\u0137\x9C\u03DF\u03E0\u0121\x91\u03E0\u03E1\u0129\x95\u03E1\u03E2\u0119\x8D\u03E2\u03E3\u0135\x9B\u03E3\u03E4\u0137\x9C\u03E4\u03E5\u0111\x89\u03E5\u03E6\u0129\x95\u03E6\u03E7\u012F\x98\u03E7\xA2\u03E8\u03E9\u0137\x9C\u03E9\u03EA\u012D\x97\u03EA\xA4\u03EB\u03EC\u0137\x9C\u03EC\u03ED\u0133\x9A\u03ED\u03EE\u0139\x9D\u03EE\u03EF\u0119\x8D\u03EF\xA6\u03F0\u03F1\u0137\x9C\u03F1\u03F2\u0139\x9D\u03F2\u03F3\u0133\x9A\u03F3\u03F4\u0137\x9C\u03F4\u03F5\u0127\x94\u03F5\u03F6\u0119\x8D\u03F6\xA8\u03F7\u03F8\u013D\x9F\u03F8\u03F9\u0119\x8D\u03F9\u03FA\u0119\x8D\u03FA\u03FC\u0125\x93\u03FB\u03FD\u0135\x9B\u03FC\u03FB\u03FC\u03FD\u03FD\xAA\u03FE\u03FF\u013D\x9F\u03FF\u0400\u011F\x90\u0400\u0401\u0119\x8D\u0401\u0402\u012B\x96\u0402\xAC\u0403\u0404\u013D\x9F\u0404\u0405\u0121\x91\u0405\u0406\u0137\x9C\u0406\u0407\u011F\x90\u0407\xAE\u0408\u0409\u0141\xA1\u0409\u040A\u0119\x8D\u040A\u040B\u0111\x89\u040B\u040D\u0133\x9A\u040C\u040E\u0135\x9B\u040D\u040C\u040D\u040E\u040E\xB0\u040F\u0410\u0139\x9D\u0410\u0411\u012B\x96\u0411\u0412\u011D\x8F\u0412\u0413\u0133\x9A\u0413\u0414\u012D\x97\u0414\u0415\u0139\x9D\u0415\u0416\u012F\x98\u0416\u0417\u0119\x8D\u0417\u0418\u0117\x8C\u0418\xB2\u0419\u041A\x07^\u041A\u0420\x07)\u041B\u041C\x07^\u041C\u0420\x07^\u041D\u041E\x07^\u041E\u0420\v\u041F\u0419\u041F\u041B\u041F\u041D\u0420\xB4\u0421\u0423	\u0422\u0421\u0423\u0424\u0424\u0429\x07)\u0425\u0428\xB3Z\u0426\u0428
\x07\u0427\u0425\u0427\u0426\u0428\u042B\u0429\u0427\u0429\u042A\u042A\u042C\u042B\u0429\u042C\u042D\x07)\u042D\xB6\u042E\u0433\x07)\u042F\u0432\xB3Z\u0430\u0432
\x07\u0431\u042F\u0431\u0430\u0432\u0435\u0433\u0431\u0433\u0434\u0434\u0436\u0435\u0433\u0436\u0437\x07)\u0437\xB8\u0438\u0439\x07(\u0439\xBA\u043A\u043B\x07/\u043B\u043C\x07@\u043C\xBC\u043D\u043E\x07?\u043E\u043F\x07@\u043F\xBE\u0440\u0441\x07*\u0441\xC0\u0442\u0443\x07+\u0443\xC2\u0444\u0445\x07]\u0445\xC4\u0446\u0447\x07_\u0447\xC6\u0448\u0449\x07}\u0449\xC8\u044A\u044B\x07\x7F\u044B\xCA\u044C\u044D\x07<\u044D\u044E\x07<\u044E\xCC\u044F\u0450\x07<\u0450\xCE\u0451\u0452\x07.\u0452\xD0\u0453\u0454\x070\u0454\xD2\u0455\u0456\x07>\u0456\xD4\u0457\u0458\x07@\u0458\xD6\u0459\u045A\x07?\u045A\xD8\u045B\u045C\x07#\u045C\u045D\x07?\u045D\xDA\u045E\u045F\x07>\u045F\u0460\x07?\u0460\xDC\u0461\u0462\x07@\u0462\u0463\x07?\u0463\xDE\u0464\u0465\x07-\u0465\xE0\u0466\u0467\x07/\u0467\xE2\u0468\u0469\x07,\u0469\xE4\u046A\u046B\x07,\u046B\u046C\x07,\u046C\xE6\u046D\u046E\x071\u046E\xE8\u046F\u0470\x07~\u0470\xEA\u0471\u0472\x07=\u0472\xEC\u0473\u0474\x07#\u0474\u0475\x07\x80\u0475\xEE\u0476\u0477\x07\x80\u0477\xF0\u0478\u0479\u010F\x88\u0479\u047A\u010F\x88\u047A\u047B\u010F\x88\u047B\u047C\u010F\x88\u047C\xF2\u047D\u047E\u010F\x88\u047E\u047F\u010F\x88\u047F\xF4\u0480\u0481\x07/\u0481\u0484\x07Z\u0482\u0485\u010D\x87\u0483\u0485\u010F\x88\u0484\u0482\u0484\u0483\u0485\u0486\u0486\u0484\u0486\u0487\u0487\xF6\u0488\u0489\x07B\u0489\u048A\xF1y\u048A\u048B\x07/\u048B\u048C\xF3z\u048C\u048D\x07/\u048D\u048E\xF3z\u048E\u048F\x07"\u048F\u0490\xF3z\u0490\u0491\x07<\u0491\u0494\xF3z\u0492\u0493\x07<\u0493\u0495\xF3z\u0494\u0492\u0494\u0495\u0495\u0497\u0496\u0498\xF5{\u0497\u0496\u0497\u0498\u0498\xF8\u0499\u049A\x07B\u049A\u049B\xF1y\u049B\u049C\x07/\u049C\u049D\xF3z\u049D\u049E\x07/\u049E\u04A0\xF3z\u049F\u04A1\xF5{\u04A0\u049F\u04A0\u04A1\u04A1\xFA\u04A2\u04A3\x07B\u04A3\u04A4\xF1y\u04A4\u04A5\x07/\u04A5\u04A6\x07S\u04A6\u04A836\u04A7\u04A9\xF5{\u04A8\u04A7\u04A8\u04A9\u04A9\xFC\u04AA\u04AB\x07B\u04AB\u04AC\xF1y\u04AC\u04AD\x07/\u04AD\u04AF\xF3z\u04AE\u04B0\xF5{\u04AF\u04AE\u04AF\u04B0\u04B0\xFE\u04B1\u04B2\x07B\u04B2\u04B3\u013D\x9F\u04B3\u04B4\u0125\x93\u04B4\u04B5\xF1y\u04B5\u04B6\x07/\u04B6\u04B7\xF3z\u04B7\u04B8\x07/\u04B8\u04BA\xF3z\u04B9\u04BB\xF5{\u04BA\u04B9\u04BA\u04BB\u04BB\u0100\u04BC\u04BD\x07B\u04BD\u04BF\xF1y\u04BE\u04C0\xF5{\u04BF\u04BE\u04BF\u04C0\u04C0\u0102\u04C1\u04C6\u010D\x87\u04C2\u04C5\u010D\x87\u04C3\u04C5\u010F\x88\u04C4\u04C2\u04C4\u04C3\u04C5\u04C8\u04C6\u04C4\u04C6\u04C7\u04C7\u0104\u04C8\u04C6\u04C9\u04CB\u010F\x88\u04CA\u04C9\u04CB\u04CC\u04CC\u04CA\u04CC\u04CD\u04CD\u04CE\u04CE\u04CF\x07'\u04CF\u0106\u04D0\u04D2\u010F\x88\u04D1\u04D0\u04D2\u04D3\u04D3\u04D1\u04D3\u04D4\u04D4\u0108\u04D5\u04D7\u010F\x88\u04D6\u04D5\u04D7\u04D8\u04D8\u04D6\u04D8\u04D9\u04D9\u04E1\u04DA\u04DE\xD1i\u04DB\u04DD\u010F\x88\u04DC\u04DB\u04DD\u04E0\u04DE\u04DC\u04DE\u04DF\u04DF\u04E2\u04E0\u04DE\u04E1\u04DA\u04E1\u04E2\u04E2\u04F5\u04E3\u04E5\xD1i\u04E4\u04E6\u010F\x88\u04E5\u04E4\u04E6\u04E7\u04E7\u04E5\u04E7\u04E8\u04E8\u04F2\u04E9\u04EB\u0119\x8D\u04EA\u04EC	\b\u04EB\u04EA\u04EB\u04EC\u04EC\u04EE\u04ED\u04EF\u010F\x88\u04EE\u04ED\u04EF\u04F0\u04F0\u04EE\u04F0\u04F1\u04F1\u04F3\u04F2\u04E9\u04F2\u04F3\u04F3\u04F5\u04F4\u04D6\u04F4\u04E3\u04F5\u010A\u04F6\u04F7\x07b\u04F7\u04FD\u010D\x87\u04F8\u04FC\u010D\x87\u04F9\u04FC\u010F\x88\u04FA\u04FC\r\x07\u04FB\u04F8\u04FB\u04F9\u04FB\u04FA\u04FC\u04FF\u04FD\u04FB\u04FD\u04FE\u04FE\u0500\u04FF\u04FD\u0500\u0501\x07b\u0501\u010C\u0502\u0503	%\u0503\u010E\u0504\u0505		\u0505\u0110\u0506\u0507	
\u0507\u0112\u0508\u0509	\v\u0509\u0114\u050A\u050B	\f\u050B\u0116\u050C\u050D	\r\u050D\u0118\u050E\u050F	\u050F\u011A\u0510\u0511	\u0511\u011C\u0512\u0513	\u0513\u011E\u0514\u0515	\u0515\u0120\u0516\u0517	\u0517\u0122\u0518\u0519	\u0519\u0124\u051A\u051B	\u051B\u0126\u051C\u051D	\u051D\u0128\u051E\u051F	\u051F\u012A\u0520\u0521	\u0521\u012C\u0522\u0523	\u0523\u012E\u0524\u0525	\u0525\u0130\u0526\u0527	\u0527\u0132\u0528\u0529	\x1B\u0529\u0134\u052A\u052B	\u052B\u0136\u052C\u052D	\u052D\u0138\u052E\u052F	\u052F\u013A\u0530\u0531	\u0531\u013C\u0532\u0533	 \u0533\u013E\u0534\u0535	!\u0535\u0140\u0536\u0537	"\u0537\u0142\u0538\u0539	#\u0539\u0144\u053A\u053B\x071\u053B\u053C\x07,\u053C\u0540\u053D\u053F\v\u053E\u053D\u053F\u0542\u0540\u0541\u0540\u053E\u0541\u0543\u0542\u0540\u0543\u0544\x07,\u0544\u0545\x071\u0545\u0546\u0546\u0547\b\xA3\u0547\u0146\u0548\u0549\x07/\u0549\u054D\x07/\u054A\u054B\x071\u054B\u054D\x071\u054C\u0548\u054C\u054A\u054D\u0551\u054E\u0550
$\u054F\u054E\u0550\u0553\u0551\u054F\u0551\u0552\u0552\u0559\u0553\u0551\u0554\u0556\x07\u0555\u0554\u0555\u0556\u0556\u0557\u0557\u055A\x07\f\u0558\u055A\x07\u0559\u0555\u0559\u0558\u055A\u055B\u055B\u055C\b\xA4\u055C\u0148\u055D\u055E\r\x07\u055E\u055F\u055F\u0560\b\xA5\u0560\u014A\u0561\u0562\x07~\u0562\u0563\x07~\u0563\u0567\u0564\u0566\v\u0565\u0564\u0566\u0569\u0567\u0568\u0567\u0565\u0568\u056A\u0569\u0567\u056A\u056B\x07=\u056B\u056C\x07=\u056C\u014C\u056D\u056F\u010F\x88\u056E\u056D\u056F\u0570\u0570\u056E\u0570\u0571\u0571\u0573\u0572\u0574\u010D\x87\u0573\u0572\u0574\u0575\u0575\u0573\u0575\u0576\u0576\u057B\u0577\u057A\u010D\x87\u0578\u057A\u010F\x88\u0579\u0577\u0579\u0578\u057A\u057D\u057B\u0579\u057B\u057C\u057C\u014E\u057D\u057B\u057E\u057F\v\u057F\u0150M\u0154\u0156\u015E\u0175\u0186\u01A0\u01AE\u01BD\u01CD\u01DB\u01E8\u0204\u0215\u0222\u0231\u023D\u024D\u0260\u026F\u027C\u028A\u0298\u02A6\u02B1\u02C0\u02CB\u02D8\u031E\u0360\u0385\u038D\u03B8\u03C1\u03FC\u040D\u041F\u0422\u0427\u0429\u0431\u0433\u0484\u0486\u0494\u0497\u04A0\u04A8\u04AF\u04BA\u04BF\u04C4\u04C6\u04CC\u04D3\u04D8\u04DE\u04E1\u04E7\u04EB\u04F0\u04F2\u04F4\u04FB\u04FD\u0540\u054C\u0551\u0555\u0559\u0567\u0570\u0575\u0579\u057B\b`;tr._serializedATNSegment3="";tr._serializedATN=rEe.join([tr._serializedATNSegment0,tr._serializedATNSegment1,tr._serializedATNSegment2,tr._serializedATNSegment3],"")});var kie=we(It=>{"use strict";m();var Put=It&&It.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),But=It&&It.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),jut=It&&It.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Put(e,n,t);return But(e,n),e};Object.defineProperty(It,"__esModule",{value:!0});It.ExploreRenameDefContext=It.RenameListContext=It.DefExploreQueryContext=It.DefExploreEditFieldContext=It.DefExploreRenameContext=It.DefExplorePrimaryKeyContext=It.DefExploreWhereContext=It.DefJoin_stubContext=It.DefDeclare_stubContext=It.DefExploreMeasureContext=It.DefExploreDimensionContext=It.ExploreStatementContext=It.ExplorePropertiesContext=It.ExploreNameContext=It.ExploreNameDefContext=It.SQLSourceContext=It.QuerySourceContext=It.TableSourceContext=It.NamedSourceContext=It.ExploreSourceContext=It.ExploreContext=It.ExploreDefinitionContext=It.ExploreDefinitionListContext=It.QueryNameContext=It.ExploreQueryNameContext=It.FilterShortcutContext=It.QueryPropertiesContext=It.ExploreTableContext=It.PipeElementContext=It.FirstSegmentContext=It.PipelineFromNameContext=It.ArrowQueryContext=It.ExploreArrowQueryContext=It.QueryContext=It.RefineOperatorContext=It.TopLevelQueryDefContext=It.TopLevelQueryDefsContext=It.ImportURLContext=It.ImportStatementContext=It.SqlStatementDefContext=It.DefineSQLStatementContext=It.TopLevelAnonQueryDefContext=It.AnonymousQueryContext=It.NamedQueries_stubContext=It.DefineQueryContext=It.ExploreKeywordContext=It.DefineExploreStatementContext=It.MalloyStatementContext=It.MalloyDocumentContext=It.MalloyParser=void 0;It.SampleStatementContext=It.IndexStatementContext=It.IndexFieldsContext=It.IndexElementContext=It.TopStatementContext=It.BySpecContext=It.LimitStatementContext=It.OrderBySpecContext=It.OrderingContext=It.OrderByStatementContext=It.ProjectStatementContext=It.AggregateStatementContext=It.NestDefContext=It.NestExistingContext=It.NestEntryContext=It.NestedQueryListContext=It.NestStatementContext=It.QueryFieldDefContext=It.QueryFieldRefContext=It.QueryFieldEntryContext=It.DimensionDefContext=It.QueryFieldListContext=It.GroupByStatementContext=It.QueryStatementContext=It.ExploreQueryDefContext=It.ExploreQueryNameDefContext=It.SubQueryDefListContext=It.HavingStatementContext=It.WhereStatementContext=It.FilterClauseListContext=It.FilterByWhereContext=It.FilterByShortcutContext=It.FilteredByContext=It.FilterStatementContext=It.JoinExpressionContext=It.JoinOnContext=It.JoinWithContext=It.JoinDefContext=It.JoinListContext=It.DefJoinCrossContext=It.DefJoinManyContext=It.DefJoinOneContext=It.JoinStatementContext=It.DeclareStatementContext=It.MeasureDefContext=It.JoinNameDefContext=It.FieldNameDefContext=It.FieldDefContext=It.MeasureDefListContext=It.DimensionDefListContext=void 0;It.ExprNotPartialContext=It.ExprPartialCompareContext=It.PartialAllowedFieldExprContext=It.ExprUngroupContext=It.ExprPickContext=It.ExprFuncContext=It.ExprExprContext=It.ExprAggregateContext=It.ExprCountDisinctContext=It.ExprCastContext=It.ExprLogicalContext=It.ExprNotContext=It.ExprApplyContext=It.ExprCompareContext=It.ExprLogicalTreeContext=It.ExprForRangeContext=It.ExprRangeContext=It.ExprAddSubContext=It.ExprMulDivContext=It.ExprSafeCastContext=It.ExprTimeTruncContext=It.ExprDurationContext=It.ExprMinusContext=It.ExprLiteralContext=It.ExprFilterContext=It.ExprFieldPathContext=It.FieldExprContext=It.UngroupContext=It.TimeframeContext=It.IdContext=It.TableNameContext=It.LiteralYearContext=It.LiteralQuarterContext=It.LiteralMonthContext=It.LiteralWeekContext=It.LiteralDayContext=It.LiteralTimestampContext=It.DateLiteralContext=It.ExprNowContext=It.ExprRegexContext=It.ExprBoolContext=It.ExprNULLContext=It.ExprTimeContext=It.ExprNumberContext=It.ExprStringContext=It.LiteralContext=It.CompareOpContext=It.MalloyTypeContext=It.AggregateContext=It.SampleSpecContext=void 0;It.ConnectionNameContext=It.SqlCommandNameDefContext=It.SqlExploreNameRefContext=It.JsonArrayContext=It.JsonPropertyContext=It.JsonObjectContext=It.JsonValueContext=It.JsonContext=It.JustExprContext=It.FieldNameContext=It.JoinNameContext=It.FieldPathContext=It.NewMemberContext=It.WildMemberContext=It.NameMemberContext=It.CollectionMemberContext=It.FieldCollectionContext=It.FieldNameListContext=It.ArgumentListContext=It.PickContext=It.PickStatementContext=void 0;var Gf=f2(),qut=dD(),Uut=TF(),vc=iD(),$ut=pS(),zr=n1(),zut=vS(),Hr=Tg(),mf=iu(),Hut=Ig(),sEe=jut(c2()),w=class extends $ut.Parser{constructor(e){super(e);this._interp=new zut.ParserATNSimulator(w._ATN,this)}get vocabulary(){return w.VOCABULARY}get grammarFileName(){return"MalloyParser.g4"}get ruleNames(){return w.ruleNames}get serializedATN(){return w._serializedATN}createFailedPredicateException(e,t){return new Uut.FailedPredicateException(this,e,t)}malloyDocument(){let e=new pre(this._ctx,this.state);this.enterRule(e,0,w.RULE_malloyDocument);let t;try{this.enterOuterAlt(e,1);{for(this.state=206,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<w.EXPLORE|1<<w.QUERY|1<<w.SOURCE|1<<w.SQL))!==0||t===w.IMPORT||t===w.SEMI;){switch(this.state=204,this._errHandler.sync(this),this._input.LA(1)){case w.EXPLORE:case w.QUERY:case w.SOURCE:case w.SQL:case w.IMPORT:this.state=202,this.malloyStatement();break;case w.SEMI:this.state=203,this.match(w.SEMI);break;default:throw new vc.NoViableAltException(this)}this.state=208,this._errHandler.sync(this),t=this._input.LA(1)}this.state=209,this.match(w.EOF)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyStatement(){let e=new AD(this._ctx,this.state);this.enterRule(e,2,w.RULE_malloyStatement);try{switch(this.state=215,this._errHandler.sync(this),this._input.LA(1)){case w.EXPLORE:case w.SOURCE:this.enterOuterAlt(e,1),this.state=211,this.defineExploreStatement();break;case w.SQL:this.enterOuterAlt(e,2),this.state=212,this.defineSQLStatement();break;case w.QUERY:this.enterOuterAlt(e,3),this.state=213,this.defineQuery();break;case w.IMPORT:this.enterOuterAlt(e,4),this.state=214,this.importStatement();break;default:throw new vc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineExploreStatement(){let e=new Aq(this._ctx,this.state);this.enterRule(e,4,w.RULE_defineExploreStatement);try{this.enterOuterAlt(e,1),this.state=217,this.exploreKeyword(),this.state=218,this.exploreDefinitionList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreKeyword(){let e=new Tq(this._ctx,this.state);this.enterRule(e,6,w.RULE_exploreKeyword);let t;try{this.enterOuterAlt(e,1),this.state=220,t=this._input.LA(1),t===w.EXPLORE||t===w.SOURCE?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}defineQuery(){let e=new iC(this._ctx,this.state);this.enterRule(e,8,w.RULE_defineQuery);try{switch(this.state=226,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:e=new mre(e),this.enterOuterAlt(e,1),this.state=222,this.match(w.QUERY),this.state=223,this.topLevelQueryDefs();break;case 2:e=new xre(e),this.enterOuterAlt(e,2),this.state=224,this.match(w.QUERY),this.state=225,this.topLevelAnonQueryDef();break}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelAnonQueryDef(){let e=new Fq(this._ctx,this.state);this.enterRule(e,10,w.RULE_topLevelAnonQueryDef);try{this.enterOuterAlt(e,1),this.state=228,this.query()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineSQLStatement(){let e=new Dq(this._ctx,this.state);this.enterRule(e,12,w.RULE_defineSQLStatement);try{this.enterOuterAlt(e,1),this.state=230,this.match(w.SQL),this.state=231,this.sqlStatementDef()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sqlStatementDef(){let e=new Oq(this._ctx,this.state);this.enterRule(e,14,w.RULE_sqlStatementDef);let t;try{this.enterOuterAlt(e,1),this.state=236,this._errHandler.sync(this),t=this._input.LA(1),(t===w.IDENTIFIER||t===w.OBJECT_NAME_LITERAL)&&(this.state=233,this.sqlCommandNameDef(),this.state=234,this.match(w.IS)),this.state=238,this.match(w.SQL_STRING),this.state=241,this._errHandler.sync(this),t=this._input.LA(1),t===w.ON&&(this.state=239,this.match(w.ON),this.state=240,this.connectionName())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}importStatement(){let e=new Nq(this._ctx,this.state);this.enterRule(e,16,w.RULE_importStatement);try{this.enterOuterAlt(e,1),this.state=243,this.match(w.IMPORT),this.state=244,this.importURL()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}importURL(){let e=new Rq(this._ctx,this.state);this.enterRule(e,18,w.RULE_importURL);try{this.enterOuterAlt(e,1),this.state=246,this.match(w.JSON_STRING)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelQueryDefs(){let e=new Lq(this._ctx,this.state);this.enterRule(e,20,w.RULE_topLevelQueryDefs);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=248,this.topLevelQueryDef(),this.state=255,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,7,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=250,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=249,this.match(w.COMMA)),this.state=252,this.topLevelQueryDef()),this.state=257,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,7,this._ctx);this.state=259,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=258,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}topLevelQueryDef(){let e=new TD(this._ctx,this.state);this.enterRule(e,22,w.RULE_topLevelQueryDef);try{this.enterOuterAlt(e,1),this.state=261,this.queryName(),this.state=262,this.match(w.IS),this.state=263,this.query()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}refineOperator(){let e=new w6(this._ctx,this.state);this.enterRule(e,24,w.RULE_refineOperator);try{this.enterOuterAlt(e,1),this.state=265,this.match(w.PLUS)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}query(){let e=new j5(this._ctx,this.state);this.enterRule(e,26,w.RULE_query);let t;try{switch(this.state=285,this._errHandler.sync(this),this._input.LA(1)){case w.FROM:case w.FROM_SQL:case w.TABLE:case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:e=new gre(e),this.enterOuterAlt(e,1),this.state=267,this.explore(),this.state=268,this.match(w.ARROW),this.state=269,this.pipelineFromName();break;case w.ARROW:for(e=new yre(e),this.enterOuterAlt(e,2),this.state=271,this.match(w.ARROW),this.state=272,this.queryName(),this.state=277,this._errHandler.sync(this),t=this._input.LA(1),(t===w.OCURLY||t===w.PLUS)&&(this.state=274,this._errHandler.sync(this),t=this._input.LA(1),t===w.PLUS&&(this.state=273,this.refineOperator()),this.state=276,this.queryProperties()),this.state=282,this._errHandler.sync(this),t=this._input.LA(1);t===w.ARROW;)this.state=279,this.pipeElement(),this.state=284,this._errHandler.sync(this),t=this._input.LA(1);break;default:throw new vc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipelineFromName(){let e=new sC(this._ctx,this.state);this.enterRule(e,28,w.RULE_pipelineFromName);let t;try{for(this.enterOuterAlt(e,1),this.state=287,this.firstSegment(),this.state=291,this._errHandler.sync(this),t=this._input.LA(1);t===w.ARROW;)this.state=288,this.pipeElement(),this.state=293,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}firstSegment(){let e=new kq(this._ctx,this.state);this.enterRule(e,30,w.RULE_firstSegment);let t;try{switch(this.state=302,this._errHandler.sync(this),this._input.LA(1)){case w.OCURLY:this.enterOuterAlt(e,1),this.state=294,this.queryProperties();break;case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,2),this.state=295,this.exploreQueryName(),this.state=300,this._errHandler.sync(this),t=this._input.LA(1),(t===w.OCURLY||t===w.PLUS)&&(this.state=297,this._errHandler.sync(this),t=this._input.LA(1),t===w.PLUS&&(this.state=296,this.refineOperator()),this.state=299,this.queryProperties());break;default:throw new vc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipeElement(){let e=new A6(this._ctx,this.state);this.enterRule(e,32,w.RULE_pipeElement);try{this.enterOuterAlt(e,1),this.state=304,this.match(w.ARROW),this.state=305,this.queryProperties()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreTable(){let e=new Iq(this._ctx,this.state);this.enterRule(e,34,w.RULE_exploreTable);try{this.enterOuterAlt(e,1),this.state=307,this.match(w.TABLE),this.state=308,this.match(w.OPAREN),this.state=309,this.tableName(),this.state=310,this.match(w.CPAREN)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryProperties(){let e=new T6(this._ctx,this.state);this.enterRule(e,36,w.RULE_queryProperties);let t;try{switch(this.state=322,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,19,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=312,this.filterShortcut();break;case 2:this.enterOuterAlt(e,2);{for(this.state=313,this.match(w.OCURLY),this.state=318,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<w.AGGREGATE|1<<w.DECLARE|1<<w.GROUP_BY|1<<w.HAVING|1<<w.INDEX|1<<w.JOIN_CROSS|1<<w.JOIN_ONE|1<<w.JOIN_MANY|1<<w.LIMIT|1<<w.NEST|1<<w.ORDER_BY|1<<w.PROJECT|1<<w.SAMPLE|1<<w.TOP|1<<w.WHERE))!==0||t===w.SEMI;){switch(this.state=316,this._errHandler.sync(this),this._input.LA(1)){case w.AGGREGATE:case w.DECLARE:case w.GROUP_BY:case w.HAVING:case w.INDEX:case w.JOIN_CROSS:case w.JOIN_ONE:case w.JOIN_MANY:case w.LIMIT:case w.NEST:case w.ORDER_BY:case w.PROJECT:case w.SAMPLE:case w.TOP:case w.WHERE:this.state=314,this.queryStatement();break;case w.SEMI:this.state=315,this.match(w.SEMI);break;default:throw new vc.NoViableAltException(this)}this.state=320,this._errHandler.sync(this),t=this._input.LA(1)}this.state=321,this.match(w.CCURLY)}break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}filterShortcut(){let e=new FD(this._ctx,this.state);this.enterRule(e,38,w.RULE_filterShortcut);try{this.enterOuterAlt(e,1),this.state=324,this.match(w.OCURLY),this.state=325,this.match(w.QMARK),this.state=326,this.fieldExpr(0),this.state=327,this.match(w.CCURLY)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryName(){let e=new Mq(this._ctx,this.state);this.enterRule(e,40,w.RULE_exploreQueryName);try{this.enterOuterAlt(e,1),this.state=329,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryName(){let e=new F6(this._ctx,this.state);this.enterRule(e,42,w.RULE_queryName);try{this.enterOuterAlt(e,1),this.state=331,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreDefinitionList(){let e=new Pq(this._ctx,this.state);this.enterRule(e,44,w.RULE_exploreDefinitionList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=333,this.exploreDefinition(),this.state=340,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,21,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=335,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=334,this.match(w.COMMA)),this.state=337,this.exploreDefinition()),this.state=342,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,21,this._ctx);this.state=344,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=343,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreDefinition(){let e=new DD(this._ctx,this.state);this.enterRule(e,46,w.RULE_exploreDefinition);try{this.enterOuterAlt(e,1),this.state=346,this.exploreNameDef(),this.state=347,this.match(w.IS),this.state=348,this.explore()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}explore(){let e=new D6(this._ctx,this.state);this.enterRule(e,48,w.RULE_explore);let t;try{this.enterOuterAlt(e,1),this.state=350,this.exploreSource(),this.state=355,this._errHandler.sync(this),t=this._input.LA(1),(t===w.OCURLY||t===w.PLUS)&&(this.state=352,this._errHandler.sync(this),t=this._input.LA(1),t===w.PLUS&&(this.state=351,this.refineOperator()),this.state=354,this.exploreProperties())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreSource(){let e=new q5(this._ctx,this.state);this.enterRule(e,50,w.RULE_exploreSource);try{switch(this.state=369,this._errHandler.sync(this),this._input.LA(1)){case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:e=new vre(e),this.enterOuterAlt(e,1),this.state=357,this.exploreName();break;case w.TABLE:e=new _re(e),this.enterOuterAlt(e,2),this.state=358,this.exploreTable();break;case w.FROM:e=new bre(e),this.enterOuterAlt(e,3),this.state=359,this.match(w.FROM),this.state=360,this.match(w.OPAREN),this.state=361,this.query(),this.state=362,this.match(w.CPAREN);break;case w.FROM_SQL:e=new Ere(e),this.enterOuterAlt(e,4),this.state=364,this.match(w.FROM_SQL),this.state=365,this.match(w.OPAREN),this.state=366,this.sqlExploreNameRef(),this.state=367,this.match(w.CPAREN);break;default:throw new vc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreNameDef(){let e=new Bq(this._ctx,this.state);this.enterRule(e,52,w.RULE_exploreNameDef);try{this.enterOuterAlt(e,1),this.state=371,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreName(){let e=new jq(this._ctx,this.state);this.enterRule(e,54,w.RULE_exploreName);try{this.enterOuterAlt(e,1),this.state=373,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreProperties(){let e=new qq(this._ctx,this.state);this.enterRule(e,56,w.RULE_exploreProperties);let t;try{switch(this.state=385,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,28,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=375,this.match(w.OCURLY),this.state=380,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<w.ACCEPT|1<<w.DECLARE|1<<w.DIMENSION|1<<w.EXCEPT|1<<w.JOIN_CROSS|1<<w.JOIN_ONE|1<<w.JOIN_MANY|1<<w.MEASURE|1<<w.PRIMARY_KEY|1<<w.QUERY|1<<w.RENAME|1<<w.WHERE))!==0||t===w.SEMI;){switch(this.state=378,this._errHandler.sync(this),this._input.LA(1)){case w.ACCEPT:case w.DECLARE:case w.DIMENSION:case w.EXCEPT:case w.JOIN_CROSS:case w.JOIN_ONE:case w.JOIN_MANY:case w.MEASURE:case w.PRIMARY_KEY:case w.QUERY:case w.RENAME:case w.WHERE:this.state=376,this.exploreStatement();break;case w.SEMI:this.state=377,this.match(w.SEMI);break;default:throw new vc.NoViableAltException(this)}this.state=382,this._errHandler.sync(this),t=this._input.LA(1)}this.state=383,this.match(w.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=384,this.filterShortcut();break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreStatement(){let e=new hh(this._ctx,this.state);this.enterRule(e,58,w.RULE_exploreStatement);let t;try{switch(this.state=402,this._errHandler.sync(this),this._input.LA(1)){case w.DIMENSION:e=new Sre(e),this.enterOuterAlt(e,1),this.state=387,this.match(w.DIMENSION),this.state=388,this.dimensionDefList();break;case w.MEASURE:e=new Cre(e),this.enterOuterAlt(e,2),this.state=389,this.match(w.MEASURE),this.state=390,this.measureDefList();break;case w.DECLARE:e=new wre(e),this.enterOuterAlt(e,3),this.state=391,this.declareStatement();break;case w.JOIN_CROSS:case w.JOIN_ONE:case w.JOIN_MANY:e=new Are(e),this.enterOuterAlt(e,4),this.state=392,this.joinStatement();break;case w.WHERE:e=new Tre(e),this.enterOuterAlt(e,5),this.state=393,this.whereStatement();break;case w.PRIMARY_KEY:e=new Fre(e),this.enterOuterAlt(e,6),this.state=394,this.match(w.PRIMARY_KEY),this.state=395,this.fieldName();break;case w.RENAME:e=new Dre(e),this.enterOuterAlt(e,7),this.state=396,this.match(w.RENAME),this.state=397,this.renameList();break;case w.ACCEPT:case w.EXCEPT:e=new Ore(e),this.enterOuterAlt(e,8),this.state=398,t=this._input.LA(1),t===w.ACCEPT||t===w.EXCEPT?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=399,this.fieldNameList();break;case w.QUERY:e=new Nre(e),this.enterOuterAlt(e,9),this.state=400,this.match(w.QUERY),this.state=401,this.subQueryDefList();break;default:throw new vc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}renameList(){let e=new Uq(this._ctx,this.state);this.enterRule(e,60,w.RULE_renameList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=404,this.exploreRenameDef(),this.state=411,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,31,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=406,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=405,this.match(w.COMMA)),this.state=408,this.exploreRenameDef()),this.state=413,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,31,this._ctx);this.state=415,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=414,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreRenameDef(){let e=new OD(this._ctx,this.state);this.enterRule(e,62,w.RULE_exploreRenameDef);try{this.enterOuterAlt(e,1),this.state=417,this.fieldName(),this.state=418,this.match(w.IS),this.state=419,this.fieldName()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}dimensionDefList(){let e=new $q(this._ctx,this.state);this.enterRule(e,64,w.RULE_dimensionDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=421,this.dimensionDef(),this.state=428,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,34,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=423,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=422,this.match(w.COMMA)),this.state=425,this.dimensionDef()),this.state=430,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,34,this._ctx);this.state=432,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=431,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}measureDefList(){let e=new zq(this._ctx,this.state);this.enterRule(e,66,w.RULE_measureDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=434,this.measureDef(),this.state=441,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,37,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=436,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=435,this.match(w.COMMA)),this.state=438,this.measureDef()),this.state=443,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,37,this._ctx);this.state=445,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=444,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldDef(){let e=new U5(this._ctx,this.state);this.enterRule(e,68,w.RULE_fieldDef);try{this.enterOuterAlt(e,1),this.state=447,this.fieldNameDef(),this.state=448,this.match(w.IS),this.state=449,this.fieldExpr(0)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldNameDef(){let e=new Hq(this._ctx,this.state);this.enterRule(e,70,w.RULE_fieldNameDef);try{this.enterOuterAlt(e,1),this.state=451,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinNameDef(){let e=new ND(this._ctx,this.state);this.enterRule(e,72,w.RULE_joinNameDef);try{this.enterOuterAlt(e,1),this.state=453,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}measureDef(){let e=new RD(this._ctx,this.state);this.enterRule(e,74,w.RULE_measureDef);try{this.enterOuterAlt(e,1),this.state=455,this.fieldDef()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}declareStatement(){let e=new LD(this._ctx,this.state);this.enterRule(e,76,w.RULE_declareStatement);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=457,this.match(w.DECLARE),this.state=458,this.fieldDef(),this.state=465,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,40,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=460,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=459,this.match(w.COMMA)),this.state=462,this.fieldDef()),this.state=467,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,40,this._ctx);this.state=469,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=468,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinStatement(){let e=new $5(this._ctx,this.state);this.enterRule(e,78,w.RULE_joinStatement);try{switch(this.state=477,this._errHandler.sync(this),this._input.LA(1)){case w.JOIN_ONE:e=new Rre(e),this.enterOuterAlt(e,1),this.state=471,this.match(w.JOIN_ONE),this.state=472,this.joinList();break;case w.JOIN_MANY:e=new Lre(e),this.enterOuterAlt(e,2),this.state=473,this.match(w.JOIN_MANY),this.state=474,this.joinList();break;case w.JOIN_CROSS:e=new kre(e),this.enterOuterAlt(e,3),this.state=475,this.match(w.JOIN_CROSS),this.state=476,this.joinList();break;default:throw new vc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinList(){let e=new oC(this._ctx,this.state);this.enterRule(e,80,w.RULE_joinList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=479,this.joinDef(),this.state=486,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,44,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=481,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=480,this.match(w.COMMA)),this.state=483,this.joinDef()),this.state=488,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,44,this._ctx);this.state=490,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=489,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinDef(){let e=new O6(this._ctx,this.state);this.enterRule(e,82,w.RULE_joinDef);let t;try{switch(this.state=509,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,49,this._ctx)){case 1:e=new Ire(e),this.enterOuterAlt(e,1),this.state=492,this.joinNameDef(),this.state=495,this._errHandler.sync(this),t=this._input.LA(1),t===w.IS&&(this.state=493,this.match(w.IS),this.state=494,this.explore()),this.state=497,this.match(w.WITH),this.state=498,this.fieldExpr(0);break;case 2:e=new Mre(e),this.enterOuterAlt(e,2),this.state=500,this.joinNameDef(),this.state=503,this._errHandler.sync(this),t=this._input.LA(1),t===w.IS&&(this.state=501,this.match(w.IS),this.state=502,this.explore()),this.state=507,this._errHandler.sync(this),t=this._input.LA(1),t===w.ON&&(this.state=505,this.match(w.ON),this.state=506,this.joinExpression());break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinExpression(){let e=new Vq(this._ctx,this.state);this.enterRule(e,84,w.RULE_joinExpression);try{this.enterOuterAlt(e,1),this.state=511,this.fieldExpr(0)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterStatement(){let e=new Pre(this._ctx,this.state);this.enterRule(e,86,w.RULE_filterStatement);try{switch(this.state=515,this._errHandler.sync(this),this._input.LA(1)){case w.WHERE:this.enterOuterAlt(e,1),this.state=513,this.whereStatement();break;case w.HAVING:this.enterOuterAlt(e,2),this.state=514,this.havingStatement();break;default:throw new vc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filteredBy(){let e=new aC(this._ctx,this.state);this.enterRule(e,88,w.RULE_filteredBy);try{switch(this.state=520,this._errHandler.sync(this),this._input.LA(1)){case w.QMARK:e=new Bre(e),this.enterOuterAlt(e,1),this.state=517,this.match(w.QMARK),this.state=518,this.fieldExpr(0);break;case w.WHERE:e=new jre(e),this.enterOuterAlt(e,2),this.state=519,this.whereStatement();break;default:throw new vc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterClauseList(){let e=new kD(this._ctx,this.state);this.enterRule(e,90,w.RULE_filterClauseList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=522,this.fieldExpr(0),this.state=527,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,52,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=523,this.match(w.COMMA),this.state=524,this.fieldExpr(0)),this.state=529,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,52,this._ctx);this.state=531,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=530,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}whereStatement(){let e=new N6(this._ctx,this.state);this.enterRule(e,92,w.RULE_whereStatement);try{this.enterOuterAlt(e,1),this.state=533,this.match(w.WHERE),this.state=534,this.filterClauseList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}havingStatement(){let e=new ID(this._ctx,this.state);this.enterRule(e,94,w.RULE_havingStatement);try{this.enterOuterAlt(e,1),this.state=536,this.match(w.HAVING),this.state=537,this.filterClauseList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}subQueryDefList(){let e=new Wq(this._ctx,this.state);this.enterRule(e,96,w.RULE_subQueryDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=539,this.exploreQueryDef(),this.state=546,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,55,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=541,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=540,this.match(w.COMMA)),this.state=543,this.exploreQueryDef()),this.state=548,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,55,this._ctx);this.state=550,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=549,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreQueryNameDef(){let e=new Qq(this._ctx,this.state);this.enterRule(e,98,w.RULE_exploreQueryNameDef);try{this.enterOuterAlt(e,1),this.state=552,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryDef(){let e=new MD(this._ctx,this.state);this.enterRule(e,100,w.RULE_exploreQueryDef);try{this.enterOuterAlt(e,1),this.state=554,this.exploreQueryNameDef(),this.state=555,this.match(w.IS),this.state=556,this.pipelineFromName()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryStatement(){let e=new PD(this._ctx,this.state);this.enterRule(e,102,w.RULE_queryStatement);try{switch(this.state=571,this._errHandler.sync(this),this._input.LA(1)){case w.GROUP_BY:this.enterOuterAlt(e,1),this.state=558,this.groupByStatement();break;case w.DECLARE:this.enterOuterAlt(e,2),this.state=559,this.declareStatement();break;case w.JOIN_CROSS:case w.JOIN_ONE:case w.JOIN_MANY:this.enterOuterAlt(e,3),this.state=560,this.joinStatement();break;case w.PROJECT:this.enterOuterAlt(e,4),this.state=561,this.projectStatement();break;case w.INDEX:this.enterOuterAlt(e,5),this.state=562,this.indexStatement();break;case w.AGGREGATE:this.enterOuterAlt(e,6),this.state=563,this.aggregateStatement();break;case w.TOP:this.enterOuterAlt(e,7),this.state=564,this.topStatement();break;case w.LIMIT:this.enterOuterAlt(e,8),this.state=565,this.limitStatement();break;case w.ORDER_BY:this.enterOuterAlt(e,9),this.state=566,this.orderByStatement();break;case w.WHERE:this.enterOuterAlt(e,10),this.state=567,this.whereStatement();break;case w.HAVING:this.enterOuterAlt(e,11),this.state=568,this.havingStatement();break;case w.NEST:this.enterOuterAlt(e,12),this.state=569,this.nestStatement();break;case w.SAMPLE:this.enterOuterAlt(e,13),this.state=570,this.sampleStatement();break;default:throw new vc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}groupByStatement(){let e=new Gq(this._ctx,this.state);this.enterRule(e,104,w.RULE_groupByStatement);try{this.enterOuterAlt(e,1),this.state=573,this.match(w.GROUP_BY),this.state=574,this.queryFieldList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldList(){let e=new BD(this._ctx,this.state);this.enterRule(e,106,w.RULE_queryFieldList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=576,this.queryFieldEntry(),this.state=583,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,59,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=578,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=577,this.match(w.COMMA)),this.state=580,this.queryFieldEntry()),this.state=585,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,59,this._ctx);this.state=587,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=586,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dimensionDef(){let e=new uC(this._ctx,this.state);this.enterRule(e,108,w.RULE_dimensionDef);try{this.enterOuterAlt(e,1),this.state=589,this.fieldDef()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldEntry(){let e=new R6(this._ctx,this.state);this.enterRule(e,110,w.RULE_queryFieldEntry);try{switch(this.state=593,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,61,this._ctx)){case 1:e=new qre(e),this.enterOuterAlt(e,1),this.state=591,this.fieldPath();break;case 2:e=new Ure(e),this.enterOuterAlt(e,2),this.state=592,this.dimensionDef();break}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestStatement(){let e=new Yq(this._ctx,this.state);this.enterRule(e,112,w.RULE_nestStatement);try{this.enterOuterAlt(e,1),this.state=595,this.match(w.NEST),this.state=596,this.nestedQueryList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestedQueryList(){let e=new Kq(this._ctx,this.state);this.enterRule(e,114,w.RULE_nestedQueryList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=598,this.nestEntry(),this.state=605,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,63,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=600,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=599,this.match(w.COMMA)),this.state=602,this.nestEntry()),this.state=607,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,63,this._ctx);this.state=609,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=608,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}nestEntry(){let e=new L6(this._ctx,this.state);this.enterRule(e,116,w.RULE_nestEntry);let t;try{switch(this.state=622,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,67,this._ctx)){case 1:e=new $re(e),this.enterOuterAlt(e,1),this.state=611,this.queryName(),this.state=616,this._errHandler.sync(this),t=this._input.LA(1),(t===w.OCURLY||t===w.PLUS)&&(this.state=613,this._errHandler.sync(this),t=this._input.LA(1),t===w.PLUS&&(this.state=612,this.refineOperator()),this.state=615,this.queryProperties());break;case 2:e=new zre(e),this.enterOuterAlt(e,2),this.state=618,this.queryName(),this.state=619,this.match(w.IS),this.state=620,this.pipelineFromName();break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregateStatement(){let e=new Jq(this._ctx,this.state);this.enterRule(e,118,w.RULE_aggregateStatement);try{this.enterOuterAlt(e,1),this.state=624,this.match(w.AGGREGATE),this.state=625,this.queryFieldList()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}projectStatement(){let e=new Xq(this._ctx,this.state);this.enterRule(e,120,w.RULE_projectStatement);try{this.enterOuterAlt(e,1),this.state=627,this.match(w.PROJECT),this.state=628,this.fieldCollection()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}orderByStatement(){let e=new Zq(this._ctx,this.state);this.enterRule(e,122,w.RULE_orderByStatement);try{this.enterOuterAlt(e,1),this.state=630,this.match(w.ORDER_BY),this.state=631,this.ordering()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}ordering(){let e=new eU(this._ctx,this.state);this.enterRule(e,124,w.RULE_ordering);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=633,this.orderBySpec(),this.state=640,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,69,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=635,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=634,this.match(w.COMMA)),this.state=637,this.orderBySpec()),this.state=642,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,69,this._ctx);this.state=644,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=643,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}orderBySpec(){let e=new jD(this._ctx,this.state);this.enterRule(e,126,w.RULE_orderBySpec);let t;try{this.enterOuterAlt(e,1);{switch(this.state=648,this._errHandler.sync(this),this._input.LA(1)){case w.INTEGER_LITERAL:this.state=646,this.match(w.INTEGER_LITERAL);break;case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:this.state=647,this.fieldName();break;default:throw new vc.NoViableAltException(this)}this.state=651,this._errHandler.sync(this),t=this._input.LA(1),(t===w.ASC||t===w.DESC)&&(this.state=650,t=this._input.LA(1),t===w.ASC||t===w.DESC?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}limitStatement(){let e=new tU(this._ctx,this.state);this.enterRule(e,128,w.RULE_limitStatement);try{this.enterOuterAlt(e,1),this.state=653,this.match(w.LIMIT),this.state=654,this.match(w.INTEGER_LITERAL)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}bySpec(){let e=new nU(this._ctx,this.state);this.enterRule(e,130,w.RULE_bySpec);try{switch(this.state=660,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,73,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=656,this.match(w.BY),this.state=657,this.fieldName();break;case 2:this.enterOuterAlt(e,2),this.state=658,this.match(w.BY),this.state=659,this.fieldExpr(0);break}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topStatement(){let e=new rU(this._ctx,this.state);this.enterRule(e,132,w.RULE_topStatement);let t;try{this.enterOuterAlt(e,1),this.state=662,this.match(w.TOP),this.state=663,this.match(w.INTEGER_LITERAL),this.state=665,this._errHandler.sync(this),t=this._input.LA(1),t===w.BY&&(this.state=664,this.bySpec())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexElement(){let e=new qD(this._ctx,this.state);this.enterRule(e,134,w.RULE_indexElement);let t;try{switch(this.state=673,this._errHandler.sync(this),this._input.LA(1)){case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,1),this.state=667,this.fieldPath(),this.state=670,this._errHandler.sync(this),t=this._input.LA(1),t===w.DOT&&(this.state=668,this.match(w.DOT),this.state=669,this.match(w.STAR));break;case w.STAR:this.enterOuterAlt(e,2),this.state=672,this.match(w.STAR);break;default:throw new vc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexFields(){let e=new iU(this._ctx,this.state);this.enterRule(e,136,w.RULE_indexFields);let t;try{for(this.enterOuterAlt(e,1),this.state=675,this.indexElement(),this.state=682,this._errHandler.sync(this),t=this._input.LA(1);(t-98&~31)===0&&(1<<t-98&(1<<w.COMMA-98|1<<w.STAR-98|1<<w.IDENTIFIER-98|1<<w.OBJECT_NAME_LITERAL-98))!==0;)this.state=677,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=676,this.match(w.COMMA)),this.state=679,this.indexElement(),this.state=684,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexStatement(){let e=new sU(this._ctx,this.state);this.enterRule(e,138,w.RULE_indexStatement);let t;try{this.enterOuterAlt(e,1),this.state=685,this.match(w.INDEX),this.state=686,this.indexFields(),this.state=689,this._errHandler.sync(this),t=this._input.LA(1),t===w.BY&&(this.state=687,this.match(w.BY),this.state=688,this.fieldName())}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sampleStatement(){let e=new oU(this._ctx,this.state);this.enterRule(e,140,w.RULE_sampleStatement);try{this.enterOuterAlt(e,1),this.state=691,this.match(w.SAMPLE),this.state=692,this.sampleSpec()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sampleSpec(){let e=new aU(this._ctx,this.state);this.enterRule(e,142,w.RULE_sampleSpec);let t;try{this.enterOuterAlt(e,1),this.state=694,t=this._input.LA(1),t===w.FALSE||t===w.TRUE||t===w.PERCENT_LITERAL||t===w.INTEGER_LITERAL?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregate(){let e=new uU(this._ctx,this.state);this.enterRule(e,144,w.RULE_aggregate);let t;try{this.enterOuterAlt(e,1),this.state=696,t=this._input.LA(1),(t-32&~31)===0&&(1<<t-32&(1<<w.AVG-32|1<<w.COUNT-32|1<<w.MAX-32|1<<w.MIN-32))!==0||t===w.SUM?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyType(){let e=new UD(this._ctx,this.state);this.enterRule(e,146,w.RULE_malloyType);let t;try{this.enterOuterAlt(e,1),this.state=698,t=this._input.LA(1),(t-33&~31)===0&&(1<<t-33&(1<<w.BOOLEAN-33|1<<w.DATE-33|1<<w.NUMBER-33))!==0||t===w.STRING||t===w.TIMESTAMP?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}compareOp(){let e=new $D(this._ctx,this.state);this.enterRule(e,148,w.RULE_compareOp);let t;try{this.enterOuterAlt(e,1),this.state=700,t=this._input.LA(1),(t-100&~31)===0&&(1<<t-100&(1<<w.LT-100|1<<w.GT-100|1<<w.EQ-100|1<<w.NE-100|1<<w.LTE-100|1<<w.GTE-100|1<<w.NOT_MATCH-100|1<<w.MATCH-100))!==0?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}literal(){let e=new y2(this._ctx,this.state);this.enterRule(e,150,w.RULE_literal);let t;try{switch(this.state=709,this._errHandler.sync(this),this._input.LA(1)){case w.STRING_LITERAL:e=new Hre(e),this.enterOuterAlt(e,1),this.state=702,this.match(w.STRING_LITERAL);break;case w.INTEGER_LITERAL:case w.NUMERIC_LITERAL:e=new Vre(e),this.enterOuterAlt(e,2),this.state=703,t=this._input.LA(1),t===w.INTEGER_LITERAL||t===w.NUMERIC_LITERAL?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case w.LITERAL_TIMESTAMP:case w.LITERAL_DAY:case w.LITERAL_QUARTER:case w.LITERAL_MONTH:case w.LITERAL_WEEK:case w.LITERAL_YEAR:e=new Wre(e),this.enterOuterAlt(e,3),this.state=704,this.dateLiteral();break;case w.NULL:e=new Qre(e),this.enterOuterAlt(e,4),this.state=705,this.match(w.NULL);break;case w.FALSE:case w.TRUE:e=new Gre(e),this.enterOuterAlt(e,5),this.state=706,t=this._input.LA(1),t===w.FALSE||t===w.TRUE?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case w.HACKY_REGEX:e=new Yre(e),this.enterOuterAlt(e,6),this.state=707,this.match(w.HACKY_REGEX);break;case w.NOW:e=new Kre(e),this.enterOuterAlt(e,7),this.state=708,this.match(w.NOW);break;default:throw new vc.NoViableAltException(this)}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dateLiteral(){let e=new lx(this._ctx,this.state);this.enterRule(e,152,w.RULE_dateLiteral);try{switch(this.state=717,this._errHandler.sync(this),this._input.LA(1)){case w.LITERAL_TIMESTAMP:e=new Jre(e),this.enterOuterAlt(e,1),this.state=711,this.match(w.LITERAL_TIMESTAMP);break;case w.LITERAL_DAY:e=new Xre(e),this.enterOuterAlt(e,2),this.state=712,this.match(w.LITERAL_DAY);break;case w.LITERAL_WEEK:e=new Zre(e),this.enterOuterAlt(e,3),this.state=713,this.match(w.LITERAL_WEEK);break;case w.LITERAL_MONTH:e=new eie(e),this.enterOuterAlt(e,4),this.state=714,this.match(w.LITERAL_MONTH);break;case w.LITERAL_QUARTER:e=new tie(e),this.enterOuterAlt(e,5),this.state=715,this.match(w.LITERAL_QUARTER);break;case w.LITERAL_YEAR:e=new nie(e),this.enterOuterAlt(e,6),this.state=716,this.match(w.LITERAL_YEAR);break;default:throw new vc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}tableName(){let e=new lU(this._ctx,this.state);this.enterRule(e,154,w.RULE_tableName);try{this.enterOuterAlt(e,1),this.state=719,this.match(w.STRING_LITERAL)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}id(){let e=new yd(this._ctx,this.state);this.enterRule(e,156,w.RULE_id);let t;try{this.enterOuterAlt(e,1),this.state=721,t=this._input.LA(1),t===w.IDENTIFIER||t===w.OBJECT_NAME_LITERAL?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}timeframe(){let e=new k6(this._ctx,this.state);this.enterRule(e,158,w.RULE_timeframe);let t;try{this.enterOuterAlt(e,1),this.state=723,t=this._input.LA(1),(t-40&~31)===0&&(1<<t-40&(1<<w.DAY-40|1<<w.HOUR-40|1<<w.MINUTE-40|1<<w.MONTH-40|1<<w.QUARTER-40|1<<w.SECOND-40))!==0||t===w.WEEK||t===w.YEAR?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}ungroup(){let e=new cU(this._ctx,this.state);this.enterRule(e,160,w.RULE_ungroup);let t;try{this.enterOuterAlt(e,1),this.state=725,t=this._input.LA(1),t===w.ALL||t===w.EXCLUDE?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldExpr(e){e===void 0&&(e=0);let t=this._ctx,r=this.state,i=new wi(this._ctx,r),s=i,o=162;this.enterRecursionRule(i,162,w.RULE_fieldExpr,e);let a;try{let c;this.enterOuterAlt(i,1);{switch(this.state=787,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,87,this._ctx)){case 1:i=new rie(i),this._ctx=i,s=i,this.state=728,this.fieldPath();break;case 2:i=new sie(i),this._ctx=i,s=i,this.state=729,this.literal();break;case 3:i=new oie(i),this._ctx=i,s=i,this.state=730,this.match(w.MINUS),this.state=731,this.fieldExpr(20);break;case 4:i=new gie(i),this._ctx=i,s=i,this.state=732,this.match(w.NOT),this.state=733,this.fieldExpr(9);break;case 5:i=new vie(i),this._ctx=i,s=i,this.state=734,this.match(w.CAST),this.state=735,this.match(w.OPAREN),this.state=736,this.fieldExpr(0),this.state=737,this.match(w.AS),this.state=738,this.malloyType(),this.state=739,this.match(w.CPAREN);break;case 6:i=new _ie(i),this._ctx=i,s=i,this.state=741,this.match(w.COUNT),this.state=742,this.match(w.OPAREN),this.state=743,this.match(w.DISTINCT),this.state=744,this.fieldExpr(0),this.state=745,this.match(w.CPAREN);break;case 7:{switch(i=new bie(i),this._ctx=i,s=i,this.state=750,this._errHandler.sync(this),a=this._input.LA(1),(a===w.IDENTIFIER||a===w.OBJECT_NAME_LITERAL)&&(this.state=747,this.fieldPath(),this.state=748,this.match(w.DOT)),this.state=752,this.aggregate(),this.state=753,this.match(w.OPAREN),this.state=756,this._errHandler.sync(this),this._input.LA(1)){case w.ALL:case w.AVG:case w.CAST:case w.COUNT:case w.DAY:case w.EXCLUDE:case w.FALSE:case w.HOUR:case w.MAX:case w.MIN:case w.MINUTE:case w.MONTH:case w.NOT:case w.NOW:case w.NULL:case w.PICK:case w.QUARTER:case w.SECOND:case w.SUM:case w.TRUE:case w.WEEK:case w.YEAR:case w.HACKY_REGEX:case w.STRING_LITERAL:case w.OPAREN:case w.MINUS:case w.LITERAL_TIMESTAMP:case w.LITERAL_DAY:case w.LITERAL_QUARTER:case w.LITERAL_MONTH:case w.LITERAL_WEEK:case w.LITERAL_YEAR:case w.IDENTIFIER:case w.INTEGER_LITERAL:case w.NUMERIC_LITERAL:case w.OBJECT_NAME_LITERAL:this.state=754,this.fieldExpr(0);break;case w.STAR:this.state=755,this.match(w.STAR);break;case w.CPAREN:break;default:break}this.state=758,this.match(w.CPAREN)}break;case 8:i=new Eie(i),this._ctx=i,s=i,this.state=760,this.match(w.OPAREN),this.state=761,this.partialAllowedFieldExpr(),this.state=762,this.match(w.CPAREN);break;case 9:{switch(i=new Sie(i),this._ctx=i,s=i,this.state=766,this._errHandler.sync(this),this._input.LA(1)){case w.IDENTIFIER:case w.OBJECT_NAME_LITERAL:this.state=764,this.id();break;case w.DAY:case w.HOUR:case w.MINUTE:case w.MONTH:case w.QUARTER:case w.SECOND:case w.WEEK:case w.YEAR:this.state=765,this.timeframe();break;default:throw new vc.NoViableAltException(this)}this.state=768,this.match(w.OPAREN),this.state=770,this._errHandler.sync(this),a=this._input.LA(1),((a-28&~31)===0&&(1<<a-28&(1<<w.ALL-28|1<<w.AVG-28|1<<w.CAST-28|1<<w.COUNT-28|1<<w.DAY-28|1<<w.EXCLUDE-28|1<<w.FALSE-28|1<<w.HOUR-28|1<<w.MAX-28|1<<w.MIN-28|1<<w.MINUTE-28|1<<w.MONTH-28))!==0||(a-60&~31)===0&&(1<<a-60&(1<<w.NOT-60|1<<w.NOW-60|1<<w.NULL-60|1<<w.PICK-60|1<<w.QUARTER-60|1<<w.SECOND-60|1<<w.SUM-60|1<<w.TRUE-60|1<<w.WEEK-60|1<<w.YEAR-60|1<<w.HACKY_REGEX-60|1<<w.STRING_LITERAL-60|1<<w.OPAREN-60))!==0||(a-107&~31)===0&&(1<<a-107&(1<<w.MINUS-107|1<<w.LITERAL_TIMESTAMP-107|1<<w.LITERAL_DAY-107|1<<w.LITERAL_QUARTER-107|1<<w.LITERAL_MONTH-107|1<<w.LITERAL_WEEK-107|1<<w.LITERAL_YEAR-107|1<<w.IDENTIFIER-107|1<<w.INTEGER_LITERAL-107|1<<w.NUMERIC_LITERAL-107|1<<w.OBJECT_NAME_LITERAL-107))!==0)&&(this.state=769,this.argumentList()),this.state=772,this.match(w.CPAREN)}break;case 10:i=new Cie(i),this._ctx=i,s=i,this.state=774,this.pickStatement();break;case 11:{for(i=new wie(i),this._ctx=i,s=i,this.state=775,this.ungroup(),this.state=776,this.match(w.OPAREN),this.state=777,this.fieldExpr(0),this.state=782,this._errHandler.sync(this),a=this._input.LA(1);a===w.COMMA;)this.state=778,this.match(w.COMMA),this.state=779,this.fieldName(),this.state=784,this._errHandler.sync(this),a=this._input.LA(1);this.state=785,this.match(w.CPAREN)}break}for(this._ctx._stop=this._input.tryLT(-1),this.state=831,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,89,this._ctx);c!==2&&c!==Gf.ATN.INVALID_ALT_NUMBER;){if(c===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),s=i,this.state=829,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,88,this._ctx)){case 1:{if(i=new cie(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=789,!this.precpred(this._ctx,16))throw this.createFailedPredicateException("this.precpred(this._ctx, 16)");this.state=790,a=this._input.LA(1),a===w.STAR||a===w.SLASH?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=791,this.fieldExpr(17)}break;case 2:{if(i=new fie(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=792,!this.precpred(this._ctx,15))throw this.createFailedPredicateException("this.precpred(this._ctx, 15)");this.state=793,a=this._input.LA(1),a===w.PLUS||a===w.MINUS?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=794,this.fieldExpr(16)}break;case 3:{if(i=new die(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=795,!this.precpred(this._ctx,14))throw this.createFailedPredicateException("this.precpred(this._ctx, 14)");this.state=796,this.match(w.TO),this.state=797,this.fieldExpr(15)}break;case 4:{if(i=new mie(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=798,!this.precpred(this._ctx,11))throw this.createFailedPredicateException("this.precpred(this._ctx, 11)");this.state=799,this.compareOp(),this.state=800,this.fieldExpr(12)}break;case 5:{if(i=new yie(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=802,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=803,a=this._input.LA(1),a===w.AND||a===w.OR?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=804,this.fieldExpr(9)}break;case 6:{if(i=new iie(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=805,!this.precpred(this._ctx,22))throw this.createFailedPredicateException("this.precpred(this._ctx, 22)");this.state=806,this.match(w.OCURLY),this.state=807,this.filteredBy(),this.state=808,this.match(w.CCURLY)}break;case 7:{if(i=new aie(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=810,!this.precpred(this._ctx,19))throw this.createFailedPredicateException("this.precpred(this._ctx, 19)");this.state=811,this.timeframe()}break;case 8:{if(i=new uie(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=812,!this.precpred(this._ctx,18))throw this.createFailedPredicateException("this.precpred(this._ctx, 18)");this.state=813,this.match(w.DOT),this.state=814,this.timeframe()}break;case 9:{if(i=new lie(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=815,!this.precpred(this._ctx,17))throw this.createFailedPredicateException("this.precpred(this._ctx, 17)");this.state=816,this.match(w.DOUBLECOLON),this.state=817,this.malloyType()}break;case 10:{if(i=new hie(new wi(t,r)),i._startAt=s,this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=818,!this.precpred(this._ctx,13))throw this.createFailedPredicateException("this.precpred(this._ctx, 13)");this.state=819,this.match(w.FOR),this.state=820,i._duration=this.fieldExpr(0),this.state=821,this.timeframe()}break;case 11:{if(i=new pie(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=823,!this.precpred(this._ctx,12))throw this.createFailedPredicateException("this.precpred(this._ctx, 12)");this.state=824,a=this._input.LA(1),a===w.AMPER||a===w.BAR?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=825,this.partialAllowedFieldExpr()}break;case 12:{if(i=new xie(new wi(t,r)),this.pushNewRecursionContext(i,o,w.RULE_fieldExpr),this.state=826,!this.precpred(this._ctx,10))throw this.createFailedPredicateException("this.precpred(this._ctx, 10)");this.state=827,a=this._input.LA(1),a===w.QMARK||a===w.COLON?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=828,this.partialAllowedFieldExpr()}break}this.state=833,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,89,this._ctx)}}}catch(c){if(c instanceof Hr.RecognitionException)i.exception=c,this._errHandler.reportError(this,c),this._errHandler.recover(this,c);else throw c}finally{this.unrollRecursionContexts(t)}return i}partialAllowedFieldExpr(){let e=new ey(this._ctx,this.state);this.enterRule(e,164,w.RULE_partialAllowedFieldExpr);try{switch(this.state=838,this._errHandler.sync(this),this._input.LA(1)){case w.LT:case w.GT:case w.EQ:case w.NE:case w.LTE:case w.GTE:case w.NOT_MATCH:case w.MATCH:e=new Aie(e),this.enterOuterAlt(e,1),this.state=834,this.compareOp(),this.state=835,this.fieldExpr(0);break;case w.ALL:case w.AVG:case w.CAST:case w.COUNT:case w.DAY:case w.EXCLUDE:case w.FALSE:case w.HOUR:case w.MAX:case w.MIN:case w.MINUTE:case w.MONTH:case w.NOT:case w.NOW:case w.NULL:case w.PICK:case w.QUARTER:case w.SECOND:case w.SUM:case w.TRUE:case w.WEEK:case w.YEAR:case w.HACKY_REGEX:case w.STRING_LITERAL:case w.OPAREN:case w.MINUS:case w.LITERAL_TIMESTAMP:case w.LITERAL_DAY:case w.LITERAL_QUARTER:case w.LITERAL_MONTH:case w.LITERAL_WEEK:case w.LITERAL_YEAR:case w.IDENTIFIER:case w.INTEGER_LITERAL:case w.NUMERIC_LITERAL:case w.OBJECT_NAME_LITERAL:e=new Tie(e),this.enterOuterAlt(e,2),this.state=837,this.fieldExpr(0);break;default:throw new vc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}pickStatement(){let e=new fU(this._ctx,this.state);this.enterRule(e,166,w.RULE_pickStatement);try{let t;this.enterOuterAlt(e,1);{this.state=841,this._errHandler.sync(this),t=1;do{switch(t){case 1:this.state=840,this.pick();break;default:throw new vc.NoViableAltException(this)}this.state=843,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,91,this._ctx)}while(t!==2&&t!==Gf.ATN.INVALID_ALT_NUMBER);switch(this.state=847,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,92,this._ctx)){case 1:this.state=845,this.match(w.ELSE),this.state=846,e._pickElse=this.fieldExpr(0);break}}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}pick(){let e=new zD(this._ctx,this.state);this.enterRule(e,168,w.RULE_pick);let t;try{this.enterOuterAlt(e,1),this.state=849,this.match(w.PICK),this.state=851,this._errHandler.sync(this),t=this._input.LA(1),((t-28&~31)===0&&(1<<t-28&(1<<w.ALL-28|1<<w.AVG-28|1<<w.CAST-28|1<<w.COUNT-28|1<<w.DAY-28|1<<w.EXCLUDE-28|1<<w.FALSE-28|1<<w.HOUR-28|1<<w.MAX-28|1<<w.MIN-28|1<<w.MINUTE-28|1<<w.MONTH-28))!==0||(t-60&~31)===0&&(1<<t-60&(1<<w.NOT-60|1<<w.NOW-60|1<<w.NULL-60|1<<w.PICK-60|1<<w.QUARTER-60|1<<w.SECOND-60|1<<w.SUM-60|1<<w.TRUE-60|1<<w.WEEK-60|1<<w.YEAR-60|1<<w.HACKY_REGEX-60|1<<w.STRING_LITERAL-60|1<<w.OPAREN-60))!==0||(t-107&~31)===0&&(1<<t-107&(1<<w.MINUS-107|1<<w.LITERAL_TIMESTAMP-107|1<<w.LITERAL_DAY-107|1<<w.LITERAL_QUARTER-107|1<<w.LITERAL_MONTH-107|1<<w.LITERAL_WEEK-107|1<<w.LITERAL_YEAR-107|1<<w.IDENTIFIER-107|1<<w.INTEGER_LITERAL-107|1<<w.NUMERIC_LITERAL-107|1<<w.OBJECT_NAME_LITERAL-107))!==0)&&(this.state=850,e._pickValue=this.fieldExpr(0)),this.state=853,this.match(w.WHEN),this.state=854,e._pickWhen=this.partialAllowedFieldExpr()}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}argumentList(){let e=new dU(this._ctx,this.state);this.enterRule(e,170,w.RULE_argumentList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=856,this.fieldExpr(0),this.state=861,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,94,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=857,this.match(w.COMMA),this.state=858,this.fieldExpr(0)),this.state=863,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,94,this._ctx);this.state=865,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=864,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldNameList(){let e=new hU(this._ctx,this.state);this.enterRule(e,172,w.RULE_fieldNameList);let t;try{for(this.enterOuterAlt(e,1),this.state=867,this.fieldName(),this.state=874,this._errHandler.sync(this),t=this._input.LA(1);(t-98&~31)===0&&(1<<t-98&(1<<w.COMMA-98|1<<w.IDENTIFIER-98|1<<w.OBJECT_NAME_LITERAL-98))!==0;)this.state=869,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=868,this.match(w.COMMA)),this.state=871,this.fieldName(),this.state=876,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldCollection(){let e=new pU(this._ctx,this.state);this.enterRule(e,174,w.RULE_fieldCollection);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=877,this.collectionMember(),this.state=884,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,99,this._ctx);r!==2&&r!==Gf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=879,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=878,this.match(w.COMMA)),this.state=881,this.collectionMember()),this.state=886,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,99,this._ctx);this.state=888,this._errHandler.sync(this),t=this._input.LA(1),t===w.COMMA&&(this.state=887,this.match(w.COMMA))}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}collectionMember(){let e=new z5(this._ctx,this.state);this.enterRule(e,176,w.RULE_collectionMember);let t;try{switch(this.state=898,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,102,this._ctx)){case 1:e=new Fie(e),this.enterOuterAlt(e,1),this.state=890,this.fieldPath();break;case 2:e=new Die(e),this.enterOuterAlt(e,2),this.state=894,this._errHandler.sync(this),t=this._input.LA(1),(t===w.IDENTIFIER||t===w.OBJECT_NAME_LITERAL)&&(this.state=891,this.fieldPath(),this.state=892,this.match(w.DOT)),this.state=896,t=this._input.LA(1),t===w.STAR||t===w.STARSTAR?(this._input.LA(1)===mf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case 3:e=new Oie(e),this.enterOuterAlt(e,3),this.state=897,this.fieldDef();break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldPath(){let e=new ty(this._ctx,this.state);this.enterRule(e,178,w.RULE_fieldPath);try{let t;for(this.enterOuterAlt(e,1),this.state=900,this.fieldName(),this.state=905,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,103,this._ctx);t!==2&&t!==Gf.ATN.INVALID_ALT_NUMBER;)t===1&&(this.state=901,this.match(w.DOT),this.state=902,this.fieldName()),this.state=907,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,103,this._ctx)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinName(){let e=new Nie(this._ctx,this.state);this.enterRule(e,180,w.RULE_joinName);try{this.enterOuterAlt(e,1),this.state=908,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldName(){let e=new vd(this._ctx,this.state);this.enterRule(e,182,w.RULE_fieldName);try{this.enterOuterAlt(e,1),this.state=910,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}justExpr(){let e=new Rie(this._ctx,this.state);this.enterRule(e,184,w.RULE_justExpr);try{this.enterOuterAlt(e,1),this.state=912,this.fieldExpr(0),this.state=913,this.match(w.EOF)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}json(){let e=new Lie(this._ctx,this.state);this.enterRule(e,186,w.RULE_json);try{this.enterOuterAlt(e,1),this.state=915,this.jsonValue()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonValue(){let e=new I6(this._ctx,this.state);this.enterRule(e,188,w.RULE_jsonValue);try{switch(this.state=925,this._errHandler.sync(this),this._input.LA(1)){case w.JSON_STRING:this.enterOuterAlt(e,1),this.state=917,this.match(w.JSON_STRING);break;case w.INTEGER_LITERAL:this.enterOuterAlt(e,2),this.state=918,this.match(w.INTEGER_LITERAL);break;case w.NUMERIC_LITERAL:this.enterOuterAlt(e,3),this.state=919,this.match(w.NUMERIC_LITERAL);break;case w.OCURLY:this.enterOuterAlt(e,4),this.state=920,this.jsonObject();break;case w.OBRACK:this.enterOuterAlt(e,5),this.state=921,this.jsonArray();break;case w.TRUE:this.enterOuterAlt(e,6),this.state=922,this.match(w.TRUE);break;case w.FALSE:this.enterOuterAlt(e,7),this.state=923,this.match(w.FALSE);break;case w.NULL:this.enterOuterAlt(e,8),this.state=924,this.match(w.NULL);break;default:throw new vc.NoViableAltException(this)}}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonObject(){let e=new mU(this._ctx,this.state);this.enterRule(e,190,w.RULE_jsonObject);let t;try{switch(this.state=940,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,106,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=927,this.match(w.OCURLY),this.state=928,this.jsonProperty(),this.state=933,this._errHandler.sync(this),t=this._input.LA(1);t===w.COMMA;)this.state=929,this.match(w.COMMA),this.state=930,this.jsonProperty(),this.state=935,this._errHandler.sync(this),t=this._input.LA(1);this.state=936,this.match(w.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=938,this.match(w.OCURLY),this.state=939,this.match(w.CCURLY);break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}jsonProperty(){let e=new HD(this._ctx,this.state);this.enterRule(e,192,w.RULE_jsonProperty);try{this.enterOuterAlt(e,1),this.state=942,this.match(w.JSON_STRING),this.state=943,this.match(w.COLON),this.state=944,this.jsonValue()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonArray(){let e=new xU(this._ctx,this.state);this.enterRule(e,194,w.RULE_jsonArray);let t;try{switch(this.state=959,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,108,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=946,this.match(w.OBRACK),this.state=947,this.jsonValue(),this.state=952,this._errHandler.sync(this),t=this._input.LA(1);t===w.COMMA;)this.state=948,this.match(w.COMMA),this.state=949,this.jsonValue(),this.state=954,this._errHandler.sync(this),t=this._input.LA(1);this.state=955,this.match(w.CBRACK)}break;case 2:this.enterOuterAlt(e,2),this.state=957,this.match(w.OBRACK),this.state=958,this.match(w.CBRACK);break}}catch(r){if(r instanceof Hr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sqlExploreNameRef(){let e=new gU(this._ctx,this.state);this.enterRule(e,196,w.RULE_sqlExploreNameRef);try{this.enterOuterAlt(e,1),this.state=961,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sqlCommandNameDef(){let e=new yU(this._ctx,this.state);this.enterRule(e,198,w.RULE_sqlCommandNameDef);try{this.enterOuterAlt(e,1),this.state=963,this.id()}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}connectionName(){let e=new vU(this._ctx,this.state);this.enterRule(e,200,w.RULE_connectionName);try{this.enterOuterAlt(e,1),this.state=965,this.match(w.JSON_STRING)}catch(t){if(t instanceof Hr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sempred(e,t,r){switch(t){case 81:return this.fieldExpr_sempred(e,r)}return!0}fieldExpr_sempred(e,t){switch(t){case 0:return this.precpred(this._ctx,16);case 1:return this.precpred(this._ctx,15);case 2:return this.precpred(this._ctx,14);case 3:return this.precpred(this._ctx,11);case 4:return this.precpred(this._ctx,8);case 5:return this.precpred(this._ctx,22);case 6:return this.precpred(this._ctx,19);case 7:return this.precpred(this._ctx,18);case 8:return this.precpred(this._ctx,17);case 9:return this.precpred(this._ctx,13);case 10:return this.precpred(this._ctx,12);case 11:return this.precpred(this._ctx,10)}return!0}static get _ATN(){return w.__ATN||(w.__ATN=new qut.ATNDeserializer().deserialize(sEe.toCharArray(w._serializedATN))),w.__ATN}};It.MalloyParser=w;w.JSON_STRING=1;w.ACCEPT=2;w.AGGREGATE=3;w.DECLARE=4;w.DIMENSION=5;w.EXCEPT=6;w.EXPLORE=7;w.GROUP_BY=8;w.HAVING=9;w.INDEX=10;w.JOIN_CROSS=11;w.JOIN_ONE=12;w.JOIN_MANY=13;w.LIMIT=14;w.MEASURE=15;w.NEST=16;w.ORDER_BY=17;w.PRIMARY_KEY=18;w.PROJECT=19;w.QUERY=20;w.RENAME=21;w.SAMPLE=22;w.SOURCE=23;w.SQL=24;w.FANCYSQL=25;w.TOP=26;w.WHERE=27;w.ALL=28;w.AND=29;w.AS=30;w.ASC=31;w.AVG=32;w.BOOLEAN=33;w.BY=34;w.CASE=35;w.CAST=36;w.CONDITION=37;w.COUNT=38;w.DATE=39;w.DAY=40;w.DESC=41;w.DISTINCT=42;w.ELSE=43;w.END=44;w.EXCLUDE=45;w.FALSE=46;w.FOR=47;w.FROM=48;w.FROM_SQL=49;w.HAS=50;w.HOUR=51;w.IMPORT=52;w.IS=53;w.JSON=54;w.LAST=55;w.MAX=56;w.MIN=57;w.MINUTE=58;w.MONTH=59;w.NOT=60;w.NOW=61;w.NULL=62;w.NUMBER=63;w.ON=64;w.OR=65;w.PICK=66;w.QMARK=67;w.QUARTER=68;w.SECOND=69;w.STRING=70;w.SUM=71;w.TABLE=72;w.THEN=73;w.THIS=74;w.TIMESTAMP=75;w.TO=76;w.TRUE=77;w.TURTLE=78;w.WEEK=79;w.WHEN=80;w.WITH=81;w.YEAR=82;w.UNGROUPED=83;w.STRING_ESCAPE=84;w.HACKY_REGEX=85;w.STRING_LITERAL=86;w.AMPER=87;w.ARROW=88;w.FAT_ARROW=89;w.OPAREN=90;w.CPAREN=91;w.OBRACK=92;w.CBRACK=93;w.OCURLY=94;w.CCURLY=95;w.DOUBLECOLON=96;w.COLON=97;w.COMMA=98;w.DOT=99;w.LT=100;w.GT=101;w.EQ=102;w.NE=103;w.LTE=104;w.GTE=105;w.PLUS=106;w.MINUS=107;w.STAR=108;w.STARSTAR=109;w.SLASH=110;w.BAR=111;w.SEMI=112;w.NOT_MATCH=113;w.MATCH=114;w.LITERAL_TIMESTAMP=115;w.LITERAL_DAY=116;w.LITERAL_QUARTER=117;w.LITERAL_MONTH=118;w.LITERAL_WEEK=119;w.LITERAL_YEAR=120;w.IDENTIFIER=121;w.PERCENT_LITERAL=122;w.INTEGER_LITERAL=123;w.NUMERIC_LITERAL=124;w.OBJECT_NAME_LITERAL=125;w.BLOCK_COMMENT=126;w.COMMENT_TO_EOL=127;w.WHITE_SPACE=128;w.SQL_STRING=129;w.UNWATED_CHARS_TRAILING_NUMBERS=130;w.UNEXPECTED_CHAR=131;w.RULE_malloyDocument=0;w.RULE_malloyStatement=1;w.RULE_defineExploreStatement=2;w.RULE_exploreKeyword=3;w.RULE_defineQuery=4;w.RULE_topLevelAnonQueryDef=5;w.RULE_defineSQLStatement=6;w.RULE_sqlStatementDef=7;w.RULE_importStatement=8;w.RULE_importURL=9;w.RULE_topLevelQueryDefs=10;w.RULE_topLevelQueryDef=11;w.RULE_refineOperator=12;w.RULE_query=13;w.RULE_pipelineFromName=14;w.RULE_firstSegment=15;w.RULE_pipeElement=16;w.RULE_exploreTable=17;w.RULE_queryProperties=18;w.RULE_filterShortcut=19;w.RULE_exploreQueryName=20;w.RULE_queryName=21;w.RULE_exploreDefinitionList=22;w.RULE_exploreDefinition=23;w.RULE_explore=24;w.RULE_exploreSource=25;w.RULE_exploreNameDef=26;w.RULE_exploreName=27;w.RULE_exploreProperties=28;w.RULE_exploreStatement=29;w.RULE_renameList=30;w.RULE_exploreRenameDef=31;w.RULE_dimensionDefList=32;w.RULE_measureDefList=33;w.RULE_fieldDef=34;w.RULE_fieldNameDef=35;w.RULE_joinNameDef=36;w.RULE_measureDef=37;w.RULE_declareStatement=38;w.RULE_joinStatement=39;w.RULE_joinList=40;w.RULE_joinDef=41;w.RULE_joinExpression=42;w.RULE_filterStatement=43;w.RULE_filteredBy=44;w.RULE_filterClauseList=45;w.RULE_whereStatement=46;w.RULE_havingStatement=47;w.RULE_subQueryDefList=48;w.RULE_exploreQueryNameDef=49;w.RULE_exploreQueryDef=50;w.RULE_queryStatement=51;w.RULE_groupByStatement=52;w.RULE_queryFieldList=53;w.RULE_dimensionDef=54;w.RULE_queryFieldEntry=55;w.RULE_nestStatement=56;w.RULE_nestedQueryList=57;w.RULE_nestEntry=58;w.RULE_aggregateStatement=59;w.RULE_projectStatement=60;w.RULE_orderByStatement=61;w.RULE_ordering=62;w.RULE_orderBySpec=63;w.RULE_limitStatement=64;w.RULE_bySpec=65;w.RULE_topStatement=66;w.RULE_indexElement=67;w.RULE_indexFields=68;w.RULE_indexStatement=69;w.RULE_sampleStatement=70;w.RULE_sampleSpec=71;w.RULE_aggregate=72;w.RULE_malloyType=73;w.RULE_compareOp=74;w.RULE_literal=75;w.RULE_dateLiteral=76;w.RULE_tableName=77;w.RULE_id=78;w.RULE_timeframe=79;w.RULE_ungroup=80;w.RULE_fieldExpr=81;w.RULE_partialAllowedFieldExpr=82;w.RULE_pickStatement=83;w.RULE_pick=84;w.RULE_argumentList=85;w.RULE_fieldNameList=86;w.RULE_fieldCollection=87;w.RULE_collectionMember=88;w.RULE_fieldPath=89;w.RULE_joinName=90;w.RULE_fieldName=91;w.RULE_justExpr=92;w.RULE_json=93;w.RULE_jsonValue=94;w.RULE_jsonObject=95;w.RULE_jsonProperty=96;w.RULE_jsonArray=97;w.RULE_sqlExploreNameRef=98;w.RULE_sqlCommandNameDef=99;w.RULE_connectionName=100;w.ruleNames=["malloyDocument","malloyStatement","defineExploreStatement","exploreKeyword","defineQuery","topLevelAnonQueryDef","defineSQLStatement","sqlStatementDef","importStatement","importURL","topLevelQueryDefs","topLevelQueryDef","refineOperator","query","pipelineFromName","firstSegment","pipeElement","exploreTable","queryProperties","filterShortcut","exploreQueryName","queryName","exploreDefinitionList","exploreDefinition","explore","exploreSource","exploreNameDef","exploreName","exploreProperties","exploreStatement","renameList","exploreRenameDef","dimensionDefList","measureDefList","fieldDef","fieldNameDef","joinNameDef","measureDef","declareStatement","joinStatement","joinList","joinDef","joinExpression","filterStatement","filteredBy","filterClauseList","whereStatement","havingStatement","subQueryDefList","exploreQueryNameDef","exploreQueryDef","queryStatement","groupByStatement","queryFieldList","dimensionDef","queryFieldEntry","nestStatement","nestedQueryList","nestEntry","aggregateStatement","projectStatement","orderByStatement","ordering","orderBySpec","limitStatement","bySpec","topStatement","indexElement","indexFields","indexStatement","sampleStatement","sampleSpec","aggregate","malloyType","compareOp","literal","dateLiteral","tableName","id","timeframe","ungroup","fieldExpr","partialAllowedFieldExpr","pickStatement","pick","argumentList","fieldNameList","fieldCollection","collectionMember","fieldPath","joinName","fieldName","justExpr","json","jsonValue","jsonObject","jsonProperty","jsonArray","sqlExploreNameRef","sqlCommandNameDef","connectionName"];w._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'"];w._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];w.VOCABULARY=new Hut.VocabularyImpl(w._LITERAL_NAMES,w._SYMBOLIC_NAMES,[]);w._serializedATNSegments=2;w._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x85\u03CA					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	f\x07\xCF
\f\xD2\v\xDA
\xE5
\x07\x07\b\b\b				\xEF
					\xF4
	


\v\v\f\f\f\xFD
\f\f\x07\f\u0100
\f\f\f\f\u0103\v\f\f\f\u0106
\f\r\r\r\r\u0115
\u0118
\x07\u011B
\f\u011E\v\u0120
\x07\u0124
\f\u0127\v\u012C
\u012F
\u0131
\x07\u013F
\f\u0142\v\u0145
\u0152
\x07\u0155
\f\u0158\v\u015B
\u0163
\u0166
\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\u0174
\x1B\x07\u017D
\f\u0180\v\u0184
\u0195
   \u0199
  \x07 \u019C
 \f  \u019F\v   \u01A2
 !!!!"""\u01AA
""\x07"\u01AD
"\f""\u01B0\v"""\u01B3
"###\u01B7
##\x07#\u01BA
#\f##\u01BD\v###\u01C0
#$$$$%%&&''((((\u01CF
((\x07(\u01D2
(\f((\u01D5\v(((\u01D8
()))))))\u01E0
)***\u01E4
**\x07*\u01E7
*\f**\u01EA\v***\u01ED
*++++\u01F2
++++++++\u01FA
++++\u01FE
++\u0200
+,,---\u0206
-....\u020B
.///\x07/\u0210
/\f//\u0213\v///\u0216
/000111222\u0220
22\x072\u0223
2\f22\u0226\v222\u0229
233444455555555555555\u023E
5666777\u0245
77\x077\u0248
7\f77\u024B\v777\u024E
788999\u0254
9:::;;;\u025B
;;\x07;\u025E
;\f;;\u0261\v;;;\u0264
;<<<\u0268
<<<\u026B
<<<<<<\u0271
<===>>>???@@@\u027E
@@\x07@\u0281
@\f@@\u0284\v@@@\u0287
@AAA\u028B
AAA\u028E
ABBBCCCCC\u0297
CDDDD\u029C
DEEEE\u02A1
EEE\u02A4
EFFF\u02A8
FF\x07F\u02AB
F\fFF\u02AE\vFGGGGG\u02B4
GHHHIIJJKKLLMMMMMMMM\u02C8
MNNNNNNN\u02D0
NOOPPQQRRSSSSSSSSSSSSSSSSSSSSSSSS\u02F1
SSSSSS\u02F7
SSSSSSSSSS\u0301
SSSS\u0305
SSSSSSSSS\x07S\u030F
S\fSS\u0312\vSSSS\u0316
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS\x07S\u0340
S\fSS\u0343\vSTTTTT\u0349
TUU\u034C
U\rUU\u034DUUU\u0352
UVVV\u0356
VVVVWWW\x07W\u035E
W\fWW\u0361\vWWW\u0364
WXXX\u0368
XX\x07X\u036B
X\fXX\u036E\vXYYY\u0372
YY\x07Y\u0375
Y\fYY\u0378\vYYY\u037B
YZZZZZ\u0381
ZZZZ\u0385
Z[[[\x07[\u038A
[\f[[\u038D\v[\\\\]]^^^__\`\`\`\`\`\`\`\`\`\u03A0
\`aaaa\x07a\u03A6
a\faa\u03A9\vaaaaaa\u03AF
abbbbcccc\x07c\u03B9
c\fcc\u03BC\vcccccc\u03C2
cddeefff\xA4g\b
\f "$&(*,.02468:<>@BDFHJLNPRTVXZ\\^\`bdfhjlnprtvxz|~\x80\x82\x84\x86\x88\x8A\x8C\x8E\x90\x92\x94\x96\x98\x9A\x9C\x9E\xA0\xA2\xA4\xA6\xA8\xAA\xAC\xAE\xB0\xB2\xB4\xB6\xB8\xBA\xBC\xBE\xC0\xC2\xC4\xC6\xC8\xCA		\b\b!!++00OO|}""((:;II\x07##))AAHHMMfkst}~00OO{{\x7F\x7F\b**55<=FGQQTT//nnpplmCCYYqqEEccno\u040C\xD0\xD9\xDB\b\xDE
\xE4\f\xE6\xE8\xEE\xF5\xF8\xFA\u0107\u010B\u011F\u0121 \u0130"\u0132$\u0135&\u0144(\u0146*\u014B,\u014D.\u014F0\u015C2\u01604\u01736\u01758\u0177:\u0183<\u0194>\u0196@\u01A3B\u01A7D\u01B4F\u01C1H\u01C5J\u01C7L\u01C9N\u01CBP\u01DFR\u01E1T\u01FFV\u0201X\u0205Z\u020A\\\u020C^\u0217\`\u021Ab\u021Dd\u022Af\u022Ch\u023Dj\u023Fl\u0242n\u024Fp\u0253r\u0255t\u0258v\u0270x\u0272z\u0275|\u0278~\u027B\x80\u028A\x82\u028F\x84\u0296\x86\u0298\x88\u02A3\x8A\u02A5\x8C\u02AF\x8E\u02B5\x90\u02B8\x92\u02BA\x94\u02BC\x96\u02BE\x98\u02C7\x9A\u02CF\x9C\u02D1\x9E\u02D3\xA0\u02D5\xA2\u02D7\xA4\u0315\xA6\u0348\xA8\u034B\xAA\u0353\xAC\u035A\xAE\u0365\xB0\u036F\xB2\u0384\xB4\u0386\xB6\u038E\xB8\u0390\xBA\u0392\xBC\u0395\xBE\u039F\xC0\u03AE\xC2\u03B0\xC4\u03C1\xC6\u03C3\xC8\u03C5\xCA\u03C7\xCC\xCF\xCD\xCF\x07r\xCE\xCC\xCE\xCD\xCF\xD2\xD0\xCE\xD0\xD1\xD1\xD3\xD2\xD0\xD3\xD4\x07\xD4\xD5\xDA\xD6\xDA\b\xD7\xDA
\xD8\xDA
\xD9\xD5\xD9\xD6\xD9\xD7\xD9\xD8\xDA\xDB\xDC\b\xDC\xDD.\xDD\x07\xDE\xDF	\xDF	\xE0\xE1\x07\xE1\xE5\f\xE2\xE3\x07\xE3\xE5\f\x07\xE4\xE0\xE4\xE2\xE5\v\xE6\xE7\xE7\r\xE8\xE9\x07\xE9\xEA	\xEA\xEB\xEC\xC8e\xEC\xED\x077\xED\xEF\xEE\xEB\xEE\xEF\xEF\xF0\xF0\xF3\x07\x83\xF1\xF2\x07B\xF2\xF4\xCAf\xF3\xF1\xF3\xF4\xF4\xF5\xF6\x076\xF6\xF7\v\xF7\xF8\xF9\x07\xF9\xFA\u0101\r\xFB\xFD\x07d\xFC\xFB\xFC\xFD\xFD\xFE\xFE\u0100\r\xFF\xFC\u0100\u0103\u0101\xFF\u0101\u0102\u0102\u0105\u0103\u0101\u0104\u0106\x07d\u0105\u0104\u0105\u0106\u0106\u0107\u0108,\u0108\u0109\x077\u0109\u010A\u010A\u010B\u010C\x07l\u010C\x1B\u010D\u010E2\u010E\u010F\x07Z\u010F\u0110\u0110\u0120\u0111\u0112\x07Z\u0112\u0117,\u0113\u0115\u0114\u0113\u0114\u0115\u0115\u0116\u0116\u0118&\u0117\u0114\u0117\u0118\u0118\u011C\u0119\u011B"\u011A\u0119\u011B\u011E\u011C\u011A\u011C\u011D\u011D\u0120\u011E\u011C\u011F\u010D\u011F\u0111\u0120\u0121\u0125 \u0122\u0124"\u0123\u0122\u0124\u0127\u0125\u0123\u0125\u0126\u0126\u0127\u0125\u0128\u0131&\u0129\u012E*\u012A\u012C\u012B\u012A\u012B\u012C\u012C\u012D\u012D\u012F&\u012E\u012B\u012E\u012F\u012F\u0131\u0130\u0128\u0130\u0129\u0131!\u0132\u0133\x07Z\u0133\u0134&\u0134#\u0135\u0136\x07J\u0136\u0137\x07\\\u0137\u0138\x9CO\u0138\u0139\x07]\u0139%\u013A\u0145(\u013B\u0140\x07\`\u013C\u013Fh5\u013D\u013F\x07r\u013E\u013C\u013E\u013D\u013F\u0142\u0140\u013E\u0140\u0141\u0141\u0143\u0142\u0140\u0143\u0145\x07a\u0144\u013A\u0144\u013B\u0145'\u0146\u0147\x07\`\u0147\u0148\x07E\u0148\u0149\xA4S\u0149\u014A\x07a\u014A)\u014B\u014C\x9EP\u014C+\u014D\u014E\x9EP\u014E-\u014F\u01560\u0150\u0152\x07d\u0151\u0150\u0151\u0152\u0152\u0153\u0153\u01550\u0154\u0151\u0155\u0158\u0156\u0154\u0156\u0157\u0157\u015A\u0158\u0156\u0159\u015B\x07d\u015A\u0159\u015A\u015B\u015B/\u015C\u015D6\u015D\u015E\x077\u015E\u015F2\u015F1\u0160\u01654\x1B\u0161\u0163\u0162\u0161\u0162\u0163\u0163\u0164\u0164\u0166:\u0165\u0162\u0165\u0166\u01663\u0167\u01748\u0168\u0174$\u0169\u016A\x072\u016A\u016B\x07\\\u016B\u016C\u016C\u016D\x07]\u016D\u0174\u016E\u016F\x073\u016F\u0170\x07\\\u0170\u0171\xC6d\u0171\u0172\x07]\u0172\u0174\u0173\u0167\u0173\u0168\u0173\u0169\u0173\u016E\u01745\u0175\u0176\x9EP\u01767\u0177\u0178\x9EP\u01789\u0179\u017E\x07\`\u017A\u017D<\u017B\u017D\x07r\u017C\u017A\u017C\u017B\u017D\u0180\u017E\u017C\u017E\u017F\u017F\u0181\u0180\u017E\u0181\u0184\x07a\u0182\u0184(\u0183\u0179\u0183\u0182\u0184;\u0185\u0186\x07\x07\u0186\u0195B"\u0187\u0188\x07\u0188\u0195D#\u0189\u0195N(\u018A\u0195P)\u018B\u0195^0\u018C\u018D\x07\u018D\u0195\xB8]\u018E\u018F\x07\u018F\u0195> \u0190\u0191	\u0191\u0195\xAEX\u0192\u0193\x07\u0193\u0195b2\u0194\u0185\u0194\u0187\u0194\u0189\u0194\u018A\u0194\u018B\u0194\u018C\u0194\u018E\u0194\u0190\u0194\u0192\u0195=\u0196\u019D@!\u0197\u0199\x07d\u0198\u0197\u0198\u0199\u0199\u019A\u019A\u019C@!\u019B\u0198\u019C\u019F\u019D\u019B\u019D\u019E\u019E\u01A1\u019F\u019D\u01A0\u01A2\x07d\u01A1\u01A0\u01A1\u01A2\u01A2?\u01A3\u01A4\xB8]\u01A4\u01A5\x077\u01A5\u01A6\xB8]\u01A6A\u01A7\u01AEn8\u01A8\u01AA\x07d\u01A9\u01A8\u01A9\u01AA\u01AA\u01AB\u01AB\u01ADn8\u01AC\u01A9\u01AD\u01B0\u01AE\u01AC\u01AE\u01AF\u01AF\u01B2\u01B0\u01AE\u01B1\u01B3\x07d\u01B2\u01B1\u01B2\u01B3\u01B3C\u01B4\u01BBL'\u01B5\u01B7\x07d\u01B6\u01B5\u01B6\u01B7\u01B7\u01B8\u01B8\u01BAL'\u01B9\u01B6\u01BA\u01BD\u01BB\u01B9\u01BB\u01BC\u01BC\u01BF\u01BD\u01BB\u01BE\u01C0\x07d\u01BF\u01BE\u01BF\u01C0\u01C0E\u01C1\u01C2H%\u01C2\u01C3\x077\u01C3\u01C4\xA4S\u01C4G\u01C5\u01C6\x9EP\u01C6I\u01C7\u01C8\x9EP\u01C8K\u01C9\u01CAF$\u01CAM\u01CB\u01CC\x07\u01CC\u01D3F$\u01CD\u01CF\x07d\u01CE\u01CD\u01CE\u01CF\u01CF\u01D0\u01D0\u01D2F$\u01D1\u01CE\u01D2\u01D5\u01D3\u01D1\u01D3\u01D4\u01D4\u01D7\u01D5\u01D3\u01D6\u01D8\x07d\u01D7\u01D6\u01D7\u01D8\u01D8O\u01D9\u01DA\x07\u01DA\u01E0R*\u01DB\u01DC\x07\u01DC\u01E0R*\u01DD\u01DE\x07\r\u01DE\u01E0R*\u01DF\u01D9\u01DF\u01DB\u01DF`;w._serializedATNSegment1="\u01DD\u01E0Q\u01E1\u01E8T+\u01E2\u01E4\x07d\u01E3\u01E2\u01E3\u01E4\u01E4\u01E5\u01E5\u01E7T+\u01E6\u01E3\u01E7\u01EA\u01E8\u01E6\u01E8\u01E9\u01E9\u01EC\u01EA\u01E8\u01EB\u01ED\x07d\u01EC\u01EB\u01EC\u01ED\u01EDS\u01EE\u01F1J&\u01EF\u01F0\x077\u01F0\u01F22\u01F1\u01EF\u01F1\u01F2\u01F2\u01F3\u01F3\u01F4\x07S\u01F4\u01F5\xA4S\u01F5\u0200\u01F6\u01F9J&\u01F7\u01F8\x077\u01F8\u01FA2\u01F9\u01F7\u01F9\u01FA\u01FA\u01FD\u01FB\u01FC\x07B\u01FC\u01FEV,\u01FD\u01FB\u01FD\u01FE\u01FE\u0200\u01FF\u01EE\u01FF\u01F6\u0200U\u0201\u0202\xA4S\u0202W\u0203\u0206^0\u0204\u0206`1\u0205\u0203\u0205\u0204\u0206Y\u0207\u0208\x07E\u0208\u020B\xA4S\u0209\u020B^0\u020A\u0207\u020A\u0209\u020B[\u020C\u0211\xA4S\u020D\u020E\x07d\u020E\u0210\xA4S\u020F\u020D\u0210\u0213\u0211\u020F\u0211\u0212\u0212\u0215\u0213\u0211\u0214\u0216\x07d\u0215\u0214\u0215\u0216\u0216]\u0217\u0218\x07\u0218\u0219\\/\u0219_\u021A\u021B\x07\v\u021B\u021C\\/\u021Ca\u021D\u0224f4\u021E\u0220\x07d\u021F\u021E\u021F\u0220\u0220\u0221\u0221\u0223f4\u0222\u021F\u0223\u0226\u0224\u0222\u0224\u0225\u0225\u0228\u0226\u0224\u0227\u0229\x07d\u0228\u0227\u0228\u0229\u0229c\u022A\u022B\x9EP\u022Be\u022C\u022Dd3\u022D\u022E\x077\u022E\u022F\u022Fg\u0230\u023Ej6\u0231\u023EN(\u0232\u023EP)\u0233\u023Ez>\u0234\u023E\x8CG\u0235\u023Ex=\u0236\u023E\x86D\u0237\u023E\x82B\u0238\u023E|?\u0239\u023E^0\u023A\u023E`1\u023B\u023Er:\u023C\u023E\x8EH\u023D\u0230\u023D\u0231\u023D\u0232\u023D\u0233\u023D\u0234\u023D\u0235\u023D\u0236\u023D\u0237\u023D\u0238\u023D\u0239\u023D\u023A\u023D\u023B\u023D\u023C\u023Ei\u023F\u0240\x07\n\u0240\u0241l7\u0241k\u0242\u0249p9\u0243\u0245\x07d\u0244\u0243\u0244\u0245\u0245\u0246\u0246\u0248p9\u0247\u0244\u0248\u024B\u0249\u0247\u0249\u024A\u024A\u024D\u024B\u0249\u024C\u024E\x07d\u024D\u024C\u024D\u024E\u024Em\u024F\u0250F$\u0250o\u0251\u0254\xB4[\u0252\u0254n8\u0253\u0251\u0253\u0252\u0254q\u0255\u0256\x07\u0256\u0257t;\u0257s\u0258\u025Fv<\u0259\u025B\x07d\u025A\u0259\u025A\u025B\u025B\u025C\u025C\u025Ev<\u025D\u025A\u025E\u0261\u025F\u025D\u025F\u0260\u0260\u0263\u0261\u025F\u0262\u0264\x07d\u0263\u0262\u0263\u0264\u0264u\u0265\u026A,\u0266\u0268\u0267\u0266\u0267\u0268\u0268\u0269\u0269\u026B&\u026A\u0267\u026A\u026B\u026B\u0271\u026C\u026D,\u026D\u026E\x077\u026E\u026F\u026F\u0271\u0270\u0265\u0270\u026C\u0271w\u0272\u0273\x07\u0273\u0274l7\u0274y\u0275\u0276\x07\u0276\u0277\xB0Y\u0277{\u0278\u0279\x07\u0279\u027A~@\u027A}\u027B\u0282\x80A\u027C\u027E\x07d\u027D\u027C\u027D\u027E\u027E\u027F\u027F\u0281\x80A\u0280\u027D\u0281\u0284\u0282\u0280\u0282\u0283\u0283\u0286\u0284\u0282\u0285\u0287\x07d\u0286\u0285\u0286\u0287\u0287\x7F\u0288\u028B\x07}\u0289\u028B\xB8]\u028A\u0288\u028A\u0289\u028B\u028D\u028C\u028E	\u028D\u028C\u028D\u028E\u028E\x81\u028F\u0290\x07\u0290\u0291\x07}\u0291\x83\u0292\u0293\x07$\u0293\u0297\xB8]\u0294\u0295\x07$\u0295\u0297\xA4S\u0296\u0292\u0296\u0294\u0297\x85\u0298\u0299\x07\u0299\u029B\x07}\u029A\u029C\x84C\u029B\u029A\u029B\u029C\u029C\x87\u029D\u02A0\xB4[\u029E\u029F\x07e\u029F\u02A1\x07n\u02A0\u029E\u02A0\u02A1\u02A1\u02A4\u02A2\u02A4\x07n\u02A3\u029D\u02A3\u02A2\u02A4\x89\u02A5\u02AC\x88E\u02A6\u02A8\x07d\u02A7\u02A6\u02A7\u02A8\u02A8\u02A9\u02A9\u02AB\x88E\u02AA\u02A7\u02AB\u02AE\u02AC\u02AA\u02AC\u02AD\u02AD\x8B\u02AE\u02AC\u02AF\u02B0\x07\f\u02B0\u02B3\x8AF\u02B1\u02B2\x07$\u02B2\u02B4\xB8]\u02B3\u02B1\u02B3\u02B4\u02B4\x8D\u02B5\u02B6\x07\u02B6\u02B7\x90I\u02B7\x8F\u02B8\u02B9	\u02B9\x91\u02BA\u02BB	\u02BB\x93\u02BC\u02BD	\x07\u02BD\x95\u02BE\u02BF	\b\u02BF\x97\u02C0\u02C8\x07X\u02C1\u02C8		\u02C2\u02C8\x9AN\u02C3\u02C8\x07@\u02C4\u02C8	\n\u02C5\u02C8\x07W\u02C6\u02C8\x07?\u02C7\u02C0\u02C7\u02C1\u02C7\u02C2\u02C7\u02C3\u02C7\u02C4\u02C7\u02C5\u02C7\u02C6\u02C8\x99\u02C9\u02D0\x07u\u02CA\u02D0\x07v\u02CB\u02D0\x07y\u02CC\u02D0\x07x\u02CD\u02D0\x07w\u02CE\u02D0\x07z\u02CF\u02C9\u02CF\u02CA\u02CF\u02CB\u02CF\u02CC\u02CF\u02CD\u02CF\u02CE\u02D0\x9B\u02D1\u02D2\x07X\u02D2\x9D\u02D3\u02D4	\v\u02D4\x9F\u02D5\u02D6	\f\u02D6\xA1\u02D7\u02D8	\r\u02D8\xA3\u02D9\u02DA\bS\u02DA\u0316\xB4[\u02DB\u0316\x98M\u02DC\u02DD\x07m\u02DD\u0316\xA4S\u02DE\u02DF\x07>\u02DF\u0316\xA4S\v\u02E0\u02E1\x07&\u02E1\u02E2\x07\\\u02E2\u02E3\xA4S\u02E3\u02E4\x07 \u02E4\u02E5\x94K\u02E5\u02E6\x07]\u02E6\u0316\u02E7\u02E8\x07(\u02E8\u02E9\x07\\\u02E9\u02EA\x07,\u02EA\u02EB\xA4S\u02EB\u02EC\x07]\u02EC\u0316\u02ED\u02EE\xB4[\u02EE\u02EF\x07e\u02EF\u02F1\u02F0\u02ED\u02F0\u02F1\u02F1\u02F2\u02F2\u02F3\x92J\u02F3\u02F6\x07\\\u02F4\u02F7\xA4S\u02F5\u02F7\x07n\u02F6\u02F4\u02F6\u02F5\u02F6\u02F7\u02F7\u02F8\u02F8\u02F9\x07]\u02F9\u0316\u02FA\u02FB\x07\\\u02FB\u02FC\xA6T\u02FC\u02FD\x07]\u02FD\u0316\u02FE\u0301\x9EP\u02FF\u0301\xA0Q\u0300\u02FE\u0300\u02FF\u0301\u0302\u0302\u0304\x07\\\u0303\u0305\xACW\u0304\u0303\u0304\u0305\u0305\u0306\u0306\u0307\x07]\u0307\u0316\u0308\u0316\xA8U\u0309\u030A\xA2R\u030A\u030B\x07\\\u030B\u0310\xA4S\u030C\u030D\x07d\u030D\u030F\xB8]\u030E\u030C\u030F\u0312\u0310\u030E\u0310\u0311\u0311\u0313\u0312\u0310\u0313\u0314\x07]\u0314\u0316\u0315\u02D9\u0315\u02DB\u0315\u02DC\u0315\u02DE\u0315\u02E0\u0315\u02E7\u0315\u02F0\u0315\u02FA\u0315\u0300\u0315\u0308\u0315\u0309\u0316\u0341\u0317\u0318\f\u0318\u0319	\u0319\u0340\xA4S\u031A\u031B\f\u031B\u031C	\u031C\u0340\xA4S\u031D\u031E\f\u031E\u031F\x07N\u031F\u0340\xA4S\u0320\u0321\f\r\u0321\u0322\x96L\u0322\u0323\xA4S\u0323\u0340\u0324\u0325\f\n\u0325\u0326	\u0326\u0340\xA4S\v\u0327\u0328\f\u0328\u0329\x07`\u0329\u032AZ.\u032A\u032B\x07a\u032B\u0340\u032C\u032D\f\u032D\u0340\xA0Q\u032E\u032F\f\u032F\u0330\x07e\u0330\u0340\xA0Q\u0331\u0332\f\u0332\u0333\x07b\u0333\u0340\x94K\u0334\u0335\f\u0335\u0336\x071\u0336\u0337\xA4S\u0337\u0338\xA0Q\u0338\u0340\u0339\u033A\f\u033A\u033B	\u033B\u0340\xA6T\u033C\u033D\f\f\u033D\u033E	\u033E\u0340\xA6T\u033F\u0317\u033F\u031A\u033F\u031D\u033F\u0320\u033F\u0324\u033F\u0327\u033F\u032C\u033F\u032E\u033F\u0331\u033F\u0334\u033F\u0339\u033F\u033C\u0340\u0343\u0341\u033F\u0341\u0342\u0342\xA5\u0343\u0341\u0344\u0345\x96L\u0345\u0346\xA4S\u0346\u0349\u0347\u0349\xA4S\u0348\u0344\u0348\u0347\u0349\xA7\u034A\u034C\xAAV\u034B\u034A\u034C\u034D\u034D\u034B\u034D\u034E\u034E\u0351\u034F\u0350\x07-\u0350\u0352\xA4S\u0351\u034F\u0351\u0352\u0352\xA9\u0353\u0355\x07D\u0354\u0356\xA4S\u0355\u0354\u0355\u0356\u0356\u0357\u0357\u0358\x07R\u0358\u0359\xA6T\u0359\xAB\u035A\u035F\xA4S\u035B\u035C\x07d\u035C\u035E\xA4S\u035D\u035B\u035E\u0361\u035F\u035D\u035F\u0360\u0360\u0363\u0361\u035F\u0362\u0364\x07d\u0363\u0362\u0363\u0364\u0364\xAD\u0365\u036C\xB8]\u0366\u0368\x07d\u0367\u0366\u0367\u0368\u0368\u0369\u0369\u036B\xB8]\u036A\u0367\u036B\u036E\u036C\u036A\u036C\u036D\u036D\xAF\u036E\u036C\u036F\u0376\xB2Z\u0370\u0372\x07d\u0371\u0370\u0371\u0372\u0372\u0373\u0373\u0375\xB2Z\u0374\u0371\u0375\u0378\u0376\u0374\u0376\u0377\u0377\u037A\u0378\u0376\u0379\u037B\x07d\u037A\u0379\u037A\u037B\u037B\xB1\u037C\u0385\xB4[\u037D\u037E\xB4[\u037E\u037F\x07e\u037F\u0381\u0380\u037D\u0380\u0381\u0381\u0382\u0382\u0385	\u0383\u0385F$\u0384\u037C\u0384\u0380\u0384\u0383\u0385\xB3\u0386\u038B\xB8]\u0387\u0388\x07e\u0388\u038A\xB8]\u0389\u0387\u038A\u038D\u038B\u0389\u038B\u038C\u038C\xB5\u038D\u038B\u038E\u038F\x9EP\u038F\xB7\u0390\u0391\x9EP\u0391\xB9\u0392\u0393\xA4S\u0393\u0394\x07\u0394\xBB\u0395\u0396\xBE`\u0396\xBD\u0397\u03A0\x07\u0398\u03A0\x07}\u0399\u03A0\x07~\u039A\u03A0\xC0a\u039B\u03A0\xC4c\u039C\u03A0\x07O\u039D\u03A0\x070\u039E\u03A0\x07@\u039F\u0397\u039F\u0398\u039F\u0399\u039F\u039A\u039F\u039B\u039F\u039C\u039F\u039D\u039F\u039E\u03A0\xBF\u03A1\u03A2\x07`\u03A2\u03A7\xC2b\u03A3\u03A4\x07d\u03A4\u03A6\xC2b\u03A5\u03A3\u03A6\u03A9\u03A7\u03A5\u03A7\u03A8\u03A8\u03AA\u03A9\u03A7\u03AA\u03AB\x07a\u03AB\u03AF\u03AC\u03AD\x07`\u03AD\u03AF\x07a\u03AE\u03A1\u03AE\u03AC\u03AF\xC1\u03B0\u03B1\x07\u03B1\u03B2\x07c\u03B2\u03B3\xBE`\u03B3\xC3\u03B4\u03B5\x07^\u03B5\u03BA\xBE`\u03B6\u03B7\x07d\u03B7\u03B9\xBE`\u03B8\u03B6\u03B9\u03BC\u03BA\u03B8\u03BA\u03BB\u03BB\u03BD\u03BC\u03BA\u03BD\u03BE\x07_\u03BE\u03C2\u03BF\u03C0\x07^\u03C0\u03C2\x07_\u03C1\u03B4\u03C1\u03BF\u03C2\xC5\u03C3\u03C4\x9EP\u03C4\xC7\u03C5\u03C6\x9EP\u03C6\xC9\u03C7\u03C8\x07\u03C8\xCBo\xCE\xD0\xD9\xE4\xEE\xF3\xFC\u0101\u0105\u0114\u0117\u011C\u011F\u0125\u012B\u012E\u0130\u013E\u0140\u0144\u0151\u0156\u015A\u0162\u0165\u0173\u017C\u017E\u0183\u0194\u0198\u019D\u01A1\u01A9\u01AE\u01B2\u01B6\u01BB\u01BF\u01CE\u01D3\u01D7\u01DF\u01E3\u01E8\u01EC\u01F1\u01F9\u01FD\u01FF\u0205\u020A\u0211\u0215\u021F\u0224\u0228\u023D\u0244\u0249\u024D\u0253\u025A\u025F\u0263\u0267\u026A\u0270\u027D\u0282\u0286\u028A\u028D\u0296\u029B\u02A0\u02A3\u02A7\u02AC\u02B3\u02C7\u02CF\u02F0\u02F6\u0300\u0304\u0310\u0315\u033F\u0341\u0348\u034D\u0351\u0355\u035F\u0363\u0367\u036C\u0371\u0376\u037A\u0380\u0384\u038B\u039F\u03A7\u03AE\u03BA\u03C1";w._serializedATN=sEe.join([w._serializedATNSegment0,w._serializedATNSegment1],"");var pre=class extends zr.ParserRuleContext{EOF(){return this.getToken(w.EOF,0)}malloyStatement(e){return e===void 0?this.getRuleContexts(AD):this.getRuleContext(e,AD)}SEMI(e){return e===void 0?this.getTokens(w.SEMI):this.getToken(w.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_malloyDocument}enterRule(e){e.enterMalloyDocument&&e.enterMalloyDocument(this)}exitRule(e){e.exitMalloyDocument&&e.exitMalloyDocument(this)}accept(e){return e.visitMalloyDocument?e.visitMalloyDocument(this):e.visitChildren(this)}};It.MalloyDocumentContext=pre;var AD=class extends zr.ParserRuleContext{defineExploreStatement(){return this.tryGetRuleContext(0,Aq)}defineSQLStatement(){return this.tryGetRuleContext(0,Dq)}defineQuery(){return this.tryGetRuleContext(0,iC)}importStatement(){return this.tryGetRuleContext(0,Nq)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_malloyStatement}enterRule(e){e.enterMalloyStatement&&e.enterMalloyStatement(this)}exitRule(e){e.exitMalloyStatement&&e.exitMalloyStatement(this)}accept(e){return e.visitMalloyStatement?e.visitMalloyStatement(this):e.visitChildren(this)}};It.MalloyStatementContext=AD;var Aq=class extends zr.ParserRuleContext{exploreKeyword(){return this.getRuleContext(0,Tq)}exploreDefinitionList(){return this.getRuleContext(0,Pq)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_defineExploreStatement}enterRule(e){e.enterDefineExploreStatement&&e.enterDefineExploreStatement(this)}exitRule(e){e.exitDefineExploreStatement&&e.exitDefineExploreStatement(this)}accept(e){return e.visitDefineExploreStatement?e.visitDefineExploreStatement(this):e.visitChildren(this)}};It.DefineExploreStatementContext=Aq;var Tq=class extends zr.ParserRuleContext{EXPLORE(){return this.tryGetToken(w.EXPLORE,0)}SOURCE(){return this.tryGetToken(w.SOURCE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreKeyword}enterRule(e){e.enterExploreKeyword&&e.enterExploreKeyword(this)}exitRule(e){e.exitExploreKeyword&&e.exitExploreKeyword(this)}accept(e){return e.visitExploreKeyword?e.visitExploreKeyword(this):e.visitChildren(this)}};It.ExploreKeywordContext=Tq;var iC=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_defineQuery}copyFrom(e){super.copyFrom(e)}};It.DefineQueryContext=iC;var mre=class extends iC{QUERY(){return this.getToken(w.QUERY,0)}topLevelQueryDefs(){return this.getRuleContext(0,Lq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedQueries_stub&&e.enterNamedQueries_stub(this)}exitRule(e){e.exitNamedQueries_stub&&e.exitNamedQueries_stub(this)}accept(e){return e.visitNamedQueries_stub?e.visitNamedQueries_stub(this):e.visitChildren(this)}};It.NamedQueries_stubContext=mre;var xre=class extends iC{QUERY(){return this.getToken(w.QUERY,0)}topLevelAnonQueryDef(){return this.getRuleContext(0,Fq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterAnonymousQuery&&e.enterAnonymousQuery(this)}exitRule(e){e.exitAnonymousQuery&&e.exitAnonymousQuery(this)}accept(e){return e.visitAnonymousQuery?e.visitAnonymousQuery(this):e.visitChildren(this)}};It.AnonymousQueryContext=xre;var Fq=class extends zr.ParserRuleContext{query(){return this.getRuleContext(0,j5)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_topLevelAnonQueryDef}enterRule(e){e.enterTopLevelAnonQueryDef&&e.enterTopLevelAnonQueryDef(this)}exitRule(e){e.exitTopLevelAnonQueryDef&&e.exitTopLevelAnonQueryDef(this)}accept(e){return e.visitTopLevelAnonQueryDef?e.visitTopLevelAnonQueryDef(this):e.visitChildren(this)}};It.TopLevelAnonQueryDefContext=Fq;var Dq=class extends zr.ParserRuleContext{SQL(){return this.getToken(w.SQL,0)}sqlStatementDef(){return this.getRuleContext(0,Oq)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_defineSQLStatement}enterRule(e){e.enterDefineSQLStatement&&e.enterDefineSQLStatement(this)}exitRule(e){e.exitDefineSQLStatement&&e.exitDefineSQLStatement(this)}accept(e){return e.visitDefineSQLStatement?e.visitDefineSQLStatement(this):e.visitChildren(this)}};It.DefineSQLStatementContext=Dq;var Oq=class extends zr.ParserRuleContext{SQL_STRING(){return this.getToken(w.SQL_STRING,0)}sqlCommandNameDef(){return this.tryGetRuleContext(0,yU)}IS(){return this.tryGetToken(w.IS,0)}ON(){return this.tryGetToken(w.ON,0)}connectionName(){return this.tryGetRuleContext(0,vU)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_sqlStatementDef}enterRule(e){e.enterSqlStatementDef&&e.enterSqlStatementDef(this)}exitRule(e){e.exitSqlStatementDef&&e.exitSqlStatementDef(this)}accept(e){return e.visitSqlStatementDef?e.visitSqlStatementDef(this):e.visitChildren(this)}};It.SqlStatementDefContext=Oq;var Nq=class extends zr.ParserRuleContext{IMPORT(){return this.getToken(w.IMPORT,0)}importURL(){return this.getRuleContext(0,Rq)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_importStatement}enterRule(e){e.enterImportStatement&&e.enterImportStatement(this)}exitRule(e){e.exitImportStatement&&e.exitImportStatement(this)}accept(e){return e.visitImportStatement?e.visitImportStatement(this):e.visitChildren(this)}};It.ImportStatementContext=Nq;var Rq=class extends zr.ParserRuleContext{JSON_STRING(){return this.getToken(w.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_importURL}enterRule(e){e.enterImportURL&&e.enterImportURL(this)}exitRule(e){e.exitImportURL&&e.exitImportURL(this)}accept(e){return e.visitImportURL?e.visitImportURL(this):e.visitChildren(this)}};It.ImportURLContext=Rq;var Lq=class extends zr.ParserRuleContext{topLevelQueryDef(e){return e===void 0?this.getRuleContexts(TD):this.getRuleContext(e,TD)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_topLevelQueryDefs}enterRule(e){e.enterTopLevelQueryDefs&&e.enterTopLevelQueryDefs(this)}exitRule(e){e.exitTopLevelQueryDefs&&e.exitTopLevelQueryDefs(this)}accept(e){return e.visitTopLevelQueryDefs?e.visitTopLevelQueryDefs(this):e.visitChildren(this)}};It.TopLevelQueryDefsContext=Lq;var TD=class extends zr.ParserRuleContext{queryName(){return this.getRuleContext(0,F6)}IS(){return this.getToken(w.IS,0)}query(){return this.getRuleContext(0,j5)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_topLevelQueryDef}enterRule(e){e.enterTopLevelQueryDef&&e.enterTopLevelQueryDef(this)}exitRule(e){e.exitTopLevelQueryDef&&e.exitTopLevelQueryDef(this)}accept(e){return e.visitTopLevelQueryDef?e.visitTopLevelQueryDef(this):e.visitChildren(this)}};It.TopLevelQueryDefContext=TD;var w6=class extends zr.ParserRuleContext{PLUS(){return this.getToken(w.PLUS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_refineOperator}enterRule(e){e.enterRefineOperator&&e.enterRefineOperator(this)}exitRule(e){e.exitRefineOperator&&e.exitRefineOperator(this)}accept(e){return e.visitRefineOperator?e.visitRefineOperator(this):e.visitChildren(this)}};It.RefineOperatorContext=w6;var j5=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_query}copyFrom(e){super.copyFrom(e)}};It.QueryContext=j5;var gre=class extends j5{explore(){return this.getRuleContext(0,D6)}ARROW(){return this.getToken(w.ARROW,0)}pipelineFromName(){return this.getRuleContext(0,sC)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExploreArrowQuery&&e.enterExploreArrowQuery(this)}exitRule(e){e.exitExploreArrowQuery&&e.exitExploreArrowQuery(this)}accept(e){return e.visitExploreArrowQuery?e.visitExploreArrowQuery(this):e.visitChildren(this)}};It.ExploreArrowQueryContext=gre;var yre=class extends j5{ARROW(){return this.getToken(w.ARROW,0)}queryName(){return this.getRuleContext(0,F6)}queryProperties(){return this.tryGetRuleContext(0,T6)}pipeElement(e){return e===void 0?this.getRuleContexts(A6):this.getRuleContext(e,A6)}refineOperator(){return this.tryGetRuleContext(0,w6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterArrowQuery&&e.enterArrowQuery(this)}exitRule(e){e.exitArrowQuery&&e.exitArrowQuery(this)}accept(e){return e.visitArrowQuery?e.visitArrowQuery(this):e.visitChildren(this)}};It.ArrowQueryContext=yre;var sC=class extends zr.ParserRuleContext{firstSegment(){return this.getRuleContext(0,kq)}pipeElement(e){return e===void 0?this.getRuleContexts(A6):this.getRuleContext(e,A6)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_pipelineFromName}enterRule(e){e.enterPipelineFromName&&e.enterPipelineFromName(this)}exitRule(e){e.exitPipelineFromName&&e.exitPipelineFromName(this)}accept(e){return e.visitPipelineFromName?e.visitPipelineFromName(this):e.visitChildren(this)}};It.PipelineFromNameContext=sC;var kq=class extends zr.ParserRuleContext{queryProperties(){return this.tryGetRuleContext(0,T6)}exploreQueryName(){return this.tryGetRuleContext(0,Mq)}refineOperator(){return this.tryGetRuleContext(0,w6)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_firstSegment}enterRule(e){e.enterFirstSegment&&e.enterFirstSegment(this)}exitRule(e){e.exitFirstSegment&&e.exitFirstSegment(this)}accept(e){return e.visitFirstSegment?e.visitFirstSegment(this):e.visitChildren(this)}};It.FirstSegmentContext=kq;var A6=class extends zr.ParserRuleContext{ARROW(){return this.getToken(w.ARROW,0)}queryProperties(){return this.getRuleContext(0,T6)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_pipeElement}enterRule(e){e.enterPipeElement&&e.enterPipeElement(this)}exitRule(e){e.exitPipeElement&&e.exitPipeElement(this)}accept(e){return e.visitPipeElement?e.visitPipeElement(this):e.visitChildren(this)}};It.PipeElementContext=A6;var Iq=class extends zr.ParserRuleContext{TABLE(){return this.getToken(w.TABLE,0)}OPAREN(){return this.getToken(w.OPAREN,0)}tableName(){return this.getRuleContext(0,lU)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreTable}enterRule(e){e.enterExploreTable&&e.enterExploreTable(this)}exitRule(e){e.exitExploreTable&&e.exitExploreTable(this)}accept(e){return e.visitExploreTable?e.visitExploreTable(this):e.visitChildren(this)}};It.ExploreTableContext=Iq;var T6=class extends zr.ParserRuleContext{filterShortcut(){return this.tryGetRuleContext(0,FD)}OCURLY(){return this.tryGetToken(w.OCURLY,0)}CCURLY(){return this.tryGetToken(w.CCURLY,0)}queryStatement(e){return e===void 0?this.getRuleContexts(PD):this.getRuleContext(e,PD)}SEMI(e){return e===void 0?this.getTokens(w.SEMI):this.getToken(w.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_queryProperties}enterRule(e){e.enterQueryProperties&&e.enterQueryProperties(this)}exitRule(e){e.exitQueryProperties&&e.exitQueryProperties(this)}accept(e){return e.visitQueryProperties?e.visitQueryProperties(this):e.visitChildren(this)}};It.QueryPropertiesContext=T6;var FD=class extends zr.ParserRuleContext{OCURLY(){return this.getToken(w.OCURLY,0)}QMARK(){return this.getToken(w.QMARK,0)}fieldExpr(){return this.getRuleContext(0,wi)}CCURLY(){return this.getToken(w.CCURLY,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_filterShortcut}enterRule(e){e.enterFilterShortcut&&e.enterFilterShortcut(this)}exitRule(e){e.exitFilterShortcut&&e.exitFilterShortcut(this)}accept(e){return e.visitFilterShortcut?e.visitFilterShortcut(this):e.visitChildren(this)}};It.FilterShortcutContext=FD;var Mq=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,yd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreQueryName}enterRule(e){e.enterExploreQueryName&&e.enterExploreQueryName(this)}exitRule(e){e.exitExploreQueryName&&e.exitExploreQueryName(this)}accept(e){return e.visitExploreQueryName?e.visitExploreQueryName(this):e.visitChildren(this)}};It.ExploreQueryNameContext=Mq;var F6=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,yd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_queryName}enterRule(e){e.enterQueryName&&e.enterQueryName(this)}exitRule(e){e.exitQueryName&&e.exitQueryName(this)}accept(e){return e.visitQueryName?e.visitQueryName(this):e.visitChildren(this)}};It.QueryNameContext=F6;var Pq=class extends zr.ParserRuleContext{exploreDefinition(e){return e===void 0?this.getRuleContexts(DD):this.getRuleContext(e,DD)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreDefinitionList}enterRule(e){e.enterExploreDefinitionList&&e.enterExploreDefinitionList(this)}exitRule(e){e.exitExploreDefinitionList&&e.exitExploreDefinitionList(this)}accept(e){return e.visitExploreDefinitionList?e.visitExploreDefinitionList(this):e.visitChildren(this)}};It.ExploreDefinitionListContext=Pq;var DD=class extends zr.ParserRuleContext{exploreNameDef(){return this.getRuleContext(0,Bq)}IS(){return this.getToken(w.IS,0)}explore(){return this.getRuleContext(0,D6)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreDefinition}enterRule(e){e.enterExploreDefinition&&e.enterExploreDefinition(this)}exitRule(e){e.exitExploreDefinition&&e.exitExploreDefinition(this)}accept(e){return e.visitExploreDefinition?e.visitExploreDefinition(this):e.visitChildren(this)}};It.ExploreDefinitionContext=DD;var D6=class extends zr.ParserRuleContext{exploreSource(){return this.getRuleContext(0,q5)}exploreProperties(){return this.tryGetRuleContext(0,qq)}refineOperator(){return this.tryGetRuleContext(0,w6)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_explore}enterRule(e){e.enterExplore&&e.enterExplore(this)}exitRule(e){e.exitExplore&&e.exitExplore(this)}accept(e){return e.visitExplore?e.visitExplore(this):e.visitChildren(this)}};It.ExploreContext=D6;var q5=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreSource}copyFrom(e){super.copyFrom(e)}};It.ExploreSourceContext=q5;var vre=class extends q5{exploreName(){return this.getRuleContext(0,jq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedSource&&e.enterNamedSource(this)}exitRule(e){e.exitNamedSource&&e.exitNamedSource(this)}accept(e){return e.visitNamedSource?e.visitNamedSource(this):e.visitChildren(this)}};It.NamedSourceContext=vre;var _re=class extends q5{exploreTable(){return this.getRuleContext(0,Iq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterTableSource&&e.enterTableSource(this)}exitRule(e){e.exitTableSource&&e.exitTableSource(this)}accept(e){return e.visitTableSource?e.visitTableSource(this):e.visitChildren(this)}};It.TableSourceContext=_re;var bre=class extends q5{FROM(){return this.getToken(w.FROM,0)}OPAREN(){return this.getToken(w.OPAREN,0)}query(){return this.getRuleContext(0,j5)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQuerySource&&e.enterQuerySource(this)}exitRule(e){e.exitQuerySource&&e.exitQuerySource(this)}accept(e){return e.visitQuerySource?e.visitQuerySource(this):e.visitChildren(this)}};It.QuerySourceContext=bre;var Ere=class extends q5{FROM_SQL(){return this.getToken(w.FROM_SQL,0)}OPAREN(){return this.getToken(w.OPAREN,0)}sqlExploreNameRef(){return this.getRuleContext(0,gU)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterSQLSource&&e.enterSQLSource(this)}exitRule(e){e.exitSQLSource&&e.exitSQLSource(this)}accept(e){return e.visitSQLSource?e.visitSQLSource(this):e.visitChildren(this)}};It.SQLSourceContext=Ere;var Bq=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,yd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreNameDef}enterRule(e){e.enterExploreNameDef&&e.enterExploreNameDef(this)}exitRule(e){e.exitExploreNameDef&&e.exitExploreNameDef(this)}accept(e){return e.visitExploreNameDef?e.visitExploreNameDef(this):e.visitChildren(this)}};It.ExploreNameDefContext=Bq;var jq=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,yd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreName}enterRule(e){e.enterExploreName&&e.enterExploreName(this)}exitRule(e){e.exitExploreName&&e.exitExploreName(this)}accept(e){return e.visitExploreName?e.visitExploreName(this):e.visitChildren(this)}};It.ExploreNameContext=jq;var qq=class extends zr.ParserRuleContext{OCURLY(){return this.tryGetToken(w.OCURLY,0)}CCURLY(){return this.tryGetToken(w.CCURLY,0)}exploreStatement(e){return e===void 0?this.getRuleContexts(hh):this.getRuleContext(e,hh)}SEMI(e){return e===void 0?this.getTokens(w.SEMI):this.getToken(w.SEMI,e)}filterShortcut(){return this.tryGetRuleContext(0,FD)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreProperties}enterRule(e){e.enterExploreProperties&&e.enterExploreProperties(this)}exitRule(e){e.exitExploreProperties&&e.exitExploreProperties(this)}accept(e){return e.visitExploreProperties?e.visitExploreProperties(this):e.visitChildren(this)}};It.ExplorePropertiesContext=qq;var hh=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreStatement}copyFrom(e){super.copyFrom(e)}};It.ExploreStatementContext=hh;var Sre=class extends hh{DIMENSION(){return this.getToken(w.DIMENSION,0)}dimensionDefList(){return this.getRuleContext(0,$q)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreDimension&&e.enterDefExploreDimension(this)}exitRule(e){e.exitDefExploreDimension&&e.exitDefExploreDimension(this)}accept(e){return e.visitDefExploreDimension?e.visitDefExploreDimension(this):e.visitChildren(this)}};It.DefExploreDimensionContext=Sre;var Cre=class extends hh{MEASURE(){return this.getToken(w.MEASURE,0)}measureDefList(){return this.getRuleContext(0,zq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreMeasure&&e.enterDefExploreMeasure(this)}exitRule(e){e.exitDefExploreMeasure&&e.exitDefExploreMeasure(this)}accept(e){return e.visitDefExploreMeasure?e.visitDefExploreMeasure(this):e.visitChildren(this)}};It.DefExploreMeasureContext=Cre;var wre=class extends hh{declareStatement(){return this.getRuleContext(0,LD)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefDeclare_stub&&e.enterDefDeclare_stub(this)}exitRule(e){e.exitDefDeclare_stub&&e.exitDefDeclare_stub(this)}accept(e){return e.visitDefDeclare_stub?e.visitDefDeclare_stub(this):e.visitChildren(this)}};It.DefDeclare_stubContext=wre;var Are=class extends hh{joinStatement(){return this.getRuleContext(0,$5)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoin_stub&&e.enterDefJoin_stub(this)}exitRule(e){e.exitDefJoin_stub&&e.exitDefJoin_stub(this)}accept(e){return e.visitDefJoin_stub?e.visitDefJoin_stub(this):e.visitChildren(this)}};It.DefJoin_stubContext=Are;var Tre=class extends hh{whereStatement(){return this.getRuleContext(0,N6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreWhere&&e.enterDefExploreWhere(this)}exitRule(e){e.exitDefExploreWhere&&e.exitDefExploreWhere(this)}accept(e){return e.visitDefExploreWhere?e.visitDefExploreWhere(this):e.visitChildren(this)}};It.DefExploreWhereContext=Tre;var Fre=class extends hh{PRIMARY_KEY(){return this.getToken(w.PRIMARY_KEY,0)}fieldName(){return this.getRuleContext(0,vd)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExplorePrimaryKey&&e.enterDefExplorePrimaryKey(this)}exitRule(e){e.exitDefExplorePrimaryKey&&e.exitDefExplorePrimaryKey(this)}accept(e){return e.visitDefExplorePrimaryKey?e.visitDefExplorePrimaryKey(this):e.visitChildren(this)}};It.DefExplorePrimaryKeyContext=Fre;var Dre=class extends hh{RENAME(){return this.getToken(w.RENAME,0)}renameList(){return this.getRuleContext(0,Uq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreRename&&e.enterDefExploreRename(this)}exitRule(e){e.exitDefExploreRename&&e.exitDefExploreRename(this)}accept(e){return e.visitDefExploreRename?e.visitDefExploreRename(this):e.visitChildren(this)}};It.DefExploreRenameContext=Dre;var Ore=class extends hh{fieldNameList(){return this.getRuleContext(0,hU)}ACCEPT(){return this.tryGetToken(w.ACCEPT,0)}EXCEPT(){return this.tryGetToken(w.EXCEPT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreEditField&&e.enterDefExploreEditField(this)}exitRule(e){e.exitDefExploreEditField&&e.exitDefExploreEditField(this)}accept(e){return e.visitDefExploreEditField?e.visitDefExploreEditField(this):e.visitChildren(this)}};It.DefExploreEditFieldContext=Ore;var Nre=class extends hh{QUERY(){return this.getToken(w.QUERY,0)}subQueryDefList(){return this.getRuleContext(0,Wq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreQuery&&e.enterDefExploreQuery(this)}exitRule(e){e.exitDefExploreQuery&&e.exitDefExploreQuery(this)}accept(e){return e.visitDefExploreQuery?e.visitDefExploreQuery(this):e.visitChildren(this)}};It.DefExploreQueryContext=Nre;var Uq=class extends zr.ParserRuleContext{exploreRenameDef(e){return e===void 0?this.getRuleContexts(OD):this.getRuleContext(e,OD)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_renameList}enterRule(e){e.enterRenameList&&e.enterRenameList(this)}exitRule(e){e.exitRenameList&&e.exitRenameList(this)}accept(e){return e.visitRenameList?e.visitRenameList(this):e.visitChildren(this)}};It.RenameListContext=Uq;var OD=class extends zr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(vd):this.getRuleContext(e,vd)}IS(){return this.getToken(w.IS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreRenameDef}enterRule(e){e.enterExploreRenameDef&&e.enterExploreRenameDef(this)}exitRule(e){e.exitExploreRenameDef&&e.exitExploreRenameDef(this)}accept(e){return e.visitExploreRenameDef?e.visitExploreRenameDef(this):e.visitChildren(this)}};It.ExploreRenameDefContext=OD;var $q=class extends zr.ParserRuleContext{dimensionDef(e){return e===void 0?this.getRuleContexts(uC):this.getRuleContext(e,uC)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_dimensionDefList}enterRule(e){e.enterDimensionDefList&&e.enterDimensionDefList(this)}exitRule(e){e.exitDimensionDefList&&e.exitDimensionDefList(this)}accept(e){return e.visitDimensionDefList?e.visitDimensionDefList(this):e.visitChildren(this)}};It.DimensionDefListContext=$q;var zq=class extends zr.ParserRuleContext{measureDef(e){return e===void 0?this.getRuleContexts(RD):this.getRuleContext(e,RD)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_measureDefList}enterRule(e){e.enterMeasureDefList&&e.enterMeasureDefList(this)}exitRule(e){e.exitMeasureDefList&&e.exitMeasureDefList(this)}accept(e){return e.visitMeasureDefList?e.visitMeasureDefList(this):e.visitChildren(this)}};It.MeasureDefListContext=zq;var U5=class extends zr.ParserRuleContext{fieldNameDef(){return this.getRuleContext(0,Hq)}IS(){return this.getToken(w.IS,0)}fieldExpr(){return this.getRuleContext(0,wi)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldDef}enterRule(e){e.enterFieldDef&&e.enterFieldDef(this)}exitRule(e){e.exitFieldDef&&e.exitFieldDef(this)}accept(e){return e.visitFieldDef?e.visitFieldDef(this):e.visitChildren(this)}};It.FieldDefContext=U5;var Hq=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,yd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldNameDef}enterRule(e){e.enterFieldNameDef&&e.enterFieldNameDef(this)}exitRule(e){e.exitFieldNameDef&&e.exitFieldNameDef(this)}accept(e){return e.visitFieldNameDef?e.visitFieldNameDef(this):e.visitChildren(this)}};It.FieldNameDefContext=Hq;var ND=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,yd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinNameDef}enterRule(e){e.enterJoinNameDef&&e.enterJoinNameDef(this)}exitRule(e){e.exitJoinNameDef&&e.exitJoinNameDef(this)}accept(e){return e.visitJoinNameDef?e.visitJoinNameDef(this):e.visitChildren(this)}};It.JoinNameDefContext=ND;var RD=class extends zr.ParserRuleContext{fieldDef(){return this.getRuleContext(0,U5)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_measureDef}enterRule(e){e.enterMeasureDef&&e.enterMeasureDef(this)}exitRule(e){e.exitMeasureDef&&e.exitMeasureDef(this)}accept(e){return e.visitMeasureDef?e.visitMeasureDef(this):e.visitChildren(this)}};It.MeasureDefContext=RD;var LD=class extends zr.ParserRuleContext{DECLARE(){return this.getToken(w.DECLARE,0)}fieldDef(e){return e===void 0?this.getRuleContexts(U5):this.getRuleContext(e,U5)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_declareStatement}enterRule(e){e.enterDeclareStatement&&e.enterDeclareStatement(this)}exitRule(e){e.exitDeclareStatement&&e.exitDeclareStatement(this)}accept(e){return e.visitDeclareStatement?e.visitDeclareStatement(this):e.visitChildren(this)}};It.DeclareStatementContext=LD;var $5=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinStatement}copyFrom(e){super.copyFrom(e)}};It.JoinStatementContext=$5;var Rre=class extends $5{JOIN_ONE(){return this.getToken(w.JOIN_ONE,0)}joinList(){return this.getRuleContext(0,oC)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinOne&&e.enterDefJoinOne(this)}exitRule(e){e.exitDefJoinOne&&e.exitDefJoinOne(this)}accept(e){return e.visitDefJoinOne?e.visitDefJoinOne(this):e.visitChildren(this)}};It.DefJoinOneContext=Rre;var Lre=class extends $5{JOIN_MANY(){return this.getToken(w.JOIN_MANY,0)}joinList(){return this.getRuleContext(0,oC)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinMany&&e.enterDefJoinMany(this)}exitRule(e){e.exitDefJoinMany&&e.exitDefJoinMany(this)}accept(e){return e.visitDefJoinMany?e.visitDefJoinMany(this):e.visitChildren(this)}};It.DefJoinManyContext=Lre;var kre=class extends $5{JOIN_CROSS(){return this.getToken(w.JOIN_CROSS,0)}joinList(){return this.getRuleContext(0,oC)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinCross&&e.enterDefJoinCross(this)}exitRule(e){e.exitDefJoinCross&&e.exitDefJoinCross(this)}accept(e){return e.visitDefJoinCross?e.visitDefJoinCross(this):e.visitChildren(this)}};It.DefJoinCrossContext=kre;var oC=class extends zr.ParserRuleContext{joinDef(e){return e===void 0?this.getRuleContexts(O6):this.getRuleContext(e,O6)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinList}enterRule(e){e.enterJoinList&&e.enterJoinList(this)}exitRule(e){e.exitJoinList&&e.exitJoinList(this)}accept(e){return e.visitJoinList?e.visitJoinList(this):e.visitChildren(this)}};It.JoinListContext=oC;var O6=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinDef}copyFrom(e){super.copyFrom(e)}};It.JoinDefContext=O6;var Ire=class extends O6{joinNameDef(){return this.getRuleContext(0,ND)}WITH(){return this.getToken(w.WITH,0)}fieldExpr(){return this.getRuleContext(0,wi)}IS(){return this.tryGetToken(w.IS,0)}explore(){return this.tryGetRuleContext(0,D6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinWith&&e.enterJoinWith(this)}exitRule(e){e.exitJoinWith&&e.exitJoinWith(this)}accept(e){return e.visitJoinWith?e.visitJoinWith(this):e.visitChildren(this)}};It.JoinWithContext=Ire;var Mre=class extends O6{joinNameDef(){return this.getRuleContext(0,ND)}IS(){return this.tryGetToken(w.IS,0)}explore(){return this.tryGetRuleContext(0,D6)}ON(){return this.tryGetToken(w.ON,0)}joinExpression(){return this.tryGetRuleContext(0,Vq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinOn&&e.enterJoinOn(this)}exitRule(e){e.exitJoinOn&&e.exitJoinOn(this)}accept(e){return e.visitJoinOn?e.visitJoinOn(this):e.visitChildren(this)}};It.JoinOnContext=Mre;var Vq=class extends zr.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,wi)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinExpression}enterRule(e){e.enterJoinExpression&&e.enterJoinExpression(this)}exitRule(e){e.exitJoinExpression&&e.exitJoinExpression(this)}accept(e){return e.visitJoinExpression?e.visitJoinExpression(this):e.visitChildren(this)}};It.JoinExpressionContext=Vq;var Pre=class extends zr.ParserRuleContext{whereStatement(){return this.tryGetRuleContext(0,N6)}havingStatement(){return this.tryGetRuleContext(0,ID)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_filterStatement}enterRule(e){e.enterFilterStatement&&e.enterFilterStatement(this)}exitRule(e){e.exitFilterStatement&&e.exitFilterStatement(this)}accept(e){return e.visitFilterStatement?e.visitFilterStatement(this):e.visitChildren(this)}};It.FilterStatementContext=Pre;var aC=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_filteredBy}copyFrom(e){super.copyFrom(e)}};It.FilteredByContext=aC;var Bre=class extends aC{QMARK(){return this.getToken(w.QMARK,0)}fieldExpr(){return this.getRuleContext(0,wi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByShortcut&&e.enterFilterByShortcut(this)}exitRule(e){e.exitFilterByShortcut&&e.exitFilterByShortcut(this)}accept(e){return e.visitFilterByShortcut?e.visitFilterByShortcut(this):e.visitChildren(this)}};It.FilterByShortcutContext=Bre;var jre=class extends aC{whereStatement(){return this.getRuleContext(0,N6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByWhere&&e.enterFilterByWhere(this)}exitRule(e){e.exitFilterByWhere&&e.exitFilterByWhere(this)}accept(e){return e.visitFilterByWhere?e.visitFilterByWhere(this):e.visitChildren(this)}};It.FilterByWhereContext=jre;var kD=class extends zr.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_filterClauseList}enterRule(e){e.enterFilterClauseList&&e.enterFilterClauseList(this)}exitRule(e){e.exitFilterClauseList&&e.exitFilterClauseList(this)}accept(e){return e.visitFilterClauseList?e.visitFilterClauseList(this):e.visitChildren(this)}};It.FilterClauseListContext=kD;var N6=class extends zr.ParserRuleContext{WHERE(){return this.getToken(w.WHERE,0)}filterClauseList(){return this.getRuleContext(0,kD)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_whereStatement}enterRule(e){e.enterWhereStatement&&e.enterWhereStatement(this)}exitRule(e){e.exitWhereStatement&&e.exitWhereStatement(this)}accept(e){return e.visitWhereStatement?e.visitWhereStatement(this):e.visitChildren(this)}};It.WhereStatementContext=N6;var ID=class extends zr.ParserRuleContext{HAVING(){return this.getToken(w.HAVING,0)}filterClauseList(){return this.getRuleContext(0,kD)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_havingStatement}enterRule(e){e.enterHavingStatement&&e.enterHavingStatement(this)}exitRule(e){e.exitHavingStatement&&e.exitHavingStatement(this)}accept(e){return e.visitHavingStatement?e.visitHavingStatement(this):e.visitChildren(this)}};It.HavingStatementContext=ID;var Wq=class extends zr.ParserRuleContext{exploreQueryDef(e){return e===void 0?this.getRuleContexts(MD):this.getRuleContext(e,MD)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_subQueryDefList}enterRule(e){e.enterSubQueryDefList&&e.enterSubQueryDefList(this)}exitRule(e){e.exitSubQueryDefList&&e.exitSubQueryDefList(this)}accept(e){return e.visitSubQueryDefList?e.visitSubQueryDefList(this):e.visitChildren(this)}};It.SubQueryDefListContext=Wq;var Qq=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,yd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreQueryNameDef}enterRule(e){e.enterExploreQueryNameDef&&e.enterExploreQueryNameDef(this)}exitRule(e){e.exitExploreQueryNameDef&&e.exitExploreQueryNameDef(this)}accept(e){return e.visitExploreQueryNameDef?e.visitExploreQueryNameDef(this):e.visitChildren(this)}};It.ExploreQueryNameDefContext=Qq;var MD=class extends zr.ParserRuleContext{exploreQueryNameDef(){return this.getRuleContext(0,Qq)}IS(){return this.getToken(w.IS,0)}pipelineFromName(){return this.getRuleContext(0,sC)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_exploreQueryDef}enterRule(e){e.enterExploreQueryDef&&e.enterExploreQueryDef(this)}exitRule(e){e.exitExploreQueryDef&&e.exitExploreQueryDef(this)}accept(e){return e.visitExploreQueryDef?e.visitExploreQueryDef(this):e.visitChildren(this)}};It.ExploreQueryDefContext=MD;var PD=class extends zr.ParserRuleContext{groupByStatement(){return this.tryGetRuleContext(0,Gq)}declareStatement(){return this.tryGetRuleContext(0,LD)}joinStatement(){return this.tryGetRuleContext(0,$5)}projectStatement(){return this.tryGetRuleContext(0,Xq)}indexStatement(){return this.tryGetRuleContext(0,sU)}aggregateStatement(){return this.tryGetRuleContext(0,Jq)}topStatement(){return this.tryGetRuleContext(0,rU)}limitStatement(){return this.tryGetRuleContext(0,tU)}orderByStatement(){return this.tryGetRuleContext(0,Zq)}whereStatement(){return this.tryGetRuleContext(0,N6)}havingStatement(){return this.tryGetRuleContext(0,ID)}nestStatement(){return this.tryGetRuleContext(0,Yq)}sampleStatement(){return this.tryGetRuleContext(0,oU)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_queryStatement}enterRule(e){e.enterQueryStatement&&e.enterQueryStatement(this)}exitRule(e){e.exitQueryStatement&&e.exitQueryStatement(this)}accept(e){return e.visitQueryStatement?e.visitQueryStatement(this):e.visitChildren(this)}};It.QueryStatementContext=PD;var Gq=class extends zr.ParserRuleContext{GROUP_BY(){return this.getToken(w.GROUP_BY,0)}queryFieldList(){return this.getRuleContext(0,BD)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_groupByStatement}enterRule(e){e.enterGroupByStatement&&e.enterGroupByStatement(this)}exitRule(e){e.exitGroupByStatement&&e.exitGroupByStatement(this)}accept(e){return e.visitGroupByStatement?e.visitGroupByStatement(this):e.visitChildren(this)}};It.GroupByStatementContext=Gq;var BD=class extends zr.ParserRuleContext{queryFieldEntry(e){return e===void 0?this.getRuleContexts(R6):this.getRuleContext(e,R6)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_queryFieldList}enterRule(e){e.enterQueryFieldList&&e.enterQueryFieldList(this)}exitRule(e){e.exitQueryFieldList&&e.exitQueryFieldList(this)}accept(e){return e.visitQueryFieldList?e.visitQueryFieldList(this):e.visitChildren(this)}};It.QueryFieldListContext=BD;var uC=class extends zr.ParserRuleContext{fieldDef(){return this.getRuleContext(0,U5)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_dimensionDef}enterRule(e){e.enterDimensionDef&&e.enterDimensionDef(this)}exitRule(e){e.exitDimensionDef&&e.exitDimensionDef(this)}accept(e){return e.visitDimensionDef?e.visitDimensionDef(this):e.visitChildren(this)}};It.DimensionDefContext=uC;var R6=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_queryFieldEntry}copyFrom(e){super.copyFrom(e)}};It.QueryFieldEntryContext=R6;var qre=class extends R6{fieldPath(){return this.getRuleContext(0,ty)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldRef&&e.enterQueryFieldRef(this)}exitRule(e){e.exitQueryFieldRef&&e.exitQueryFieldRef(this)}accept(e){return e.visitQueryFieldRef?e.visitQueryFieldRef(this):e.visitChildren(this)}};It.QueryFieldRefContext=qre;var Ure=class extends R6{dimensionDef(){return this.getRuleContext(0,uC)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldDef&&e.enterQueryFieldDef(this)}exitRule(e){e.exitQueryFieldDef&&e.exitQueryFieldDef(this)}accept(e){return e.visitQueryFieldDef?e.visitQueryFieldDef(this):e.visitChildren(this)}};It.QueryFieldDefContext=Ure;var Yq=class extends zr.ParserRuleContext{NEST(){return this.getToken(w.NEST,0)}nestedQueryList(){return this.getRuleContext(0,Kq)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_nestStatement}enterRule(e){e.enterNestStatement&&e.enterNestStatement(this)}exitRule(e){e.exitNestStatement&&e.exitNestStatement(this)}accept(e){return e.visitNestStatement?e.visitNestStatement(this):e.visitChildren(this)}};It.NestStatementContext=Yq;var Kq=class extends zr.ParserRuleContext{nestEntry(e){return e===void 0?this.getRuleContexts(L6):this.getRuleContext(e,L6)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_nestedQueryList}enterRule(e){e.enterNestedQueryList&&e.enterNestedQueryList(this)}exitRule(e){e.exitNestedQueryList&&e.exitNestedQueryList(this)}accept(e){return e.visitNestedQueryList?e.visitNestedQueryList(this):e.visitChildren(this)}};It.NestedQueryListContext=Kq;var L6=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_nestEntry}copyFrom(e){super.copyFrom(e)}};It.NestEntryContext=L6;var $re=class extends L6{queryName(){return this.getRuleContext(0,F6)}queryProperties(){return this.tryGetRuleContext(0,T6)}refineOperator(){return this.tryGetRuleContext(0,w6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestExisting&&e.enterNestExisting(this)}exitRule(e){e.exitNestExisting&&e.exitNestExisting(this)}accept(e){return e.visitNestExisting?e.visitNestExisting(this):e.visitChildren(this)}};It.NestExistingContext=$re;var zre=class extends L6{queryName(){return this.getRuleContext(0,F6)}IS(){return this.getToken(w.IS,0)}pipelineFromName(){return this.getRuleContext(0,sC)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestDef&&e.enterNestDef(this)}exitRule(e){e.exitNestDef&&e.exitNestDef(this)}accept(e){return e.visitNestDef?e.visitNestDef(this):e.visitChildren(this)}};It.NestDefContext=zre;var Jq=class extends zr.ParserRuleContext{AGGREGATE(){return this.getToken(w.AGGREGATE,0)}queryFieldList(){return this.getRuleContext(0,BD)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_aggregateStatement}enterRule(e){e.enterAggregateStatement&&e.enterAggregateStatement(this)}exitRule(e){e.exitAggregateStatement&&e.exitAggregateStatement(this)}accept(e){return e.visitAggregateStatement?e.visitAggregateStatement(this):e.visitChildren(this)}};It.AggregateStatementContext=Jq;var Xq=class extends zr.ParserRuleContext{PROJECT(){return this.getToken(w.PROJECT,0)}fieldCollection(){return this.getRuleContext(0,pU)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_projectStatement}enterRule(e){e.enterProjectStatement&&e.enterProjectStatement(this)}exitRule(e){e.exitProjectStatement&&e.exitProjectStatement(this)}accept(e){return e.visitProjectStatement?e.visitProjectStatement(this):e.visitChildren(this)}};It.ProjectStatementContext=Xq;var Zq=class extends zr.ParserRuleContext{ORDER_BY(){return this.getToken(w.ORDER_BY,0)}ordering(){return this.getRuleContext(0,eU)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_orderByStatement}enterRule(e){e.enterOrderByStatement&&e.enterOrderByStatement(this)}exitRule(e){e.exitOrderByStatement&&e.exitOrderByStatement(this)}accept(e){return e.visitOrderByStatement?e.visitOrderByStatement(this):e.visitChildren(this)}};It.OrderByStatementContext=Zq;var eU=class extends zr.ParserRuleContext{orderBySpec(e){return e===void 0?this.getRuleContexts(jD):this.getRuleContext(e,jD)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_ordering}enterRule(e){e.enterOrdering&&e.enterOrdering(this)}exitRule(e){e.exitOrdering&&e.exitOrdering(this)}accept(e){return e.visitOrdering?e.visitOrdering(this):e.visitChildren(this)}};It.OrderingContext=eU;var jD=class extends zr.ParserRuleContext{INTEGER_LITERAL(){return this.tryGetToken(w.INTEGER_LITERAL,0)}fieldName(){return this.tryGetRuleContext(0,vd)}ASC(){return this.tryGetToken(w.ASC,0)}DESC(){return this.tryGetToken(w.DESC,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_orderBySpec}enterRule(e){e.enterOrderBySpec&&e.enterOrderBySpec(this)}exitRule(e){e.exitOrderBySpec&&e.exitOrderBySpec(this)}accept(e){return e.visitOrderBySpec?e.visitOrderBySpec(this):e.visitChildren(this)}};It.OrderBySpecContext=jD;var tU=class extends zr.ParserRuleContext{LIMIT(){return this.getToken(w.LIMIT,0)}INTEGER_LITERAL(){return this.getToken(w.INTEGER_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_limitStatement}enterRule(e){e.enterLimitStatement&&e.enterLimitStatement(this)}exitRule(e){e.exitLimitStatement&&e.exitLimitStatement(this)}accept(e){return e.visitLimitStatement?e.visitLimitStatement(this):e.visitChildren(this)}};It.LimitStatementContext=tU;var nU=class extends zr.ParserRuleContext{BY(){return this.getToken(w.BY,0)}fieldName(){return this.tryGetRuleContext(0,vd)}fieldExpr(){return this.tryGetRuleContext(0,wi)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_bySpec}enterRule(e){e.enterBySpec&&e.enterBySpec(this)}exitRule(e){e.exitBySpec&&e.exitBySpec(this)}accept(e){return e.visitBySpec?e.visitBySpec(this):e.visitChildren(this)}};It.BySpecContext=nU;var rU=class extends zr.ParserRuleContext{TOP(){return this.getToken(w.TOP,0)}INTEGER_LITERAL(){return this.getToken(w.INTEGER_LITERAL,0)}bySpec(){return this.tryGetRuleContext(0,nU)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_topStatement}enterRule(e){e.enterTopStatement&&e.enterTopStatement(this)}exitRule(e){e.exitTopStatement&&e.exitTopStatement(this)}accept(e){return e.visitTopStatement?e.visitTopStatement(this):e.visitChildren(this)}};It.TopStatementContext=rU;var qD=class extends zr.ParserRuleContext{fieldPath(){return this.tryGetRuleContext(0,ty)}DOT(){return this.tryGetToken(w.DOT,0)}STAR(){return this.tryGetToken(w.STAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_indexElement}enterRule(e){e.enterIndexElement&&e.enterIndexElement(this)}exitRule(e){e.exitIndexElement&&e.exitIndexElement(this)}accept(e){return e.visitIndexElement?e.visitIndexElement(this):e.visitChildren(this)}};It.IndexElementContext=qD;var iU=class extends zr.ParserRuleContext{indexElement(e){return e===void 0?this.getRuleContexts(qD):this.getRuleContext(e,qD)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_indexFields}enterRule(e){e.enterIndexFields&&e.enterIndexFields(this)}exitRule(e){e.exitIndexFields&&e.exitIndexFields(this)}accept(e){return e.visitIndexFields?e.visitIndexFields(this):e.visitChildren(this)}};It.IndexFieldsContext=iU;var sU=class extends zr.ParserRuleContext{INDEX(){return this.getToken(w.INDEX,0)}indexFields(){return this.getRuleContext(0,iU)}BY(){return this.tryGetToken(w.BY,0)}fieldName(){return this.tryGetRuleContext(0,vd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_indexStatement}enterRule(e){e.enterIndexStatement&&e.enterIndexStatement(this)}exitRule(e){e.exitIndexStatement&&e.exitIndexStatement(this)}accept(e){return e.visitIndexStatement?e.visitIndexStatement(this):e.visitChildren(this)}};It.IndexStatementContext=sU;var oU=class extends zr.ParserRuleContext{SAMPLE(){return this.getToken(w.SAMPLE,0)}sampleSpec(){return this.getRuleContext(0,aU)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_sampleStatement}enterRule(e){e.enterSampleStatement&&e.enterSampleStatement(this)}exitRule(e){e.exitSampleStatement&&e.exitSampleStatement(this)}accept(e){return e.visitSampleStatement?e.visitSampleStatement(this):e.visitChildren(this)}};It.SampleStatementContext=oU;var aU=class extends zr.ParserRuleContext{PERCENT_LITERAL(){return this.tryGetToken(w.PERCENT_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(w.INTEGER_LITERAL,0)}TRUE(){return this.tryGetToken(w.TRUE,0)}FALSE(){return this.tryGetToken(w.FALSE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_sampleSpec}enterRule(e){e.enterSampleSpec&&e.enterSampleSpec(this)}exitRule(e){e.exitSampleSpec&&e.exitSampleSpec(this)}accept(e){return e.visitSampleSpec?e.visitSampleSpec(this):e.visitChildren(this)}};It.SampleSpecContext=aU;var uU=class extends zr.ParserRuleContext{SUM(){return this.tryGetToken(w.SUM,0)}COUNT(){return this.tryGetToken(w.COUNT,0)}AVG(){return this.tryGetToken(w.AVG,0)}MIN(){return this.tryGetToken(w.MIN,0)}MAX(){return this.tryGetToken(w.MAX,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_aggregate}enterRule(e){e.enterAggregate&&e.enterAggregate(this)}exitRule(e){e.exitAggregate&&e.exitAggregate(this)}accept(e){return e.visitAggregate?e.visitAggregate(this):e.visitChildren(this)}};It.AggregateContext=uU;var UD=class extends zr.ParserRuleContext{STRING(){return this.tryGetToken(w.STRING,0)}NUMBER(){return this.tryGetToken(w.NUMBER,0)}BOOLEAN(){return this.tryGetToken(w.BOOLEAN,0)}DATE(){return this.tryGetToken(w.DATE,0)}TIMESTAMP(){return this.tryGetToken(w.TIMESTAMP,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_malloyType}enterRule(e){e.enterMalloyType&&e.enterMalloyType(this)}exitRule(e){e.exitMalloyType&&e.exitMalloyType(this)}accept(e){return e.visitMalloyType?e.visitMalloyType(this):e.visitChildren(this)}};It.MalloyTypeContext=UD;var $D=class extends zr.ParserRuleContext{MATCH(){return this.tryGetToken(w.MATCH,0)}NOT_MATCH(){return this.tryGetToken(w.NOT_MATCH,0)}GT(){return this.tryGetToken(w.GT,0)}LT(){return this.tryGetToken(w.LT,0)}GTE(){return this.tryGetToken(w.GTE,0)}LTE(){return this.tryGetToken(w.LTE,0)}EQ(){return this.tryGetToken(w.EQ,0)}NE(){return this.tryGetToken(w.NE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_compareOp}enterRule(e){e.enterCompareOp&&e.enterCompareOp(this)}exitRule(e){e.exitCompareOp&&e.exitCompareOp(this)}accept(e){return e.visitCompareOp?e.visitCompareOp(this):e.visitChildren(this)}};It.CompareOpContext=$D;var y2=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_literal}copyFrom(e){super.copyFrom(e)}};It.LiteralContext=y2;var Hre=class extends y2{STRING_LITERAL(){return this.getToken(w.STRING_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprString&&e.enterExprString(this)}exitRule(e){e.exitExprString&&e.exitExprString(this)}accept(e){return e.visitExprString?e.visitExprString(this):e.visitChildren(this)}};It.ExprStringContext=Hre;var Vre=class extends y2{NUMERIC_LITERAL(){return this.tryGetToken(w.NUMERIC_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(w.INTEGER_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNumber&&e.enterExprNumber(this)}exitRule(e){e.exitExprNumber&&e.exitExprNumber(this)}accept(e){return e.visitExprNumber?e.visitExprNumber(this):e.visitChildren(this)}};It.ExprNumberContext=Vre;var Wre=class extends y2{dateLiteral(){return this.getRuleContext(0,lx)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTime&&e.enterExprTime(this)}exitRule(e){e.exitExprTime&&e.exitExprTime(this)}accept(e){return e.visitExprTime?e.visitExprTime(this):e.visitChildren(this)}};It.ExprTimeContext=Wre;var Qre=class extends y2{NULL(){return this.getToken(w.NULL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNULL&&e.enterExprNULL(this)}exitRule(e){e.exitExprNULL&&e.exitExprNULL(this)}accept(e){return e.visitExprNULL?e.visitExprNULL(this):e.visitChildren(this)}};It.ExprNULLContext=Qre;var Gre=class extends y2{TRUE(){return this.tryGetToken(w.TRUE,0)}FALSE(){return this.tryGetToken(w.FALSE,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprBool&&e.enterExprBool(this)}exitRule(e){e.exitExprBool&&e.exitExprBool(this)}accept(e){return e.visitExprBool?e.visitExprBool(this):e.visitChildren(this)}};It.ExprBoolContext=Gre;var Yre=class extends y2{HACKY_REGEX(){return this.getToken(w.HACKY_REGEX,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRegex&&e.enterExprRegex(this)}exitRule(e){e.exitExprRegex&&e.exitExprRegex(this)}accept(e){return e.visitExprRegex?e.visitExprRegex(this):e.visitChildren(this)}};It.ExprRegexContext=Yre;var Kre=class extends y2{NOW(){return this.getToken(w.NOW,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNow&&e.enterExprNow(this)}exitRule(e){e.exitExprNow&&e.exitExprNow(this)}accept(e){return e.visitExprNow?e.visitExprNow(this):e.visitChildren(this)}};It.ExprNowContext=Kre;var lx=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_dateLiteral}copyFrom(e){super.copyFrom(e)}};It.DateLiteralContext=lx;var Jre=class extends lx{LITERAL_TIMESTAMP(){return this.getToken(w.LITERAL_TIMESTAMP,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralTimestamp&&e.enterLiteralTimestamp(this)}exitRule(e){e.exitLiteralTimestamp&&e.exitLiteralTimestamp(this)}accept(e){return e.visitLiteralTimestamp?e.visitLiteralTimestamp(this):e.visitChildren(this)}};It.LiteralTimestampContext=Jre;var Xre=class extends lx{LITERAL_DAY(){return this.getToken(w.LITERAL_DAY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralDay&&e.enterLiteralDay(this)}exitRule(e){e.exitLiteralDay&&e.exitLiteralDay(this)}accept(e){return e.visitLiteralDay?e.visitLiteralDay(this):e.visitChildren(this)}};It.LiteralDayContext=Xre;var Zre=class extends lx{LITERAL_WEEK(){return this.getToken(w.LITERAL_WEEK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralWeek&&e.enterLiteralWeek(this)}exitRule(e){e.exitLiteralWeek&&e.exitLiteralWeek(this)}accept(e){return e.visitLiteralWeek?e.visitLiteralWeek(this):e.visitChildren(this)}};It.LiteralWeekContext=Zre;var eie=class extends lx{LITERAL_MONTH(){return this.getToken(w.LITERAL_MONTH,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralMonth&&e.enterLiteralMonth(this)}exitRule(e){e.exitLiteralMonth&&e.exitLiteralMonth(this)}accept(e){return e.visitLiteralMonth?e.visitLiteralMonth(this):e.visitChildren(this)}};It.LiteralMonthContext=eie;var tie=class extends lx{LITERAL_QUARTER(){return this.getToken(w.LITERAL_QUARTER,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralQuarter&&e.enterLiteralQuarter(this)}exitRule(e){e.exitLiteralQuarter&&e.exitLiteralQuarter(this)}accept(e){return e.visitLiteralQuarter?e.visitLiteralQuarter(this):e.visitChildren(this)}};It.LiteralQuarterContext=tie;var nie=class extends lx{LITERAL_YEAR(){return this.getToken(w.LITERAL_YEAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralYear&&e.enterLiteralYear(this)}exitRule(e){e.exitLiteralYear&&e.exitLiteralYear(this)}accept(e){return e.visitLiteralYear?e.visitLiteralYear(this):e.visitChildren(this)}};It.LiteralYearContext=nie;var lU=class extends zr.ParserRuleContext{STRING_LITERAL(){return this.getToken(w.STRING_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_tableName}enterRule(e){e.enterTableName&&e.enterTableName(this)}exitRule(e){e.exitTableName&&e.exitTableName(this)}accept(e){return e.visitTableName?e.visitTableName(this):e.visitChildren(this)}};It.TableNameContext=lU;var yd=class extends zr.ParserRuleContext{IDENTIFIER(){return this.tryGetToken(w.IDENTIFIER,0)}OBJECT_NAME_LITERAL(){return this.tryGetToken(w.OBJECT_NAME_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_id}enterRule(e){e.enterId&&e.enterId(this)}exitRule(e){e.exitId&&e.exitId(this)}accept(e){return e.visitId?e.visitId(this):e.visitChildren(this)}};It.IdContext=yd;var k6=class extends zr.ParserRuleContext{SECOND(){return this.tryGetToken(w.SECOND,0)}MINUTE(){return this.tryGetToken(w.MINUTE,0)}HOUR(){return this.tryGetToken(w.HOUR,0)}DAY(){return this.tryGetToken(w.DAY,0)}WEEK(){return this.tryGetToken(w.WEEK,0)}MONTH(){return this.tryGetToken(w.MONTH,0)}QUARTER(){return this.tryGetToken(w.QUARTER,0)}YEAR(){return this.tryGetToken(w.YEAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_timeframe}enterRule(e){e.enterTimeframe&&e.enterTimeframe(this)}exitRule(e){e.exitTimeframe&&e.exitTimeframe(this)}accept(e){return e.visitTimeframe?e.visitTimeframe(this):e.visitChildren(this)}};It.TimeframeContext=k6;var cU=class extends zr.ParserRuleContext{ALL(){return this.tryGetToken(w.ALL,0)}EXCLUDE(){return this.tryGetToken(w.EXCLUDE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_ungroup}enterRule(e){e.enterUngroup&&e.enterUngroup(this)}exitRule(e){e.exitUngroup&&e.exitUngroup(this)}accept(e){return e.visitUngroup?e.visitUngroup(this):e.visitChildren(this)}};It.UngroupContext=cU;var wi=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldExpr}copyFrom(e){super.copyFrom(e)}};It.FieldExprContext=wi;var rie=class extends wi{fieldPath(){return this.getRuleContext(0,ty)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFieldPath&&e.enterExprFieldPath(this)}exitRule(e){e.exitExprFieldPath&&e.exitExprFieldPath(this)}accept(e){return e.visitExprFieldPath?e.visitExprFieldPath(this):e.visitChildren(this)}};It.ExprFieldPathContext=rie;var iie=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}OCURLY(){return this.getToken(w.OCURLY,0)}filteredBy(){return this.getRuleContext(0,aC)}CCURLY(){return this.getToken(w.CCURLY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFilter&&e.enterExprFilter(this)}exitRule(e){e.exitExprFilter&&e.exitExprFilter(this)}accept(e){return e.visitExprFilter?e.visitExprFilter(this):e.visitChildren(this)}};It.ExprFilterContext=iie;var sie=class extends wi{literal(){return this.getRuleContext(0,y2)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLiteral&&e.enterExprLiteral(this)}exitRule(e){e.exitExprLiteral&&e.exitExprLiteral(this)}accept(e){return e.visitExprLiteral?e.visitExprLiteral(this):e.visitChildren(this)}};It.ExprLiteralContext=sie;var oie=class extends wi{MINUS(){return this.getToken(w.MINUS,0)}fieldExpr(){return this.getRuleContext(0,wi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMinus&&e.enterExprMinus(this)}exitRule(e){e.exitExprMinus&&e.exitExprMinus(this)}accept(e){return e.visitExprMinus?e.visitExprMinus(this):e.visitChildren(this)}};It.ExprMinusContext=oie;var aie=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}timeframe(){return this.getRuleContext(0,k6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprDuration&&e.enterExprDuration(this)}exitRule(e){e.exitExprDuration&&e.exitExprDuration(this)}accept(e){return e.visitExprDuration?e.visitExprDuration(this):e.visitChildren(this)}};It.ExprDurationContext=aie;var uie=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}DOT(){return this.getToken(w.DOT,0)}timeframe(){return this.getRuleContext(0,k6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTimeTrunc&&e.enterExprTimeTrunc(this)}exitRule(e){e.exitExprTimeTrunc&&e.exitExprTimeTrunc(this)}accept(e){return e.visitExprTimeTrunc?e.visitExprTimeTrunc(this):e.visitChildren(this)}};It.ExprTimeTruncContext=uie;var lie=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}DOUBLECOLON(){return this.getToken(w.DOUBLECOLON,0)}malloyType(){return this.getRuleContext(0,UD)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprSafeCast&&e.enterExprSafeCast(this)}exitRule(e){e.exitExprSafeCast&&e.exitExprSafeCast(this)}accept(e){return e.visitExprSafeCast?e.visitExprSafeCast(this):e.visitChildren(this)}};It.ExprSafeCastContext=lie;var cie=class extends wi{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}STAR(){return this.tryGetToken(w.STAR,0)}SLASH(){return this.tryGetToken(w.SLASH,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMulDiv&&e.enterExprMulDiv(this)}exitRule(e){e.exitExprMulDiv&&e.exitExprMulDiv(this)}accept(e){return e.visitExprMulDiv?e.visitExprMulDiv(this):e.visitChildren(this)}};It.ExprMulDivContext=cie;var fie=class extends wi{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}PLUS(){return this.tryGetToken(w.PLUS,0)}MINUS(){return this.tryGetToken(w.MINUS,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAddSub&&e.enterExprAddSub(this)}exitRule(e){e.exitExprAddSub&&e.exitExprAddSub(this)}accept(e){return e.visitExprAddSub?e.visitExprAddSub(this):e.visitChildren(this)}};It.ExprAddSubContext=fie;var die=class extends wi{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}TO(){return this.getToken(w.TO,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRange&&e.enterExprRange(this)}exitRule(e){e.exitExprRange&&e.exitExprRange(this)}accept(e){return e.visitExprRange?e.visitExprRange(this):e.visitChildren(this)}};It.ExprRangeContext=die;var hie=class extends wi{constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}FOR(){return this.getToken(w.FOR,0)}timeframe(){return this.getRuleContext(0,k6)}fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}enterRule(e){e.enterExprForRange&&e.enterExprForRange(this)}exitRule(e){e.exitExprForRange&&e.exitExprForRange(this)}accept(e){return e.visitExprForRange?e.visitExprForRange(this):e.visitChildren(this)}};It.ExprForRangeContext=hie;var pie=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}partialAllowedFieldExpr(){return this.getRuleContext(0,ey)}AMPER(){return this.tryGetToken(w.AMPER,0)}BAR(){return this.tryGetToken(w.BAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogicalTree&&e.enterExprLogicalTree(this)}exitRule(e){e.exitExprLogicalTree&&e.exitExprLogicalTree(this)}accept(e){return e.visitExprLogicalTree?e.visitExprLogicalTree(this):e.visitChildren(this)}};It.ExprLogicalTreeContext=pie;var mie=class extends wi{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}compareOp(){return this.getRuleContext(0,$D)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCompare&&e.enterExprCompare(this)}exitRule(e){e.exitExprCompare&&e.exitExprCompare(this)}accept(e){return e.visitExprCompare?e.visitExprCompare(this):e.visitChildren(this)}};It.ExprCompareContext=mie;var xie=class extends wi{fieldExpr(){return this.getRuleContext(0,wi)}partialAllowedFieldExpr(){return this.getRuleContext(0,ey)}COLON(){return this.tryGetToken(w.COLON,0)}QMARK(){return this.tryGetToken(w.QMARK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprApply&&e.enterExprApply(this)}exitRule(e){e.exitExprApply&&e.exitExprApply(this)}accept(e){return e.visitExprApply?e.visitExprApply(this):e.visitChildren(this)}};It.ExprApplyContext=xie;var gie=class extends wi{NOT(){return this.getToken(w.NOT,0)}fieldExpr(){return this.getRuleContext(0,wi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNot&&e.enterExprNot(this)}exitRule(e){e.exitExprNot&&e.exitExprNot(this)}accept(e){return e.visitExprNot?e.visitExprNot(this):e.visitChildren(this)}};It.ExprNotContext=gie;var yie=class extends wi{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}AND(){return this.tryGetToken(w.AND,0)}OR(){return this.tryGetToken(w.OR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogical&&e.enterExprLogical(this)}exitRule(e){e.exitExprLogical&&e.exitExprLogical(this)}accept(e){return e.visitExprLogical?e.visitExprLogical(this):e.visitChildren(this)}};It.ExprLogicalContext=yie;var vie=class extends wi{CAST(){return this.getToken(w.CAST,0)}OPAREN(){return this.getToken(w.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,wi)}AS(){return this.getToken(w.AS,0)}malloyType(){return this.getRuleContext(0,UD)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCast&&e.enterExprCast(this)}exitRule(e){e.exitExprCast&&e.exitExprCast(this)}accept(e){return e.visitExprCast?e.visitExprCast(this):e.visitChildren(this)}};It.ExprCastContext=vie;var _ie=class extends wi{COUNT(){return this.getToken(w.COUNT,0)}OPAREN(){return this.getToken(w.OPAREN,0)}DISTINCT(){return this.getToken(w.DISTINCT,0)}fieldExpr(){return this.getRuleContext(0,wi)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCountDisinct&&e.enterExprCountDisinct(this)}exitRule(e){e.exitExprCountDisinct&&e.exitExprCountDisinct(this)}accept(e){return e.visitExprCountDisinct?e.visitExprCountDisinct(this):e.visitChildren(this)}};It.ExprCountDisinctContext=_ie;var bie=class extends wi{aggregate(){return this.getRuleContext(0,uU)}OPAREN(){return this.getToken(w.OPAREN,0)}CPAREN(){return this.getToken(w.CPAREN,0)}fieldPath(){return this.tryGetRuleContext(0,ty)}DOT(){return this.tryGetToken(w.DOT,0)}fieldExpr(){return this.tryGetRuleContext(0,wi)}STAR(){return this.tryGetToken(w.STAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAggregate&&e.enterExprAggregate(this)}exitRule(e){e.exitExprAggregate&&e.exitExprAggregate(this)}accept(e){return e.visitExprAggregate?e.visitExprAggregate(this):e.visitChildren(this)}};It.ExprAggregateContext=bie;var Eie=class extends wi{OPAREN(){return this.getToken(w.OPAREN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,ey)}CPAREN(){return this.getToken(w.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprExpr&&e.enterExprExpr(this)}exitRule(e){e.exitExprExpr&&e.exitExprExpr(this)}accept(e){return e.visitExprExpr?e.visitExprExpr(this):e.visitChildren(this)}};It.ExprExprContext=Eie;var Sie=class extends wi{OPAREN(){return this.getToken(w.OPAREN,0)}CPAREN(){return this.getToken(w.CPAREN,0)}id(){return this.tryGetRuleContext(0,yd)}timeframe(){return this.tryGetRuleContext(0,k6)}argumentList(){return this.tryGetRuleContext(0,dU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFunc&&e.enterExprFunc(this)}exitRule(e){e.exitExprFunc&&e.exitExprFunc(this)}accept(e){return e.visitExprFunc?e.visitExprFunc(this):e.visitChildren(this)}};It.ExprFuncContext=Sie;var Cie=class extends wi{pickStatement(){return this.getRuleContext(0,fU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprPick&&e.enterExprPick(this)}exitRule(e){e.exitExprPick&&e.exitExprPick(this)}accept(e){return e.visitExprPick?e.visitExprPick(this):e.visitChildren(this)}};It.ExprPickContext=Cie;var wie=class extends wi{ungroup(){return this.getRuleContext(0,cU)}OPAREN(){return this.getToken(w.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,wi)}CPAREN(){return this.getToken(w.CPAREN,0)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}fieldName(e){return e===void 0?this.getRuleContexts(vd):this.getRuleContext(e,vd)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprUngroup&&e.enterExprUngroup(this)}exitRule(e){e.exitExprUngroup&&e.exitExprUngroup(this)}accept(e){return e.visitExprUngroup?e.visitExprUngroup(this):e.visitChildren(this)}};It.ExprUngroupContext=wie;var ey=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_partialAllowedFieldExpr}copyFrom(e){super.copyFrom(e)}};It.PartialAllowedFieldExprContext=ey;var Aie=class extends ey{compareOp(){return this.getRuleContext(0,$D)}fieldExpr(){return this.getRuleContext(0,wi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprPartialCompare&&e.enterExprPartialCompare(this)}exitRule(e){e.exitExprPartialCompare&&e.exitExprPartialCompare(this)}accept(e){return e.visitExprPartialCompare?e.visitExprPartialCompare(this):e.visitChildren(this)}};It.ExprPartialCompareContext=Aie;var Tie=class extends ey{fieldExpr(){return this.getRuleContext(0,wi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNotPartial&&e.enterExprNotPartial(this)}exitRule(e){e.exitExprNotPartial&&e.exitExprNotPartial(this)}accept(e){return e.visitExprNotPartial?e.visitExprNotPartial(this):e.visitChildren(this)}};It.ExprNotPartialContext=Tie;var fU=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}pick(e){return e===void 0?this.getRuleContexts(zD):this.getRuleContext(e,zD)}ELSE(){return this.tryGetToken(w.ELSE,0)}fieldExpr(){return this.tryGetRuleContext(0,wi)}get ruleIndex(){return w.RULE_pickStatement}enterRule(e){e.enterPickStatement&&e.enterPickStatement(this)}exitRule(e){e.exitPickStatement&&e.exitPickStatement(this)}accept(e){return e.visitPickStatement?e.visitPickStatement(this):e.visitChildren(this)}};It.PickStatementContext=fU;var zD=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}PICK(){return this.getToken(w.PICK,0)}WHEN(){return this.getToken(w.WHEN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,ey)}fieldExpr(){return this.tryGetRuleContext(0,wi)}get ruleIndex(){return w.RULE_pick}enterRule(e){e.enterPick&&e.enterPick(this)}exitRule(e){e.exitPick&&e.exitPick(this)}accept(e){return e.visitPick?e.visitPick(this):e.visitChildren(this)}};It.PickContext=zD;var dU=class extends zr.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(wi):this.getRuleContext(e,wi)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_argumentList}enterRule(e){e.enterArgumentList&&e.enterArgumentList(this)}exitRule(e){e.exitArgumentList&&e.exitArgumentList(this)}accept(e){return e.visitArgumentList?e.visitArgumentList(this):e.visitChildren(this)}};It.ArgumentListContext=dU;var hU=class extends zr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(vd):this.getRuleContext(e,vd)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldNameList}enterRule(e){e.enterFieldNameList&&e.enterFieldNameList(this)}exitRule(e){e.exitFieldNameList&&e.exitFieldNameList(this)}accept(e){return e.visitFieldNameList?e.visitFieldNameList(this):e.visitChildren(this)}};It.FieldNameListContext=hU;var pU=class extends zr.ParserRuleContext{collectionMember(e){return e===void 0?this.getRuleContexts(z5):this.getRuleContext(e,z5)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldCollection}enterRule(e){e.enterFieldCollection&&e.enterFieldCollection(this)}exitRule(e){e.exitFieldCollection&&e.exitFieldCollection(this)}accept(e){return e.visitFieldCollection?e.visitFieldCollection(this):e.visitChildren(this)}};It.FieldCollectionContext=pU;var z5=class extends zr.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_collectionMember}copyFrom(e){super.copyFrom(e)}};It.CollectionMemberContext=z5;var Fie=class extends z5{fieldPath(){return this.getRuleContext(0,ty)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNameMember&&e.enterNameMember(this)}exitRule(e){e.exitNameMember&&e.exitNameMember(this)}accept(e){return e.visitNameMember?e.visitNameMember(this):e.visitChildren(this)}};It.NameMemberContext=Fie;var Die=class extends z5{STAR(){return this.tryGetToken(w.STAR,0)}STARSTAR(){return this.tryGetToken(w.STARSTAR,0)}fieldPath(){return this.tryGetRuleContext(0,ty)}DOT(){return this.tryGetToken(w.DOT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterWildMember&&e.enterWildMember(this)}exitRule(e){e.exitWildMember&&e.exitWildMember(this)}accept(e){return e.visitWildMember?e.visitWildMember(this):e.visitChildren(this)}};It.WildMemberContext=Die;var Oie=class extends z5{fieldDef(){return this.getRuleContext(0,U5)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNewMember&&e.enterNewMember(this)}exitRule(e){e.exitNewMember&&e.exitNewMember(this)}accept(e){return e.visitNewMember?e.visitNewMember(this):e.visitChildren(this)}};It.NewMemberContext=Oie;var ty=class extends zr.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(vd):this.getRuleContext(e,vd)}DOT(e){return e===void 0?this.getTokens(w.DOT):this.getToken(w.DOT,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldPath}enterRule(e){e.enterFieldPath&&e.enterFieldPath(this)}exitRule(e){e.exitFieldPath&&e.exitFieldPath(this)}accept(e){return e.visitFieldPath?e.visitFieldPath(this):e.visitChildren(this)}};It.FieldPathContext=ty;var Nie=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,yd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_joinName}enterRule(e){e.enterJoinName&&e.enterJoinName(this)}exitRule(e){e.exitJoinName&&e.exitJoinName(this)}accept(e){return e.visitJoinName?e.visitJoinName(this):e.visitChildren(this)}};It.JoinNameContext=Nie;var vd=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,yd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_fieldName}enterRule(e){e.enterFieldName&&e.enterFieldName(this)}exitRule(e){e.exitFieldName&&e.exitFieldName(this)}accept(e){return e.visitFieldName?e.visitFieldName(this):e.visitChildren(this)}};It.FieldNameContext=vd;var Rie=class extends zr.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,wi)}EOF(){return this.getToken(w.EOF,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_justExpr}enterRule(e){e.enterJustExpr&&e.enterJustExpr(this)}exitRule(e){e.exitJustExpr&&e.exitJustExpr(this)}accept(e){return e.visitJustExpr?e.visitJustExpr(this):e.visitChildren(this)}};It.JustExprContext=Rie;var Lie=class extends zr.ParserRuleContext{jsonValue(){return this.getRuleContext(0,I6)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_json}enterRule(e){e.enterJson&&e.enterJson(this)}exitRule(e){e.exitJson&&e.exitJson(this)}accept(e){return e.visitJson?e.visitJson(this):e.visitChildren(this)}};It.JsonContext=Lie;var I6=class extends zr.ParserRuleContext{JSON_STRING(){return this.tryGetToken(w.JSON_STRING,0)}INTEGER_LITERAL(){return this.tryGetToken(w.INTEGER_LITERAL,0)}NUMERIC_LITERAL(){return this.tryGetToken(w.NUMERIC_LITERAL,0)}jsonObject(){return this.tryGetRuleContext(0,mU)}jsonArray(){return this.tryGetRuleContext(0,xU)}TRUE(){return this.tryGetToken(w.TRUE,0)}FALSE(){return this.tryGetToken(w.FALSE,0)}NULL(){return this.tryGetToken(w.NULL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_jsonValue}enterRule(e){e.enterJsonValue&&e.enterJsonValue(this)}exitRule(e){e.exitJsonValue&&e.exitJsonValue(this)}accept(e){return e.visitJsonValue?e.visitJsonValue(this):e.visitChildren(this)}};It.JsonValueContext=I6;var mU=class extends zr.ParserRuleContext{OCURLY(){return this.getToken(w.OCURLY,0)}jsonProperty(e){return e===void 0?this.getRuleContexts(HD):this.getRuleContext(e,HD)}CCURLY(){return this.getToken(w.CCURLY,0)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_jsonObject}enterRule(e){e.enterJsonObject&&e.enterJsonObject(this)}exitRule(e){e.exitJsonObject&&e.exitJsonObject(this)}accept(e){return e.visitJsonObject?e.visitJsonObject(this):e.visitChildren(this)}};It.JsonObjectContext=mU;var HD=class extends zr.ParserRuleContext{JSON_STRING(){return this.getToken(w.JSON_STRING,0)}COLON(){return this.getToken(w.COLON,0)}jsonValue(){return this.getRuleContext(0,I6)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_jsonProperty}enterRule(e){e.enterJsonProperty&&e.enterJsonProperty(this)}exitRule(e){e.exitJsonProperty&&e.exitJsonProperty(this)}accept(e){return e.visitJsonProperty?e.visitJsonProperty(this):e.visitChildren(this)}};It.JsonPropertyContext=HD;var xU=class extends zr.ParserRuleContext{OBRACK(){return this.getToken(w.OBRACK,0)}jsonValue(e){return e===void 0?this.getRuleContexts(I6):this.getRuleContext(e,I6)}CBRACK(){return this.getToken(w.CBRACK,0)}COMMA(e){return e===void 0?this.getTokens(w.COMMA):this.getToken(w.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_jsonArray}enterRule(e){e.enterJsonArray&&e.enterJsonArray(this)}exitRule(e){e.exitJsonArray&&e.exitJsonArray(this)}accept(e){return e.visitJsonArray?e.visitJsonArray(this):e.visitChildren(this)}};It.JsonArrayContext=xU;var gU=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,yd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_sqlExploreNameRef}enterRule(e){e.enterSqlExploreNameRef&&e.enterSqlExploreNameRef(this)}exitRule(e){e.exitSqlExploreNameRef&&e.exitSqlExploreNameRef(this)}accept(e){return e.visitSqlExploreNameRef?e.visitSqlExploreNameRef(this):e.visitChildren(this)}};It.SqlExploreNameRefContext=gU;var yU=class extends zr.ParserRuleContext{id(){return this.getRuleContext(0,yd)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_sqlCommandNameDef}enterRule(e){e.enterSqlCommandNameDef&&e.enterSqlCommandNameDef(this)}exitRule(e){e.exitSqlCommandNameDef&&e.exitSqlCommandNameDef(this)}accept(e){return e.visitSqlCommandNameDef?e.visitSqlCommandNameDef(this):e.visitChildren(this)}};It.SqlCommandNameDefContext=yU;var vU=class extends zr.ParserRuleContext{JSON_STRING(){return this.getToken(w.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return w.RULE_connectionName}enterRule(e){e.enterConnectionName&&e.enterConnectionName(this)}exitRule(e){e.exitConnectionName&&e.exitConnectionName(this)}accept(e){return e.visitConnectionName?e.visitConnectionName(this):e.visitChildren(this)}};It.ConnectionNameContext=vU});var aEe=we(Rl=>{"use strict";m();Object.defineProperty(Rl,"__esModule",{value:!0});Rl.isEquality=Rl.isComparison=Rl.timestampOffset=Rl.dateOffset=Rl.compose=Rl.compressExpr=Rl.errorFor=Rl.isGranularResult=Rl.FT=Rl.isExpressionValueType=void 0;var Vut=r2();function Wut(n){return(0,Vut.isAtomicFieldType)(n)||["null","unknown","duration","regular expression"].includes(n)}Rl.isExpressionValueType=Wut;var R0=class{static in(e,t){return e?t.find(i=>R0.eq(i,e))!==void 0:!1}static eq(e,t){return t!==void 0&&e.dataType===t.dataType&&e.aggregate===t.aggregate}static typeEq(e,t,r=!1){let i=e.dataType===t.dataType,s=r&&(e.dataType==="null"||t.dataType==="null");return i||s}static inspect(...e){return e.map(r=>{if(r){let i=r.dataType;return r.aggregate&&(i=`aggregate ${i}`),i}return"undefined"}).join(",")}};Rl.FT=R0;R0.nullT=lC("null");R0.numberT=lC("number");R0.stringT=lC("string");R0.dateT=lC("date");R0.timestampT=lC("timestamp");R0.boolT=lC("boolean");R0.anyAtomicT=[R0.numberT,R0.stringT,R0.dateT,R0.timestampT,R0.boolT];function lC(n){return{dataType:n,aggregate:!1}}function Qut(n){return n.dataType!=="date"&&n.dataType!=="timestamp"?!1:n.timeframe!==void 0}Rl.isGranularResult=Qut;function Gut(n){return{dataType:"unknown",aggregate:!1,value:[`_ERROR_${n.replace(/ /g,"_")}`]}}Rl.errorFor=Gut;function oEe(n){return n.length>1?["(",...n,")"]:n.length===0?["__MISSING_VALUE__"]:n}function Iie(n){let e=[],t;for(let r of n.flat())typeof r=="string"?t=t?t+r:r:(t&&(e.push(t),t=void 0),e.push(r));return t&&e.push(t),e}Rl.compressExpr=Iie;function Yut(n,e,t){let r=e.match(/^[A-Za-z]/),i=n.length===1&&r?" ":"",s=t.length===1&&r?" ":"",o=i+e+s;return[...oEe(n),o,...oEe(t)]}Rl.compose=Yut;function Kut(n,e,t,r){let i=e==="+"?"_ADD":"_SUB",s=r.toUpperCase();return Iie([`DATE${i}(`,...n,",INTERVAL ",...t,` ${s})`])}Rl.dateOffset=Kut;function Jut(n,e,t,r,i=!1){let s=["week","month","quarter","year"].includes(r),o=e==="+"?"_ADD":"_SUB",a=r.toUpperCase();if(s)return[`TIMESTAMP(DATETIME${o}(DATETIME(`,...n,"),INTERVAL ",...t,` ${a}))`];let c=i?["TIMESTAMP(",...n,")"]:n;return Iie([`TIMESTAMP${o}(`,...c,",INTERVAL ",...t,` ${a})`])}Rl.timestampOffset=Jut;function Xut(n){return["~","!~","<","<=","=",">",">=","!="].includes(n)}Rl.isComparison=Xut;function Zut(n){return["~","!~","=","!="].includes(n)}Rl.isEquality=Zut});var EU=we(Fo=>{"use strict";m();var elt=Fo&&Fo.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),tlt=Fo&&Fo.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),nlt=Fo&&Fo.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&elt(e,n,t);return tlt(e,n),e};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.ExpressionFieldFromAst=Fo.ReferenceField=Fo.FANSPaceField=Fo.QueryFieldStruct=Fo.QueryFieldAST=Fo.QueryField=Fo.ColumnSpaceField=Fo.JoinSpaceField=Fo.StructSpaceField=Fo.WildSpaceField=Fo.RenameSpaceField=Fo.SpaceField=Fo.AbstractParameter=Fo.DefinedParameter=Fo.SpaceParam=Fo.SpaceEntry=void 0;var uEe=nlt(r2()),rlt=SU(),_U=class{};Fo.SpaceEntry=_U;var VD=class extends _U{constructor(){super(...arguments);this.refType="parameter"}};Fo.SpaceParam=VD;var lEe=class extends VD{constructor(e){super();this.paramDef=e}parameter(){return this.paramDef}type(){return{type:this.paramDef.type}}};Fo.DefinedParameter=lEe;var cEe=class extends VD{constructor(e){super();this.astParam=e}parameter(){return this.astParam.parameter()}type(){return{type:this.astParam.type||"unknown"}}};Fo.AbstractParameter=cEe;var cx=class extends _U{constructor(){super(...arguments);this.refType="field"}fieldTypeFromFieldDef(e){let t={type:e.type};return uEe.isFieldTypeDef(e)&&e.aggregate&&(t.aggregate=!0),t}getQueryFieldDef(e){}fieldDef(){}};Fo.SpaceField=cx;var fEe=class extends cx{constructor(e,t,r){super();this.otherField=e,this.newName=t,this.location=r}fieldDef(){let e=this.otherField.fieldDef();if(e!==void 0)return{...e,as:this.newName,location:this.location}}type(){return this.otherField.type()}};Fo.RenameSpaceField=fEe;var dEe=class extends cx{constructor(e){super();this.wildText=e}type(){throw new Error("should never ask a wild field for its type")}getQueryFieldDef(e){return this.wildText}};Fo.WildSpaceField=dEe;var Mie=class extends cx{constructor(e){super();this.sourceDef=e}get fieldSpace(){return this.space||(this.space=new rlt.StaticSpace(this.sourceDef)),this.space}fieldDef(){return this.sourceDef}type(){return{type:"struct"}}};Fo.StructSpaceField=Mie;var hEe=class extends Mie{constructor(e,t){super(t.structDef());this.intoFS=e,this.join=t}};Fo.JoinSpaceField=hEe;var pEe=class extends cx{constructor(e){super();this.def=e}fieldDef(){return this.def}type(){return this.fieldTypeFromFieldDef(this.def)}};Fo.ColumnSpaceField=pEe;var bU=class extends cx{constructor(e){super();this.inSpace=e}type(){return{type:"turtle"}}};Fo.QueryField=bU;var mEe=class extends bU{constructor(e,t,r){super(e);this.turtle=t,this.name=r}getQueryFieldDef(e){let t=this.turtle.getFieldDef(e,this.nestParent);return this.renameAs&&(t.as=this.renameAs),t}fieldDef(){let e=this.turtle.getFieldDef(this.inSpace,this.nestParent);return this.renameAs&&(e.as=this.renameAs),e}};Fo.QueryFieldAST=mEe;var xEe=class extends bU{constructor(e,t){super(e);this.turtleDef=t}rename(e){this.turtleDef={...this.turtleDef,as:e}}fieldDef(){return this.turtleDef}getQueryFieldDef(e){return this.fieldDef()}};Fo.QueryFieldStruct=xEe;var gEe=class extends cx{constructor(e,t,r){super();this.ref=e,this.inSpace=t,Object.assign(this,r)}name(){return this.as||this.ref.refString}filtersPresent(){return this.filterList&&this.filterList.length>0}fieldDef(){if(this.as===void 0)return;let e=this.ref.getField(this.inSpace).found;if(e===void 0)return;let t=e.type(),r=t.type;if(uEe.isAtomicFieldType(r)){if(e instanceof VD)return{type:r,name:this.as,e:[{type:"parameter",path:this.ref.refString}],aggregate:!1};let i=[{type:"field",path:this.ref.refString}];return this.filtersPresent()&&this.filterList&&(i=[{type:"filterExpression",filterList:this.filterList,e:i}]),{type:r,name:this.as,e:i,aggregate:t.aggregate}}}getQueryFieldDef(e){let t={name:this.ref.refString};return this.filtersPresent()&&(t.filterList=this.filterList),this.as&&(t.as=this.as),t.as||t.filterList?t:this.ref.refString}type(){let e=this.ref.getField(this.inSpace).found;return(e==null?void 0:e.type())||{type:"unknown"}}};Fo.FANSPaceField=gEe;var yEe=class extends cx{constructor(e){super();this.fieldRef=e}getQueryFieldDef(e){let t=this.fieldRef.getField(e);return t.error&&this.fieldRef.log(t.error),this.fieldRef.refString}type(){return{type:"unknown"}}};Fo.ReferenceField=yEe;var vEe=class extends cx{constructor(e,t){super();this.space=e,this.exprDef=t,this.fieldName=t.defineName}get name(){return this.fieldName}fieldDef(){let e=this.exprDef.fieldDef(this.space,this.name);return this.defType=this.fieldTypeFromFieldDef(e),e}getQueryFieldDef(e){let t=this.exprDef.queryFieldDef(e,this.name);return this.defType=this.fieldTypeFromFieldDef(t),t}type(){return this.defType?this.defType:this.fieldTypeFromFieldDef(this.fieldDef())}};Fo.ExpressionFieldFromAst=vEe});var _Ee=we(cC=>{"use strict";m();Object.defineProperty(cC,"__esModule",{value:!0});cC.mergeFields=cC.nameOf=void 0;function Pie(n){return typeof n=="string"?n:n.as||n.name}cC.nameOf=Pie;function ilt(n,e){if(n==null)return e;let t=new Set(e.map(i=>Pie(i))),r=n.filter(i=>!t.has(Pie(i)));return r.push(...e),r}cC.mergeFields=ilt});var SU=we(Vu=>{"use strict";m();var slt=Vu&&Vu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),olt=Vu&&Vu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),alt=Vu&&Vu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&slt(e,n,t);return olt(e,n),e};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.DefSpace=Vu.IndexFieldSpace=Vu.ProjectFieldSpace=Vu.ReduceFieldSpace=Vu.ResultSpace=Vu.QuerySpace=Vu.DynamicSpace=Vu.StaticSpace=void 0;var ult=YT(),llt=sB(),Bie=alt(r2()),a1=H5(),Ll=EU(),CU=_Ee(),wU=class{constructor(e){this.type="fieldSpace",this.fromStruct=e}whenComplete(e){e()}dialectObj(){try{return(0,llt.getDialect)(this.fromStruct.dialect)}catch{return}}fromFieldDef(e){return e.type==="struct"?new Ll.StructSpaceField(e):Bie.isTurtleDef(e)?new Ll.QueryFieldStruct(this,e):new Ll.ColumnSpaceField(e)}get map(){if(this.memoMap===void 0){this.memoMap={};for(let e of this.fromStruct.fields){let t=e.as||e.name;this.memoMap[t]=this.fromFieldDef(e)}if(this.fromStruct.parameters)for(let[e,t]of Object.entries(this.fromStruct.parameters)){if(this.memoMap[e])throw new Error(`In struct '${this.fromStruct.as||this.fromStruct.name}':  : Field and parameter name conflict '${e}`);this.memoMap[e]=new Ll.DefinedParameter(t)}}return this.memoMap}dropEntries(){this.memoMap={}}dropEntry(e){delete this.map[e]}entry(e){return this.map[e]}setEntry(e,t){this.map[e]=t}entries(){return Object.entries(this.map)}structDef(){return this.fromStruct}emptyStructDef(){return{...this.fromStruct,fields:[]}}lookup(e){let t=e[0],r=e.slice(1),i=this.entry(t.refString);if(!i)return{error:`'${t}' is not defined`,found:i};if(i instanceof Ll.SpaceField){let s=i.fieldDef();s&&t.addReference({type:i instanceof Ll.StructSpaceField?"joinReference":"fieldReference",definition:s,location:t.location,text:t.refString})}return r.length?i instanceof Ll.StructSpaceField?i.fieldSpace.lookup(r):{error:`'${t}' cannot contain a '${r[0]}'`,found:void 0}:{found:i,error:void 0}}};Vu.StaticSpace=wU;function bEe(n){return n.type=="fieldSpace"}var jie=class{constructor(e){this.sourceSpec=e,this.spaceSpec=e}get structDef(){return bEe(this.spaceSpec)?(this.asStruct||(this.asStruct=this.spaceSpec.structDef()),this.asStruct):this.spaceSpec}get fieldSpace(){return bEe(this.spaceSpec)?this.spaceSpec:(this.asFS||(this.asFS=new wU(this.spaceSpec)),this.asFS)}},fC=class extends wU{constructor(e){let t=new jie(e);super((0,ult.cloneDeep)(t.structDef));this.completions=[],this.complete=!1,this.final=void 0,this.source=t}static filteredFrom(e,t){let r=new fC(e);if(t){let i=t.refs.list,s=r.entries();r.dropEntries();for(let[o,a]of s){let c=!!i.find(p=>p.refString===o),d=t.edit==="accept";c===d&&r.setEntry(o,a)}}return r}whenComplete(e){this.complete?e():this.completions.push(e)}isComplete(){this.complete=!0;for(let e of this.completions)e();this.completions=[]}setEntry(e,t){if(this.final)throw new Error("Space already final");super.setEntry(e,t)}addParameters(e){for(let t of e)this.setEntry(t.name,new Ll.AbstractParameter(t));return this}newEntry(e,t,r){if(this.entry(e)){t.log(`Cannot redefine '${e}'`);return}this.setEntry(e,r)}addField(...e){for(let t of e){let r=t.log,i=t.elementType;if(t instanceof a1.FieldDeclaration){let s=new Ll.ExpressionFieldFromAst(this,t);this.newEntry(s.name,t,s)}else if(t instanceof a1.TurtleDecl){let s=t.name;this.newEntry(s,t,new Ll.QueryFieldAST(this,t,s))}else if(t instanceof a1.RenameField){if(t.oldName.refString===t.newName){t.log("Can't rename field to itself");continue}let s=t.oldName.getField(this);s.found?s.found instanceof Ll.SpaceField?(this.setEntry(t.newName,new Ll.RenameSpaceField(s.found,t.newName,t.location)),this.dropEntry(t.oldName.refString)):t.log(`'${t.oldName}' cannot be renamed`):t.log(`Can't rename '${t.oldName}', no such field`)}else t instanceof a1.Join?this.newEntry(t.name.refString,t,new Ll.JoinSpaceField(this,t)):r(`Internal error: Expected expression, query, or rename, got '${i}'`)}}addFieldDef(e){this.setEntry((0,CU.nameOf)(e),this.fromFieldDef(e))}structDef(){let e=this.fromStruct.parameters||{};if(this.final===void 0){this.final={...this.fromStruct,fields:[]};let t=[],r=[],i=[],s=[];for(let[a,c]of this.entries())c instanceof Ll.StructSpaceField?r.push([a,c]):c instanceof Ll.QueryField?i.push([a,c]):c instanceof Ll.SpaceField?t.push([a,c]):c instanceof Ll.SpaceParam&&(e[a]=c.parameter());let o=[...t,...r,...i];for(let[a,c]of o)if(c instanceof Ll.JoinSpaceField){let d=c.join.structDef();a1.ErrorFactory.isErrorStructDef(d)||(this.final.fields.push(d),s.push([c.join,d]))}else{let d=c.fieldDef();if(d)this.final.fields.push(d);else throw new Error(`'${a}' doesn't have a FieldDef`)}Object.entries(e).length>0&&(this.final.parameters=e);for(let[a,c]of s)a.fixupJoinOn(this,c)}return this.isComplete(),this.final}};Vu.DynamicSpace=fC;var qie=class extends fC{constructor(e,t){let r=new jie(e);super(r.structDef);this.result=t,this.extendList=[]}extendSource(e){this.addField(e),e instanceof a1.Join?this.extendList.push(e.name.refString):this.extendList.push(e.defineName)}};Vu.QuerySpace=qie;var WD=class extends fC{constructor(e){super(e.emptyStructDef());this.queryInputSpace=e,this.exprSpace=new qie(e,this)}log(e){this.astEl&&this.astEl.log(e)}addMembers(e){for(let t of e)t instanceof a1.FieldReference?this.addReference(t):t instanceof a1.WildcardFieldReference?this.addWild(t):this.addField(t)}addReference(e){let t=e.outputName;this.entry(t)?e.log(`Output already has a field named '${t}'`):this.setEntry(t,new Ll.ReferenceField(e))}addWild(e){this.setEntry(e.refString,new Ll.WildSpaceField(e.refString))}checkUngroup(e,t){if(!this.entry(e.refString))if(t&&this.exprSpace.nestParent){let r=this.exprSpace.nestParent;r.whenComplete(()=>{r.result.checkUngroup(e,t)})}else{let r=t?"exclude()":"all()";e.log(`${r} '${e.refString}' is missing from query output`)}}addQueryItems(...e){for(let t of e)if(t instanceof a1.FieldReference||t instanceof a1.NestReference)this.addReference(t);else if(t instanceof a1.FieldDeclaration)this.addField(t);else if((0,a1.isNestedQuery)(t)){let r=new Ll.QueryFieldAST(this,t,t.name);r.nestParent=this.exprSpace,this.setEntry(t.name,r)}else{let r=t}}canContain(e){return!0}queryFieldDefs(){let e=[];for(let[t,r]of this.entries())if(r instanceof Ll.SpaceField){let i=r.getQueryFieldDef(this.exprSpace);if(i)this.canContain(i)?e.push(i):this.log(`'${t}' not legal in ${this.segmentType}`);else throw new Error(`'${t}' does not have a QueryFieldDef`)}return this.isComplete(),e}getQuerySegment(e){let t=this.getPipeSegment(e);if(Bie.isQuerySegment(t))return t;throw new Error("TODO NOT POSSIBLE")}getPipeSegment(e){if(this.segmentType=="index")throw new Error("INDEX FIELD PIPE SEGMENT MIS HANDLED");if(e==null?void 0:e.extendSource)for(let r of e.extendSource)this.exprSpace.addFieldDef(r);let t={type:this.segmentType,fields:this.queryFieldDefs()};if(t.fields=(0,CU.mergeFields)(e==null?void 0:e.fields,t.fields),(e==null?void 0:e.extendSource)&&(t.extendSource=e.extendSource),this.exprSpace.extendList.length>0){let r=[],i=this.exprSpace.structDef();for(let s of this.exprSpace.extendList){let o=i.fields.find(a=>(0,CU.nameOf)(a)==s);o&&r.push(o)}t.extendSource=(0,CU.mergeFields)(t.extendSource,r)}return this.isComplete(),t}};Vu.ResultSpace=WD;var EEe=class extends WD{constructor(){super(...arguments);this.segmentType="reduce"}};Vu.ReduceFieldSpace=EEe;var SEe=class extends WD{constructor(){super(...arguments);this.segmentType="project"}canContain(e){if(typeof e!="string"){if(Bie.isFilteredAliasedName(e))return!0;if(e.type==="turtle")return this.log("Cannot nest queries in project"),!1;if(e.aggregate)return this.log("Cannot add aggregate measures to project"),!1}return!0}};Vu.ProjectFieldSpace=SEe;var CEe=class extends WD{constructor(){super(...arguments);this.segmentType="index",this.fieldList=new Set}addReference(e){e.getField(this.exprSpace).found&&this.fieldList.add(e.refString)}addWild(e){this.fieldList.add(e.refString)}getPipeSegment(e){if(e&&e.fields)for(let t of e.fields)typeof t=="string"&&this.fieldList.add(t);return this.isComplete(),{type:"index",fields:Array.from(this.fieldList.values())}}};Vu.IndexFieldSpace=CEe;var wEe=class{constructor(e,t){this.realFS=e,this.circular=t,this.type="fieldSpace",this.foundCircle=!1}structDef(){return this.realFS.structDef()}emptyStructDef(){return this.realFS.emptyStructDef()}lookup(e){return e[0]&&e[0].refString===this.circular.defineName?(this.foundCircle=!0,{error:`Circular reference to '${this.circular.defineName}' in definition`,found:void 0}):this.realFS.lookup(e)}dialectObj(){return this.realFS.dialectObj()}whenComplete(e){this.realFS.whenComplete(e)}};Vu.DefSpace=wEe});var AEe=we(dC=>{"use strict";m();var clt=dC&&dC.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(dC,"__esModule",{value:!0});dC.makeSQLBlock=void 0;var flt=clt(BZ());function dlt(n){let e={type:"sqlBlock",name:`md5:/${n.connection||"$default"}//${(0,flt.default)(n.select)}`,select:n.select};return n.before&&(e.before=n.before),n.after&&(e.after=n.after),n.connection&&(e.connection=n.connection),e}dC.makeSQLBlock=dlt});var AU=we(L0=>{"use strict";m();Object.defineProperty(L0,"__esModule",{value:!0});L0.timeLiteral=L0.timeResult=L0.resolution=L0.castDateToTimestamp=L0.castTimestampToDate=L0.castTo=L0.timeOffset=void 0;function hlt(n,e,t,r,i){return[{type:"dialect",function:"delta",base:{valueType:n,value:e},op:t,delta:r,units:i}]}L0.timeOffset=hlt;function plt(n,e,t=!1){return[{type:"dialect",function:"cast",dstType:n,expr:e,safe:t}]}L0.castTo=plt;function mlt(n,e=!1){return[{type:"dialect",function:"cast",dstType:"date",srcType:"timestamp",expr:n,safe:e}]}L0.castTimestampToDate=mlt;function xlt(n,e=!1){return[{type:"dialect",function:"cast",dstType:"timestamp",srcType:"date",expr:n,safe:e}]}L0.castDateToTimestamp=xlt;function glt(n){switch(n){case"hour":case"minute":case"second":case"microsecond":case"millisecond":return"timestamp"}return"date"}L0.resolution=glt;function ylt(n,e){return e?{...n,timeframe:e}:n}L0.timeResult=ylt;function vlt(n,e,t){return[{type:"dialect",function:"timeLiteral",literal:n,literalType:e,timezone:t}]}L0.timeLiteral=vlt});var e7e=we(cr=>{"use strict";m();var _lt=cr&&cr.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),blt=cr&&cr.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Elt=cr&&cr.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&_lt(e,n,t);return blt(e,n),e};Object.defineProperty(cr,"__esModule",{value:!0});cr.FullQuery=cr.TurtleHeadedPipe=cr.ExistingQuery=cr.Index=cr.Turtles=cr.Limit=cr.Ordering=cr.OrderBy=cr.WildcardFieldReference=cr.RenameField=cr.PrimaryKey=cr.Document=cr.QOPDesc=cr.Aggregate=cr.GroupBy=cr.FieldListEdit=cr.ProjectStatement=cr.isFieldCollectionMember=cr.FieldReferences=cr.FieldReference=cr.FieldName=cr.Renames=cr.Dimensions=cr.Measures=cr.DeclareFields=cr.Filter=cr.FilterElement=cr.ExploreDesc=cr.isExploreProperty=cr.isQueryProperty=cr.Joins=cr.ExpressionJoin=cr.KeyJoin=cr.Join=cr.QuerySource=cr.SQLSource=cr.NamedSource=cr.ModelEntryReference=cr.IsValueBlock=cr.TableSource=cr.RefinedExplore=cr.DefineSourceList=cr.DefineExplore=cr.isDocStatement=cr.Mallobj=cr.isExploreField=cr.Unimplemented=cr.ListOf=cr.MalloyElement=cr.ErrorFactory=void 0;cr.SampleProperty=cr.SQLStatement=cr.ConstantParameter=cr.HasParameter=cr.ImportStatement=cr.JSONStructDef=cr.JSONElement=cr.Top=cr.AnonymousQuery=cr.DefineQuery=cr.DefineQueryList=cr.isQueryElement=cr.Nests=cr.isNestedQuery=cr.NestDefinition=cr.NestRefinement=cr.NestReference=cr.TurtleDecl=void 0;var TEe=YT(),ny=Elt(r2()),Slt=zZ(),fx=SU(),M6=H5(),Clt=EU(),wlt=AEe(),Alt=p4(),Tlt=AU(),FEe={type:"struct",name:"~malformed~",dialect:"~malformed~",structSource:{type:"table",tablePath:"//undefined_error_table_path"},structRelationship:{type:"basetable",connectionName:"//undefined_error_connection"},fields:[]},_d=class{static get structDef(){return{...FEe}}static isErrorStructDef(e){return e.name.includes(FEe.name)}static get query(){return{structRef:_d.structDef,pipeline:[]}}static get reduceSegment(){return{type:"reduce",fields:[]}}static get projectSegment(){return{type:"project",fields:[]}}static get indexSegment(){return{type:"index",fields:[]}}};cr.ErrorFactory=_d;function Uie(n,e,t){if(!_d.isErrorStructDef(e))try{return Slt.Segment.nextStructDef(e,t)}catch(i){n.log(`INTERNAL ERROR model/Segment.nextStructDef: ${i.message}
QUERY: ${(0,Alt.inspect)(t,{breakLength:72,depth:1/0})}`)}return{..._d.structDef,dialect:e.dialect}}var ua=class{constructor(e){this.children={},this.parent=null,this.logged=new Set,e&&this.has(e)}has(e){for(let t in e){let r=e[t];if(r!==void 0)if(this.children[t]=r,r instanceof ua)r.parent=this;else for(let i of r)i.parent=this}}get location(){return this.codeLocation?this.codeLocation:this.parent?this.parent.location:{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}set location(e){this.codeLocation=e}namespace(){if(this instanceof Vie)return this;if(this.parent)return this.parent.namespace();throw new Error("INTERNAL ERROR: Translation without document scope")}modelEntry(e){var t;let r=e instanceof P6?e.name:e,i=(t=this.namespace())===null||t===void 0?void 0:t.getEntry(r);return e instanceof P6&&((i==null?void 0:i.entry.type)==="query"?this.addReference({type:"queryReference",text:r,definition:i.entry,location:e.location}):(i==null?void 0:i.entry.type)==="struct"?this.addReference({type:"exploreReference",text:r,definition:i.entry,location:e.location}):(i==null?void 0:i.entry.type)==="sqlBlock"&&this.addReference({type:"sqlBlockReference",text:r,definition:i.entry,location:e.location})),i}translator(){if(this.xlate)return this.xlate;if(this.parent)return this.parent.translator()}setTranslator(e){this.xlate=e}addReference(e){var t;(t=this.translator())===null||t===void 0||t.addReference(e)}get sourceURL(){let e=this.translator();return(e==null?void 0:e.sourceURL)||"(missing)"}errorsExist(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.logger;return t?t.hasErrors():!0}log(e){if(this.codeLocation){if(this.logged.has(e))return;this.logged.add(e)}let t=this.translator(),r={at:this.location,message:e},i=t==null?void 0:t.root.logger;if(i){i.log(r);return}throw new Error(`Translation error (without error reporter):
${JSON.stringify(r,null,2)}`)}toString(){return this.stringify("",0)}stringify(e,t){let r=" ".repeat(t),i=`${r}${e}<${this.elementType}>${this.varInfo()}`;for(let s of Object.keys(this.children)){let o=this.children[s];o instanceof ua?i+=`
`+o.stringify(`${s}: `,t+2):(i+=`
${r}  ${s}: [`,o.length>0&&(i+=`
`+o.map(a=>a.stringify("",t+4)).join(`
`)+`
${r}  `),i+="]")}return i}walk(e){e(this);for(let t of Object.keys(this.children)){let r=this.children[t];if(r instanceof ua)r.walk(e);else for(let i of r)i.walk(e)}}varInfo(){let e="";for(let[t,r]of Object.entries(this))t!=="elementType"&&(typeof r=="boolean"?e+=r?` ${t}`:` !${t}`:(typeof r=="string"||typeof r=="number")&&(e+=` ${t}=${r}`));return e}internalError(e){return this.log(`INTERNAL ERROR IN TRANSLATION: ${e}`),new Error(e)}};cr.MalloyElement=ua;var xf=class extends ua{constructor(e,t){super();this.elementType="genericElementList",this.elements=t,this.elementType==="genericElementList"&&(this.elementType=e),this.newContents()}newContents(){this.has({[this.elementType]:this.elements})}get list(){return this.elements}empty(){return this.elements.length===0}notEmpty(){return this.elements.length>0}push(...e){return this.elements.push(...e),this.newContents(),this.elements}};cr.ListOf=xf;var DEe=class extends ua{constructor(){super(...arguments);this.elementType="unimplemented",this.reported=!1}};cr.Unimplemented=DEe;function Flt(n,e){return n.fields.find(t=>(t.as||t.name)===e)}function Dlt(n){return n instanceof M6.FieldDeclaration||n instanceof QD||n instanceof eO||n instanceof XD}function Olt(n){return Dlt(n)||n instanceof Wie}cr.isExploreField=Olt;var V5=class extends ua{structRef(){return this.structDef()}withParameters(e){let t=this.structDef();if(e){let r={...t.parameters||{}};for(let i of e){let s=i.parameter();r[s.name]=s}return{...t,parameters:r}}return t}};cr.Mallobj=V5;var OEe=class extends V5{constructor(e){super();this.fromRef=e,this.elementType="internalOnlyQueryHead"}structRef(){return this.fromRef}structDef(){if(ny.refIsStructDef(this.fromRef))return this.fromRef;let e=new TU(this.fromRef);return this.has({exploreReference:e}),e.structDef()}};function Nlt(n){return n.execute!==void 0}cr.isDocStatement=Nlt;var NEe=class extends ua{constructor(e,t,r,i){super({explore:t});if(this.name=e,this.mallobj=t,this.exported=r,this.elementType="defineExplore",i){this.parameters=[];for(let s of i)s instanceof MU?this.parameters.push(s):this.log(`Unexpected element type in define statement: ${s.elementType}`);this.has({parameters:this.parameters})}}execute(e){if(e.modelEntry(this.name))this.log(`Cannot redefine '${this.name}'`);else{let t=this.mallobj.withParameters(this.parameters);if(_d.isErrorStructDef(t))return;e.setEntry(this.name,{entry:{...t,as:this.name,location:this.location},exported:this.exported})}}};cr.DefineExplore=NEe;var REe=class extends xf{constructor(e){super("defineSources",e);this.has({sourceList:e})}execute(e){for(let t of this.list)t.execute(e)}};cr.DefineSourceList=REe;var LEe=class extends V5{constructor(e,t){super({source:e,refinement:t});this.source=e,this.refinement=t,this.elementType="refinedExplore"}structDef(){return this.withParameters([])}withParameters(e){let t,r,i=[],s=[];for(let b of this.refinement.list){let C=b;b instanceof RU?(t&&(t.log("Primary key already defined"),b.log("Primary key redefined")),t=b):b instanceof NU?(r&&(r.log("Too many accept/except statements"),b.log("Too many accept/except statements")),r=b):b instanceof Q5||b instanceof hC||b instanceof XD||b instanceof FU?i.push(...b.list):b instanceof W5?s.push(b):C.log(`Unexpected explore property: '${C.elementType}'`)}let o=(0,TEe.cloneDeep)(this.source.structDef());t&&(o.primaryKey=t.field.name);let a=fx.DynamicSpace.filteredFrom(o,r);if(a.addField(...i),e&&a.addParameters(e),t){let b=t.field.getField(a);b.error&&t.log(b.error)}let c=a.structDef(),d=c.filterList||[],p=!1;for(let b of s)for(let C of b.list){let N=C.filterExpression(a);N.aggregate?C.log("Can't use aggregate computations in top level filters"):(d.push(N),p=!0)}return p?{...c,filterList:d}:c}};cr.RefinedExplore=LEe;var kEe=class extends V5{constructor(e){super();this.name=e,this.elementType="tableSource"}structDef(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.schemaZone.getEntry(this.name),r=`Schema read failure for table '${this.name}'`;if(t){if(t.status=="present")return t.value.location=this.location,t.value.fields.forEach(i=>i.location=this.location),{...t.value,fields:t.value.fields.map(i=>({...i,location:this.location})),location:this.location};t.status=="error"&&(r=t.message.includes(this.name)?`'Schema error: ${t.message}`:`Schema error '${this.name}': ${t.message}`)}return this.log(r),_d.structDef}};cr.TableSource=kEe;var $ie=class extends ua{constructor(e){super();this.isMap=e,this.elementType="isValueBlock",this.has(e)}};cr.IsValueBlock=$ie;var P6=class extends ua{constructor(e){super();this.name=e,this.elementType="modelEntryReference"}get refString(){return this.name}toString(){return this.refString}};cr.ModelEntryReference=P6;var TU=class extends V5{constructor(e,t={}){super();this.ref=e,this.elementType="namedSource",t&&Object.keys(t).length>0&&(this.isBlock=new $ie(t),this.has({parameterValues:this.isBlock})),e instanceof P6&&this.has({ref:e})}get refName(){return this.ref instanceof P6?this.ref.name:this.ref}structRef(){return this.isBlock?this.structDef():this.refName}modelStruct(){var e;let t=(e=this.modelEntry(this.ref))===null||e===void 0?void 0:e.entry;if(!t){let r=`Undefined source '${this.refName}'`;(this.ref instanceof P6?this.ref:this).log(r);return}if(t.type==="query"){this.log(`Must use 'from()' to explore query '${this.refName}`);return}else if(t.type==="sqlBlock"){this.log(`Must use 'from_sql()' to explore sql query '${this.refName}`);return}return{...t}}structDef(){var e;let t=this.modelStruct();if(!t){let s=_d.structDef,o=`${this.refName}-undefined`;return s.name=s.name+o,s.dialect=s.dialect+o,s}let r={...t.parameters},i=((e=this.isBlock)===null||e===void 0?void 0:e.isMap)||{};for(let[s,o]of Object.entries(i)){let a=r[s];if(!a)this.log(`Value given for undeclared parameter '${s}`);else if(ny.isValueParameter(a))if(a.constant)o.log(`Cannot override constant parameter ${s}`);else{let c=o.constantValue(),d=c.value;c.dataType!==a.type&&(d=(0,Tlt.castTo)(a.type,c.value,!0)),a.value=d}else a.condition=o.constantCondition(a.type).value}for(let s in t.parameters)ny.paramHasValue(r[s])||this.log(`Value not provided for required parameter ${s}`);return t}};cr.NamedSource=TU;var IEe=class extends TU{constructor(){super(...arguments);this.elementType="sqlSource"}structRef(){return this.structDef()}modelStruct(){var e,t;let r=(e=this.modelEntry(this.ref))===null||e===void 0?void 0:e.entry;if(!r){this.log(`Undefined from_sql source '${this.refName}'`);return}if(r.type==="query"){this.log(`Cannot use 'from_sql()' to explore query '${this.refName}'`);return}else if(r.type==="struct"){this.log(`Cannot use 'from_sql()' to explore '${this.refName}'`);return}let i=(t=this.translator())===null||t===void 0?void 0:t.root.sqlQueryZone;if(!i){this.log(`Cant't look up schema for sql block '${this.refName}'`);return}if(r.type=="sqlBlock"){let s=r.name,o=i.getEntry(s),a=`Schema read failure for sql query '${this.refName}'`;if(o){if(o.status=="present"){let c=o.value;return{...c,fields:c.fields.map(d=>({...d,location:r.location}))}}o.status=="error"&&(a=o.message.includes(this.refName)?`'Schema error: ${o.message}`:`Schema error '${this.refName}': ${o.message}`),this.log(a)}}else this.log(`Mis-typed definition for'${this.refName}'`)}};cr.SQLSource=IEe;var MEe=class extends V5{constructor(e){super({query:e});this.query=e,this.elementType="querySource"}structDef(){let e=this.query.queryComp(),t=e.outputStruct;return t.structSource={type:"query",query:e.query},t}};cr.QuerySource=MEe;var QD=class extends ua{};cr.Join=QD;var PEe=class extends QD{constructor(e,t,r){super({name:e,source:t,keyExpr:r});this.name=e,this.source=t,this.keyExpr=r,this.elementType="joinOnKey"}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:"one",onExpression:["('join fixup'='not done yet')"]},location:this.location};return e.structSource.type==="query"?t.name=this.name.refString:t.as=this.name.refString,t}fixupJoinOn(e,t){let r=this.keyExpr.getExpression(e);if(t.primaryKey){let i=t.fields.find(s=>(s.as||s.name)===t.primaryKey);if(i)if(i.type===r.dataType){t.structRelationship={type:"one",onExpression:[{type:"field",path:`${this.name}.${t.primaryKey}`},"=",...r.value]};return}else this.log(`join_one: with type mismatch with primary key: ${r.dataType}/${i.type}`);else this.log(`join_one: Primary key '${i}' not found in source`)}else this.log("join_one: Cannot use with unless source has a primary key")}};cr.KeyJoin=PEe;var BEe=class extends QD{constructor(e,t){super({name:e,source:t});this.name=e,this.source=t,this.elementType="joinOnExpr",this.joinType="one"}set joinOn(e){this.expr=e,this.has({on:e})}get joinOn(){return this.expr}fixupJoinOn(e,t){if(this.expr==null)return;let r=this.expr.getExpression(e);if(r.dataType!=="boolean"){this.log("join conditions must be boolean expressions");return}let i=t.structRelationship;ny.isJoinOn(i)&&(i.onExpression=(0,M6.compressExpr)(r.value))}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:this.joinType},location:this.location};return e.structSource.type==="query"?(t.name=this.name.refString,delete t.as):t.as=this.name.refString,t}};cr.ExpressionJoin=BEe;var hC=class extends xf{constructor(e){super("joinList",e)}};cr.Joins=hC;function Rlt(n){return n instanceof KD||n instanceof nO||n instanceof JD||n instanceof W5||n instanceof ZD||n instanceof PU||n instanceof hC||n instanceof Q5||n instanceof GD||n instanceof YD||n instanceof tO||kU(n)||n instanceof pC}cr.isQueryProperty=Rlt;function Llt(n){return n instanceof W5||n instanceof hC||n instanceof Q5||n instanceof NU||n instanceof FU||n instanceof RU||n instanceof XD}cr.isExploreProperty=Llt;var jEe=class extends xf{constructor(e){super("exploreDesc",e)}};cr.ExploreDesc=jEe;var qEe=class extends ua{constructor(e,t){super({expr:e});this.expr=e,this.exprSrc=t,this.elementType="filterElement"}filterExpression(e){let t=this.expr.getExpression(e);if(t.dataType!=="boolean")return this.expr.log("Filter expression must have boolean value"),{code:this.exprSrc,expression:["_FILTER_MUST_RETURN_BOOLEAN_"]};let r={code:this.exprSrc,expression:(0,M6.compressExpr)(t.value)};return t.aggregate&&(r.aggregate=!0),r}};cr.FilterElement=qEe;var W5=class extends xf{constructor(e=[]){super("filterElements",e);this.elementType="filter"}set having(e){this.elementType=e?"having":"where"}getFilterList(e){let t=[];for(let r of this.list){let i=r.filterExpression(e);if(this.havingClause!==void 0){if(this.havingClause){if(!i.aggregate){r.log("Aggregate expression expected in HAVING filter");continue}}else if(i.aggregate){r.log("Aggregate expression not allowed in WHERE");continue}}t.push(i)}return t}};cr.Filter=W5;var Q5=class extends xf{constructor(e,t="declare"){super(t,e)}};cr.DeclareFields=Q5;var zie=class extends Q5{constructor(e){super(e,"measure");for(let t of e)t.isMeasure=!0}};cr.Measures=zie;var UEe=class extends Q5{constructor(e){super(e,"dimension");for(let t of e)t.isMeasure=!1}};cr.Dimensions=UEe;var FU=class extends xf{constructor(e){super("renameField",e)}};cr.Renames=FU;var DU=class extends ua{constructor(e){super();this.name=e,this.elementType="fieldName"}get refString(){return this.name}toString(){return this.refString}getField(e){return e.lookup([this])}};cr.FieldName=DU;var OU=class extends xf{constructor(e){super("fieldReference",e);this.elementType="fieldReference"}get refString(){return this.list.map(e=>e.refString).join(".")}get outputName(){return this.list[this.list.length-1].refString}get sourceString(){if(this.list.length>1)return this.list.slice(0,-1).map(e=>e.refString).join(".")}get nameString(){return this.list[this.list.length-1].refString}getField(e){return e.lookup(this.list)}};cr.FieldReference=OU;var $Ee=class extends xf{constructor(e){super("fieldReferenceList",e)}};cr.FieldReferences=$Ee;function klt(n){return n instanceof OU||n instanceof Qie||n instanceof M6.FieldDeclaration}cr.isFieldCollectionMember=klt;var GD=class extends xf{constructor(e){super("fieldCollection",e)}};cr.ProjectStatement=GD;var NU=class extends ua{constructor(e,t){super({refs:t});this.edit=e,this.refs=t,this.elementType="fieldListEdit"}};cr.FieldListEdit=NU;var pC=class extends xf{constructor(e){super("groupBy",e);for(let t of e)t instanceof M6.FieldDeclaration&&(t.isMeasure=!1)}};cr.GroupBy=pC;var YD=class extends xf{constructor(e){super("aggregate",e);for(let t of e)t instanceof M6.FieldDeclaration&&(t.isMeasure=!0)}};cr.Aggregate=YD;var Hie=class{constructor(e){this.filters=[],this.resultFS=this.getResultSpace(e),this.inputFS=this.resultFS.exprSpace}getResultSpace(e){return new fx.ReduceFieldSpace(e)}execute(e){if(e instanceof pC||e instanceof YD||e instanceof tO)this.resultFS.addQueryItems(...e.list);else if(kU(e))this.resultFS.addQueryItems(e);else if(e instanceof W5)this.filters.push(...e.getFilterList(this.inputFS));else if(e instanceof nO)this.limit?e.log("Query operation already limited"):this.limit=e.limit,e.by&&(this.order?e.log("Query operation is already sorted"):this.order=e);else if(e instanceof JD)this.limit?e.log("Query operation already limited"):this.limit=e.limit;else if(e instanceof KD)this.order?e.log("Query operation already sorted"):this.order=e;else if(e instanceof hC||e instanceof Q5)for(let t of e.list)this.inputFS.extendSource(t)}refineFrom(e,t){if(e&&e.type!=="index"&&(this.order||(e.orderBy?t.orderBy=e.orderBy:e.by&&(t.by=e.by)),!this.limit&&e.limit&&(t.limit=e.limit)),this.limit&&(t.limit=this.limit),this.order instanceof nO){let i=this.order.getBy(this.inputFS);i&&(t.by=i)}this.order instanceof KD&&(t.orderBy=this.order.getOrderBy(this.inputFS));let r=(e==null?void 0:e.filterList)||[];this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters])}finalize(e){let t;if(e)if(ny.isReduceSegment(e))t=e;else return this.inputFS.result.log(`Can't refine reduce with ${e.type}`),_d.reduceSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}},zEe=class extends Hie{getResultSpace(e){return new fx.ProjectFieldSpace(e)}execute(e){e instanceof GD?this.resultFS.addMembers(e.list):e instanceof W5&&e.elementType==="having"||e instanceof zie||e instanceof pC?e.log("Illegal statement in a project query operation"):super.execute(e)}finalize(e){let t;if(e)if(ny.isProjectSegment(e))t=e;else return this.resultFS.log(`Can't refine project with ${e.type}`),_d.projectSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}},HEe=class{constructor(e){this.filters=[],this.resultFS=new fx.IndexFieldSpace(e),this.inputFS=this.resultFS.exprSpace}execute(e){e instanceof W5?this.filters.push(...e.getFilterList(this.inputFS)):e instanceof JD?(this.limit&&this.limit.log("Ignored, too many limit: statements"),this.limit=e):e instanceof ZD?(this.resultFS.addMembers(e.fields.list),e.weightBy&&(this.indexOn&&this.indexOn.log("Ignoring previous BY"),this.indexOn=e.weightBy)):e instanceof PU?this.sample=e.sampling():e.log("Not legal in an index query operation")}finalize(e){if(e&&e.type!=="index")return this.resultFS.log(`Can't refine index with ${e.type}`),_d.indexSegment;let t=this.resultFS.getPipeSegment(e),r=(e==null?void 0:e.filterList)||[];return this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters]),(e==null?void 0:e.limit)&&(t.limit=e.limit),this.limit&&(t.limit=this.limit.limit),this.indexOn&&(t.weightMeasure=this.indexOn.refString),(e==null?void 0:e.sample)&&(t.sample=e.sample),this.sample&&(t.sample=this.sample),t}},VEe=class extends xf{constructor(e){super("queryOperator",e);this.opType="grouping"}computeType(){let e;this.refineThis&&(this.refineThis.type=="reduce"?e="grouping":e=this.refineThis.type);let t=!1;for(let i of this.list)i instanceof ZD?(e||(e="index"),e!=="index"&&i.log(`index: not legal in ${e} query`)):i instanceof tO||kU(i)||i instanceof pC?(e||(e="grouping"),t=!0,(e==="project"||e==="index")&&i.log(`group_by: not legal in ${e} query`)):i instanceof YD?(e||(e="aggregate"),(e==="project"||e==="index")&&i.log(`aggregate: not legal in ${e} query`)):i instanceof GD&&(e||(e="project"),e!=="project"&&i.log(`project: not legal in ${e} query`));e==="aggregate"&&t&&(e="grouping"),e||this.log("Can't determine query type (group_by/aggregate/nest,project,index)");let r=e||"grouping";return this.opType=r,r}refineFrom(e){this.refineThis=e}getExecutor(e){switch(this.computeType()){case"aggregate":case"grouping":return new Hie(e);case"project":return new zEe(e);case"index":return new HEe(e)}}getOp(e,t){let r=this.getExecutor(e);(t==null?void 0:t.nestedInQuerySpace)&&(r.inputFS.nestParent=t.nestedInQuerySpace),r.resultFS.astEl=this;for(let s of this.list)r.execute(s);let i=r.finalize(this.refineThis);return{segment:i,outputSpace:()=>new fx.DynamicSpace(Uie(this,e.structDef(),i))}}};cr.QOPDesc=VEe;var Vie=class extends ua{constructor(e){super({statements:e});this.statements=e,this.elementType="document",this.documentModel={},this.queryList=[],this.sqlBlocks=[]}getModelDef(e){if(this.documentModel={},this.queryList=[],this.sqlBlocks=[],e)for(let r in e.contents){let i=e.contents[r];if(i.type=="struct"){let s=e.exports.includes(r);this.setEntry(r,{entry:i,exported:s})}}for(let r of this.statements){if(this.errorsExist())break;r.execute(this)}let t={name:"",exports:[],contents:{}};for(let r in this.documentModel){let i=this.documentModel[r].entry;(i.type==="struct"||i.type==="query")&&(this.documentModel[r].exported&&t.exports.push(r),t.contents[r]=(0,TEe.cloneDeep)(i))}return t}defineSQL(e,t){let r={...e,as:`$${this.sqlBlocks.length}`};if(t){if(this.getEntry(t))return!1;r.as=t,this.setEntry(t,{entry:r})}return this.sqlBlocks.push(r),!0}getEntry(e){return this.documentModel[e]}setEntry(e,t){this.documentModel[e]=t}};cr.Document=Vie;var RU=class extends ua{constructor(e){super({field:e});this.field=e,this.elementType="primary key"}};cr.PrimaryKey=RU;var Wie=class extends ua{constructor(e,t){super();this.newName=e,this.oldName=t,this.elementType="renameField",this.has({oldName:t})}};cr.RenameField=Wie;var Qie=class extends ua{constructor(e,t){super();this.joinPath=e,this.star=t,this.elementType="wildcardFieldReference",this.has({joinPath:e})}getFieldDef(){throw this.internalError("fielddef request from wildcard reference")}get refString(){return this.joinPath?`${this.joinPath.refString}.${this.star}`:this.star}};cr.WildcardFieldReference=Qie;var WEe=class extends ua{constructor(e,t){super();this.field=e,this.dir=t,this.elementType="orderBy",e instanceof DU&&this.has({field:e})}get modelField(){return typeof this.field=="number"?this.field:this.field.refString}getOrderBy(e){let t={field:this.modelField};return this.dir&&(t.dir=this.dir),t}};cr.OrderBy=WEe;var KD=class extends xf{constructor(e){super("ordering",e)}getOrderBy(e){return this.list.map(t=>t.getOrderBy(e))}};cr.Ordering=KD;var JD=class extends ua{constructor(e){super();this.limit=e,this.elementType="limit"}};cr.Limit=JD;var XD=class extends xf{constructor(e){super("turtleDeclarationList",e)}};cr.Turtles=XD;var ZD=class extends ua{constructor(e){super({fields:e});this.fields=e,this.elementType="index"}useWeight(e){this.has({weightBy:e}),this.weightBy=e}};cr.Index=ZD;function Ilt(n){return!!(n&&typeof n!="string"&&n.type==="turtle")}var Gie=class extends ua{constructor(){super(...arguments);this.elementType="pipelineDesc",this.qops=[]}refineHead(e){this.headRefinement=e,this.has({headRefinement:e})}addSegments(...e){this.qops.push(...e),this.has({segments:this.qops})}appendOps(e,t){let r=t,i;for(let s of this.qops){let o=e.length==0,a=s.getOp(r,o?this:null);i==null&&(i=[...e]),i.push(a.segment),r=a.outputSpace()}return{opList:i||e,structDef:r.structDef()}}refinePipeline(e,t){if(!this.headRefinement)return t;let r=[];if(t.pipeHead){let{pipeline:s}=this.expandTurtle(t.pipeHead.name,e.structDef());r.push(...s)}r.push(...t.pipeline);let i=r[0];return i&&this.headRefinement.refineFrom(i),r[0]=this.headRefinement.getOp(e,this).segment,{pipeline:r}}expandTurtle(e,t){let r=Flt(t,e);if(!r)this.log(`Query '${e}' is not defined in source`);else if(r.type!=="turtle")this.log(`'${e}' is not a query`);else return{pipeline:r.pipeline,location:r.location};return{pipeline:[],location:void 0}}getOutputStruct(e,t){for(let r of t)e=Uie(this,e,r);return e}},Yie=class extends Gie{set head(e){this._head=e,this.has({head:e})}get head(){return this._head}queryComp(){if(!this.head)throw this.internalError("can't make query from nameless query");let e=this.modelEntry(this.head),t=e==null?void 0:e.entry,r=function(){return{outputStruct:_d.structDef,query:_d.query}};if(!t)return this.log(`Reference to undefined query '${this.head}'`),r();if(t.type!=="query")return this.log(`Illegal reference to '${this.head}', query expected`),r();let i=new OEe(t.structRef);this.has({queryHead:i});let s=i.structDef(),o=new fx.DynamicSpace(s),a=this.refinePipeline(o,t),c=this.getOutputStruct(s,a.pipeline),d=this.appendOps(a.pipeline,new fx.DynamicSpace(c)),p={...a,pipeline:d.opList},b={type:"query",...p,structRef:i.structRef(),location:this.location};return{outputStruct:d.structDef,query:b}}query(){return this.queryComp().query}};cr.ExistingQuery=Yie;var LU=class extends Gie{set turtleName(e){this._turtleName=e,this.has({turtleName:e})}get turtleName(){return this._turtleName}};cr.TurtleHeadedPipe=LU;var Kie=class extends LU{constructor(e){super({explore:e});this.explore=e}queryComp(){let e=this.explore.structRef(),t={type:"query",structRef:e,pipeline:[],location:this.location},r=ny.refIsStructDef(e)?e:this.explore.structDef(),i=new fx.DynamicSpace(r);if(_d.isErrorStructDef(r))return{outputStruct:r,query:{structRef:e,pipeline:[]}};if(this.turtleName){let{error:o}=this.turtleName.getField(i);o&&this.log(o);let a=this.turtleName.refString,{pipeline:c,location:d}=this.expandTurtle(a,r);t.location=d;let p=this.refinePipeline(i,{pipeline:c}).pipeline;this.headRefinement?t.pipeline=p:t.pipeHead={name:a};let b=this.getOutputStruct(r,p);i=new fx.DynamicSpace(b)}let s=this.appendOps(t.pipeline,i);return t.pipeline=s.opList,{outputStruct:s.structDef,query:t}}query(){return this.queryComp().query}};cr.FullQuery=Kie;var eO=class extends LU{constructor(e){super();this.name=e}getPipeline(e){let t={pipeline:[]};if(this.turtleName){let s=this.turtleName.getField(e),o=!0;if(s.error)this.log(s.error),o=!1;else if(s.found instanceof Clt.QueryField){let a=s.found.getQueryFieldDef(e);if(Ilt(a)){let c=this.refinePipeline(e,a);t.pipeline=[...c.pipeline],o=!1}}o&&this.log(`Expected '${this.turtleName}' to be a query`)}else if(this.headRefinement)throw this.internalError("Can't refine the head of a turtle in its definition");let r=e;if(t.pipeline.length>0){let s=r.structDef();for(let o of t.pipeline)s=Uie(this,s,o);r=new fx.DynamicSpace(s)}let i=this.appendOps(t.pipeline,r);return t.pipeline=i.opList,t}getFieldDef(e,t){t&&(this.nestedInQuerySpace=t);let r=this.getPipeline(e);return{type:"turtle",name:this.name,...r,location:this.location}}};cr.TurtleDecl=eO;var Jie=class extends OU{constructor(e){super([e]);this.name=e,this.elementType="nestReference"}};cr.NestReference=Jie;var Xie=class extends eO{constructor(e){super(e.refString);this.elementType="nestRefinement",this.turtleName=e}};cr.NestRefinement=Xie;var Zie=class extends eO{constructor(e){super(e);this.elementType="nestDefinition"}};cr.NestDefinition=Zie;function kU(n){return n instanceof Xie||n instanceof Jie||n instanceof Zie}cr.isNestedQuery=kU;var tO=class extends xf{constructor(e){super("nestedQueries",e)}};cr.Nests=tO;function Mlt(n){return n instanceof Kie||n instanceof Yie}cr.isQueryElement=Mlt;var QEe=class extends xf{constructor(e){super("defineQueries",e);this.has({queryList:e})}execute(e){for(let t of this.list)t.execute(e)}};cr.DefineQueryList=QEe;var GEe=class extends ua{constructor(e,t){super({queryDetails:t});this.name=e,this.queryDetails=t,this.elementType="defineQuery"}execute(e){let t={...this.queryDetails.query(),type:"query",name:this.name,location:this.location},r=!1;e.setEntry(this.name,{entry:t,exported:r})}};cr.DefineQuery=GEe;var YEe=class extends ua{constructor(e){super();this.theQuery=e,this.elementType="anonymousQuery",this.has({query:e})}execute(e){let t=this.theQuery.query();e.queryList.push(t)}};cr.AnonymousQuery=YEe;var nO=class extends ua{constructor(e,t){super();this.limit=e,this.by=t,this.elementType="top",this.has({by:t})}getBy(e){if(this.by){if(this.by instanceof DU)return{by:"name",name:this.by.refString};{let t=this.by.getExpression(e);return t.aggregate||this.log("top by expression must be an aggregate"),{by:"expression",e:(0,M6.compressExpr)(t.value)}}}}};cr.Top=nO;var KEe=class extends ua{constructor(e){super();this.elementType="jsonElement";try{this.value=JSON.parse(e)}catch{this.log("JSON syntax error"),this.value=void 0}}};cr.JSONElement=KEe;var IU=class extends V5{constructor(e){super();this.struct=e,this.elementType="jsonStructDef"}static fromJSON(e){let t=e.value;if(t&&t.type==="struct"&&t.structRelationship&&t.structSource)return new IU(t)}structDef(){return this.struct}};cr.JSONStructDef=IU;var JEe=class extends ua{constructor(e,t){super();this.url=e,this.elementType="import statement";try{this.fullURL=decodeURI(new URL(e,t).toString())}catch{this.log("Invalid URI in import statement")}}execute(e){let t=this.translator();if(!t)this.log("Cannot import without translation context");else if(this.fullURL){let r=t.root.importZone.getEntry(this.fullURL);if(r.status==="present"){let i=t.getChildExports(this.fullURL);for(let s in i)e.setEntry(s,{entry:i[s],exported:!1})}else r.status==="error"?this.log(`import failed: '${r.message}'`):this.log(`import failed with status: '${r.status}'`)}}};cr.ImportStatement=JEe;var MU=class extends ua{constructor(e){super();this.elementType="hasParameter",this.name=e.name,this.isCondition=e.isCondition,e.type&&ny.isAtomicFieldType(e.type)&&(this.type=e.type),e.default&&(this.default=e.default,this.has({default:this.default}))}parameter(){var e,t;let r=this.name,i=this.type||"string";if(this.isCondition){let o=((e=this.default)===null||e===void 0?void 0:e.constantCondition(i).value)||null;return{type:i,name:r,condition:o}}return{value:((t=this.default)===null||t===void 0?void 0:t.constantValue().value)||null,type:i,name:this.name,constant:!1}}};cr.HasParameter=MU;var XEe=class extends MU{constructor(e,t){super({name:e,isCondition:!1});this.value=t,this.has({value:t})}parameter(){let e=this.value.constantValue();return ny.isAtomicFieldType(e.dataType)?{value:e.value,type:e.dataType,name:this.name,constant:!0}:(this.log(`Unexpected expression type '${e.dataType}'`),{value:["XXX-type-mismatch-error-XXX"],type:"string",name:this.name,constant:!0})}};cr.ConstantParameter=XEe;var ZEe=class extends ua{constructor(e){super();this.blockReq=e,this.elementType="sqlStatement"}sqlBlock(){let e=(0,wlt.makeSQLBlock)(this.blockReq);return e.location=this.location,e}execute(e){e.defineSQL(this.sqlBlock(),this.is)||this.log(`${this.is} already defined`)}};cr.SQLStatement=ZEe;var PU=class extends ua{constructor(e){super();this.sample=e,this.elementType="sampleProperty"}sampling(){return this.sample}};cr.SampleProperty=PU});var i7e=we(mC=>{"use strict";m();Object.defineProperty(mC,"__esModule",{value:!0});mC.nullsafeNot=mC.applyBinary=void 0;var BU=r2(),gf=H5();function Plt(n,e,t,r){if((0,gf.isEquality)(t))return qlt(n,e,t,r);if((0,gf.isComparison)(t))return Ult(n,e,t,r);if(ese(t,"+","-"))return $lt(n,e,t,r);if(ese(t,"*"))return r7e(n,e,t,r);if(ese(t,"/")){let i=e.getExpression(n),s=r.getExpression(n);if(i.dataType!="number")e.log("Numerator for division must be a number");else if(s.dataType!="number")r.log("Denominator for division must be a number");else{let o={type:"dialect",function:"div",numerator:i.value,denominator:s.value};return{dataType:"number",aggregate:i.aggregate||s.aggregate,value:[o]}}return(0,gf.errorFor)("divide type mismatch")}return e.log(`Canot use ${t} operator here`),(0,gf.errorFor)("applybinary bad operator")}mC.applyBinary=Plt;function ese(n,...e){return e.includes(n)}function Blt(n,...e){for(let t of e)if(t.dataType!==n)return!1;return!0}function t7e(n,e){if(n.dataType==="string"){if(e.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:n.value,regexp:e.value[0].replace(/^r'/,"'")}]}else if(e.dataType==="string"&&n.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:e.value,regexp:n.value[0].replace(/^r'/,"'")}]}function jlt(n,e,t){let r=e==="!="||e==="!~";if(n.dataType==="null"||t.dataType==="null"){let i=r?" NOT":"";return n.dataType!=="null"?[...n.value,` IS${i} NULL`]:t.dataType!=="null"?[...t.value,`IS${i} NULL`]:[r?"false":"true"]}}function n7e(n,e,t){if((0,BU.isTimeFieldType)(n.dataType)&&(0,BU.isTimeFieldType)(t.dataType)&&n.dataType!==t.dataType){let r=n.value,i=t.value;return n.dataType==="timestamp"?r=(0,gf.castTimestampToDate)(r):i=(0,gf.castTimestampToDate)(i),(0,gf.compose)(r,e,i)}}function tse(n,e){return e===void 0||e==="!="||e==="!~"?(0,BU.mkExpr)`COALESCE(NOT(${n}),FALSE)`:n}mC.nullsafeNot=tse;function qlt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=n7e(i,t,s)||(0,gf.compose)(i.value,t,s.value);if(i.dataType!="unknown"&&s.dataType!="unknown")switch(t){case"~":case"!~":{if(i.dataType==="string"&&s.dataType==="string")o=(0,gf.compose)(i.value,"LIKE",s.value);else{let a=t7e(i,s);if(a===void 0)throw new gf.TypeMistmatch("Incompatible types for match('~') operator");o=a}o=tse(o,t);break}case"=":case"!=":{let a=jlt(i,t,s);a?o=a:o=tse(t7e(i,s)||(0,gf.compose)(i.value,"=",s.value),t);break}}return{dataType:"boolean",aggregate:i.aggregate||s.aggregate,value:o}}function Ult(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=i.aggregate||s.aggregate,a=n7e(i,t,s)||(0,gf.compose)(i.value,t,s.value);return{dataType:"boolean",aggregate:o,value:a}}function r7e(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=i.aggregate||s.aggregate;return Blt("number",i,s)?{dataType:"number",aggregate:o,value:(0,gf.compose)(i.value,t,s.value)}:(e.log(`Non numeric('${i.dataType},${s.dataType}') value with '${t}'`),(0,gf.errorFor)("numbers required"))}function $lt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n);if((0,BU.isTimeFieldType)(i.dataType)){let o=r;if(s.dataType!=="duration")if((0,gf.isGranularResult)(i))o=new gf.ExprDuration(r,i.timeframe);else if(i.dataType==="date")o=new gf.ExprDuration(r,"day");else return e.log(`Can not offset time by '${s.dataType}'`),(0,gf.errorFor)(`time plus ${s.dataType}`);return o.apply(n,t,e)}return r7e(n,e,t,r)}});var U7e=we(Oi=>{"use strict";m();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.Pick=Oi.PickWhen=Oi.Range=Oi.TopBy=Oi.ExprCast=Oi.isCastType=Oi.ExprFilter=Oi.ExprCase=Oi.WhenClause=Oi.ExprUngroup=Oi.ExprSum=Oi.ExprAvg=Oi.ExprCount=Oi.ExprCountDistinct=Oi.ExprMax=Oi.ExprMin=Oi.ExprAlternationTree=Oi.ExprMulDiv=Oi.ExprAddSub=Oi.BinaryNumeric=Oi.ExprMinus=Oi.ExprParens=Oi.ExprNULL=Oi.ExprIdReference=Oi.ExprLogicalOp=Oi.BinaryBoolean=Oi.Boolean=Oi.ExprNot=Oi.ExprTime=Oi.ExprRegEx=Oi.ExprNumber=Oi.ExprString=Oi.TypeMistmatch=Oi.FieldDeclaration=Oi.ConstantSubExpression=Oi.ExpressionDef=void 0;var jU=r2(),qU=SU(),ci=H5(),s7e=i7e(),o7e=EU(),zlt=AU(),ou=class extends ci.MalloyElement{constructor(){super(...arguments);this.legalChildTypes=ci.FT.anyAtomicT}granular(){return!1}requestExpression(e){return this.getExpression(e)}defaultFieldName(){}typeCheck(e,t){return ci.FT.in(t,this.legalChildTypes)?!0:(e.log(`'${this.elementType}' Can't use type ${ci.FT.inspect(t)}`),!1)}apply(e,t,r){return(0,s7e.applyBinary)(e,r,t,this)}};Oi.ExpressionDef=ou;var a7e=class extends ou{constructor(e){super();this.refType=e,this.elementType="$"}getExpression(e){return{dataType:this.refType,value:[{type:"applyVal"}],aggregate:!1}}},u7e=class{constructor(){this.type="fieldSpace"}structDef(){throw new Error("ConstantFieldSpace cannot generate a structDef")}emptyStructDef(){throw new Error("ConstantFieldSpace cannot generate a structDef")}lookup(e){return{error:"Only constants allowed in parameter expressions",found:void 0}}dialectObj(){}whenComplete(e){e()}},l7e=class extends ou{constructor(e){super({expr:e});this.expr=e,this.elementType="constantExpression"}getExpression(e){return this.constantValue()}get constantFs(){return this.cfs||(this.cfs=new u7e),this.cfs}constantValue(){return this.expr.getExpression(this.constantFs)}constantCondition(e){let r=new ci.ExprCompare(new a7e(e),"=",this.expr).getExpression(this.constantFs);return{...r,value:(0,ci.compressExpr)(r.value)}}apply(e,t,r){return this.expr.apply(e,t,r)}requestExpression(e){return this.expr.requestExpression(e)}};Oi.ConstantSubExpression=l7e;var c7e=class extends ci.MalloyElement{constructor(e,t,r){super({expr:e});this.expr=e,this.defineName=t,this.exprSrc=r,this.elementType="fieldDeclaration"}fieldDef(e,t){return this.queryFieldDef(new qU.DefSpace(e,this),t)}queryFieldDef(e,t){let r;try{r=this.expr.getExpression(e)}catch(a){return this.log(`Cannot define '${t}', ${a.message}`),{name:`error_defining_${t}`,type:"string"}}let i=(0,ci.compressExpr)(r.value),s=r.dataType;if((0,jU.isAtomicFieldType)(s)){let a={name:t,type:s,location:this.location};return i.length>0&&(a.e=i),r.aggregate&&(a.aggregate=!0),this.exprSrc&&(a.code=this.exprSrc),(0,ci.isGranularResult)(r)&&a.type==="timestamp"&&(a.timeframe=r.timeframe),a}if(!(e instanceof qU.DefSpace&&e.foundCircle))if(r.dataType=="unknown")this.log(`Cannot define '${t}', value has unknown type`);else{let a=ci.FT.inspect(r);this.log(`Cannot define '${t}', unexpected type: ${a}`)}return{name:`error_defining_${t}`,type:"string"}}};Oi.FieldDeclaration=c7e;var f7e=class extends Error{};Oi.TypeMistmatch=f7e;var d7e=class extends ou{constructor(e){super();this.value=e,this.elementType="string literal"}getExpression(e){return{...ci.FT.stringT,value:[this.value]}}};Oi.ExprString=d7e;var h7e=class extends ou{constructor(e){super();this.n=e,this.elementType="numeric literal"}getExpression(e){return this.constantExpression()}constantExpression(){return{...ci.FT.numberT,value:[this.n]}}};Oi.ExprNumber=h7e;var p7e=class extends ou{constructor(e){super();this.regex=e,this.elementType="regular expression literal"}getExpression(){return{dataType:"regular expression",aggregate:!1,value:[`r'${this.regex}'`]}}};Oi.ExprRegEx=p7e;var UU=class extends ou{constructor(e,t,r=!1){super();this.elementType="timestampOrDate",this.elementType=e,this.translationValue={dataType:e,aggregate:r,value:typeof t=="string"?[t]:t}}getExpression(e){return this.translationValue}static fromValue(e,t){let r=t.value;if(e!=t.dataType){let i={type:"dialect",function:"cast",safe:!1,dstType:e,expr:t.value};(0,jU.isTimeFieldType)(t.dataType)&&(i.srcType=t.dataType),r=(0,ci.compressExpr)([i])}return new UU(e,r,t.aggregate)}};Oi.ExprTime=UU;var m7e=class extends ou{constructor(e){super({expr:e});this.expr=e}},x7e=class extends m7e{constructor(e){super(e);this.elementType="not",this.legalChildTypes=[ci.FT.boolT,ci.FT.nullT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?{...t,dataType:"boolean",value:(0,s7e.nullsafeNot)(t.value)}:(0,ci.errorFor)("not requires boolean")}};Oi.ExprNot=x7e;var g7e=class extends ou{constructor(e){super();this.value=e,this.elementType="boolean literal"}getExpression(){return{...ci.FT.boolT,value:[this.value]}}};Oi.Boolean=g7e;var $U=class extends ou{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="abstract boolean binary",this.legalChildTypes=[ci.FT.boolT]}getExpression(e){let t=this.left.getExpression(e),r=this.right.getExpression(e);return this.typeCheck(this.left,t)&&this.typeCheck(this.right,r)?{dataType:"boolean",aggregate:t.aggregate||r.aggregate,value:(0,ci.compose)(t.value,this.op,r.value)}:(0,ci.errorFor)("logial required boolean")}};Oi.BinaryBoolean=$U;var y7e=class extends $U{constructor(){super(...arguments);this.elementType="logical operator",this.legalChildTypes=[ci.FT.boolT,{...ci.FT.boolT,aggregate:!0}]}};Oi.ExprLogicalOp=y7e;var v7e=class extends ou{constructor(e){super();this.fieldReference=e,this.elementType="ExpressionIdReference",this.has({fieldPath:e})}get refString(){return this.fieldReference.refString}getExpression(e){let t=this.fieldReference.getField(e);if(t.found){let r=t.found.type(),i=r.type,s=!!r.aggregate,o=[{type:t.found.refType,path:this.refString}];return{dataType:i,aggregate:s,value:o}}return this.log(t.error),(0,ci.errorFor)(t.error)}apply(e,t,r){let i=this.fieldReference.getField(e).found;if(i instanceof o7e.SpaceParam){let s=i.parameter();if((0,jU.isConditionParameter)(s)){let o=r.getExpression(e);return{dataType:"boolean",aggregate:o.aggregate,value:[{type:"apply",value:o.value,to:[{type:"parameter",path:this.refString}]}]}}}return super.apply(e,t,r)}};Oi.ExprIdReference=v7e;var _7e=class extends ou{constructor(){super(...arguments);this.elementType="NULL"}getExpression(){return{dataType:"null",value:["NULL"],aggregate:!1}}};Oi.ExprNULL=_7e;var b7e=class extends ou{constructor(e){super({expr:e});this.expr=e,this.elementType="(expression)"}apply(e,t,r){return this.expr.apply(e,t,r)}requestExpression(e){return this.expr.requestExpression(e)}getExpression(e){let t=this.expr.getExpression(e);return{...t,value:["(",...t.value,")"]}}};Oi.ExprParens=b7e;var E7e=class extends ou{constructor(e){super({expr:e});this.expr=e,this.elementType="unary minus",this.legalChildTypes=[ci.FT.numberT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?t.value.length>1?{...t,value:["-(",...t.value,")"]}:{...t,value:["-",...t.value]}:(0,ci.errorFor)("negate requires number")}};Oi.ExprMinus=E7e;var zU=class extends ou{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="numeric binary abstract",this.legalChildTypes=[ci.FT.numberT]}getExpression(e){return this.right.apply(e,this.op,this.left)}};Oi.BinaryNumeric=zU;var S7e=class extends zU{constructor(){super(...arguments);this.elementType="+-"}};Oi.ExprAddSub=S7e;var C7e=class extends zU{constructor(){super(...arguments);this.elementType="*/"}};Oi.ExprMulDiv=C7e;var w7e=class extends $U{constructor(e,t,r){super(e,t,r);this.elementType="alternation",this.elementType=`${t}alternation${t}`}apply(e,t,r){let i=this.left.apply(e,t,r),s=this.right.apply(e,t,r);return{dataType:"boolean",aggregate:i.aggregate||s.aggregate,value:(0,ci.compose)(i.value,this.op==="&"?"and":"or",s.value)}}requestExpression(e){}getExpression(e){return this.log("Alternation tree has no value"),(0,ci.errorFor)("no value from alternation tree")}};Oi.ExprAlternationTree=w7e;var xC=class extends ou{constructor(e,t){super();this.func=e,this.legalChildTypes=[ci.FT.numberT],this.elementType=e,t&&(this.expr=t,this.has({expr:t}))}returns(e){return"number"}getExpression(e){var t,r;let i=(t=this.expr)===null||t===void 0?void 0:t.getExpression(e),s=(r=this.source)===null||r===void 0?void 0:r.refString;if(this.source){let o=this.source.getField(e).found;if(o){let a=o.type();if((0,jU.isAtomicFieldType)(a.type))i={dataType:a.type,aggregate:!!a.aggregate,value:[{type:"field",path:this.source.refString}]},s=this.source.sourceString;else if(!(o instanceof o7e.StructSpaceField))return this.log(`Aggregate source cannot be a ${a.type}`),(0,ci.errorFor)(`Aggregate source cannot be a ${a.type}`)}else return this.log(`Reference to undefined value ${this.source.refString}`),(0,ci.errorFor)(`Reference to undefined value ${this.source.refString}`)}if(i===void 0)return this.log("Missing expression for aggregate function"),(0,ci.errorFor)("agggregate without expression");if(this.typeCheck(this.expr||this,{...i,aggregate:!1})){let o={type:"aggregate",function:this.func,e:i.value};return s&&(o.structPath=s),{dataType:this.returns(i),aggregate:!0,value:[o]}}return(0,ci.errorFor)("aggregate type check")}},A7e=class extends xC{constructor(e){super("min",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}returns(e){return e.dataType}};Oi.ExprMin=A7e;var T7e=class extends xC{constructor(e){super("max",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}returns(e){return e.dataType}};Oi.ExprMax=T7e;var F7e=class extends xC{constructor(e){super("count_distinct",e);this.legalChildTypes=[ci.FT.numberT,ci.FT.stringT,ci.FT.dateT,ci.FT.timestampT]}};Oi.ExprCountDistinct=F7e;var nse=class extends xC{constructor(e,t,r){super(e,t);this.func=e,this.expr=t,this.source=r,this.has({source:r})}defaultFieldName(){if(this.source&&this.expr===void 0){let e=this.source.nameString;switch(this.func){case"sum":return`total_${e}`;case"avg":return`avg_${e}`}}}},D7e=class extends xC{constructor(e){super("count");this.source=e,this.elementType="count",this.has({source:e})}defaultFieldName(){if(this.source)return"count_"+this.source.nameString}getExpression(e){let t={type:"aggregate",function:"count",e:[]};return this.source&&(t.structPath=this.source.refString),{dataType:"number",aggregate:!0,value:[t]}}};Oi.ExprCount=D7e;var O7e=class extends nse{constructor(e,t){super("avg",e,t);this.has({source:t})}};Oi.ExprAvg=O7e;var N7e=class extends nse{constructor(e,t){super("sum",e,t);this.has({source:t})}};Oi.ExprSum=N7e;var R7e=class extends ou{constructor(e,t,r){super({expr:t,fields:r});this.control=e,this.expr=t,this.fields=r,this.legalChildTypes=ci.FT.anyAtomicT,this.elementType="ungroup"}returns(e){return"number"}getExpression(e){let t=this.expr.getExpression(e);if(!t.aggregate)return this.expr.log(`${this.control}() expression must be an aggregate`),(0,ci.errorFor)("ungrouped scalar");let r={type:this.control,e:t.value};if(this.typeCheck(this.expr,{...t,aggregate:!1})){if(this.fields.length>0){let i=e;if(e instanceof qU.DefSpace&&(i=e.realFS),!(i instanceof qU.QuerySpace))return this.log(`${this.control}() must be in a query -- weird internal error`),(0,ci.errorFor)("ungroup query check");let s=i.result,o=[],a=this.control=="exclude";for(let c of this.fields)s.whenComplete(()=>{s.checkUngroup(c,a)}),o.push(c.refString);r.fields=o}return{dataType:this.returns(t),aggregate:!0,value:[r]}}return this.log(`${this.control}() incompatible type`),(0,ci.errorFor)("ungrouped type check")}};Oi.ExprUngroup=R7e;var L7e=class extends ou{constructor(e,t){super({whenThis:e,thenThis:t});this.whenThis=e,this.thenThis=t,this.elementType="when clause"}getExpression(e){throw new Error("expression did something unxpected with 'WHEN'")}};Oi.WhenClause=L7e;var k7e=class extends ou{constructor(e,t){super({when:e});this.when=e,this.elseClause=t,this.elementType="case statement",this.has({elseClause:t})}getExpression(e){let t,r=!1,i=["CASE "];for(let s of this.when){let o=s.whenThis.getExpression(e),a=s.thenThis.getExpression(e);if(r||(r=o.aggregate||a.aggregate),a.dataType!=="null"){if(t&&!ci.FT.typeEq(t,a))return this.log(`Mismatched THEN clause types, ${ci.FT.inspect(t,a)}`),(0,ci.errorFor)("then typecheck");t=a}i.push("WHEN ",...o.value," THEN ",...a.value)}if(this.elseClause){let s=this.elseClause.getExpression(e);if(r||(r=s.aggregate),i.push(" ELSE ",...s.value),s.dataType!=="null"){if(t&&!ci.FT.typeEq(t,s))return this.log(`Mismatched ELSE clause type, ${ci.FT.inspect(t,s)}`),(0,ci.errorFor)("else typecheck");t=s}}return t===void 0?(this.log("case statement type not computable"),(0,ci.errorFor)("typeless case")):(i.push(" END"),{dataType:t.dataType,aggregate:r,value:i})}};Oi.ExprCase=k7e;var I7e=class extends ou{constructor(e,t){super({expr:e,filter:t});this.expr=e,this.filter=t,this.elementType="filtered expression",this.legalChildTypes=ci.FT.anyAtomicT}getExpression(e){let t=this.filter.getFilterList(e),r=this.expr.getExpression(e);for(let i of t)if(i.aggregate)return this.filter.log("Cannot filter a field with an aggregate computation"),(0,ci.errorFor)("no filter on aggregate");return r.aggregate?this.typeCheck(this.expr,{...r,aggregate:!1})?{...r,value:[{type:"filterExpression",e:r.value,filterList:t}]}:(this.expr.log(`Cannot filter '${r.dataType}' data`),(0,ci.errorFor)("cannot filter type")):r}};Oi.ExprFilter=I7e;function Hlt(n){return["string","number","boolean","date","timestamp"].includes(n)}Oi.isCastType=Hlt;var M7e=class extends ou{constructor(e,t,r=!1){super({expr:e});this.expr=e,this.castType=t,this.safe=r,this.elementType="cast"}getExpression(e){let t=this.expr.getExpression(e);return{dataType:this.castType,aggregate:t.aggregate,value:(0,ci.compressExpr)((0,zlt.castTo)(this.castType,t.value,this.safe))}}};Oi.ExprCast=M7e;var P7e=class extends ci.MalloyElement{constructor(e){super();this.by=e,this.elementType="topBy",e instanceof ou&&this.has({by:e})}getBy(e){if(this.by instanceof ou){let t=this.by.getExpression(e);return t.aggregate||this.log("top by expression must be an aggregate"),{by:"expression",e:(0,ci.compressExpr)(t.value)}}return{by:"name",name:this.by}}};Oi.TopBy=P7e;var B7e=class extends ou{constructor(e,t){super({first:e,last:t});this.first=e,this.last=t,this.elementType="range"}apply(e,t,r){switch(t){case"=":case"!=":{let i=t==="="?">=":"<",s=t==="="?"and":"or",o=t==="="?"<":">=",a=this.first.apply(e,i,r),c=this.last.apply(e,o,r);return{dataType:"boolean",aggregate:a.aggregate||c.aggregate,value:(0,ci.compose)(a.value,s,c.value)}}case">":return this.last.apply(e,">=",r);case">=":return this.first.apply(e,">=",r);case"<":return this.first.apply(e,"<",r);case"<=":return this.last.apply(e,"<",r)}throw new Error("mysterious error in range computation")}requestExpression(e){}getExpression(e){return(0,ci.errorFor)("a range is not a value")}};Oi.Range=B7e;var j7e=class extends ci.MalloyElement{constructor(e,t){super({when:t});this.pick=e,this.when=t,this.elementType="pickWhen",this.has({pick:e})}};Oi.PickWhen=j7e;var q7e=class extends ou{constructor(e,t){super({choices:e});this.choices=e,this.elsePick=t,this.elementType="pick",this.has({elsePick:t})}requestExpression(e){if(this.elsePick!==void 0){for(let t of this.choices){if(t.pick==null)return;let r=t.when.requestExpression(e);if(r==null||r.dataType!="boolean")return}return this.getExpression(e)}}apply(e,t,r){let i=["CASE"],s,o=!1;for(let d of this.choices){let p=d.when.apply(e,"=",r),b=d.pick?d.pick.getExpression(e):r.getExpression(e);if(o||(o=p.aggregate||b.aggregate),s){if(!ci.FT.typeEq(s,b,!0)){let C=ci.FT.inspect(b);return this.log(`pick type '${C}', expected '${s.dataType}'`),(0,ci.errorFor)("pick when type")}}else s=b;i.push(" WHEN ",...p.value," THEN ",...b.value)}let c=(this.elsePick||r).getExpression(e);if(s||(s=c),!ci.FT.typeEq(s,c,!0)){let d=this.elsePick?"else":"pick default";return this.log(`${d} type '${ci.FT.inspect(c)}', expected '${s.dataType}'`),(0,ci.errorFor)("pick else type")}return{dataType:s.dataType,aggregate:o||c.aggregate,value:(0,ci.compressExpr)([...i," ELSE ",...c.value," END"])}}getExpression(e){if(this.elsePick===void 0)return this.log("pick incomplete, missing 'else'"),(0,ci.errorFor)("no value for partial pick");let t=[];for(let a of this.choices){if(a.pick===void 0)return this.log("pick with no value can only be used with apply"),(0,ci.errorFor)("no value for partial pick");if(a.when.requestExpression(e)===void 0)return this.log("pick with partial when can only be used with apply"),(0,ci.errorFor)("partial when");t.push({pick:a.pick.getExpression(e),when:a.when.getExpression(e)})}let r=t[0].pick,i=["CASE"],s=r.aggregate;for(let a of t){if(!ci.FT.typeEq(a.when,ci.FT.boolT))return this.log(`when expression must be boolean, not '${ci.FT.inspect(a.when)}`),(0,ci.errorFor)("pick when type");if(!ci.FT.typeEq(r,a.pick,!0)){let c=ci.FT.inspect(a.pick);return this.log(`pick type '${c}', expected '${r.dataType}'`),(0,ci.errorFor)("pick value type")}s||(s=a.pick.aggregate||a.when.aggregate),i.push(" WHEN ",...a.when.value," THEN ",...a.pick.value)}let o=this.elsePick.getExpression(e);return s||(s=o.aggregate),ci.FT.typeEq(r,o,!0)?(i.push(" ELSE ",...o.value," END"),{dataType:r.dataType,aggregate:!!s,value:(0,ci.compressExpr)(i)}):(this.elsePick.log(`else type '${ci.FT.inspect(o)}', expected '${r.dataType}'`),(0,ci.errorFor)("pick value type mismatch"))}};Oi.Pick=q7e});var Y8e=we(Xh=>{"use strict";m();Object.defineProperty(Xh,"__esModule",{value:!0});function $7e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function v2(n,e,t){return e&&$7e(n.prototype,e),t&&$7e(n,t),n}function u1(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function rse(n){return rse=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rse(n)}function HU(n,e){return HU=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},HU(n,e)}function Vlt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function VU(n,e,t){return Vlt()?VU=Reflect.construct:VU=function(i,s,o){var a=[null];a.push.apply(a,s);var c=Function.bind.apply(i,a),d=new c;return o&&HU(d,o.prototype),d},VU.apply(null,arguments)}function Wlt(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function ise(n){var e=typeof Map=="function"?new Map:void 0;return ise=function(r){if(r===null||!Wlt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return VU(r,arguments,rse(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),HU(i,r)},ise(n)}function Qlt(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Glt(n,e){if(!!n){if(typeof n=="string")return z7e(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z7e(n,e)}}function z7e(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function G5(n){var e=0;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(n=Glt(n)))return function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return e=n[Symbol.iterator](),e.next.bind(e)}var B6=function(n){u1(e,n);function e(){return n.apply(this,arguments)||this}return e}(ise(Error)),Ylt=function(n){u1(e,n);function e(t){return n.call(this,"Invalid DateTime: "+t.toMessage())||this}return e}(B6),Klt=function(n){u1(e,n);function e(t){return n.call(this,"Invalid Interval: "+t.toMessage())||this}return e}(B6),Jlt=function(n){u1(e,n);function e(t){return n.call(this,"Invalid Duration: "+t.toMessage())||this}return e}(B6),rO=function(n){u1(e,n);function e(){return n.apply(this,arguments)||this}return e}(B6),H7e=function(n){u1(e,n);function e(t){return n.call(this,"Invalid unit "+t)||this}return e}(B6),l1=function(n){u1(e,n);function e(){return n.apply(this,arguments)||this}return e}(B6),Y5=function(n){u1(e,n);function e(){return n.call(this,"Zone is an abstract class")||this}return e}(B6),Ai="numeric",_2="short",Kh="long",WU={year:Ai,month:Ai,day:Ai},sse={year:Ai,month:_2,day:Ai},V7e={year:Ai,month:_2,day:Ai,weekday:_2},ose={year:Ai,month:Kh,day:Ai},ase={year:Ai,month:Kh,day:Ai,weekday:Kh},use={hour:Ai,minute:Ai},lse={hour:Ai,minute:Ai,second:Ai},cse={hour:Ai,minute:Ai,second:Ai,timeZoneName:_2},fse={hour:Ai,minute:Ai,second:Ai,timeZoneName:Kh},dse={hour:Ai,minute:Ai,hour12:!1},hse={hour:Ai,minute:Ai,second:Ai,hour12:!1},pse={hour:Ai,minute:Ai,second:Ai,hour12:!1,timeZoneName:_2},mse={hour:Ai,minute:Ai,second:Ai,hour12:!1,timeZoneName:Kh},xse={year:Ai,month:Ai,day:Ai,hour:Ai,minute:Ai},gse={year:Ai,month:Ai,day:Ai,hour:Ai,minute:Ai,second:Ai},yse={year:Ai,month:_2,day:Ai,hour:Ai,minute:Ai},vse={year:Ai,month:_2,day:Ai,hour:Ai,minute:Ai,second:Ai},W7e={year:Ai,month:_2,day:Ai,weekday:_2,hour:Ai,minute:Ai},_se={year:Ai,month:Kh,day:Ai,hour:Ai,minute:Ai,timeZoneName:_2},bse={year:Ai,month:Kh,day:Ai,hour:Ai,minute:Ai,second:Ai,timeZoneName:_2},Ese={year:Ai,month:Kh,day:Ai,weekday:Kh,hour:Ai,minute:Ai,timeZoneName:Kh},Sse={year:Ai,month:Kh,day:Ai,weekday:Kh,hour:Ai,minute:Ai,second:Ai,timeZoneName:Kh};function ra(n){return typeof n=="undefined"}function j6(n){return typeof n=="number"}function QU(n){return typeof n=="number"&&n%1===0}function Xlt(n){return typeof n=="string"}function Zlt(n){return Object.prototype.toString.call(n)==="[object Date]"}function dx(){try{return typeof Intl!="undefined"&&Intl.DateTimeFormat}catch{return!1}}function iO(){return!ra(Intl.DateTimeFormat.prototype.formatToParts)}function Q7e(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ect(n){return Array.isArray(n)?n:[n]}function G7e(n,e,t){if(n.length!==0)return n.reduce(function(r,i){var s=[e(i),i];return r&&t(r[0],s[0])===r[0]?r:s},null)[1]}function Y7e(n,e){return e.reduce(function(t,r){return t[r]=n[r],t},{})}function gC(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ry(n,e,t){return QU(n)&&n>=e&&n<=t}function tct(n,e){return n-e*Math.floor(n/e)}function yC(n,e){e===void 0&&(e=2);var t=n<0?"-":"",r=t?n*-1:n,i;return r.toString().length<e?i=("0".repeat(e)+r).slice(-e):i=r.toString(),""+t+i}function bd(n){if(!(ra(n)||n===null||n===""))return parseInt(n,10)}function Cse(n){if(!(ra(n)||n===null||n==="")){var e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function wse(n,e,t){t===void 0&&(t=!1);var r=Math.pow(10,e),i=t?Math.trunc:Math.round;return i(n*r)/r}function sO(n){return n%4===0&&(n%100!==0||n%400===0)}function oO(n){return sO(n)?366:365}function GU(n,e){var t=tct(e-1,12)+1,r=n+(e-t)/12;return t===2?sO(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Ase(n){var e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function YU(n){var e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,r=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||r===3?53:52}function Tse(n){return n>99?n:n>60?1900+n:2e3+n}function K7e(n,e,t,r){r===void 0&&(r=null);var i=new Date(n),s={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);var o=Object.assign({timeZoneName:e},s),a=dx();if(a&&iO()){var c=new Intl.DateTimeFormat(t,o).formatToParts(i).find(function(N){return N.type.toLowerCase()==="timezonename"});return c?c.value:null}else if(a){var d=new Intl.DateTimeFormat(t,s).format(i),p=new Intl.DateTimeFormat(t,o).format(i),b=p.substring(d.length),C=b.replace(/^[, \u200e]+/,"");return C}else return null}function KU(n,e){var t=parseInt(n,10);Number.isNaN(t)&&(t=0);var r=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-r:r;return t*60+i}function J7e(n){var e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new l1("Invalid unit value "+n);return e}function JU(n,e,t){var r={};for(var i in n)if(gC(n,i)){if(t.indexOf(i)>=0)continue;var s=n[i];if(s==null)continue;r[e(i)]=J7e(s)}return r}function XU(n,e){var t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return""+i+yC(t,2)+":"+yC(r,2);case"narrow":return""+i+t+(r>0?":"+r:"");case"techie":return""+i+yC(t,2)+yC(r,2);default:throw new RangeError("Value format "+e+" is out of range for property format")}}function ZU(n){return Y7e(n,["hour","minute","second","millisecond"])}var X7e=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function ll(n){return JSON.stringify(n,Object.keys(n).sort())}var nct=["January","February","March","April","May","June","July","August","September","October","November","December"],Z7e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rct=["J","F","M","A","M","J","J","A","S","O","N","D"];function e8e(n){switch(n){case"narrow":return[].concat(rct);case"short":return[].concat(Z7e);case"long":return[].concat(nct);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var t8e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],n8e=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ict=["M","T","W","T","F","S","S"];function r8e(n){switch(n){case"narrow":return[].concat(ict);case"short":return[].concat(n8e);case"long":return[].concat(t8e);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var i8e=["AM","PM"],sct=["Before Christ","Anno Domini"],oct=["BC","AD"],act=["B","A"];function s8e(n){switch(n){case"narrow":return[].concat(act);case"short":return[].concat(oct);case"long":return[].concat(sct);default:return null}}function uct(n){return i8e[n.hour<12?0:1]}function lct(n,e){return r8e(e)[n.weekday-1]}function cct(n,e){return e8e(e)[n.month-1]}function fct(n,e){return s8e(e)[n.year<0?0:1]}function dct(n,e,t,r){t===void 0&&(t="always"),r===void 0&&(r=!1);var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){var o=n==="days";switch(e){case 1:return o?"tomorrow":"next "+i[n][0];case-1:return o?"yesterday":"last "+i[n][0];case 0:return o?"today":"this "+i[n][0]}}var a=Object.is(e,-0)||e<0,c=Math.abs(e),d=c===1,p=i[n],b=r?d?p[1]:p[2]||p[1]:d?i[n][0]:n;return a?c+" "+b+" ago":"in "+c+" "+b}function hct(n){var e=Y7e(n,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),t=ll(e),r="EEEE, LLLL d, yyyy, h:mm a";switch(t){case ll(WU):return"M/d/yyyy";case ll(sse):return"LLL d, yyyy";case ll(V7e):return"EEE, LLL d, yyyy";case ll(ose):return"LLLL d, yyyy";case ll(ase):return"EEEE, LLLL d, yyyy";case ll(use):return"h:mm a";case ll(lse):return"h:mm:ss a";case ll(cse):return"h:mm a";case ll(fse):return"h:mm a";case ll(dse):return"HH:mm";case ll(hse):return"HH:mm:ss";case ll(pse):return"HH:mm";case ll(mse):return"HH:mm";case ll(xse):return"M/d/yyyy, h:mm a";case ll(yse):return"LLL d, yyyy, h:mm a";case ll(_se):return"LLLL d, yyyy, h:mm a";case ll(Ese):return r;case ll(gse):return"M/d/yyyy, h:mm:ss a";case ll(vse):return"LLL d, yyyy, h:mm:ss a";case ll(W7e):return"EEE, d LLL yyyy, h:mm a";case ll(bse):return"LLLL d, yyyy, h:mm:ss a";case ll(Sse):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return r}}function o8e(n,e){for(var t="",r=G5(n),i;!(i=r()).done;){var s=i.value;s.literal?t+=s.val:t+=e(s.val)}return t}var pct={D:WU,DD:sse,DDD:ose,DDDD:ase,t:use,tt:lse,ttt:cse,tttt:fse,T:dse,TT:hse,TTT:pse,TTTT:mse,f:xse,ff:yse,fff:_se,ffff:Ese,F:gse,FF:vse,FFF:bse,FFFF:Sse},hx=function(){n.create=function(r,i){return i===void 0&&(i={}),new n(r,i)},n.parseFormat=function(r){for(var i=null,s="",o=!1,a=[],c=0;c<r.length;c++){var d=r.charAt(c);d==="'"?(s.length>0&&a.push({literal:o,val:s}),i=null,s="",o=!o):o||d===i?s+=d:(s.length>0&&a.push({literal:!1,val:s}),s=d,i=d)}return s.length>0&&a.push({literal:o,val:s}),a},n.macroTokenToFormatOpts=function(r){return pct[r]};function n(t,r){this.opts=r,this.loc=t,this.systemLoc=null}var e=n.prototype;return e.formatWithSystemDefault=function(r,i){this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem());var s=this.systemLoc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTime=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTimeParts=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.formatToParts()},e.resolvedOptions=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.resolvedOptions()},e.num=function(r,i){if(i===void 0&&(i=0),this.opts.forceSimple)return yC(r,i);var s=Object.assign({},this.opts);return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(r)},e.formatDateTimeFromString=function(r,i){var s=this,o=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory"&&iO(),c=function(P,$){return s.loc.extract(r,P,$)},d=function(P){return r.isOffsetFixed&&r.offset===0&&P.allowZ?"Z":r.isValid?r.zone.formatOffset(r.ts,P.format):""},p=function(){return o?uct(r):c({hour:"numeric",hour12:!0},"dayperiod")},b=function(P,$){return o?cct(r,P):c($?{month:P}:{month:P,day:"numeric"},"month")},C=function(P,$){return o?lct(r,P):c($?{weekday:P}:{weekday:P,month:"long",day:"numeric"},"weekday")},N=function(P){var $=n.macroTokenToFormatOpts(P);return $?s.formatWithSystemDefault(r,$):P},R=function(P){return o?fct(r,P):c({era:P},"era")},U=function(P){switch(P){case"S":return s.num(r.millisecond);case"u":case"SSS":return s.num(r.millisecond,3);case"s":return s.num(r.second);case"ss":return s.num(r.second,2);case"m":return s.num(r.minute);case"mm":return s.num(r.minute,2);case"h":return s.num(r.hour%12===0?12:r.hour%12);case"hh":return s.num(r.hour%12===0?12:r.hour%12,2);case"H":return s.num(r.hour);case"HH":return s.num(r.hour,2);case"Z":return d({format:"narrow",allowZ:s.opts.allowZ});case"ZZ":return d({format:"short",allowZ:s.opts.allowZ});case"ZZZ":return d({format:"techie",allowZ:s.opts.allowZ});case"ZZZZ":return r.zone.offsetName(r.ts,{format:"short",locale:s.loc.locale});case"ZZZZZ":return r.zone.offsetName(r.ts,{format:"long",locale:s.loc.locale});case"z":return r.zoneName;case"a":return p();case"d":return a?c({day:"numeric"},"day"):s.num(r.day);case"dd":return a?c({day:"2-digit"},"day"):s.num(r.day,2);case"c":return s.num(r.weekday);case"ccc":return C("short",!0);case"cccc":return C("long",!0);case"ccccc":return C("narrow",!0);case"E":return s.num(r.weekday);case"EEE":return C("short",!1);case"EEEE":return C("long",!1);case"EEEEE":return C("narrow",!1);case"L":return a?c({month:"numeric",day:"numeric"},"month"):s.num(r.month);case"LL":return a?c({month:"2-digit",day:"numeric"},"month"):s.num(r.month,2);case"LLL":return b("short",!0);case"LLLL":return b("long",!0);case"LLLLL":return b("narrow",!0);case"M":return a?c({month:"numeric"},"month"):s.num(r.month);case"MM":return a?c({month:"2-digit"},"month"):s.num(r.month,2);case"MMM":return b("short",!1);case"MMMM":return b("long",!1);case"MMMMM":return b("narrow",!1);case"y":return a?c({year:"numeric"},"year"):s.num(r.year);case"yy":return a?c({year:"2-digit"},"year"):s.num(r.year.toString().slice(-2),2);case"yyyy":return a?c({year:"numeric"},"year"):s.num(r.year,4);case"yyyyyy":return a?c({year:"numeric"},"year"):s.num(r.year,6);case"G":return R("short");case"GG":return R("long");case"GGGGG":return R("narrow");case"kk":return s.num(r.weekYear.toString().slice(-2),2);case"kkkk":return s.num(r.weekYear,4);case"W":return s.num(r.weekNumber);case"WW":return s.num(r.weekNumber,2);case"o":return s.num(r.ordinal);case"ooo":return s.num(r.ordinal,3);case"q":return s.num(r.quarter);case"qq":return s.num(r.quarter,2);case"X":return s.num(Math.floor(r.ts/1e3));case"x":return s.num(r.ts);default:return N(P)}};return o8e(n.parseFormat(i),U)},e.formatDurationFromString=function(r,i){var s=this,o=function(C){switch(C[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},a=function(C){return function(N){var R=o(N);return R?s.num(C.get(R),N.length):N}},c=n.parseFormat(i),d=c.reduce(function(b,C){var N=C.literal,R=C.val;return N?b:b.concat(R)},[]),p=r.shiftTo.apply(r,d.map(o).filter(function(b){return b}));return o8e(c,a(p))},n}(),b2=function(){function n(t,r){this.reason=t,this.explanation=r}var e=n.prototype;return e.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},n}(),vC=function(){function n(){}var e=n.prototype;return e.offsetName=function(r,i){throw new Y5},e.formatOffset=function(r,i){throw new Y5},e.offset=function(r){throw new Y5},e.equals=function(r){throw new Y5},v2(n,[{key:"type",get:function(){throw new Y5}},{key:"name",get:function(){throw new Y5}},{key:"universal",get:function(){throw new Y5}},{key:"isValid",get:function(){throw new Y5}}]),n}(),Fse=null,a8e=function(n){u1(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return K7e(i,o,a)},t.formatOffset=function(i,s){return XU(this.offset(i),s)},t.offset=function(i){return-new Date(i).getTimezoneOffset()},t.equals=function(i){return i.type==="local"},v2(e,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return dx()?new Intl.DateTimeFormat().resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return Fse===null&&(Fse=new e),Fse}}]),e}(vC),mct=RegExp("^"+X7e.source+"$"),e$={};function xct(n){return e$[n]||(e$[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),e$[n]}var gct={year:0,month:1,day:2,hour:3,minute:4,second:5};function yct(n,e){var t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t),i=r[1],s=r[2],o=r[3],a=r[4],c=r[5],d=r[6];return[o,i,s,a,c,d]}function vct(n,e){for(var t=n.formatToParts(e),r=[],i=0;i<t.length;i++){var s=t[i],o=s.type,a=s.value,c=gct[o];ra(c)||(r[c]=parseInt(a,10))}return r}var t$={},px=function(n){u1(e,n),e.create=function(i){return t$[i]||(t$[i]=new e(i)),t$[i]},e.resetCache=function(){t$={},e$={}},e.isValidSpecifier=function(i){return!!(i&&i.match(mct))},e.isValidZone=function(i){try{return new Intl.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}},e.parseGMTOffset=function(i){if(i){var s=i.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(s)return-60*parseInt(s[1])}return null};function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i.valid=e.isValidZone(r),i}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return K7e(i,o,a,this.name)},t.formatOffset=function(i,s){return XU(this.offset(i),s)},t.offset=function(i){var s=new Date(i);if(isNaN(s))return NaN;var o=xct(this.name),a=o.formatToParts?vct(o,s):yct(o,s),c=a[0],d=a[1],p=a[2],b=a[3],C=a[4],N=a[5],R=b===24?0:b,U=Ase({year:c,month:d,day:p,hour:R,minute:C,second:N,millisecond:0}),V=+s,P=V%1e3;return V-=P>=0?P:1e3+P,(U-V)/(60*1e3)},t.equals=function(i){return i.type==="iana"&&i.name===this.name},v2(e,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),e}(vC),Dse=null,Jh=function(n){u1(e,n),e.instance=function(i){return i===0?e.utcInstance:new e(i)},e.parseSpecifier=function(i){if(i){var s=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(s)return new e(KU(s[1],s[2]))}return null},v2(e,null,[{key:"utcInstance",get:function(){return Dse===null&&(Dse=new e(0)),Dse}}]);function e(r){var i;return i=n.call(this)||this,i.fixed=r,i}var t=e.prototype;return t.offsetName=function(){return this.name},t.formatOffset=function(i,s){return XU(this.fixed,s)},t.offset=function(){return this.fixed},t.equals=function(i){return i.type==="fixed"&&i.fixed===this.fixed},v2(e,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return this.fixed===0?"UTC":"UTC"+XU(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),e}(vC),Ose=function(n){u1(e,n);function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i}var t=e.prototype;return t.offsetName=function(){return null},t.formatOffset=function(){return""},t.offset=function(){return NaN},t.equals=function(){return!1},v2(e,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),e}(vC);function q6(n,e){var t;if(ra(n)||n===null)return e;if(n instanceof vC)return n;if(Xlt(n)){var r=n.toLowerCase();return r==="local"?e:r==="utc"||r==="gmt"?Jh.utcInstance:(t=px.parseGMTOffset(n))!=null?Jh.instance(t):px.isValidSpecifier(r)?px.create(n):Jh.parseSpecifier(r)||new Ose(n)}else return j6(n)?Jh.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new Ose(n)}var u8e=function(){return Date.now()},Nse=null,l8e=null,c8e=null,f8e=null,d8e=!1,Gl=function(){function n(){}return n.resetCaches=function(){yf.resetCache(),px.resetCache()},v2(n,null,[{key:"now",get:function(){return u8e},set:function(t){u8e=t}},{key:"defaultZoneName",get:function(){return n.defaultZone.name},set:function(t){t?Nse=q6(t):Nse=null}},{key:"defaultZone",get:function(){return Nse||a8e.instance}},{key:"defaultLocale",get:function(){return l8e},set:function(t){l8e=t}},{key:"defaultNumberingSystem",get:function(){return c8e},set:function(t){c8e=t}},{key:"defaultOutputCalendar",get:function(){return f8e},set:function(t){f8e=t}},{key:"throwOnInvalid",get:function(){return d8e},set:function(t){d8e=t}}]),n}(),Rse={};function Lse(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=Rse[t];return r||(r=new Intl.DateTimeFormat(n,e),Rse[t]=r),r}var kse={};function _ct(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=kse[t];return r||(r=new Intl.NumberFormat(n,e),kse[t]=r),r}var Ise={};function bct(n,e){e===void 0&&(e={});var t=e,r=t.base,i=Qlt(t,["base"]),s=JSON.stringify([n,i]),o=Ise[s];return o||(o=new Intl.RelativeTimeFormat(n,e),Ise[s]=o),o}var U6=null;function Ect(){if(U6)return U6;if(dx()){var n=new Intl.DateTimeFormat().resolvedOptions().locale;return U6=!n||n==="und"?"en-US":n,U6}else return U6="en-US",U6}function Sct(n){var e=n.indexOf("-u-");if(e===-1)return[n];var t,r=n.substring(0,e);try{t=Lse(n).resolvedOptions()}catch{t=Lse(r).resolvedOptions()}var i=t,s=i.numberingSystem,o=i.calendar;return[r,s,o]}function Cct(n,e,t){return dx()?((t||e)&&(n+="-u",t&&(n+="-ca-"+t),e&&(n+="-nu-"+e)),n):[]}function wct(n){for(var e=[],t=1;t<=12;t++){var r=_c.utc(2016,t,1);e.push(n(r))}return e}function Act(n){for(var e=[],t=1;t<=7;t++){var r=_c.utc(2016,11,13+t);e.push(n(r))}return e}function n$(n,e,t,r,i){var s=n.listingMode(t);return s==="error"?null:s==="en"?r(e):i(e)}function Tct(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||dx()&&new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var Fct=function(){function n(t,r,i){if(this.padTo=i.padTo||0,this.floor=i.floor||!1,!r&&dx()){var s={useGrouping:!1};i.padTo>0&&(s.minimumIntegerDigits=i.padTo),this.inf=_ct(t,s)}}var e=n.prototype;return e.format=function(r){if(this.inf){var i=this.floor?Math.floor(r):r;return this.inf.format(i)}else{var s=this.floor?Math.floor(r):wse(r,3);return yC(s,this.padTo)}},n}(),Dct=function(){function n(t,r,i){this.opts=i,this.hasIntl=dx();var s;if(t.zone.universal&&this.hasIntl){var o=-1*(t.offset/60),a=o>=0?"Etc/GMT+"+o:"Etc/GMT"+o,c=px.isValidZone(a);t.offset!==0&&c?(s=a,this.dt=t):(s="UTC",i.timeZoneName?this.dt=t:this.dt=t.offset===0?t:_c.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="local"?this.dt=t:(this.dt=t,s=t.zone.name);if(this.hasIntl){var d=Object.assign({},this.opts);s&&(d.timeZone=s),this.dtf=Lse(r,d)}}var e=n.prototype;return e.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var r=hct(this.opts),i=yf.create("en-US");return hx.create(i).formatDateTimeFromString(this.dt,r)},e.formatToParts=function(){return this.hasIntl&&iO()?this.dtf.formatToParts(this.dt.toJSDate()):[]},e.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},n}(),Oct=function(){function n(t,r,i){this.opts=Object.assign({style:"long"},i),!r&&Q7e()&&(this.rtf=bct(t,i))}var e=n.prototype;return e.format=function(r,i){return this.rtf?this.rtf.format(r,i):dct(i,r,this.opts.numeric,this.opts.style!=="long")},e.formatToParts=function(r,i){return this.rtf?this.rtf.formatToParts(r,i):[]},n}(),yf=function(){n.fromOpts=function(r){return n.create(r.locale,r.numberingSystem,r.outputCalendar,r.defaultToEN)},n.create=function(r,i,s,o){o===void 0&&(o=!1);var a=r||Gl.defaultLocale,c=a||(o?"en-US":Ect()),d=i||Gl.defaultNumberingSystem,p=s||Gl.defaultOutputCalendar;return new n(c,d,p,a)},n.resetCache=function(){U6=null,Rse={},kse={},Ise={}},n.fromObject=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar;return n.create(s,o,a)};function n(t,r,i,s){var o=Sct(t),a=o[0],c=o[1],d=o[2];this.locale=a,this.numberingSystem=r||c||null,this.outputCalendar=i||d||null,this.intl=Cct(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}var e=n.prototype;return e.listingMode=function(r){r===void 0&&(r=!0);var i=dx(),s=i&&iO(),o=this.isEnglish(),a=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return!s&&!(o&&a)&&!r?"error":!s||o&&a?"en":"intl"},e.clone=function(r){return!r||Object.getOwnPropertyNames(r).length===0?this:n.create(r.locale||this.specifiedLocale,r.numberingSystem||this.numberingSystem,r.outputCalendar||this.outputCalendar,r.defaultToEN||!1)},e.redefaultToEN=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!0}))},e.redefaultToSystem=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!1}))},e.months=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),n$(this,r,s,e8e,function(){var a=i?{month:r,day:"numeric"}:{month:r},c=i?"format":"standalone";return o.monthsCache[c][r]||(o.monthsCache[c][r]=wct(function(d){return o.extract(d,a,"month")})),o.monthsCache[c][r]})},e.weekdays=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),n$(this,r,s,r8e,function(){var a=i?{weekday:r,year:"numeric",month:"long",day:"numeric"}:{weekday:r},c=i?"format":"standalone";return o.weekdaysCache[c][r]||(o.weekdaysCache[c][r]=Act(function(d){return o.extract(d,a,"weekday")})),o.weekdaysCache[c][r]})},e.meridiems=function(r){var i=this;return r===void 0&&(r=!0),n$(this,void 0,r,function(){return i8e},function(){if(!i.meridiemCache){var s={hour:"numeric",hour12:!0};i.meridiemCache=[_c.utc(2016,11,13,9),_c.utc(2016,11,13,19)].map(function(o){return i.extract(o,s,"dayperiod")})}return i.meridiemCache})},e.eras=function(r,i){var s=this;return i===void 0&&(i=!0),n$(this,r,i,s8e,function(){var o={era:r};return s.eraCache[r]||(s.eraCache[r]=[_c.utc(-40,1,1),_c.utc(2017,1,1)].map(function(a){return s.extract(a,o,"era")})),s.eraCache[r]})},e.extract=function(r,i,s){var o=this.dtFormatter(r,i),a=o.formatToParts(),c=a.find(function(d){return d.type.toLowerCase()===s});return c?c.value:null},e.numberFormatter=function(r){return r===void 0&&(r={}),new Fct(this.intl,r.forceSimple||this.fastNumbers,r)},e.dtFormatter=function(r,i){return i===void 0&&(i={}),new Dct(r,this.intl,i)},e.relFormatter=function(r){return r===void 0&&(r={}),new Oct(this.intl,this.isEnglish(),r)},e.isEnglish=function(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||dx()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},e.equals=function(r){return this.locale===r.locale&&this.numberingSystem===r.numberingSystem&&this.outputCalendar===r.outputCalendar},v2(n,[{key:"fastNumbers",get:function(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Tct(this)),this.fastNumbersCached}}]),n}();function _C(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e.reduce(function(i,s){return i+s.source},"");return RegExp("^"+r+"$")}function $6(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduce(function(i,s){var o=i[0],a=i[1],c=i[2],d=s(r,c),p=d[0],b=d[1],C=d[2];return[Object.assign(o,p),a||b,C]},[{},null,1]).slice(0,2)}}function bC(n){if(n==null)return[null,null];for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i],a=o[0],c=o[1],d=a.exec(n);if(d)return c(d)}return[null,null]}function h8e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r,i){var s={},o;for(o=0;o<e.length;o++)s[e[o]]=bd(r[i+o]);return[s,null,i+o]}}var p8e=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Mse=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,m8e=RegExp(""+Mse.source+p8e.source+"?"),Pse=RegExp("(?:T"+m8e.source+")?"),Nct=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Rct=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Lct=/(\d{4})-?(\d{3})/,kct=h8e("weekYear","weekNumber","weekDay"),Ict=h8e("year","ordinal"),Mct=/(\d{4})-(\d\d)-(\d\d)/,x8e=RegExp(Mse.source+" ?(?:"+p8e.source+"|("+X7e.source+"))?"),Pct=RegExp("(?: "+x8e.source+")?");function EC(n,e,t){var r=n[e];return ra(r)?t:bd(r)}function g8e(n,e){var t={year:EC(n,e),month:EC(n,e+1,1),day:EC(n,e+2,1)};return[t,null,e+3]}function z6(n,e){var t={hours:EC(n,e,0),minutes:EC(n,e+1,0),seconds:EC(n,e+2,0),milliseconds:Cse(n[e+3])};return[t,null,e+4]}function SC(n,e){var t=!n[e]&&!n[e+1],r=KU(n[e+1],n[e+2]),i=t?null:Jh.instance(r);return[{},i,e+3]}function y8e(n,e){var t=n[e]?px.create(n[e]):null;return[{},t,e+1]}var Bct=RegExp("^T?"+Mse.source+"$"),jct=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function qct(n){var e=n[0],t=n[1],r=n[2],i=n[3],s=n[4],o=n[5],a=n[6],c=n[7],d=n[8],p=e[0]==="-",b=c&&c[0]==="-",C=function(R,U){return U===void 0&&(U=!1),R!==void 0&&(U||R&&p)?-R:R};return[{years:C(bd(t)),months:C(bd(r)),weeks:C(bd(i)),days:C(bd(s)),hours:C(bd(o)),minutes:C(bd(a)),seconds:C(bd(c),c==="-0"),milliseconds:C(Cse(d),b)}]}var Uct={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Bse(n,e,t,r,i,s,o){var a={year:e.length===2?Tse(bd(e)):bd(e),month:Z7e.indexOf(t)+1,day:bd(r),hour:bd(i),minute:bd(s)};return o&&(a.second=bd(o)),n&&(a.weekday=n.length>3?t8e.indexOf(n)+1:n8e.indexOf(n)+1),a}var $ct=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function zct(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],c=n[8],d=n[9],p=n[10],b=n[11],C=Bse(e,i,r,t,s,o,a),N;return c?N=Uct[c]:d?N=0:N=KU(p,b),[C,new Jh(N)]}function Hct(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Vct=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Wct=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Qct=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function v8e(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],c=Bse(e,i,r,t,s,o,a);return[c,Jh.utcInstance]}function Gct(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],c=Bse(e,a,t,r,i,s,o);return[c,Jh.utcInstance]}var Yct=_C(Nct,Pse),Kct=_C(Rct,Pse),Jct=_C(Lct,Pse),Xct=_C(m8e),Zct=$6(g8e,z6,SC),eft=$6(kct,z6,SC),tft=$6(Ict,z6,SC),nft=$6(z6,SC);function rft(n){return bC(n,[Yct,Zct],[Kct,eft],[Jct,tft],[Xct,nft])}function ift(n){return bC(Hct(n),[$ct,zct])}function sft(n){return bC(n,[Vct,v8e],[Wct,v8e],[Qct,Gct])}function oft(n){return bC(n,[jct,qct])}var aft=$6(z6);function uft(n){return bC(n,[Bct,aft])}var lft=_C(Mct,Pct),cft=_C(x8e),fft=$6(g8e,z6,SC,y8e),dft=$6(z6,SC,y8e);function hft(n){return bC(n,[lft,fft],[cft,dft])}var pft="Invalid Duration",_8e={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},mft=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},_8e),c1=146097/400,CC=146097/4800,xft=Object.assign({years:{quarters:4,months:12,weeks:c1/7,days:c1,hours:c1*24,minutes:c1*24*60,seconds:c1*24*60*60,milliseconds:c1*24*60*60*1e3},quarters:{months:3,weeks:c1/28,days:c1/4,hours:c1*24/4,minutes:c1*24*60/4,seconds:c1*24*60*60/4,milliseconds:c1*24*60*60*1e3/4},months:{weeks:CC/7,days:CC,hours:CC*24,minutes:CC*24*60,seconds:CC*24*60*60,milliseconds:CC*24*60*60*1e3}},_8e),wC=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],gft=wC.slice(0).reverse();function H6(n,e,t){t===void 0&&(t=!1);var r={values:t?e.values:Object.assign({},n.values,e.values||{}),loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new Ed(r)}function yft(n){return n<0?Math.floor(n):Math.ceil(n)}function b8e(n,e,t,r,i){var s=n[i][t],o=e[t]/s,a=Math.sign(o)===Math.sign(r[i]),c=!a&&r[i]!==0&&Math.abs(o)<=1?yft(o):Math.trunc(o);r[i]+=c,e[t]-=c*s}function vft(n,e){gft.reduce(function(t,r){return ra(e[r])?t:(t&&b8e(n,e,t,e,r),r)},null)}var Ed=function(){function n(t){var r=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||yf.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r?xft:mft,this.isLuxonDuration=!0}n.fromMillis=function(r,i){return n.fromObject(Object.assign({milliseconds:r},i))},n.fromObject=function(r){if(r==null||typeof r!="object")throw new l1("Duration.fromObject: argument expected to be an object, got "+(r===null?"null":typeof r));return new n({values:JU(r,n.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:yf.fromObject(r),conversionAccuracy:r.conversionAccuracy})},n.fromISO=function(r,i){var s=oft(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.fromISOTime=function(r,i){var s=uft(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new l1("need to specify a reason the Duration is invalid");var s=r instanceof b2?r:new b2(r,i);if(Gl.throwOnInvalid)throw new Jlt(s);return new n({invalid:s})},n.normalizeUnit=function(r){var i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[r&&r.toLowerCase()];if(!i)throw new H7e(r);return i},n.isDuration=function(r){return r&&r.isLuxonDuration||!1};var e=n.prototype;return e.toFormat=function(r,i){i===void 0&&(i={});var s=Object.assign({},i,{floor:i.round!==!1&&i.floor!==!1});return this.isValid?hx.create(this.loc,s).formatDurationFromString(this,r):pft},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.values);return r.includeConfig&&(i.conversionAccuracy=this.conversionAccuracy,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toISO=function(){if(!this.isValid)return null;var r="P";return this.years!==0&&(r+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(r+=this.months+this.quarters*3+"M"),this.weeks!==0&&(r+=this.weeks+"W"),this.days!==0&&(r+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(r+="T"),this.hours!==0&&(r+=this.hours+"H"),this.minutes!==0&&(r+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(r+=wse(this.seconds+this.milliseconds/1e3,3)+"S"),r==="P"&&(r+="T0S"),r},e.toISOTime=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=this.toMillis();if(i<0||i>=864e5)return null;r=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},r);var s=this.shiftTo("hours","minutes","seconds","milliseconds"),o=r.format==="basic"?"hhmm":"hh:mm";(!r.suppressSeconds||s.seconds!==0||s.milliseconds!==0)&&(o+=r.format==="basic"?"ss":":ss",(!r.suppressMilliseconds||s.milliseconds!==0)&&(o+=".SSS"));var a=s.toFormat(o);return r.includePrefix&&(a="T"+a),a},e.toJSON=function(){return this.toISO()},e.toString=function(){return this.toISO()},e.toMillis=function(){return this.as("milliseconds")},e.valueOf=function(){return this.toMillis()},e.plus=function(r){if(!this.isValid)return this;for(var i=V6(r),s={},o=G5(wC),a;!(a=o()).done;){var c=a.value;(gC(i.values,c)||gC(this.values,c))&&(s[c]=i.get(c)+this.get(c))}return H6(this,{values:s},!0)},e.minus=function(r){if(!this.isValid)return this;var i=V6(r);return this.plus(i.negate())},e.mapUnits=function(r){if(!this.isValid)return this;for(var i={},s=0,o=Object.keys(this.values);s<o.length;s++){var a=o[s];i[a]=J7e(r(this.values[a],a))}return H6(this,{values:i},!0)},e.get=function(r){return this[n.normalizeUnit(r)]},e.set=function(r){if(!this.isValid)return this;var i=Object.assign(this.values,JU(r,n.normalizeUnit,[]));return H6(this,{values:i})},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.conversionAccuracy,c=this.loc.clone({locale:s,numberingSystem:o}),d={loc:c};return a&&(d.conversionAccuracy=a),H6(this,d)},e.as=function(r){return this.isValid?this.shiftTo(r).get(r):NaN},e.normalize=function(){if(!this.isValid)return this;var r=this.toObject();return vft(this.matrix,r),H6(this,{values:r},!0)},e.shiftTo=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!this.isValid)return this;if(i.length===0)return this;i=i.map(function($){return n.normalizeUnit($)});for(var o={},a={},c=this.toObject(),d,p=G5(wC),b;!(b=p()).done;){var C=b.value;if(i.indexOf(C)>=0){d=C;var N=0;for(var R in a)N+=this.matrix[R][C]*a[R],a[R]=0;j6(c[C])&&(N+=c[C]);var U=Math.trunc(N);o[C]=U,a[C]=N-U;for(var V in c)wC.indexOf(V)>wC.indexOf(C)&&b8e(this.matrix,c,V,o,C)}else j6(c[C])&&(a[C]=c[C])}for(var P in a)a[P]!==0&&(o[d]+=P===d?a[P]:a[P]/this.matrix[d][P]);return H6(this,{values:o},!0).normalize()},e.negate=function(){if(!this.isValid)return this;for(var r={},i=0,s=Object.keys(this.values);i<s.length;i++){var o=s[i];r[o]=-this.values[o]}return H6(this,{values:r},!0)},e.equals=function(r){if(!this.isValid||!r.isValid||!this.loc.equals(r.loc))return!1;function i(c,d){return c===void 0||c===0?d===void 0||d===0:c===d}for(var s=G5(wC),o;!(o=s()).done;){var a=o.value;if(!i(this.values[a],r.values[a]))return!1}return!0},v2(n,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}();function V6(n){if(j6(n))return Ed.fromMillis(n);if(Ed.isDuration(n))return n;if(typeof n=="object")return Ed.fromObject(n);throw new l1("Unknown duration argument "+n+" of type "+typeof n)}var aO="Invalid Interval";function _ft(n,e){return!n||!n.isValid?uO.invalid("missing or invalid start"):!e||!e.isValid?uO.invalid("missing or invalid end"):e<n?uO.invalid("end before start","The end of an interval must be after its start, but you had start="+n.toISO()+" and end="+e.toISO()):null}var uO=function(){function n(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new l1("need to specify a reason the Interval is invalid");var s=r instanceof b2?r:new b2(r,i);if(Gl.throwOnInvalid)throw new Klt(s);return new n({invalid:s})},n.fromDateTimes=function(r,i){var s=dO(r),o=dO(i),a=_ft(s,o);return a??new n({start:s,end:o})},n.after=function(r,i){var s=V6(i),o=dO(r);return n.fromDateTimes(o,o.plus(s))},n.before=function(r,i){var s=V6(i),o=dO(r);return n.fromDateTimes(o.minus(s),o)},n.fromISO=function(r,i){var s=(r||"").split("/",2),o=s[0],a=s[1];if(o&&a){var c,d;try{c=_c.fromISO(o,i),d=c.isValid}catch{d=!1}var p,b;try{p=_c.fromISO(a,i),b=p.isValid}catch{b=!1}if(d&&b)return n.fromDateTimes(c,p);if(d){var C=Ed.fromISO(a,i);if(C.isValid)return n.after(c,C)}else if(b){var N=Ed.fromISO(o,i);if(N.isValid)return n.before(p,N)}}return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.isInterval=function(r){return r&&r.isLuxonInterval||!1};var e=n.prototype;return e.length=function(r){return r===void 0&&(r="milliseconds"),this.isValid?this.toDuration.apply(this,[r]).get(r):NaN},e.count=function(r){if(r===void 0&&(r="milliseconds"),!this.isValid)return NaN;var i=this.start.startOf(r),s=this.end.startOf(r);return Math.floor(s.diff(i,r).get(r))+1},e.hasSame=function(r){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,r):!1},e.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},e.isAfter=function(r){return this.isValid?this.s>r:!1},e.isBefore=function(r){return this.isValid?this.e<=r:!1},e.contains=function(r){return this.isValid?this.s<=r&&this.e>r:!1},e.set=function(r){var i=r===void 0?{}:r,s=i.start,o=i.end;return this.isValid?n.fromDateTimes(s||this.s,o||this.e):this},e.splitAt=function(){var r=this;if(!this.isValid)return[];for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];for(var a=s.map(dO).filter(function(N){return r.contains(N)}).sort(),c=[],d=this.s,p=0;d<this.e;){var b=a[p]||this.e,C=+b>+this.e?this.e:b;c.push(n.fromDateTimes(d,C)),d=C,p+=1}return c},e.splitBy=function(r){var i=V6(r);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];for(var s=this.s,o=1,a,c=[];s<this.e;){var d=this.start.plus(i.mapUnits(function(p){return p*o}));a=+d>+this.e?this.e:d,c.push(n.fromDateTimes(s,a)),s=a,o+=1}return c},e.divideEqually=function(r){return this.isValid?this.splitBy(this.length()/r).slice(0,r):[]},e.overlaps=function(r){return this.e>r.s&&this.s<r.e},e.abutsStart=function(r){return this.isValid?+this.e==+r.s:!1},e.abutsEnd=function(r){return this.isValid?+r.e==+this.s:!1},e.engulfs=function(r){return this.isValid?this.s<=r.s&&this.e>=r.e:!1},e.equals=function(r){return!this.isValid||!r.isValid?!1:this.s.equals(r.s)&&this.e.equals(r.e)},e.intersection=function(r){if(!this.isValid)return this;var i=this.s>r.s?this.s:r.s,s=this.e<r.e?this.e:r.e;return i>=s?null:n.fromDateTimes(i,s)},e.union=function(r){if(!this.isValid)return this;var i=this.s<r.s?this.s:r.s,s=this.e>r.e?this.e:r.e;return n.fromDateTimes(i,s)},n.merge=function(r){var i=r.sort(function(a,c){return a.s-c.s}).reduce(function(a,c){var d=a[0],p=a[1];return p?p.overlaps(c)||p.abutsStart(c)?[d,p.union(c)]:[d.concat([p]),c]:[d,c]},[[],null]),s=i[0],o=i[1];return o&&s.push(o),s},n.xor=function(r){for(var i,s=null,o=0,a=[],c=r.map(function(R){return[{time:R.s,type:"s"},{time:R.e,type:"e"}]}),d=(i=Array.prototype).concat.apply(i,c),p=d.sort(function(R,U){return R.time-U.time}),b=G5(p),C;!(C=b()).done;){var N=C.value;o+=N.type==="s"?1:-1,o===1?s=N.time:(s&&+s!=+N.time&&a.push(n.fromDateTimes(s,N.time)),s=null)}return n.merge(a)},e.difference=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.xor([this].concat(s)).map(function(a){return r.intersection(a)}).filter(function(a){return a&&!a.isEmpty()})},e.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":aO},e.toISO=function(r){return this.isValid?this.s.toISO(r)+"/"+this.e.toISO(r):aO},e.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():aO},e.toISOTime=function(r){return this.isValid?this.s.toISOTime(r)+"/"+this.e.toISOTime(r):aO},e.toFormat=function(r,i){var s=i===void 0?{}:i,o=s.separator,a=o===void 0?" \u2013 ":o;return this.isValid?""+this.s.toFormat(r)+a+this.e.toFormat(r):aO},e.toDuration=function(r,i){return this.isValid?this.e.diff(this.s,r,i):Ed.invalid(this.invalidReason)},e.mapEndpoints=function(r){return n.fromDateTimes(r(this.s),r(this.e))},v2(n,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return this.invalidReason===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}(),lO=function(){function n(){}return n.hasDST=function(t){t===void 0&&(t=Gl.defaultZone);var r=_c.now().setZone(t).set({month:12});return!t.universal&&r.offset!==r.set({month:6}).offset},n.isValidIANAZone=function(t){return px.isValidSpecifier(t)&&px.isValidZone(t)},n.normalizeZone=function(t){return q6(t,Gl.defaultZone)},n.months=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,c=a===void 0?null:a,d=i.locObj,p=d===void 0?null:d,b=i.outputCalendar,C=b===void 0?"gregory":b;return(p||yf.create(o,c,C)).months(t)},n.monthsFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,c=a===void 0?null:a,d=i.locObj,p=d===void 0?null:d,b=i.outputCalendar,C=b===void 0?"gregory":b;return(p||yf.create(o,c,C)).months(t,!0)},n.weekdays=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,c=a===void 0?null:a,d=i.locObj,p=d===void 0?null:d;return(p||yf.create(o,c,null)).weekdays(t)},n.weekdaysFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,c=a===void 0?null:a,d=i.locObj,p=d===void 0?null:d;return(p||yf.create(o,c,null)).weekdays(t,!0)},n.meridiems=function(t){var r=t===void 0?{}:t,i=r.locale,s=i===void 0?null:i;return yf.create(s).meridiems()},n.eras=function(t,r){t===void 0&&(t="short");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s;return yf.create(o,null,"gregory").eras(t)},n.features=function(){var t=!1,r=!1,i=!1,s=!1;if(dx()){t=!0,r=iO(),s=Q7e();try{i=new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone==="America/New_York"}catch{i=!1}}return{intl:t,intlTokens:r,zones:i,relative:s}},n}();function E8e(n,e){var t=function(s){return s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=t(e)-t(n);return Math.floor(Ed.fromMillis(r).as("days"))}function bft(n,e,t){for(var r=[["years",function(U,V){return V.year-U.year}],["quarters",function(U,V){return V.quarter-U.quarter}],["months",function(U,V){return V.month-U.month+(V.year-U.year)*12}],["weeks",function(U,V){var P=E8e(U,V);return(P-P%7)/7}],["days",E8e]],i={},s,o,a=0,c=r;a<c.length;a++){var d=c[a],p=d[0],b=d[1];if(t.indexOf(p)>=0){var C;s=p;var N=b(n,e);if(o=n.plus((C={},C[p]=N,C)),o>e){var R;n=n.plus((R={},R[p]=N-1,R)),N-=1}else n=o;i[p]=N}}return[n,i,o,s]}function Eft(n,e,t,r){var i=bft(n,e,t),s=i[0],o=i[1],a=i[2],c=i[3],d=e-s,p=t.filter(function(R){return["hours","minutes","seconds","milliseconds"].indexOf(R)>=0});if(p.length===0){if(a<e){var b;a=s.plus((b={},b[c]=1,b))}a!==s&&(o[c]=(o[c]||0)+d/(a-s))}var C=Ed.fromObject(Object.assign(o,r));if(p.length>0){var N;return(N=Ed.fromMillis(d,r)).shiftTo.apply(N,p).plus(C)}else return C}var jse={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},S8e={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Sft=jse.hanidec.replace(/[\[|\]]/g,"").split("");function Cft(n){var e=parseInt(n,10);if(isNaN(e)){e="";for(var t=0;t<n.length;t++){var r=n.charCodeAt(t);if(n[t].search(jse.hanidec)!==-1)e+=Sft.indexOf(n[t]);else for(var i in S8e){var s=S8e[i],o=s[0],a=s[1];r>=o&&r<=a&&(e+=r-o)}}return parseInt(e,10)}else return e}function E2(n,e){var t=n.numberingSystem;return e===void 0&&(e=""),new RegExp(""+jse[t||"latn"]+e)}var wft="missing Intl.DateTimeFormat.formatToParts support";function ba(n,e){return e===void 0&&(e=function(r){return r}),{regex:n,deser:function(r){var i=r[0];return e(Cft(i))}}}var Aft=String.fromCharCode(160),C8e="( |"+Aft+")",w8e=new RegExp(C8e,"g");function Tft(n){return n.replace(/\./g,"\\.?").replace(w8e,C8e)}function A8e(n){return n.replace(/\./g,"").replace(w8e," ").toLowerCase()}function S2(n,e){return n===null?null:{regex:RegExp(n.map(Tft).join("|")),deser:function(r){var i=r[0];return n.findIndex(function(s){return A8e(i)===A8e(s)})+e}}}function T8e(n,e){return{regex:n,deser:function(r){var i=r[1],s=r[2];return KU(i,s)},groups:e}}function F8e(n){return{regex:n,deser:function(t){var r=t[0];return r}}}function Fft(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Dft(n,e){var t=E2(e),r=E2(e,"{2}"),i=E2(e,"{3}"),s=E2(e,"{4}"),o=E2(e,"{6}"),a=E2(e,"{1,2}"),c=E2(e,"{1,3}"),d=E2(e,"{1,6}"),p=E2(e,"{1,9}"),b=E2(e,"{2,4}"),C=E2(e,"{4,6}"),N=function(P){return{regex:RegExp(Fft(P.val)),deser:function(M){var G=M[0];return G},literal:!0}},R=function(P){if(n.literal)return N(P);switch(P.val){case"G":return S2(e.eras("short",!1),0);case"GG":return S2(e.eras("long",!1),0);case"y":return ba(d);case"yy":return ba(b,Tse);case"yyyy":return ba(s);case"yyyyy":return ba(C);case"yyyyyy":return ba(o);case"M":return ba(a);case"MM":return ba(r);case"MMM":return S2(e.months("short",!0,!1),1);case"MMMM":return S2(e.months("long",!0,!1),1);case"L":return ba(a);case"LL":return ba(r);case"LLL":return S2(e.months("short",!1,!1),1);case"LLLL":return S2(e.months("long",!1,!1),1);case"d":return ba(a);case"dd":return ba(r);case"o":return ba(c);case"ooo":return ba(i);case"HH":return ba(r);case"H":return ba(a);case"hh":return ba(r);case"h":return ba(a);case"mm":return ba(r);case"m":return ba(a);case"q":return ba(a);case"qq":return ba(r);case"s":return ba(a);case"ss":return ba(r);case"S":return ba(c);case"SSS":return ba(i);case"u":return F8e(p);case"a":return S2(e.meridiems(),0);case"kkkk":return ba(s);case"kk":return ba(b,Tse);case"W":return ba(a);case"WW":return ba(r);case"E":case"c":return ba(t);case"EEE":return S2(e.weekdays("short",!1,!1),1);case"EEEE":return S2(e.weekdays("long",!1,!1),1);case"ccc":return S2(e.weekdays("short",!0,!1),1);case"cccc":return S2(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return T8e(new RegExp("([+-]"+a.source+")(?::("+r.source+"))?"),2);case"ZZZ":return T8e(new RegExp("([+-]"+a.source+")("+r.source+")?"),2);case"z":return F8e(/[a-z_+-/]{1,256}?/i);default:return N(P)}},U=R(n)||{invalidReason:wft};return U.token=n,U}var Oft={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function Nft(n,e,t){var r=n.type,i=n.value;if(r==="literal")return{literal:!0,val:i};var s=t[r],o=Oft[r];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function Rft(n){var e=n.map(function(t){return t.regex}).reduce(function(t,r){return t+"("+r.source+")"},"");return["^"+e+"$",n]}function Lft(n,e,t){var r=n.match(e);if(r){var i={},s=1;for(var o in t)if(gC(t,o)){var a=t[o],c=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+c))),s+=c}return[r,i]}else return[r,{}]}function kft(n){var e=function(s){switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t;ra(n.Z)?ra(n.z)?t=null:t=px.create(n.z):t=new Jh(n.Z),ra(n.q)||(n.M=(n.q-1)*3+1),ra(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),ra(n.u)||(n.S=Cse(n.u));var r=Object.keys(n).reduce(function(i,s){var o=e(s);return o&&(i[o]=n[s]),i},{});return[r,t]}var qse=null;function Ift(){return qse||(qse=_c.fromMillis(1555555555555)),qse}function Mft(n,e){if(n.literal)return n;var t=hx.macroTokenToFormatOpts(n.val);if(!t)return n;var r=hx.create(e,t),i=r.formatDateTimeParts(Ift()),s=i.map(function(o){return Nft(o,e,t)});return s.includes(void 0)?n:s}function Pft(n,e){var t;return(t=Array.prototype).concat.apply(t,n.map(function(r){return Mft(r,e)}))}function D8e(n,e,t){var r=Pft(hx.parseFormat(t),n),i=r.map(function(V){return Dft(V,n)}),s=i.find(function(V){return V.invalidReason});if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};var o=Rft(i),a=o[0],c=o[1],d=RegExp(a,"i"),p=Lft(e,d,c),b=p[0],C=p[1],N=C?kft(C):[null,null],R=N[0],U=N[1];if(gC(C,"a")&&gC(C,"H"))throw new rO("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:d,rawMatches:b,matches:C,result:R,zone:U}}function Bft(n,e,t){var r=D8e(n,e,t),i=r.result,s=r.zone,o=r.invalidReason;return[i,s,o]}var O8e=[0,31,59,90,120,151,181,212,243,273,304,334],N8e=[0,31,60,91,121,152,182,213,244,274,305,335];function f1(n,e){return new b2("unit out of range","you specified "+e+" (of type "+typeof e+") as a "+n+", which is invalid")}function R8e(n,e,t){var r=new Date(Date.UTC(n,e-1,t)).getUTCDay();return r===0?7:r}function L8e(n,e,t){return t+(sO(n)?N8e:O8e)[e-1]}function k8e(n,e){var t=sO(n)?N8e:O8e,r=t.findIndex(function(s){return s<e}),i=e-t[r];return{month:r+1,day:i}}function Use(n){var e=n.year,t=n.month,r=n.day,i=L8e(e,t,r),s=R8e(e,t,r),o=Math.floor((i-s+10)/7),a;return o<1?(a=e-1,o=YU(a)):o>YU(e)?(a=e+1,o=1):a=e,Object.assign({weekYear:a,weekNumber:o,weekday:s},ZU(n))}function I8e(n){var e=n.weekYear,t=n.weekNumber,r=n.weekday,i=R8e(e,1,4),s=oO(e),o=t*7+r-i-3,a;o<1?(a=e-1,o+=oO(a)):o>s?(a=e+1,o-=oO(e)):a=e;var c=k8e(a,o),d=c.month,p=c.day;return Object.assign({year:a,month:d,day:p},ZU(n))}function $se(n){var e=n.year,t=n.month,r=n.day,i=L8e(e,t,r);return Object.assign({year:e,ordinal:i},ZU(n))}function M8e(n){var e=n.year,t=n.ordinal,r=k8e(e,t),i=r.month,s=r.day;return Object.assign({year:e,month:i,day:s},ZU(n))}function jft(n){var e=QU(n.weekYear),t=ry(n.weekNumber,1,YU(n.weekYear)),r=ry(n.weekday,1,7);return e?t?r?!1:f1("weekday",n.weekday):f1("week",n.week):f1("weekYear",n.weekYear)}function qft(n){var e=QU(n.year),t=ry(n.ordinal,1,oO(n.year));return e?t?!1:f1("ordinal",n.ordinal):f1("year",n.year)}function P8e(n){var e=QU(n.year),t=ry(n.month,1,12),r=ry(n.day,1,GU(n.year,n.month));return e?t?r?!1:f1("day",n.day):f1("month",n.month):f1("year",n.year)}function B8e(n){var e=n.hour,t=n.minute,r=n.second,i=n.millisecond,s=ry(e,0,23)||e===24&&t===0&&r===0&&i===0,o=ry(t,0,59),a=ry(r,0,59),c=ry(i,0,999);return s?o?a?c?!1:f1("millisecond",i):f1("second",r):f1("minute",t):f1("hour",e)}var zse="Invalid DateTime",j8e=864e13;function r$(n){return new b2("unsupported zone",'the zone "'+n.name+'" is not supported')}function Hse(n){return n.weekData===null&&(n.weekData=Use(n.c)),n.weekData}function cO(n,e){var t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new _c(Object.assign({},t,e,{old:t}))}function q8e(n,e,t){var r=n-e*60*1e3,i=t.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;var s=t.offset(r);return i===s?[r,i]:[n-Math.min(i,s)*60*1e3,Math.max(i,s)]}function U8e(n,e){n+=e*60*1e3;var t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function i$(n,e,t){return q8e(Ase(n),e,t)}function $8e(n,e){var t=n.o,r=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s=Object.assign({},n.c,{year:r,month:i,day:Math.min(n.c.day,GU(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),o=Ed.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Ase(s),c=q8e(a,t,n.zone),d=c[0],p=c[1];return o!==0&&(d+=o,p=n.zone.offset(d)),{ts:d,o:p}}function fO(n,e,t,r,i){var s=t.setZone,o=t.zone;if(n&&Object.keys(n).length!==0){var a=e||o,c=_c.fromObject(Object.assign(n,t,{zone:a,setZone:void 0}));return s?c:c.setZone(o)}else return _c.invalid(new b2("unparsable",'the input "'+i+`" can't be parsed as `+r))}function AC(n,e,t){return t===void 0&&(t=!0),n.isValid?hx.create(yf.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function z8e(n,e){var t=e.suppressSeconds,r=t===void 0?!1:t,i=e.suppressMilliseconds,s=i===void 0?!1:i,o=e.includeOffset,a=e.includePrefix,c=a===void 0?!1:a,d=e.includeZone,p=d===void 0?!1:d,b=e.spaceZone,C=b===void 0?!1:b,N=e.format,R=N===void 0?"extended":N,U=R==="basic"?"HHmm":"HH:mm";(!r||n.second!==0||n.millisecond!==0)&&(U+=R==="basic"?"ss":":ss",(!s||n.millisecond!==0)&&(U+=".SSS")),(p||o)&&C&&(U+=" "),p?U+="z":o&&(U+=R==="basic"?"ZZZ":"ZZ");var V=AC(n,U);return c&&(V="T"+V),V}var H8e={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Uft={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},$ft={ordinal:1,hour:0,minute:0,second:0,millisecond:0},V8e=["year","month","day","hour","minute","second","millisecond"],zft=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Hft=["year","ordinal","hour","minute","second","millisecond"];function W8e(n){var e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new H7e(n);return e}function Q8e(n,e){for(var t=G5(V8e),r;!(r=t()).done;){var i=r.value;ra(n[i])&&(n[i]=H8e[i])}var s=P8e(n)||B8e(n);if(s)return _c.invalid(s);var o=Gl.now(),a=e.offset(o),c=i$(n,a,e),d=c[0],p=c[1];return new _c({ts:d,zone:e,o:p})}function G8e(n,e,t){var r=ra(t.round)?!0:t.round,i=function(b,C){b=wse(b,r||t.calendary?0:2,!0);var N=e.loc.clone(t).relFormatter(t);return N.format(b,C)},s=function(b){return t.calendary?e.hasSame(n,b)?0:e.startOf(b).diff(n.startOf(b),b).get(b):e.diff(n,b).get(b)};if(t.unit)return i(s(t.unit),t.unit);for(var o=G5(t.units),a;!(a=o()).done;){var c=a.value,d=s(c);if(Math.abs(d)>=1)return i(d,c)}return i(n>e?-0:0,t.units[t.units.length-1])}var _c=function(){function n(t){var r=t.zone||Gl.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new b2("invalid input"):null)||(r.isValid?null:r$(r));this.ts=ra(t.ts)?Gl.now():t.ts;var s=null,o=null;if(!i){var a=t.old&&t.old.ts===this.ts&&t.old.zone.equals(r);if(a){var c=[t.old.c,t.old.o];s=c[0],o=c[1]}else{var d=r.offset(this.ts);s=U8e(this.ts,d),i=Number.isNaN(s.year)?new b2("invalid input"):null,s=i?null:s,o=i?null:d}}this._zone=r,this.loc=t.loc||yf.create(),this.invalid=i,this.weekData=null,this.c=s,this.o=o,this.isLuxonDateTime=!0}n.now=function(){return new n({})},n.local=function(r,i,s,o,a,c,d){return ra(r)?n.now():Q8e({year:r,month:i,day:s,hour:o,minute:a,second:c,millisecond:d},Gl.defaultZone)},n.utc=function(r,i,s,o,a,c,d){return ra(r)?new n({ts:Gl.now(),zone:Jh.utcInstance}):Q8e({year:r,month:i,day:s,hour:o,minute:a,second:c,millisecond:d},Jh.utcInstance)},n.fromJSDate=function(r,i){i===void 0&&(i={});var s=Zlt(r)?r.valueOf():NaN;if(Number.isNaN(s))return n.invalid("invalid input");var o=q6(i.zone,Gl.defaultZone);return o.isValid?new n({ts:s,zone:o,loc:yf.fromObject(i)}):n.invalid(r$(o))},n.fromMillis=function(r,i){if(i===void 0&&(i={}),j6(r))return r<-j8e||r>j8e?n.invalid("Timestamp out of range"):new n({ts:r,zone:q6(i.zone,Gl.defaultZone),loc:yf.fromObject(i)});throw new l1("fromMillis requires a numerical input, but received a "+typeof r+" with value "+r)},n.fromSeconds=function(r,i){if(i===void 0&&(i={}),j6(r))return new n({ts:r*1e3,zone:q6(i.zone,Gl.defaultZone),loc:yf.fromObject(i)});throw new l1("fromSeconds requires a numerical input")},n.fromObject=function(r){var i=q6(r.zone,Gl.defaultZone);if(!i.isValid)return n.invalid(r$(i));var s=Gl.now(),o=i.offset(s),a=JU(r,W8e,["zone","locale","outputCalendar","numberingSystem"]),c=!ra(a.ordinal),d=!ra(a.year),p=!ra(a.month)||!ra(a.day),b=d||p,C=a.weekYear||a.weekNumber,N=yf.fromObject(r);if((b||c)&&C)throw new rO("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&c)throw new rO("Can't mix ordinal dates with month/day");var R=C||a.weekday&&!b,U,V,P=U8e(s,o);R?(U=zft,V=Uft,P=Use(P)):c?(U=Hft,V=$ft,P=$se(P)):(U=V8e,V=H8e);for(var $=!1,M=G5(U),G;!(G=M()).done;){var ae=G.value,I=a[ae];ra(I)?$?a[ae]=V[ae]:a[ae]=P[ae]:$=!0}var Z=R?jft(a):c?qft(a):P8e(a),me=Z||B8e(a);if(me)return n.invalid(me);var ye=R?I8e(a):c?M8e(a):a,He=i$(ye,o,i),ot=He[0],at=He[1],Ze=new n({ts:ot,zone:i,o:at,loc:N});return a.weekday&&b&&r.weekday!==Ze.weekday?n.invalid("mismatched weekday","you can't specify both a weekday of "+a.weekday+" and a date of "+Ze.toISO()):Ze},n.fromISO=function(r,i){i===void 0&&(i={});var s=rft(r),o=s[0],a=s[1];return fO(o,a,i,"ISO 8601",r)},n.fromRFC2822=function(r,i){i===void 0&&(i={});var s=ift(r),o=s[0],a=s[1];return fO(o,a,i,"RFC 2822",r)},n.fromHTTP=function(r,i){i===void 0&&(i={});var s=sft(r),o=s[0],a=s[1];return fO(o,a,i,"HTTP",i)},n.fromFormat=function(r,i,s){if(s===void 0&&(s={}),ra(r)||ra(i))throw new l1("fromFormat requires an input string and a format");var o=s,a=o.locale,c=a===void 0?null:a,d=o.numberingSystem,p=d===void 0?null:d,b=yf.fromOpts({locale:c,numberingSystem:p,defaultToEN:!0}),C=Bft(b,r,i),N=C[0],R=C[1],U=C[2];return U?n.invalid(U):fO(N,R,s,"format "+i,r)},n.fromString=function(r,i,s){return s===void 0&&(s={}),n.fromFormat(r,i,s)},n.fromSQL=function(r,i){i===void 0&&(i={});var s=hft(r),o=s[0],a=s[1];return fO(o,a,i,"SQL",r)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new l1("need to specify a reason the DateTime is invalid");var s=r instanceof b2?r:new b2(r,i);if(Gl.throwOnInvalid)throw new Ylt(s);return new n({invalid:s})},n.isDateTime=function(r){return r&&r.isLuxonDateTime||!1};var e=n.prototype;return e.get=function(r){return this[r]},e.resolvedLocaleOpts=function(r){r===void 0&&(r={});var i=hx.create(this.loc.clone(r),r).resolvedOptions(this),s=i.locale,o=i.numberingSystem,a=i.calendar;return{locale:s,numberingSystem:o,outputCalendar:a}},e.toUTC=function(r,i){return r===void 0&&(r=0),i===void 0&&(i={}),this.setZone(Jh.instance(r),i)},e.toLocal=function(){return this.setZone(Gl.defaultZone)},e.setZone=function(r,i){var s=i===void 0?{}:i,o=s.keepLocalTime,a=o===void 0?!1:o,c=s.keepCalendarTime,d=c===void 0?!1:c;if(r=q6(r,Gl.defaultZone),r.equals(this.zone))return this;if(r.isValid){var p=this.ts;if(a||d){var b=r.offset(this.ts),C=this.toObject(),N=i$(C,b,r);p=N[0]}return cO(this,{ts:p,zone:r})}else return n.invalid(r$(r))},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar,c=this.loc.clone({locale:s,numberingSystem:o,outputCalendar:a});return cO(this,{loc:c})},e.setLocale=function(r){return this.reconfigure({locale:r})},e.set=function(r){if(!this.isValid)return this;var i=JU(r,W8e,[]),s=!ra(i.weekYear)||!ra(i.weekNumber)||!ra(i.weekday),o=!ra(i.ordinal),a=!ra(i.year),c=!ra(i.month)||!ra(i.day),d=a||c,p=i.weekYear||i.weekNumber;if((d||o)&&p)throw new rO("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new rO("Can't mix ordinal dates with month/day");var b;s?b=I8e(Object.assign(Use(this.c),i)):ra(i.ordinal)?(b=Object.assign(this.toObject(),i),ra(i.day)&&(b.day=Math.min(GU(b.year,b.month),b.day))):b=M8e(Object.assign($se(this.c),i));var C=i$(b,this.o,this.zone),N=C[0],R=C[1];return cO(this,{ts:N,o:R})},e.plus=function(r){if(!this.isValid)return this;var i=V6(r);return cO(this,$8e(this,i))},e.minus=function(r){if(!this.isValid)return this;var i=V6(r).negate();return cO(this,$8e(this,i))},e.startOf=function(r){if(!this.isValid)return this;var i={},s=Ed.normalizeUnit(r);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(s==="weeks"&&(i.weekday=1),s==="quarters"){var o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)},e.endOf=function(r){var i;return this.isValid?this.plus((i={},i[r]=1,i)).startOf(r).minus(1):this},e.toFormat=function(r,i){return i===void 0&&(i={}),this.isValid?hx.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,r):zse},e.toLocaleString=function(r){return r===void 0&&(r=WU),this.isValid?hx.create(this.loc.clone(r),r).formatDateTime(this):zse},e.toLocaleParts=function(r){return r===void 0&&(r={}),this.isValid?hx.create(this.loc.clone(r),r).formatDateTimeParts(this):[]},e.toISO=function(r){return r===void 0&&(r={}),this.isValid?this.toISODate(r)+"T"+this.toISOTime(r):null},e.toISODate=function(r){var i=r===void 0?{}:r,s=i.format,o=s===void 0?"extended":s,a=o==="basic"?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(a="+"+a),AC(this,a)},e.toISOWeekDate=function(){return AC(this,"kkkk-'W'WW-c")},e.toISOTime=function(r){var i=r===void 0?{}:r,s=i.suppressMilliseconds,o=s===void 0?!1:s,a=i.suppressSeconds,c=a===void 0?!1:a,d=i.includeOffset,p=d===void 0?!0:d,b=i.includePrefix,C=b===void 0?!1:b,N=i.format,R=N===void 0?"extended":N;return z8e(this,{suppressSeconds:c,suppressMilliseconds:o,includeOffset:p,includePrefix:C,format:R})},e.toRFC2822=function(){return AC(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},e.toHTTP=function(){return AC(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},e.toSQLDate=function(){return AC(this,"yyyy-MM-dd")},e.toSQLTime=function(r){var i=r===void 0?{}:r,s=i.includeOffset,o=s===void 0?!0:s,a=i.includeZone,c=a===void 0?!1:a;return z8e(this,{includeOffset:o,includeZone:c,spaceZone:!0})},e.toSQL=function(r){return r===void 0&&(r={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(r):null},e.toString=function(){return this.isValid?this.toISO():zse},e.valueOf=function(){return this.toMillis()},e.toMillis=function(){return this.isValid?this.ts:NaN},e.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},e.toJSON=function(){return this.toISO()},e.toBSON=function(){return this.toJSDate()},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.c);return r.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},e.diff=function(r,i,s){if(i===void 0&&(i="milliseconds"),s===void 0&&(s={}),!this.isValid||!r.isValid)return Ed.invalid(this.invalid||r.invalid,"created by diffing an invalid DateTime");var o=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},s),a=ect(i).map(Ed.normalizeUnit),c=r.valueOf()>this.valueOf(),d=c?this:r,p=c?r:this,b=Eft(d,p,a,o);return c?b.negate():b},e.diffNow=function(r,i){return r===void 0&&(r="milliseconds"),i===void 0&&(i={}),this.diff(n.now(),r,i)},e.until=function(r){return this.isValid?uO.fromDateTimes(this,r):this},e.hasSame=function(r,i){if(!this.isValid)return!1;var s=r.valueOf(),o=this.setZone(r.zone,{keepLocalTime:!0});return o.startOf(i)<=s&&s<=o.endOf(i)},e.equals=function(r){return this.isValid&&r.isValid&&this.valueOf()===r.valueOf()&&this.zone.equals(r.zone)&&this.loc.equals(r.loc)},e.toRelative=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=r.base||n.fromObject({zone:this.zone}),s=r.padding?this<i?-r.padding:r.padding:0,o=["years","months","days","hours","minutes","seconds"],a=r.unit;return Array.isArray(r.unit)&&(o=r.unit,a=void 0),G8e(i,this.plus(s),Object.assign(r,{numeric:"always",units:o,unit:a}))},e.toRelativeCalendar=function(r){return r===void 0&&(r={}),this.isValid?G8e(r.base||n.fromObject({zone:this.zone}),this,Object.assign(r,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},n.min=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new l1("min requires all arguments be DateTimes");return G7e(i,function(o){return o.valueOf()},Math.min)},n.max=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new l1("max requires all arguments be DateTimes");return G7e(i,function(o){return o.valueOf()},Math.max)},n.fromFormatExplain=function(r,i,s){s===void 0&&(s={});var o=s,a=o.locale,c=a===void 0?null:a,d=o.numberingSystem,p=d===void 0?null:d,b=yf.fromOpts({locale:c,numberingSystem:p,defaultToEN:!0});return D8e(b,r,i)},n.fromStringExplain=function(r,i,s){return s===void 0&&(s={}),n.fromFormatExplain(r,i,s)},v2(n,[{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Hse(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Hse(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Hse(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?$se(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?lO.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?lO.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?lO.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?lO.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",get:function(){return sO(this.year)}},{key:"daysInMonth",get:function(){return GU(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?oO(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?YU(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return WU}},{key:"DATE_MED",get:function(){return sse}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return V7e}},{key:"DATE_FULL",get:function(){return ose}},{key:"DATE_HUGE",get:function(){return ase}},{key:"TIME_SIMPLE",get:function(){return use}},{key:"TIME_WITH_SECONDS",get:function(){return lse}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return cse}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return fse}},{key:"TIME_24_SIMPLE",get:function(){return dse}},{key:"TIME_24_WITH_SECONDS",get:function(){return hse}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return pse}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return mse}},{key:"DATETIME_SHORT",get:function(){return xse}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return gse}},{key:"DATETIME_MED",get:function(){return yse}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return vse}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return W7e}},{key:"DATETIME_FULL",get:function(){return _se}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return bse}},{key:"DATETIME_HUGE",get:function(){return Ese}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Sse}}]),n}();function dO(n){if(_c.isDateTime(n))return n;if(n&&n.valueOf&&j6(n.valueOf()))return _c.fromJSDate(n);if(n&&typeof n=="object")return _c.fromObject(n);throw new l1("Unknown datetime argument: "+n+", of type "+typeof n)}var Vft="1.28.0";Xh.DateTime=_c;Xh.Duration=Ed;Xh.FixedOffsetZone=Jh;Xh.IANAZone=px;Xh.Info=lO;Xh.Interval=uO;Xh.InvalidZone=Ose;Xh.LocalZone=a8e;Xh.Settings=Gl;Xh.VERSION=Vft;Xh.Zone=vC});var rSe=we(Wu=>{"use strict";m();Object.defineProperty(Wu,"__esModule",{value:!0});Wu.ExprFunc=Wu.ExprTimeExtract=Wu.ForRange=Wu.PartialCompare=Wu.Apply=Wu.ExprCompare=Wu.ExprDuration=Wu.ExprNow=Wu.GranularLiteral=Wu.ExprGranularTime=Wu.Timeframe=void 0;var W6=Y8e(),d1=r2(),si=H5(),K8e=class extends si.MalloyElement{constructor(e){super();this.elementType="timeframe";let t=e.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1)),this.text=(0,d1.isTimestampUnit)(t)?t:"second"}};Wu.Timeframe=K8e;var Vse=class extends si.ExpressionDef{constructor(e,t,r){super({expr:e});this.expr=e,this.units=t,this.truncate=r,this.elementType="granularTime",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}granular(){return!0}getExpression(e){let t=this.units,r=this.expr.getExpression(e);if((0,d1.isTimeFieldType)(r.dataType)){let i={...r,dataType:r.dataType,timeframe:t};return this.truncate&&(i.value=[{type:"dialect",function:"trunc",expr:{value:r.value,valueType:r.dataType},units:t}]),i}return this.log(`Cannot do time truncation on type '${r.dataType}'`),(0,si.errorFor)("granularity typecheck")}apply(e,t,r){let i=this.getExpression(e).dataType,s=r.getExpression(e).dataType,o=(0,d1.isDateUnit)(this.units)?"date":"timestamp";return i=="date"&&o=="date"?this.dateRange(e,t,r):this.timestampRange(e,t,r)}timestampRange(e,t,r){let i=this.getExpression(e),s=si.ExprTime.fromValue("timestamp",i),o=new si.ExprTime("timestamp",(0,si.timeOffset)("timestamp",i.value,"+",(0,d1.mkExpr)`1`,this.units),i.aggregate);return new si.Range(s,o).apply(e,t,r)}dateRange(e,t,r){let i=this.getExpression(e),s=new si.ExprTime("date",i.value,i.aggregate),o=(0,si.timeOffset)("date",i.value,"+",["1"],this.units),a=new si.ExprTime("date",o,i.aggregate);return new si.Range(s,a).apply(e,t,r)}};Wu.ExprGranularTime=Vse;var mx=class extends si.ExpressionDef{constructor(e,t,r){super();this.moment=e,this.until=t,this.units=r,this.elementType="timeLiteral"}granular(){return!0}static parse(e){let t=e.slice(1),r="yyyy",i=`${r}-LL`,s=`${i}-dd`,o=`${s} HH:mm`,a=`${o}:ss`,c=W6.DateTime.fromFormat(t,a);if(c.isValid){let R=c.plus({second:1}).toFormat(a),U=new mx(t,R,"second");return U.timeType="timestamp",U}let d=W6.DateTime.fromFormat(t,o);if(d.isValid){let R=t+":00",U=d.plus({minute:1}).toFormat(o)+":00",V=new mx(R,U,"minute");return V.timeType="timestamp",V}let p=t.match(/(\d{4})-[qQ](\d)$/);if(p){let R=Number.parseInt(p[2])-1,U=W6.DateTime.fromFormat(p[1],"yyyy");R>0&&(U=U.plus({quarters:R}));let V=U.plus({quarter:1});return new mx(`${U.toFormat(s)}`,`${V.toFormat(s)}`,"quarter")}let b=W6.DateTime.fromFormat(t,s);if(b.isValid){let R=b.plus({days:1});return new mx(`${b.toFormat(s)}`,`${R.toFormat(s)}`,"day")}let C=W6.DateTime.fromFormat(t,i);if(C.isValid){let R=C.plus({months:1});return new mx(`${C.toFormat(s)}`,`${R.toFormat(s)}`,"month")}let N=W6.DateTime.fromFormat(t,r);if(N.isValid){let R=N.toFormat("yyyy-01-01"),U=N.plus({year:1}).toFormat("yyyy-01-01");return new mx(R,U,"year")}if(t.startsWith("WK")){let R=W6.DateTime.fromFormat(t.slice(2),s);if(R.isValid){let U=R;R.weekday!==7&&(U=R.startOf("week").minus({day:1}));let V=U.plus({days:7});return new mx(`${U.toFormat(s)}`,`${V.toFormat(s)}`,"week")}}}apply(e,t,r){let i=r.getExpression(e);if((0,d1.isTimeFieldType)(i.dataType)){let s="timestamp";return i.dataType==="date"&&!this.timeType&&(s="date"),new si.Range(new si.ExprTime(s,(0,si.timeLiteral)(this.moment,s,"UTC")),new si.ExprTime(s,(0,si.timeLiteral)(this.until,s,"UTC"))).apply(e,t,r)}return super.apply(e,t,r)}getExpression(e){let t=this.timeType||"date",r={dataType:t,aggregate:!1,value:(0,si.timeLiteral)(this.moment,t,"UTC")};return t=="date"&&(0,d1.isDateUnit)(this.units)&&(r.alsoTimestamp=!0),this.units!="second"?{...r,timeframe:this.units}:r}};Wu.GranularLiteral=mx;var J8e=class extends si.ExpressionDef{constructor(){super(...arguments);this.elementType="timestamp"}getExpression(e){return{dataType:"timestamp",aggregate:!1,value:[{type:"dialect",function:"now"}]}}};Wu.ExprNow=J8e;var X8e=class extends si.ExpressionDef{constructor(e,t){super({n:e});this.n=e,this.timeframe=t,this.elementType="duration",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}apply(e,t,r){let i=r.getExpression(e);if(this.typeCheck(this,i),(0,d1.isTimeFieldType)(i.dataType)&&(t==="+"||t==="-")){let s=this.n.getExpression(e);if(!si.FT.typeEq(s,si.FT.numberT))return this.log(`Duration units needs number not '${s.dataType}`),(0,si.errorFor)("illegal unit expression");let o;if((0,si.isGranularResult)(i)&&i.timeframe==this.timeframe&&(o=i.timeframe),i.dataType==="timestamp"){let a=(0,si.timeOffset)("timestamp",i.value,t,s.value,this.timeframe);return(0,si.timeResult)({dataType:"timestamp",aggregate:i.aggregate||s.aggregate,value:a},o)}return(0,si.timeResult)({dataType:"date",aggregate:i.aggregate||s.aggregate,value:(0,si.timeOffset)("date",i.value,t,s.value,this.timeframe)},o)}return super.apply(e,t,r)}getExpression(e){return{dataType:"duration",aggregate:!1,value:["__ERROR_DURATION_IS_NOT_A_VALUE__"]}}};Wu.ExprDuration=X8e;var Wse=class extends si.BinaryBoolean{constructor(e,t,r){super(e,t,r);this.elementType="a<=>b",this.legalChildTypes=Wft[t]}getExpression(e){if(!this.right.granular()){let t=this.right.requestExpression(e);if(t&&(0,si.isGranularResult)(t))return new Vse(this.right,t.timeframe,!1).apply(e,this.op,this.left)}return this.right.apply(e,this.op,this.left)}};Wu.ExprCompare=Wse;var Z8e=class extends Wse{constructor(e,t){super(e,"=",t);this.left=e,this.right=t,this.elementType="apply"}};Wu.Apply=Z8e;var Wft={"~":[si.FT.stringT],"!~":[si.FT.stringT],"<":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"<=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],"!=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],">=":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT],">":[si.FT.numberT,si.FT.stringT,si.FT.dateT,si.FT.timestampT]},eSe=class extends si.ExpressionDef{constructor(e,t){super({right:t});this.op=e,this.right=t,this.elementType="<=> a"}granular(){return this.right.granular()}apply(e,t,r){return this.right.apply(e,this.op,r)}requestExpression(e){}getExpression(e){return this.log("Partial comparison does not have a value"),(0,si.errorFor)("no value for partial compare")}};Wu.PartialCompare=eSe;var tSe=class extends si.ExpressionDef{constructor(e,t,r){super({from:e,duration:t,timeframe:r});this.from=e,this.duration=t,this.timeframe=r,this.elementType="forRange",this.legalChildTypes=[si.FT.timestampT,si.FT.dateT]}apply(e,t,r){let i=this.from.getExpression(e),s=r.getExpression(e);if(!this.typeCheck(r,s))return(0,si.errorFor)("no time for range");let o=this.duration.getExpression(e);if(o.dataType!=="number")return this.log(`FOR duration count must be a number, not '${o.dataType}'`),(0,si.errorFor)("FOR not number");let a=this.timeframe.text,d=(0,si.resolution)(a);if(i.dataType==="timestamp"&&(d="timestamp"),s.dataType==="date"&&d==="date"){let U=this.from,V=(0,si.timeOffset)("date",i.value,"+",o.value,a),P=new si.ExprTime("date",V);return new si.Range(U,P).apply(e,t,r)}let p=si.ExprTime.fromValue("timestamp",s),b=this.from,C=i.value;i.dataType==="date"&&((0,si.isGranularResult)(i)&&i.alsoTimestamp||(C=(0,si.castDateToTimestamp)(C)),b=new si.ExprTime("timestamp",C,i.aggregate));let N=(0,si.timeOffset)("timestamp",C,"+",o.value,a),R=new si.ExprTime("timestamp",N,i.aggregate);return new si.Range(b,R).apply(e,t,p)}requestExpression(e){}getExpression(e){return this.log("A Range is not a value"),(0,si.errorFor)("range has no value")}};Wu.ForRange=tSe;var TC=class extends si.ExpressionDef{constructor(e,t){super({args:t});this.extractText=e,this.args=t,this.elementType="timeExtract"}static extractor(e){let t=TC.pluralMap[e];if(t)return t;if((0,d1.isExtractUnit)(e))return e}getExpression(e){let t=TC.extractor(this.extractText);if(t){if(this.args.length!==1)return this.log(`Extraction function ${t} requires one argument`),(0,si.errorFor)("{this.name} arg count");let r=this.args[0];if(r instanceof si.Range){let i=r.first.getExpression(e),s=r.last.getExpression(e);return(0,d1.isTimeFieldType)(i.dataType)?(0,d1.isTimeFieldType)(s.dataType)?(0,d1.isTimestampUnit)(t)?{dataType:"number",aggregate:i.aggregate||s.aggregate,value:[{type:"dialect",function:"timeDiff",units:t,left:{valueType:i.dataType,value:i.value},right:{valueType:s.dataType,value:s.value}}]}:(this.log(`Cannot extract ${t} from a range`),(0,si.errorFor)(`${t} bad extraction`)):(r.last.log(`Cannot extract ${t} from '${s.dataType}'`),(0,si.errorFor)(`${t} bad type ${s.dataType}`)):(r.first.log(`Can't extract ${t} from '${i.dataType}'`),(0,si.errorFor)(`${t} bad type ${i.dataType}`))}else{let i=r.getExpression(e);return(0,d1.isTimeFieldType)(i.dataType)?{dataType:"number",aggregate:i.aggregate,value:[{type:"dialect",function:"extract",expr:{value:i.value,valueType:i.dataType},units:t}]}:(this.log(`${this.extractText}() requires time type, not '${i.dataType}'`),(0,si.errorFor)(`${this.extractText} bad type ${i.dataType}`))}}throw this.internalError(`Illegal extraction unit '${this.extractText}'`)}};Wu.ExprTimeExtract=TC;TC.pluralMap={years:"year",quarters:"quarter",months:"month",weeks:"week",days:"day",hours:"hour",minutes:"minute",seconds:"second"};var nSe=class extends si.ExpressionDef{constructor(e,t){super({args:t});this.name=e,this.args=t,this.elementType="function call()"}getExpression(e){var t,r,i;let s=!1,o,a=[`${this.name}(`];for(let p of this.args){let b=p.getExpression(e);b.aggregate&&(s=!0),o?a.push(","):o=b.dataType,a.push(...b.value)}a.push(")");let c=e.dialectObj();return{dataType:(i=(r=(t=c==null?void 0:c.getFunctionInfo(this.name))===null||t===void 0?void 0:t.returnType)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"number",aggregate:s,value:(0,si.compressExpr)(a)}}};Wu.ExprFunc=nSe});var H5=we(C2=>{"use strict";m();var Qft=C2&&C2.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),hO=C2&&C2.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Qft(e,n,t)};Object.defineProperty(C2,"__esModule",{value:!0});hO(aEe(),C2);hO(e7e(),C2);hO(U7e(),C2);hO(rSe(),C2);hO(AU(),C2)});var Qse=we(K5=>{"use strict";m();var pO=K5&&K5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},mO=K5&&K5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(K5,"__esModule",{value:!0});K5.AbstractParseTreeVisitor=void 0;var iy=Cr(),Q6=class{visit(e){return e.accept(this)}visitChildren(e){let t=this.defaultResult(),r=e.childCount;for(let i=0;i<r&&this.shouldVisitNextChild(e,t);i++){let o=e.getChild(i).accept(this);t=this.aggregateResult(t,o)}return t}visitTerminal(e){return this.defaultResult()}visitErrorNode(e){return this.defaultResult()}aggregateResult(e,t){return t}shouldVisitNextChild(e,t){return!0}};pO([iy.Override,mO(0,iy.NotNull)],Q6.prototype,"visit",null);pO([iy.Override,mO(0,iy.NotNull)],Q6.prototype,"visitChildren",null);pO([iy.Override,mO(0,iy.NotNull)],Q6.prototype,"visitTerminal",null);pO([iy.Override,mO(0,iy.NotNull)],Q6.prototype,"visitErrorNode",null);pO([mO(0,iy.NotNull)],Q6.prototype,"shouldVisitNextChild",null);K5.AbstractParseTreeVisitor=Q6});var sSe=we(xx=>{"use strict";m();var Gft=xx&&xx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Yft=xx&&xx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Kft=xx&&xx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Gft(e,n,t);return Yft(e,n),e};Object.defineProperty(xx,"__esModule",{value:!0});xx.MalloyToAST=void 0;var Jft=Qse(),mr=Kft(H5()),Xft=D0(),iSe=class extends Jft.AbstractParseTreeVisitor{constructor(e,t){super();this.parse=e,this.msgLog=t}internalError(e,t){let r=`Internal Translator Error: ${t}`;return this.contextError(e,r),new Error(r)}astError(e,t,r="error"){this.msgLog.log({message:t,at:e.location,severity:r})}contextError(e,t,r="error"){this.msgLog.log({message:t,at:{url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(e)},severity:r})}onlyExploreProperties(e){let t=[];for(let r of e)mr.isExploreProperty(r)?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyJoins(e){let t=[];for(let r of e)r instanceof mr.Join?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyDocStatements(e){let t=[];for(let r of e)mr.isDocStatement(r)?t.push(r):this.astError(r,`Expected statement, not '${r.elementType}'`);return t}onlyNestedQueries(e){let t=[];for(let r of e)mr.isNestedQuery(r)?t.push(r):this.astError(r,`Expected query, not '${r.elementType}'`);return t}onlyQueryRefs(e){let t=[];for(let r of e)r instanceof mr.FieldReference||r instanceof mr.FieldDeclaration?t.push(r):r instanceof mr.Unimplemented&&r.reported||this.astError(r,`Expected query field, not '${r.elementType}'`);return t}getNumber(e){return Number.parseInt(e.text)}getIdText(e){return this.stripQuotes(e.text)}getFieldName(e){return this.astAt(new mr.FieldName(this.getIdText(e)),e)}getModelEntryName(e){return this.astAt(new mr.ModelEntryReference(this.getIdText(e)),e)}stripQuotes(e){return(e[0]==="`"||e[0]==="'"||e[0]==='"')&&e[0]===e[e.length-1]?e.slice(1,-1):e}optionalText(e){if(e)return this.getIdText(e)}defaultResult(){return new mr.Unimplemented}astAt(e,t){return e.location={url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(t)},e}getSourceCode(e){let t=e.start.startIndex,r=e.stop||e.start,i=new Xft.Interval(t,r.stopIndex);return this.parse.sourceStream.getText(i)}getFilterElement(e){let t=this.getFieldExpr(e),r=new mr.FilterElement(t,this.getSourceCode(e));return this.astAt(r,e)}getFieldDefs(e,t){let r=[];for(let i of e){let s=this.visit(i);s instanceof mr.FieldDeclaration?(this.astAt(s,i),r.push(s),t!==void 0&&(s.isMeasure=t)):this.contextError(i,"Expected field definition")}return r}getFieldExpr(e){let t=this.visit(e);if(t instanceof mr.ExpressionDef)return this.astAt(t,e);throw this.internalError(e,`expression node unknown type '${t.elementType}'`)}getSegments(e){return e.map(t=>this.visitQueryProperties(t.queryProperties()))}getFilterShortcut(e){let t=this.getFilterElement(e.fieldExpr());return new mr.Filter([t])}getExploreSource(e){let t=this.visit(e);if(t instanceof mr.Mallobj)return t;throw this.internalError(e,`'${t.elementType}': illegal explore source`)}visitMalloyDocument(e){let t=this.onlyDocStatements(e.malloyStatement().map(r=>this.visit(r)));return new mr.Document(t)}visitDefineExploreStatement(e){let r=e.exploreDefinitionList().exploreDefinition().map(i=>this.visitExploreDefinition(i));return r.length==1?r[0]:new mr.DefineSourceList(r)}visitExploreDefinition(e){let t=new mr.DefineExplore(this.getIdText(e.exploreNameDef()),this.visitExplore(e.explore()),!0,[]);return this.astAt(t,e)}visitExplore(e){let t=this.getExploreSource(e.exploreSource()),r=e.exploreProperties();return r?this.astAt(new mr.RefinedExplore(t,this.visitExploreProperties(r)),e):t}visitExploreProperties(e){let t=e.filterShortcut(),r=e.exploreStatement().map(s=>this.visit(s)),i=new mr.ExploreDesc(this.onlyExploreProperties(r));return t&&i.push(this.getFilterShortcut(t)),i}visitExploreTable(e){let t=this.stripQuotes(e.tableName().text);return this.astAt(new mr.TableSource(t),e)}visitTableSource(e){return this.visitExploreTable(e.exploreTable())}visitSQLSource(e){let t=this.getModelEntryName(e.sqlExploreNameRef());return this.astAt(new mr.SQLSource(t),e)}visitQuerySource(e){let t=this.visit(e.query());if(mr.isQueryElement(t))return this.astAt(new mr.QuerySource(t),e);throw this.internalError(e,`Expect query definition, got a '${t.elementType}'`)}visitDefJoinMany(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof mr.Join&&(r.push(i),i instanceof mr.ExpressionJoin?(i.joinType="many",i.joinOn==null&&i.log("join_many: requires ON expression")):i instanceof mr.KeyJoin&&i.log("Foreign key join not legal in join_many:"));return new mr.Joins(r)}visitDefJoinOne(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof mr.Join&&(r.push(i),i instanceof mr.ExpressionJoin&&(i.joinType="one"));return new mr.Joins(r)}visitDefJoinCross(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof mr.Join&&(r.push(i),i instanceof mr.ExpressionJoin?i.joinType="cross":i.log("Foreign key join not legal in join_cross:"));return new mr.Joins(r)}getJoinList(e){return e.joinDef().map(t=>this.visit(t))}getJoinSource(e,t){return t?this.visitExplore(t):new mr.NamedSource(e)}visitJoinOn(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=new mr.ExpressionJoin(t,r),s=e.joinExpression();return s&&(i.joinOn=this.getFieldExpr(s)),this.astAt(i,e)}visitJoinWith(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=this.getFieldExpr(e.fieldExpr()),s=new mr.KeyJoin(t,r,i);return this.astAt(s,e)}visitFieldDef(e){let t=e.fieldExpr(),r=this.getIdText(e.fieldNameDef()),i=this.getFieldExpr(t),s=new mr.FieldDeclaration(i,r,this.getSourceCode(t));return this.astAt(s,e)}visitDefExploreDimension(e){let t=this.getFieldDefs(e.dimensionDefList().dimensionDef(),!1),r=new mr.Dimensions(t);return this.astAt(r,e)}visitDefExploreMeasure(e){let t=this.getFieldDefs(e.measureDefList().measureDef(),!0),r=new mr.Measures(t);return this.astAt(r,e)}visitDeclareStatement(e){let t=this.getFieldDefs(e.fieldDef(),!0),r=new mr.DeclareFields(t);return this.astAt(r,e)}visitExploreRenameDef(e){let t=e.fieldName(0).id(),r=e.fieldName(1).id(),i=new mr.RenameField(this.getIdText(t),this.getFieldName(r));return this.astAt(i,e)}visitDefExploreRename(e){let r=e.renameList().exploreRenameDef().map(s=>this.visitExploreRenameDef(s)),i=new mr.Renames(r);return this.astAt(i,e)}visitFilterClauseList(e){return new mr.Filter(e.fieldExpr().map(t=>this.getFilterElement(t)))}visitFilterByShortcut(e){let t=this.getFilterElement(e.fieldExpr());return this.astAt(new mr.Filter([t]),e)}visitWhereStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!1,this.astAt(t,e)}visitHavingStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!0,this.astAt(t,e)}visitSubQueryDefList(e){let t=e.exploreQueryDef().map(r=>this.visitExploreQueryDef(r));return new mr.Turtles(t)}visitDefExplorePrimaryKey(e){let t=new mr.PrimaryKey(this.getFieldName(e.fieldName()));return this.astAt(t,e)}visitFieldNameList(e){let t=e.fieldName().map(r=>new mr.FieldReference([this.getFieldName(r)]));return new mr.FieldReferences(t)}visitDefExploreEditField(e){let t=e.ACCEPT()?"accept":"except";return new mr.FieldListEdit(t,this.visitFieldNameList(e.fieldNameList()))}visitQueryProperties(e){let t=e.queryStatement().map(i=>this.astAt(this.visit(i),i)).filter(function(i){return mr.isQueryProperty(i)?!0:(i.log(`Unexpected statement type '${i.elementType}' in query`),!1)}),r=e.filterShortcut();return r&&t.push(this.getFilterShortcut(r)),new mr.QOPDesc(t)}visitFieldPath(e){let t=e.fieldName().map(r=>this.getFieldName(r));return this.astAt(new mr.FieldReference(t),e)}visitQueryFieldDef(e){let t=e.dimensionDef().fieldDef(),r=this.visitFieldDef(t);return this.astAt(r,t)}visitQueryFieldRef(e){return this.visitFieldPath(e.fieldPath())}getQueryItems(e){let t=e.queryFieldEntry().map(r=>this.visit(r));return this.onlyQueryRefs(t)}visitAggregateStatement(e){return new mr.Aggregate(this.getQueryItems(e.queryFieldList()))}visitGroupByStatement(e){return new mr.GroupBy(this.getQueryItems(e.queryFieldList()))}visitFieldCollection(e){let t=[];for(let r of e.collectionMember()){let i=this.visit(r);if(mr.isFieldCollectionMember(i))t.push(i);else throw this.internalError(r,`${i.elementType} is not a query field`)}return this.astAt(new mr.ProjectStatement(t),e)}visitWildMember(e){let t=e.fieldPath(),r=e.STAR()?"*":"**",i=t?this.visitFieldPath(t):void 0;return new mr.WildcardFieldReference(i,r)}visitIndexFields(e){let t=e.indexElement().map(r=>{let i=r.STAR()!=null,s=r.fieldPath();if(!s)return new mr.WildcardFieldReference(void 0,"*");let o=this.visitFieldPath(s);return i?this.astAt(new mr.WildcardFieldReference(o,"*"),e):this.astAt(o,e)});return new mr.FieldReferences(t)}visitIndexStatement(e){let t=this.visitIndexFields(e.indexFields()),r=new mr.Index(t),i=e.fieldName();return i&&r.useWeight(this.getFieldName(i)),this.astAt(r,e)}visitLimitStatement(e){return new mr.Limit(this.getNumber(e.INTEGER_LITERAL()))}visitOrderBySpec(e){let t=e.ASC()?"asc":e.DESC()?"desc":void 0,r=e.INTEGER_LITERAL();if(r)return new mr.OrderBy(this.getNumber(r),t);let i=e.fieldName();if(i)return new mr.OrderBy(this.getFieldName(i),t);throw this.internalError(e,"can't parse order_by specification")}visitOrdering(e){let t=e.orderBySpec().map(r=>this.visitOrderBySpec(r));return this.astAt(new mr.Ordering(t),e)}visitTopStatement(e){let t=e.bySpec(),r=this.getNumber(e.INTEGER_LITERAL()),i;if(t){let s=t.fieldName();if(s){let a=this.getFieldName(s);i=new mr.Top(r,a)}let o=t.fieldExpr();o&&(i=new mr.Top(r,this.getFieldExpr(o)))}return i||(i=new mr.Top(r,void 0)),this.astAt(i,e)}visitExploreName(e){let t=this.getModelEntryName(e.id());return this.astAt(new mr.NamedSource(t),e)}buildPipelineFromName(e,t){let r=t.firstSegment(),i=r.exploreQueryName();i&&(e.turtleName=this.getFieldName(i));let s=r.queryProperties();if(s){let a=this.visitQueryProperties(s);i?e.refineHead(a):e.addSegments(a)}let o=this.getSegments(t.pipeElement());e.addSegments(...o)}visitExploreArrowQuery(e){let t=this.visitExplore(e.explore()),r=new mr.FullQuery(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitArrowQuery(e){let t=new mr.ExistingQuery;t.head=this.getModelEntryName(e.queryName());let r=e.queryProperties();return r&&t.refineHead(this.visitQueryProperties(r)),t.addSegments(...this.getSegments(e.pipeElement())),this.astAt(t,e)}visitTopLevelQueryDefs(e){let t=e.topLevelQueryDef().map(r=>this.visitTopLevelQueryDef(r));return t.length===1?t[0]:new mr.DefineQueryList(t)}visitTopLevelQueryDef(e){let t=this.getIdText(e.queryName()),r=this.visit(e.query());if(mr.isQueryElement(r))return this.astAt(new mr.DefineQuery(t,r),e);throw this.internalError(e,`Expect query definition, got a '${r.elementType}'`)}visitAnonymousQuery(e){let t=this.visit(e.topLevelAnonQueryDef().query());if(mr.isQueryElement(t))return new mr.AnonymousQuery(t);throw this.internalError(e,`Anonymous query matched, but ${t.elementType} found`)}visitNestedQueryList(e){let t=e.nestEntry().map(r=>this.visit(r));return t.length==1?t[0]:new mr.Nests(this.onlyNestedQueries(t))}visitNestExisting(e){let t=this.getFieldName(e.queryName()),r=e.queryProperties();if(r){let i=new mr.NestRefinement(t),s=this.visitQueryProperties(r);return i.refineHead(s),this.astAt(i,e)}return this.astAt(new mr.NestReference(t),e)}visitNestDef(e){let t=this.getIdText(e.queryName()),r=new mr.NestDefinition(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExploreQueryDef(e){let t=this.getIdText(e.exploreQueryNameDef()),r=new mr.TurtleDecl(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExprNot(e){return new mr.ExprNot(this.getFieldExpr(e.fieldExpr()))}visitExprBool(e){return new mr.Boolean(e.TRUE()?"true":"false")}allFieldExpressions(e){return e.map(t=>this.getFieldExpr(t))}visitExprLogical(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1));return new mr.ExprLogicalOp(t,e.AND()?"and":"or",r)}visitExprLogicalTree(e){let t=this.getFieldExpr(e.fieldExpr()),r=this.getFieldExpr(e.partialAllowedFieldExpr());return new mr.ExprAlternationTree(t,e.AMPER()?"&":"|",r)}visitExprNotPartial(e){return this.getFieldExpr(e.fieldExpr())}visitExprPartialCompare(e){let t=e.compareOp().text;if(mr.isComparison(t))return new mr.PartialCompare(t,this.getFieldExpr(e.fieldExpr()));throw this.internalError(e,`partial comparison '${t}' not recognized`)}visitExprString(e){return new mr.ExprString(e.STRING_LITERAL().text)}visitExprRegex(e){let t=e.HACKY_REGEX().text;return new mr.ExprRegEx(this.stripQuotes(t.slice(1)))}visitExprNow(e){return new mr.ExprNow}visitExprNumber(e){var t,r;let i=((t=e.INTEGER_LITERAL())===null||t===void 0?void 0:t.text)||((r=e.NUMERIC_LITERAL())===null||r===void 0?void 0:r.text);return i?new mr.ExprNumber(i):(this.contextError(e,`'${e.text}' is not a number`),new mr.ExprNumber("42"))}visitExprFieldPath(e){let t=new mr.ExprIdReference(this.visitFieldPath(e.fieldPath()));return this.astAt(t,e)}visitExprNULL(e){return new mr.ExprNULL}visitExprExpr(e){return new mr.ExprParens(this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprMinus(e){return new mr.ExprMinus(this.getFieldExpr(e.fieldExpr()))}visitExprAddSub(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1)),i=e.PLUS()?"+":"-";return new mr.ExprAddSub(t,i,r)}visitExprMulDiv(e){return new mr.ExprMulDiv(this.getFieldExpr(e.fieldExpr(0)),e.STAR()?"*":"/",this.getFieldExpr(e.fieldExpr(1)))}visitExprCompare(e){let t=e.compareOp().text;if(mr.isComparison(t))return new mr.ExprCompare(this.getFieldExpr(e.fieldExpr(0)),t,this.getFieldExpr(e.fieldExpr(1)));throw this.internalError(e,`untranslatable comparison operator '${t}'`)}visitExprCountDisinct(e){return this.astAt(new mr.ExprCountDistinct(this.getFieldExpr(e.fieldExpr())),e)}visitExprUngroup(e){let t=e.fieldName().map(i=>this.getFieldName(i)),r=this.getIdText(e.ungroup()).toLocaleLowerCase();return this.astAt(new mr.ExprUngroup(r=="all"?r:"exclude",this.getFieldExpr(e.fieldExpr()),t),e)}visitExprAggregate(e){let t=e.fieldPath(),r=t?this.visitFieldPath(t):void 0,i=t&&r?this.astAt(r,t):void 0,s=e.fieldExpr();if(e.aggregate().COUNT())return s&&this.contextError(s,"Ignored expression inside COUNT()"),new mr.ExprCount(i);e.STAR()&&this.contextError(e,"'*' is not a valid expression");let a=s?this.getFieldExpr(s):void 0;if(e.aggregate().MIN())if(r)this.contextError(e,"Path not legal for min()");else{if(a)return new mr.ExprMin(a);this.contextError(e,"Missing expression for min")}else if(e.aggregate().MAX())if(r)this.contextError(e,"Path not legal for max()");else{if(a)return new mr.ExprMax(a);this.contextError(e,"Missing expression for max")}else{if(e.aggregate().AVG())return new mr.ExprAvg(a,i);if(e.aggregate().SUM())return new mr.ExprSum(a,i)}return new mr.ExprNULL}visitExprApply(e){return e.COLON()&&this.contextError(e,"':' for apply is deprecated, use '?'","warn"),new mr.Apply(this.getFieldExpr(e.fieldExpr()),this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprRange(e){return new mr.Range(this.getFieldExpr(e.fieldExpr(0)),this.getFieldExpr(e.fieldExpr(1)))}visitExprCast(e){let t=e.malloyType().text;return mr.isCastType(t)?new mr.ExprCast(this.getFieldExpr(e.fieldExpr()),t):(this.contextError(e,`CAST to unknown type '${t}'`),new mr.ExprNULL)}visitExprSafeCast(e){let t=e.malloyType().text;return mr.isCastType(t)?new mr.ExprCast(this.getFieldExpr(e.fieldExpr()),t,!0):(this.contextError(e,`'::' cast to unknown type '${t}'`),new mr.ExprNULL)}visitExprTimeTrunc(e){return new mr.ExprGranularTime(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text,!0)}visitTimeframe(e){return new mr.Timeframe(e.text)}visitExprForRange(e){let t=this.getFieldExpr(e._startAt),r=this.getFieldExpr(e._duration),i=this.visitTimeframe(e.timeframe());return new mr.ForRange(t,r,i)}visitExprFunc(e){let t=e.argumentList(),r=t?this.allFieldExpressions(t.fieldExpr()):[],i=e.id(),s=e.timeframe(),o;return i?o=this.getIdText(i):s?o=s.text:(this.contextError(e,"Funciton name error"),o="FUNCTION_NAME_ERROR"),mr.ExprTimeExtract.extractor(o)?this.astAt(new mr.ExprTimeExtract(o,r),e):this.astAt(new mr.ExprFunc(o,r),e)}visitExprDuration(e){return new mr.ExprDuration(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text)}visitPickStatement(e){let t=e.pick().map(r=>{let i;return r._pickValue&&(i=this.getFieldExpr(r._pickValue)),new mr.PickWhen(i,this.getFieldExpr(r._pickWhen))});return e.ELSE()?new mr.Pick(t,this.getFieldExpr(e._pickElse)):new mr.Pick(t)}visitNamedSource(e){let t=this.getModelEntryName(e.exploreName());return this.astAt(new mr.NamedSource(t),e)}visitExprFilter(e){let t=this.visit(e.filteredBy());return new mr.ExprFilter(this.getFieldExpr(e.fieldExpr()),t)}getLiteralTime(e){let t=mr.GranularLiteral.parse(e.text);return t===void 0?(this.contextError(e,`${e.text} is not a legal day specification`),new mr.ExprNow):t}visitLiteralTimestamp(e){return this.getLiteralTime(e)}visitLiteralDay(e){return this.getLiteralTime(e)}visitLiteralWeek(e){return this.getLiteralTime(e)}visitLiteralMonth(e){return this.getLiteralTime(e)}visitLiteralQuarter(e){return this.getLiteralTime(e)}visitLiteralYear(e){return this.getLiteralTime(e)}visitImportStatement(e){let t=this.stripQuotes(e.importURL().text);return this.astAt(new mr.ImportStatement(t,this.parse.subTranslator.sourceURL),e)}visitJustExpr(e){return this.getFieldExpr(e.fieldExpr())}visitDefineSQLStatement(e){return this.visitSQLStatementDef(e.sqlStatementDef())}visitSQLStatementDef(e){let t=e.SQL_STRING().text,r=new mr.SQLStatement({select:t.slice(2,t.length-2),connection:this.optionalText(e.connectionName())}),i=e.sqlCommandNameDef();return i&&(r.is=this.getIdText(i)),this.astAt(r,e)}visitSampleStatement(e){let t=e.sampleSpec().INTEGER_LITERAL();if(t)return new mr.SampleProperty({rows:this.getNumber(t)});let r=e.sampleSpec().PERCENT_LITERAL();if(r)return new mr.SampleProperty({percent:this.getNumber(r)});let i=e.sampleSpec().TRUE()!=null;return new mr.SampleProperty({enable:i})}};xx.MalloyToAST=iSe});var aSe=we(s$=>{"use strict";m();Object.defineProperty(s$,"__esModule",{value:!0});s$.MessageLog=void 0;var oSe=class{constructor(){this.rawLog=[]}getLog(){return this.rawLog}log(e){this.rawLog.push(e)}reset(){this.rawLog.length=0}noErrors(){return!this.hasErrors()}hasErrors(){return this.rawLog.find(t=>t.severity!=="warn")!==void 0}empty(){return this.rawLog.length===0}};s$.MessageLog=oSe});var G6=we(FC=>{"use strict";m();Object.defineProperty(FC,"__esModule",{value:!0});FC.ParseTreeWalker=void 0;var Zft=dS(),e0t=Vg(),t0t=hS(),Gse=class{walk(e,t){let r=[],i=[],s=t,o=0;for(;s;){if(s instanceof Zft.ErrorNode?e.visitErrorNode&&e.visitErrorNode(s):s instanceof e0t.TerminalNode?e.visitTerminal&&e.visitTerminal(s):this.enterRule(e,s),s.childCount>0){r.push(s),i.push(o),o=0,s=s.getChild(0);continue}do{if(s instanceof t0t.RuleNode&&this.exitRule(e,s),r.length===0){s=void 0,o=0;break}let a=r[r.length-1];if(o++,s=o<a.childCount?a.getChild(o):void 0,s)break;s=r.pop(),o=i.pop()}while(s)}}enterRule(e,t){let r=t.ruleContext;e.enterEveryRule&&e.enterEveryRule(r),r.enterRule(e)}exitRule(e,t){let r=t.ruleContext;r.exitRule(e),e.exitEveryRule&&e.exitEveryRule(r)}};FC.ParseTreeWalker=Gse;(function(n){n.DEFAULT=new n})(Gse=FC.ParseTreeWalker||(FC.ParseTreeWalker={}))});var lSe=we(o$=>{"use strict";m();Object.defineProperty(o$,"__esModule",{value:!0});o$.findReferences=void 0;var n0t=G6(),uSe=class{constructor(e,t){this.trans=e,this.tokens=t,this.needTables={},this.needImports={}}enterTableName(e){let t=this.tokens.getText(e).slice(1,-1);this.needTables[t]||(this.needTables[t]=this.trans.rangeFromContext(e))}enterImportURL(e){let t=JSON.parse(e.JSON_STRING().text);this.needImports[t]||(this.needImports[t]=this.trans.rangeFromContext(e))}};function r0t(n,e,t){let r=new uSe(n,e),i=r;n0t.ParseTreeWalker.DEFAULT.walk(i,t);let s={};return Object.keys(r.needTables).length>0&&(s={tables:r.needTables}),Object.keys(r.needImports).length>0&&(s={...s,urls:r.needImports}),Object.keys(s).length>0?s:null}o$.findReferences=r0t});var fSe=we(a$=>{"use strict";m();Object.defineProperty(a$,"__esModule",{value:!0});a$.Zone=void 0;var cSe=class{constructor(){this.location={},this.zone=new Map}get(e){let t=this.zone.get(e);if((t==null?void 0:t.status)==="present")return t.value}getEntry(e){let t=this.zone.get(e);return t?t.firstReference||!this.location[e]?t:{...t,firstReference:this.location[e]}:{status:"error",message:"import reference failure"}}define(e,t){this.zone.set(e,{status:"present",value:t})}reference(e,t){let r=this.zone.get(e);(r==null?void 0:r.status)==null&&(this.zone.set(e,{status:"reference",firstReference:t}),this.location[e]=t)}getUndefined(){let e=[];for(let[t,r]of this.zone)r.status==="reference"&&e.push(t);return e.length>0?e:void 0}updateFrom(e,t){if(e)for(let[r,i]of Object.entries(e))i!==void 0&&this.define(r,i);if(t)for(let[r,i]of Object.entries(t))this.zone.set(r,{status:"error",message:i})}};a$.Zone=cSe});var hSe=we(u$=>{"use strict";m();Object.defineProperty(u$,"__esModule",{value:!0});u$.walkForDocumentSymbols=void 0;var i0t=G6(),dSe=class{constructor(e,t,r,i){this.translator=e,this.tokens=t,this.scopes=r,this.symbols=i}popScope(){return this.scopes.pop()}peekScope(){return this.scopes[this.scopes.length-1]}enterTopLevelQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:e.queryName().text,type:"query",children:[]})}enterTopLevelAnonQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:"unnamed_query",type:"unnamed_query",children:[]})}enterExploreDefinition(e){this.scopes.push({range:this.translator.rangeFromContext(e),name:e.exploreNameDef().id().text,type:"explore",children:[]})}exitExploreDefinition(e){let t=this.popScope();t&&this.symbols.push(t)}enterExploreQueryDef(e){let t={range:this.translator.rangeFromContext(e),name:e.exploreQueryNameDef().id().text,type:"query",children:[]},r=this.peekScope();r&&r.children.push(t),this.scopes.push(t)}exitExploreQueryDef(e){this.popScope()}handleNestEntry(e){let t={range:this.translator.rangeFromContext(e),name:e.queryName().id().text,type:"query",children:[]},r=this.peekScope();return r&&r.children.push(t),t}enterNestExisting(e){this.handleNestEntry(e)}enterNestDef(e){let t=this.handleNestEntry(e);this.scopes.push(t)}exitNestDef(e){this.popScope()}enterFieldDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldNameDef().id().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterQueryFieldRef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldPath().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterExploreRenameDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldName()[0].text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterJoinWith(e){this.handleJoinDef(e)}enterJoinOn(e){this.handleJoinDef(e)}handleJoinDef(e){let t={range:this.translator.rangeFromContext(e),name:e.joinNameDef().id().text,type:"join",children:[]},r=this.peekScope();r&&r.children.push(t)}enterSqlStatementDef(e){var t;let r=(t=e.sqlCommandNameDef())===null||t===void 0?void 0:t.id().text,i={range:this.translator.rangeFromContext(e),name:r||"unnamed_sql",type:r===void 0?"unnamed_sql":"sql",children:[]};this.symbols.push(i)}};function s0t(n,e,t){let r=new dSe(n,e,[],[]),i=r;return i0t.ParseTreeWalker.DEFAULT.walk(i,t),r.symbols}u$.walkForDocumentSymbols=s0t});var Yse=we(Qi=>{"use strict";m();Object.defineProperty(Qi,"__esModule",{value:!0});Qi.sortHighlights=Qi.walkForDocumentHighlights=Qi.passForHighlights=Qi.HighlightType=void 0;var o0t=G6(),_i=kie();Qi.HighlightType={Identifier:"identifier",Type:"type",Literal:{Date:"literal.date",Number:"literal.number",String:"literal.string",RegularExpression:"literal.regular_expression",Boolean:"literal.boolean",Null:"literal.null"},Call:{Aggregate:"call.aggregate",TimeFrame:"call.time_frame",Cast:"call.cast",Table:"call.table",From:"call.from",Function:"call.function",FromSQL:"call.from_sql"},Keyword:{AggregateModifier:{Distinct:"keyword.aggregate_modifier.distinct"},CastModifier:{As:"keyword.cast_modifier.as"},Is:"keyword.is",On:"keyword.on",Desc:"keyword.desc",Asc:"keyword.asc",Pick:"keyword.pick",When:"keyword.when",Else:"keyword.else",With:"keyword.with",JSON:"keyword.json",Turtle:"keyword.turtle",Import:"keyword.import"},Operator:{Comparison:"operator.comparison",Boolean:"operator.boolean",Date:"operator.date"},Comment:{Line:"comment.line",Block:"comment.block"},Property:{Accept:"property.accept",Aggregate:"property.aggregate",Dimension:"property.dimension",Except:"property.except",Source:"property.source",GroupBy:"property.group_by",Having:"property.having",Index:"property.index",JoinOne:"keyword.join_one",JoinMany:"keyword.join_many",JoinCross:"keyword.join_cross",Limit:"property.limit",Measure:"property.measure",Nest:"property.nest",OrderBy:"property.order_by",PrimaryKey:"property.primary_key",Project:"property.project",Query:"property.query",Rename:"property.rename",Top:"property.top",Where:"property.where",SQL:"property.sql"}};function a0t(n){let e=[],t=(r,i,s=!1)=>{var o;let a=r.startIndex-r.charPositionInLine,c=((o=r.text)===null||o===void 0?void 0:o.split(`
`))||[],d=c.length,p=c.slice(0,-1).reduce((C,N)=>C+N.length,0),b=s?1:0;e.push({type:i,range:{start:{line:r.line-1,character:r.startIndex-a},end:{line:r.line-1+d-1,character:r.stopIndex+2-(d>1?r.startIndex:a)-p-d-b}}})};for(let r=0;r<n.size;r++){let i=n.get(r);switch(i.type){case _i.MalloyParser.ACCEPT:t(i,Qi.HighlightType.Property.Accept,!0);break;case _i.MalloyParser.AGGREGATE:t(i,Qi.HighlightType.Property.Aggregate,!0);break;case _i.MalloyParser.DIMENSION:t(i,Qi.HighlightType.Property.Dimension,!0);break;case _i.MalloyParser.EXCEPT:t(i,Qi.HighlightType.Property.Except,!0);break;case _i.MalloyParser.GROUP_BY:t(i,Qi.HighlightType.Property.GroupBy,!0);break;case _i.MalloyParser.HAVING:t(i,Qi.HighlightType.Property.Having,!0);break;case _i.MalloyParser.INDEX:t(i,Qi.HighlightType.Property.Index,!0);break;case _i.MalloyParser.JOIN_CROSS:t(i,Qi.HighlightType.Property.JoinOne,!0);break;case _i.MalloyParser.JOIN_ONE:t(i,Qi.HighlightType.Property.JoinMany,!0);break;case _i.MalloyParser.JOIN_MANY:t(i,Qi.HighlightType.Property.JoinCross,!0);break;case _i.MalloyParser.LIMIT:t(i,Qi.HighlightType.Property.Limit,!0);break;case _i.MalloyParser.MEASURE:t(i,Qi.HighlightType.Property.Measure,!0);break;case _i.MalloyParser.NEST:t(i,Qi.HighlightType.Property.Nest,!0);break;case _i.MalloyParser.ORDER_BY:t(i,Qi.HighlightType.Property.OrderBy,!0);break;case _i.MalloyParser.PRIMARY_KEY:t(i,Qi.HighlightType.Property.PrimaryKey,!0);break;case _i.MalloyParser.PROJECT:t(i,Qi.HighlightType.Property.Project,!0);break;case _i.MalloyParser.QUERY:t(i,Qi.HighlightType.Property.Query,!0);break;case _i.MalloyParser.RENAME:t(i,Qi.HighlightType.Property.Rename,!0);break;case _i.MalloyParser.SOURCE:t(i,Qi.HighlightType.Property.Source,!0);break;case _i.MalloyParser.TOP:t(i,Qi.HighlightType.Property.Top,!0);break;case _i.MalloyParser.WHERE:t(i,Qi.HighlightType.Property.Where,!0);break;case _i.MalloyParser.SQL:t(i,Qi.HighlightType.Property.SQL,!0);break;case _i.MalloyParser.TABLE:t(i,Qi.HighlightType.Call.Table);break;case _i.MalloyParser.FROM:t(i,Qi.HighlightType.Call.From);break;case _i.MalloyParser.FROM_SQL:t(i,Qi.HighlightType.Call.FromSQL);break;case _i.MalloyParser.STRING_LITERAL:case _i.MalloyParser.JSON_STRING:t(i,Qi.HighlightType.Literal.String);break;case _i.MalloyParser.NUMERIC_LITERAL:case _i.MalloyParser.INTEGER_LITERAL:t(i,Qi.HighlightType.Literal.Number);break;case _i.MalloyParser.HACKY_REGEX:t(i,Qi.HighlightType.Literal.RegularExpression);break;case _i.MalloyParser.IS:t(i,Qi.HighlightType.Keyword.Is);break;case _i.MalloyParser.DISTINCT:t(i,Qi.HighlightType.Keyword.AggregateModifier.Distinct);break;case _i.MalloyParser.ON:t(i,Qi.HighlightType.Keyword.On);break;case _i.MalloyParser.DESC:t(i,Qi.HighlightType.Keyword.Desc);break;case _i.MalloyParser.ASC:t(i,Qi.HighlightType.Keyword.Asc);break;case _i.MalloyParser.CAST:t(i,Qi.HighlightType.Call.Cast);break;case _i.MalloyParser.AS:t(i,Qi.HighlightType.Keyword.CastModifier.As);break;case _i.MalloyParser.PICK:t(i,Qi.HighlightType.Keyword.Pick);break;case _i.MalloyParser.WHEN:t(i,Qi.HighlightType.Keyword.When);break;case _i.MalloyParser.WITH:t(i,Qi.HighlightType.Keyword.With);break;case _i.MalloyParser.ELSE:t(i,Qi.HighlightType.Keyword.Else);break;case _i.MalloyParser.JSON:t(i,Qi.HighlightType.Keyword.JSON);break;case _i.MalloyParser.TURTLE:t(i,Qi.HighlightType.Keyword.Turtle);break;case _i.MalloyParser.TRUE:case _i.MalloyParser.FALSE:t(i,Qi.HighlightType.Literal.Boolean);break;case _i.MalloyParser.NOW:case _i.MalloyParser.LITERAL_TIMESTAMP:case _i.MalloyParser.LITERAL_QUARTER:case _i.MalloyParser.LITERAL_MONTH:case _i.MalloyParser.LITERAL_DAY:case _i.MalloyParser.LITERAL_WEEK:case _i.MalloyParser.LITERAL_YEAR:t(i,Qi.HighlightType.Literal.Date);break;case _i.MalloyParser.NULL:t(i,Qi.HighlightType.Literal.Null);break;case _i.MalloyParser.AND:case _i.MalloyParser.OR:case _i.MalloyParser.NOT:t(i,Qi.HighlightType.Operator.Boolean);break;case _i.MalloyParser.FOR:t(i,Qi.HighlightType.Operator.Date);break;case _i.MalloyParser.COMMENT_TO_EOL:t(i,Qi.HighlightType.Comment.Line);break;case _i.MalloyParser.BLOCK_COMMENT:t(i,Qi.HighlightType.Comment.Block);break;case _i.MalloyParser.SUM:case _i.MalloyParser.COUNT:case _i.MalloyParser.AVG:case _i.MalloyParser.MIN:case _i.MalloyParser.MAX:t(i,Qi.HighlightType.Call.Aggregate);break;case _i.MalloyParser.IDENTIFIER:case _i.MalloyParser.OBJECT_NAME_LITERAL:t(i,Qi.HighlightType.Identifier);break;case _i.MalloyParser.STRING:case _i.MalloyParser.NUMBER:case _i.MalloyParser.BOOLEAN:case _i.MalloyParser.DATE:case _i.MalloyParser.TIMESTAMP:t(i,Qi.HighlightType.Type);break;case _i.MalloyParser.SECOND:case _i.MalloyParser.MINUTE:case _i.MalloyParser.HOUR:case _i.MalloyParser.DAY:case _i.MalloyParser.WEEK:case _i.MalloyParser.MONTH:case _i.MalloyParser.QUARTER:case _i.MalloyParser.YEAR:t(i,Qi.HighlightType.Call.TimeFrame);break;case _i.MalloyParser.IMPORT:t(i,Qi.HighlightType.Keyword.Import);break}}return e}Qi.passForHighlights=a0t;var pSe=class{constructor(e,t){this.tokens=e,this.highlights=t}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}enterExprFunc(e){let t=e.id()||e.timeframe();t&&this.highlights.push({range:this.rangeOf(t),type:Qi.HighlightType.Call.Function})}};function u0t(n,e){let t=new pSe(n,[]),r=t;return o0t.ParseTreeWalker.DEFAULT.walk(r,e),t.highlights}Qi.walkForDocumentHighlights=u0t;function l0t(n){return n.sort((e,t)=>e.range.start.line<t.range.start.line?-1:e.range.start.line>t.range.start.line?1:e.range.start.character<t.range.start.character?-1:e.range.start.character>t.range.start.character?1:0)}Qi.sortHighlights=l0t});var xSe=we(l$=>{"use strict";m();Object.defineProperty(l$,"__esModule",{value:!0});l$.walkForDocumentCompletions=void 0;var c0t=G6(),f0t=["dimension","measure","join_one","join_many","join_cross","where","primary_key","rename","accept","except","query","declare"],d0t=["group_by","project","index","aggregate","top","limit","order_by","where","having","nest","declare"],h0t=["source","explore","query","sql"],mSe=class{constructor(e,t,r){this.tokens=e,this.completions=t,this.position=r}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){let{start:t,end:r}=e,i=this.position.line>t.line||this.position.line===t.line&&this.position.character>=t.character,s=this.position.line<r.line||this.position.line===r.line&&this.position.character<=r.character;return i&&s}enterExploreProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.exploreStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of f0t)this.completions.push({type:"explore_property",text:`${r}: `})}}enterQueryProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.queryStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of d0t)this.completions.push({type:"query_property",text:`${r}: `})}}enterMalloyDocument(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.malloyStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of h0t)this.completions.push({type:"model_property",text:`${r}: `})}}};function p0t(n,e,t){let r=new mSe(n,[],t),i=r;return c0t.ParseTreeWalker.DEFAULT.walk(i,e),r.completions}l$.walkForDocumentCompletions=p0t});var ySe=we(gSe=>{"use strict";m();Object.defineProperty(gSe,"__esModule",{value:!0})});var _Se=we(vSe=>{"use strict";m();Object.defineProperty(vSe,"__esModule",{value:!0})});var ESe=we(c$=>{"use strict";m();Object.defineProperty(c$,"__esModule",{value:!0});c$.ParseTreeProperty=void 0;var bSe=class{constructor(e="ParseTreeProperty"){this._symbol=Symbol(e)}get(e){return e[this._symbol]}set(e,t){e[this._symbol]=t}removeFrom(e){let t=e[this._symbol];return delete e[this._symbol],t}};c$.ParseTreeProperty=bSe});var CSe=we(SSe=>{"use strict";m();Object.defineProperty(SSe,"__esModule",{value:!0})});var ASe=we(wSe=>{"use strict";m();Object.defineProperty(wSe,"__esModule",{value:!0})});var FSe=we(TSe=>{"use strict";m();Object.defineProperty(TSe,"__esModule",{value:!0})});var DSe=we(vf=>{"use strict";m();var m0t=vf&&vf.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),h1=vf&&vf.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&m0t(e,n,t)};Object.defineProperty(vf,"__esModule",{value:!0});h1(Qse(),vf);h1(dS(),vf);h1(ySe(),vf);h1(_Se(),vf);h1(ESe(),vf);h1(CSe(),vf);h1(G6(),vf);h1(hS(),vf);h1(ASe(),vf);h1(Vg(),vf);h1(FSe(),vf);h1(Wg(),vf)});var NSe=we(f$=>{"use strict";m();Object.defineProperty(f$,"__esModule",{value:!0});f$.walkForDocumentHelpContext=void 0;var x0t=DSe(),OSe=class extends x0t.AbstractParseTreeVisitor{constructor(e){super();this.position=e,this.type=""}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){return e.start.line<=this.position.line&&e.end.line>=this.position.line&&(this.position.line!==e.start.line||this.position.character>=e.start.character)&&(this.position.line!==e.end.line||this.position.character<=e.end.character)}defaultResult(){}visitChildren(e){let t=this.defaultResult();if(this.inRange(this.rangeOf(e))){t={type:this.type,token:e.start.text};let r=e.childCount;for(let i=0;i<r;i++){let o=e.getChild(i).accept(this);o&&(t=this.aggregateResult(t,o))}}return t}visitMalloyDocument(e){return this.inRange(this.rangeOf(e))?(this.type="model_property",this.visitChildren(e)):this.defaultResult()}visitExploreProperties(e){return this.inRange(this.rangeOf(e))?(this.type="explore_property",this.visitChildren(e)):this.defaultResult()}visitQueryProperties(e){return this.inRange(this.rangeOf(e))?(this.type="query_property",this.visitChildren(e)):this.defaultResult()}aggregateResult(e,t){return t}};function g0t(n,e){return new OSe(e).visit(n)}f$.walkForDocumentHelpContext=g0t});var LSe=we(d$=>{"use strict";m();Object.defineProperty(d$,"__esModule",{value:!0});d$.ReferenceList=void 0;var RSe=class{constructor(e){this.sourceURL=e,this.references=[]}findIndexBefore(e){let t=0,r=this.references.length;for(;t<r;){let i=Math.floor((t+r)/2),s=this.references[i].location.range.end;s.line<e.line||s.line===e.line&&s.character<e.character?t=i+1:r=i}return t}add(e){if(e.location.url!==this.sourceURL)return;let t=this.findIndexBefore(e.location.range.end);t<this.references.length&&this.isPositionEqual(e,this.references[t])||this.references.splice(t,0,e)}isPositionEqual(e,t){let r=e.location.range,i=t.location.range;return r.start.line===i.start.line&&r.start.character===i.start.character&&r.end.line===i.end.line&&r.end.character===i.end.character}find(e){let t=this.findIndexBefore(e);if(t===this.references.length)return;let r=this.references[t];if(r.location.range.start.line<=e.line&&r.location.range.end.line>=e.line&&(e.line!==r.location.range.start.line||e.character>=r.location.range.start.character)&&(e.line!==r.location.range.end.line||e.character<=r.location.range.end.character))return r}};d$.ReferenceList=RSe});var VSe=we(ph=>{"use strict";m();var y0t=ph&&ph.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),v0t=ph&&ph.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),_0t=ph&&ph.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&y0t(e,n,t);return v0t(e,n),e};Object.defineProperty(ph,"__esModule",{value:!0});ph.MalloyTranslator=ph.MalloyTranslation=ph.SQLExploreZone=void 0;var kSe=nEe(),b0t=iEe(),E0t=kie(),h$=_0t(H5()),S0t=sSe(),C0t=aSe(),w0t=lSe(),Kse=fSe(),A0t=hSe(),Jse=Yse(),T0t=xSe(),F0t=NSe(),D0t=LSe(),ISe=class{constructor(e,t){this.translator=e,this.messages=t}syntaxError(e,t,r,i,s,o){let a={line:r-1,character:i},c=t?this.translator.rangeFromToken(t):{start:a,end:a},d={message:s,at:{url:this.translator.sourceURL,range:c}};this.messages.log(d)}},Xse=class extends Kse.Zone{constructor(){super(...arguments);this.keyed={}}referenceBlock(e,t){let r=e.sqlBlock();this.reference(r.name,t),this.keyed[r.name]=r}getUndefinedBlocks(){let e=this.getUndefined();if(e)return e.map(t=>this.keyed[t])}};ph.SQLExploreZone=Xse;function p$(n){return!!n&&(n.tables||n.urls||n.sqlStructs)!=null}var MSe=class{step(e){if(this.response)return this.response;if(e.urlIsFullPath===void 0)try{let s=new URL(e.sourceURL);e.urlIsFullPath=!0}catch(s){let o=s instanceof Error?s.message:"";e.urlIsFullPath=!1,e.root.logger.log({message:`Could not compute full path URL: ${o}`})}if(!e.urlIsFullPath)return e.fatalErrors();let t=e.root.importZone.getEntry(e.sourceURL);if(t.status!=="present"){if(t.status==="error"){let s=t.message.includes(e.sourceURL)?`import error: ${t.message}`:`import '${e.sourceURL}' error: ${t.message}`,o=t.firstReference||e.defaultLocation();return e.root.logger.log({message:s,at:o}),this.response=e.fatalErrors(),this.response}return{urls:[e.sourceURL]}}let r=t.value==""?`
`:t.value;this.sourceInfo=this.getSourceInfo(r);let i=this.runParser(r,e);return e.root.logger.hasErrors()?this.response={parse:i,...e.fatalErrors()}:this.response={parse:i},this.response}getSourceInfo(e){let t=/\r?\n/,r={at:[],lines:[],length:e.length},i=e,s=0;for(;i!=="";){let o=i.match(t);if(o&&o.index!=null){r.lines.push(i.slice(0,o.index));let a=o.index+o[0].length;r.at.push({begin:s,end:s+a}),s+=a,i=i.slice(a)}else{r.lines.push(i),r.at.push({begin:s,end:s+i.length});break}}return r}runParser(e,t){let r=kSe.CharStreams.fromString(e),i=new b0t.MalloyLexer(r),s=new kSe.CommonTokenStream(i),o=new E0t.MalloyParser(s);o.removeErrorListeners(),o.addErrorListener(new ISe(t,t.root.logger));let a=o[t.grammarRule];if(!a)throw new Error(`No such parse rule as ${t.grammarRule}`);return{root:a.call(o),tokenStream:s,sourceStream:r,malloyVersion:"?.?.?-????",subTranslator:t}}},PSe=class{constructor(e){this.parseStep=e,this.alreadyLooked=!1}step(e){let t=this.parseStep.step(e);if(t.parse==null)return t;if(!this.alreadyLooked){this.alreadyLooked=!0;let o=(0,w0t.findReferences)(e,t.parse.tokenStream,t.parse.root);if(o==null?void 0:o.tables)for(let a in o.tables)e.root.schemaZone.reference(a,{url:e.sourceURL,range:o.tables[a]});if(o==null?void 0:o.urls)for(let a in o.urls){let c=o.urls[a];try{let d=decodeURI(new URL(a,e.sourceURL).toString());e.addChild(d),e.root.importZone.reference(d,{url:e.sourceURL,range:c})}catch{e.root.logger.log({message:`Malformed URL '${a}'"`,at:{url:e.sourceURL,range:c}})}}}if(e.root.logger.hasErrors())return null;let r={},i=e.root.schemaZone.getUndefined();i&&(r={tables:i});let s=e.root.importZone.getUndefined();if(s&&(r={...r,urls:s}),p$(r))return r;for(let o of e.childTranslators.values()){let a=o.importsAndTablesStep.step(o);if(p$(a))return a}return null}},BSe=class{constructor(e){this.importStep=e,this.walked=!1}step(e){if(this.response)return this.response;let t=this.importStep.step(e);if(t)return t;let r=e.parseStep.response;if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;let i=r==null?void 0:r.parse;if(!i)throw new Error("TRANSLATOR INTERNAL ERROR: Translator parse response had no errors, but also no parser");let o=new S0t.MalloyToAST(i,e.root.logger).visit(i.root);if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;if(o.elementType==="unimplemented")throw new Error("TRANSLATOR INTERNAL ERROR: Unimplemented AST node");let a={};if(this.walked||(o.walk(p=>{p instanceof h$.SQLSource?(a[p.refName]||(a[p.refName]={}),a[p.refName].ref=p):p instanceof h$.SQLStatement&&p.is?(a[p.is]||(a[p.is]={}),a[p.is].def=p):p instanceof h$.Unimplemented&&p.log("INTERNAL COMPILER ERROR: Untranslated parse node")}),this.walked=!0),e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;let c=e.root.sqlQueryZone;for(let p in a){let b=a[p];if(b.ref&&b.def){let C={url:e.sourceURL,range:b.def.location.range};e.root.sqlQueryZone.referenceBlock(b.def,C)}}for(let p of e.childTranslators.values()){let b=p.astStep.step(p);if(p$(b))return b}let d=c.getUndefinedBlocks();return d?{sqlStructs:d}:(o.setTranslator(e),this.response={...e.errors(),ast:o,final:!0},this.response)}},jSe=class{constructor(e){this.parseStep=e}step(e){if(!this.response){let t=this.parseStep.step(e);if(t.parse){let r;try{r=(0,A0t.walkForDocumentSymbols)(e,t.parse.tokenStream,t.parse.root)}catch{}let i;try{i=(0,Jse.walkForDocumentHighlights)(t.parse.tokenStream,t.parse.root)}catch{i=[]}this.response={symbols:r,highlights:(0,Jse.sortHighlights)([...(0,Jse.passForHighlights)(t.parse.tokenStream),...i]),final:!0}}else return t}return this.response}},qSe=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i=[];if(t!==void 0)try{i=(0,T0t.walkForDocumentCompletions)(r.parse.tokenStream,r.parse.root,t)}catch{}return{...r,completions:i}}else return r}},USe=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i;if(t!==void 0)try{i=(0,F0t.walkForDocumentHelpContext)(r.parse.root,t)}catch{}return{...r,helpContext:i}}else return r}},$Se=class{constructor(e){this.astStep=e}step(e,t){if(this.response)return this.response;let r=this.astStep.step(e);if(p$(r))return r;if(!r.ast)return this.response=r,this.response;if(e.grammarRule==="malloyDocument")if(r.ast instanceof h$.Document){let i=r.ast;e.modelDef=i.getModelDef(t),e.queryList=i.queryList,e.sqlBlocks=i.sqlBlocks}else e.root.logger.log({message:`'${e.sourceURL}' did not parse to malloy document`,at:e.defaultLocation()});return e.root.logger.hasErrors()?this.response=e.fatalErrors():this.response={translated:{modelDef:e.modelDef,queryList:e.queryList,sqlBlocks:e.sqlBlocks},...e.errors(),final:!0},this.response}},m$=class{constructor(e,t="malloyDocument"){this.sourceURL=e,this.grammarRule=t,this.queryList=[],this.sqlBlocks=[],this.childTranslators=new Map,this.modelDef={name:e,exports:[],contents:{}},this.parseStep=new MSe,this.metadataStep=new jSe(this.parseStep),this.completionsStep=new qSe(this.parseStep),this.helpContextStep=new USe(this.parseStep),this.importsAndTablesStep=new PSe(this.parseStep),this.astStep=new BSe(this.importsAndTablesStep),this.translateStep=new $Se(this.astStep),this.references=new D0t.ReferenceList(e)}addChild(e){this.childTranslators.get(e)||this.childTranslators.set(e,new zSe(e,this.root))}addReference(e){this.references.add(e)}referenceAt(e){return this.references.find(e)}fatalErrors(){return{final:!0,errors:[...this.root.logger.getLog()]}}errors(){return{errors:[...this.root.logger.getLog()]}}getLineMap(e){var t,r;if(e==this.sourceURL)return(t=this.parseStep.sourceInfo)===null||t===void 0?void 0:t.lines;let i=this.childTranslators.get(e);if(i)return(r=i.parseStep.sourceInfo)===null||r===void 0?void 0:r.lines}prettyErrors(){let e="",t="";for(let r of this.root.logger.getLog()){let i=r.message,s=this.sourceURL;if(r.at){s=r.at.url;let o=r.at.range.start.line,a=r.at.range.start.character,c=this.getLineMap(r.at.url);if(c){let d=c[o];i=`line ${o+1}: ${r.message}
  | ${d}`,a>0&&(i=i+`
  | ${" ".repeat(a)}^`)}else i=`line ${o+1}: char ${a}: ${r.message}`}t!==s&&(i=`FILE: ${s}
`+i,t=s),e!==""?e=`${e}
${i}`:e=i}return e}getChildExports(e){let t={},r=decodeURI(new URL(e,this.sourceURL).toString()),i=this.childTranslators.get(r);if(i&&i.translate().translated)for(let o of i.modelDef.exports){let a=i.modelDef.contents[o];a.type==="struct"&&(t[o]=a)}return t}translate(e){if(this.finalAnswer)return this.finalAnswer;let t=this.translateStep.step(this,e);return t.final&&(this.finalAnswer=t),t}metadata(){return this.metadataStep.step(this)}completions(e){return this.completionsStep.step(this,e)}helpContext(e){return this.helpContextStep.step(this,e)}defaultLocation(){return{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}rangeFromContext(e){return this.rangeFromTokens(e.start,e.stop||e.start)}rangeFromTokens(e,t){let r={line:e.line-1,character:e.charPositionInLine};if(this.parseStep.sourceInfo&&t.stopIndex!=-1){let i=this.parseStep.sourceInfo.lines.length-1;for(let s=e.line-1;s<=i;s++){let o=this.parseStep.sourceInfo.at[s];if(t.stopIndex>=o.begin&&t.stopIndex<=o.end)return{start:r,end:{line:s,character:t.stopIndex-o.begin+1}}}return{start:r,end:{line:i,character:this.parseStep.sourceInfo.lines[i].length}}}return{start:r,end:r}}rangeFromToken(e){return this.rangeFromTokens(e,e)}};ph.MalloyTranslation=m$;var zSe=class extends m${constructor(e,t){super(e);this.root=t}},HSe=class extends m${constructor(e,t=null){super(e);this.schemaZone=new Kse.Zone,this.importZone=new Kse.Zone,this.sqlQueryZone=new Xse,this.logger=new C0t.MessageLog,this.root=this,t&&this.update(t)}update(e){var t,r,i;this.schemaZone.updateFrom(e.tables,(t=e.errors)===null||t===void 0?void 0:t.tables),this.importZone.updateFrom(e.urls,(r=e.errors)===null||r===void 0?void 0:r.urls),this.sqlQueryZone.updateFrom(e.sqlStructs,(i=e.errors)===null||i===void 0?void 0:i.sqlStructs)}};ph.MalloyTranslator=HSe});var WSe=we(DC=>{"use strict";m();Object.defineProperty(DC,"__esModule",{value:!0});DC.exploreQueryWalkerBuilder=DC.ExploreQueryWalker=void 0;var O0t=G6(),Zse=class{constructor(e){this.inDocument=!1,this.exploreClauseRefs=[],this.tokens=e}exploreQueryAtOffset(e){return this.exploreClauseRefs.find(t=>t.range[0]===void 0||t.range[1]===void 0?!1:t.range[0]<=e&&t.range[1]>=e)}filterAtOffset(e){let t=this.exploreQueryAtOffset(e);if(!!t)return t.filterRefs.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e)}hasFilterListAtOffset(e){let t=this.exploreQueryAtOffset(e);return t?!!t.filterLists.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e):!1}enterMalloyDocument(){this.inDocument=!0}};DC.ExploreQueryWalker=Zse;function N0t(n,e){let t=new Zse(n),r=t;return O0t.ParseTreeWalker.DEFAULT.walk(r,e),t}DC.exploreQueryWalkerBuilder=N0t});var eoe=we(J5=>{"use strict";m();Object.defineProperty(J5,"__esModule",{value:!0});J5.HighlightType=J5.exploreQueryWalkerBuilder=J5.MalloyTranslator=void 0;var R0t=VSe();Object.defineProperty(J5,"MalloyTranslator",{enumerable:!0,get:function(){return R0t.MalloyTranslator}});var L0t=WSe();Object.defineProperty(J5,"exploreQueryWalkerBuilder",{enumerable:!0,get:function(){return L0t.exploreQueryWalkerBuilder}});var k0t=Yse();Object.defineProperty(J5,"HighlightType",{enumerable:!0,get:function(){return k0t.HighlightType}})});var tCe=we(Zr=>{"use strict";m();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.CSVWriter=Zr.JSONWriter=Zr.DataWriter=Zr.DataRecord=Zr.DataArray=Zr.Result=Zr.ExploreMaterializer=Zr.SQLBlockMaterializer=Zr.PreparedResultMaterializer=Zr.QueryMaterializer=Zr.ModelMaterializer=Zr.SingleConnectionRuntime=Zr.ConnectionRuntime=Zr.Runtime=Zr.ExploreField=Zr.JoinRelationship=Zr.QueryField=Zr.Query=Zr.StringField=Zr.BooleanField=Zr.NumberField=Zr.TimestampField=Zr.DateField=Zr.TimestampTimeframe=Zr.DateTimeframe=Zr.AtomicField=Zr.AtomicFieldType=Zr.Explore=Zr.SourceRelationship=Zr.FixedConnectionMap=Zr.InMemoryURLReader=Zr.EmptyURLReader=Zr.PreparedResult=Zr.DocumentCompletion=Zr.DocumentSymbol=Zr.DocumentPosition=Zr.DocumentRange=Zr.DocumentHighlight=Zr.Parse=Zr.parseTableURI=Zr.PreparedQuery=Zr.Model=Zr.MalloyError=Zr.Malloy=void 0;var I0t=eoe(),x$=K7(),$c=class{static get version(){return"0.0.1"}static get log(){return $c._log||console}static setLogger(e){$c._log=e}static _parse(e,t){t===void 0&&(t=new URL("internal://internal.malloy"));let r=new I0t.MalloyTranslator(t.toString(),{urls:{[t.toString()]:e}});return new noe(r)}static parse({url:e,urlReader:t,source:r}){if(r!==void 0)return $c._parse(r,e);if(t===void 0)throw new Error("Internal Error: urlReader is required.");if(e===void 0)throw new Error("Internal Error: url is required if source not present.");return t.readURL(e).then(i=>$c._parse(i,e))}static async compile({urlReader:e,connections:t,parse:r,model:i}){let s=r._translator;for(;;){let o=s.translate(i==null?void 0:i._modelDef);if(o.final){if(o.translated)return new xO(o.translated.modelDef,o.translated.queryList,o.translated.sqlBlocks,a=>s.referenceAt(a));{let a=o.errors||[],c=s.prettyErrors();throw new toe(`Error(s) compiling model:
${c}`,a)}}else{if(o.urls)for(let a of o.urls)try{if(a.startsWith("internal://"))throw new Error("In order to use relative imports, you must compile a file via a URL.");let c=await e.readURL(new URL(a)),d={[a]:c};s.update({urls:d})}catch(c){s.update({errors:{urls:{[a]:c.message}}})}if(o.tables){let a=new Map;for(let c of o.tables){let{connectionName:d}=QSe(c),p=a.get(d);p?p.push(c):p=[c],a.set(d,p)}for(let[c,d]of a)try{let p=await t.lookupConnection(c),{schemas:b,errors:C}=await p.fetchSchemaForTables(d);s.update({tables:b,errors:{tables:C}})}catch(p){let b={},C={};for(let N of d)C[N]=p.toString();s.update({tables:b,errors:{tables:C}})}}if(o.sqlStructs){let a=new Map;for(let c of o.sqlStructs){let d=c.connection,p=a.get(d);p?p.push(c):p=[c],a.set(d,p)}for(let[c,d]of a)try{let p=await t.lookupConnection(c),{schemas:b,errors:C}=await p.fetchSchemaForSQLBlocks(d);s.update({sqlStructs:b}),s.update({sqlStructs:b,errors:{sqlStructs:C}})}catch(p){let b={},C={};for(let N of d)C[N.name]=p.toString();s.update({sqlStructs:b,errors:{sqlStructs:C}})}}}}}static async runSQLBlockAndFetchResultSchema(e,t,r){if(e.canFetchSchemaAndRunSimultaneously())return e.runSQLBlockAndFetchResultSchema(t,r);let[i,s]=await Promise.all([e.fetchSchemaForSQLBlocks([t]).then(o=>o.schemas[t.name]),e.runSQL(t.select)]);return{schema:i,data:s}}static async run({connections:e,preparedResult:t,sqlBlock:r,connection:i,options:s}){if(r===void 0&&t===void 0)throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let o=(r==null?void 0:r.connection)||(t==null?void 0:t.connectionName);if(i===void 0){if(e===void 0)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");i=await e.lookupConnection(o)}if(r!==void 0){let{schema:a,data:c}=await this.runSQLBlockAndFetchResultSchema(i,r,s);if(a.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");return new IC({structs:[a],sql:r.select,result:c.rows,totalRows:c.totalRows,lastStageName:a.name,malloy:"",connectionName:a.structRelationship.connectionName,sourceExplore:"",sourceFilters:[]},{name:"empty_model",exports:[],contents:{}})}else if(t!==void 0){let a=await i.runSQL(t.sql,s);return new IC({...t._rawQuery,result:a.rows,totalRows:a.totalRows},t._modelDef)}else throw new Error("Internal error: sqlBlock or preparedResult must be provided.")}static async*runStream({connections:e,preparedResult:t,sqlBlock:r,connection:i,options:s}){if(r===void 0&&t===void 0)throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let o=(r==null?void 0:r.connection)||(t==null?void 0:t.connectionName);if(i===void 0){if(e===void 0)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");i=await e.lookupConnection(o)}if(!i.canStream())throw new Error(`Connection '${o}' cannot stream results.`);let a,c;if(r!==void 0){let p=(await i.fetchSchemaForSQLBlocks([r])).schemas[r.name];if(p.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");c=new gx(p),a=r.select}else if(t!==void 0)c=t.resultExplore,a=t.sql;else throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let d=0;for await(let p of i.runSQLStream(a,s))yield new X5(p,d,c,void 0),d+=1}};Zr.Malloy=$c;var toe=class extends Error{constructor(e,t=[]){super(e);this.log=t}};Zr.MalloyError=toe;var xO=class{constructor(e,t,r,i=()=>{}){this.modelDef=e,this.queryList=t,this.sqlBlocks=r,this._referenceAt=i}getReference(e){return this._referenceAt(e)}getPreparedQueryByName(e){let t=this.modelDef.contents[e];if(t.type==="query")return new Y6(t,this.modelDef,e);throw new Error("Given query name does not refer to a named query.")}getPreparedQueryByIndex(e){if(e<0)throw new Error(`Invalid index ${e}.`);if(e>=this.queryList.length)throw new Error(`Query index ${e} is out of bounds.`);return new Y6(this.queryList[e],this.modelDef)}getSQLBlockByName(e){let t=this.sqlBlocks.find(r=>r.as===e);if(t===void 0)throw new Error(`No SQL Block named '${e}'`);return t}getSQLBlockByIndex(e){let t=this.sqlBlocks[e];if(t===void 0)throw new Error(`No SQL Block at index ${e}`);return t}get preparedQuery(){if(this.queryList.length===0)throw new Error("Model has no queries.");return new Y6(this.queryList[this.queryList.length-1],this.modelDef)}getExploreByName(e){let t=this.modelDef.contents[e];if(t.type==="struct")return new gx(t);throw new Error("'name' is not an explore")}get explores(){let e=[];for(let t in this.modelDef.contents){let r=this.modelDef.contents[t];r.type==="struct"&&e.push(new gx(r))}return e}get exportedExplores(){return this.explores.filter(e=>this.modelDef.exports.includes(e.name))}get _modelDef(){return this.modelDef}};Zr.Model=xO;var Y6=class{constructor(e,t,r){this._query=e,this._modelDef=t,this.name=r}get preparedResult(){let t=new x$.QueryModel(this._modelDef).compileQuery(this._query);return new y$({...t,queryName:this.name||t.queryName},this._modelDef)}get dialect(){let e=this._query.structRef,t=typeof e=="string"?this._modelDef.contents[e]:e;if(t.type!=="struct")throw new Error("Invalid source for query");return t.dialect}};Zr.PreparedQuery=Y6;function QSe(n){let[e,t]=n.split(":");return t?{connectionName:e,tablePath:t}:{tablePath:e}}Zr.parseTableURI=QSe;var noe=class{constructor(e){this.translator=e}get highlights(){return(this.translator.metadata().highlights||[]).map(e=>new roe(e))}get symbols(){return(this.translator.metadata().symbols||[]).map(e=>new gO(e))}get _translator(){return this.translator}completions(e){return(this.translator.completions(e).completions||[]).map(t=>new ioe(t))}helpContext(e){return this.translator.helpContext(e).helpContext}};Zr.Parse=noe;var roe=class{constructor(e){this._range=new g$(new OC(e.range.start.line,e.range.start.character),new OC(e.range.end.line,e.range.end.character)),this._type=e.type}get range(){return this._range}get type(){return this._type}};Zr.DocumentHighlight=roe;var g$=class{constructor(e,t){this._start=e,this._end=t}get start(){return this._start}get end(){return this._end}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}};Zr.DocumentRange=g$;var OC=class{constructor(e,t){this._line=e,this._character=t}get line(){return this._line}get character(){return this._character}toJSON(){return{line:this.line,character:this.character}}};Zr.DocumentPosition=OC;var gO=class{constructor(e){this._range=new g$(new OC(e.range.start.line,e.range.start.character),new OC(e.range.end.line,e.range.end.character)),this._type=e.type,this._name=e.name,this._children=e.children.map(t=>new gO(t))}get range(){return this._range}get type(){return this._type}get name(){return this._name}get children(){return this._children}};Zr.DocumentSymbol=gO;var ioe=class{constructor(e){this.type=e.type,this.text=e.text}};Zr.DocumentCompletion=ioe;var y$=class{constructor(e,t){this.inner=e,this.modelDef=t}get connectionName(){return this.inner.connectionName}get _rawQuery(){return this.inner}get _modelDef(){return this.modelDef}get sql(){return this.inner.sql}get resultExplore(){if(this.inner.structs.length===0)throw new Error("Malformed query result.");let e=this.inner.structs[this.inner.structs.length-1],t={...e,name:this.inner.queryName||e.name};try{return new gx(t,this.sourceExplore)}catch{return new gx(t)}}get sourceExplore(){let e=this.inner.sourceExplore,t=this.modelDef.contents[e];if(t===void 0)throw new Error("Malformed query result.");if(t.type==="struct")return new gx(t);throw new Error(`'${e} is not an explore`)}get _sourceExploreName(){return this.inner.sourceExplore}get _sourceFilters(){return this.inner.sourceFilters||[]}};Zr.PreparedResult=y$;var soe=class{async readURL(e){throw new Error("No files.")}};Zr.EmptyURLReader=soe;var GSe=class{constructor(e){this.files=e}async readURL(e){let t=this.files.get(e.toString());if(t!==void 0)return Promise.resolve(t);throw new Error(`File not found '${e}'`)}};Zr.InMemoryURLReader=GSe;var NC=class{constructor(e,t){this.connections=e,this.defaultConnectionName=t}async getConnection(e){if(e===void 0)if(this.defaultConnectionName!==void 0)e=this.defaultConnectionName;else throw new Error("No default connection.");let t=this.connections.get(e);if(t!==void 0)return Promise.resolve(t);throw new Error(`No connection found with name ${e}.`)}async lookupConnection(e){return this.getConnection(e)}static fromArray(e){return new NC(new Map(e.map(t=>[t.name,t])))}};Zr.FixedConnectionMap=NC;var K6;(function(n){n.Nested="nested",n.BaseTable="base_table",n.Cross="cross",n.One="one",n.Many="many",n.Inline="inline"})(K6=Zr.SourceRelationship||(Zr.SourceRelationship={}));var v$=class{constructor(e,t,r){this._name=e,this._parent=t,this._source=r}get source(){return this.source}get name(){return this._name}get sourceClasses(){let e=[];return this.source&&e.push(this.source.name),e.push(this.name),e}hasParentExplore(){return this._parent!==void 0}isExplore(){return this instanceof gx}isQuery(){return this instanceof C$}},gx=class extends v${constructor(e,t,r){super(e.as||e.name,t,r);this._structDef=e,this._parentExplore=t,this.sourceExplore=r}get source(){return this.sourceExplore}isIntrinsic(){return(0,x$.FieldIsIntrinsic)(this._structDef)}get name(){return this.structDef.as||this.structDef.name}getQueryByName(e){let t={type:"query",structRef:this.structDef,pipeline:[{type:"reduce",fields:[e]}]};return new Y6(t,this.modelDef,e)}get modelDef(){return{name:"generated_model",exports:[],contents:{[this.structDef.name]:this.structDef}}}getSingleExploreModel(){return new xO(this.modelDef,[],[])}get fieldMap(){var e;if(this._fieldMap===void 0){let t=((e=this.source)===null||e===void 0?void 0:e.fieldMap)||new Map;this._fieldMap=new Map(this.structDef.fields.map(r=>{let i=r.as||r.name,s=t.get(r.name);if(r.type==="struct")return[i,new w$(r,this,s)];if(r.type==="turtle")return[i,new C$(r,this,s)];if(r.type==="string")return[i,new S$(r,this,s)];if(r.type==="number")return[i,new yO(r,this,s)];if(r.type==="date")return r.timeframe&&["day_of_month","day_of_week","day_of_year"].includes(r.timeframe)?[i,new yO({...r,type:"number"},this,s)]:[i,new _$(r,this,s)];if(r.type==="timestamp")return[i,new b$(r,this,s)];if(r.type==="boolean")return[i,new E$(r,this,s)]}))}return this._fieldMap}get allFields(){return[...this.fieldMap.values()]}get intrinsicFields(){return[...this.fieldMap.values()].filter(e=>e.isIntrinsic())}getFieldByName(e){let t=this.fieldMap.get(e);if(t===void 0)throw new Error(`No such field ${e}.`);return t}getFieldByNameIfExists(e){return this.fieldMap.get(e)}get primaryKey(){return this.structDef.primaryKey}get parentExplore(){return this._parentExplore}get sourceRelationship(){switch(this.structDef.structRelationship.type){case"many":return K6.Many;case"one":return K6.One;case"cross":return K6.Cross;case"inline":return K6.Inline;case"nested":return K6.Nested;case"basetable":return K6.BaseTable}}hasParentExplore(){return this instanceof w$}get filters(){var e;return((e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.filterList)||[]}get limit(){var e;return(e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.limit}get structDef(){return this._structDef}};Zr.Explore=gx;var RC;(function(n){n.String="string",n.Number="number",n.Boolean="boolean",n.Date="date",n.Timestamp="timestamp"})(RC=Zr.AtomicFieldType||(Zr.AtomicFieldType={}));var J6=class extends v${constructor(e,t,r){super(e.as||e.name,t,r);this.fieldTypeDef=e,this.parent=t}get type(){switch(this.fieldTypeDef.type){case"string":return RC.String;case"boolean":return RC.Boolean;case"date":return RC.Date;case"timestamp":return RC.Timestamp;case"number":return RC.Number}}isIntrinsic(){return(0,x$.FieldIsIntrinsic)(this.fieldTypeDef)}isQueryField(){return!1}isExploreField(){return!1}isAtomicField(){return!0}isAggregate(){return!!this.fieldTypeDef.aggregate}get sourceField(){throw new Error}get sourceClasses(){let e=this.fieldTypeDef.name||this.fieldTypeDef.as;return e?[e]:[]}sourceWasMeasure(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"}sourceWasMeasureLike(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct"}sourceWasDimension(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension"}hasParentExplore(){return!0}isString(){return this instanceof S$}isNumber(){return this instanceof yO}isDate(){return this instanceof _$}isBoolean(){return this instanceof E$}isTimestamp(){return this instanceof b$}get parentExplore(){return this.parent}get expression(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.sourceExpression)||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.sourceField)||this.name}};Zr.AtomicField=J6;var LC;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year"})(LC=Zr.DateTimeframe||(Zr.DateTimeframe={}));var sy;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year",n.Second="second",n.Hour="hour",n.Minute="minute"})(sy=Zr.TimestampTimeframe||(Zr.TimestampTimeframe={}));var _$=class extends J6{constructor(e,t,r){super(e,t,r);this.fieldDateDef=e}get timeframe(){if(this.fieldDateDef.timeframe!==void 0)switch(this.fieldDateDef.timeframe){case"day":return LC.Day;case"week":return LC.Week;case"month":return LC.Month;case"quarter":return LC.Quarter;case"year":return LC.Year}}};Zr.DateField=_$;var b$=class extends J6{constructor(e,t,r){super(e,t,r);this.fieldTimestampDef=e}get timeframe(){if(this.fieldTimestampDef.timeframe!==void 0)switch(this.fieldTimestampDef.timeframe){case"day":return sy.Day;case"week":return sy.Week;case"month":return sy.Month;case"quarter":return sy.Quarter;case"year":return sy.Year;case"second":return sy.Second;case"hour":return sy.Hour;case"minute":return sy.Minute}}};Zr.TimestampField=b$;var yO=class extends J6{constructor(e,t,r){super(e,t,r);this.fieldNumberDef=e}};Zr.NumberField=yO;var E$=class extends J6{constructor(e,t,r){super(e,t,r);this.fieldBooleanDef=e}};Zr.BooleanField=E$;var S$=class extends J6{constructor(e,t,r){super(e,t,r);this.fieldStringDef=e}};Zr.StringField=S$;var ooe=class extends v${constructor(e,t,r){super(e.as||e.name,t,r);this.turtleDef=e}get source(){return this.sourceQuery}isIntrinsic(){return!1}};Zr.Query=ooe;var C$=class extends ooe{constructor(e,t,r){super(e,t,r);this.parent=t}isQueryField(){return!0}isExploreField(){return!1}isAtomicField(){return!1}get sourceClasses(){let e=this.turtleDef.name||this.turtleDef.as;return e?[e]:[]}hasParentExplore(){return!0}get parentExplore(){return this.parent}get expression(){return this.name}};Zr.QueryField=C$;var vO;(function(n){n.OneToOne="one_to_one",n.OneToMany="one_to_many",n.ManyToOne="many_to_one"})(vO=Zr.JoinRelationship||(Zr.JoinRelationship={}));var w$=class extends gx{constructor(e,t,r){super(e,t,r);this._parentExplore=t}get joinRelationship(){switch(this.structDef.structRelationship.type){case"one":return vO.OneToMany;case"many":case"cross":return vO.ManyToOne;case"inline":return vO.OneToOne;case"nested":return vO.ManyToOne;default:throw new Error("An explore field must have a join relationship.")}}isQueryField(){return!1}isExploreField(){return!0}isAtomicField(){return!1}get parentExplore(){return this._parentExplore}get sourceClasses(){let e=this.structDef.name||this.structDef.as;return e?[e]:[]}};Zr.ExploreField=w$;var A$=class{constructor(...e){let t,r;for(let i of e)M0t(i)?t=i:P0t(i)?r=i:r={lookupConnection:()=>Promise.resolve(i)};if(t===void 0&&(t=new soe),r===void 0)throw new Error("A LookupConnection<Connection> or Connection is required.");this._urlReader=t,this._connections=r}get urlReader(){return this._urlReader}get connections(){return this._connections}loadModel(e){return new T$(this,async()=>{let t=e instanceof URL?await $c.parse({url:e,urlReader:this.urlReader}):$c.parse({source:e});return $c.compile({urlReader:this.urlReader,connections:this.connections,parse:t})})}_loadModelFromModelDef(e){return new T$(this,async function(){return new xO(e,[],[])})}loadQuery(e){return this.loadModel(e).loadFinalQuery()}loadQueryByIndex(e,t){return this.loadModel(e).loadQueryByIndex(t)}loadQueryByName(e,t){return this.loadModel(e).loadQueryByName(t)}loadSQLBlockByName(e,t){return this.loadModel(e).loadSQLBlockByName(t)}loadSQLBlockByIndex(e,t){return this.loadModel(e).loadSQLBlockByIndex(t)}getModel(e){return this.loadModel(e).getModel()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getQueryByIndex(e,t){return this.loadQueryByIndex(e,t).getPreparedQuery()}getQueryByName(e,t){return this.loadQueryByName(e,t).getPreparedQuery()}getSQLBlockByName(e,t){return this.loadSQLBlockByName(e,t).getSQLBlock()}getSQLBlockByIndex(e,t){return this.loadSQLBlockByIndex(e,t).getSQLBlock()}};Zr.Runtime=A$;var YSe=class extends A${constructor(e,t){if(t===void 0){let r=e;super(NC.fromArray(r));this.rawConnections=r}else{let r=t;super(e,NC.fromArray(r));this.rawConnections=r}}};Zr.ConnectionRuntime=YSe;var KSe=class extends A${constructor(e,t){if(t===void 0){let r=e;super(r);this.connection=r}else{let r=t;super(e,r);this.connection=r}}};Zr.SingleConnectionRuntime=KSe;var kC=class{constructor(e,t){this.runtime=e,this._materialize=t}materialize(){return this.materialized===void 0?this.rematerialize():this.materialized}rematerialize(){return this.materialized=this._materialize(),this.materialized}makeQueryMaterializer(e){return new aoe(this.runtime,e)}makeExploreMaterializer(e){return new coe(this.runtime,e)}makePreparedResultMaterializer(e){return new uoe(this.runtime,e)}makeSQLBlockMaterializer(e){return new loe(this.runtime,e)}},T$=class extends kC{loadFinalQuery(){return this.makeQueryMaterializer(async()=>(await this.materialize()).preparedQuery)}loadQueryByIndex(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByIndex(e))}loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByName(e))}loadQuery(e){return this.makeQueryMaterializer(async()=>{let t=this.runtime.urlReader,r=this.runtime.connections,i=e instanceof URL?await $c.parse({url:e,urlReader:t}):$c.parse({source:e}),s=await this.getModel();return(await $c.compile({urlReader:t,connections:r,parse:i,model:s})).preparedQuery})}async search(e,t,r=1e3,i=void 0){let s=await this.materialize(),o=new x$.QueryModel(s._modelDef),a=s.getExploreByName(e).structDef;if(a.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let c=a.structRelationship.connectionName,d=await this.runtime.connections.lookupConnection(c);return await o.searchIndex(d,e,t,r,i)}async searchValueMap(e,t=10){let i=(await this.materialize()).getExploreByName(e);if(i.structDef.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let s="{index: *}";i.getFieldByNameIfExists("search_index")&&(s="search_index");let o=`
      query: ${e}
        -> ${s}
        -> {
          where: fieldType = 'string'
          group_by: fieldName
          aggregate: cardinality is count(distinct fieldValue)
          nest: values is {
            project: fieldValue, weight
            order_by: weight desc
            limit: ${t}
          }
          limit: 1000
        }
    `;return(await this.loadQuery(o).run({rowLimit:1e3}))._queryResult.result}loadSQLBlockByName(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByName(e))}loadSQLBlockByIndex(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByIndex(e))}getFinalQuery(){return this.loadFinalQuery().getPreparedQuery()}getQueryByIndex(e){return this.loadQueryByIndex(e).getPreparedQuery()}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getSQLBlockByName(e){return this.loadSQLBlockByName(e).getSQLBlock()}getSQLBlockByIndex(e){return this.loadSQLBlockByIndex(e).getSQLBlock()}_loadQueryFromQueryDef(e){return this.makeQueryMaterializer(async()=>{let t=await this.materialize();return new Y6(e,t._modelDef)})}loadExploreByName(e){return this.makeExploreMaterializer(async()=>(await this.materialize()).getExploreByName(e))}getExploreByName(e){return this.loadExploreByName(e).getExplore()}getModel(){return this.materialize()}};Zr.ModelMaterializer=T$;var aoe=class extends kC{async run(e){let t=this.runtime.connections,r=await this.getPreparedResult();return $c.run({connections:t,preparedResult:r,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=$c.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}loadPreparedResult(){return this.makePreparedResultMaterializer(async()=>(await this.materialize()).preparedResult)}getPreparedResult(){return this.loadPreparedResult().getPreparedResult()}async getSQL(){return(await this.getPreparedResult()).sql}getPreparedQuery(){return this.materialize()}};Zr.QueryMaterializer=aoe;var uoe=class extends kC{async run(e){let t=await this.getPreparedResult(),r=this.runtime.connections;return $c.run({connections:r,preparedResult:t,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=$c.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}getPreparedResult(){return this.materialize()}async getSQL(){return(await this.getPreparedResult()).sql}};Zr.PreparedResultMaterializer=uoe;var loe=class extends kC{async run(e){let t=await this.getSQLBlock(),r=this.runtime.connections;return $c.run({connections:r,sqlBlock:t,options:e})}async*runStream(e){let t=await this.getSQLBlock(),r=this.runtime.connections,i=$c.runStream({connections:r,sqlBlock:t,options:e});for await(let s of i)yield s}getSQLBlock(){return this.materialize()}async getSQL(){return(await this.getSQLBlock()).select}};Zr.SQLBlockMaterializer=loe;var coe=class extends kC{loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getQueryByName(e))}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getExplore(){return this.materialize()}};Zr.ExploreMaterializer=coe;var IC=class extends y${constructor(e,t){super(e,t);this.inner=e}get _queryResult(){return this.inner}get data(){return new MC(this.inner.result,this.resultExplore,void 0)}get totalRows(){return this.inner.totalRows}toJSON(){return{queryResult:this.inner,modelDef:this._modelDef}}static fromJSON({queryResult:e,modelDef:t}){return new IC(e,t)}};Zr.Result=IC;var _O=class{constructor(e){this._field=e}get field(){return this._field}isString(){return this instanceof foe}get string(){if(this.isString())return this;throw new Error("Not a string.")}isBoolean(){return this instanceof doe}get boolean(){if(this.isBoolean())return this;throw new Error("Not a boolean.")}isNumber(){return this instanceof hoe}get number(){if(this.isNumber())return this;throw new Error("Not a number.")}isTimestamp(){return this instanceof poe}get timestamp(){if(this.isTimestamp())return this;throw new Error("Not a timestamp.")}isDate(){return this instanceof moe}get date(){if(this.isDate())return this;throw new Error("Not a date.")}isNull(){return this instanceof xoe}isBytes(){return this instanceof JSe}get bytes(){if(this.isBytes())return this;throw new Error("Not bytes.")}isRecord(){return this instanceof X5}get record(){if(this.isRecord())return this;throw new Error("Not a record.")}isArray(){return this instanceof MC}get array(){if(this.isArray())return this;throw new Error("Not an array.")}isArrayOrRecord(){if(this instanceof MC||this instanceof X5)return this;throw new Error("No Array or Record")}},X6=class extends _O{constructor(e,t){super(t);this._value=e,this._field=t}get value(){return this._value}get field(){return this._field}},foe=class extends X6{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},doe=class extends X6{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},hoe=class extends X6{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},poe=class extends X6{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value=="number"?new Date(super.value):typeof this._value!="string"?new Date(this._value.value):new Date(super.value)}get field(){return this._field}},moe=class extends X6{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value!="string"?new Date(this._value.value):new Date(super.value)}get field(){return this._field}},JSe=class extends X6{},xoe=class extends _O{get value(){return null}},MC=class extends _O{constructor(e,t,r){super(t);this.parent=r,this.queryData=e,this._field=t}get field(){return this._field}toObject(){return this.queryData}path(...e){return XSe(this,e)}row(e){return new X5(this.queryData[e],e,this.field,this)}get rowCount(){return this.queryData.length}get value(){return this.toObject()}[Symbol.iterator](){let e=0,t=this.queryData,r=i=>this.row(i);return{next(){return e<t.length?{value:r(e++),done:!1}:{value:void 0,done:!0}}}}async*inMemoryStream(){for(let e=0;e<this.queryData.length;e++)yield this.row(e)}};Zr.DataArray=MC;function XSe(n,e){for(let t of e)typeof t=="number"?n=n.array.row(t):n=n.record.cell(t);return n}var X5=class extends _O{constructor(e,t,r,i){super(r);this.parent=i,this.queryDataRow=e,this._field=r,this.index=t}toObject(){return this.queryDataRow}path(...e){return XSe(this,e)}cell(e){let t=typeof e=="string"?e:e.name,r=this._field.getFieldByName(t),i=this.queryDataRow[t];if(i===null)return new xoe(r);if(r.isAtomicField()){if(r.isBoolean())return new doe(i,r);if(r.isDate())return new moe(i,r);if(r.isTimestamp())return new poe(i,r);if(r.isNumber())return new hoe(i,r);if(r.isString())return new foe(i,r)}else if(r.isExploreField())return Array.isArray(i)?new MC(i,r,this):new X5(i,void 0,r,this);throw new Error(`Internal Error: could not construct data column for field '${t}'.`)}get value(){throw new Error("Not implemented;")}get field(){return this._field}[Symbol.iterator](){let e=!1,t=()=>this;return{next(){return e?{value:void 0,done:!0}:(e=!0,{value:t(),done:!1})}}}};Zr.DataRecord=X5;function M0t(n){return"readURL"in n}function P0t(n){return"lookupConnection"in n}var F$=class{constructor(e){this.stream=e}};Zr.DataWriter=F$;var ZSe=class extends F${async process(e){this.stream.write(`[
`);for await(let t of e){t.index!==void 0&&t.index>0&&this.stream.write(`,
`);let i=JSON.stringify(t.toObject(),null,2).split(`
`);for(let s=0;s<i.length;s++){let o=i[s];this.stream.write(`  ${o}`),s<i.length-1&&this.stream.write(`
`)}}this.stream.write(`
]
`),this.stream.close()}};Zr.JSONWriter=ZSe;var eCe=class extends F${constructor(){super(...arguments);this.columnSeparator=",",this.rowSeparator=`
`,this.quoteCharacter='"',this.includeHeader=!0}escape(e){let t=e.includes(this.quoteCharacter),r=e.includes(this.columnSeparator),i=e.includes(this.rowSeparator),s=r||t||i;return t&&(e=e.replace(new RegExp(this.quoteCharacter,"g"),this.quoteCharacter+this.quoteCharacter)),s&&(e=this.quoteCharacter+e+this.quoteCharacter),e}stringify(e){return e.isNull()?"":e.isArray()||e.isRecord()||e.isBoolean()||e.isNumber()?JSON.stringify(e.value):e.isDate()||e.isTimestamp()?e.value.toISOString():e.isString()?e.value:`${e.value}`}async process(e){let t;for await(let r of e){if(t===void 0&&(t=r.field.allFields,this.includeHeader)){for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(s.name)),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(this.stringify(r.cell(s)))),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}this.stream.close()}};Zr.CSVWriter=eCe});var nCe=we(D$=>{"use strict";m();Object.defineProperty(D$,"__esModule",{value:!0});D$.toAsyncGenerator=void 0;async function*B0t(n){let e=!1;function t(i){let s,o=new Promise(a=>{s=a});return i(a=>{s({done:!0,isError:!0,error:a})},a=>{s({done:!1,value:a,isError:!1,next:new Promise(c=>{s=c})})},()=>{s({done:!0,isError:!1})}),o}let r=t(n);for(;!e;){let i=await r;if(i.done){if(e=!0,i.isError)throw i.error;break}else r=i.next,yield i.value}}D$.toAsyncGenerator=B0t});var w2=we(Ts=>{"use strict";m();Object.defineProperty(Ts,"__esModule",{value:!0});Ts.toAsyncGenerator=Ts.DataWriter=Ts.JSONWriter=Ts.CSVWriter=Ts.QueryMaterializer=Ts.parseTableURI=Ts.Result=Ts.TimestampTimeframe=Ts.DateTimeframe=Ts.SourceRelationship=Ts.JoinRelationship=Ts.MalloyError=Ts.FixedConnectionMap=Ts.InMemoryURLReader=Ts.EmptyURLReader=Ts.SingleConnectionRuntime=Ts.ConnectionRuntime=Ts.AtomicFieldType=Ts.Runtime=Ts.Malloy=Ts.MalloyTranslator=Ts.HighlightType=Ts.isFilteredAliasedName=Ts.Segment=void 0;var rCe=K7();Object.defineProperty(Ts,"Segment",{enumerable:!0,get:function(){return rCe.Segment}});Object.defineProperty(Ts,"isFilteredAliasedName",{enumerable:!0,get:function(){return rCe.isFilteredAliasedName}});var iCe=eoe();Object.defineProperty(Ts,"HighlightType",{enumerable:!0,get:function(){return iCe.HighlightType}});Object.defineProperty(Ts,"MalloyTranslator",{enumerable:!0,get:function(){return iCe.MalloyTranslator}});var zc=tCe();Object.defineProperty(Ts,"Malloy",{enumerable:!0,get:function(){return zc.Malloy}});Object.defineProperty(Ts,"Runtime",{enumerable:!0,get:function(){return zc.Runtime}});Object.defineProperty(Ts,"AtomicFieldType",{enumerable:!0,get:function(){return zc.AtomicFieldType}});Object.defineProperty(Ts,"ConnectionRuntime",{enumerable:!0,get:function(){return zc.ConnectionRuntime}});Object.defineProperty(Ts,"SingleConnectionRuntime",{enumerable:!0,get:function(){return zc.SingleConnectionRuntime}});Object.defineProperty(Ts,"EmptyURLReader",{enumerable:!0,get:function(){return zc.EmptyURLReader}});Object.defineProperty(Ts,"InMemoryURLReader",{enumerable:!0,get:function(){return zc.InMemoryURLReader}});Object.defineProperty(Ts,"FixedConnectionMap",{enumerable:!0,get:function(){return zc.FixedConnectionMap}});Object.defineProperty(Ts,"MalloyError",{enumerable:!0,get:function(){return zc.MalloyError}});Object.defineProperty(Ts,"JoinRelationship",{enumerable:!0,get:function(){return zc.JoinRelationship}});Object.defineProperty(Ts,"SourceRelationship",{enumerable:!0,get:function(){return zc.SourceRelationship}});Object.defineProperty(Ts,"DateTimeframe",{enumerable:!0,get:function(){return zc.DateTimeframe}});Object.defineProperty(Ts,"TimestampTimeframe",{enumerable:!0,get:function(){return zc.TimestampTimeframe}});Object.defineProperty(Ts,"Result",{enumerable:!0,get:function(){return zc.Result}});Object.defineProperty(Ts,"parseTableURI",{enumerable:!0,get:function(){return zc.parseTableURI}});Object.defineProperty(Ts,"QueryMaterializer",{enumerable:!0,get:function(){return zc.QueryMaterializer}});Object.defineProperty(Ts,"CSVWriter",{enumerable:!0,get:function(){return zc.CSVWriter}});Object.defineProperty(Ts,"JSONWriter",{enumerable:!0,get:function(){return zc.JSONWriter}});Object.defineProperty(Ts,"DataWriter",{enumerable:!0,get:function(){return zc.DataWriter}});var j0t=nCe();Object.defineProperty(Ts,"toAsyncGenerator",{enumerable:!0,get:function(){return j0t.toAsyncGenerator}})});var aCe=we(O$=>{"use strict";m();Object.defineProperty(O$,"__esModule",{value:!0});O$.DuckDBCommon=void 0;var q0t=w2(),sCe={BIGINT:"number",DOUBLE:"number",VARCHAR:"string",DATE:"date",TIMESTAMP:"timestamp",TIME:"string",DECIMAL:"number",BOOLEAN:"boolean",INTEGER:"number"},oCe=class{constructor(){this.name="duckdb_common"}get dialectName(){return"duckdb"}isPool(){return!1}canPersist(){return!0}async runRawSQL(e){return await this.setup(),this.runDuckDBQuery(e)}async runSQL(e,t={}){var r;let i=(r=t.rowLimit)!==null&&r!==void 0?r:10,s=e.split("-- hack: split on this");for(;s.length>1;)await this.runRawSQL(s[0]),s.shift();let a=(await this.runRawSQL(s[0])).rows;return a.length>i&&(a=a.slice(0,i)),{rows:a,totalRows:a.length}}async runSQLBlockAndFetchResultSchema(e){let t=await this.runSQL(e.select),r=(await this.fetchSchemaForSQLBlocks([e])).schemas[e.name];return{data:t,schema:r}}async getSQLBlockSchema(e){let t={type:"struct",dialect:"duckdb",name:e.name,structSource:{type:"sql",method:"subquery",sqlBlock:e},structRelationship:{type:"basetable",connectionName:this.name},fields:[]};return await this.schemaFromQuery(`DESCRIBE SELECT * FROM (${e.select})`,t),t}splitColumns(e){let t=[],r=0,i="",s=!0;for(let o=0;o<e.length;o++){let a=e.charAt(o);s&&a===" "||(s=!1,!r&&a===","?(t.push(i),i="",s=!0):i+=a,a==="("?r+=1:a===")"&&(r-=1))}return t.push(i),t}stringToTypeMap(e){let t={},r=this.splitColumns(e);for(let i of r){let s=i.match(/^(?<name>[^\s]+) (?<type>.*)$/);if(s&&s.groups)t[s.groups.name]=s.groups.type;else throw new Error(`Badly form Structure definition ${e}`)}return t}fillStructDefFromTypeMap(e,t){for(let r in t){let i=t[r];i=i.replace(/^DECIMAL\(\d+,\d+\)/g,"DECIMAL");let s=sCe[i],o=i.match(/(?<duckDBType>.*)\[\]$/);o&&o.groups&&(i=o.groups.duckDBType);let a=i.match(/^STRUCT\((?<fields>.*)\)$/);if(a&&a.groups){let c=this.stringToTypeMap(a.groups.fields),d={type:"struct",name:r,dialect:this.dialectName,structSource:{type:o?"nested":"inline"},structRelationship:{type:o?"nested":"inline",field:r,isArray:!1},fields:[]};this.fillStructDefFromTypeMap(d,c),e.fields.push(d)}else if(o){s=sCe[i];let c={type:"struct",name:r,dialect:this.dialectName,structSource:{type:"nested"},structRelationship:{type:"nested",field:r,isArray:!0},fields:[{type:s,name:"value"}]};e.fields.push(c)}else if(s!==void 0)e.fields.push({type:s,name:r});else throw new Error(`unknown duckdb type ${i}`)}}async schemaFromQuery(e,t){let r={},i=await this.runRawSQL(e);for(let s of i.rows)r[s.column_name]=s.column_type;this.fillStructDefFromTypeMap(t,r)}async fetchSchemaForSQLBlocks(e){let t={},r={};for(let i of e)try{t[i.name]=await this.getSQLBlockSchema(i)}catch(s){r[i.name]=s}return{schemas:t,errors:r}}async fetchSchemaForTables(e){let t={},r={};for(let i of e)try{t[i]=await this.getTableSchema(i)}catch(s){r[i]=s.toString()}return{schemas:t,errors:r}}async getTableSchema(e){let{tablePath:t}=(0,q0t.parseTableURI)(e),r={type:"struct",name:t,dialect:"duckdb",structSource:{type:"table",tablePath:t},structRelationship:{type:"basetable",connectionName:this.name},fields:[]},s=`DESCRIBE SELECT * FROM ${t.match(/\//)?`'${t}'`:t}`;return await this.schemaFromQuery(s,r),r}canFetchSchemaAndRunSimultaneously(){return!1}canStream(){return!0}canFetchSchemaAndRunStreamSimultaneously(){return!1}async test(){await this.runRawSQL("SELECT 1")}async manifestTemporaryTable(e){let r=`tt${await this.createHash(e)}`,i=`CREATE TEMPORARY TABLE IF NOT EXISTS ${r} AS (${e});`;return await this.runRawSQL(i),r}};O$.DuckDBCommon=oCe});var cCe=we(yx=>{"use strict";m();var U0t=yx&&yx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),$0t=yx&&yx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),z0t=yx&&yx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&U0t(e,n,t);return $0t(e,n),e};Object.defineProperty(yx,"__esModule",{value:!0});yx.DuckDBWASMConnection=void 0;var N$=z0t(Dye()),H0t=YP(),V0t=aCe(),R$=n=>{if(n===null)return n;if(n instanceof H0t.Vector)return[...n].map(R$);if(n instanceof Date)return n;if(typeof n=="bigint")return Number(n);if(typeof n=="object"){let e=n;if(e[Symbol.toPrimitive])return Number(e[Symbol.toPrimitive]());if(Array.isArray(n))return n.map(R$);{let t={};for(let r in e)t[r]=R$(e[r]);return t}}return n},uCe=n=>R$(n.toJSON()),W0t=n=>n.toArray().map(uCe),lCe=class extends V0t.DuckDBCommon{constructor(e,t="test/data/duckdb/duckdb_test.db",r="/"){super();this.name=e,this.workingDirectory=r,this._connection=null,this._database=null,this.isSetup=!1,this.connecting=this.init()}async init(){let e=N$.getJsDelivrBundles(),t=await N$.selectBundle(e);if(t.mainWorker){let r=URL.createObjectURL(new Blob([`importScripts("${t.mainWorker}");`],{type:"text/javascript"})),i=new Worker(r),s=new N$.ConsoleLogger;this._database=new N$.AsyncDuckDB(s,i),await this._database.instantiate(t.mainModule,t.pthreadWorker),URL.revokeObjectURL(r),this._connection=await this._database.connect()}else throw new Error("Unable to instantiate duckdb-wasm")}get connection(){return this._connection}get database(){return this._database}async setup(){await this.connecting}async runDuckDBQuery(e){var t;let r=await((t=this.connection)===null||t===void 0?void 0:t.query(e));if((r==null?void 0:r.numRows)!=null)return{rows:W0t(r),totalRows:r.numRows};throw new Error("Boom")}async*runSQLStream(e,t={}){if(!this.connection)throw new Error("duckdb-wasm not connected");await this.setup();let r=e.split("-- hack: split on this");for(;r.length>1;)await this.runDuckDBQuery(r[0]),r.shift();for await(let i of await this.connection.send(r[0]))for(let s of i.toArray())yield uCe(s)}async createHash(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}};yx.DuckDBWASMConnection=lCe});var C9e=we((pRt,S9e)=>{m();var Gdt=typeof Element!="undefined",Ydt=typeof Map=="function",Kdt=typeof Set=="function",Jdt=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ez(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!ez(n[r],e[r]))return!1;return!0}var s;if(Ydt&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!ez(r.value[1],e.get(r.value[0])))return!1;return!0}if(Kdt&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(Jdt&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Gdt&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!ez(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}S9e.exports=function(e,t){try{return ez(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}});var j9e=we((dLt,B9e)=>{"use strict";m();var pht="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";B9e.exports=pht});var z9e=we((hLt,$9e)=>{"use strict";m();var mht=j9e();function q9e(){}function U9e(){}U9e.resetWarningCache=q9e;$9e.exports=function(){function n(r,i,s,o,a,c){if(c!==mht){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:U9e,resetWarningCache:q9e};return t.PropTypes=t,t}});var V9e=we((xLt,H9e)=>{m();H9e.exports=z9e()();var pLt,mLt});var Ewe={};FQ(Ewe,{GlobalHotKeys:()=>npt,HotKeys:()=>vwe,IgnoreKeys:()=>ipt,ObserveKeys:()=>opt,configure:()=>lpt,getApplicationKeyMap:()=>cpt,recordKeyCombination:()=>fpt,withHotKeys:()=>ywe,withIgnoreKeys:()=>apt,withObserveKeys:()=>upt});function iz(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iz=function(e){return typeof e}:iz=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iz(n)}function Va(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function W9e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Wa(n,e,t){return e&&W9e(n.prototype,e),t&&W9e(n,t),n}function Sf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sz(){return sz=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sz.apply(this,arguments)}function b1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){Sf(n,i,t[i])})}return n}function Ex(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&BO(n,e)}function Sc(n){return Sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sc(n)}function BO(n,e){return BO=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},BO(n,e)}function xht(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function oz(n,e,t){return xht()?oz=Reflect.construct:oz=function(i,s,o){var a=[null];a.push.apply(a,s);var c=Function.bind.apply(i,a),d=new c;return o&&BO(d,o.prototype),d},oz.apply(null,arguments)}function ght(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function eae(n){var e=typeof Map=="function"?new Map:void 0;return eae=function(r){if(r===null||!ght(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return oz(r,arguments,Sc(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),BO(i,r)},eae(n)}function yht(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function jO(n,e){if(n==null)return{};var t=yht(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function Wc(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Sx(n,e){return e&&(typeof e=="object"||typeof e=="function")?e:Wc(n)}function vht(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&(n=Sc(n),n!==null););return n}function py(n,e,t){return typeof Reflect!="undefined"&&Reflect.get?py=Reflect.get:py=function(i,s,o){var a=vht(i,s);if(!!a){var c=Object.getOwnPropertyDescriptor(a,s);return c.get?c.get.call(o):c.value}},py(n,e,t||n)}function Td(n){return _ht(n)||bht(n)||Eht()}function _ht(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function bht(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function Eht(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l9(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return n.reduce(function(t,r){return t[r]=e||{value:r},t},{})}function nae(n){return G9e[n]||[n.length===1?n.toUpperCase():n]}function E1(n,e){return n.hasOwnProperty(e)}function az(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(n).reduce(function(t,r){var i=n[r];return i.forEach(function(s){E1(t,s)||(t[s]=[]),t[s].push(r)}),e.includeOriginal&&(!E1(t,r)&&(t[r]=[]),t[r]=[].concat(Td(t[r]),Td(i))),t},{})}function uz(n){return Sht[n]||[n.length===1?n.toLowerCase():n]}function K9e(n){return typeof n=="string"}function wht(n){return K9e(n)?n.trim().replace(/\s+/g," "):n}function J9e(n){var e=n.toLowerCase();return Aht[e]||Tht[e]||(n.match(/^f\d+$/)?n.toUpperCase():n)}function Z9e(n){return!!Fht[n]}function Dht(n){return Qa.option("_customKeyNamesDict")[n]}function ewe(n){return Z9e(n)||String.fromCharCode(n.charCodeAt(0))===n||Dht(n)}function nwe(n){return n.sort().join("+")}function iwe(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return n.replace(/^\+|(\s|[^+]\+)\+/,"$1plus").split("+").reduce(function(t,r){var i=J9e(r);if(e.ensureValidKeys&&!ewe(i))throw new twe;return t[i]=!0,t},{})}function rae(n){return Oht[n]||[n]}function iae(n){return swe[n]||[n]}function sae(n){return Nht[n]||uz(n)}function oae(n){return owe[n]||[n]}function Rht(n){return Y9e[n]||[n]}function Lht(n){if(n.Shift)return n.Alt?[oae,sae]:[nae,uz];if(n.Alt)return[iae,rae];var e=function(t){return[t]};return[e,e]}function S1(n){return typeof n=="undefined"}function sv(n){return!Array.isArray(n)&&iz(n)==="object"&&n!==null}function UO(n){return sv(n)?Object.keys(n).length===0:!n||n.length===0}function uwe(n){return sv(n)?Object.keys(n).length:n.length}function kht(n){return Object.keys(n).reduce(function(e,t){return Rht(t).forEach(function(r){Lht(n).forEach(function(i){i(r).forEach(function(s){(s!==t||t!==r)&&(e[s]=t)})})}),e},{})}function $O(n){return Array.isArray(n)?n:n?[n]:[]}function Mht(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=l9($O(e));return Array.isArray(n)?n.reduce(function(i,s){return r[s]&&(t.stringifyFirst||r[s].value===s)||i.push(s),i},[]):sv(n)?Object.keys(n).reduce(function(i,s){return r[s]||(i[s]=n[s]),i},{}):n}function Bht(n,e){return[].concat(Td(n.slice(0,e)),Td(n.slice(e+1)))}function Uht(n,e){if(sv(n)){var t=n.sequence,r=n.action;return{keySequence:t,keyEventType:S1(r)?eo[e.defaultKeyEvent]:eo[r]}}return{keySequence:n,keyEventType:eo[e.defaultKeyEvent]}}function cwe(n,e){return n[n.length-(e+1)]}function fwe(n){return n.length===1||E1(aae,n)}function zht(n,e){var t=uwe(e.keyDictionary);return Qa.option("allowCombinationSubmatches")||Hht(n)?n.getNumberOfKeys()>=t:n.getNumberOfKeys()===t}function Hht(n){return!!n.isKeyStillPressed("Meta")&&n.some(function(e){return fwe(e)})}function dz(n,e,t){return t.forEach(function(r){E1(n,r)&&(e[r]=n[r])}),e}function dwe(n){switch(parseInt(n,10)){case 0:return"keydown";case 1:return"keypress";default:return"keyup"}}function Qht(n){return!Z9e(n)}function xb(n){return n.simulated?my.simulated:my.seen}function Ght(n){var e,t=n.keyCode;return"charCode"in n?(e=n.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kht(n){if(n.key){var e=Yht[n.key]||n.key;if(e!=="Unidentified")return e}if(n.type==="keypress"){var t=Ght(n);return t===13?"Enter":String.fromCharCode(t)}return n.type==="keydown"||n.type==="keyup"?X9e[n.keyCode]||"Unidentified":""}function c9(n){var e=function(){var t=Qa.option("customKeyCodes"),r=n.keyCode||n.charCode;return E1(t,r)?t[r]:n.nativeEvent?n.key:Kht(n)}();return e==="+"?"plus":e}function hz(n){return n==="Meta"}function pz(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return Array.isArray(n)||K9e(n)?t.stringifyFirst?!S1(n.find(function(r){return r.toString()===e.toString()})):n.indexOf(e)!==-1:sv(n)?E1(n,e):t.stringifyFirst?n.toString()===e.toString():n===e}function xwe(n){return n.replace(/\b\w/g,function(e){return e.toUpperCase()})}function Zht(n){return"".concat(xwe(n.slice(0,3))).concat(xwe(n.slice(3)))}function uae(n){return!S1(n)}function gwe(n,e){var t=e.deprecatedAPI,r=t.contextTypes,i=t.childContextTypes,s=e.newAPI.contextType;if(typeof Kf.default.createContext=="undefined")n.contextTypes=r,n.childContextTypes=i,n.prototype.getChildContext=function(){return this._childContext};else{var o=Kf.default.createContext(s);n.contextType=o,n.prototype._originalRender=n.prototype.render,n.prototype.render=function(){var a=this._originalRender();return a?Kf.default.createElement(o.Provider,{value:this._childContext},a):null}}return n}function ywe(n){function e(o,a){return b1({},i[o]||{},a[o]||{})}function t(o){return e("handlers",o)}function r(o){return e("keyMap",o)}var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=function(o){function a(c){var d;return Va(this,a),d=Sx(this,Sc(a).call(this,c)),d._handleFocus=d._handleFocus.bind(Wc(Wc(d))),d._handleBlur=d._handleBlur.bind(Wc(Wc(d))),d._handleKeyDown=d._handleKeyDown.bind(Wc(Wc(d))),d._handleKeyPress=d._handleKeyPress.bind(Wc(Wc(d))),d._handleKeyUp=d._handleKeyUp.bind(Wc(Wc(d))),d._componentIsFocused=d._componentIsFocused.bind(Wc(Wc(d))),d._id=I0.getInstance().registerKeyMap(c.keyMap),d._childContext={hotKeysParentId:d._id},d}return Ex(a,o),Wa(a,[{key:"render",value:function(){var d=this.props,p=d.keyMap,b=d.handlers,C=d.allowChanges,N=d.root,R=jO(d,["keyMap","handlers","allowChanges","root"]),U={onFocus:this._wrapFunction("onFocus",this._handleFocus),onBlur:this._wrapFunction("onBlur",this._handleBlur),tabIndex:Qa.option("defaultTabIndex")};return this._shouldBindKeyListeners()&&(U.onKeyDown=this._handleKeyDown,U.onKeyPress=this._handleKeyPress,U.onKeyUp=this._handleKeyUp),Kf.default.createElement(n,sz({hotKeys:U},R))}},{key:"_shouldBindKeyListeners",value:function(){var d=r(this.props);return!UO(d)||this.props.root||Qa.option("enableHardSequences")&&this._handlersIncludeHardSequences(d,t(this.props))}},{key:"_handlersIncludeHardSequences",value:function(d,p){return Object.keys(p).some(function(b){return!d[b]&&lz.isValidKeySerialization(b)})}},{key:"_wrapFunction",value:function(d,p){var b=this;return typeof this.props[d]=="function"?function(C){b.props[d](C),p(C)}:p}},{key:"_focusTreeIdsPush",value:function(d){this._focusTreeIds||(this._focusTreeIds=[]),this._focusTreeIds.push(d)}},{key:"_focusTreeIdsShift",value:function(){this._focusTreeIds&&this._focusTreeIds.shift()}},{key:"_getFocusTreeId",value:function(){if(this._focusTreeIds)return this._focusTreeIds[0]}},{key:"componentDidUpdate",value:function(){var d=I0.getInstance();if(d.reregisterKeyMap(this._id,this.props.keyMap),this._componentIsFocused()&&(this.props.allowChanges||!Qa.option("ignoreKeymapAndHandlerChangesByDefault"))){var p=this.props,b=p.keyMap,C=p.handlers;d.updateEnabledHotKeys(this._getFocusTreeId(),this._id,b,C,this._getComponentOptions())}}},{key:"_componentIsFocused",value:function(){return this._focused===!0}},{key:"componentDidMount",value:function(){var d=I0.getInstance(),p=this.context.hotKeysParentId;d.registerComponentMount(this._id,p)}},{key:"_handleFocus",value:function(){if(this.props.onFocus){var d;(d=this.props).onFocus.apply(d,arguments)}var p=I0.getInstance().enableHotKeys(this._id,r(this.props),t(this.props),this._getComponentOptions());S1(p)||this._focusTreeIdsPush(p),this._focused=!0}},{key:"componentWillUnmount",value:function(){var d=I0.getInstance();d.deregisterKeyMap(this._id),d.registerComponentUnmount(),this._handleBlur()}},{key:"_handleBlur",value:function(){if(this.props.onBlur){var d;(d=this.props).onBlur.apply(d,arguments)}var p=I0.getInstance().disableHotKeys(this._getFocusTreeId(),this._id);p||this._focusTreeIdsShift(),this._focused=!1}},{key:"_handleKeyDown",value:function(d){var p=I0.getInstance().handleKeydown(d,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyPress",value:function(d){var p=I0.getInstance().handleKeyPress(d,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyUp",value:function(d){var p=I0.getInstance().handleKeyUp(d,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Qa.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Qa.option("ignoreEventsCondition")}}}]),a}(Kf.PureComponent);return Sf(s,"propTypes",{keyMap:bu.default.object,handlers:bu.default.object,onFocus:bu.default.func,onBlur:bu.default.func,allowChanges:bu.default.bool,root:bu.default.bool}),gwe(s,{deprecatedAPI:{contextTypes:{hotKeysParentId:bu.default.number},childContextTypes:{hotKeysParentId:bu.default.number}},newAPI:{contextType:{hotKeysParentId:void 0}}})}function mz(n){var e,t,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]},i=2<arguments.length?arguments[2]:void 0;return t=e=function(s){function o(a){var c;return Va(this,o),c=Sx(this,Sc(o).call(this,a)),c._handleKeyEvent=c._handleKeyEvent.bind(Wc(Wc(c))),c._reloadDictionaries=c._reloadDictionaries.bind(Wc(Wc(c))),c}return Ex(o,s),Wa(o,[{key:"render",value:function(){var c=this.props,d=c.only,p=c.except,b=jO(c,["only","except"]),C={onKeyDown:this._handleKeyEvent,onKeyPress:this._handleKeyEvent,onKeyUp:this._handleKeyEvent,onFocus:this._reloadDictionaries};return Kf.default.createElement(n,sz({hotKeys:C},b))}},{key:"_reloadDictionaries",value:function(){var c=this.props,d=c.only,p=c.except;this._onlyDict=bwe(d),this._exceptDict=bwe(p)}},{key:"_shouldIgnoreEvent",value:function(c){var d=c.key;return UO(this._onlyDict)?!!UO(this._exceptDict)||!E1(this._exceptDict,d):UO(this._exceptDict)?E1(this._onlyDict,d):E1(this._onlyDict,d)&&!E1(this._exceptDict,d)}},{key:"_handleKeyEvent",value:function(c){this._shouldIgnoreEvent(c)&&I0.getInstance()[i](c)}}]),o}(Kf.PureComponent),Sf(e,"propTypes",{only:bu.default.oneOfType([bu.default.string,bu.default.arrayOf(bu.default.string)]),except:bu.default.oneOfType([bu.default.string,bu.default.arrayOf(bu.default.string)])}),Sf(e,"defaultProps",r),t}function bwe(n){return $O(n).reduce(function(e,t){var r=J9e(t);if(!ewe(r))throw new twe(t);return[oae,sae,nae,uz,iae,rae].forEach(function(i){e[i(r)]=!0}),e},{})}function apt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return mz(n,e,"ignoreEvent")}function upt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return mz(n,e,"observeIgnoredEvents")}function lpt(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Qa.init(n)}function cpt(){return I0.getInstance().getApplicationKeyMap()}function fpt(n){var e=I0.getInstance();return e.addKeyCombinationListener(n)}var bu,Kf,Q9e,qO,Qa,D2,eo,tae,G9e,Sht,Cht,Y9e,Aht,Tht,X9e,Fht,twe,rwe,swe,Oht,owe,Nht,lz,awe,my,iv,cz,lwe,Iht,Pht,jht,qht,aae,fz,$ht,Vht,Wht,hwe,pwe,mwe,zO,Yht,Qu,Jht,Xht,ept,I0,tpt,vwe,_we,npt,rpt,ipt,spt,opt,Swe=TQ(()=>{m();bu=xr(V9e()),Kf=xr(Rr());Q9e={logLevel:"warn",defaultKeyEvent:"keydown",defaultComponent:"div",defaultTabIndex:"-1",ignoreTags:["input","select","textarea"],enableHardSequences:!1,ignoreKeymapAndHandlerChangesByDefault:!0,ignoreEventsCondition:function(e){var t=e.target;if(t&&t.tagName){var r=t.tagName.toLowerCase();return Qa.option("_ignoreTagsDict")[r]||t.isContentEditable}return!1},ignoreRepeatedEventsWhenKeyHeldDown:!0,simulateMissingKeyPressEvents:!0,stopEventPropagationAfterHandling:!0,stopEventPropagationAfterIgnoring:!0,allowCombinationSubmatches:!1,customKeyCodes:{}},qO=b1({},Q9e);qO._ignoreTagsDict=l9(qO.ignoreTags,!0);Qa=function(){function n(){Va(this,n)}return Wa(n,null,[{key:"init",value:function(t){var r=this,i=t.ignoreTags,s=t.customKeyCodes;i&&(t._ignoreTagsDict=l9(t.ignoreTags)),s&&(t._customKeyNamesDict=l9(Object.values(t.customKeyCodes))),["verbose","debug","info"].indexOf(t.logLevel)!==-1&&console.warn("React HotKeys: You have requested log level '".concat(t.logLevel,"' but for performance reasons, logging below severity level 'warning' is disabled in production. Please use the development build for complete logs.")),Object.keys(t).forEach(function(o){r.set(o,t[o])})}},{key:"set",value:function(t,r){qO[t]=r}},{key:"reset",value:function(t){qO[t]=Q9e[t]}},{key:"option",value:function(t){return qO[t]}}]),n}(),D2=function(){function n(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"warn";if(Va(this,n),Sf(this,"verbose",this.noop),Sf(this,"debug",this.noop),Sf(this,"info",this.noop),Sf(this,"warn",this.noop),Sf(this,"error",this.noop),this.logLevel=this.constructor.levels[t],this.logLevel>=this.constructor.levels.error)this.error=console.error;else return;if(this.logLevel>=this.constructor.levels.warn)this.warn=console.warn;else return;["info","debug","verbose"].some(function(r){return!(e.logLevel>=e.constructor.levels[r])||(e[r]=console.log,!1)})}return Wa(n,[{key:"noop",value:function(){}}]),n}();Sf(D2,"logIcons",["\u{1F4D5}","\u{1F4D7}","\u{1F4D8}","\u{1F4D9}"]),Sf(D2,"componentIcons",["\u{1F53A}","\u2B50\uFE0F","\u{1F537}","\u{1F536}","\u2B1B\uFE0F"]),Sf(D2,"eventIcons",["\u2764\uFE0F","\u{1F49A}","\u{1F499}","\u{1F49B}","\u{1F49C}","\u{1F9E1}"]),Sf(D2,"levels",{none:0,error:1,warn:2,info:3,debug:4,verbose:5});eo={keydown:0,keypress:1,keyup:2},tae={Shift:["shiftKey"],Meta:["metaKey"],Control:["ctrlKey"],Alt:["altKey"]},G9e={"`":["~"],1:["!"],2:["@",'"'],3:["#","\xA3"],4:["$"],5:["%"],6:["^"],7:["&"],8:["*"],9:["("],0:[")"],"-":["_"],"=":["plus"],";":[":"],"'":['"',"@"],",":["<"],".":[">"],"/":["?"],"\\":["|"],"[":["{"],"]":["}"],"#":["~"]};Sht=az(G9e);Cht={},Y9e=az(Cht,{includeOriginal:!0});Aht={tab:"Tab",capslock:"CapsLock",shift:"Shift",meta:"Meta",alt:"Alt",ctrl:"Control",space:" ",spacebar:" ",escape:"Escape",esc:"Escape",left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",return:"Enter",del:"Delete",command:"Meta",option:"Alt",enter:"Enter",backspace:"Backspace",ins:"Insert",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",contextmenu:"ContextMenu",numlock:"Clear"},Tht={cmd:"Meta"};X9e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fht=l9(Object.values(X9e),!0);twe=function(n){function e(){var t,r;Va(this,e);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=Sx(this,(t=Sc(e)).call.apply(t,[this].concat(s))),Sf(Wc(Wc(r)),"name","InvalidKeyNameError"),r}return Ex(e,n),e}(eae(Error));rwe=function(){function n(){Va(this,n)}return Wa(n,null,[{key:"parse",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=wht(t),s=i.split(" ");try{var o=s.slice(0,s.length-1),a=s[s.length-1],c=o.map(function(C){var N=iwe(C,r);return nwe(Object.keys(N))}).join(" "),d=iwe(a,r),p=nwe(Object.keys(d)),b={id:p,keyDictionary:d,keyEventType:r.keyEventType,size:Object.keys(d).length};return{sequence:{prefix:c,size:o.length+1},combination:b}}catch{return{sequence:null,combination:null}}}}]),n}();swe={"`":["`"],1:["\xA1"],2:["\u2122"],3:["\xA3"],4:["\xA2"],5:["\u221E"],6:["\xA7"],7:["\xB6"],8:["\u2022"],9:["\xAA"],0:["\xBA"],"-":["\u2013"],"=":["\u2260"],a:["\xE5"],b:["\u222B"],c:["\xE7"],d:["\u2202"],e:["\xB4"],f:["\u0192"],g:["\xA9"],h:["\u02D9"],i:["\u02C6"],j:["\u2206"],k:["\u02DA"],l:["\xAC"],m:["\xB5"],n:["\u02DC"],o:["\xF8"],p:["\u03C0"],q:["\u0153"],r:["\xAE"],s:["\xDF"],t:["\u2020"],u:["\xA8"],v:["\u221A"],w:["\u2211"],x:["\u2248"],y:["\xA5"],z:["\u03A9"],"[":["\u201C"],"]":["\u2018"],"\\":["\xAB"],"'":["\xE6"],";":["\u2026"],",":["\u2264"],".":["\u2265"],"/":["\xF7"]},Oht=az(swe);owe={"`":["`"],1:["\u2044"],2:["\u20AC"],3:["\u2039"],4:["\u203A"],5:["\uFB01"],6:["\uFB02"],7:["\u2021"],8:["\xB0"],9:["\xB7"],0:["\u201A"],"-":["\u2014"],"=":["\xB1"],a:["\xC5"],b:["\u0131"],c:["\xC7"],d:["\xCE"],e:["\xB4"],f:["\xCF"],g:["\u02DD"],h:["\xD3"],i:["\u02C6"],j:["\xD4"],k:["\uF8FF"],l:["\xD2"],m:["\xC2"],n:["\u02DC"],o:["\xD8"],p:["\u03C0"],q:["\u0152"],r:["\u2030"],s:["\xCD"],t:["\xCE"],u:["\xA8"],v:["\u25CA"],w:["\u201E"],x:["\u02DB"],y:["\xC1"],z:["\xB8"],"[":["\u201D"],"]":["\u2019"],"\\":["\xBB"],"'":["\xC6"],";":["\xDA"],",":["\xAF"],".":["\u02D8"]},Nht=az(owe);lz=function(){function n(){Va(this,n)}return Wa(n,null,[{key:"serialize",value:function(t){var r=t.Shift,i=t.Alt,s={},o=Object.keys(t).sort();return o.forEach(function(a){var c=[];if(r)if(i){var d=sae(a),p=oae(a);c=[].concat(Td(c),[a],Td(d),Td(p))}else{var b=uz(a),C=nae(a);c=[].concat(Td(c),[a],Td(b),Td(C))}else if(i){var N=rae(a),R=iae(a);c=[].concat(Td(c),[a],Td(N),Td(R))}else{c.push(a);var U=Y9e[a];U&&(c=[].concat(Td(c),Td(U)))}var V=Object.keys(s);0<V.length?V.forEach(function(P){c.forEach(function($){s[P+"+".concat($)]=b1({},s[P],Sf({},$,!0))}),delete s[P]}):c.forEach(function(P){s[P]=Sf({},P,!0)})}),Object.values(s).map(function(a){return Object.keys(a).sort().join("+")})}},{key:"isValidKeySerialization",value:function(t){return 0<t.length&&!!rwe.parse(t,{ensureValidKeys:!0}).combination}}]),n}(),awe={previous:0,current:1};my={unseen:0,seen:1,simulated:2},iv=function(){function n(){Va(this,n)}return Wa(n,null,[{key:"newRecord",value:function(t,r){var i=[my.unseen,my.unseen,my.unseen];if(!S1(t))for(var s=0;s<=t;s++)i[s]=r;return i}},{key:"setBit",value:function(t,r,i){return t[r]=i,t}},{key:"clone",value:function(t){for(var r=this.newRecord(),i=0;i<t.length;i++)r[i]=t[i];return r}}]),n}();cz=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Va(this,n),this._keys=e,this._includesKeyUp=!1,this._update()}return Wa(n,[{key:"getIds",value:function(){return this._ids}},{key:"getKeyAliases",value:function(){return this._keyAliases}},{key:"getNormalizedKeyName",value:function(t){var r=this._keys[t];if(r)return t;var i=this._keyAliases[t];return i||t}},{key:"getNumberOfKeys",value:function(){return uwe(this._keys)}},{key:"any",value:function(){return 0<Object.keys(this._getKeyStates()).length}},{key:"isEnding",value:function(){return this._includesKeyUp}},{key:"hasEnded",value:function(){return UO(this.keysStillPressedDict())}},{key:"addKey",value:function(t,r){this._setKeyState(t,[iv.newRecord(),iv.newRecord(eo.keydown,r)])}},{key:"setKeyState",value:function(t,r,i){var s=this._getKeyState(t);if(this.isKeyIncluded(t)){var o=iv.clone(s[1]),a=iv.clone(o);iv.setBit(a,r,i),this._setKeyState(t,[o,a])}else this.addKey(t,i);r===eo.keyup&&(this._includesKeyUp=!0)}},{key:"forEachKey",value:function(t){return Object.keys(this._keys).forEach(t)}},{key:"some",value:function(t){return Object.keys(this._keys).some(t)}},{key:"getKeyDictionary",value:function(){return l9(Object.keys(this._getKeyStates()),!0)}},{key:"keysStillPressedDict",value:function(){var t=this;return Object.keys(this._keys).reduce(function(r,i){return t.isKeyStillPressed(i)&&(r[i]=t._getKeyState(i)),r},{})}},{key:"isKeyIncluded",value:function(t){return!!this._getKeyState(t)}},{key:"isKeyStillPressed",value:function(t){return this.isEventTriggered(t,eo.keypress)&&!this.isKeyReleased(t)}},{key:"isKeyReleased",value:function(t){return this.isEventTriggered(t,eo.keyup)}},{key:"isEventTriggered",value:function(t,r){return this._getKeyStateType(t,awe.current,r)}},{key:"wasEventPreviouslyTriggered",value:function(t,r){return this._getKeyStateType(t,awe.previous,r)}},{key:"isKeyPressSimulated",value:function(t){return this._isKeyEventSimulated(t,eo.keypress)}},{key:"isKeyUpSimulated",value:function(t){return this._isKeyEventSimulated(t,eo.keyup)}},{key:"describe",value:function(){return this.getIds()[0]}},{key:"toJSON",value:function(){return{keys:this._getKeyStates(),ids:this.getIds(),keyAliases:this.getKeyAliases()}}},{key:"_getKeyStateType",value:function(t,r,i){var s=this._getKeyState(t);return s&&s[r][i]}},{key:"_update",value:function(){this._ids=lz.serialize(this._keys),this._keyAliases=kht(this._keys)}},{key:"_isKeyEventSimulated",value:function(t,r){return this.isEventTriggered(t,r)===my.simulated}},{key:"_getKeyStates",value:function(){return this._keys}},{key:"_getKeyState",value:function(t){var r=this._keys[t];if(r)return r;var i=this._keyAliases[t];if(i)return this._keys[i]}},{key:"_setKeyState",value:function(t,r){var i=this.getNormalizedKeyName(t);this._keys[i]=r,this._update()}}]),n}();lwe=function(){function n(e){var t=e.maxLength,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;Va(this,n),this._records=[],this._maxLength=t,r?this._push(r):this._push(new cz)}return Wa(n,[{key:"getMostRecentCombinations",value:function(t){return this._records.slice(-t,-1)}},{key:"any",value:function(){return this._records.some(function(t){return t.any()})}},{key:"getLength",value:function(){return this._records.length}},{key:"getCurrentCombination",value:function(){return this._records[this.getLength()-1]}},{key:"addKeyToCurrentCombination",value:function(t,r,i){this._ensureInitialKeyCombination(),this.getCurrentCombination().setKeyState(t,r,i)}},{key:"setMaxLength",value:function(t){this._maxLength=t,this._trimHistory()}},{key:"startNewKeyCombination",value:function(t,r){this._ensureInitialKeyCombination();var i=new cz(this.getCurrentCombination().keysStillPressedDict());i.addKey(t,r),this._push(i)}},{key:"toJSON",value:function(){return this._records.map(function(t){return t.toJSON()})}},{key:"_ensureInitialKeyCombination",value:function(){this.getLength()===0&&this._push(new cz)}},{key:"_push",value:function(t){this._trimHistory(),this._records.push(t)}},{key:"_trimHistory",value:function(){for(;this.getLength()>this._maxLength;)this._shift()}},{key:"_shift",value:function(){this._records.shift()}}]),n}(),Iht=function(){function n(){Va(this,n),this._registry={}}return Wa(n,[{key:"get",value:function(t){return this._registry[t]}},{key:"set",value:function(t,r){this._registry[t]=r}},{key:"remove",value:function(t){delete this._registry[t]}},{key:"toJSON",value:function(){return this._registry}}]),n}();Pht=function(n){function e(){return Va(this,e),Sx(this,Sc(e).apply(this,arguments))}return Ex(e,n),Wa(e,[{key:"add",value:function(r,i){py(Sc(e.prototype),"set",this).call(this,r,{childIds:[],parentId:null,keyMap:i})}},{key:"update",value:function(r,i){var s=py(Sc(e.prototype),"get",this).call(this,r);py(Sc(e.prototype),"set",this).call(this,r,b1({},s,{keyMap:i}))}},{key:"setParent",value:function(r,i){this.get(r).parentId=i,this._addChildId(i,r)}},{key:"remove",value:function(r){var i=this._getParentId(r);this._removeChildId(i,r),py(Sc(e.prototype),"remove",this).call(this,r)}},{key:"_getParentId",value:function(r){var i=this.get(r);return i&&i.parentId}},{key:"_addChildId",value:function(r,i){this.get(r).childIds.push(i)}},{key:"_removeChildId",value:function(r,i){var s=this.get(r);s&&(s.childIds=Mht(s.childIds,i))}}]),e}(Iht);jht=function(){function n(e){Va(this,n),this._list=e,this._position=-1}return Wa(n,[{key:"getPosition",value:function(){return this._position}},{key:"getComponent",value:function(){return this._list.getAtPosition(this.getPosition())}},{key:"next",value:function(){return this.getPosition()+1<this._list.getLength()?(this._position++,this.getComponent()):null}}]),n}(),qht=function(){function n(){Va(this,n),this._list=[],this._idToIndex={},this._longestSequence=1,this._longestSequenceComponentId=null,this._keyMapEventRecord=iv.newRecord()}return Wa(n,[{key:"getNewIterator",value:function(){return new jht(this)}},{key:"add",value:function(t,r,i,s){if(this.containsId(t))return this.update(t,r,i,s);var o=this._build(t,r,i,s);this._list.push(o);var a=this._getLastIndex();return this._idToIndex[t]=a}},{key:"containsId",value:function(t){return!!this.get(t)}},{key:"get",value:function(t){return this.getAtPosition(this.getIndexById(t))}},{key:"getIndexById",value:function(t){return this._idToIndex[t]}},{key:"update",value:function(t,r,i,s){var o=this._isUpdatingComponentWithLongestSequence(t),a=this.getLongestSequence(),c=this._build(t,r,i,s);o&&c.sequenceLength!==a&&(c.sequenceLength>a?this._longestSequence=c.sequenceLength:this._recalculateLongestSequence()),this._list[this.getIndexById(t)]=c}},{key:"remove",value:function(t){var r=this._isUpdatingComponentWithLongestSequence(t);this.removeAtPosition(this.getIndexById(t)),r&&this._recalculateLongestSequence()}},{key:"any",value:function(){return this.getLength()!==0}},{key:"isRoot",value:function(t){return this.getIndexById(t)>=this.getLength()-1}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"anyActionsForEventType",value:function(t){return!!this._keyMapEventRecord[t]}},{key:"getLength",value:function(){return this._list.length}},{key:"getAtPosition",value:function(t){return this._list[t]}},{key:"removeAtPosition",value:function(t){this._list=Bht(this._list,t);for(var r=t;r<this.getLength();)this._idToIndex[this.getAtPosition(r).componentId]=r,r++}},{key:"toJSON",value:function(){return this._list}},{key:"_getLastIndex",value:function(){return this.getLength()-1}},{key:"_build",value:function(t,r,i,s){var o=this._applyHardSequences(r,i),a=o.keyMap,c=o.handlers,d=this._buildActionDictionary(b1({},r,a),s,t);return{actions:d,handlers:c,componentId:t,options:s}}},{key:"_isUpdatingComponentWithLongestSequence",value:function(t){return t===this._getLongestSequenceComponentId()}},{key:"_getLongestSequenceComponentId",value:function(){return this._longestSequenceComponentId}},{key:"_recalculateLongestSequence",value:function(){for(var t=this.getNewIterator();t.next();){var r=t.getComponent(),i=r.longestSequence,s=r.componentId;i>this.getLongestSequence()&&(this._longestSequenceComponentId=s,this._longestSequence=i)}}},{key:"_applyHardSequences",value:function(t,r){return Qa.option("enableHardSequences")?Object.keys(r).reduce(function(i,s){var o=!!t[s];return!o&&lz.isValidKeySerialization(s)&&(i.keyMap[s]=s),i.handlers[s]=r[s],i},{keyMap:{},handlers:{}}):{keyMap:t,handlers:r}}},{key:"_buildActionDictionary",value:function(t,r,i){var s=this;return Object.keys(t).reduce(function(o,a){var c=t[a],d=function(){return sv(c)&&E1(c,"sequences")?$O(c.sequences):$O(c)}();return d.forEach(function(p){var b=Uht(p,r),C=b.keySequence,N=b.keyEventType;s._addActionOptions(o,i,a,C,N)}),o},{})}},{key:"_addActionOptions",value:function(t,r,i,s,o){var a=rwe.parse(s,{keyEventType:o}),c=a.sequence,d=a.combination;c.size>this.getLongestSequence()&&(this._longestSequence=c.size,this._longestSequenceComponentId=r),this._keyMapEventRecord[o]=my.seen,t[i]||(t[i]=[]),t[i].push(b1({prefix:c.prefix,actionName:i,sequenceLength:c.size},d))}}]),n}();for(aae={Enter:!0,Backspace:!0,ArrowRight:!0,ArrowLeft:!0,ArrowUp:!0,ArrowDown:!0,CapsLock:!0},fz=1;13>fz;fz++)aae["F".concat(fz)]=!0;$ht=function(){function n(){Va(this,n),this._actionConfigs={},this._order=null}return Wa(n,[{key:"addMatch",value:function(t,r){if(this._includesMatcherForCombination(t.id)){var i=t.keyEventType,s=t.actionName,o=t.id;this._addHandlerToActionConfig(o,{keyEventType:i,actionName:s,handler:r})}else this._addNewActionConfig(t,r)}},{key:"findMatch",value:function(t,r,i){this._order||this._setOrder();var s=!0,o=!1,a=void 0;try{for(var c,d=this._order[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value,b=this._actionConfigs[p];if(this._matchesActionConfig(t,r,i,b))return b}}catch(C){o=!0,a=C}finally{try{s||d.return==null||d.return()}finally{if(o)throw a}}return null}},{key:"toJSON",value:function(){return{actionConfigs:this._actionConfigs,order:this._order}}},{key:"_matchesActionConfig",value:function(t,r,i,s){if(!zht(t,s))return!1;var o=s.events[i];if(!o)return!1;var a=!1,c=Object.keys(s.keyDictionary).every(function(d){return!!t.isEventTriggered(d,i)&&(r&&r===t.getNormalizedKeyName(d)&&(a=!t.wasEventPreviouslyTriggered(d,i)),!0)});return c&&a}},{key:"_setOrder",value:function(){var t=Object.values(this._actionConfigs).reduce(function(r,i){var s=i.id,o=i.size;return r[o]||(r[o]=[]),r[o].push(s),r},{});this._order=Object.keys(t).sort(function(r,i){return i-r}).reduce(function(r,i){return r.concat(t[i])},[])}},{key:"_addNewActionConfig",value:function(t,r){var i=t.prefix,s=t.sequenceLength,o=t.id,a=t.keyDictionary,c=t.size,d=t.keyEventType,p=t.actionName;this._setCombinationMatcher(o,{prefix:i,sequenceLength:s,id:o,keyDictionary:a,size:c,events:{}}),this._addHandlerToActionConfig(o,{keyEventType:d,actionName:p,handler:r})}},{key:"_addHandlerToActionConfig",value:function(t,r){var i=r.keyEventType,s=r.actionName,o=r.handler,a=this._getCombinationMatcher(t);this._setCombinationMatcher(t,b1({},a,{events:b1({},a.events,Sf({},i,{actionName:s,handler:o}))}))}},{key:"_setCombinationMatcher",value:function(t,r){this._actionConfigs[t]=r}},{key:"_getCombinationMatcher",value:function(t){return this._actionConfigs[t]}},{key:"_includesMatcherForCombination",value:function(t){return!!this._getCombinationMatcher(t)}}]),n}();Vht=function(){function n(){Va(this,n),this._combinationMatchers={},this._eventRecord=iv.newRecord()}return Wa(n,[{key:"addMatch",value:function(t,r){var i=this._getOrCreateCombinationMatcher(t.prefix);i.addMatch(t,r),iv.setBit(this._eventRecord,t.keyEventType,my.seen),(!this._longestSequence||this._longestSequence<t.sequenceLength)&&(this._longestSequence=t.sequenceLength)}},{key:"findMatch",value:function(t,r,i){var s=this._findCombinationMatcher(t);return s?s.findMatch(t.getCurrentCombination(),t.getCurrentCombination().getNormalizedKeyName(r),i):null}},{key:"hasMatchesForEventType",value:function(t){return!!this._eventRecord[t]}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"toJSON",value:function(){var t=this;return Object.keys(this._combinationMatchers).reduce(function(r,i){var s=t._combinationMatchers[i];return r[i]=s.toJSON(),r},{})}},{key:"_getOrCreateCombinationMatcher",value:function(t){return this._combinationMatchers[t]||(this._combinationMatchers[t]=new $ht),this._combinationMatchers[t]}},{key:"_findCombinationMatcher",value:function(t){var r=t.getMostRecentCombinations(this.getLongestSequence());if(r.length===0)return this._combinationMatchers[""];for(var i=r.map(function(R){return R.getIds()}),s=i.map(function(R){return R.length}),o=Array(i.length).fill(0),a=!1;!a;){var c=o.map(function(R,U){return i[U][R]}),d=c.join(" ");if(this._combinationMatchers[d])return this._combinationMatchers[d];for(var p=0,b=!0;b&&p<o.length;){var C=cwe(o,p),N=(C+1)%(cwe(s,p)||1);o[o.length-(p+1)]=N,b=N==0,b&&p++}a=p===o.length}}}]),n}(),Wht=function(){function n(e){Va(this,n),this._keyMapMatchers=[],this._unmatchedHandlerStatus=[],this._handlersDictionary={},this._keySequencesDictionary={};for(var t=e.getNewIterator();t.next();){var r=t.getComponent(),i=r.handlers;this._unmatchedHandlerStatus.push([Object.keys(i).length,{}]),this._keyMapMatchers.push(new Vht)}this._componentList=e,this._componentListIterator=e.getNewIterator()}return Wa(n,[{key:"getKeyHistoryMatcher",value:function(t){if(this._componentHasUnmatchedHandlers(t))for(;this._componentListIterator.next();)this._addHandlersFromComponent(),this._addActionsFromComponent();return this._getKeyHistoryMatcher(t)}},{key:"componentHasActionsBoundToEventType",value:function(t,r){return this.getKeyHistoryMatcher(t).hasMatchesForEventType(r)}},{key:"findMatchingKeySequenceInComponent",value:function(t,r,i,s){return this.componentHasActionsBoundToEventType(t,s)?this.getKeyHistoryMatcher(t).findMatch(r,i,s):null}},{key:"_getKeyHistoryMatcher",value:function(t){return this._keyMapMatchers[t]}},{key:"_addActionsFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.actions;Object.keys(i).forEach(function(s){var o=t._getHandlers(s);if(o){var a=o[0],c=t._componentList.getAtPosition(a).handlers[s],d=t._getKeyHistoryMatcher(a),p=i[s];p.forEach(function(b){var C=[b.prefix,b.id].join(" ");t._isClosestHandlerFound(C,b)||(d.addMatch(b,c),t._addKeySequence(C,[a,b.keyEventType]))}),o.forEach(function(b){var C=t._getUnmatchedHandlerStatus(b);C[1][s]||(C[1][s]=!0,C[0]--)})}})}},{key:"_getHandlers",value:function(t){return this._handlersDictionary[t]}},{key:"_addHandlersFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.handlers;Object.keys(i).forEach(function(s){t._addHandler(s)})}},{key:"_addHandler",value:function(t){this._handlersDictionary[t]||(this._handlersDictionary[t]=[]),this._handlersDictionary[t].push(this._componentListIterator.getPosition())}},{key:"_addKeySequence",value:function(t,r){this._keySequencesDictionary[t]||(this._keySequencesDictionary[t]=[]),this._keySequencesDictionary[t].push(r)}},{key:"_componentHasUnmatchedHandlers",value:function(t){return 0<this._getUnmatchedHandlerStatus(t)[0]}},{key:"_getUnmatchedHandlerStatus",value:function(t){return this._unmatchedHandlerStatus[t]}},{key:"_isClosestHandlerFound",value:function(t,r){return this._keySequencesDictionary[t]&&this._keySequencesDictionary[t].some(function(i){return i[1]===r.keyEventType})}}]),n}();hwe=["sequence","action"],pwe=["name","description","group"],mwe=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;Va(this,n),this.logger=e.logger||new D2("warn"),this.componentId=-1,this.keyEventManager=t,this._componentTree=new Pht,this.rootComponentId=null,this._reset(),this.resetKeyHistory()}return Wa(n,[{key:"_reset",value:function(){this.componentList=new qht,this._initHandlerResolutionState()}},{key:"_newKeyHistory",value:function(){return new lwe({maxLength:this.componentList.getLongestSequence()})}},{key:"getKeyHistory",value:function(){return this._keyHistory?this._keyHistory:(this._keyHistory=this._newKeyHistory(),this._keyHistory)}},{key:"_initHandlerResolutionState",value:function(){this._actionResolver=null}},{key:"resetKeyHistory",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this.keypressEventsToSimulate=[],this.keyupEventsToSimulate=[],this._keyHistory=this.getKeyHistory().any()&&!t.force?new lwe({maxLength:this.componentList.getLongestSequence()},new cz(this.getCurrentCombination().keysStillPressedDict())):this._newKeyHistory()}},{key:"getApplicationKeyMap",value:function(){return this.rootComponentId===null?{}:this._buildApplicationKeyMap([this.rootComponentId],{})}},{key:"_buildApplicationKeyMap",value:function(t,r){var i=this;return t.forEach(function(s){var o=i._componentTree.get(s),a=o.childIds,c=o.keyMap;c&&Object.keys(c).forEach(function(d){var p=c[d];r[d]={},sv(p)?E1(p,"sequences")?(dz(p,r[d],pwe),r[d].sequences=i._createSequenceFromConfig(p.sequences)):(dz(p,r[d],pwe),r[d].sequences=[dz(p,{},hwe)]):r[d].sequences=i._createSequenceFromConfig(p)}),i._buildApplicationKeyMap(a,r)}),r}},{key:"_createSequenceFromConfig",value:function(t){return $O(t).map(function(r){return sv(r)?dz(r,{},hwe):{sequence:r}})}},{key:"registerKeyMap",value:function(t){return this.componentId+=1,this._componentTree.add(this.componentId,t),this.componentId}},{key:"reregisterKeyMap",value:function(t,r){this._componentTree.update(t,r)}},{key:"registerComponentMount",value:function(t,r){S1(r)?this.rootComponentId=t:this._componentTree.setParent(t,r)}},{key:"deregisterKeyMap",value:function(t){this._componentTree.remove(t),t===this.rootComponentId&&(this.rootComponentId=null)}},{key:"_addComponent",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;this.componentList.add(t,r,i,s),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence())}},{key:"_allKeysAreReleased",value:function(){return this.getCurrentCombination().hasEnded()}},{key:"getCurrentCombination",value:function(){return this.getKeyHistory().getCurrentCombination()}},{key:"_shouldSimulate",value:function(t,r){var i=Qht(r),s=this.getCurrentCombination();return t===eo.keypress?!i||i&&s.isKeyStillPressed("Meta"):t===eo.keyup&&fwe(r)&&s.isKeyReleased("Meta")}},{key:"_cloneAndMergeEvent",value:function(t,r){var i=Object.keys(tae).reduce(function(s,o){return s[o]=t[o],s},{});return b1({},i,r)}},{key:"_callClosestMatchingHandler",value:function(t,r,i,s,o){for(this._actionResolver||(this._actionResolver=new Wht(this.componentList));o<=s;){var a=this._actionResolver.getKeyHistoryMatcher(o),c=this._actionResolver.findMatchingKeySequenceInComponent(o,this.getKeyHistory(),r,i),d=this.getCurrentCombination();if(c){var p=c.events[i];if(Qa.option("allowCombinationSubmatches"))var b=lz.serialize(c.keyDictionary);return p.handler(t),this._stopEventPropagationAfterHandlingIfEnabled(t,o),!0}this._actionResolver.componentHasActionsBoundToEventType(o,i),o++}}},{key:"_stopEventPropagationAfterHandlingIfEnabled",value:function(t,r){return!!Qa.option("stopEventPropagationAfterHandling")&&(this._stopEventPropagation(t,r),!0)}},{key:"_stopEventPropagation",value:function(){throw new Error("_stopEventPropagation must be overridden by a subclass")}},{key:"_checkForModifierFlagDiscrepancies",value:function(t,r,i){var s=this;Object.keys(tae).forEach(function(o){if(r!==o||i!==eo.keyup){var a=s.getCurrentCombination(),c=a.isKeyStillPressed(o);tae[o].forEach(function(d){t[d]===!1&&c&&a.setKeyState(o,eo.keyup,xb(t))})}})}},{key:"_logPrefix",value:function(){}}]),n}(),zO=function(){function n(){Va(this,n)}return Wa(n,null,[{key:"getId",value:function(){return S1(this._id)&&(this._id=0),this._id}},{key:"incrementId",value:function(){this._id=this.getId()+1}}]),n}();Yht={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};Qu={unseen:0,ignored:1,seen:2,recorded:3,handled:4},Jht=function(){function n(e,t){var r=t.logger,i=t.logPrefix;Va(this,n),this._componentList=e,this._previousPropagation=null,this.logger=r,this._logPrefix=i,this._reset()}return Wa(n,[{key:"_reset",value:function(){this._previousPosition=-1,this._position=-1,this._actionHandled=!1,this._ignoreEvent=!1,this._observeIgnoredEvents=!1,this._stopping=!1,this._componentId=null,this._key=null,this._type=null}},{key:"isFirstPropagationStep",value:function(){var t=this.getPreviousPosition();return t===-1||t>=this._position}},{key:"isForKey",value:function(t){return this._key===t}},{key:"isForEventType",value:function(t){return this._type===t}},{key:"startNewPropagationStep",value:function(t,r,i,s){return this._position=this._componentList.getIndexById(t),this._componentId=t,this.isFirstPropagationStep()&&(zO.incrementId(),this._key=r.key,this._type=s),!(r.repeat&&Qa.option("ignoreRepeatedEventsWhenKeyHeldDown"))||(this.ignoreEvent(r),!1)}},{key:"finishPropagationStep",value:function(){this.isStopped()||this._componentList.isRoot(this._componentId)?(this._previousPropagation=this._clone(),this._reset()):this._previousPosition=this._position}},{key:"getPreviousPropagation",value:function(){return this._previousPropagation||(this._previousPropagation=this._clone({copyState:!1})),this._previousPropagation}},{key:"getPreviousPosition",value:function(){return this._previousPosition}},{key:"observeIgnoredEvents",value:function(){this._observeIgnoredEvents=!0}},{key:"ignoreEvent",value:function(t){return this.setIgnoreEvent(!0),!!(this.isIgnoringEvent()&&Qa.option("stopEventPropagationAfterIgnoring"))&&(this.stop(t),this.finishPropagationStep(),!0)}},{key:"setIgnoreEvent",value:function(t){this._ignoreEvent=t}},{key:"isIgnoringEvent",value:function(){return!this._observeIgnoredEvents&&this._ignoreEvent}},{key:"isStopped",value:function(){return this._stopping}},{key:"stop",value:function(t){return!this.isStopped()&&(this._stopping=!0,t.simulated||t.stopPropagation(),!0)}},{key:"isPendingPropagation",value:function(){var t=this.getPreviousPosition();return t!==-1&&t+1<this._position}},{key:"isHandled",value:function(){return this._actionHandled}},{key:"setHandled",value:function(){this._actionHandled=!0}},{key:"_clone",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},r=t.copyState,i=new n(this._componentList,{logger:this.logger,logPrefix:this._logPrefix});return(r===void 0||r)&&Object.assign(i,this),i}}]),n}(),Xht=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return Va(this,e),t=Sx(this,Sc(e).call(this,r,i)),t.focusTreeId=0,t}return Ex(e,n),Wa(e,[{key:"_reset",value:function(){py(Sc(e.prototype),"_reset",this).call(this),this.keypressEventsToSimulate=[],this.focusTreeId+=1,this.eventPropagator=new Jht(this.componentList,{logger:this.logger,logPrefix:this._logPrefix.bind(this)})}},{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0;if(this.resetOnNextFocus&&(this._reset(),this.resetOnNextFocus=!1),!this.componentList.containsId(r))return this._addComponent(r,i,s,o),this.focusTreeId}},{key:"updateEnabledHotKeys",value:function(r,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=4<arguments.length?arguments[4]:void 0;r===this.focusTreeId&&this.componentList.containsId(i)&&(this.componentList.update(i,s,o,a),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._initHandlerResolutionState())}},{key:"disableHotKeys",value:function(r,i){this.resetOnNextFocus||(this.resetOnNextFocus=!0);var s=this.eventPropagator.isPendingPropagation();return s}},{key:"handleKeydown",value:function(r,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=c9(r);if(i!==this.focusTreeId)return this.eventPropagator.ignoreEvent(r),!0;var c=this.eventPropagator.startNewPropagationStep(s,r,a,eo.keydown);if(c){var d=this._howToHandleKeyEvent(r,i,s,a,o,eo.keydown);if(d===Qu.handled){var p=xb(r),b=this.getCurrentCombination();b.isKeyIncluded(a)||b.isEnding()?this._startAndLogNewKeyCombination(a,i,s,p):this._addToAndLogCurrentKeyCombination(a,eo.keydown,i,s,p),this._callHandlerIfActionNotHandled(r,a,eo.keydown,s,i)}return this._simulateKeyPressForNonPrintableKeys(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),!1}}},{key:"_howToHandleKeyEvent",value:function(r,i,s,o,a,c){if(this.eventPropagator.isFirstPropagationStep()){if(a.ignoreEventsCondition(r)&&this.eventPropagator.ignoreEvent(r))return this._eventIsToBeIgnored(r,s,o,c);this._checkForModifierFlagDiscrepancies(r,o,c)}else if(this.eventPropagator.isIgnoringEvent())return this._eventIsToBeIgnored(r,s,o,c);return Qu.handled}},{key:"_eventIsToBeIgnored",value:function(r,i,s,o){return Qu.ignored}},{key:"handleKeyPress",value:function(r,i,s,o){var a=c9(r),c=this.getCurrentCombination();if(c.isKeyPressSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var d=this.eventPropagator.startNewPropagationStep(s,r,a,eo.keypress);if(d){var p=i!==this.focusTreeId,b=this._howToHandleKeyEvent(r,i,s,a,o,eo.keypress);return this.eventPropagator.isFirstPropagationStep(s)&&c.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,eo.keypress,i,s,xb(r)),b===Qu.handled&&this._callHandlerIfActionNotHandled(r,a,eo.keypress,s,i),this.eventPropagator.finishPropagationStep(),p}}},{key:"handleKeyUp",value:function(r,i,s,o){var a=c9(r),c=this.getCurrentCombination();if(c.isKeyUpSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var d=this.eventPropagator.startNewPropagationStep(s,r,a,eo.keyup);if(d){var p=i!==this.focusTreeId,b=this._howToHandleKeyEvent(r,i,s,a,o,eo.keyup);return this.eventPropagator.isFirstPropagationStep(s)&&c.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,eo.keyup,i,s,xb(r)),b===Qu.handled&&this._callHandlerIfActionNotHandled(r,a,eo.keyup,s,i),this._simulateKeyUpEventsHiddenByCmd(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),p}}},{key:"closeHangingKeyCombination",value:function(r,i){var s=this.getCurrentCombination();s.isKeyIncluded(r)&&!s.isEventTriggered(r,i)&&s.setKeyState(r,i,my.simulated)}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i,s,o,a){this._handleEventSimulation("keypressEventsToSimulate","simulatePendingKeyPressEvents",this._shouldSimulate(eo.keypress,i),{event:r,key:i,focusTreeId:s,componentId:o,options:a})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i,s,o,a){var c=this;hz(i)&&this.getCurrentCombination().forEachKey(function(d){hz(d)||c._handleEventSimulation("keyupEventsToSimulate","simulatePendingKeyUpEvents",c._shouldSimulate(eo.keyup,d),{event:r,key:d,focusTreeId:s,componentId:o,options:a})})}},{key:"_stopEventPropagation",value:function(r,i){this.eventPropagator.stop(r)}},{key:"getEventPropagator",value:function(){return this.eventPropagator}},{key:"_startAndLogNewKeyCombination",value:function(r,i,s,o){this.getKeyHistory().startNewKeyCombination(r,o)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s,o,a){this.getKeyHistory().addKeyToCurrentCombination(r,i,a)}},{key:"_handleEventSimulation",value:function(r,i,s,o){var a=o.event,c=o.key,d=o.focusTreeId,p=o.componentId,b=o.options;if(s&&Qa.option("simulateMissingKeyPressEvents")){var C=this._cloneAndMergeEvent(a,{key:c,simulated:!0});this[r].push({event:C,focusTreeId:d,componentId:p,options:b})}(this.componentList.isRoot(p)||this.eventPropagator.isStopped())&&!this.keyEventManager.isGlobalListenersBound()&&this[i]()}},{key:"simulatePendingKeyPressEvents",value:function(){this._simulatePendingKeyEvents("keypressEventsToSimulate","handleKeyPress")}},{key:"simulatePendingKeyUpEvents",value:function(){this._simulatePendingKeyEvents("keyupEventsToSimulate","handleKeyUp")}},{key:"_simulatePendingKeyEvents",value:function(r,i){var s=this;0<this[r].length&&zO.incrementId(),this[r].forEach(function(o){var a=o.event,c=o.focusTreeId,d=o.componentId,p=o.options;s[i](a,c,d,p)}),this[r]=[]}},{key:"_callHandlerIfActionNotHandled",value:function(r,i,s,o,a){var c=this.getCurrentCombination().describe();if(!!this.componentList.anyActionsForEventType(s)&&!this.eventPropagator.isHandled()){var d=this.eventPropagator.getPreviousPosition(),p=this.componentList.getIndexById(o),b=this._callClosestMatchingHandler(r,i,s,p,d===-1?0:d);b&&this.eventPropagator.setHandled()}}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=D2.logIcons,o=D2.eventIcons,a=D2.componentIcons,c="HotKeys (";if(i.focusTreeId!==!1){var d=S1(i.focusTreeId)?this.focusTreeId:i.focusTreeId;c+="F".concat(d).concat(s[d%s.length],"-")}if(i.eventId!==!1){var p=S1(i.eventId)?zO.getId():i.eventId;c+="E".concat(p).concat(o[p%o.length],"-")}c+="C".concat(r).concat(a[r%a.length]);var b=this.componentList.getIndexById(r);return S1(b)||(c+="-P".concat(b).concat(a[b%a.length],":")),"".concat(c,")")}}]),e}(mwe);ept=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return Va(this,e),t=Sx(this,Sc(e).call(this,r,i)),t.listenersBound=!1,t.eventOptions={ignoreEventsCondition:Qa.option("ignoreEventsCondition")},t.listeners={},t}return Ex(e,n),Wa(e,[{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this._addComponent(r,i,s,o),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"updateEnabledHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this.componentList.update(r,i,s,o),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"disableHotKeys",value:function(r){this.componentList.remove(r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"_updateDocumentHandlers",value:function(){var r=this,i=this._listenersShouldBeBound();!this.listenersBound&&i?(Object.values(eo).forEach(function(s){var o=dwe(s);document["on".concat(o)]=function(a){r.keyEventManager["handleGlobal".concat(Zht(o))](a)}}),this.listenersBound=!0):this.listenersBound&&!i&&(Object.values(eo).forEach(function(s){var o=dwe(s);delete document["on".concat(o)]}),this.listenersBound=!1)}},{key:"_listenersShouldBeBound",value:function(){return this.componentList.any()||this.listeners.keyCombination}},{key:"handleKeydown",value:function(r){var i=c9(r);if(r.repeat&&Qa.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;this._checkForModifierFlagDiscrepancies(r,i,eo.keydown);var s=this._howReactAppRespondedTo(r,i,eo.keydown);if(!(s===Qu.unseen&&this.eventOptions.ignoreEventsCondition(r))){if(s!==Qu.ignored){var o=xb(r),a=this.getCurrentCombination();a.isKeyIncluded(i)||a.isEnding()?this._startAndLogNewKeyCombination(i,o):this._addToAndLogCurrentKeyCombination(i,eo.keydown,o)}pz([Qu.ignored,Qu.handled],s)||this._callHandlerIfExists(r,i,eo.keydown),this._simulateKeyPressForNonPrintableKeys(r,i)}}},{key:"_howReactAppRespondedTo",value:function(r,i,s){var o=this.keyEventManager.reactAppHistoryWithEvent(i,s);return o===Qu.handled||o===Qu.ignored||o===Qu.seen||zO.incrementId(),o}},{key:"handleKeyPress",value:function(r){var i=c9(r);if(r.repeat&&Qa.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;var s=this.getCurrentCombination();if(s.isKeyPressSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,eo.keypress);return s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,eo.keypress,xb(r)),o===Qu.unseen&&(this.keyEventManager.closeHangingKeyCombination(i,eo.keypress),this.eventOptions.ignoreEventsCondition(r))?void 0:void(!pz([Qu.ignored,Qu.handled],o)&&this._callHandlerIfExists(r,i,eo.keypress))}},{key:"handleKeyUp",value:function(r){var i=c9(r),s=this.getCurrentCombination();if(s.isKeyUpSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,eo.keyup);s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,eo.keyup,xb(r)),o===Qu.unseen?(this.keyEventManager.closeHangingKeyCombination(i,eo.keyup),this.eventOptions.ignoreEventsCondition(r)||!pz([Qu.ignored,Qu.handled],o)&&this._callHandlerIfExists(r,i,eo.keyup)):!pz([Qu.ignored,Qu.handled],o)&&this._callHandlerIfExists(r,i,eo.keyup),this._simulateKeyUpEventsHiddenByCmd(r,i),this.listeners.keyCombination&&this._allKeysAreReleased()&&this.listeners.keyCombination({keys:s.getKeyDictionary(),id:s.describe()})}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i){this.keyEventManager.simulatePendingKeyPressEvents(),this._handleEventSimulation("handleKeyPress",this._shouldSimulate(eo.keypress,i),{event:r,key:i})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i){var s=this;hz(i)&&(this.keyEventManager.simulatePendingKeyUpEvents(),this.getCurrentCombination().forEachKey(function(o){hz(o)||s._handleEventSimulation("handleKeyUp",s._shouldSimulate(eo.keyup,o),{event:r,key:o})}))}},{key:"_startAndLogNewKeyCombination",value:function(r,i){this.getKeyHistory().startNewKeyCombination(r,i)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s){this.getKeyHistory().addKeyToCurrentCombination(r,i,s)}},{key:"_handleEventSimulation",value:function(r,i,s){var o=s.event,a=s.key;if(i&&Qa.option("simulateMissingKeyPressEvents")){var c=this._cloneAndMergeEvent(o,{key:a,simulated:!0});this[r](c)}}},{key:"_callHandlerIfExists",value:function(r,i,s){var o=this.getCurrentCombination().describe();return this.componentList.anyActionsForEventType(s)?void this._callClosestMatchingHandler(r,i,s):void 0}},{key:"_callClosestMatchingHandler",value:function(r,i,s){for(var o,a=this.componentList.getNewIterator();a.next();)if(o=py(Sc(e.prototype),"_callClosestMatchingHandler",this).call(this,r,i,s,a.getPosition(),0),o)return}},{key:"_stopEventPropagation",value:function(r,i){r.simulated||r.stopPropagation()}},{key:"addKeyCombinationListener",value:function(r){var i=this,s=function(){delete i.listeners.keyCombination};return this.listeners.keyCombination=function(o){r(o),s()},this._updateDocumentHandlers(),s}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=D2.eventIcons,o=D2.componentIcons,a="HotKeys (GLOBAL";if(i.eventId!==!1){var c=S1(i.eventId)?zO.getId():i.eventId;a="".concat(a,"-E").concat(c).concat(s[c%s.length])}return S1(r)?"".concat(a,"):"):"".concat(a,"-C").concat(r).concat(o[r%o.length],"):")}}]),e}(mwe);I0=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Va(this,n),this.logger=e.logger||new D2(Qa.option("logLevel")),this._focusOnlyEventStrategy=new Xht({configuration:e,logger:this.logger},this),this._globalEventStrategy=new ept({configuration:e,logger:this.logger},this),this.mountedComponentsCount=0}return Wa(n,null,[{key:"getInstance",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this.instance||(this.instance=new n(t)),this.instance}},{key:"clear",value:function(){delete this.instance}}]),Wa(n,[{key:"getApplicationKeyMap",value:function(){return Object.assign(this._globalEventStrategy.getApplicationKeyMap(),this._focusOnlyEventStrategy.getApplicationKeyMap())}},{key:"registerKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._focusOnlyEventStrategy.registerKeyMap(t)}},{key:"reregisterKeyMap",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this._focusOnlyEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterKeyMap",value:function(t){this._focusOnlyEventStrategy.deregisterKeyMap(t)}},{key:"registerComponentMount",value:function(t,r){return this._incrementComponentCount(),this._focusOnlyEventStrategy.registerComponentMount(t,r)}},{key:"registerComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"_incrementComponentCount",value:function(){var t=this,r=this.mountedComponentsCount;this.mountedComponentsCount+=1,r===0&&this.mountedComponentsCount===1&&(window.onblur=function(){return t._clearKeyHistory()})}},{key:"_decrementComponentCount",value:function(){var t=this.mountedComponentsCount;this.mountedComponentsCount-=1,t===1&&this.mountedComponentsCount===0&&delete window.onblur}},{key:"_clearKeyHistory",value:function(){this._focusOnlyEventStrategy.resetKeyHistory({force:!0}),this._globalEventStrategy.resetKeyHistory({force:!0})}},{key:"registerGlobalKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._globalEventStrategy.registerKeyMap(t)}},{key:"registerGlobalComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"registerGlobalComponentMount",value:function(t,r){return this._incrementComponentCount(),this._globalEventStrategy.registerComponentMount(t,r)}},{key:"reregisterGlobalKeyMap",value:function(t,r){this._globalEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterGlobalKeyMap",value:function(t){this._globalEventStrategy.deregisterKeyMap(t)}},{key:"addKeyCombinationListener",value:function(t){return this._globalEventStrategy.addKeyCombinationListener(t)}},{key:"enableHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;return this._focusOnlyEventStrategy.enableHotKeys(t,r,i,s)}},{key:"updateEnabledHotKeys",value:function(t,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0;return this._focusOnlyEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableHotKeys",value:function(t,r){return this._focusOnlyEventStrategy.disableHotKeys(t,r)}},{key:"handleKeydown",value:function(t,r,i,s){if(uae(r))return this._focusOnlyEventStrategy.handleKeydown(t,r,i,s)}},{key:"handleKeyPress",value:function(t,r,i,s){if(uae(r))return this._focusOnlyEventStrategy.handleKeyPress(t,r,i,s)}},{key:"handleKeyUp",value:function(t,r,i,s){if(uae(r))return this._focusOnlyEventStrategy.handleKeyUp(t,r,i,s)}},{key:"enableGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.enableHotKeys(t,r,i,s,o)}},{key:"updateEnabledGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableGlobalHotKeys",value:function(t){return this._globalEventStrategy.disableHotKeys(t)}},{key:"handleGlobalKeyDown",value:function(t){return this._globalEventStrategy.handleKeydown(t)}},{key:"handleGlobalKeyPress",value:function(t){return this._globalEventStrategy.handleKeyPress(t)}},{key:"handleGlobalKeyUp",value:function(t){return this._globalEventStrategy.handleKeyUp(t)}},{key:"ignoreEvent",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().ignoreEvent(t)}},{key:"observeIgnoredEvents",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().observeIgnoredEvents(t)}},{key:"closeHangingKeyCombination",value:function(t,r){this._focusOnlyEventStrategy.closeHangingKeyCombination(t,r)}},{key:"reactAppHistoryWithEvent",value:function(t,r){var i=this._focusOnlyEventStrategy.eventPropagator.getPreviousPropagation();return i.isForKey(t)&&i.isForEventType(r)?i.isHandled()?Qu.handled:i.isIgnoringEvent()?Qu.ignored:Qu.seen:Qu.unseen}},{key:"simulatePendingKeyPressEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyPressEvents()}},{key:"simulatePendingKeyUpEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyUpEvents()}},{key:"isGlobalListenersBound",value:function(){return this._globalEventStrategy.listenersBound}}]),n}();tpt=function(n){function e(){return Va(this,e),Sx(this,Sc(e).apply(this,arguments))}return Ex(e,n),Wa(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=r.innerRef,o=r.component,a=jO(r,["hotKeys","innerRef","component"]),c=o||Qa.option("defaultComponent");return Kf.default.createElement(c,b1({},i,{ref:s},a))}}]),e}(Kf.Component),vwe=ywe(tpt);vwe.propTypes={innerRef:bu.default.oneOfType([bu.default.object,bu.default.func])};_we=function(n){function e(t){var r;return Va(this,e),r=Sx(this,Sc(e).call(this,t)),r._id=I0.getInstance().registerGlobalKeyMap(t.keyMap),r._childContext={globalHotKeysParentId:r._id},r}return Ex(e,n),Wa(e,[{key:"render",value:function(){return this.props.children||null}},{key:"componentDidUpdate",value:function(){var r=I0.getInstance();if(r.reregisterGlobalKeyMap(this._id,this.props.keyMap),this.props.allowChanges||!Qa.option("ignoreKeymapAndHandlerChangesByDefault")){var i=this.props,s=i.keyMap,o=i.handlers;r.updateEnabledGlobalHotKeys(this._id,s,o,this._getComponentOptions(),this._getEventOptions())}}},{key:"componentDidMount",value:function(){var r=this.props,i=r.keyMap,s=r.handlers,o=this.context.globalHotKeysParentId,a=I0.getInstance();a.registerGlobalComponentMount(this._id,o),a.enableGlobalHotKeys(this._id,i,s,this._getComponentOptions(),this._getEventOptions())}},{key:"componentWillUnmount",value:function(){var r=I0.getInstance();r.deregisterGlobalKeyMap(this._id),r.disableGlobalHotKeys(this._id),r.registerGlobalComponentUnmount()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Qa.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Qa.option("ignoreEventsCondition")}}}]),e}(Kf.Component);Sf(_we,"propTypes",{keyMap:bu.default.object,handlers:bu.default.object,allowChanges:bu.default.bool});npt=gwe(_we,{deprecatedAPI:{contextTypes:{globalHotKeysParentId:bu.default.number},childContextTypes:{globalHotKeysParentId:bu.default.number}},newAPI:{contextType:{globalHotKeysParentId:void 0}}});rpt=function(n){function e(){return Va(this,e),Sx(this,Sc(e).apply(this,arguments))}return Ex(e,n),Wa(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=jO(r,["hotKeys"]),o=s.component||Qa.option("defaultComponent");return Kf.default.createElement(o,b1({},i,s))}}]),e}(Kf.Component),ipt=mz(rpt,{},"ignoreEvent"),spt=function(n){function e(){return Va(this,e),Sx(this,Sc(e).apply(this,arguments))}return Ex(e,n),Wa(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=jO(r,["hotKeys"]),o=s.component||Qa.option("defaultComponent");return Kf.default.createElement(o,b1({},i,s))}}]),e}(Kf.Component),opt=mz(spt,{},"observeIgnoredEvents")});var wwe=we((gLt,Cwe)=>{"use strict";m();Cwe.exports=(Swe(),EMe(Ewe))});var gae=we((xae,m9)=>{m();(function(n,e){typeof xae=="object"&&typeof m9!="undefined"?m9.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(xae,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(A){n=A}function r(A){return A instanceof Array||Object.prototype.toString.call(A)==="[object Array]"}function i(A){return A!=null&&Object.prototype.toString.call(A)==="[object Object]"}function s(A,W){return Object.prototype.hasOwnProperty.call(A,W)}function o(A){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(A).length===0;var W;for(W in A)if(s(A,W))return!1;return!0}function a(A){return A===void 0}function c(A){return typeof A=="number"||Object.prototype.toString.call(A)==="[object Number]"}function d(A){return A instanceof Date||Object.prototype.toString.call(A)==="[object Date]"}function p(A,W){var ce=[],Me,_t=A.length;for(Me=0;Me<_t;++Me)ce.push(W(A[Me],Me));return ce}function b(A,W){for(var ce in W)s(W,ce)&&(A[ce]=W[ce]);return s(W,"toString")&&(A.toString=W.toString),s(W,"valueOf")&&(A.valueOf=W.valueOf),A}function C(A,W,ce,Me){return dn(A,W,ce,Me,!0).utc()}function N(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function R(A){return A._pf==null&&(A._pf=N()),A._pf}var U;Array.prototype.some?U=Array.prototype.some:U=function(A){var W=Object(this),ce=W.length>>>0,Me;for(Me=0;Me<ce;Me++)if(Me in W&&A.call(this,W[Me],Me,W))return!0;return!1};function V(A){if(A._isValid==null){var W=R(A),ce=U.call(W.parsedDateParts,function(_t){return _t!=null}),Me=!isNaN(A._d.getTime())&&W.overflow<0&&!W.empty&&!W.invalidEra&&!W.invalidMonth&&!W.invalidWeekday&&!W.weekdayMismatch&&!W.nullInput&&!W.invalidFormat&&!W.userInvalidated&&(!W.meridiem||W.meridiem&&ce);if(A._strict&&(Me=Me&&W.charsLeftOver===0&&W.unusedTokens.length===0&&W.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(A))A._isValid=Me;else return Me}return A._isValid}function P(A){var W=C(NaN);return A!=null?b(R(W),A):R(W).userInvalidated=!0,W}var $=e.momentProperties=[],M=!1;function G(A,W){var ce,Me,_t,wn=$.length;if(a(W._isAMomentObject)||(A._isAMomentObject=W._isAMomentObject),a(W._i)||(A._i=W._i),a(W._f)||(A._f=W._f),a(W._l)||(A._l=W._l),a(W._strict)||(A._strict=W._strict),a(W._tzm)||(A._tzm=W._tzm),a(W._isUTC)||(A._isUTC=W._isUTC),a(W._offset)||(A._offset=W._offset),a(W._pf)||(A._pf=R(W)),a(W._locale)||(A._locale=W._locale),wn>0)for(ce=0;ce<wn;ce++)Me=$[ce],_t=W[Me],a(_t)||(A[Me]=_t);return A}function ae(A){G(this,A),this._d=new Date(A._d!=null?A._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),M===!1&&(M=!0,e.updateOffset(this),M=!1)}function I(A){return A instanceof ae||A!=null&&A._isAMomentObject!=null}function Z(A){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+A)}function me(A,W){var ce=!0;return b(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,A),ce){var Me=[],_t,wn,ur,Ui=arguments.length;for(wn=0;wn<Ui;wn++){if(_t="",typeof arguments[wn]=="object"){_t+=`
[`+wn+"] ";for(ur in arguments[0])s(arguments[0],ur)&&(_t+=ur+": "+arguments[0][ur]+", ");_t=_t.slice(0,-2)}else _t=arguments[wn];Me.push(_t)}Z(A+`
Arguments: `+Array.prototype.slice.call(Me).join("")+`
`+new Error().stack),ce=!1}return W.apply(this,arguments)},W)}var ye={};function He(A,W){e.deprecationHandler!=null&&e.deprecationHandler(A,W),ye[A]||(Z(W),ye[A]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function ot(A){return typeof Function!="undefined"&&A instanceof Function||Object.prototype.toString.call(A)==="[object Function]"}function at(A){var W,ce;for(ce in A)s(A,ce)&&(W=A[ce],ot(W)?this[ce]=W:this["_"+ce]=W);this._config=A,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ze(A,W){var ce=b({},A),Me;for(Me in W)s(W,Me)&&(i(A[Me])&&i(W[Me])?(ce[Me]={},b(ce[Me],A[Me]),b(ce[Me],W[Me])):W[Me]!=null?ce[Me]=W[Me]:delete ce[Me]);for(Me in A)s(A,Me)&&!s(W,Me)&&i(A[Me])&&(ce[Me]=b({},ce[Me]));return ce}function Tt(A){A!=null&&this.set(A)}var Mt;Object.keys?Mt=Object.keys:Mt=function(A){var W,ce=[];for(W in A)s(A,W)&&ce.push(W);return ce};var Ue={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function te(A,W,ce){var Me=this._calendar[A]||this._calendar.sameElse;return ot(Me)?Me.call(W,ce):Me}function st(A,W,ce){var Me=""+Math.abs(A),_t=W-Me.length,wn=A>=0;return(wn?ce?"+":"":"-")+Math.pow(10,Math.max(0,_t)).toString().substr(1)+Me}var be=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Re=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ae={},xe={};function Je(A,W,ce,Me){var _t=Me;typeof Me=="string"&&(_t=function(){return this[Me]()}),A&&(xe[A]=_t),W&&(xe[W[0]]=function(){return st(_t.apply(this,arguments),W[1],W[2])}),ce&&(xe[ce]=function(){return this.localeData().ordinal(_t.apply(this,arguments),A)})}function lt(A){return A.match(/\[[\s\S]/)?A.replace(/^\[|\]$/g,""):A.replace(/\\/g,"")}function Qt(A){var W=A.match(be),ce,Me;for(ce=0,Me=W.length;ce<Me;ce++)xe[W[ce]]?W[ce]=xe[W[ce]]:W[ce]=lt(W[ce]);return function(_t){var wn="",ur;for(ur=0;ur<Me;ur++)wn+=ot(W[ur])?W[ur].call(_t,A):W[ur];return wn}}function Et(A,W){return A.isValid()?(W=mn(W,A.localeData()),Ae[W]=Ae[W]||Qt(W),Ae[W](A)):A.localeData().invalidDate()}function mn(A,W){var ce=5;function Me(_t){return W.longDateFormat(_t)||_t}for(Re.lastIndex=0;ce>=0&&Re.test(A);)A=A.replace(Re,Me),Re.lastIndex=0,ce-=1;return A}var Lt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function kt(A){var W=this._longDateFormat[A],ce=this._longDateFormat[A.toUpperCase()];return W||!ce?W:(this._longDateFormat[A]=ce.match(be).map(function(Me){return Me==="MMMM"||Me==="MM"||Me==="DD"||Me==="dddd"?Me.slice(1):Me}).join(""),this._longDateFormat[A])}var cn="Invalid date";function wt(){return this._invalidDate}var Ee="%d",Ie=/\d{1,2}/;function Ce(A){return this._ordinal.replace("%d",A)}var fe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function rt(A,W,ce,Me){var _t=this._relativeTime[ce];return ot(_t)?_t(A,W,ce,Me):_t.replace(/%d/i,A)}function Xe(A,W){var ce=this._relativeTime[A>0?"future":"past"];return ot(ce)?ce(W):ce.replace(/%s/i,W)}var de={};function Ge(A,W){var ce=A.toLowerCase();de[ce]=de[ce+"s"]=de[W]=A}function Ot(A){return typeof A=="string"?de[A]||de[A.toLowerCase()]:void 0}function Nt(A){var W={},ce,Me;for(Me in A)s(A,Me)&&(ce=Ot(Me),ce&&(W[ce]=A[Me]));return W}var zt={};function en(A,W){zt[A]=W}function Xt(A){var W=[],ce;for(ce in A)s(A,ce)&&W.push({unit:ce,priority:zt[ce]});return W.sort(function(Me,_t){return Me.priority-_t.priority}),W}function bn(A){return A%4===0&&A%100!==0||A%400===0}function Tn(A){return A<0?Math.ceil(A)||0:Math.floor(A)}function Dn(A){var W=+A,ce=0;return W!==0&&isFinite(W)&&(ce=Tn(W)),ce}function Ut(A,W){return function(ce){return ce!=null?(qn(this,A,ce),e.updateOffset(this,W),this):pn(this,A)}}function pn(A,W){return A.isValid()?A._d["get"+(A._isUTC?"UTC":"")+W]():NaN}function qn(A,W,ce){A.isValid()&&!isNaN(ce)&&(W==="FullYear"&&bn(A.year())&&A.month()===1&&A.date()===29?(ce=Dn(ce),A._d["set"+(A._isUTC?"UTC":"")+W](ce,A.month(),zn(ce,A.month()))):A._d["set"+(A._isUTC?"UTC":"")+W](ce))}function sr(A){return A=Ot(A),ot(this[A])?this[A]():this}function In(A,W){if(typeof A=="object"){A=Nt(A);var ce=Xt(A),Me,_t=ce.length;for(Me=0;Me<_t;Me++)this[ce[Me].unit](A[ce[Me].unit])}else if(A=Ot(A),ot(this[A]))return this[A](W);return this}var Ne=/\d/,$e=/\d\d/,De=/\d{3}/,qt=/\d{4}/,yt=/[+-]?\d{6}/,mt=/\d\d?/,nn=/\d\d\d\d?/,Wt=/\d\d\d\d\d\d?/,Fn=/\d{1,3}/,Qn=/\d{1,4}/,Zn=/[+-]?\d{1,6}/,Pn=/\d+/,or=/[+-]?\d+/,Ye=/Z|[+-]\d\d:?\d\d/gi,gt=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,et;et={};function At(A,W,ce){et[A]=ot(W)?W:function(Me,_t){return Me&&ce?ce:W}}function fn(A,W){return s(et,A)?et[A](W._strict,W._locale):new RegExp(on(A))}function on(A){return ct(A.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(W,ce,Me,_t,wn){return ce||Me||_t||wn}))}function ct(A){return A.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var re={};function Te(A,W){var ce,Me=W,_t;for(typeof A=="string"&&(A=[A]),c(W)&&(Me=function(wn,ur){ur[W]=Dn(wn)}),_t=A.length,ce=0;ce<_t;ce++)re[A[ce]]=Me}function je(A,W){Te(A,function(ce,Me,_t,wn){_t._w=_t._w||{},W(ce,_t._w,_t,wn)})}function ht(A,W,ce){W!=null&&s(re,A)&&re[A](W,ce._a,ce,A)}var vt=0,Ft=1,ne=2,Se=3,Ve=4,nt=5,Bt=6,rn=7,Sn=8;function vn(A,W){return(A%W+W)%W}var xn;Array.prototype.indexOf?xn=Array.prototype.indexOf:xn=function(A){var W;for(W=0;W<this.length;++W)if(this[W]===A)return W;return-1};function zn(A,W){if(isNaN(A)||isNaN(W))return NaN;var ce=vn(W,12);return A+=(W-ce)/12,ce===1?bn(A)?29:28:31-ce%7%2}Je("M",["MM",2],"Mo",function(){return this.month()+1}),Je("MMM",0,0,function(A){return this.localeData().monthsShort(this,A)}),Je("MMMM",0,0,function(A){return this.localeData().months(this,A)}),Ge("month","M"),en("month",8),At("M",mt),At("MM",mt,$e),At("MMM",function(A,W){return W.monthsShortRegex(A)}),At("MMMM",function(A,W){return W.monthsRegex(A)}),Te(["M","MM"],function(A,W){W[Ft]=Dn(A)-1}),Te(["MMM","MMMM"],function(A,W,ce,Me){var _t=ce._locale.monthsParse(A,Me,ce._strict);_t!=null?W[Ft]=_t:R(ce).invalidMonth=A});var Oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ct=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,O=Pe,H=Pe;function ve(A,W){return A?r(this._months)?this._months[A.month()]:this._months[(this._months.isFormat||Ct).test(W)?"format":"standalone"][A.month()]:r(this._months)?this._months:this._months.standalone}function pe(A,W){return A?r(this._monthsShort)?this._monthsShort[A.month()]:this._monthsShort[Ct.test(W)?"format":"standalone"][A.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function K(A,W,ce){var Me,_t,wn,ur=A.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Me=0;Me<12;++Me)wn=C([2e3,Me]),this._shortMonthsParse[Me]=this.monthsShort(wn,"").toLocaleLowerCase(),this._longMonthsParse[Me]=this.months(wn,"").toLocaleLowerCase();return ce?W==="MMM"?(_t=xn.call(this._shortMonthsParse,ur),_t!==-1?_t:null):(_t=xn.call(this._longMonthsParse,ur),_t!==-1?_t:null):W==="MMM"?(_t=xn.call(this._shortMonthsParse,ur),_t!==-1?_t:(_t=xn.call(this._longMonthsParse,ur),_t!==-1?_t:null)):(_t=xn.call(this._longMonthsParse,ur),_t!==-1?_t:(_t=xn.call(this._shortMonthsParse,ur),_t!==-1?_t:null))}function oe(A,W,ce){var Me,_t,wn;if(this._monthsParseExact)return K.call(this,A,W,ce);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Me=0;Me<12;Me++){if(_t=C([2e3,Me]),ce&&!this._longMonthsParse[Me]&&(this._longMonthsParse[Me]=new RegExp("^"+this.months(_t,"").replace(".","")+"$","i"),this._shortMonthsParse[Me]=new RegExp("^"+this.monthsShort(_t,"").replace(".","")+"$","i")),!ce&&!this._monthsParse[Me]&&(wn="^"+this.months(_t,"")+"|^"+this.monthsShort(_t,""),this._monthsParse[Me]=new RegExp(wn.replace(".",""),"i")),ce&&W==="MMMM"&&this._longMonthsParse[Me].test(A))return Me;if(ce&&W==="MMM"&&this._shortMonthsParse[Me].test(A))return Me;if(!ce&&this._monthsParse[Me].test(A))return Me}}function le(A,W){var ce;if(!A.isValid())return A;if(typeof W=="string"){if(/^\d+$/.test(W))W=Dn(W);else if(W=A.localeData().monthsParse(W),!c(W))return A}return ce=Math.min(A.date(),zn(A.year(),W)),A._d["set"+(A._isUTC?"UTC":"")+"Month"](W,ce),A}function We(A){return A!=null?(le(this,A),e.updateOffset(this,!0),this):pn(this,"Month")}function Rt(){return zn(this.year(),this.month())}function bt(A){return this._monthsParseExact?(s(this,"_monthsRegex")||S.call(this),A?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=O),this._monthsShortStrictRegex&&A?this._monthsShortStrictRegex:this._monthsShortRegex)}function ln(A){return this._monthsParseExact?(s(this,"_monthsRegex")||S.call(this),A?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=H),this._monthsStrictRegex&&A?this._monthsStrictRegex:this._monthsRegex)}function S(){function A(ur,Ui){return Ui.length-ur.length}var W=[],ce=[],Me=[],_t,wn;for(_t=0;_t<12;_t++)wn=C([2e3,_t]),W.push(this.monthsShort(wn,"")),ce.push(this.months(wn,"")),Me.push(this.months(wn,"")),Me.push(this.monthsShort(wn,""));for(W.sort(A),ce.sort(A),Me.sort(A),_t=0;_t<12;_t++)W[_t]=ct(W[_t]),ce[_t]=ct(ce[_t]);for(_t=0;_t<24;_t++)Me[_t]=ct(Me[_t]);this._monthsRegex=new RegExp("^("+Me.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+ce.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+W.join("|")+")","i")}Je("Y",0,0,function(){var A=this.year();return A<=9999?st(A,4):"+"+A}),Je(0,["YY",2],0,function(){return this.year()%100}),Je(0,["YYYY",4],0,"year"),Je(0,["YYYYY",5],0,"year"),Je(0,["YYYYYY",6,!0],0,"year"),Ge("year","y"),en("year",1),At("Y",or),At("YY",mt,$e),At("YYYY",Qn,qt),At("YYYYY",Zn,yt),At("YYYYYY",Zn,yt),Te(["YYYYY","YYYYYY"],vt),Te("YYYY",function(A,W){W[vt]=A.length===2?e.parseTwoDigitYear(A):Dn(A)}),Te("YY",function(A,W){W[vt]=e.parseTwoDigitYear(A)}),Te("Y",function(A,W){W[vt]=parseInt(A,10)});function B(A){return bn(A)?366:365}e.parseTwoDigitYear=function(A){return Dn(A)+(Dn(A)>68?1900:2e3)};var ee=Ut("FullYear",!0);function _e(){return bn(this.year())}function ft(A,W,ce,Me,_t,wn,ur){var Ui;return A<100&&A>=0?(Ui=new Date(A+400,W,ce,Me,_t,wn,ur),isFinite(Ui.getFullYear())&&Ui.setFullYear(A)):Ui=new Date(A,W,ce,Me,_t,wn,ur),Ui}function St(A){var W,ce;return A<100&&A>=0?(ce=Array.prototype.slice.call(arguments),ce[0]=A+400,W=new Date(Date.UTC.apply(null,ce)),isFinite(W.getUTCFullYear())&&W.setUTCFullYear(A)):W=new Date(Date.UTC.apply(null,arguments)),W}function Jt(A,W,ce){var Me=7+W-ce,_t=(7+St(A,0,Me).getUTCDay()-W)%7;return-_t+Me-1}function Kt(A,W,ce,Me,_t){var wn=(7+ce-Me)%7,ur=Jt(A,Me,_t),Ui=1+7*(W-1)+wn+ur,Pi,so;return Ui<=0?(Pi=A-1,so=B(Pi)+Ui):Ui>B(A)?(Pi=A+1,so=Ui-B(A)):(Pi=A,so=Ui),{year:Pi,dayOfYear:so}}function hn(A,W,ce){var Me=Jt(A.year(),W,ce),_t=Math.floor((A.dayOfYear()-Me-1)/7)+1,wn,ur;return _t<1?(ur=A.year()-1,wn=_t+Bn(ur,W,ce)):_t>Bn(A.year(),W,ce)?(wn=_t-Bn(A.year(),W,ce),ur=A.year()+1):(ur=A.year(),wn=_t),{week:wn,year:ur}}function Bn(A,W,ce){var Me=Jt(A,W,ce),_t=Jt(A+1,W,ce);return(B(A)-Me+_t)/7}Je("w",["ww",2],"wo","week"),Je("W",["WW",2],"Wo","isoWeek"),Ge("week","w"),Ge("isoWeek","W"),en("week",5),en("isoWeek",5),At("w",mt),At("ww",mt,$e),At("W",mt),At("WW",mt,$e),je(["w","ww","W","WW"],function(A,W,ce,Me){W[Me.substr(0,1)]=Dn(A)});function jn(A){return hn(A,this._week.dow,this._week.doy).week}var Vn={dow:0,doy:6};function Jr(){return this._week.dow}function Vr(){return this._week.doy}function yr(A){var W=this.localeData().week(this);return A==null?W:this.add((A-W)*7,"d")}function Mr(A){var W=hn(this,1,4).week;return A==null?W:this.add((A-W)*7,"d")}Je("d",0,"do","day"),Je("dd",0,0,function(A){return this.localeData().weekdaysMin(this,A)}),Je("ddd",0,0,function(A){return this.localeData().weekdaysShort(this,A)}),Je("dddd",0,0,function(A){return this.localeData().weekdays(this,A)}),Je("e",0,0,"weekday"),Je("E",0,0,"isoWeekday"),Ge("day","d"),Ge("weekday","e"),Ge("isoWeekday","E"),en("day",11),en("weekday",11),en("isoWeekday",11),At("d",mt),At("e",mt),At("E",mt),At("dd",function(A,W){return W.weekdaysMinRegex(A)}),At("ddd",function(A,W){return W.weekdaysShortRegex(A)}),At("dddd",function(A,W){return W.weekdaysRegex(A)}),je(["dd","ddd","dddd"],function(A,W,ce,Me){var _t=ce._locale.weekdaysParse(A,Me,ce._strict);_t!=null?W.d=_t:R(ce).invalidWeekday=A}),je(["d","e","E"],function(A,W,ce,Me){W[Me]=Dn(A)});function xi(A,W){return typeof A!="string"?A:isNaN(A)?(A=W.weekdaysParse(A),typeof A=="number"?A:null):parseInt(A,10)}function ai(A,W){return typeof A=="string"?W.weekdaysParse(A)%7||7:isNaN(A)?null:A}function Ji(A,W){return A.slice(W,7).concat(A.slice(0,W))}var Es="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),es="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ea="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),da=Pe,fl=Pe,wc=Pe;function au(A,W){var ce=r(this._weekdays)?this._weekdays:this._weekdays[A&&A!==!0&&this._weekdays.isFormat.test(W)?"format":"standalone"];return A===!0?Ji(ce,this._week.dow):A?ce[A.day()]:ce}function uu(A){return A===!0?Ji(this._weekdaysShort,this._week.dow):A?this._weekdaysShort[A.day()]:this._weekdaysShort}function Gu(A){return A===!0?Ji(this._weekdaysMin,this._week.dow):A?this._weekdaysMin[A.day()]:this._weekdaysMin}function wu(A,W,ce){var Me,_t,wn,ur=A.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Me=0;Me<7;++Me)wn=C([2e3,1]).day(Me),this._minWeekdaysParse[Me]=this.weekdaysMin(wn,"").toLocaleLowerCase(),this._shortWeekdaysParse[Me]=this.weekdaysShort(wn,"").toLocaleLowerCase(),this._weekdaysParse[Me]=this.weekdays(wn,"").toLocaleLowerCase();return ce?W==="dddd"?(_t=xn.call(this._weekdaysParse,ur),_t!==-1?_t:null):W==="ddd"?(_t=xn.call(this._shortWeekdaysParse,ur),_t!==-1?_t:null):(_t=xn.call(this._minWeekdaysParse,ur),_t!==-1?_t:null):W==="dddd"?(_t=xn.call(this._weekdaysParse,ur),_t!==-1||(_t=xn.call(this._shortWeekdaysParse,ur),_t!==-1)?_t:(_t=xn.call(this._minWeekdaysParse,ur),_t!==-1?_t:null)):W==="ddd"?(_t=xn.call(this._shortWeekdaysParse,ur),_t!==-1||(_t=xn.call(this._weekdaysParse,ur),_t!==-1)?_t:(_t=xn.call(this._minWeekdaysParse,ur),_t!==-1?_t:null)):(_t=xn.call(this._minWeekdaysParse,ur),_t!==-1||(_t=xn.call(this._weekdaysParse,ur),_t!==-1)?_t:(_t=xn.call(this._shortWeekdaysParse,ur),_t!==-1?_t:null))}function Ac(A,W,ce){var Me,_t,wn;if(this._weekdaysParseExact)return wu.call(this,A,W,ce);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Me=0;Me<7;Me++){if(_t=C([2e3,1]).day(Me),ce&&!this._fullWeekdaysParse[Me]&&(this._fullWeekdaysParse[Me]=new RegExp("^"+this.weekdays(_t,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Me]=new RegExp("^"+this.weekdaysShort(_t,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Me]=new RegExp("^"+this.weekdaysMin(_t,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Me]||(wn="^"+this.weekdays(_t,"")+"|^"+this.weekdaysShort(_t,"")+"|^"+this.weekdaysMin(_t,""),this._weekdaysParse[Me]=new RegExp(wn.replace(".",""),"i")),ce&&W==="dddd"&&this._fullWeekdaysParse[Me].test(A))return Me;if(ce&&W==="ddd"&&this._shortWeekdaysParse[Me].test(A))return Me;if(ce&&W==="dd"&&this._minWeekdaysParse[Me].test(A))return Me;if(!ce&&this._weekdaysParse[Me].test(A))return Me}}function Zo(A){if(!this.isValid())return A!=null?this:NaN;var W=this._isUTC?this._d.getUTCDay():this._d.getDay();return A!=null?(A=xi(A,this.localeData()),this.add(A-W,"d")):W}function Yu(A){if(!this.isValid())return A!=null?this:NaN;var W=(this.day()+7-this.localeData()._week.dow)%7;return A==null?W:this.add(A-W,"d")}function Gc(A){if(!this.isValid())return A!=null?this:NaN;if(A!=null){var W=ai(A,this.localeData());return this.day(this.day()%7?W:W-7)}else return this.day()||7}function Qe(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=da),this._weekdaysStrictRegex&&A?this._weekdaysStrictRegex:this._weekdaysRegex)}function Gt(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=fl),this._weekdaysShortStrictRegex&&A?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Mn(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=wc),this._weekdaysMinStrictRegex&&A?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Yn(){function A(hu,Lc){return Lc.length-hu.length}var W=[],ce=[],Me=[],_t=[],wn,ur,Ui,Pi,so;for(wn=0;wn<7;wn++)ur=C([2e3,1]).day(wn),Ui=ct(this.weekdaysMin(ur,"")),Pi=ct(this.weekdaysShort(ur,"")),so=ct(this.weekdays(ur,"")),W.push(Ui),ce.push(Pi),Me.push(so),_t.push(Ui),_t.push(Pi),_t.push(so);W.sort(A),ce.sort(A),Me.sort(A),_t.sort(A),this._weekdaysRegex=new RegExp("^("+_t.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Me.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+ce.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+W.join("|")+")","i")}function ri(){return this.hours()%12||12}function Br(){return this.hours()||24}Je("H",["HH",2],0,"hour"),Je("h",["hh",2],0,ri),Je("k",["kk",2],0,Br),Je("hmm",0,0,function(){return""+ri.apply(this)+st(this.minutes(),2)}),Je("hmmss",0,0,function(){return""+ri.apply(this)+st(this.minutes(),2)+st(this.seconds(),2)}),Je("Hmm",0,0,function(){return""+this.hours()+st(this.minutes(),2)}),Je("Hmmss",0,0,function(){return""+this.hours()+st(this.minutes(),2)+st(this.seconds(),2)});function Xr(A,W){Je(A,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),W)})}Xr("a",!0),Xr("A",!1),Ge("hour","h"),en("hour",13);function Cs(A,W){return W._meridiemParse}At("a",Cs),At("A",Cs),At("H",mt),At("h",mt),At("k",mt),At("HH",mt,$e),At("hh",mt,$e),At("kk",mt,$e),At("hmm",nn),At("hmmss",Wt),At("Hmm",nn),At("Hmmss",Wt),Te(["H","HH"],Se),Te(["k","kk"],function(A,W,ce){var Me=Dn(A);W[Se]=Me===24?0:Me}),Te(["a","A"],function(A,W,ce){ce._isPm=ce._locale.isPM(A),ce._meridiem=A}),Te(["h","hh"],function(A,W,ce){W[Se]=Dn(A),R(ce).bigHour=!0}),Te("hmm",function(A,W,ce){var Me=A.length-2;W[Se]=Dn(A.substr(0,Me)),W[Ve]=Dn(A.substr(Me)),R(ce).bigHour=!0}),Te("hmmss",function(A,W,ce){var Me=A.length-4,_t=A.length-2;W[Se]=Dn(A.substr(0,Me)),W[Ve]=Dn(A.substr(Me,2)),W[nt]=Dn(A.substr(_t)),R(ce).bigHour=!0}),Te("Hmm",function(A,W,ce){var Me=A.length-2;W[Se]=Dn(A.substr(0,Me)),W[Ve]=Dn(A.substr(Me))}),Te("Hmmss",function(A,W,ce){var Me=A.length-4,_t=A.length-2;W[Se]=Dn(A.substr(0,Me)),W[Ve]=Dn(A.substr(Me,2)),W[nt]=Dn(A.substr(_t))});function lo(A){return(A+"").toLowerCase().charAt(0)==="p"}var no=/[ap]\.?m?\.?/i,as=Ut("Hours",!0);function ro(A,W,ce){return A>11?ce?"pm":"PM":ce?"am":"AM"}var co={calendar:Ue,longDateFormat:Lt,invalidDate:cn,ordinal:Ee,dayOfMonthOrdinalParse:Ie,relativeTime:fe,months:Oe,monthsShort:qe,week:Vn,weekdays:Es,weekdaysMin:Ea,weekdaysShort:es,meridiemParse:no},hi={},Ei={},Vi;function Ko(A,W){var ce,Me=Math.min(A.length,W.length);for(ce=0;ce<Me;ce+=1)if(A[ce]!==W[ce])return ce;return Me}function la(A){return A&&A.toLowerCase().replace("_","-")}function ca(A){for(var W=0,ce,Me,_t,wn;W<A.length;){for(wn=la(A[W]).split("-"),ce=wn.length,Me=la(A[W+1]),Me=Me?Me.split("-"):null;ce>0;){if(_t=us(wn.slice(0,ce).join("-")),_t)return _t;if(Me&&Me.length>=ce&&Ko(wn,Me)>=ce-1)break;ce--}W++}return Vi}function fo(A){return A.match("^[^/\\\\]*$")!=null}function us(A){var W=null,ce;if(hi[A]===void 0&&typeof m9!="undefined"&&m9&&m9.exports&&fo(A))try{W=Vi._abbr,ce=xL,ce("./locale/"+A),hs(W)}catch{hi[A]=null}return hi[A]}function hs(A,W){var ce;return A&&(a(W)?ce=Is(A):ce=Xi(A,W),ce?Vi=ce:typeof console!="undefined"&&console.warn&&console.warn("Locale "+A+" not found. Did you forget to load it?")),Vi._abbr}function Xi(A,W){if(W!==null){var ce,Me=co;if(W.abbr=A,hi[A]!=null)He("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Me=hi[A]._config;else if(W.parentLocale!=null)if(hi[W.parentLocale]!=null)Me=hi[W.parentLocale]._config;else if(ce=us(W.parentLocale),ce!=null)Me=ce._config;else return Ei[W.parentLocale]||(Ei[W.parentLocale]=[]),Ei[W.parentLocale].push({name:A,config:W}),null;return hi[A]=new Tt(Ze(Me,W)),Ei[A]&&Ei[A].forEach(function(_t){Xi(_t.name,_t.config)}),hs(A),hi[A]}else return delete hi[A],null}function lu(A,W){if(W!=null){var ce,Me,_t=co;hi[A]!=null&&hi[A].parentLocale!=null?hi[A].set(Ze(hi[A]._config,W)):(Me=us(A),Me!=null&&(_t=Me._config),W=Ze(_t,W),Me==null&&(W.abbr=A),ce=new Tt(W),ce.parentLocale=hi[A],hi[A]=ce),hs(A)}else hi[A]!=null&&(hi[A].parentLocale!=null?(hi[A]=hi[A].parentLocale,A===hs()&&hs(A)):hi[A]!=null&&delete hi[A]);return hi[A]}function Is(A){var W;if(A&&A._locale&&A._locale._abbr&&(A=A._locale._abbr),!A)return Vi;if(!r(A)){if(W=us(A),W)return W;A=[A]}return ca(A)}function ha(){return Mt(hi)}function ia(A){var W,ce=A._a;return ce&&R(A).overflow===-2&&(W=ce[Ft]<0||ce[Ft]>11?Ft:ce[ne]<1||ce[ne]>zn(ce[vt],ce[Ft])?ne:ce[Se]<0||ce[Se]>24||ce[Se]===24&&(ce[Ve]!==0||ce[nt]!==0||ce[Bt]!==0)?Se:ce[Ve]<0||ce[Ve]>59?Ve:ce[nt]<0||ce[nt]>59?nt:ce[Bt]<0||ce[Bt]>999?Bt:-1,R(A)._overflowDayOfYear&&(W<vt||W>ne)&&(W=ne),R(A)._overflowWeeks&&W===-1&&(W=rn),R(A)._overflowWeekday&&W===-1&&(W=Sn),R(A).overflow=W),A}var Ni=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ho=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ys=/Z|[+-]\d\d(?::?\d\d)?/,Ii=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Do=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Oa=/^\/?Date\((-?\d+)/i,Ga=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Oo={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ao(A){var W,ce,Me=A._i,_t=Ni.exec(Me)||Ho.exec(Me),wn,ur,Ui,Pi,so=Ii.length,hu=Do.length;if(_t){for(R(A).iso=!0,W=0,ce=so;W<ce;W++)if(Ii[W][1].exec(_t[1])){ur=Ii[W][0],wn=Ii[W][2]!==!1;break}if(ur==null){A._isValid=!1;return}if(_t[3]){for(W=0,ce=hu;W<ce;W++)if(Do[W][1].exec(_t[3])){Ui=(_t[2]||" ")+Do[W][0];break}if(Ui==null){A._isValid=!1;return}}if(!wn&&Ui!=null){A._isValid=!1;return}if(_t[4])if(ys.exec(_t[4]))Pi="Z";else{A._isValid=!1;return}A._f=ur+(Ui||"")+(Pi||""),ls(A)}else A._isValid=!1}function ja(A,W,ce,Me,_t,wn){var ur=[cu(A),qe.indexOf(W),parseInt(ce,10),parseInt(Me,10),parseInt(_t,10)];return wn&&ur.push(parseInt(wn,10)),ur}function cu(A){var W=parseInt(A,10);return W<=49?2e3+W:W<=999?1900+W:W}function qa(A){return A.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function sa(A,W,ce){if(A){var Me=es.indexOf(A),_t=new Date(W[0],W[1],W[2]).getDay();if(Me!==_t)return R(ce).weekdayMismatch=!0,ce._isValid=!1,!1}return!0}function oa(A,W,ce){if(A)return Oo[A];if(W)return 0;var Me=parseInt(ce,10),_t=Me%100,wn=(Me-_t)/100;return wn*60+_t}function dl(A){var W=Ga.exec(qa(A._i)),ce;if(W){if(ce=ja(W[4],W[3],W[2],W[5],W[6],W[7]),!sa(W[1],ce,A))return;A._a=ce,A._tzm=oa(W[8],W[9],W[10]),A._d=St.apply(null,A._a),A._d.setUTCMinutes(A._d.getUTCMinutes()-A._tzm),R(A).rfc2822=!0}else A._isValid=!1}function Pl(A){var W=Oa.exec(A._i);if(W!==null){A._d=new Date(+W[1]);return}if(Ao(A),A._isValid===!1)delete A._isValid;else return;if(dl(A),A._isValid===!1)delete A._isValid;else return;A._strict?A._isValid=!1:e.createFromInputFallback(A)}e.createFromInputFallback=me("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(A){A._d=new Date(A._i+(A._useUTC?" UTC":""))});function ea(A,W,ce){return A??W??ce}function Ku(A){var W=new Date(e.now());return A._useUTC?[W.getUTCFullYear(),W.getUTCMonth(),W.getUTCDate()]:[W.getFullYear(),W.getMonth(),W.getDate()]}function ui(A){var W,ce,Me=[],_t,wn,ur;if(!A._d){for(_t=Ku(A),A._w&&A._a[ne]==null&&A._a[Ft]==null&&ns(A),A._dayOfYear!=null&&(ur=ea(A._a[vt],_t[vt]),(A._dayOfYear>B(ur)||A._dayOfYear===0)&&(R(A)._overflowDayOfYear=!0),ce=St(ur,0,A._dayOfYear),A._a[Ft]=ce.getUTCMonth(),A._a[ne]=ce.getUTCDate()),W=0;W<3&&A._a[W]==null;++W)A._a[W]=Me[W]=_t[W];for(;W<7;W++)A._a[W]=Me[W]=A._a[W]==null?W===2?1:0:A._a[W];A._a[Se]===24&&A._a[Ve]===0&&A._a[nt]===0&&A._a[Bt]===0&&(A._nextDay=!0,A._a[Se]=0),A._d=(A._useUTC?St:ft).apply(null,Me),wn=A._useUTC?A._d.getUTCDay():A._d.getDay(),A._tzm!=null&&A._d.setUTCMinutes(A._d.getUTCMinutes()-A._tzm),A._nextDay&&(A._a[Se]=24),A._w&&typeof A._w.d!="undefined"&&A._w.d!==wn&&(R(A).weekdayMismatch=!0)}}function ns(A){var W,ce,Me,_t,wn,ur,Ui,Pi,so;W=A._w,W.GG!=null||W.W!=null||W.E!=null?(wn=1,ur=4,ce=ea(W.GG,A._a[vt],hn(Nn(),1,4).year),Me=ea(W.W,1),_t=ea(W.E,1),(_t<1||_t>7)&&(Pi=!0)):(wn=A._locale._week.dow,ur=A._locale._week.doy,so=hn(Nn(),wn,ur),ce=ea(W.gg,A._a[vt],so.year),Me=ea(W.w,so.week),W.d!=null?(_t=W.d,(_t<0||_t>6)&&(Pi=!0)):W.e!=null?(_t=W.e+wn,(W.e<0||W.e>6)&&(Pi=!0)):_t=wn),Me<1||Me>Bn(ce,wn,ur)?R(A)._overflowWeeks=!0:Pi!=null?R(A)._overflowWeekday=!0:(Ui=Kt(ce,Me,_t,wn,ur),A._a[vt]=Ui.year,A._dayOfYear=Ui.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function ls(A){if(A._f===e.ISO_8601){Ao(A);return}if(A._f===e.RFC_2822){dl(A);return}A._a=[],R(A).empty=!0;var W=""+A._i,ce,Me,_t,wn,ur,Ui=W.length,Pi=0,so,hu;for(_t=mn(A._f,A._locale).match(be)||[],hu=_t.length,ce=0;ce<hu;ce++)wn=_t[ce],Me=(W.match(fn(wn,A))||[])[0],Me&&(ur=W.substr(0,W.indexOf(Me)),ur.length>0&&R(A).unusedInput.push(ur),W=W.slice(W.indexOf(Me)+Me.length),Pi+=Me.length),xe[wn]?(Me?R(A).empty=!1:R(A).unusedTokens.push(wn),ht(wn,Me,A)):A._strict&&!Me&&R(A).unusedTokens.push(wn);R(A).charsLeftOver=Ui-Pi,W.length>0&&R(A).unusedInput.push(W),A._a[Se]<=12&&R(A).bigHour===!0&&A._a[Se]>0&&(R(A).bigHour=void 0),R(A).parsedDateParts=A._a.slice(0),R(A).meridiem=A._meridiem,A._a[Se]=pr(A._locale,A._a[Se],A._meridiem),so=R(A).era,so!==null&&(A._a[vt]=A._locale.erasConvertYear(so,A._a[vt])),ui(A),ia(A)}function pr(A,W,ce){var Me;return ce==null?W:A.meridiemHour!=null?A.meridiemHour(W,ce):(A.isPM!=null&&(Me=A.isPM(ce),Me&&W<12&&(W+=12),!Me&&W===12&&(W=0)),W)}function rs(A){var W,ce,Me,_t,wn,ur,Ui=!1,Pi=A._f.length;if(Pi===0){R(A).invalidFormat=!0,A._d=new Date(NaN);return}for(_t=0;_t<Pi;_t++)wn=0,ur=!1,W=G({},A),A._useUTC!=null&&(W._useUTC=A._useUTC),W._f=A._f[_t],ls(W),V(W)&&(ur=!0),wn+=R(W).charsLeftOver,wn+=R(W).unusedTokens.length*10,R(W).score=wn,Ui?wn<Me&&(Me=wn,ce=W):(Me==null||wn<Me||ur)&&(Me=wn,ce=W,ur&&(Ui=!0));b(A,ce||W)}function Le(A){if(!A._d){var W=Nt(A._i),ce=W.day===void 0?W.date:W.day;A._a=p([W.year,W.month,ce,W.hour,W.minute,W.second,W.millisecond],function(Me){return Me&&parseInt(Me,10)}),ui(A)}}function pt(A){var W=new ae(ia(Yt(A)));return W._nextDay&&(W.add(1,"d"),W._nextDay=void 0),W}function Yt(A){var W=A._i,ce=A._f;return A._locale=A._locale||Is(A._l),W===null||ce===void 0&&W===""?P({nullInput:!0}):(typeof W=="string"&&(A._i=W=A._locale.preparse(W)),I(W)?new ae(ia(W)):(d(W)?A._d=W:r(ce)?rs(A):ce?ls(A):jt(A),V(A)||(A._d=null),A))}function jt(A){var W=A._i;a(W)?A._d=new Date(e.now()):d(W)?A._d=new Date(W.valueOf()):typeof W=="string"?Pl(A):r(W)?(A._a=p(W.slice(0),function(ce){return parseInt(ce,10)}),ui(A)):i(W)?Le(A):c(W)?A._d=new Date(W):e.createFromInputFallback(A)}function dn(A,W,ce,Me,_t){var wn={};return(W===!0||W===!1)&&(Me=W,W=void 0),(ce===!0||ce===!1)&&(Me=ce,ce=void 0),(i(A)&&o(A)||r(A)&&A.length===0)&&(A=void 0),wn._isAMomentObject=!0,wn._useUTC=wn._isUTC=_t,wn._l=ce,wn._i=A,wn._f=W,wn._strict=Me,pt(wn)}function Nn(A,W,ce,Me){return dn(A,W,ce,Me,!1)}var Kn=me("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var A=Nn.apply(null,arguments);return this.isValid()&&A.isValid()?A<this?this:A:P()}),Un=me("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var A=Nn.apply(null,arguments);return this.isValid()&&A.isValid()?A>this?this:A:P()});function br(A,W){var ce,Me;if(W.length===1&&r(W[0])&&(W=W[0]),!W.length)return Nn();for(ce=W[0],Me=1;Me<W.length;++Me)(!W[Me].isValid()||W[Me][A](ce))&&(ce=W[Me]);return ce}function wr(){var A=[].slice.call(arguments,0);return br("isBefore",A)}function Gn(){var A=[].slice.call(arguments,0);return br("isAfter",A)}var ar=function(){return Date.now?Date.now():+new Date},er=["year","quarter","month","week","day","hour","minute","second","millisecond"];function gr(A){var W,ce=!1,Me,_t=er.length;for(W in A)if(s(A,W)&&!(xn.call(er,W)!==-1&&(A[W]==null||!isNaN(A[W]))))return!1;for(Me=0;Me<_t;++Me)if(A[er[Me]]){if(ce)return!1;parseFloat(A[er[Me]])!==Dn(A[er[Me]])&&(ce=!0)}return!0}function Or(){return this._isValid}function di(){return zi(NaN)}function ni(A){var W=Nt(A),ce=W.year||0,Me=W.quarter||0,_t=W.month||0,wn=W.week||W.isoWeek||0,ur=W.day||0,Ui=W.hour||0,Pi=W.minute||0,so=W.second||0,hu=W.millisecond||0;this._isValid=gr(W),this._milliseconds=+hu+so*1e3+Pi*6e4+Ui*1e3*60*60,this._days=+ur+wn*7,this._months=+_t+Me*3+ce*12,this._data={},this._locale=Is(),this._bubble()}function pi(A){return A instanceof ni}function ii(A){return A<0?Math.round(-1*A)*-1:Math.round(A)}function qr(A,W,ce){var Me=Math.min(A.length,W.length),_t=Math.abs(A.length-W.length),wn=0,ur;for(ur=0;ur<Me;ur++)(ce&&A[ur]!==W[ur]||!ce&&Dn(A[ur])!==Dn(W[ur]))&&wn++;return wn+_t}function Ir(A,W){Je(A,0,0,function(){var ce=this.utcOffset(),Me="+";return ce<0&&(ce=-ce,Me="-"),Me+st(~~(ce/60),2)+W+st(~~ce%60,2)})}Ir("Z",":"),Ir("ZZ",""),At("Z",gt),At("ZZ",gt),Te(["Z","ZZ"],function(A,W,ce){ce._useUTC=!0,ce._tzm=gi(gt,A)});var yi=/([\+\-]|\d\d)/gi;function gi(A,W){var ce=(W||"").match(A),Me,_t,wn;return ce===null?null:(Me=ce[ce.length-1]||[],_t=(Me+"").match(yi)||["-",0,0],wn=+(_t[1]*60)+Dn(_t[2]),wn===0?0:_t[0]==="+"?wn:-wn)}function ss(A,W){var ce,Me;return W._isUTC?(ce=W.clone(),Me=(I(A)||d(A)?A.valueOf():Nn(A).valueOf())-ce.valueOf(),ce._d.setTime(ce._d.valueOf()+Me),e.updateOffset(ce,!1),ce):Nn(A).local()}function ms(A){return-Math.round(A._d.getTimezoneOffset())}e.updateOffset=function(){};function vi(A,W,ce){var Me=this._offset||0,_t;if(!this.isValid())return A!=null?this:NaN;if(A!=null){if(typeof A=="string"){if(A=gi(gt,A),A===null)return this}else Math.abs(A)<16&&!ce&&(A=A*60);return!this._isUTC&&W&&(_t=ms(this)),this._offset=A,this._isUTC=!0,_t!=null&&this.add(_t,"m"),Me!==A&&(!W||this._changeInProgress?Zt(this,zi(A-Me,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Me:ms(this)}function Ms(A,W){return A!=null?(typeof A!="string"&&(A=-A),this.utcOffset(A,W),this):-this.utcOffset()}function is(A){return this.utcOffset(0,A)}function pa(A){return this._isUTC&&(this.utcOffset(0,A),this._isUTC=!1,A&&this.subtract(ms(this),"m")),this}function No(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var A=gi(Ye,this._i);A!=null?this.utcOffset(A):this.utcOffset(0,!0)}return this}function ws(A){return this.isValid()?(A=A?Nn(A).utcOffset():0,(this.utcOffset()-A)%60===0):!1}function tn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jn(){if(!a(this._isDSTShifted))return this._isDSTShifted;var A={},W;return G(A,this),A=Yt(A),A._a?(W=A._isUTC?C(A._a):Nn(A._a),this._isDSTShifted=this.isValid()&&qr(A._a,W.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function yn(){return this.isValid()?!this._isUTC:!1}function Yr(){return this.isValid()?this._isUTC:!1}function Ti(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ts=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ps=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zi(A,W){var ce=A,Me=null,_t,wn,ur;return pi(A)?ce={ms:A._milliseconds,d:A._days,M:A._months}:c(A)||!isNaN(+A)?(ce={},W?ce[W]=+A:ce.milliseconds=+A):(Me=ts.exec(A))?(_t=Me[1]==="-"?-1:1,ce={y:0,d:Dn(Me[ne])*_t,h:Dn(Me[Se])*_t,m:Dn(Me[Ve])*_t,s:Dn(Me[nt])*_t,ms:Dn(ii(Me[Bt]*1e3))*_t}):(Me=ps.exec(A))?(_t=Me[1]==="-"?-1:1,ce={y:cs(Me[2],_t),M:cs(Me[3],_t),w:cs(Me[4],_t),d:cs(Me[5],_t),h:cs(Me[6],_t),m:cs(Me[7],_t),s:cs(Me[8],_t)}):ce==null?ce={}:typeof ce=="object"&&("from"in ce||"to"in ce)&&(ur=ue(Nn(ce.from),Nn(ce.to)),ce={},ce.ms=ur.milliseconds,ce.M=ur.months),wn=new ni(ce),pi(A)&&s(A,"_locale")&&(wn._locale=A._locale),pi(A)&&s(A,"_isValid")&&(wn._isValid=A._isValid),wn}zi.fn=ni.prototype,zi.invalid=di;function cs(A,W){var ce=A&&parseFloat(A.replace(",","."));return(isNaN(ce)?0:ce)*W}function fu(A,W){var ce={};return ce.months=W.month()-A.month()+(W.year()-A.year())*12,A.clone().add(ce.months,"M").isAfter(W)&&--ce.months,ce.milliseconds=+W-+A.clone().add(ce.months,"M"),ce}function ue(A,W){var ce;return A.isValid()&&W.isValid()?(W=ss(W,A),A.isBefore(W)?ce=fu(A,W):(ce=fu(W,A),ce.milliseconds=-ce.milliseconds,ce.months=-ce.months),ce):{milliseconds:0,months:0}}function ut(A,W){return function(ce,Me){var _t,wn;return Me!==null&&!isNaN(+Me)&&(He(W,"moment()."+W+"(period, number) is deprecated. Please use moment()."+W+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),wn=ce,ce=Me,Me=wn),_t=zi(ce,Me),Zt(this,_t,A),this}}function Zt(A,W,ce,Me){var _t=W._milliseconds,wn=ii(W._days),ur=ii(W._months);!A.isValid()||(Me=Me??!0,ur&&le(A,pn(A,"Month")+ur*ce),wn&&qn(A,"Date",pn(A,"Date")+wn*ce),_t&&A._d.setTime(A._d.valueOf()+_t*ce),Me&&e.updateOffset(A,wn||ur))}var An=ut(1,"add"),nr=ut(-1,"subtract");function vr(A){return typeof A=="string"||A instanceof String}function fr(A){return I(A)||d(A)||vr(A)||c(A)||vs(A)||Zi(A)||A===null||A===void 0}function Zi(A){var W=i(A)&&!o(A),ce=!1,Me=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],_t,wn,ur=Me.length;for(_t=0;_t<ur;_t+=1)wn=Me[_t],ce=ce||s(A,wn);return W&&ce}function vs(A){var W=r(A),ce=!1;return W&&(ce=A.filter(function(Me){return!c(Me)&&vr(A)}).length===0),W&&ce}function Ns(A){var W=i(A)&&!o(A),ce=!1,Me=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],_t,wn;for(_t=0;_t<Me.length;_t+=1)wn=Me[_t],ce=ce||s(A,wn);return W&&ce}function io(A,W){var ce=A.diff(W,"days",!0);return ce<-6?"sameElse":ce<-1?"lastWeek":ce<0?"lastDay":ce<1?"sameDay":ce<2?"nextDay":ce<7?"nextWeek":"sameElse"}function Ya(A,W){arguments.length===1&&(arguments[0]?fr(arguments[0])?(A=arguments[0],W=void 0):Ns(arguments[0])&&(W=arguments[0],A=void 0):(A=void 0,W=void 0));var ce=A||Nn(),Me=ss(ce,this).startOf("day"),_t=e.calendarFormat(this,Me)||"sameElse",wn=W&&(ot(W[_t])?W[_t].call(this,ce):W[_t]);return this.format(wn||this.localeData().calendar(_t,this,Nn(ce)))}function Zl(){return new ae(this)}function Yc(A,W){var ce=I(A)?A:Nn(A);return this.isValid()&&ce.isValid()?(W=Ot(W)||"millisecond",W==="millisecond"?this.valueOf()>ce.valueOf():ce.valueOf()<this.clone().startOf(W).valueOf()):!1}function Tc(A,W){var ce=I(A)?A:Nn(A);return this.isValid()&&ce.isValid()?(W=Ot(W)||"millisecond",W==="millisecond"?this.valueOf()<ce.valueOf():this.clone().endOf(W).valueOf()<ce.valueOf()):!1}function Zf(A,W,ce,Me){var _t=I(A)?A:Nn(A),wn=I(W)?W:Nn(W);return this.isValid()&&_t.isValid()&&wn.isValid()?(Me=Me||"()",(Me[0]==="("?this.isAfter(_t,ce):!this.isBefore(_t,ce))&&(Me[1]===")"?this.isBefore(wn,ce):!this.isAfter(wn,ce))):!1}function B0(A,W){var ce=I(A)?A:Nn(A),Me;return this.isValid()&&ce.isValid()?(W=Ot(W)||"millisecond",W==="millisecond"?this.valueOf()===ce.valueOf():(Me=ce.valueOf(),this.clone().startOf(W).valueOf()<=Me&&Me<=this.clone().endOf(W).valueOf())):!1}function ec(A,W){return this.isSame(A,W)||this.isAfter(A,W)}function Kc(A,W){return this.isSame(A,W)||this.isBefore(A,W)}function e0(A,W,ce){var Me,_t,wn;if(!this.isValid())return NaN;if(Me=ss(A,this),!Me.isValid())return NaN;switch(_t=(Me.utcOffset()-this.utcOffset())*6e4,W=Ot(W),W){case"year":wn=hl(this,Me)/12;break;case"month":wn=hl(this,Me);break;case"quarter":wn=hl(this,Me)/3;break;case"second":wn=(this-Me)/1e3;break;case"minute":wn=(this-Me)/6e4;break;case"hour":wn=(this-Me)/36e5;break;case"day":wn=(this-Me-_t)/864e5;break;case"week":wn=(this-Me-_t)/6048e5;break;default:wn=this-Me}return ce?wn:Tn(wn)}function hl(A,W){if(A.date()<W.date())return-hl(W,A);var ce=(W.year()-A.year())*12+(W.month()-A.month()),Me=A.clone().add(ce,"months"),_t,wn;return W-Me<0?(_t=A.clone().add(ce-1,"months"),wn=(W-Me)/(Me-_t)):(_t=A.clone().add(ce+1,"months"),wn=(W-Me)/(_t-Me)),-(ce+wn)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Fc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function t0(A){if(!this.isValid())return null;var W=A!==!0,ce=W?this.clone().utc():this;return ce.year()<0||ce.year()>9999?Et(ce,W?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ot(Date.prototype.toISOString)?W?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Et(ce,"Z")):Et(ce,W?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function tc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var A="moment",W="",ce,Me,_t,wn;return this.isLocal()||(A=this.utcOffset()===0?"moment.utc":"moment.parseZone",W="Z"),ce="["+A+'("]',Me=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",_t="-MM-DD[T]HH:mm:ss.SSS",wn=W+'[")]',this.format(ce+Me+_t+wn)}function Bl(A){A||(A=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var W=Et(this,A);return this.localeData().postformat(W)}function j0(A,W){return this.isValid()&&(I(A)&&A.isValid()||Nn(A).isValid())?zi({to:this,from:A}).locale(this.locale()).humanize(!W):this.localeData().invalidDate()}function _h(A){return this.from(Nn(),A)}function q0(A,W){return this.isValid()&&(I(A)&&A.isValid()||Nn(A).isValid())?zi({from:this,to:A}).locale(this.locale()).humanize(!W):this.localeData().invalidDate()}function U0(A){return this.to(Nn(),A)}function Jc(A){var W;return A===void 0?this._locale._abbr:(W=Is(A),W!=null&&(this._locale=W),this)}var $0=me("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(A){return A===void 0?this.localeData():this.locale(A)});function Dc(){return this._locale}var n0=1e3,r0=60*n0,i0=60*r0,qo=(365*400+97)*24*i0;function Jo(A,W){return(A%W+W)%W}function s0(A,W,ce){return A<100&&A>=0?new Date(A+400,W,ce)-qo:new Date(A,W,ce).valueOf()}function pl(A,W,ce){return A<100&&A>=0?Date.UTC(A+400,W,ce)-qo:Date.UTC(A,W,ce)}function Xc(A){var W,ce;if(A=Ot(A),A===void 0||A==="millisecond"||!this.isValid())return this;switch(ce=this._isUTC?pl:s0,A){case"year":W=ce(this.year(),0,1);break;case"quarter":W=ce(this.year(),this.month()-this.month()%3,1);break;case"month":W=ce(this.year(),this.month(),1);break;case"week":W=ce(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":W=ce(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":W=ce(this.year(),this.month(),this.date());break;case"hour":W=this._d.valueOf(),W-=Jo(W+(this._isUTC?0:this.utcOffset()*r0),i0);break;case"minute":W=this._d.valueOf(),W-=Jo(W,r0);break;case"second":W=this._d.valueOf(),W-=Jo(W,n0);break}return this._d.setTime(W),e.updateOffset(this,!0),this}function Rd(A){var W,ce;if(A=Ot(A),A===void 0||A==="millisecond"||!this.isValid())return this;switch(ce=this._isUTC?pl:s0,A){case"year":W=ce(this.year()+1,0,1)-1;break;case"quarter":W=ce(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":W=ce(this.year(),this.month()+1,1)-1;break;case"week":W=ce(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":W=ce(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":W=ce(this.year(),this.month(),this.date()+1)-1;break;case"hour":W=this._d.valueOf(),W+=i0-Jo(W+(this._isUTC?0:this.utcOffset()*r0),i0)-1;break;case"minute":W=this._d.valueOf(),W+=r0-Jo(W,r0)-1;break;case"second":W=this._d.valueOf(),W+=n0-Jo(W,n0)-1;break}return this._d.setTime(W),e.updateOffset(this,!0),this}function Au(){return this._d.valueOf()-(this._offset||0)*6e4}function yo(){return Math.floor(this.valueOf()/1e3)}function bh(){return new Date(this.valueOf())}function ml(){var A=this;return[A.year(),A.month(),A.date(),A.hour(),A.minute(),A.second(),A.millisecond()]}function Ls(){var A=this;return{years:A.year(),months:A.month(),date:A.date(),hours:A.hours(),minutes:A.minutes(),seconds:A.seconds(),milliseconds:A.milliseconds()}}function xl(){return this.isValid()?this.toISOString():null}function L(){return V(this)}function X(){return b({},R(this))}function Be(){return R(this).overflow}function Dt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Je("N",0,0,"eraAbbr"),Je("NN",0,0,"eraAbbr"),Je("NNN",0,0,"eraAbbr"),Je("NNNN",0,0,"eraName"),Je("NNNNN",0,0,"eraNarrow"),Je("y",["y",1],"yo","eraYear"),Je("y",["yy",2],0,"eraYear"),Je("y",["yyy",3],0,"eraYear"),Je("y",["yyyy",4],0,"eraYear"),At("N",Qr),At("NN",Qr),At("NNN",Qr),At("NNNN",Qs),At("NNNNN",Uo),Te(["N","NN","NNN","NNNN","NNNNN"],function(A,W,ce,Me){var _t=ce._locale.erasParse(A,Me,ce._strict);_t?R(ce).era=_t:R(ce).invalidEra=A}),At("y",Pn),At("yy",Pn),At("yyy",Pn),At("yyyy",Pn),At("yo",ma),Te(["y","yy","yyy","yyyy"],vt),Te(["yo"],function(A,W,ce,Me){var _t;ce._locale._eraYearOrdinalRegex&&(_t=A.match(ce._locale._eraYearOrdinalRegex)),ce._locale.eraYearOrdinalParse?W[vt]=ce._locale.eraYearOrdinalParse(A,_t):W[vt]=parseInt(A,10)});function Ht(A,W){var ce,Me,_t,wn=this._eras||Is("en")._eras;for(ce=0,Me=wn.length;ce<Me;++ce){switch(typeof wn[ce].since){case"string":_t=e(wn[ce].since).startOf("day"),wn[ce].since=_t.valueOf();break}switch(typeof wn[ce].until){case"undefined":wn[ce].until=1/0;break;case"string":_t=e(wn[ce].until).startOf("day").valueOf(),wn[ce].until=_t.valueOf();break}}return wn}function Cn(A,W,ce){var Me,_t,wn=this.eras(),ur,Ui,Pi;for(A=A.toUpperCase(),Me=0,_t=wn.length;Me<_t;++Me)if(ur=wn[Me].name.toUpperCase(),Ui=wn[Me].abbr.toUpperCase(),Pi=wn[Me].narrow.toUpperCase(),ce)switch(W){case"N":case"NN":case"NNN":if(Ui===A)return wn[Me];break;case"NNNN":if(ur===A)return wn[Me];break;case"NNNNN":if(Pi===A)return wn[Me];break}else if([ur,Ui,Pi].indexOf(A)>=0)return wn[Me]}function Rn(A,W){var ce=A.since<=A.until?1:-1;return W===void 0?e(A.since).year():e(A.since).year()+(W-A.offset)*ce}function rr(){var A,W,ce,Me=this.localeData().eras();for(A=0,W=Me.length;A<W;++A)if(ce=this.clone().startOf("day").valueOf(),Me[A].since<=ce&&ce<=Me[A].until||Me[A].until<=ce&&ce<=Me[A].since)return Me[A].name;return""}function dr(){var A,W,ce,Me=this.localeData().eras();for(A=0,W=Me.length;A<W;++A)if(ce=this.clone().startOf("day").valueOf(),Me[A].since<=ce&&ce<=Me[A].until||Me[A].until<=ce&&ce<=Me[A].since)return Me[A].narrow;return""}function Nr(){var A,W,ce,Me=this.localeData().eras();for(A=0,W=Me.length;A<W;++A)if(ce=this.clone().startOf("day").valueOf(),Me[A].since<=ce&&ce<=Me[A].until||Me[A].until<=ce&&ce<=Me[A].since)return Me[A].abbr;return""}function tt(){var A,W,ce,Me,_t=this.localeData().eras();for(A=0,W=_t.length;A<W;++A)if(ce=_t[A].since<=_t[A].until?1:-1,Me=this.clone().startOf("day").valueOf(),_t[A].since<=Me&&Me<=_t[A].until||_t[A].until<=Me&&Me<=_t[A].since)return(this.year()-e(_t[A].since).year())*ce+_t[A].offset;return this.year()}function Fi(A){return s(this,"_erasNameRegex")||ho.call(this),A?this._erasNameRegex:this._erasRegex}function Wi(A){return s(this,"_erasAbbrRegex")||ho.call(this),A?this._erasAbbrRegex:this._erasRegex}function Li(A){return s(this,"_erasNarrowRegex")||ho.call(this),A?this._erasNarrowRegex:this._erasRegex}function Qr(A,W){return W.erasAbbrRegex(A)}function Qs(A,W){return W.erasNameRegex(A)}function Uo(A,W){return W.erasNarrowRegex(A)}function ma(A,W){return W._eraYearOrdinalRegex||Pn}function ho(){var A=[],W=[],ce=[],Me=[],_t,wn,ur=this.eras();for(_t=0,wn=ur.length;_t<wn;++_t)W.push(ct(ur[_t].name)),A.push(ct(ur[_t].abbr)),ce.push(ct(ur[_t].narrow)),Me.push(ct(ur[_t].name)),Me.push(ct(ur[_t].abbr)),Me.push(ct(ur[_t].narrow));this._erasRegex=new RegExp("^("+Me.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+W.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+A.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+ce.join("|")+")","i")}Je(0,["gg",2],0,function(){return this.weekYear()%100}),Je(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Na(A,W){Je(0,[A,A.length],0,W)}Na("gggg","weekYear"),Na("ggggg","weekYear"),Na("GGGG","isoWeekYear"),Na("GGGGG","isoWeekYear"),Ge("weekYear","gg"),Ge("isoWeekYear","GG"),en("weekYear",1),en("isoWeekYear",1),At("G",or),At("g",or),At("GG",mt,$e),At("gg",mt,$e),At("GGGG",Qn,qt),At("gggg",Qn,qt),At("GGGGG",Zn,yt),At("ggggg",Zn,yt),je(["gggg","ggggg","GGGG","GGGGG"],function(A,W,ce,Me){W[Me.substr(0,2)]=Dn(A)}),je(["gg","GG"],function(A,W,ce,Me){W[Me]=e.parseTwoDigitYear(A)});function nc(A){return ef.call(this,A,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function jl(A){return ef.call(this,A,this.isoWeek(),this.isoWeekday(),1,4)}function Ra(){return Bn(this.year(),1,4)}function rc(){return Bn(this.isoWeekYear(),1,4)}function xa(){var A=this.localeData()._week;return Bn(this.year(),A.dow,A.doy)}function Zc(){var A=this.localeData()._week;return Bn(this.weekYear(),A.dow,A.doy)}function ef(A,W,ce,Me,_t){var wn;return A==null?hn(this,Me,_t).year:(wn=Bn(A,Me,_t),W>wn&&(W=wn),Ju.call(this,A,W,ce,Me,_t))}function Ju(A,W,ce,Me,_t){var wn=Kt(A,W,ce,Me,_t),ur=St(wn.year,0,wn.dayOfYear);return this.year(ur.getUTCFullYear()),this.month(ur.getUTCMonth()),this.date(ur.getUTCDate()),this}Je("Q",0,"Qo","quarter"),Ge("quarter","Q"),en("quarter",7),At("Q",Ne),Te("Q",function(A,W){W[Ft]=(Dn(A)-1)*3});function ic(A){return A==null?Math.ceil((this.month()+1)/3):this.month((A-1)*3+this.month()%3)}Je("D",["DD",2],"Do","date"),Ge("date","D"),en("date",9),At("D",mt),At("DD",mt,$e),At("Do",function(A,W){return A?W._dayOfMonthOrdinalParse||W._ordinalParse:W._dayOfMonthOrdinalParseLenient}),Te(["D","DD"],ne),Te("Do",function(A,W){W[ne]=Dn(A.match(mt)[0])});var F1=Ut("Date",!0);Je("DDD",["DDDD",3],"DDDo","dayOfYear"),Ge("dayOfYear","DDD"),en("dayOfYear",4),At("DDD",Fn),At("DDDD",De),Te(["DDD","DDDD"],function(A,W,ce){ce._dayOfYear=Dn(A)});function Oc(A){var W=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return A==null?W:this.add(A-W,"d")}Je("m",["mm",2],0,"minute"),Ge("minute","m"),en("minute",14),At("m",mt),At("mm",mt,$e),Te(["m","mm"],Ve);var B2=Ut("Minutes",!1);Je("s",["ss",2],0,"second"),Ge("second","s"),en("second",15),At("s",mt),At("ss",mt,$e),Te(["s","ss"],nt);var ql=Ut("Seconds",!1);Je("S",0,0,function(){return~~(this.millisecond()/100)}),Je(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Je(0,["SSS",3],0,"millisecond"),Je(0,["SSSS",4],0,function(){return this.millisecond()*10}),Je(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Je(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Je(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Je(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Je(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ge("millisecond","ms"),en("millisecond",16),At("S",Fn,Ne),At("SS",Fn,$e),At("SSS",Fn,De);var Cf,Nc;for(Cf="SSSS";Cf.length<=9;Cf+="S")At(Cf,Pn);function jr(A,W){W[Bt]=Dn(("0."+A)*1e3)}for(Cf="S";Cf.length<=9;Cf+="S")Te(Cf,jr);Nc=Ut("Milliseconds",!1),Je("z",0,0,"zoneAbbr"),Je("zz",0,0,"zoneName");function z0(){return this._isUTC?"UTC":""}function H0(){return this._isUTC?"Coordinated Universal Time":""}var $r=ae.prototype;$r.add=An,$r.calendar=Ya,$r.clone=Zl,$r.diff=e0,$r.endOf=Rd,$r.format=Bl,$r.from=j0,$r.fromNow=_h,$r.to=q0,$r.toNow=U0,$r.get=sr,$r.invalidAt=Be,$r.isAfter=Yc,$r.isBefore=Tc,$r.isBetween=Zf,$r.isSame=B0,$r.isSameOrAfter=ec,$r.isSameOrBefore=Kc,$r.isValid=L,$r.lang=$0,$r.locale=Jc,$r.localeData=Dc,$r.max=Un,$r.min=Kn,$r.parsingFlags=X,$r.set=In,$r.startOf=Xc,$r.subtract=nr,$r.toArray=ml,$r.toObject=Ls,$r.toDate=bh,$r.toISOString=t0,$r.inspect=tc,typeof Symbol!="undefined"&&Symbol.for!=null&&($r[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),$r.toJSON=xl,$r.toString=Fc,$r.unix=yo,$r.valueOf=Au,$r.creationData=Dt,$r.eraName=rr,$r.eraNarrow=dr,$r.eraAbbr=Nr,$r.eraYear=tt,$r.year=ee,$r.isLeapYear=_e,$r.weekYear=nc,$r.isoWeekYear=jl,$r.quarter=$r.quarters=ic,$r.month=We,$r.daysInMonth=Rt,$r.week=$r.weeks=yr,$r.isoWeek=$r.isoWeeks=Mr,$r.weeksInYear=xa,$r.weeksInWeekYear=Zc,$r.isoWeeksInYear=Ra,$r.isoWeeksInISOWeekYear=rc,$r.date=F1,$r.day=$r.days=Zo,$r.weekday=Yu,$r.isoWeekday=Gc,$r.dayOfYear=Oc,$r.hour=$r.hours=as,$r.minute=$r.minutes=B2,$r.second=$r.seconds=ql,$r.millisecond=$r.milliseconds=Nc,$r.utcOffset=vi,$r.utc=is,$r.local=pa,$r.parseZone=No,$r.hasAlignedHourOffset=ws,$r.isDST=tn,$r.isLocal=yn,$r.isUtcOffset=Yr,$r.isUtc=Ti,$r.isUTC=Ti,$r.zoneAbbr=z0,$r.zoneName=H0,$r.dates=me("dates accessor is deprecated. Use date instead.",F1),$r.months=me("months accessor is deprecated. Use month instead",We),$r.years=me("years accessor is deprecated. Use year instead",ee),$r.zone=me("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ms),$r.isDSTShifted=me("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Jn);function gl(A){return Nn(A*1e3)}function D1(){return Nn.apply(null,arguments).parseZone()}function tp(A){return A}var vo=Tt.prototype;vo.calendar=te,vo.longDateFormat=kt,vo.invalidDate=wt,vo.ordinal=Ce,vo.preparse=tp,vo.postformat=tp,vo.relativeTime=rt,vo.pastFuture=Xe,vo.set=at,vo.eras=Ht,vo.erasParse=Cn,vo.erasConvertYear=Rn,vo.erasAbbrRegex=Wi,vo.erasNameRegex=Fi,vo.erasNarrowRegex=Li,vo.months=ve,vo.monthsShort=pe,vo.monthsParse=oe,vo.monthsRegex=ln,vo.monthsShortRegex=bt,vo.week=jn,vo.firstDayOfYear=Vr,vo.firstDayOfWeek=Jr,vo.weekdays=au,vo.weekdaysMin=Gu,vo.weekdaysShort=uu,vo.weekdaysParse=Ac,vo.weekdaysRegex=Qe,vo.weekdaysShortRegex=Gt,vo.weekdaysMinRegex=Mn,vo.isPM=lo,vo.meridiem=ro;function V0(A,W,ce,Me){var _t=Is(),wn=C().set(Me,W);return _t[ce](wn,A)}function Ld(A,W,ce){if(c(A)&&(W=A,A=void 0),A=A||"",W!=null)return V0(A,W,ce,"month");var Me,_t=[];for(Me=0;Me<12;Me++)_t[Me]=V0(A,Me,ce,"month");return _t}function W0(A,W,ce,Me){typeof A=="boolean"?(c(W)&&(ce=W,W=void 0),W=W||""):(W=A,ce=W,A=!1,c(W)&&(ce=W,W=void 0),W=W||"");var _t=Is(),wn=A?_t._week.dow:0,ur,Ui=[];if(ce!=null)return V0(W,(ce+wn)%7,Me,"day");for(ur=0;ur<7;ur++)Ui[ur]=V0(W,(ur+wn)%7,Me,"day");return Ui}function tf(A,W){return Ld(A,W,"months")}function Rx(A,W){return Ld(A,W,"monthsShort")}function Lx(A,W,ce){return W0(A,W,ce,"weekdays")}function Eh(A,W,ce){return W0(A,W,ce,"weekdaysShort")}function nf(A,W,ce){return W0(A,W,ce,"weekdaysMin")}hs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(A){var W=A%10,ce=Dn(A%100/10)===1?"th":W===1?"st":W===2?"nd":W===3?"rd":"th";return A+ce}}),e.lang=me("moment.lang is deprecated. Use moment.locale instead.",hs),e.langData=me("moment.langData is deprecated. Use moment.localeData instead.",Is);var Xu=Math.abs;function kd(){var A=this._data;return this._milliseconds=Xu(this._milliseconds),this._days=Xu(this._days),this._months=Xu(this._months),A.milliseconds=Xu(A.milliseconds),A.seconds=Xu(A.seconds),A.minutes=Xu(A.minutes),A.hours=Xu(A.hours),A.months=Xu(A.months),A.years=Xu(A.years),this}function np(A,W,ce,Me){var _t=zi(W,ce);return A._milliseconds+=Me*_t._milliseconds,A._days+=Me*_t._days,A._months+=Me*_t._months,A._bubble()}function O1(A,W){return np(this,A,W,1)}function Zu(A,W){return np(this,A,W,-1)}function Q0(A){return A<0?Math.floor(A):Math.ceil(A)}function wf(){var A=this._milliseconds,W=this._days,ce=this._months,Me=this._data,_t,wn,ur,Ui,Pi;return A>=0&&W>=0&&ce>=0||A<=0&&W<=0&&ce<=0||(A+=Q0(rp(ce)+W)*864e5,W=0,ce=0),Me.milliseconds=A%1e3,_t=Tn(A/1e3),Me.seconds=_t%60,wn=Tn(_t/60),Me.minutes=wn%60,ur=Tn(wn/60),Me.hours=ur%24,W+=Tn(ur/24),Pi=Tn(yl(W)),ce+=Pi,W-=Q0(rp(Pi)),Ui=Tn(ce/12),ce%=12,Me.days=W,Me.months=ce,Me.years=Ui,this}function yl(A){return A*4800/146097}function rp(A){return A*146097/4800}function du(A){if(!this.isValid())return NaN;var W,ce,Me=this._milliseconds;if(A=Ot(A),A==="month"||A==="quarter"||A==="year")switch(W=this._days+Me/864e5,ce=this._months+yl(W),A){case"month":return ce;case"quarter":return ce/3;case"year":return ce/12}else switch(W=this._days+Math.round(rp(this._months)),A){case"week":return W/7+Me/6048e5;case"day":return W+Me/864e5;case"hour":return W*24+Me/36e5;case"minute":return W*1440+Me/6e4;case"second":return W*86400+Me/1e3;case"millisecond":return Math.floor(W*864e5)+Me;default:throw new Error("Unknown unit "+A)}}function N1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Dn(this._months/12)*31536e6:NaN}function el(A){return function(){return this.as(A)}}var Rc=el("ms"),Sh=el("s"),Id=el("m"),rf=el("h"),Ch=el("d"),ip=el("w"),Ua=el("M"),wh=el("Q"),G0=el("y");function La(){return zi(this)}function Ah(A){return A=Ot(A),this.isValid()?this[A+"s"]():NaN}function Tu(A){return function(){return this.isValid()?this._data[A]:NaN}}var Ka=Tu("milliseconds"),Th=Tu("seconds"),ga=Tu("minutes"),Fh=Tu("hours"),sp=Tu("days"),o0=Tu("months"),Y0=Tu("years");function sf(){return Tn(this.days()/7)}var Ul=Math.round,Fu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function op(A,W,ce,Me,_t){return _t.relativeTime(W||1,!!ce,A,Me)}function tl(A,W,ce,Me){var _t=zi(A).abs(),wn=Ul(_t.as("s")),ur=Ul(_t.as("m")),Ui=Ul(_t.as("h")),Pi=Ul(_t.as("d")),so=Ul(_t.as("M")),hu=Ul(_t.as("w")),Lc=Ul(_t.as("y")),Tf=wn<=ce.ss&&["s",wn]||wn<ce.s&&["ss",wn]||ur<=1&&["m"]||ur<ce.m&&["mm",ur]||Ui<=1&&["h"]||Ui<ce.h&&["hh",Ui]||Pi<=1&&["d"]||Pi<ce.d&&["dd",Pi];return ce.w!=null&&(Tf=Tf||hu<=1&&["w"]||hu<ce.w&&["ww",hu]),Tf=Tf||so<=1&&["M"]||so<ce.M&&["MM",so]||Lc<=1&&["y"]||["yy",Lc],Tf[2]=W,Tf[3]=+A>0,Tf[4]=Me,op.apply(null,Tf)}function Dh(A){return A===void 0?Ul:typeof A=="function"?(Ul=A,!0):!1}function Md(A,W){return Fu[A]===void 0?!1:W===void 0?Fu[A]:(Fu[A]=W,A==="s"&&(Fu.ss=W-1),!0)}function j2(A,W){if(!this.isValid())return this.localeData().invalidDate();var ce=!1,Me=Fu,_t,wn;return typeof A=="object"&&(W=A,A=!1),typeof A=="boolean"&&(ce=A),typeof W=="object"&&(Me=Object.assign({},Fu,W),W.s!=null&&W.ss==null&&(Me.ss=W.s-1)),_t=this.localeData(),wn=tl(this,!ce,Me,_t),ce&&(wn=_t.pastFuture(+this,wn)),_t.postformat(wn)}var ap=Math.abs;function Af(A){return(A>0)-(A<0)||+A}function K0(){if(!this.isValid())return this.localeData().invalidDate();var A=ap(this._milliseconds)/1e3,W=ap(this._days),ce=ap(this._months),Me,_t,wn,ur,Ui=this.asSeconds(),Pi,so,hu,Lc;return Ui?(Me=Tn(A/60),_t=Tn(Me/60),A%=60,Me%=60,wn=Tn(ce/12),ce%=12,ur=A?A.toFixed(3).replace(/\.?0+$/,""):"",Pi=Ui<0?"-":"",so=Af(this._months)!==Af(Ui)?"-":"",hu=Af(this._days)!==Af(Ui)?"-":"",Lc=Af(this._milliseconds)!==Af(Ui)?"-":"",Pi+"P"+(wn?so+wn+"Y":"")+(ce?so+ce+"M":"")+(W?hu+W+"D":"")+(_t||Me||A?"T":"")+(_t?Lc+_t+"H":"")+(Me?Lc+Me+"M":"")+(A?Lc+ur+"S":"")):"P0D"}var Ks=ni.prototype;Ks.isValid=Or,Ks.abs=kd,Ks.add=O1,Ks.subtract=Zu,Ks.as=du,Ks.asMilliseconds=Rc,Ks.asSeconds=Sh,Ks.asMinutes=Id,Ks.asHours=rf,Ks.asDays=Ch,Ks.asWeeks=ip,Ks.asMonths=Ua,Ks.asQuarters=wh,Ks.asYears=G0,Ks.valueOf=N1,Ks._bubble=wf,Ks.clone=La,Ks.get=Ah,Ks.milliseconds=Ka,Ks.seconds=Th,Ks.minutes=ga,Ks.hours=Fh,Ks.days=sp,Ks.weeks=sf,Ks.months=o0,Ks.years=Y0,Ks.humanize=j2,Ks.toISOString=K0,Ks.toString=K0,Ks.toJSON=K0,Ks.locale=Jc,Ks.localeData=Dc,Ks.toIsoString=me("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",K0),Ks.lang=$0,Je("X",0,0,"unix"),Je("x",0,0,"valueOf"),At("x",or),At("X",se),Te("X",function(A,W,ce){ce._d=new Date(parseFloat(A)*1e3)}),Te("x",function(A,W,ce){ce._d=new Date(Dn(A))});return e.version="2.29.4",t(Nn),e.fn=$r,e.min=wr,e.max=Gn,e.now=ar,e.utc=C,e.unix=gl,e.months=tf,e.isDate=d,e.locale=hs,e.invalid=P,e.duration=zi,e.isMoment=I,e.weekdays=Lx,e.parseZone=D1,e.localeData=Is,e.isDuration=pi,e.monthsShort=Rx,e.weekdaysMin=nf,e.defineLocale=Xi,e.updateLocale=lu,e.locales=ha,e.weekdaysShort=Eh,e.normalizeUnits=Ot,e.relativeTimeRounding=Dh,e.relativeTimeThreshold=Md,e.calendarFormat=io,e.prototype=$r,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Su=we((Tz,FAe)=>{m();(function(n,e){typeof Tz=="object"&&typeof FAe!="undefined"?e(Tz):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(Tz,function(n){"use strict";function e(re,Te,je){return re.fields=Te||[],re.fname=je,re}function t(re){return re==null?null:re.fname}function r(re){return re==null?null:re.fields}function i(re){return re.length===1?s(re[0]):o(re)}let s=re=>function(Te){return Te[re]},o=re=>{let Te=re.length;return function(je){for(let ht=0;ht<Te;++ht)je=je[re[ht]];return je}};function a(re){throw Error(re)}function c(re){let Te=[],je=re.length,ht=null,vt=0,Ft="",ne,Se,Ve;re=re+"";function nt(){Te.push(Ft+re.substring(ne,Se)),Ft="",ne=Se+1}for(ne=Se=0;Se<je;++Se)if(Ve=re[Se],Ve==="\\")Ft+=re.substring(ne,Se),Ft+=re.substring(++Se,++Se),ne=Se;else if(Ve===ht)nt(),ht=null,vt=-1;else{if(ht)continue;ne===vt&&Ve==='"'||ne===vt&&Ve==="'"?(ne=Se+1,ht=Ve):Ve==="."&&!vt?Se>ne?nt():ne=Se+1:Ve==="["?(Se>ne&&nt(),vt=ne=Se+1):Ve==="]"&&(vt||a("Access path missing open bracket: "+re),vt>0&&nt(),vt=0,ne=Se+1)}return vt&&a("Access path missing closing bracket: "+re),ht&&a("Access path missing closing quote: "+re),Se>ne&&(Se++,nt()),Te}function d(re,Te,je){let ht=c(re);return re=ht.length===1?ht[0]:re,e((je&&je.get||i)(ht),[re],Te||re)}let p=d("id"),b=e(re=>re,[],"identity"),C=e(()=>0,[],"zero"),N=e(()=>1,[],"one"),R=e(()=>!0,[],"true"),U=e(()=>!1,[],"false");function V(re,Te,je){let ht=[Te].concat([].slice.call(je));console[re].apply(console,ht)}let P=0,$=1,M=2,G=3,ae=4;function I(re,Te,je=V){let ht=re||P;return{level(vt){return arguments.length?(ht=+vt,this):ht},error(){return ht>=$&&je(Te||"error","ERROR",arguments),this},warn(){return ht>=M&&je(Te||"warn","WARN",arguments),this},info(){return ht>=G&&je(Te||"log","INFO",arguments),this},debug(){return ht>=ae&&je(Te||"log","DEBUG",arguments),this}}}var Z=Array.isArray;function me(re){return re===Object(re)}let ye=re=>re!=="__proto__";function He(...re){return re.reduce((Te,je)=>{for(let ht in je)if(ht==="signals")Te.signals=at(Te.signals,je.signals);else{let vt=ht==="legend"?{layout:1}:ht==="style"?!0:null;ot(Te,ht,je[ht],vt)}return Te},{})}function ot(re,Te,je,ht){if(!ye(Te))return;let vt,Ft;if(me(je)&&!Z(je)){Ft=me(re[Te])?re[Te]:re[Te]={};for(vt in je)ht&&(ht===!0||ht[vt])?ot(Ft,vt,je[vt]):ye(vt)&&(Ft[vt]=je[vt])}else re[Te]=je}function at(re,Te){if(re==null)return Te;let je={},ht=[];function vt(Ft){je[Ft.name]||(je[Ft.name]=1,ht.push(Ft))}return Te.forEach(vt),re.forEach(vt),ht}function Ze(re){return re[re.length-1]}function Tt(re){return re==null||re===""?null:+re}let Mt=re=>Te=>re*Math.exp(Te),Ue=re=>Te=>Math.log(re*Te),te=re=>Te=>Math.sign(Te)*Math.log1p(Math.abs(Te/re)),st=re=>Te=>Math.sign(Te)*Math.expm1(Math.abs(Te))*re,be=re=>Te=>Te<0?-Math.pow(-Te,re):Math.pow(Te,re);function Re(re,Te,je,ht){let vt=je(re[0]),Ft=je(Ze(re)),ne=(Ft-vt)*Te;return[ht(vt-ne),ht(Ft-ne)]}function Ae(re,Te){return Re(re,Te,Tt,b)}function xe(re,Te){var je=Math.sign(re[0]);return Re(re,Te,Ue(je),Mt(je))}function Je(re,Te,je){return Re(re,Te,be(je),be(1/je))}function lt(re,Te,je){return Re(re,Te,te(je),st(je))}function Qt(re,Te,je,ht,vt){let Ft=ht(re[0]),ne=ht(Ze(re)),Se=Te!=null?ht(Te):(Ft+ne)/2;return[vt(Se+(Ft-Se)*je),vt(Se+(ne-Se)*je)]}function Et(re,Te,je){return Qt(re,Te,je,Tt,b)}function mn(re,Te,je){let ht=Math.sign(re[0]);return Qt(re,Te,je,Ue(ht),Mt(ht))}function Lt(re,Te,je,ht){return Qt(re,Te,je,be(ht),be(1/ht))}function kt(re,Te,je,ht){return Qt(re,Te,je,te(ht),st(ht))}function cn(re){return 1+~~(new Date(re).getMonth()/3)}function wt(re){return 1+~~(new Date(re).getUTCMonth()/3)}function Ee(re){return re!=null?Z(re)?re:[re]:[]}function Ie(re,Te,je){let ht=re[0],vt=re[1],Ft;return vt<ht&&(Ft=vt,vt=ht,ht=Ft),Ft=vt-ht,Ft>=je-Te?[Te,je]:[ht=Math.min(Math.max(ht,Te),je-Ft),ht+Ft]}function Ce(re){return typeof re=="function"}let fe="descending";function rt(re,Te,je){je=je||{},Te=Ee(Te)||[];let ht=[],vt=[],Ft={},ne=je.comparator||de;return Ee(re).forEach((Se,Ve)=>{Se!=null&&(ht.push(Te[Ve]===fe?-1:1),vt.push(Se=Ce(Se)?Se:d(Se,null,je)),(r(Se)||[]).forEach(nt=>Ft[nt]=1))}),vt.length===0?null:e(ne(vt,ht),Object.keys(Ft))}let Xe=(re,Te)=>(re<Te||re==null)&&Te!=null?-1:(re>Te||Te==null)&&re!=null?1:(Te=Te instanceof Date?+Te:Te,(re=re instanceof Date?+re:re)!==re&&Te===Te?-1:Te!==Te&&re===re?1:0),de=(re,Te)=>re.length===1?Ge(re[0],Te[0]):Ot(re,Te,re.length),Ge=(re,Te)=>function(je,ht){return Xe(re(je),re(ht))*Te},Ot=(re,Te,je)=>(Te.push(0),function(ht,vt){let Ft,ne=0,Se=-1;for(;ne===0&&++Se<je;)Ft=re[Se],ne=Xe(Ft(ht),Ft(vt));return ne*Te[Se]});function Nt(re){return Ce(re)?re:()=>re}function zt(re,Te){let je;return ht=>{je&&clearTimeout(je),je=setTimeout(()=>(Te(ht),je=null),re)}}function en(re){for(let Te,je,ht=1,vt=arguments.length;ht<vt;++ht){Te=arguments[ht];for(je in Te)re[je]=Te[je]}return re}function Xt(re,Te){let je=0,ht,vt,Ft,ne;if(re&&(ht=re.length))if(Te==null){for(vt=re[je];je<ht&&(vt==null||vt!==vt);vt=re[++je]);for(Ft=ne=vt;je<ht;++je)vt=re[je],vt!=null&&(vt<Ft&&(Ft=vt),vt>ne&&(ne=vt))}else{for(vt=Te(re[je]);je<ht&&(vt==null||vt!==vt);vt=Te(re[++je]));for(Ft=ne=vt;je<ht;++je)vt=Te(re[je]),vt!=null&&(vt<Ft&&(Ft=vt),vt>ne&&(ne=vt))}return[Ft,ne]}function bn(re,Te){let je=re.length,ht=-1,vt,Ft,ne,Se,Ve;if(Te==null){for(;++ht<je;)if(Ft=re[ht],Ft!=null&&Ft>=Ft){vt=ne=Ft;break}if(ht===je)return[-1,-1];for(Se=Ve=ht;++ht<je;)Ft=re[ht],Ft!=null&&(vt>Ft&&(vt=Ft,Se=ht),ne<Ft&&(ne=Ft,Ve=ht))}else{for(;++ht<je;)if(Ft=Te(re[ht],ht,re),Ft!=null&&Ft>=Ft){vt=ne=Ft;break}if(ht===je)return[-1,-1];for(Se=Ve=ht;++ht<je;)Ft=Te(re[ht],ht,re),Ft!=null&&(vt>Ft&&(vt=Ft,Se=ht),ne<Ft&&(ne=Ft,Ve=ht))}return[Se,Ve]}let Tn=Object.prototype.hasOwnProperty;function Dn(re,Te){return Tn.call(re,Te)}let Ut={};function pn(re){let Te={},je;function ht(Ft){return Dn(Te,Ft)&&Te[Ft]!==Ut}let vt={size:0,empty:0,object:Te,has:ht,get(Ft){return ht(Ft)?Te[Ft]:void 0},set(Ft,ne){return ht(Ft)||(++vt.size,Te[Ft]===Ut&&--vt.empty),Te[Ft]=ne,this},delete(Ft){return ht(Ft)&&(--vt.size,++vt.empty,Te[Ft]=Ut),this},clear(){vt.size=vt.empty=0,vt.object=Te={}},test(Ft){return arguments.length?(je=Ft,vt):je},clean(){let Ft={},ne=0;for(let Se in Te){let Ve=Te[Se];Ve!==Ut&&(!je||!je(Ve))&&(Ft[Se]=Ve,++ne)}vt.size=ne,vt.empty=0,vt.object=Te=Ft}};return re&&Object.keys(re).forEach(Ft=>{vt.set(Ft,re[Ft])}),vt}function qn(re,Te,je,ht,vt,Ft){if(!je&&je!==0)return Ft;let ne=+je,Se=re[0],Ve=Ze(re),nt;Ve<Se&&(nt=Se,Se=Ve,Ve=nt),nt=Math.abs(Te-Se);let Bt=Math.abs(Ve-Te);return nt<Bt&&nt<=ne?ht:Bt<=ne?vt:Ft}function sr(re,Te,je){let ht=re.prototype=Object.create(Te.prototype);return Object.defineProperty(ht,"constructor",{value:re,writable:!0,enumerable:!0,configurable:!0}),en(ht,je)}function In(re,Te,je,ht){let vt=Te[0],Ft=Te[Te.length-1],ne;return vt>Ft&&(ne=vt,vt=Ft,Ft=ne),je=je===void 0||je,ht=ht===void 0||ht,(je?vt<=re:vt<re)&&(ht?re<=Ft:re<Ft)}function Ne(re){return typeof re=="boolean"}function $e(re){return Object.prototype.toString.call(re)==="[object Date]"}function De(re){return re&&Ce(re[Symbol.iterator])}function qt(re){return typeof re=="number"}function yt(re){return Object.prototype.toString.call(re)==="[object RegExp]"}function mt(re){return typeof re=="string"}function nn(re,Te,je){re&&(re=Te?Ee(re).map(Se=>Se.replace(/\\(.)/g,"$1")):Ee(re));let ht=re&&re.length,vt=je&&je.get||i,Ft=Se=>vt(Te?[Se]:c(Se)),ne;if(!ht)ne=function(){return""};else if(ht===1){let Se=Ft(re[0]);ne=function(Ve){return""+Se(Ve)}}else{let Se=re.map(Ft);ne=function(Ve){let nt=""+Se[0](Ve),Bt=0;for(;++Bt<ht;)nt+="|"+Se[Bt](Ve);return nt}}return e(ne,re,"key")}function Wt(re,Te){let je=re[0],ht=Ze(re),vt=+Te;return vt?vt===1?ht:je+vt*(ht-je):je}let Fn=1e4;function Qn(re){re=+re||Fn;let Te,je,ht,vt=()=>{Te={},je={},ht=0},Ft=(ne,Se)=>(++ht>re&&(je=Te,Te={},ht=1),Te[ne]=Se);return vt(),{clear:vt,has:ne=>Dn(Te,ne)||Dn(je,ne),get:ne=>Dn(Te,ne)?Te[ne]:Dn(je,ne)?Ft(ne,je[ne]):void 0,set:(ne,Se)=>Dn(Te,ne)?Te[ne]=Se:Ft(ne,Se)}}function Zn(re,Te,je,ht){let vt=Te.length,Ft=je.length;if(!Ft)return Te;if(!vt)return je;let ne=ht||new Te.constructor(vt+Ft),Se=0,Ve=0,nt=0;for(;Se<vt&&Ve<Ft;++nt)ne[nt]=re(Te[Se],je[Ve])>0?je[Ve++]:Te[Se++];for(;Se<vt;++Se,++nt)ne[nt]=Te[Se];for(;Ve<Ft;++Ve,++nt)ne[nt]=je[Ve];return ne}function Pn(re,Te){let je="";for(;--Te>=0;)je+=re;return je}function or(re,Te,je,ht){let vt=je||" ",Ft=re+"",ne=Te-Ft.length;return ne<=0?Ft:ht==="left"?Pn(vt,ne)+Ft:ht==="center"?Pn(vt,~~(ne/2))+Ft+Pn(vt,Math.ceil(ne/2)):Ft+Pn(vt,ne)}function Ye(re){return re&&Ze(re)-re[0]||0}function gt(re){return Z(re)?"["+re.map(gt)+"]":me(re)||mt(re)?JSON.stringify(re).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):re}function se(re){return re==null||re===""?null:!re||re==="false"||re==="0"?!1:!!re}let Pe=re=>qt(re)||$e(re)?re:Date.parse(re);function et(re,Te){return Te=Te||Pe,re==null||re===""?null:Te(re)}function At(re){return re==null||re===""?null:re+""}function fn(re){let Te={},je=re.length;for(let ht=0;ht<je;++ht)Te[re[ht]]=!0;return Te}function on(re,Te,je,ht){let vt=ht??"\u2026",Ft=re+"",ne=Ft.length,Se=Math.max(0,Te-vt.length);return ne<=Te?Ft:je==="left"?vt+Ft.slice(ne-Se):je==="center"?Ft.slice(0,Math.ceil(Se/2))+vt+Ft.slice(ne-~~(Se/2)):Ft.slice(0,Se)+vt}function ct(re,Te,je){if(re)if(Te){let ht=re.length;for(let vt=0;vt<ht;++vt){let Ft=Te(re[vt]);Ft&&je(Ft,vt,re)}}else re.forEach(je)}n.Debug=ae,n.Error=$,n.Info=G,n.None=P,n.Warn=M,n.accessor=e,n.accessorFields=r,n.accessorName=t,n.array=Ee,n.ascending=Xe,n.clampRange=Ie,n.compare=rt,n.constant=Nt,n.debounce=zt,n.error=a,n.extend=en,n.extent=Xt,n.extentIndex=bn,n.falsy=U,n.fastmap=pn,n.field=d,n.flush=qn,n.hasOwnProperty=Dn,n.id=p,n.identity=b,n.inherits=sr,n.inrange=In,n.isArray=Z,n.isBoolean=Ne,n.isDate=$e,n.isFunction=Ce,n.isIterable=De,n.isNumber=qt,n.isObject=me,n.isRegExp=yt,n.isString=mt,n.key=nn,n.lerp=Wt,n.logger=I,n.lruCache=Qn,n.merge=Zn,n.mergeConfig=He,n.one=N,n.pad=or,n.panLinear=Ae,n.panLog=xe,n.panPow=Je,n.panSymlog=lt,n.peek=Ze,n.quarter=cn,n.repeat=Pn,n.span=Ye,n.splitAccessPath=c,n.stringValue=gt,n.toBoolean=se,n.toDate=et,n.toNumber=Tt,n.toSet=fn,n.toString=At,n.truncate=on,n.truthy=R,n.utcquarter=wt,n.visitArray=ct,n.writeConfig=ot,n.zero=C,n.zoomLinear=Et,n.zoomLog=mn,n.zoomPow=Lt,n.zoomSymlog=kt,Object.defineProperty(n,"__esModule",{value:!0})})});var OAe=we((Fz,DAe)=>{m();(function(n,e){typeof Fz=="object"&&typeof DAe!="undefined"?e(Fz):typeof define=="function"&&define.amd?define(["exports"],e):(n=n||self,e(n.topojson=n.topojson||{}))})(Fz,function(n){"use strict";function e(M){return M}function t(M){if(M==null)return e;var G,ae,I=M.scale[0],Z=M.scale[1],me=M.translate[0],ye=M.translate[1];return function(He,ot){ot||(G=ae=0);var at=2,Ze=He.length,Tt=new Array(Ze);for(Tt[0]=(G+=He[0])*I+me,Tt[1]=(ae+=He[1])*Z+ye;at<Ze;)Tt[at]=He[at],++at;return Tt}}function r(M){var G=t(M.transform),ae,I=1/0,Z=I,me=-I,ye=-I;function He(at){at=G(at),at[0]<I&&(I=at[0]),at[0]>me&&(me=at[0]),at[1]<Z&&(Z=at[1]),at[1]>ye&&(ye=at[1])}function ot(at){switch(at.type){case"GeometryCollection":at.geometries.forEach(ot);break;case"Point":He(at.coordinates);break;case"MultiPoint":at.coordinates.forEach(He);break}}M.arcs.forEach(function(at){for(var Ze=-1,Tt=at.length,Mt;++Ze<Tt;)Mt=G(at[Ze],Ze),Mt[0]<I&&(I=Mt[0]),Mt[0]>me&&(me=Mt[0]),Mt[1]<Z&&(Z=Mt[1]),Mt[1]>ye&&(ye=Mt[1])});for(ae in M.objects)ot(M.objects[ae]);return[I,Z,me,ye]}function i(M,G){for(var ae,I=M.length,Z=I-G;Z<--I;)ae=M[Z],M[Z++]=M[I],M[I]=ae}function s(M,G){return typeof G=="string"&&(G=M.objects[G]),G.type==="GeometryCollection"?{type:"FeatureCollection",features:G.geometries.map(function(ae){return o(M,ae)})}:o(M,G)}function o(M,G){var ae=G.id,I=G.bbox,Z=G.properties==null?{}:G.properties,me=a(M,G);return ae==null&&I==null?{type:"Feature",properties:Z,geometry:me}:I==null?{type:"Feature",id:ae,properties:Z,geometry:me}:{type:"Feature",id:ae,bbox:I,properties:Z,geometry:me}}function a(M,G){var ae=t(M.transform),I=M.arcs;function Z(Ze,Tt){Tt.length&&Tt.pop();for(var Mt=I[Ze<0?~Ze:Ze],Ue=0,te=Mt.length;Ue<te;++Ue)Tt.push(ae(Mt[Ue],Ue));Ze<0&&i(Tt,te)}function me(Ze){return ae(Ze)}function ye(Ze){for(var Tt=[],Mt=0,Ue=Ze.length;Mt<Ue;++Mt)Z(Ze[Mt],Tt);return Tt.length<2&&Tt.push(Tt[0]),Tt}function He(Ze){for(var Tt=ye(Ze);Tt.length<4;)Tt.push(Tt[0]);return Tt}function ot(Ze){return Ze.map(He)}function at(Ze){var Tt=Ze.type,Mt;switch(Tt){case"GeometryCollection":return{type:Tt,geometries:Ze.geometries.map(at)};case"Point":Mt=me(Ze.coordinates);break;case"MultiPoint":Mt=Ze.coordinates.map(me);break;case"LineString":Mt=ye(Ze.arcs);break;case"MultiLineString":Mt=Ze.arcs.map(ye);break;case"Polygon":Mt=ot(Ze.arcs);break;case"MultiPolygon":Mt=Ze.arcs.map(ot);break;default:return null}return{type:Tt,coordinates:Mt}}return at(G)}function c(M,G){var ae={},I={},Z={},me=[],ye=-1;G.forEach(function(at,Ze){var Tt=M.arcs[at<0?~at:at],Mt;Tt.length<3&&!Tt[1][0]&&!Tt[1][1]&&(Mt=G[++ye],G[ye]=at,G[Ze]=Mt)}),G.forEach(function(at){var Ze=He(at),Tt=Ze[0],Mt=Ze[1],Ue,te;if(Ue=Z[Tt])if(delete Z[Ue.end],Ue.push(at),Ue.end=Mt,te=I[Mt]){delete I[te.start];var st=te===Ue?Ue:Ue.concat(te);I[st.start=Ue.start]=Z[st.end=te.end]=st}else I[Ue.start]=Z[Ue.end]=Ue;else if(Ue=I[Mt])if(delete I[Ue.start],Ue.unshift(at),Ue.start=Tt,te=Z[Tt]){delete Z[te.end];var be=te===Ue?Ue:te.concat(Ue);I[be.start=te.start]=Z[be.end=Ue.end]=be}else I[Ue.start]=Z[Ue.end]=Ue;else Ue=[at],I[Ue.start=Tt]=Z[Ue.end=Mt]=Ue});function He(at){var Ze=M.arcs[at<0?~at:at],Tt=Ze[0],Mt;return M.transform?(Mt=[0,0],Ze.forEach(function(Ue){Mt[0]+=Ue[0],Mt[1]+=Ue[1]})):Mt=Ze[Ze.length-1],at<0?[Mt,Tt]:[Tt,Mt]}function ot(at,Ze){for(var Tt in at){var Mt=at[Tt];delete Ze[Mt.start],delete Mt.start,delete Mt.end,Mt.forEach(function(Ue){ae[Ue<0?~Ue:Ue]=1}),me.push(Mt)}}return ot(Z,I),ot(I,Z),G.forEach(function(at){ae[at<0?~at:at]||me.push([at])}),me}function d(M){return a(M,p.apply(this,arguments))}function p(M,G,ae){var I,Z,me;if(arguments.length>1)I=b(M,G,ae);else for(Z=0,I=new Array(me=M.arcs.length);Z<me;++Z)I[Z]=Z;return{type:"MultiLineString",arcs:c(M,I)}}function b(M,G,ae){var I=[],Z=[],me;function ye(Tt){var Mt=Tt<0?~Tt:Tt;(Z[Mt]||(Z[Mt]=[])).push({i:Tt,g:me})}function He(Tt){Tt.forEach(ye)}function ot(Tt){Tt.forEach(He)}function at(Tt){Tt.forEach(ot)}function Ze(Tt){switch(me=Tt,Tt.type){case"GeometryCollection":Tt.geometries.forEach(Ze);break;case"LineString":He(Tt.arcs);break;case"MultiLineString":case"Polygon":ot(Tt.arcs);break;case"MultiPolygon":at(Tt.arcs);break}}return Ze(G),Z.forEach(ae==null?function(Tt){I.push(Tt[0].i)}:function(Tt){ae(Tt[0].g,Tt[Tt.length-1].g)&&I.push(Tt[0].i)}),I}function C(M){for(var G=-1,ae=M.length,I,Z=M[ae-1],me=0;++G<ae;)I=Z,Z=M[G],me+=I[0]*Z[1]-I[1]*Z[0];return Math.abs(me)}function N(M){return a(M,R.apply(this,arguments))}function R(M,G){var ae={},I=[],Z=[];G.forEach(me);function me(ot){switch(ot.type){case"GeometryCollection":ot.geometries.forEach(me);break;case"Polygon":ye(ot.arcs);break;case"MultiPolygon":ot.arcs.forEach(ye);break}}function ye(ot){ot.forEach(function(at){at.forEach(function(Ze){(ae[Ze=Ze<0?~Ze:Ze]||(ae[Ze]=[])).push(ot)})}),I.push(ot)}function He(ot){return C(a(M,{type:"Polygon",arcs:[ot]}).coordinates[0])}return I.forEach(function(ot){if(!ot._){var at=[],Ze=[ot];for(ot._=1,Z.push(at);ot=Ze.pop();)at.push(ot),ot.forEach(function(Tt){Tt.forEach(function(Mt){ae[Mt<0?~Mt:Mt].forEach(function(Ue){Ue._||(Ue._=1,Ze.push(Ue))})})})}}),I.forEach(function(ot){delete ot._}),{type:"MultiPolygon",arcs:Z.map(function(ot){var at=[],Ze;if(ot.forEach(function(st){st.forEach(function(be){be.forEach(function(Re){ae[Re<0?~Re:Re].length<2&&at.push(Re)})})}),at=c(M,at),(Ze=at.length)>1)for(var Tt=1,Mt=He(at[0]),Ue,te;Tt<Ze;++Tt)(Ue=He(at[Tt]))>Mt&&(te=at[0],at[0]=at[Tt],at[Tt]=te,Mt=Ue);return at}).filter(function(ot){return ot.length>0})}}function U(M,G){for(var ae=0,I=M.length;ae<I;){var Z=ae+I>>>1;M[Z]<G?ae=Z+1:I=Z}return ae}function V(M){var G={},ae=M.map(function(){return[]});function I(st,be){st.forEach(function(Re){Re<0&&(Re=~Re);var Ae=G[Re];Ae?Ae.push(be):G[Re]=[be]})}function Z(st,be){st.forEach(function(Re){I(Re,be)})}function me(st,be){st.type==="GeometryCollection"?st.geometries.forEach(function(Re){me(Re,be)}):st.type in ye&&ye[st.type](st.arcs,be)}var ye={LineString:I,MultiLineString:Z,Polygon:Z,MultiPolygon:function(st,be){st.forEach(function(Re){Z(Re,be)})}};M.forEach(me);for(var He in G)for(var ot=G[He],at=ot.length,Ze=0;Ze<at;++Ze)for(var Tt=Ze+1;Tt<at;++Tt){var Mt=ot[Ze],Ue=ot[Tt],te;(te=ae[Mt])[He=U(te,Ue)]!==Ue&&te.splice(He,0,Ue),(te=ae[Ue])[He=U(te,Mt)]!==Mt&&te.splice(He,0,Mt)}return ae}function P(M){if(M==null)return e;var G,ae,I=M.scale[0],Z=M.scale[1],me=M.translate[0],ye=M.translate[1];return function(He,ot){ot||(G=ae=0);var at=2,Ze=He.length,Tt=new Array(Ze),Mt=Math.round((He[0]-me)/I),Ue=Math.round((He[1]-ye)/Z);for(Tt[0]=Mt-G,G=Mt,Tt[1]=Ue-ae,ae=Ue;at<Ze;)Tt[at]=He[at],++at;return Tt}}function $(M,G){if(M.transform)throw new Error("already quantized");if(!G||!G.scale){if(!((ye=Math.floor(G))>=2))throw new Error("n must be \u22652");ot=M.bbox||r(M);var ae=ot[0],I=ot[1],Z=ot[2],me=ot[3],ye;G={scale:[Z-ae?(Z-ae)/(ye-1):1,me-I?(me-I)/(ye-1):1],translate:[ae,I]}}else ot=M.bbox;var He=P(G),ot,at,Ze=M.objects,Tt={};function Mt(st){return He(st)}function Ue(st){var be;switch(st.type){case"GeometryCollection":be={type:"GeometryCollection",geometries:st.geometries.map(Ue)};break;case"Point":be={type:"Point",coordinates:Mt(st.coordinates)};break;case"MultiPoint":be={type:"MultiPoint",coordinates:st.coordinates.map(Mt)};break;default:return st}return st.id!=null&&(be.id=st.id),st.bbox!=null&&(be.bbox=st.bbox),st.properties!=null&&(be.properties=st.properties),be}function te(st){var be=0,Re=1,Ae=st.length,xe,Je=new Array(Ae);for(Je[0]=He(st[0],0);++be<Ae;)((xe=He(st[be],be))[0]||xe[1])&&(Je[Re++]=xe);return Re===1&&(Je[Re++]=[0,0]),Je.length=Re,Je}for(at in Ze)Tt[at]=Ue(Ze[at]);return{type:"Topology",bbox:ot,transform:G,objects:Tt,arcs:M.arcs.map(te)}}n.bbox=r,n.feature=s,n.merge=N,n.mergeArcs=R,n.mesh=d,n.meshArcs=p,n.neighbors=V,n.quantize=$,n.transform=t,n.untransform=P,Object.defineProperty(n,"__esModule",{value:!0})})});var v9=we((Dz,NAe)=>{m();(function(n,e){typeof Dz=="object"&&typeof NAe!="undefined"?e(Dz,Su()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(Dz,function(n,e){"use strict";let t="year",r="quarter",i="month",s="week",o="date",a="day",c="dayofyear",d="hours",p="minutes",b="seconds",C="milliseconds",N=[t,r,i,s,o,a,c,d,p,b,C],R=N.reduce((O,H,ve)=>(O[H]=1+ve,O),{});function U(O){let H=e.array(O).slice(),ve={};return H.length||e.error("Missing time unit."),H.forEach(K=>{e.hasOwnProperty(R,K)?ve[K]=1:e.error(`Invalid time unit: ${K}.`)}),(ve[s]||ve[a]?1:0)+(ve[r]||ve[i]||ve[o]?1:0)+(ve[c]?1:0)>1&&e.error(`Incompatible time units: ${O}`),H.sort((K,oe)=>R[K]-R[oe]),H}let V={[t]:"%Y ",[r]:"Q%q ",[i]:"%b ",[o]:"%d ",[s]:"W%U ",[a]:"%a ",[c]:"%j ",[d]:"%H:00",[p]:"00:%M",[b]:":%S",[C]:".%L",[`${t}-${i}`]:"%Y-%m ",[`${t}-${i}-${o}`]:"%Y-%m-%d ",[`${d}-${p}`]:"%H:%M"};function P(O,H){let ve=e.extend({},V,H),pe=U(O),K=pe.length,oe="",le=0,We,Rt;for(le=0;le<K;)for(We=pe.length;We>le;--We)if(Rt=pe.slice(le,We).join("-"),ve[Rt]!=null){oe+=ve[Rt],le=We;break}return oe.trim()}var $=new Date,M=new Date;function G(O,H,ve,pe){function K(oe){return O(oe=arguments.length===0?new Date:new Date(+oe)),oe}return K.floor=function(oe){return O(oe=new Date(+oe)),oe},K.ceil=function(oe){return O(oe=new Date(oe-1)),H(oe,1),O(oe),oe},K.round=function(oe){var le=K(oe),We=K.ceil(oe);return oe-le<We-oe?le:We},K.offset=function(oe,le){return H(oe=new Date(+oe),le==null?1:Math.floor(le)),oe},K.range=function(oe,le,We){var Rt=[],bt;if(oe=K.ceil(oe),We=We==null?1:Math.floor(We),!(oe<le)||!(We>0))return Rt;do Rt.push(bt=new Date(+oe)),H(oe,We),O(oe);while(bt<oe&&oe<le);return Rt},K.filter=function(oe){return G(function(le){if(le>=le)for(;O(le),!oe(le);)le.setTime(le-1)},function(le,We){if(le>=le)if(We<0)for(;++We<=0;)for(;H(le,-1),!oe(le););else for(;--We>=0;)for(;H(le,1),!oe(le););})},ve&&(K.count=function(oe,le){return $.setTime(+oe),M.setTime(+le),O($),O(M),Math.floor(ve($,M))},K.every=function(oe){return oe=Math.floor(oe),!isFinite(oe)||!(oe>0)?null:oe>1?K.filter(pe?function(le){return pe(le)%oe===0}:function(le){return K.count(0,le)%oe===0}):K}),K}var ae=G(function(){},function(O,H){O.setTime(+O+H)},function(O,H){return H-O});ae.every=function(O){return O=Math.floor(O),!isFinite(O)||!(O>0)?null:O>1?G(function(H){H.setTime(Math.floor(H/O)*O)},function(H,ve){H.setTime(+H+ve*O)},function(H,ve){return(ve-H)/O}):ae};var I=ae;let Z=1e3,me=Z*60,ye=me*60,He=ye*24,ot=He*7;var at=G(function(O){O.setTime(O-O.getMilliseconds())},function(O,H){O.setTime(+O+H*Z)},function(O,H){return(H-O)/Z},function(O){return O.getUTCSeconds()}),Ze=at,Tt=G(function(O){O.setTime(O-O.getMilliseconds()-O.getSeconds()*Z)},function(O,H){O.setTime(+O+H*me)},function(O,H){return(H-O)/me},function(O){return O.getMinutes()}),Mt=Tt,Ue=G(function(O){O.setTime(O-O.getMilliseconds()-O.getSeconds()*Z-O.getMinutes()*me)},function(O,H){O.setTime(+O+H*ye)},function(O,H){return(H-O)/ye},function(O){return O.getHours()}),te=Ue,st=G(O=>O.setHours(0,0,0,0),(O,H)=>O.setDate(O.getDate()+H),(O,H)=>(H-O-(H.getTimezoneOffset()-O.getTimezoneOffset())*me)/He,O=>O.getDate()-1),be=st;function Re(O){return G(function(H){H.setDate(H.getDate()-(H.getDay()+7-O)%7),H.setHours(0,0,0,0)},function(H,ve){H.setDate(H.getDate()+ve*7)},function(H,ve){return(ve-H-(ve.getTimezoneOffset()-H.getTimezoneOffset())*me)/ot})}var Ae=Re(0);Re(1),Re(2),Re(3),Re(4),Re(5),Re(6);var xe=G(function(O){O.setDate(1),O.setHours(0,0,0,0)},function(O,H){O.setMonth(O.getMonth()+H)},function(O,H){return H.getMonth()-O.getMonth()+(H.getFullYear()-O.getFullYear())*12},function(O){return O.getMonth()}),Je=xe,lt=G(function(O){O.setMonth(0,1),O.setHours(0,0,0,0)},function(O,H){O.setFullYear(O.getFullYear()+H)},function(O,H){return H.getFullYear()-O.getFullYear()},function(O){return O.getFullYear()});lt.every=function(O){return!isFinite(O=Math.floor(O))||!(O>0)?null:G(function(H){H.setFullYear(Math.floor(H.getFullYear()/O)*O),H.setMonth(0,1),H.setHours(0,0,0,0)},function(H,ve){H.setFullYear(H.getFullYear()+ve*O)})};var Qt=lt,Et=G(function(O){O.setUTCSeconds(0,0)},function(O,H){O.setTime(+O+H*me)},function(O,H){return(H-O)/me},function(O){return O.getUTCMinutes()}),mn=Et,Lt=G(function(O){O.setUTCMinutes(0,0,0)},function(O,H){O.setTime(+O+H*ye)},function(O,H){return(H-O)/ye},function(O){return O.getUTCHours()}),kt=Lt,cn=G(function(O){O.setUTCHours(0,0,0,0)},function(O,H){O.setUTCDate(O.getUTCDate()+H)},function(O,H){return(H-O)/He},function(O){return O.getUTCDate()-1}),wt=cn;function Ee(O){return G(function(H){H.setUTCDate(H.getUTCDate()-(H.getUTCDay()+7-O)%7),H.setUTCHours(0,0,0,0)},function(H,ve){H.setUTCDate(H.getUTCDate()+ve*7)},function(H,ve){return(ve-H)/ot})}var Ie=Ee(0);Ee(1),Ee(2),Ee(3),Ee(4),Ee(5),Ee(6);var Ce=G(function(O){O.setUTCDate(1),O.setUTCHours(0,0,0,0)},function(O,H){O.setUTCMonth(O.getUTCMonth()+H)},function(O,H){return H.getUTCMonth()-O.getUTCMonth()+(H.getUTCFullYear()-O.getUTCFullYear())*12},function(O){return O.getUTCMonth()}),fe=Ce,rt=G(function(O){O.setUTCMonth(0,1),O.setUTCHours(0,0,0,0)},function(O,H){O.setUTCFullYear(O.getUTCFullYear()+H)},function(O,H){return H.getUTCFullYear()-O.getUTCFullYear()},function(O){return O.getUTCFullYear()});rt.every=function(O){return!isFinite(O=Math.floor(O))||!(O>0)?null:G(function(H){H.setUTCFullYear(Math.floor(H.getUTCFullYear()/O)*O),H.setUTCMonth(0,1),H.setUTCHours(0,0,0,0)},function(H,ve){H.setUTCFullYear(H.getUTCFullYear()+ve*O)})};var Xe=rt;function de(O,H){return O==null||H==null?NaN:O<H?-1:O>H?1:O>=H?0:NaN}function Ge(O){let H=O,ve=O,pe=O;O.length!==2&&(H=(We,Rt)=>O(We)-Rt,ve=de,pe=(We,Rt)=>de(O(We),Rt));function K(We,Rt,bt=0,ln=We.length){if(bt<ln){if(ve(Rt,Rt)!==0)return ln;do{let S=bt+ln>>>1;pe(We[S],Rt)<0?bt=S+1:ln=S}while(bt<ln)}return bt}function oe(We,Rt,bt=0,ln=We.length){if(bt<ln){if(ve(Rt,Rt)!==0)return ln;do{let S=bt+ln>>>1;pe(We[S],Rt)<=0?bt=S+1:ln=S}while(bt<ln)}return bt}function le(We,Rt,bt=0,ln=We.length){let S=K(We,Rt,bt,ln-1);return S>bt&&H(We[S-1],Rt)>-H(We[S],Rt)?S-1:S}return{left:K,center:le,right:oe}}var Ot=Math.sqrt(50),Nt=Math.sqrt(10),zt=Math.sqrt(2);function en(O,H,ve){var pe=Math.abs(H-O)/Math.max(0,ve),K=Math.pow(10,Math.floor(Math.log(pe)/Math.LN10)),oe=pe/K;return oe>=Ot?K*=10:oe>=Nt?K*=5:oe>=zt&&(K*=2),H<O?-K:K}let Xt=new Date;function bn(O){return Xt.setFullYear(O),Xt.setMonth(0),Xt.setDate(1),Xt.setHours(0,0,0,0),Xt}function Tn(O){return Ut(new Date(O))}function Dn(O){return pn(new Date(O))}function Ut(O){return be.count(bn(O.getFullYear())-1,O)}function pn(O){return Ae.count(bn(O.getFullYear())-1,O)}function qn(O){return bn(O).getDay()}function sr(O,H,ve,pe,K,oe,le){if(0<=O&&O<100){let We=new Date(-1,H,ve,pe,K,oe,le);return We.setFullYear(O),We}return new Date(O,H,ve,pe,K,oe,le)}function In(O){return $e(new Date(O))}function Ne(O){return De(new Date(O))}function $e(O){let H=Date.UTC(O.getUTCFullYear(),0,1);return wt.count(H-1,O)}function De(O){let H=Date.UTC(O.getUTCFullYear(),0,1);return Ie.count(H-1,O)}function qt(O){return Xt.setTime(Date.UTC(O,0,1)),Xt.getUTCDay()}function yt(O,H,ve,pe,K,oe,le){if(0<=O&&O<100){let We=new Date(Date.UTC(-1,H,ve,pe,K,oe,le));return We.setUTCFullYear(ve.y),We}return new Date(Date.UTC(O,H,ve,pe,K,oe,le))}function mt(O,H,ve,pe,K){let oe=H||1,le=e.peek(O),We=(Jt,Kt,hn)=>(hn=hn||Jt,nn(ve[hn],pe[hn],Jt===le&&oe,Kt)),Rt=new Date,bt=e.toSet(O),ln=bt[t]?We(t):e.constant(2012),S=bt[i]?We(i):bt[r]?We(r):e.zero,B=bt[s]&&bt[a]?We(a,1,s+a):bt[s]?We(s,1):bt[a]?We(a,1):bt[o]?We(o,1):bt[c]?We(c,1):e.one,ee=bt[d]?We(d):e.zero,_e=bt[p]?We(p):e.zero,ft=bt[b]?We(b):e.zero,St=bt[C]?We(C):e.zero;return function(Jt){Rt.setTime(+Jt);let Kt=ln(Rt);return K(Kt,S(Rt),B(Rt,Kt),ee(Rt),_e(Rt),ft(Rt),St(Rt))}}function nn(O,H,ve,pe){let K=ve<=1?O:pe?(oe,le)=>pe+ve*Math.floor((O(oe,le)-pe)/ve):(oe,le)=>ve*Math.floor(O(oe,le)/ve);return H?(oe,le)=>H(K(oe,le),le):K}function Wt(O,H,ve){return H+O*7-(ve+6)%7}let Fn={[t]:O=>O.getFullYear(),[r]:O=>Math.floor(O.getMonth()/3),[i]:O=>O.getMonth(),[o]:O=>O.getDate(),[d]:O=>O.getHours(),[p]:O=>O.getMinutes(),[b]:O=>O.getSeconds(),[C]:O=>O.getMilliseconds(),[c]:O=>Ut(O),[s]:O=>pn(O),[s+a]:(O,H)=>Wt(pn(O),O.getDay(),qn(H)),[a]:(O,H)=>Wt(1,O.getDay(),qn(H))},Qn={[r]:O=>3*O,[s]:(O,H)=>Wt(O,0,qn(H))};function Zn(O,H){return mt(O,H||1,Fn,Qn,sr)}let Pn={[t]:O=>O.getUTCFullYear(),[r]:O=>Math.floor(O.getUTCMonth()/3),[i]:O=>O.getUTCMonth(),[o]:O=>O.getUTCDate(),[d]:O=>O.getUTCHours(),[p]:O=>O.getUTCMinutes(),[b]:O=>O.getUTCSeconds(),[C]:O=>O.getUTCMilliseconds(),[c]:O=>$e(O),[s]:O=>De(O),[a]:(O,H)=>Wt(1,O.getUTCDay(),qt(H)),[s+a]:(O,H)=>Wt(De(O),O.getUTCDay(),qt(H))},or={[r]:O=>3*O,[s]:(O,H)=>Wt(O,0,qt(H))};function Ye(O,H){return mt(O,H||1,Pn,or,yt)}let gt={[t]:Qt,[r]:Je.every(3),[i]:Je,[s]:Ae,[o]:be,[a]:be,[c]:be,[d]:te,[p]:Mt,[b]:Ze,[C]:I},se={[t]:Xe,[r]:fe.every(3),[i]:fe,[s]:Ie,[o]:wt,[a]:wt,[c]:wt,[d]:kt,[p]:mn,[b]:Ze,[C]:I};function Pe(O){return gt[O]}function et(O){return se[O]}function At(O,H,ve){return O?O.offset(H,ve):void 0}function fn(O,H,ve){return At(Pe(O),H,ve)}function on(O,H,ve){return At(et(O),H,ve)}function ct(O,H,ve,pe){return O?O.range(H,ve,pe):void 0}function re(O,H,ve,pe){return ct(Pe(O),H,ve,pe)}function Te(O,H,ve,pe){return ct(et(O),H,ve,pe)}let je=1e3,ht=je*60,vt=ht*60,Ft=vt*24,ne=Ft*7,Se=Ft*30,Ve=Ft*365,nt=[t,i,o,d,p,b,C],Bt=nt.slice(0,-1),rn=Bt.slice(0,-1),Sn=rn.slice(0,-1),vn=Sn.slice(0,-1),xn=[t,s],zn=[t,i],Oe=[t],qe=[[Bt,1,je],[Bt,5,5*je],[Bt,15,15*je],[Bt,30,30*je],[rn,1,ht],[rn,5,5*ht],[rn,15,15*ht],[rn,30,30*ht],[Sn,1,vt],[Sn,3,3*vt],[Sn,6,6*vt],[Sn,12,12*vt],[vn,1,Ft],[xn,1,ne],[zn,1,Se],[zn,3,3*Se],[Oe,1,Ve]];function Ct(O){let H=O.extent,ve=O.maxbins||40,pe=Math.abs(e.span(H))/ve,K=Ge(We=>We[2]).right(qe,pe),oe,le;return K===qe.length?(oe=Oe,le=en(H[0]/Ve,H[1]/Ve,ve)):K?(K=qe[pe/qe[K-1][2]<qe[K][2]/pe?K-1:K],oe=K[0],le=K[1]):(oe=nt,le=Math.max(en(H[0],H[1],ve),1)),{units:oe,step:le}}n.DATE=o,n.DAY=a,n.DAYOFYEAR=c,n.HOURS=d,n.MILLISECONDS=C,n.MINUTES=p,n.MONTH=i,n.QUARTER=r,n.SECONDS=b,n.TIME_UNITS=N,n.WEEK=s,n.YEAR=t,n.dayofyear=Tn,n.timeBin=Ct,n.timeFloor=Zn,n.timeInterval=Pe,n.timeOffset=fn,n.timeSequence=re,n.timeUnitSpecifier=P,n.timeUnits=U,n.utcFloor=Ye,n.utcInterval=et,n.utcOffset=on,n.utcSequence=Te,n.utcdayofyear=In,n.utcweek=Ne,n.week=Dn,Object.defineProperty(n,"__esModule",{value:!0})})});var iN=we((Oz,RAe)=>{m();(function(n,e){typeof Oz=="object"&&typeof RAe!="undefined"?e(Oz,v9(),Su()):typeof define=="function"&&define.amd?define(["exports","vega-time","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(Oz,function(n,e,t){"use strict";function r(Qe){let Gt={};return Mn=>Gt[Mn]||(Gt[Mn]=Qe(Mn))}var i=Math.sqrt(50),s=Math.sqrt(10),o=Math.sqrt(2);function a(Qe,Gt,Mn){var Yn=Math.abs(Gt-Qe)/Math.max(0,Mn),ri=Math.pow(10,Math.floor(Math.log(Yn)/Math.LN10)),Br=Yn/ri;return Br>=i?ri*=10:Br>=s?ri*=5:Br>=o&&(ri*=2),Gt<Qe?-ri:ri}function c(Qe){return Math.abs(Qe=Math.round(Qe))>=1e21?Qe.toLocaleString("en").replace(/,/g,""):Qe.toString(10)}function d(Qe,Gt){if((Mn=(Qe=Gt?Qe.toExponential(Gt-1):Qe.toExponential()).indexOf("e"))<0)return null;var Mn,Yn=Qe.slice(0,Mn);return[Yn.length>1?Yn[0]+Yn.slice(2):Yn,+Qe.slice(Mn+1)]}function p(Qe){return Qe=d(Math.abs(Qe)),Qe?Qe[1]:NaN}function b(Qe,Gt){return function(Mn,Yn){for(var ri=Mn.length,Br=[],Xr=0,Cs=Qe[0],lo=0;ri>0&&Cs>0&&(lo+Cs+1>Yn&&(Cs=Math.max(1,Yn-lo)),Br.push(Mn.substring(ri-=Cs,ri+Cs)),!((lo+=Cs+1)>Yn));)Cs=Qe[Xr=(Xr+1)%Qe.length];return Br.reverse().join(Gt)}}function C(Qe){return function(Gt){return Gt.replace(/[0-9]/g,function(Mn){return Qe[+Mn]})}}var N=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function R(Qe){if(!(Gt=N.exec(Qe)))throw new Error("invalid format: "+Qe);var Gt;return new U({fill:Gt[1],align:Gt[2],sign:Gt[3],symbol:Gt[4],zero:Gt[5],width:Gt[6],comma:Gt[7],precision:Gt[8]&&Gt[8].slice(1),trim:Gt[9],type:Gt[10]})}R.prototype=U.prototype;function U(Qe){this.fill=Qe.fill===void 0?" ":Qe.fill+"",this.align=Qe.align===void 0?">":Qe.align+"",this.sign=Qe.sign===void 0?"-":Qe.sign+"",this.symbol=Qe.symbol===void 0?"":Qe.symbol+"",this.zero=!!Qe.zero,this.width=Qe.width===void 0?void 0:+Qe.width,this.comma=!!Qe.comma,this.precision=Qe.precision===void 0?void 0:+Qe.precision,this.trim=!!Qe.trim,this.type=Qe.type===void 0?"":Qe.type+""}U.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function V(Qe){e:for(var Gt=Qe.length,Mn=1,Yn=-1,ri;Mn<Gt;++Mn)switch(Qe[Mn]){case".":Yn=ri=Mn;break;case"0":Yn===0&&(Yn=Mn),ri=Mn;break;default:if(!+Qe[Mn])break e;Yn>0&&(Yn=0);break}return Yn>0?Qe.slice(0,Yn)+Qe.slice(ri+1):Qe}var P;function $(Qe,Gt){var Mn=d(Qe,Gt);if(!Mn)return Qe+"";var Yn=Mn[0],ri=Mn[1],Br=ri-(P=Math.max(-8,Math.min(8,Math.floor(ri/3)))*3)+1,Xr=Yn.length;return Br===Xr?Yn:Br>Xr?Yn+new Array(Br-Xr+1).join("0"):Br>0?Yn.slice(0,Br)+"."+Yn.slice(Br):"0."+new Array(1-Br).join("0")+d(Qe,Math.max(0,Gt+Br-1))[0]}function M(Qe,Gt){var Mn=d(Qe,Gt);if(!Mn)return Qe+"";var Yn=Mn[0],ri=Mn[1];return ri<0?"0."+new Array(-ri).join("0")+Yn:Yn.length>ri+1?Yn.slice(0,ri+1)+"."+Yn.slice(ri+1):Yn+new Array(ri-Yn.length+2).join("0")}var G={"%":(Qe,Gt)=>(Qe*100).toFixed(Gt),b:Qe=>Math.round(Qe).toString(2),c:Qe=>Qe+"",d:c,e:(Qe,Gt)=>Qe.toExponential(Gt),f:(Qe,Gt)=>Qe.toFixed(Gt),g:(Qe,Gt)=>Qe.toPrecision(Gt),o:Qe=>Math.round(Qe).toString(8),p:(Qe,Gt)=>M(Qe*100,Gt),r:M,s:$,X:Qe=>Math.round(Qe).toString(16).toUpperCase(),x:Qe=>Math.round(Qe).toString(16)};function ae(Qe){return Qe}var I=Array.prototype.map,Z=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function me(Qe){var Gt=Qe.grouping===void 0||Qe.thousands===void 0?ae:b(I.call(Qe.grouping,Number),Qe.thousands+""),Mn=Qe.currency===void 0?"":Qe.currency[0]+"",Yn=Qe.currency===void 0?"":Qe.currency[1]+"",ri=Qe.decimal===void 0?".":Qe.decimal+"",Br=Qe.numerals===void 0?ae:C(I.call(Qe.numerals,String)),Xr=Qe.percent===void 0?"%":Qe.percent+"",Cs=Qe.minus===void 0?"\u2212":Qe.minus+"",lo=Qe.nan===void 0?"NaN":Qe.nan+"";function no(ro){ro=R(ro);var co=ro.fill,hi=ro.align,Ei=ro.sign,Vi=ro.symbol,Ko=ro.zero,la=ro.width,ca=ro.comma,fo=ro.precision,us=ro.trim,hs=ro.type;hs==="n"?(ca=!0,hs="g"):G[hs]||(fo===void 0&&(fo=12),us=!0,hs="g"),(Ko||co==="0"&&hi==="=")&&(Ko=!0,co="0",hi="=");var Xi=Vi==="$"?Mn:Vi==="#"&&/[boxX]/.test(hs)?"0"+hs.toLowerCase():"",lu=Vi==="$"?Yn:/[%p]/.test(hs)?Xr:"",Is=G[hs],ha=/[defgprs%]/.test(hs);fo=fo===void 0?6:/[gprs]/.test(hs)?Math.max(1,Math.min(21,fo)):Math.max(0,Math.min(20,fo));function ia(Ni){var Ho=Xi,ys=lu,Ii,Do,Oa;if(hs==="c")ys=Is(Ni)+ys,Ni="";else{Ni=+Ni;var Ga=Ni<0||1/Ni<0;if(Ni=isNaN(Ni)?lo:Is(Math.abs(Ni),fo),us&&(Ni=V(Ni)),Ga&&+Ni==0&&Ei!=="+"&&(Ga=!1),Ho=(Ga?Ei==="("?Ei:Cs:Ei==="-"||Ei==="("?"":Ei)+Ho,ys=(hs==="s"?Z[8+P/3]:"")+ys+(Ga&&Ei==="("?")":""),ha){for(Ii=-1,Do=Ni.length;++Ii<Do;)if(Oa=Ni.charCodeAt(Ii),48>Oa||Oa>57){ys=(Oa===46?ri+Ni.slice(Ii+1):Ni.slice(Ii))+ys,Ni=Ni.slice(0,Ii);break}}}ca&&!Ko&&(Ni=Gt(Ni,1/0));var Oo=Ho.length+Ni.length+ys.length,Ao=Oo<la?new Array(la-Oo+1).join(co):"";switch(ca&&Ko&&(Ni=Gt(Ao+Ni,Ao.length?la-ys.length:1/0),Ao=""),hi){case"<":Ni=Ho+Ni+ys+Ao;break;case"=":Ni=Ho+Ao+Ni+ys;break;case"^":Ni=Ao.slice(0,Oo=Ao.length>>1)+Ho+Ni+ys+Ao.slice(Oo);break;default:Ni=Ao+Ho+Ni+ys;break}return Br(Ni)}return ia.toString=function(){return ro+""},ia}function as(ro,co){var hi=no((ro=R(ro),ro.type="f",ro)),Ei=Math.max(-8,Math.min(8,Math.floor(p(co)/3)))*3,Vi=Math.pow(10,-Ei),Ko=Z[8+Ei/3];return function(la){return hi(Vi*la)+Ko}}return{format:no,formatPrefix:as}}var ye,He,ot;at({thousands:",",grouping:[3],currency:["$",""]});function at(Qe){return ye=me(Qe),He=ye.format,ot=ye.formatPrefix,ye}function Ze(Qe){return Math.max(0,-p(Math.abs(Qe)))}function Tt(Qe,Gt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(p(Gt)/3)))*3-p(Math.abs(Qe)))}function Mt(Qe,Gt){return Qe=Math.abs(Qe),Gt=Math.abs(Gt)-Qe,Math.max(0,p(Gt)-p(Qe))+1}function Ue(Qe,Gt){return Mn=>{let Yn=Qe(Mn),ri=Yn.indexOf(Gt);if(ri<0)return Yn;let Br=te(Yn,ri),Xr=Br<Yn.length?Yn.slice(Br):"";for(;--Br>ri;)if(Yn[Br]!=="0"){++Br;break}return Yn.slice(0,Br)+Xr}}function te(Qe,Gt){let Mn=Qe.lastIndexOf("e"),Yn;if(Mn>0)return Mn;for(Mn=Qe.length;--Mn>Gt;)if(Yn=Qe.charCodeAt(Mn),Yn>=48&&Yn<=57)return Mn+1}function st(Qe){let Gt=r(Qe.format),Mn=Qe.formatPrefix;return{format:Gt,formatPrefix:Mn,formatFloat(Yn){let ri=R(Yn||",");if(ri.precision==null){switch(ri.precision=12,ri.type){case"%":ri.precision-=2;break;case"e":ri.precision-=1;break}return Ue(Gt(ri),Gt(".1f")(1)[1])}else return Gt(ri)},formatSpan(Yn,ri,Br,Xr){Xr=R(Xr??",f");let Cs=a(Yn,ri,Br),lo=Math.max(Math.abs(Yn),Math.abs(ri)),no;if(Xr.precision==null)switch(Xr.type){case"s":return isNaN(no=Tt(Cs,lo))||(Xr.precision=no),Mn(Xr,lo);case"":case"e":case"g":case"p":case"r":{isNaN(no=Mt(Cs,lo))||(Xr.precision=no-(Xr.type==="e"));break}case"f":case"%":{isNaN(no=Ze(Cs))||(Xr.precision=no-(Xr.type==="%")*2);break}}return Gt(Xr)}}}let be;Re();function Re(){return be=st({format:He,formatPrefix:ot})}function Ae(Qe){return st(me(Qe))}function xe(Qe){return arguments.length?be=Ae(Qe):be}var Je=new Date,lt=new Date;function Qt(Qe,Gt,Mn,Yn){function ri(Br){return Qe(Br=arguments.length===0?new Date:new Date(+Br)),Br}return ri.floor=function(Br){return Qe(Br=new Date(+Br)),Br},ri.ceil=function(Br){return Qe(Br=new Date(Br-1)),Gt(Br,1),Qe(Br),Br},ri.round=function(Br){var Xr=ri(Br),Cs=ri.ceil(Br);return Br-Xr<Cs-Br?Xr:Cs},ri.offset=function(Br,Xr){return Gt(Br=new Date(+Br),Xr==null?1:Math.floor(Xr)),Br},ri.range=function(Br,Xr,Cs){var lo=[],no;if(Br=ri.ceil(Br),Cs=Cs==null?1:Math.floor(Cs),!(Br<Xr)||!(Cs>0))return lo;do lo.push(no=new Date(+Br)),Gt(Br,Cs),Qe(Br);while(no<Br&&Br<Xr);return lo},ri.filter=function(Br){return Qt(function(Xr){if(Xr>=Xr)for(;Qe(Xr),!Br(Xr);)Xr.setTime(Xr-1)},function(Xr,Cs){if(Xr>=Xr)if(Cs<0)for(;++Cs<=0;)for(;Gt(Xr,-1),!Br(Xr););else for(;--Cs>=0;)for(;Gt(Xr,1),!Br(Xr););})},Mn&&(ri.count=function(Br,Xr){return Je.setTime(+Br),lt.setTime(+Xr),Qe(Je),Qe(lt),Math.floor(Mn(Je,lt))},ri.every=function(Br){return Br=Math.floor(Br),!isFinite(Br)||!(Br>0)?null:Br>1?ri.filter(Yn?function(Xr){return Yn(Xr)%Br===0}:function(Xr){return ri.count(0,Xr)%Br===0}):ri}),ri}let mn=1e3*60,kt=mn*60*24,cn=kt*7;var wt=Qt(Qe=>Qe.setHours(0,0,0,0),(Qe,Gt)=>Qe.setDate(Qe.getDate()+Gt),(Qe,Gt)=>(Gt-Qe-(Gt.getTimezoneOffset()-Qe.getTimezoneOffset())*mn)/kt,Qe=>Qe.getDate()-1),Ee=wt;function Ie(Qe){return Qt(function(Gt){Gt.setDate(Gt.getDate()-(Gt.getDay()+7-Qe)%7),Gt.setHours(0,0,0,0)},function(Gt,Mn){Gt.setDate(Gt.getDate()+Mn*7)},function(Gt,Mn){return(Mn-Gt-(Mn.getTimezoneOffset()-Gt.getTimezoneOffset())*mn)/cn})}var Ce=Ie(0),fe=Ie(1);Ie(2),Ie(3);var rt=Ie(4);Ie(5),Ie(6);var Xe=Qt(function(Qe){Qe.setMonth(0,1),Qe.setHours(0,0,0,0)},function(Qe,Gt){Qe.setFullYear(Qe.getFullYear()+Gt)},function(Qe,Gt){return Gt.getFullYear()-Qe.getFullYear()},function(Qe){return Qe.getFullYear()});Xe.every=function(Qe){return!isFinite(Qe=Math.floor(Qe))||!(Qe>0)?null:Qt(function(Gt){Gt.setFullYear(Math.floor(Gt.getFullYear()/Qe)*Qe),Gt.setMonth(0,1),Gt.setHours(0,0,0,0)},function(Gt,Mn){Gt.setFullYear(Gt.getFullYear()+Mn*Qe)})};var de=Xe,Ge=Qt(function(Qe){Qe.setUTCHours(0,0,0,0)},function(Qe,Gt){Qe.setUTCDate(Qe.getUTCDate()+Gt)},function(Qe,Gt){return(Gt-Qe)/kt},function(Qe){return Qe.getUTCDate()-1}),Ot=Ge;function Nt(Qe){return Qt(function(Gt){Gt.setUTCDate(Gt.getUTCDate()-(Gt.getUTCDay()+7-Qe)%7),Gt.setUTCHours(0,0,0,0)},function(Gt,Mn){Gt.setUTCDate(Gt.getUTCDate()+Mn*7)},function(Gt,Mn){return(Mn-Gt)/cn})}var zt=Nt(0),en=Nt(1);Nt(2),Nt(3);var Xt=Nt(4);Nt(5),Nt(6);var bn=Qt(function(Qe){Qe.setUTCMonth(0,1),Qe.setUTCHours(0,0,0,0)},function(Qe,Gt){Qe.setUTCFullYear(Qe.getUTCFullYear()+Gt)},function(Qe,Gt){return Gt.getUTCFullYear()-Qe.getUTCFullYear()},function(Qe){return Qe.getUTCFullYear()});bn.every=function(Qe){return!isFinite(Qe=Math.floor(Qe))||!(Qe>0)?null:Qt(function(Gt){Gt.setUTCFullYear(Math.floor(Gt.getUTCFullYear()/Qe)*Qe),Gt.setUTCMonth(0,1),Gt.setUTCHours(0,0,0,0)},function(Gt,Mn){Gt.setUTCFullYear(Gt.getUTCFullYear()+Mn*Qe)})};var Tn=bn;function Dn(Qe){if(0<=Qe.y&&Qe.y<100){var Gt=new Date(-1,Qe.m,Qe.d,Qe.H,Qe.M,Qe.S,Qe.L);return Gt.setFullYear(Qe.y),Gt}return new Date(Qe.y,Qe.m,Qe.d,Qe.H,Qe.M,Qe.S,Qe.L)}function Ut(Qe){if(0<=Qe.y&&Qe.y<100){var Gt=new Date(Date.UTC(-1,Qe.m,Qe.d,Qe.H,Qe.M,Qe.S,Qe.L));return Gt.setUTCFullYear(Qe.y),Gt}return new Date(Date.UTC(Qe.y,Qe.m,Qe.d,Qe.H,Qe.M,Qe.S,Qe.L))}function pn(Qe,Gt,Mn){return{y:Qe,m:Gt,d:Mn,H:0,M:0,S:0,L:0}}function qn(Qe){var Gt=Qe.dateTime,Mn=Qe.date,Yn=Qe.time,ri=Qe.periods,Br=Qe.days,Xr=Qe.shortDays,Cs=Qe.months,lo=Qe.shortMonths,no=yt(ri),as=mt(ri),ro=yt(Br),co=mt(Br),hi=yt(Xr),Ei=mt(Xr),Vi=yt(Cs),Ko=mt(Cs),la=yt(lo),ca=mt(lo),fo={a:Ga,A:Oo,b:Ao,B:ja,c:null,d:vt,e:vt,f:nt,g:H,G:pe,H:Ft,I:ne,j:Se,L:Ve,m:Bt,M:rn,p:cu,q:qa,Q:Mr,s:xi,S:Sn,u:vn,U:xn,V:Oe,w:qe,W:Ct,x:null,X:null,y:O,Y:ve,Z:K,"%":yr},us={a:sa,A:oa,b:dl,B:Pl,c:null,d:oe,e:oe,f:ln,g:jn,G:Jr,H:le,I:We,j:Rt,L:bt,m:S,M:B,p:ea,q:Ku,Q:Mr,s:xi,S:ee,u:_e,U:ft,V:Jt,w:Kt,W:hn,x:null,X:null,y:Bn,Y:Vn,Z:Vr,"%":yr},hs={a:ia,A:Ni,b:Ho,B:ys,c:Ii,d:Pe,e:Pe,f:re,g:or,G:Pn,H:At,I:At,j:et,L:ct,m:se,M:fn,p:ha,q:gt,Q:je,s:ht,S:on,u:Wt,U:Fn,V:Qn,w:nn,W:Zn,x:Do,X:Oa,y:or,Y:Pn,Z:Ye,"%":Te};fo.x=Xi(Mn,fo),fo.X=Xi(Yn,fo),fo.c=Xi(Gt,fo),us.x=Xi(Mn,us),us.X=Xi(Yn,us),us.c=Xi(Gt,us);function Xi(ui,ns){return function(ls){var pr=[],rs=-1,Le=0,pt=ui.length,Yt,jt,dn;for(ls instanceof Date||(ls=new Date(+ls));++rs<pt;)ui.charCodeAt(rs)===37&&(pr.push(ui.slice(Le,rs)),(jt=sr[Yt=ui.charAt(++rs)])!=null?Yt=ui.charAt(++rs):jt=Yt==="e"?" ":"0",(dn=ns[Yt])&&(Yt=dn(ls,jt)),pr.push(Yt),Le=rs+1);return pr.push(ui.slice(Le,rs)),pr.join("")}}function lu(ui,ns){return function(ls){var pr=pn(1900,void 0,1),rs=Is(pr,ui,ls+="",0),Le,pt;if(rs!=ls.length)return null;if("Q"in pr)return new Date(pr.Q);if("s"in pr)return new Date(pr.s*1e3+("L"in pr?pr.L:0));if(ns&&!("Z"in pr)&&(pr.Z=0),"p"in pr&&(pr.H=pr.H%12+pr.p*12),pr.m===void 0&&(pr.m="q"in pr?pr.q:0),"V"in pr){if(pr.V<1||pr.V>53)return null;"w"in pr||(pr.w=1),"Z"in pr?(Le=Ut(pn(pr.y,0,1)),pt=Le.getUTCDay(),Le=pt>4||pt===0?en.ceil(Le):en(Le),Le=Ot.offset(Le,(pr.V-1)*7),pr.y=Le.getUTCFullYear(),pr.m=Le.getUTCMonth(),pr.d=Le.getUTCDate()+(pr.w+6)%7):(Le=Dn(pn(pr.y,0,1)),pt=Le.getDay(),Le=pt>4||pt===0?fe.ceil(Le):fe(Le),Le=Ee.offset(Le,(pr.V-1)*7),pr.y=Le.getFullYear(),pr.m=Le.getMonth(),pr.d=Le.getDate()+(pr.w+6)%7)}else("W"in pr||"U"in pr)&&("w"in pr||(pr.w="u"in pr?pr.u%7:"W"in pr?1:0),pt="Z"in pr?Ut(pn(pr.y,0,1)).getUTCDay():Dn(pn(pr.y,0,1)).getDay(),pr.m=0,pr.d="W"in pr?(pr.w+6)%7+pr.W*7-(pt+5)%7:pr.w+pr.U*7-(pt+6)%7);return"Z"in pr?(pr.H+=pr.Z/100|0,pr.M+=pr.Z%100,Ut(pr)):Dn(pr)}}function Is(ui,ns,ls,pr){for(var rs=0,Le=ns.length,pt=ls.length,Yt,jt;rs<Le;){if(pr>=pt)return-1;if(Yt=ns.charCodeAt(rs++),Yt===37){if(Yt=ns.charAt(rs++),jt=hs[Yt in sr?ns.charAt(rs++):Yt],!jt||(pr=jt(ui,ls,pr))<0)return-1}else if(Yt!=ls.charCodeAt(pr++))return-1}return pr}function ha(ui,ns,ls){var pr=no.exec(ns.slice(ls));return pr?(ui.p=as.get(pr[0].toLowerCase()),ls+pr[0].length):-1}function ia(ui,ns,ls){var pr=hi.exec(ns.slice(ls));return pr?(ui.w=Ei.get(pr[0].toLowerCase()),ls+pr[0].length):-1}function Ni(ui,ns,ls){var pr=ro.exec(ns.slice(ls));return pr?(ui.w=co.get(pr[0].toLowerCase()),ls+pr[0].length):-1}function Ho(ui,ns,ls){var pr=la.exec(ns.slice(ls));return pr?(ui.m=ca.get(pr[0].toLowerCase()),ls+pr[0].length):-1}function ys(ui,ns,ls){var pr=Vi.exec(ns.slice(ls));return pr?(ui.m=Ko.get(pr[0].toLowerCase()),ls+pr[0].length):-1}function Ii(ui,ns,ls){return Is(ui,Gt,ns,ls)}function Do(ui,ns,ls){return Is(ui,Mn,ns,ls)}function Oa(ui,ns,ls){return Is(ui,Yn,ns,ls)}function Ga(ui){return Xr[ui.getDay()]}function Oo(ui){return Br[ui.getDay()]}function Ao(ui){return lo[ui.getMonth()]}function ja(ui){return Cs[ui.getMonth()]}function cu(ui){return ri[+(ui.getHours()>=12)]}function qa(ui){return 1+~~(ui.getMonth()/3)}function sa(ui){return Xr[ui.getUTCDay()]}function oa(ui){return Br[ui.getUTCDay()]}function dl(ui){return lo[ui.getUTCMonth()]}function Pl(ui){return Cs[ui.getUTCMonth()]}function ea(ui){return ri[+(ui.getUTCHours()>=12)]}function Ku(ui){return 1+~~(ui.getUTCMonth()/3)}return{format:function(ui){var ns=Xi(ui+="",fo);return ns.toString=function(){return ui},ns},parse:function(ui){var ns=lu(ui+="",!1);return ns.toString=function(){return ui},ns},utcFormat:function(ui){var ns=Xi(ui+="",us);return ns.toString=function(){return ui},ns},utcParse:function(ui){var ns=lu(ui+="",!0);return ns.toString=function(){return ui},ns}}}var sr={"-":"",_:" ","0":"0"},In=/^\s*\d+/,Ne=/^%/,$e=/[\\^$*+?|[\]().{}]/g;function De(Qe,Gt,Mn){var Yn=Qe<0?"-":"",ri=(Yn?-Qe:Qe)+"",Br=ri.length;return Yn+(Br<Mn?new Array(Mn-Br+1).join(Gt)+ri:ri)}function qt(Qe){return Qe.replace($e,"\\$&")}function yt(Qe){return new RegExp("^(?:"+Qe.map(qt).join("|")+")","i")}function mt(Qe){return new Map(Qe.map((Gt,Mn)=>[Gt.toLowerCase(),Mn]))}function nn(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+1));return Yn?(Qe.w=+Yn[0],Mn+Yn[0].length):-1}function Wt(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+1));return Yn?(Qe.u=+Yn[0],Mn+Yn[0].length):-1}function Fn(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Qe.U=+Yn[0],Mn+Yn[0].length):-1}function Qn(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Qe.V=+Yn[0],Mn+Yn[0].length):-1}function Zn(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Qe.W=+Yn[0],Mn+Yn[0].length):-1}function Pn(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+4));return Yn?(Qe.y=+Yn[0],Mn+Yn[0].length):-1}function or(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Qe.y=+Yn[0]+(+Yn[0]>68?1900:2e3),Mn+Yn[0].length):-1}function Ye(Qe,Gt,Mn){var Yn=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Gt.slice(Mn,Mn+6));return Yn?(Qe.Z=Yn[1]?0:-(Yn[2]+(Yn[3]||"00")),Mn+Yn[0].length):-1}function gt(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+1));return Yn?(Qe.q=Yn[0]*3-3,Mn+Yn[0].length):-1}function se(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Qe.m=Yn[0]-1,Mn+Yn[0].length):-1}function Pe(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Qe.d=+Yn[0],Mn+Yn[0].length):-1}function et(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+3));return Yn?(Qe.m=0,Qe.d=+Yn[0],Mn+Yn[0].length):-1}function At(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Qe.H=+Yn[0],Mn+Yn[0].length):-1}function fn(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Qe.M=+Yn[0],Mn+Yn[0].length):-1}function on(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Qe.S=+Yn[0],Mn+Yn[0].length):-1}function ct(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+3));return Yn?(Qe.L=+Yn[0],Mn+Yn[0].length):-1}function re(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+6));return Yn?(Qe.L=Math.floor(Yn[0]/1e3),Mn+Yn[0].length):-1}function Te(Qe,Gt,Mn){var Yn=Ne.exec(Gt.slice(Mn,Mn+1));return Yn?Mn+Yn[0].length:-1}function je(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn));return Yn?(Qe.Q=+Yn[0],Mn+Yn[0].length):-1}function ht(Qe,Gt,Mn){var Yn=In.exec(Gt.slice(Mn));return Yn?(Qe.s=+Yn[0],Mn+Yn[0].length):-1}function vt(Qe,Gt){return De(Qe.getDate(),Gt,2)}function Ft(Qe,Gt){return De(Qe.getHours(),Gt,2)}function ne(Qe,Gt){return De(Qe.getHours()%12||12,Gt,2)}function Se(Qe,Gt){return De(1+Ee.count(de(Qe),Qe),Gt,3)}function Ve(Qe,Gt){return De(Qe.getMilliseconds(),Gt,3)}function nt(Qe,Gt){return Ve(Qe,Gt)+"000"}function Bt(Qe,Gt){return De(Qe.getMonth()+1,Gt,2)}function rn(Qe,Gt){return De(Qe.getMinutes(),Gt,2)}function Sn(Qe,Gt){return De(Qe.getSeconds(),Gt,2)}function vn(Qe){var Gt=Qe.getDay();return Gt===0?7:Gt}function xn(Qe,Gt){return De(Ce.count(de(Qe)-1,Qe),Gt,2)}function zn(Qe){var Gt=Qe.getDay();return Gt>=4||Gt===0?rt(Qe):rt.ceil(Qe)}function Oe(Qe,Gt){return Qe=zn(Qe),De(rt.count(de(Qe),Qe)+(de(Qe).getDay()===4),Gt,2)}function qe(Qe){return Qe.getDay()}function Ct(Qe,Gt){return De(fe.count(de(Qe)-1,Qe),Gt,2)}function O(Qe,Gt){return De(Qe.getFullYear()%100,Gt,2)}function H(Qe,Gt){return Qe=zn(Qe),De(Qe.getFullYear()%100,Gt,2)}function ve(Qe,Gt){return De(Qe.getFullYear()%1e4,Gt,4)}function pe(Qe,Gt){var Mn=Qe.getDay();return Qe=Mn>=4||Mn===0?rt(Qe):rt.ceil(Qe),De(Qe.getFullYear()%1e4,Gt,4)}function K(Qe){var Gt=Qe.getTimezoneOffset();return(Gt>0?"-":(Gt*=-1,"+"))+De(Gt/60|0,"0",2)+De(Gt%60,"0",2)}function oe(Qe,Gt){return De(Qe.getUTCDate(),Gt,2)}function le(Qe,Gt){return De(Qe.getUTCHours(),Gt,2)}function We(Qe,Gt){return De(Qe.getUTCHours()%12||12,Gt,2)}function Rt(Qe,Gt){return De(1+Ot.count(Tn(Qe),Qe),Gt,3)}function bt(Qe,Gt){return De(Qe.getUTCMilliseconds(),Gt,3)}function ln(Qe,Gt){return bt(Qe,Gt)+"000"}function S(Qe,Gt){return De(Qe.getUTCMonth()+1,Gt,2)}function B(Qe,Gt){return De(Qe.getUTCMinutes(),Gt,2)}function ee(Qe,Gt){return De(Qe.getUTCSeconds(),Gt,2)}function _e(Qe){var Gt=Qe.getUTCDay();return Gt===0?7:Gt}function ft(Qe,Gt){return De(zt.count(Tn(Qe)-1,Qe),Gt,2)}function St(Qe){var Gt=Qe.getUTCDay();return Gt>=4||Gt===0?Xt(Qe):Xt.ceil(Qe)}function Jt(Qe,Gt){return Qe=St(Qe),De(Xt.count(Tn(Qe),Qe)+(Tn(Qe).getUTCDay()===4),Gt,2)}function Kt(Qe){return Qe.getUTCDay()}function hn(Qe,Gt){return De(en.count(Tn(Qe)-1,Qe),Gt,2)}function Bn(Qe,Gt){return De(Qe.getUTCFullYear()%100,Gt,2)}function jn(Qe,Gt){return Qe=St(Qe),De(Qe.getUTCFullYear()%100,Gt,2)}function Vn(Qe,Gt){return De(Qe.getUTCFullYear()%1e4,Gt,4)}function Jr(Qe,Gt){var Mn=Qe.getUTCDay();return Qe=Mn>=4||Mn===0?Xt(Qe):Xt.ceil(Qe),De(Qe.getUTCFullYear()%1e4,Gt,4)}function Vr(){return"+0000"}function yr(){return"%"}function Mr(Qe){return+Qe}function xi(Qe){return Math.floor(+Qe/1e3)}var ai,Ji,Es,es,Ea;da({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function da(Qe){return ai=qn(Qe),Ji=ai.format,Es=ai.parse,es=ai.utcFormat,Ea=ai.utcParse,ai}function fl(Qe,Gt,Mn){Mn=Mn||{},t.isObject(Mn)||t.error(`Invalid time multi-format specifier: ${Mn}`);let Yn=Gt(e.SECONDS),ri=Gt(e.MINUTES),Br=Gt(e.HOURS),Xr=Gt(e.DATE),Cs=Gt(e.WEEK),lo=Gt(e.MONTH),no=Gt(e.QUARTER),as=Gt(e.YEAR),ro=Qe(Mn[e.MILLISECONDS]||".%L"),co=Qe(Mn[e.SECONDS]||":%S"),hi=Qe(Mn[e.MINUTES]||"%I:%M"),Ei=Qe(Mn[e.HOURS]||"%I %p"),Vi=Qe(Mn[e.DATE]||Mn[e.DAY]||"%a %d"),Ko=Qe(Mn[e.WEEK]||"%b %d"),la=Qe(Mn[e.MONTH]||"%B"),ca=Qe(Mn[e.QUARTER]||"%B"),fo=Qe(Mn[e.YEAR]||"%Y");return us=>(Yn(us)<us?ro:ri(us)<us?co:Br(us)<us?hi:Xr(us)<us?Ei:lo(us)<us?Cs(us)<us?Vi:Ko:as(us)<us?no(us)<us?la:ca:fo)(us)}function wc(Qe){let Gt=r(Qe.format),Mn=r(Qe.utcFormat);return{timeFormat:Yn=>t.isString(Yn)?Gt(Yn):fl(Gt,e.timeInterval,Yn),utcFormat:Yn=>t.isString(Yn)?Mn(Yn):fl(Mn,e.utcInterval,Yn),timeParse:r(Qe.parse),utcParse:r(Qe.utcParse)}}let au;uu();function uu(){return au=wc({format:Ji,parse:Es,utcFormat:es,utcParse:Ea})}function Gu(Qe){return wc(qn(Qe))}function wu(Qe){return arguments.length?au=Gu(Qe):au}let Ac=(Qe,Gt)=>t.extend({},Qe,Gt);function Zo(Qe,Gt){let Mn=Qe?Ae(Qe):xe(),Yn=Gt?Gu(Gt):wu();return Ac(Mn,Yn)}function Yu(Qe,Gt){let Mn=arguments.length;return Mn&&Mn!==2&&t.error("defaultLocale expects either zero or two arguments."),Mn?Ac(xe(Qe),wu(Gt)):Ac(xe(),wu())}function Gc(){return Re(),uu(),Yu()}n.defaultLocale=Yu,n.locale=Zo,n.numberFormatDefaultLocale=xe,n.numberFormatLocale=Ae,n.resetDefaultLocale=Gc,n.resetNumberFormatDefaultLocale=Re,n.resetTimeFormatDefaultLocale=uu,n.timeFormatDefaultLocale=wu,n.timeFormatLocale=Gu,Object.defineProperty(n,"__esModule",{value:!0})})});var Rz=we((Nz,LAe)=>{m();(function(n,e){typeof Nz=="object"&&typeof LAe!="undefined"?e(Nz,Su(),OAe(),iN()):typeof define=="function"&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.topojson,n.vega))})(Nz,function(n,e,t,r){"use strict";let i=/^(data:|([A-Za-z]+:)?\/\/)/,s=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,o=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,a="file://";function c(Ce,fe){return rt=>({options:rt||{},sanitize:p,load:d,fileAccess:!!fe,file:b(fe),http:N(Ce)})}async function d(Ce,fe){let rt=await this.sanitize(Ce,fe),Xe=rt.href;return rt.localFile?this.file(Xe):this.http(Xe,fe)}async function p(Ce,fe){fe=e.extend({},this.options,fe);let rt=this.fileAccess,Xe={href:null},de,Ge,Ot,Nt=s.test(Ce.replace(o,""));(Ce==null||typeof Ce!="string"||!Nt)&&e.error("Sanitize failure, invalid URI: "+e.stringValue(Ce));let zt=i.test(Ce);return(Ot=fe.baseURL)&&!zt&&(!Ce.startsWith("/")&&!Ot.endsWith("/")&&(Ce="/"+Ce),Ce=Ot+Ce),Ge=(de=Ce.startsWith(a))||fe.mode==="file"||fe.mode!=="http"&&!zt&&rt,de?Ce=Ce.slice(a.length):Ce.startsWith("//")&&(fe.defaultProtocol==="file"?(Ce=Ce.slice(2),Ge=!0):Ce=(fe.defaultProtocol||"http")+":"+Ce),Object.defineProperty(Xe,"localFile",{value:!!Ge}),Xe.href=Ce,fe.target&&(Xe.target=fe.target+""),fe.rel&&(Xe.rel=fe.rel+""),fe.context==="image"&&fe.crossOrigin&&(Xe.crossOrigin=fe.crossOrigin+""),Xe}function b(Ce){return Ce?fe=>new Promise((rt,Xe)=>{Ce.readFile(fe,(de,Ge)=>{de?Xe(de):rt(Ge)})}):C}async function C(){e.error("No file system access.")}function N(Ce){return Ce?async function(fe,rt){let Xe=e.extend({},this.options.http,rt),de=rt&&rt.response,Ge=await Ce(fe,Xe);return Ge.ok?e.isFunction(Ge[de])?Ge[de]():Ge.text():e.error(Ge.status+""+Ge.statusText)}:R}async function R(){e.error("No HTTP fetch method available.")}let U=Ce=>Ce!=null&&Ce===Ce,V=Ce=>Ce==="true"||Ce==="false"||Ce===!0||Ce===!1,P=Ce=>!Number.isNaN(Date.parse(Ce)),$=Ce=>!Number.isNaN(+Ce)&&!(Ce instanceof Date),M=Ce=>$(Ce)&&Number.isInteger(+Ce),G={boolean:e.toBoolean,integer:e.toNumber,number:e.toNumber,date:e.toDate,string:e.toString,unknown:e.identity},ae=[V,M,$,P],I=["boolean","integer","number","date"];function Z(Ce,fe){if(!Ce||!Ce.length)return"unknown";let rt=Ce.length,Xe=ae.length,de=ae.map((Ge,Ot)=>Ot+1);for(let Ge=0,Ot=0,Nt,zt;Ge<rt;++Ge)for(zt=fe?Ce[Ge][fe]:Ce[Ge],Nt=0;Nt<Xe;++Nt)if(de[Nt]&&U(zt)&&!ae[Nt](zt)&&(de[Nt]=0,++Ot,Ot===ae.length))return"string";return I[de.reduce((Ge,Ot)=>Ge===0?Ot:Ge,0)-1]}function me(Ce,fe){return fe.reduce((rt,Xe)=>(rt[Xe]=Z(Ce,Xe),rt),{})}var ye={},He={},ot=34,at=10,Ze=13;function Tt(Ce){return new Function("d","return {"+Ce.map(function(fe,rt){return JSON.stringify(fe)+": d["+rt+'] || ""'}).join(",")+"}")}function Mt(Ce,fe){var rt=Tt(Ce);return function(Xe,de){return fe(rt(Xe),de,Ce)}}function Ue(Ce){var fe=Object.create(null),rt=[];return Ce.forEach(function(Xe){for(var de in Xe)de in fe||rt.push(fe[de]=de)}),rt}function te(Ce,fe){var rt=Ce+"",Xe=rt.length;return Xe<fe?new Array(fe-Xe+1).join(0)+rt:rt}function st(Ce){return Ce<0?"-"+te(-Ce,6):Ce>9999?"+"+te(Ce,6):te(Ce,4)}function be(Ce){var fe=Ce.getUTCHours(),rt=Ce.getUTCMinutes(),Xe=Ce.getUTCSeconds(),de=Ce.getUTCMilliseconds();return isNaN(Ce)?"Invalid Date":st(Ce.getUTCFullYear())+"-"+te(Ce.getUTCMonth()+1,2)+"-"+te(Ce.getUTCDate(),2)+(de?"T"+te(fe,2)+":"+te(rt,2)+":"+te(Xe,2)+"."+te(de,3)+"Z":Xe?"T"+te(fe,2)+":"+te(rt,2)+":"+te(Xe,2)+"Z":rt||fe?"T"+te(fe,2)+":"+te(rt,2)+"Z":"")}function Re(Ce){var fe=new RegExp('["'+Ce+`
\r]`),rt=Ce.charCodeAt(0);function Xe(bn,Tn){var Dn,Ut,pn=de(bn,function(qn,sr){if(Dn)return Dn(qn,sr-1);Ut=qn,Dn=Tn?Mt(qn,Tn):Tt(qn)});return pn.columns=Ut||[],pn}function de(bn,Tn){var Dn=[],Ut=bn.length,pn=0,qn=0,sr,In=Ut<=0,Ne=!1;bn.charCodeAt(Ut-1)===at&&--Ut,bn.charCodeAt(Ut-1)===Ze&&--Ut;function $e(){if(In)return He;if(Ne)return Ne=!1,ye;var qt,yt=pn,mt;if(bn.charCodeAt(yt)===ot){for(;pn++<Ut&&bn.charCodeAt(pn)!==ot||bn.charCodeAt(++pn)===ot;);return(qt=pn)>=Ut?In=!0:(mt=bn.charCodeAt(pn++))===at?Ne=!0:mt===Ze&&(Ne=!0,bn.charCodeAt(pn)===at&&++pn),bn.slice(yt+1,qt-1).replace(/""/g,'"')}for(;pn<Ut;){if((mt=bn.charCodeAt(qt=pn++))===at)Ne=!0;else if(mt===Ze)Ne=!0,bn.charCodeAt(pn)===at&&++pn;else if(mt!==rt)continue;return bn.slice(yt,qt)}return In=!0,bn.slice(yt,Ut)}for(;(sr=$e())!==He;){for(var De=[];sr!==ye&&sr!==He;)De.push(sr),sr=$e();Tn&&(De=Tn(De,qn++))==null||Dn.push(De)}return Dn}function Ge(bn,Tn){return bn.map(function(Dn){return Tn.map(function(Ut){return Xt(Dn[Ut])}).join(Ce)})}function Ot(bn,Tn){return Tn==null&&(Tn=Ue(bn)),[Tn.map(Xt).join(Ce)].concat(Ge(bn,Tn)).join(`
`)}function Nt(bn,Tn){return Tn==null&&(Tn=Ue(bn)),Ge(bn,Tn).join(`
`)}function zt(bn){return bn.map(en).join(`
`)}function en(bn){return bn.map(Xt).join(Ce)}function Xt(bn){return bn==null?"":bn instanceof Date?be(bn):fe.test(bn+="")?'"'+bn.replace(/"/g,'""')+'"':bn}return{parse:Xe,parseRows:de,format:Ot,formatBody:Nt,formatRows:zt,formatRow:en,formatValue:Xt}}function Ae(Ce){let fe=function(rt,Xe){let de={delimiter:Ce};return xe(rt,Xe?e.extend(Xe,de):de)};return fe.responseType="text",fe}function xe(Ce,fe){return fe.header&&(Ce=fe.header.map(e.stringValue).join(fe.delimiter)+`
`+Ce),Re(fe.delimiter).parse(Ce+"")}xe.responseType="text";function Je(Ce){return typeof Buffer=="function"&&e.isFunction(Buffer.isBuffer)?Buffer.isBuffer(Ce):!1}function lt(Ce,fe){let rt=fe&&fe.property?e.field(fe.property):e.identity;return e.isObject(Ce)&&!Je(Ce)?Qt(rt(Ce),fe):rt(JSON.parse(Ce))}lt.responseType="json";function Qt(Ce,fe){return!e.isArray(Ce)&&e.isIterable(Ce)&&(Ce=[...Ce]),fe&&fe.copy?JSON.parse(JSON.stringify(Ce)):Ce}let Et={interior:(Ce,fe)=>Ce!==fe,exterior:(Ce,fe)=>Ce===fe};function mn(Ce,fe){let rt,Xe,de,Ge;return Ce=lt(Ce,fe),fe&&fe.feature?(rt=t.feature,de=fe.feature):fe&&fe.mesh?(rt=t.mesh,de=fe.mesh,Ge=Et[fe.filter]):e.error("Missing TopoJSON feature or mesh parameter."),Xe=(Xe=Ce.objects[de])?rt(Ce,Xe,Ge):e.error("Invalid TopoJSON object: "+de),Xe&&Xe.features||[Xe]}mn.responseType="json";let Lt={dsv:xe,csv:Ae(","),tsv:Ae("	"),json:lt,topojson:mn};function kt(Ce,fe){return arguments.length>1?(Lt[Ce]=fe,this):e.hasOwnProperty(Lt,Ce)?Lt[Ce]:null}function cn(Ce){let fe=kt(Ce);return fe&&fe.responseType||"text"}function wt(Ce,fe,rt,Xe){fe=fe||{};let de=kt(fe.type||"json");return de||e.error("Unknown data format type: "+fe.type),Ce=de(Ce,fe),fe.parse&&Ee(Ce,fe.parse,rt,Xe),e.hasOwnProperty(Ce,"columns")&&delete Ce.columns,Ce}function Ee(Ce,fe,rt,Xe){if(!Ce.length)return;let de=r.timeFormatDefaultLocale();rt=rt||de.timeParse,Xe=Xe||de.utcParse;let Ge=Ce.columns||Object.keys(Ce[0]),Ot,Nt,zt,en,Xt,bn;fe==="auto"&&(fe=me(Ce,Ge)),Ge=Object.keys(fe);let Tn=Ge.map(Dn=>{let Ut=fe[Dn],pn,qn;if(Ut&&(Ut.startsWith("date:")||Ut.startsWith("utc:")))return pn=Ut.split(/:(.+)?/,2),qn=pn[1],(qn[0]==="'"&&qn[qn.length-1]==="'"||qn[0]==='"'&&qn[qn.length-1]==='"')&&(qn=qn.slice(1,-1)),(pn[0]==="utc"?Xe:rt)(qn);if(!G[Ut])throw Error("Illegal format pattern: "+Dn+":"+Ut);return G[Ut]});for(zt=0,Xt=Ce.length,bn=Ge.length;zt<Xt;++zt)for(Ot=Ce[zt],en=0;en<bn;++en)Nt=Ge[en],Ot[Nt]=Tn[en](Ot[Nt])}let Ie=c(typeof fetch!="undefined"&&fetch,null);n.format=Lt,n.formats=kt,n.inferType=Z,n.inferTypes=me,n.loader=Ie,n.read=wt,n.responseType=cn,n.typeParsers=G,Object.defineProperty(n,"__esModule",{value:!0})})});var Jf=we((Lz,kAe)=>{m();(function(n,e){typeof Lz=="object"&&typeof kAe!="undefined"?e(Lz,Su(),Rz(),iN()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(Lz,function(n,e,t,r){"use strict";function i(Ye){let gt=Ye||e.identity,se=[],Pe={};return se.add=et=>{let At=gt(et);return Pe[At]||(Pe[At]=1,se.push(et)),se},se.remove=et=>{let At=gt(et);if(Pe[At]){Pe[At]=0;let fn=se.indexOf(et);fn>=0&&se.splice(fn,1)}return se},se}async function s(Ye,gt){try{await gt(Ye)}catch(se){Ye.error(se)}}let o=Symbol("vega_id"),a=1;function c(Ye){return!!(Ye&&d(Ye))}function d(Ye){return Ye[o]}function p(Ye,gt){return Ye[o]=gt,Ye}function b(Ye){let gt=Ye===Object(Ye)?Ye:{data:Ye};return d(gt)?gt:p(gt,a++)}function C(Ye){return N(Ye,b({}))}function N(Ye,gt){for(let se in Ye)gt[se]=Ye[se];return gt}function R(Ye,gt){return p(gt,d(Ye))}function U(Ye,gt){return Ye?gt?(se,Pe)=>Ye(se,Pe)||d(gt(se))-d(gt(Pe)):(se,Pe)=>Ye(se,Pe)||d(se)-d(Pe):null}function V(Ye){return Ye&&Ye.constructor===P}function P(){let Ye=[],gt=[],se=[],Pe=[],et=[],At=null,fn=!1;return{constructor:P,insert(on){let ct=e.array(on),re=ct.length;for(let Te=0;Te<re;++Te)Ye.push(ct[Te]);return this},remove(on){let ct=e.isFunction(on)?Pe:gt,re=e.array(on),Te=re.length;for(let je=0;je<Te;++je)ct.push(re[je]);return this},modify(on,ct,re){let Te={field:ct,value:e.constant(re)};return e.isFunction(on)?(Te.filter=on,et.push(Te)):(Te.tuple=on,se.push(Te)),this},encode(on,ct){return e.isFunction(on)?et.push({filter:on,field:ct}):se.push({tuple:on,field:ct}),this},clean(on){return At=on,this},reflow(){return fn=!0,this},pulse(on,ct){let re={},Te={},je,ht,vt,Ft,ne,Se;for(je=0,ht=ct.length;je<ht;++je)re[d(ct[je])]=1;for(je=0,ht=gt.length;je<ht;++je)ne=gt[je],re[d(ne)]=-1;for(je=0,ht=Pe.length;je<ht;++je)Ft=Pe[je],ct.forEach(nt=>{Ft(nt)&&(re[d(nt)]=-1)});for(je=0,ht=Ye.length;je<ht;++je)ne=Ye[je],Se=d(ne),re[Se]?re[Se]=1:on.add.push(b(Ye[je]));for(je=0,ht=ct.length;je<ht;++je)ne=ct[je],re[d(ne)]<0&&on.rem.push(ne);function Ve(nt,Bt,rn){rn?nt[Bt]=rn(nt):on.encode=Bt,fn||(Te[d(nt)]=nt)}for(je=0,ht=se.length;je<ht;++je)vt=se[je],ne=vt.tuple,Ft=vt.field,Se=re[d(ne)],Se>0&&(Ve(ne,Ft,vt.value),on.modifies(Ft));for(je=0,ht=et.length;je<ht;++je)vt=et[je],Ft=vt.filter,ct.forEach(nt=>{Ft(nt)&&re[d(nt)]>0&&Ve(nt,vt.field,vt.value)}),on.modifies(vt.field);if(fn)on.mod=gt.length||Pe.length?ct.filter(nt=>re[d(nt)]>0):ct.slice();else for(Se in Te)on.mod.push(Te[Se]);return(At||At==null&&(gt.length||Pe.length))&&on.clean(!0),on}}}let $="_:mod:_";function M(){Object.defineProperty(this,$,{writable:!0,value:{}})}M.prototype={set(Ye,gt,se,Pe){let et=this,At=et[Ye],fn=et[$];return gt!=null&&gt>=0?(At[gt]!==se||Pe)&&(At[gt]=se,fn[gt+":"+Ye]=-1,fn[Ye]=-1):(At!==se||Pe)&&(et[Ye]=se,fn[Ye]=e.isArray(se)?1+se.length:-1),et},modified(Ye,gt){let se=this[$];if(arguments.length){if(e.isArray(Ye)){for(let Pe=0;Pe<Ye.length;++Pe)if(se[Ye[Pe]])return!0;return!1}}else{for(let Pe in se)if(se[Pe])return!0;return!1}return gt!=null&&gt>=0?gt+1<se[Ye]||!!se[gt+":"+Ye]:!!se[Ye]},clear(){return this[$]={},this}};let G=0,ae="pulse",I=new M,Z=1,me=2;function ye(Ye,gt,se,Pe){this.id=++G,this.value=Ye,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,gt&&(this._update=gt),se&&this.parameters(se,Pe)}function He(Ye){return function(gt){let se=this.flags;return arguments.length===0?!!(se&Ye):(this.flags=gt?se|Ye:se&~Ye,this)}}ye.prototype={targets(){return this._targets||(this._targets=i(e.id))},set(Ye){return this.value!==Ye?(this.value=Ye,1):0},skip:He(Z),modified:He(me),parameters(Ye,gt,se){gt=gt!==!1;let Pe=this._argval=this._argval||new M,et=this._argops=this._argops||[],At=[],fn,on,ct,re,Te=(je,ht,vt)=>{vt instanceof ye?(vt!==this&&(gt&&vt.targets().add(this),At.push(vt)),et.push({op:vt,name:je,index:ht})):Pe.set(je,ht,vt)};for(fn in Ye)if(on=Ye[fn],fn===ae)e.array(on).forEach(je=>{je instanceof ye?je!==this&&(je.targets().add(this),At.push(je)):e.error("Pulse parameters must be operator instances.")}),this.source=on;else if(e.isArray(on))for(Pe.set(fn,-1,Array(ct=on.length)),re=0;re<ct;++re)Te(fn,re,on[re]);else Te(fn,-1,on);return this.marshall().clear(),se&&(et.initonly=!0),At},marshall(Ye){let gt=this._argval||I,se=this._argops,Pe,et,At,fn;if(se){let on=se.length;for(et=0;et<on;++et)Pe=se[et],At=Pe.op,fn=At.modified()&&At.stamp===Ye,gt.set(Pe.name,Pe.index,At.value,fn);if(se.initonly){for(et=0;et<on;++et)Pe=se[et],Pe.op.targets().remove(this);this._argops=null,this._update=null}}return gt},detach(){let Ye=this._argops,gt,se,Pe,et;if(Ye)for(gt=0,se=Ye.length;gt<se;++gt)Pe=Ye[gt],et=Pe.op,et._targets&&et._targets.remove(this);this.pulse=null,this.source=null},evaluate(Ye){let gt=this._update;if(gt){let se=this.marshall(Ye.stamp),Pe=gt.call(this,se,Ye);if(se.clear(),Pe!==this.value)this.value=Pe;else if(!this.modified())return Ye.StopPropagation}},run(Ye){if(Ye.stamp<this.stamp)return Ye.StopPropagation;let gt;return this.skip()?(this.skip(!1),gt=0):gt=this.evaluate(Ye),this.pulse=gt||Ye}};function ot(Ye,gt,se,Pe){let et=1,At;return Ye instanceof ye?At=Ye:Ye&&Ye.prototype instanceof ye?At=new Ye:e.isFunction(Ye)?At=new ye(null,Ye):(et=0,At=new ye(Ye,gt)),this.rank(At),et&&(Pe=se,se=gt),se&&this.connect(At,At.parameters(se,Pe)),this.touch(At),At}function at(Ye,gt){let se=Ye.rank,Pe=gt.length;for(let et=0;et<Pe;++et)if(se<gt[et].rank){this.rerank(Ye);return}}let Ze=0;function Tt(Ye,gt,se){this.id=++Ze,this.value=null,se&&(this.receive=se),Ye&&(this._filter=Ye),gt&&(this._apply=gt)}function Mt(Ye,gt,se){return new Tt(Ye,gt,se)}Tt.prototype={_filter:e.truthy,_apply:e.identity,targets(){return this._targets||(this._targets=i(e.id))},consume(Ye){return arguments.length?(this._consume=!!Ye,this):!!this._consume},receive(Ye){if(this._filter(Ye)){let gt=this.value=this._apply(Ye),se=this._targets,Pe=se?se.length:0;for(let et=0;et<Pe;++et)se[et].receive(gt);this._consume&&(Ye.preventDefault(),Ye.stopPropagation())}},filter(Ye){let gt=Mt(Ye);return this.targets().add(gt),gt},apply(Ye){let gt=Mt(null,Ye);return this.targets().add(gt),gt},merge(){let Ye=Mt();this.targets().add(Ye);for(let gt=0,se=arguments.length;gt<se;++gt)arguments[gt].targets().add(Ye);return Ye},throttle(Ye){let gt=-1;return this.filter(()=>{let se=Date.now();return se-gt>Ye?(gt=se,1):0})},debounce(Ye){let gt=Mt();return this.targets().add(Mt(null,null,e.debounce(Ye,se=>{let Pe=se.dataflow;gt.receive(se),Pe&&Pe.run&&Pe.run()}))),gt},between(Ye,gt){let se=!1;return Ye.targets().add(Mt(null,null,()=>se=!0)),gt.targets().add(Mt(null,null,()=>se=!1)),this.filter(()=>se)},detach(){this._filter=e.truthy,this._targets=null}};function Ue(Ye,gt,se,Pe){let et=this,At=Mt(se,Pe),fn=function(re){re.dataflow=et;try{At.receive(re)}catch(Te){et.error(Te)}finally{et.run()}},on;typeof Ye=="string"&&typeof document!="undefined"?on=document.querySelectorAll(Ye):on=e.array(Ye);let ct=on.length;for(let re=0;re<ct;++re)on[re].addEventListener(gt,fn);return At}function te(Ye,gt){let se=this.locale();return t.read(Ye,gt,se.timeParse,se.utcParse)}function st(Ye,gt,se){return gt=this.parse(gt,se),this.pulse(Ye,this.changeset().insert(gt))}async function be(Ye,gt){let se=this,Pe=0,et;try{et=await se.loader().load(Ye,{context:"dataflow",response:t.responseType(gt&&gt.type)});try{et=se.parse(et,gt)}catch(At){Pe=-2,se.warn("Data ingestion failed",Ye,At)}}catch(At){Pe=-1,se.warn("Loading failed",Ye,At)}return{data:et,status:Pe}}async function Re(Ye,gt,se){let Pe=this,et=Pe._pending||Ae(Pe);et.requests+=1;let At=await Pe.request(gt,se);return Pe.pulse(Ye,Pe.changeset().remove(e.truthy).insert(At.data||[])),et.done(),At}function Ae(Ye){let gt,se=new Promise(Pe=>gt=Pe);return se.requests=0,se.done=()=>{--se.requests===0&&(Ye._pending=null,gt(Ye))},Ye._pending=se}let xe={skip:!0};function Je(Ye,gt,se,Pe,et){return(Ye instanceof ye?Qt:lt)(this,Ye,gt,se,Pe,et),this}function lt(Ye,gt,se,Pe,et,At){let fn=e.extend({},At,xe),on,ct;e.isFunction(se)||(se=e.constant(se)),Pe===void 0?on=re=>Ye.touch(se(re)):e.isFunction(Pe)?(ct=new ye(null,Pe,et,!1),on=re=>{ct.evaluate(re);let Te=se(re),je=ct.value;V(je)?Ye.pulse(Te,je,At):Ye.update(Te,je,fn)}):on=re=>Ye.update(se(re),Pe,fn),gt.apply(on)}function Qt(Ye,gt,se,Pe,et,At){if(Pe===void 0)gt.targets().add(se);else{let fn=At||{},on=new ye(null,Et(se,Pe),et,!1);on.modified(fn.force),on.rank=gt.rank,gt.targets().add(on),se&&(on.skip(!0),on.value=se.value,on.targets().add(se),Ye.connect(se,[on]))}}function Et(Ye,gt){return gt=e.isFunction(gt)?gt:e.constant(gt),Ye?function(se,Pe){let et=gt(se,Pe);return Ye.skip()||(Ye.skip(et!==this.value).value=et),et}:gt}function mn(Ye){Ye.rank=++this._rank}function Lt(Ye){let gt=[Ye],se,Pe,et;for(;gt.length;)if(this.rank(se=gt.pop()),Pe=se._targets)for(et=Pe.length;--et>=0;)gt.push(se=Pe[et]),se===Ye&&e.error("Cycle detected in dataflow graph.")}let kt={},cn=1<<0,wt=1<<1,Ee=1<<2,Ie=cn|wt,Ce=cn|Ee,fe=cn|wt|Ee,rt=1<<3,Xe=1<<4,de=1<<5,Ge=1<<6;function Ot(Ye,gt,se){this.dataflow=Ye,this.stamp=gt??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=se||null}function Nt(Ye,gt){let se=[];return e.visitArray(Ye,gt,Pe=>se.push(Pe)),se}function zt(Ye,gt){let se={};return Ye.visit(gt,Pe=>{se[d(Pe)]=1}),Pe=>se[d(Pe)]?null:Pe}function en(Ye,gt){return Ye?(se,Pe)=>Ye(se,Pe)&&gt(se,Pe):gt}Ot.prototype={StopPropagation:kt,ADD:cn,REM:wt,MOD:Ee,ADD_REM:Ie,ADD_MOD:Ce,ALL:fe,REFLOW:rt,SOURCE:Xe,NO_SOURCE:de,NO_FIELDS:Ge,fork(Ye){return new Ot(this.dataflow).init(this,Ye)},clone(){let Ye=this.fork(fe);return Ye.add=Ye.add.slice(),Ye.rem=Ye.rem.slice(),Ye.mod=Ye.mod.slice(),Ye.source&&(Ye.source=Ye.source.slice()),Ye.materialize(fe|Xe)},addAll(){let Ye=this;return!Ye.source||Ye.add===Ye.rem||!Ye.rem.length&&Ye.source.length===Ye.add.length||(Ye=new Ot(this.dataflow).init(this),Ye.add=Ye.source,Ye.rem=[]),Ye},init(Ye,gt){let se=this;return se.stamp=Ye.stamp,se.encode=Ye.encode,Ye.fields&&!(gt&Ge)&&(se.fields=Ye.fields),gt&cn?(se.addF=Ye.addF,se.add=Ye.add):(se.addF=null,se.add=[]),gt&wt?(se.remF=Ye.remF,se.rem=Ye.rem):(se.remF=null,se.rem=[]),gt&Ee?(se.modF=Ye.modF,se.mod=Ye.mod):(se.modF=null,se.mod=[]),gt&de?(se.srcF=null,se.source=null):(se.srcF=Ye.srcF,se.source=Ye.source,Ye.cleans&&(se.cleans=Ye.cleans)),se},runAfter(Ye){this.dataflow.runAfter(Ye)},changed(Ye){let gt=Ye||fe;return gt&cn&&this.add.length||gt&wt&&this.rem.length||gt&Ee&&this.mod.length},reflow(Ye){if(Ye)return this.fork(fe).reflow();let gt=this.add.length,se=this.source&&this.source.length;return se&&se!==gt&&(this.mod=this.source,gt&&this.filter(Ee,zt(this,cn))),this},clean(Ye){return arguments.length?(this.cleans=!!Ye,this):this.cleans},modifies(Ye){let gt=this.fields||(this.fields={});return e.isArray(Ye)?Ye.forEach(se=>gt[se]=!0):gt[Ye]=!0,this},modified(Ye,gt){let se=this.fields;return(gt||this.mod.length)&&se?arguments.length?e.isArray(Ye)?Ye.some(Pe=>se[Pe]):se[Ye]:!!se:!1},filter(Ye,gt){let se=this;return Ye&cn&&(se.addF=en(se.addF,gt)),Ye&wt&&(se.remF=en(se.remF,gt)),Ye&Ee&&(se.modF=en(se.modF,gt)),Ye&Xe&&(se.srcF=en(se.srcF,gt)),se},materialize(Ye){Ye=Ye||fe;let gt=this;return Ye&cn&&gt.addF&&(gt.add=Nt(gt.add,gt.addF),gt.addF=null),Ye&wt&&gt.remF&&(gt.rem=Nt(gt.rem,gt.remF),gt.remF=null),Ye&Ee&&gt.modF&&(gt.mod=Nt(gt.mod,gt.modF),gt.modF=null),Ye&Xe&&gt.srcF&&(gt.source=gt.source.filter(gt.srcF),gt.srcF=null),gt},visit(Ye,gt){let se=this,Pe=gt;if(Ye&Xe)return e.visitArray(se.source,se.srcF,Pe),se;Ye&cn&&e.visitArray(se.add,se.addF,Pe),Ye&wt&&e.visitArray(se.rem,se.remF,Pe),Ye&Ee&&e.visitArray(se.mod,se.modF,Pe);let et=se.source;if(Ye&rt&&et){let At=se.add.length+se.mod.length;At===et.length||(At?e.visitArray(et,zt(se,Ce),Pe):e.visitArray(et,se.srcF,Pe))}return se}};function Xt(Ye,gt,se,Pe){let et=this,At=se.length,fn=0;this.dataflow=Ye,this.stamp=gt,this.fields=null,this.encode=Pe||null,this.pulses=se;for(let on=0;on<At;++on){let ct=se[on];if(ct.stamp===gt){if(ct.fields){let re=et.fields||(et.fields={});for(let Te in ct.fields)re[Te]=1}ct.changed(et.ADD)&&(fn|=et.ADD),ct.changed(et.REM)&&(fn|=et.REM),ct.changed(et.MOD)&&(fn|=et.MOD)}}this.changes=fn}e.inherits(Xt,Ot,{fork(Ye){let gt=new Ot(this.dataflow).init(this,Ye&this.NO_FIELDS);return Ye!==void 0&&(Ye&gt.ADD&&this.visit(gt.ADD,se=>gt.add.push(se)),Ye&gt.REM&&this.visit(gt.REM,se=>gt.rem.push(se)),Ye&gt.MOD&&this.visit(gt.MOD,se=>gt.mod.push(se))),gt},changed(Ye){return this.changes&Ye},modified(Ye){let gt=this,se=gt.fields;return se&&gt.changes&gt.MOD?e.isArray(Ye)?Ye.some(Pe=>se[Pe]):se[Ye]:0},filter(){e.error("MultiPulse does not support filtering.")},materialize(){e.error("MultiPulse does not support materialization.")},visit(Ye,gt){let se=this,Pe=se.pulses,et=Pe.length,At=0;if(Ye&se.SOURCE)for(;At<et;++At)Pe[At].visit(Ye,gt);else for(;At<et;++At)Pe[At].stamp===se.stamp&&Pe[At].visit(Ye,gt);return se}});async function bn(Ye,gt,se){let Pe=this,et=[];if(Pe._pulse)return pn(Pe);if(Pe._pending&&await Pe._pending,gt&&await s(Pe,gt),!Pe._touched.length)return Pe.debug("Dataflow invoked, but nothing to do."),Pe;let At=++Pe._clock;Pe._pulse=new Ot(Pe,At,Ye),Pe._touched.forEach(Te=>Pe._enqueue(Te,!0)),Pe._touched=i(e.id);let fn=0,on,ct,re;try{for(;Pe._heap.size()>0;){if(on=Pe._heap.pop(),on.rank!==on.qrank){Pe._enqueue(on,!0);continue}ct=on.run(Pe._getPulse(on,Ye)),ct.then?ct=await ct:ct.async&&(et.push(ct.async),ct=kt),ct!==kt&&on._targets&&on._targets.forEach(Te=>Pe._enqueue(Te)),++fn}}catch(Te){Pe._heap.clear(),re=Te}if(Pe._input={},Pe._pulse=null,Pe.debug(`Pulse ${At}: ${fn} operators`),re&&(Pe._postrun=[],Pe.error(re)),Pe._postrun.length){let Te=Pe._postrun.sort((je,ht)=>ht.priority-je.priority);Pe._postrun=[];for(let je=0;je<Te.length;++je)await s(Pe,Te[je].callback)}return se&&await s(Pe,se),et.length&&Promise.all(et).then(Te=>Pe.runAsync(null,()=>{Te.forEach(je=>{try{je(Pe)}catch(ht){Pe.error(ht)}})})),Pe}async function Tn(Ye,gt,se){for(;this._running;)await this._running;let Pe=()=>this._running=null;return(this._running=this.evaluate(Ye,gt,se)).then(Pe,Pe),this._running}function Dn(Ye,gt,se){return this._pulse?pn(this):(this.evaluate(Ye,gt,se),this)}function Ut(Ye,gt,se){if(this._pulse||gt)this._postrun.push({priority:se||0,callback:Ye});else try{Ye(this)}catch(Pe){this.error(Pe)}}function pn(Ye){return Ye.error("Dataflow already running. Use runAsync() to chain invocations."),Ye}function qn(Ye,gt){let se=Ye.stamp<this._clock;se&&(Ye.stamp=this._clock),(se||gt)&&(Ye.qrank=Ye.rank,this._heap.push(Ye))}function sr(Ye,gt){let se=Ye.source,Pe=this._clock;return se&&e.isArray(se)?new Xt(this,Pe,se.map(et=>et.pulse),gt):this._input[Ye.id]||In(this._pulse,se&&se.pulse)}function In(Ye,gt){return gt&&gt.stamp===Ye.stamp?gt:(Ye=Ye.fork(),gt&&gt!==kt&&(Ye.source=gt.source),Ye)}let Ne={skip:!1,force:!1};function $e(Ye,gt){let se=gt||Ne;return this._pulse?this._enqueue(Ye):this._touched.add(Ye),se.skip&&Ye.skip(!0),this}function De(Ye,gt,se){let Pe=se||Ne;return(Ye.set(gt)||Pe.force)&&this.touch(Ye,Pe),this}function qt(Ye,gt,se){this.touch(Ye,se||Ne);let Pe=new Ot(this,this._clock+(this._pulse?0:1)),et=Ye.pulse&&Ye.pulse.source||[];return Pe.target=Ye,this._input[Ye.id]=gt.pulse(Pe,et),this}function yt(Ye){let gt=[];return{clear:()=>gt=[],size:()=>gt.length,peek:()=>gt[0],push:se=>(gt.push(se),mt(gt,0,gt.length-1,Ye)),pop:()=>{let se=gt.pop(),Pe;return gt.length?(Pe=gt[0],gt[0]=se,nn(gt,0,Ye)):Pe=se,Pe}}}function mt(Ye,gt,se,Pe){let et,At,fn=Ye[se];for(;se>gt;){if(At=se-1>>1,et=Ye[At],Pe(fn,et)<0){Ye[se]=et,se=At;continue}break}return Ye[se]=fn}function nn(Ye,gt,se){let Pe=gt,et=Ye.length,At=Ye[gt],fn=(gt<<1)+1,on;for(;fn<et;)on=fn+1,on<et&&se(Ye[fn],Ye[on])>=0&&(fn=on),Ye[gt]=Ye[fn],gt=fn,fn=(gt<<1)+1;return Ye[gt]=At,mt(Ye,Pe,gt,se)}function Wt(){this.logger(e.logger()),this.logLevel(e.Error),this._clock=0,this._rank=0,this._locale=r.defaultLocale();try{this._loader=t.loader()}catch{}this._touched=i(e.id),this._input={},this._pulse=null,this._heap=yt((Ye,gt)=>Ye.qrank-gt.qrank),this._postrun=[]}function Fn(Ye){return function(){return this._log[Ye].apply(this,arguments)}}Wt.prototype={stamp(){return this._clock},loader(Ye){return arguments.length?(this._loader=Ye,this):this._loader},locale(Ye){return arguments.length?(this._locale=Ye,this):this._locale},logger(Ye){return arguments.length?(this._log=Ye,this):this._log},error:Fn("error"),warn:Fn("warn"),info:Fn("info"),debug:Fn("debug"),logLevel:Fn("level"),cleanThreshold:1e4,add:ot,connect:at,rank:mn,rerank:Lt,pulse:qt,touch:$e,update:De,changeset:P,ingest:st,parse:te,preload:Re,request:be,events:Ue,on:Je,evaluate:bn,run:Dn,runAsync:Tn,runAfter:Ut,_enqueue:qn,_getPulse:sr};function Qn(Ye,gt){ye.call(this,Ye,null,gt)}e.inherits(Qn,ye,{run(Ye){if(Ye.stamp<this.stamp)return Ye.StopPropagation;let gt;return this.skip()?this.skip(!1):gt=this.evaluate(Ye),gt=gt||Ye,gt.then?gt=gt.then(se=>this.pulse=se):gt!==Ye.StopPropagation&&(this.pulse=gt),gt},evaluate(Ye){let gt=this.marshall(Ye.stamp),se=this.transform(gt,Ye);return gt.clear(),se},transform(){}});let Zn={};function Pn(Ye){let gt=or(Ye);return gt&&gt.Definition||null}function or(Ye){return Ye=Ye&&Ye.toLowerCase(),e.hasOwnProperty(Zn,Ye)?Zn[Ye]:null}n.Dataflow=Wt,n.EventStream=Tt,n.MultiPulse=Xt,n.Operator=ye,n.Parameters=M,n.Pulse=Ot,n.Transform=Qn,n.UniqueList=i,n.asyncCallback=s,n.changeset=P,n.definition=Pn,n.derive=C,n.ingest=b,n.isChangeSet=V,n.isTuple=c,n.rederive=N,n.replace=R,n.stableCompare=U,n.transform=or,n.transforms=Zn,n.tupleid=d,Object.defineProperty(n,"__esModule",{value:!0})})});var Fb=we((kz,IAe)=>{m();(function(n,e){typeof kz=="object"&&typeof IAe!="undefined"?e(kz):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(kz,function(n){"use strict";function*e(Ne,$e){if($e==null)for(let De of Ne)De!=null&&De!==""&&(De=+De)>=De&&(yield De);else{let De=-1;for(let qt of Ne)qt=$e(qt,++De,Ne),qt!=null&&qt!==""&&(qt=+qt)>=qt&&(yield qt)}}function t(Ne,$e){return Ne==null||$e==null?NaN:Ne<$e?-1:Ne>$e?1:Ne>=$e?0:NaN}function r(Ne){return Ne===null?NaN:+Ne}function*i(Ne,$e){if($e===void 0)for(let De of Ne)De!=null&&(De=+De)>=De&&(yield De);else{let De=-1;for(let qt of Ne)(qt=$e(qt,++De,Ne))!=null&&(qt=+qt)>=qt&&(yield qt)}}function s(Ne,$e){let De=0,qt,yt=0,mt=0;if($e===void 0)for(let nn of Ne)nn!=null&&(nn=+nn)>=nn&&(qt=nn-yt,yt+=qt/++De,mt+=qt*(nn-yt));else{let nn=-1;for(let Wt of Ne)(Wt=$e(Wt,++nn,Ne))!=null&&(Wt=+Wt)>=Wt&&(qt=Wt-yt,yt+=qt/++De,mt+=qt*(Wt-yt))}if(De>1)return mt/(De-1)}function o(Ne,$e){let De=s(Ne,$e);return De&&Math.sqrt(De)}function a(Ne=t){if(Ne===t)return c;if(typeof Ne!="function")throw new TypeError("compare is not a function");return($e,De)=>{let qt=Ne($e,De);return qt||qt===0?qt:(Ne(De,De)===0)-(Ne($e,$e)===0)}}function c(Ne,$e){return(Ne==null||!(Ne>=Ne))-($e==null||!($e>=$e))||(Ne<$e?-1:Ne>$e?1:0)}function d(Ne,$e){let De;if($e===void 0)for(let qt of Ne)qt!=null&&(De<qt||De===void 0&&qt>=qt)&&(De=qt);else{let qt=-1;for(let yt of Ne)(yt=$e(yt,++qt,Ne))!=null&&(De<yt||De===void 0&&yt>=yt)&&(De=yt)}return De}function p(Ne,$e){let De;if($e===void 0)for(let qt of Ne)qt!=null&&(De>qt||De===void 0&&qt>=qt)&&(De=qt);else{let qt=-1;for(let yt of Ne)(yt=$e(yt,++qt,Ne))!=null&&(De>yt||De===void 0&&yt>=yt)&&(De=yt)}return De}function b(Ne,$e,De=0,qt=Ne.length-1,yt){for(yt=yt===void 0?c:a(yt);qt>De;){if(qt-De>600){let Fn=qt-De+1,Qn=$e-De+1,Zn=Math.log(Fn),Pn=.5*Math.exp(2*Zn/3),or=.5*Math.sqrt(Zn*Pn*(Fn-Pn)/Fn)*(Qn-Fn/2<0?-1:1),Ye=Math.max(De,Math.floor($e-Qn*Pn/Fn+or)),gt=Math.min(qt,Math.floor($e+(Fn-Qn)*Pn/Fn+or));b(Ne,$e,Ye,gt,yt)}let mt=Ne[$e],nn=De,Wt=qt;for(C(Ne,De,$e),yt(Ne[qt],mt)>0&&C(Ne,De,qt);nn<Wt;){for(C(Ne,nn,Wt),++nn,--Wt;yt(Ne[nn],mt)<0;)++nn;for(;yt(Ne[Wt],mt)>0;)--Wt}yt(Ne[De],mt)===0?C(Ne,De,Wt):(++Wt,C(Ne,Wt,qt)),Wt<=$e&&(De=Wt+1),$e<=Wt&&(qt=Wt-1)}return Ne}function C(Ne,$e,De){let qt=Ne[$e];Ne[$e]=Ne[De],Ne[De]=qt}function N(Ne,$e,De){if(Ne=Float64Array.from(i(Ne,De)),!!(qt=Ne.length)){if(($e=+$e)<=0||qt<2)return p(Ne);if($e>=1)return d(Ne);var qt,yt=(qt-1)*$e,mt=Math.floor(yt),nn=d(b(Ne,mt).subarray(0,mt+1)),Wt=p(Ne.subarray(mt+1));return nn+(Wt-nn)*(yt-mt)}}function R(Ne,$e,De=r){if(!!(qt=Ne.length)){if(($e=+$e)<=0||qt<2)return+De(Ne[0],0,Ne);if($e>=1)return+De(Ne[qt-1],qt-1,Ne);var qt,yt=(qt-1)*$e,mt=Math.floor(yt),nn=+De(Ne[mt],mt,Ne),Wt=+De(Ne[mt+1],mt+1,Ne);return nn+(Wt-nn)*(yt-mt)}}function U(Ne,$e){return N(Ne,.5,$e)}function V(Ne,$e,De){let qt=Float64Array.from(e(Ne,De));return qt.sort(t),$e.map(yt=>R(qt,yt))}function P(Ne,$e){return V(Ne,[.25,.5,.75],$e)}function $(Ne,$e){let De=Ne.length,qt=o(Ne,$e),yt=P(Ne,$e),mt=(yt[2]-yt[0])/1.34,nn=Math.min(qt,mt)||qt||Math.abs(yt[0])||1;return 1.06*nn*Math.pow(De,-.2)}function M(Ne){let $e=Ne.maxbins||20,De=Ne.base||10,qt=Math.log(De),yt=Ne.divide||[5,2],mt=Ne.extent[0],nn=Ne.extent[1],Wt,Fn,Qn,Zn,Pn,or,Ye=Ne.span||nn-mt||Math.abs(mt)||1;if(Ne.step)Wt=Ne.step;else if(Ne.steps){for(Zn=Ye/$e,Pn=0,or=Ne.steps.length;Pn<or&&Ne.steps[Pn]<Zn;++Pn);Wt=Ne.steps[Math.max(0,Pn-1)]}else{for(Fn=Math.ceil(Math.log($e)/qt),Qn=Ne.minstep||0,Wt=Math.max(Qn,Math.pow(De,Math.round(Math.log(Ye)/qt)-Fn));Math.ceil(Ye/Wt)>$e;)Wt*=De;for(Pn=0,or=yt.length;Pn<or;++Pn)Zn=Wt/yt[Pn],Zn>=Qn&&Ye/Zn<=$e&&(Wt=Zn)}Zn=Math.log(Wt);let gt=Zn>=0?0:~~(-Zn/qt)+1,se=Math.pow(De,-gt-1);return(Ne.nice||Ne.nice===void 0)&&(Zn=Math.floor(mt/Wt+se)*Wt,mt=mt<Zn?Zn-Wt:Zn,nn=Math.ceil(nn/Wt)*Wt),{start:mt,stop:nn===mt?mt+Wt:nn,step:Wt}}n.random=Math.random;function G(Ne){n.random=Ne}function ae(Ne,$e,De,qt){if(!Ne.length)return[void 0,void 0];let yt=Float64Array.from(e(Ne,qt)),mt=yt.length,nn=$e,Wt,Fn,Qn,Zn;for(Qn=0,Zn=Array(nn);Qn<nn;++Qn){for(Wt=0,Fn=0;Fn<mt;++Fn)Wt+=yt[~~(n.random()*mt)];Zn[Qn]=Wt/mt}return Zn.sort(t),[N(Zn,De/2),N(Zn,1-De/2)]}function I(Ne,$e,De,qt){qt=qt||(or=>or);let yt=Ne.length,mt=new Float64Array(yt),nn=0,Wt=1,Fn=qt(Ne[0]),Qn=Fn,Zn=Fn+$e,Pn;for(;Wt<yt;++Wt){if(Pn=qt(Ne[Wt]),Pn>=Zn){for(Qn=(Fn+Qn)/2;nn<Wt;++nn)mt[nn]=Qn;Zn=Pn+$e,Fn=Pn}Qn=Pn}for(Qn=(Fn+Qn)/2;nn<Wt;++nn)mt[nn]=Qn;return De?Z(mt,$e+$e/4):mt}function Z(Ne,$e){let De=Ne.length,qt=0,yt=1,mt,nn;for(;Ne[qt]===Ne[yt];)++yt;for(;yt<De;){for(mt=yt+1;Ne[yt]===Ne[mt];)++mt;if(Ne[yt]-Ne[yt-1]<$e){for(nn=yt+(qt+mt-yt-yt>>1);nn<yt;)Ne[nn++]=Ne[yt];for(;nn>yt;)Ne[nn--]=Ne[qt]}qt=yt,yt=mt}return Ne}function me(Ne){return function(){return Ne=(1103515245*Ne+12345)%2147483647,Ne/2147483647}}function ye(Ne,$e){$e==null&&($e=Ne,Ne=0);let De,qt,yt,mt={min(nn){return arguments.length?(De=nn||0,yt=qt-De,mt):De},max(nn){return arguments.length?(qt=nn||0,yt=qt-De,mt):qt},sample(){return De+Math.floor(yt*n.random())},pdf(nn){return nn===Math.floor(nn)&&nn>=De&&nn<qt?1/yt:0},cdf(nn){let Wt=Math.floor(nn);return Wt<De?0:Wt>=qt?1:(Wt-De+1)/yt},icdf(nn){return nn>=0&&nn<=1?De-1+Math.floor(nn*yt):NaN}};return mt.min(Ne).max($e)}let He=Math.sqrt(2*Math.PI),ot=Math.SQRT2,at=NaN;function Ze(Ne,$e){Ne=Ne||0,$e=$e??1;let De=0,qt=0,yt,mt;if(at===at)De=at,at=NaN;else{do De=n.random()*2-1,qt=n.random()*2-1,yt=De*De+qt*qt;while(yt===0||yt>1);mt=Math.sqrt(-2*Math.log(yt)/yt),De*=mt,at=qt*mt}return Ne+De*$e}function Tt(Ne,$e,De){De=De??1;let qt=(Ne-($e||0))/De;return Math.exp(-.5*qt*qt)/(De*He)}function Mt(Ne,$e,De){$e=$e||0,De=De??1;let qt=(Ne-$e)/De,yt=Math.abs(qt),mt;if(yt>37)mt=0;else{let nn=Math.exp(-yt*yt/2),Wt;yt<7.07106781186547?(Wt=.0352624965998911*yt+.700383064443688,Wt=Wt*yt+6.37396220353165,Wt=Wt*yt+33.912866078383,Wt=Wt*yt+112.079291497871,Wt=Wt*yt+221.213596169931,Wt=Wt*yt+220.206867912376,mt=nn*Wt,Wt=.0883883476483184*yt+1.75566716318264,Wt=Wt*yt+16.064177579207,Wt=Wt*yt+86.7807322029461,Wt=Wt*yt+296.564248779674,Wt=Wt*yt+637.333633378831,Wt=Wt*yt+793.826512519948,Wt=Wt*yt+440.413735824752,mt=mt/Wt):(Wt=yt+.65,Wt=yt+4/Wt,Wt=yt+3/Wt,Wt=yt+2/Wt,Wt=yt+1/Wt,mt=nn/Wt/2.506628274631)}return qt>0?1-mt:mt}function Ue(Ne,$e,De){return Ne<0||Ne>1?NaN:($e||0)+(De??1)*ot*te(2*Ne-1)}function te(Ne){let $e=-Math.log((1-Ne)*(1+Ne)),De;return $e<6.25?($e-=3.125,De=-364441206401782e-35,De=-16850591381820166e-35+De*$e,De=128584807152564e-32+De*$e,De=11157877678025181e-33+De*$e,De=-1333171662854621e-31+De*$e,De=20972767875968562e-33+De*$e,De=6637638134358324e-30+De*$e,De=-4054566272975207e-29+De*$e,De=-8151934197605472e-29+De*$e,De=26335093153082323e-28+De*$e,De=-12975133253453532e-27+De*$e,De=-5415412054294628e-26+De*$e,De=10512122733215323e-25+De*$e,De=-4112633980346984e-24+De*$e,De=-29070369957882005e-24+De*$e,De=42347877827932404e-23+De*$e,De=-13654692000834679e-22+De*$e,De=-13882523362786469e-21+De*$e,De=.00018673420803405714+De*$e,De=-.000740702534166267+De*$e,De=-.006033670871430149+De*$e,De=.24015818242558962+De*$e,De=1.6536545626831027+De*$e):$e<16?($e=Math.sqrt($e)-3.25,De=22137376921775787e-25,De=9075656193888539e-23+De*$e,De=-27517406297064545e-23+De*$e,De=18239629214389228e-24+De*$e,De=15027403968909828e-22+De*$e,De=-4013867526981546e-21+De*$e,De=29234449089955446e-22+De*$e,De=12475304481671779e-21+De*$e,De=-47318229009055734e-21+De*$e,De=6828485145957318e-20+De*$e,De=24031110387097894e-21+De*$e,De=-.0003550375203628475+De*$e,De=.0009532893797373805+De*$e,De=-.0016882755560235047+De*$e,De=.002491442096107851+De*$e,De=-.003751208507569241+De*$e,De=.005370914553590064+De*$e,De=1.0052589676941592+De*$e,De=3.0838856104922208+De*$e):Number.isFinite($e)?($e=Math.sqrt($e)-5,De=-27109920616438573e-27,De=-2555641816996525e-25+De*$e,De=15076572693500548e-25+De*$e,De=-3789465440126737e-24+De*$e,De=761570120807834e-23+De*$e,De=-1496002662714924e-23+De*$e,De=2914795345090108e-23+De*$e,De=-6771199775845234e-23+De*$e,De=22900482228026655e-23+De*$e,De=-99298272942317e-20+De*$e,De=4526062597223154e-21+De*$e,De=-1968177810553167e-20+De*$e,De=7599527703001776e-20+De*$e,De=-.00021503011930044477+De*$e,De=-.00013871931833623122+De*$e,De=1.0103004648645344+De*$e,De=4.849906401408584+De*$e):De=1/0,De*Ne}function st(Ne,$e){let De,qt,yt={mean(mt){return arguments.length?(De=mt||0,yt):De},stdev(mt){return arguments.length?(qt=mt??1,yt):qt},sample:()=>Ze(De,qt),pdf:mt=>Tt(mt,De,qt),cdf:mt=>Mt(mt,De,qt),icdf:mt=>Ue(mt,De,qt)};return yt.mean(Ne).stdev($e)}function be(Ne,$e){let De=st(),qt=0,yt={data(mt){return arguments.length?(Ne=mt,qt=mt?mt.length:0,yt.bandwidth($e)):Ne},bandwidth(mt){return arguments.length?($e=mt,!$e&&Ne&&($e=$(Ne)),yt):$e},sample(){return Ne[~~(n.random()*qt)]+$e*De.sample()},pdf(mt){let nn=0,Wt=0;for(;Wt<qt;++Wt)nn+=De.pdf((mt-Ne[Wt])/$e);return nn/$e/qt},cdf(mt){let nn=0,Wt=0;for(;Wt<qt;++Wt)nn+=De.cdf((mt-Ne[Wt])/$e);return nn/qt},icdf(){throw Error("KDE icdf not supported.")}};return yt.data(Ne)}function Re(Ne,$e){return Ne=Ne||0,$e=$e??1,Math.exp(Ne+Ze()*$e)}function Ae(Ne,$e,De){if(Ne<=0)return 0;$e=$e||0,De=De??1;let qt=(Math.log(Ne)-$e)/De;return Math.exp(-.5*qt*qt)/(De*He*Ne)}function xe(Ne,$e,De){return Mt(Math.log(Ne),$e,De)}function Je(Ne,$e,De){return Math.exp(Ue(Ne,$e,De))}function lt(Ne,$e){let De,qt,yt={mean(mt){return arguments.length?(De=mt||0,yt):De},stdev(mt){return arguments.length?(qt=mt??1,yt):qt},sample:()=>Re(De,qt),pdf:mt=>Ae(mt,De,qt),cdf:mt=>xe(mt,De,qt),icdf:mt=>Je(mt,De,qt)};return yt.mean(Ne).stdev($e)}function Qt(Ne,$e){let De=0,qt;function yt(nn){let Wt=[],Fn=0,Qn;for(Qn=0;Qn<De;++Qn)Fn+=Wt[Qn]=nn[Qn]==null?1:+nn[Qn];for(Qn=0;Qn<De;++Qn)Wt[Qn]/=Fn;return Wt}let mt={weights(nn){return arguments.length?(qt=yt($e=nn||[]),mt):$e},distributions(nn){return arguments.length?(nn?(De=nn.length,Ne=nn):(De=0,Ne=[]),mt.weights($e)):Ne},sample(){let nn=n.random(),Wt=Ne[De-1],Fn=qt[0],Qn=0;for(;Qn<De-1;Fn+=qt[++Qn])if(nn<Fn){Wt=Ne[Qn];break}return Wt.sample()},pdf(nn){let Wt=0,Fn=0;for(;Fn<De;++Fn)Wt+=qt[Fn]*Ne[Fn].pdf(nn);return Wt},cdf(nn){let Wt=0,Fn=0;for(;Fn<De;++Fn)Wt+=qt[Fn]*Ne[Fn].cdf(nn);return Wt},icdf(){throw Error("Mixture icdf not supported.")}};return mt.distributions(Ne).weights($e)}function Et(Ne,$e){return $e==null&&($e=Ne??1,Ne=0),Ne+($e-Ne)*n.random()}function mn(Ne,$e,De){return De==null&&(De=$e??1,$e=0),Ne>=$e&&Ne<=De?1/(De-$e):0}function Lt(Ne,$e,De){return De==null&&(De=$e??1,$e=0),Ne<$e?0:Ne>De?1:(Ne-$e)/(De-$e)}function kt(Ne,$e,De){return De==null&&(De=$e??1,$e=0),Ne>=0&&Ne<=1?$e+Ne*(De-$e):NaN}function cn(Ne,$e){let De,qt,yt={min(mt){return arguments.length?(De=mt||0,yt):De},max(mt){return arguments.length?(qt=mt??1,yt):qt},sample:()=>Et(De,qt),pdf:mt=>mn(mt,De,qt),cdf:mt=>Lt(mt,De,qt),icdf:mt=>kt(mt,De,qt)};return $e==null&&($e=Ne??1,Ne=0),yt.min(Ne).max($e)}function wt(Ne,$e,De,qt){let yt=qt-Ne*Ne,mt=Math.abs(yt)<1e-24?0:(De-Ne*$e)/yt;return[$e-mt*Ne,mt]}function Ee(Ne,$e,De,qt){Ne=Ne.filter(Ye=>{let gt=$e(Ye),se=De(Ye);return gt!=null&&(gt=+gt)>=gt&&se!=null&&(se=+se)>=se}),qt&&Ne.sort((Ye,gt)=>$e(Ye)-$e(gt));let yt=Ne.length,mt=new Float64Array(yt),nn=new Float64Array(yt),Wt=0,Fn=0,Qn=0,Zn,Pn,or;for(or of Ne)mt[Wt]=Zn=+$e(or),nn[Wt]=Pn=+De(or),++Wt,Fn+=(Zn-Fn)/Wt,Qn+=(Pn-Qn)/Wt;for(Wt=0;Wt<yt;++Wt)mt[Wt]-=Fn,nn[Wt]-=Qn;return[mt,nn,Fn,Qn]}function Ie(Ne,$e,De,qt){let yt=-1,mt,nn;for(let Wt of Ne)mt=$e(Wt),nn=De(Wt),mt!=null&&(mt=+mt)>=mt&&nn!=null&&(nn=+nn)>=nn&&qt(mt,nn,++yt)}function Ce(Ne,$e,De,qt,yt){let mt=0,nn=0;return Ie(Ne,$e,De,(Wt,Fn)=>{let Qn=Fn-yt(Wt),Zn=Fn-qt;mt+=Qn*Qn,nn+=Zn*Zn}),1-mt/nn}function fe(Ne,$e,De){let qt=0,yt=0,mt=0,nn=0,Wt=0;Ie(Ne,$e,De,(Zn,Pn)=>{++Wt,qt+=(Zn-qt)/Wt,yt+=(Pn-yt)/Wt,mt+=(Zn*Pn-mt)/Wt,nn+=(Zn*Zn-nn)/Wt});let Fn=wt(qt,yt,mt,nn),Qn=Zn=>Fn[0]+Fn[1]*Zn;return{coef:Fn,predict:Qn,rSquared:Ce(Ne,$e,De,yt,Qn)}}function rt(Ne,$e,De){let qt=0,yt=0,mt=0,nn=0,Wt=0;Ie(Ne,$e,De,(Zn,Pn)=>{++Wt,Zn=Math.log(Zn),qt+=(Zn-qt)/Wt,yt+=(Pn-yt)/Wt,mt+=(Zn*Pn-mt)/Wt,nn+=(Zn*Zn-nn)/Wt});let Fn=wt(qt,yt,mt,nn),Qn=Zn=>Fn[0]+Fn[1]*Math.log(Zn);return{coef:Fn,predict:Qn,rSquared:Ce(Ne,$e,De,yt,Qn)}}function Xe(Ne,$e,De){let[qt,yt,mt,nn]=Ee(Ne,$e,De),Wt=0,Fn=0,Qn=0,Zn=0,Pn=0,or,Ye,gt;Ie(Ne,$e,De,(At,fn)=>{or=qt[Pn++],Ye=Math.log(fn),gt=or*fn,Wt+=(fn*Ye-Wt)/Pn,Fn+=(gt-Fn)/Pn,Qn+=(gt*Ye-Qn)/Pn,Zn+=(or*gt-Zn)/Pn});let[se,Pe]=wt(Fn/nn,Wt/nn,Qn/nn,Zn/nn),et=At=>Math.exp(se+Pe*(At-mt));return{coef:[Math.exp(se-Pe*mt),Pe],predict:et,rSquared:Ce(Ne,$e,De,nn,et)}}function de(Ne,$e,De){let qt=0,yt=0,mt=0,nn=0,Wt=0,Fn=0;Ie(Ne,$e,De,(Pn,or)=>{let Ye=Math.log(Pn),gt=Math.log(or);++Fn,qt+=(Ye-qt)/Fn,yt+=(gt-yt)/Fn,mt+=(Ye*gt-mt)/Fn,nn+=(Ye*Ye-nn)/Fn,Wt+=(or-Wt)/Fn});let Qn=wt(qt,yt,mt,nn),Zn=Pn=>Qn[0]*Math.pow(Pn,Qn[1]);return Qn[0]=Math.exp(Qn[0]),{coef:Qn,predict:Zn,rSquared:Ce(Ne,$e,De,Wt,Zn)}}function Ge(Ne,$e,De){let[qt,yt,mt,nn]=Ee(Ne,$e,De),Wt=qt.length,Fn=0,Qn=0,Zn=0,Pn=0,or=0,Ye,gt,se,Pe;for(Ye=0;Ye<Wt;)gt=qt[Ye],se=yt[Ye++],Pe=gt*gt,Fn+=(Pe-Fn)/Ye,Qn+=(Pe*gt-Qn)/Ye,Zn+=(Pe*Pe-Zn)/Ye,Pn+=(gt*se-Pn)/Ye,or+=(Pe*se-or)/Ye;let et=Zn-Fn*Fn,At=Fn*et-Qn*Qn,fn=(or*Fn-Pn*Qn)/At,on=(Pn*et-or*Qn)/At,ct=-fn*Fn,re=Te=>(Te=Te-mt,fn*Te*Te+on*Te+ct+nn);return{coef:[ct-on*mt+fn*mt*mt+nn,on-2*fn*mt,fn],predict:re,rSquared:Ce(Ne,$e,De,nn,re)}}function Ot(Ne,$e,De,qt){if(qt===1)return fe(Ne,$e,De);if(qt===2)return Ge(Ne,$e,De);let[yt,mt,nn,Wt]=Ee(Ne,$e,De),Fn=yt.length,Qn=[],Zn=[],Pn=qt+1,or,Ye,gt,se,Pe;for(or=0;or<Pn;++or){for(gt=0,se=0;gt<Fn;++gt)se+=Math.pow(yt[gt],or)*mt[gt];for(Qn.push(se),Pe=new Float64Array(Pn),Ye=0;Ye<Pn;++Ye){for(gt=0,se=0;gt<Fn;++gt)se+=Math.pow(yt[gt],or+Ye);Pe[Ye]=se}Zn.push(Pe)}Zn.push(Qn);let et=zt(Zn),At=fn=>{fn-=nn;let on=Wt+et[0]+et[1]*fn+et[2]*fn*fn;for(or=3;or<Pn;++or)on+=et[or]*Math.pow(fn,or);return on};return{coef:Nt(Pn,et,-nn,Wt),predict:At,rSquared:Ce(Ne,$e,De,Wt,At)}}function Nt(Ne,$e,De,qt){let yt=Array(Ne),mt,nn,Wt,Fn;for(mt=0;mt<Ne;++mt)yt[mt]=0;for(mt=Ne-1;mt>=0;--mt)for(Wt=$e[mt],Fn=1,yt[mt]+=Wt,nn=1;nn<=mt;++nn)Fn*=(mt+1-nn)/nn,yt[mt-nn]+=Wt*Math.pow(De,nn)*Fn;return yt[0]+=qt,yt}function zt(Ne){let $e=Ne.length-1,De=[],qt,yt,mt,nn,Wt;for(qt=0;qt<$e;++qt){for(nn=qt,yt=qt+1;yt<$e;++yt)Math.abs(Ne[qt][yt])>Math.abs(Ne[qt][nn])&&(nn=yt);for(mt=qt;mt<$e+1;++mt)Wt=Ne[mt][qt],Ne[mt][qt]=Ne[mt][nn],Ne[mt][nn]=Wt;for(yt=qt+1;yt<$e;++yt)for(mt=$e;mt>=qt;mt--)Ne[mt][yt]-=Ne[mt][qt]*Ne[qt][yt]/Ne[qt][qt]}for(yt=$e-1;yt>=0;--yt){for(Wt=0,mt=yt+1;mt<$e;++mt)Wt+=Ne[mt][yt]*De[mt];De[yt]=(Ne[$e][yt]-Wt)/Ne[yt][yt]}return De}let en=2,Xt=1e-12;function bn(Ne,$e,De,qt){let[yt,mt,nn,Wt]=Ee(Ne,$e,De,!0),Fn=yt.length,Qn=Math.max(2,~~(qt*Fn)),Zn=new Float64Array(Fn),Pn=new Float64Array(Fn),or=new Float64Array(Fn).fill(1);for(let Ye=-1;++Ye<=en;){let gt=[0,Qn-1];for(let Pe=0;Pe<Fn;++Pe){let et=yt[Pe],At=gt[0],fn=gt[1],on=et-yt[At]>yt[fn]-et?At:fn,ct=0,re=0,Te=0,je=0,ht=0,vt=1/Math.abs(yt[on]-et||1);for(let Se=At;Se<=fn;++Se){let Ve=yt[Se],nt=mt[Se],Bt=Tn(Math.abs(et-Ve)*vt)*or[Se],rn=Ve*Bt;ct+=Bt,re+=rn,Te+=nt*Bt,je+=nt*rn,ht+=Ve*rn}let[Ft,ne]=wt(re/ct,Te/ct,je/ct,ht/ct);Zn[Pe]=Ft+ne*et,Pn[Pe]=Math.abs(mt[Pe]-Zn[Pe]),Dn(yt,Pe+1,gt)}if(Ye===en)break;let se=U(Pn);if(Math.abs(se)<Xt)break;for(let Pe=0,et,At;Pe<Fn;++Pe)et=Pn[Pe]/(6*se),or[Pe]=et>=1?Xt:(At=1-et*et)*At}return Ut(yt,Zn,nn,Wt)}function Tn(Ne){return(Ne=1-Ne*Ne*Ne)*Ne*Ne}function Dn(Ne,$e,De){let qt=Ne[$e],yt=De[0],mt=De[1]+1;if(!(mt>=Ne.length))for(;$e>yt&&Ne[mt]-qt<=qt-Ne[yt];)De[0]=++yt,De[1]=mt,++mt}function Ut(Ne,$e,De,qt){let yt=Ne.length,mt=[],nn=0,Wt=0,Fn=[],Qn;for(;nn<yt;++nn)Qn=Ne[nn]+De,Fn[0]===Qn?Fn[1]+=($e[nn]-Fn[1])/++Wt:(Wt=0,Fn[1]+=qt,Fn=[Qn,$e[nn]],mt.push(Fn));return Fn[1]+=qt,mt}let pn=.5*Math.PI/180;function qn(Ne,$e,De,qt){De=De||25,qt=Math.max(De,qt||200);let yt=se=>[se,Ne(se)],mt=$e[0],nn=$e[1],Wt=nn-mt,Fn=Wt/qt,Qn=[yt(mt)],Zn=[];if(De===qt){for(let se=1;se<qt;++se)Qn.push(yt(mt+se/De*Wt));return Qn.push(yt(nn)),Qn}else{Zn.push(yt(nn));for(let se=De;--se>0;)Zn.push(yt(mt+se/De*Wt))}let Pn=Qn[0],or=Zn[Zn.length-1],Ye=1/Wt,gt=sr(Pn[1],Zn);for(;or;){let se=yt((Pn[0]+or[0])/2);se[0]-Pn[0]>=Fn&&In(Pn,se,or,Ye,gt)>pn?Zn.push(se):(Pn=or,Qn.push(or),Zn.pop()),or=Zn[Zn.length-1]}return Qn}function sr(Ne,$e){let De=Ne,qt=Ne,yt=$e.length;for(let mt=0;mt<yt;++mt){let nn=$e[mt][1];nn<De&&(De=nn),nn>qt&&(qt=nn)}return 1/(qt-De)}function In(Ne,$e,De,qt,yt){let mt=Math.atan2(yt*(De[1]-Ne[1]),qt*(De[0]-Ne[0])),nn=Math.atan2(yt*($e[1]-Ne[1]),qt*($e[0]-Ne[0]));return Math.abs(mt-nn)}n.bandwidthNRD=$,n.bin=M,n.bootstrapCI=ae,n.cumulativeLogNormal=xe,n.cumulativeNormal=Mt,n.cumulativeUniform=Lt,n.densityLogNormal=Ae,n.densityNormal=Tt,n.densityUniform=mn,n.dotbin=I,n.quantileLogNormal=Je,n.quantileNormal=Ue,n.quantileUniform=kt,n.quantiles=V,n.quartiles=P,n.randomInteger=ye,n.randomKDE=be,n.randomLCG=me,n.randomLogNormal=lt,n.randomMixture=Qt,n.randomNormal=st,n.randomUniform=cn,n.regressionExp=Xe,n.regressionLinear=fe,n.regressionLoess=bn,n.regressionLog=rt,n.regressionPoly=Ot,n.regressionPow=de,n.regressionQuad=Ge,n.sampleCurve=qn,n.sampleLogNormal=Re,n.sampleNormal=Ze,n.sampleUniform=Et,n.setRandom=G,Object.defineProperty(n,"__esModule",{value:!0})})});var PAe=we((Iz,MAe)=>{m();(function(n,e){typeof Iz=="object"&&typeof MAe!="undefined"?e(Iz,Su(),Jf(),Fb(),v9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})(Iz,function(n,e,t,r,i){"use strict";function s(S){return B=>{let ee=S.length,_e=1,ft=String(S[0](B));for(;_e<ee;++_e)ft+="|"+S[_e](B);return ft}}function o(S){return!S||!S.length?function(){return""}:S.length===1?S[0]:s(S)}function a(S,B,ee){return ee||S+(B?"_"+B:"")}let c=()=>{},d={init:c,add:c,rem:c,idx:0},p={values:{init:S=>S.cell.store=!0,value:S=>S.cell.data.values(),idx:-1},count:{value:S=>S.cell.num},__count__:{value:S=>S.missing+S.valid},missing:{value:S=>S.missing},valid:{value:S=>S.valid},sum:{init:S=>S.sum=0,value:S=>S.sum,add:(S,B)=>S.sum+=+B,rem:(S,B)=>S.sum-=B},product:{init:S=>S.product=1,value:S=>S.valid?S.product:void 0,add:(S,B)=>S.product*=B,rem:(S,B)=>S.product/=B},mean:{init:S=>S.mean=0,value:S=>S.valid?S.mean:void 0,add:(S,B)=>(S.mean_d=B-S.mean,S.mean+=S.mean_d/S.valid),rem:(S,B)=>(S.mean_d=B-S.mean,S.mean-=S.valid?S.mean_d/S.valid:S.mean)},average:{value:S=>S.valid?S.mean:void 0,req:["mean"],idx:1},variance:{init:S=>S.dev=0,value:S=>S.valid>1?S.dev/(S.valid-1):void 0,add:(S,B)=>S.dev+=S.mean_d*(B-S.mean),rem:(S,B)=>S.dev-=S.mean_d*(B-S.mean),req:["mean"],idx:1},variancep:{value:S=>S.valid>1?S.dev/S.valid:void 0,req:["variance"],idx:2},stdev:{value:S=>S.valid>1?Math.sqrt(S.dev/(S.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:S=>S.valid>1?Math.sqrt(S.dev/S.valid):void 0,req:["variance"],idx:2},stderr:{value:S=>S.valid>1?Math.sqrt(S.dev/(S.valid*(S.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:S=>S.cell.data.distinct(S.get),req:["values"],idx:3},ci0:{value:S=>S.cell.data.ci0(S.get),req:["values"],idx:3},ci1:{value:S=>S.cell.data.ci1(S.get),req:["values"],idx:3},median:{value:S=>S.cell.data.q2(S.get),req:["values"],idx:3},q1:{value:S=>S.cell.data.q1(S.get),req:["values"],idx:3},q3:{value:S=>S.cell.data.q3(S.get),req:["values"],idx:3},min:{init:S=>S.min=void 0,value:S=>S.min=Number.isNaN(S.min)?S.cell.data.min(S.get):S.min,add:(S,B)=>{(B<S.min||S.min===void 0)&&(S.min=B)},rem:(S,B)=>{B<=S.min&&(S.min=NaN)},req:["values"],idx:4},max:{init:S=>S.max=void 0,value:S=>S.max=Number.isNaN(S.max)?S.cell.data.max(S.get):S.max,add:(S,B)=>{(B>S.max||S.max===void 0)&&(S.max=B)},rem:(S,B)=>{B>=S.max&&(S.max=NaN)},req:["values"],idx:4},argmin:{init:S=>S.argmin=void 0,value:S=>S.argmin||S.cell.data.argmin(S.get),add:(S,B,ee)=>{B<S.min&&(S.argmin=ee)},rem:(S,B)=>{B<=S.min&&(S.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:S=>S.argmax=void 0,value:S=>S.argmax||S.cell.data.argmax(S.get),add:(S,B,ee)=>{B>S.max&&(S.argmax=ee)},rem:(S,B)=>{B>=S.max&&(S.argmax=void 0)},req:["max","values"],idx:3}},b=Object.keys(p);function C(S,B){return ee=>e.extend({name:S,out:ee||S},d,B)}b.forEach(S=>{p[S]=C(S,p[S])});function N(S,B){return p[S](B)}function R(S,B){return S.idx-B.idx}function U(S){let B={};S.forEach(_e=>B[_e.name]=_e);let ee=_e=>{!_e.req||_e.req.forEach(ft=>{B[ft]||ee(B[ft]=p[ft]())})};return S.forEach(ee),Object.values(B).sort(R)}function V(){this.valid=0,this.missing=0,this._ops.forEach(S=>S.init(this))}function P(S,B){if(S==null||S===""){++this.missing;return}S===S&&(++this.valid,this._ops.forEach(ee=>ee.add(this,S,B)))}function $(S,B){if(S==null||S===""){--this.missing;return}S===S&&(--this.valid,this._ops.forEach(ee=>ee.rem(this,S,B)))}function M(S){return this._out.forEach(B=>S[B.out]=B.value(this)),S}function G(S,B){let ee=B||e.identity,_e=U(S),ft=S.slice().sort(R);function St(Jt){this._ops=_e,this._out=ft,this.cell=Jt,this.init()}return St.prototype.init=V,St.prototype.add=P,St.prototype.rem=$,St.prototype.set=M,St.prototype.get=ee,St.fields=S.map(Jt=>Jt.out),St}function ae(S){this._key=S?e.field(S):t.tupleid,this.reset()}let I=ae.prototype;I.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},I.add=function(S){this._add.push(S)},I.rem=function(S){this._rem.push(S)},I.values=function(){if(this._get=null,this._rem.length===0)return this._add;let S=this._add,B=this._rem,ee=this._key,_e=S.length,ft=B.length,St=Array(_e-ft),Jt={},Kt,hn,Bn;for(Kt=0;Kt<ft;++Kt)Jt[ee(B[Kt])]=1;for(Kt=0,hn=0;Kt<_e;++Kt)Jt[ee(Bn=S[Kt])]?Jt[ee(Bn)]=0:St[hn++]=Bn;return this._rem=[],this._add=St},I.distinct=function(S){let B=this.values(),ee={},_e=B.length,ft=0,St;for(;--_e>=0;)St=S(B[_e])+"",e.hasOwnProperty(ee,St)||(ee[St]=1,++ft);return ft},I.extent=function(S){if(this._get!==S||!this._ext){let B=this.values(),ee=e.extentIndex(B,S);this._ext=[B[ee[0]],B[ee[1]]],this._get=S}return this._ext},I.argmin=function(S){return this.extent(S)[0]||{}},I.argmax=function(S){return this.extent(S)[1]||{}},I.min=function(S){let B=this.extent(S)[0];return B!=null?S(B):void 0},I.max=function(S){let B=this.extent(S)[1];return B!=null?S(B):void 0},I.quartile=function(S){return(this._get!==S||!this._q)&&(this._q=r.quartiles(this.values(),S),this._get=S),this._q},I.q1=function(S){return this.quartile(S)[0]},I.q2=function(S){return this.quartile(S)[1]},I.q3=function(S){return this.quartile(S)[2]},I.ci=function(S){return(this._get!==S||!this._ci)&&(this._ci=r.bootstrapCI(this.values(),1e3,.05,S),this._get=S),this._ci},I.ci0=function(S){return this.ci(S)[0]},I.ci1=function(S){return this.ci(S)[1]};function Z(S){t.Transform.call(this,null,S),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Z.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:b},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},e.inherits(Z,t.Transform,{transform(S,B){let ee=this,_e=B.fork(B.NO_SOURCE|B.NO_FIELDS),ft=S.modified();return ee.stamp=_e.stamp,ee.value&&(ft||B.modified(ee._inputs,!0))?(ee._prev=ee.value,ee.value=ft?ee.init(S):{},B.visit(B.SOURCE,St=>ee.add(St))):(ee.value=ee.value||ee.init(S),B.visit(B.REM,St=>ee.rem(St)),B.visit(B.ADD,St=>ee.add(St))),_e.modifies(ee._outputs),ee._drop=S.drop!==!1,S.cross&&ee._dims.length>1&&(ee._drop=!1,ee.cross()),B.clean()&&ee._drop&&_e.clean(!0).runAfter(()=>this.clean()),ee.changes(_e)},cross(){let S=this,B=S.value,ee=S._dnames,_e=ee.map(()=>({})),ft=ee.length;function St(Kt){let hn,Bn,jn,Vn;for(hn in Kt)for(jn=Kt[hn].tuple,Bn=0;Bn<ft;++Bn)_e[Bn][Vn=jn[ee[Bn]]]=Vn}St(S._prev),St(B);function Jt(Kt,hn,Bn){let jn=ee[Bn],Vn=_e[Bn++];for(let Jr in Vn){let Vr=Kt?Kt+"|"+Jr:Jr;hn[jn]=Vn[Jr],Bn<ft?Jt(Vr,hn,Bn):B[Vr]||S.cell(Vr,hn)}}Jt("",{},0)},init(S){let B=this._inputs=[],ee=this._outputs=[],_e={};function ft(xi){let ai=e.array(e.accessorFields(xi)),Ji=ai.length,Es=0,es;for(;Es<Ji;++Es)_e[es=ai[Es]]||(_e[es]=1,B.push(es))}this._dims=e.array(S.groupby),this._dnames=this._dims.map(xi=>{let ai=e.accessorName(xi);return ft(xi),ee.push(ai),ai}),this.cellkey=S.key?S.key:o(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];let St=S.fields||[null],Jt=S.ops||["count"],Kt=S.as||[],hn=St.length,Bn={},jn,Vn,Jr,Vr,yr,Mr;for(hn!==Jt.length&&e.error("Unmatched number of fields and aggregate ops."),Mr=0;Mr<hn;++Mr){if(jn=St[Mr],Vn=Jt[Mr],jn==null&&Vn!=="count"&&e.error("Null aggregate field specified."),Vr=e.accessorName(jn),yr=a(Vn,Vr,Kt[Mr]),ee.push(yr),Vn==="count"){this._counts.push(yr);continue}Jr=Bn[Vr],Jr||(ft(jn),Jr=Bn[Vr]=[],Jr.field=jn,this._measures.push(Jr)),Vn!=="count"&&(this._countOnly=!1),Jr.push(N(Vn,yr))}return this._measures=this._measures.map(xi=>G(xi,xi.field)),{}},cellkey:o(),cell(S,B){let ee=this.value[S];return ee?ee.num===0&&this._drop&&ee.stamp<this.stamp?(ee.stamp=this.stamp,this._adds[this._alen++]=ee):ee.stamp<this.stamp&&(ee.stamp=this.stamp,this._mods[this._mlen++]=ee):(ee=this.value[S]=this.newcell(S,B),this._adds[this._alen++]=ee),ee},newcell(S,B){let ee={key:S,num:0,agg:null,tuple:this.newtuple(B,this._prev&&this._prev[S]),stamp:this.stamp,store:!1};if(!this._countOnly){let _e=this._measures,ft=_e.length;ee.agg=Array(ft);for(let St=0;St<ft;++St)ee.agg[St]=new _e[St](ee)}return ee.store&&(ee.data=new ae),ee},newtuple(S,B){let ee=this._dnames,_e=this._dims,ft=_e.length,St={};for(let Jt=0;Jt<ft;++Jt)St[ee[Jt]]=_e[Jt](S);return B?t.replace(B.tuple,St):t.ingest(St)},clean(){let S=this.value;for(let B in S)S[B].num===0&&delete S[B]},add(S){let B=this.cellkey(S),ee=this.cell(B,S);if(ee.num+=1,this._countOnly)return;ee.store&&ee.data.add(S);let _e=ee.agg;for(let ft=0,St=_e.length;ft<St;++ft)_e[ft].add(_e[ft].get(S),S)},rem(S){let B=this.cellkey(S),ee=this.cell(B,S);if(ee.num-=1,this._countOnly)return;ee.store&&ee.data.rem(S);let _e=ee.agg;for(let ft=0,St=_e.length;ft<St;++ft)_e[ft].rem(_e[ft].get(S),S)},celltuple(S){let B=S.tuple,ee=this._counts;S.store&&S.data.values();for(let _e=0,ft=ee.length;_e<ft;++_e)B[ee[_e]]=S.num;if(!this._countOnly){let _e=S.agg;for(let ft=0,St=_e.length;ft<St;++ft)_e[ft].set(B)}return B},changes(S){let B=this._adds,ee=this._mods,_e=this._prev,ft=this._drop,St=S.add,Jt=S.rem,Kt=S.mod,hn,Bn,jn,Vn;if(_e)for(Bn in _e)hn=_e[Bn],(!ft||hn.num)&&Jt.push(hn.tuple);for(jn=0,Vn=this._alen;jn<Vn;++jn)St.push(this.celltuple(B[jn])),B[jn]=null;for(jn=0,Vn=this._mlen;jn<Vn;++jn)hn=ee[jn],(hn.num===0&&ft?Jt:Kt).push(this.celltuple(hn)),ee[jn]=null;return this._alen=this._mlen=0,this._prev=null,S}});let me=1e-14;function ye(S){t.Transform.call(this,null,S)}ye.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},e.inherits(ye,t.Transform,{transform(S,B){let ee=S.interval!==!1,_e=this._bins(S),ft=_e.start,St=_e.step,Jt=S.as||["bin0","bin1"],Kt=Jt[0],hn=Jt[1],Bn;return S.modified()?(B=B.reflow(!0),Bn=B.SOURCE):Bn=B.modified(e.accessorFields(S.field))?B.ADD_MOD:B.ADD,B.visit(Bn,ee?jn=>{let Vn=_e(jn);jn[Kt]=Vn,jn[hn]=Vn==null?null:ft+St*(1+(Vn-ft)/St)}:jn=>jn[Kt]=_e(jn)),B.modifies(ee?Jt:Kt)},_bins(S){if(this.value&&!S.modified())return this.value;let B=S.field,ee=r.bin(S),_e=ee.step,ft=ee.start,St=ft+Math.ceil((ee.stop-ft)/_e)*_e,Jt,Kt;(Jt=S.anchor)!=null&&(Kt=Jt-(ft+_e*Math.floor((Jt-ft)/_e)),ft+=Kt,St+=Kt);let hn=function(Bn){let jn=e.toNumber(B(Bn));return jn==null?null:jn<ft?-1/0:jn>St?1/0:(jn=Math.max(ft,Math.min(jn,St-_e)),ft+_e*Math.floor(me+(jn-ft)/_e))};return hn.start=ft,hn.stop=ee.stop,hn.step=_e,this.value=e.accessor(hn,e.accessorFields(B),S.name||"bin_"+e.accessorName(B))}});function He(S,B,ee){let _e=S,ft=B||[],St=ee||[],Jt={},Kt=0;return{add:hn=>St.push(hn),remove:hn=>Jt[_e(hn)]=++Kt,size:()=>ft.length,data:(hn,Bn)=>(Kt&&(ft=ft.filter(jn=>!Jt[_e(jn)]),Jt={},Kt=0),Bn&&hn&&ft.sort(hn),St.length&&(ft=hn?e.merge(hn,ft,St.sort(hn)):ft.concat(St),St=[]),ft)}}function ot(S){t.Transform.call(this,[],S)}ot.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},e.inherits(ot,t.Transform,{transform(S,B){let ee=B.fork(B.ALL),_e=He(t.tupleid,this.value,ee.materialize(ee.ADD).add),ft=S.sort,St=B.changed()||ft&&(S.modified("sort")||B.modified(ft.fields));return ee.visit(ee.REM,_e.remove),this.modified(St),this.value=ee.source=_e.data(t.stableCompare(ft),St),B.source&&B.source.root&&(this.value.root=B.source.root),ee}});function at(S){t.Operator.call(this,null,Ze,S)}e.inherits(at,t.Operator);function Ze(S){return this.value&&!S.modified()?this.value:e.compare(S.fields,S.orders)}function Tt(S){t.Transform.call(this,null,S)}Tt.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Mt(S,B,ee){switch(B){case"upper":S=S.toUpperCase();break;case"lower":S=S.toLowerCase();break}return S.match(ee)}e.inherits(Tt,t.Transform,{transform(S,B){let ee=Vn=>Jr=>{for(var Vr=Mt(Kt(Jr),S.case,St)||[],yr,Mr=0,xi=Vr.length;Mr<xi;++Mr)Jt.test(yr=Vr[Mr])||Vn(yr)},_e=this._parameterCheck(S,B),ft=this._counts,St=this._match,Jt=this._stop,Kt=S.field,hn=S.as||["text","count"],Bn=ee(Vn=>ft[Vn]=1+(ft[Vn]||0)),jn=ee(Vn=>ft[Vn]-=1);return _e?B.visit(B.SOURCE,Bn):(B.visit(B.ADD,Bn),B.visit(B.REM,jn)),this._finish(B,hn)},_parameterCheck(S,B){let ee=!1;return(S.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(S.stopwords||"")+"$","i"),ee=!0),(S.modified("pattern")||!this._match)&&(this._match=new RegExp(S.pattern||"[\\w']+","g"),ee=!0),(S.modified("field")||B.modified(S.field.fields))&&(ee=!0),ee&&(this._counts={}),ee},_finish(S,B){let ee=this._counts,_e=this._tuples||(this._tuples={}),ft=B[0],St=B[1],Jt=S.fork(S.NO_SOURCE|S.NO_FIELDS),Kt,hn,Bn;for(Kt in ee)hn=_e[Kt],Bn=ee[Kt]||0,!hn&&Bn?(_e[Kt]=hn=t.ingest({}),hn[ft]=Kt,hn[St]=Bn,Jt.add.push(hn)):Bn===0?(hn&&Jt.rem.push(hn),ee[Kt]=null,_e[Kt]=null):hn[St]!==Bn&&(hn[St]=Bn,Jt.mod.push(hn));return Jt.modifies(B)}});function Ue(S){t.Transform.call(this,null,S)}Ue.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},e.inherits(Ue,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE),_e=S.as||["a","b"],ft=_e[0],St=_e[1],Jt=!this.value||B.changed(B.ADD_REM)||S.modified("as")||S.modified("filter"),Kt=this.value;return Jt?(Kt&&(ee.rem=Kt),Kt=B.materialize(B.SOURCE).source,ee.add=this.value=te(Kt,ft,St,S.filter||e.truthy)):ee.mod=Kt,ee.source=this.value,ee.modifies(_e)}});function te(S,B,ee,_e){for(var ft=[],St={},Jt=S.length,Kt=0,hn,Bn;Kt<Jt;++Kt)for(St[B]=Bn=S[Kt],hn=0;hn<Jt;++hn)St[ee]=S[hn],_e(St)&&(ft.push(t.ingest(St)),St={},St[B]=Bn);return ft}let st={kde:r.randomKDE,mixture:r.randomMixture,normal:r.randomNormal,lognormal:r.randomLogNormal,uniform:r.randomUniform},be="distributions",Re="function",Ae="field";function xe(S,B){let ee=S[Re];e.hasOwnProperty(st,ee)||e.error("Unknown distribution function: "+ee);let _e=st[ee]();for(let ft in S)ft===Ae?_e.data((S.from||B()).map(S[ft])):ft===be?_e[ft](S[ft].map(St=>xe(St,B))):typeof _e[ft]===Re&&_e[ft](S[ft]);return _e}function Je(S){t.Transform.call(this,null,S)}let lt=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Qt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:lt},{name:"weights",type:"number",array:!0}]};Je.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:lt.concat(Qt)},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(Je,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE|B.NO_FIELDS);if(!this.value||B.changed()||S.modified()){let _e=xe(S.distribution,Et(B)),ft=S.steps||S.minsteps||25,St=S.steps||S.maxsteps||200,Jt=S.method||"pdf";Jt!=="pdf"&&Jt!=="cdf"&&e.error("Invalid density method: "+Jt),!S.extent&&!_e.data&&e.error("Missing density extent parameter."),Jt=_e[Jt];let Kt=S.as||["value","density"],hn=S.extent||e.extent(_e.data()),Bn=r.sampleCurve(Jt,hn,ft,St).map(jn=>{let Vn={};return Vn[Kt[0]]=jn[0],Vn[Kt[1]]=jn[1],t.ingest(Vn)});this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=Bn}return ee}});function Et(S){return()=>S.materialize(S.SOURCE).source}function mn(S,B){return S?S.map((ee,_e)=>B[_e]||e.accessorName(ee)):null}function Lt(S,B,ee){let _e=[],ft=Vn=>Vn(hn),St,Jt,Kt,hn,Bn,jn;if(B==null)_e.push(S.map(ee));else for(St={},Jt=0,Kt=S.length;Jt<Kt;++Jt)hn=S[Jt],Bn=B.map(ft),jn=St[Bn],jn||(St[Bn]=jn=[],jn.dims=Bn,_e.push(jn)),jn.push(ee(hn));return _e}let kt="bin";function cn(S){t.Transform.call(this,null,S)}cn.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:kt}]};let wt=(S,B)=>e.span(e.extent(S,B))/30;e.inherits(cn,t.Transform,{transform(S,B){if(this.value&&!(S.modified()||B.changed()))return B;let ee=B.materialize(B.SOURCE).source,_e=Lt(B.source,S.groupby,e.identity),ft=S.smooth||!1,St=S.field,Jt=S.step||wt(ee,St),Kt=t.stableCompare((yr,Mr)=>St(yr)-St(Mr)),hn=S.as||kt,Bn=_e.length,jn=1/0,Vn=-1/0,Jr=0,Vr;for(;Jr<Bn;++Jr){let yr=_e[Jr].sort(Kt);Vr=-1;for(let Mr of r.dotbin(yr,Jt,ft,St))Mr<jn&&(jn=Mr),Mr>Vn&&(Vn=Mr),yr[++Vr][hn]=Mr}return this.value={start:jn,stop:Vn,step:Jt},B.reflow(!0).modifies(hn)}});function Ee(S){t.Operator.call(this,null,Ie,S),this.modified(!0)}e.inherits(Ee,t.Operator);function Ie(S){let B=S.expr;return this.value&&!S.modified("expr")?this.value:e.accessor(ee=>B(ee,S),e.accessorFields(B),e.accessorName(B))}function Ce(S){t.Transform.call(this,[void 0,void 0],S)}Ce.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},e.inherits(Ce,t.Transform,{transform(S,B){let ee=this.value,_e=S.field,ft=B.changed()||B.modified(_e.fields)||S.modified("field"),St=ee[0],Jt=ee[1];if((ft||St==null)&&(St=1/0,Jt=-1/0),B.visit(ft?B.SOURCE:B.ADD,Kt=>{let hn=e.toNumber(_e(Kt));hn!=null&&(hn<St&&(St=hn),hn>Jt&&(Jt=hn))}),!Number.isFinite(St)||!Number.isFinite(Jt)){let Kt=e.accessorName(_e);Kt&&(Kt=` for field "${Kt}"`),B.dataflow.warn(`Infinite extent${Kt}: [${St}, ${Jt}]`),St=Jt=void 0}this.value=[St,Jt]}});function fe(S,B){t.Operator.call(this,S),this.parent=B,this.count=0}e.inherits(fe,t.Operator,{connect(S){return this.detachSubflow=S.detachSubflow,this.targets().add(S),S.source=this},add(S){this.count+=1,this.value.add.push(S)},rem(S){this.count-=1,this.value.rem.push(S)},mod(S){this.value.mod.push(S)},init(S){this.value.init(S,S.NO_SOURCE)},evaluate(){return this.value}});function rt(S){t.Transform.call(this,{},S),this._keys=e.fastmap();let B=this._targets=[];B.active=0,B.forEach=ee=>{for(let _e=0,ft=B.active;_e<ft;++_e)ee(B[_e],_e,B)}}e.inherits(rt,t.Transform,{activate(S){this._targets[this._targets.active++]=S},subflow(S,B,ee,_e){let ft=this.value,St=e.hasOwnProperty(ft,S)&&ft[S],Jt,Kt;return St?St.value.stamp<ee.stamp&&(St.init(ee),this.activate(St)):(Kt=_e||(Kt=this._group[S])&&Kt.tuple,Jt=ee.dataflow,St=new fe(ee.fork(ee.NO_SOURCE),this),Jt.add(St).connect(B(Jt,S,Kt)),ft[S]=St,this.activate(St)),St},clean(){let S=this.value,B=0;for(let ee in S)if(S[ee].count===0){let _e=S[ee].detachSubflow;_e&&_e(),delete S[ee],++B}if(B){let ee=this._targets.filter(_e=>_e&&_e.count>0);this.initTargets(ee)}},initTargets(S){let B=this._targets,ee=B.length,_e=S?S.length:0,ft=0;for(;ft<_e;++ft)B[ft]=S[ft];for(;ft<ee&&B[ft]!=null;++ft)B[ft]=null;B.active=_e},transform(S,B){let ee=B.dataflow,_e=S.key,ft=S.subflow,St=this._keys,Jt=S.modified("key"),Kt=hn=>this.subflow(hn,ft,B);return this._group=S.group||{},this.initTargets(),B.visit(B.REM,hn=>{let Bn=t.tupleid(hn),jn=St.get(Bn);jn!==void 0&&(St.delete(Bn),Kt(jn).rem(hn))}),B.visit(B.ADD,hn=>{let Bn=_e(hn);St.set(t.tupleid(hn),Bn),Kt(Bn).add(hn)}),Jt||B.modified(_e.fields)?B.visit(B.MOD,hn=>{let Bn=t.tupleid(hn),jn=St.get(Bn),Vn=_e(hn);jn===Vn?Kt(Vn).mod(hn):(St.set(Bn,Vn),Kt(jn).rem(hn),Kt(Vn).add(hn))}):B.changed(B.MOD)&&B.visit(B.MOD,hn=>{Kt(St.get(t.tupleid(hn))).mod(hn)}),Jt&&B.visit(B.REFLOW,hn=>{let Bn=t.tupleid(hn),jn=St.get(Bn),Vn=_e(hn);jn!==Vn&&(St.set(Bn,Vn),Kt(jn).rem(hn),Kt(Vn).add(hn))}),B.clean()?ee.runAfter(()=>{this.clean(),St.clean()}):St.empty>ee.cleanThreshold&&ee.runAfter(St.clean),B}});function Xe(S){t.Operator.call(this,null,de,S)}e.inherits(Xe,t.Operator);function de(S){return this.value&&!S.modified()?this.value:e.isArray(S.name)?e.array(S.name).map(B=>e.field(B)):e.field(S.name,S.as)}function Ge(S){t.Transform.call(this,e.fastmap(),S)}Ge.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},e.inherits(Ge,t.Transform,{transform(S,B){let ee=B.dataflow,_e=this.value,ft=B.fork(),St=ft.add,Jt=ft.rem,Kt=ft.mod,hn=S.expr,Bn=!0;B.visit(B.REM,Vn=>{let Jr=t.tupleid(Vn);_e.has(Jr)?_e.delete(Jr):Jt.push(Vn)}),B.visit(B.ADD,Vn=>{hn(Vn,S)?St.push(Vn):_e.set(t.tupleid(Vn),1)});function jn(Vn){let Jr=t.tupleid(Vn),Vr=hn(Vn,S),yr=_e.get(Jr);Vr&&yr?(_e.delete(Jr),St.push(Vn)):!Vr&&!yr?(_e.set(Jr,1),Jt.push(Vn)):Bn&&Vr&&!yr&&Kt.push(Vn)}return B.visit(B.MOD,jn),S.modified()&&(Bn=!1,B.visit(B.REFLOW,jn)),_e.empty>ee.cleanThreshold&&ee.runAfter(_e.clean),ft}});function Ot(S){t.Transform.call(this,[],S)}Ot.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},e.inherits(Ot,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE),_e=S.fields,ft=mn(_e,S.as||[]),St=S.index||null,Jt=ft.length;return ee.rem=this.value,B.visit(B.SOURCE,Kt=>{let hn=_e.map(yr=>yr(Kt)),Bn=hn.reduce((yr,Mr)=>Math.max(yr,Mr.length),0),jn=0,Vn,Jr,Vr;for(;jn<Bn;++jn){for(Jr=t.derive(Kt),Vn=0;Vn<Jt;++Vn)Jr[ft[Vn]]=(Vr=hn[Vn][jn])==null?null:Vr;St&&(Jr[St]=jn),ee.add.push(Jr)}}),this.value=ee.source=ee.add,St&&ee.modifies(St),ee.modifies(ft)}});function Nt(S){t.Transform.call(this,[],S)}Nt.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},e.inherits(Nt,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE),_e=S.fields,ft=_e.map(e.accessorName),St=S.as||["key","value"],Jt=St[0],Kt=St[1],hn=_e.length;return ee.rem=this.value,B.visit(B.SOURCE,Bn=>{for(let jn=0,Vn;jn<hn;++jn)Vn=t.derive(Bn),Vn[Jt]=ft[jn],Vn[Kt]=_e[jn](Bn),ee.add.push(Vn)}),this.value=ee.source=ee.add,ee.modifies(St)}});function zt(S){t.Transform.call(this,null,S)}zt.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},e.inherits(zt,t.Transform,{transform(S,B){let ee=S.expr,_e=S.as,ft=S.modified(),St=S.initonly?B.ADD:ft?B.SOURCE:B.modified(ee.fields)||B.modified(_e)?B.ADD_MOD:B.ADD;return ft&&(B=B.materialize().reflow(!0)),S.initonly||B.modifies(_e),B.visit(St,Jt=>Jt[_e]=ee(Jt,S))}});function en(S){t.Transform.call(this,[],S)}e.inherits(en,t.Transform,{transform(S,B){let ee=B.fork(B.ALL),_e=S.generator,ft=this.value,St=S.size-ft.length,Jt,Kt,hn;if(St>0){for(Jt=[];--St>=0;)Jt.push(hn=t.ingest(_e(S))),ft.push(hn);ee.add=ee.add.length?ee.materialize(ee.ADD).add.concat(Jt):Jt}else Kt=ft.slice(0,-St),ee.rem=ee.rem.length?ee.materialize(ee.REM).rem.concat(Kt):Kt,ft=ft.slice(-St);return ee.source=this.value=ft,ee}});function Xt(S,B){return S==null||B==null?NaN:S<B?-1:S>B?1:S>=B?0:NaN}function bn(S){let B=S,ee=S,_e=S;S.length!==2&&(B=(Kt,hn)=>S(Kt)-hn,ee=Xt,_e=(Kt,hn)=>Xt(S(Kt),hn));function ft(Kt,hn,Bn=0,jn=Kt.length){if(Bn<jn){if(ee(hn,hn)!==0)return jn;do{let Vn=Bn+jn>>>1;_e(Kt[Vn],hn)<0?Bn=Vn+1:jn=Vn}while(Bn<jn)}return Bn}function St(Kt,hn,Bn=0,jn=Kt.length){if(Bn<jn){if(ee(hn,hn)!==0)return jn;do{let Vn=Bn+jn>>>1;_e(Kt[Vn],hn)<=0?Bn=Vn+1:jn=Vn}while(Bn<jn)}return Bn}function Jt(Kt,hn,Bn=0,jn=Kt.length){let Vn=ft(Kt,hn,Bn,jn-1);return Vn>Bn&&B(Kt[Vn-1],hn)>-B(Kt[Vn],hn)?Vn-1:Vn}return{left:ft,center:Jt,right:St}}function*Tn(S,B){if(B===void 0)for(let ee of S)ee!=null&&(ee=+ee)>=ee&&(yield ee);else{let ee=-1;for(let _e of S)(_e=B(_e,++ee,S))!=null&&(_e=+_e)>=_e&&(yield _e)}}function Dn(S=Xt){if(S===Xt)return Ut;if(typeof S!="function")throw new TypeError("compare is not a function");return(B,ee)=>{let _e=S(B,ee);return _e||_e===0?_e:(S(ee,ee)===0)-(S(B,B)===0)}}function Ut(S,B){return(S==null||!(S>=S))-(B==null||!(B>=B))||(S<B?-1:S>B?1:0)}function pn(S,B){let ee;if(B===void 0)for(let _e of S)_e!=null&&(ee<_e||ee===void 0&&_e>=_e)&&(ee=_e);else{let _e=-1;for(let ft of S)(ft=B(ft,++_e,S))!=null&&(ee<ft||ee===void 0&&ft>=ft)&&(ee=ft)}return ee}function qn(S,B){let ee;if(B===void 0)for(let _e of S)_e!=null&&(ee>_e||ee===void 0&&_e>=_e)&&(ee=_e);else{let _e=-1;for(let ft of S)(ft=B(ft,++_e,S))!=null&&(ee>ft||ee===void 0&&ft>=ft)&&(ee=ft)}return ee}function sr(S,B,ee=0,_e=S.length-1,ft){for(ft=ft===void 0?Ut:Dn(ft);_e>ee;){if(_e-ee>600){let hn=_e-ee+1,Bn=B-ee+1,jn=Math.log(hn),Vn=.5*Math.exp(2*jn/3),Jr=.5*Math.sqrt(jn*Vn*(hn-Vn)/hn)*(Bn-hn/2<0?-1:1),Vr=Math.max(ee,Math.floor(B-Bn*Vn/hn+Jr)),yr=Math.min(_e,Math.floor(B+(hn-Bn)*Vn/hn+Jr));sr(S,B,Vr,yr,ft)}let St=S[B],Jt=ee,Kt=_e;for(In(S,ee,B),ft(S[_e],St)>0&&In(S,ee,_e);Jt<Kt;){for(In(S,Jt,Kt),++Jt,--Kt;ft(S[Jt],St)<0;)++Jt;for(;ft(S[Kt],St)>0;)--Kt}ft(S[ee],St)===0?In(S,ee,Kt):(++Kt,In(S,Kt,_e)),Kt<=B&&(ee=Kt+1),B<=Kt&&(_e=Kt-1)}return S}function In(S,B,ee){let _e=S[B];S[B]=S[ee],S[ee]=_e}function Ne(S,B,ee){if(S=Float64Array.from(Tn(S,ee)),!!(_e=S.length)){if((B=+B)<=0||_e<2)return qn(S);if(B>=1)return pn(S);var _e,ft=(_e-1)*B,St=Math.floor(ft),Jt=pn(sr(S,St).subarray(0,St+1)),Kt=qn(S.subarray(St+1));return Jt+(Kt-Jt)*(ft-St)}}function $e(S,B){let ee=0,_e=0;if(B===void 0)for(let ft of S)ft!=null&&(ft=+ft)>=ft&&(++ee,_e+=ft);else{let ft=-1;for(let St of S)(St=B(St,++ft,S))!=null&&(St=+St)>=St&&(++ee,_e+=St)}if(ee)return _e/ee}function De(S,B){return Ne(S,.5,B)}function qt(S,B,ee){S=+S,B=+B,ee=(ft=arguments.length)<2?(B=S,S=0,1):ft<3?1:+ee;for(var _e=-1,ft=Math.max(0,Math.ceil((B-S)/ee))|0,St=new Array(ft);++_e<ft;)St[_e]=S+_e*ee;return St}let yt={value:"value",median:De,mean:$e,min:qn,max:pn},mt=[];function nn(S){t.Transform.call(this,[],S)}nn.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Wt(S){var B=S.method||yt.value,ee;if(yt[B]==null)e.error("Unrecognized imputation method: "+B);else return B===yt.value?(ee=S.value!==void 0?S.value:0,()=>ee):yt[B]}function Fn(S){let B=S.field;return ee=>ee?B(ee):NaN}e.inherits(nn,t.Transform,{transform(S,B){var ee=B.fork(B.ALL),_e=Wt(S),ft=Fn(S),St=e.accessorName(S.field),Jt=e.accessorName(S.key),Kt=(S.groupby||[]).map(e.accessorName),hn=Qn(B.source,S.groupby,S.key,S.keyvals),Bn=[],jn=this.value,Vn=hn.domain.length,Jr,Vr,yr,Mr,xi,ai,Ji,Es,es,Ea;for(xi=0,Es=hn.length;xi<Es;++xi)for(Jr=hn[xi],yr=Jr.values,Vr=NaN,Ji=0;Ji<Vn;++Ji)if(Jr[Ji]==null){for(Mr=hn.domain[Ji],Ea={_impute:!0},ai=0,es=yr.length;ai<es;++ai)Ea[Kt[ai]]=yr[ai];Ea[Jt]=Mr,Ea[St]=Number.isNaN(Vr)?Vr=_e(Jr,ft):Vr,Bn.push(t.ingest(Ea))}return Bn.length&&(ee.add=ee.materialize(ee.ADD).add.concat(Bn)),jn.length&&(ee.rem=ee.materialize(ee.REM).rem.concat(jn)),this.value=Bn,ee}});function Qn(S,B,ee,_e){var ft=ai=>ai(xi),St=[],Jt=_e?_e.slice():[],Kt={},hn={},Bn,jn,Vn,Jr,Vr,yr,Mr,xi;for(Jt.forEach((ai,Ji)=>Kt[ai]=Ji+1),Jr=0,Mr=S.length;Jr<Mr;++Jr)xi=S[Jr],yr=ee(xi),Vr=Kt[yr]||(Kt[yr]=Jt.push(yr)),jn=(Bn=B?B.map(ft):mt)+"",(Vn=hn[jn])||(Vn=hn[jn]=[],St.push(Vn),Vn.values=Bn),Vn[Vr-1]=xi;return St.domain=Jt,St}function Zn(S){Z.call(this,S)}Zn.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:b},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},e.inherits(Zn,Z,{transform(S,B){let ee=this,_e=S.modified(),ft;return ee.value&&(_e||B.modified(ee._inputs,!0))?(ft=ee.value=_e?ee.init(S):{},B.visit(B.SOURCE,St=>ee.add(St))):(ft=ee.value=ee.value||this.init(S),B.visit(B.REM,St=>ee.rem(St)),B.visit(B.ADD,St=>ee.add(St))),ee.changes(),B.visit(B.SOURCE,St=>{e.extend(St,ft[ee.cellkey(St)].tuple)}),B.reflow(_e).modifies(this._outputs)},changes(){let S=this._adds,B=this._mods,ee,_e;for(ee=0,_e=this._alen;ee<_e;++ee)this.celltuple(S[ee]),S[ee]=null;for(ee=0,_e=this._mlen;ee<_e;++ee)this.celltuple(B[ee]),B[ee]=null;this._alen=this._mlen=0}});function Pn(S){t.Transform.call(this,null,S)}Pn.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(Pn,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE|B.NO_FIELDS);if(!this.value||B.changed()||S.modified()){let _e=B.materialize(B.SOURCE).source,ft=Lt(_e,S.groupby,S.field),St=(S.groupby||[]).map(e.accessorName),Jt=S.bandwidth,Kt=S.cumulative?"cdf":"pdf",hn=S.as||["value","density"],Bn=[],jn=S.extent,Vn=S.steps||S.minsteps||25,Jr=S.steps||S.maxsteps||200;Kt!=="pdf"&&Kt!=="cdf"&&e.error("Invalid density method: "+Kt),S.resolve==="shared"&&(jn||(jn=e.extent(_e,S.field)),Vn=Jr=S.steps||Jr),ft.forEach(Vr=>{let yr=r.randomKDE(Vr,Jt)[Kt],Mr=S.counts?Vr.length:1,xi=jn||e.extent(Vr);r.sampleCurve(yr,xi,Vn,Jr).forEach(ai=>{let Ji={};for(let Es=0;Es<St.length;++Es)Ji[St[Es]]=Vr.dims[Es];Ji[hn[0]]=ai[0],Ji[hn[1]]=ai[1]*Mr,Bn.push(t.ingest(Ji))})}),this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=Bn}return ee}});function or(S){t.Operator.call(this,null,Ye,S)}e.inherits(or,t.Operator);function Ye(S){return this.value&&!S.modified()?this.value:e.key(S.fields,S.flat)}function gt(S){t.Transform.call(this,[],S),this._pending=null}e.inherits(gt,t.Transform,{transform(S,B){let ee=B.dataflow;return this._pending?Pe(this,B,this._pending):se(S)?B.StopPropagation:S.values?Pe(this,B,ee.parse(S.values,S.format)):S.async?{async:ee.request(S.url,S.format).then(ft=>(this._pending=e.array(ft.data),St=>St.touch(this)))}:ee.request(S.url,S.format).then(_e=>Pe(this,B,e.array(_e.data)))}});function se(S){return S.modified("async")&&!(S.modified("values")||S.modified("url")||S.modified("format"))}function Pe(S,B,ee){ee.forEach(t.ingest);let _e=B.fork(B.NO_FIELDS&B.NO_SOURCE);return _e.rem=S.value,S.value=_e.source=_e.add=ee,S._pending=null,_e.rem.length&&_e.clean(!0),_e}function et(S){t.Transform.call(this,{},S)}et.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},e.inherits(et,t.Transform,{transform(S,B){let ee=S.fields,_e=S.index,ft=S.values,St=S.default==null?null:S.default,Jt=S.modified(),Kt=ee.length,hn=Jt?B.SOURCE:B.ADD,Bn=B,jn=S.as,Vn,Jr,Vr;return ft?(Jr=ft.length,Kt>1&&!jn&&e.error('Multi-field lookup requires explicit "as" parameter.'),jn&&jn.length!==Kt*Jr&&e.error('The "as" parameter has too few output field names.'),jn=jn||ft.map(e.accessorName),Vn=function(yr){for(var Mr=0,xi=0,ai,Ji;Mr<Kt;++Mr)if(Ji=_e.get(ee[Mr](yr)),Ji==null)for(ai=0;ai<Jr;++ai,++xi)yr[jn[xi]]=St;else for(ai=0;ai<Jr;++ai,++xi)yr[jn[xi]]=ft[ai](Ji)}):(jn||e.error("Missing output field names."),Vn=function(yr){for(var Mr=0,xi;Mr<Kt;++Mr)xi=_e.get(ee[Mr](yr)),yr[jn[Mr]]=xi??St}),Jt?Bn=B.reflow(!0):(Vr=ee.some(yr=>B.modified(yr.fields)),hn|=Vr?B.MOD:0),B.visit(hn,Vn),Bn.modifies(jn)}});function At(S){t.Operator.call(this,null,fn,S)}e.inherits(At,t.Operator);function fn(S){if(this.value&&!S.modified())return this.value;let B=S.extents,ee=B.length,_e=1/0,ft=-1/0,St,Jt;for(St=0;St<ee;++St)Jt=B[St],Jt[0]<_e&&(_e=Jt[0]),Jt[1]>ft&&(ft=Jt[1]);return[_e,ft]}function on(S){t.Operator.call(this,null,ct,S)}e.inherits(on,t.Operator);function ct(S){return this.value&&!S.modified()?this.value:S.values.reduce((B,ee)=>B.concat(ee),[])}function re(S){t.Transform.call(this,null,S)}e.inherits(re,t.Transform,{transform(S,B){return this.modified(S.modified()),this.value=S,B.fork(B.NO_SOURCE|B.NO_FIELDS)}});function Te(S){Z.call(this,S)}Te.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:b,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},e.inherits(Te,Z,{_transform:Z.prototype.transform,transform(S,B){return this._transform(je(S,B),B)}});function je(S,B){let ee=S.field,_e=S.value,ft=(S.op==="count"?"__count__":S.op)||"sum",St=e.accessorFields(ee).concat(e.accessorFields(_e)),Jt=vt(ee,S.limit||0,B);return B.changed()&&S.set("__pivot__",null,null,!0),{key:S.key,groupby:S.groupby,ops:Jt.map(()=>ft),fields:Jt.map(Kt=>ht(Kt,ee,_e,St)),as:Jt.map(Kt=>Kt+""),modified:S.modified.bind(S)}}function ht(S,B,ee,_e){return e.accessor(ft=>B(ft)===S?ee(ft):NaN,_e,S+"")}function vt(S,B,ee){let _e={},ft=[];return ee.visit(ee.SOURCE,St=>{let Jt=S(St);_e[Jt]||(_e[Jt]=1,ft.push(Jt))}),ft.sort(e.ascending),B?ft.slice(0,B):ft}function Ft(S){rt.call(this,S)}e.inherits(Ft,rt,{transform(S,B){let ee=S.subflow,_e=S.field,ft=St=>this.subflow(t.tupleid(St),ee,B,St);return(S.modified("field")||_e&&B.modified(e.accessorFields(_e)))&&e.error("PreFacet does not support field modification."),this.initTargets(),_e?(B.visit(B.MOD,St=>{let Jt=ft(St);_e(St).forEach(Kt=>Jt.mod(Kt))}),B.visit(B.ADD,St=>{let Jt=ft(St);_e(St).forEach(Kt=>Jt.add(t.ingest(Kt)))}),B.visit(B.REM,St=>{let Jt=ft(St);_e(St).forEach(Kt=>Jt.rem(Kt))})):(B.visit(B.MOD,St=>ft(St).mod(St)),B.visit(B.ADD,St=>ft(St).add(St)),B.visit(B.REM,St=>ft(St).rem(St))),B.clean()&&B.runAfter(()=>this.clean()),B}});function ne(S){t.Transform.call(this,null,S)}ne.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},e.inherits(ne,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE),_e=S.fields,ft=mn(S.fields,S.as||[]),St=_e?(Kt,hn)=>Se(Kt,hn,_e,ft):t.rederive,Jt;return this.value?Jt=this.value:(B=B.addAll(),Jt=this.value={}),B.visit(B.REM,Kt=>{let hn=t.tupleid(Kt);ee.rem.push(Jt[hn]),Jt[hn]=null}),B.visit(B.ADD,Kt=>{let hn=St(Kt,t.ingest({}));Jt[t.tupleid(Kt)]=hn,ee.add.push(hn)}),B.visit(B.MOD,Kt=>{ee.mod.push(St(Kt,Jt[t.tupleid(Kt)]))}),ee}});function Se(S,B,ee,_e){for(let ft=0,St=ee.length;ft<St;++ft)B[_e[ft]]=ee[ft](S);return B}function Ve(S){t.Transform.call(this,null,S)}e.inherits(Ve,t.Transform,{transform(S,B){return this.value=S.value,S.modified("value")?B.fork(B.NO_SOURCE|B.NO_FIELDS):B.StopPropagation}});function nt(S){t.Transform.call(this,null,S)}nt.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};let Bt=1e-14;e.inherits(nt,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE|B.NO_FIELDS),_e=S.as||["prob","value"];if(this.value&&!S.modified()&&!B.changed())return ee.source=this.value,ee;let ft=B.materialize(B.SOURCE).source,St=Lt(ft,S.groupby,S.field),Jt=(S.groupby||[]).map(e.accessorName),Kt=[],hn=S.step||.01,Bn=S.probs||qt(hn/2,1-Bt,hn),jn=Bn.length;return St.forEach(Vn=>{let Jr=r.quantiles(Vn,Bn);for(let Vr=0;Vr<jn;++Vr){let yr={};for(let Mr=0;Mr<Jt.length;++Mr)yr[Jt[Mr]]=Vn.dims[Mr];yr[_e[0]]=Bn[Vr],yr[_e[1]]=Jr[Vr],Kt.push(t.ingest(yr))}}),this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=Kt,ee}});function rn(S){t.Transform.call(this,null,S)}e.inherits(rn,t.Transform,{transform(S,B){let ee,_e;return this.value?_e=this.value:(ee=B=B.addAll(),_e=this.value={}),S.derive&&(ee=B.fork(B.NO_SOURCE),B.visit(B.REM,ft=>{let St=t.tupleid(ft);ee.rem.push(_e[St]),_e[St]=null}),B.visit(B.ADD,ft=>{let St=t.derive(ft);_e[t.tupleid(ft)]=St,ee.add.push(St)}),B.visit(B.MOD,ft=>{let St=_e[t.tupleid(ft)];for(let Jt in ft)St[Jt]=ft[Jt],ee.modifies(Jt);ee.mod.push(St)})),ee}});function Sn(S){t.Transform.call(this,[],S),this.count=0}Sn.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},e.inherits(Sn,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE),_e=S.modified("size"),ft=S.size,St=this.value.reduce((jn,Vn)=>(jn[t.tupleid(Vn)]=1,jn),{}),Jt=this.value,Kt=this.count,hn=0;function Bn(jn){let Vn,Jr;Jt.length<ft?Jt.push(jn):(Jr=~~((Kt+1)*r.random()),Jr<Jt.length&&Jr>=hn&&(Vn=Jt[Jr],St[t.tupleid(Vn)]&&ee.rem.push(Vn),Jt[Jr]=jn)),++Kt}if(B.rem.length&&(B.visit(B.REM,jn=>{let Vn=t.tupleid(jn);St[Vn]&&(St[Vn]=-1,ee.rem.push(jn)),--Kt}),Jt=Jt.filter(jn=>St[t.tupleid(jn)]!==-1)),(B.rem.length||_e)&&Jt.length<ft&&B.source&&(hn=Kt=Jt.length,B.visit(B.SOURCE,jn=>{St[t.tupleid(jn)]||Bn(jn)}),hn=-1),_e&&Jt.length>ft){let jn=Jt.length-ft;for(let Vn=0;Vn<jn;++Vn)St[t.tupleid(Jt[Vn])]=-1,ee.rem.push(Jt[Vn]);Jt=Jt.slice(jn)}return B.mod.length&&B.visit(B.MOD,jn=>{St[t.tupleid(jn)]&&ee.mod.push(jn)}),B.add.length&&B.visit(B.ADD,Bn),(B.add.length||hn<0)&&(ee.add=Jt.filter(jn=>!St[t.tupleid(jn)])),this.count=Kt,this.value=ee.source=Jt,ee}});function vn(S){t.Transform.call(this,null,S)}vn.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},e.inherits(vn,t.Transform,{transform(S,B){if(this.value&&!S.modified())return;let ee=B.materialize().fork(B.MOD),_e=S.as||"data";return ee.rem=this.value?B.rem.concat(this.value):B.rem,this.value=qt(S.start,S.stop,S.step||1).map(ft=>{let St={};return St[_e]=ft,t.ingest(St)}),ee.add=B.add.concat(this.value),ee}});function xn(S){t.Transform.call(this,null,S),this.modified(!0)}e.inherits(xn,t.Transform,{transform(S,B){return this.value=B.source,B.changed()?B.fork(B.NO_SOURCE|B.NO_FIELDS):B.StopPropagation}});function zn(S){t.Transform.call(this,null,S)}let Oe=["unit0","unit1"];zn.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:i.TIME_UNITS,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Oe}]},e.inherits(zn,t.Transform,{transform(S,B){let ee=S.field,_e=S.interval!==!1,ft=S.timezone==="utc",St=this._floor(S,B),Jt=(ft?i.utcInterval:i.timeInterval)(St.unit).offset,Kt=S.as||Oe,hn=Kt[0],Bn=Kt[1],jn=St.step,Vn=St.start||1/0,Jr=St.stop||-1/0,Vr=B.ADD;return(S.modified()||B.changed(B.REM)||B.modified(e.accessorFields(ee)))&&(B=B.reflow(!0),Vr=B.SOURCE,Vn=1/0,Jr=-1/0),B.visit(Vr,yr=>{let Mr=ee(yr),xi,ai;Mr==null?(yr[hn]=null,_e&&(yr[Bn]=null)):(yr[hn]=xi=ai=St(Mr),_e&&(yr[Bn]=ai=Jt(xi,jn)),xi<Vn&&(Vn=xi),ai>Jr&&(Jr=ai))}),St.start=Vn,St.stop=Jr,B.modifies(_e?Kt:hn)},_floor(S,B){let ee=S.timezone==="utc",{units:_e,step:ft}=S.units?{units:S.units,step:S.step||1}:i.timeBin({extent:S.extent||e.extent(B.materialize(B.SOURCE).source,S.field),maxbins:S.maxbins}),St=i.timeUnits(_e),Jt=this.value||{},Kt=(ee?i.utcFloor:i.timeFloor)(St,ft);return Kt.unit=e.peek(St),Kt.units=St,Kt.step=ft,Kt.start=Jt.start,Kt.stop=Jt.stop,this.value=Kt}});function qe(S){t.Transform.call(this,e.fastmap(),S)}e.inherits(qe,t.Transform,{transform(S,B){let ee=B.dataflow,_e=S.field,ft=this.value,St=Kt=>ft.set(_e(Kt),Kt),Jt=!0;return S.modified("field")||B.modified(_e.fields)?(ft.clear(),B.visit(B.SOURCE,St)):B.changed()?(B.visit(B.REM,Kt=>ft.delete(_e(Kt))),B.visit(B.ADD,St)):Jt=!1,this.modified(Jt),ft.empty>ee.cleanThreshold&&ee.runAfter(ft.clean),B.fork()}});function Ct(S){t.Transform.call(this,null,S)}e.inherits(Ct,t.Transform,{transform(S,B){(!this.value||S.modified("field")||S.modified("sort")||B.changed()||S.sort&&B.modified(S.sort.fields))&&(this.value=(S.sort?B.source.slice().sort(t.stableCompare(S.sort)):B.source).map(S.field))}});function O(S,B,ee,_e){let ft=H[S](B,ee);return{init:ft.init||e.zero,update:function(St,Jt){Jt[_e]=ft.next(St)}}}let H={row_number:function(){return{next:S=>S.index+1}},rank:function(){let S;return{init:()=>S=1,next:B=>{let ee=B.index,_e=B.data;return ee&&B.compare(_e[ee-1],_e[ee])?S=ee+1:S}}},dense_rank:function(){let S;return{init:()=>S=1,next:B=>{let ee=B.index,_e=B.data;return ee&&B.compare(_e[ee-1],_e[ee])?++S:S}}},percent_rank:function(){let S=H.rank(),B=S.next;return{init:S.init,next:ee=>(B(ee)-1)/(ee.data.length-1)}},cume_dist:function(){let S;return{init:()=>S=0,next:B=>{let ee=B.data,_e=B.compare,ft=B.index;if(S<ft){for(;ft+1<ee.length&&!_e(ee[ft],ee[ft+1]);)++ft;S=ft}return(1+S)/ee.length}}},ntile:function(S,B){B=+B,B>0||e.error("ntile num must be greater than zero.");let ee=H.cume_dist(),_e=ee.next;return{init:ee.init,next:ft=>Math.ceil(B*_e(ft))}},lag:function(S,B){return B=+B||1,{next:ee=>{let _e=ee.index-B;return _e>=0?S(ee.data[_e]):null}}},lead:function(S,B){return B=+B||1,{next:ee=>{let _e=ee.index+B,ft=ee.data;return _e<ft.length?S(ft[_e]):null}}},first_value:function(S){return{next:B=>S(B.data[B.i0])}},last_value:function(S){return{next:B=>S(B.data[B.i1-1])}},nth_value:function(S,B){return B=+B,B>0||e.error("nth_value nth must be greater than zero."),{next:ee=>{let _e=ee.i0+(B-1);return _e<ee.i1?S(ee.data[_e]):null}}},prev_value:function(S){let B;return{init:()=>B=null,next:ee=>{let _e=S(ee.data[ee.index]);return _e!=null?B=_e:B}}},next_value:function(S){let B,ee;return{init:()=>(B=null,ee=-1),next:_e=>{let ft=_e.data;return _e.index<=ee?B:(ee=ve(S,ft,_e.index))<0?(ee=ft.length,B=null):B=S(ft[ee])}}}};function ve(S,B,ee){for(let _e=B.length;ee<_e;++ee)if(S(B[ee])!=null)return ee;return-1}let pe=Object.keys(H);function K(S){let B=e.array(S.ops),ee=e.array(S.fields),_e=e.array(S.params),ft=e.array(S.as),St=this.outputs=[],Jt=this.windows=[],Kt={},hn={},Bn=[],jn=[],Vn=!0;function Jr(Vr){e.array(e.accessorFields(Vr)).forEach(yr=>Kt[yr]=1)}Jr(S.sort),B.forEach((Vr,yr)=>{let Mr=ee[yr],xi=e.accessorName(Mr),ai=a(Vr,xi,ft[yr]);if(Jr(Mr),St.push(ai),e.hasOwnProperty(H,Vr))Jt.push(O(Vr,ee[yr],_e[yr],ai));else{if(Mr==null&&Vr!=="count"&&e.error("Null aggregate field specified."),Vr==="count"){Bn.push(ai);return}Vn=!1;let Ji=hn[xi];Ji||(Ji=hn[xi]=[],Ji.field=Mr,jn.push(Ji)),Ji.push(N(Vr,ai))}}),(Bn.length||jn.length)&&(this.cell=le(jn,Bn,Vn)),this.inputs=Object.keys(Kt)}let oe=K.prototype;oe.init=function(){this.windows.forEach(S=>S.init()),this.cell&&this.cell.init()},oe.update=function(S,B){let ee=this.cell,_e=this.windows,ft=S.data,St=_e&&_e.length,Jt;if(ee){for(Jt=S.p0;Jt<S.i0;++Jt)ee.rem(ft[Jt]);for(Jt=S.p1;Jt<S.i1;++Jt)ee.add(ft[Jt]);ee.set(B)}for(Jt=0;Jt<St;++Jt)_e[Jt].update(S,B)};function le(S,B,ee){S=S.map(hn=>G(hn,hn.field));let _e={num:0,agg:null,store:!1,count:B};if(!ee)for(var ft=S.length,St=_e.agg=Array(ft),Jt=0;Jt<ft;++Jt)St[Jt]=new S[Jt](_e);if(_e.store)var Kt=_e.data=new ae;return _e.add=function(hn){if(_e.num+=1,!ee){Kt&&Kt.add(hn);for(let Bn=0;Bn<ft;++Bn)St[Bn].add(St[Bn].get(hn),hn)}},_e.rem=function(hn){if(_e.num-=1,!ee){Kt&&Kt.rem(hn);for(let Bn=0;Bn<ft;++Bn)St[Bn].rem(St[Bn].get(hn),hn)}},_e.set=function(hn){let Bn,jn;for(Kt&&Kt.values(),Bn=0,jn=B.length;Bn<jn;++Bn)hn[B[Bn]]=_e.num;if(!ee)for(Bn=0,jn=St.length;Bn<jn;++Bn)St[Bn].set(hn)},_e.init=function(){_e.num=0,Kt&&Kt.reset();for(let hn=0;hn<ft;++hn)St[hn].init()},_e}function We(S){t.Transform.call(this,{},S),this._mlen=0,this._mods=[]}We.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:pe.concat(b)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},e.inherits(We,t.Transform,{transform(S,B){this.stamp=B.stamp;let ee=S.modified(),_e=t.stableCompare(S.sort),ft=o(S.groupby),St=Kt=>this.group(ft(Kt)),Jt=this.state;(!Jt||ee)&&(Jt=this.state=new K(S)),ee||B.modified(Jt.inputs)?(this.value={},B.visit(B.SOURCE,Kt=>St(Kt).add(Kt))):(B.visit(B.REM,Kt=>St(Kt).remove(Kt)),B.visit(B.ADD,Kt=>St(Kt).add(Kt)));for(let Kt=0,hn=this._mlen;Kt<hn;++Kt)Rt(this._mods[Kt],Jt,_e,S);return this._mlen=0,this._mods=[],B.reflow(ee).modifies(Jt.outputs)},group(S){let B=this.value[S];return B||(B=this.value[S]=He(t.tupleid),B.stamp=-1),B.stamp<this.stamp&&(B.stamp=this.stamp,this._mods[this._mlen++]=B),B}});function Rt(S,B,ee,_e){let ft=_e.sort,St=ft&&!_e.ignorePeers,Jt=_e.frame||[null,0],Kt=S.data(ee),hn=Kt.length,Bn=St?bn(ft):null,jn={i0:0,i1:0,p0:0,p1:0,index:0,data:Kt,compare:ft||e.constant(-1)};B.init();for(let Vn=0;Vn<hn;++Vn)bt(jn,Jt,Vn,hn),St&&ln(jn,Bn),B.update(jn,Kt[Vn])}function bt(S,B,ee,_e){S.p0=S.i0,S.p1=S.i1,S.i0=B[0]==null?0:Math.max(0,ee-Math.abs(B[0])),S.i1=B[1]==null?_e:Math.min(_e,ee+Math.abs(B[1])+1),S.index=ee}function ln(S,B){let ee=S.i0,_e=S.i1-1,ft=S.compare,St=S.data,Jt=St.length-1;ee>0&&!ft(St[ee],St[ee-1])&&(S.i0=B.left(St,St[ee])),_e<Jt&&!ft(St[_e],St[_e+1])&&(S.i1=B.right(St,St[_e]))}n.aggregate=Z,n.bin=ye,n.collect=ot,n.compare=at,n.countpattern=Tt,n.cross=Ue,n.density=Je,n.dotbin=cn,n.expression=Ee,n.extent=Ce,n.facet=rt,n.field=Xe,n.filter=Ge,n.flatten=Ot,n.fold=Nt,n.formula=zt,n.generate=en,n.impute=nn,n.joinaggregate=Zn,n.kde=Pn,n.key=or,n.load=gt,n.lookup=et,n.multiextent=At,n.multivalues=on,n.params=re,n.pivot=Te,n.prefacet=Ft,n.project=ne,n.proxy=Ve,n.quantile=nt,n.relay=rn,n.sample=Sn,n.sequence=vn,n.sieve=xn,n.subflow=fe,n.timeunit=zn,n.tupleindex=qe,n.values=Ct,n.window=We,Object.defineProperty(n,"__esModule",{value:!0})})});var sN=we((Mz,BAe)=>{m();(function(n,e){typeof Mz=="object"&&typeof BAe!="undefined"?e(Mz):typeof define=="function"&&define.amd?define(["exports"],e):e((n=typeof globalThis!="undefined"?globalThis:n||self).vega={})})(Mz,function(n){"use strict";function e(t,r){if(typeof document!="undefined"&&document.createElement){let i=document.createElement("canvas");if(i&&i.getContext)return i.width=t,i.height=r,i}return null}n.canvas=e,n.domCanvas=e,n.image=()=>typeof Image!="undefined"?Image:null,Object.defineProperty(n,"__esModule",{value:!0})})});var Db=we((Pz,jAe)=>{m();(function(n,e){typeof Pz=="object"&&typeof jAe!="undefined"?e(Pz,Su(),v9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(Pz,function(n,e,t){"use strict";function r(x,T,q){let J=x-T+q*2;return x?J>0?J:1:0}let i="identity",s="linear",o="log",a="pow",c="sqrt",d="symlog",p="time",b="utc",C="sequential",N="diverging",R="quantile",U="quantize",V="threshold",P="ordinal",$="point",M="band",G="bin-ordinal",ae="continuous",I="discrete",Z="discretizing",me="interpolating",ye="temporal";function He(x){return function(T){let q=T[0],J=T[1],ge;return J<q&&(ge=q,q=J,J=ge),[x.invert(q),x.invert(J)]}}function ot(x){return function(T){let q=x.range(),J=T[0],ge=T[1],Fe=-1,it,$t,En,_n;for(ge<J&&($t=J,J=ge,ge=$t),En=0,_n=q.length;En<_n;++En)q[En]>=J&&q[En]<=ge&&(Fe<0&&(Fe=En),it=En);if(!(Fe<0))return J=x.invertExtent(q[Fe]),ge=x.invertExtent(q[it]),[J[0]===void 0?J[1]:J[0],ge[1]===void 0?ge[0]:ge[1]]}}function at(x,T){return x==null||T==null?NaN:x<T?-1:x>T?1:x>=T?0:NaN}function Ze(x){let T=x,q=x,J=x;x.length!==2&&(T=($t,En)=>x($t)-En,q=at,J=($t,En)=>at(x($t),En));function ge($t,En,_n=0,kn=$t.length){if(_n<kn){if(q(En,En)!==0)return kn;do{let Hn=_n+kn>>>1;J($t[Hn],En)<0?_n=Hn+1:kn=Hn}while(_n<kn)}return _n}function Fe($t,En,_n=0,kn=$t.length){if(_n<kn){if(q(En,En)!==0)return kn;do{let Hn=_n+kn>>>1;J($t[Hn],En)<=0?_n=Hn+1:kn=Hn}while(_n<kn)}return _n}function it($t,En,_n=0,kn=$t.length){let Hn=ge($t,En,_n,kn-1);return Hn>_n&&T($t[Hn-1],En)>-T($t[Hn],En)?Hn-1:Hn}return{left:ge,center:it,right:Fe}}function Tt(x){return x===null?NaN:+x}let Ue=Ze(at).right;Ze(Tt).center;var te=Ue;class st extends Map{constructor(T,q=xe){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:q}}),T!=null)for(let[J,ge]of T)this.set(J,ge)}get(T){return super.get(be(this,T))}has(T){return super.has(be(this,T))}set(T,q){return super.set(Re(this,T),q)}delete(T){return super.delete(Ae(this,T))}}function be({_intern:x,_key:T},q){let J=T(q);return x.has(J)?x.get(J):q}function Re({_intern:x,_key:T},q){let J=T(q);return x.has(J)?x.get(J):(x.set(J,q),q)}function Ae({_intern:x,_key:T},q){let J=T(q);return x.has(J)&&(q=x.get(J),x.delete(J)),q}function xe(x){return x!==null&&typeof x=="object"?x.valueOf():x}var Je=Math.sqrt(50),lt=Math.sqrt(10),Qt=Math.sqrt(2);function Et(x,T,q){var J,ge=-1,Fe,it,$t;if(T=+T,x=+x,q=+q,x===T&&q>0)return[x];if((J=T<x)&&(Fe=x,x=T,T=Fe),($t=mn(x,T,q))===0||!isFinite($t))return[];if($t>0){let En=Math.round(x/$t),_n=Math.round(T/$t);for(En*$t<x&&++En,_n*$t>T&&--_n,it=new Array(Fe=_n-En+1);++ge<Fe;)it[ge]=(En+ge)*$t}else{$t=-$t;let En=Math.round(x*$t),_n=Math.round(T*$t);for(En/$t<x&&++En,_n/$t>T&&--_n,it=new Array(Fe=_n-En+1);++ge<Fe;)it[ge]=(En+ge)/$t}return J&&it.reverse(),it}function mn(x,T,q){var J=(T-x)/Math.max(0,q),ge=Math.floor(Math.log(J)/Math.LN10),Fe=J/Math.pow(10,ge);return ge>=0?(Fe>=Je?10:Fe>=lt?5:Fe>=Qt?2:1)*Math.pow(10,ge):-Math.pow(10,-ge)/(Fe>=Je?10:Fe>=lt?5:Fe>=Qt?2:1)}function Lt(x,T,q){var J=Math.abs(T-x)/Math.max(0,q),ge=Math.pow(10,Math.floor(Math.log(J)/Math.LN10)),Fe=J/ge;return Fe>=Je?ge*=10:Fe>=lt?ge*=5:Fe>=Qt&&(ge*=2),T<x?-ge:ge}function kt(x,T,q=Tt){if(!!(J=x.length)){if((T=+T)<=0||J<2)return+q(x[0],0,x);if(T>=1)return+q(x[J-1],J-1,x);var J,ge=(J-1)*T,Fe=Math.floor(ge),it=+q(x[Fe],Fe,x),$t=+q(x[Fe+1],Fe+1,x);return it+($t-it)*(ge-Fe)}}function cn(x,T,q){x=+x,T=+T,q=(ge=arguments.length)<2?(T=x,x=0,1):ge<3?1:+q;for(var J=-1,ge=Math.max(0,Math.ceil((T-x)/q))|0,Fe=new Array(ge);++J<ge;)Fe[J]=x+J*q;return Fe}function wt(x,T){switch(arguments.length){case 0:break;case 1:this.range(x);break;default:this.range(T).domain(x);break}return this}function Ee(x,T){switch(arguments.length){case 0:break;case 1:{typeof x=="function"?this.interpolator(x):this.range(x);break}default:{this.domain(x),typeof T=="function"?this.interpolator(T):this.range(T);break}}return this}let Ie=Symbol("implicit");function Ce(){var x=new st,T=[],q=[],J=Ie;function ge(Fe){let it=x.get(Fe);if(it===void 0){if(J!==Ie)return J;x.set(Fe,it=T.push(Fe)-1)}return q[it%q.length]}return ge.domain=function(Fe){if(!arguments.length)return T.slice();T=[],x=new st;for(let it of Fe)x.has(it)||x.set(it,T.push(it)-1);return ge},ge.range=function(Fe){return arguments.length?(q=Array.from(Fe),ge):q.slice()},ge.unknown=function(Fe){return arguments.length?(J=Fe,ge):J},ge.copy=function(){return Ce(T,q).unknown(J)},wt.apply(ge,arguments),ge}function fe(x,T,q){x.prototype=T.prototype=q,q.constructor=x}function rt(x,T){var q=Object.create(x.prototype);for(var J in T)q[J]=T[J];return q}function Xe(){}var de=.7,Ge=1/de,Ot="\\s*([+-]?\\d+)\\s*",Nt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",en=/^#([0-9a-f]{3,8})$/,Xt=new RegExp("^rgb\\("+[Ot,Ot,Ot]+"\\)$"),bn=new RegExp("^rgb\\("+[zt,zt,zt]+"\\)$"),Tn=new RegExp("^rgba\\("+[Ot,Ot,Ot,Nt]+"\\)$"),Dn=new RegExp("^rgba\\("+[zt,zt,zt,Nt]+"\\)$"),Ut=new RegExp("^hsl\\("+[Nt,zt,zt]+"\\)$"),pn=new RegExp("^hsla\\("+[Nt,zt,zt,Nt]+"\\)$"),qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fe(Xe,$e,{copy:function(x){return Object.assign(new this.constructor,this,x)},displayable:function(){return this.rgb().displayable()},hex:sr,formatHex:sr,formatHsl:In,formatRgb:Ne,toString:Ne});function sr(){return this.rgb().formatHex()}function In(){return Pn(this).formatHsl()}function Ne(){return this.rgb().formatRgb()}function $e(x){var T,q;return x=(x+"").trim().toLowerCase(),(T=en.exec(x))?(q=T[1].length,T=parseInt(T[1],16),q===6?De(T):q===3?new nn(T>>8&15|T>>4&240,T>>4&15|T&240,(T&15)<<4|T&15,1):q===8?qt(T>>24&255,T>>16&255,T>>8&255,(T&255)/255):q===4?qt(T>>12&15|T>>8&240,T>>8&15|T>>4&240,T>>4&15|T&240,((T&15)<<4|T&15)/255):null):(T=Xt.exec(x))?new nn(T[1],T[2],T[3],1):(T=bn.exec(x))?new nn(T[1]*255/100,T[2]*255/100,T[3]*255/100,1):(T=Tn.exec(x))?qt(T[1],T[2],T[3],T[4]):(T=Dn.exec(x))?qt(T[1]*255/100,T[2]*255/100,T[3]*255/100,T[4]):(T=Ut.exec(x))?Zn(T[1],T[2]/100,T[3]/100,1):(T=pn.exec(x))?Zn(T[1],T[2]/100,T[3]/100,T[4]):qn.hasOwnProperty(x)?De(qn[x]):x==="transparent"?new nn(NaN,NaN,NaN,0):null}function De(x){return new nn(x>>16&255,x>>8&255,x&255,1)}function qt(x,T,q,J){return J<=0&&(x=T=q=NaN),new nn(x,T,q,J)}function yt(x){return x instanceof Xe||(x=$e(x)),x?(x=x.rgb(),new nn(x.r,x.g,x.b,x.opacity)):new nn}function mt(x,T,q,J){return arguments.length===1?yt(x):new nn(x,T,q,J??1)}function nn(x,T,q,J){this.r=+x,this.g=+T,this.b=+q,this.opacity=+J}fe(nn,mt,rt(Xe,{brighter:function(x){return x=x==null?Ge:Math.pow(Ge,x),new nn(this.r*x,this.g*x,this.b*x,this.opacity)},darker:function(x){return x=x==null?de:Math.pow(de,x),new nn(this.r*x,this.g*x,this.b*x,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wt,formatHex:Wt,formatRgb:Fn,toString:Fn}));function Wt(){return"#"+Qn(this.r)+Qn(this.g)+Qn(this.b)}function Fn(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(x===1?")":", "+x+")")}function Qn(x){return x=Math.max(0,Math.min(255,Math.round(x)||0)),(x<16?"0":"")+x.toString(16)}function Zn(x,T,q,J){return J<=0?x=T=q=NaN:q<=0||q>=1?x=T=NaN:T<=0&&(x=NaN),new Ye(x,T,q,J)}function Pn(x){if(x instanceof Ye)return new Ye(x.h,x.s,x.l,x.opacity);if(x instanceof Xe||(x=$e(x)),!x)return new Ye;if(x instanceof Ye)return x;x=x.rgb();var T=x.r/255,q=x.g/255,J=x.b/255,ge=Math.min(T,q,J),Fe=Math.max(T,q,J),it=NaN,$t=Fe-ge,En=(Fe+ge)/2;return $t?(T===Fe?it=(q-J)/$t+(q<J)*6:q===Fe?it=(J-T)/$t+2:it=(T-q)/$t+4,$t/=En<.5?Fe+ge:2-Fe-ge,it*=60):$t=En>0&&En<1?0:it,new Ye(it,$t,En,x.opacity)}function or(x,T,q,J){return arguments.length===1?Pn(x):new Ye(x,T,q,J??1)}function Ye(x,T,q,J){this.h=+x,this.s=+T,this.l=+q,this.opacity=+J}fe(Ye,or,rt(Xe,{brighter:function(x){return x=x==null?Ge:Math.pow(Ge,x),new Ye(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?de:Math.pow(de,x),new Ye(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=this.h%360+(this.h<0)*360,T=isNaN(x)||isNaN(this.s)?0:this.s,q=this.l,J=q+(q<.5?q:1-q)*T,ge=2*q-J;return new nn(gt(x>=240?x-240:x+120,ge,J),gt(x,ge,J),gt(x<120?x+240:x-120,ge,J),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(x===1?")":", "+x+")")}}));function gt(x,T,q){return(x<60?T+(q-T)*x/60:x<180?q:x<240?T+(q-T)*(240-x)/60:T)*255}let se=Math.PI/180,Pe=180/Math.PI,et=18,At=.96422,fn=1,on=.82521,ct=4/29,re=6/29,Te=3*re*re,je=re*re*re;function ht(x){if(x instanceof Ft)return new Ft(x.l,x.a,x.b,x.opacity);if(x instanceof Sn)return vn(x);x instanceof nn||(x=yt(x));var T=nt(x.r),q=nt(x.g),J=nt(x.b),ge=ne((.2225045*T+.7168786*q+.0606169*J)/fn),Fe,it;return T===q&&q===J?Fe=it=ge:(Fe=ne((.4360747*T+.3850649*q+.1430804*J)/At),it=ne((.0139322*T+.0971045*q+.7141733*J)/on)),new Ft(116*ge-16,500*(Fe-ge),200*(ge-it),x.opacity)}function vt(x,T,q,J){return arguments.length===1?ht(x):new Ft(x,T,q,J??1)}function Ft(x,T,q,J){this.l=+x,this.a=+T,this.b=+q,this.opacity=+J}fe(Ft,vt,rt(Xe,{brighter:function(x){return new Ft(this.l+et*(x??1),this.a,this.b,this.opacity)},darker:function(x){return new Ft(this.l-et*(x??1),this.a,this.b,this.opacity)},rgb:function(){var x=(this.l+16)/116,T=isNaN(this.a)?x:x+this.a/500,q=isNaN(this.b)?x:x-this.b/200;return T=At*Se(T),x=fn*Se(x),q=on*Se(q),new nn(Ve(3.1338561*T-1.6168667*x-.4906146*q),Ve(-.9787684*T+1.9161415*x+.033454*q),Ve(.0719453*T-.2289914*x+1.4052427*q),this.opacity)}}));function ne(x){return x>je?Math.pow(x,1/3):x/Te+ct}function Se(x){return x>re?x*x*x:Te*(x-ct)}function Ve(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function nt(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function Bt(x){if(x instanceof Sn)return new Sn(x.h,x.c,x.l,x.opacity);if(x instanceof Ft||(x=ht(x)),x.a===0&&x.b===0)return new Sn(NaN,0<x.l&&x.l<100?0:NaN,x.l,x.opacity);var T=Math.atan2(x.b,x.a)*Pe;return new Sn(T<0?T+360:T,Math.sqrt(x.a*x.a+x.b*x.b),x.l,x.opacity)}function rn(x,T,q,J){return arguments.length===1?Bt(x):new Sn(x,T,q,J??1)}function Sn(x,T,q,J){this.h=+x,this.c=+T,this.l=+q,this.opacity=+J}function vn(x){if(isNaN(x.h))return new Ft(x.l,0,0,x.opacity);var T=x.h*se;return new Ft(x.l,Math.cos(T)*x.c,Math.sin(T)*x.c,x.opacity)}fe(Sn,rn,rt(Xe,{brighter:function(x){return new Sn(this.h,this.c,this.l+et*(x??1),this.opacity)},darker:function(x){return new Sn(this.h,this.c,this.l-et*(x??1),this.opacity)},rgb:function(){return vn(this).rgb()}}));var xn=-.14861,zn=1.78277,Oe=-.29227,qe=-.90649,Ct=1.97294,O=Ct*qe,H=Ct*zn,ve=zn*Oe-qe*xn;function pe(x){if(x instanceof oe)return new oe(x.h,x.s,x.l,x.opacity);x instanceof nn||(x=yt(x));var T=x.r/255,q=x.g/255,J=x.b/255,ge=(ve*J+O*T-H*q)/(ve+O-H),Fe=J-ge,it=(Ct*(q-ge)-Oe*Fe)/qe,$t=Math.sqrt(it*it+Fe*Fe)/(Ct*ge*(1-ge)),En=$t?Math.atan2(it,Fe)*Pe-120:NaN;return new oe(En<0?En+360:En,$t,ge,x.opacity)}function K(x,T,q,J){return arguments.length===1?pe(x):new oe(x,T,q,J??1)}function oe(x,T,q,J){this.h=+x,this.s=+T,this.l=+q,this.opacity=+J}fe(oe,K,rt(Xe,{brighter:function(x){return x=x==null?Ge:Math.pow(Ge,x),new oe(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?de:Math.pow(de,x),new oe(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=isNaN(this.h)?0:(this.h+120)*se,T=+this.l,q=isNaN(this.s)?0:this.s*T*(1-T),J=Math.cos(x),ge=Math.sin(x);return new nn(255*(T+q*(xn*J+zn*ge)),255*(T+q*(Oe*J+qe*ge)),255*(T+q*(Ct*J)),this.opacity)}}));function le(x,T,q,J,ge){var Fe=x*x,it=Fe*x;return((1-3*x+3*Fe-it)*T+(4-6*Fe+3*it)*q+(1+3*x+3*Fe-3*it)*J+it*ge)/6}function We(x){var T=x.length-1;return function(q){var J=q<=0?q=0:q>=1?(q=1,T-1):Math.floor(q*T),ge=x[J],Fe=x[J+1],it=J>0?x[J-1]:2*ge-Fe,$t=J<T-1?x[J+2]:2*Fe-ge;return le((q-J/T)*T,it,ge,Fe,$t)}}function Rt(x){var T=x.length;return function(q){var J=Math.floor(((q%=1)<0?++q:q)*T),ge=x[(J+T-1)%T],Fe=x[J%T],it=x[(J+1)%T],$t=x[(J+2)%T];return le((q-J/T)*T,ge,Fe,it,$t)}}var bt=x=>()=>x;function ln(x,T){return function(q){return x+q*T}}function S(x,T,q){return x=Math.pow(x,q),T=Math.pow(T,q)-x,q=1/q,function(J){return Math.pow(x+J*T,q)}}function B(x,T){var q=T-x;return q?ln(x,q>180||q<-180?q-360*Math.round(q/360):q):bt(isNaN(x)?T:x)}function ee(x){return(x=+x)==1?_e:function(T,q){return q-T?S(T,q,x):bt(isNaN(T)?q:T)}}function _e(x,T){var q=T-x;return q?ln(x,q):bt(isNaN(x)?T:x)}var ft=function x(T){var q=ee(T);function J(ge,Fe){var it=q((ge=mt(ge)).r,(Fe=mt(Fe)).r),$t=q(ge.g,Fe.g),En=q(ge.b,Fe.b),_n=_e(ge.opacity,Fe.opacity);return function(kn){return ge.r=it(kn),ge.g=$t(kn),ge.b=En(kn),ge.opacity=_n(kn),ge+""}}return J.gamma=x,J}(1);function St(x){return function(T){var q=T.length,J=new Array(q),ge=new Array(q),Fe=new Array(q),it,$t;for(it=0;it<q;++it)$t=mt(T[it]),J[it]=$t.r||0,ge[it]=$t.g||0,Fe[it]=$t.b||0;return J=x(J),ge=x(ge),Fe=x(Fe),$t.opacity=1,function(En){return $t.r=J(En),$t.g=ge(En),$t.b=Fe(En),$t+""}}}var Jt=St(We),Kt=St(Rt);function hn(x,T){T||(T=[]);var q=x?Math.min(T.length,x.length):0,J=T.slice(),ge;return function(Fe){for(ge=0;ge<q;++ge)J[ge]=x[ge]*(1-Fe)+T[ge]*Fe;return J}}function Bn(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function jn(x,T){return(Bn(T)?hn:Vn)(x,T)}function Vn(x,T){var q=T?T.length:0,J=x?Math.min(q,x.length):0,ge=new Array(J),Fe=new Array(q),it;for(it=0;it<J;++it)ge[it]=es(x[it],T[it]);for(;it<q;++it)Fe[it]=T[it];return function($t){for(it=0;it<J;++it)Fe[it]=ge[it]($t);return Fe}}function Jr(x,T){var q=new Date;return x=+x,T=+T,function(J){return q.setTime(x*(1-J)+T*J),q}}function Vr(x,T){return x=+x,T=+T,function(q){return x*(1-q)+T*q}}function yr(x,T){var q={},J={},ge;(x===null||typeof x!="object")&&(x={}),(T===null||typeof T!="object")&&(T={});for(ge in T)ge in x?q[ge]=es(x[ge],T[ge]):J[ge]=T[ge];return function(Fe){for(ge in q)J[ge]=q[ge](Fe);return J}}var Mr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xi=new RegExp(Mr.source,"g");function ai(x){return function(){return x}}function Ji(x){return function(T){return x(T)+""}}function Es(x,T){var q=Mr.lastIndex=xi.lastIndex=0,J,ge,Fe,it=-1,$t=[],En=[];for(x=x+"",T=T+"";(J=Mr.exec(x))&&(ge=xi.exec(T));)(Fe=ge.index)>q&&(Fe=T.slice(q,Fe),$t[it]?$t[it]+=Fe:$t[++it]=Fe),(J=J[0])===(ge=ge[0])?$t[it]?$t[it]+=ge:$t[++it]=ge:($t[++it]=null,En.push({i:it,x:Vr(J,ge)})),q=xi.lastIndex;return q<T.length&&(Fe=T.slice(q),$t[it]?$t[it]+=Fe:$t[++it]=Fe),$t.length<2?En[0]?Ji(En[0].x):ai(T):(T=En.length,function(_n){for(var kn=0,Hn;kn<T;++kn)$t[(Hn=En[kn]).i]=Hn.x(_n);return $t.join("")})}function es(x,T){var q=typeof T,J;return T==null||q==="boolean"?bt(T):(q==="number"?Vr:q==="string"?(J=$e(T))?(T=J,ft):Es:T instanceof $e?ft:T instanceof Date?Jr:Bn(T)?hn:Array.isArray(T)?Vn:typeof T.valueOf!="function"&&typeof T.toString!="function"||isNaN(T)?yr:Vr)(x,T)}function Ea(x){var T=x.length;return function(q){return x[Math.max(0,Math.min(T-1,Math.floor(q*T)))]}}function da(x,T){var q=B(+x,+T);return function(J){var ge=q(J);return ge-360*Math.floor(ge/360)}}function fl(x,T){return x=+x,T=+T,function(q){return Math.round(x*(1-q)+T*q)}}var wc=180/Math.PI,au={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uu(x,T,q,J,ge,Fe){var it,$t,En;return(it=Math.sqrt(x*x+T*T))&&(x/=it,T/=it),(En=x*q+T*J)&&(q-=x*En,J-=T*En),($t=Math.sqrt(q*q+J*J))&&(q/=$t,J/=$t,En/=$t),x*J<T*q&&(x=-x,T=-T,En=-En,it=-it),{translateX:ge,translateY:Fe,rotate:Math.atan2(T,x)*wc,skewX:Math.atan(En)*wc,scaleX:it,scaleY:$t}}var Gu;function wu(x){let T=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(x+"");return T.isIdentity?au:uu(T.a,T.b,T.c,T.d,T.e,T.f)}function Ac(x){return x==null||(Gu||(Gu=document.createElementNS("http://www.w3.org/2000/svg","g")),Gu.setAttribute("transform",x),!(x=Gu.transform.baseVal.consolidate()))?au:(x=x.matrix,uu(x.a,x.b,x.c,x.d,x.e,x.f))}function Zo(x,T,q,J){function ge(_n){return _n.length?_n.pop()+" ":""}function Fe(_n,kn,Hn,ir,Dr,Kr){if(_n!==Hn||kn!==ir){var Lr=Dr.push("translate(",null,T,null,q);Kr.push({i:Lr-4,x:Vr(_n,Hn)},{i:Lr-2,x:Vr(kn,ir)})}else(Hn||ir)&&Dr.push("translate("+Hn+T+ir+q)}function it(_n,kn,Hn,ir){_n!==kn?(_n-kn>180?kn+=360:kn-_n>180&&(_n+=360),ir.push({i:Hn.push(ge(Hn)+"rotate(",null,J)-2,x:Vr(_n,kn)})):kn&&Hn.push(ge(Hn)+"rotate("+kn+J)}function $t(_n,kn,Hn,ir){_n!==kn?ir.push({i:Hn.push(ge(Hn)+"skewX(",null,J)-2,x:Vr(_n,kn)}):kn&&Hn.push(ge(Hn)+"skewX("+kn+J)}function En(_n,kn,Hn,ir,Dr,Kr){if(_n!==Hn||kn!==ir){var Lr=Dr.push(ge(Dr)+"scale(",null,",",null,")");Kr.push({i:Lr-4,x:Vr(_n,Hn)},{i:Lr-2,x:Vr(kn,ir)})}else(Hn!==1||ir!==1)&&Dr.push(ge(Dr)+"scale("+Hn+","+ir+")")}return function(_n,kn){var Hn=[],ir=[];return _n=x(_n),kn=x(kn),Fe(_n.translateX,_n.translateY,kn.translateX,kn.translateY,Hn,ir),it(_n.rotate,kn.rotate,Hn,ir),$t(_n.skewX,kn.skewX,Hn,ir),En(_n.scaleX,_n.scaleY,kn.scaleX,kn.scaleY,Hn,ir),_n=kn=null,function(Dr){for(var Kr=-1,Lr=ir.length,bi;++Kr<Lr;)Hn[(bi=ir[Kr]).i]=bi.x(Dr);return Hn.join("")}}}var Yu=Zo(wu,"px, ","px)","deg)"),Gc=Zo(Ac,", ",")",")"),Qe=1e-12;function Gt(x){return((x=Math.exp(x))+1/x)/2}function Mn(x){return((x=Math.exp(x))-1/x)/2}function Yn(x){return((x=Math.exp(2*x))-1)/(x+1)}var ri=function x(T,q,J){function ge(Fe,it){var $t=Fe[0],En=Fe[1],_n=Fe[2],kn=it[0],Hn=it[1],ir=it[2],Dr=kn-$t,Kr=Hn-En,Lr=Dr*Dr+Kr*Kr,bi,ki;if(Lr<Qe)ki=Math.log(ir/_n)/T,bi=function(Yi){return[$t+Yi*Dr,En+Yi*Kr,_n*Math.exp(T*Yi*ki)]};else{var Fs=Math.sqrt(Lr),fs=(ir*ir-_n*_n+J*Lr)/(2*_n*q*Fs),Js=(ir*ir-_n*_n-J*Lr)/(2*ir*q*Fs),xs=Math.log(Math.sqrt(fs*fs+1)-fs),Gr=Math.log(Math.sqrt(Js*Js+1)-Js);ki=(Gr-xs)/T,bi=function(Yi){var ka=Yi*ki,Ja=Gt(xs),Nu=_n/(q*Fs)*(Ja*Yn(T*ka+xs)-Mn(xs));return[$t+Nu*Dr,En+Nu*Kr,_n*Ja/Gt(T*ka+xs)]}}return bi.duration=ki*1e3*T/Math.SQRT2,bi}return ge.rho=function(Fe){var it=Math.max(.001,+Fe),$t=it*it,En=$t*$t;return x(it,$t,En)},ge}(Math.SQRT2,2,4);function Br(x){return function(T,q){var J=x((T=or(T)).h,(q=or(q)).h),ge=_e(T.s,q.s),Fe=_e(T.l,q.l),it=_e(T.opacity,q.opacity);return function($t){return T.h=J($t),T.s=ge($t),T.l=Fe($t),T.opacity=it($t),T+""}}}var Xr=Br(B),Cs=Br(_e);function lo(x,T){var q=_e((x=vt(x)).l,(T=vt(T)).l),J=_e(x.a,T.a),ge=_e(x.b,T.b),Fe=_e(x.opacity,T.opacity);return function(it){return x.l=q(it),x.a=J(it),x.b=ge(it),x.opacity=Fe(it),x+""}}function no(x){return function(T,q){var J=x((T=rn(T)).h,(q=rn(q)).h),ge=_e(T.c,q.c),Fe=_e(T.l,q.l),it=_e(T.opacity,q.opacity);return function($t){return T.h=J($t),T.c=ge($t),T.l=Fe($t),T.opacity=it($t),T+""}}}var as=no(B),ro=no(_e);function co(x){return function T(q){q=+q;function J(ge,Fe){var it=x((ge=K(ge)).h,(Fe=K(Fe)).h),$t=_e(ge.s,Fe.s),En=_e(ge.l,Fe.l),_n=_e(ge.opacity,Fe.opacity);return function(kn){return ge.h=it(kn),ge.s=$t(kn),ge.l=En(Math.pow(kn,q)),ge.opacity=_n(kn),ge+""}}return J.gamma=T,J}(1)}var hi=co(B),Ei=co(_e);function Vi(x,T){T===void 0&&(T=x,x=es);for(var q=0,J=T.length-1,ge=T[0],Fe=new Array(J<0?0:J);q<J;)Fe[q]=x(ge,ge=T[++q]);return function(it){var $t=Math.max(0,Math.min(J-1,Math.floor(it*=J)));return Fe[$t](it-$t)}}function Ko(x,T){for(var q=new Array(T),J=0;J<T;++J)q[J]=x(J/(T-1));return q}var la=Object.freeze({__proto__:null,interpolate:es,interpolateArray:jn,interpolateBasis:We,interpolateBasisClosed:Rt,interpolateDate:Jr,interpolateDiscrete:Ea,interpolateHue:da,interpolateNumber:Vr,interpolateNumberArray:hn,interpolateObject:yr,interpolateRound:fl,interpolateString:Es,interpolateTransformCss:Yu,interpolateTransformSvg:Gc,interpolateZoom:ri,interpolateRgb:ft,interpolateRgbBasis:Jt,interpolateRgbBasisClosed:Kt,interpolateHsl:Xr,interpolateHslLong:Cs,interpolateLab:lo,interpolateHcl:as,interpolateHclLong:ro,interpolateCubehelix:hi,interpolateCubehelixLong:Ei,piecewise:Vi,quantize:Ko});function ca(x){return function(){return x}}function fo(x){return+x}var us=[0,1];function hs(x){return x}function Xi(x,T){return(T-=x=+x)?function(q){return(q-x)/T}:ca(isNaN(T)?NaN:.5)}function lu(x,T){var q;return x>T&&(q=x,x=T,T=q),function(J){return Math.max(x,Math.min(T,J))}}function Is(x,T,q){var J=x[0],ge=x[1],Fe=T[0],it=T[1];return ge<J?(J=Xi(ge,J),Fe=q(it,Fe)):(J=Xi(J,ge),Fe=q(Fe,it)),function($t){return Fe(J($t))}}function ha(x,T,q){var J=Math.min(x.length,T.length)-1,ge=new Array(J),Fe=new Array(J),it=-1;for(x[J]<x[0]&&(x=x.slice().reverse(),T=T.slice().reverse());++it<J;)ge[it]=Xi(x[it],x[it+1]),Fe[it]=q(T[it],T[it+1]);return function($t){var En=te(x,$t,1,J)-1;return Fe[En](ge[En]($t))}}function ia(x,T){return T.domain(x.domain()).range(x.range()).interpolate(x.interpolate()).clamp(x.clamp()).unknown(x.unknown())}function Ni(){var x=us,T=us,q=es,J,ge,Fe,it=hs,$t,En,_n;function kn(){var ir=Math.min(x.length,T.length);return it!==hs&&(it=lu(x[0],x[ir-1])),$t=ir>2?ha:Is,En=_n=null,Hn}function Hn(ir){return ir==null||isNaN(ir=+ir)?Fe:(En||(En=$t(x.map(J),T,q)))(J(it(ir)))}return Hn.invert=function(ir){return it(ge((_n||(_n=$t(T,x.map(J),Vr)))(ir)))},Hn.domain=function(ir){return arguments.length?(x=Array.from(ir,fo),kn()):x.slice()},Hn.range=function(ir){return arguments.length?(T=Array.from(ir),kn()):T.slice()},Hn.rangeRound=function(ir){return T=Array.from(ir),q=fl,kn()},Hn.clamp=function(ir){return arguments.length?(it=ir?!0:hs,kn()):it!==hs},Hn.interpolate=function(ir){return arguments.length?(q=ir,kn()):q},Hn.unknown=function(ir){return arguments.length?(Fe=ir,Hn):Fe},function(ir,Dr){return J=ir,ge=Dr,kn()}}function Ho(){return Ni()(hs,hs)}function ys(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function Ii(x,T){if((q=(x=T?x.toExponential(T-1):x.toExponential()).indexOf("e"))<0)return null;var q,J=x.slice(0,q);return[J.length>1?J[0]+J.slice(2):J,+x.slice(q+1)]}function Do(x){return x=Ii(Math.abs(x)),x?x[1]:NaN}function Oa(x,T){return function(q,J){for(var ge=q.length,Fe=[],it=0,$t=x[0],En=0;ge>0&&$t>0&&(En+$t+1>J&&($t=Math.max(1,J-En)),Fe.push(q.substring(ge-=$t,ge+$t)),!((En+=$t+1)>J));)$t=x[it=(it+1)%x.length];return Fe.reverse().join(T)}}function Ga(x){return function(T){return T.replace(/[0-9]/g,function(q){return x[+q]})}}var Oo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ao(x){if(!(T=Oo.exec(x)))throw new Error("invalid format: "+x);var T;return new ja({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}Ao.prototype=ja.prototype;function ja(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}ja.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cu(x){e:for(var T=x.length,q=1,J=-1,ge;q<T;++q)switch(x[q]){case".":J=ge=q;break;case"0":J===0&&(J=q),ge=q;break;default:if(!+x[q])break e;J>0&&(J=0);break}return J>0?x.slice(0,J)+x.slice(ge+1):x}var qa;function sa(x,T){var q=Ii(x,T);if(!q)return x+"";var J=q[0],ge=q[1],Fe=ge-(qa=Math.max(-8,Math.min(8,Math.floor(ge/3)))*3)+1,it=J.length;return Fe===it?J:Fe>it?J+new Array(Fe-it+1).join("0"):Fe>0?J.slice(0,Fe)+"."+J.slice(Fe):"0."+new Array(1-Fe).join("0")+Ii(x,Math.max(0,T+Fe-1))[0]}function oa(x,T){var q=Ii(x,T);if(!q)return x+"";var J=q[0],ge=q[1];return ge<0?"0."+new Array(-ge).join("0")+J:J.length>ge+1?J.slice(0,ge+1)+"."+J.slice(ge+1):J+new Array(ge-J.length+2).join("0")}var dl={"%":(x,T)=>(x*100).toFixed(T),b:x=>Math.round(x).toString(2),c:x=>x+"",d:ys,e:(x,T)=>x.toExponential(T),f:(x,T)=>x.toFixed(T),g:(x,T)=>x.toPrecision(T),o:x=>Math.round(x).toString(8),p:(x,T)=>oa(x*100,T),r:oa,s:sa,X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function Pl(x){return x}var ea=Array.prototype.map,Ku=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ui(x){var T=x.grouping===void 0||x.thousands===void 0?Pl:Oa(ea.call(x.grouping,Number),x.thousands+""),q=x.currency===void 0?"":x.currency[0]+"",J=x.currency===void 0?"":x.currency[1]+"",ge=x.decimal===void 0?".":x.decimal+"",Fe=x.numerals===void 0?Pl:Ga(ea.call(x.numerals,String)),it=x.percent===void 0?"%":x.percent+"",$t=x.minus===void 0?"\u2212":x.minus+"",En=x.nan===void 0?"NaN":x.nan+"";function _n(Hn){Hn=Ao(Hn);var ir=Hn.fill,Dr=Hn.align,Kr=Hn.sign,Lr=Hn.symbol,bi=Hn.zero,ki=Hn.width,Fs=Hn.comma,fs=Hn.precision,Js=Hn.trim,xs=Hn.type;xs==="n"?(Fs=!0,xs="g"):dl[xs]||(fs===void 0&&(fs=12),Js=!0,xs="g"),(bi||ir==="0"&&Dr==="=")&&(bi=!0,ir="0",Dr="=");var Gr=Lr==="$"?q:Lr==="#"&&/[boxX]/.test(xs)?"0"+xs.toLowerCase():"",Yi=Lr==="$"?J:/[%p]/.test(xs)?it:"",ka=dl[xs],Ja=/[defgprs%]/.test(xs);fs=fs===void 0?6:/[gprs]/.test(xs)?Math.max(1,Math.min(21,fs)):Math.max(0,Math.min(20,fs));function Nu(_s){var Sa=Gr,$a=Yi,El,jd,nl;if(xs==="c")$a=ka(_s)+$a,_s="";else{_s=+_s;var l0=_s<0||1/_s<0;if(_s=isNaN(_s)?En:ka(Math.abs(_s),fs),Js&&(_s=cu(_s)),l0&&+_s==0&&Kr!=="+"&&(l0=!1),Sa=(l0?Kr==="("?Kr:$t:Kr==="-"||Kr==="("?"":Kr)+Sa,$a=(xs==="s"?Ku[8+qa/3]:"")+$a+(l0&&Kr==="("?")":""),Ja){for(El=-1,jd=_s.length;++El<jd;)if(nl=_s.charCodeAt(El),48>nl||nl>57){$a=(nl===46?ge+_s.slice(El+1):_s.slice(El))+$a,_s=_s.slice(0,El);break}}}Fs&&!bi&&(_s=T(_s,1/0));var ya=Sa.length+_s.length+$a.length,oc=ya<ki?new Array(ki-ya+1).join(ir):"";switch(Fs&&bi&&(_s=T(oc+_s,oc.length?ki-$a.length:1/0),oc=""),Dr){case"<":_s=Sa+_s+$a+oc;break;case"=":_s=Sa+oc+_s+$a;break;case"^":_s=oc.slice(0,ya=oc.length>>1)+Sa+_s+$a+oc.slice(ya);break;default:_s=oc+Sa+_s+$a;break}return Fe(_s)}return Nu.toString=function(){return Hn+""},Nu}function kn(Hn,ir){var Dr=_n((Hn=Ao(Hn),Hn.type="f",Hn)),Kr=Math.max(-8,Math.min(8,Math.floor(Do(ir)/3)))*3,Lr=Math.pow(10,-Kr),bi=Ku[8+Kr/3];return function(ki){return Dr(Lr*ki)+bi}}return{format:_n,formatPrefix:kn}}var ns,ls,pr;rs({thousands:",",grouping:[3],currency:["$",""]});function rs(x){return ns=ui(x),ls=ns.format,pr=ns.formatPrefix,ns}function Le(x){return Math.max(0,-Do(Math.abs(x)))}function pt(x,T){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Do(T)/3)))*3-Do(Math.abs(x)))}function Yt(x,T){return x=Math.abs(x),T=Math.abs(T)-x,Math.max(0,Do(T)-Do(x))+1}function jt(x,T,q,J){var ge=Lt(x,T,q),Fe;switch(J=Ao(J??",f"),J.type){case"s":{var it=Math.max(Math.abs(x),Math.abs(T));return J.precision==null&&!isNaN(Fe=pt(ge,it))&&(J.precision=Fe),pr(J,it)}case"":case"e":case"g":case"p":case"r":{J.precision==null&&!isNaN(Fe=Yt(ge,Math.max(Math.abs(x),Math.abs(T))))&&(J.precision=Fe-(J.type==="e"));break}case"f":case"%":{J.precision==null&&!isNaN(Fe=Le(ge))&&(J.precision=Fe-(J.type==="%")*2);break}}return ls(J)}function dn(x){var T=x.domain;return x.ticks=function(q){var J=T();return Et(J[0],J[J.length-1],q??10)},x.tickFormat=function(q,J){var ge=T();return jt(ge[0],ge[ge.length-1],q??10,J)},x.nice=function(q){q==null&&(q=10);var J=T(),ge=0,Fe=J.length-1,it=J[ge],$t=J[Fe],En,_n,kn=10;for($t<it&&(_n=it,it=$t,$t=_n,_n=ge,ge=Fe,Fe=_n);kn-- >0;){if(_n=mn(it,$t,q),_n===En)return J[ge]=it,J[Fe]=$t,T(J);if(_n>0)it=Math.floor(it/_n)*_n,$t=Math.ceil($t/_n)*_n;else if(_n<0)it=Math.ceil(it*_n)/_n,$t=Math.floor($t*_n)/_n;else break;En=_n}return x},x}function Nn(){var x=Ho();return x.copy=function(){return ia(x,Nn())},wt.apply(x,arguments),dn(x)}function Kn(x){var T;function q(J){return J==null||isNaN(J=+J)?T:J}return q.invert=q,q.domain=q.range=function(J){return arguments.length?(x=Array.from(J,fo),q):x.slice()},q.unknown=function(J){return arguments.length?(T=J,q):T},q.copy=function(){return Kn(x).unknown(T)},x=arguments.length?Array.from(x,fo):[0,1],dn(q)}function Un(x,T){x=x.slice();var q=0,J=x.length-1,ge=x[q],Fe=x[J],it;return Fe<ge&&(it=q,q=J,J=it,it=ge,ge=Fe,Fe=it),x[q]=T.floor(ge),x[J]=T.ceil(Fe),x}function br(x){return Math.log(x)}function wr(x){return Math.exp(x)}function Gn(x){return-Math.log(-x)}function ar(x){return-Math.exp(-x)}function er(x){return isFinite(x)?+("1e"+x):x<0?0:x}function gr(x){return x===10?er:x===Math.E?Math.exp:T=>Math.pow(x,T)}function Or(x){return x===Math.E?Math.log:x===10&&Math.log10||x===2&&Math.log2||(x=Math.log(x),T=>Math.log(T)/x)}function di(x){return(T,q)=>-x(-T,q)}function ni(x){let T=x(br,wr),q=T.domain,J=10,ge,Fe;function it(){return ge=Or(J),Fe=gr(J),q()[0]<0?(ge=di(ge),Fe=di(Fe),x(Gn,ar)):x(br,wr),T}return T.base=function($t){return arguments.length?(J=+$t,it()):J},T.domain=function($t){return arguments.length?(q($t),it()):q()},T.ticks=$t=>{let En=q(),_n=En[0],kn=En[En.length-1],Hn=kn<_n;Hn&&([_n,kn]=[kn,_n]);let ir=ge(_n),Dr=ge(kn),Kr,Lr,bi=$t==null?10:+$t,ki=[];if(!(J%1)&&Dr-ir<bi){if(ir=Math.floor(ir),Dr=Math.ceil(Dr),_n>0){for(;ir<=Dr;++ir)for(Kr=1;Kr<J;++Kr)if(Lr=ir<0?Kr/Fe(-ir):Kr*Fe(ir),!(Lr<_n)){if(Lr>kn)break;ki.push(Lr)}}else for(;ir<=Dr;++ir)for(Kr=J-1;Kr>=1;--Kr)if(Lr=ir>0?Kr/Fe(-ir):Kr*Fe(ir),!(Lr<_n)){if(Lr>kn)break;ki.push(Lr)}ki.length*2<bi&&(ki=Et(_n,kn,bi))}else ki=Et(ir,Dr,Math.min(Dr-ir,bi)).map(Fe);return Hn?ki.reverse():ki},T.tickFormat=($t,En)=>{if($t==null&&($t=10),En==null&&(En=J===10?"s":","),typeof En!="function"&&(!(J%1)&&(En=Ao(En)).precision==null&&(En.trim=!0),En=ls(En)),$t===1/0)return En;let _n=Math.max(1,J*$t/T.ticks().length);return kn=>{let Hn=kn/Fe(Math.round(ge(kn)));return Hn*J<J-.5&&(Hn*=J),Hn<=_n?En(kn):""}},T.nice=()=>q(Un(q(),{floor:$t=>Fe(Math.floor(ge($t))),ceil:$t=>Fe(Math.ceil(ge($t)))})),T}function pi(){let x=ni(Ni()).domain([1,10]);return x.copy=()=>ia(x,pi()).base(x.base()),wt.apply(x,arguments),x}function ii(x){return function(T){return Math.sign(T)*Math.log1p(Math.abs(T/x))}}function qr(x){return function(T){return Math.sign(T)*Math.expm1(Math.abs(T))*x}}function Ir(x){var T=1,q=x(ii(T),qr(T));return q.constant=function(J){return arguments.length?x(ii(T=+J),qr(T)):T},dn(q)}function yi(){var x=Ir(Ni());return x.copy=function(){return ia(x,yi()).constant(x.constant())},wt.apply(x,arguments)}function gi(x){return function(T){return T<0?-Math.pow(-T,x):Math.pow(T,x)}}function ss(x){return x<0?-Math.sqrt(-x):Math.sqrt(x)}function ms(x){return x<0?-x*x:x*x}function vi(x){var T=x(hs,hs),q=1;function J(){return q===1?x(hs,hs):q===.5?x(ss,ms):x(gi(q),gi(1/q))}return T.exponent=function(ge){return arguments.length?(q=+ge,J()):q},dn(T)}function Ms(){var x=vi(Ni());return x.copy=function(){return ia(x,Ms()).exponent(x.exponent())},wt.apply(x,arguments),x}function is(){return Ms.apply(null,arguments).exponent(.5)}function pa(){var x=[],T=[],q=[],J;function ge(){var it=0,$t=Math.max(1,T.length);for(q=new Array($t-1);++it<$t;)q[it-1]=kt(x,it/$t);return Fe}function Fe(it){return it==null||isNaN(it=+it)?J:T[te(q,it)]}return Fe.invertExtent=function(it){var $t=T.indexOf(it);return $t<0?[NaN,NaN]:[$t>0?q[$t-1]:x[0],$t<q.length?q[$t]:x[x.length-1]]},Fe.domain=function(it){if(!arguments.length)return x.slice();x=[];for(let $t of it)$t!=null&&!isNaN($t=+$t)&&x.push($t);return x.sort(at),ge()},Fe.range=function(it){return arguments.length?(T=Array.from(it),ge()):T.slice()},Fe.unknown=function(it){return arguments.length?(J=it,Fe):J},Fe.quantiles=function(){return q.slice()},Fe.copy=function(){return pa().domain(x).range(T).unknown(J)},wt.apply(Fe,arguments)}function No(){var x=0,T=1,q=1,J=[.5],ge=[0,1],Fe;function it(En){return En!=null&&En<=En?ge[te(J,En,0,q)]:Fe}function $t(){var En=-1;for(J=new Array(q);++En<q;)J[En]=((En+1)*T-(En-q)*x)/(q+1);return it}return it.domain=function(En){return arguments.length?([x,T]=En,x=+x,T=+T,$t()):[x,T]},it.range=function(En){return arguments.length?(q=(ge=Array.from(En)).length-1,$t()):ge.slice()},it.invertExtent=function(En){var _n=ge.indexOf(En);return _n<0?[NaN,NaN]:_n<1?[x,J[0]]:_n>=q?[J[q-1],T]:[J[_n-1],J[_n]]},it.unknown=function(En){return arguments.length&&(Fe=En),it},it.thresholds=function(){return J.slice()},it.copy=function(){return No().domain([x,T]).range(ge).unknown(Fe)},wt.apply(dn(it),arguments)}function ws(){var x=[.5],T=[0,1],q,J=1;function ge(Fe){return Fe!=null&&Fe<=Fe?T[te(x,Fe,0,J)]:q}return ge.domain=function(Fe){return arguments.length?(x=Array.from(Fe),J=Math.min(x.length,T.length-1),ge):x.slice()},ge.range=function(Fe){return arguments.length?(T=Array.from(Fe),J=Math.min(x.length,T.length-1),ge):T.slice()},ge.invertExtent=function(Fe){var it=T.indexOf(Fe);return[x[it-1],x[it]]},ge.unknown=function(Fe){return arguments.length?(q=Fe,ge):q},ge.copy=function(){return ws().domain(x).range(T).unknown(q)},wt.apply(ge,arguments)}var tn=new Date,Jn=new Date;function yn(x,T,q,J){function ge(Fe){return x(Fe=arguments.length===0?new Date:new Date(+Fe)),Fe}return ge.floor=function(Fe){return x(Fe=new Date(+Fe)),Fe},ge.ceil=function(Fe){return x(Fe=new Date(Fe-1)),T(Fe,1),x(Fe),Fe},ge.round=function(Fe){var it=ge(Fe),$t=ge.ceil(Fe);return Fe-it<$t-Fe?it:$t},ge.offset=function(Fe,it){return T(Fe=new Date(+Fe),it==null?1:Math.floor(it)),Fe},ge.range=function(Fe,it,$t){var En=[],_n;if(Fe=ge.ceil(Fe),$t=$t==null?1:Math.floor($t),!(Fe<it)||!($t>0))return En;do En.push(_n=new Date(+Fe)),T(Fe,$t),x(Fe);while(_n<Fe&&Fe<it);return En},ge.filter=function(Fe){return yn(function(it){if(it>=it)for(;x(it),!Fe(it);)it.setTime(it-1)},function(it,$t){if(it>=it)if($t<0)for(;++$t<=0;)for(;T(it,-1),!Fe(it););else for(;--$t>=0;)for(;T(it,1),!Fe(it););})},q&&(ge.count=function(Fe,it){return tn.setTime(+Fe),Jn.setTime(+it),x(tn),x(Jn),Math.floor(q(tn,Jn))},ge.every=function(Fe){return Fe=Math.floor(Fe),!isFinite(Fe)||!(Fe>0)?null:Fe>1?ge.filter(J?function(it){return J(it)%Fe===0}:function(it){return ge.count(0,it)%Fe===0}):ge}),ge}var Yr=yn(function(){},function(x,T){x.setTime(+x+T)},function(x,T){return T-x});Yr.every=function(x){return x=Math.floor(x),!isFinite(x)||!(x>0)?null:x>1?yn(function(T){T.setTime(Math.floor(T/x)*x)},function(T,q){T.setTime(+T+q*x)},function(T,q){return(q-T)/x}):Yr};var Ti=Yr;let ts=1e3,ps=ts*60,zi=ps*60,cs=zi*24,fu=cs*7,ue=cs*30,ut=cs*365;var Zt=yn(function(x){x.setTime(x-x.getMilliseconds())},function(x,T){x.setTime(+x+T*ts)},function(x,T){return(T-x)/ts},function(x){return x.getUTCSeconds()}),An=Zt,nr=yn(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*ts)},function(x,T){x.setTime(+x+T*ps)},function(x,T){return(T-x)/ps},function(x){return x.getMinutes()}),vr=nr,fr=yn(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*ts-x.getMinutes()*ps)},function(x,T){x.setTime(+x+T*zi)},function(x,T){return(T-x)/zi},function(x){return x.getHours()}),Zi=fr,vs=yn(x=>x.setHours(0,0,0,0),(x,T)=>x.setDate(x.getDate()+T),(x,T)=>(T-x-(T.getTimezoneOffset()-x.getTimezoneOffset())*ps)/cs,x=>x.getDate()-1),Ns=vs;function io(x){return yn(function(T){T.setDate(T.getDate()-(T.getDay()+7-x)%7),T.setHours(0,0,0,0)},function(T,q){T.setDate(T.getDate()+q*7)},function(T,q){return(q-T-(q.getTimezoneOffset()-T.getTimezoneOffset())*ps)/fu})}var Ya=io(0),Zl=io(1);io(2),io(3);var Yc=io(4);io(5),io(6);var Tc=yn(function(x){x.setDate(1),x.setHours(0,0,0,0)},function(x,T){x.setMonth(x.getMonth()+T)},function(x,T){return T.getMonth()-x.getMonth()+(T.getFullYear()-x.getFullYear())*12},function(x){return x.getMonth()}),Zf=Tc,B0=yn(function(x){x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,T){x.setFullYear(x.getFullYear()+T)},function(x,T){return T.getFullYear()-x.getFullYear()},function(x){return x.getFullYear()});B0.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:yn(function(T){T.setFullYear(Math.floor(T.getFullYear()/x)*x),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,q){T.setFullYear(T.getFullYear()+q*x)})};var ec=B0,Kc=yn(function(x){x.setUTCSeconds(0,0)},function(x,T){x.setTime(+x+T*ps)},function(x,T){return(T-x)/ps},function(x){return x.getUTCMinutes()}),e0=Kc,hl=yn(function(x){x.setUTCMinutes(0,0,0)},function(x,T){x.setTime(+x+T*zi)},function(x,T){return(T-x)/zi},function(x){return x.getUTCHours()}),Fc=hl,t0=yn(function(x){x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCDate(x.getUTCDate()+T)},function(x,T){return(T-x)/cs},function(x){return x.getUTCDate()-1}),tc=t0;function Bl(x){return yn(function(T){T.setUTCDate(T.getUTCDate()-(T.getUTCDay()+7-x)%7),T.setUTCHours(0,0,0,0)},function(T,q){T.setUTCDate(T.getUTCDate()+q*7)},function(T,q){return(q-T)/fu})}var j0=Bl(0),_h=Bl(1);Bl(2),Bl(3);var q0=Bl(4);Bl(5),Bl(6);var U0=yn(function(x){x.setUTCDate(1),x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCMonth(x.getUTCMonth()+T)},function(x,T){return T.getUTCMonth()-x.getUTCMonth()+(T.getUTCFullYear()-x.getUTCFullYear())*12},function(x){return x.getUTCMonth()}),Jc=U0,$0=yn(function(x){x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCFullYear(x.getUTCFullYear()+T)},function(x,T){return T.getUTCFullYear()-x.getUTCFullYear()},function(x){return x.getUTCFullYear()});$0.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:yn(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/x)*x),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,q){T.setUTCFullYear(T.getUTCFullYear()+q*x)})};var Dc=$0;function n0(x,T,q,J,ge,Fe){let it=[[An,1,ts],[An,5,5*ts],[An,15,15*ts],[An,30,30*ts],[Fe,1,ps],[Fe,5,5*ps],[Fe,15,15*ps],[Fe,30,30*ps],[ge,1,zi],[ge,3,3*zi],[ge,6,6*zi],[ge,12,12*zi],[J,1,cs],[J,2,2*cs],[q,1,fu],[T,1,ue],[T,3,3*ue],[x,1,ut]];function $t(_n,kn,Hn){let ir=kn<_n;ir&&([_n,kn]=[kn,_n]);let Dr=Hn&&typeof Hn.range=="function"?Hn:En(_n,kn,Hn),Kr=Dr?Dr.range(_n,+kn+1):[];return ir?Kr.reverse():Kr}function En(_n,kn,Hn){let ir=Math.abs(kn-_n)/Hn,Dr=Ze(([,,bi])=>bi).right(it,ir);if(Dr===it.length)return x.every(Lt(_n/ut,kn/ut,Hn));if(Dr===0)return Ti.every(Math.max(Lt(_n,kn,Hn),1));let[Kr,Lr]=it[ir/it[Dr-1][2]<it[Dr][2]/ir?Dr-1:Dr];return Kr.every(Lr)}return[$t,En]}let[r0,i0]=n0(Dc,Jc,j0,tc,Fc,e0),[qo,Jo]=n0(ec,Zf,Ya,Ns,Zi,vr);function s0(x){if(0<=x.y&&x.y<100){var T=new Date(-1,x.m,x.d,x.H,x.M,x.S,x.L);return T.setFullYear(x.y),T}return new Date(x.y,x.m,x.d,x.H,x.M,x.S,x.L)}function pl(x){if(0<=x.y&&x.y<100){var T=new Date(Date.UTC(-1,x.m,x.d,x.H,x.M,x.S,x.L));return T.setUTCFullYear(x.y),T}return new Date(Date.UTC(x.y,x.m,x.d,x.H,x.M,x.S,x.L))}function Xc(x,T,q){return{y:x,m:T,d:q,H:0,M:0,S:0,L:0}}function Rd(x){var T=x.dateTime,q=x.date,J=x.time,ge=x.periods,Fe=x.days,it=x.shortDays,$t=x.months,En=x.shortMonths,_n=L(ge),kn=X(ge),Hn=L(Fe),ir=X(Fe),Dr=L(it),Kr=X(it),Lr=L($t),bi=X($t),ki=L(En),Fs=X(En),fs={a:l0,A:ya,b:oc,B:qd,c:null,d:Ra,e:Ra,f:Ju,g:$r,G:D1,H:rc,I:xa,j:Zc,L:ef,m:ic,M:F1,p:M1,q:cp,Q:Rc,s:Sh,S:Oc,u:B2,U:ql,V:Nc,w:jr,W:z0,x:null,X:null,y:H0,Y:gl,Z:tp,"%":el},Js={a:c0,A:q2,b:Iy,B:Mx,c:null,d:vo,e:vo,f:Rx,g:yl,G:du,H:V0,I:Ld,j:W0,L:tf,m:Lx,M:Eh,p:Px,q:P1,Q:Rc,s:Sh,S:nf,u:Xu,U:kd,V:O1,w:Zu,W:Q0,x:null,X:null,y:wf,Y:rp,Z:N1,"%":el},xs={a:Nu,A:_s,b:Sa,B:$a,c:El,d:Wi,e:Wi,f:ho,g:dr,G:rr,H:Qr,I:Qr,j:Li,L:ma,m:Fi,M:Qs,p:Ja,q:tt,Q:nc,s:jl,S:Uo,u:Dt,U:Ht,V:Cn,w:Be,W:Rn,x:jd,X:nl,y:dr,Y:rr,Z:Nr,"%":Na};fs.x=Gr(q,fs),fs.X=Gr(J,fs),fs.c=Gr(T,fs),Js.x=Gr(q,Js),Js.X=Gr(J,Js),Js.c=Gr(T,Js);function Gr(Fr,Ps){return function(_o){var Ur=[],af=-1,Er=0,rl=Fr.length,bo,ac,My;for(_o instanceof Date||(_o=new Date(+_o));++af<rl;)Fr.charCodeAt(af)===37&&(Ur.push(Fr.slice(Er,af)),(ac=Au[bo=Fr.charAt(++af)])!=null?bo=Fr.charAt(++af):ac=bo==="e"?" ":"0",(My=Ps[bo])&&(bo=My(_o,ac)),Ur.push(bo),Er=af+1);return Ur.push(Fr.slice(Er,af)),Ur.join("")}}function Yi(Fr,Ps){return function(_o){var Ur=Xc(1900,void 0,1),af=ka(Ur,Fr,_o+="",0),Er,rl;if(af!=_o.length)return null;if("Q"in Ur)return new Date(Ur.Q);if("s"in Ur)return new Date(Ur.s*1e3+("L"in Ur?Ur.L:0));if(Ps&&!("Z"in Ur)&&(Ur.Z=0),"p"in Ur&&(Ur.H=Ur.H%12+Ur.p*12),Ur.m===void 0&&(Ur.m="q"in Ur?Ur.q:0),"V"in Ur){if(Ur.V<1||Ur.V>53)return null;"w"in Ur||(Ur.w=1),"Z"in Ur?(Er=pl(Xc(Ur.y,0,1)),rl=Er.getUTCDay(),Er=rl>4||rl===0?_h.ceil(Er):_h(Er),Er=tc.offset(Er,(Ur.V-1)*7),Ur.y=Er.getUTCFullYear(),Ur.m=Er.getUTCMonth(),Ur.d=Er.getUTCDate()+(Ur.w+6)%7):(Er=s0(Xc(Ur.y,0,1)),rl=Er.getDay(),Er=rl>4||rl===0?Zl.ceil(Er):Zl(Er),Er=Ns.offset(Er,(Ur.V-1)*7),Ur.y=Er.getFullYear(),Ur.m=Er.getMonth(),Ur.d=Er.getDate()+(Ur.w+6)%7)}else("W"in Ur||"U"in Ur)&&("w"in Ur||(Ur.w="u"in Ur?Ur.u%7:"W"in Ur?1:0),rl="Z"in Ur?pl(Xc(Ur.y,0,1)).getUTCDay():s0(Xc(Ur.y,0,1)).getDay(),Ur.m=0,Ur.d="W"in Ur?(Ur.w+6)%7+Ur.W*7-(rl+5)%7:Ur.w+Ur.U*7-(rl+6)%7);return"Z"in Ur?(Ur.H+=Ur.Z/100|0,Ur.M+=Ur.Z%100,pl(Ur)):s0(Ur)}}function ka(Fr,Ps,_o,Ur){for(var af=0,Er=Ps.length,rl=_o.length,bo,ac;af<Er;){if(Ur>=rl)return-1;if(bo=Ps.charCodeAt(af++),bo===37){if(bo=Ps.charAt(af++),ac=xs[bo in Au?Ps.charAt(af++):bo],!ac||(Ur=ac(Fr,_o,Ur))<0)return-1}else if(bo!=_o.charCodeAt(Ur++))return-1}return Ur}function Ja(Fr,Ps,_o){var Ur=_n.exec(Ps.slice(_o));return Ur?(Fr.p=kn.get(Ur[0].toLowerCase()),_o+Ur[0].length):-1}function Nu(Fr,Ps,_o){var Ur=Dr.exec(Ps.slice(_o));return Ur?(Fr.w=Kr.get(Ur[0].toLowerCase()),_o+Ur[0].length):-1}function _s(Fr,Ps,_o){var Ur=Hn.exec(Ps.slice(_o));return Ur?(Fr.w=ir.get(Ur[0].toLowerCase()),_o+Ur[0].length):-1}function Sa(Fr,Ps,_o){var Ur=ki.exec(Ps.slice(_o));return Ur?(Fr.m=Fs.get(Ur[0].toLowerCase()),_o+Ur[0].length):-1}function $a(Fr,Ps,_o){var Ur=Lr.exec(Ps.slice(_o));return Ur?(Fr.m=bi.get(Ur[0].toLowerCase()),_o+Ur[0].length):-1}function El(Fr,Ps,_o){return ka(Fr,T,Ps,_o)}function jd(Fr,Ps,_o){return ka(Fr,q,Ps,_o)}function nl(Fr,Ps,_o){return ka(Fr,J,Ps,_o)}function l0(Fr){return it[Fr.getDay()]}function ya(Fr){return Fe[Fr.getDay()]}function oc(Fr){return En[Fr.getMonth()]}function qd(Fr){return $t[Fr.getMonth()]}function M1(Fr){return ge[+(Fr.getHours()>=12)]}function cp(Fr){return 1+~~(Fr.getMonth()/3)}function c0(Fr){return it[Fr.getUTCDay()]}function q2(Fr){return Fe[Fr.getUTCDay()]}function Iy(Fr){return En[Fr.getUTCMonth()]}function Mx(Fr){return $t[Fr.getUTCMonth()]}function Px(Fr){return ge[+(Fr.getUTCHours()>=12)]}function P1(Fr){return 1+~~(Fr.getUTCMonth()/3)}return{format:function(Fr){var Ps=Gr(Fr+="",fs);return Ps.toString=function(){return Fr},Ps},parse:function(Fr){var Ps=Yi(Fr+="",!1);return Ps.toString=function(){return Fr},Ps},utcFormat:function(Fr){var Ps=Gr(Fr+="",Js);return Ps.toString=function(){return Fr},Ps},utcParse:function(Fr){var Ps=Yi(Fr+="",!0);return Ps.toString=function(){return Fr},Ps}}}var Au={"-":"",_:" ","0":"0"},yo=/^\s*\d+/,bh=/^%/,ml=/[\\^$*+?|[\]().{}]/g;function Ls(x,T,q){var J=x<0?"-":"",ge=(J?-x:x)+"",Fe=ge.length;return J+(Fe<q?new Array(q-Fe+1).join(T)+ge:ge)}function xl(x){return x.replace(ml,"\\$&")}function L(x){return new RegExp("^(?:"+x.map(xl).join("|")+")","i")}function X(x){return new Map(x.map((T,q)=>[T.toLowerCase(),q]))}function Be(x,T,q){var J=yo.exec(T.slice(q,q+1));return J?(x.w=+J[0],q+J[0].length):-1}function Dt(x,T,q){var J=yo.exec(T.slice(q,q+1));return J?(x.u=+J[0],q+J[0].length):-1}function Ht(x,T,q){var J=yo.exec(T.slice(q,q+2));return J?(x.U=+J[0],q+J[0].length):-1}function Cn(x,T,q){var J=yo.exec(T.slice(q,q+2));return J?(x.V=+J[0],q+J[0].length):-1}function Rn(x,T,q){var J=yo.exec(T.slice(q,q+2));return J?(x.W=+J[0],q+J[0].length):-1}function rr(x,T,q){var J=yo.exec(T.slice(q,q+4));return J?(x.y=+J[0],q+J[0].length):-1}function dr(x,T,q){var J=yo.exec(T.slice(q,q+2));return J?(x.y=+J[0]+(+J[0]>68?1900:2e3),q+J[0].length):-1}function Nr(x,T,q){var J=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(T.slice(q,q+6));return J?(x.Z=J[1]?0:-(J[2]+(J[3]||"00")),q+J[0].length):-1}function tt(x,T,q){var J=yo.exec(T.slice(q,q+1));return J?(x.q=J[0]*3-3,q+J[0].length):-1}function Fi(x,T,q){var J=yo.exec(T.slice(q,q+2));return J?(x.m=J[0]-1,q+J[0].length):-1}function Wi(x,T,q){var J=yo.exec(T.slice(q,q+2));return J?(x.d=+J[0],q+J[0].length):-1}function Li(x,T,q){var J=yo.exec(T.slice(q,q+3));return J?(x.m=0,x.d=+J[0],q+J[0].length):-1}function Qr(x,T,q){var J=yo.exec(T.slice(q,q+2));return J?(x.H=+J[0],q+J[0].length):-1}function Qs(x,T,q){var J=yo.exec(T.slice(q,q+2));return J?(x.M=+J[0],q+J[0].length):-1}function Uo(x,T,q){var J=yo.exec(T.slice(q,q+2));return J?(x.S=+J[0],q+J[0].length):-1}function ma(x,T,q){var J=yo.exec(T.slice(q,q+3));return J?(x.L=+J[0],q+J[0].length):-1}function ho(x,T,q){var J=yo.exec(T.slice(q,q+6));return J?(x.L=Math.floor(J[0]/1e3),q+J[0].length):-1}function Na(x,T,q){var J=bh.exec(T.slice(q,q+1));return J?q+J[0].length:-1}function nc(x,T,q){var J=yo.exec(T.slice(q));return J?(x.Q=+J[0],q+J[0].length):-1}function jl(x,T,q){var J=yo.exec(T.slice(q));return J?(x.s=+J[0],q+J[0].length):-1}function Ra(x,T){return Ls(x.getDate(),T,2)}function rc(x,T){return Ls(x.getHours(),T,2)}function xa(x,T){return Ls(x.getHours()%12||12,T,2)}function Zc(x,T){return Ls(1+Ns.count(ec(x),x),T,3)}function ef(x,T){return Ls(x.getMilliseconds(),T,3)}function Ju(x,T){return ef(x,T)+"000"}function ic(x,T){return Ls(x.getMonth()+1,T,2)}function F1(x,T){return Ls(x.getMinutes(),T,2)}function Oc(x,T){return Ls(x.getSeconds(),T,2)}function B2(x){var T=x.getDay();return T===0?7:T}function ql(x,T){return Ls(Ya.count(ec(x)-1,x),T,2)}function Cf(x){var T=x.getDay();return T>=4||T===0?Yc(x):Yc.ceil(x)}function Nc(x,T){return x=Cf(x),Ls(Yc.count(ec(x),x)+(ec(x).getDay()===4),T,2)}function jr(x){return x.getDay()}function z0(x,T){return Ls(Zl.count(ec(x)-1,x),T,2)}function H0(x,T){return Ls(x.getFullYear()%100,T,2)}function $r(x,T){return x=Cf(x),Ls(x.getFullYear()%100,T,2)}function gl(x,T){return Ls(x.getFullYear()%1e4,T,4)}function D1(x,T){var q=x.getDay();return x=q>=4||q===0?Yc(x):Yc.ceil(x),Ls(x.getFullYear()%1e4,T,4)}function tp(x){var T=x.getTimezoneOffset();return(T>0?"-":(T*=-1,"+"))+Ls(T/60|0,"0",2)+Ls(T%60,"0",2)}function vo(x,T){return Ls(x.getUTCDate(),T,2)}function V0(x,T){return Ls(x.getUTCHours(),T,2)}function Ld(x,T){return Ls(x.getUTCHours()%12||12,T,2)}function W0(x,T){return Ls(1+tc.count(Dc(x),x),T,3)}function tf(x,T){return Ls(x.getUTCMilliseconds(),T,3)}function Rx(x,T){return tf(x,T)+"000"}function Lx(x,T){return Ls(x.getUTCMonth()+1,T,2)}function Eh(x,T){return Ls(x.getUTCMinutes(),T,2)}function nf(x,T){return Ls(x.getUTCSeconds(),T,2)}function Xu(x){var T=x.getUTCDay();return T===0?7:T}function kd(x,T){return Ls(j0.count(Dc(x)-1,x),T,2)}function np(x){var T=x.getUTCDay();return T>=4||T===0?q0(x):q0.ceil(x)}function O1(x,T){return x=np(x),Ls(q0.count(Dc(x),x)+(Dc(x).getUTCDay()===4),T,2)}function Zu(x){return x.getUTCDay()}function Q0(x,T){return Ls(_h.count(Dc(x)-1,x),T,2)}function wf(x,T){return Ls(x.getUTCFullYear()%100,T,2)}function yl(x,T){return x=np(x),Ls(x.getUTCFullYear()%100,T,2)}function rp(x,T){return Ls(x.getUTCFullYear()%1e4,T,4)}function du(x,T){var q=x.getUTCDay();return x=q>=4||q===0?q0(x):q0.ceil(x),Ls(x.getUTCFullYear()%1e4,T,4)}function N1(){return"+0000"}function el(){return"%"}function Rc(x){return+x}function Sh(x){return Math.floor(+x/1e3)}var Id,rf,Ch;ip({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ip(x){return Id=Rd(x),rf=Id.format,Ch=Id.utcFormat,Id}function Ua(x){return new Date(x)}function wh(x){return x instanceof Date?+x:+new Date(+x)}function G0(x,T,q,J,ge,Fe,it,$t,En,_n){var kn=Ho(),Hn=kn.invert,ir=kn.domain,Dr=_n(".%L"),Kr=_n(":%S"),Lr=_n("%I:%M"),bi=_n("%I %p"),ki=_n("%a %d"),Fs=_n("%b %d"),fs=_n("%B"),Js=_n("%Y");function xs(Gr){return(En(Gr)<Gr?Dr:$t(Gr)<Gr?Kr:it(Gr)<Gr?Lr:Fe(Gr)<Gr?bi:J(Gr)<Gr?ge(Gr)<Gr?ki:Fs:q(Gr)<Gr?fs:Js)(Gr)}return kn.invert=function(Gr){return new Date(Hn(Gr))},kn.domain=function(Gr){return arguments.length?ir(Array.from(Gr,wh)):ir().map(Ua)},kn.ticks=function(Gr){var Yi=ir();return x(Yi[0],Yi[Yi.length-1],Gr??10)},kn.tickFormat=function(Gr,Yi){return Yi==null?xs:_n(Yi)},kn.nice=function(Gr){var Yi=ir();return(!Gr||typeof Gr.range!="function")&&(Gr=T(Yi[0],Yi[Yi.length-1],Gr??10)),Gr?ir(Un(Yi,Gr)):kn},kn.copy=function(){return ia(kn,G0(x,T,q,J,ge,Fe,it,$t,En,_n))},kn}function La(){return wt.apply(G0(qo,Jo,ec,Zf,Ya,Ns,Zi,vr,An,rf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ah(){return wt.apply(G0(r0,i0,Dc,Jc,j0,tc,Fc,e0,An,Ch).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tu(){var x=0,T=1,q,J,ge,Fe,it=hs,$t=!1,En;function _n(Hn){return Hn==null||isNaN(Hn=+Hn)?En:it(ge===0?.5:(Hn=(Fe(Hn)-q)*ge,$t?Math.max(0,Math.min(1,Hn)):Hn))}_n.domain=function(Hn){return arguments.length?([x,T]=Hn,q=Fe(x=+x),J=Fe(T=+T),ge=q===J?0:1/(J-q),_n):[x,T]},_n.clamp=function(Hn){return arguments.length?($t=!!Hn,_n):$t},_n.interpolator=function(Hn){return arguments.length?(it=Hn,_n):it};function kn(Hn){return function(ir){var Dr,Kr;return arguments.length?([Dr,Kr]=ir,it=Hn(Dr,Kr),_n):[it(0),it(1)]}}return _n.range=kn(es),_n.rangeRound=kn(fl),_n.unknown=function(Hn){return arguments.length?(En=Hn,_n):En},function(Hn){return Fe=Hn,q=Hn(x),J=Hn(T),ge=q===J?0:1/(J-q),_n}}function Ka(x,T){return T.domain(x.domain()).interpolator(x.interpolator()).clamp(x.clamp()).unknown(x.unknown())}function Th(){var x=dn(Tu()(hs));return x.copy=function(){return Ka(x,Th())},Ee.apply(x,arguments)}function ga(){var x=ni(Tu()).domain([1,10]);return x.copy=function(){return Ka(x,ga()).base(x.base())},Ee.apply(x,arguments)}function Fh(){var x=Ir(Tu());return x.copy=function(){return Ka(x,Fh()).constant(x.constant())},Ee.apply(x,arguments)}function sp(){var x=vi(Tu());return x.copy=function(){return Ka(x,sp()).exponent(x.exponent())},Ee.apply(x,arguments)}function o0(){return sp.apply(null,arguments).exponent(.5)}function Y0(){var x=0,T=.5,q=1,J=1,ge,Fe,it,$t,En,_n=hs,kn,Hn=!1,ir;function Dr(Lr){return isNaN(Lr=+Lr)?ir:(Lr=.5+((Lr=+kn(Lr))-Fe)*(J*Lr<J*Fe?$t:En),_n(Hn?Math.max(0,Math.min(1,Lr)):Lr))}Dr.domain=function(Lr){return arguments.length?([x,T,q]=Lr,ge=kn(x=+x),Fe=kn(T=+T),it=kn(q=+q),$t=ge===Fe?0:.5/(Fe-ge),En=Fe===it?0:.5/(it-Fe),J=Fe<ge?-1:1,Dr):[x,T,q]},Dr.clamp=function(Lr){return arguments.length?(Hn=!!Lr,Dr):Hn},Dr.interpolator=function(Lr){return arguments.length?(_n=Lr,Dr):_n};function Kr(Lr){return function(bi){var ki,Fs,fs;return arguments.length?([ki,Fs,fs]=bi,_n=Vi(Lr,[ki,Fs,fs]),Dr):[_n(0),_n(.5),_n(1)]}}return Dr.range=Kr(es),Dr.rangeRound=Kr(fl),Dr.unknown=function(Lr){return arguments.length?(ir=Lr,Dr):ir},function(Lr){return kn=Lr,ge=Lr(x),Fe=Lr(T),it=Lr(q),$t=ge===Fe?0:.5/(Fe-ge),En=Fe===it?0:.5/(it-Fe),J=Fe<ge?-1:1,Dr}}function sf(){var x=dn(Y0()(hs));return x.copy=function(){return Ka(x,sf())},Ee.apply(x,arguments)}function Ul(){var x=ni(Y0()).domain([.1,1,10]);return x.copy=function(){return Ka(x,Ul()).base(x.base())},Ee.apply(x,arguments)}function Fu(){var x=Ir(Y0());return x.copy=function(){return Ka(x,Fu()).constant(x.constant())},Ee.apply(x,arguments)}function op(){var x=vi(Y0());return x.copy=function(){return Ka(x,op()).exponent(x.exponent())},Ee.apply(x,arguments)}function tl(){return op.apply(null,arguments).exponent(.5)}function Dh(){let x=Ce().unknown(void 0),T=x.domain,q=x.range,J=[0,1],ge,Fe,it=!1,$t=0,En=0,_n=.5;delete x.unknown;function kn(){let Hn=T().length,ir=J[1]<J[0],Dr=J[1-ir],Kr=r(Hn,$t,En),Lr=J[ir-0];ge=(Dr-Lr)/(Kr||1),it&&(ge=Math.floor(ge)),Lr+=(Dr-Lr-ge*(Hn-$t))*_n,Fe=ge*(1-$t),it&&(Lr=Math.round(Lr),Fe=Math.round(Fe));let bi=cn(Hn).map(ki=>Lr+ge*ki);return q(ir?bi.reverse():bi)}return x.domain=function(Hn){return arguments.length?(T(Hn),kn()):T()},x.range=function(Hn){return arguments.length?(J=[+Hn[0],+Hn[1]],kn()):J.slice()},x.rangeRound=function(Hn){return J=[+Hn[0],+Hn[1]],it=!0,kn()},x.bandwidth=function(){return Fe},x.step=function(){return ge},x.round=function(Hn){return arguments.length?(it=!!Hn,kn()):it},x.padding=function(Hn){return arguments.length?(En=Math.max(0,Math.min(1,Hn)),$t=En,kn()):$t},x.paddingInner=function(Hn){return arguments.length?($t=Math.max(0,Math.min(1,Hn)),kn()):$t},x.paddingOuter=function(Hn){return arguments.length?(En=Math.max(0,Math.min(1,Hn)),kn()):En},x.align=function(Hn){return arguments.length?(_n=Math.max(0,Math.min(1,Hn)),kn()):_n},x.invertRange=function(Hn){if(Hn[0]==null||Hn[1]==null)return;let ir=J[1]<J[0],Dr=ir?q().reverse():q(),Kr=Dr.length-1,Lr=+Hn[0],bi=+Hn[1],ki,Fs,fs;if(!(Lr!==Lr||bi!==bi)&&(bi<Lr&&(fs=Lr,Lr=bi,bi=fs),!(bi<Dr[0]||Lr>J[1-ir])))return ki=Math.max(0,Ue(Dr,Lr)-1),Fs=Lr===bi?ki:Ue(Dr,bi)-1,Lr-Dr[ki]>Fe+1e-10&&++ki,ir&&(fs=ki,ki=Kr-Fs,Fs=Kr-fs),ki>Fs?void 0:T().slice(ki,Fs+1)},x.invert=function(Hn){let ir=x.invertRange([Hn,Hn]);return ir&&ir[0]},x.copy=function(){return Dh().domain(T()).range(J).round(it).paddingInner($t).paddingOuter(En).align(_n)},kn()}function Md(x){let T=x.copy;return x.padding=x.paddingOuter,delete x.paddingInner,x.copy=function(){return Md(T())},x}function j2(){return Md(Dh().paddingInner(1))}var ap=Array.prototype.map;function Af(x){return ap.call(x,e.toNumber)}let K0=Array.prototype.slice;function Ks(){let x=[],T=[];function q(J){return J==null||J!==J?void 0:T[(te(x,J)-1)%T.length]}return q.domain=function(J){return arguments.length?(x=Af(J),q):x.slice()},q.range=function(J){return arguments.length?(T=K0.call(J),q):T.slice()},q.tickFormat=function(J,ge){return jt(x[0],e.peek(x),J??10,ge)},q.copy=function(){return Ks().domain(q.domain()).range(q.range())},q}let A={};function W(x,T,q){let J=function(){let Fe=T();return Fe.invertRange||(Fe.invertRange=Fe.invert?He(Fe):Fe.invertExtent?ot(Fe):void 0),Fe.type=x,Fe};return J.metadata=e.toSet(e.array(q)),J}function ce(x,T,q){return arguments.length>1?(A[x]=W(x,T,q),this):Me(x)?A[x]:void 0}ce(i,Kn),ce(s,Nn,ae),ce(o,pi,[ae,o]),ce(a,Ms,ae),ce(c,is,ae),ce(d,yi,ae),ce(p,La,[ae,ye]),ce(b,Ah,[ae,ye]),ce(C,Th,[ae,me]),ce(`${C}-${s}`,Th,[ae,me]),ce(`${C}-${o}`,ga,[ae,me,o]),ce(`${C}-${a}`,sp,[ae,me]),ce(`${C}-${c}`,o0,[ae,me]),ce(`${C}-${d}`,Fh,[ae,me]),ce(`${N}-${s}`,sf,[ae,me]),ce(`${N}-${o}`,Ul,[ae,me,o]),ce(`${N}-${a}`,op,[ae,me]),ce(`${N}-${c}`,tl,[ae,me]),ce(`${N}-${d}`,Fu,[ae,me]),ce(R,pa,[Z,R]),ce(U,No,Z),ce(V,ws,Z),ce(G,Ks,[I,Z]),ce(P,Ce,I),ce(M,Dh,I),ce($,j2,I);function Me(x){return e.hasOwnProperty(A,x)}function _t(x,T){let q=A[x];return q&&q.metadata[T]}function wn(x){return _t(x,ae)}function ur(x){return _t(x,I)}function Ui(x){return _t(x,Z)}function Pi(x){return _t(x,o)}function so(x){return _t(x,ye)}function hu(x){return _t(x,me)}function Lc(x){return _t(x,R)}let Tf=["clamp","base","constant","exponent"];function Bb(x,T){let q=T[0],J=e.peek(T)-q;return function(ge){return x(q+ge*J)}}function Ny(x,T,q){return Vi(Du(T||"rgb",q),x)}function gv(x,T){let q=new Array(T),J=T+1;for(let ge=0;ge<T;)q[ge]=x(++ge/J);return q}function Ry(x){let T=x.type,q=x.copy();return q.type=T,q}function J0(x,T,q){let J=q-T,ge,Fe,it;return!J||!Number.isFinite(J)?e.constant(.5):(ge=(Fe=x.type).indexOf("-"),Fe=ge<0?Fe:Fe.slice(ge+1),it=ce(Fe)().domain([T,q]).range([0,1]),Tf.forEach($t=>x[$t]?it[$t](x[$t]()):0),it)}function Du(x,T){let q=la[yv(x)];return T!=null&&q&&q.gamma?q.gamma(T):q}function yv(x){return"interpolate"+x.toLowerCase().split("-").map(T=>T[0].toUpperCase()+T.slice(1)).join("")}let Oh={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},As={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function a0(x){let T=x.length/6|0,q=new Array(T);for(let J=0;J<T;)q[J]="#"+x.slice(J*6,++J*6);return q}function vl(x,T){for(let q in x)Ou(q,T(x[q]))}let up={};vl(As,a0),vl(Oh,x=>Ny(a0(x)));function Ou(x,T){return x=x&&x.toLowerCase(),arguments.length>1?(up[x]=T,this):up[x]}let R1="symbol",L1="discrete",_l="gradient",Ly=x=>e.isArray(x)?x.map(T=>String(T)):String(x),Pd=(x,T)=>x[1]-T[1],Nh=(x,T)=>T[1]-x[1];function ky(x,T,q){let J;return e.isNumber(T)&&(x.bins&&(T=Math.max(T,x.bins.length)),q!=null&&(T=Math.min(T,Math.floor(e.span(x.domain())/q||1)))),e.isObject(T)&&(J=T.step,T=T.interval),e.isString(T)&&(T=x.type===p?t.timeInterval(T):x.type==b?t.utcInterval(T):e.error("Only time and utc scales accept interval strings."),J&&(T=T.every(J))),T}function Ff(x,T,q){let J=x.range(),ge=J[0],Fe=e.peek(J),it=Pd;if(ge>Fe&&(J=Fe,Fe=ge,ge=J,it=Nh),ge=Math.floor(ge),Fe=Math.ceil(Fe),T=T.map($t=>[$t,x($t)]).filter($t=>ge<=$t[1]&&$t[1]<=Fe).sort(it).map($t=>$t[0]),q>0&&T.length>1){let $t=[T[0],e.peek(T)];for(;T.length>q&&T.length>=3;)T=T.filter((En,_n)=>!(_n%2));T.length<3&&(T=$t)}return T}function bl(x,T){return x.bins?Ff(x,x.bins):x.ticks?x.ticks(T):x.domain()}function Df(x,T,q,J,ge,Fe){let it=T.type,$t=Ly;if(it===p||ge===p)$t=x.timeFormat(J);else if(it===b||ge===b)$t=x.utcFormat(J);else if(Pi(it)){let En=x.formatFloat(J);if(Fe||T.bins)$t=En;else{let _n=k1(T,q,!1);$t=kn=>_n(kn)?En(kn):""}}else if(T.tickFormat){let En=T.domain();$t=x.formatSpan(En[0],En[En.length-1],q,J)}else J&&($t=x.format(J));return $t}function k1(x,T,q){let J=bl(x,T),ge=x.base(),Fe=Math.log(ge),it=Math.max(1,ge*T/J.length),$t=En=>{let _n=En/Math.pow(ge,Math.round(Math.log(En)/Fe));return _n*ge<ge-.5&&(_n*=ge),_n<=it};return q?J.filter($t):$t}let lp={[R]:"quantiles",[U]:"thresholds",[V]:"domain"},Bd={[R]:"quantiles",[U]:"domain"};function I1(x,T){return x.bins?Ix(x.bins):x.type===o?k1(x,T,!0):lp[x.type]?kx(x[lp[x.type]]()):bl(x,T)}function of(x,T,q){let J=T[Bd[T.type]](),ge=J.length,Fe=ge>1?J[1]-J[0]:J[0],it;for(it=1;it<ge;++it)Fe=Math.min(Fe,J[it]-J[it-1]);return x.formatSpan(0,Fe,3*10,q)}function kx(x){let T=[-1/0].concat(x);return T.max=1/0,T}function Ix(x){let T=x.slice(0,-1);return T.max=e.peek(x),T}let sc=x=>lp[x.type]||x.bins;function u0(x,T,q,J,ge,Fe,it){let $t=Bd[T.type]&&Fe!==p&&Fe!==b?of(x,T,ge):Df(x,T,q,ge,Fe,it);return J===R1&&sc(T)?vv($t):J===L1?y($t):F($t)}let vv=x=>(T,q,J)=>{let ge=X0(J[q+1],X0(J.max,1/0)),Fe=z(T,x),it=z(ge,x);return Fe&&it?Fe+" \u2013 "+it:it?"< "+it:"\u2265 "+Fe},X0=(x,T)=>x??T,y=x=>(T,q)=>q?x(T):null,F=x=>T=>x(T),z=(x,T)=>Number.isFinite(x)?T(x):null;function Y(x){let T=x.domain(),q=T.length-1,J=+T[0],ge=+e.peek(T),Fe=ge-J;if(x.type===V){let it=q?Fe/q:.1;J-=it,ge+=it,Fe=ge-J}return it=>(it-J)/Fe}function ke(x,T,q,J){let ge=J||T.type;return e.isString(q)&&so(ge)&&(q=q.replace(/%a/g,"%A").replace(/%b/g,"%B")),!q&&ge===p?x.timeFormat("%A, %d %B %Y, %X"):!q&&ge===b?x.utcFormat("%A, %d %B %Y, %X UTC"):u0(x,T,5,null,q,J,!0)}function xt(x,T,q){q=q||{};let J=Math.max(3,q.maxlen||7),ge=ke(x,T,q.format,q.formatType);if(Ui(T.type)){let Fe=I1(T).slice(1).map(ge),it=Fe.length;return`${it} boundar${it===1?"y":"ies"}: ${Fe.join(", ")}`}else if(ur(T.type)){let Fe=T.domain(),it=Fe.length,$t=it>J?Fe.slice(0,J-2).map(ge).join(", ")+", ending with "+Fe.slice(-1).map(ge):Fe.map(ge).join(", ");return`${it} value${it===1?"":"s"}: ${$t}`}else{let Fe=T.domain();return`values from ${ge(Fe[0])} to ${ge(e.peek(Fe))}`}}n.Band=M,n.BinOrdinal=G,n.DiscreteLegend=L1,n.Diverging=N,n.GradientLegend=_l,n.Identity=i,n.Linear=s,n.Log=o,n.Ordinal=P,n.Point=$,n.Pow=a,n.Quantile=R,n.Quantize=U,n.Sequential=C,n.Sqrt=c,n.SymbolLegend=R1,n.Symlog=d,n.Threshold=V,n.Time=p,n.UTC=b,n.bandSpace=r,n.domainCaption=xt,n.interpolate=Du,n.interpolateColors=Ny,n.interpolateRange=Bb,n.isContinuous=wn,n.isDiscrete=ur,n.isDiscretizing=Ui,n.isInterpolating=hu,n.isLogarithmic=Pi,n.isQuantile=Lc,n.isTemporal=so,n.isValidScaleType=Me,n.labelFormat=u0,n.labelFraction=Y,n.labelValues=I1,n.quantizeInterpolator=gv,n.scale=ce,n.scaleCopy=Ry,n.scaleFraction=J0,n.scaleImplicit=Ie,n.scheme=Ou,n.tickCount=ky,n.tickFormat=Df,n.tickValues=bl,n.validTicks=Ff,Object.defineProperty(n,"__esModule",{value:!0})})});var _9=we((Bz,qAe)=>{m();(function(n,e){typeof Bz=="object"&&typeof qAe!="undefined"?e(Bz,Su(),sN(),Rz(),Db()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})(Bz,function(n,e,t,r,i){"use strict";let s=0;function o(){s=0}let a="p_";function c(y){return y&&y.gradient}function d(y,F,z){let Y=y.gradient,ke=y.id,xt=Y==="radial"?a:"";return ke||(ke=y.id="gradient_"+s++,Y==="radial"?(y.x1=p(y.x1,.5),y.y1=p(y.y1,.5),y.r1=p(y.r1,0),y.x2=p(y.x2,.5),y.y2=p(y.y2,.5),y.r2=p(y.r2,.5),xt=a):(y.x1=p(y.x1,0),y.y1=p(y.y1,0),y.x2=p(y.x2,1),y.y2=p(y.y2,0))),F[ke]=y,"url("+(z||"")+"#"+xt+ke+")"}function p(y,F){return y??F}function b(y,F){var z=[],Y;return Y={gradient:"linear",x1:y?y[0]:0,y1:y?y[1]:0,x2:F?F[0]:1,y2:F?F[1]:0,stops:z,stop:function(ke,xt){return z.push({offset:ke,color:xt}),Y}}}let C=Math.PI,N=2*C,R=1e-6,U=N-R;function V(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function P(){return new V}V.prototype=P.prototype={constructor:V,moveTo:function(y,F){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+F)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(y,F){this._+="L"+(this._x1=+y)+","+(this._y1=+F)},quadraticCurveTo:function(y,F,z,Y){this._+="Q"+ +y+","+ +F+","+(this._x1=+z)+","+(this._y1=+Y)},bezierCurveTo:function(y,F,z,Y,ke,xt){this._+="C"+ +y+","+ +F+","+ +z+","+ +Y+","+(this._x1=+ke)+","+(this._y1=+xt)},arcTo:function(y,F,z,Y,ke){y=+y,F=+F,z=+z,Y=+Y,ke=+ke;var xt=this._x1,x=this._y1,T=z-y,q=Y-F,J=xt-y,ge=x-F,Fe=J*J+ge*ge;if(ke<0)throw new Error("negative radius: "+ke);if(this._x1===null)this._+="M"+(this._x1=y)+","+(this._y1=F);else if(Fe>R)if(!(Math.abs(ge*T-q*J)>R)||!ke)this._+="L"+(this._x1=y)+","+(this._y1=F);else{var it=z-xt,$t=Y-x,En=T*T+q*q,_n=it*it+$t*$t,kn=Math.sqrt(En),Hn=Math.sqrt(Fe),ir=ke*Math.tan((C-Math.acos((En+Fe-_n)/(2*kn*Hn)))/2),Dr=ir/Hn,Kr=ir/kn;Math.abs(Dr-1)>R&&(this._+="L"+(y+Dr*J)+","+(F+Dr*ge)),this._+="A"+ke+","+ke+",0,0,"+ +(ge*it>J*$t)+","+(this._x1=y+Kr*T)+","+(this._y1=F+Kr*q)}},arc:function(y,F,z,Y,ke,xt){y=+y,F=+F,z=+z,xt=!!xt;var x=z*Math.cos(Y),T=z*Math.sin(Y),q=y+x,J=F+T,ge=1^xt,Fe=xt?Y-ke:ke-Y;if(z<0)throw new Error("negative radius: "+z);this._x1===null?this._+="M"+q+","+J:(Math.abs(this._x1-q)>R||Math.abs(this._y1-J)>R)&&(this._+="L"+q+","+J),!!z&&(Fe<0&&(Fe=Fe%N+N),Fe>U?this._+="A"+z+","+z+",0,1,"+ge+","+(y-x)+","+(F-T)+"A"+z+","+z+",0,1,"+ge+","+(this._x1=q)+","+(this._y1=J):Fe>R&&(this._+="A"+z+","+z+",0,"+ +(Fe>=C)+","+ge+","+(this._x1=y+z*Math.cos(ke))+","+(this._y1=F+z*Math.sin(ke))))},rect:function(y,F,z,Y){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+F)+"h"+ +z+"v"+ +Y+"h"+-z+"Z"},toString:function(){return this._}};function $(y){return function(){return y}}let M=Math.abs,G=Math.atan2,ae=Math.cos,I=Math.max,Z=Math.min,me=Math.sin,ye=Math.sqrt,He=1e-12,ot=Math.PI,at=ot/2,Ze=2*ot;function Tt(y){return y>1?0:y<-1?ot:Math.acos(y)}function Mt(y){return y>=1?at:y<=-1?-at:Math.asin(y)}function Ue(y){return y.innerRadius}function te(y){return y.outerRadius}function st(y){return y.startAngle}function be(y){return y.endAngle}function Re(y){return y&&y.padAngle}function Ae(y,F,z,Y,ke,xt,x,T){var q=z-y,J=Y-F,ge=x-ke,Fe=T-xt,it=Fe*q-ge*J;if(!(it*it<He))return it=(ge*(F-xt)-Fe*(y-ke))/it,[y+it*q,F+it*J]}function xe(y,F,z,Y,ke,xt,x){var T=y-z,q=F-Y,J=(x?xt:-xt)/ye(T*T+q*q),ge=J*q,Fe=-J*T,it=y+ge,$t=F+Fe,En=z+ge,_n=Y+Fe,kn=(it+En)/2,Hn=($t+_n)/2,ir=En-it,Dr=_n-$t,Kr=ir*ir+Dr*Dr,Lr=ke-xt,bi=it*_n-En*$t,ki=(Dr<0?-1:1)*ye(I(0,Lr*Lr*Kr-bi*bi)),Fs=(bi*Dr-ir*ki)/Kr,fs=(-bi*ir-Dr*ki)/Kr,Js=(bi*Dr+ir*ki)/Kr,xs=(-bi*ir+Dr*ki)/Kr,Gr=Fs-kn,Yi=fs-Hn,ka=Js-kn,Ja=xs-Hn;return Gr*Gr+Yi*Yi>ka*ka+Ja*Ja&&(Fs=Js,fs=xs),{cx:Fs,cy:fs,x01:-ge,y01:-Fe,x11:Fs*(ke/Lr-1),y11:fs*(ke/Lr-1)}}function Je(){var y=Ue,F=te,z=$(0),Y=null,ke=st,xt=be,x=Re,T=null;function q(){var J,ge,Fe=+y.apply(this,arguments),it=+F.apply(this,arguments),$t=ke.apply(this,arguments)-at,En=xt.apply(this,arguments)-at,_n=M(En-$t),kn=En>$t;if(T||(T=J=P()),it<Fe&&(ge=it,it=Fe,Fe=ge),!(it>He))T.moveTo(0,0);else if(_n>Ze-He)T.moveTo(it*ae($t),it*me($t)),T.arc(0,0,it,$t,En,!kn),Fe>He&&(T.moveTo(Fe*ae(En),Fe*me(En)),T.arc(0,0,Fe,En,$t,kn));else{var Hn=$t,ir=En,Dr=$t,Kr=En,Lr=_n,bi=_n,ki=x.apply(this,arguments)/2,Fs=ki>He&&(Y?+Y.apply(this,arguments):ye(Fe*Fe+it*it)),fs=Z(M(it-Fe)/2,+z.apply(this,arguments)),Js=fs,xs=fs,Gr,Yi;if(Fs>He){var ka=Mt(Fs/Fe*me(ki)),Ja=Mt(Fs/it*me(ki));(Lr-=ka*2)>He?(ka*=kn?1:-1,Dr+=ka,Kr-=ka):(Lr=0,Dr=Kr=($t+En)/2),(bi-=Ja*2)>He?(Ja*=kn?1:-1,Hn+=Ja,ir-=Ja):(bi=0,Hn=ir=($t+En)/2)}var Nu=it*ae(Hn),_s=it*me(Hn),Sa=Fe*ae(Kr),$a=Fe*me(Kr);if(fs>He){var El=it*ae(ir),jd=it*me(ir),nl=Fe*ae(Dr),l0=Fe*me(Dr),ya;if(_n<ot&&(ya=Ae(Nu,_s,nl,l0,El,jd,Sa,$a))){var oc=Nu-ya[0],qd=_s-ya[1],M1=El-ya[0],cp=jd-ya[1],c0=1/me(Tt((oc*M1+qd*cp)/(ye(oc*oc+qd*qd)*ye(M1*M1+cp*cp)))/2),q2=ye(ya[0]*ya[0]+ya[1]*ya[1]);Js=Z(fs,(Fe-q2)/(c0-1)),xs=Z(fs,(it-q2)/(c0+1))}}bi>He?xs>He?(Gr=xe(nl,l0,Nu,_s,it,xs,kn),Yi=xe(El,jd,Sa,$a,it,xs,kn),T.moveTo(Gr.cx+Gr.x01,Gr.cy+Gr.y01),xs<fs?T.arc(Gr.cx,Gr.cy,xs,G(Gr.y01,Gr.x01),G(Yi.y01,Yi.x01),!kn):(T.arc(Gr.cx,Gr.cy,xs,G(Gr.y01,Gr.x01),G(Gr.y11,Gr.x11),!kn),T.arc(0,0,it,G(Gr.cy+Gr.y11,Gr.cx+Gr.x11),G(Yi.cy+Yi.y11,Yi.cx+Yi.x11),!kn),T.arc(Yi.cx,Yi.cy,xs,G(Yi.y11,Yi.x11),G(Yi.y01,Yi.x01),!kn))):(T.moveTo(Nu,_s),T.arc(0,0,it,Hn,ir,!kn)):T.moveTo(Nu,_s),!(Fe>He)||!(Lr>He)?T.lineTo(Sa,$a):Js>He?(Gr=xe(Sa,$a,El,jd,Fe,-Js,kn),Yi=xe(Nu,_s,nl,l0,Fe,-Js,kn),T.lineTo(Gr.cx+Gr.x01,Gr.cy+Gr.y01),Js<fs?T.arc(Gr.cx,Gr.cy,Js,G(Gr.y01,Gr.x01),G(Yi.y01,Yi.x01),!kn):(T.arc(Gr.cx,Gr.cy,Js,G(Gr.y01,Gr.x01),G(Gr.y11,Gr.x11),!kn),T.arc(0,0,Fe,G(Gr.cy+Gr.y11,Gr.cx+Gr.x11),G(Yi.cy+Yi.y11,Yi.cx+Yi.x11),kn),T.arc(Yi.cx,Yi.cy,Js,G(Yi.y11,Yi.x11),G(Yi.y01,Yi.x01),!kn))):T.arc(0,0,Fe,Kr,Dr,kn)}if(T.closePath(),J)return T=null,J+""||null}return q.centroid=function(){var J=(+y.apply(this,arguments)+ +F.apply(this,arguments))/2,ge=(+ke.apply(this,arguments)+ +xt.apply(this,arguments))/2-ot/2;return[ae(ge)*J,me(ge)*J]},q.innerRadius=function(J){return arguments.length?(y=typeof J=="function"?J:$(+J),q):y},q.outerRadius=function(J){return arguments.length?(F=typeof J=="function"?J:$(+J),q):F},q.cornerRadius=function(J){return arguments.length?(z=typeof J=="function"?J:$(+J),q):z},q.padRadius=function(J){return arguments.length?(Y=J==null?null:typeof J=="function"?J:$(+J),q):Y},q.startAngle=function(J){return arguments.length?(ke=typeof J=="function"?J:$(+J),q):ke},q.endAngle=function(J){return arguments.length?(xt=typeof J=="function"?J:$(+J),q):xt},q.padAngle=function(J){return arguments.length?(x=typeof J=="function"?J:$(+J),q):x},q.context=function(J){return arguments.length?(T=J??null,q):T},q}function lt(y){return typeof y=="object"&&"length"in y?y:Array.from(y)}function Qt(y){this._context=y}Qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;default:this._context.lineTo(y,F);break}}};function Et(y){return new Qt(y)}function mn(y){return y[0]}function Lt(y){return y[1]}function kt(y,F){var z=$(!0),Y=null,ke=Et,xt=null;y=typeof y=="function"?y:y===void 0?mn:$(y),F=typeof F=="function"?F:F===void 0?Lt:$(F);function x(T){var q,J=(T=lt(T)).length,ge,Fe=!1,it;for(Y==null&&(xt=ke(it=P())),q=0;q<=J;++q)!(q<J&&z(ge=T[q],q,T))===Fe&&((Fe=!Fe)?xt.lineStart():xt.lineEnd()),Fe&&xt.point(+y(ge,q,T),+F(ge,q,T));if(it)return xt=null,it+""||null}return x.x=function(T){return arguments.length?(y=typeof T=="function"?T:$(+T),x):y},x.y=function(T){return arguments.length?(F=typeof T=="function"?T:$(+T),x):F},x.defined=function(T){return arguments.length?(z=typeof T=="function"?T:$(!!T),x):z},x.curve=function(T){return arguments.length?(ke=T,Y!=null&&(xt=ke(Y)),x):ke},x.context=function(T){return arguments.length?(T==null?Y=xt=null:xt=ke(Y=T),x):Y},x}function cn(y,F,z){var Y=null,ke=$(!0),xt=null,x=Et,T=null;y=typeof y=="function"?y:y===void 0?mn:$(+y),F=typeof F=="function"?F:$(F===void 0?0:+F),z=typeof z=="function"?z:z===void 0?Lt:$(+z);function q(ge){var Fe,it,$t,En=(ge=lt(ge)).length,_n,kn=!1,Hn,ir=new Array(En),Dr=new Array(En);for(xt==null&&(T=x(Hn=P())),Fe=0;Fe<=En;++Fe){if(!(Fe<En&&ke(_n=ge[Fe],Fe,ge))===kn)if(kn=!kn)it=Fe,T.areaStart(),T.lineStart();else{for(T.lineEnd(),T.lineStart(),$t=Fe-1;$t>=it;--$t)T.point(ir[$t],Dr[$t]);T.lineEnd(),T.areaEnd()}kn&&(ir[Fe]=+y(_n,Fe,ge),Dr[Fe]=+F(_n,Fe,ge),T.point(Y?+Y(_n,Fe,ge):ir[Fe],z?+z(_n,Fe,ge):Dr[Fe]))}if(Hn)return T=null,Hn+""||null}function J(){return kt().defined(ke).curve(x).context(xt)}return q.x=function(ge){return arguments.length?(y=typeof ge=="function"?ge:$(+ge),Y=null,q):y},q.x0=function(ge){return arguments.length?(y=typeof ge=="function"?ge:$(+ge),q):y},q.x1=function(ge){return arguments.length?(Y=ge==null?null:typeof ge=="function"?ge:$(+ge),q):Y},q.y=function(ge){return arguments.length?(F=typeof ge=="function"?ge:$(+ge),z=null,q):F},q.y0=function(ge){return arguments.length?(F=typeof ge=="function"?ge:$(+ge),q):F},q.y1=function(ge){return arguments.length?(z=ge==null?null:typeof ge=="function"?ge:$(+ge),q):z},q.lineX0=q.lineY0=function(){return J().x(y).y(F)},q.lineY1=function(){return J().x(y).y(z)},q.lineX1=function(){return J().x(Y).y(F)},q.defined=function(ge){return arguments.length?(ke=typeof ge=="function"?ge:$(!!ge),q):ke},q.curve=function(ge){return arguments.length?(x=ge,xt!=null&&(T=x(xt)),q):x},q.context=function(ge){return arguments.length?(ge==null?xt=T=null:T=x(xt=ge),q):xt},q}var wt={draw(y,F){let z=ye(F/ot);y.moveTo(z,0),y.arc(0,0,z,0,Ze)}};function Ee(y,F){let z=null;y=typeof y=="function"?y:$(y||wt),F=typeof F=="function"?F:$(F===void 0?64:+F);function Y(){let ke;if(z||(z=ke=P()),y.apply(this,arguments).draw(z,+F.apply(this,arguments)),ke)return z=null,ke+""||null}return Y.type=function(ke){return arguments.length?(y=typeof ke=="function"?ke:$(ke),Y):y},Y.size=function(ke){return arguments.length?(F=typeof ke=="function"?ke:$(+ke),Y):F},Y.context=function(ke){return arguments.length?(z=ke??null,Y):z},Y}function Ie(){}function Ce(y,F,z){y._context.bezierCurveTo((2*y._x0+y._x1)/3,(2*y._y0+y._y1)/3,(y._x0+2*y._x1)/3,(y._y0+2*y._y1)/3,(y._x0+4*y._x1+F)/6,(y._y0+4*y._y1+z)/6)}function fe(y){this._context=y}fe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ce(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ce(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function rt(y){return new fe(y)}function Xe(y){this._context=y}Xe.prototype={areaStart:Ie,areaEnd:Ie,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._x2=y,this._y2=F;break;case 1:this._point=2,this._x3=y,this._y3=F;break;case 2:this._point=3,this._x4=y,this._y4=F,this._context.moveTo((this._x0+4*this._x1+y)/6,(this._y0+4*this._y1+F)/6);break;default:Ce(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function de(y){return new Xe(y)}function Ge(y){this._context=y}Ge.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var z=(this._x0+4*this._x1+y)/6,Y=(this._y0+4*this._y1+F)/6;this._line?this._context.lineTo(z,Y):this._context.moveTo(z,Y);break;case 3:this._point=4;default:Ce(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function Ot(y){return new Ge(y)}function Nt(y,F){this._basis=new fe(y),this._beta=F}Nt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var y=this._x,F=this._y,z=y.length-1;if(z>0)for(var Y=y[0],ke=F[0],xt=y[z]-Y,x=F[z]-ke,T=-1,q;++T<=z;)q=T/z,this._basis.point(this._beta*y[T]+(1-this._beta)*(Y+q*xt),this._beta*F[T]+(1-this._beta)*(ke+q*x));this._x=this._y=null,this._basis.lineEnd()},point:function(y,F){this._x.push(+y),this._y.push(+F)}};var zt=function y(F){function z(Y){return F===1?new fe(Y):new Nt(Y,F)}return z.beta=function(Y){return y(+Y)},z}(.85);function en(y,F,z){y._context.bezierCurveTo(y._x1+y._k*(y._x2-y._x0),y._y1+y._k*(y._y2-y._y0),y._x2+y._k*(y._x1-F),y._y2+y._k*(y._y1-z),y._x2,y._y2)}function Xt(y,F){this._context=y,this._k=(1-F)/6}Xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:en(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2,this._x1=y,this._y1=F;break;case 2:this._point=3;default:en(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var bn=function y(F){function z(Y){return new Xt(Y,F)}return z.tension=function(Y){return y(+Y)},z}(0);function Tn(y,F){this._context=y,this._k=(1-F)/6}Tn.prototype={areaStart:Ie,areaEnd:Ie,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._x3=y,this._y3=F;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=F);break;case 2:this._point=3,this._x5=y,this._y5=F;break;default:en(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var Dn=function y(F){function z(Y){return new Tn(Y,F)}return z.tension=function(Y){return y(+Y)},z}(0);function Ut(y,F){this._context=y,this._k=(1-F)/6}Ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:en(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var pn=function y(F){function z(Y){return new Ut(Y,F)}return z.tension=function(Y){return y(+Y)},z}(0);function qn(y,F,z){var Y=y._x1,ke=y._y1,xt=y._x2,x=y._y2;if(y._l01_a>He){var T=2*y._l01_2a+3*y._l01_a*y._l12_a+y._l12_2a,q=3*y._l01_a*(y._l01_a+y._l12_a);Y=(Y*T-y._x0*y._l12_2a+y._x2*y._l01_2a)/q,ke=(ke*T-y._y0*y._l12_2a+y._y2*y._l01_2a)/q}if(y._l23_a>He){var J=2*y._l23_2a+3*y._l23_a*y._l12_a+y._l12_2a,ge=3*y._l23_a*(y._l23_a+y._l12_a);xt=(xt*J+y._x1*y._l23_2a-F*y._l12_2a)/ge,x=(x*J+y._y1*y._l23_2a-z*y._l12_2a)/ge}y._context.bezierCurveTo(Y,ke,xt,x,y._x2,y._y2)}function sr(y,F){this._context=y,this._alpha=F}sr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){if(y=+y,F=+F,this._point){var z=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(z*z+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3;default:qn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var In=function y(F){function z(Y){return F?new sr(Y,F):new Xt(Y,0)}return z.alpha=function(Y){return y(+Y)},z}(.5);function Ne(y,F){this._context=y,this._alpha=F}Ne.prototype={areaStart:Ie,areaEnd:Ie,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,F){if(y=+y,F=+F,this._point){var z=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(z*z+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=y,this._y3=F;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=F);break;case 2:this._point=3,this._x5=y,this._y5=F;break;default:qn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var $e=function y(F){function z(Y){return F?new Ne(Y,F):new Tn(Y,0)}return z.alpha=function(Y){return y(+Y)},z}(.5);function De(y,F){this._context=y,this._alpha=F}De.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){if(y=+y,F=+F,this._point){var z=this._x2-y,Y=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(z*z+Y*Y,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var qt=function y(F){function z(Y){return F?new De(Y,F):new Ut(Y,0)}return z.alpha=function(Y){return y(+Y)},z}(.5);function yt(y){this._context=y}yt.prototype={areaStart:Ie,areaEnd:Ie,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(y,F){y=+y,F=+F,this._point?this._context.lineTo(y,F):(this._point=1,this._context.moveTo(y,F))}};function mt(y){return new yt(y)}function nn(y){return y<0?-1:1}function Wt(y,F,z){var Y=y._x1-y._x0,ke=F-y._x1,xt=(y._y1-y._y0)/(Y||ke<0&&-0),x=(z-y._y1)/(ke||Y<0&&-0),T=(xt*ke+x*Y)/(Y+ke);return(nn(xt)+nn(x))*Math.min(Math.abs(xt),Math.abs(x),.5*Math.abs(T))||0}function Fn(y,F){var z=y._x1-y._x0;return z?(3*(y._y1-y._y0)/z-F)/2:F}function Qn(y,F,z){var Y=y._x0,ke=y._y0,xt=y._x1,x=y._y1,T=(xt-Y)/3;y._context.bezierCurveTo(Y+T,ke+T*F,xt-T,x-T*z,xt,x)}function Zn(y){this._context=y}Zn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qn(this,this._t0,Fn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){var z=NaN;if(y=+y,F=+F,!(y===this._x1&&F===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3,Qn(this,Fn(this,z=Wt(this,y,F)),z);break;default:Qn(this,this._t0,z=Wt(this,y,F));break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F,this._t0=z}}};function Pn(y){this._context=new or(y)}(Pn.prototype=Object.create(Zn.prototype)).point=function(y,F){Zn.prototype.point.call(this,F,y)};function or(y){this._context=y}or.prototype={moveTo:function(y,F){this._context.moveTo(F,y)},closePath:function(){this._context.closePath()},lineTo:function(y,F){this._context.lineTo(F,y)},bezierCurveTo:function(y,F,z,Y,ke,xt){this._context.bezierCurveTo(F,y,Y,z,xt,ke)}};function Ye(y){return new Zn(y)}function gt(y){return new Pn(y)}function se(y){this._context=y}se.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var y=this._x,F=this._y,z=y.length;if(z)if(this._line?this._context.lineTo(y[0],F[0]):this._context.moveTo(y[0],F[0]),z===2)this._context.lineTo(y[1],F[1]);else for(var Y=Pe(y),ke=Pe(F),xt=0,x=1;x<z;++xt,++x)this._context.bezierCurveTo(Y[0][xt],ke[0][xt],Y[1][xt],ke[1][xt],y[x],F[x]);(this._line||this._line!==0&&z===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(y,F){this._x.push(+y),this._y.push(+F)}};function Pe(y){var F,z=y.length-1,Y,ke=new Array(z),xt=new Array(z),x=new Array(z);for(ke[0]=0,xt[0]=2,x[0]=y[0]+2*y[1],F=1;F<z-1;++F)ke[F]=1,xt[F]=4,x[F]=4*y[F]+2*y[F+1];for(ke[z-1]=2,xt[z-1]=7,x[z-1]=8*y[z-1]+y[z],F=1;F<z;++F)Y=ke[F]/xt[F-1],xt[F]-=Y,x[F]-=Y*x[F-1];for(ke[z-1]=x[z-1]/xt[z-1],F=z-2;F>=0;--F)ke[F]=(x[F]-ke[F+1])/xt[F];for(xt[z-1]=(y[z]+ke[z-1])/2,F=0;F<z-1;++F)xt[F]=2*y[F+1]-ke[F+1];return[ke,xt]}function et(y){return new se(y)}function At(y,F){this._context=y,this._t=F}At.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,F),this._context.lineTo(y,F);else{var z=this._x*(1-this._t)+y*this._t;this._context.lineTo(z,this._y),this._context.lineTo(z,F)}break}}this._x=y,this._y=F}};function fn(y){return new At(y,.5)}function on(y){return new At(y,0)}function ct(y){return new At(y,1)}let re={basis:{curve:rt},"basis-closed":{curve:de},"basis-open":{curve:Ot},bundle:{curve:zt,tension:"beta",value:.85},cardinal:{curve:bn,tension:"tension",value:0},"cardinal-open":{curve:pn,tension:"tension",value:0},"cardinal-closed":{curve:Dn,tension:"tension",value:0},"catmull-rom":{curve:In,tension:"alpha",value:.5},"catmull-rom-closed":{curve:$e,tension:"alpha",value:.5},"catmull-rom-open":{curve:qt,tension:"alpha",value:.5},linear:{curve:Et},"linear-closed":{curve:mt},monotone:{horizontal:gt,vertical:Ye},natural:{curve:et},step:{curve:fn},"step-after":{curve:ct},"step-before":{curve:on}};function Te(y,F,z){var Y=e.hasOwnProperty(re,y)&&re[y],ke=null;return Y&&(ke=Y.curve||Y[F||"vertical"],Y.tension&&z!=null&&(ke=ke[Y.tension](z))),ke}let je={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},ht=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,vt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Ft=/^((\s+,?\s*)|(,\s*))/,ne=/^[01]/;function Se(y){let F=[];return(y.match(ht)||[]).forEach(Y=>{let ke=Y[0],xt=ke.toLowerCase(),x=je[xt],T=Ve(xt,x,Y.slice(1).trim()),q=T.length;if(q<x||q&&q%x!==0)throw Error("Invalid SVG path, incorrect parameter count");if(F.push([ke,...T.slice(0,x)]),q!==x){xt==="m"&&(ke=ke==="M"?"L":"l");for(let J=x;J<q;J+=x)F.push([ke,...T.slice(J,J+x)])}}),F}function Ve(y,F,z){let Y=[];for(let ke=0;F&&ke<z.length;)for(let xt=0;xt<F;++xt){let x=y==="a"&&(xt===3||xt===4)?ne:vt,T=z.slice(ke).match(x);if(T===null)throw Error("Invalid SVG path, incorrect parameter type");ke+=T[0].length,Y.push(+T[0]);let q=z.slice(ke).match(Ft);q!==null&&(ke+=q[0].length)}return Y}let nt=Math.PI/180,Bt=1e-14,rn=Math.PI/2,Sn=Math.PI*2,vn=Math.sqrt(3)/2;var xn={},zn={},Oe=[].join;function qe(y,F,z,Y,ke,xt,x,T,q){let J=Oe.call(arguments);if(xn[J])return xn[J];let ge=x*nt,Fe=Math.sin(ge),it=Math.cos(ge);z=Math.abs(z),Y=Math.abs(Y);let $t=it*(T-y)*.5+Fe*(q-F)*.5,En=it*(q-F)*.5-Fe*(T-y)*.5,_n=$t*$t/(z*z)+En*En/(Y*Y);_n>1&&(_n=Math.sqrt(_n),z*=_n,Y*=_n);let kn=it/z,Hn=Fe/z,ir=-Fe/Y,Dr=it/Y,Kr=kn*T+Hn*q,Lr=ir*T+Dr*q,bi=kn*y+Hn*F,ki=ir*y+Dr*F,Fs=(bi-Kr)*(bi-Kr)+(ki-Lr)*(ki-Lr),fs=1/Fs-.25;fs<0&&(fs=0);let Js=Math.sqrt(fs);xt==ke&&(Js=-Js);let xs=.5*(Kr+bi)-Js*(ki-Lr),Gr=.5*(Lr+ki)+Js*(bi-Kr),Yi=Math.atan2(Lr-Gr,Kr-xs),Ja=Math.atan2(ki-Gr,bi-xs)-Yi;Ja<0&&xt===1?Ja+=Sn:Ja>0&&xt===0&&(Ja-=Sn);let Nu=Math.ceil(Math.abs(Ja/(rn+.001))),_s=[];for(let Sa=0;Sa<Nu;++Sa){let $a=Yi+Sa*Ja/Nu,El=Yi+(Sa+1)*Ja/Nu;_s[Sa]=[xs,Gr,$a,El,z,Y,Fe,it]}return xn[J]=_s}function Ct(y){let F=Oe.call(y);if(zn[F])return zn[F];var z=y[0],Y=y[1],ke=y[2],xt=y[3],x=y[4],T=y[5],q=y[6],J=y[7];let ge=J*x,Fe=-q*T,it=q*x,$t=J*T,En=Math.cos(ke),_n=Math.sin(ke),kn=Math.cos(xt),Hn=Math.sin(xt),ir=.5*(xt-ke),Dr=Math.sin(ir*.5),Kr=8/3*Dr*Dr/Math.sin(ir),Lr=z+En-Kr*_n,bi=Y+_n+Kr*En,ki=z+kn,Fs=Y+Hn,fs=ki+Kr*Hn,Js=Fs-Kr*kn;return zn[F]=[ge*Lr+Fe*bi,it*Lr+$t*bi,ge*fs+Fe*Js,it*fs+$t*Js,ge*ki+Fe*Fs,it*ki+$t*Fs]}let O=["l",0,0,0,0,0,0,0];function H(y,F,z){let Y=O[0]=y[0];if(Y==="a"||Y==="A")O[1]=F*y[1],O[2]=z*y[2],O[3]=y[3],O[4]=y[4],O[5]=y[5],O[6]=F*y[6],O[7]=z*y[7];else if(Y==="h"||Y==="H")O[1]=F*y[1];else if(Y==="v"||Y==="V")O[1]=z*y[1];else for(var ke=1,xt=y.length;ke<xt;++ke)O[ke]=(ke%2==1?F:z)*y[ke];return O}function ve(y,F,z,Y,ke,xt){var x,T=null,q=0,J=0,ge=0,Fe=0,it,$t,En,_n,kn=0,Hn=0;z==null&&(z=0),Y==null&&(Y=0),ke==null&&(ke=1),xt==null&&(xt=ke),y.beginPath&&y.beginPath();for(var ir=0,Dr=F.length;ir<Dr;++ir){switch(x=F[ir],(ke!==1||xt!==1)&&(x=H(x,ke,xt)),x[0]){case"l":q+=x[1],J+=x[2],y.lineTo(q+z,J+Y);break;case"L":q=x[1],J=x[2],y.lineTo(q+z,J+Y);break;case"h":q+=x[1],y.lineTo(q+z,J+Y);break;case"H":q=x[1],y.lineTo(q+z,J+Y);break;case"v":J+=x[1],y.lineTo(q+z,J+Y);break;case"V":J=x[1],y.lineTo(q+z,J+Y);break;case"m":q+=x[1],J+=x[2],kn=q,Hn=J,y.moveTo(q+z,J+Y);break;case"M":q=x[1],J=x[2],kn=q,Hn=J,y.moveTo(q+z,J+Y);break;case"c":it=q+x[5],$t=J+x[6],ge=q+x[3],Fe=J+x[4],y.bezierCurveTo(q+x[1]+z,J+x[2]+Y,ge+z,Fe+Y,it+z,$t+Y),q=it,J=$t;break;case"C":q=x[5],J=x[6],ge=x[3],Fe=x[4],y.bezierCurveTo(x[1]+z,x[2]+Y,ge+z,Fe+Y,q+z,J+Y);break;case"s":it=q+x[3],$t=J+x[4],ge=2*q-ge,Fe=2*J-Fe,y.bezierCurveTo(ge+z,Fe+Y,q+x[1]+z,J+x[2]+Y,it+z,$t+Y),ge=q+x[1],Fe=J+x[2],q=it,J=$t;break;case"S":it=x[3],$t=x[4],ge=2*q-ge,Fe=2*J-Fe,y.bezierCurveTo(ge+z,Fe+Y,x[1]+z,x[2]+Y,it+z,$t+Y),q=it,J=$t,ge=x[1],Fe=x[2];break;case"q":it=q+x[3],$t=J+x[4],ge=q+x[1],Fe=J+x[2],y.quadraticCurveTo(ge+z,Fe+Y,it+z,$t+Y),q=it,J=$t;break;case"Q":it=x[3],$t=x[4],y.quadraticCurveTo(x[1]+z,x[2]+Y,it+z,$t+Y),q=it,J=$t,ge=x[1],Fe=x[2];break;case"t":it=q+x[1],$t=J+x[2],T[0].match(/[QqTt]/)===null?(ge=q,Fe=J):T[0]==="t"?(ge=2*q-En,Fe=2*J-_n):T[0]==="q"&&(ge=2*q-ge,Fe=2*J-Fe),En=ge,_n=Fe,y.quadraticCurveTo(ge+z,Fe+Y,it+z,$t+Y),q=it,J=$t,ge=q+x[1],Fe=J+x[2];break;case"T":it=x[1],$t=x[2],ge=2*q-ge,Fe=2*J-Fe,y.quadraticCurveTo(ge+z,Fe+Y,it+z,$t+Y),q=it,J=$t;break;case"a":pe(y,q+z,J+Y,[x[1],x[2],x[3],x[4],x[5],x[6]+q+z,x[7]+J+Y]),q+=x[6],J+=x[7];break;case"A":pe(y,q+z,J+Y,[x[1],x[2],x[3],x[4],x[5],x[6]+z,x[7]+Y]),q=x[6],J=x[7];break;case"z":case"Z":q=kn,J=Hn,y.closePath();break}T=x}}function pe(y,F,z,Y){let ke=qe(Y[5],Y[6],Y[0],Y[1],Y[3],Y[4],Y[2],F,z);for(let xt=0;xt<ke.length;++xt){let x=Ct(ke[xt]);y.bezierCurveTo(x[0],x[1],x[2],x[3],x[4],x[5])}}let K=.5773502691896257,oe={circle:{draw:function(y,F){let z=Math.sqrt(F)/2;y.moveTo(z,0),y.arc(0,0,z,0,Sn)}},cross:{draw:function(y,F){var z=Math.sqrt(F)/2,Y=z/2.5;y.moveTo(-z,-Y),y.lineTo(-z,Y),y.lineTo(-Y,Y),y.lineTo(-Y,z),y.lineTo(Y,z),y.lineTo(Y,Y),y.lineTo(z,Y),y.lineTo(z,-Y),y.lineTo(Y,-Y),y.lineTo(Y,-z),y.lineTo(-Y,-z),y.lineTo(-Y,-Y),y.closePath()}},diamond:{draw:function(y,F){let z=Math.sqrt(F)/2;y.moveTo(-z,0),y.lineTo(0,-z),y.lineTo(z,0),y.lineTo(0,z),y.closePath()}},square:{draw:function(y,F){var z=Math.sqrt(F),Y=-z/2;y.rect(Y,Y,z,z)}},arrow:{draw:function(y,F){var z=Math.sqrt(F)/2,Y=z/7,ke=z/2.5,xt=z/8;y.moveTo(-Y,z),y.lineTo(Y,z),y.lineTo(Y,-xt),y.lineTo(ke,-xt),y.lineTo(0,-z),y.lineTo(-ke,-xt),y.lineTo(-Y,-xt),y.closePath()}},wedge:{draw:function(y,F){var z=Math.sqrt(F)/2,Y=vn*z,ke=Y-z*K,xt=z/4;y.moveTo(0,-Y-ke),y.lineTo(-xt,Y-ke),y.lineTo(xt,Y-ke),y.closePath()}},triangle:{draw:function(y,F){var z=Math.sqrt(F)/2,Y=vn*z,ke=Y-z*K;y.moveTo(0,-Y-ke),y.lineTo(-z,Y-ke),y.lineTo(z,Y-ke),y.closePath()}},"triangle-up":{draw:function(y,F){var z=Math.sqrt(F)/2,Y=vn*z;y.moveTo(0,-Y),y.lineTo(-z,Y),y.lineTo(z,Y),y.closePath()}},"triangle-down":{draw:function(y,F){var z=Math.sqrt(F)/2,Y=vn*z;y.moveTo(0,Y),y.lineTo(-z,-Y),y.lineTo(z,-Y),y.closePath()}},"triangle-right":{draw:function(y,F){var z=Math.sqrt(F)/2,Y=vn*z;y.moveTo(Y,0),y.lineTo(-Y,-z),y.lineTo(-Y,z),y.closePath()}},"triangle-left":{draw:function(y,F){var z=Math.sqrt(F)/2,Y=vn*z;y.moveTo(-Y,0),y.lineTo(Y,-z),y.lineTo(Y,z),y.closePath()}},stroke:{draw:function(y,F){let z=Math.sqrt(F)/2;y.moveTo(-z,0),y.lineTo(z,0)}}};function le(y){return e.hasOwnProperty(oe,y)?oe[y]:Rt(y)}var We={};function Rt(y){if(!e.hasOwnProperty(We,y)){let F=Se(y);We[y]={draw:function(z,Y){ve(z,F,0,0,Math.sqrt(Y)/2)}}}return We[y]}let bt=.448084975506;function ln(y){return y.x}function S(y){return y.y}function B(y){return y.width}function ee(y){return y.height}function _e(y){return typeof y=="function"?y:()=>+y}function ft(y,F,z){return Math.max(F,Math.min(y,z))}function St(){var y=ln,F=S,z=B,Y=ee,ke=_e(0),xt=ke,x=ke,T=ke,q=null;function J(ge,Fe,it){var $t,En=Fe??+y.call(this,ge),_n=it??+F.call(this,ge),kn=+z.call(this,ge),Hn=+Y.call(this,ge),ir=Math.min(kn,Hn)/2,Dr=ft(+ke.call(this,ge),0,ir),Kr=ft(+xt.call(this,ge),0,ir),Lr=ft(+x.call(this,ge),0,ir),bi=ft(+T.call(this,ge),0,ir);if(q||(q=$t=P()),Dr<=0&&Kr<=0&&Lr<=0&&bi<=0)q.rect(En,_n,kn,Hn);else{var ki=En+kn,Fs=_n+Hn;q.moveTo(En+Dr,_n),q.lineTo(ki-Kr,_n),q.bezierCurveTo(ki-bt*Kr,_n,ki,_n+bt*Kr,ki,_n+Kr),q.lineTo(ki,Fs-bi),q.bezierCurveTo(ki,Fs-bt*bi,ki-bt*bi,Fs,ki-bi,Fs),q.lineTo(En+Lr,Fs),q.bezierCurveTo(En+bt*Lr,Fs,En,Fs-bt*Lr,En,Fs-Lr),q.lineTo(En,_n+Dr),q.bezierCurveTo(En,_n+bt*Dr,En+bt*Dr,_n,En+Dr,_n),q.closePath()}if($t)return q=null,$t+""||null}return J.x=function(ge){return arguments.length?(y=_e(ge),J):y},J.y=function(ge){return arguments.length?(F=_e(ge),J):F},J.width=function(ge){return arguments.length?(z=_e(ge),J):z},J.height=function(ge){return arguments.length?(Y=_e(ge),J):Y},J.cornerRadius=function(ge,Fe,it,$t){return arguments.length?(ke=_e(ge),xt=Fe!=null?_e(Fe):ke,T=it!=null?_e(it):ke,x=$t!=null?_e($t):xt,J):ke},J.context=function(ge){return arguments.length?(q=ge??null,J):q},J}function Jt(){var y,F,z,Y,ke=null,xt,x,T,q;function J(Fe,it,$t){let En=$t/2;if(xt){var _n=T-it,kn=Fe-x;if(_n||kn){var Hn=Math.sqrt(_n*_n+kn*kn),ir=(_n/=Hn)*q,Dr=(kn/=Hn)*q,Kr=Math.atan2(kn,_n);ke.moveTo(x-ir,T-Dr),ke.lineTo(Fe-_n*En,it-kn*En),ke.arc(Fe,it,En,Kr-Math.PI,Kr),ke.lineTo(x+ir,T+Dr),ke.arc(x,T,q,Kr,Kr+Math.PI)}else ke.arc(Fe,it,En,0,Sn);ke.closePath()}else xt=1;x=Fe,T=it,q=En}function ge(Fe){var it,$t=Fe.length,En,_n=!1,kn;for(ke==null&&(ke=kn=P()),it=0;it<=$t;++it)!(it<$t&&Y(En=Fe[it],it,Fe))===_n&&(_n=!_n)&&(xt=0),_n&&J(+y(En,it,Fe),+F(En,it,Fe),+z(En,it,Fe));if(kn)return ke=null,kn+""||null}return ge.x=function(Fe){return arguments.length?(y=Fe,ge):y},ge.y=function(Fe){return arguments.length?(F=Fe,ge):F},ge.size=function(Fe){return arguments.length?(z=Fe,ge):z},ge.defined=function(Fe){return arguments.length?(Y=Fe,ge):Y},ge.context=function(Fe){return arguments.length?(Fe==null?ke=null:ke=Fe,ge):ke},ge}function Kt(y,F){return y??F}let hn=y=>y.x||0,Bn=y=>y.y||0,jn=y=>y.width||0,Vn=y=>y.height||0,Jr=y=>(y.x||0)+(y.width||0),Vr=y=>(y.y||0)+(y.height||0),yr=y=>y.startAngle||0,Mr=y=>y.endAngle||0,xi=y=>y.padAngle||0,ai=y=>y.innerRadius||0,Ji=y=>y.outerRadius||0,Es=y=>y.cornerRadius||0,es=y=>Kt(y.cornerRadiusTopLeft,y.cornerRadius)||0,Ea=y=>Kt(y.cornerRadiusTopRight,y.cornerRadius)||0,da=y=>Kt(y.cornerRadiusBottomRight,y.cornerRadius)||0,fl=y=>Kt(y.cornerRadiusBottomLeft,y.cornerRadius)||0,wc=y=>Kt(y.size,64),au=y=>y.size||1,uu=y=>y.defined!==!1,Gu=y=>le(y.shape||"circle"),wu=Je().startAngle(yr).endAngle(Mr).padAngle(xi).innerRadius(ai).outerRadius(Ji).cornerRadius(Es),Ac=cn().x(hn).y1(Bn).y0(Vr).defined(uu),Zo=cn().y(Bn).x1(hn).x0(Jr).defined(uu),Yu=kt().x(hn).y(Bn).defined(uu),Gc=St().x(hn).y(Bn).width(jn).height(Vn).cornerRadius(es,Ea,da,fl),Qe=Ee().type(Gu).size(wc),Gt=Jt().x(hn).y(Bn).defined(uu).size(au);function Mn(y){return y.cornerRadius||y.cornerRadiusTopLeft||y.cornerRadiusTopRight||y.cornerRadiusBottomRight||y.cornerRadiusBottomLeft}function Yn(y,F){return wu.context(y)(F)}function ri(y,F){let z=F[0],Y=z.interpolate||"linear";return(z.orient==="horizontal"?Zo:Ac).curve(Te(Y,z.orient,z.tension)).context(y)(F)}function Br(y,F){let z=F[0],Y=z.interpolate||"linear";return Yu.curve(Te(Y,z.orient,z.tension)).context(y)(F)}function Xr(y,F,z,Y){return Gc.context(y)(F,z,Y)}function Cs(y,F){return(F.mark.shape||F.shape).context(y)(F)}function lo(y,F){return Qe.context(y)(F)}function no(y,F){return Gt.context(y)(F)}var as=1;function ro(){as=1}function co(y,F,z){var Y=F.clip,ke=y._defs,xt=F.clip_id||(F.clip_id="clip"+as++),x=ke.clipping[xt]||(ke.clipping[xt]={id:xt});return e.isFunction(Y)?x.path=Y(null):Mn(z)?x.path=Xr(null,z,0,0):(x.width=z.width||0,x.height=z.height||0),"url(#"+xt+")"}function hi(y){this.clear(),y&&this.union(y)}hi.prototype={clone(){return new hi(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(y){return this.x1===y.x1&&this.y1===y.y1&&this.x2===y.x2&&this.y2===y.y2},set(y,F,z,Y){return z<y?(this.x2=y,this.x1=z):(this.x1=y,this.x2=z),Y<F?(this.y2=F,this.y1=Y):(this.y1=F,this.y2=Y),this},add(y,F){return y<this.x1&&(this.x1=y),F<this.y1&&(this.y1=F),y>this.x2&&(this.x2=y),F>this.y2&&(this.y2=F),this},expand(y){return this.x1-=y,this.y1-=y,this.x2+=y,this.y2+=y,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(y){return this.x1*=y,this.y1*=y,this.x2*=y,this.y2*=y,this},translate(y,F){return this.x1+=y,this.x2+=y,this.y1+=F,this.y2+=F,this},rotate(y,F,z){let Y=this.rotatedPoints(y,F,z);return this.clear().add(Y[0],Y[1]).add(Y[2],Y[3]).add(Y[4],Y[5]).add(Y[6],Y[7])},rotatedPoints(y,F,z){var{x1:Y,y1:ke,x2:xt,y2:x}=this,T=Math.cos(y),q=Math.sin(y),J=F-F*T+z*q,ge=z-F*q-z*T;return[T*Y-q*ke+J,q*Y+T*ke+ge,T*Y-q*x+J,q*Y+T*x+ge,T*xt-q*ke+J,q*xt+T*ke+ge,T*xt-q*x+J,q*xt+T*x+ge]},union(y){return y.x1<this.x1&&(this.x1=y.x1),y.y1<this.y1&&(this.y1=y.y1),y.x2>this.x2&&(this.x2=y.x2),y.y2>this.y2&&(this.y2=y.y2),this},intersect(y){return y.x1>this.x1&&(this.x1=y.x1),y.y1>this.y1&&(this.y1=y.y1),y.x2<this.x2&&(this.x2=y.x2),y.y2<this.y2&&(this.y2=y.y2),this},encloses(y){return y&&this.x1<=y.x1&&this.x2>=y.x2&&this.y1<=y.y1&&this.y2>=y.y2},alignsWith(y){return y&&(this.x1==y.x1||this.x2==y.x2||this.y1==y.y1||this.y2==y.y2)},intersects(y){return y&&!(this.x2<y.x1||this.x1>y.x2||this.y2<y.y1||this.y1>y.y2)},contains(y,F){return!(y<this.x1||y>this.x2||F<this.y1||F>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Ei(y){this.mark=y,this.bounds=this.bounds||new hi}function Vi(y){Ei.call(this,y),this.items=this.items||[]}e.inherits(Vi,Ei);function Ko(y){this._pending=0,this._loader=y||r.loader()}function la(y){y._pending+=1}function ca(y){y._pending-=1}Ko.prototype={pending(){return this._pending},sanitizeURL(y){let F=this;return la(F),F._loader.sanitize(y,{context:"href"}).then(z=>(ca(F),z)).catch(()=>(ca(F),null))},loadImage(y){let F=this,z=t.image();return la(F),F._loader.sanitize(y,{context:"image"}).then(Y=>{let ke=Y.href;if(!ke||!z)throw{url:ke};let xt=new z,x=e.hasOwnProperty(Y,"crossOrigin")?Y.crossOrigin:"anonymous";return x!=null&&(xt.crossOrigin=x),xt.onload=()=>ca(F),xt.onerror=()=>ca(F),xt.src=ke,xt}).catch(Y=>(ca(F),{complete:!1,width:0,height:0,src:Y&&Y.url||""}))},ready(){let y=this;return new Promise(F=>{function z(Y){y.pending()?setTimeout(()=>{z(!0)},10):F(Y)}z(!1)})}};function fo(y,F,z){if(F.stroke&&F.opacity!==0&&F.strokeOpacity!==0){let Y=F.strokeWidth!=null?+F.strokeWidth:1;y.expand(Y+(z?us(F,Y):0))}return y}function us(y,F){return y.strokeJoin&&y.strokeJoin!=="miter"?0:F}let hs=Sn-1e-8,Xi,lu,Is,ha,ia,Ni,Ho,ys,Ii=(y,F)=>Xi.add(y,F),Do=(y,F)=>Ii(lu=y,Is=F),Oa=y=>Ii(y,Xi.y1),Ga=y=>Ii(Xi.x1,y),Oo=(y,F)=>ia*y+Ho*F,Ao=(y,F)=>Ni*y+ys*F,ja=(y,F)=>Ii(Oo(y,F),Ao(y,F)),cu=(y,F)=>Do(Oo(y,F),Ao(y,F));function qa(y,F){return Xi=y,F?(ha=F*nt,ia=ys=Math.cos(ha),Ni=Math.sin(ha),Ho=-Ni):(ia=ys=1,ha=Ni=Ho=0),sa}let sa={beginPath(){},closePath(){},moveTo:cu,lineTo:cu,rect(y,F,z,Y){ha?(ja(y+z,F),ja(y+z,F+Y),ja(y,F+Y),cu(y,F)):(Ii(y+z,F+Y),Do(y,F))},quadraticCurveTo(y,F,z,Y){let ke=Oo(y,F),xt=Ao(y,F),x=Oo(z,Y),T=Ao(z,Y);oa(lu,ke,x,Oa),oa(Is,xt,T,Ga),Do(x,T)},bezierCurveTo(y,F,z,Y,ke,xt){let x=Oo(y,F),T=Ao(y,F),q=Oo(z,Y),J=Ao(z,Y),ge=Oo(ke,xt),Fe=Ao(ke,xt);dl(lu,x,q,ge,Oa),dl(Is,T,J,Fe,Ga),Do(ge,Fe)},arc(y,F,z,Y,ke,xt){if(Y+=ha,ke+=ha,lu=z*Math.cos(ke)+y,Is=z*Math.sin(ke)+F,Math.abs(ke-Y)>hs)Ii(y-z,F-z),Ii(y+z,F+z);else{let x=J=>Ii(z*Math.cos(J)+y,z*Math.sin(J)+F),T,q;if(x(Y),x(ke),ke!==Y)if(Y=Y%Sn,Y<0&&(Y+=Sn),ke=ke%Sn,ke<0&&(ke+=Sn),ke<Y&&(xt=!xt,T=Y,Y=ke,ke=T),xt)for(ke-=Sn,T=Y-Y%rn,q=0;q<4&&T>ke;++q,T-=rn)x(T);else for(T=Y-Y%rn+rn,q=0;q<4&&T<ke;++q,T=T+rn)x(T)}}};function oa(y,F,z,Y){let ke=(y-F)/(y+z-2*F);0<ke&&ke<1&&Y(y+(F-y)*ke)}function dl(y,F,z,Y,ke){let xt=Y-y+3*F-3*z,x=y+z-2*F,T=y-F,q=0,J=0,ge;Math.abs(xt)>Bt?(ge=x*x+T*xt,ge>=0&&(ge=Math.sqrt(ge),q=(-x+ge)/xt,J=(-x-ge)/xt)):q=.5*T/x,0<q&&q<1&&ke(Pl(q,y,F,z,Y)),0<J&&J<1&&ke(Pl(J,y,F,z,Y))}function Pl(y,F,z,Y,ke){let xt=1-y,x=xt*xt,T=y*y;return x*xt*F+3*x*y*z+3*xt*T*Y+T*y*ke}var ea=(ea=t.canvas(1,1))?ea.getContext("2d"):null;let Ku=new hi;function ui(y){return function(F,z){if(!ea)return!0;y(ea,F),Ku.clear().union(F.bounds).intersect(z).round();let{x1:Y,y1:ke,x2:xt,y2:x}=Ku;for(let T=ke;T<=x;++T)for(let q=Y;q<=xt;++q)if(ea.isPointInPath(q,T))return!0;return!1}}function ns(y,F){return F.contains(y.x||0,y.y||0)}function ls(y,F){let z=y.x||0,Y=y.y||0,ke=y.width||0,xt=y.height||0;return F.intersects(Ku.set(z,Y,z+ke,Y+xt))}function pr(y,F){let z=y.x||0,Y=y.y||0,ke=y.x2!=null?y.x2:z,xt=y.y2!=null?y.y2:Y;return rs(F,z,Y,ke,xt)}function rs(y,F,z,Y,ke){let{x1:xt,y1:x,x2:T,y2:q}=y,J=Y-F,ge=ke-z,Fe=0,it=1,$t,En,_n,kn;for(kn=0;kn<4;++kn){if(kn===0&&($t=-J,En=-(xt-F)),kn===1&&($t=J,En=T-F),kn===2&&($t=-ge,En=-(x-z)),kn===3&&($t=ge,En=q-z),Math.abs($t)<1e-10&&En<0)return!1;if(_n=En/$t,$t<0){if(_n>it)return!1;_n>Fe&&(Fe=_n)}else if($t>0){if(_n<Fe)return!1;_n<it&&(it=_n)}}return!0}function Le(y,F){y.globalCompositeOperation=F.blend||"source-over"}function pt(y,F){return y??F}function Yt(y,F){let z=F.length;for(let Y=0;Y<z;++Y)y.addColorStop(F[Y].offset,F[Y].color);return y}function jt(y,F,z){let Y=z.width(),ke=z.height(),xt;if(F.gradient==="radial")xt=y.createRadialGradient(z.x1+pt(F.x1,.5)*Y,z.y1+pt(F.y1,.5)*ke,Math.max(Y,ke)*pt(F.r1,0),z.x1+pt(F.x2,.5)*Y,z.y1+pt(F.y2,.5)*ke,Math.max(Y,ke)*pt(F.r2,.5));else{let x=pt(F.x1,0),T=pt(F.y1,0),q=pt(F.x2,1),J=pt(F.y2,0);if(x===q||T===J||Y===ke)xt=y.createLinearGradient(z.x1+x*Y,z.y1+T*ke,z.x1+q*Y,z.y1+J*ke);else{let ge=t.canvas(Math.ceil(Y),Math.ceil(ke)),Fe=ge.getContext("2d");return Fe.scale(Y,ke),Fe.fillStyle=Yt(Fe.createLinearGradient(x,T,q,J),F.stops),Fe.fillRect(0,0,Y,ke),y.createPattern(ge,"no-repeat")}}return Yt(xt,F.stops)}function dn(y,F,z){return c(z)?jt(y,z,F.bounds):z}function Nn(y,F,z){return z*=F.fillOpacity==null?1:F.fillOpacity,z>0?(y.globalAlpha=z,y.fillStyle=dn(y,F,F.fill),!0):!1}var Kn=[];function Un(y,F,z){var Y=(Y=F.strokeWidth)!=null?Y:1;return Y<=0?!1:(z*=F.strokeOpacity==null?1:F.strokeOpacity,z>0?(y.globalAlpha=z,y.strokeStyle=dn(y,F,F.stroke),y.lineWidth=Y,y.lineCap=F.strokeCap||"butt",y.lineJoin=F.strokeJoin||"miter",y.miterLimit=F.strokeMiterLimit||10,y.setLineDash&&(y.setLineDash(F.strokeDash||Kn),y.lineDashOffset=F.strokeDashOffset||0),!0):!1)}function br(y,F){return y.zindex-F.zindex||y.index-F.index}function wr(y){if(!y.zdirty)return y.zitems;var F=y.items,z=[],Y,ke,xt;for(ke=0,xt=F.length;ke<xt;++ke)Y=F[ke],Y.index=ke,Y.zindex&&z.push(Y);return y.zdirty=!1,y.zitems=z.sort(br)}function Gn(y,F){var z=y.items,Y,ke;if(!z||!z.length)return;let xt=wr(y);if(xt&&xt.length){for(Y=0,ke=z.length;Y<ke;++Y)z[Y].zindex||F(z[Y]);z=xt}for(Y=0,ke=z.length;Y<ke;++Y)F(z[Y])}function ar(y,F){var z=y.items,Y,ke;if(!z||!z.length)return null;let xt=wr(y);for(xt&&xt.length&&(z=xt),ke=z.length;--ke>=0;)if(Y=F(z[ke]))return Y;if(z===xt){for(z=y.items,ke=z.length;--ke>=0;)if(!z[ke].zindex&&(Y=F(z[ke])))return Y}return null}function er(y){return function(F,z,Y){Gn(z,ke=>{(!Y||Y.intersects(ke.bounds))&&Or(y,F,ke,ke)})}}function gr(y){return function(F,z,Y){z.items.length&&(!Y||Y.intersects(z.bounds))&&Or(y,F,z.items[0],z.items)}}function Or(y,F,z,Y){var ke=z.opacity==null?1:z.opacity;ke!==0&&(y(F,Y)||(Le(F,z),z.fill&&Nn(F,z,ke)&&F.fill(),z.stroke&&Un(F,z,ke)&&F.stroke()))}function di(y){return y=y||e.truthy,function(F,z,Y,ke,xt,x){return Y*=F.pixelRatio,ke*=F.pixelRatio,ar(z,T=>{let q=T.bounds;if(!(q&&!q.contains(xt,x)||!q)&&y(F,T,Y,ke,xt,x))return T})}}function ni(y,F){return function(z,Y,ke,xt){var x=Array.isArray(Y)?Y[0]:Y,T=F??x.fill,q=x.stroke&&z.isPointInStroke,J,ge;return q&&(J=x.strokeWidth,ge=x.strokeCap,z.lineWidth=J??1,z.lineCap=ge??"butt"),y(z,Y)?!1:T&&z.isPointInPath(ke,xt)||q&&z.isPointInStroke(ke,xt)}}function pi(y){return di(ni(y))}function ii(y,F){return"translate("+y+","+F+")"}function qr(y){return"rotate("+y+")"}function Ir(y,F){return"scale("+y+","+F+")"}function yi(y){return ii(y.x||0,y.y||0)}function gi(y){return ii(y.x||0,y.y||0)+(y.angle?" "+qr(y.angle):"")}function ss(y){return ii(y.x||0,y.y||0)+(y.angle?" "+qr(y.angle):"")+(y.scaleX||y.scaleY?" "+Ir(y.scaleX||1,y.scaleY||1):"")}function ms(y,F,z){function Y(x,T){x("transform",gi(T)),x("d",F(null,T))}function ke(x,T){return F(qa(x,T.angle),T),fo(x,T).translate(T.x||0,T.y||0)}function xt(x,T){var q=T.x||0,J=T.y||0,ge=T.angle||0;x.translate(q,J),ge&&x.rotate(ge*=nt),x.beginPath(),F(x,T),ge&&x.rotate(-ge),x.translate(-q,-J)}return{type:y,tag:"path",nested:!1,attr:Y,bound:ke,draw:er(xt),pick:pi(xt),isect:z||ui(xt)}}var vi=ms("arc",Yn);function Ms(y,F){for(var z=y[0].orient==="horizontal"?F[1]:F[0],Y=y[0].orient==="horizontal"?"y":"x",ke=y.length,xt=1/0,x,T;--ke>=0;)y[ke].defined!==!1&&(T=Math.abs(y[ke][Y]-z),T<xt&&(xt=T,x=y[ke]));return x}function is(y,F){for(var z=Math.pow(y[0].strokeWidth||1,2),Y=y.length,ke,xt,x;--Y>=0;)if(y[Y].defined!==!1&&(ke=y[Y].x-F[0],xt=y[Y].y-F[1],x=ke*ke+xt*xt,x<z))return y[Y];return null}function pa(y,F){for(var z=y.length,Y,ke,xt;--z>=0;)if(y[z].defined!==!1&&(Y=y[z].x-F[0],ke=y[z].y-F[1],xt=Y*Y+ke*ke,Y=y[z].size||1,xt<Y*Y))return y[z];return null}function No(y,F,z){function Y(q,J){var ge=J.mark.items;ge.length&&q("d",F(null,ge))}function ke(q,J){var ge=J.items;return ge.length===0?q:(F(qa(q),ge),fo(q,ge[0]))}function xt(q,J){q.beginPath(),F(q,J)}let x=ni(xt);function T(q,J,ge,Fe,it,$t){var En=J.items,_n=J.bounds;return!En||!En.length||_n&&!_n.contains(it,$t)?null:(ge*=q.pixelRatio,Fe*=q.pixelRatio,x(q,En,ge,Fe)?En[0]:null)}return{type:y,tag:"path",nested:!0,attr:Y,bound:ke,draw:gr(xt),pick:T,isect:ns,tip:z}}var ws=No("area",ri,Ms);function tn(y,F){var z=F.clip;y.save(),e.isFunction(z)?(y.beginPath(),z(y),y.clip()):Jn(y,F.group)}function Jn(y,F){y.beginPath(),Mn(F)?Xr(y,F,0,0):y.rect(0,0,F.width||0,F.height||0),y.clip()}function yn(y){let F=pt(y.strokeWidth,1);return y.strokeOffset!=null?y.strokeOffset:y.stroke&&F>.5&&F<1.5?.5-Math.abs(F-1):0}function Yr(y,F){y("transform",yi(F))}function Ti(y,F){let z=yn(F);y("d",Xr(null,F,z,z))}function ts(y,F){y("class","background"),y("aria-hidden",!0),Ti(y,F)}function ps(y,F){y("class","foreground"),y("aria-hidden",!0),F.strokeForeground?Ti(y,F):y("d","")}function zi(y,F,z){let Y=F.clip?co(z,F,F):null;y("clip-path",Y)}function cs(y,F){if(!F.clip&&F.items){let z=F.items,Y=z.length;for(let ke=0;ke<Y;++ke)y.union(z[ke].bounds)}return(F.clip||F.width||F.height)&&!F.noBound&&y.add(0,0).add(F.width||0,F.height||0),fo(y,F),y.translate(F.x||0,F.y||0)}function fu(y,F,z,Y){let ke=yn(F);y.beginPath(),Xr(y,F,(z||0)+ke,(Y||0)+ke)}let ue=ni(fu),ut=ni(fu,!1),Zt=ni(fu,!0);function An(y,F,z){Gn(F,Y=>{let ke=Y.x||0,xt=Y.y||0,x=Y.strokeForeground,T=Y.opacity==null?1:Y.opacity;(Y.stroke||Y.fill)&&T&&(fu(y,Y,ke,xt),Le(y,Y),Y.fill&&Nn(y,Y,T)&&y.fill(),Y.stroke&&!x&&Un(y,Y,T)&&y.stroke()),y.save(),y.translate(ke,xt),Y.clip&&Jn(y,Y),z&&z.translate(-ke,-xt),Gn(Y,q=>{this.draw(y,q,z)}),z&&z.translate(ke,xt),y.restore(),x&&Y.stroke&&T&&(fu(y,Y,ke,xt),Le(y,Y),Un(y,Y,T)&&y.stroke())})}function nr(y,F,z,Y,ke,xt){if(F.bounds&&!F.bounds.contains(ke,xt)||!F.items)return null;let x=z*y.pixelRatio,T=Y*y.pixelRatio;return ar(F,q=>{let J,ge,Fe,it=q.bounds;if(it&&!it.contains(ke,xt))return;ge=q.x||0,Fe=q.y||0;let $t=ge+(q.width||0),En=Fe+(q.height||0),_n=q.clip;if(_n&&(ke<ge||ke>$t||xt<Fe||xt>En))return;if(y.save(),y.translate(ge,Fe),ge=ke-ge,Fe=xt-Fe,_n&&Mn(q)&&!Zt(y,q,x,T))return y.restore(),null;let kn=q.strokeForeground,Hn=F.interactive!==!1;return Hn&&kn&&q.stroke&&ut(y,q,x,T)?(y.restore(),q):(J=ar(q,ir=>vr(ir,ge,Fe)?this.pick(ir,z,Y,ge,Fe):null),!J&&Hn&&(q.fill||!kn&&q.stroke)&&ue(y,q,x,T)&&(J=q),y.restore(),J||null)})}function vr(y,F,z){return(y.interactive!==!1||y.marktype==="group")&&y.bounds&&y.bounds.contains(F,z)}var fr={type:"group",tag:"g",nested:!1,attr:Yr,bound:cs,draw:An,pick:nr,isect:ls,content:zi,background:ts,foreground:ps},Zi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function vs(y,F){var z=y.image;return(!z||y.url&&y.url!==z.url)&&(z={complete:!1,width:0,height:0},F.loadImage(y.url).then(Y=>{y.image=Y,y.image.url=y.url})),z}function Ns(y,F){return y.width!=null?y.width:!F||!F.width?0:y.aspect!==!1&&y.height?y.height*F.width/F.height:F.width}function io(y,F){return y.height!=null?y.height:!F||!F.height?0:y.aspect!==!1&&y.width?y.width*F.height/F.width:F.height}function Ya(y,F){return y==="center"?F/2:y==="right"?F:0}function Zl(y,F){return y==="middle"?F/2:y==="bottom"?F:0}function Yc(y,F,z){let Y=vs(F,z),ke=Ns(F,Y),xt=io(F,Y),x=(F.x||0)-Ya(F.align,ke),T=(F.y||0)-Zl(F.baseline,xt),q=!Y.src&&Y.toDataURL?Y.toDataURL():Y.src||"";y("href",q,Zi["xmlns:xlink"],"xlink:href"),y("transform",ii(x,T)),y("width",ke),y("height",xt),y("preserveAspectRatio",F.aspect===!1?"none":"xMidYMid")}function Tc(y,F){let z=F.image,Y=Ns(F,z),ke=io(F,z),xt=(F.x||0)-Ya(F.align,Y),x=(F.y||0)-Zl(F.baseline,ke);return y.set(xt,x,xt+Y,x+ke)}function Zf(y,F,z){Gn(F,Y=>{if(z&&!z.intersects(Y.bounds))return;let ke=vs(Y,this),xt=Ns(Y,ke),x=io(Y,ke);if(xt===0||x===0)return;let T=(Y.x||0)-Ya(Y.align,xt),q=(Y.y||0)-Zl(Y.baseline,x),J,ge,Fe,it;Y.aspect!==!1&&(ge=ke.width/ke.height,Fe=Y.width/Y.height,ge===ge&&Fe===Fe&&ge!==Fe&&(Fe<ge?(it=xt/ge,q+=(x-it)/2,x=it):(it=x*ge,T+=(xt-it)/2,xt=it))),(ke.complete||ke.toDataURL)&&(Le(y,Y),y.globalAlpha=(J=Y.opacity)!=null?J:1,y.imageSmoothingEnabled=Y.smooth!==!1,y.drawImage(ke,T,q,xt,x))})}var B0={type:"image",tag:"image",nested:!1,attr:Yc,bound:Tc,draw:Zf,pick:di(),isect:e.truthy,get:vs,xOffset:Ya,yOffset:Zl},ec=No("line",Br,is);function Kc(y,F){var z=F.scaleX||1,Y=F.scaleY||1;(z!==1||Y!==1)&&y("vector-effect","non-scaling-stroke"),y("transform",ss(F)),y("d",F.path)}function e0(y,F){var z=F.path;if(z==null)return!0;var Y=F.x||0,ke=F.y||0,xt=F.scaleX||1,x=F.scaleY||1,T=(F.angle||0)*nt,q=F.pathCache;(!q||q.path!==z)&&((F.pathCache=q=Se(z)).path=z),T&&y.rotate&&y.translate?(y.translate(Y,ke),y.rotate(T),ve(y,q,0,0,xt,x),y.rotate(-T),y.translate(-Y,-ke)):ve(y,q,Y,ke,xt,x)}function hl(y,F){return e0(qa(y,F.angle),F)?y.set(0,0,0,0):fo(y,F,!0)}var Fc={type:"path",tag:"path",nested:!1,attr:Kc,bound:hl,draw:er(e0),pick:pi(e0),isect:ui(e0)};function t0(y,F){y("d",Xr(null,F))}function tc(y,F){var z,Y;return fo(y.set(z=F.x||0,Y=F.y||0,z+F.width||0,Y+F.height||0),F)}function Bl(y,F){y.beginPath(),Xr(y,F)}var j0={type:"rect",tag:"path",nested:!1,attr:t0,bound:tc,draw:er(Bl),pick:pi(Bl),isect:ls};function _h(y,F){y("transform",yi(F)),y("x2",F.x2!=null?F.x2-(F.x||0):0),y("y2",F.y2!=null?F.y2-(F.y||0):0)}function q0(y,F){var z,Y;return fo(y.set(z=F.x||0,Y=F.y||0,F.x2!=null?F.x2:z,F.y2!=null?F.y2:Y),F)}function U0(y,F,z){var Y,ke,xt,x;return F.stroke&&Un(y,F,z)?(Y=F.x||0,ke=F.y||0,xt=F.x2!=null?F.x2:Y,x=F.y2!=null?F.y2:ke,y.beginPath(),y.moveTo(Y,ke),y.lineTo(xt,x),!0):!1}function Jc(y,F,z){Gn(F,Y=>{if(!(z&&!z.intersects(Y.bounds))){var ke=Y.opacity==null?1:Y.opacity;ke&&U0(y,Y,ke)&&(Le(y,Y),y.stroke())}})}function $0(y,F,z,Y){return y.isPointInStroke?U0(y,F,1)&&y.isPointInStroke(z,Y):!1}var Dc={type:"rule",tag:"line",nested:!1,attr:_h,bound:q0,draw:Jc,pick:di($0),isect:pr},n0=ms("shape",Cs),r0=ms("symbol",lo,ns);let i0=e.lruCache();var qo={height:Au,measureWidth:Xc,estimateWidth:s0,width:s0,canvas:Jo};Jo(!0);function Jo(y){qo.width=y&&ea?Xc:s0}function s0(y,F){return pl(xl(y,F),Au(y))}function pl(y,F){return~~(.8*y.length*F)}function Xc(y,F){return Au(y)<=0||!(F=xl(y,F))?0:Rd(F,Dt(y))}function Rd(y,F){let z=`(${F}) ${y}`,Y=i0.get(z);return Y===void 0&&(ea.font=F,Y=ea.measureText(y).width,i0.set(z,Y)),Y}function Au(y){return y.fontSize!=null?+y.fontSize||0:11}function yo(y){return y.lineHeight!=null?y.lineHeight:Au(y)+2}function bh(y){return e.isArray(y)?y.length>1?y:y[0]:y}function ml(y){return bh(y.lineBreak&&y.text&&!e.isArray(y.text)?y.text.split(y.lineBreak):y.text)}function Ls(y){let F=ml(y);return(e.isArray(F)?F.length-1:0)*yo(y)}function xl(y,F){let z=F==null?"":(F+"").trim();return y.limit>0&&z.length?X(y,z):z}function L(y){if(qo.width===Xc){let F=Dt(y);return z=>Rd(z,F)}else{let F=Au(y);return z=>pl(z,F)}}function X(y,F){var z=+y.limit,Y=L(y);if(Y(F)<z)return F;var ke=y.ellipsis||"\u2026",xt=y.dir==="rtl",x=0,T=F.length,q;if(z-=Y(ke),xt){for(;x<T;)q=x+T>>>1,Y(F.slice(q))>z?x=q+1:T=q;return ke+F.slice(x)}else{for(;x<T;)q=1+(x+T>>>1),Y(F.slice(0,q))<z?x=q:T=q-1;return F.slice(0,x)+ke}}function Be(y,F){var z=y.font;return(F&&z?String(z).replace(/"/g,"'"):z)||"sans-serif"}function Dt(y,F){return(y.fontStyle?y.fontStyle+" ":"")+(y.fontVariant?y.fontVariant+" ":"")+(y.fontWeight?y.fontWeight+" ":"")+Au(y)+"px "+Be(y,F)}function Ht(y){var F=y.baseline,z=Au(y);return Math.round(F==="top"?.79*z:F==="middle"?.3*z:F==="bottom"?-.21*z:F==="line-top"?.29*z+.5*yo(y):F==="line-bottom"?.29*z-.5*yo(y):0)}let Cn={left:"start",center:"middle",right:"end"},Rn=new hi;function rr(y){var F=y.x||0,z=y.y||0,Y=y.radius||0,ke;return Y&&(ke=(y.theta||0)-rn,F+=Y*Math.cos(ke),z+=Y*Math.sin(ke)),Rn.x1=F,Rn.y1=z,Rn}function dr(y,F){var z=F.dx||0,Y=(F.dy||0)+Ht(F),ke=rr(F),xt=ke.x1,x=ke.y1,T=F.angle||0,q;y("text-anchor",Cn[F.align]||"start"),T?(q=ii(xt,x)+" "+qr(T),(z||Y)&&(q+=" "+ii(z,Y))):q=ii(xt+z,x+Y),y("transform",q)}function Nr(y,F,z){var Y=qo.height(F),ke=F.align,xt=rr(F),x=xt.x1,T=xt.y1,q=F.dx||0,J=(F.dy||0)+Ht(F)-Math.round(.8*Y),ge=ml(F),Fe;if(e.isArray(ge)?(Y+=yo(F)*(ge.length-1),Fe=ge.reduce((it,$t)=>Math.max(it,qo.width(F,$t)),0)):Fe=qo.width(F,ge),ke==="center"?q-=Fe/2:ke==="right"&&(q-=Fe),y.set(q+=x,J+=T,q+Fe,J+Y),F.angle&&!z)y.rotate(F.angle*nt,x,T);else if(z===2)return y.rotatedPoints(F.angle*nt,x,T);return y}function tt(y,F,z){Gn(F,Y=>{var ke=Y.opacity==null?1:Y.opacity,xt,x,T,q,J,ge,Fe;if(!(z&&!z.intersects(Y.bounds)||ke===0||Y.fontSize<=0||Y.text==null||Y.text.length===0)){if(y.font=Dt(Y),y.textAlign=Y.align||"left",xt=rr(Y),x=xt.x1,T=xt.y1,Y.angle&&(y.save(),y.translate(x,T),y.rotate(Y.angle*nt),x=T=0),x+=Y.dx||0,T+=(Y.dy||0)+Ht(Y),ge=ml(Y),Le(y,Y),e.isArray(ge))for(J=yo(Y),q=0;q<ge.length;++q)Fe=xl(Y,ge[q]),Y.fill&&Nn(y,Y,ke)&&y.fillText(Fe,x,T),Y.stroke&&Un(y,Y,ke)&&y.strokeText(Fe,x,T),T+=J;else Fe=xl(Y,ge),Y.fill&&Nn(y,Y,ke)&&y.fillText(Fe,x,T),Y.stroke&&Un(y,Y,ke)&&y.strokeText(Fe,x,T);Y.angle&&y.restore()}})}function Fi(y,F,z,Y,ke,xt){if(F.fontSize<=0)return!1;if(!F.angle)return!0;var x=rr(F),T=x.x1,q=x.y1,J=Nr(Rn,F,1),ge=-F.angle*nt,Fe=Math.cos(ge),it=Math.sin(ge),$t=Fe*ke-it*xt+(T-Fe*T+it*q),En=it*ke+Fe*xt+(q-it*T-Fe*q);return J.contains($t,En)}function Wi(y,F){let z=Nr(Rn,y,2);return rs(F,z[0],z[1],z[2],z[3])||rs(F,z[0],z[1],z[4],z[5])||rs(F,z[4],z[5],z[6],z[7])||rs(F,z[2],z[3],z[6],z[7])}var Li={type:"text",tag:"text",nested:!1,attr:dr,bound:Nr,draw:tt,pick:di(Fi),isect:Wi},Qr=No("trail",no,pa),Qs={arc:vi,area:ws,group:fr,image:B0,line:ec,path:Fc,rect:j0,rule:Dc,shape:n0,symbol:r0,text:Li,trail:Qr};function Uo(y,F,z){var Y=Qs[y.mark.marktype],ke=F||Y.bound;return Y.nested&&(y=y.mark),ke(y.bounds||(y.bounds=new hi),y,z)}var ma={mark:null};function ho(y,F,z){var Y=Qs[y.marktype],ke=Y.bound,xt=y.items,x=xt&&xt.length,T,q,J,ge;if(Y.nested)return x?J=xt[0]:(ma.mark=y,J=ma),ge=Uo(J,ke,z),F=F&&F.union(ge)||ge,F;if(F=F||y.bounds&&y.bounds.clear()||new hi,x)for(T=0,q=xt.length;T<q;++T)F.union(Uo(xt[T],ke,z));return y.bounds=F}let Na=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function nc(y,F){return JSON.stringify(y,Na,F)}function jl(y){let F=typeof y=="string"?JSON.parse(y):y;return Ra(F)}function Ra(y){var F=y.marktype,z=y.items,Y,ke,xt;if(z)for(ke=0,xt=z.length;ke<xt;++ke)Y=F?"mark":"group",z[ke][Y]=y,z[ke].zindex&&(z[ke][Y].zdirty=!0),(F||Y)==="group"&&Ra(z[ke]);return F&&ho(y),y}function rc(y){arguments.length?this.root=jl(y):(this.root=xa({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Vi(this.root)])}rc.prototype={toJSON(y){return nc(this.root,y||0)},mark(y,F,z){F=F||this.root.items[0];let Y=xa(y,F);return F.items[z]=Y,Y.zindex&&(Y.group.zdirty=!0),Y}};function xa(y,F){let z={bounds:new hi,clip:!!y.clip,group:F,interactive:y.interactive!==!1,items:[],marktype:y.marktype,name:y.name||void 0,role:y.role||void 0,zindex:y.zindex||0};return y.aria!=null&&(z.aria=y.aria),y.description&&(z.description=y.description),z}function Zc(y,F,z){return!y&&typeof document!="undefined"&&document.createElement&&(y=document),y?z?y.createElementNS(z,F):y.createElement(F):null}function ef(y,F){F=F.toLowerCase();for(var z=y.childNodes,Y=0,ke=z.length;Y<ke;++Y)if(z[Y].tagName.toLowerCase()===F)return z[Y]}function Ju(y,F,z,Y){var ke=y.childNodes[F],xt;return(!ke||ke.tagName.toLowerCase()!==z.toLowerCase())&&(xt=ke||null,ke=Zc(y.ownerDocument,z,Y),y.insertBefore(ke,xt)),ke}function ic(y,F){for(var z=y.childNodes,Y=z.length;Y>F;)y.removeChild(z[--Y]);return y}function F1(y){return"mark-"+y.marktype+(y.role?" role-"+y.role:"")+(y.name?" "+y.name:"")}function Oc(y,F){let z=F.getBoundingClientRect();return[y.clientX-z.left-(F.clientLeft||0),y.clientY-z.top-(F.clientTop||0)]}function B2(y,F,z,Y){var ke=y&&y.mark,xt,x;if(ke&&(xt=Qs[ke.marktype]).tip){for(x=Oc(F,z),x[0]-=Y[0],x[1]-=Y[1];y=y.mark.group;)x[0]-=y.x||0,x[1]-=y.y||0;y=xt.tip(ke.items,x)}return y}function ql(y,F){this._active=null,this._handlers={},this._loader=y||r.loader(),this._tooltip=F||Cf}function Cf(y,F,z,Y){y.element().setAttribute("title",Y||"")}ql.prototype={initialize(y,F,z){return this._el=y,this._obj=z||null,this.origin(F)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(y){return arguments.length?(this._origin=y||[0,0],this):this._origin.slice()},scene(y){return arguments.length?(this._scene=y,this):this._scene},on(){},off(){},_handlerIndex(y,F,z){for(let Y=y?y.length:0;--Y>=0;)if(y[Y].type===F&&(!z||y[Y].handler===z))return Y;return-1},handlers(y){let F=this._handlers,z=[];if(y)z.push(...F[this.eventName(y)]);else for(let Y in F)z.push(...F[Y]);return z},eventName(y){let F=y.indexOf(".");return F<0?y:y.slice(0,F)},handleHref(y,F,z){this._loader.sanitize(z,{context:"href"}).then(Y=>{let ke=new MouseEvent(y.type,y),xt=Zc(null,"a");for(let x in Y)xt.setAttribute(x,Y[x]);xt.dispatchEvent(ke)}).catch(()=>{})},handleTooltip(y,F,z){if(F&&F.tooltip!=null){F=B2(F,y,this.canvas(),this._origin);let Y=z&&F&&F.tooltip||null;this._tooltip.call(this._obj,this,y,F,Y)}},getItemBoundingClientRect(y){let F=this.canvas();if(!F)return;let z=F.getBoundingClientRect(),Y=this._origin,ke=y.bounds,xt=ke.width(),x=ke.height(),T=ke.x1+Y[0]+z.left,q=ke.y1+Y[1]+z.top;for(;y.mark&&(y=y.mark.group);)T+=y.x||0,q+=y.y||0;return{x:T,y:q,width:xt,height:x,left:T,top:q,right:T+xt,bottom:q+x}}};function Nc(y){this._el=null,this._bgcolor=null,this._loader=new Ko(y)}Nc.prototype={initialize(y,F,z,Y,ke){return this._el=y,this.resize(F,z,Y,ke)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(y){return arguments.length===0?this._bgcolor:(this._bgcolor=y,this)},resize(y,F,z,Y){return this._width=y,this._height=F,this._origin=z||[0,0],this._scale=Y||1,this},dirty(){},render(y){let F=this;return F._call=function(){F._render(y)},F._call(),F._call=null,F},_render(){},renderAsync(y){let F=this.render(y);return this._ready?this._ready.then(()=>F):Promise.resolve(F)},_load(y,F){var z=this,Y=z._loader[y](F);if(!z._ready){let ke=z._call;z._ready=z._loader.ready().then(xt=>{xt&&ke(),z._ready=null})}return Y},sanitizeURL(y){return this._load("sanitizeURL",y)},loadImage(y){return this._load("loadImage",y)}};let jr="keydown",z0="keypress",H0="keyup",$r="dragenter",gl="dragleave",D1="dragover",tp="mousedown",vo="mouseup",V0="mousemove",Ld="mouseout",W0="mouseover",tf="click",Rx="dblclick",Lx="wheel",Eh="mousewheel",nf="touchstart",Xu="touchmove",kd="touchend",np=[jr,z0,H0,$r,gl,D1,tp,vo,V0,Ld,W0,tf,Rx,Lx,Eh,nf,Xu,kd],O1=V0,Zu=Ld,Q0=tf;function wf(y,F){ql.call(this,y,F),this._down=null,this._touch=null,this._first=!0,this._events={}}let yl=y=>y===nf||y===Xu||y===kd?[nf,Xu,kd]:[y];function rp(y,F){yl(F).forEach(z=>du(y,z))}function du(y,F){let z=y.canvas();z&&!y._events[F]&&(y._events[F]=1,z.addEventListener(F,y[F]?Y=>y[F](Y):Y=>y.fire(F,Y)))}function N1(y,F,z){return function(Y){let ke=this._active,xt=this.pickEvent(Y);xt===ke?this.fire(y,Y):((!ke||!ke.exit)&&this.fire(z,Y),this._active=xt,this.fire(F,Y),this.fire(y,Y))}}function el(y){return function(F){this.fire(y,F),this._active=null}}e.inherits(wf,ql,{initialize(y,F,z){return this._canvas=y&&ef(y,"canvas"),[tf,tp,V0,Ld,gl].forEach(Y=>rp(this,Y)),ql.prototype.initialize.call(this,y,F,z)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:np,DOMMouseScroll(y){this.fire(Eh,y)},mousemove:N1(V0,W0,Ld),dragover:N1(D1,$r,gl),mouseout:el(Ld),dragleave:el(gl),mousedown(y){this._down=this._active,this.fire(tp,y)},click(y){this._down===this._active&&(this.fire(tf,y),this._down=null)},touchstart(y){this._touch=this.pickEvent(y.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(nf,y,!0)},touchmove(y){this.fire(Xu,y,!0)},touchend(y){this.fire(kd,y,!0),this._touch=null},fire(y,F,z){let Y=z?this._touch:this._active,ke=this._handlers[y];if(F.vegaType=y,y===Q0&&Y&&Y.href?this.handleHref(F,Y,Y.href):(y===O1||y===Zu)&&this.handleTooltip(F,Y,y!==Zu),ke)for(let xt=0,x=ke.length;xt<x;++xt)ke[xt].handler.call(this._obj,F,Y)},on(y,F){let z=this.eventName(y),Y=this._handlers;return this._handlerIndex(Y[z],y,F)<0&&(rp(this,y),(Y[z]||(Y[z]=[])).push({type:y,handler:F})),this},off(y,F){let z=this.eventName(y),Y=this._handlers[z],ke=this._handlerIndex(Y,y,F);return ke>=0&&Y.splice(ke,1),this},pickEvent(y){let F=Oc(y,this._canvas),z=this._origin;return this.pick(this._scene,F[0],F[1],F[0]-z[0],F[1]-z[1])},pick(y,F,z,Y,ke){let xt=this.context();return Qs[y.marktype].pick.call(this,xt,y,F,z,Y,ke)}});function Rc(){return typeof window!="undefined"&&window.devicePixelRatio||1}var Sh=Rc();function Id(y,F,z,Y,ke,xt){let x=typeof HTMLElement!="undefined"&&y instanceof HTMLElement&&y.parentNode!=null,T=y.getContext("2d"),q=x?Sh:ke;y.width=F*q,y.height=z*q;for(let J in xt)T[J]=xt[J];return x&&q!==1&&(y.style.width=F+"px",y.style.height=z+"px"),T.pixelRatio=q,T.setTransform(q,0,0,q,q*Y[0],q*Y[1]),y}function rf(y){Nc.call(this,y),this._options={},this._redraw=!1,this._dirty=new hi,this._tempb=new hi}let Ch=Nc.prototype,ip=(y,F,z)=>new hi().set(0,0,F,z).translate(-y[0],-y[1]);function Ua(y,F,z){return F.expand(1).round(),y.pixelRatio%1&&F.scale(y.pixelRatio).round().scale(1/y.pixelRatio),F.translate(-(z[0]%1),-(z[1]%1)),y.beginPath(),y.rect(F.x1,F.y1,F.width(),F.height()),y.clip(),F}e.inherits(rf,Nc,{initialize(y,F,z,Y,ke,xt){return this._options=xt||{},this._canvas=this._options.externalContext?null:t.canvas(1,1,this._options.type),y&&this._canvas&&(ic(y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Ch.initialize.call(this,y,F,z,Y,ke)},resize(y,F,z,Y){if(Ch.resize.call(this,y,F,z,Y),this._canvas)Id(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{let ke=this._options.externalContext;ke||e.error("CanvasRenderer is missing a valid canvas or context"),ke.scale(this._scale,this._scale),ke.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(y){let F=this._tempb.clear().union(y.bounds),z=y.mark.group;for(;z;)F.translate(z.x||0,z.y||0),z=z.mark.group;this._dirty.union(F)},_render(y){let F=this.context(),z=this._origin,Y=this._width,ke=this._height,xt=this._dirty,x=ip(z,Y,ke);F.save();let T=this._redraw||xt.empty()?(this._redraw=!1,x.expand(1)):Ua(F,x.intersect(xt),z);return this.clear(-z[0],-z[1],Y,ke),this.draw(F,y,T),F.restore(),xt.clear(),this},draw(y,F,z){let Y=Qs[F.marktype];F.clip&&tn(y,F),Y.draw.call(this,y,F,z),F.clip&&y.restore()},clear(y,F,z,Y){let ke=this._options,xt=this.context();ke.type!=="pdf"&&!ke.externalContext&&xt.clearRect(y,F,z,Y),this._bgcolor!=null&&(xt.fillStyle=this._bgcolor,xt.fillRect(y,F,z,Y))}});function wh(y,F){ql.call(this,y,F);let z=this;z._hrefHandler=G0(z,(Y,ke)=>{ke&&ke.href&&z.handleHref(Y,ke,ke.href)}),z._tooltipHandler=G0(z,(Y,ke)=>{z.handleTooltip(Y,ke,Y.type!==Zu)})}let G0=(y,F)=>z=>{let Y=z.target.__data__;Y=Array.isArray(Y)?Y[0]:Y,z.vegaType=z.type,F.call(y._obj,z,Y)};e.inherits(wh,ql,{initialize(y,F,z){let Y=this._svg;return Y&&(Y.removeEventListener(Q0,this._hrefHandler),Y.removeEventListener(O1,this._tooltipHandler),Y.removeEventListener(Zu,this._tooltipHandler)),this._svg=Y=y&&ef(y,"svg"),Y&&(Y.addEventListener(Q0,this._hrefHandler),Y.addEventListener(O1,this._tooltipHandler),Y.addEventListener(Zu,this._tooltipHandler)),ql.prototype.initialize.call(this,y,F,z)},canvas(){return this._svg},on(y,F){let z=this.eventName(y),Y=this._handlers;if(this._handlerIndex(Y[z],y,F)<0){let xt={type:y,handler:F,listener:G0(this,F)};(Y[z]||(Y[z]=[])).push(xt),this._svg&&this._svg.addEventListener(z,xt.listener)}return this},off(y,F){let z=this.eventName(y),Y=this._handlers[z],ke=this._handlerIndex(Y,y,F);return ke>=0&&(this._svg&&this._svg.removeEventListener(z,Y[ke].listener),Y.splice(ke,1)),this}});let La="aria-hidden",Ah="aria-label",Tu="role",Ka="aria-roledescription",Th="graphics-object",ga="graphics-symbol",Fh=(y,F,z)=>({[Tu]:y,[Ka]:F,[Ah]:z||void 0}),sp=e.toSet(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),o0={axis:{desc:"axis",caption:Dh},legend:{desc:"legend",caption:Md},"title-text":{desc:"title",caption:y=>`Title text '${tl(y)}'`},"title-subtitle":{desc:"subtitle",caption:y=>`Subtitle text '${tl(y)}'`}},Y0={ariaRole:Tu,ariaRoleDescription:Ka,description:Ah};function sf(y,F){let z=F.aria===!1;if(y(La,z||void 0),z||F.description==null)for(let Y in Y0)y(Y0[Y],void 0);else{let Y=F.mark.marktype;y(Ah,F.description),y(Tu,F.ariaRole||(Y==="group"?Th:ga)),y(Ka,F.ariaRoleDescription||`${Y} mark`)}}function Ul(y){return y.aria===!1?{[La]:!0}:sp[y.role]?null:o0[y.role]?op(y,o0[y.role]):Fu(y)}function Fu(y){let F=y.marktype,z=F==="group"||F==="text"||y.items.some(Y=>Y.description!=null&&Y.aria!==!1);return Fh(z?Th:ga,`${F} mark container`,y.description)}function op(y,F){try{let z=y.items[0],Y=F.caption||(()=>"");return Fh(F.role||ga,F.desc,z.description||Y(z))}catch{return null}}function tl(y){return e.array(y.text).join(" ")}function Dh(y){let F=y.datum,z=y.orient,Y=F.title?j2(y):null,ke=y.context,xt=ke.scales[F.scale].value,x=ke.dataflow.locale(),T=xt.type;return`${z==="left"||z==="right"?"Y":"X"}-axis`+(Y?` titled '${Y}'`:"")+` for a ${i.isDiscrete(T)?"discrete":T} scale with ${i.domainCaption(x,xt,y)}`}function Md(y){let F=y.datum,z=F.title?j2(y):null,Y=`${F.type||""} legend`.trim(),ke=F.scales,xt=Object.keys(ke),x=y.context,T=x.scales[ke[xt[0]]].value,q=x.dataflow.locale();return Af(Y)+(z?` titled '${z}'`:"")+` for ${ap(xt)} with ${i.domainCaption(q,T,y)}`}function j2(y){try{return e.array(e.peek(y.items).items[0].text).join(" ")}catch{return null}}function ap(y){return y=y.map(F=>F+(F==="fill"||F==="stroke"?" color":"")),y.length<2?y[0]:y.slice(0,-1).join(", ")+" and "+e.peek(y)}function Af(y){return y.length?y[0].toUpperCase()+y.slice(1):y}let K0=y=>(y+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ks=y=>K0(y).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function A(){let y="",F="",z="",Y=[],ke=()=>F=z="",xt=q=>{F&&(y+=`${F}>${z}`,ke()),Y.push(q)},x=(q,J)=>(J!=null&&(F+=` ${q}="${Ks(J)}"`),T),T={open(q,...J){xt(q),F="<"+q;for(let ge of J)for(let Fe in ge)x(Fe,ge[Fe]);return T},close(){let q=Y.pop();return F?y+=F+(z?`>${z}</${q}>`:"/>"):y+=`</${q}>`,ke(),T},attr:x,text:q=>(z+=K0(q),T),toString:()=>y};return T}let W=y=>ce(A(),y)+"";function ce(y,F){if(y.open(F.tagName),F.hasAttributes()){let z=F.attributes,Y=z.length;for(let ke=0;ke<Y;++ke)y.attr(z[ke].name,z[ke].value)}if(F.hasChildNodes()){let z=F.childNodes;for(let Y of z)Y.nodeType===3?y.text(Y.nodeValue):ce(y,Y)}return y.close()}let Me={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},_t={blend:"mix-blend-mode"},wn={fill:"none","stroke-miterlimit":10},ur=0,Ui="http://www.w3.org/2000/xmlns/",Pi=Zi.xmlns;function so(y){Nc.call(this,y),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}let hu=Nc.prototype;e.inherits(so,Nc,{initialize(y,F,z,Y,ke){return this._defs={},this._clearDefs(),y&&(this._svg=Ju(y,0,"svg",Pi),this._svg.setAttributeNS(Ui,"xmlns",Pi),this._svg.setAttributeNS(Ui,"xmlns:xlink",Zi["xmlns:xlink"]),this._svg.setAttribute("version",Zi.version),this._svg.setAttribute("class","marks"),ic(y,1),this._root=Ju(this._svg,ur,"g",Pi),a0(this._root,wn),ic(this._svg,ur+1)),this.background(this._bgcolor),hu.initialize.call(this,y,F,z,Y,ke)},background(y){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",y),hu.background.apply(this,arguments)},resize(y,F,z,Y){return hu.resize.call(this,y,F,z,Y),this._svg&&(a0(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){let y=this._svg,F=this._bgcolor;if(!y)return null;let z;F&&(y.removeAttribute("style"),z=Ju(y,ur,"rect",Pi),a0(z,{width:this._width,height:this._height,fill:F}));let Y=W(y);return F&&(y.removeChild(z),this._svg.style.setProperty("background-color",F)),Y},_render(y){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,y),ic(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(y){y.dirty!==this._dirtyID&&(y.dirty=this._dirtyID,this._dirty.push(y))},isDirty(y){return this._dirtyAll||!y._svg||!y._svg.ownerSVGElement||y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;let y=this._dirty;if(!y.length||!this._dirtyID)return!0;let F=++this._dirtyID,z,Y,ke,xt,x,T,q;for(x=0,T=y.length;x<T;++x)if(z=y[x],Y=z.mark,Y.marktype!==ke&&(ke=Y.marktype,xt=Qs[ke]),Y.zdirty&&Y.dirty!==F&&(this._dirtyAll=!1,Lc(z,F),Y.items.forEach(J=>{J.dirty=F})),!Y.zdirty){if(z.exit){xt.nested&&Y.items.length?(q=Y.items[0],q._svg&&this._update(xt,q._svg,q)):z._svg&&(q=z._svg.parentNode,q&&q.removeChild(z._svg)),z._svg=null;continue}z=xt.nested?Y.items[0]:z,z._update!==F&&(!z._svg||!z._svg.ownerSVGElement?(this._dirtyAll=!1,Lc(z,F)):this._update(xt,z._svg,z),z._update=F)}return!this._dirtyAll},mark(y,F,z){if(!this.isDirty(F))return F._svg;let Y=this._svg,ke=Qs[F.marktype],xt=F.interactive===!1?"none":null,x=ke.tag==="g",T=gv(F,y,z,"g",Y);T.setAttribute("class",F1(F));let q=Ul(F);for(let it in q)vl(T,it,q[it]);x||vl(T,"pointer-events",xt),vl(T,"clip-path",F.clip?co(this,F,F.group):null);let J=null,ge=0,Fe=it=>{let $t=this.isDirty(it),En=gv(it,T,J,ke.tag,Y);$t&&(this._update(ke,En,it),x&&Ny(this,En,it)),J=En,++ge};return ke.nested?F.items.length&&Fe(F.items[0]):Gn(F,Fe),ic(T,ge),T},_update(y,F,z){J0=F,Du=F.__values__,sf(Oh,z),y.attr(Oh,z,this);let Y=yv[y.type];Y&&Y.call(this,y,F,z),J0&&this.style(J0,z)},style(y,F){if(F!=null){for(let z in Me){let Y=z==="font"?Be(F):F[z];if(Y===Du[z])continue;let ke=Me[z];Y==null?y.removeAttribute(ke):(c(Y)&&(Y=d(Y,this._defs.gradient,Ou())),y.setAttribute(ke,Y+"")),Du[z]=Y}for(let z in _t)As(y,_t[z],F[z])}},defs(){let y=this._svg,F=this._defs,z=F.el,Y=0;for(let ke in F.gradient)z||(F.el=z=Ju(y,ur+1,"defs",Pi)),Y=Tf(z,F.gradient[ke],Y);for(let ke in F.clipping)z||(F.el=z=Ju(y,ur+1,"defs",Pi)),Y=Bb(z,F.clipping[ke],Y);z&&(Y===0?(y.removeChild(z),F.el=null):ic(z,Y))},_clearDefs(){let y=this._defs;y.gradient={},y.clipping={}}});function Lc(y,F){for(;y&&y.dirty!==F;y=y.mark.group)if(y.dirty=F,y.mark&&y.mark.dirty!==F)y.mark.dirty=F;else return}function Tf(y,F,z){let Y,ke,xt;if(F.gradient==="radial"){let x=Ju(y,z++,"pattern",Pi);a0(x,{id:a+F.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),x=Ju(x,0,"rect",Pi),a0(x,{width:1,height:1,fill:`url(${Ou()}#${F.id})`}),y=Ju(y,z++,"radialGradient",Pi),a0(y,{id:F.id,fx:F.x1,fy:F.y1,fr:F.r1,cx:F.x2,cy:F.y2,r:F.r2})}else y=Ju(y,z++,"linearGradient",Pi),a0(y,{id:F.id,x1:F.x1,x2:F.x2,y1:F.y1,y2:F.y2});for(Y=0,ke=F.stops.length;Y<ke;++Y)xt=Ju(y,Y,"stop",Pi),xt.setAttribute("offset",F.stops[Y].offset),xt.setAttribute("stop-color",F.stops[Y].color);return ic(y,Y),z}function Bb(y,F,z){let Y;return y=Ju(y,z,"clipPath",Pi),y.setAttribute("id",F.id),F.path?(Y=Ju(y,0,"path",Pi),Y.setAttribute("d",F.path)):(Y=Ju(y,0,"rect",Pi),a0(Y,{x:0,y:0,width:F.width,height:F.height})),ic(y,1),z+1}function Ny(y,F,z){F=F.lastChild.previousSibling;let Y,ke=0;Gn(z,xt=>{Y=y.mark(F,xt,Y),++ke}),ic(F,1+ke)}function gv(y,F,z,Y,ke){let xt=y._svg,x;if(!xt&&(x=F.ownerDocument,xt=Zc(x,Y,Pi),y._svg=xt,y.mark&&(xt.__data__=y,xt.__values__={fill:"default"},Y==="g"))){let T=Zc(x,"path",Pi);xt.appendChild(T),T.__data__=y;let q=Zc(x,"g",Pi);xt.appendChild(q),q.__data__=y;let J=Zc(x,"path",Pi);xt.appendChild(J),J.__data__=y,J.__values__={fill:"default"}}return(xt.ownerSVGElement!==ke||Ry(xt,z))&&F.insertBefore(xt,z?z.nextSibling:F.firstChild),xt}function Ry(y,F){return y.parentNode&&y.parentNode.childNodes.length>1&&y.previousSibling!=F}let J0=null,Du=null,yv={group(y,F,z){let Y=J0=F.childNodes[2];Du=Y.__values__,y.foreground(Oh,z,this),Du=F.__values__,J0=F.childNodes[1],y.content(Oh,z,this);let ke=J0=F.childNodes[0];y.background(Oh,z,this);let xt=z.mark.interactive===!1?"none":null;if(xt!==Du.events&&(vl(Y,"pointer-events",xt),vl(ke,"pointer-events",xt),Du.events=xt),z.strokeForeground&&z.stroke){let x=z.fill;vl(Y,"display",null),this.style(ke,z),vl(ke,"stroke",null),x&&(z.fill=null),Du=Y.__values__,this.style(Y,z),x&&(z.fill=x),J0=null}else vl(Y,"display","none")},image(y,F,z){z.smooth===!1?(As(F,"image-rendering","optimizeSpeed"),As(F,"image-rendering","pixelated")):As(F,"image-rendering",null)},text(y,F,z){let Y=ml(z),ke,xt,x,T;e.isArray(Y)?(xt=Y.map(q=>xl(z,q)),ke=xt.join(`
`),ke!==Du.text&&(ic(F,0),x=F.ownerDocument,T=yo(z),xt.forEach((q,J)=>{let ge=Zc(x,"tspan",Pi);ge.__data__=z,ge.textContent=q,J&&(ge.setAttribute("x",0),ge.setAttribute("dy",T)),F.appendChild(ge)}),Du.text=ke)):(xt=xl(z,Y),xt!==Du.text&&(F.textContent=xt,Du.text=xt)),vl(F,"font-family",Be(z)),vl(F,"font-size",Au(z)+"px"),vl(F,"font-style",z.fontStyle),vl(F,"font-variant",z.fontVariant),vl(F,"font-weight",z.fontWeight)}};function Oh(y,F,z){F!==Du[y]&&(z?up(J0,y,F,z):vl(J0,y,F),Du[y]=F)}function As(y,F,z){z!==Du[F]&&(z==null?y.style.removeProperty(F):y.style.setProperty(F,z+""),Du[F]=z)}function a0(y,F){for(let z in F)vl(y,z,F[z])}function vl(y,F,z){z!=null?y.setAttribute(F,z):y.removeAttribute(F)}function up(y,F,z,Y){z!=null?y.setAttributeNS(Y,F,z):y.removeAttributeNS(Y,F)}function Ou(){let y;return typeof window=="undefined"?"":(y=window.location).hash?y.href.slice(0,-y.hash.length):y.href}function R1(y){Nc.call(this,y),this._text=null,this._defs={gradient:{},clipping:{}}}e.inherits(R1,Nc,{svg(){return this._text},_render(y){let F=A();F.open("svg",e.extend({},Zi,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));let z=this._bgcolor;return z&&z!=="transparent"&&z!=="none"&&F.open("rect",{width:this._width,height:this._height,fill:z}).close(),F.open("g",wn,{transform:"translate("+this._origin+")"}),this.mark(F,y),F.close(),this.defs(F),this._text=F.close()+"",this},mark(y,F){let z=Qs[F.marktype],Y=z.tag,ke=[sf,z.attr];y.open("g",{class:F1(F),"clip-path":F.clip?co(this,F,F.group):null},Ul(F),{"pointer-events":Y!=="g"&&F.interactive===!1?"none":null});let xt=x=>{let T=this.href(x);if(T&&y.open("a",T),y.open(Y,this.attr(F,x,ke,Y!=="g"?Y:null)),Y==="text"){let q=ml(x);if(e.isArray(q)){let J={x:0,dy:yo(x)};for(let ge=0;ge<q.length;++ge)y.open("tspan",ge?J:null).text(xl(x,q[ge])).close()}else y.text(xl(x,q))}else if(Y==="g"){let q=x.strokeForeground,J=x.fill,ge=x.stroke;q&&ge&&(x.stroke=null),y.open("path",this.attr(F,x,z.background,"bgrect")).close(),y.open("g",this.attr(F,x,z.content)),Gn(x,Fe=>this.mark(y,Fe)),y.close(),q&&ge?(J&&(x.fill=null),x.stroke=ge,y.open("path",this.attr(F,x,z.foreground,"bgrect")).close(),J&&(x.fill=J)):y.open("path",this.attr(F,x,z.foreground,"bgfore")).close()}y.close(),T&&y.close()};return z.nested?F.items&&F.items.length&&xt(F.items[0]):Gn(F,xt),y.close()},href(y){let F=y.href,z;if(F){if(z=this._hrefs&&this._hrefs[F])return z;this.sanitizeURL(F).then(Y=>{Y["xlink:href"]=Y.href,Y.href=null,(this._hrefs||(this._hrefs={}))[F]=Y})}return null},attr(y,F,z,Y){let ke={},xt=(x,T,q,J)=>{ke[J||x]=T};return Array.isArray(z)?z.forEach(x=>x(xt,F,this)):z(xt,F,this),Y&&L1(ke,F,y,Y,this._defs),ke},defs(y){let F=this._defs.gradient,z=this._defs.clipping;if(Object.keys(F).length+Object.keys(z).length!==0){y.open("defs");for(let ke in F){let xt=F[ke],x=xt.stops;xt.gradient==="radial"?(y.open("pattern",{id:a+ke,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),y.open("rect",{width:"1",height:"1",fill:"url(#"+ke+")"}).close(),y.close(),y.open("radialGradient",{id:ke,fx:xt.x1,fy:xt.y1,fr:xt.r1,cx:xt.x2,cy:xt.y2,r:xt.r2})):y.open("linearGradient",{id:ke,x1:xt.x1,x2:xt.x2,y1:xt.y1,y2:xt.y2});for(let T=0;T<x.length;++T)y.open("stop",{offset:x[T].offset,"stop-color":x[T].color}).close();y.close()}for(let ke in z){let xt=z[ke];y.open("clipPath",{id:ke}),xt.path?y.open("path",{d:xt.path}).close():y.open("rect",{x:0,y:0,width:xt.width,height:xt.height}).close(),y.close()}y.close()}}});function L1(y,F,z,Y,ke){let xt;if(F==null||(Y==="bgrect"&&z.interactive===!1&&(y["pointer-events"]="none"),Y==="bgfore"&&(z.interactive===!1&&(y["pointer-events"]="none"),y.display="none",F.fill!==null)))return y;Y==="image"&&F.smooth===!1&&(xt=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),Y==="text"&&(y["font-family"]=Be(F),y["font-size"]=Au(F)+"px",y["font-style"]=F.fontStyle,y["font-variant"]=F.fontVariant,y["font-weight"]=F.fontWeight);for(let x in Me){let T=F[x],q=Me[x];T==="transparent"&&(q==="fill"||q==="stroke")||T!=null&&(c(T)&&(T=d(T,ke.gradient,"")),y[q]=T)}for(let x in _t){let T=F[x];T!=null&&(xt=xt||[],xt.push(`${_t[x]}: ${T};`))}return xt&&(y.style=xt.join(" ")),y}let _l="canvas",Ly="png",Pd="svg",Nh="none",ky={Canvas:_l,PNG:Ly,SVG:Pd,None:Nh},Ff={};Ff[_l]=Ff[Ly]={renderer:rf,headless:rf,handler:wf},Ff[Pd]={renderer:so,headless:R1,handler:wh},Ff[Nh]={};function bl(y,F){return y=String(y||"").toLowerCase(),arguments.length>1?(Ff[y]=F,this):Ff[y]}function Df(y,F,z){let Y=[],ke=new hi().union(F),xt=y.marktype;return xt?k1(y,ke,z,Y):xt==="group"?Bd(y,ke,z,Y):e.error("Intersect scene must be mark node or group item.")}function k1(y,F,z,Y){if(lp(y,F,z)){let ke=y.items,xt=y.marktype,x=ke.length,T=0;if(xt==="group")for(;T<x;++T)Bd(ke[T],F,z,Y);else for(let q=Qs[xt].isect;T<x;++T){let J=ke[T];I1(J,F,q)&&Y.push(J)}}return Y}function lp(y,F,z){return y.bounds&&F.intersects(y.bounds)&&(y.marktype==="group"||y.interactive!==!1&&(!z||z(y)))}function Bd(y,F,z,Y){z&&z(y.mark)&&I1(y,F,Qs.group.isect)&&Y.push(y);let ke=y.items,xt=ke&&ke.length;if(xt){let x=y.x||0,T=y.y||0;F.translate(-x,-T);for(let q=0;q<xt;++q)k1(ke[q],F,z,Y);F.translate(x,T)}return Y}function I1(y,F,z){let Y=y.bounds;return F.encloses(Y)||F.intersects(Y)&&z(y,F)}let of=new hi;function kx(y){let F=y.clip;if(e.isFunction(F))F(qa(of.clear()));else if(F)of.set(0,0,y.group.width,y.group.height);else return;y.bounds.intersect(of)}let Ix=1e-9;function sc(y,F,z){return y===F?!0:z==="path"?u0(y,F):y instanceof Date&&F instanceof Date?+y==+F:e.isNumber(y)&&e.isNumber(F)?Math.abs(y-F)<=Ix:!y||!F||!e.isObject(y)&&!e.isObject(F)?y==F:vv(y,F)}function u0(y,F){return sc(Se(y),Se(F))}function vv(y,F){var z=Object.keys(y),Y=Object.keys(F),ke,xt;if(z.length!==Y.length)return!1;for(z.sort(),Y.sort(),xt=z.length-1;xt>=0;xt--)if(z[xt]!=Y[xt])return!1;for(xt=z.length-1;xt>=0;xt--)if(ke=z[xt],!sc(y[ke],F[ke],ke))return!1;return typeof y==typeof F}function X0(){ro(),o()}n.Bounds=hi,n.CanvasHandler=wf,n.CanvasRenderer=rf,n.Gradient=b,n.GroupItem=Vi,n.Handler=ql,n.Item=Ei,n.Marks=Qs,n.RenderType=ky,n.Renderer=Nc,n.ResourceLoader=Ko,n.SVGHandler=wh,n.SVGRenderer=so,n.SVGStringRenderer=R1,n.Scenegraph=rc,n.boundClip=kx,n.boundContext=qa,n.boundItem=Uo,n.boundMark=ho,n.boundStroke=fo,n.domChild=Ju,n.domClear=ic,n.domCreate=Zc,n.domFind=ef,n.font=Dt,n.fontFamily=Be,n.fontSize=Au,n.intersect=Df,n.intersectBoxLine=rs,n.intersectPath=ui,n.intersectPoint=ns,n.intersectRule=pr,n.lineHeight=yo,n.markup=A,n.multiLineOffset=Ls,n.path=P,n.pathCurves=Te,n.pathEqual=u0,n.pathParse=Se,n.pathRectangle=St,n.pathRender=ve,n.pathSymbols=le,n.pathTrail=Jt,n.point=Oc,n.renderModule=bl,n.resetSVGClipId=ro,n.resetSVGDefIds=X0,n.sceneEqual=sc,n.sceneFromJSON=jl,n.scenePickVisit=ar,n.sceneToJSON=nc,n.sceneVisit=Gn,n.sceneZOrder=wr,n.serializeXML=W,n.textMetrics=qo,Object.defineProperty(n,"__esModule",{value:!0})})});var $Ae=we((jz,UAe)=>{m();(function(n,e){typeof jz=="object"&&typeof UAe!="undefined"?e(jz,Jf(),_9(),Su()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega))})(jz,function(n,e,t,r){"use strict";let i="top",s="left",o="right",a="bottom",c="top-left",d="top-right",p="bottom-left",b="bottom-right",C="start",N="middle",R="end",U="x",V="y",P="group",$="axis",M="title",G="frame",ae="scope",I="legend",Z="row-header",me="row-footer",ye="row-title",He="column-header",ot="column-footer",at="column-title",Ze="padding",Tt="symbol",Mt="fit",Ue="fit-x",te="fit-y",st="pad",be="none",Re="all",Ae="each",xe="flush",Je="column",lt="row";function Qt(ct){e.Transform.call(this,null,ct)}r.inherits(Qt,e.Transform,{transform(ct,re){let Te=re.dataflow,je=ct.mark,ht=je.marktype,vt=t.Marks[ht],Ft=vt.bound,ne=je.bounds,Se;if(vt.nested)je.items.length&&Te.dirty(je.items[0]),ne=Et(je,Ft),je.items.forEach(Ve=>{Ve.bounds.clear().union(ne)});else if(ht===P||ct.modified())switch(re.visit(re.MOD,Ve=>Te.dirty(Ve)),ne.clear(),je.items.forEach(Ve=>ne.union(Et(Ve,Ft))),je.role){case $:case I:case M:re.reflow()}else Se=re.changed(re.REM),re.visit(re.ADD,Ve=>{ne.union(Et(Ve,Ft))}),re.visit(re.MOD,Ve=>{Se=Se||ne.alignsWith(Ve.bounds),Te.dirty(Ve),ne.union(Et(Ve,Ft))}),Se&&(ne.clear(),je.items.forEach(Ve=>ne.union(Ve.bounds)));return t.boundClip(je),re.modifies("bounds")}});function Et(ct,re,Te){return re(ct.bounds.clear(),ct,Te)}let mn=":vega_identifier:";function Lt(ct){e.Transform.call(this,0,ct)}Lt.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},r.inherits(Lt,e.Transform,{transform(ct,re){let Te=kt(re.dataflow),je=ct.as,ht=Te.value;return re.visit(re.ADD,vt=>vt[je]=vt[je]||++ht),Te.set(this.value=ht),re}});function kt(ct){return ct._signals[mn]||(ct._signals[mn]=ct.add(0))}function cn(ct){e.Transform.call(this,null,ct)}r.inherits(cn,e.Transform,{transform(ct,re){let Te=this.value;Te||(Te=re.dataflow.scenegraph().mark(ct.markdef,wt(ct),ct.index),Te.group.context=ct.context,ct.context.group||(ct.context.group=Te.group),Te.source=this.source,Te.clip=ct.clip,Te.interactive=ct.interactive,this.value=Te);let je=Te.marktype===P?t.GroupItem:t.Item;return re.visit(re.ADD,ht=>je.call(ht,Te)),(ct.modified("clip")||ct.modified("interactive"))&&(Te.clip=ct.clip,Te.interactive=!!ct.interactive,Te.zdirty=!0,re.reflow()),Te.items=re.source,re}});function wt(ct){let re=ct.groups,Te=ct.parent;return re&&re.size===1?re.get(Object.keys(re.object)[0]):re&&Te?re.lookup(Te):null}function Ee(ct){e.Transform.call(this,null,ct)}let Ie={parity:ct=>ct.filter((re,Te)=>Te%2?re.opacity=0:1),greedy:(ct,re)=>{let Te;return ct.filter((je,ht)=>!ht||!Ce(Te.bounds,je.bounds,re)?(Te=je,1):je.opacity=0)}},Ce=(ct,re,Te)=>Te>Math.max(re.x1-ct.x2,ct.x1-re.x2,re.y1-ct.y2,ct.y1-re.y2),fe=(ct,re)=>{for(var Te=1,je=ct.length,ht=ct[0].bounds,vt;Te<je;ht=vt,++Te)if(Ce(ht,vt=ct[Te].bounds,re))return!0},rt=ct=>{let re=ct.bounds;return re.width()>1&&re.height()>1},Xe=(ct,re,Te)=>{var je=ct.range(),ht=new t.Bounds;return re===i||re===a?ht.set(je[0],-1/0,je[1],1/0):ht.set(-1/0,je[0],1/0,je[1]),ht.expand(Te||1),vt=>ht.encloses(vt.bounds)},de=ct=>(ct.forEach(re=>re.opacity=1),ct),Ge=(ct,re)=>ct.reflow(re.modified()).modifies("opacity");r.inherits(Ee,e.Transform,{transform(ct,re){let Te=Ie[ct.method]||Ie.parity,je=ct.separation||0,ht=re.materialize(re.SOURCE).source,vt,Ft;if(!ht||!ht.length)return;if(!ct.method)return ct.modified("method")&&(de(ht),re=Ge(re,ct)),re;if(ht=ht.filter(rt),!ht.length)return;if(ct.sort&&(ht=ht.slice().sort(ct.sort)),vt=de(ht),re=Ge(re,ct),vt.length>=3&&fe(vt,je)){do vt=Te(vt,je);while(vt.length>=3&&fe(vt,je));vt.length<3&&!r.peek(ht).opacity&&(vt.length>1&&(r.peek(vt).opacity=0),r.peek(ht).opacity=1)}ct.boundScale&&ct.boundTolerance>=0&&(Ft=Xe(ct.boundScale,ct.boundOrient,+ct.boundTolerance),ht.forEach(Se=>{Ft(Se)||(Se.opacity=0)}));let ne=vt[0].mark.bounds.clear();return ht.forEach(Se=>{Se.opacity&&ne.union(Se.bounds)}),re}});function Ot(ct){e.Transform.call(this,null,ct)}r.inherits(Ot,e.Transform,{transform(ct,re){let Te=re.dataflow;if(re.visit(re.ALL,je=>Te.dirty(je)),re.fields&&re.fields.zindex){let je=re.source&&re.source[0];je&&(je.mark.zdirty=!0)}}});let Nt=new t.Bounds;function zt(ct,re,Te){return ct[re]===Te?0:(ct[re]=Te,1)}function en(ct){var re=ct.items[0].orient;return re===s||re===o}function Xt(ct){let re=+ct.grid;return[ct.ticks?re++:-1,ct.labels?re++:-1,re+ +ct.domain]}function bn(ct,re,Te,je){var ht=re.items[0],vt=ht.datum,Ft=ht.translate!=null?ht.translate:.5,ne=ht.orient,Se=Xt(vt),Ve=ht.range,nt=ht.offset,Bt=ht.position,rn=ht.minExtent,Sn=ht.maxExtent,vn=vt.title&&ht.items[Se[2]].items[0],xn=ht.titlePadding,zn=ht.bounds,Oe=vn&&t.multiLineOffset(vn),qe=0,Ct=0,O,H;switch(Nt.clear().union(zn),zn.clear(),(O=Se[0])>-1&&zn.union(ht.items[O].bounds),(O=Se[1])>-1&&zn.union(ht.items[O].bounds),ne){case i:qe=Bt||0,Ct=-nt,H=Math.max(rn,Math.min(Sn,-zn.y1)),zn.add(0,-H).add(Ve,0),vn&&Tn(ct,vn,H,xn,Oe,0,-1,zn);break;case s:qe=-nt,Ct=Bt||0,H=Math.max(rn,Math.min(Sn,-zn.x1)),zn.add(-H,0).add(0,Ve),vn&&Tn(ct,vn,H,xn,Oe,1,-1,zn);break;case o:qe=Te+nt,Ct=Bt||0,H=Math.max(rn,Math.min(Sn,zn.x2)),zn.add(0,0).add(H,Ve),vn&&Tn(ct,vn,H,xn,Oe,1,1,zn);break;case a:qe=Bt||0,Ct=je+nt,H=Math.max(rn,Math.min(Sn,zn.y2)),zn.add(0,0).add(Ve,H),vn&&Tn(ct,vn,H,xn,0,0,1,zn);break;default:qe=ht.x,Ct=ht.y}return t.boundStroke(zn.translate(qe,Ct),ht),zt(ht,"x",qe+Ft)|zt(ht,"y",Ct+Ft)&&(ht.bounds=Nt,ct.dirty(ht),ht.bounds=zn,ct.dirty(ht)),ht.mark.bounds.clear().union(zn)}function Tn(ct,re,Te,je,ht,vt,Ft,ne){let Se=re.bounds;if(re.auto){let Ve=Ft*(Te+ht+je),nt=0,Bt=0;ct.dirty(re),vt?nt=(re.x||0)-(re.x=Ve):Bt=(re.y||0)-(re.y=Ve),re.mark.bounds.clear().union(Se.translate(-nt,-Bt)),ct.dirty(re)}ne.union(Se)}let Dn=(ct,re)=>Math.floor(Math.min(ct,re)),Ut=(ct,re)=>Math.ceil(Math.max(ct,re));function pn(ct){var re=ct.items,Te=re.length,je=0,ht,vt;let Ft={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;je<Te;++je)if(ht=re[je],vt=ht.items,ht.marktype===P)switch(ht.role){case $:case I:case M:break;case Z:Ft.rowheaders.push(...vt);break;case me:Ft.rowfooters.push(...vt);break;case He:Ft.colheaders.push(...vt);break;case ot:Ft.colfooters.push(...vt);break;case ye:Ft.rowtitle=vt[0];break;case at:Ft.coltitle=vt[0];break;default:Ft.marks.push(...vt)}return Ft}function qn(ct){return new t.Bounds().set(0,0,ct.width||0,ct.height||0)}function sr(ct){let re=ct.bounds.clone();return re.empty()?re.set(0,0,0,0):re.translate(-(ct.x||0),-(ct.y||0))}function In(ct,re,Te){let je=r.isObject(ct)?ct[re]:ct;return je??(Te!==void 0?Te:0)}function Ne(ct){return ct<0?Math.ceil(-ct):0}function $e(ct,re,Te){var je=!Te.nodirty,ht=Te.bounds===xe?qn:sr,vt=Nt.set(0,0,0,0),Ft=In(Te.align,Je),ne=In(Te.align,lt),Se=In(Te.padding,Je),Ve=In(Te.padding,lt),nt=Te.columns||re.length,Bt=nt<=0?1:Math.ceil(re.length/nt),rn=re.length,Sn=Array(rn),vn=Array(nt),xn=0,zn=Array(rn),Oe=Array(Bt),qe=0,Ct=Array(rn),O=Array(rn),H=Array(rn),ve,pe,K,oe,le,We,Rt,bt,ln,S,B;for(pe=0;pe<nt;++pe)vn[pe]=0;for(pe=0;pe<Bt;++pe)Oe[pe]=0;for(pe=0;pe<rn;++pe)We=re[pe],le=H[pe]=ht(We),We.x=We.x||0,Ct[pe]=0,We.y=We.y||0,O[pe]=0,K=pe%nt,oe=~~(pe/nt),xn=Math.max(xn,Rt=Math.ceil(le.x2)),qe=Math.max(qe,bt=Math.ceil(le.y2)),vn[K]=Math.max(vn[K],Rt),Oe[oe]=Math.max(Oe[oe],bt),Sn[pe]=Se+Ne(le.x1),zn[pe]=Ve+Ne(le.y1),je&&ct.dirty(re[pe]);for(pe=0;pe<rn;++pe)pe%nt===0&&(Sn[pe]=0),pe<nt&&(zn[pe]=0);if(Ft===Ae)for(K=1;K<nt;++K){for(B=0,pe=K;pe<rn;pe+=nt)B<Sn[pe]&&(B=Sn[pe]);for(pe=K;pe<rn;pe+=nt)Sn[pe]=B+vn[K-1]}else if(Ft===Re){for(B=0,pe=0;pe<rn;++pe)pe%nt&&B<Sn[pe]&&(B=Sn[pe]);for(pe=0;pe<rn;++pe)pe%nt&&(Sn[pe]=B+xn)}else for(Ft=!1,K=1;K<nt;++K)for(pe=K;pe<rn;pe+=nt)Sn[pe]+=vn[K-1];if(ne===Ae)for(oe=1;oe<Bt;++oe){for(B=0,pe=oe*nt,ve=pe+nt;pe<ve;++pe)B<zn[pe]&&(B=zn[pe]);for(pe=oe*nt;pe<ve;++pe)zn[pe]=B+Oe[oe-1]}else if(ne===Re){for(B=0,pe=nt;pe<rn;++pe)B<zn[pe]&&(B=zn[pe]);for(pe=nt;pe<rn;++pe)zn[pe]=B+qe}else for(ne=!1,oe=1;oe<Bt;++oe)for(pe=oe*nt,ve=pe+nt;pe<ve;++pe)zn[pe]+=Oe[oe-1];for(ln=0,pe=0;pe<rn;++pe)ln=Sn[pe]+(pe%nt?ln:0),Ct[pe]+=ln-re[pe].x;for(K=0;K<nt;++K)for(S=0,pe=K;pe<rn;pe+=nt)S+=zn[pe],O[pe]+=S-re[pe].y;if(Ft&&In(Te.center,Je)&&Bt>1)for(pe=0;pe<rn;++pe)le=Ft===Re?xn:vn[pe%nt],ln=le-H[pe].x2-re[pe].x-Ct[pe],ln>0&&(Ct[pe]+=ln/2);if(ne&&In(Te.center,lt)&&nt!==1)for(pe=0;pe<rn;++pe)le=ne===Re?qe:Oe[~~(pe/nt)],S=le-H[pe].y2-re[pe].y-O[pe],S>0&&(O[pe]+=S/2);for(pe=0;pe<rn;++pe)vt.union(H[pe].translate(Ct[pe],O[pe]));switch(ln=In(Te.anchor,U),S=In(Te.anchor,V),In(Te.anchor,Je)){case R:ln-=vt.width();break;case N:ln-=vt.width()/2}switch(In(Te.anchor,lt)){case R:S-=vt.height();break;case N:S-=vt.height()/2}for(ln=Math.round(ln),S=Math.round(S),vt.clear(),pe=0;pe<rn;++pe)re[pe].mark.bounds.clear();for(pe=0;pe<rn;++pe)We=re[pe],We.x+=Ct[pe]+=ln,We.y+=O[pe]+=S,vt.union(We.mark.bounds.union(We.bounds.translate(Ct[pe],O[pe]))),je&&ct.dirty(We);return vt}function De(ct,re,Te){var je=pn(re),ht=je.marks,vt=Te.bounds===xe?qt:yt,Ft=Te.offset,ne=Te.columns||ht.length,Se=ne<=0?1:Math.ceil(ht.length/ne),Ve=Se*ne,nt,Bt,rn,Sn,vn,xn,zn;let Oe=$e(ct,ht,Te);Oe.empty()&&Oe.set(0,0,0,0),je.rowheaders&&(xn=In(Te.headerBand,lt,null),nt=mt(ct,je.rowheaders,ht,ne,Se,-In(Ft,"rowHeader"),Dn,0,vt,"x1",0,ne,1,xn)),je.colheaders&&(xn=In(Te.headerBand,Je,null),Bt=mt(ct,je.colheaders,ht,ne,ne,-In(Ft,"columnHeader"),Dn,1,vt,"y1",0,1,ne,xn)),je.rowfooters&&(xn=In(Te.footerBand,lt,null),rn=mt(ct,je.rowfooters,ht,ne,Se,In(Ft,"rowFooter"),Ut,0,vt,"x2",ne-1,ne,1,xn)),je.colfooters&&(xn=In(Te.footerBand,Je,null),Sn=mt(ct,je.colfooters,ht,ne,ne,In(Ft,"columnFooter"),Ut,1,vt,"y2",Ve-ne,1,ne,xn)),je.rowtitle&&(vn=In(Te.titleAnchor,lt),zn=In(Ft,"rowTitle"),zn=vn===R?rn+zn:nt-zn,xn=In(Te.titleBand,lt,.5),nn(ct,je.rowtitle,zn,0,Oe,xn)),je.coltitle&&(vn=In(Te.titleAnchor,Je),zn=In(Ft,"columnTitle"),zn=vn===R?Sn+zn:Bt-zn,xn=In(Te.titleBand,Je,.5),nn(ct,je.coltitle,zn,1,Oe,xn))}function qt(ct,re){return re==="x1"?ct.x||0:re==="y1"?ct.y||0:re==="x2"?(ct.x||0)+(ct.width||0):re==="y2"?(ct.y||0)+(ct.height||0):void 0}function yt(ct,re){return ct.bounds[re]}function mt(ct,re,Te,je,ht,vt,Ft,ne,Se,Ve,nt,Bt,rn,Sn){var vn=Te.length,xn=0,zn=0,Oe,qe,Ct,O,H,ve,pe,K,oe;if(!vn)return xn;for(Oe=nt;Oe<vn;Oe+=Bt)Te[Oe]&&(xn=Ft(xn,Se(Te[Oe],Ve)));if(!re.length)return xn;for(re.length>ht&&(ct.warn("Grid headers exceed limit: "+ht),re=re.slice(0,ht)),xn+=vt,qe=0,O=re.length;qe<O;++qe)ct.dirty(re[qe]),re[qe].mark.bounds.clear();for(Oe=nt,qe=0,O=re.length;qe<O;++qe,Oe+=Bt){for(ve=re[qe],H=ve.mark.bounds,Ct=Oe;Ct>=0&&(pe=Te[Ct])==null;Ct-=rn);ne?(K=Sn==null?pe.x:Math.round(pe.bounds.x1+Sn*pe.bounds.width()),oe=xn):(K=xn,oe=Sn==null?pe.y:Math.round(pe.bounds.y1+Sn*pe.bounds.height())),H.union(ve.bounds.translate(K-(ve.x||0),oe-(ve.y||0))),ve.x=K,ve.y=oe,ct.dirty(ve),zn=Ft(zn,H[Ve])}return zn}function nn(ct,re,Te,je,ht,vt){if(!!re){ct.dirty(re);var Ft=Te,ne=Te;je?Ft=Math.round(ht.x1+vt*ht.width()):ne=Math.round(ht.y1+vt*ht.height()),re.bounds.translate(Ft-(re.x||0),ne-(re.y||0)),re.mark.bounds.clear().union(re.bounds),re.x=Ft,re.y=ne,ct.dirty(re)}}function Wt(ct,re){let Te=ct[re]||{};return(je,ht)=>Te[je]!=null?Te[je]:ct[je]!=null?ct[je]:ht}function Fn(ct,re){let Te=-1/0;return ct.forEach(je=>{je.offset!=null&&(Te=Math.max(Te,je.offset))}),Te>-1/0?Te:re}function Qn(ct,re,Te,je,ht,vt,Ft){let ne=Wt(Te,re),Se=Fn(ct,ne("offset",0)),Ve=ne("anchor",C),nt=Ve===R?1:Ve===N?.5:0,Bt={align:Ae,bounds:ne("bounds",xe),columns:ne("direction")==="vertical"?1:ct.length,padding:ne("margin",8),center:ne("center"),nodirty:!0};switch(re){case s:Bt.anchor={x:Math.floor(je.x1)-Se,column:R,y:nt*(Ft||je.height()+2*je.y1),row:Ve};break;case o:Bt.anchor={x:Math.ceil(je.x2)+Se,y:nt*(Ft||je.height()+2*je.y1),row:Ve};break;case i:Bt.anchor={y:Math.floor(ht.y1)-Se,row:R,x:nt*(vt||ht.width()+2*ht.x1),column:Ve};break;case a:Bt.anchor={y:Math.ceil(ht.y2)+Se,x:nt*(vt||ht.width()+2*ht.x1),column:Ve};break;case c:Bt.anchor={x:Se,y:Se};break;case d:Bt.anchor={x:vt-Se,y:Se,column:R};break;case p:Bt.anchor={x:Se,y:Ft-Se,row:R};break;case b:Bt.anchor={x:vt-Se,y:Ft-Se,column:R,row:R};break}return Bt}function Zn(ct,re){var Te=re.items[0],je=Te.datum,ht=Te.orient,vt=Te.bounds,Ft=Te.x,ne=Te.y,Se,Ve;return Te._bounds?Te._bounds.clear().union(vt):Te._bounds=vt.clone(),vt.clear(),or(ct,Te,Te.items[0].items[0]),vt=Pn(Te,vt),Se=2*Te.padding,Ve=2*Te.padding,vt.empty()||(Se=Math.ceil(vt.width()+Se),Ve=Math.ceil(vt.height()+Ve)),je.type===Tt&&se(Te.items[0].items[0].items[0].items),ht!==be&&(Te.x=Ft=0,Te.y=ne=0),Te.width=Se,Te.height=Ve,t.boundStroke(vt.set(Ft,ne,Ft+Se,ne+Ve),Te),Te.mark.bounds.clear().union(vt),Te}function Pn(ct,re){return ct.items.forEach(Te=>re.union(Te.bounds)),re.x1=ct.padding,re.y1=ct.padding,re}function or(ct,re,Te){var je=re.padding,ht=je-Te.x,vt=je-Te.y;if(!re.datum.title)(ht||vt)&&gt(ct,Te,ht,vt);else{var Ft=re.items[1].items[0],ne=Ft.anchor,Se=re.titlePadding||0,Ve=je-Ft.x,nt=je-Ft.y;switch(Ft.orient){case s:ht+=Math.ceil(Ft.bounds.width())+Se;break;case o:case a:break;default:vt+=Ft.bounds.height()+Se}switch((ht||vt)&&gt(ct,Te,ht,vt),Ft.orient){case s:nt+=Ye(re,Te,Ft,ne,1,1);break;case o:Ve+=Ye(re,Te,Ft,R,0,0)+Se,nt+=Ye(re,Te,Ft,ne,1,1);break;case a:Ve+=Ye(re,Te,Ft,ne,0,0),nt+=Ye(re,Te,Ft,R,-1,0,1)+Se;break;default:Ve+=Ye(re,Te,Ft,ne,0,0)}(Ve||nt)&&gt(ct,Ft,Ve,nt),(Ve=Math.round(Ft.bounds.x1-je))<0&&(gt(ct,Te,-Ve,0),gt(ct,Ft,-Ve,0))}}function Ye(ct,re,Te,je,ht,vt,Ft){let ne=ct.datum.type!=="symbol",Se=Te.datum.vgrad,Ve=ne&&(vt||!Se)&&!Ft?re.items[0]:re,nt=Ve.bounds[ht?"y2":"x2"]-ct.padding,Bt=Se&&vt?nt:0,rn=Se&&vt?0:nt,Sn=ht<=0?0:t.multiLineOffset(Te);return Math.round(je===C?Bt:je===R?rn-Sn:.5*(nt-Sn))}function gt(ct,re,Te,je){re.x+=Te,re.y+=je,re.bounds.translate(Te,je),re.mark.bounds.translate(Te,je),ct.dirty(re)}function se(ct){let re=ct.reduce((Te,je)=>(Te[je.column]=Math.max(je.bounds.x2-je.x,Te[je.column]||0),Te),{});ct.forEach(Te=>{Te.width=re[Te.column],Te.height=Te.bounds.y2-Te.y})}function Pe(ct,re,Te,je,ht){var vt=re.items[0],Ft=vt.frame,ne=vt.orient,Se=vt.anchor,Ve=vt.offset,nt=vt.padding,Bt=vt.items[0].items[0],rn=vt.items[1]&&vt.items[1].items[0],Sn=ne===s||ne===o?je:Te,vn=0,xn=0,zn=0,Oe=0,qe=0,Ct;if(Ft!==P?ne===s?(vn=ht.y2,Sn=ht.y1):ne===o?(vn=ht.y1,Sn=ht.y2):(vn=ht.x1,Sn=ht.x2):ne===s&&(vn=je,Sn=0),Ct=Se===C?vn:Se===R?Sn:(vn+Sn)/2,rn&&rn.text){switch(ne){case i:case a:qe=Bt.bounds.height()+nt;break;case s:Oe=Bt.bounds.width()+nt;break;case o:Oe=-Bt.bounds.width()-nt;break}Nt.clear().union(rn.bounds),Nt.translate(Oe-(rn.x||0),qe-(rn.y||0)),zt(rn,"x",Oe)|zt(rn,"y",qe)&&(ct.dirty(rn),rn.bounds.clear().union(Nt),rn.mark.bounds.clear().union(Nt),ct.dirty(rn)),Nt.clear().union(rn.bounds)}else Nt.clear();switch(Nt.union(Bt.bounds),ne){case i:xn=Ct,zn=ht.y1-Nt.height()-Ve;break;case s:xn=ht.x1-Nt.width()-Ve,zn=Ct;break;case o:xn=ht.x2+Nt.width()+Ve,zn=Ct;break;case a:xn=Ct,zn=ht.y2+Ve;break;default:xn=vt.x,zn=vt.y}return zt(vt,"x",xn)|zt(vt,"y",zn)&&(Nt.translate(xn,zn),ct.dirty(vt),vt.bounds.clear().union(Nt),re.bounds.clear().union(Nt),ct.dirty(vt)),vt.bounds}function et(ct){e.Transform.call(this,null,ct)}r.inherits(et,e.Transform,{transform(ct,re){let Te=re.dataflow;return ct.mark.items.forEach(je=>{ct.layout&&De(Te,je,ct.layout),fn(Te,je,ct)}),At(ct.mark.group)?re.reflow():re}});function At(ct){return ct&&ct.mark.role!=="legend-entry"}function fn(ct,re,Te){var je=re.items,ht=Math.max(0,re.width||0),vt=Math.max(0,re.height||0),Ft=new t.Bounds().set(0,0,ht,vt),ne=Ft.clone(),Se=Ft.clone(),Ve=[],nt,Bt,rn,Sn,vn,xn;for(vn=0,xn=je.length;vn<xn;++vn)switch(Bt=je[vn],Bt.role){case $:Sn=en(Bt)?ne:Se,Sn.union(bn(ct,Bt,ht,vt));break;case M:nt=Bt;break;case I:Ve.push(Zn(ct,Bt));break;case G:case ae:case Z:case me:case ye:case He:case ot:case at:ne.union(Bt.bounds),Se.union(Bt.bounds);break;default:Ft.union(Bt.bounds)}if(Ve.length){let zn={};Ve.forEach(Oe=>{rn=Oe.orient||o,rn!==be&&(zn[rn]||(zn[rn]=[])).push(Oe)});for(let Oe in zn){let qe=zn[Oe];$e(ct,qe,Qn(qe,Oe,Te.legends,ne,Se,ht,vt))}Ve.forEach(Oe=>{let qe=Oe.bounds;if(qe.equals(Oe._bounds)||(Oe.bounds=Oe._bounds,ct.dirty(Oe),Oe.bounds=qe,ct.dirty(Oe)),Te.autosize&&Te.autosize.type===Mt)switch(Oe.orient){case s:case o:Ft.add(qe.x1,0).add(qe.x2,0);break;case i:case a:Ft.add(0,qe.y1).add(0,qe.y2)}else Ft.union(qe)})}Ft.union(ne).union(Se),nt&&Ft.union(Pe(ct,nt,ht,vt,Ft)),re.clip&&Ft.set(0,0,re.width||0,re.height||0),on(ct,re,Ft,Te)}function on(ct,re,Te,je){let ht=je.autosize||{},vt=ht.type;if(ct._autosize<1||!vt)return;let Ft=ct._width,ne=ct._height,Se=Math.max(0,re.width||0),Ve=Math.max(0,Math.ceil(-Te.x1)),nt=Math.max(0,re.height||0),Bt=Math.max(0,Math.ceil(-Te.y1)),rn=Math.max(0,Math.ceil(Te.x2-Se)),Sn=Math.max(0,Math.ceil(Te.y2-nt));if(ht.contains===Ze){let vn=ct.padding();Ft-=vn.left+vn.right,ne-=vn.top+vn.bottom}vt===be?(Ve=0,Bt=0,Se=Ft,nt=ne):vt===Mt?(Se=Math.max(0,Ft-Ve-rn),nt=Math.max(0,ne-Bt-Sn)):vt===Ue?(Se=Math.max(0,Ft-Ve-rn),ne=nt+Bt+Sn):vt===te?(Ft=Se+Ve+rn,nt=Math.max(0,ne-Bt-Sn)):vt===st&&(Ft=Se+Ve+rn,ne=nt+Bt+Sn),ct._resizeView(Ft,ne,Se,nt,[Ve,Bt],ht.resize)}n.bound=Qt,n.identifier=Lt,n.mark=cn,n.overlap=Ee,n.render=Ot,n.viewlayout=et,Object.defineProperty(n,"__esModule",{value:!0})})});var HAe=we((qz,zAe)=>{m();(function(n,e){typeof qz=="object"&&typeof zAe!="undefined"?e(qz,Jf(),Db(),Su()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(qz,function(n,e,t,r){"use strict";function i(O){e.Transform.call(this,null,O)}r.inherits(i,e.Transform,{transform(O,H){if(this.value&&!O.modified())return H.StopPropagation;var ve=H.dataflow.locale(),pe=H.fork(H.NO_SOURCE|H.NO_FIELDS),K=this.value,oe=O.scale,le=O.count==null?O.values?O.values.length:10:O.count,We=t.tickCount(oe,le,O.minstep),Rt=O.format||t.tickFormat(ve,oe,We,O.formatSpecifier,O.formatType,!!O.values),bt=O.values?t.validTicks(oe,O.values,We):t.tickValues(oe,We);return K&&(pe.rem=K),K=bt.map((ln,S)=>e.ingest({index:S/(bt.length-1||1),value:ln,label:Rt(ln)})),O.extra&&K.length&&K.push(e.ingest({index:-1,extra:{value:K[0].value},label:""})),pe.source=K,pe.add=K,this.value=K,pe}});function s(O){e.Transform.call(this,null,O)}function o(){return e.ingest({})}function a(O){let H=r.fastmap().test(ve=>ve.exit);return H.lookup=ve=>H.get(O(ve)),H}r.inherits(s,e.Transform,{transform(O,H){var ve=H.dataflow,pe=H.fork(H.NO_SOURCE|H.NO_FIELDS),K=O.item||o,oe=O.key||e.tupleid,le=this.value;return r.isArray(pe.encode)&&(pe.encode=null),le&&(O.modified("key")||H.modified(oe))&&r.error("DataJoin does not support modified key function or fields."),le||(H=H.addAll(),this.value=le=a(oe)),H.visit(H.ADD,We=>{let Rt=oe(We),bt=le.get(Rt);bt?bt.exit?(le.empty--,pe.add.push(bt)):pe.mod.push(bt):(bt=K(We),le.set(Rt,bt),pe.add.push(bt)),bt.datum=We,bt.exit=!1}),H.visit(H.MOD,We=>{let Rt=oe(We),bt=le.get(Rt);bt&&(bt.datum=We,pe.mod.push(bt))}),H.visit(H.REM,We=>{let Rt=oe(We),bt=le.get(Rt);We===bt.datum&&!bt.exit&&(pe.rem.push(bt),bt.exit=!0,++le.empty)}),H.changed(H.ADD_MOD)&&pe.modifies("datum"),(H.clean()||O.clean&&le.empty>ve.cleanThreshold)&&ve.runAfter(le.clean),pe}});function c(O){e.Transform.call(this,null,O)}r.inherits(c,e.Transform,{transform(O,H){var ve=H.fork(H.ADD_REM),pe=O.mod||!1,K=O.encoders,oe=H.encode;if(r.isArray(oe))if(ve.changed()||oe.every(S=>K[S]))oe=oe[0],ve.encode=null;else return H.StopPropagation;var le=oe==="enter",We=K.update||r.falsy,Rt=K.enter||r.falsy,bt=K.exit||r.falsy,ln=(oe&&!le?K[oe]:We)||r.falsy;if(H.changed(H.ADD)&&(H.visit(H.ADD,S=>{Rt(S,O),We(S,O)}),ve.modifies(Rt.output),ve.modifies(We.output),ln!==r.falsy&&ln!==We&&(H.visit(H.ADD,S=>{ln(S,O)}),ve.modifies(ln.output))),H.changed(H.REM)&&bt!==r.falsy&&(H.visit(H.REM,S=>{bt(S,O)}),ve.modifies(bt.output)),le||ln!==r.falsy){let S=H.MOD|(O.modified()?H.REFLOW:0);le?(H.visit(S,B=>{let ee=Rt(B,O)||pe;(ln(B,O)||ee)&&ve.mod.push(B)}),ve.mod.length&&ve.modifies(Rt.output)):H.visit(S,B=>{(ln(B,O)||pe)&&ve.mod.push(B)}),ve.mod.length&&ve.modifies(ln.output)}return ve.changed()?ve:H.StopPropagation}});function d(O){e.Transform.call(this,[],O)}r.inherits(d,e.Transform,{transform(O,H){if(this.value!=null&&!O.modified())return H.StopPropagation;var ve=H.dataflow.locale(),pe=H.fork(H.NO_SOURCE|H.NO_FIELDS),K=this.value,oe=O.type||t.SymbolLegend,le=O.scale,We=+O.limit,Rt=t.tickCount(le,O.count==null?5:O.count,O.minstep),bt=!!O.values||oe===t.SymbolLegend,ln=O.format||t.labelFormat(ve,le,Rt,oe,O.formatSpecifier,O.formatType,bt),S=O.values||t.labelValues(le,Rt),B,ee,_e,ft,St;return K&&(pe.rem=K),oe===t.SymbolLegend?(We&&S.length>We?(H.dataflow.warn("Symbol legend count exceeds limit, filtering items."),K=S.slice(0,We-1),St=!0):K=S,r.isFunction(_e=O.size)?(!O.values&&le(K[0])===0&&(K=K.slice(1)),ft=K.reduce((Jt,Kt)=>Math.max(Jt,_e(Kt,O)),0)):_e=r.constant(ft=_e||8),K=K.map((Jt,Kt)=>e.ingest({index:Kt,label:ln(Jt,Kt,K),value:Jt,offset:ft,size:_e(Jt,O)})),St&&(St=S[K.length],K.push(e.ingest({index:K.length,label:`\u2026${S.length-K.length} entries`,value:St,offset:ft,size:_e(St,O)})))):oe===t.GradientLegend?(B=le.domain(),ee=t.scaleFraction(le,B[0],r.peek(B)),S.length<3&&!O.values&&B[0]!==r.peek(B)&&(S=[B[0],r.peek(B)]),K=S.map((Jt,Kt)=>e.ingest({index:Kt,label:ln(Jt,Kt,S),value:Jt,perc:ee(Jt)}))):(_e=S.length-1,ee=t.labelFraction(le),K=S.map((Jt,Kt)=>e.ingest({index:Kt,label:ln(Jt,Kt,S),value:Jt,perc:Kt?ee(Jt):0,perc2:Kt===_e?1:ee(S[Kt+1])}))),pe.source=K,pe.add=K,this.value=K,pe}});let p=O=>O.source.x,b=O=>O.source.y,C=O=>O.target.x,N=O=>O.target.y;function R(O){e.Transform.call(this,{},O)}R.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},r.inherits(R,e.Transform,{transform(O,H){var ve=O.sourceX||p,pe=O.sourceY||b,K=O.targetX||C,oe=O.targetY||N,le=O.as||"path",We=O.orient||"vertical",Rt=O.shape||"line",bt=ot.get(Rt+"-"+We)||ot.get(Rt);return bt||r.error("LinkPath unsupported type: "+O.shape+(O.orient?"-"+O.orient:"")),H.visit(H.SOURCE,ln=>{ln[le]=bt(ve(ln),pe(ln),K(ln),oe(ln))}),H.reflow(O.modified()).modifies(le)}});let U=(O,H,ve,pe)=>"M"+O+","+H+"L"+ve+","+pe,V=(O,H,ve,pe)=>U(H*Math.cos(O),H*Math.sin(O),pe*Math.cos(ve),pe*Math.sin(ve)),P=(O,H,ve,pe)=>{var K=ve-O,oe=pe-H,le=Math.sqrt(K*K+oe*oe)/2,We=180*Math.atan2(oe,K)/Math.PI;return"M"+O+","+H+"A"+le+","+le+" "+We+" 0 1 "+ve+","+pe},$=(O,H,ve,pe)=>P(H*Math.cos(O),H*Math.sin(O),pe*Math.cos(ve),pe*Math.sin(ve)),M=(O,H,ve,pe)=>{let K=ve-O,oe=pe-H,le=.2*(K+oe),We=.2*(oe-K);return"M"+O+","+H+"C"+(O+le)+","+(H+We)+" "+(ve+We)+","+(pe-le)+" "+ve+","+pe},G=(O,H,ve,pe)=>M(H*Math.cos(O),H*Math.sin(O),pe*Math.cos(ve),pe*Math.sin(ve)),ae=(O,H,ve,pe)=>"M"+O+","+H+"V"+pe+"H"+ve,I=(O,H,ve,pe)=>"M"+O+","+H+"H"+ve+"V"+pe,Z=(O,H,ve,pe)=>{let K=Math.cos(O),oe=Math.sin(O),le=Math.cos(ve),We=Math.sin(ve),Rt=Math.abs(ve-O)>Math.PI?ve<=O:ve>O;return"M"+H*K+","+H*oe+"A"+H+","+H+" 0 0,"+(Rt?1:0)+" "+H*le+","+H*We+"L"+pe*le+","+pe*We},me=(O,H,ve,pe)=>{let K=(O+ve)/2;return"M"+O+","+H+"C"+K+","+H+" "+K+","+pe+" "+ve+","+pe},ye=(O,H,ve,pe)=>{let K=(H+pe)/2;return"M"+O+","+H+"C"+O+","+K+" "+ve+","+K+" "+ve+","+pe},He=(O,H,ve,pe)=>{let K=Math.cos(O),oe=Math.sin(O),le=Math.cos(ve),We=Math.sin(ve),Rt=(H+pe)/2;return"M"+H*K+","+H*oe+"C"+Rt*K+","+Rt*oe+" "+Rt*le+","+Rt*We+" "+pe*le+","+pe*We},ot=r.fastmap({line:U,"line-radial":V,arc:P,"arc-radial":$,curve:M,"curve-radial":G,"orthogonal-horizontal":ae,"orthogonal-vertical":I,"orthogonal-radial":Z,"diagonal-horizontal":me,"diagonal-vertical":ye,"diagonal-radial":He});function at(O,H,ve){O=+O,H=+H,ve=(K=arguments.length)<2?(H=O,O=0,1):K<3?1:+ve;for(var pe=-1,K=Math.max(0,Math.ceil((H-O)/ve))|0,oe=new Array(K);++pe<K;)oe[pe]=O+pe*ve;return oe}function Ze(O,H){let ve=0;if(H===void 0)for(let pe of O)(pe=+pe)&&(ve+=pe);else{let pe=-1;for(let K of O)(K=+H(K,++pe,O))&&(ve+=K)}return ve}function Tt(O){e.Transform.call(this,null,O)}Tt.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},r.inherits(Tt,e.Transform,{transform(O,H){var ve=O.as||["startAngle","endAngle"],pe=ve[0],K=ve[1],oe=O.field||r.one,le=O.startAngle||0,We=O.endAngle!=null?O.endAngle:2*Math.PI,Rt=H.source,bt=Rt.map(oe),ln=bt.length,S=le,B=(We-le)/Ze(bt),ee=at(ln),_e,ft,St;for(O.sort&&ee.sort((Jt,Kt)=>bt[Jt]-bt[Kt]),_e=0;_e<ln;++_e)St=bt[ee[_e]],ft=Rt[ee[_e]],ft[pe]=S,ft[K]=S+=St*B;return this.value=bt,H.reflow(O.modified()).modifies(ve)}});function Mt(O,H,ve){O.prototype=H.prototype=ve,ve.constructor=O}function Ue(O,H){var ve=Object.create(O.prototype);for(var pe in H)ve[pe]=H[pe];return ve}function te(){}var st=.7,be=1/st,Re="\\s*([+-]?\\d+)\\s*",Ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Je=/^#([0-9a-f]{3,8})$/,lt=new RegExp("^rgb\\("+[Re,Re,Re]+"\\)$"),Qt=new RegExp("^rgb\\("+[xe,xe,xe]+"\\)$"),Et=new RegExp("^rgba\\("+[Re,Re,Re,Ae]+"\\)$"),mn=new RegExp("^rgba\\("+[xe,xe,xe,Ae]+"\\)$"),Lt=new RegExp("^hsl\\("+[Ae,xe,xe]+"\\)$"),kt=new RegExp("^hsla\\("+[Ae,xe,xe,Ae]+"\\)$"),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mt(te,Ce,{copy:function(O){return Object.assign(new this.constructor,this,O)},displayable:function(){return this.rgb().displayable()},hex:wt,formatHex:wt,formatHsl:Ee,formatRgb:Ie,toString:Ie});function wt(){return this.rgb().formatHex()}function Ee(){return Xt(this).formatHsl()}function Ie(){return this.rgb().formatRgb()}function Ce(O){var H,ve;return O=(O+"").trim().toLowerCase(),(H=Je.exec(O))?(ve=H[1].length,H=parseInt(H[1],16),ve===6?fe(H):ve===3?new Ge(H>>8&15|H>>4&240,H>>4&15|H&240,(H&15)<<4|H&15,1):ve===8?rt(H>>24&255,H>>16&255,H>>8&255,(H&255)/255):ve===4?rt(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|H&240,((H&15)<<4|H&15)/255):null):(H=lt.exec(O))?new Ge(H[1],H[2],H[3],1):(H=Qt.exec(O))?new Ge(H[1]*255/100,H[2]*255/100,H[3]*255/100,1):(H=Et.exec(O))?rt(H[1],H[2],H[3],H[4]):(H=mn.exec(O))?rt(H[1]*255/100,H[2]*255/100,H[3]*255/100,H[4]):(H=Lt.exec(O))?en(H[1],H[2]/100,H[3]/100,1):(H=kt.exec(O))?en(H[1],H[2]/100,H[3]/100,H[4]):cn.hasOwnProperty(O)?fe(cn[O]):O==="transparent"?new Ge(NaN,NaN,NaN,0):null}function fe(O){return new Ge(O>>16&255,O>>8&255,O&255,1)}function rt(O,H,ve,pe){return pe<=0&&(O=H=ve=NaN),new Ge(O,H,ve,pe)}function Xe(O){return O instanceof te||(O=Ce(O)),O?(O=O.rgb(),new Ge(O.r,O.g,O.b,O.opacity)):new Ge}function de(O,H,ve,pe){return arguments.length===1?Xe(O):new Ge(O,H,ve,pe??1)}function Ge(O,H,ve,pe){this.r=+O,this.g=+H,this.b=+ve,this.opacity=+pe}Mt(Ge,de,Ue(te,{brighter:function(O){return O=O==null?be:Math.pow(be,O),new Ge(this.r*O,this.g*O,this.b*O,this.opacity)},darker:function(O){return O=O==null?st:Math.pow(st,O),new Ge(this.r*O,this.g*O,this.b*O,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ot,formatHex:Ot,formatRgb:Nt,toString:Nt}));function Ot(){return"#"+zt(this.r)+zt(this.g)+zt(this.b)}function Nt(){var O=this.opacity;return O=isNaN(O)?1:Math.max(0,Math.min(1,O)),(O===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(O===1?")":", "+O+")")}function zt(O){return O=Math.max(0,Math.min(255,Math.round(O)||0)),(O<16?"0":"")+O.toString(16)}function en(O,H,ve,pe){return pe<=0?O=H=ve=NaN:ve<=0||ve>=1?O=H=NaN:H<=0&&(O=NaN),new Tn(O,H,ve,pe)}function Xt(O){if(O instanceof Tn)return new Tn(O.h,O.s,O.l,O.opacity);if(O instanceof te||(O=Ce(O)),!O)return new Tn;if(O instanceof Tn)return O;O=O.rgb();var H=O.r/255,ve=O.g/255,pe=O.b/255,K=Math.min(H,ve,pe),oe=Math.max(H,ve,pe),le=NaN,We=oe-K,Rt=(oe+K)/2;return We?(H===oe?le=(ve-pe)/We+(ve<pe)*6:ve===oe?le=(pe-H)/We+2:le=(H-ve)/We+4,We/=Rt<.5?oe+K:2-oe-K,le*=60):We=Rt>0&&Rt<1?0:le,new Tn(le,We,Rt,O.opacity)}function bn(O,H,ve,pe){return arguments.length===1?Xt(O):new Tn(O,H,ve,pe??1)}function Tn(O,H,ve,pe){this.h=+O,this.s=+H,this.l=+ve,this.opacity=+pe}Mt(Tn,bn,Ue(te,{brighter:function(O){return O=O==null?be:Math.pow(be,O),new Tn(this.h,this.s,this.l*O,this.opacity)},darker:function(O){return O=O==null?st:Math.pow(st,O),new Tn(this.h,this.s,this.l*O,this.opacity)},rgb:function(){var O=this.h%360+(this.h<0)*360,H=isNaN(O)||isNaN(this.s)?0:this.s,ve=this.l,pe=ve+(ve<.5?ve:1-ve)*H,K=2*ve-pe;return new Ge(Dn(O>=240?O-240:O+120,K,pe),Dn(O,K,pe),Dn(O<120?O+240:O-120,K,pe),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var O=this.opacity;return O=isNaN(O)?1:Math.max(0,Math.min(1,O)),(O===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(O===1?")":", "+O+")")}}));function Dn(O,H,ve){return(O<60?H+(ve-H)*O/60:O<180?ve:O<240?H+(ve-H)*(240-O)/60:H)*255}var Ut=O=>()=>O;function pn(O,H){return function(ve){return O+ve*H}}function qn(O,H,ve){return O=Math.pow(O,ve),H=Math.pow(H,ve)-O,ve=1/ve,function(pe){return Math.pow(O+pe*H,ve)}}function sr(O){return(O=+O)==1?In:function(H,ve){return ve-H?qn(H,ve,O):Ut(isNaN(H)?ve:H)}}function In(O,H){var ve=H-O;return ve?pn(O,ve):Ut(isNaN(O)?H:O)}var Ne=function O(H){var ve=sr(H);function pe(K,oe){var le=ve((K=de(K)).r,(oe=de(oe)).r),We=ve(K.g,oe.g),Rt=ve(K.b,oe.b),bt=In(K.opacity,oe.opacity);return function(ln){return K.r=le(ln),K.g=We(ln),K.b=Rt(ln),K.opacity=bt(ln),K+""}}return pe.gamma=O,pe}(1);function $e(O,H){H||(H=[]);var ve=O?Math.min(H.length,O.length):0,pe=H.slice(),K;return function(oe){for(K=0;K<ve;++K)pe[K]=O[K]*(1-oe)+H[K]*oe;return pe}}function De(O){return ArrayBuffer.isView(O)&&!(O instanceof DataView)}function qt(O,H){var ve=H?H.length:0,pe=O?Math.min(ve,O.length):0,K=new Array(pe),oe=new Array(ve),le;for(le=0;le<pe;++le)K[le]=or(O[le],H[le]);for(;le<ve;++le)oe[le]=H[le];return function(We){for(le=0;le<pe;++le)oe[le]=K[le](We);return oe}}function yt(O,H){var ve=new Date;return O=+O,H=+H,function(pe){return ve.setTime(O*(1-pe)+H*pe),ve}}function mt(O,H){return O=+O,H=+H,function(ve){return O*(1-ve)+H*ve}}function nn(O,H){var ve={},pe={},K;(O===null||typeof O!="object")&&(O={}),(H===null||typeof H!="object")&&(H={});for(K in H)K in O?ve[K]=or(O[K],H[K]):pe[K]=H[K];return function(oe){for(K in ve)pe[K]=ve[K](oe);return pe}}var Wt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fn=new RegExp(Wt.source,"g");function Qn(O){return function(){return O}}function Zn(O){return function(H){return O(H)+""}}function Pn(O,H){var ve=Wt.lastIndex=Fn.lastIndex=0,pe,K,oe,le=-1,We=[],Rt=[];for(O=O+"",H=H+"";(pe=Wt.exec(O))&&(K=Fn.exec(H));)(oe=K.index)>ve&&(oe=H.slice(ve,oe),We[le]?We[le]+=oe:We[++le]=oe),(pe=pe[0])===(K=K[0])?We[le]?We[le]+=K:We[++le]=K:(We[++le]=null,Rt.push({i:le,x:mt(pe,K)})),ve=Fn.lastIndex;return ve<H.length&&(oe=H.slice(ve),We[le]?We[le]+=oe:We[++le]=oe),We.length<2?Rt[0]?Zn(Rt[0].x):Qn(H):(H=Rt.length,function(bt){for(var ln=0,S;ln<H;++ln)We[(S=Rt[ln]).i]=S.x(bt);return We.join("")})}function or(O,H){var ve=typeof H,pe;return H==null||ve==="boolean"?Ut(H):(ve==="number"?mt:ve==="string"?(pe=Ce(H))?(H=pe,Ne):Pn:H instanceof Ce?Ne:H instanceof Date?yt:De(H)?$e:Array.isArray(H)?qt:typeof H.valueOf!="function"&&typeof H.toString!="function"||isNaN(H)?nn:mt)(O,H)}function Ye(O,H){return O=+O,H=+H,function(ve){return Math.round(O*(1-ve)+H*ve)}}let gt=5;function se(O){let H=O.type;return!O.bins&&(H===t.Linear||H===t.Pow||H===t.Sqrt)}function Pe(O){return t.isContinuous(O)&&O!==t.Sequential}let et=r.toSet(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function At(O){e.Transform.call(this,null,O),this.modified(!0)}r.inherits(At,e.Transform,{transform(O,H){var ve=H.dataflow,pe=this.value,K=fn(O);(!pe||K!==pe.type)&&(this.value=pe=t.scale(K)());for(K in O)if(!et[K]){if(K==="padding"&&Pe(pe.type))continue;r.isFunction(pe[K])?pe[K](O[K]):ve.warn("Unsupported scale property: "+K)}return vt(pe,O,ht(pe,O,ct(pe,O,ve))),H.fork(H.NO_SOURCE|H.NO_FIELDS)}});function fn(O){var H=O.type,ve="",pe;return H===t.Sequential?t.Sequential+"-"+t.Linear:(on(O)&&(pe=O.rawDomain?O.rawDomain.length:O.domain?O.domain.length+ +(O.domainMid!=null):0,ve=pe===2?t.Sequential+"-":pe===3?t.Diverging+"-":""),(ve+H||t.Linear).toLowerCase())}function on(O){let H=O.type;return t.isContinuous(H)&&H!==t.Time&&H!==t.UTC&&(O.scheme||O.range&&O.range.length&&O.range.every(r.isString))}function ct(O,H,ve){let pe=re(O,H.domainRaw,ve);if(pe>-1)return pe;var K=H.domain,oe=O.type,le=H.zero||H.zero===void 0&&se(O),We,Rt;if(!K)return 0;if(Pe(oe)&&H.padding&&K[0]!==r.peek(K)&&(K=Te(oe,K,H.range,H.padding,H.exponent,H.constant)),(le||H.domainMin!=null||H.domainMax!=null||H.domainMid!=null)&&(We=(K=K.slice()).length-1||1,le&&(K[0]>0&&(K[0]=0),K[We]<0&&(K[We]=0)),H.domainMin!=null&&(K[0]=H.domainMin),H.domainMax!=null&&(K[We]=H.domainMax),H.domainMid!=null)){Rt=H.domainMid;let bt=Rt>K[We]?We+1:Rt<K[0]?0:We;bt!==We&&ve.warn("Scale domainMid exceeds domain min or max.",Rt),K.splice(bt,0,Rt)}return O.domain(je(oe,K,ve)),oe===t.Ordinal&&O.unknown(H.domainImplicit?t.scaleImplicit:void 0),H.nice&&O.nice&&O.nice(H.nice!==!0&&t.tickCount(O,H.nice)||null),K.length}function re(O,H,ve){return H?(O.domain(je(O.type,H,ve)),H.length):-1}function Te(O,H,ve,pe,K,oe){var le=Math.abs(r.peek(ve)-ve[0]),We=le/(le-2*pe),Rt=O===t.Log?r.zoomLog(H,null,We):O===t.Sqrt?r.zoomPow(H,null,We,.5):O===t.Pow?r.zoomPow(H,null,We,K||1):O===t.Symlog?r.zoomSymlog(H,null,We,oe||1):r.zoomLinear(H,null,We);return H=H.slice(),H[0]=Rt[0],H[H.length-1]=Rt[1],H}function je(O,H,ve){if(t.isLogarithmic(O)){var pe=Math.abs(H.reduce((K,oe)=>K+(oe<0?-1:oe>0?1:0),0));pe!==H.length&&ve.warn("Log scale domain includes zero: "+r.stringValue(H))}return H}function ht(O,H,ve){let pe=H.bins;if(pe&&!r.isArray(pe)){let K=O.domain(),oe=K[0],le=r.peek(K),We=pe.step,Rt=pe.start==null?oe:pe.start,bt=pe.stop==null?le:pe.stop;We||r.error("Scale bins parameter missing step property."),Rt<oe&&(Rt=We*Math.ceil(oe/We)),bt>le&&(bt=We*Math.floor(le/We)),pe=at(Rt,bt+We/2,We)}return pe?O.bins=pe:O.bins&&delete O.bins,O.type===t.BinOrdinal&&(pe?!H.domain&&!H.domainRaw&&(O.domain(pe),ve=pe.length):O.bins=O.domain()),ve}function vt(O,H,ve){var pe=O.type,K=H.round||!1,oe=H.range;if(H.rangeStep!=null)oe=Ft(pe,H,ve);else if(H.scheme&&(oe=ne(pe,H,ve),r.isFunction(oe))){if(O.interpolator)return O.interpolator(oe);r.error(`Scale type ${pe} does not support interpolating color schemes.`)}if(oe&&t.isInterpolating(pe))return O.interpolator(t.interpolateColors(Ve(oe,H.reverse),H.interpolate,H.interpolateGamma));oe&&H.interpolate&&O.interpolate?O.interpolate(t.interpolate(H.interpolate,H.interpolateGamma)):r.isFunction(O.round)?O.round(K):r.isFunction(O.rangeRound)&&O.interpolate(K?Ye:or),oe&&O.range(Ve(oe,H.reverse))}function Ft(O,H,ve){O!==t.Band&&O!==t.Point&&r.error("Only band and point scales support rangeStep.");var pe=(H.paddingOuter!=null?H.paddingOuter:H.padding)||0,K=O===t.Point?1:(H.paddingInner!=null?H.paddingInner:H.padding)||0;return[0,H.rangeStep*t.bandSpace(ve,K,pe)]}function ne(O,H,ve){var pe=H.schemeExtent,K,oe;return r.isArray(H.scheme)?oe=t.interpolateColors(H.scheme,H.interpolate,H.interpolateGamma):(K=H.scheme.toLowerCase(),oe=t.scheme(K),oe||r.error(`Unrecognized scheme name: ${H.scheme}`)),ve=O===t.Threshold?ve+1:O===t.BinOrdinal?ve-1:O===t.Quantile||O===t.Quantize?+H.schemeCount||gt:ve,t.isInterpolating(O)?Se(oe,pe,H.reverse):r.isFunction(oe)?t.quantizeInterpolator(Se(oe,pe),ve):O===t.Ordinal?oe:oe.slice(0,ve)}function Se(O,H,ve){return r.isFunction(O)&&(H||ve)?t.interpolateRange(O,Ve(H||[0,1],ve)):O}function Ve(O,H){return H?O.slice().reverse():O}function nt(O){e.Transform.call(this,null,O)}r.inherits(nt,e.Transform,{transform(O,H){let ve=O.modified("sort")||H.changed(H.ADD)||H.modified(O.sort.fields)||H.modified("datum");return ve&&H.source.sort(e.stableCompare(O.sort)),this.modified(ve),H}});let Bt="zero",rn="center",Sn="normalize",vn=["y0","y1"];function xn(O){e.Transform.call(this,null,O)}xn.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Bt,values:[Bt,rn,Sn]},{name:"as",type:"string",array:!0,length:2,default:vn}]},r.inherits(xn,e.Transform,{transform(O,H){var ve=O.as||vn,pe=ve[0],K=ve[1],oe=e.stableCompare(O.sort),le=O.field||r.one,We=O.offset===rn?zn:O.offset===Sn?Oe:qe,Rt,bt,ln,S;for(Rt=Ct(H.source,O.groupby,oe,le),bt=0,ln=Rt.length,S=Rt.max;bt<ln;++bt)We(Rt[bt],S,le,pe,K);return H.reflow(O.modified()).modifies(ve)}});function zn(O,H,ve,pe,K){for(var oe=(H-O.sum)/2,le=O.length,We=0,Rt;We<le;++We)Rt=O[We],Rt[pe]=oe,Rt[K]=oe+=Math.abs(ve(Rt))}function Oe(O,H,ve,pe,K){for(var oe=1/O.sum,le=0,We=O.length,Rt=0,bt=0,ln;Rt<We;++Rt)ln=O[Rt],ln[pe]=le,ln[K]=le=oe*(bt+=Math.abs(ve(ln)))}function qe(O,H,ve,pe,K){for(var oe=0,le=0,We=O.length,Rt=0,bt,ln;Rt<We;++Rt)ln=O[Rt],bt=+ve(ln),bt<0?(ln[pe]=le,ln[K]=le+=bt):(ln[pe]=oe,ln[K]=oe+=bt)}function Ct(O,H,ve,pe){var K=[],oe=ft=>ft(ln),le,We,Rt,bt,ln,S,B,ee,_e;if(H==null)K.push(O.slice());else for(le={},We=0,Rt=O.length;We<Rt;++We)ln=O[We],S=H.map(oe),B=le[S],B||(le[S]=B=[],K.push(B)),B.push(ln);for(S=0,_e=0,bt=K.length;S<bt;++S){for(B=K[S],We=0,ee=0,Rt=B.length;We<Rt;++We)ee+=Math.abs(pe(B[We]));B.sum=ee,ee>_e&&(_e=ee),ve&&B.sort(ve)}return K.max=_e,K}n.axisticks=i,n.datajoin=s,n.encode=c,n.legendentries=d,n.linkpath=R,n.pie=Tt,n.scale=At,n.sortitems=nt,n.stack=xn,Object.defineProperty(n,"__esModule",{value:!0})})});var qae=we((Uz,VAe)=>{m();(function(n,e){typeof Uz=="object"&&typeof VAe!="undefined"?e(Uz):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(Uz,function(n){"use strict";class e{constructor(){this._partials=new Float64Array(32),this._n=0}add(pt){let Yt=this._partials,jt=0;for(let dn=0;dn<this._n&&dn<32;dn++){let Nn=Yt[dn],Kn=pt+Nn,Un=Math.abs(pt)<Math.abs(Nn)?pt-(Kn-Nn):Nn-(Kn-pt);Un&&(Yt[jt++]=Un),pt=Kn}return Yt[jt]=pt,this._n=jt+1,this}valueOf(){let pt=this._partials,Yt=this._n,jt,dn,Nn,Kn=0;if(Yt>0){for(Kn=pt[--Yt];Yt>0&&(jt=Kn,dn=pt[--Yt],Kn=jt+dn,Nn=dn-(Kn-jt),!Nn););Yt>0&&(Nn<0&&pt[Yt-1]<0||Nn>0&&pt[Yt-1]>0)&&(dn=Nn*2,jt=Kn+dn,dn==jt-Kn&&(Kn=jt))}return Kn}}function*t(Le){for(let pt of Le)yield*pt}function r(Le){return Array.from(t(Le))}var i=1e-6,s=1e-12,o=Math.PI,a=o/2,c=o/4,d=o*2,p=180/o,b=o/180,C=Math.abs,N=Math.atan,R=Math.atan2,U=Math.cos,V=Math.exp,P=Math.log,$=Math.pow,M=Math.sin,G=Math.sign||function(Le){return Le>0?1:Le<0?-1:0},ae=Math.sqrt,I=Math.tan;function Z(Le){return Le>1?0:Le<-1?o:Math.acos(Le)}function me(Le){return Le>1?a:Le<-1?-a:Math.asin(Le)}function ye(){}function He(Le,pt){Le&&at.hasOwnProperty(Le.type)&&at[Le.type](Le,pt)}var ot={Feature:function(Le,pt){He(Le.geometry,pt)},FeatureCollection:function(Le,pt){for(var Yt=Le.features,jt=-1,dn=Yt.length;++jt<dn;)He(Yt[jt].geometry,pt)}},at={Sphere:function(Le,pt){pt.sphere()},Point:function(Le,pt){Le=Le.coordinates,pt.point(Le[0],Le[1],Le[2])},MultiPoint:function(Le,pt){for(var Yt=Le.coordinates,jt=-1,dn=Yt.length;++jt<dn;)Le=Yt[jt],pt.point(Le[0],Le[1],Le[2])},LineString:function(Le,pt){Ze(Le.coordinates,pt,0)},MultiLineString:function(Le,pt){for(var Yt=Le.coordinates,jt=-1,dn=Yt.length;++jt<dn;)Ze(Yt[jt],pt,0)},Polygon:function(Le,pt){Tt(Le.coordinates,pt)},MultiPolygon:function(Le,pt){for(var Yt=Le.coordinates,jt=-1,dn=Yt.length;++jt<dn;)Tt(Yt[jt],pt)},GeometryCollection:function(Le,pt){for(var Yt=Le.geometries,jt=-1,dn=Yt.length;++jt<dn;)He(Yt[jt],pt)}};function Ze(Le,pt,Yt){var jt=-1,dn=Le.length-Yt,Nn;for(pt.lineStart();++jt<dn;)Nn=Le[jt],pt.point(Nn[0],Nn[1],Nn[2]);pt.lineEnd()}function Tt(Le,pt){var Yt=-1,jt=Le.length;for(pt.polygonStart();++Yt<jt;)Ze(Le[Yt],pt,1);pt.polygonEnd()}function Mt(Le,pt){Le&&ot.hasOwnProperty(Le.type)?ot[Le.type](Le,pt):He(Le,pt)}function Ue(Le){return[R(Le[1],Le[0]),me(Le[2])]}function te(Le){var pt=Le[0],Yt=Le[1],jt=U(Yt);return[jt*U(pt),jt*M(pt),M(Yt)]}function st(Le,pt){return Le[0]*pt[0]+Le[1]*pt[1]+Le[2]*pt[2]}function be(Le,pt){return[Le[1]*pt[2]-Le[2]*pt[1],Le[2]*pt[0]-Le[0]*pt[2],Le[0]*pt[1]-Le[1]*pt[0]]}function Re(Le,pt){Le[0]+=pt[0],Le[1]+=pt[1],Le[2]+=pt[2]}function Ae(Le,pt){return[Le[0]*pt,Le[1]*pt,Le[2]*pt]}function xe(Le){var pt=ae(Le[0]*Le[0]+Le[1]*Le[1]+Le[2]*Le[2]);Le[0]/=pt,Le[1]/=pt,Le[2]/=pt}function Je(Le,pt){function Yt(jt,dn){return jt=Le(jt,dn),pt(jt[0],jt[1])}return Le.invert&&pt.invert&&(Yt.invert=function(jt,dn){return jt=pt.invert(jt,dn),jt&&Le.invert(jt[0],jt[1])}),Yt}function lt(Le,pt){return[C(Le)>o?Le+Math.round(-Le/d)*d:Le,pt]}lt.invert=lt;function Qt(Le,pt,Yt){return(Le%=d)?pt||Yt?Je(mn(Le),Lt(pt,Yt)):mn(Le):pt||Yt?Lt(pt,Yt):lt}function Et(Le){return function(pt,Yt){return pt+=Le,[pt>o?pt-d:pt<-o?pt+d:pt,Yt]}}function mn(Le){var pt=Et(Le);return pt.invert=Et(-Le),pt}function Lt(Le,pt){var Yt=U(Le),jt=M(Le),dn=U(pt),Nn=M(pt);function Kn(Un,br){var wr=U(br),Gn=U(Un)*wr,ar=M(Un)*wr,er=M(br),gr=er*Yt+Gn*jt;return[R(ar*dn-gr*Nn,Gn*Yt-er*jt),me(gr*dn+ar*Nn)]}return Kn.invert=function(Un,br){var wr=U(br),Gn=U(Un)*wr,ar=M(Un)*wr,er=M(br),gr=er*dn-ar*Nn;return[R(ar*dn+er*Nn,Gn*Yt+gr*jt),me(gr*Yt-Gn*jt)]},Kn}function kt(Le){Le=Qt(Le[0]*b,Le[1]*b,Le.length>2?Le[2]*b:0);function pt(Yt){return Yt=Le(Yt[0]*b,Yt[1]*b),Yt[0]*=p,Yt[1]*=p,Yt}return pt.invert=function(Yt){return Yt=Le.invert(Yt[0]*b,Yt[1]*b),Yt[0]*=p,Yt[1]*=p,Yt},pt}function cn(Le,pt,Yt,jt,dn,Nn){if(!!Yt){var Kn=U(pt),Un=M(pt),br=jt*Yt;dn==null?(dn=pt+jt*d,Nn=pt-br/2):(dn=wt(Kn,dn),Nn=wt(Kn,Nn),(jt>0?dn<Nn:dn>Nn)&&(dn+=jt*d));for(var wr,Gn=dn;jt>0?Gn>Nn:Gn<Nn;Gn-=br)wr=Ue([Kn,-Un*U(Gn),-Un*M(Gn)]),Le.point(wr[0],wr[1])}}function wt(Le,pt){pt=te(pt),pt[0]-=Le,xe(pt);var Yt=Z(-pt[1]);return((-pt[2]<0?-Yt:Yt)+d-i)%d}function Ee(){var Le=[],pt;return{point:function(Yt,jt,dn){pt.push([Yt,jt,dn])},lineStart:function(){Le.push(pt=[])},lineEnd:ye,rejoin:function(){Le.length>1&&Le.push(Le.pop().concat(Le.shift()))},result:function(){var Yt=Le;return Le=[],pt=null,Yt}}}function Ie(Le,pt){return C(Le[0]-pt[0])<i&&C(Le[1]-pt[1])<i}function Ce(Le,pt,Yt,jt){this.x=Le,this.z=pt,this.o=Yt,this.e=jt,this.v=!1,this.n=this.p=null}function fe(Le,pt,Yt,jt,dn){var Nn=[],Kn=[],Un,br;if(Le.forEach(function(Or){if(!((di=Or.length-1)<=0)){var di,ni=Or[0],pi=Or[di],ii;if(Ie(ni,pi)){if(!ni[2]&&!pi[2]){for(dn.lineStart(),Un=0;Un<di;++Un)dn.point((ni=Or[Un])[0],ni[1]);dn.lineEnd();return}pi[0]+=2*i}Nn.push(ii=new Ce(ni,Or,null,!0)),Kn.push(ii.o=new Ce(ni,null,ii,!1)),Nn.push(ii=new Ce(pi,Or,null,!1)),Kn.push(ii.o=new Ce(pi,null,ii,!0))}}),!!Nn.length){for(Kn.sort(pt),rt(Nn),rt(Kn),Un=0,br=Kn.length;Un<br;++Un)Kn[Un].e=Yt=!Yt;for(var wr=Nn[0],Gn,ar;;){for(var er=wr,gr=!0;er.v;)if((er=er.n)===wr)return;Gn=er.z,dn.lineStart();do{if(er.v=er.o.v=!0,er.e){if(gr)for(Un=0,br=Gn.length;Un<br;++Un)dn.point((ar=Gn[Un])[0],ar[1]);else jt(er.x,er.n.x,1,dn);er=er.n}else{if(gr)for(Gn=er.p.z,Un=Gn.length-1;Un>=0;--Un)dn.point((ar=Gn[Un])[0],ar[1]);else jt(er.x,er.p.x,-1,dn);er=er.p}er=er.o,Gn=er.z,gr=!gr}while(!er.v);dn.lineEnd()}}}function rt(Le){if(!!(pt=Le.length)){for(var pt,Yt=0,jt=Le[0],dn;++Yt<pt;)jt.n=dn=Le[Yt],dn.p=jt,jt=dn;jt.n=dn=Le[0],dn.p=jt}}function Xe(Le){return C(Le[0])<=o?Le[0]:G(Le[0])*((C(Le[0])+o)%d-o)}function de(Le,pt){var Yt=Xe(pt),jt=pt[1],dn=M(jt),Nn=[M(Yt),-U(Yt),0],Kn=0,Un=0,br=new e;dn===1?jt=a+i:dn===-1&&(jt=-a-i);for(var wr=0,Gn=Le.length;wr<Gn;++wr)if(!!(er=(ar=Le[wr]).length))for(var ar,er,gr=ar[er-1],Or=Xe(gr),di=gr[1]/2+c,ni=M(di),pi=U(di),ii=0;ii<er;++ii,Or=Ir,ni=gi,pi=ss,gr=qr){var qr=ar[ii],Ir=Xe(qr),yi=qr[1]/2+c,gi=M(yi),ss=U(yi),ms=Ir-Or,vi=ms>=0?1:-1,Ms=vi*ms,is=Ms>o,pa=ni*gi;if(br.add(R(pa*vi*M(Ms),pi*ss+pa*U(Ms))),Kn+=is?ms+vi*d:ms,is^Or>=Yt^Ir>=Yt){var No=be(te(gr),te(qr));xe(No);var ws=be(Nn,No);xe(ws);var tn=(is^ms>=0?-1:1)*me(ws[2]);(jt>tn||jt===tn&&(No[0]||No[1]))&&(Un+=is^ms>=0?1:-1)}}return(Kn<-i||Kn<i&&br<-s)^Un&1}function Ge(Le,pt,Yt,jt){return function(dn){var Nn=pt(dn),Kn=Ee(),Un=pt(Kn),br=!1,wr,Gn,ar,er={point:gr,lineStart:di,lineEnd:ni,polygonStart:function(){er.point=pi,er.lineStart=ii,er.lineEnd=qr,Gn=[],wr=[]},polygonEnd:function(){er.point=gr,er.lineStart=di,er.lineEnd=ni,Gn=r(Gn);var Ir=de(wr,jt);Gn.length?(br||(dn.polygonStart(),br=!0),fe(Gn,Nt,Ir,Yt,dn)):Ir&&(br||(dn.polygonStart(),br=!0),dn.lineStart(),Yt(null,null,1,dn),dn.lineEnd()),br&&(dn.polygonEnd(),br=!1),Gn=wr=null},sphere:function(){dn.polygonStart(),dn.lineStart(),Yt(null,null,1,dn),dn.lineEnd(),dn.polygonEnd()}};function gr(Ir,yi){Le(Ir,yi)&&dn.point(Ir,yi)}function Or(Ir,yi){Nn.point(Ir,yi)}function di(){er.point=Or,Nn.lineStart()}function ni(){er.point=gr,Nn.lineEnd()}function pi(Ir,yi){ar.push([Ir,yi]),Un.point(Ir,yi)}function ii(){Un.lineStart(),ar=[]}function qr(){pi(ar[0][0],ar[0][1]),Un.lineEnd();var Ir=Un.clean(),yi=Kn.result(),gi,ss=yi.length,ms,vi,Ms;if(ar.pop(),wr.push(ar),ar=null,!!ss){if(Ir&1){if(vi=yi[0],(ms=vi.length-1)>0){for(br||(dn.polygonStart(),br=!0),dn.lineStart(),gi=0;gi<ms;++gi)dn.point((Ms=vi[gi])[0],Ms[1]);dn.lineEnd()}return}ss>1&&Ir&2&&yi.push(yi.pop().concat(yi.shift())),Gn.push(yi.filter(Ot))}}return er}}function Ot(Le){return Le.length>1}function Nt(Le,pt){return((Le=Le.x)[0]<0?Le[1]-a-i:a-Le[1])-((pt=pt.x)[0]<0?pt[1]-a-i:a-pt[1])}var zt=Ge(function(){return!0},en,bn,[-o,-a]);function en(Le){var pt=NaN,Yt=NaN,jt=NaN,dn;return{lineStart:function(){Le.lineStart(),dn=1},point:function(Nn,Kn){var Un=Nn>0?o:-o,br=C(Nn-pt);C(br-o)<i?(Le.point(pt,Yt=(Yt+Kn)/2>0?a:-a),Le.point(jt,Yt),Le.lineEnd(),Le.lineStart(),Le.point(Un,Yt),Le.point(Nn,Yt),dn=0):jt!==Un&&br>=o&&(C(pt-jt)<i&&(pt-=jt*i),C(Nn-Un)<i&&(Nn-=Un*i),Yt=Xt(pt,Yt,Nn,Kn),Le.point(jt,Yt),Le.lineEnd(),Le.lineStart(),Le.point(Un,Yt),dn=0),Le.point(pt=Nn,Yt=Kn),jt=Un},lineEnd:function(){Le.lineEnd(),pt=Yt=NaN},clean:function(){return 2-dn}}}function Xt(Le,pt,Yt,jt){var dn,Nn,Kn=M(Le-Yt);return C(Kn)>i?N((M(pt)*(Nn=U(jt))*M(Yt)-M(jt)*(dn=U(pt))*M(Le))/(dn*Nn*Kn)):(pt+jt)/2}function bn(Le,pt,Yt,jt){var dn;if(Le==null)dn=Yt*a,jt.point(-o,dn),jt.point(0,dn),jt.point(o,dn),jt.point(o,0),jt.point(o,-dn),jt.point(0,-dn),jt.point(-o,-dn),jt.point(-o,0),jt.point(-o,dn);else if(C(Le[0]-pt[0])>i){var Nn=Le[0]<pt[0]?o:-o;dn=Yt*Nn/2,jt.point(-Nn,dn),jt.point(0,dn),jt.point(Nn,dn)}else jt.point(pt[0],pt[1])}function Tn(Le){var pt=U(Le),Yt=6*b,jt=pt>0,dn=C(pt)>i;function Nn(Gn,ar,er,gr){cn(gr,Le,Yt,er,Gn,ar)}function Kn(Gn,ar){return U(Gn)*U(ar)>pt}function Un(Gn){var ar,er,gr,Or,di;return{lineStart:function(){Or=gr=!1,di=1},point:function(ni,pi){var ii=[ni,pi],qr,Ir=Kn(ni,pi),yi=jt?Ir?0:wr(ni,pi):Ir?wr(ni+(ni<0?o:-o),pi):0;if(!ar&&(Or=gr=Ir)&&Gn.lineStart(),Ir!==gr&&(qr=br(ar,ii),(!qr||Ie(ar,qr)||Ie(ii,qr))&&(ii[2]=1)),Ir!==gr)di=0,Ir?(Gn.lineStart(),qr=br(ii,ar),Gn.point(qr[0],qr[1])):(qr=br(ar,ii),Gn.point(qr[0],qr[1],2),Gn.lineEnd()),ar=qr;else if(dn&&ar&&jt^Ir){var gi;!(yi&er)&&(gi=br(ii,ar,!0))&&(di=0,jt?(Gn.lineStart(),Gn.point(gi[0][0],gi[0][1]),Gn.point(gi[1][0],gi[1][1]),Gn.lineEnd()):(Gn.point(gi[1][0],gi[1][1]),Gn.lineEnd(),Gn.lineStart(),Gn.point(gi[0][0],gi[0][1],3)))}Ir&&(!ar||!Ie(ar,ii))&&Gn.point(ii[0],ii[1]),ar=ii,gr=Ir,er=yi},lineEnd:function(){gr&&Gn.lineEnd(),ar=null},clean:function(){return di|(Or&&gr)<<1}}}function br(Gn,ar,er){var gr=te(Gn),Or=te(ar),di=[1,0,0],ni=be(gr,Or),pi=st(ni,ni),ii=ni[0],qr=pi-ii*ii;if(!qr)return!er&&Gn;var Ir=pt*pi/qr,yi=-pt*ii/qr,gi=be(di,ni),ss=Ae(di,Ir),ms=Ae(ni,yi);Re(ss,ms);var vi=gi,Ms=st(ss,vi),is=st(vi,vi),pa=Ms*Ms-is*(st(ss,ss)-1);if(!(pa<0)){var No=ae(pa),ws=Ae(vi,(-Ms-No)/is);if(Re(ws,ss),ws=Ue(ws),!er)return ws;var tn=Gn[0],Jn=ar[0],yn=Gn[1],Yr=ar[1],Ti;Jn<tn&&(Ti=tn,tn=Jn,Jn=Ti);var ts=Jn-tn,ps=C(ts-o)<i,zi=ps||ts<i;if(!ps&&Yr<yn&&(Ti=yn,yn=Yr,Yr=Ti),zi?ps?yn+Yr>0^ws[1]<(C(ws[0]-tn)<i?yn:Yr):yn<=ws[1]&&ws[1]<=Yr:ts>o^(tn<=ws[0]&&ws[0]<=Jn)){var cs=Ae(vi,(-Ms+No)/is);return Re(cs,ss),[ws,Ue(cs)]}}}function wr(Gn,ar){var er=jt?Le:o-Le,gr=0;return Gn<-er?gr|=1:Gn>er&&(gr|=2),ar<-er?gr|=4:ar>er&&(gr|=8),gr}return Ge(Kn,Un,Nn,jt?[0,-Le]:[-o,Le-o])}function Dn(Le,pt,Yt,jt,dn,Nn){var Kn=Le[0],Un=Le[1],br=pt[0],wr=pt[1],Gn=0,ar=1,er=br-Kn,gr=wr-Un,Or;if(Or=Yt-Kn,!(!er&&Or>0)){if(Or/=er,er<0){if(Or<Gn)return;Or<ar&&(ar=Or)}else if(er>0){if(Or>ar)return;Or>Gn&&(Gn=Or)}if(Or=dn-Kn,!(!er&&Or<0)){if(Or/=er,er<0){if(Or>ar)return;Or>Gn&&(Gn=Or)}else if(er>0){if(Or<Gn)return;Or<ar&&(ar=Or)}if(Or=jt-Un,!(!gr&&Or>0)){if(Or/=gr,gr<0){if(Or<Gn)return;Or<ar&&(ar=Or)}else if(gr>0){if(Or>ar)return;Or>Gn&&(Gn=Or)}if(Or=Nn-Un,!(!gr&&Or<0)){if(Or/=gr,gr<0){if(Or>ar)return;Or>Gn&&(Gn=Or)}else if(gr>0){if(Or<Gn)return;Or<ar&&(ar=Or)}return Gn>0&&(Le[0]=Kn+Gn*er,Le[1]=Un+Gn*gr),ar<1&&(pt[0]=Kn+ar*er,pt[1]=Un+ar*gr),!0}}}}}var Ut=1e9,pn=-Ut;function qn(Le,pt,Yt,jt){function dn(wr,Gn){return Le<=wr&&wr<=Yt&&pt<=Gn&&Gn<=jt}function Nn(wr,Gn,ar,er){var gr=0,Or=0;if(wr==null||(gr=Kn(wr,ar))!==(Or=Kn(Gn,ar))||br(wr,Gn)<0^ar>0)do er.point(gr===0||gr===3?Le:Yt,gr>1?jt:pt);while((gr=(gr+ar+4)%4)!==Or);else er.point(Gn[0],Gn[1])}function Kn(wr,Gn){return C(wr[0]-Le)<i?Gn>0?0:3:C(wr[0]-Yt)<i?Gn>0?2:1:C(wr[1]-pt)<i?Gn>0?1:0:Gn>0?3:2}function Un(wr,Gn){return br(wr.x,Gn.x)}function br(wr,Gn){var ar=Kn(wr,1),er=Kn(Gn,1);return ar!==er?ar-er:ar===0?Gn[1]-wr[1]:ar===1?wr[0]-Gn[0]:ar===2?wr[1]-Gn[1]:Gn[0]-wr[0]}return function(wr){var Gn=wr,ar=Ee(),er,gr,Or,di,ni,pi,ii,qr,Ir,yi,gi,ss={point:ms,lineStart:pa,lineEnd:No,polygonStart:Ms,polygonEnd:is};function ms(tn,Jn){dn(tn,Jn)&&Gn.point(tn,Jn)}function vi(){for(var tn=0,Jn=0,yn=gr.length;Jn<yn;++Jn)for(var Yr=gr[Jn],Ti=1,ts=Yr.length,ps=Yr[0],zi,cs,fu=ps[0],ue=ps[1];Ti<ts;++Ti)zi=fu,cs=ue,ps=Yr[Ti],fu=ps[0],ue=ps[1],cs<=jt?ue>jt&&(fu-zi)*(jt-cs)>(ue-cs)*(Le-zi)&&++tn:ue<=jt&&(fu-zi)*(jt-cs)<(ue-cs)*(Le-zi)&&--tn;return tn}function Ms(){Gn=ar,er=[],gr=[],gi=!0}function is(){var tn=vi(),Jn=gi&&tn,yn=(er=r(er)).length;(Jn||yn)&&(wr.polygonStart(),Jn&&(wr.lineStart(),Nn(null,null,1,wr),wr.lineEnd()),yn&&fe(er,Un,tn,Nn,wr),wr.polygonEnd()),Gn=wr,er=gr=Or=null}function pa(){ss.point=ws,gr&&gr.push(Or=[]),yi=!0,Ir=!1,ii=qr=NaN}function No(){er&&(ws(di,ni),pi&&Ir&&ar.rejoin(),er.push(ar.result())),ss.point=ms,Ir&&Gn.lineEnd()}function ws(tn,Jn){var yn=dn(tn,Jn);if(gr&&Or.push([tn,Jn]),yi)di=tn,ni=Jn,pi=yn,yi=!1,yn&&(Gn.lineStart(),Gn.point(tn,Jn));else if(yn&&Ir)Gn.point(tn,Jn);else{var Yr=[ii=Math.max(pn,Math.min(Ut,ii)),qr=Math.max(pn,Math.min(Ut,qr))],Ti=[tn=Math.max(pn,Math.min(Ut,tn)),Jn=Math.max(pn,Math.min(Ut,Jn))];Dn(Yr,Ti,Le,pt,Yt,jt)?(Ir||(Gn.lineStart(),Gn.point(Yr[0],Yr[1])),Gn.point(Ti[0],Ti[1]),yn||Gn.lineEnd(),gi=!1):yn&&(Gn.lineStart(),Gn.point(tn,Jn),gi=!1)}ii=tn,qr=Jn,Ir=yn}return ss}}var sr=Le=>Le,In=new e,Ne=new e,$e,De,qt,yt,mt={point:ye,lineStart:ye,lineEnd:ye,polygonStart:function(){mt.lineStart=nn,mt.lineEnd=Qn},polygonEnd:function(){mt.lineStart=mt.lineEnd=mt.point=ye,In.add(C(Ne)),Ne=new e},result:function(){var Le=In/2;return In=new e,Le}};function nn(){mt.point=Wt}function Wt(Le,pt){mt.point=Fn,$e=qt=Le,De=yt=pt}function Fn(Le,pt){Ne.add(yt*Le-qt*pt),qt=Le,yt=pt}function Qn(){Fn($e,De)}var Zn=mt,Pn=1/0,or=Pn,Ye=-Pn,gt=Ye,se={point:Pe,lineStart:ye,lineEnd:ye,polygonStart:ye,polygonEnd:ye,result:function(){var Le=[[Pn,or],[Ye,gt]];return Ye=gt=-(or=Pn=1/0),Le}};function Pe(Le,pt){Le<Pn&&(Pn=Le),Le>Ye&&(Ye=Le),pt<or&&(or=pt),pt>gt&&(gt=pt)}var et=se,At=0,fn=0,on=0,ct=0,re=0,Te=0,je=0,ht=0,vt=0,Ft,ne,Se,Ve,nt={point:Bt,lineStart:rn,lineEnd:xn,polygonStart:function(){nt.lineStart=zn,nt.lineEnd=Oe},polygonEnd:function(){nt.point=Bt,nt.lineStart=rn,nt.lineEnd=xn},result:function(){var Le=vt?[je/vt,ht/vt]:Te?[ct/Te,re/Te]:on?[At/on,fn/on]:[NaN,NaN];return At=fn=on=ct=re=Te=je=ht=vt=0,Le}};function Bt(Le,pt){At+=Le,fn+=pt,++on}function rn(){nt.point=Sn}function Sn(Le,pt){nt.point=vn,Bt(Se=Le,Ve=pt)}function vn(Le,pt){var Yt=Le-Se,jt=pt-Ve,dn=ae(Yt*Yt+jt*jt);ct+=dn*(Se+Le)/2,re+=dn*(Ve+pt)/2,Te+=dn,Bt(Se=Le,Ve=pt)}function xn(){nt.point=Bt}function zn(){nt.point=qe}function Oe(){Ct(Ft,ne)}function qe(Le,pt){nt.point=Ct,Bt(Ft=Se=Le,ne=Ve=pt)}function Ct(Le,pt){var Yt=Le-Se,jt=pt-Ve,dn=ae(Yt*Yt+jt*jt);ct+=dn*(Se+Le)/2,re+=dn*(Ve+pt)/2,Te+=dn,dn=Ve*Le-Se*pt,je+=dn*(Se+Le),ht+=dn*(Ve+pt),vt+=dn*3,Bt(Se=Le,Ve=pt)}var O=nt;function H(Le){this._context=Le}H.prototype={_radius:4.5,pointRadius:function(Le){return this._radius=Le,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Le,pt){switch(this._point){case 0:{this._context.moveTo(Le,pt),this._point=1;break}case 1:{this._context.lineTo(Le,pt);break}default:{this._context.moveTo(Le+this._radius,pt),this._context.arc(Le,pt,this._radius,0,d);break}}},result:ye};var ve=new e,pe,K,oe,le,We,Rt={point:ye,lineStart:function(){Rt.point=bt},lineEnd:function(){pe&&ln(K,oe),Rt.point=ye},polygonStart:function(){pe=!0},polygonEnd:function(){pe=null},result:function(){var Le=+ve;return ve=new e,Le}};function bt(Le,pt){Rt.point=ln,K=le=Le,oe=We=pt}function ln(Le,pt){le-=Le,We-=pt,ve.add(ae(le*le+We*We)),le=Le,We=pt}var S=Rt;function B(){this._string=[]}B.prototype={_radius:4.5,_circle:ee(4.5),pointRadius:function(Le){return(Le=+Le)!==this._radius&&(this._radius=Le,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Le,pt){switch(this._point){case 0:{this._string.push("M",Le,",",pt),this._point=1;break}case 1:{this._string.push("L",Le,",",pt);break}default:{this._circle==null&&(this._circle=ee(this._radius)),this._string.push("M",Le,",",pt,this._circle);break}}},result:function(){if(this._string.length){var Le=this._string.join("");return this._string=[],Le}else return null}};function ee(Le){return"m0,"+Le+"a"+Le+","+Le+" 0 1,1 0,"+-2*Le+"a"+Le+","+Le+" 0 1,1 0,"+2*Le+"z"}function _e(Le,pt){var Yt=4.5,jt,dn;function Nn(Kn){return Kn&&(typeof Yt=="function"&&dn.pointRadius(+Yt.apply(this,arguments)),Mt(Kn,jt(dn))),dn.result()}return Nn.area=function(Kn){return Mt(Kn,jt(Zn)),Zn.result()},Nn.measure=function(Kn){return Mt(Kn,jt(S)),S.result()},Nn.bounds=function(Kn){return Mt(Kn,jt(et)),et.result()},Nn.centroid=function(Kn){return Mt(Kn,jt(O)),O.result()},Nn.projection=function(Kn){return arguments.length?(jt=Kn==null?(Le=null,sr):(Le=Kn).stream,Nn):Le},Nn.context=function(Kn){return arguments.length?(dn=Kn==null?(pt=null,new B):new H(pt=Kn),typeof Yt!="function"&&dn.pointRadius(Yt),Nn):pt},Nn.pointRadius=function(Kn){return arguments.length?(Yt=typeof Kn=="function"?Kn:(dn.pointRadius(+Kn),+Kn),Nn):Yt},Nn.projection(Le).context(pt)}function ft(Le){return function(pt){var Yt=new St;for(var jt in Le)Yt[jt]=Le[jt];return Yt.stream=pt,Yt}}function St(){}St.prototype={constructor:St,point:function(Le,pt){this.stream.point(Le,pt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Jt(Le,pt,Yt){var jt=Le.clipExtent&&Le.clipExtent();return Le.scale(150).translate([0,0]),jt!=null&&Le.clipExtent(null),Mt(Yt,Le.stream(et)),pt(et.result()),jt!=null&&Le.clipExtent(jt),Le}function Kt(Le,pt,Yt){return Jt(Le,function(jt){var dn=pt[1][0]-pt[0][0],Nn=pt[1][1]-pt[0][1],Kn=Math.min(dn/(jt[1][0]-jt[0][0]),Nn/(jt[1][1]-jt[0][1])),Un=+pt[0][0]+(dn-Kn*(jt[1][0]+jt[0][0]))/2,br=+pt[0][1]+(Nn-Kn*(jt[1][1]+jt[0][1]))/2;Le.scale(150*Kn).translate([Un,br])},Yt)}function hn(Le,pt,Yt){return Kt(Le,[[0,0],pt],Yt)}function Bn(Le,pt,Yt){return Jt(Le,function(jt){var dn=+pt,Nn=dn/(jt[1][0]-jt[0][0]),Kn=(dn-Nn*(jt[1][0]+jt[0][0]))/2,Un=-Nn*jt[0][1];Le.scale(150*Nn).translate([Kn,Un])},Yt)}function jn(Le,pt,Yt){return Jt(Le,function(jt){var dn=+pt,Nn=dn/(jt[1][1]-jt[0][1]),Kn=-Nn*jt[0][0],Un=(dn-Nn*(jt[1][1]+jt[0][1]))/2;Le.scale(150*Nn).translate([Kn,Un])},Yt)}var Vn=16,Jr=U(30*b);function Vr(Le,pt){return+pt?Mr(Le,pt):yr(Le)}function yr(Le){return ft({point:function(pt,Yt){pt=Le(pt,Yt),this.stream.point(pt[0],pt[1])}})}function Mr(Le,pt){function Yt(jt,dn,Nn,Kn,Un,br,wr,Gn,ar,er,gr,Or,di,ni){var pi=wr-jt,ii=Gn-dn,qr=pi*pi+ii*ii;if(qr>4*pt&&di--){var Ir=Kn+er,yi=Un+gr,gi=br+Or,ss=ae(Ir*Ir+yi*yi+gi*gi),ms=me(gi/=ss),vi=C(C(gi)-1)<i||C(Nn-ar)<i?(Nn+ar)/2:R(yi,Ir),Ms=Le(vi,ms),is=Ms[0],pa=Ms[1],No=is-jt,ws=pa-dn,tn=ii*No-pi*ws;(tn*tn/qr>pt||C((pi*No+ii*ws)/qr-.5)>.3||Kn*er+Un*gr+br*Or<Jr)&&(Yt(jt,dn,Nn,Kn,Un,br,is,pa,vi,Ir/=ss,yi/=ss,gi,di,ni),ni.point(is,pa),Yt(is,pa,vi,Ir,yi,gi,wr,Gn,ar,er,gr,Or,di,ni))}}return function(jt){var dn,Nn,Kn,Un,br,wr,Gn,ar,er,gr,Or,di,ni={point:pi,lineStart:ii,lineEnd:Ir,polygonStart:function(){jt.polygonStart(),ni.lineStart=yi},polygonEnd:function(){jt.polygonEnd(),ni.lineStart=ii}};function pi(ms,vi){ms=Le(ms,vi),jt.point(ms[0],ms[1])}function ii(){ar=NaN,ni.point=qr,jt.lineStart()}function qr(ms,vi){var Ms=te([ms,vi]),is=Le(ms,vi);Yt(ar,er,Gn,gr,Or,di,ar=is[0],er=is[1],Gn=ms,gr=Ms[0],Or=Ms[1],di=Ms[2],Vn,jt),jt.point(ar,er)}function Ir(){ni.point=pi,jt.lineEnd()}function yi(){ii(),ni.point=gi,ni.lineEnd=ss}function gi(ms,vi){qr(dn=ms,vi),Nn=ar,Kn=er,Un=gr,br=Or,wr=di,ni.point=qr}function ss(){Yt(ar,er,Gn,gr,Or,di,Nn,Kn,dn,Un,br,wr,Vn,jt),ni.lineEnd=Ir,Ir()}return ni}}var xi=ft({point:function(Le,pt){this.stream.point(Le*b,pt*b)}});function ai(Le){return ft({point:function(pt,Yt){var jt=Le(pt,Yt);return this.stream.point(jt[0],jt[1])}})}function Ji(Le,pt,Yt,jt,dn){function Nn(Kn,Un){return Kn*=jt,Un*=dn,[pt+Le*Kn,Yt-Le*Un]}return Nn.invert=function(Kn,Un){return[(Kn-pt)/Le*jt,(Yt-Un)/Le*dn]},Nn}function Es(Le,pt,Yt,jt,dn,Nn){if(!Nn)return Ji(Le,pt,Yt,jt,dn);var Kn=U(Nn),Un=M(Nn),br=Kn*Le,wr=Un*Le,Gn=Kn/Le,ar=Un/Le,er=(Un*Yt-Kn*pt)/Le,gr=(Un*pt+Kn*Yt)/Le;function Or(di,ni){return di*=jt,ni*=dn,[br*di-wr*ni+pt,Yt-wr*di-br*ni]}return Or.invert=function(di,ni){return[jt*(Gn*di-ar*ni+er),dn*(gr-ar*di-Gn*ni)]},Or}function es(Le){return Ea(function(){return Le})()}function Ea(Le){var pt,Yt=150,jt=480,dn=250,Nn=0,Kn=0,Un=0,br=0,wr=0,Gn,ar=0,er=1,gr=1,Or=null,di=zt,ni=null,pi,ii,qr,Ir=sr,yi=.5,gi,ss,ms,vi,Ms;function is(tn){return ms(tn[0]*b,tn[1]*b)}function pa(tn){return tn=ms.invert(tn[0],tn[1]),tn&&[tn[0]*p,tn[1]*p]}is.stream=function(tn){return vi&&Ms===tn?vi:vi=xi(ai(Gn)(di(gi(Ir(Ms=tn)))))},is.preclip=function(tn){return arguments.length?(di=tn,Or=void 0,ws()):di},is.postclip=function(tn){return arguments.length?(Ir=tn,ni=pi=ii=qr=null,ws()):Ir},is.clipAngle=function(tn){return arguments.length?(di=+tn?Tn(Or=tn*b):(Or=null,zt),ws()):Or*p},is.clipExtent=function(tn){return arguments.length?(Ir=tn==null?(ni=pi=ii=qr=null,sr):qn(ni=+tn[0][0],pi=+tn[0][1],ii=+tn[1][0],qr=+tn[1][1]),ws()):ni==null?null:[[ni,pi],[ii,qr]]},is.scale=function(tn){return arguments.length?(Yt=+tn,No()):Yt},is.translate=function(tn){return arguments.length?(jt=+tn[0],dn=+tn[1],No()):[jt,dn]},is.center=function(tn){return arguments.length?(Nn=tn[0]%360*b,Kn=tn[1]%360*b,No()):[Nn*p,Kn*p]},is.rotate=function(tn){return arguments.length?(Un=tn[0]%360*b,br=tn[1]%360*b,wr=tn.length>2?tn[2]%360*b:0,No()):[Un*p,br*p,wr*p]},is.angle=function(tn){return arguments.length?(ar=tn%360*b,No()):ar*p},is.reflectX=function(tn){return arguments.length?(er=tn?-1:1,No()):er<0},is.reflectY=function(tn){return arguments.length?(gr=tn?-1:1,No()):gr<0},is.precision=function(tn){return arguments.length?(gi=Vr(ss,yi=tn*tn),ws()):ae(yi)},is.fitExtent=function(tn,Jn){return Kt(is,tn,Jn)},is.fitSize=function(tn,Jn){return hn(is,tn,Jn)},is.fitWidth=function(tn,Jn){return Bn(is,tn,Jn)},is.fitHeight=function(tn,Jn){return jn(is,tn,Jn)};function No(){var tn=Es(Yt,0,0,er,gr,ar).apply(null,pt(Nn,Kn)),Jn=Es(Yt,jt-tn[0],dn-tn[1],er,gr,ar);return Gn=Qt(Un,br,wr),ss=Je(pt,Jn),ms=Je(Gn,ss),gi=Vr(ss,yi),ws()}function ws(){return vi=Ms=null,is}return function(){return pt=Le.apply(this,arguments),is.invert=pt.invert&&pa,No()}}function da(Le){var pt=0,Yt=o/3,jt=Ea(Le),dn=jt(pt,Yt);return dn.parallels=function(Nn){return arguments.length?jt(pt=Nn[0]*b,Yt=Nn[1]*b):[pt*p,Yt*p]},dn}function fl(Le){var pt=U(Le);function Yt(jt,dn){return[jt*pt,M(dn)/pt]}return Yt.invert=function(jt,dn){return[jt/pt,me(dn*pt)]},Yt}function wc(Le,pt){var Yt=M(Le),jt=(Yt+M(pt))/2;if(C(jt)<i)return fl(Le);var dn=1+Yt*(2*jt-Yt),Nn=ae(dn)/jt;function Kn(Un,br){var wr=ae(dn-2*jt*M(br))/jt;return[wr*M(Un*=jt),Nn-wr*U(Un)]}return Kn.invert=function(Un,br){var wr=Nn-br,Gn=R(Un,C(wr))*G(wr);return wr*jt<0&&(Gn-=o*G(Un)*G(wr)),[Gn/jt,me((dn-(Un*Un+wr*wr)*jt*jt)/(2*jt))]},Kn}function au(){return da(wc).scale(155.424).center([0,33.6442])}function uu(){return au().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Gu(Le){var pt=Le.length;return{point:function(Yt,jt){for(var dn=-1;++dn<pt;)Le[dn].point(Yt,jt)},sphere:function(){for(var Yt=-1;++Yt<pt;)Le[Yt].sphere()},lineStart:function(){for(var Yt=-1;++Yt<pt;)Le[Yt].lineStart()},lineEnd:function(){for(var Yt=-1;++Yt<pt;)Le[Yt].lineEnd()},polygonStart:function(){for(var Yt=-1;++Yt<pt;)Le[Yt].polygonStart()},polygonEnd:function(){for(var Yt=-1;++Yt<pt;)Le[Yt].polygonEnd()}}}function wu(){var Le,pt,Yt=uu(),jt,dn=au().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Nn,Kn=au().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Un,br,wr={point:function(er,gr){br=[er,gr]}};function Gn(er){var gr=er[0],Or=er[1];return br=null,jt.point(gr,Or),br||(Nn.point(gr,Or),br)||(Un.point(gr,Or),br)}Gn.invert=function(er){var gr=Yt.scale(),Or=Yt.translate(),di=(er[0]-Or[0])/gr,ni=(er[1]-Or[1])/gr;return(ni>=.12&&ni<.234&&di>=-.425&&di<-.214?dn:ni>=.166&&ni<.234&&di>=-.214&&di<-.115?Kn:Yt).invert(er)},Gn.stream=function(er){return Le&&pt===er?Le:Le=Gu([Yt.stream(pt=er),dn.stream(er),Kn.stream(er)])},Gn.precision=function(er){return arguments.length?(Yt.precision(er),dn.precision(er),Kn.precision(er),ar()):Yt.precision()},Gn.scale=function(er){return arguments.length?(Yt.scale(er),dn.scale(er*.35),Kn.scale(er),Gn.translate(Yt.translate())):Yt.scale()},Gn.translate=function(er){if(!arguments.length)return Yt.translate();var gr=Yt.scale(),Or=+er[0],di=+er[1];return jt=Yt.translate(er).clipExtent([[Or-.455*gr,di-.238*gr],[Or+.455*gr,di+.238*gr]]).stream(wr),Nn=dn.translate([Or-.307*gr,di+.201*gr]).clipExtent([[Or-.425*gr+i,di+.12*gr+i],[Or-.214*gr-i,di+.234*gr-i]]).stream(wr),Un=Kn.translate([Or-.205*gr,di+.212*gr]).clipExtent([[Or-.214*gr+i,di+.166*gr+i],[Or-.115*gr-i,di+.234*gr-i]]).stream(wr),ar()},Gn.fitExtent=function(er,gr){return Kt(Gn,er,gr)},Gn.fitSize=function(er,gr){return hn(Gn,er,gr)},Gn.fitWidth=function(er,gr){return Bn(Gn,er,gr)},Gn.fitHeight=function(er,gr){return jn(Gn,er,gr)};function ar(){return Le=pt=null,Gn}return Gn.scale(1070)}function Ac(Le){return function(pt,Yt){var jt=U(pt),dn=U(Yt),Nn=Le(jt*dn);return Nn===1/0?[2,0]:[Nn*dn*M(pt),Nn*M(Yt)]}}function Zo(Le){return function(pt,Yt){var jt=ae(pt*pt+Yt*Yt),dn=Le(jt),Nn=M(dn),Kn=U(dn);return[R(pt*Nn,jt*Kn),me(jt&&Yt*Nn/jt)]}}var Yu=Ac(function(Le){return ae(2/(1+Le))});Yu.invert=Zo(function(Le){return 2*me(Le/2)});function Gc(){return es(Yu).scale(124.75).clipAngle(180-.001)}var Qe=Ac(function(Le){return(Le=Z(Le))&&Le/M(Le)});Qe.invert=Zo(function(Le){return Le});function Gt(){return es(Qe).scale(79.4188).clipAngle(180-.001)}function Mn(Le,pt){return[Le,P(I((a+pt)/2))]}Mn.invert=function(Le,pt){return[Le,2*N(V(pt))-a]};function Yn(){return ri(Mn).scale(961/d)}function ri(Le){var pt=es(Le),Yt=pt.center,jt=pt.scale,dn=pt.translate,Nn=pt.clipExtent,Kn=null,Un,br,wr;pt.scale=function(ar){return arguments.length?(jt(ar),Gn()):jt()},pt.translate=function(ar){return arguments.length?(dn(ar),Gn()):dn()},pt.center=function(ar){return arguments.length?(Yt(ar),Gn()):Yt()},pt.clipExtent=function(ar){return arguments.length?(ar==null?Kn=Un=br=wr=null:(Kn=+ar[0][0],Un=+ar[0][1],br=+ar[1][0],wr=+ar[1][1]),Gn()):Kn==null?null:[[Kn,Un],[br,wr]]};function Gn(){var ar=o*jt(),er=pt(kt(pt.rotate()).invert([0,0]));return Nn(Kn==null?[[er[0]-ar,er[1]-ar],[er[0]+ar,er[1]+ar]]:Le===Mn?[[Math.max(er[0]-ar,Kn),Un],[Math.min(er[0]+ar,br),wr]]:[[Kn,Math.max(er[1]-ar,Un)],[br,Math.min(er[1]+ar,wr)]])}return Gn()}function Br(Le){return I((a+Le)/2)}function Xr(Le,pt){var Yt=U(Le),jt=Le===pt?M(Le):P(Yt/U(pt))/P(Br(pt)/Br(Le)),dn=Yt*$(Br(Le),jt)/jt;if(!jt)return Mn;function Nn(Kn,Un){dn>0?Un<-a+i&&(Un=-a+i):Un>a-i&&(Un=a-i);var br=dn/$(Br(Un),jt);return[br*M(jt*Kn),dn-br*U(jt*Kn)]}return Nn.invert=function(Kn,Un){var br=dn-Un,wr=G(jt)*ae(Kn*Kn+br*br),Gn=R(Kn,C(br))*G(br);return br*jt<0&&(Gn-=o*G(Kn)*G(br)),[Gn/jt,2*N($(dn/wr,1/jt))-a]},Nn}function Cs(){return da(Xr).scale(109.5).parallels([30,30])}function lo(Le,pt){return[Le,pt]}lo.invert=lo;function no(){return es(lo).scale(152.63)}function as(Le,pt){var Yt=U(Le),jt=Le===pt?M(Le):(Yt-U(pt))/(pt-Le),dn=Yt/jt+Le;if(C(jt)<i)return lo;function Nn(Kn,Un){var br=dn-Un,wr=jt*Kn;return[br*M(wr),dn-br*U(wr)]}return Nn.invert=function(Kn,Un){var br=dn-Un,wr=R(Kn,C(br))*G(br);return br*jt<0&&(wr-=o*G(Kn)*G(br)),[wr/jt,dn-G(jt)*ae(Kn*Kn+br*br)]},Nn}function ro(){return da(as).scale(131.154).center([0,13.9389])}var co=1.340264,hi=-.081106,Ei=893e-6,Vi=.003796,Ko=ae(3)/2,la=12;function ca(Le,pt){var Yt=me(Ko*M(pt)),jt=Yt*Yt,dn=jt*jt*jt;return[Le*U(Yt)/(Ko*(co+3*hi*jt+dn*(7*Ei+9*Vi*jt))),Yt*(co+hi*jt+dn*(Ei+Vi*jt))]}ca.invert=function(Le,pt){for(var Yt=pt,jt=Yt*Yt,dn=jt*jt*jt,Nn=0,Kn,Un,br;Nn<la&&(Un=Yt*(co+hi*jt+dn*(Ei+Vi*jt))-pt,br=co+3*hi*jt+dn*(7*Ei+9*Vi*jt),Yt-=Kn=Un/br,jt=Yt*Yt,dn=jt*jt*jt,!(C(Kn)<s));++Nn);return[Ko*Le*(co+3*hi*jt+dn*(7*Ei+9*Vi*jt))/U(Yt),me(M(Yt)/Ko)]};function fo(){return es(ca).scale(177.158)}function us(Le,pt){var Yt=U(pt),jt=U(Le)*Yt;return[Yt*M(Le)/jt,M(pt)/jt]}us.invert=Zo(N);function hs(){return es(us).scale(144.049).clipAngle(60)}function Xi(){var Le=1,pt=0,Yt=0,jt=1,dn=1,Nn=0,Kn,Un,br=null,wr,Gn,ar,er=1,gr=1,Or=ft({point:function(Ir,yi){var gi=qr([Ir,yi]);this.stream.point(gi[0],gi[1])}}),di=sr,ni,pi;function ii(){return er=Le*jt,gr=Le*dn,ni=pi=null,qr}function qr(Ir){var yi=Ir[0]*er,gi=Ir[1]*gr;if(Nn){var ss=gi*Kn-yi*Un;yi=yi*Kn+gi*Un,gi=ss}return[yi+pt,gi+Yt]}return qr.invert=function(Ir){var yi=Ir[0]-pt,gi=Ir[1]-Yt;if(Nn){var ss=gi*Kn+yi*Un;yi=yi*Kn-gi*Un,gi=ss}return[yi/er,gi/gr]},qr.stream=function(Ir){return ni&&pi===Ir?ni:ni=Or(di(pi=Ir))},qr.postclip=function(Ir){return arguments.length?(di=Ir,br=wr=Gn=ar=null,ii()):di},qr.clipExtent=function(Ir){return arguments.length?(di=Ir==null?(br=wr=Gn=ar=null,sr):qn(br=+Ir[0][0],wr=+Ir[0][1],Gn=+Ir[1][0],ar=+Ir[1][1]),ii()):br==null?null:[[br,wr],[Gn,ar]]},qr.scale=function(Ir){return arguments.length?(Le=+Ir,ii()):Le},qr.translate=function(Ir){return arguments.length?(pt=+Ir[0],Yt=+Ir[1],ii()):[pt,Yt]},qr.angle=function(Ir){return arguments.length?(Nn=Ir%360*b,Un=M(Nn),Kn=U(Nn),ii()):Nn*p},qr.reflectX=function(Ir){return arguments.length?(jt=Ir?-1:1,ii()):jt<0},qr.reflectY=function(Ir){return arguments.length?(dn=Ir?-1:1,ii()):dn<0},qr.fitExtent=function(Ir,yi){return Kt(qr,Ir,yi)},qr.fitSize=function(Ir,yi){return hn(qr,Ir,yi)},qr.fitWidth=function(Ir,yi){return Bn(qr,Ir,yi)},qr.fitHeight=function(Ir,yi){return jn(qr,Ir,yi)},qr}function lu(Le,pt){var Yt=pt*pt,jt=Yt*Yt;return[Le*(.8707-.131979*Yt+jt*(-.013791+jt*(.003971*Yt-.001529*jt))),pt*(1.007226+Yt*(.015085+jt*(-.044475+.028874*Yt-.005916*jt)))]}lu.invert=function(Le,pt){var Yt=pt,jt=25,dn;do{var Nn=Yt*Yt,Kn=Nn*Nn;Yt-=dn=(Yt*(1.007226+Nn*(.015085+Kn*(-.044475+.028874*Nn-.005916*Kn)))-pt)/(1.007226+Nn*(.015085*3+Kn*(-.044475*7+.028874*9*Nn-.005916*11*Kn)))}while(C(dn)>i&&--jt>0);return[Le/(.8707+(Nn=Yt*Yt)*(-.131979+Nn*(-.013791+Nn*Nn*Nn*(.003971-.001529*Nn)))),Yt]};function Is(){return es(lu).scale(175.295)}function ha(Le,pt){return[U(pt)*M(Le),M(pt)]}ha.invert=Zo(me);function ia(){return es(ha).scale(249.5).clipAngle(90+i)}function Ni(Le,pt){var Yt=U(pt),jt=1+U(Le)*Yt;return[Yt*M(Le)/jt,M(pt)/jt]}Ni.invert=Zo(function(Le){return 2*N(Le)});function Ho(){return es(Ni).scale(250).clipAngle(142)}function ys(Le,pt){return[P(I((a+pt)/2)),-Le]}ys.invert=function(Le,pt){return[-pt,2*N(V(Le))-a]};function Ii(){var Le=ri(ys),pt=Le.center,Yt=Le.rotate;return Le.center=function(jt){return arguments.length?pt([-jt[1],jt[0]]):(jt=pt(),[jt[1],-jt[0]])},Le.rotate=function(jt){return arguments.length?Yt([jt[0],jt[1],jt.length>2?jt[2]+90:90]):(jt=Yt(),[jt[0],jt[1],jt[2]-90])},Yt([0,0,90]).scale(159.155)}var Do=Math.abs,Oa=Math.cos,Ga=Math.sin,Oo=1e-6,Ao=Math.PI,ja=Ao/2,cu=sa(2);function qa(Le){return Le>1?ja:Le<-1?-ja:Math.asin(Le)}function sa(Le){return Le>0?Math.sqrt(Le):0}function oa(Le,pt){var Yt=Le*Ga(pt),jt=30,dn;do pt-=dn=(pt+Ga(pt)-Yt)/(1+Oa(pt));while(Do(dn)>Oo&&--jt>0);return pt/2}function dl(Le,pt,Yt){function jt(dn,Nn){return[Le*dn*Oa(Nn=oa(Yt,Nn)),pt*Ga(Nn)]}return jt.invert=function(dn,Nn){return Nn=qa(Nn/pt),[dn/(Le*Oa(Nn)),qa((2*Nn+Ga(2*Nn))/Yt)]},jt}var Pl=dl(cu/ja,cu,Ao);function ea(){return es(Pl).scale(169.529)}let Ku=_e(),ui=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function ns(Le,pt){return function Yt(){let jt=pt();return jt.type=Le,jt.path=_e().projection(jt),jt.copy=jt.copy||function(){let dn=Yt();return ui.forEach(Nn=>{jt[Nn]&&dn[Nn](jt[Nn]())}),dn.path.pointRadius(jt.path.pointRadius()),dn},jt}}function ls(Le,pt){if(!Le||typeof Le!="string")throw new Error("Projection type must be a name string.");return Le=Le.toLowerCase(),arguments.length>1?(rs[Le]=ns(Le,pt),this):rs[Le]||null}function pr(Le){return Le&&Le.path||Ku}let rs={albers:uu,albersusa:wu,azimuthalequalarea:Gc,azimuthalequidistant:Gt,conicconformal:Cs,conicequalarea:au,conicequidistant:ro,equalEarth:fo,equirectangular:no,gnomonic:hs,identity:Xi,mercator:Yn,mollweide:ea,naturalEarth1:Is,orthographic:ia,stereographic:Ho,transversemercator:Ii};for(let Le in rs)ls(Le,rs[Le]);n.getProjectionPath=pr,n.projection=ls,n.projectionProperties=ui,Object.defineProperty(n,"__esModule",{value:!0})})});var QAe=we(($z,WAe)=>{m();(function(n,e){typeof $z=="object"&&typeof WAe!="undefined"?e($z,Jf(),Su(),Fb(),qae(),sN()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util","vega-statistics","vega-projection","vega-canvas"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})($z,function(n,e,t,r,i,s){"use strict";var o=Math.sqrt(50),a=Math.sqrt(10),c=Math.sqrt(2);function d(ne,Se,Ve){var nt=Math.abs(Se-ne)/Math.max(0,Ve),Bt=Math.pow(10,Math.floor(Math.log(nt)/Math.LN10)),rn=nt/Bt;return rn>=o?Bt*=10:rn>=a?Bt*=5:rn>=c&&(Bt*=2),Se<ne?-Bt:Bt}function p(ne,Se){let Ve;if(Se===void 0)for(let nt of ne)nt!=null&&(Ve<nt||Ve===void 0&&nt>=nt)&&(Ve=nt);else{let nt=-1;for(let Bt of ne)(Bt=Se(Bt,++nt,ne))!=null&&(Ve<Bt||Ve===void 0&&Bt>=Bt)&&(Ve=Bt)}return Ve}function b(ne,Se,Ve){ne=+ne,Se=+Se,Ve=(Bt=arguments.length)<2?(Se=ne,ne=0,1):Bt<3?1:+Ve;for(var nt=-1,Bt=Math.max(0,Math.ceil((Se-ne)/Ve))|0,rn=new Array(Bt);++nt<Bt;)rn[nt]=ne+nt*Ve;return rn}function C(ne,Se){let Ve=0;if(Se===void 0)for(let nt of ne)(nt=+nt)&&(Ve+=nt);else{let nt=-1;for(let Bt of ne)(Bt=+Se(Bt,++nt,ne))&&(Ve+=Bt)}return Ve}function N(){}let R=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function U(){var ne=1,Se=1,Ve=vn;function nt(xn,zn){return zn.map(Oe=>Bt(xn,Oe))}function Bt(xn,zn){var Oe=[],qe=[];return rn(xn,zn,Ct=>{Ve(Ct,xn,zn),V(Ct)>0?Oe.push([Ct]):qe.push(Ct)}),qe.forEach(Ct=>{for(var O=0,H=Oe.length,ve;O<H;++O)if(P((ve=Oe[O])[0],Ct)!==-1){ve.push(Ct);return}}),{type:"MultiPolygon",value:zn,coordinates:Oe}}function rn(xn,zn,Oe){var qe=new Array,Ct=new Array,O,H,ve,pe,K,oe;for(O=H=-1,pe=xn[0]>=zn,R[pe<<1].forEach(le);++O<ne-1;)ve=pe,pe=xn[O+1]>=zn,R[ve|pe<<1].forEach(le);for(R[pe<<0].forEach(le);++H<Se-1;){for(O=-1,pe=xn[H*ne+ne]>=zn,K=xn[H*ne]>=zn,R[pe<<1|K<<2].forEach(le);++O<ne-1;)ve=pe,pe=xn[H*ne+ne+O+1]>=zn,oe=K,K=xn[H*ne+O+1]>=zn,R[ve|pe<<1|K<<2|oe<<3].forEach(le);R[pe|K<<3].forEach(le)}for(O=-1,K=xn[H*ne]>=zn,R[K<<2].forEach(le);++O<ne-1;)oe=K,K=xn[H*ne+O+1]>=zn,R[K<<2|oe<<3].forEach(le);R[K<<3].forEach(le);function le(We){var Rt=[We[0][0]+O,We[0][1]+H],bt=[We[1][0]+O,We[1][1]+H],ln=Sn(Rt),S=Sn(bt),B,ee;(B=Ct[ln])?(ee=qe[S])?(delete Ct[B.end],delete qe[ee.start],B===ee?(B.ring.push(bt),Oe(B.ring)):qe[B.start]=Ct[ee.end]={start:B.start,end:ee.end,ring:B.ring.concat(ee.ring)}):(delete Ct[B.end],B.ring.push(bt),Ct[B.end=S]=B):(B=qe[S])?(ee=Ct[ln])?(delete qe[B.start],delete Ct[ee.end],B===ee?(B.ring.push(bt),Oe(B.ring)):qe[ee.start]=Ct[B.end]={start:ee.start,end:B.end,ring:ee.ring.concat(B.ring)}):(delete qe[B.start],B.ring.unshift(Rt),qe[B.start=ln]=B):qe[ln]=Ct[S]={start:ln,end:S,ring:[Rt,bt]}}}function Sn(xn){return xn[0]*2+xn[1]*(ne+1)*4}function vn(xn,zn,Oe){xn.forEach(qe=>{var Ct=qe[0],O=qe[1],H=Ct|0,ve=O|0,pe,K=zn[ve*ne+H];Ct>0&&Ct<ne&&H===Ct&&(pe=zn[ve*ne+H-1],qe[0]=Ct+(Oe-pe)/(K-pe)-.5),O>0&&O<Se&&ve===O&&(pe=zn[(ve-1)*ne+H],qe[1]=O+(Oe-pe)/(K-pe)-.5)})}return nt.contour=Bt,nt.size=function(xn){if(!arguments.length)return[ne,Se];var zn=Math.floor(xn[0]),Oe=Math.floor(xn[1]);return zn>=0&&Oe>=0||t.error("invalid size"),ne=zn,Se=Oe,nt},nt.smooth=function(xn){return arguments.length?(Ve=xn?vn:N,nt):Ve===vn},nt}function V(ne){for(var Se=0,Ve=ne.length,nt=ne[Ve-1][1]*ne[0][0]-ne[Ve-1][0]*ne[0][1];++Se<Ve;)nt+=ne[Se-1][1]*ne[Se][0]-ne[Se-1][0]*ne[Se][1];return nt}function P(ne,Se){for(var Ve=-1,nt=Se.length,Bt;++Ve<nt;)if(Bt=$(ne,Se[Ve]))return Bt;return 0}function $(ne,Se){for(var Ve=Se[0],nt=Se[1],Bt=-1,rn=0,Sn=ne.length,vn=Sn-1;rn<Sn;vn=rn++){var xn=ne[rn],zn=xn[0],Oe=xn[1],qe=ne[vn],Ct=qe[0],O=qe[1];if(M(xn,qe,Se))return 0;Oe>nt!=O>nt&&Ve<(Ct-zn)*(nt-Oe)/(O-Oe)+zn&&(Bt=-Bt)}return Bt}function M(ne,Se,Ve){var nt;return G(ne,Se,Ve)&&ae(ne[nt=+(ne[0]===Se[0])],Ve[nt],Se[nt])}function G(ne,Se,Ve){return(Se[0]-ne[0])*(Ve[1]-ne[1])===(Ve[0]-ne[0])*(Se[1]-ne[1])}function ae(ne,Se,Ve){return ne<=Se&&Se<=Ve||Ve<=Se&&Se<=ne}function I(ne,Se,Ve){return function(nt){var Bt=t.extent(nt),rn=Ve?Math.min(Bt[0],0):Bt[0],Sn=Bt[1],vn=Sn-rn,xn=Se?d(rn,Sn,ne):vn/(ne+1);return b(rn+xn,Sn,xn)}}function Z(ne){e.Transform.call(this,null,ne)}Z.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},t.inherits(Z,e.Transform,{transform(ne,Se){if(this.value&&!Se.changed()&&!ne.modified())return Se.StopPropagation;var Ve=Se.fork(Se.NO_SOURCE|Se.NO_FIELDS),nt=Se.materialize(Se.SOURCE).source,Bt=ne.field||t.identity,rn=U().smooth(ne.smooth!==!1),Sn=ne.thresholds||me(nt,Bt,ne),vn=ne.as===null?null:ne.as||"contour",xn=[];return nt.forEach(zn=>{let Oe=Bt(zn),qe=rn.size([Oe.width,Oe.height])(Oe.values,t.isArray(Sn)?Sn:Sn(Oe.values));ye(qe,Oe,zn,ne),qe.forEach(Ct=>{xn.push(e.rederive(zn,e.ingest(vn!=null?{[vn]:Ct}:Ct)))})}),this.value&&(Ve.rem=this.value),this.value=Ve.source=Ve.add=xn,Ve}});function me(ne,Se,Ve){let nt=I(Ve.levels||10,Ve.nice,Ve.zero!==!1);return Ve.resolve!=="shared"?nt:nt(ne.map(Bt=>p(Se(Bt).values)))}function ye(ne,Se,Ve,nt){let Bt=nt.scale||Se.scale,rn=nt.translate||Se.translate;if(t.isFunction(Bt)&&(Bt=Bt(Ve,nt)),t.isFunction(rn)&&(rn=rn(Ve,nt)),(Bt===1||Bt==null)&&!rn)return;let Sn=(t.isNumber(Bt)?Bt:Bt[0])||1,vn=(t.isNumber(Bt)?Bt:Bt[1])||1,xn=rn&&rn[0]||0,zn=rn&&rn[1]||0;ne.forEach(He(Se,Sn,vn,xn,zn))}function He(ne,Se,Ve,nt,Bt){let rn=ne.x1||0,Sn=ne.y1||0,vn=Se*Ve<0;function xn(qe){qe.forEach(zn)}function zn(qe){vn&&qe.reverse(),qe.forEach(Oe)}function Oe(qe){qe[0]=(qe[0]-rn)*Se+nt,qe[1]=(qe[1]-Sn)*Ve+Bt}return function(qe){return qe.coordinates.forEach(xn),qe}}function ot(ne,Se,Ve){let nt=ne>=0?ne:r.bandwidthNRD(Se,Ve);return Math.round((Math.sqrt(4*nt*nt+1)-1)/2)}function at(ne){return t.isFunction(ne)?ne:t.constant(+ne)}function Ze(){var ne=xn=>xn[0],Se=xn=>xn[1],Ve=t.one,nt=[-1,-1],Bt=960,rn=500,Sn=2;function vn(xn,zn){let Oe=ot(nt[0],xn,ne)>>Sn,qe=ot(nt[1],xn,Se)>>Sn,Ct=Oe?Oe+2:0,O=qe?qe+2:0,H=2*Ct+(Bt>>Sn),ve=2*O+(rn>>Sn),pe=new Float32Array(H*ve),K=new Float32Array(H*ve),oe=pe;xn.forEach(We=>{let Rt=Ct+(+ne(We)>>Sn),bt=O+(+Se(We)>>Sn);Rt>=0&&Rt<H&&bt>=0&&bt<ve&&(pe[Rt+bt*H]+=+Ve(We))}),Oe>0&&qe>0?(Tt(H,ve,pe,K,Oe),Mt(H,ve,K,pe,qe),Tt(H,ve,pe,K,Oe),Mt(H,ve,K,pe,qe),Tt(H,ve,pe,K,Oe),Mt(H,ve,K,pe,qe)):Oe>0?(Tt(H,ve,pe,K,Oe),Tt(H,ve,K,pe,Oe),Tt(H,ve,pe,K,Oe),oe=K):qe>0&&(Mt(H,ve,pe,K,qe),Mt(H,ve,K,pe,qe),Mt(H,ve,pe,K,qe),oe=K);let le=zn?Math.pow(2,-2*Sn):1/C(oe);for(let We=0,Rt=H*ve;We<Rt;++We)oe[We]*=le;return{values:oe,scale:1<<Sn,width:H,height:ve,x1:Ct,y1:O,x2:Ct+(Bt>>Sn),y2:O+(rn>>Sn)}}return vn.x=function(xn){return arguments.length?(ne=at(xn),vn):ne},vn.y=function(xn){return arguments.length?(Se=at(xn),vn):Se},vn.weight=function(xn){return arguments.length?(Ve=at(xn),vn):Ve},vn.size=function(xn){if(!arguments.length)return[Bt,rn];var zn=+xn[0],Oe=+xn[1];return zn>=0&&Oe>=0||t.error("invalid size"),Bt=zn,rn=Oe,vn},vn.cellSize=function(xn){return arguments.length?((xn=+xn)>=1||t.error("invalid cell size"),Sn=Math.floor(Math.log(xn)/Math.LN2),vn):1<<Sn},vn.bandwidth=function(xn){return arguments.length?(xn=t.array(xn),xn.length===1&&(xn=[+xn[0],+xn[0]]),xn.length!==2&&t.error("invalid bandwidth"),nt=xn,vn):nt},vn}function Tt(ne,Se,Ve,nt,Bt){let rn=(Bt<<1)+1;for(let Sn=0;Sn<Se;++Sn)for(let vn=0,xn=0;vn<ne+Bt;++vn)vn<ne&&(xn+=Ve[vn+Sn*ne]),vn>=Bt&&(vn>=rn&&(xn-=Ve[vn-rn+Sn*ne]),nt[vn-Bt+Sn*ne]=xn/Math.min(vn+1,ne-1+rn-vn,rn))}function Mt(ne,Se,Ve,nt,Bt){let rn=(Bt<<1)+1;for(let Sn=0;Sn<ne;++Sn)for(let vn=0,xn=0;vn<Se+Bt;++vn)vn<Se&&(xn+=Ve[Sn+vn*ne]),vn>=Bt&&(vn>=rn&&(xn-=Ve[Sn+(vn-rn)*ne]),nt[Sn+(vn-Bt)*ne]=xn/Math.min(vn+1,Se-1+rn-vn,rn))}function Ue(ne){e.Transform.call(this,null,ne)}Ue.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};let te=["x","y","weight","size","cellSize","bandwidth"];function st(ne,Se){return te.forEach(Ve=>Se[Ve]!=null?ne[Ve](Se[Ve]):0),ne}t.inherits(Ue,e.Transform,{transform(ne,Se){if(this.value&&!Se.changed()&&!ne.modified())return Se.StopPropagation;var Ve=Se.fork(Se.NO_SOURCE|Se.NO_FIELDS),nt=Se.materialize(Se.SOURCE).source,Bt=be(nt,ne.groupby),rn=(ne.groupby||[]).map(t.accessorName),Sn=st(Ze(),ne),vn=ne.as||"grid",xn=[];function zn(Oe,qe){for(let Ct=0;Ct<rn.length;++Ct)Oe[rn[Ct]]=qe[Ct];return Oe}return xn=Bt.map(Oe=>e.ingest(zn({[vn]:Sn(Oe,ne.counts)},Oe.dims))),this.value&&(Ve.rem=this.value),this.value=Ve.source=Ve.add=xn,Ve}});function be(ne,Se){var Ve=[],nt=Oe=>Oe(vn),Bt,rn,Sn,vn,xn,zn;if(Se==null)Ve.push(ne);else for(Bt={},rn=0,Sn=ne.length;rn<Sn;++rn)vn=ne[rn],xn=Se.map(nt),zn=Bt[xn],zn||(Bt[xn]=zn=[],zn.dims=xn,Ve.push(zn)),zn.push(vn);return Ve}function Re(ne){e.Transform.call(this,null,ne)}Re.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},t.inherits(Re,e.Transform,{transform(ne,Se){if(this.value&&!Se.changed()&&!ne.modified())return Se.StopPropagation;var Ve=Se.fork(Se.NO_SOURCE|Se.NO_FIELDS),nt=U().smooth(ne.smooth!==!1),Bt=ne.values,rn=ne.thresholds||I(ne.count||10,ne.nice,!!Bt),Sn=ne.size,vn,xn;return Bt||(Bt=Se.materialize(Se.SOURCE).source,vn=st(Ze(),ne)(Bt,!0),xn=He(vn,vn.scale||1,vn.scale||1,0,0),Sn=[vn.width,vn.height],Bt=vn.values),rn=t.isArray(rn)?rn:rn(Bt),Bt=nt.size(Sn)(Bt,rn),xn&&Bt.forEach(xn),this.value&&(Ve.rem=this.value),this.value=Ve.source=Ve.add=(Bt||[]).map(e.ingest),Ve}});let Ae="Feature",xe="FeatureCollection",Je="MultiPoint";function lt(ne){e.Transform.call(this,null,ne)}lt.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},t.inherits(lt,e.Transform,{transform(ne,Se){var Ve=this._features,nt=this._points,Bt=ne.fields,rn=Bt&&Bt[0],Sn=Bt&&Bt[1],vn=ne.geojson||!Bt&&t.identity,xn=Se.ADD,zn;zn=ne.modified()||Se.changed(Se.REM)||Se.modified(t.accessorFields(vn))||rn&&Se.modified(t.accessorFields(rn))||Sn&&Se.modified(t.accessorFields(Sn)),(!this.value||zn)&&(xn=Se.SOURCE,this._features=Ve=[],this._points=nt=[]),vn&&Se.visit(xn,Oe=>Ve.push(vn(Oe))),rn&&Sn&&(Se.visit(xn,Oe=>{var qe=rn(Oe),Ct=Sn(Oe);qe!=null&&Ct!=null&&(qe=+qe)===qe&&(Ct=+Ct)===Ct&&nt.push([qe,Ct])}),Ve=Ve.concat({type:Ae,geometry:{type:Je,coordinates:nt}})),this.value={type:xe,features:Ve}}});function Qt(ne){e.Transform.call(this,null,ne)}Qt.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},t.inherits(Qt,e.Transform,{transform(ne,Se){var Ve=Se.fork(Se.ALL),nt=this.value,Bt=ne.field||t.identity,rn=ne.as||"path",Sn=Ve.SOURCE;!nt||ne.modified()?(this.value=nt=i.getProjectionPath(ne.projection),Ve.materialize().reflow()):Sn=Bt===t.identity||Se.modified(Bt.fields)?Ve.ADD_MOD:Ve.ADD;let vn=Et(nt,ne.pointRadius);return Ve.visit(Sn,xn=>xn[rn]=nt(Bt(xn))),nt.pointRadius(vn),Ve.modifies(rn)}});function Et(ne,Se){let Ve=ne.pointRadius();return ne.context(null),Se!=null&&ne.pointRadius(Se),Ve}function mn(ne){e.Transform.call(this,null,ne)}mn.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},t.inherits(mn,e.Transform,{transform(ne,Se){var Ve=ne.projection,nt=ne.fields[0],Bt=ne.fields[1],rn=ne.as||["x","y"],Sn=rn[0],vn=rn[1],xn;function zn(Oe){let qe=Ve([nt(Oe),Bt(Oe)]);qe?(Oe[Sn]=qe[0],Oe[vn]=qe[1]):(Oe[Sn]=void 0,Oe[vn]=void 0)}return ne.modified()?Se=Se.materialize().reflow(!0).visit(Se.SOURCE,zn):(xn=Se.modified(nt.fields)||Se.modified(Bt.fields),Se.visit(xn?Se.ADD_MOD:Se.ADD,zn)),Se.modifies(rn)}});function Lt(ne){e.Transform.call(this,null,ne)}Lt.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},t.inherits(Lt,e.Transform,{transform(ne,Se){var Ve=Se.fork(Se.ALL),nt=this.value,Bt=ne.as||"shape",rn=Ve.ADD;return(!nt||ne.modified())&&(this.value=nt=kt(i.getProjectionPath(ne.projection),ne.field||t.field("datum"),ne.pointRadius),Ve.materialize().reflow(),rn=Ve.SOURCE),Ve.visit(rn,Sn=>Sn[Bt]=nt),Ve.modifies(Bt)}});function kt(ne,Se,Ve){let nt=Ve==null?Bt=>ne(Se(Bt)):Bt=>{var rn=ne.pointRadius(),Sn=ne.pointRadius(Ve)(Se(Bt));return ne.pointRadius(rn),Sn};return nt.context=Bt=>(ne.context(Bt),nt),nt}var cn=1e-6,wt=Math.abs,Ee=Math.ceil;function Ie(ne,Se,Ve){var nt=b(ne,Se-cn,Ve).concat(Se);return function(Bt){return nt.map(function(rn){return[Bt,rn]})}}function Ce(ne,Se,Ve){var nt=b(ne,Se-cn,Ve).concat(Se);return function(Bt){return nt.map(function(rn){return[rn,Bt]})}}function fe(){var ne,Se,Ve,nt,Bt,rn,Sn,vn,xn=10,zn=xn,Oe=90,qe=360,Ct,O,H,ve,pe=2.5;function K(){return{type:"MultiLineString",coordinates:oe()}}function oe(){return b(Ee(nt/Oe)*Oe,Ve,Oe).map(H).concat(b(Ee(vn/qe)*qe,Sn,qe).map(ve)).concat(b(Ee(Se/xn)*xn,ne,xn).filter(function(le){return wt(le%Oe)>cn}).map(Ct)).concat(b(Ee(rn/zn)*zn,Bt,zn).filter(function(le){return wt(le%qe)>cn}).map(O))}return K.lines=function(){return oe().map(function(le){return{type:"LineString",coordinates:le}})},K.outline=function(){return{type:"Polygon",coordinates:[H(nt).concat(ve(Sn).slice(1),H(Ve).reverse().slice(1),ve(vn).reverse().slice(1))]}},K.extent=function(le){return arguments.length?K.extentMajor(le).extentMinor(le):K.extentMinor()},K.extentMajor=function(le){return arguments.length?(nt=+le[0][0],Ve=+le[1][0],vn=+le[0][1],Sn=+le[1][1],nt>Ve&&(le=nt,nt=Ve,Ve=le),vn>Sn&&(le=vn,vn=Sn,Sn=le),K.precision(pe)):[[nt,vn],[Ve,Sn]]},K.extentMinor=function(le){return arguments.length?(Se=+le[0][0],ne=+le[1][0],rn=+le[0][1],Bt=+le[1][1],Se>ne&&(le=Se,Se=ne,ne=le),rn>Bt&&(le=rn,rn=Bt,Bt=le),K.precision(pe)):[[Se,rn],[ne,Bt]]},K.step=function(le){return arguments.length?K.stepMajor(le).stepMinor(le):K.stepMinor()},K.stepMajor=function(le){return arguments.length?(Oe=+le[0],qe=+le[1],K):[Oe,qe]},K.stepMinor=function(le){return arguments.length?(xn=+le[0],zn=+le[1],K):[xn,zn]},K.precision=function(le){return arguments.length?(pe=+le,Ct=Ie(rn,Bt,90),O=Ce(Se,ne,pe),H=Ie(vn,Sn,90),ve=Ce(nt,Ve,pe),K):pe},K.extentMajor([[-180,-90+cn],[180,90-cn]]).extentMinor([[-180,-80-cn],[180,80+cn]])}function rt(ne){e.Transform.call(this,[],ne),this.generator=fe()}rt.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},t.inherits(rt,e.Transform,{transform(ne,Se){var Ve=this.value,nt=this.generator,Bt;if(!Ve.length||ne.modified())for(let rn in ne)t.isFunction(nt[rn])&&nt[rn](ne[rn]);return Bt=nt(),Ve.length?Se.mod.push(e.replace(Ve[0],Bt)):Se.add.push(e.ingest(Bt)),Ve[0]=Bt,Se}});function Xe(ne,Se,Ve){ne.prototype=Se.prototype=Ve,Ve.constructor=ne}function de(ne,Se){var Ve=Object.create(ne.prototype);for(var nt in Se)Ve[nt]=Se[nt];return Ve}function Ge(){}var Ot=.7,Nt=1/Ot,zt="\\s*([+-]?\\d+)\\s*",en="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bn=/^#([0-9a-f]{3,8})$/,Tn=new RegExp("^rgb\\("+[zt,zt,zt]+"\\)$"),Dn=new RegExp("^rgb\\("+[Xt,Xt,Xt]+"\\)$"),Ut=new RegExp("^rgba\\("+[zt,zt,zt,en]+"\\)$"),pn=new RegExp("^rgba\\("+[Xt,Xt,Xt,en]+"\\)$"),qn=new RegExp("^hsl\\("+[en,Xt,Xt]+"\\)$"),sr=new RegExp("^hsla\\("+[en,Xt,Xt,en]+"\\)$"),In={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xe(Ge,qt,{copy:function(ne){return Object.assign(new this.constructor,this,ne)},displayable:function(){return this.rgb().displayable()},hex:Ne,formatHex:Ne,formatHsl:$e,formatRgb:De,toString:De});function Ne(){return this.rgb().formatHex()}function $e(){return Ye(this).formatHsl()}function De(){return this.rgb().formatRgb()}function qt(ne){var Se,Ve;return ne=(ne+"").trim().toLowerCase(),(Se=bn.exec(ne))?(Ve=Se[1].length,Se=parseInt(Se[1],16),Ve===6?yt(Se):Ve===3?new Fn(Se>>8&15|Se>>4&240,Se>>4&15|Se&240,(Se&15)<<4|Se&15,1):Ve===8?mt(Se>>24&255,Se>>16&255,Se>>8&255,(Se&255)/255):Ve===4?mt(Se>>12&15|Se>>8&240,Se>>8&15|Se>>4&240,Se>>4&15|Se&240,((Se&15)<<4|Se&15)/255):null):(Se=Tn.exec(ne))?new Fn(Se[1],Se[2],Se[3],1):(Se=Dn.exec(ne))?new Fn(Se[1]*255/100,Se[2]*255/100,Se[3]*255/100,1):(Se=Ut.exec(ne))?mt(Se[1],Se[2],Se[3],Se[4]):(Se=pn.exec(ne))?mt(Se[1]*255/100,Se[2]*255/100,Se[3]*255/100,Se[4]):(Se=qn.exec(ne))?or(Se[1],Se[2]/100,Se[3]/100,1):(Se=sr.exec(ne))?or(Se[1],Se[2]/100,Se[3]/100,Se[4]):In.hasOwnProperty(ne)?yt(In[ne]):ne==="transparent"?new Fn(NaN,NaN,NaN,0):null}function yt(ne){return new Fn(ne>>16&255,ne>>8&255,ne&255,1)}function mt(ne,Se,Ve,nt){return nt<=0&&(ne=Se=Ve=NaN),new Fn(ne,Se,Ve,nt)}function nn(ne){return ne instanceof Ge||(ne=qt(ne)),ne?(ne=ne.rgb(),new Fn(ne.r,ne.g,ne.b,ne.opacity)):new Fn}function Wt(ne,Se,Ve,nt){return arguments.length===1?nn(ne):new Fn(ne,Se,Ve,nt??1)}function Fn(ne,Se,Ve,nt){this.r=+ne,this.g=+Se,this.b=+Ve,this.opacity=+nt}Xe(Fn,Wt,de(Ge,{brighter:function(ne){return ne=ne==null?Nt:Math.pow(Nt,ne),new Fn(this.r*ne,this.g*ne,this.b*ne,this.opacity)},darker:function(ne){return ne=ne==null?Ot:Math.pow(Ot,ne),new Fn(this.r*ne,this.g*ne,this.b*ne,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qn,formatHex:Qn,formatRgb:Zn,toString:Zn}));function Qn(){return"#"+Pn(this.r)+Pn(this.g)+Pn(this.b)}function Zn(){var ne=this.opacity;return ne=isNaN(ne)?1:Math.max(0,Math.min(1,ne)),(ne===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ne===1?")":", "+ne+")")}function Pn(ne){return ne=Math.max(0,Math.min(255,Math.round(ne)||0)),(ne<16?"0":"")+ne.toString(16)}function or(ne,Se,Ve,nt){return nt<=0?ne=Se=Ve=NaN:Ve<=0||Ve>=1?ne=Se=NaN:Se<=0&&(ne=NaN),new se(ne,Se,Ve,nt)}function Ye(ne){if(ne instanceof se)return new se(ne.h,ne.s,ne.l,ne.opacity);if(ne instanceof Ge||(ne=qt(ne)),!ne)return new se;if(ne instanceof se)return ne;ne=ne.rgb();var Se=ne.r/255,Ve=ne.g/255,nt=ne.b/255,Bt=Math.min(Se,Ve,nt),rn=Math.max(Se,Ve,nt),Sn=NaN,vn=rn-Bt,xn=(rn+Bt)/2;return vn?(Se===rn?Sn=(Ve-nt)/vn+(Ve<nt)*6:Ve===rn?Sn=(nt-Se)/vn+2:Sn=(Se-Ve)/vn+4,vn/=xn<.5?rn+Bt:2-rn-Bt,Sn*=60):vn=xn>0&&xn<1?0:Sn,new se(Sn,vn,xn,ne.opacity)}function gt(ne,Se,Ve,nt){return arguments.length===1?Ye(ne):new se(ne,Se,Ve,nt??1)}function se(ne,Se,Ve,nt){this.h=+ne,this.s=+Se,this.l=+Ve,this.opacity=+nt}Xe(se,gt,de(Ge,{brighter:function(ne){return ne=ne==null?Nt:Math.pow(Nt,ne),new se(this.h,this.s,this.l*ne,this.opacity)},darker:function(ne){return ne=ne==null?Ot:Math.pow(Ot,ne),new se(this.h,this.s,this.l*ne,this.opacity)},rgb:function(){var ne=this.h%360+(this.h<0)*360,Se=isNaN(ne)||isNaN(this.s)?0:this.s,Ve=this.l,nt=Ve+(Ve<.5?Ve:1-Ve)*Se,Bt=2*Ve-nt;return new Fn(Pe(ne>=240?ne-240:ne+120,Bt,nt),Pe(ne,Bt,nt),Pe(ne<120?ne+240:ne-120,Bt,nt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ne=this.opacity;return ne=isNaN(ne)?1:Math.max(0,Math.min(1,ne)),(ne===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ne===1?")":", "+ne+")")}}));function Pe(ne,Se,Ve){return(ne<60?Se+(Ve-Se)*ne/60:ne<180?Ve:ne<240?Se+(Ve-Se)*(240-ne)/60:Se)*255}function et(ne){e.Transform.call(this,null,ne)}et.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},t.inherits(et,e.Transform,{transform(ne,Se){if(!Se.changed()&&!ne.modified())return Se.StopPropagation;var Ve=Se.materialize(Se.SOURCE).source,nt=ne.resolve==="shared",Bt=ne.field||t.identity,rn=fn(ne.opacity,ne),Sn=At(ne.color,ne),vn=ne.as||"image",xn={$x:0,$y:0,$value:0,$max:nt?p(Ve.map(zn=>p(Bt(zn).values))):0};return Ve.forEach(zn=>{let Oe=Bt(zn),qe=t.extend({},zn,xn);nt||(qe.$max=p(Oe.values||[])),zn[vn]=ct(Oe,qe,Sn.dep?Sn:t.constant(Sn(qe)),rn.dep?rn:t.constant(rn(qe)))}),Se.reflow(!0).modifies(vn)}});function At(ne,Se){let Ve;return t.isFunction(ne)?(Ve=nt=>Wt(ne(nt,Se)),Ve.dep=on(ne)):Ve=t.constant(Wt(ne||"#888")),Ve}function fn(ne,Se){let Ve;return t.isFunction(ne)?(Ve=nt=>ne(nt,Se),Ve.dep=on(ne)):ne?Ve=t.constant(ne):(Ve=nt=>nt.$value/nt.$max||0,Ve.dep=!0),Ve}function on(ne){if(!t.isFunction(ne))return!1;let Se=t.toSet(t.accessorFields(ne));return Se.$x||Se.$y||Se.$value||Se.$max}function ct(ne,Se,Ve,nt){let Bt=ne.width,rn=ne.height,Sn=ne.x1||0,vn=ne.y1||0,xn=ne.x2||Bt,zn=ne.y2||rn,Oe=ne.values,qe=Oe?pe=>Oe[pe]:t.zero,Ct=s.canvas(xn-Sn,zn-vn),O=Ct.getContext("2d"),H=O.getImageData(0,0,xn-Sn,zn-vn),ve=H.data;for(let pe=vn,K=0;pe<zn;++pe){Se.$y=pe-vn;for(let oe=Sn,le=pe*Bt;oe<xn;++oe,K+=4){Se.$x=oe-Sn,Se.$value=qe(oe+le);let We=Ve(Se);ve[K+0]=We.r,ve[K+1]=We.g,ve[K+2]=We.b,ve[K+3]=~~(255*nt(Se))}}return O.putImageData(H,0,0),Ct}function re(ne){e.Transform.call(this,null,ne),this.modified(!0)}t.inherits(re,e.Transform,{transform(ne,Se){let Ve=this.value;return!Ve||ne.modified("type")?(this.value=Ve=je(ne.type),i.projectionProperties.forEach(nt=>{ne[nt]!=null&&ht(Ve,nt,ne[nt])})):i.projectionProperties.forEach(nt=>{ne.modified(nt)&&ht(Ve,nt,ne[nt])}),ne.pointRadius!=null&&Ve.path.pointRadius(ne.pointRadius),ne.fit&&Te(Ve,ne),Se.fork(Se.NO_SOURCE|Se.NO_FIELDS)}});function Te(ne,Se){let Ve=vt(Se.fit);Se.extent?ne.fitExtent(Se.extent,Ve):Se.size&&ne.fitSize(Se.size,Ve)}function je(ne){let Se=i.projection((ne||"mercator").toLowerCase());return Se||t.error("Unrecognized projection type: "+ne),Se()}function ht(ne,Se,Ve){t.isFunction(ne[Se])&&ne[Se](Ve)}function vt(ne){return ne=t.array(ne),ne.length===1?ne[0]:{type:xe,features:ne.reduce((Se,Ve)=>Se.concat(Ft(Ve)),[])}}function Ft(ne){return ne.type===xe?ne.features:t.array(ne).filter(Se=>Se!=null).map(Se=>Se.type===Ae?Se:{type:Ae,geometry:Se})}n.contour=Re,n.geojson=lt,n.geopath=Qt,n.geopoint=mn,n.geoshape=Lt,n.graticule=rt,n.heatmap=et,n.isocontour=Z,n.kde2d=Ue,n.projection=re,Object.defineProperty(n,"__esModule",{value:!0})})});var YAe=we((zz,GAe)=>{m();(function(n,e){typeof zz=="object"&&typeof GAe!="undefined"?e(zz,Jf(),Su()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(zz,function(n,e,t){"use strict";function r(se,Pe){var et,At=1;se==null&&(se=0),Pe==null&&(Pe=0);function fn(){var on,ct=et.length,re,Te=0,je=0;for(on=0;on<ct;++on)re=et[on],Te+=re.x,je+=re.y;for(Te=(Te/ct-se)*At,je=(je/ct-Pe)*At,on=0;on<ct;++on)re=et[on],re.x-=Te,re.y-=je}return fn.initialize=function(on){et=on},fn.x=function(on){return arguments.length?(se=+on,fn):se},fn.y=function(on){return arguments.length?(Pe=+on,fn):Pe},fn.strength=function(on){return arguments.length?(At=+on,fn):At},fn}function i(se){let Pe=+this._x.call(null,se),et=+this._y.call(null,se);return s(this.cover(Pe,et),Pe,et,se)}function s(se,Pe,et,At){if(isNaN(Pe)||isNaN(et))return se;var fn,on=se._root,ct={data:At},re=se._x0,Te=se._y0,je=se._x1,ht=se._y1,vt,Ft,ne,Se,Ve,nt,Bt,rn;if(!on)return se._root=ct,se;for(;on.length;)if((Ve=Pe>=(vt=(re+je)/2))?re=vt:je=vt,(nt=et>=(Ft=(Te+ht)/2))?Te=Ft:ht=Ft,fn=on,!(on=on[Bt=nt<<1|Ve]))return fn[Bt]=ct,se;if(ne=+se._x.call(null,on.data),Se=+se._y.call(null,on.data),Pe===ne&&et===Se)return ct.next=on,fn?fn[Bt]=ct:se._root=ct,se;do fn=fn?fn[Bt]=new Array(4):se._root=new Array(4),(Ve=Pe>=(vt=(re+je)/2))?re=vt:je=vt,(nt=et>=(Ft=(Te+ht)/2))?Te=Ft:ht=Ft;while((Bt=nt<<1|Ve)===(rn=(Se>=Ft)<<1|ne>=vt));return fn[rn]=on,fn[Bt]=ct,se}function o(se){var Pe,et,At=se.length,fn,on,ct=new Array(At),re=new Array(At),Te=1/0,je=1/0,ht=-1/0,vt=-1/0;for(et=0;et<At;++et)isNaN(fn=+this._x.call(null,Pe=se[et]))||isNaN(on=+this._y.call(null,Pe))||(ct[et]=fn,re[et]=on,fn<Te&&(Te=fn),fn>ht&&(ht=fn),on<je&&(je=on),on>vt&&(vt=on));if(Te>ht||je>vt)return this;for(this.cover(Te,je).cover(ht,vt),et=0;et<At;++et)s(this,ct[et],re[et],se[et]);return this}function a(se,Pe){if(isNaN(se=+se)||isNaN(Pe=+Pe))return this;var et=this._x0,At=this._y0,fn=this._x1,on=this._y1;if(isNaN(et))fn=(et=Math.floor(se))+1,on=(At=Math.floor(Pe))+1;else{for(var ct=fn-et||1,re=this._root,Te,je;et>se||se>=fn||At>Pe||Pe>=on;)switch(je=(Pe<At)<<1|se<et,Te=new Array(4),Te[je]=re,re=Te,ct*=2,je){case 0:fn=et+ct,on=At+ct;break;case 1:et=fn-ct,on=At+ct;break;case 2:fn=et+ct,At=on-ct;break;case 3:et=fn-ct,At=on-ct;break}this._root&&this._root.length&&(this._root=re)}return this._x0=et,this._y0=At,this._x1=fn,this._y1=on,this}function c(){var se=[];return this.visit(function(Pe){if(!Pe.length)do se.push(Pe.data);while(Pe=Pe.next)}),se}function d(se){return arguments.length?this.cover(+se[0][0],+se[0][1]).cover(+se[1][0],+se[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function p(se,Pe,et,At,fn){this.node=se,this.x0=Pe,this.y0=et,this.x1=At,this.y1=fn}function b(se,Pe,et){var At,fn=this._x0,on=this._y0,ct,re,Te,je,ht=this._x1,vt=this._y1,Ft=[],ne=this._root,Se,Ve;for(ne&&Ft.push(new p(ne,fn,on,ht,vt)),et==null?et=1/0:(fn=se-et,on=Pe-et,ht=se+et,vt=Pe+et,et*=et);Se=Ft.pop();)if(!(!(ne=Se.node)||(ct=Se.x0)>ht||(re=Se.y0)>vt||(Te=Se.x1)<fn||(je=Se.y1)<on))if(ne.length){var nt=(ct+Te)/2,Bt=(re+je)/2;Ft.push(new p(ne[3],nt,Bt,Te,je),new p(ne[2],ct,Bt,nt,je),new p(ne[1],nt,re,Te,Bt),new p(ne[0],ct,re,nt,Bt)),(Ve=(Pe>=Bt)<<1|se>=nt)&&(Se=Ft[Ft.length-1],Ft[Ft.length-1]=Ft[Ft.length-1-Ve],Ft[Ft.length-1-Ve]=Se)}else{var rn=se-+this._x.call(null,ne.data),Sn=Pe-+this._y.call(null,ne.data),vn=rn*rn+Sn*Sn;if(vn<et){var xn=Math.sqrt(et=vn);fn=se-xn,on=Pe-xn,ht=se+xn,vt=Pe+xn,At=ne.data}}return At}function C(se){if(isNaN(ht=+this._x.call(null,se))||isNaN(vt=+this._y.call(null,se)))return this;var Pe,et=this._root,At,fn,on,ct=this._x0,re=this._y0,Te=this._x1,je=this._y1,ht,vt,Ft,ne,Se,Ve,nt,Bt;if(!et)return this;if(et.length)for(;;){if((Se=ht>=(Ft=(ct+Te)/2))?ct=Ft:Te=Ft,(Ve=vt>=(ne=(re+je)/2))?re=ne:je=ne,Pe=et,!(et=et[nt=Ve<<1|Se]))return this;if(!et.length)break;(Pe[nt+1&3]||Pe[nt+2&3]||Pe[nt+3&3])&&(At=Pe,Bt=nt)}for(;et.data!==se;)if(fn=et,!(et=et.next))return this;return(on=et.next)&&delete et.next,fn?(on?fn.next=on:delete fn.next,this):Pe?(on?Pe[nt]=on:delete Pe[nt],(et=Pe[0]||Pe[1]||Pe[2]||Pe[3])&&et===(Pe[3]||Pe[2]||Pe[1]||Pe[0])&&!et.length&&(At?At[Bt]=et:this._root=et),this):(this._root=on,this)}function N(se){for(var Pe=0,et=se.length;Pe<et;++Pe)this.remove(se[Pe]);return this}function R(){return this._root}function U(){var se=0;return this.visit(function(Pe){if(!Pe.length)do++se;while(Pe=Pe.next)}),se}function V(se){var Pe=[],et,At=this._root,fn,on,ct,re,Te;for(At&&Pe.push(new p(At,this._x0,this._y0,this._x1,this._y1));et=Pe.pop();)if(!se(At=et.node,on=et.x0,ct=et.y0,re=et.x1,Te=et.y1)&&At.length){var je=(on+re)/2,ht=(ct+Te)/2;(fn=At[3])&&Pe.push(new p(fn,je,ht,re,Te)),(fn=At[2])&&Pe.push(new p(fn,on,ht,je,Te)),(fn=At[1])&&Pe.push(new p(fn,je,ct,re,ht)),(fn=At[0])&&Pe.push(new p(fn,on,ct,je,ht))}return this}function P(se){var Pe=[],et=[],At;for(this._root&&Pe.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));At=Pe.pop();){var fn=At.node;if(fn.length){var on,ct=At.x0,re=At.y0,Te=At.x1,je=At.y1,ht=(ct+Te)/2,vt=(re+je)/2;(on=fn[0])&&Pe.push(new p(on,ct,re,ht,vt)),(on=fn[1])&&Pe.push(new p(on,ht,re,Te,vt)),(on=fn[2])&&Pe.push(new p(on,ct,vt,ht,je)),(on=fn[3])&&Pe.push(new p(on,ht,vt,Te,je))}et.push(At)}for(;At=et.pop();)se(At.node,At.x0,At.y0,At.x1,At.y1);return this}function $(se){return se[0]}function M(se){return arguments.length?(this._x=se,this):this._x}function G(se){return se[1]}function ae(se){return arguments.length?(this._y=se,this):this._y}function I(se,Pe,et){var At=new Z(Pe??$,et??G,NaN,NaN,NaN,NaN);return se==null?At:At.addAll(se)}function Z(se,Pe,et,At,fn,on){this._x=se,this._y=Pe,this._x0=et,this._y0=At,this._x1=fn,this._y1=on,this._root=void 0}function me(se){for(var Pe={data:se.data},et=Pe;se=se.next;)et=et.next={data:se.data};return Pe}var ye=I.prototype=Z.prototype;ye.copy=function(){var se=new Z(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Pe=this._root,et,At;if(!Pe)return se;if(!Pe.length)return se._root=me(Pe),se;for(et=[{source:Pe,target:se._root=new Array(4)}];Pe=et.pop();)for(var fn=0;fn<4;++fn)(At=Pe.source[fn])&&(At.length?et.push({source:At,target:Pe.target[fn]=new Array(4)}):Pe.target[fn]=me(At));return se},ye.add=i,ye.addAll=o,ye.cover=a,ye.data=c,ye.extent=d,ye.find=b,ye.remove=C,ye.removeAll=N,ye.root=R,ye.size=U,ye.visit=V,ye.visitAfter=P,ye.x=M,ye.y=ae;function He(se){return function(){return se}}function ot(se){return(se()-.5)*1e-6}function at(se){return se.x+se.vx}function Ze(se){return se.y+se.vy}function Tt(se){var Pe,et,At,fn=1,on=1;typeof se!="function"&&(se=He(se==null?1:+se));function ct(){for(var je,ht=Pe.length,vt,Ft,ne,Se,Ve,nt,Bt=0;Bt<on;++Bt)for(vt=I(Pe,at,Ze).visitAfter(re),je=0;je<ht;++je)Ft=Pe[je],Ve=et[Ft.index],nt=Ve*Ve,ne=Ft.x+Ft.vx,Se=Ft.y+Ft.vy,vt.visit(rn);function rn(Sn,vn,xn,zn,Oe){var qe=Sn.data,Ct=Sn.r,O=Ve+Ct;if(qe){if(qe.index>Ft.index){var H=ne-qe.x-qe.vx,ve=Se-qe.y-qe.vy,pe=H*H+ve*ve;pe<O*O&&(H===0&&(H=ot(At),pe+=H*H),ve===0&&(ve=ot(At),pe+=ve*ve),pe=(O-(pe=Math.sqrt(pe)))/pe*fn,Ft.vx+=(H*=pe)*(O=(Ct*=Ct)/(nt+Ct)),Ft.vy+=(ve*=pe)*O,qe.vx-=H*(O=1-O),qe.vy-=ve*O)}return}return vn>ne+O||zn<ne-O||xn>Se+O||Oe<Se-O}}function re(je){if(je.data)return je.r=et[je.data.index];for(var ht=je.r=0;ht<4;++ht)je[ht]&&je[ht].r>je.r&&(je.r=je[ht].r)}function Te(){if(!!Pe){var je,ht=Pe.length,vt;for(et=new Array(ht),je=0;je<ht;++je)vt=Pe[je],et[vt.index]=+se(vt,je,Pe)}}return ct.initialize=function(je,ht){Pe=je,At=ht,Te()},ct.iterations=function(je){return arguments.length?(on=+je,ct):on},ct.strength=function(je){return arguments.length?(fn=+je,ct):fn},ct.radius=function(je){return arguments.length?(se=typeof je=="function"?je:He(+je),Te(),ct):se},ct}function Mt(se){return se.index}function Ue(se,Pe){var et=se.get(Pe);if(!et)throw new Error("node not found: "+Pe);return et}function te(se){var Pe=Mt,et=vt,At,fn=He(30),on,ct,re,Te,je,ht=1;se==null&&(se=[]);function vt(nt){return 1/Math.min(re[nt.source.index],re[nt.target.index])}function Ft(nt){for(var Bt=0,rn=se.length;Bt<ht;++Bt)for(var Sn=0,vn,xn,zn,Oe,qe,Ct,O;Sn<rn;++Sn)vn=se[Sn],xn=vn.source,zn=vn.target,Oe=zn.x+zn.vx-xn.x-xn.vx||ot(je),qe=zn.y+zn.vy-xn.y-xn.vy||ot(je),Ct=Math.sqrt(Oe*Oe+qe*qe),Ct=(Ct-on[Sn])/Ct*nt*At[Sn],Oe*=Ct,qe*=Ct,zn.vx-=Oe*(O=Te[Sn]),zn.vy-=qe*O,xn.vx+=Oe*(O=1-O),xn.vy+=qe*O}function ne(){if(!!ct){var nt,Bt=ct.length,rn=se.length,Sn=new Map(ct.map((xn,zn)=>[Pe(xn,zn,ct),xn])),vn;for(nt=0,re=new Array(Bt);nt<rn;++nt)vn=se[nt],vn.index=nt,typeof vn.source!="object"&&(vn.source=Ue(Sn,vn.source)),typeof vn.target!="object"&&(vn.target=Ue(Sn,vn.target)),re[vn.source.index]=(re[vn.source.index]||0)+1,re[vn.target.index]=(re[vn.target.index]||0)+1;for(nt=0,Te=new Array(rn);nt<rn;++nt)vn=se[nt],Te[nt]=re[vn.source.index]/(re[vn.source.index]+re[vn.target.index]);At=new Array(rn),Se(),on=new Array(rn),Ve()}}function Se(){if(!!ct)for(var nt=0,Bt=se.length;nt<Bt;++nt)At[nt]=+et(se[nt],nt,se)}function Ve(){if(!!ct)for(var nt=0,Bt=se.length;nt<Bt;++nt)on[nt]=+fn(se[nt],nt,se)}return Ft.initialize=function(nt,Bt){ct=nt,je=Bt,ne()},Ft.links=function(nt){return arguments.length?(se=nt,ne(),Ft):se},Ft.id=function(nt){return arguments.length?(Pe=nt,Ft):Pe},Ft.iterations=function(nt){return arguments.length?(ht=+nt,Ft):ht},Ft.strength=function(nt){return arguments.length?(et=typeof nt=="function"?nt:He(+nt),Se(),Ft):et},Ft.distance=function(nt){return arguments.length?(fn=typeof nt=="function"?nt:He(+nt),Ve(),Ft):fn},Ft}var st={value:()=>{}};function be(){for(var se=0,Pe=arguments.length,et={},At;se<Pe;++se){if(!(At=arguments[se]+"")||At in et||/[\s.]/.test(At))throw new Error("illegal type: "+At);et[At]=[]}return new Re(et)}function Re(se){this._=se}function Ae(se,Pe){return se.trim().split(/^|\s+/).map(function(et){var At="",fn=et.indexOf(".");if(fn>=0&&(At=et.slice(fn+1),et=et.slice(0,fn)),et&&!Pe.hasOwnProperty(et))throw new Error("unknown type: "+et);return{type:et,name:At}})}Re.prototype=be.prototype={constructor:Re,on:function(se,Pe){var et=this._,At=Ae(se+"",et),fn,on=-1,ct=At.length;if(arguments.length<2){for(;++on<ct;)if((fn=(se=At[on]).type)&&(fn=xe(et[fn],se.name)))return fn;return}if(Pe!=null&&typeof Pe!="function")throw new Error("invalid callback: "+Pe);for(;++on<ct;)if(fn=(se=At[on]).type)et[fn]=Je(et[fn],se.name,Pe);else if(Pe==null)for(fn in et)et[fn]=Je(et[fn],se.name,null);return this},copy:function(){var se={},Pe=this._;for(var et in Pe)se[et]=Pe[et].slice();return new Re(se)},call:function(se,Pe){if((fn=arguments.length-2)>0)for(var et=new Array(fn),At=0,fn,on;At<fn;++At)et[At]=arguments[At+2];if(!this._.hasOwnProperty(se))throw new Error("unknown type: "+se);for(on=this._[se],At=0,fn=on.length;At<fn;++At)on[At].value.apply(Pe,et)},apply:function(se,Pe,et){if(!this._.hasOwnProperty(se))throw new Error("unknown type: "+se);for(var At=this._[se],fn=0,on=At.length;fn<on;++fn)At[fn].value.apply(Pe,et)}};function xe(se,Pe){for(var et=0,At=se.length,fn;et<At;++et)if((fn=se[et]).name===Pe)return fn.value}function Je(se,Pe,et){for(var At=0,fn=se.length;At<fn;++At)if(se[At].name===Pe){se[At]=st,se=se.slice(0,At).concat(se.slice(At+1));break}return et!=null&&se.push({name:Pe,value:et}),se}var lt=0,Qt=0,Et=0,mn=1e3,Lt,kt,cn=0,wt=0,Ee=0,Ie=typeof performance=="object"&&performance.now?performance:Date,Ce=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(se){setTimeout(se,17)};function fe(){return wt||(Ce(rt),wt=Ie.now()+Ee)}function rt(){wt=0}function Xe(){this._call=this._time=this._next=null}Xe.prototype=de.prototype={constructor:Xe,restart:function(se,Pe,et){if(typeof se!="function")throw new TypeError("callback is not a function");et=(et==null?fe():+et)+(Pe==null?0:+Pe),!this._next&&kt!==this&&(kt?kt._next=this:Lt=this,kt=this),this._call=se,this._time=et,en()},stop:function(){this._call&&(this._call=null,this._time=1/0,en())}};function de(se,Pe,et){var At=new Xe;return At.restart(se,Pe,et),At}function Ge(){fe(),++lt;for(var se=Lt,Pe;se;)(Pe=wt-se._time)>=0&&se._call.call(void 0,Pe),se=se._next;--lt}function Ot(){wt=(cn=Ie.now())+Ee,lt=Qt=0;try{Ge()}finally{lt=0,zt(),wt=0}}function Nt(){var se=Ie.now(),Pe=se-cn;Pe>mn&&(Ee-=Pe,cn=se)}function zt(){for(var se,Pe=Lt,et,At=1/0;Pe;)Pe._call?(At>Pe._time&&(At=Pe._time),se=Pe,Pe=Pe._next):(et=Pe._next,Pe._next=null,Pe=se?se._next=et:Lt=et);kt=se,en(At)}function en(se){if(!lt){Qt&&(Qt=clearTimeout(Qt));var Pe=se-wt;Pe>24?(se<1/0&&(Qt=setTimeout(Ot,se-Ie.now()-Ee)),Et&&(Et=clearInterval(Et))):(Et||(cn=Ie.now(),Et=setInterval(Nt,mn)),lt=1,Ce(Ot))}}let Xt=1664525,bn=1013904223,Tn=4294967296;function Dn(){let se=1;return()=>(se=(Xt*se+bn)%Tn)/Tn}function Ut(se){return se.x}function pn(se){return se.y}var qn=10,sr=Math.PI*(3-Math.sqrt(5));function In(se){var Pe,et=1,At=.001,fn=1-Math.pow(At,1/300),on=0,ct=.6,re=new Map,Te=de(vt),je=be("tick","end"),ht=Dn();se==null&&(se=[]);function vt(){Ft(),je.call("tick",Pe),et<At&&(Te.stop(),je.call("end",Pe))}function Ft(Ve){var nt,Bt=se.length,rn;Ve===void 0&&(Ve=1);for(var Sn=0;Sn<Ve;++Sn)for(et+=(on-et)*fn,re.forEach(function(vn){vn(et)}),nt=0;nt<Bt;++nt)rn=se[nt],rn.fx==null?rn.x+=rn.vx*=ct:(rn.x=rn.fx,rn.vx=0),rn.fy==null?rn.y+=rn.vy*=ct:(rn.y=rn.fy,rn.vy=0);return Pe}function ne(){for(var Ve=0,nt=se.length,Bt;Ve<nt;++Ve){if(Bt=se[Ve],Bt.index=Ve,Bt.fx!=null&&(Bt.x=Bt.fx),Bt.fy!=null&&(Bt.y=Bt.fy),isNaN(Bt.x)||isNaN(Bt.y)){var rn=qn*Math.sqrt(.5+Ve),Sn=Ve*sr;Bt.x=rn*Math.cos(Sn),Bt.y=rn*Math.sin(Sn)}(isNaN(Bt.vx)||isNaN(Bt.vy))&&(Bt.vx=Bt.vy=0)}}function Se(Ve){return Ve.initialize&&Ve.initialize(se,ht),Ve}return ne(),Pe={tick:Ft,restart:function(){return Te.restart(vt),Pe},stop:function(){return Te.stop(),Pe},nodes:function(Ve){return arguments.length?(se=Ve,ne(),re.forEach(Se),Pe):se},alpha:function(Ve){return arguments.length?(et=+Ve,Pe):et},alphaMin:function(Ve){return arguments.length?(At=+Ve,Pe):At},alphaDecay:function(Ve){return arguments.length?(fn=+Ve,Pe):+fn},alphaTarget:function(Ve){return arguments.length?(on=+Ve,Pe):on},velocityDecay:function(Ve){return arguments.length?(ct=1-Ve,Pe):1-ct},randomSource:function(Ve){return arguments.length?(ht=Ve,re.forEach(Se),Pe):ht},force:function(Ve,nt){return arguments.length>1?(nt==null?re.delete(Ve):re.set(Ve,Se(nt)),Pe):re.get(Ve)},find:function(Ve,nt,Bt){var rn=0,Sn=se.length,vn,xn,zn,Oe,qe;for(Bt==null?Bt=1/0:Bt*=Bt,rn=0;rn<Sn;++rn)Oe=se[rn],vn=Ve-Oe.x,xn=nt-Oe.y,zn=vn*vn+xn*xn,zn<Bt&&(qe=Oe,Bt=zn);return qe},on:function(Ve,nt){return arguments.length>1?(je.on(Ve,nt),Pe):je.on(Ve)}}}function Ne(){var se,Pe,et,At,fn=He(-30),on,ct=1,re=1/0,Te=.81;function je(ne){var Se,Ve=se.length,nt=I(se,Ut,pn).visitAfter(vt);for(At=ne,Se=0;Se<Ve;++Se)Pe=se[Se],nt.visit(Ft)}function ht(){if(!!se){var ne,Se=se.length,Ve;for(on=new Array(Se),ne=0;ne<Se;++ne)Ve=se[ne],on[Ve.index]=+fn(Ve,ne,se)}}function vt(ne){var Se=0,Ve,nt,Bt=0,rn,Sn,vn;if(ne.length){for(rn=Sn=vn=0;vn<4;++vn)(Ve=ne[vn])&&(nt=Math.abs(Ve.value))&&(Se+=Ve.value,Bt+=nt,rn+=nt*Ve.x,Sn+=nt*Ve.y);ne.x=rn/Bt,ne.y=Sn/Bt}else{Ve=ne,Ve.x=Ve.data.x,Ve.y=Ve.data.y;do Se+=on[Ve.data.index];while(Ve=Ve.next)}ne.value=Se}function Ft(ne,Se,Ve,nt){if(!ne.value)return!0;var Bt=ne.x-Pe.x,rn=ne.y-Pe.y,Sn=nt-Se,vn=Bt*Bt+rn*rn;if(Sn*Sn/Te<vn)return vn<re&&(Bt===0&&(Bt=ot(et),vn+=Bt*Bt),rn===0&&(rn=ot(et),vn+=rn*rn),vn<ct&&(vn=Math.sqrt(ct*vn)),Pe.vx+=Bt*ne.value*At/vn,Pe.vy+=rn*ne.value*At/vn),!0;if(ne.length||vn>=re)return;(ne.data!==Pe||ne.next)&&(Bt===0&&(Bt=ot(et),vn+=Bt*Bt),rn===0&&(rn=ot(et),vn+=rn*rn),vn<ct&&(vn=Math.sqrt(ct*vn)));do ne.data!==Pe&&(Sn=on[ne.data.index]*At/vn,Pe.vx+=Bt*Sn,Pe.vy+=rn*Sn);while(ne=ne.next)}return je.initialize=function(ne,Se){se=ne,et=Se,ht()},je.strength=function(ne){return arguments.length?(fn=typeof ne=="function"?ne:He(+ne),ht(),je):fn},je.distanceMin=function(ne){return arguments.length?(ct=ne*ne,je):Math.sqrt(ct)},je.distanceMax=function(ne){return arguments.length?(re=ne*ne,je):Math.sqrt(re)},je.theta=function(ne){return arguments.length?(Te=ne*ne,je):Math.sqrt(Te)},je}function $e(se){var Pe=He(.1),et,At,fn;typeof se!="function"&&(se=He(se==null?0:+se));function on(re){for(var Te=0,je=et.length,ht;Te<je;++Te)ht=et[Te],ht.vx+=(fn[Te]-ht.x)*At[Te]*re}function ct(){if(!!et){var re,Te=et.length;for(At=new Array(Te),fn=new Array(Te),re=0;re<Te;++re)At[re]=isNaN(fn[re]=+se(et[re],re,et))?0:+Pe(et[re],re,et)}}return on.initialize=function(re){et=re,ct()},on.strength=function(re){return arguments.length?(Pe=typeof re=="function"?re:He(+re),ct(),on):Pe},on.x=function(re){return arguments.length?(se=typeof re=="function"?re:He(+re),ct(),on):se},on}function De(se){var Pe=He(.1),et,At,fn;typeof se!="function"&&(se=He(se==null?0:+se));function on(re){for(var Te=0,je=et.length,ht;Te<je;++Te)ht=et[Te],ht.vy+=(fn[Te]-ht.y)*At[Te]*re}function ct(){if(!!et){var re,Te=et.length;for(At=new Array(Te),fn=new Array(Te),re=0;re<Te;++re)At[re]=isNaN(fn[re]=+se(et[re],re,et))?0:+Pe(et[re],re,et)}}return on.initialize=function(re){et=re,ct()},on.strength=function(re){return arguments.length?(Pe=typeof re=="function"?re:He(+re),ct(),on):Pe},on.y=function(re){return arguments.length?(se=typeof re=="function"?re:He(+re),ct(),on):se},on}let qt={center:r,collide:Tt,nbody:Ne,link:te,x:$e,y:De},yt="forces",mt=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],nn=["static","iterations"],Wt=["x","y","vx","vy"];function Fn(se){e.Transform.call(this,null,se)}Fn.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Wt}]},t.inherits(Fn,e.Transform,{transform(se,Pe){var et=this.value,At=Pe.changed(Pe.ADD_REM),fn=se.modified(mt),on=se.iterations||300;if(et?(At&&(Pe.modifies("index"),et.nodes(Pe.source)),(fn||Pe.changed(Pe.MOD))&&Pn(et,se,0,Pe)):(this.value=et=Zn(Pe.source,se),et.on("tick",Qn(Pe.dataflow,this)),se.static||(At=!0,et.tick()),Pe.modifies("index")),fn||At||se.modified(nn)||Pe.changed()&&se.restart){if(et.alpha(Math.max(et.alpha(),se.alpha||1)).alphaDecay(1-Math.pow(et.alphaMin(),1/on)),se.static)for(et.stop();--on>=0;)et.tick();else if(et.stopped()&&et.restart(),!At)return Pe.StopPropagation}return this.finish(se,Pe)},finish(se,Pe){let et=Pe.dataflow;for(let re=this._argops,Te=0,je=re.length,ht;Te<je;++Te)if(ht=re[Te],!(ht.name!==yt||ht.op._argval.force!=="link")){for(var At=ht.op._argops,fn=0,on=At.length,ct;fn<on;++fn)if(At[fn].name==="links"&&(ct=At[fn].op.source)){et.pulse(ct,et.changeset().reflow());break}}return Pe.reflow(se.modified()).modifies(Wt)}});function Qn(se,Pe){return()=>se.touch(Pe).run()}function Zn(se,Pe){let et=In(se),At=et.stop,fn=et.restart,on=!1;return et.stopped=()=>on,et.restart=()=>(on=!1,fn()),et.stop=()=>(on=!0,At()),Pn(et,Pe,!0).on("end",()=>on=!0)}function Pn(se,Pe,et,At){var fn=t.array(Pe.forces),on,ct,re,Te;for(on=0,ct=mt.length;on<ct;++on)re=mt[on],re!==yt&&Pe.modified(re)&&se[re](Pe[re]);for(on=0,ct=fn.length;on<ct;++on)Te=yt+on,re=et||Pe.modified(yt,on)?Ye(fn[on]):At&&or(fn[on],At)?se.force(Te):null,re&&se.force(Te,re);for(ct=se.numForces||0;on<ct;++on)se.force(yt+on,null);return se.numForces=fn.length,se}function or(se,Pe){var et,At;for(et in se)if(t.isFunction(At=se[et])&&Pe.modified(t.accessorFields(At)))return 1;return 0}function Ye(se){var Pe,et;t.hasOwnProperty(qt,se.force)||t.error("Unrecognized force: "+se.force),Pe=qt[se.force]();for(et in se)t.isFunction(Pe[et])&&gt(Pe[et],se[et],se);return Pe}function gt(se,Pe,et){se(t.isFunction(Pe)?At=>Pe(At,et):Pe)}n.force=Fn,Object.defineProperty(n,"__esModule",{value:!0})})});var JAe=we((Hz,KAe)=>{m();(function(n,e){typeof Hz=="object"&&typeof KAe!="undefined"?e(Hz,Jf(),Su()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(Hz,function(n,e,t){"use strict";function r(Oe,qe,Ct){let O={};return Oe.each(H=>{let ve=H.data;Ct(ve)&&(O[qe(ve)]=H)}),Oe.lookup=O,Oe}function i(Oe,qe){return Oe.parent===qe.parent?1:2}function s(Oe){return Oe.reduce(o,0)/Oe.length}function o(Oe,qe){return Oe+qe.x}function a(Oe){return 1+Oe.reduce(c,0)}function c(Oe,qe){return Math.max(Oe,qe.y)}function d(Oe){for(var qe;qe=Oe.children;)Oe=qe[0];return Oe}function p(Oe){for(var qe;qe=Oe.children;)Oe=qe[qe.length-1];return Oe}function b(){var Oe=i,qe=1,Ct=1,O=!1;function H(ve){var pe,K=0;ve.eachAfter(function(bt){var ln=bt.children;ln?(bt.x=s(ln),bt.y=a(ln)):(bt.x=pe?K+=Oe(bt,pe):0,bt.y=0,pe=bt)});var oe=d(ve),le=p(ve),We=oe.x-Oe(oe,le)/2,Rt=le.x+Oe(le,oe)/2;return ve.eachAfter(O?function(bt){bt.x=(bt.x-ve.x)*qe,bt.y=(ve.y-bt.y)*Ct}:function(bt){bt.x=(bt.x-We)/(Rt-We)*qe,bt.y=(1-(ve.y?bt.y/ve.y:1))*Ct})}return H.separation=function(ve){return arguments.length?(Oe=ve,H):Oe},H.size=function(ve){return arguments.length?(O=!1,qe=+ve[0],Ct=+ve[1],H):O?null:[qe,Ct]},H.nodeSize=function(ve){return arguments.length?(O=!0,qe=+ve[0],Ct=+ve[1],H):O?[qe,Ct]:null},H}function C(Oe){var qe=0,Ct=Oe.children,O=Ct&&Ct.length;if(!O)qe=1;else for(;--O>=0;)qe+=Ct[O].value;Oe.value=qe}function N(){return this.eachAfter(C)}function R(Oe,qe){let Ct=-1;for(let O of this)Oe.call(qe,O,++Ct,this);return this}function U(Oe,qe){for(var Ct=this,O=[Ct],H,ve,pe=-1;Ct=O.pop();)if(Oe.call(qe,Ct,++pe,this),H=Ct.children)for(ve=H.length-1;ve>=0;--ve)O.push(H[ve]);return this}function V(Oe,qe){for(var Ct=this,O=[Ct],H=[],ve,pe,K,oe=-1;Ct=O.pop();)if(H.push(Ct),ve=Ct.children)for(pe=0,K=ve.length;pe<K;++pe)O.push(ve[pe]);for(;Ct=H.pop();)Oe.call(qe,Ct,++oe,this);return this}function P(Oe,qe){let Ct=-1;for(let O of this)if(Oe.call(qe,O,++Ct,this))return O}function $(Oe){return this.eachAfter(function(qe){for(var Ct=+Oe(qe.data)||0,O=qe.children,H=O&&O.length;--H>=0;)Ct+=O[H].value;qe.value=Ct})}function M(Oe){return this.eachBefore(function(qe){qe.children&&qe.children.sort(Oe)})}function G(Oe){for(var qe=this,Ct=ae(qe,Oe),O=[qe];qe!==Ct;)qe=qe.parent,O.push(qe);for(var H=O.length;Oe!==Ct;)O.splice(H,0,Oe),Oe=Oe.parent;return O}function ae(Oe,qe){if(Oe===qe)return Oe;var Ct=Oe.ancestors(),O=qe.ancestors(),H=null;for(Oe=Ct.pop(),qe=O.pop();Oe===qe;)H=Oe,Oe=Ct.pop(),qe=O.pop();return H}function I(){for(var Oe=this,qe=[Oe];Oe=Oe.parent;)qe.push(Oe);return qe}function Z(){return Array.from(this)}function me(){var Oe=[];return this.eachBefore(function(qe){qe.children||Oe.push(qe)}),Oe}function ye(){var Oe=this,qe=[];return Oe.each(function(Ct){Ct!==Oe&&qe.push({source:Ct.parent,target:Ct})}),qe}function*He(){var Oe=this,qe,Ct=[Oe],O,H,ve;do for(qe=Ct.reverse(),Ct=[];Oe=qe.pop();)if(yield Oe,O=Oe.children)for(H=0,ve=O.length;H<ve;++H)Ct.push(O[H]);while(Ct.length)}function ot(Oe,qe){Oe instanceof Map?(Oe=[void 0,Oe],qe===void 0&&(qe=Tt)):qe===void 0&&(qe=Ze);for(var Ct=new te(Oe),O,H=[Ct],ve,pe,K,oe;O=H.pop();)if((pe=qe(O.data))&&(oe=(pe=Array.from(pe)).length))for(O.children=pe,K=oe-1;K>=0;--K)H.push(ve=pe[K]=new te(pe[K])),ve.parent=O,ve.depth=O.depth+1;return Ct.eachBefore(Ue)}function at(){return ot(this).eachBefore(Mt)}function Ze(Oe){return Oe.children}function Tt(Oe){return Array.isArray(Oe)?Oe[1]:null}function Mt(Oe){Oe.data.value!==void 0&&(Oe.value=Oe.data.value),Oe.data=Oe.data.data}function Ue(Oe){var qe=0;do Oe.height=qe;while((Oe=Oe.parent)&&Oe.height<++qe)}function te(Oe){this.data=Oe,this.depth=this.height=0,this.parent=null}te.prototype=ot.prototype={constructor:te,count:N,each:R,eachAfter:V,eachBefore:U,find:P,sum:$,sort:M,path:G,ancestors:I,descendants:Z,leaves:me,links:ye,copy:at,[Symbol.iterator]:He};function st(Oe){return typeof Oe=="object"&&"length"in Oe?Oe:Array.from(Oe)}function be(Oe){for(var qe=Oe.length,Ct,O;qe;)O=Math.random()*qe--|0,Ct=Oe[qe],Oe[qe]=Oe[O],Oe[O]=Ct;return Oe}function Re(Oe){for(var qe=0,Ct=(Oe=be(Array.from(Oe))).length,O=[],H,ve;qe<Ct;)H=Oe[qe],ve&&Je(ve,H)?++qe:(ve=Qt(O=Ae(O,H)),qe=0);return ve}function Ae(Oe,qe){var Ct,O;if(lt(qe,Oe))return[qe];for(Ct=0;Ct<Oe.length;++Ct)if(xe(qe,Oe[Ct])&&lt(mn(Oe[Ct],qe),Oe))return[Oe[Ct],qe];for(Ct=0;Ct<Oe.length-1;++Ct)for(O=Ct+1;O<Oe.length;++O)if(xe(mn(Oe[Ct],Oe[O]),qe)&&xe(mn(Oe[Ct],qe),Oe[O])&&xe(mn(Oe[O],qe),Oe[Ct])&&lt(Lt(Oe[Ct],Oe[O],qe),Oe))return[Oe[Ct],Oe[O],qe];throw new Error}function xe(Oe,qe){var Ct=Oe.r-qe.r,O=qe.x-Oe.x,H=qe.y-Oe.y;return Ct<0||Ct*Ct<O*O+H*H}function Je(Oe,qe){var Ct=Oe.r-qe.r+Math.max(Oe.r,qe.r,1)*1e-9,O=qe.x-Oe.x,H=qe.y-Oe.y;return Ct>0&&Ct*Ct>O*O+H*H}function lt(Oe,qe){for(var Ct=0;Ct<qe.length;++Ct)if(!Je(Oe,qe[Ct]))return!1;return!0}function Qt(Oe){switch(Oe.length){case 1:return Et(Oe[0]);case 2:return mn(Oe[0],Oe[1]);case 3:return Lt(Oe[0],Oe[1],Oe[2])}}function Et(Oe){return{x:Oe.x,y:Oe.y,r:Oe.r}}function mn(Oe,qe){var Ct=Oe.x,O=Oe.y,H=Oe.r,ve=qe.x,pe=qe.y,K=qe.r,oe=ve-Ct,le=pe-O,We=K-H,Rt=Math.sqrt(oe*oe+le*le);return{x:(Ct+ve+oe/Rt*We)/2,y:(O+pe+le/Rt*We)/2,r:(Rt+H+K)/2}}function Lt(Oe,qe,Ct){var O=Oe.x,H=Oe.y,ve=Oe.r,pe=qe.x,K=qe.y,oe=qe.r,le=Ct.x,We=Ct.y,Rt=Ct.r,bt=O-pe,ln=O-le,S=H-K,B=H-We,ee=oe-ve,_e=Rt-ve,ft=O*O+H*H-ve*ve,St=ft-pe*pe-K*K+oe*oe,Jt=ft-le*le-We*We+Rt*Rt,Kt=ln*S-bt*B,hn=(S*Jt-B*St)/(Kt*2)-O,Bn=(B*ee-S*_e)/Kt,jn=(ln*St-bt*Jt)/(Kt*2)-H,Vn=(bt*_e-ln*ee)/Kt,Jr=Bn*Bn+Vn*Vn-1,Vr=2*(ve+hn*Bn+jn*Vn),yr=hn*hn+jn*jn-ve*ve,Mr=-(Jr?(Vr+Math.sqrt(Vr*Vr-4*Jr*yr))/(2*Jr):yr/Vr);return{x:O+hn+Bn*Mr,y:H+jn+Vn*Mr,r:Mr}}function kt(Oe,qe,Ct){var O=Oe.x-qe.x,H,ve,pe=Oe.y-qe.y,K,oe,le=O*O+pe*pe;le?(ve=qe.r+Ct.r,ve*=ve,oe=Oe.r+Ct.r,oe*=oe,ve>oe?(H=(le+oe-ve)/(2*le),K=Math.sqrt(Math.max(0,oe/le-H*H)),Ct.x=Oe.x-H*O-K*pe,Ct.y=Oe.y-H*pe+K*O):(H=(le+ve-oe)/(2*le),K=Math.sqrt(Math.max(0,ve/le-H*H)),Ct.x=qe.x+H*O-K*pe,Ct.y=qe.y+H*pe+K*O)):(Ct.x=qe.x+Ct.r,Ct.y=qe.y)}function cn(Oe,qe){var Ct=Oe.r+qe.r-1e-6,O=qe.x-Oe.x,H=qe.y-Oe.y;return Ct>0&&Ct*Ct>O*O+H*H}function wt(Oe){var qe=Oe._,Ct=Oe.next._,O=qe.r+Ct.r,H=(qe.x*Ct.r+Ct.x*qe.r)/O,ve=(qe.y*Ct.r+Ct.y*qe.r)/O;return H*H+ve*ve}function Ee(Oe){this._=Oe,this.next=null,this.previous=null}function Ie(Oe){if(!(H=(Oe=st(Oe)).length))return 0;var qe,Ct,O,H,ve,pe,K,oe,le,We,Rt;if(qe=Oe[0],qe.x=0,qe.y=0,!(H>1))return qe.r;if(Ct=Oe[1],qe.x=-Ct.r,Ct.x=qe.r,Ct.y=0,!(H>2))return qe.r+Ct.r;kt(Ct,qe,O=Oe[2]),qe=new Ee(qe),Ct=new Ee(Ct),O=new Ee(O),qe.next=O.previous=Ct,Ct.next=qe.previous=O,O.next=Ct.previous=qe;e:for(K=3;K<H;++K){kt(qe._,Ct._,O=Oe[K]),O=new Ee(O),oe=Ct.next,le=qe.previous,We=Ct._.r,Rt=qe._.r;do if(We<=Rt){if(cn(oe._,O._)){Ct=oe,qe.next=Ct,Ct.previous=qe,--K;continue e}We+=oe._.r,oe=oe.next}else{if(cn(le._,O._)){qe=le,qe.next=Ct,Ct.previous=qe,--K;continue e}Rt+=le._.r,le=le.previous}while(oe!==le.next);for(O.previous=qe,O.next=Ct,qe.next=Ct.previous=Ct=O,ve=wt(qe);(O=O.next)!==Ct;)(pe=wt(O))<ve&&(qe=O,ve=pe);Ct=qe.next}for(qe=[Ct._],O=Ct;(O=O.next)!==Ct;)qe.push(O._);for(O=Re(qe),K=0;K<H;++K)qe=Oe[K],qe.x-=O.x,qe.y-=O.y;return O.r}function Ce(Oe){return Oe==null?null:fe(Oe)}function fe(Oe){if(typeof Oe!="function")throw new Error;return Oe}function rt(){return 0}function Xe(Oe){return function(){return Oe}}function de(Oe){return Math.sqrt(Oe.value)}function Ge(){var Oe=null,qe=1,Ct=1,O=rt;function H(ve){return ve.x=qe/2,ve.y=Ct/2,Oe?ve.eachBefore(Ot(Oe)).eachAfter(Nt(O,.5)).eachBefore(zt(1)):ve.eachBefore(Ot(de)).eachAfter(Nt(rt,1)).eachAfter(Nt(O,ve.r/Math.min(qe,Ct))).eachBefore(zt(Math.min(qe,Ct)/(2*ve.r))),ve}return H.radius=function(ve){return arguments.length?(Oe=Ce(ve),H):Oe},H.size=function(ve){return arguments.length?(qe=+ve[0],Ct=+ve[1],H):[qe,Ct]},H.padding=function(ve){return arguments.length?(O=typeof ve=="function"?ve:Xe(+ve),H):O},H}function Ot(Oe){return function(qe){qe.children||(qe.r=Math.max(0,+Oe(qe)||0))}}function Nt(Oe,qe){return function(Ct){if(O=Ct.children){var O,H,ve=O.length,pe=Oe(Ct)*qe||0,K;if(pe)for(H=0;H<ve;++H)O[H].r+=pe;if(K=Ie(O),pe)for(H=0;H<ve;++H)O[H].r-=pe;Ct.r=K+pe}}}function zt(Oe){return function(qe){var Ct=qe.parent;qe.r*=Oe,Ct&&(qe.x=Ct.x+Oe*qe.x,qe.y=Ct.y+Oe*qe.y)}}function en(Oe){Oe.x0=Math.round(Oe.x0),Oe.y0=Math.round(Oe.y0),Oe.x1=Math.round(Oe.x1),Oe.y1=Math.round(Oe.y1)}function Xt(Oe,qe,Ct,O,H){for(var ve=Oe.children,pe,K=-1,oe=ve.length,le=Oe.value&&(O-qe)/Oe.value;++K<oe;)pe=ve[K],pe.y0=Ct,pe.y1=H,pe.x0=qe,pe.x1=qe+=pe.value*le}function bn(){var Oe=1,qe=1,Ct=0,O=!1;function H(pe){var K=pe.height+1;return pe.x0=pe.y0=Ct,pe.x1=Oe,pe.y1=qe/K,pe.eachBefore(ve(qe,K)),O&&pe.eachBefore(en),pe}function ve(pe,K){return function(oe){oe.children&&Xt(oe,oe.x0,pe*(oe.depth+1)/K,oe.x1,pe*(oe.depth+2)/K);var le=oe.x0,We=oe.y0,Rt=oe.x1-Ct,bt=oe.y1-Ct;Rt<le&&(le=Rt=(le+Rt)/2),bt<We&&(We=bt=(We+bt)/2),oe.x0=le,oe.y0=We,oe.x1=Rt,oe.y1=bt}}return H.round=function(pe){return arguments.length?(O=!!pe,H):O},H.size=function(pe){return arguments.length?(Oe=+pe[0],qe=+pe[1],H):[Oe,qe]},H.padding=function(pe){return arguments.length?(Ct=+pe,H):Ct},H}var Tn={depth:-1},Dn={},Ut={};function pn(Oe){return Oe.id}function qn(Oe){return Oe.parentId}function sr(){var Oe=pn,qe=qn,Ct;function O(H){var ve=Array.from(H),pe=Oe,K=qe,oe,le,We,Rt,bt,ln,S,B,ee=new Map;if(Ct!=null){let _e=ve.map((Jt,Kt)=>In(Ct(Jt,Kt,H))),ft=_e.map(Ne),St=new Set(_e).add("");for(let Jt of ft)St.has(Jt)||(St.add(Jt),_e.push(Jt),ft.push(Ne(Jt)),ve.push(Ut));pe=(Jt,Kt)=>_e[Kt],K=(Jt,Kt)=>ft[Kt]}for(We=0,oe=ve.length;We<oe;++We)le=ve[We],ln=ve[We]=new te(le),(S=pe(le,We,H))!=null&&(S+="")&&(B=ln.id=S,ee.set(B,ee.has(B)?Dn:ln)),(S=K(le,We,H))!=null&&(S+="")&&(ln.parent=S);for(We=0;We<oe;++We)if(ln=ve[We],S=ln.parent){if(bt=ee.get(S),!bt)throw new Error("missing: "+S);if(bt===Dn)throw new Error("ambiguous: "+S);bt.children?bt.children.push(ln):bt.children=[ln],ln.parent=bt}else{if(Rt)throw new Error("multiple roots");Rt=ln}if(!Rt)throw new Error("no root");if(Ct!=null){for(;Rt.data===Ut&&Rt.children.length===1;)Rt=Rt.children[0],--oe;for(let _e=ve.length-1;_e>=0&&(ln=ve[_e],ln.data===Ut);--_e)ln.data=null}if(Rt.parent=Tn,Rt.eachBefore(function(_e){_e.depth=_e.parent.depth+1,--oe}).eachBefore(Ue),Rt.parent=null,oe>0)throw new Error("cycle");return Rt}return O.id=function(H){return arguments.length?(Oe=Ce(H),O):Oe},O.parentId=function(H){return arguments.length?(qe=Ce(H),O):qe},O.path=function(H){return arguments.length?(Ct=Ce(H),O):Ct},O}function In(Oe){Oe=`${Oe}`;let qe=Oe.length;return $e(Oe,qe-1)&&!$e(Oe,qe-2)&&(Oe=Oe.slice(0,-1)),Oe[0]==="/"?Oe:`/${Oe}`}function Ne(Oe){let qe=Oe.length;if(qe<2)return"";for(;--qe>1&&!$e(Oe,qe););return Oe.slice(0,qe)}function $e(Oe,qe){if(Oe[qe]==="/"){let Ct=0;for(;qe>0&&Oe[--qe]==="\\";)++Ct;if((Ct&1)===0)return!0}return!1}function De(Oe,qe){return Oe.parent===qe.parent?1:2}function qt(Oe){var qe=Oe.children;return qe?qe[0]:Oe.t}function yt(Oe){var qe=Oe.children;return qe?qe[qe.length-1]:Oe.t}function mt(Oe,qe,Ct){var O=Ct/(qe.i-Oe.i);qe.c-=O,qe.s+=Ct,Oe.c+=O,qe.z+=Ct,qe.m+=Ct}function nn(Oe){for(var qe=0,Ct=0,O=Oe.children,H=O.length,ve;--H>=0;)ve=O[H],ve.z+=qe,ve.m+=qe,qe+=ve.s+(Ct+=ve.c)}function Wt(Oe,qe,Ct){return Oe.a.parent===qe.parent?Oe.a:Ct}function Fn(Oe,qe){this._=Oe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=qe}Fn.prototype=Object.create(te.prototype);function Qn(Oe){for(var qe=new Fn(Oe,0),Ct,O=[qe],H,ve,pe,K;Ct=O.pop();)if(ve=Ct._.children)for(Ct.children=new Array(K=ve.length),pe=K-1;pe>=0;--pe)O.push(H=Ct.children[pe]=new Fn(ve[pe],pe)),H.parent=Ct;return(qe.parent=new Fn(null,0)).children=[qe],qe}function Zn(){var Oe=De,qe=1,Ct=1,O=null;function H(le){var We=Qn(le);if(We.eachAfter(ve),We.parent.m=-We.z,We.eachBefore(pe),O)le.eachBefore(oe);else{var Rt=le,bt=le,ln=le;le.eachBefore(function(ft){ft.x<Rt.x&&(Rt=ft),ft.x>bt.x&&(bt=ft),ft.depth>ln.depth&&(ln=ft)});var S=Rt===bt?1:Oe(Rt,bt)/2,B=S-Rt.x,ee=qe/(bt.x+S+B),_e=Ct/(ln.depth||1);le.eachBefore(function(ft){ft.x=(ft.x+B)*ee,ft.y=ft.depth*_e})}return le}function ve(le){var We=le.children,Rt=le.parent.children,bt=le.i?Rt[le.i-1]:null;if(We){nn(le);var ln=(We[0].z+We[We.length-1].z)/2;bt?(le.z=bt.z+Oe(le._,bt._),le.m=le.z-ln):le.z=ln}else bt&&(le.z=bt.z+Oe(le._,bt._));le.parent.A=K(le,bt,le.parent.A||Rt[0])}function pe(le){le._.x=le.z+le.parent.m,le.m+=le.parent.m}function K(le,We,Rt){if(We){for(var bt=le,ln=le,S=We,B=bt.parent.children[0],ee=bt.m,_e=ln.m,ft=S.m,St=B.m,Jt;S=yt(S),bt=qt(bt),S&&bt;)B=qt(B),ln=yt(ln),ln.a=le,Jt=S.z+ft-bt.z-ee+Oe(S._,bt._),Jt>0&&(mt(Wt(S,le,Rt),le,Jt),ee+=Jt,_e+=Jt),ft+=S.m,ee+=bt.m,St+=B.m,_e+=ln.m;S&&!yt(ln)&&(ln.t=S,ln.m+=ft-_e),bt&&!qt(B)&&(B.t=bt,B.m+=ee-St,Rt=le)}return Rt}function oe(le){le.x*=qe,le.y=le.depth*Ct}return H.separation=function(le){return arguments.length?(Oe=le,H):Oe},H.size=function(le){return arguments.length?(O=!1,qe=+le[0],Ct=+le[1],H):O?null:[qe,Ct]},H.nodeSize=function(le){return arguments.length?(O=!0,qe=+le[0],Ct=+le[1],H):O?[qe,Ct]:null},H}function Pn(Oe,qe,Ct,O,H){for(var ve=Oe.children,pe,K=-1,oe=ve.length,le=Oe.value&&(H-Ct)/Oe.value;++K<oe;)pe=ve[K],pe.x0=qe,pe.x1=O,pe.y0=Ct,pe.y1=Ct+=pe.value*le}var or=(1+Math.sqrt(5))/2;function Ye(Oe,qe,Ct,O,H,ve){for(var pe=[],K=qe.children,oe,le,We=0,Rt=0,bt=K.length,ln,S,B=qe.value,ee,_e,ft,St,Jt,Kt,hn;We<bt;){ln=H-Ct,S=ve-O;do ee=K[Rt++].value;while(!ee&&Rt<bt);for(_e=ft=ee,Kt=Math.max(S/ln,ln/S)/(B*Oe),hn=ee*ee*Kt,Jt=Math.max(ft/hn,hn/_e);Rt<bt;++Rt){if(ee+=le=K[Rt].value,le<_e&&(_e=le),le>ft&&(ft=le),hn=ee*ee*Kt,St=Math.max(ft/hn,hn/_e),St>Jt){ee-=le;break}Jt=St}pe.push(oe={value:ee,dice:ln<S,children:K.slice(We,Rt)}),oe.dice?Xt(oe,Ct,O,H,B?O+=S*ee/B:ve):Pn(oe,Ct,O,B?Ct+=ln*ee/B:H,ve),B-=ee,We=Rt}return pe}var gt=function Oe(qe){function Ct(O,H,ve,pe,K){Ye(qe,O,H,ve,pe,K)}return Ct.ratio=function(O){return Oe((O=+O)>1?O:1)},Ct}(or);function se(){var Oe=gt,qe=!1,Ct=1,O=1,H=[0],ve=rt,pe=rt,K=rt,oe=rt,le=rt;function We(bt){return bt.x0=bt.y0=0,bt.x1=Ct,bt.y1=O,bt.eachBefore(Rt),H=[0],qe&&bt.eachBefore(en),bt}function Rt(bt){var ln=H[bt.depth],S=bt.x0+ln,B=bt.y0+ln,ee=bt.x1-ln,_e=bt.y1-ln;ee<S&&(S=ee=(S+ee)/2),_e<B&&(B=_e=(B+_e)/2),bt.x0=S,bt.y0=B,bt.x1=ee,bt.y1=_e,bt.children&&(ln=H[bt.depth+1]=ve(bt)/2,S+=le(bt)-ln,B+=pe(bt)-ln,ee-=K(bt)-ln,_e-=oe(bt)-ln,ee<S&&(S=ee=(S+ee)/2),_e<B&&(B=_e=(B+_e)/2),Oe(bt,S,B,ee,_e))}return We.round=function(bt){return arguments.length?(qe=!!bt,We):qe},We.size=function(bt){return arguments.length?(Ct=+bt[0],O=+bt[1],We):[Ct,O]},We.tile=function(bt){return arguments.length?(Oe=fe(bt),We):Oe},We.padding=function(bt){return arguments.length?We.paddingInner(bt).paddingOuter(bt):We.paddingInner()},We.paddingInner=function(bt){return arguments.length?(ve=typeof bt=="function"?bt:Xe(+bt),We):ve},We.paddingOuter=function(bt){return arguments.length?We.paddingTop(bt).paddingRight(bt).paddingBottom(bt).paddingLeft(bt):We.paddingTop()},We.paddingTop=function(bt){return arguments.length?(pe=typeof bt=="function"?bt:Xe(+bt),We):pe},We.paddingRight=function(bt){return arguments.length?(K=typeof bt=="function"?bt:Xe(+bt),We):K},We.paddingBottom=function(bt){return arguments.length?(oe=typeof bt=="function"?bt:Xe(+bt),We):oe},We.paddingLeft=function(bt){return arguments.length?(le=typeof bt=="function"?bt:Xe(+bt),We):le},We}function Pe(Oe,qe,Ct,O,H){var ve=Oe.children,pe,K=ve.length,oe,le=new Array(K+1);for(le[0]=oe=pe=0;pe<K;++pe)le[pe+1]=oe+=ve[pe].value;We(0,K,Oe.value,qe,Ct,O,H);function We(Rt,bt,ln,S,B,ee,_e){if(Rt>=bt-1){var ft=ve[Rt];ft.x0=S,ft.y0=B,ft.x1=ee,ft.y1=_e;return}for(var St=le[Rt],Jt=ln/2+St,Kt=Rt+1,hn=bt-1;Kt<hn;){var Bn=Kt+hn>>>1;le[Bn]<Jt?Kt=Bn+1:hn=Bn}Jt-le[Kt-1]<le[Kt]-Jt&&Rt+1<Kt&&--Kt;var jn=le[Kt]-St,Vn=ln-jn;if(ee-S>_e-B){var Jr=ln?(S*Vn+ee*jn)/ln:ee;We(Rt,Kt,jn,S,B,Jr,_e),We(Kt,bt,Vn,Jr,B,ee,_e)}else{var Vr=ln?(B*Vn+_e*jn)/ln:_e;We(Rt,Kt,jn,S,B,ee,Vr),We(Kt,bt,Vn,S,Vr,ee,_e)}}}function et(Oe,qe,Ct,O,H){(Oe.depth&1?Pn:Xt)(Oe,qe,Ct,O,H)}var At=function Oe(qe){function Ct(O,H,ve,pe,K){if((oe=O._squarify)&&oe.ratio===qe)for(var oe,le,We,Rt,bt=-1,ln,S=oe.length,B=O.value;++bt<S;){for(le=oe[bt],We=le.children,Rt=le.value=0,ln=We.length;Rt<ln;++Rt)le.value+=We[Rt].value;le.dice?Xt(le,H,ve,pe,B?ve+=(K-ve)*le.value/B:K):Pn(le,H,ve,B?H+=(pe-H)*le.value/B:pe,K),B-=le.value}else O._squarify=oe=Ye(qe,O,H,ve,pe,K),oe.ratio=qe}return Ct.ratio=function(O){return Oe((O=+O)>1?O:1)},Ct}(or);function fn(Oe){e.Transform.call(this,null,Oe)}fn.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};let on=Oe=>Oe.values;t.inherits(fn,e.Transform,{transform(Oe,qe){qe.source||t.error("Nest transform requires an upstream data source.");var Ct=Oe.generate,O=Oe.modified(),H=qe.clone(),ve=this.value;return(!ve||O||qe.changed())&&(ve&&ve.each(pe=>{pe.children&&e.isTuple(pe.data)&&H.rem.push(pe.data)}),this.value=ve=ot({values:t.array(Oe.keys).reduce((pe,K)=>(pe.key(K),pe),ct()).entries(H.source)},on),Ct&&ve.each(pe=>{pe.children&&(pe=e.ingest(pe.data),H.add.push(pe),H.source.push(pe))}),r(ve,e.tupleid,e.tupleid)),H.source.root=ve,H}});function ct(){let Oe=[],qe={entries:H=>O(Ct(H,0),0),key:H=>(Oe.push(H),qe)};function Ct(H,ve){if(ve>=Oe.length)return H;let pe=H.length,K=Oe[ve++],oe={},le={},We=-1,Rt,bt,ln;for(;++We<pe;)Rt=K(bt=H[We])+"",(ln=oe[Rt])?ln.push(bt):oe[Rt]=[bt];for(Rt in oe)le[Rt]=Ct(oe[Rt],ve);return le}function O(H,ve){if(++ve>Oe.length)return H;let pe=[];for(let K in H)pe.push({key:K,values:O(H[K],ve)});return pe}return qe}function re(Oe){e.Transform.call(this,null,Oe)}let Te=(Oe,qe)=>Oe.parent===qe.parent?1:2;t.inherits(re,e.Transform,{transform(Oe,qe){(!qe.source||!qe.source.root)&&t.error(this.constructor.name+" transform requires a backing tree data source.");let Ct=this.layout(Oe.method),O=this.fields,H=qe.source.root,ve=Oe.as||O;Oe.field?H.sum(Oe.field):H.count(),Oe.sort&&H.sort(e.stableCompare(Oe.sort,pe=>pe.data)),je(Ct,this.params,Oe),Ct.separation&&Ct.separation(Oe.separation!==!1?Te:t.one);try{this.value=Ct(H)}catch(pe){t.error(pe)}return H.each(pe=>ht(pe,O,ve)),qe.reflow(Oe.modified()).modifies(ve).modifies("leaf")}});function je(Oe,qe,Ct){for(let O,H=0,ve=qe.length;H<ve;++H)O=qe[H],O in Ct&&Oe[O](Ct[O])}function ht(Oe,qe,Ct){let O=Oe.data,H=qe.length-1;for(let ve=0;ve<H;++ve)O[Ct[ve]]=Oe[qe[ve]];O[Ct[H]]=Oe.children?Oe.children.length:0}let vt=["x","y","r","depth","children"];function Ft(Oe){re.call(this,Oe)}Ft.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:vt.length,default:vt}]},t.inherits(Ft,re,{layout:Ge,params:["radius","size","padding"],fields:vt});let ne=["x0","y0","x1","y1","depth","children"];function Se(Oe){re.call(this,Oe)}Se.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ne.length,default:ne}]},t.inherits(Se,re,{layout:bn,params:["size","round","padding"],fields:ne});function Ve(Oe){e.Transform.call(this,null,Oe)}Ve.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},t.inherits(Ve,e.Transform,{transform(Oe,qe){qe.source||t.error("Stratify transform requires an upstream data source.");let Ct=this.value,O=Oe.modified(),H=qe.fork(qe.ALL).materialize(qe.SOURCE),ve=!Ct||O||qe.changed(qe.ADD_REM)||qe.modified(Oe.key.fields)||qe.modified(Oe.parentKey.fields);return H.source=H.source.slice(),ve&&(Ct=H.source.length?r(sr().id(Oe.key).parentId(Oe.parentKey)(H.source),Oe.key,t.truthy):r(sr()([{}]),Oe.key,Oe.key)),H.source.root=this.value=Ct,H}});let nt={tidy:Zn,cluster:b},Bt=["x","y","depth","children"];function rn(Oe){re.call(this,Oe)}rn.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Bt.length,default:Bt}]},t.inherits(rn,re,{layout(Oe){let qe=Oe||"tidy";if(t.hasOwnProperty(nt,qe))return nt[qe]();t.error("Unrecognized Tree layout method: "+qe)},params:["size","nodeSize"],fields:Bt});function Sn(Oe){e.Transform.call(this,[],Oe)}Sn.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},t.inherits(Sn,e.Transform,{transform(Oe,qe){let Ct=this.value,O=qe.source&&qe.source.root,H=qe.fork(qe.NO_SOURCE),ve={};return O||t.error("TreeLinks transform requires a tree data source."),qe.changed(qe.ADD_REM)?(H.rem=Ct,qe.visit(qe.SOURCE,pe=>ve[e.tupleid(pe)]=1),O.each(pe=>{let K=pe.data,oe=pe.parent&&pe.parent.data;oe&&ve[e.tupleid(K)]&&ve[e.tupleid(oe)]&&H.add.push(e.ingest({source:oe,target:K}))}),this.value=H.add):qe.changed(qe.MOD)&&(qe.visit(qe.MOD,pe=>ve[e.tupleid(pe)]=1),Ct.forEach(pe=>{(ve[e.tupleid(pe.source)]||ve[e.tupleid(pe.target)])&&H.mod.push(pe)})),H}});let vn={binary:Pe,dice:Xt,slice:Pn,slicedice:et,squarify:gt,resquarify:At},xn=["x0","y0","x1","y1","depth","children"];function zn(Oe){re.call(this,Oe)}zn.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:xn.length,default:xn}]},t.inherits(zn,re,{layout(){let Oe=se();return Oe.ratio=qe=>{let Ct=Oe.tile();Ct.ratio&&Oe.tile(Ct.ratio(qe))},Oe.method=qe=>{t.hasOwnProperty(vn,qe)?Oe.tile(vn[qe]):t.error("Unrecognized Treemap layout method: "+qe)},Oe},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:xn}),n.nest=fn,n.pack=Ft,n.partition=Se,n.stratify=Ve,n.tree=rn,n.treelinks=Sn,n.treemap=zn,Object.defineProperty(n,"__esModule",{value:!0})})});var ZAe=we((Vz,XAe)=>{m();(function(n,e){typeof Vz=="object"&&typeof XAe!="undefined"?e(Vz,_9(),sN(),Jf(),Su()):typeof define=="function"&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega))})(Vz,function(n,e,t,r,i){"use strict";let s=4278190080;function o(kt,cn){let wt=kt.bitmap();return(cn||[]).forEach(Ee=>wt.set(kt(Ee.boundary[0]),kt(Ee.boundary[3]))),[wt,void 0]}function a(kt,cn,wt,Ee,Ie){let Ce=kt.width,fe=kt.height,rt=Ee||Ie,Xe=t.canvas(Ce,fe).getContext("2d"),de=t.canvas(Ce,fe).getContext("2d"),Ge=rt&&t.canvas(Ce,fe).getContext("2d");wt.forEach(Ne=>d(Xe,Ne,!1)),d(de,cn,!1),rt&&d(Ge,cn,!0);let Ot=c(Xe,Ce,fe),Nt=c(de,Ce,fe),zt=rt&&c(Ge,Ce,fe),en=kt.bitmap(),Xt=rt&&kt.bitmap(),bn,Tn,Dn,Ut,pn,qn,sr,In;for(Tn=0;Tn<fe;++Tn)for(bn=0;bn<Ce;++bn)pn=Tn*Ce+bn,qn=Ot[pn]&s,In=Nt[pn]&s,sr=rt&&zt[pn]&s,(qn||sr||In)&&(Dn=kt(bn),Ut=kt(Tn),!Ie&&(qn||In)&&en.set(Dn,Ut),rt&&(qn||sr)&&Xt.set(Dn,Ut));return[en,Xt]}function c(kt,cn,wt){return new Uint32Array(kt.getImageData(0,0,cn,wt).data.buffer)}function d(kt,cn,wt){if(!cn.length)return;let Ee=cn[0].mark.marktype;Ee==="group"?cn.forEach(Ie=>{Ie.items.forEach(Ce=>d(kt,Ce.items,wt))}):e.Marks[Ee].draw(kt,{items:wt?cn.map(p):cn})}function p(kt){let cn=r.rederive(kt,{});return cn.stroke&&cn.strokeOpacity!==0||cn.fill&&cn.fillOpacity!==0?{...cn,strokeOpacity:1,stroke:"#000",fillOpacity:0}:cn}let b=5,C=31,N=32,R=new Uint32Array(N+1),U=new Uint32Array(N+1);U[0]=0,R[0]=~U[0];for(let kt=1;kt<=N;++kt)U[kt]=U[kt-1]<<1|1,R[kt]=~U[kt];function V(kt,cn){let wt=new Uint32Array(~~((kt*cn+N)/N));function Ee(Ce,fe){wt[Ce]|=fe}function Ie(Ce,fe){wt[Ce]&=fe}return{array:wt,get:(Ce,fe)=>{let rt=fe*kt+Ce;return wt[rt>>>b]&1<<(rt&C)},set:(Ce,fe)=>{let rt=fe*kt+Ce;Ee(rt>>>b,1<<(rt&C))},clear:(Ce,fe)=>{let rt=fe*kt+Ce;Ie(rt>>>b,~(1<<(rt&C)))},getRange:(Ce,fe,rt,Xe)=>{let de=Xe,Ge,Ot,Nt,zt;for(;de>=fe;--de)if(Ge=de*kt+Ce,Ot=de*kt+rt,Nt=Ge>>>b,zt=Ot>>>b,Nt===zt){if(wt[Nt]&R[Ge&C]&U[(Ot&C)+1])return!0}else{if(wt[Nt]&R[Ge&C]||wt[zt]&U[(Ot&C)+1])return!0;for(let en=Nt+1;en<zt;++en)if(wt[en])return!0}return!1},setRange:(Ce,fe,rt,Xe)=>{let de,Ge,Ot,Nt,zt;for(;fe<=Xe;++fe)if(de=fe*kt+Ce,Ge=fe*kt+rt,Ot=de>>>b,Nt=Ge>>>b,Ot===Nt)Ee(Ot,R[de&C]&U[(Ge&C)+1]);else for(Ee(Ot,R[de&C]),Ee(Nt,U[(Ge&C)+1]),zt=Ot+1;zt<Nt;++zt)Ee(zt,4294967295)},clearRange:(Ce,fe,rt,Xe)=>{let de,Ge,Ot,Nt,zt;for(;fe<=Xe;++fe)if(de=fe*kt+Ce,Ge=fe*kt+rt,Ot=de>>>b,Nt=Ge>>>b,Ot===Nt)Ie(Ot,U[de&C]|R[(Ge&C)+1]);else for(Ie(Ot,U[de&C]),Ie(Nt,R[(Ge&C)+1]),zt=Ot+1;zt<Nt;++zt)Ie(zt,0)},outOfBounds:(Ce,fe,rt,Xe)=>Ce<0||fe<0||Xe>=cn||rt>=kt}}function P(kt,cn,wt){let Ee=Math.max(1,Math.sqrt(kt*cn/1e6)),Ie=~~((kt+2*wt+Ee)/Ee),Ce=~~((cn+2*wt+Ee)/Ee),fe=rt=>~~((rt+wt)/Ee);return fe.invert=rt=>rt*Ee-wt,fe.bitmap=()=>V(Ie,Ce),fe.ratio=Ee,fe.padding=wt,fe.width=kt,fe.height=cn,fe}function $(kt,cn,wt,Ee){let Ie=kt.width,Ce=kt.height;return function(fe){let rt=fe.datum.datum.items[Ee].items,Xe=rt.length,de=fe.datum.fontSize,Ge=e.textMetrics.width(fe.datum,fe.datum.text),Ot=0,Nt,zt,en,Xt,bn,Tn,Dn;for(let Ut=0;Ut<Xe;++Ut)Nt=rt[Ut].x,en=rt[Ut].y,zt=rt[Ut].x2===void 0?Nt:rt[Ut].x2,Xt=rt[Ut].y2===void 0?en:rt[Ut].y2,bn=(Nt+zt)/2,Tn=(en+Xt)/2,Dn=Math.abs(zt-Nt+Xt-en),Dn>=Ot&&(Ot=Dn,fe.x=bn,fe.y=Tn);return bn=Ge/2,Tn=de/2,Nt=fe.x-bn,zt=fe.x+bn,en=fe.y-Tn,Xt=fe.y+Tn,fe.align="center",Nt<0&&zt<=Ie?fe.align="left":0<=Nt&&Ie<zt&&(fe.align="right"),fe.baseline="middle",en<0&&Xt<=Ce?fe.baseline="top":0<=en&&Ce<Xt&&(fe.baseline="bottom"),!0}}function M(kt,cn,wt,Ee,Ie,Ce){let fe=wt/2;return kt-fe<0||kt+fe>Ie||cn-(fe=Ee/2)<0||cn+fe>Ce}function G(kt,cn,wt,Ee,Ie,Ce,fe,rt){let Xe=Ie*Ce/(Ee*2),de=kt(cn-Xe),Ge=kt(cn+Xe),Ot=kt(wt-(Ce=Ce/2)),Nt=kt(wt+Ce);return fe.outOfBounds(de,Ot,Ge,Nt)||fe.getRange(de,Ot,Ge,Nt)||rt&&rt.getRange(de,Ot,Ge,Nt)}function ae(kt,cn,wt,Ee){let Ie=kt.width,Ce=kt.height,fe=cn[0],rt=cn[1];function Xe(de,Ge,Ot,Nt,zt){let en=kt.invert(de),Xt=kt.invert(Ge),bn=Ot,Tn=Ce,Dn;if(!M(en,Xt,Nt,zt,Ie,Ce)&&!G(kt,en,Xt,zt,Nt,bn,fe,rt)&&!G(kt,en,Xt,zt,Nt,zt,fe,null)){for(;Tn-bn>=1;)Dn=(bn+Tn)/2,G(kt,en,Xt,zt,Nt,Dn,fe,rt)?Tn=Dn:bn=Dn;if(bn>Ot)return[en,Xt,bn,!0]}}return function(de){let Ge=de.datum.datum.items[Ee].items,Ot=Ge.length,Nt=de.datum.fontSize,zt=e.textMetrics.width(de.datum,de.datum.text),en=wt?Nt:0,Xt=!1,bn=!1,Tn=0,Dn,Ut,pn,qn,sr,In,Ne,$e,De,qt,yt,mt,nn,Wt,Fn,Qn,Zn;for(let Pn=0;Pn<Ot;++Pn){for(Dn=Ge[Pn].x,pn=Ge[Pn].y,Ut=Ge[Pn].x2===void 0?Dn:Ge[Pn].x2,qn=Ge[Pn].y2===void 0?pn:Ge[Pn].y2,Dn>Ut&&(Zn=Dn,Dn=Ut,Ut=Zn),pn>qn&&(Zn=pn,pn=qn,qn=Zn),De=kt(Dn),yt=kt(Ut),qt=~~((De+yt)/2),mt=kt(pn),Wt=kt(qn),nn=~~((mt+Wt)/2),Ne=qt;Ne>=De;--Ne)for($e=nn;$e>=mt;--$e)Qn=Xe(Ne,$e,en,zt,Nt),Qn&&([de.x,de.y,en,Xt]=Qn);for(Ne=qt;Ne<=yt;++Ne)for($e=nn;$e<=Wt;++$e)Qn=Xe(Ne,$e,en,zt,Nt),Qn&&([de.x,de.y,en,Xt]=Qn);!Xt&&!wt&&(Fn=Math.abs(Ut-Dn+qn-pn),sr=(Dn+Ut)/2,In=(pn+qn)/2,Fn>=Tn&&!M(sr,In,zt,Nt,Ie,Ce)&&!G(kt,sr,In,Nt,zt,Nt,fe,null)&&(Tn=Fn,de.x=sr,de.y=In,bn=!0))}return Xt||bn?(sr=zt/2,In=Nt/2,fe.setRange(kt(de.x-sr),kt(de.y-In),kt(de.x+sr),kt(de.y+In)),de.align="center",de.baseline="middle",!0):!1}}let I=[-1,-1,1,1],Z=[-1,1,-1,1];function me(kt,cn,wt,Ee){let Ie=kt.width,Ce=kt.height,fe=cn[0],rt=cn[1],Xe=kt.bitmap();return function(de){let Ge=de.datum.datum.items[Ee].items,Ot=Ge.length,Nt=de.datum.fontSize,zt=e.textMetrics.width(de.datum,de.datum.text),en=[],Xt=wt?Nt:0,bn=!1,Tn=!1,Dn=0,Ut,pn,qn,sr,In,Ne,$e,De,qt,yt,mt,nn;for(let Wt=0;Wt<Ot;++Wt){for(Ut=Ge[Wt].x,qn=Ge[Wt].y,pn=Ge[Wt].x2===void 0?Ut:Ge[Wt].x2,sr=Ge[Wt].y2===void 0?qn:Ge[Wt].y2,en.push([kt((Ut+pn)/2),kt((qn+sr)/2)]);en.length;)if([$e,De]=en.pop(),!(fe.get($e,De)||rt.get($e,De)||Xe.get($e,De))){Xe.set($e,De);for(let Fn=0;Fn<4;++Fn)In=$e+I[Fn],Ne=De+Z[Fn],Xe.outOfBounds(In,Ne,In,Ne)||en.push([In,Ne]);if(In=kt.invert($e),Ne=kt.invert(De),qt=Xt,yt=Ce,!M(In,Ne,zt,Nt,Ie,Ce)&&!G(kt,In,Ne,Nt,zt,qt,fe,rt)&&!G(kt,In,Ne,Nt,zt,Nt,fe,null)){for(;yt-qt>=1;)mt=(qt+yt)/2,G(kt,In,Ne,Nt,zt,mt,fe,rt)?yt=mt:qt=mt;qt>Xt&&(de.x=In,de.y=Ne,Xt=qt,bn=!0)}}!bn&&!wt&&(nn=Math.abs(pn-Ut+sr-qn),In=(Ut+pn)/2,Ne=(qn+sr)/2,nn>=Dn&&!M(In,Ne,zt,Nt,Ie,Ce)&&!G(kt,In,Ne,Nt,zt,Nt,fe,null)&&(Dn=nn,de.x=In,de.y=Ne,Tn=!0))}return bn||Tn?(In=zt/2,Ne=Nt/2,fe.setRange(kt(de.x-In),kt(de.y-Ne),kt(de.x+In),kt(de.y+Ne)),de.align="center",de.baseline="middle",!0):!1}}let ye=["right","center","left"],He=["bottom","middle","top"];function ot(kt,cn,wt,Ee){let Ie=kt.width,Ce=kt.height,fe=cn[0],rt=cn[1],Xe=Ee.length;return function(de){let Ge=de.boundary,Ot=de.datum.fontSize;if(Ge[2]<0||Ge[5]<0||Ge[0]>Ie||Ge[3]>Ce)return!1;let Nt=de.textWidth??0,zt,en,Xt,bn,Tn,Dn,Ut,pn,qn,sr,In,Ne,$e,De,qt;for(let yt=0;yt<Xe;++yt){if(zt=(wt[yt]&3)-1,en=(wt[yt]>>>2&3)-1,Xt=zt===0&&en===0||Ee[yt]<0,bn=zt&&en?Math.SQRT1_2:1,Tn=Ee[yt]<0?-1:1,Dn=Ge[1+zt]+Ee[yt]*zt*bn,In=Ge[4+en]+Tn*Ot*en/2+Ee[yt]*en*bn,pn=In-Ot/2,qn=In+Ot/2,Ne=kt(Dn),De=kt(pn),qt=kt(qn),!Nt)if(at(Ne,Ne,De,qt,fe,rt,Dn,Dn,pn,qn,Ge,Xt))Nt=e.textMetrics.width(de.datum,de.datum.text);else continue;if(sr=Dn+Tn*Nt*zt/2,Dn=sr-Nt/2,Ut=sr+Nt/2,Ne=kt(Dn),$e=kt(Ut),at(Ne,$e,De,qt,fe,rt,Dn,Ut,pn,qn,Ge,Xt))return de.x=zt?zt*Tn<0?Ut:Dn:sr,de.y=en?en*Tn<0?qn:pn:In,de.align=ye[zt*Tn+1],de.baseline=He[en*Tn+1],fe.setRange(Ne,De,$e,qt),!0}return!1}}function at(kt,cn,wt,Ee,Ie,Ce,fe,rt,Xe,de,Ge,Ot){return!(Ie.outOfBounds(kt,wt,cn,Ee)||(Ot&&Ce||Ie).getRange(kt,wt,cn,Ee))}let Ze=0,Tt=4,Mt=8,Ue=0,te=1,st=2,be={"top-left":Ze+Ue,top:Ze+te,"top-right":Ze+st,left:Tt+Ue,middle:Tt+te,right:Tt+st,"bottom-left":Mt+Ue,bottom:Mt+te,"bottom-right":Mt+st},Re={naive:$,"reduced-search":ae,floodfill:me};function Ae(kt,cn,wt,Ee,Ie,Ce,fe,rt,Xe,de,Ge){if(!kt.length)return kt;let Ot=Math.max(Ee.length,Ie.length),Nt=xe(Ee,Ot),zt=Je(Ie,Ot),en=lt(kt[0].datum),Xt=en==="group"&&kt[0].datum.items[Xe].marktype,bn=Xt==="area",Tn=Qt(en,Xt,rt,Xe),Dn=de===null||de===1/0,Ut=bn&&Ge==="naive",pn=-1,qn=-1,sr=kt.map(De=>{let qt=Dn?e.textMetrics.width(De,De.text):void 0;return pn=Math.max(pn,qt),qn=Math.max(qn,De.fontSize),{datum:De,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:Tn(De),textWidth:qt}});de=de===null||de===1/0?Math.max(pn,qn)+Math.max(...Ee):de;let In=P(cn[0],cn[1],de),Ne;if(!Ut){wt&&sr.sort((yt,mt)=>wt(yt.datum,mt.datum));let De=!1;for(let yt=0;yt<zt.length&&!De;++yt)De=zt[yt]===5||Nt[yt]<0;let qt=(en&&fe||bn)&&kt.map(yt=>yt.datum);Ne=Ce.length||qt?a(In,qt||[],Ce,De,bn):o(In,fe&&sr)}let $e=bn?Re[Ge](In,Ne,fe,Xe):ot(In,Ne,zt,Nt);return sr.forEach(De=>De.opacity=+$e(De)),sr}function xe(kt,cn){let wt=new Float64Array(cn),Ee=kt.length;for(let Ie=0;Ie<Ee;++Ie)wt[Ie]=kt[Ie]||0;for(let Ie=Ee;Ie<cn;++Ie)wt[Ie]=wt[Ee-1];return wt}function Je(kt,cn){let wt=new Int8Array(cn),Ee=kt.length;for(let Ie=0;Ie<Ee;++Ie)wt[Ie]|=be[kt[Ie]];for(let Ie=Ee;Ie<cn;++Ie)wt[Ie]=wt[Ee-1];return wt}function lt(kt){return kt&&kt.mark&&kt.mark.marktype}function Qt(kt,cn,wt,Ee){let Ie=Ce=>[Ce.x,Ce.x,Ce.x,Ce.y,Ce.y,Ce.y];return kt?kt==="line"||kt==="area"?Ce=>Ie(Ce.datum):cn==="line"?Ce=>{let fe=Ce.datum.items[Ee].items;return Ie(fe.length?fe[wt==="start"?0:fe.length-1]:{x:NaN,y:NaN})}:Ce=>{let fe=Ce.datum.bounds;return[fe.x1,(fe.x1+fe.x2)/2,fe.x2,fe.y1,(fe.y1+fe.y2)/2,fe.y2]}:Ie}let Et=["x","y","opacity","align","baseline"],mn=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Lt(kt){r.Transform.call(this,null,kt)}Lt.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:mn},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Et.length,default:Et}]},i.inherits(Lt,r.Transform,{transform(kt,cn){function wt(Ce){let fe=kt[Ce];return i.isFunction(fe)&&cn.modified(fe.fields)}let Ee=kt.modified();if(!(Ee||cn.changed(cn.ADD_REM)||wt("sort")))return;(!kt.size||kt.size.length!==2)&&i.error("Size parameter should be specified as a [width, height] array.");let Ie=kt.as||Et;return Ae(cn.materialize(cn.SOURCE).source||[],kt.size,kt.sort,i.array(kt.offset==null?1:kt.offset),i.array(kt.anchor||mn),kt.avoidMarks||[],kt.avoidBaseMark!==!1,kt.lineAnchor||"end",kt.markIndex||0,kt.padding===void 0?0:kt.padding,kt.method||"naive").forEach(Ce=>{let fe=Ce.datum;fe[Ie[0]]=Ce.x,fe[Ie[1]]=Ce.y,fe[Ie[2]]=Ce.opacity,fe[Ie[3]]=Ce.align,fe[Ie[4]]=Ce.baseline}),cn.reflow(Ee).modifies(Ie)}}),n.label=Lt,Object.defineProperty(n,"__esModule",{value:!0})})});var tTe=we((Wz,eTe)=>{m();(function(n,e){typeof Wz=="object"&&typeof eTe!="undefined"?e(Wz,Fb(),Jf(),Su()):typeof define=="function"&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(Wz,function(n,e,t,r){"use strict";function i(d,p){var b=[],C=function(M){return M(V)},N,R,U,V,P,$;if(p==null)b.push(d);else for(N={},R=0,U=d.length;R<U;++R)V=d[R],P=p.map(C),$=N[P],$||(N[P]=$=[],$.dims=P,b.push($)),$.push(V);return b}function s(d){t.Transform.call(this,null,d)}s.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},r.inherits(s,t.Transform,{transform(d,p){let b=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||d.modified()){let C=p.materialize(p.SOURCE).source,N=i(C,d.groupby),R=(d.groupby||[]).map(r.accessorName),U=R.length,V=d.as||[r.accessorName(d.x),r.accessorName(d.y)],P=[];N.forEach($=>{e.regressionLoess($,d.x,d.y,d.bandwidth||.3).forEach(M=>{let G={};for(let ae=0;ae<U;++ae)G[R[ae]]=$.dims[ae];G[V[0]]=M[0],G[V[1]]=M[1],P.push(t.ingest(G))})}),this.value&&(b.rem=this.value),this.value=b.add=b.source=P}return b}});let o={linear:e.regressionLinear,log:e.regressionLog,exp:e.regressionExp,pow:e.regressionPow,quad:e.regressionQuad,poly:e.regressionPoly},a=(d,p)=>d==="poly"?p:d==="quad"?2:1;function c(d){t.Transform.call(this,null,d)}c.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(o)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},r.inherits(c,t.Transform,{transform(d,p){let b=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||d.modified()){let C=p.materialize(p.SOURCE).source,N=i(C,d.groupby),R=(d.groupby||[]).map(r.accessorName),U=d.method||"linear",V=d.order||3,P=a(U,V),$=d.as||[r.accessorName(d.x),r.accessorName(d.y)],M=o[U],G=[],ae=d.extent;r.hasOwnProperty(o,U)||r.error("Invalid regression method: "+U),ae!=null&&U==="log"&&ae[0]<=0&&(p.dataflow.warn("Ignoring extent with values <= 0 for log regression."),ae=null),N.forEach(I=>{if(I.length<=P){p.dataflow.warn("Skipping regression with more parameters than data points.");return}let me=M(I,d.x,d.y,V);if(d.params){G.push(t.ingest({keys:I.dims,coef:me.coef,rSquared:me.rSquared}));return}let ye=ae||r.extent(I,d.x),He=ot=>{let at={};for(let Ze=0;Ze<R.length;++Ze)at[R[Ze]]=I.dims[Ze];at[$[0]]=ot[0],at[$[1]]=ot[1],G.push(t.ingest(at))};U==="linear"?ye.forEach(ot=>He([ot,me.predict(ot)])):e.sampleCurve(me.predict,ye,25,200).forEach(He)}),this.value&&(b.rem=this.value),this.value=b.add=b.source=G}return b}}),n.loess=s,n.regression=c,Object.defineProperty(n,"__esModule",{value:!0})})});var rTe=we((Qz,nTe)=>{m();(function(n,e){typeof Qz=="object"&&typeof nTe!="undefined"?e(Qz,Jf(),Su()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(Qz,function(n,e,t){"use strict";let r=11102230246251565e-32,i=134217729,s=(3+8*r)*r;function o(wt,Ee,Ie,Ce,fe){let rt,Xe,de,Ge,Ot=Ee[0],Nt=Ce[0],zt=0,en=0;Nt>Ot==Nt>-Ot?(rt=Ot,Ot=Ee[++zt]):(rt=Nt,Nt=Ce[++en]);let Xt=0;if(zt<wt&&en<Ie)for(Nt>Ot==Nt>-Ot?(Xe=Ot+rt,de=rt-(Xe-Ot),Ot=Ee[++zt]):(Xe=Nt+rt,de=rt-(Xe-Nt),Nt=Ce[++en]),rt=Xe,de!==0&&(fe[Xt++]=de);zt<wt&&en<Ie;)Nt>Ot==Nt>-Ot?(Xe=rt+Ot,Ge=Xe-rt,de=rt-(Xe-Ge)+(Ot-Ge),Ot=Ee[++zt]):(Xe=rt+Nt,Ge=Xe-rt,de=rt-(Xe-Ge)+(Nt-Ge),Nt=Ce[++en]),rt=Xe,de!==0&&(fe[Xt++]=de);for(;zt<wt;)Xe=rt+Ot,Ge=Xe-rt,de=rt-(Xe-Ge)+(Ot-Ge),Ot=Ee[++zt],rt=Xe,de!==0&&(fe[Xt++]=de);for(;en<Ie;)Xe=rt+Nt,Ge=Xe-rt,de=rt-(Xe-Ge)+(Nt-Ge),Nt=Ce[++en],rt=Xe,de!==0&&(fe[Xt++]=de);return(rt!==0||Xt===0)&&(fe[Xt++]=rt),Xt}function a(wt,Ee){let Ie=Ee[0];for(let Ce=1;Ce<wt;Ce++)Ie+=Ee[Ce];return Ie}function c(wt){return new Float64Array(wt)}let d=(3+16*r)*r,p=(2+12*r)*r,b=(9+64*r)*r*r,C=c(4),N=c(8),R=c(12),U=c(16),V=c(4);function P(wt,Ee,Ie,Ce,fe,rt,Xe){let de,Ge,Ot,Nt,zt,en,Xt,bn,Tn,Dn,Ut,pn,qn,sr,In,Ne,$e,De,qt=wt-fe,yt=Ie-fe,mt=Ee-rt,nn=Ce-rt;sr=qt*nn,en=i*qt,Xt=en-(en-qt),bn=qt-Xt,en=i*nn,Tn=en-(en-nn),Dn=nn-Tn,In=bn*Dn-(sr-Xt*Tn-bn*Tn-Xt*Dn),Ne=mt*yt,en=i*mt,Xt=en-(en-mt),bn=mt-Xt,en=i*yt,Tn=en-(en-yt),Dn=yt-Tn,$e=bn*Dn-(Ne-Xt*Tn-bn*Tn-Xt*Dn),Ut=In-$e,zt=In-Ut,C[0]=In-(Ut+zt)+(zt-$e),pn=sr+Ut,zt=pn-sr,qn=sr-(pn-zt)+(Ut-zt),Ut=qn-Ne,zt=qn-Ut,C[1]=qn-(Ut+zt)+(zt-Ne),De=pn+Ut,zt=De-pn,C[2]=pn-(De-zt)+(Ut-zt),C[3]=De;let Wt=a(4,C),Fn=p*Xe;if(Wt>=Fn||-Wt>=Fn||(zt=wt-qt,de=wt-(qt+zt)+(zt-fe),zt=Ie-yt,Ot=Ie-(yt+zt)+(zt-fe),zt=Ee-mt,Ge=Ee-(mt+zt)+(zt-rt),zt=Ce-nn,Nt=Ce-(nn+zt)+(zt-rt),de===0&&Ge===0&&Ot===0&&Nt===0)||(Fn=b*Xe+s*Math.abs(Wt),Wt+=qt*Nt+nn*de-(mt*Ot+yt*Ge),Wt>=Fn||-Wt>=Fn))return Wt;sr=de*nn,en=i*de,Xt=en-(en-de),bn=de-Xt,en=i*nn,Tn=en-(en-nn),Dn=nn-Tn,In=bn*Dn-(sr-Xt*Tn-bn*Tn-Xt*Dn),Ne=Ge*yt,en=i*Ge,Xt=en-(en-Ge),bn=Ge-Xt,en=i*yt,Tn=en-(en-yt),Dn=yt-Tn,$e=bn*Dn-(Ne-Xt*Tn-bn*Tn-Xt*Dn),Ut=In-$e,zt=In-Ut,V[0]=In-(Ut+zt)+(zt-$e),pn=sr+Ut,zt=pn-sr,qn=sr-(pn-zt)+(Ut-zt),Ut=qn-Ne,zt=qn-Ut,V[1]=qn-(Ut+zt)+(zt-Ne),De=pn+Ut,zt=De-pn,V[2]=pn-(De-zt)+(Ut-zt),V[3]=De;let Qn=o(4,C,4,V,N);sr=qt*Nt,en=i*qt,Xt=en-(en-qt),bn=qt-Xt,en=i*Nt,Tn=en-(en-Nt),Dn=Nt-Tn,In=bn*Dn-(sr-Xt*Tn-bn*Tn-Xt*Dn),Ne=mt*Ot,en=i*mt,Xt=en-(en-mt),bn=mt-Xt,en=i*Ot,Tn=en-(en-Ot),Dn=Ot-Tn,$e=bn*Dn-(Ne-Xt*Tn-bn*Tn-Xt*Dn),Ut=In-$e,zt=In-Ut,V[0]=In-(Ut+zt)+(zt-$e),pn=sr+Ut,zt=pn-sr,qn=sr-(pn-zt)+(Ut-zt),Ut=qn-Ne,zt=qn-Ut,V[1]=qn-(Ut+zt)+(zt-Ne),De=pn+Ut,zt=De-pn,V[2]=pn-(De-zt)+(Ut-zt),V[3]=De;let Zn=o(Qn,N,4,V,R);sr=de*Nt,en=i*de,Xt=en-(en-de),bn=de-Xt,en=i*Nt,Tn=en-(en-Nt),Dn=Nt-Tn,In=bn*Dn-(sr-Xt*Tn-bn*Tn-Xt*Dn),Ne=Ge*Ot,en=i*Ge,Xt=en-(en-Ge),bn=Ge-Xt,en=i*Ot,Tn=en-(en-Ot),Dn=Ot-Tn,$e=bn*Dn-(Ne-Xt*Tn-bn*Tn-Xt*Dn),Ut=In-$e,zt=In-Ut,V[0]=In-(Ut+zt)+(zt-$e),pn=sr+Ut,zt=pn-sr,qn=sr-(pn-zt)+(Ut-zt),Ut=qn-Ne,zt=qn-Ut,V[1]=qn-(Ut+zt)+(zt-Ne),De=pn+Ut,zt=De-pn,V[2]=pn-(De-zt)+(Ut-zt),V[3]=De;let Pn=o(Zn,R,4,V,U);return U[Pn-1]}function $(wt,Ee,Ie,Ce,fe,rt){let Xe=(Ee-rt)*(Ie-fe),de=(wt-fe)*(Ce-rt),Ge=Xe-de;if(Xe===0||de===0||Xe>0!=de>0)return Ge;let Ot=Math.abs(Xe+de);return Math.abs(Ge)>=d*Ot?Ge:-P(wt,Ee,Ie,Ce,fe,rt,Ot)}let M=Math.pow(2,-52),G=new Uint32Array(512);class ae{static from(Ee,Ie=Ze,Ce=Tt){let fe=Ee.length,rt=new Float64Array(fe*2);for(let Xe=0;Xe<fe;Xe++){let de=Ee[Xe];rt[2*Xe]=Ie(de),rt[2*Xe+1]=Ce(de)}return new ae(rt)}constructor(Ee){let Ie=Ee.length>>1;if(Ie>0&&typeof Ee[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=Ee;let Ce=Math.max(2*Ie-5,0);this._triangles=new Uint32Array(Ce*3),this._halfedges=new Int32Array(Ce*3),this._hashSize=Math.ceil(Math.sqrt(Ie)),this._hullPrev=new Uint32Array(Ie),this._hullNext=new Uint32Array(Ie),this._hullTri=new Uint32Array(Ie),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(Ie),this._dists=new Float64Array(Ie),this.update()}update(){let{coords:Ee,_hullPrev:Ie,_hullNext:Ce,_hullTri:fe,_hullHash:rt}=this,Xe=Ee.length>>1,de=1/0,Ge=1/0,Ot=-1/0,Nt=-1/0;for(let yt=0;yt<Xe;yt++){let mt=Ee[2*yt],nn=Ee[2*yt+1];mt<de&&(de=mt),nn<Ge&&(Ge=nn),mt>Ot&&(Ot=mt),nn>Nt&&(Nt=nn),this._ids[yt]=yt}let zt=(de+Ot)/2,en=(Ge+Nt)/2,Xt=1/0,bn,Tn,Dn;for(let yt=0;yt<Xe;yt++){let mt=Z(zt,en,Ee[2*yt],Ee[2*yt+1]);mt<Xt&&(bn=yt,Xt=mt)}let Ut=Ee[2*bn],pn=Ee[2*bn+1];Xt=1/0;for(let yt=0;yt<Xe;yt++){if(yt===bn)continue;let mt=Z(Ut,pn,Ee[2*yt],Ee[2*yt+1]);mt<Xt&&mt>0&&(Tn=yt,Xt=mt)}let qn=Ee[2*Tn],sr=Ee[2*Tn+1],In=1/0;for(let yt=0;yt<Xe;yt++){if(yt===bn||yt===Tn)continue;let mt=ye(Ut,pn,qn,sr,Ee[2*yt],Ee[2*yt+1]);mt<In&&(Dn=yt,In=mt)}let Ne=Ee[2*Dn],$e=Ee[2*Dn+1];if(In===1/0){for(let nn=0;nn<Xe;nn++)this._dists[nn]=Ee[2*nn]-Ee[0]||Ee[2*nn+1]-Ee[1];ot(this._ids,this._dists,0,Xe-1);let yt=new Uint32Array(Xe),mt=0;for(let nn=0,Wt=-1/0;nn<Xe;nn++){let Fn=this._ids[nn];this._dists[Fn]>Wt&&(yt[mt++]=Fn,Wt=this._dists[Fn])}this.hull=yt.subarray(0,mt),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if($(Ut,pn,qn,sr,Ne,$e)<0){let yt=Tn,mt=qn,nn=sr;Tn=Dn,qn=Ne,sr=$e,Dn=yt,Ne=mt,$e=nn}let De=He(Ut,pn,qn,sr,Ne,$e);this._cx=De.x,this._cy=De.y;for(let yt=0;yt<Xe;yt++)this._dists[yt]=Z(Ee[2*yt],Ee[2*yt+1],De.x,De.y);ot(this._ids,this._dists,0,Xe-1),this._hullStart=bn;let qt=3;Ce[bn]=Ie[Dn]=Tn,Ce[Tn]=Ie[bn]=Dn,Ce[Dn]=Ie[Tn]=bn,fe[bn]=0,fe[Tn]=1,fe[Dn]=2,rt.fill(-1),rt[this._hashKey(Ut,pn)]=bn,rt[this._hashKey(qn,sr)]=Tn,rt[this._hashKey(Ne,$e)]=Dn,this.trianglesLen=0,this._addTriangle(bn,Tn,Dn,-1,-1,-1);for(let yt=0,mt,nn;yt<this._ids.length;yt++){let Wt=this._ids[yt],Fn=Ee[2*Wt],Qn=Ee[2*Wt+1];if(yt>0&&Math.abs(Fn-mt)<=M&&Math.abs(Qn-nn)<=M||(mt=Fn,nn=Qn,Wt===bn||Wt===Tn||Wt===Dn))continue;let Zn=0;for(let se=0,Pe=this._hashKey(Fn,Qn);se<this._hashSize&&(Zn=rt[(Pe+se)%this._hashSize],!(Zn!==-1&&Zn!==Ce[Zn]));se++);Zn=Ie[Zn];let Pn=Zn,or;for(;or=Ce[Pn],$(Fn,Qn,Ee[2*Pn],Ee[2*Pn+1],Ee[2*or],Ee[2*or+1])>=0;)if(Pn=or,Pn===Zn){Pn=-1;break}if(Pn===-1)continue;let Ye=this._addTriangle(Pn,Wt,Ce[Pn],-1,-1,fe[Pn]);fe[Wt]=this._legalize(Ye+2),fe[Pn]=Ye,qt++;let gt=Ce[Pn];for(;or=Ce[gt],$(Fn,Qn,Ee[2*gt],Ee[2*gt+1],Ee[2*or],Ee[2*or+1])<0;)Ye=this._addTriangle(gt,Wt,or,fe[Wt],-1,fe[gt]),fe[Wt]=this._legalize(Ye+2),Ce[gt]=gt,qt--,gt=or;if(Pn===Zn)for(;or=Ie[Pn],$(Fn,Qn,Ee[2*or],Ee[2*or+1],Ee[2*Pn],Ee[2*Pn+1])<0;)Ye=this._addTriangle(or,Wt,Pn,-1,fe[Pn],fe[or]),this._legalize(Ye+2),fe[or]=Ye,Ce[Pn]=Pn,qt--,Pn=or;this._hullStart=Ie[Wt]=Pn,Ce[Pn]=Ie[gt]=Wt,Ce[Wt]=gt,rt[this._hashKey(Fn,Qn)]=Wt,rt[this._hashKey(Ee[2*Pn],Ee[2*Pn+1])]=Pn}this.hull=new Uint32Array(qt);for(let yt=0,mt=this._hullStart;yt<qt;yt++)this.hull[yt]=mt,mt=Ce[mt];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(Ee,Ie){return Math.floor(I(Ee-this._cx,Ie-this._cy)*this._hashSize)%this._hashSize}_legalize(Ee){let{_triangles:Ie,_halfedges:Ce,coords:fe}=this,rt=0,Xe=0;for(;;){let de=Ce[Ee],Ge=Ee-Ee%3;if(Xe=Ge+(Ee+2)%3,de===-1){if(rt===0)break;Ee=G[--rt];continue}let Ot=de-de%3,Nt=Ge+(Ee+1)%3,zt=Ot+(de+2)%3,en=Ie[Xe],Xt=Ie[Ee],bn=Ie[Nt],Tn=Ie[zt];if(me(fe[2*en],fe[2*en+1],fe[2*Xt],fe[2*Xt+1],fe[2*bn],fe[2*bn+1],fe[2*Tn],fe[2*Tn+1])){Ie[Ee]=Tn,Ie[de]=en;let Ut=Ce[zt];if(Ut===-1){let qn=this._hullStart;do{if(this._hullTri[qn]===zt){this._hullTri[qn]=Ee;break}qn=this._hullPrev[qn]}while(qn!==this._hullStart)}this._link(Ee,Ut),this._link(de,Ce[Xe]),this._link(Xe,zt);let pn=Ot+(de+1)%3;rt<G.length&&(G[rt++]=pn)}else{if(rt===0)break;Ee=G[--rt]}}return Xe}_link(Ee,Ie){this._halfedges[Ee]=Ie,Ie!==-1&&(this._halfedges[Ie]=Ee)}_addTriangle(Ee,Ie,Ce,fe,rt,Xe){let de=this.trianglesLen;return this._triangles[de]=Ee,this._triangles[de+1]=Ie,this._triangles[de+2]=Ce,this._link(de,fe),this._link(de+1,rt),this._link(de+2,Xe),this.trianglesLen+=3,de}}function I(wt,Ee){let Ie=wt/(Math.abs(wt)+Math.abs(Ee));return(Ee>0?3-Ie:1+Ie)/4}function Z(wt,Ee,Ie,Ce){let fe=wt-Ie,rt=Ee-Ce;return fe*fe+rt*rt}function me(wt,Ee,Ie,Ce,fe,rt,Xe,de){let Ge=wt-Xe,Ot=Ee-de,Nt=Ie-Xe,zt=Ce-de,en=fe-Xe,Xt=rt-de,bn=Ge*Ge+Ot*Ot,Tn=Nt*Nt+zt*zt,Dn=en*en+Xt*Xt;return Ge*(zt*Dn-Tn*Xt)-Ot*(Nt*Dn-Tn*en)+bn*(Nt*Xt-zt*en)<0}function ye(wt,Ee,Ie,Ce,fe,rt){let Xe=Ie-wt,de=Ce-Ee,Ge=fe-wt,Ot=rt-Ee,Nt=Xe*Xe+de*de,zt=Ge*Ge+Ot*Ot,en=.5/(Xe*Ot-de*Ge),Xt=(Ot*Nt-de*zt)*en,bn=(Xe*zt-Ge*Nt)*en;return Xt*Xt+bn*bn}function He(wt,Ee,Ie,Ce,fe,rt){let Xe=Ie-wt,de=Ce-Ee,Ge=fe-wt,Ot=rt-Ee,Nt=Xe*Xe+de*de,zt=Ge*Ge+Ot*Ot,en=.5/(Xe*Ot-de*Ge),Xt=wt+(Ot*Nt-de*zt)*en,bn=Ee+(Xe*zt-Ge*Nt)*en;return{x:Xt,y:bn}}function ot(wt,Ee,Ie,Ce){if(Ce-Ie<=20)for(let fe=Ie+1;fe<=Ce;fe++){let rt=wt[fe],Xe=Ee[rt],de=fe-1;for(;de>=Ie&&Ee[wt[de]]>Xe;)wt[de+1]=wt[de--];wt[de+1]=rt}else{let fe=Ie+Ce>>1,rt=Ie+1,Xe=Ce;at(wt,fe,rt),Ee[wt[Ie]]>Ee[wt[Ce]]&&at(wt,Ie,Ce),Ee[wt[rt]]>Ee[wt[Ce]]&&at(wt,rt,Ce),Ee[wt[Ie]]>Ee[wt[rt]]&&at(wt,Ie,rt);let de=wt[rt],Ge=Ee[de];for(;;){do rt++;while(Ee[wt[rt]]<Ge);do Xe--;while(Ee[wt[Xe]]>Ge);if(Xe<rt)break;at(wt,rt,Xe)}wt[Ie+1]=wt[Xe],wt[Xe]=de,Ce-rt+1>=Xe-Ie?(ot(wt,Ee,rt,Ce),ot(wt,Ee,Ie,Xe-1)):(ot(wt,Ee,Ie,Xe-1),ot(wt,Ee,rt,Ce))}}function at(wt,Ee,Ie){let Ce=wt[Ee];wt[Ee]=wt[Ie],wt[Ie]=Ce}function Ze(wt){return wt[0]}function Tt(wt){return wt[1]}let Mt=1e-6;class Ue{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(Ee,Ie){this._+=`M${this._x0=this._x1=+Ee},${this._y0=this._y1=+Ie}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(Ee,Ie){this._+=`L${this._x1=+Ee},${this._y1=+Ie}`}arc(Ee,Ie,Ce){Ee=+Ee,Ie=+Ie,Ce=+Ce;let fe=Ee+Ce,rt=Ie;if(Ce<0)throw new Error("negative radius");this._x1===null?this._+=`M${fe},${rt}`:(Math.abs(this._x1-fe)>Mt||Math.abs(this._y1-rt)>Mt)&&(this._+="L"+fe+","+rt),!!Ce&&(this._+=`A${Ce},${Ce},0,1,1,${Ee-Ce},${Ie}A${Ce},${Ce},0,1,1,${this._x1=fe},${this._y1=rt}`)}rect(Ee,Ie,Ce,fe){this._+=`M${this._x0=this._x1=+Ee},${this._y0=this._y1=+Ie}h${+Ce}v${+fe}h${-Ce}Z`}value(){return this._||null}}class te{constructor(){this._=[]}moveTo(Ee,Ie){this._.push([Ee,Ie])}closePath(){this._.push(this._[0].slice())}lineTo(Ee,Ie){this._.push([Ee,Ie])}value(){return this._.length?this._:null}}class st{constructor(Ee,[Ie,Ce,fe,rt]=[0,0,960,500]){if(!((fe=+fe)>=(Ie=+Ie))||!((rt=+rt)>=(Ce=+Ce)))throw new Error("invalid bounds");this.delaunay=Ee,this._circumcenters=new Float64Array(Ee.points.length*2),this.vectors=new Float64Array(Ee.points.length*2),this.xmax=fe,this.xmin=Ie,this.ymax=rt,this.ymin=Ce,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:Ee,hull:Ie,triangles:Ce},vectors:fe}=this,rt=this.circumcenters=this._circumcenters.subarray(0,Ce.length/3*2);for(let Xt=0,bn=0,Tn=Ce.length,Dn,Ut;Xt<Tn;Xt+=3,bn+=2){let pn=Ce[Xt]*2,qn=Ce[Xt+1]*2,sr=Ce[Xt+2]*2,In=Ee[pn],Ne=Ee[pn+1],$e=Ee[qn],De=Ee[qn+1],qt=Ee[sr],yt=Ee[sr+1],mt=$e-In,nn=De-Ne,Wt=qt-In,Fn=yt-Ne,Qn=(mt*Fn-nn*Wt)*2;if(Math.abs(Qn)<1e-9){let Zn=1e9,Pn=Ce[0]*2;Zn*=Math.sign((Ee[Pn]-In)*Fn-(Ee[Pn+1]-Ne)*Wt),Dn=(In+qt)/2-Zn*Fn,Ut=(Ne+yt)/2+Zn*Wt}else{let Zn=1/Qn,Pn=mt*mt+nn*nn,or=Wt*Wt+Fn*Fn;Dn=In+(Fn*Pn-nn*or)*Zn,Ut=Ne+(mt*or-Wt*Pn)*Zn}rt[bn]=Dn,rt[bn+1]=Ut}let Xe=Ie[Ie.length-1],de,Ge=Xe*4,Ot,Nt=Ee[2*Xe],zt,en=Ee[2*Xe+1];fe.fill(0);for(let Xt=0;Xt<Ie.length;++Xt)Xe=Ie[Xt],de=Ge,Ot=Nt,zt=en,Ge=Xe*4,Nt=Ee[2*Xe],en=Ee[2*Xe+1],fe[de+2]=fe[Ge]=zt-en,fe[de+3]=fe[Ge+1]=Nt-Ot}render(Ee){let Ie=Ee==null?Ee=new Ue:void 0,{delaunay:{halfedges:Ce,inedges:fe,hull:rt},circumcenters:Xe,vectors:de}=this;if(rt.length<=1)return null;for(let Nt=0,zt=Ce.length;Nt<zt;++Nt){let en=Ce[Nt];if(en<Nt)continue;let Xt=Math.floor(Nt/3)*2,bn=Math.floor(en/3)*2,Tn=Xe[Xt],Dn=Xe[Xt+1],Ut=Xe[bn],pn=Xe[bn+1];this._renderSegment(Tn,Dn,Ut,pn,Ee)}let Ge,Ot=rt[rt.length-1];for(let Nt=0;Nt<rt.length;++Nt){Ge=Ot,Ot=rt[Nt];let zt=Math.floor(fe[Ot]/3)*2,en=Xe[zt],Xt=Xe[zt+1],bn=Ge*4,Tn=this._project(en,Xt,de[bn+2],de[bn+3]);Tn&&this._renderSegment(en,Xt,Tn[0],Tn[1],Ee)}return Ie&&Ie.value()}renderBounds(Ee){let Ie=Ee==null?Ee=new Ue:void 0;return Ee.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),Ie&&Ie.value()}renderCell(Ee,Ie){let Ce=Ie==null?Ie=new Ue:void 0,fe=this._clip(Ee);if(fe===null||!fe.length)return;Ie.moveTo(fe[0],fe[1]);let rt=fe.length;for(;fe[0]===fe[rt-2]&&fe[1]===fe[rt-1]&&rt>1;)rt-=2;for(let Xe=2;Xe<rt;Xe+=2)(fe[Xe]!==fe[Xe-2]||fe[Xe+1]!==fe[Xe-1])&&Ie.lineTo(fe[Xe],fe[Xe+1]);return Ie.closePath(),Ce&&Ce.value()}*cellPolygons(){let{delaunay:{points:Ee}}=this;for(let Ie=0,Ce=Ee.length/2;Ie<Ce;++Ie){let fe=this.cellPolygon(Ie);fe&&(fe.index=Ie,yield fe)}}cellPolygon(Ee){let Ie=new te;return this.renderCell(Ee,Ie),Ie.value()}_renderSegment(Ee,Ie,Ce,fe,rt){let Xe,de=this._regioncode(Ee,Ie),Ge=this._regioncode(Ce,fe);de===0&&Ge===0?(rt.moveTo(Ee,Ie),rt.lineTo(Ce,fe)):(Xe=this._clipSegment(Ee,Ie,Ce,fe,de,Ge))&&(rt.moveTo(Xe[0],Xe[1]),rt.lineTo(Xe[2],Xe[3]))}contains(Ee,Ie,Ce){return Ie=+Ie,Ie!==Ie||(Ce=+Ce,Ce!==Ce)?!1:this.delaunay._step(Ee,Ie,Ce)===Ee}*neighbors(Ee){let Ie=this._clip(Ee);if(Ie)for(let Ce of this.delaunay.neighbors(Ee)){let fe=this._clip(Ce);if(fe)e:for(let rt=0,Xe=Ie.length;rt<Xe;rt+=2)for(let de=0,Ge=fe.length;de<Ge;de+=2)if(Ie[rt]==fe[de]&&Ie[rt+1]==fe[de+1]&&Ie[(rt+2)%Xe]==fe[(de+Ge-2)%Ge]&&Ie[(rt+3)%Xe]==fe[(de+Ge-1)%Ge]){yield Ce;break e}}}_cell(Ee){let{circumcenters:Ie,delaunay:{inedges:Ce,halfedges:fe,triangles:rt}}=this,Xe=Ce[Ee];if(Xe===-1)return null;let de=[],Ge=Xe;do{let Ot=Math.floor(Ge/3);if(de.push(Ie[Ot*2],Ie[Ot*2+1]),Ge=Ge%3===2?Ge-2:Ge+1,rt[Ge]!==Ee)break;Ge=fe[Ge]}while(Ge!==Xe&&Ge!==-1);return de}_clip(Ee){if(Ee===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let Ie=this._cell(Ee);if(Ie===null)return null;let{vectors:Ce}=this,fe=Ee*4;return Ce[fe]||Ce[fe+1]?this._clipInfinite(Ee,Ie,Ce[fe],Ce[fe+1],Ce[fe+2],Ce[fe+3]):this._clipFinite(Ee,Ie)}_clipFinite(Ee,Ie){let Ce=Ie.length,fe=null,rt,Xe,de=Ie[Ce-2],Ge=Ie[Ce-1],Ot,Nt=this._regioncode(de,Ge),zt,en=0;for(let Xt=0;Xt<Ce;Xt+=2)if(rt=de,Xe=Ge,de=Ie[Xt],Ge=Ie[Xt+1],Ot=Nt,Nt=this._regioncode(de,Ge),Ot===0&&Nt===0)zt=en,en=0,fe?fe.push(de,Ge):fe=[de,Ge];else{let bn,Tn,Dn,Ut,pn;if(Ot===0){if((bn=this._clipSegment(rt,Xe,de,Ge,Ot,Nt))===null)continue;[Tn,Dn,Ut,pn]=bn}else{if((bn=this._clipSegment(de,Ge,rt,Xe,Nt,Ot))===null)continue;[Ut,pn,Tn,Dn]=bn,zt=en,en=this._edgecode(Tn,Dn),zt&&en&&this._edge(Ee,zt,en,fe,fe.length),fe?fe.push(Tn,Dn):fe=[Tn,Dn]}zt=en,en=this._edgecode(Ut,pn),zt&&en&&this._edge(Ee,zt,en,fe,fe.length),fe?fe.push(Ut,pn):fe=[Ut,pn]}if(fe)zt=en,en=this._edgecode(fe[0],fe[1]),zt&&en&&this._edge(Ee,zt,en,fe,fe.length);else if(this.contains(Ee,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return fe}_clipSegment(Ee,Ie,Ce,fe,rt,Xe){for(;;){if(rt===0&&Xe===0)return[Ee,Ie,Ce,fe];if(rt&Xe)return null;let de,Ge,Ot=rt||Xe;Ot&8?(de=Ee+(Ce-Ee)*(this.ymax-Ie)/(fe-Ie),Ge=this.ymax):Ot&4?(de=Ee+(Ce-Ee)*(this.ymin-Ie)/(fe-Ie),Ge=this.ymin):Ot&2?(Ge=Ie+(fe-Ie)*(this.xmax-Ee)/(Ce-Ee),de=this.xmax):(Ge=Ie+(fe-Ie)*(this.xmin-Ee)/(Ce-Ee),de=this.xmin),rt?(Ee=de,Ie=Ge,rt=this._regioncode(Ee,Ie)):(Ce=de,fe=Ge,Xe=this._regioncode(Ce,fe))}}_clipInfinite(Ee,Ie,Ce,fe,rt,Xe){let de=Array.from(Ie),Ge;if((Ge=this._project(de[0],de[1],Ce,fe))&&de.unshift(Ge[0],Ge[1]),(Ge=this._project(de[de.length-2],de[de.length-1],rt,Xe))&&de.push(Ge[0],Ge[1]),de=this._clipFinite(Ee,de))for(let Ot=0,Nt=de.length,zt,en=this._edgecode(de[Nt-2],de[Nt-1]);Ot<Nt;Ot+=2)zt=en,en=this._edgecode(de[Ot],de[Ot+1]),zt&&en&&(Ot=this._edge(Ee,zt,en,de,Ot),Nt=de.length);else this.contains(Ee,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(de=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return de}_edge(Ee,Ie,Ce,fe,rt){for(;Ie!==Ce;){let Xe,de;switch(Ie){case 5:Ie=4;continue;case 4:Ie=6,Xe=this.xmax,de=this.ymin;break;case 6:Ie=2;continue;case 2:Ie=10,Xe=this.xmax,de=this.ymax;break;case 10:Ie=8;continue;case 8:Ie=9,Xe=this.xmin,de=this.ymax;break;case 9:Ie=1;continue;case 1:Ie=5,Xe=this.xmin,de=this.ymin;break}(fe[rt]!==Xe||fe[rt+1]!==de)&&this.contains(Ee,Xe,de)&&(fe.splice(rt,0,Xe,de),rt+=2)}if(fe.length>4)for(let Xe=0;Xe<fe.length;Xe+=2){let de=(Xe+2)%fe.length,Ge=(Xe+4)%fe.length;(fe[Xe]===fe[de]&&fe[de]===fe[Ge]||fe[Xe+1]===fe[de+1]&&fe[de+1]===fe[Ge+1])&&(fe.splice(de,2),Xe-=2)}return rt}_project(Ee,Ie,Ce,fe){let rt=1/0,Xe,de,Ge;if(fe<0){if(Ie<=this.ymin)return null;(Xe=(this.ymin-Ie)/fe)<rt&&(Ge=this.ymin,de=Ee+(rt=Xe)*Ce)}else if(fe>0){if(Ie>=this.ymax)return null;(Xe=(this.ymax-Ie)/fe)<rt&&(Ge=this.ymax,de=Ee+(rt=Xe)*Ce)}if(Ce>0){if(Ee>=this.xmax)return null;(Xe=(this.xmax-Ee)/Ce)<rt&&(de=this.xmax,Ge=Ie+(rt=Xe)*fe)}else if(Ce<0){if(Ee<=this.xmin)return null;(Xe=(this.xmin-Ee)/Ce)<rt&&(de=this.xmin,Ge=Ie+(rt=Xe)*fe)}return[de,Ge]}_edgecode(Ee,Ie){return(Ee===this.xmin?1:Ee===this.xmax?2:0)|(Ie===this.ymin?4:Ie===this.ymax?8:0)}_regioncode(Ee,Ie){return(Ee<this.xmin?1:Ee>this.xmax?2:0)|(Ie<this.ymin?4:Ie>this.ymax?8:0)}}let be=2*Math.PI,Re=Math.pow;function Ae(wt){return wt[0]}function xe(wt){return wt[1]}function Je(wt){let{triangles:Ee,coords:Ie}=wt;for(let Ce=0;Ce<Ee.length;Ce+=3){let fe=2*Ee[Ce],rt=2*Ee[Ce+1],Xe=2*Ee[Ce+2];if((Ie[Xe]-Ie[fe])*(Ie[rt+1]-Ie[fe+1])-(Ie[rt]-Ie[fe])*(Ie[Xe+1]-Ie[fe+1])>1e-10)return!1}return!0}function lt(wt,Ee,Ie){return[wt+Math.sin(wt+Ee)*Ie,Ee+Math.cos(wt-Ee)*Ie]}class Qt{static from(Ee,Ie=Ae,Ce=xe,fe){return new Qt("length"in Ee?Et(Ee,Ie,Ce,fe):Float64Array.from(mn(Ee,Ie,Ce,fe)))}constructor(Ee){this._delaunator=new ae(Ee),this.inedges=new Int32Array(Ee.length/2),this._hullIndex=new Int32Array(Ee.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let Ee=this._delaunator,Ie=this.points;if(Ee.hull&&Ee.hull.length>2&&Je(Ee)){this.collinear=Int32Array.from({length:Ie.length/2},(en,Xt)=>Xt).sort((en,Xt)=>Ie[2*en]-Ie[2*Xt]||Ie[2*en+1]-Ie[2*Xt+1]);let Ge=this.collinear[0],Ot=this.collinear[this.collinear.length-1],Nt=[Ie[2*Ge],Ie[2*Ge+1],Ie[2*Ot],Ie[2*Ot+1]],zt=1e-8*Math.hypot(Nt[3]-Nt[1],Nt[2]-Nt[0]);for(let en=0,Xt=Ie.length/2;en<Xt;++en){let bn=lt(Ie[2*en],Ie[2*en+1],zt);Ie[2*en]=bn[0],Ie[2*en+1]=bn[1]}this._delaunator=new ae(Ie)}else delete this.collinear;let Ce=this.halfedges=this._delaunator.halfedges,fe=this.hull=this._delaunator.hull,rt=this.triangles=this._delaunator.triangles,Xe=this.inedges.fill(-1),de=this._hullIndex.fill(-1);for(let Ge=0,Ot=Ce.length;Ge<Ot;++Ge){let Nt=rt[Ge%3===2?Ge-2:Ge+1];(Ce[Ge]===-1||Xe[Nt]===-1)&&(Xe[Nt]=Ge)}for(let Ge=0,Ot=fe.length;Ge<Ot;++Ge)de[fe[Ge]]=Ge;fe.length<=2&&fe.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=fe[0],Xe[fe[0]]=1,fe.length===2&&(Xe[fe[1]]=0,this.triangles[1]=fe[1],this.triangles[2]=fe[1]))}voronoi(Ee){return new st(this,Ee)}*neighbors(Ee){let{inedges:Ie,hull:Ce,_hullIndex:fe,halfedges:rt,triangles:Xe,collinear:de}=this;if(de){let zt=de.indexOf(Ee);zt>0&&(yield de[zt-1]),zt<de.length-1&&(yield de[zt+1]);return}let Ge=Ie[Ee];if(Ge===-1)return;let Ot=Ge,Nt=-1;do{if(yield Nt=Xe[Ot],Ot=Ot%3===2?Ot-2:Ot+1,Xe[Ot]!==Ee)return;if(Ot=rt[Ot],Ot===-1){let zt=Ce[(fe[Ee]+1)%Ce.length];zt!==Nt&&(yield zt);return}}while(Ot!==Ge)}find(Ee,Ie,Ce=0){if(Ee=+Ee,Ee!==Ee||(Ie=+Ie,Ie!==Ie))return-1;let fe=Ce,rt;for(;(rt=this._step(Ce,Ee,Ie))>=0&&rt!==Ce&&rt!==fe;)Ce=rt;return rt}_step(Ee,Ie,Ce){let{inedges:fe,hull:rt,_hullIndex:Xe,halfedges:de,triangles:Ge,points:Ot}=this;if(fe[Ee]===-1||!Ot.length)return(Ee+1)%(Ot.length>>1);let Nt=Ee,zt=Re(Ie-Ot[Ee*2],2)+Re(Ce-Ot[Ee*2+1],2),en=fe[Ee],Xt=en;do{let bn=Ge[Xt],Tn=Re(Ie-Ot[bn*2],2)+Re(Ce-Ot[bn*2+1],2);if(Tn<zt&&(zt=Tn,Nt=bn),Xt=Xt%3===2?Xt-2:Xt+1,Ge[Xt]!==Ee)break;if(Xt=de[Xt],Xt===-1){if(Xt=rt[(Xe[Ee]+1)%rt.length],Xt!==bn&&Re(Ie-Ot[Xt*2],2)+Re(Ce-Ot[Xt*2+1],2)<zt)return Xt;break}}while(Xt!==en);return Nt}render(Ee){let Ie=Ee==null?Ee=new Ue:void 0,{points:Ce,halfedges:fe,triangles:rt}=this;for(let Xe=0,de=fe.length;Xe<de;++Xe){let Ge=fe[Xe];if(Ge<Xe)continue;let Ot=rt[Xe]*2,Nt=rt[Ge]*2;Ee.moveTo(Ce[Ot],Ce[Ot+1]),Ee.lineTo(Ce[Nt],Ce[Nt+1])}return this.renderHull(Ee),Ie&&Ie.value()}renderPoints(Ee,Ie){Ie===void 0&&(!Ee||typeof Ee.moveTo!="function")&&(Ie=Ee,Ee=null),Ie=Ie==null?2:+Ie;let Ce=Ee==null?Ee=new Ue:void 0,{points:fe}=this;for(let rt=0,Xe=fe.length;rt<Xe;rt+=2){let de=fe[rt],Ge=fe[rt+1];Ee.moveTo(de+Ie,Ge),Ee.arc(de,Ge,Ie,0,be)}return Ce&&Ce.value()}renderHull(Ee){let Ie=Ee==null?Ee=new Ue:void 0,{hull:Ce,points:fe}=this,rt=Ce[0]*2,Xe=Ce.length;Ee.moveTo(fe[rt],fe[rt+1]);for(let de=1;de<Xe;++de){let Ge=2*Ce[de];Ee.lineTo(fe[Ge],fe[Ge+1])}return Ee.closePath(),Ie&&Ie.value()}hullPolygon(){let Ee=new te;return this.renderHull(Ee),Ee.value()}renderTriangle(Ee,Ie){let Ce=Ie==null?Ie=new Ue:void 0,{points:fe,triangles:rt}=this,Xe=rt[Ee*=3]*2,de=rt[Ee+1]*2,Ge=rt[Ee+2]*2;return Ie.moveTo(fe[Xe],fe[Xe+1]),Ie.lineTo(fe[de],fe[de+1]),Ie.lineTo(fe[Ge],fe[Ge+1]),Ie.closePath(),Ce&&Ce.value()}*trianglePolygons(){let{triangles:Ee}=this;for(let Ie=0,Ce=Ee.length/3;Ie<Ce;++Ie)yield this.trianglePolygon(Ie)}trianglePolygon(Ee){let Ie=new te;return this.renderTriangle(Ee,Ie),Ie.value()}}function Et(wt,Ee,Ie,Ce){let fe=wt.length,rt=new Float64Array(fe*2);for(let Xe=0;Xe<fe;++Xe){let de=wt[Xe];rt[Xe*2]=Ee.call(Ce,de,Xe,wt),rt[Xe*2+1]=Ie.call(Ce,de,Xe,wt)}return rt}function*mn(wt,Ee,Ie,Ce){let fe=0;for(let rt of wt)yield Ee.call(Ce,rt,fe,wt),yield Ie.call(Ce,rt,fe,wt),++fe}function Lt(wt){e.Transform.call(this,null,wt)}Lt.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};let kt=[-1e5,-1e5,1e5,1e5];t.inherits(Lt,e.Transform,{transform(wt,Ee){let Ie=wt.as||"path",Ce=Ee.source;if(!Ce||!Ce.length)return Ee;let fe=wt.size;fe=fe?[0,0,fe[0],fe[1]]:(fe=wt.extent)?[fe[0][0],fe[0][1],fe[1][0],fe[1][1]]:kt;let rt=this.value=Qt.from(Ce,wt.x,wt.y).voronoi(fe);for(let Xe=0,de=Ce.length;Xe<de;++Xe){let Ge=rt.cellPolygon(Xe);Ce[Xe][Ie]=Ge?cn(Ge):null}return Ee.reflow(wt.modified()).modifies(Ie)}});function cn(wt){let Ee=wt[0][0],Ie=wt[0][1],Ce=wt.length-1;for(;wt[Ce][0]===Ee&&wt[Ce][1]===Ie;--Ce);return"M"+wt.slice(0,Ce+1).join("L")+"Z"}n.voronoi=Lt,Object.defineProperty(n,"__esModule",{value:!0})})});var sTe=we((Gz,iTe)=>{m();(function(n,e){typeof Gz=="object"&&typeof iTe!="undefined"?e(Gz,sN(),Jf(),Su(),Db(),Fb()):typeof define=="function"&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-util","vega-scale","vega-statistics"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(Gz,function(n,e,t,r,i,s){"use strict";var o=Math.PI/180,a=1<<11>>5,c=1<<11;function d(){var I=[256,256],Z,me,ye,He,ot,at,Ze,Tt=R,Mt=[],Ue=Math.random,te={};te.layout=function(){for(var Re=st(e.canvas()),Ae=V((I[0]>>5)*I[1]),xe=null,Je=Mt.length,lt=-1,Qt=[],Et=Mt.map(Lt=>({text:Z(Lt),font:me(Lt),style:He(Lt),weight:ot(Lt),rotate:at(Lt),size:~~(ye(Lt)+1e-14),padding:Ze(Lt),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Lt})).sort((Lt,kt)=>kt.size-Lt.size);++lt<Je;){var mn=Et[lt];mn.x=I[0]*(Ue()+.5)>>1,mn.y=I[1]*(Ue()+.5)>>1,p(Re,mn,Et,lt),mn.hasText&&be(Ae,mn,xe)&&(Qt.push(mn),xe?C(xe,mn):xe=[{x:mn.x+mn.x0,y:mn.y+mn.y0},{x:mn.x+mn.x1,y:mn.y+mn.y1}],mn.x-=I[0]>>1,mn.y-=I[1]>>1)}return Qt};function st(Re){Re.width=Re.height=1;var Ae=Math.sqrt(Re.getContext("2d").getImageData(0,0,1,1).data.length>>2);Re.width=(a<<5)/Ae,Re.height=c/Ae;var xe=Re.getContext("2d");return xe.fillStyle=xe.strokeStyle="red",xe.textAlign="center",{context:xe,ratio:Ae}}function be(Re,Ae,xe){for(var Je=Ae.x,lt=Ae.y,Qt=Math.sqrt(I[0]*I[0]+I[1]*I[1]),Et=Tt(I),mn=Ue()<.5?1:-1,Lt=-mn,kt,cn,wt;(kt=Et(Lt+=mn))&&(cn=~~kt[0],wt=~~kt[1],!(Math.min(Math.abs(cn),Math.abs(wt))>=Qt));)if(Ae.x=Je+cn,Ae.y=lt+wt,!(Ae.x+Ae.x0<0||Ae.y+Ae.y0<0||Ae.x+Ae.x1>I[0]||Ae.y+Ae.y1>I[1])&&(!xe||!b(Ae,Re,I[0]))&&(!xe||N(Ae,xe))){for(var Ee=Ae.sprite,Ie=Ae.width>>5,Ce=I[0]>>5,fe=Ae.x-(Ie<<4),rt=fe&127,Xe=32-rt,de=Ae.y1-Ae.y0,Ge=(Ae.y+Ae.y0)*Ce+(fe>>5),Ot,Nt=0;Nt<de;Nt++){Ot=0;for(var zt=0;zt<=Ie;zt++)Re[Ge+zt]|=Ot<<Xe|(zt<Ie?(Ot=Ee[Nt*Ie+zt])>>>rt:0);Ge+=Ce}return Ae.sprite=null,!0}return!1}return te.words=function(Re){return arguments.length?(Mt=Re,te):Mt},te.size=function(Re){return arguments.length?(I=[+Re[0],+Re[1]],te):I},te.font=function(Re){return arguments.length?(me=P(Re),te):me},te.fontStyle=function(Re){return arguments.length?(He=P(Re),te):He},te.fontWeight=function(Re){return arguments.length?(ot=P(Re),te):ot},te.rotate=function(Re){return arguments.length?(at=P(Re),te):at},te.text=function(Re){return arguments.length?(Z=P(Re),te):Z},te.spiral=function(Re){return arguments.length?(Tt=$[Re]||Re,te):Tt},te.fontSize=function(Re){return arguments.length?(ye=P(Re),te):ye},te.padding=function(Re){return arguments.length?(Ze=P(Re),te):Ze},te.random=function(Re){return arguments.length?(Ue=Re,te):Ue},te}function p(I,Z,me,ye){if(!Z.sprite){var He=I.context,ot=I.ratio;He.clearRect(0,0,(a<<5)/ot,c/ot);var at=0,Ze=0,Tt=0,Mt=me.length,Ue,te,st,be,Re;for(--ye;++ye<Mt;){if(Z=me[ye],He.save(),He.font=Z.style+" "+Z.weight+" "+~~((Z.size+1)/ot)+"px "+Z.font,Ue=He.measureText(Z.text+"m").width*ot,st=Z.size<<1,Z.rotate){var Ae=Math.sin(Z.rotate*o),xe=Math.cos(Z.rotate*o),Je=Ue*xe,lt=Ue*Ae,Qt=st*xe,Et=st*Ae;Ue=Math.max(Math.abs(Je+Et),Math.abs(Je-Et))+31>>5<<5,st=~~Math.max(Math.abs(lt+Qt),Math.abs(lt-Qt))}else Ue=Ue+31>>5<<5;if(st>Tt&&(Tt=st),at+Ue>=a<<5&&(at=0,Ze+=Tt,Tt=0),Ze+st>=c)break;He.translate((at+(Ue>>1))/ot,(Ze+(st>>1))/ot),Z.rotate&&He.rotate(Z.rotate*o),He.fillText(Z.text,0,0),Z.padding&&(He.lineWidth=2*Z.padding,He.strokeText(Z.text,0,0)),He.restore(),Z.width=Ue,Z.height=st,Z.xoff=at,Z.yoff=Ze,Z.x1=Ue>>1,Z.y1=st>>1,Z.x0=-Z.x1,Z.y0=-Z.y1,Z.hasText=!0,at+=Ue}for(var mn=He.getImageData(0,0,(a<<5)/ot,c/ot).data,Lt=[];--ye>=0;)if(Z=me[ye],!!Z.hasText){for(Ue=Z.width,te=Ue>>5,st=Z.y1-Z.y0,be=0;be<st*te;be++)Lt[be]=0;if(at=Z.xoff,at==null)return;Ze=Z.yoff;var kt=0,cn=-1;for(Re=0;Re<st;Re++){for(be=0;be<Ue;be++){var wt=te*Re+(be>>5),Ee=mn[(Ze+Re)*(a<<5)+(at+be)<<2]?1<<31-be%32:0;Lt[wt]|=Ee,kt|=Ee}kt?cn=Re:(Z.y0++,st--,Re--,Ze++)}Z.y1=Z.y0+cn,Z.sprite=Lt.slice(0,(Z.y1-Z.y0)*te)}}}function b(I,Z,me){me>>=5;for(var ye=I.sprite,He=I.width>>5,ot=I.x-(He<<4),at=ot&127,Ze=32-at,Tt=I.y1-I.y0,Mt=(I.y+I.y0)*me+(ot>>5),Ue,te=0;te<Tt;te++){Ue=0;for(var st=0;st<=He;st++)if((Ue<<Ze|(st<He?(Ue=ye[te*He+st])>>>at:0))&Z[Mt+st])return!0;Mt+=me}return!1}function C(I,Z){var me=I[0],ye=I[1];Z.x+Z.x0<me.x&&(me.x=Z.x+Z.x0),Z.y+Z.y0<me.y&&(me.y=Z.y+Z.y0),Z.x+Z.x1>ye.x&&(ye.x=Z.x+Z.x1),Z.y+Z.y1>ye.y&&(ye.y=Z.y+Z.y1)}function N(I,Z){return I.x+I.x1>Z[0].x&&I.x+I.x0<Z[1].x&&I.y+I.y1>Z[0].y&&I.y+I.y0<Z[1].y}function R(I){var Z=I[0]/I[1];return function(me){return[Z*(me*=.1)*Math.cos(me),me*Math.sin(me)]}}function U(I){var Z=4,me=Z*I[0]/I[1],ye=0,He=0;return function(ot){var at=ot<0?-1:1;switch(Math.sqrt(1+4*at*ot)-at&3){case 0:ye+=me;break;case 1:He+=Z;break;case 2:ye-=me;break;default:He-=Z;break}return[ye,He]}}function V(I){for(var Z=[],me=-1;++me<I;)Z[me]=0;return Z}function P(I){return typeof I=="function"?I:function(){return I}}var $={archimedean:R,rectangular:U};let M=["x","y","font","fontSize","fontStyle","fontWeight","angle"],G=["text","font","rotate","fontSize","fontStyle","fontWeight"];function ae(I){t.Transform.call(this,d(),I)}ae.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:M}]},r.inherits(ae,t.Transform,{transform(I,Z){I.size&&!(I.size[0]&&I.size[1])&&r.error("Wordcloud size dimensions must be non-zero.");function me(Re){let Ae=I[Re];return r.isFunction(Ae)&&Z.modified(Ae.fields)}let ye=I.modified();if(!(ye||Z.changed(Z.ADD_REM)||G.some(me)))return;let He=Z.materialize(Z.SOURCE).source,ot=this.value,at=I.as||M,Ze=I.fontSize||14,Tt;if(r.isFunction(Ze)?Tt=I.fontSizeRange:Ze=r.constant(Ze),Tt){let Re=Ze,Ae=i.scale("sqrt")().domain(r.extent(He,Re)).range(Tt);Ze=xe=>Ae(Re(xe))}He.forEach(Re=>{Re[at[0]]=NaN,Re[at[1]]=NaN,Re[at[3]]=0});let Mt=ot.words(He).text(I.text).size(I.size||[500,500]).padding(I.padding||1).spiral(I.spiral||"archimedean").rotate(I.rotate||0).font(I.font||"sans-serif").fontStyle(I.fontStyle||"normal").fontWeight(I.fontWeight||"normal").fontSize(Ze).random(s.random).layout(),Ue=ot.size(),te=Ue[0]>>1,st=Ue[1]>>1,be=Mt.length;for(let Re=0,Ae,xe;Re<be;++Re)Ae=Mt[Re],xe=Ae.datum,xe[at[0]]=Ae.x+te,xe[at[1]]=Ae.y+st,xe[at[2]]=Ae.font,xe[at[3]]=Ae.size,xe[at[4]]=Ae.style,xe[at[5]]=Ae.weight,xe[at[6]]=Ae.rotate;return Z.reflow(ye).modifies(at)}}),n.wordcloud=ae,Object.defineProperty(n,"__esModule",{value:!0})})});var aTe=we((Yz,oTe)=>{m();(function(n,e){typeof Yz=="object"&&typeof oTe!="undefined"?e(Yz,Jf(),Su()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(Yz,function(n,e,t){"use strict";let r=I=>new Uint8Array(I),i=I=>new Uint16Array(I),s=I=>new Uint32Array(I);function o(){let I=8,Z=[],me=s(0),ye=c(0,I),He=c(0,I);return{data:()=>Z,seen:()=>me=a(me,Z.length),add(ot){for(let at=0,Ze=Z.length,Tt=ot.length,Mt;at<Tt;++at)Mt=ot[at],Mt._index=Ze++,Z.push(Mt)},remove(ot,at){let Ze=Z.length,Tt=Array(Ze-ot),Mt=Z,Ue,te,st;for(te=0;!at[te]&&te<Ze;++te)Tt[te]=Z[te],Mt[te]=te;for(st=te;te<Ze;++te)Ue=Z[te],at[te]?Mt[te]=-1:(Mt[te]=st,ye[st]=ye[te],He[st]=He[te],Tt[st]=Ue,Ue._index=st++),ye[te]=0;return Z=Tt,Mt},size:()=>Z.length,curr:()=>ye,prev:()=>He,reset:ot=>He[ot]=ye[ot],all:()=>I<257?255:I<65537?65535:4294967295,set(ot,at){ye[ot]|=at},clear(ot,at){ye[ot]&=~at},resize(ot,at){let Ze=ye.length;(ot>Ze||at>I)&&(I=Math.max(at,I),ye=c(ot,I,ye),He=c(ot,I))}}}function a(I,Z,me){return I.length>=Z?I:(me=me||new I.constructor(Z),me.set(I),me)}function c(I,Z,me){let ye=(Z<257?r:Z<65537?i:s)(I);return me&&ye.set(me),ye}function d(I,Z,me){let ye=1<<Z;return{one:ye,zero:~ye,range:me.slice(),bisect:I.bisect,index:I.index,size:I.size,onAdd(He,ot){let at=this,Ze=at.bisect(at.range,He.value),Tt=He.index,Mt=Ze[0],Ue=Ze[1],te=Tt.length,st;for(st=0;st<Mt;++st)ot[Tt[st]]|=ye;for(st=Ue;st<te;++st)ot[Tt[st]]|=ye;return at}}}function p(I,Z){return I==null||Z==null?NaN:I<Z?-1:I>Z?1:I>=Z?0:NaN}function b(I){let Z=I,me=I,ye=I;I.length!==2&&(Z=(Ze,Tt)=>I(Ze)-Tt,me=p,ye=(Ze,Tt)=>p(I(Ze),Tt));function He(Ze,Tt,Mt=0,Ue=Ze.length){if(Mt<Ue){if(me(Tt,Tt)!==0)return Ue;do{let te=Mt+Ue>>>1;ye(Ze[te],Tt)<0?Mt=te+1:Ue=te}while(Mt<Ue)}return Mt}function ot(Ze,Tt,Mt=0,Ue=Ze.length){if(Mt<Ue){if(me(Tt,Tt)!==0)return Ue;do{let te=Mt+Ue>>>1;ye(Ze[te],Tt)<=0?Mt=te+1:Ue=te}while(Mt<Ue)}return Mt}function at(Ze,Tt,Mt=0,Ue=Ze.length){let te=He(Ze,Tt,Mt,Ue-1);return te>Mt&&Z(Ze[te-1],Tt)>-Z(Ze[te],Tt)?te-1:te}return{left:He,center:at,right:ot}}function C(I){return I===null?NaN:+I}let N=b(p),R=N.right,U=N.left;b(C).center;function V(I,Z){return Array.from(Z,me=>I[me])}function P(){let I=s(0),Z=[],me=0;function ye(Ze,Tt,Mt){if(!Tt.length)return[];let Ue=me,te=Tt.length,st=s(te),be=Array(te),Re,Ae,xe;for(xe=0;xe<te;++xe)be[xe]=Ze(Tt[xe]),st[xe]=xe;if(be=$(be,st),Ue)Re=Z,Ae=I,Z=Array(Ue+te),I=s(Ue+te),M(Mt,Re,Ae,Ue,be,st,te,Z,I);else{if(Mt>0)for(xe=0;xe<te;++xe)st[xe]+=Mt;Z=be,I=st}return me=Ue+te,{index:st,value:be}}function He(Ze,Tt){let Mt=me,Ue,te,st;for(te=0;!Tt[I[te]]&&te<Mt;++te);for(st=te;te<Mt;++te)Tt[Ue=I[te]]||(I[st]=Ue,Z[st]=Z[te],++st);me=Mt-Ze}function ot(Ze){for(let Tt=0,Mt=me;Tt<Mt;++Tt)I[Tt]=Ze[I[Tt]]}function at(Ze,Tt){let Mt;return Tt?Mt=Tt.length:(Tt=Z,Mt=me),[U(Tt,Ze[0],0,Mt),R(Tt,Ze[1],0,Mt)]}return{insert:ye,remove:He,bisect:at,reindex:ot,index:()=>I,size:()=>me}}function $(I,Z){return I.sort.call(Z,(me,ye)=>{let He=I[me],ot=I[ye];return He<ot?-1:He>ot?1:0}),V(I,Z)}function M(I,Z,me,ye,He,ot,at,Ze,Tt){let Mt=0,Ue=0,te;for(te=0;Mt<ye&&Ue<at;++te)Z[Mt]<He[Ue]?(Ze[te]=Z[Mt],Tt[te]=me[Mt++]):(Ze[te]=He[Ue],Tt[te]=ot[Ue++]+I);for(;Mt<ye;++Mt,++te)Ze[te]=Z[Mt],Tt[te]=me[Mt];for(;Ue<at;++Ue,++te)Ze[te]=He[Ue],Tt[te]=ot[Ue]+I}function G(I){e.Transform.call(this,o(),I),this._indices=null,this._dims=null}G.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},t.inherits(G,e.Transform,{transform(I,Z){if(this._dims){var me=I.modified("fields")||I.fields.some(ye=>Z.modified(ye.fields));return me?this.reinit(I,Z):this.eval(I,Z)}else return this.init(I,Z)},init(I,Z){let me=I.fields,ye=I.query,He=this._indices={},ot=this._dims=[],at=ye.length,Ze=0,Tt,Mt;for(;Ze<at;++Ze)Tt=me[Ze].fname,Mt=He[Tt]||(He[Tt]=P()),ot.push(d(Mt,Ze,ye[Ze]));return this.eval(I,Z)},reinit(I,Z){let me=Z.materialize().fork(),ye=I.fields,He=I.query,ot=this._indices,at=this._dims,Ze=this.value,Tt=Ze.curr(),Mt=Ze.prev(),Ue=Ze.all(),te=me.rem=me.add,st=me.mod,be=He.length,Re={},Ae,xe,Je,lt,Qt,Et,mn,Lt,kt;if(Mt.set(Tt),Z.rem.length&&(Qt=this.remove(I,Z,me)),Z.add.length&&Ze.add(Z.add),Z.mod.length)for(Et={},lt=Z.mod,mn=0,Lt=lt.length;mn<Lt;++mn)Et[lt[mn]._index]=1;for(mn=0;mn<be;++mn)kt=ye[mn],(!at[mn]||I.modified("fields",mn)||Z.modified(kt.fields))&&(Je=kt.fname,(Ae=Re[Je])||(ot[Je]=xe=P(),Re[Je]=Ae=xe.insert(kt,Z.source,0)),at[mn]=d(xe,mn,He[mn]).onAdd(Ae,Tt));for(mn=0,Lt=Ze.data().length;mn<Lt;++mn)Qt[mn]||(Mt[mn]!==Tt[mn]?te.push(mn):Et[mn]&&Tt[mn]!==Ue&&st.push(mn));return Ze.mask=(1<<be)-1,me},eval(I,Z){let me=Z.materialize().fork(),ye=this._dims.length,He=0;return Z.rem.length&&(this.remove(I,Z,me),He|=(1<<ye)-1),I.modified("query")&&!I.modified("fields")&&(He|=this.update(I,Z,me)),Z.add.length&&(this.insert(I,Z,me),He|=(1<<ye)-1),Z.mod.length&&(this.modify(Z,me),He|=(1<<ye)-1),this.value.mask=He,me},insert(I,Z,me){let ye=Z.add,He=this.value,ot=this._dims,at=this._indices,Ze=I.fields,Tt={},Mt=me.add,Ue=He.size()+ye.length,te=ot.length,st=He.size(),be,Re,Ae;He.resize(Ue,te),He.add(ye);let xe=He.curr(),Je=He.prev(),lt=He.all();for(be=0;be<te;++be)Re=Ze[be].fname,Ae=Tt[Re]||(Tt[Re]=at[Re].insert(Ze[be],ye,st)),ot[be].onAdd(Ae,xe);for(;st<Ue;++st)Je[st]=lt,xe[st]!==lt&&Mt.push(st)},modify(I,Z){let me=Z.mod,ye=this.value,He=ye.curr(),ot=ye.all(),at=I.mod,Ze,Tt,Mt;for(Ze=0,Tt=at.length;Ze<Tt;++Ze)Mt=at[Ze]._index,He[Mt]!==ot&&me.push(Mt)},remove(I,Z,me){let ye=this._indices,He=this.value,ot=He.curr(),at=He.prev(),Ze=He.all(),Tt={},Mt=me.rem,Ue=Z.rem,te,st,be,Re;for(te=0,st=Ue.length;te<st;++te)be=Ue[te]._index,Tt[be]=1,at[be]=Re=ot[be],ot[be]=Ze,Re!==Ze&&Mt.push(be);for(be in ye)ye[be].remove(st,Tt);return this.reindex(Z,st,Tt),Tt},reindex(I,Z,me){let ye=this._indices,He=this.value;I.runAfter(()=>{let ot=He.remove(Z,me);for(let at in ye)ye[at].reindex(ot)})},update(I,Z,me){let ye=this._dims,He=I.query,ot=Z.stamp,at=ye.length,Ze=0,Tt,Mt;for(me.filters=0,Mt=0;Mt<at;++Mt)I.modified("query",Mt)&&(Tt=Mt,++Ze);if(Ze===1)Ze=ye[Tt].one,this.incrementOne(ye[Tt],He[Tt],me.add,me.rem);else for(Mt=0,Ze=0;Mt<at;++Mt)!I.modified("query",Mt)||(Ze|=ye[Mt].one,this.incrementAll(ye[Mt],He[Mt],ot,me.add),me.rem=me.add);return Ze},incrementAll(I,Z,me,ye){let He=this.value,ot=He.seen(),at=He.curr(),Ze=He.prev(),Tt=I.index(),Mt=I.bisect(I.range),Ue=I.bisect(Z),te=Ue[0],st=Ue[1],be=Mt[0],Re=Mt[1],Ae=I.one,xe,Je,lt;if(te<be)for(xe=te,Je=Math.min(be,st);xe<Je;++xe)lt=Tt[xe],ot[lt]!==me&&(Ze[lt]=at[lt],ot[lt]=me,ye.push(lt)),at[lt]^=Ae;else if(te>be)for(xe=be,Je=Math.min(te,Re);xe<Je;++xe)lt=Tt[xe],ot[lt]!==me&&(Ze[lt]=at[lt],ot[lt]=me,ye.push(lt)),at[lt]^=Ae;if(st>Re)for(xe=Math.max(te,Re),Je=st;xe<Je;++xe)lt=Tt[xe],ot[lt]!==me&&(Ze[lt]=at[lt],ot[lt]=me,ye.push(lt)),at[lt]^=Ae;else if(st<Re)for(xe=Math.max(be,st),Je=Re;xe<Je;++xe)lt=Tt[xe],ot[lt]!==me&&(Ze[lt]=at[lt],ot[lt]=me,ye.push(lt)),at[lt]^=Ae;I.range=Z.slice()},incrementOne(I,Z,me,ye){let He=this.value,ot=He.curr(),at=I.index(),Ze=I.bisect(I.range),Tt=I.bisect(Z),Mt=Tt[0],Ue=Tt[1],te=Ze[0],st=Ze[1],be=I.one,Re,Ae,xe;if(Mt<te)for(Re=Mt,Ae=Math.min(te,Ue);Re<Ae;++Re)xe=at[Re],ot[xe]^=be,me.push(xe);else if(Mt>te)for(Re=te,Ae=Math.min(Mt,st);Re<Ae;++Re)xe=at[Re],ot[xe]^=be,ye.push(xe);if(Ue>st)for(Re=Math.max(Mt,st),Ae=Ue;Re<Ae;++Re)xe=at[Re],ot[xe]^=be,me.push(xe);else if(Ue<st)for(Re=Math.max(te,Ue),Ae=st;Re<Ae;++Re)xe=at[Re],ot[xe]^=be,ye.push(xe);I.range=Z.slice()}});function ae(I){e.Transform.call(this,null,I)}ae.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},t.inherits(ae,e.Transform,{transform(I,Z){let me=~(I.ignore||0),ye=I.filter,He=ye.mask;if((He&me)===0)return Z.StopPropagation;let ot=Z.fork(Z.ALL),at=ye.data(),Ze=ye.curr(),Tt=ye.prev(),Mt=Ue=>Ze[Ue]&me?null:at[Ue];return ot.filter(ot.MOD,Mt),He&He-1?(ot.filter(ot.ADD,Ue=>{let te=Ze[Ue]&me;return!te&&te^Tt[Ue]&me?at[Ue]:null}),ot.filter(ot.REM,Ue=>{let te=Ze[Ue]&me;return te&&!(te^(te^Tt[Ue]&me))?at[Ue]:null})):(ot.filter(ot.ADD,Mt),ot.filter(ot.REM,Ue=>(Ze[Ue]&me)===He?at[Ue]:null)),ot.filter(ot.SOURCE,Ue=>Mt(Ue._index))}}),n.crossfilter=G,n.resolvefilter=ae,Object.defineProperty(n,"__esModule",{value:!0})})});var Jz=we((Kz,uTe)=>{m();(function(n,e){typeof Kz=="object"&&typeof uTe!="undefined"?e(Kz,Su()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(Kz,function(n,e){"use strict";let t="RawCode",r="Literal",i="Property",s="Identifier",o="ArrayExpression",a="BinaryExpression",c="CallExpression",d="ConditionalExpression",p="LogicalExpression",b="MemberExpression",C="ObjectExpression",N="UnaryExpression";function R(S){this.type=S}R.prototype.visit=function(S){let B,ee,_e;if(S(this))return 1;for(B=U(this),ee=0,_e=B.length;ee<_e;++ee)if(B[ee].visit(S))return 1};function U(S){switch(S.type){case o:return S.elements;case a:case p:return[S.left,S.right];case c:return[S.callee].concat(S.arguments);case d:return[S.test,S.consequent,S.alternate];case b:return[S.object,S.property];case C:return S.properties;case i:return[S.key,S.value];case N:return[S.argument];case s:case r:case t:default:return[]}}var V,P,$,M,G,ae=1,I=2,Z=3,me=4,ye=5,He=6,ot=7,at=8,Ze=9;V={},V[ae]="Boolean",V[I]="<end>",V[Z]="Identifier",V[me]="Keyword",V[ye]="Null",V[He]="Numeric",V[ot]="Punctuator",V[at]="String",V[Ze]="RegularExpression";var Tt="ArrayExpression",Mt="BinaryExpression",Ue="CallExpression",te="ConditionalExpression",st="Identifier",be="Literal",Re="LogicalExpression",Ae="MemberExpression",xe="ObjectExpression",Je="Property",lt="UnaryExpression",Qt="Unexpected token %0",Et="Unexpected number",mn="Unexpected string",Lt="Unexpected identifier",kt="Unexpected reserved word",cn="Unexpected end of input",wt="Invalid regular expression",Ee="Invalid regular expression: missing /",Ie="Octal literals are not allowed in strict mode.",Ce="Duplicate data property in object literal not allowed in strict mode",fe="ILLEGAL",rt="Disabled.",Xe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),de=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Ge(S,B){if(!S)throw new Error("ASSERT: "+B)}function Ot(S){return S>=48&&S<=57}function Nt(S){return"0123456789abcdefABCDEF".indexOf(S)>=0}function zt(S){return"01234567".indexOf(S)>=0}function en(S){return S===32||S===9||S===11||S===12||S===160||S>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(S)>=0}function Xt(S){return S===10||S===13||S===8232||S===8233}function bn(S){return S===36||S===95||S>=65&&S<=90||S>=97&&S<=122||S===92||S>=128&&Xe.test(String.fromCharCode(S))}function Tn(S){return S===36||S===95||S>=65&&S<=90||S>=97&&S<=122||S>=48&&S<=57||S===92||S>=128&&de.test(String.fromCharCode(S))}let Dn={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Ut(){for(;$<M;){let S=P.charCodeAt($);if(en(S)||Xt(S))++$;else break}}function pn(S){var B,ee,_e,ft=0;for(ee=S==="u"?4:2,B=0;B<ee;++B)$<M&&Nt(P[$])?(_e=P[$++],ft=ft*16+"0123456789abcdef".indexOf(_e.toLowerCase())):je({},Qt,fe);return String.fromCharCode(ft)}function qn(){var S,B,ee,_e;for(S=P[$],B=0,S==="}"&&je({},Qt,fe);$<M&&(S=P[$++],!!Nt(S));)B=B*16+"0123456789abcdef".indexOf(S.toLowerCase());return(B>1114111||S!=="}")&&je({},Qt,fe),B<=65535?String.fromCharCode(B):(ee=(B-65536>>10)+55296,_e=(B-65536&1023)+56320,String.fromCharCode(ee,_e))}function sr(){var S,B;for(S=P.charCodeAt($++),B=String.fromCharCode(S),S===92&&(P.charCodeAt($)!==117&&je({},Qt,fe),++$,S=pn("u"),(!S||S==="\\"||!bn(S.charCodeAt(0)))&&je({},Qt,fe),B=S);$<M&&(S=P.charCodeAt($),!!Tn(S));)++$,B+=String.fromCharCode(S),S===92&&(B=B.substr(0,B.length-1),P.charCodeAt($)!==117&&je({},Qt,fe),++$,S=pn("u"),(!S||S==="\\"||!Tn(S.charCodeAt(0)))&&je({},Qt,fe),B+=S);return B}function In(){var S,B;for(S=$++;$<M;){if(B=P.charCodeAt($),B===92)return $=S,sr();if(Tn(B))++$;else break}return P.slice(S,$)}function Ne(){var S,B,ee;return S=$,B=P.charCodeAt($)===92?sr():In(),B.length===1?ee=Z:Dn.hasOwnProperty(B)?ee=me:B==="null"?ee=ye:B==="true"||B==="false"?ee=ae:ee=Z,{type:ee,value:B,start:S,end:$}}function $e(){var S=$,B=P.charCodeAt($),ee,_e=P[$],ft,St,Jt;switch(B){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++$,{type:ot,value:String.fromCharCode(B),start:S,end:$};default:if(ee=P.charCodeAt($+1),ee===61)switch(B){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return $+=2,{type:ot,value:String.fromCharCode(B)+String.fromCharCode(ee),start:S,end:$};case 33:case 61:return $+=2,P.charCodeAt($)===61&&++$,{type:ot,value:P.slice(S,$),start:S,end:$}}}if(Jt=P.substr($,4),Jt===">>>=")return $+=4,{type:ot,value:Jt,start:S,end:$};if(St=Jt.substr(0,3),St===">>>"||St==="<<="||St===">>=")return $+=3,{type:ot,value:St,start:S,end:$};if(ft=St.substr(0,2),_e===ft[1]&&"+-<>&|".indexOf(_e)>=0||ft==="=>")return $+=2,{type:ot,value:ft,start:S,end:$};if(ft==="//"&&je({},Qt,fe),"<>=!+-*%&|^/".indexOf(_e)>=0)return++$,{type:ot,value:_e,start:S,end:$};je({},Qt,fe)}function De(S){let B="";for(;$<M&&Nt(P[$]);)B+=P[$++];return B.length===0&&je({},Qt,fe),bn(P.charCodeAt($))&&je({},Qt,fe),{type:He,value:parseInt("0x"+B,16),start:S,end:$}}function qt(S){let B="0"+P[$++];for(;$<M&&zt(P[$]);)B+=P[$++];return(bn(P.charCodeAt($))||Ot(P.charCodeAt($)))&&je({},Qt,fe),{type:He,value:parseInt(B,8),octal:!0,start:S,end:$}}function yt(){var S,B,ee;if(ee=P[$],Ge(Ot(ee.charCodeAt(0))||ee===".","Numeric literal must start with a decimal digit or a decimal point"),B=$,S="",ee!=="."){if(S=P[$++],ee=P[$],S==="0"){if(ee==="x"||ee==="X")return++$,De(B);if(zt(ee))return qt(B);ee&&Ot(ee.charCodeAt(0))&&je({},Qt,fe)}for(;Ot(P.charCodeAt($));)S+=P[$++];ee=P[$]}if(ee==="."){for(S+=P[$++];Ot(P.charCodeAt($));)S+=P[$++];ee=P[$]}if(ee==="e"||ee==="E")if(S+=P[$++],ee=P[$],(ee==="+"||ee==="-")&&(S+=P[$++]),Ot(P.charCodeAt($)))for(;Ot(P.charCodeAt($));)S+=P[$++];else je({},Qt,fe);return bn(P.charCodeAt($))&&je({},Qt,fe),{type:He,value:parseFloat(S),start:B,end:$}}function mt(){var S="",B,ee,_e,ft,St=!1;for(B=P[$],Ge(B==="'"||B==='"',"String literal must starts with a quote"),ee=$,++$;$<M;)if(_e=P[$++],_e===B){B="";break}else if(_e==="\\")if(_e=P[$++],!_e||!Xt(_e.charCodeAt(0)))switch(_e){case"u":case"x":P[$]==="{"?(++$,S+=qn()):S+=pn(_e);break;case"n":S+=`
`;break;case"r":S+="\r";break;case"t":S+="	";break;case"b":S+="\b";break;case"f":S+="\f";break;case"v":S+="\v";break;default:zt(_e)?(ft="01234567".indexOf(_e),ft!==0&&(St=!0),$<M&&zt(P[$])&&(St=!0,ft=ft*8+"01234567".indexOf(P[$++]),"0123".indexOf(_e)>=0&&$<M&&zt(P[$])&&(ft=ft*8+"01234567".indexOf(P[$++]))),S+=String.fromCharCode(ft)):S+=_e;break}else _e==="\r"&&P[$]===`
`&&++$;else{if(Xt(_e.charCodeAt(0)))break;S+=_e}return B!==""&&je({},Qt,fe),{type:at,value:S,octal:St,start:ee,end:$}}function nn(S,B){let ee=S;B.indexOf("u")>=0&&(ee=ee.replace(/\\u\{([0-9a-fA-F]+)\}/g,(_e,ft)=>{if(parseInt(ft,16)<=1114111)return"x";je({},wt)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(ee)}catch{je({},wt)}try{return new RegExp(S,B)}catch{return null}}function Wt(){var S,B,ee,_e,ft;for(S=P[$],Ge(S==="/","Regular expression literal must start with a slash"),B=P[$++],ee=!1,_e=!1;$<M;)if(S=P[$++],B+=S,S==="\\")S=P[$++],Xt(S.charCodeAt(0))&&je({},Ee),B+=S;else if(Xt(S.charCodeAt(0)))je({},Ee);else if(ee)S==="]"&&(ee=!1);else if(S==="/"){_e=!0;break}else S==="["&&(ee=!0);return _e||je({},Ee),ft=B.substr(1,B.length-2),{value:ft,literal:B}}function Fn(){var S,B,ee;for(B="",ee="";$<M&&(S=P[$],!!Tn(S.charCodeAt(0)));)++$,S==="\\"&&$<M?je({},Qt,fe):(ee+=S,B+=S);return ee.search(/[^gimuy]/g)>=0&&je({},wt,ee),{value:ee,literal:B}}function Qn(){var S,B,ee,_e;return G=null,Ut(),S=$,B=Wt(),ee=Fn(),_e=nn(B.value,ee.value),{literal:B.literal+ee.literal,value:_e,regex:{pattern:B.value,flags:ee.value},start:S,end:$}}function Zn(S){return S.type===Z||S.type===me||S.type===ae||S.type===ye}function Pn(){if(Ut(),$>=M)return{type:I,start:$,end:$};let S=P.charCodeAt($);return bn(S)?Ne():S===40||S===41||S===59?$e():S===39||S===34?mt():S===46?Ot(P.charCodeAt($+1))?yt():$e():Ot(S)?yt():$e()}function or(){let S=G;return $=S.end,G=Pn(),$=S.end,S}function Ye(){let S=$;G=Pn(),$=S}function gt(S){let B=new R(Tt);return B.elements=S,B}function se(S,B,ee){let _e=new R(S==="||"||S==="&&"?Re:Mt);return _e.operator=S,_e.left=B,_e.right=ee,_e}function Pe(S,B){let ee=new R(Ue);return ee.callee=S,ee.arguments=B,ee}function et(S,B,ee){let _e=new R(te);return _e.test=S,_e.consequent=B,_e.alternate=ee,_e}function At(S){let B=new R(st);return B.name=S,B}function fn(S){let B=new R(be);return B.value=S.value,B.raw=P.slice(S.start,S.end),S.regex&&(B.raw==="//"&&(B.raw="/(?:)/"),B.regex=S.regex),B}function on(S,B,ee){let _e=new R(Ae);return _e.computed=S==="[",_e.object=B,_e.property=ee,_e.computed||(ee.member=!0),_e}function ct(S){let B=new R(xe);return B.properties=S,B}function re(S,B,ee){let _e=new R(Je);return _e.key=B,_e.value=ee,_e.kind=S,_e}function Te(S,B){let ee=new R(lt);return ee.operator=S,ee.argument=B,ee.prefix=!0,ee}function je(S,B){var ee,_e=Array.prototype.slice.call(arguments,2),ft=B.replace(/%(\d)/g,(St,Jt)=>(Ge(Jt<_e.length,"Message reference must be in range"),_e[Jt]));throw ee=new Error(ft),ee.index=$,ee.description=ft,ee}function ht(S){S.type===I&&je(S,cn),S.type===He&&je(S,Et),S.type===at&&je(S,mn),S.type===Z&&je(S,Lt),S.type===me&&je(S,kt),je(S,Qt,S.value)}function vt(S){let B=or();(B.type!==ot||B.value!==S)&&ht(B)}function Ft(S){return G.type===ot&&G.value===S}function ne(S){return G.type===me&&G.value===S}function Se(){let S=[];for($=G.start,vt("[");!Ft("]");)Ft(",")?(or(),S.push(null)):(S.push(K()),Ft("]")||vt(","));return or(),gt(S)}function Ve(){$=G.start;let S=or();return S.type===at||S.type===He?(S.octal&&je(S,Ie),fn(S)):At(S.value)}function nt(){var S,B,ee,_e;if($=G.start,S=G,S.type===Z)return ee=Ve(),vt(":"),_e=K(),re("init",ee,_e);if(S.type===I||S.type===ot)ht(S);else return B=Ve(),vt(":"),_e=K(),re("init",B,_e)}function Bt(){var S=[],B,ee,_e,ft={},St=String;for($=G.start,vt("{");!Ft("}");)B=nt(),B.key.type===st?ee=B.key.name:ee=St(B.key.value),_e="$"+ee,Object.prototype.hasOwnProperty.call(ft,_e)?je({},Ce):ft[_e]=!0,S.push(B),Ft("}")||vt(",");return vt("}"),ct(S)}function rn(){vt("(");let S=oe();return vt(")"),S}let Sn={if:1};function vn(){var S,B,ee;if(Ft("("))return rn();if(Ft("["))return Se();if(Ft("{"))return Bt();if(S=G.type,$=G.start,S===Z||Sn[G.value])ee=At(or().value);else if(S===at||S===He)G.octal&&je(G,Ie),ee=fn(or());else{if(S===me)throw new Error(rt);S===ae?(B=or(),B.value=B.value==="true",ee=fn(B)):S===ye?(B=or(),B.value=null,ee=fn(B)):Ft("/")||Ft("/=")?(ee=fn(Qn()),Ye()):ht(or())}return ee}function xn(){let S=[];if(vt("("),!Ft(")"))for(;$<M&&(S.push(K()),!Ft(")"));)vt(",");return vt(")"),S}function zn(){$=G.start;let S=or();return Zn(S)||ht(S),At(S.value)}function Oe(){return vt("."),zn()}function qe(){vt("[");let S=oe();return vt("]"),S}function Ct(){var S,B,ee;for(S=vn();;)if(Ft("."))ee=Oe(),S=on(".",S,ee);else if(Ft("("))B=xn(),S=Pe(S,B);else if(Ft("["))ee=qe(),S=on("[",S,ee);else break;return S}function O(){let S=Ct();if(G.type===ot&&(Ft("++")||Ft("--")))throw new Error(rt);return S}function H(){var S,B;if(G.type!==ot&&G.type!==me)B=O();else{if(Ft("++")||Ft("--"))throw new Error(rt);if(Ft("+")||Ft("-")||Ft("~")||Ft("!"))S=or(),B=H(),B=Te(S.value,B);else{if(ne("delete")||ne("void")||ne("typeof"))throw new Error(rt);B=O()}}return B}function ve(S){let B=0;if(S.type!==ot&&S.type!==me)return 0;switch(S.value){case"||":B=1;break;case"&&":B=2;break;case"|":B=3;break;case"^":B=4;break;case"&":B=5;break;case"==":case"!=":case"===":case"!==":B=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":B=7;break;case"<<":case">>":case">>>":B=8;break;case"+":case"-":B=9;break;case"*":case"/":case"%":B=11;break}return B}function pe(){var S,B,ee,_e,ft,St,Jt,Kt,hn,Bn;if(S=G,hn=H(),_e=G,ft=ve(_e),ft===0)return hn;for(_e.prec=ft,or(),B=[S,G],Jt=H(),St=[hn,_e,Jt];(ft=ve(G))>0;){for(;St.length>2&&ft<=St[St.length-2].prec;)Jt=St.pop(),Kt=St.pop().value,hn=St.pop(),B.pop(),ee=se(Kt,hn,Jt),St.push(ee);_e=or(),_e.prec=ft,St.push(_e),B.push(G),ee=H(),St.push(ee)}for(Bn=St.length-1,ee=St[Bn],B.pop();Bn>1;)B.pop(),ee=se(St[Bn-1].value,St[Bn-2],ee),Bn-=2;return ee}function K(){var S,B,ee;return S=pe(),Ft("?")&&(or(),B=K(),vt(":"),ee=K(),S=et(S,B,ee)),S}function oe(){let S=K();if(Ft(","))throw new Error(rt);return S}function le(S){P=S,$=0,M=P.length,G=null,Ye();let B=oe();if(G.type!==I)throw new Error("Unexpect token after expression.");return B}var We={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Rt(S){function B(Jt,Kt,hn,Bn){let jn=S(Kt[0]);return hn&&(jn=hn+"("+jn+")",hn.lastIndexOf("new ",0)===0&&(jn="("+jn+")")),jn+"."+Jt+(Bn<0?"":Bn===0?"()":"("+Kt.slice(1).map(S).join(",")+")")}function ee(Jt,Kt,hn){return Bn=>B(Jt,Bn,Kt,hn)}let _e="new Date",ft="String",St="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(Jt){Jt.length<3&&e.error("Missing arguments to clamp function."),Jt.length>3&&e.error("Too many arguments to clamp function.");let Kt=Jt.map(S);return"Math.max("+Kt[1]+", Math.min("+Kt[2]+","+Kt[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:_e,date:ee("getDate",_e,0),day:ee("getDay",_e,0),year:ee("getFullYear",_e,0),month:ee("getMonth",_e,0),hours:ee("getHours",_e,0),minutes:ee("getMinutes",_e,0),seconds:ee("getSeconds",_e,0),milliseconds:ee("getMilliseconds",_e,0),time:ee("getTime",_e,0),timezoneoffset:ee("getTimezoneOffset",_e,0),utcdate:ee("getUTCDate",_e,0),utcday:ee("getUTCDay",_e,0),utcyear:ee("getUTCFullYear",_e,0),utcmonth:ee("getUTCMonth",_e,0),utchours:ee("getUTCHours",_e,0),utcminutes:ee("getUTCMinutes",_e,0),utcseconds:ee("getUTCSeconds",_e,0),utcmilliseconds:ee("getUTCMilliseconds",_e,0),length:ee("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:ee("toUpperCase",ft,0),lower:ee("toLowerCase",ft,0),substring:ee("substring",ft),split:ee("split",ft),trim:ee("trim",ft,0),regexp:St,test:ee("test",St),if:function(Jt){Jt.length<3&&e.error("Missing arguments to if function."),Jt.length>3&&e.error("Too many arguments to if function.");let Kt=Jt.map(S);return"("+Kt[0]+"?"+Kt[1]+":"+Kt[2]+")"}}}function bt(S){let B=S&&S.length-1;return B&&(S[0]==='"'&&S[B]==='"'||S[0]==="'"&&S[B]==="'")?S.slice(1,-1):S}function ln(S){S=S||{};let B=S.allowed?e.toSet(S.allowed):{},ee=S.forbidden?e.toSet(S.forbidden):{},_e=S.constants||We,ft=(S.functions||Rt)(Vn),St=S.globalvar,Jt=S.fieldvar,Kt=e.isFunction(St)?St:yr=>`${St}["${yr}"]`,hn={},Bn={},jn=0;function Vn(yr){if(e.isString(yr))return yr;let Mr=Jr[yr.type];return Mr==null&&e.error("Unsupported type: "+yr.type),Mr(yr)}let Jr={Literal:yr=>yr.raw,Identifier:yr=>{let Mr=yr.name;return jn>0?Mr:e.hasOwnProperty(ee,Mr)?e.error("Illegal identifier: "+Mr):e.hasOwnProperty(_e,Mr)?_e[Mr]:e.hasOwnProperty(B,Mr)?Mr:(hn[Mr]=1,Kt(Mr))},MemberExpression:yr=>{let Mr=!yr.computed,xi=Vn(yr.object);Mr&&(jn+=1);let ai=Vn(yr.property);return xi===Jt&&(Bn[bt(ai)]=1),Mr&&(jn-=1),xi+(Mr?"."+ai:"["+ai+"]")},CallExpression:yr=>{yr.callee.type!=="Identifier"&&e.error("Illegal callee type: "+yr.callee.type);let Mr=yr.callee.name,xi=yr.arguments,ai=e.hasOwnProperty(ft,Mr)&&ft[Mr];return ai||e.error("Unrecognized function: "+Mr),e.isFunction(ai)?ai(xi):ai+"("+xi.map(Vn).join(",")+")"},ArrayExpression:yr=>"["+yr.elements.map(Vn).join(",")+"]",BinaryExpression:yr=>"("+Vn(yr.left)+" "+yr.operator+" "+Vn(yr.right)+")",UnaryExpression:yr=>"("+yr.operator+Vn(yr.argument)+")",ConditionalExpression:yr=>"("+Vn(yr.test)+"?"+Vn(yr.consequent)+":"+Vn(yr.alternate)+")",LogicalExpression:yr=>"("+Vn(yr.left)+yr.operator+Vn(yr.right)+")",ObjectExpression:yr=>"{"+yr.properties.map(Vn).join(",")+"}",Property:yr=>{jn+=1;let Mr=Vn(yr.key);return jn-=1,Mr+":"+Vn(yr.value)}};function Vr(yr){let Mr={code:Vn(yr),globals:Object.keys(hn),fields:Object.keys(Bn)};return hn={},Bn={},Mr}return Vr.functions=ft,Vr.constants=_e,Vr}n.ASTNode=R,n.ArrayExpression=o,n.BinaryExpression=a,n.CallExpression=c,n.ConditionalExpression=d,n.Identifier=s,n.Literal=r,n.LogicalExpression=p,n.MemberExpression=b,n.ObjectExpression=C,n.Property=i,n.RawCode=t,n.UnaryExpression=N,n.codegenExpression=ln,n.constants=We,n.functions=Rt,n.parseExpression=le,Object.defineProperty(n,"__esModule",{value:!0})})});var cTe=we((Xz,lTe)=>{m();(function(n,e){typeof Xz=="object"&&typeof lTe!="undefined"?e(Xz,Su(),Jz()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(Xz,function(n,e,t){"use strict";function r(Je,lt){return Je==null||lt==null?NaN:Je<lt?-1:Je>lt?1:Je>=lt?0:NaN}function i(Je){let lt=Je,Qt=Je,Et=Je;Je.length!==2&&(lt=(cn,wt)=>Je(cn)-wt,Qt=r,Et=(cn,wt)=>r(Je(cn),wt));function mn(cn,wt,Ee=0,Ie=cn.length){if(Ee<Ie){if(Qt(wt,wt)!==0)return Ie;do{let Ce=Ee+Ie>>>1;Et(cn[Ce],wt)<0?Ee=Ce+1:Ie=Ce}while(Ee<Ie)}return Ee}function Lt(cn,wt,Ee=0,Ie=cn.length){if(Ee<Ie){if(Qt(wt,wt)!==0)return Ie;do{let Ce=Ee+Ie>>>1;Et(cn[Ce],wt)<=0?Ee=Ce+1:Ie=Ce}while(Ee<Ie)}return Ee}function kt(cn,wt,Ee=0,Ie=cn.length){let Ce=mn(cn,wt,Ee,Ie-1);return Ce>Ee&&lt(cn[Ce-1],wt)>-lt(cn[Ce],wt)?Ce-1:Ce}return{left:mn,center:kt,right:Lt}}class s extends Set{constructor(lt,Qt=d){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Qt}}),lt!=null)for(let Et of lt)this.add(Et)}has(lt){return super.has(o(this,lt))}add(lt){return super.add(a(this,lt))}delete(lt){return super.delete(c(this,lt))}}function o({_intern:Je,_key:lt},Qt){let Et=lt(Qt);return Je.has(Et)?Je.get(Et):Qt}function a({_intern:Je,_key:lt},Qt){let Et=lt(Qt);return Je.has(Et)?Je.get(Et):(Je.set(Et,Qt),Qt)}function c({_intern:Je,_key:lt},Qt){let Et=lt(Qt);return Je.has(Et)&&(Qt=Je.get(Et),Je.delete(Et)),Qt}function d(Je){return Je!==null&&typeof Je=="object"?Je.valueOf():Je}function p(Je,...lt){Je=new s(Je),lt=lt.map(b);e:for(let Qt of Je)for(let Et of lt)if(!Et.has(Qt)){Je.delete(Qt);continue e}return Je}function b(Je){return Je instanceof s?Je:new s(Je)}function C(...Je){let lt=new s;for(let Qt of Je)for(let Et of Qt)lt.add(Et);return lt}let N="intersect",R="union",U="vlMulti",V="vlPoint",P="or",$="and",M="_vgsid_",G=e.field(M),ae="E",I="R",Z="R-E",me="R-LE",ye="R-RE",He="index:unit";function ot(Je,lt){for(var Qt=lt.fields,Et=lt.values,mn=Qt.length,Lt=0,kt,cn;Lt<mn;++Lt)if(cn=Qt[Lt],cn.getter=e.field.getter||e.field(cn.field),kt=cn.getter(Je),e.isDate(kt)&&(kt=e.toNumber(kt)),e.isDate(Et[Lt])&&(Et[Lt]=e.toNumber(Et[Lt])),e.isDate(Et[Lt][0])&&(Et[Lt]=Et[Lt].map(e.toNumber)),cn.type===ae){if(e.isArray(Et[Lt])?Et[Lt].indexOf(kt)<0:kt!==Et[Lt])return!1}else if(cn.type===I){if(!e.inrange(kt,Et[Lt]))return!1}else if(cn.type===ye){if(!e.inrange(kt,Et[Lt],!0,!1))return!1}else if(cn.type===Z){if(!e.inrange(kt,Et[Lt],!1,!1))return!1}else if(cn.type===me&&!e.inrange(kt,Et[Lt],!1,!0))return!1;return!0}function at(Je,lt,Qt){for(var Et=this.context.data[Je],mn=Et?Et.values.value:[],Lt=Et?Et[He]&&Et[He].value:void 0,kt=Qt===N,cn=mn.length,wt=0,Ee,Ie,Ce,fe,rt;wt<cn;++wt)if(Ee=mn[wt],Lt&&kt){if(Ie=Ie||{},Ce=Ie[fe=Ee.unit]||0,Ce===-1)continue;if(rt=ot(lt,Ee),Ie[fe]=rt?-1:++Ce,rt&&Lt.size===1)return!0;if(!rt&&Ce===Lt.get(fe).count)return!1}else if(rt=ot(lt,Ee),kt^rt)return rt;return cn&&kt}let Ze=i(G),Tt=Ze.left,Mt=Ze.right;function Ue(Je,lt,Qt){let Et=this.context.data[Je],mn=Et?Et.values.value:[],Lt=Et?Et[He]&&Et[He].value:void 0,kt=Qt===N,cn=G(lt),wt=Tt(mn,cn);if(wt===mn.length||G(mn[wt])!==cn)return!1;if(Lt&&kt){if(Lt.size===1)return!0;if(Mt(mn,cn)-wt<Lt.size)return!1}return!0}function te(Je,lt){return Je.map(Qt=>e.extend(lt.fields?{values:lt.fields.map(Et=>(Et.getter||(Et.getter=e.field(Et.field)))(Qt.datum))}:{[M]:G(Qt.datum)},lt))}function st(Je,lt,Qt,Et){for(var mn=this.context.data[Je],Lt=mn?mn.values.value:[],kt={},cn={},wt={},Ee,Ie,Ce,fe,rt,Xe,de,Ge,Ot,Nt,zt=Lt.length,en=0,Xt,bn;en<zt;++en)if(Ee=Lt[en],fe=Ee.unit,Ie=Ee.fields,Ce=Ee.values,Ie&&Ce){for(Xt=0,bn=Ie.length;Xt<bn;++Xt)rt=Ie[Xt],de=kt[rt.field]||(kt[rt.field]={}),Ge=de[fe]||(de[fe]=[]),wt[rt.field]=Ot=rt.type.charAt(0),Nt=be[`${Ot}_union`],de[fe]=Nt(Ge,e.array(Ce[Xt]));Qt&&(Ge=cn[fe]||(cn[fe]=[]),Ge.push(e.array(Ce).reduce((Tn,Dn,Ut)=>(Tn[Ie[Ut].field]=Dn,Tn),{})))}else rt=M,Xe=G(Ee),de=kt[rt]||(kt[rt]={}),Ge=de[fe]||(de[fe]=[]),Ge.push(Xe),Qt&&(Ge=cn[fe]||(cn[fe]=[]),Ge.push({[M]:Xe}));if(lt=lt||R,kt[M]?kt[M]=be[`${M}_${lt}`](...Object.values(kt[M])):Object.keys(kt).forEach(Tn=>{kt[Tn]=Object.keys(kt[Tn]).map(Dn=>kt[Tn][Dn]).reduce((Dn,Ut)=>Dn===void 0?Ut:be[`${wt[Tn]}_${lt}`](Dn,Ut))}),Lt=Object.keys(cn),Qt&&Lt.length){let Tn=Et?V:U;kt[Tn]=lt===R?{[P]:Lt.reduce((Dn,Ut)=>(Dn.push(...cn[Ut]),Dn),[])}:{[$]:Lt.map(Dn=>({[P]:cn[Dn]}))}}return kt}var be={[`${M}_union`]:C,[`${M}_intersect`]:p,E_union:function(Je,lt){if(!Je.length)return lt;for(var Qt=0,Et=lt.length;Qt<Et;++Qt)Je.indexOf(lt[Qt])<0&&Je.push(lt[Qt]);return Je},E_intersect:function(Je,lt){return Je.length?Je.filter(Qt=>lt.indexOf(Qt)>=0):lt},R_union:function(Je,lt){var Qt=e.toNumber(lt[0]),Et=e.toNumber(lt[1]);return Qt>Et&&(Qt=lt[1],Et=lt[0]),Je.length?(Je[0]>Qt&&(Je[0]=Qt),Je[1]<Et&&(Je[1]=Et),Je):[Qt,Et]},R_intersect:function(Je,lt){var Qt=e.toNumber(lt[0]),Et=e.toNumber(lt[1]);return Qt>Et&&(Qt=lt[1],Et=lt[0]),Je.length?Et<Je[0]||Je[1]<Qt?[]:(Je[0]<Qt&&(Je[0]=Qt),Je[1]>Et&&(Je[1]=Et),Je):[Qt,Et]}};let Re=":",Ae="@";function xe(Je,lt,Qt,Et){lt[0].type!==t.Literal&&e.error("First argument to selection functions must be a string literal.");let mn=lt[0].value,Lt=lt.length>=2&&e.peek(lt).value,kt="unit",cn=Ae+kt,wt=Re+mn;Lt===N&&!e.hasOwnProperty(Et,cn)&&(Et[cn]=Qt.getData(mn).indataRef(Qt,kt)),e.hasOwnProperty(Et,wt)||(Et[wt]=Qt.getData(mn).tuplesRef())}n.selectionIdTest=Ue,n.selectionResolve=st,n.selectionTest=at,n.selectionTuples=te,n.selectionVisitor=xe,Object.defineProperty(n,"__esModule",{value:!0})})});var eH=we((Zz,fTe)=>{m();(function(n,e){typeof Zz=="object"&&typeof fTe!="undefined"?e(Zz,Su(),Jz(),Jf(),Db(),_9(),cTe(),Fb(),v9()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression","vega-dataflow","vega-scale","vega-scenegraph","vega-selections","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(Zz,function(n,e,t,r,i,s,o,a,c){"use strict";function d(ue){let ut=this.context.data[ue];return ut?ut.values.value:[]}function p(ue,ut,Zt){let An=this.context.data[ue]["index:"+ut],nr=An?An.value.get(Zt):void 0;return nr&&nr.count}function b(ue,ut){let Zt=this.context.dataflow,An=this.context.data[ue],nr=An.input;return Zt.pulse(nr,Zt.changeset().remove(e.truthy).insert(ut)),1}function C(ue,ut,Zt){if(ue){let An=this.context.dataflow,nr=ue.mark.source;An.pulse(nr,An.changeset().encode(ue,ut))}return Zt!==void 0?Zt:ue}let N=ue=>function(ut,Zt){return this.context.dataflow.locale()[ue](Zt)(ut)},R=N("format"),U=N("timeFormat"),V=N("utcFormat"),P=N("timeParse"),$=N("utcParse"),M=new Date(2e3,0,1);function G(ue,ut,Zt){return!Number.isInteger(ue)||!Number.isInteger(ut)?"":(M.setYear(2e3),M.setMonth(ue),M.setDate(ut),U.call(this,M,Zt))}function ae(ue){return G.call(this,ue,1,"%B")}function I(ue){return G.call(this,ue,1,"%b")}function Z(ue){return G.call(this,0,2+ue,"%A")}function me(ue){return G.call(this,0,2+ue,"%a")}let ye=":",He="@",ot="%",at="$";function Ze(ue,ut,Zt,An){ut[0].type!==t.Literal&&e.error("First argument to data functions must be a string literal.");let nr=ut[0].value,vr=ye+nr;if(!e.hasOwnProperty(vr,An))try{An[vr]=Zt.getData(nr).tuplesRef()}catch{}}function Tt(ue,ut,Zt,An){ut[0].type!==t.Literal&&e.error("First argument to indata must be a string literal."),ut[1].type!==t.Literal&&e.error("Second argument to indata must be a string literal.");let nr=ut[0].value,vr=ut[1].value,fr=He+vr;e.hasOwnProperty(fr,An)||(An[fr]=Zt.getData(nr).indataRef(Zt,vr))}function Mt(ue,ut,Zt,An){if(ut[0].type===t.Literal)Ue(Zt,An,ut[0].value);else for(ue in Zt.scales)Ue(Zt,An,ue)}function Ue(ue,ut,Zt){let An=ot+Zt;if(!e.hasOwnProperty(ut,An))try{ut[An]=ue.scaleRef(Zt)}catch{}}function te(ue,ut){let Zt;return e.isFunction(ue)?ue:e.isString(ue)?(Zt=ut.scales[ue])&&Zt.value:void 0}function st(ue,ut,Zt){ut.__bandwidth=nr=>nr&&nr.bandwidth?nr.bandwidth():0,Zt._bandwidth=Mt,Zt._range=Mt,Zt._scale=Mt;let An=nr=>"_["+(nr.type===t.Literal?e.stringValue(ot+nr.value):e.stringValue(ot)+"+"+ue(nr))+"]";return{_bandwidth:nr=>`this.__bandwidth(${An(nr[0])})`,_range:nr=>`${An(nr[0])}.range()`,_scale:nr=>`${An(nr[0])}(${ue(nr[1])})`}}class be{constructor(){this._partials=new Float64Array(32),this._n=0}add(ut){let Zt=this._partials,An=0;for(let nr=0;nr<this._n&&nr<32;nr++){let vr=Zt[nr],fr=ut+vr,Zi=Math.abs(ut)<Math.abs(vr)?ut-(fr-vr):vr-(fr-ut);Zi&&(Zt[An++]=Zi),ut=fr}return Zt[An]=ut,this._n=An+1,this}valueOf(){let ut=this._partials,Zt=this._n,An,nr,vr,fr=0;if(Zt>0){for(fr=ut[--Zt];Zt>0&&(An=fr,nr=ut[--Zt],fr=An+nr,vr=nr-(fr-An),!vr););Zt>0&&(vr<0&&ut[Zt-1]<0||vr>0&&ut[Zt-1]>0)&&(nr=vr*2,An=fr+nr,nr==An-fr&&(fr=An))}return fr}}function Re(ue,ut,Zt){ue=+ue,ut=+ut,Zt=(nr=arguments.length)<2?(ut=ue,ue=0,1):nr<3?1:+Zt;for(var An=-1,nr=Math.max(0,Math.ceil((ut-ue)/Zt))|0,vr=new Array(nr);++An<nr;)vr[An]=ue+An*Zt;return vr}var Ae=1e-6,xe=1e-12,Je=Math.PI,lt=Je/2,Qt=Je/4,Et=Je*2,mn=180/Je,Lt=Je/180,kt=Math.abs,cn=Math.atan2,wt=Math.cos,Ee=Math.hypot,Ie=Math.sin,Ce=Math.sqrt;function fe(ue){return ue>1?lt:ue<-1?-lt:Math.asin(ue)}function rt(){}function Xe(ue,ut){ue&&Ge.hasOwnProperty(ue.type)&&Ge[ue.type](ue,ut)}var de={Feature:function(ue,ut){Xe(ue.geometry,ut)},FeatureCollection:function(ue,ut){for(var Zt=ue.features,An=-1,nr=Zt.length;++An<nr;)Xe(Zt[An].geometry,ut)}},Ge={Sphere:function(ue,ut){ut.sphere()},Point:function(ue,ut){ue=ue.coordinates,ut.point(ue[0],ue[1],ue[2])},MultiPoint:function(ue,ut){for(var Zt=ue.coordinates,An=-1,nr=Zt.length;++An<nr;)ue=Zt[An],ut.point(ue[0],ue[1],ue[2])},LineString:function(ue,ut){Ot(ue.coordinates,ut,0)},MultiLineString:function(ue,ut){for(var Zt=ue.coordinates,An=-1,nr=Zt.length;++An<nr;)Ot(Zt[An],ut,0)},Polygon:function(ue,ut){Nt(ue.coordinates,ut)},MultiPolygon:function(ue,ut){for(var Zt=ue.coordinates,An=-1,nr=Zt.length;++An<nr;)Nt(Zt[An],ut)},GeometryCollection:function(ue,ut){for(var Zt=ue.geometries,An=-1,nr=Zt.length;++An<nr;)Xe(Zt[An],ut)}};function Ot(ue,ut,Zt){var An=-1,nr=ue.length-Zt,vr;for(ut.lineStart();++An<nr;)vr=ue[An],ut.point(vr[0],vr[1],vr[2]);ut.lineEnd()}function Nt(ue,ut){var Zt=-1,An=ue.length;for(ut.polygonStart();++Zt<An;)Ot(ue[Zt],ut,1);ut.polygonEnd()}function zt(ue,ut){ue&&de.hasOwnProperty(ue.type)?de[ue.type](ue,ut):Xe(ue,ut)}var en=new be,Xt=new be,bn,Tn,Dn,Ut,pn,qn={point:rt,lineStart:rt,lineEnd:rt,polygonStart:function(){en=new be,qn.lineStart=sr,qn.lineEnd=In},polygonEnd:function(){var ue=+en;Xt.add(ue<0?Et+ue:ue),this.lineStart=this.lineEnd=this.point=rt},sphere:function(){Xt.add(Et)}};function sr(){qn.point=Ne}function In(){$e(bn,Tn)}function Ne(ue,ut){qn.point=$e,bn=ue,Tn=ut,ue*=Lt,ut*=Lt,Dn=ue,Ut=wt(ut=ut/2+Qt),pn=Ie(ut)}function $e(ue,ut){ue*=Lt,ut*=Lt,ut=ut/2+Qt;var Zt=ue-Dn,An=Zt>=0?1:-1,nr=An*Zt,vr=wt(ut),fr=Ie(ut),Zi=pn*fr,vs=Ut*vr+Zi*wt(nr),Ns=Zi*An*Ie(nr);en.add(cn(Ns,vs)),Dn=ue,Ut=vr,pn=fr}function De(ue){return Xt=new be,zt(ue,qn),Xt*2}function qt(ue){return[cn(ue[1],ue[0]),fe(ue[2])]}function yt(ue){var ut=ue[0],Zt=ue[1],An=wt(Zt);return[An*wt(ut),An*Ie(ut),Ie(Zt)]}function mt(ue,ut){return[ue[1]*ut[2]-ue[2]*ut[1],ue[2]*ut[0]-ue[0]*ut[2],ue[0]*ut[1]-ue[1]*ut[0]]}function nn(ue){var ut=Ce(ue[0]*ue[0]+ue[1]*ue[1]+ue[2]*ue[2]);ue[0]/=ut,ue[1]/=ut,ue[2]/=ut}var Wt,Fn,Qn,Zn,Pn,or,Ye,gt,se,Pe,et,At={point:fn,lineStart:ct,lineEnd:re,polygonStart:function(){At.point=Te,At.lineStart=je,At.lineEnd=ht,se=new be,qn.polygonStart()},polygonEnd:function(){qn.polygonEnd(),At.point=fn,At.lineStart=ct,At.lineEnd=re,en<0?(Wt=-(Qn=180),Fn=-(Zn=90)):se>Ae?Zn=90:se<-Ae&&(Fn=-90),et[0]=Wt,et[1]=Qn},sphere:function(){Wt=-(Qn=180),Fn=-(Zn=90)}};function fn(ue,ut){Pe.push(et=[Wt=ue,Qn=ue]),ut<Fn&&(Fn=ut),ut>Zn&&(Zn=ut)}function on(ue,ut){var Zt=yt([ue*Lt,ut*Lt]);if(gt){var An=mt(gt,Zt),nr=[An[1],-An[0],0],vr=mt(nr,An);nn(vr),vr=qt(vr);var fr=ue-Pn,Zi=fr>0?1:-1,vs=vr[0]*mn*Zi,Ns,io=kt(fr)>180;io^(Zi*Pn<vs&&vs<Zi*ue)?(Ns=vr[1]*mn,Ns>Zn&&(Zn=Ns)):(vs=(vs+360)%360-180,io^(Zi*Pn<vs&&vs<Zi*ue)?(Ns=-vr[1]*mn,Ns<Fn&&(Fn=Ns)):(ut<Fn&&(Fn=ut),ut>Zn&&(Zn=ut))),io?ue<Pn?vt(Wt,ue)>vt(Wt,Qn)&&(Qn=ue):vt(ue,Qn)>vt(Wt,Qn)&&(Wt=ue):Qn>=Wt?(ue<Wt&&(Wt=ue),ue>Qn&&(Qn=ue)):ue>Pn?vt(Wt,ue)>vt(Wt,Qn)&&(Qn=ue):vt(ue,Qn)>vt(Wt,Qn)&&(Wt=ue)}else Pe.push(et=[Wt=ue,Qn=ue]);ut<Fn&&(Fn=ut),ut>Zn&&(Zn=ut),gt=Zt,Pn=ue}function ct(){At.point=on}function re(){et[0]=Wt,et[1]=Qn,At.point=fn,gt=null}function Te(ue,ut){if(gt){var Zt=ue-Pn;se.add(kt(Zt)>180?Zt+(Zt>0?360:-360):Zt)}else or=ue,Ye=ut;qn.point(ue,ut),on(ue,ut)}function je(){qn.lineStart()}function ht(){Te(or,Ye),qn.lineEnd(),kt(se)>Ae&&(Wt=-(Qn=180)),et[0]=Wt,et[1]=Qn,gt=null}function vt(ue,ut){return(ut-=ue)<0?ut+360:ut}function Ft(ue,ut){return ue[0]-ut[0]}function ne(ue,ut){return ue[0]<=ue[1]?ue[0]<=ut&&ut<=ue[1]:ut<ue[0]||ue[1]<ut}function Se(ue){var ut,Zt,An,nr,vr,fr,Zi;if(Zn=Qn=-(Wt=Fn=1/0),Pe=[],zt(ue,At),Zt=Pe.length){for(Pe.sort(Ft),ut=1,An=Pe[0],vr=[An];ut<Zt;++ut)nr=Pe[ut],ne(An,nr[0])||ne(An,nr[1])?(vt(An[0],nr[1])>vt(An[0],An[1])&&(An[1]=nr[1]),vt(nr[0],An[1])>vt(An[0],An[1])&&(An[0]=nr[0])):vr.push(An=nr);for(fr=-1/0,Zt=vr.length-1,ut=0,An=vr[Zt];ut<=Zt;An=nr,++ut)nr=vr[ut],(Zi=vt(An[1],nr[0]))>fr&&(fr=Zi,Wt=nr[0],Qn=An[1])}return Pe=et=null,Wt===1/0||Fn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Wt,Fn],[Qn,Zn]]}var Ve,nt,Bt,rn,Sn,vn,xn,zn,Oe,qe,Ct,O,H,ve,pe,K,oe={sphere:rt,point:le,lineStart:Rt,lineEnd:S,polygonStart:function(){oe.lineStart=B,oe.lineEnd=ee},polygonEnd:function(){oe.lineStart=Rt,oe.lineEnd=S}};function le(ue,ut){ue*=Lt,ut*=Lt;var Zt=wt(ut);We(Zt*wt(ue),Zt*Ie(ue),Ie(ut))}function We(ue,ut,Zt){++Ve,Bt+=(ue-Bt)/Ve,rn+=(ut-rn)/Ve,Sn+=(Zt-Sn)/Ve}function Rt(){oe.point=bt}function bt(ue,ut){ue*=Lt,ut*=Lt;var Zt=wt(ut);ve=Zt*wt(ue),pe=Zt*Ie(ue),K=Ie(ut),oe.point=ln,We(ve,pe,K)}function ln(ue,ut){ue*=Lt,ut*=Lt;var Zt=wt(ut),An=Zt*wt(ue),nr=Zt*Ie(ue),vr=Ie(ut),fr=cn(Ce((fr=pe*vr-K*nr)*fr+(fr=K*An-ve*vr)*fr+(fr=ve*nr-pe*An)*fr),ve*An+pe*nr+K*vr);nt+=fr,vn+=fr*(ve+(ve=An)),xn+=fr*(pe+(pe=nr)),zn+=fr*(K+(K=vr)),We(ve,pe,K)}function S(){oe.point=le}function B(){oe.point=_e}function ee(){ft(O,H),oe.point=le}function _e(ue,ut){O=ue,H=ut,ue*=Lt,ut*=Lt,oe.point=ft;var Zt=wt(ut);ve=Zt*wt(ue),pe=Zt*Ie(ue),K=Ie(ut),We(ve,pe,K)}function ft(ue,ut){ue*=Lt,ut*=Lt;var Zt=wt(ut),An=Zt*wt(ue),nr=Zt*Ie(ue),vr=Ie(ut),fr=pe*vr-K*nr,Zi=K*An-ve*vr,vs=ve*nr-pe*An,Ns=Ee(fr,Zi,vs),io=fe(Ns),Ya=Ns&&-io/Ns;Oe.add(Ya*fr),qe.add(Ya*Zi),Ct.add(Ya*vs),nt+=io,vn+=io*(ve+(ve=An)),xn+=io*(pe+(pe=nr)),zn+=io*(K+(K=vr)),We(ve,pe,K)}function St(ue){Ve=nt=Bt=rn=Sn=vn=xn=zn=0,Oe=new be,qe=new be,Ct=new be,zt(ue,oe);var ut=+Oe,Zt=+qe,An=+Ct,nr=Ee(ut,Zt,An);return nr<xe&&(ut=vn,Zt=xn,An=zn,nt<Ae&&(ut=Bt,Zt=rn,An=Sn),nr=Ee(ut,Zt,An),nr<xe)?[NaN,NaN]:[cn(Zt,ut)*mn,fe(An/nr)*mn]}function Jt(ue,ut){return function(Zt,An,nr){if(Zt){let vr=te(Zt,(nr||this).context);return vr&&vr.path[ue](An)}else return ut(An)}}let Kt=Jt("area",De),hn=Jt("bounds",Se),Bn=Jt("centroid",St);function jn(ue){let ut=this.context.group,Zt=!1;if(ut)for(;ue;){if(ue===ut){Zt=!0;break}ue=ue.mark.group}return Zt}function Vn(ue,ut,Zt){try{ue[ut].apply(ue,["EXPRESSION"].concat([].slice.call(Zt)))}catch(An){ue.warn(An)}return Zt[Zt.length-1]}function Jr(){return Vn(this.context.dataflow,"warn",arguments)}function Vr(){return Vn(this.context.dataflow,"info",arguments)}function yr(){return Vn(this.context.dataflow,"debug",arguments)}function Mr(ue,ut,Zt){ue.prototype=ut.prototype=Zt,Zt.constructor=ue}function xi(ue,ut){var Zt=Object.create(ue.prototype);for(var An in ut)Zt[An]=ut[An];return Zt}function ai(){}var Ji=.7,Es=1/Ji,es="\\s*([+-]?\\d+)\\s*",Ea="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",da="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fl=/^#([0-9a-f]{3,8})$/,wc=new RegExp("^rgb\\("+[es,es,es]+"\\)$"),au=new RegExp("^rgb\\("+[da,da,da]+"\\)$"),uu=new RegExp("^rgba\\("+[es,es,es,Ea]+"\\)$"),Gu=new RegExp("^rgba\\("+[da,da,da,Ea]+"\\)$"),wu=new RegExp("^hsl\\("+[Ea,da,da]+"\\)$"),Ac=new RegExp("^hsla\\("+[Ea,da,da,Ea]+"\\)$"),Zo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mr(ai,Gt,{copy:function(ue){return Object.assign(new this.constructor,this,ue)},displayable:function(){return this.rgb().displayable()},hex:Yu,formatHex:Yu,formatHsl:Gc,formatRgb:Qe,toString:Qe});function Yu(){return this.rgb().formatHex()}function Gc(){return ro(this).formatHsl()}function Qe(){return this.rgb().formatRgb()}function Gt(ue){var ut,Zt;return ue=(ue+"").trim().toLowerCase(),(ut=fl.exec(ue))?(Zt=ut[1].length,ut=parseInt(ut[1],16),Zt===6?Mn(ut):Zt===3?new Xr(ut>>8&15|ut>>4&240,ut>>4&15|ut&240,(ut&15)<<4|ut&15,1):Zt===8?Yn(ut>>24&255,ut>>16&255,ut>>8&255,(ut&255)/255):Zt===4?Yn(ut>>12&15|ut>>8&240,ut>>8&15|ut>>4&240,ut>>4&15|ut&240,((ut&15)<<4|ut&15)/255):null):(ut=wc.exec(ue))?new Xr(ut[1],ut[2],ut[3],1):(ut=au.exec(ue))?new Xr(ut[1]*255/100,ut[2]*255/100,ut[3]*255/100,1):(ut=uu.exec(ue))?Yn(ut[1],ut[2],ut[3],ut[4]):(ut=Gu.exec(ue))?Yn(ut[1]*255/100,ut[2]*255/100,ut[3]*255/100,ut[4]):(ut=wu.exec(ue))?as(ut[1],ut[2]/100,ut[3]/100,1):(ut=Ac.exec(ue))?as(ut[1],ut[2]/100,ut[3]/100,ut[4]):Zo.hasOwnProperty(ue)?Mn(Zo[ue]):ue==="transparent"?new Xr(NaN,NaN,NaN,0):null}function Mn(ue){return new Xr(ue>>16&255,ue>>8&255,ue&255,1)}function Yn(ue,ut,Zt,An){return An<=0&&(ue=ut=Zt=NaN),new Xr(ue,ut,Zt,An)}function ri(ue){return ue instanceof ai||(ue=Gt(ue)),ue?(ue=ue.rgb(),new Xr(ue.r,ue.g,ue.b,ue.opacity)):new Xr}function Br(ue,ut,Zt,An){return arguments.length===1?ri(ue):new Xr(ue,ut,Zt,An??1)}function Xr(ue,ut,Zt,An){this.r=+ue,this.g=+ut,this.b=+Zt,this.opacity=+An}Mr(Xr,Br,xi(ai,{brighter:function(ue){return ue=ue==null?Es:Math.pow(Es,ue),new Xr(this.r*ue,this.g*ue,this.b*ue,this.opacity)},darker:function(ue){return ue=ue==null?Ji:Math.pow(Ji,ue),new Xr(this.r*ue,this.g*ue,this.b*ue,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cs,formatHex:Cs,formatRgb:lo,toString:lo}));function Cs(){return"#"+no(this.r)+no(this.g)+no(this.b)}function lo(){var ue=this.opacity;return ue=isNaN(ue)?1:Math.max(0,Math.min(1,ue)),(ue===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ue===1?")":", "+ue+")")}function no(ue){return ue=Math.max(0,Math.min(255,Math.round(ue)||0)),(ue<16?"0":"")+ue.toString(16)}function as(ue,ut,Zt,An){return An<=0?ue=ut=Zt=NaN:Zt<=0||Zt>=1?ue=ut=NaN:ut<=0&&(ue=NaN),new hi(ue,ut,Zt,An)}function ro(ue){if(ue instanceof hi)return new hi(ue.h,ue.s,ue.l,ue.opacity);if(ue instanceof ai||(ue=Gt(ue)),!ue)return new hi;if(ue instanceof hi)return ue;ue=ue.rgb();var ut=ue.r/255,Zt=ue.g/255,An=ue.b/255,nr=Math.min(ut,Zt,An),vr=Math.max(ut,Zt,An),fr=NaN,Zi=vr-nr,vs=(vr+nr)/2;return Zi?(ut===vr?fr=(Zt-An)/Zi+(Zt<An)*6:Zt===vr?fr=(An-ut)/Zi+2:fr=(ut-Zt)/Zi+4,Zi/=vs<.5?vr+nr:2-vr-nr,fr*=60):Zi=vs>0&&vs<1?0:fr,new hi(fr,Zi,vs,ue.opacity)}function co(ue,ut,Zt,An){return arguments.length===1?ro(ue):new hi(ue,ut,Zt,An??1)}function hi(ue,ut,Zt,An){this.h=+ue,this.s=+ut,this.l=+Zt,this.opacity=+An}Mr(hi,co,xi(ai,{brighter:function(ue){return ue=ue==null?Es:Math.pow(Es,ue),new hi(this.h,this.s,this.l*ue,this.opacity)},darker:function(ue){return ue=ue==null?Ji:Math.pow(Ji,ue),new hi(this.h,this.s,this.l*ue,this.opacity)},rgb:function(){var ue=this.h%360+(this.h<0)*360,ut=isNaN(ue)||isNaN(this.s)?0:this.s,Zt=this.l,An=Zt+(Zt<.5?Zt:1-Zt)*ut,nr=2*Zt-An;return new Xr(Ei(ue>=240?ue-240:ue+120,nr,An),Ei(ue,nr,An),Ei(ue<120?ue+240:ue-120,nr,An),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ue=this.opacity;return ue=isNaN(ue)?1:Math.max(0,Math.min(1,ue)),(ue===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ue===1?")":", "+ue+")")}}));function Ei(ue,ut,Zt){return(ue<60?ut+(Zt-ut)*ue/60:ue<180?Zt:ue<240?ut+(Zt-ut)*(240-ue)/60:ut)*255}let Vi=Math.PI/180,Ko=180/Math.PI,la=18,ca=.96422,fo=1,us=.82521,hs=4/29,Xi=6/29,lu=3*Xi*Xi,Is=Xi*Xi*Xi;function ha(ue){if(ue instanceof Ni)return new Ni(ue.l,ue.a,ue.b,ue.opacity);if(ue instanceof Oo)return Ao(ue);ue instanceof Xr||(ue=ri(ue));var ut=Do(ue.r),Zt=Do(ue.g),An=Do(ue.b),nr=Ho((.2225045*ut+.7168786*Zt+.0606169*An)/fo),vr,fr;return ut===Zt&&Zt===An?vr=fr=nr:(vr=Ho((.4360747*ut+.3850649*Zt+.1430804*An)/ca),fr=Ho((.0139322*ut+.0971045*Zt+.7141733*An)/us)),new Ni(116*nr-16,500*(vr-nr),200*(nr-fr),ue.opacity)}function ia(ue,ut,Zt,An){return arguments.length===1?ha(ue):new Ni(ue,ut,Zt,An??1)}function Ni(ue,ut,Zt,An){this.l=+ue,this.a=+ut,this.b=+Zt,this.opacity=+An}Mr(Ni,ia,xi(ai,{brighter:function(ue){return new Ni(this.l+la*(ue??1),this.a,this.b,this.opacity)},darker:function(ue){return new Ni(this.l-la*(ue??1),this.a,this.b,this.opacity)},rgb:function(){var ue=(this.l+16)/116,ut=isNaN(this.a)?ue:ue+this.a/500,Zt=isNaN(this.b)?ue:ue-this.b/200;return ut=ca*ys(ut),ue=fo*ys(ue),Zt=us*ys(Zt),new Xr(Ii(3.1338561*ut-1.6168667*ue-.4906146*Zt),Ii(-.9787684*ut+1.9161415*ue+.033454*Zt),Ii(.0719453*ut-.2289914*ue+1.4052427*Zt),this.opacity)}}));function Ho(ue){return ue>Is?Math.pow(ue,1/3):ue/lu+hs}function ys(ue){return ue>Xi?ue*ue*ue:lu*(ue-hs)}function Ii(ue){return 255*(ue<=.0031308?12.92*ue:1.055*Math.pow(ue,1/2.4)-.055)}function Do(ue){return(ue/=255)<=.04045?ue/12.92:Math.pow((ue+.055)/1.055,2.4)}function Oa(ue){if(ue instanceof Oo)return new Oo(ue.h,ue.c,ue.l,ue.opacity);if(ue instanceof Ni||(ue=ha(ue)),ue.a===0&&ue.b===0)return new Oo(NaN,0<ue.l&&ue.l<100?0:NaN,ue.l,ue.opacity);var ut=Math.atan2(ue.b,ue.a)*Ko;return new Oo(ut<0?ut+360:ut,Math.sqrt(ue.a*ue.a+ue.b*ue.b),ue.l,ue.opacity)}function Ga(ue,ut,Zt,An){return arguments.length===1?Oa(ue):new Oo(ue,ut,Zt,An??1)}function Oo(ue,ut,Zt,An){this.h=+ue,this.c=+ut,this.l=+Zt,this.opacity=+An}function Ao(ue){if(isNaN(ue.h))return new Ni(ue.l,0,0,ue.opacity);var ut=ue.h*Vi;return new Ni(ue.l,Math.cos(ut)*ue.c,Math.sin(ut)*ue.c,ue.opacity)}Mr(Oo,Ga,xi(ai,{brighter:function(ue){return new Oo(this.h,this.c,this.l+la*(ue??1),this.opacity)},darker:function(ue){return new Oo(this.h,this.c,this.l-la*(ue??1),this.opacity)},rgb:function(){return Ao(this).rgb()}}));function ja(ue){let ut=ue/255;return ut<=.03928?ut/12.92:Math.pow((ut+.055)/1.055,2.4)}function cu(ue){let ut=Br(ue),Zt=ja(ut.r),An=ja(ut.g),nr=ja(ut.b);return .2126*Zt+.7152*An+.0722*nr}function qa(ue,ut){let Zt=cu(ue),An=cu(ut),nr=Math.max(Zt,An),vr=Math.min(Zt,An);return(nr+.05)/(vr+.05)}function sa(){let ue=[].slice.call(arguments);return ue.unshift({}),e.extend(...ue)}function oa(ue,ut){return ue===ut||ue!==ue&&ut!==ut?!0:e.isArray(ue)?e.isArray(ut)&&ue.length===ut.length?dl(ue,ut):!1:e.isObject(ue)&&e.isObject(ut)?Pl(ue,ut):!1}function dl(ue,ut){for(let Zt=0,An=ue.length;Zt<An;++Zt)if(!oa(ue[Zt],ut[Zt]))return!1;return!0}function Pl(ue,ut){for(let Zt in ue)if(!oa(ue[Zt],ut[Zt]))return!1;return!0}function ea(ue){return ut=>Pl(ue,ut)}function Ku(ue,ut,Zt,An,nr,vr){let fr=this.context.dataflow,Zi=this.context.data[ue],vs=Zi.input,Ns=fr.stamp(),io=Zi.changes,Ya,Zl;if(fr._trigger===!1||!(vs.value.length||ut||An))return 0;if((!io||io.stamp<Ns)&&(Zi.changes=io=fr.changeset(),io.stamp=Ns,fr.runAfter(()=>{Zi.modified=!0,fr.pulse(vs,io).run()},!0,1)),Zt&&(Ya=Zt===!0?e.truthy:e.isArray(Zt)||r.isTuple(Zt)?Zt:ea(Zt),io.remove(Ya)),ut&&io.insert(ut),An&&(Ya=ea(An),vs.value.some(Ya)?io.remove(Ya):io.insert(An)),nr)for(Zl in vr)io.modify(nr,Zl,vr[Zl]);return 1}function ui(ue){let ut=ue.touches,Zt=ut[0].clientX-ut[1].clientX,An=ut[0].clientY-ut[1].clientY;return Math.sqrt(Zt*Zt+An*An)}function ns(ue){let ut=ue.touches;return Math.atan2(ut[0].clientY-ut[1].clientY,ut[0].clientX-ut[1].clientX)}let ls={};function pr(ue,ut){let Zt=ls[ut]||(ls[ut]=e.field(ut));return e.isArray(ue)?ue.map(Zt):Zt(ue)}function rs(ue){return e.isArray(ue)||ArrayBuffer.isView(ue)?ue:null}function Le(ue){return rs(ue)||(e.isString(ue)?ue:null)}function pt(ue,...ut){return rs(ue).join(...ut)}function Yt(ue,...ut){return Le(ue).indexOf(...ut)}function jt(ue,...ut){return Le(ue).lastIndexOf(...ut)}function dn(ue,...ut){return Le(ue).slice(...ut)}function Nn(ue,ut,Zt){return e.isFunction(Zt)&&e.error("Function argument passed to replace."),String(ue).replace(ut,Zt)}function Kn(ue){return rs(ue).slice().reverse()}function Un(ue,ut,Zt){return i.bandSpace(ue||0,ut||0,Zt||0)}function br(ue,ut){let Zt=te(ue,(ut||this).context);return Zt&&Zt.bandwidth?Zt.bandwidth():0}function wr(ue,ut){let Zt=te(ue,(ut||this).context);return Zt?Zt.copy():void 0}function Gn(ue,ut){let Zt=te(ue,(ut||this).context);return Zt?Zt.domain():[]}function ar(ue,ut,Zt){let An=te(ue,(Zt||this).context);return An?e.isArray(ut)?(An.invertRange||An.invert)(ut):(An.invert||An.invertExtent)(ut):void 0}function er(ue,ut){let Zt=te(ue,(ut||this).context);return Zt&&Zt.range?Zt.range():[]}function gr(ue,ut,Zt){let An=te(ue,(Zt||this).context);return An?An(ut):void 0}function Or(ue,ut,Zt,An,nr){ue=te(ue,(nr||this).context);let vr=s.Gradient(ut,Zt),fr=ue.domain(),Zi=fr[0],vs=e.peek(fr),Ns=e.identity;return vs-Zi?Ns=i.scaleFraction(ue,Zi,vs):ue=(ue.interpolator?i.scale("sequential")().interpolator(ue.interpolator()):i.scale("linear")().interpolate(ue.interpolate()).range(ue.range())).domain([Zi=0,vs=1]),ue.ticks&&(fr=ue.ticks(+An||15),Zi!==fr[0]&&fr.unshift(Zi),vs!==e.peek(fr)&&fr.push(vs)),fr.forEach(io=>vr.stop(Ns(io),ue(io))),vr}function di(ue,ut,Zt){let An=te(ue,(Zt||this).context);return function(nr){return An?An.path.context(nr)(ut):""}}function ni(ue){let ut=null;return function(Zt){return Zt?s.pathRender(Zt,ut=ut||s.pathParse(ue)):ue}}let pi=ue=>ue.data;function ii(ue,ut){let Zt=d.call(ut,ue);return Zt.root&&Zt.root.lookup||{}}function qr(ue,ut,Zt){let An=ii(ue,this),nr=An[ut],vr=An[Zt];return nr&&vr?nr.path(vr).map(pi):void 0}function Ir(ue,ut){let Zt=ii(ue,this)[ut];return Zt?Zt.ancestors().map(pi):void 0}let yi=()=>typeof window!="undefined"&&window||null;function gi(){let ue=yi();return ue?ue.screen:{}}function ss(){let ue=yi();return ue?[ue.innerWidth,ue.innerHeight]:[void 0,void 0]}function ms(){let ue=this.context.dataflow,ut=ue.container&&ue.container();return ut?[ut.clientWidth,ut.clientHeight]:[void 0,void 0]}function vi(ue,ut,Zt){if(!ue)return[];let[An,nr]=ue,vr=new s.Bounds().set(An[0],An[1],nr[0],nr[1]),fr=Zt||this.context.dataflow.scenegraph().root;return s.intersect(fr,vr,Ms(ut))}function Ms(ue){let ut=null;if(ue){let Zt=e.array(ue.marktype),An=e.array(ue.markname);ut=nr=>(!Zt.length||Zt.some(vr=>nr.marktype===vr))&&(!An.length||An.some(vr=>nr.name===vr))}return ut}function is(ue,ut,Zt,An=5){let nr=ue[ue.length-1];return nr===void 0||Math.sqrt((nr[0]-ut)**2+(nr[1]-Zt)**2)>An?(ue.push([ut,Zt]),[...ue]):ue}function pa(ue){return(ue??[]).reduce((ut,[Zt,An],nr)=>ut+=nr==0?`M ${Zt},${An} `:nr===ue.length-1?" Z":`L ${Zt},${An} `,"")}function No(ue,ut,Zt){let{x:An,y:nr,mark:vr}=Zt,fr=new s.Bounds().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let[vs,Ns]of ut)vs<fr.x1&&(fr.x1=vs),vs>fr.x2&&(fr.x2=vs),Ns<fr.y1&&(fr.y1=Ns),Ns>fr.y2&&(fr.y2=Ns);return fr.translate(An,nr),vi([[fr.x1,fr.y1],[fr.x2,fr.y2]],ue,vr).filter(vs=>ws(vs.x,vs.y,ut))}function ws(ue,ut,Zt){let An=0;for(let nr=0,vr=Zt.length-1;nr<Zt.length;vr=nr++){let[fr,Zi]=Zt[vr],[vs,Ns]=Zt[nr];Ns>ut!=Zi>ut&&ue<(fr-vs)*(ut-Ns)/(Zi-Ns)+vs&&An++}return An&1}let tn={random(){return a.random()},cumulativeNormal:a.cumulativeNormal,cumulativeLogNormal:a.cumulativeLogNormal,cumulativeUniform:a.cumulativeUniform,densityNormal:a.densityNormal,densityLogNormal:a.densityLogNormal,densityUniform:a.densityUniform,quantileNormal:a.quantileNormal,quantileLogNormal:a.quantileLogNormal,quantileUniform:a.quantileUniform,sampleNormal:a.sampleNormal,sampleLogNormal:a.sampleLogNormal,sampleUniform:a.sampleUniform,isArray:e.isArray,isBoolean:e.isBoolean,isDate:e.isDate,isDefined(ue){return ue!==void 0},isNumber:e.isNumber,isObject:e.isObject,isRegExp:e.isRegExp,isString:e.isString,isTuple:r.isTuple,isValid(ue){return ue!=null&&ue===ue},toBoolean:e.toBoolean,toDate(ue){return e.toDate(ue)},toNumber:e.toNumber,toString:e.toString,indexof:Yt,join:pt,lastindexof:jt,replace:Nn,reverse:Kn,slice:dn,flush:e.flush,lerp:e.lerp,merge:sa,pad:e.pad,peek:e.peek,pluck:pr,span:e.span,inrange:e.inrange,truncate:e.truncate,rgb:Br,lab:ia,hcl:Ga,hsl:co,luminance:cu,contrast:qa,sequence:Re,format:R,utcFormat:V,utcParse:$,utcOffset:c.utcOffset,utcSequence:c.utcSequence,timeFormat:U,timeParse:P,timeOffset:c.timeOffset,timeSequence:c.timeSequence,timeUnitSpecifier:c.timeUnitSpecifier,monthFormat:ae,monthAbbrevFormat:I,dayFormat:Z,dayAbbrevFormat:me,quarter:e.quarter,utcquarter:e.utcquarter,week:c.week,utcweek:c.utcweek,dayofyear:c.dayofyear,utcdayofyear:c.utcdayofyear,warn:Jr,info:Vr,debug:yr,extent(ue){return e.extent(ue)},inScope:jn,intersect:vi,clampRange:e.clampRange,pinchDistance:ui,pinchAngle:ns,screen:gi,containerSize:ms,windowSize:ss,bandspace:Un,setdata:b,pathShape:ni,panLinear:e.panLinear,panLog:e.panLog,panPow:e.panPow,panSymlog:e.panSymlog,zoomLinear:e.zoomLinear,zoomLog:e.zoomLog,zoomPow:e.zoomPow,zoomSymlog:e.zoomSymlog,encode:C,modify:Ku,lassoAppend:is,lassoPath:pa,intersectLasso:No},Jn=["view","item","group","xy","x","y"],yn="event.vega.",Yr="this.",Ti={},ts={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:ue=>`_[${e.stringValue(at+ue)}]`,functions:zi,constants:t.constants,visitors:Ti},ps=t.codegenExpression(ts);function zi(ue){let ut=t.functions(ue);Jn.forEach(Zt=>ut[Zt]=yn+Zt);for(let Zt in tn)ut[Zt]=Yr+Zt;return e.extend(ut,st(ue,tn,Ti)),ut}function cs(ue,ut,Zt){return arguments.length===1?tn[ue]:(tn[ue]=ut,Zt&&(Ti[ue]=Zt),ps&&(ps.functions[ue]=Yr+ue),this)}cs("bandwidth",br,Mt),cs("copy",wr,Mt),cs("domain",Gn,Mt),cs("range",er,Mt),cs("invert",ar,Mt),cs("scale",gr,Mt),cs("gradient",Or,Mt),cs("geoArea",Kt,Mt),cs("geoBounds",hn,Mt),cs("geoCentroid",Bn,Mt),cs("geoShape",di,Mt),cs("indata",p,Tt),cs("data",d,Ze),cs("treePath",qr,Ze),cs("treeAncestors",Ir,Ze),cs("vlSelectionTest",o.selectionTest,o.selectionVisitor),cs("vlSelectionIdTest",o.selectionIdTest,o.selectionVisitor),cs("vlSelectionResolve",o.selectionResolve,o.selectionVisitor),cs("vlSelectionTuples",o.selectionTuples);function fu(ue,ut){let Zt={},An;try{ue=e.isString(ue)?ue:e.stringValue(ue)+"",An=t.parseExpression(ue)}catch{e.error("Expression parse error: "+ue)}An.visit(vr=>{if(vr.type!==t.CallExpression)return;let fr=vr.callee.name,Zi=ts.visitors[fr];Zi&&Zi(fr,vr.arguments,ut,Zt)});let nr=ps(An);return nr.globals.forEach(vr=>{let fr=at+vr;!e.hasOwnProperty(Zt,fr)&&ut.getSignal(vr)&&(Zt[fr]=ut.signalRef(vr))}),{$expr:e.extend({code:nr.code},ut.options.ast?{ast:An}:null),$fields:nr.fields,$params:Zt}}n.DataPrefix=ye,n.IndexPrefix=He,n.ScalePrefix=ot,n.SignalPrefix=at,n.bandspace=Un,n.bandwidth=br,n.codeGenerator=ps,n.codegenParams=ts,n.containerSize=ms,n.contrast=qa,n.copy=wr,n.data=d,n.dataVisitor=Ze,n.dayAbbrevFormat=me,n.dayFormat=Z,n.debug=yr,n.domain=Gn,n.encode=C,n.expressionFunction=cs,n.format=R,n.functionContext=tn,n.geoArea=Kt,n.geoBounds=hn,n.geoCentroid=Bn,n.geoShape=di,n.inScope=jn,n.indata=p,n.indataVisitor=Tt,n.indexof=Yt,n.info=Vr,n.invert=ar,n.join=pt,n.lastindexof=jt,n.luminance=cu,n.merge=sa,n.modify=Ku,n.monthAbbrevFormat=I,n.monthFormat=ae,n.parseExpression=fu,n.pathShape=ni,n.pinchAngle=ns,n.pinchDistance=ui,n.pluck=pr,n.range=er,n.replace=Nn,n.reverse=Kn,n.scale=gr,n.scaleGradient=Or,n.scaleVisitor=Mt,n.screen=gi,n.setdata=b,n.slice=dn,n.timeFormat=U,n.timeParse=P,n.treeAncestors=Ir,n.treePath=qr,n.utcFormat=V,n.utcParse=$,n.warn=Jr,n.windowSize=ss,Object.defineProperty(n,"__esModule",{value:!0})})});var Uae=we((tH,dTe)=>{m();(function(n,e){typeof tH=="object"&&typeof dTe!="undefined"?e(tH,Su(),Jf()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(tH,function(n,e,t){"use strict";function r(be){let Re=this,Ae=be.operators||[];return be.background&&(Re.background=be.background),be.eventConfig&&(Re.eventConfig=be.eventConfig),be.locale&&(Re.locale=be.locale),Ae.forEach(xe=>Re.parseOperator(xe)),Ae.forEach(xe=>Re.parseOperatorParameters(xe)),(be.streams||[]).forEach(xe=>Re.parseStream(xe)),(be.updates||[]).forEach(xe=>Re.parseUpdate(xe)),Re.resolve()}let i=e.toSet(["rule"]),s=e.toSet(["group","image","rect"]);function o(be,Re){let Ae="";return i[Re]||(be.x2&&(be.x?(s[Re]&&(Ae+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),Ae+="o.width=o.x2-o.x;"):Ae+="o.x=o.x2-(o.width||0);"),be.xc&&(Ae+="o.x=o.xc-(o.width||0)/2;"),be.y2&&(be.y?(s[Re]&&(Ae+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),Ae+="o.height=o.y2-o.y;"):Ae+="o.y=o.y2-(o.height||0);"),be.yc&&(Ae+="o.y=o.yc-(o.height||0)/2;")),Ae}function a(be){return(be+"").toLowerCase()}function c(be){return a(be)==="operator"}function d(be){return a(be)==="collect"}function p(be,Re,Ae){Ae[Ae.length-1]!==";"&&(Ae="return("+Ae+");");let xe=Function(...Re.concat(Ae));return be&&be.functions?xe.bind(be.functions):xe}function b(be,Re,Ae,xe){return`((u = ${be}) < (v = ${Re}) || u == null) && v != null ? ${Ae}
  : (u > v || v == null) && u != null ? ${xe}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Ae}
  : v !== v && u === u ? ${xe} : `}var C={operator:(be,Re)=>p(be,["_"],Re.code),parameter:(be,Re)=>p(be,["datum","_"],Re.code),event:(be,Re)=>p(be,["event"],Re.code),handler:(be,Re)=>{let Ae=`var datum=event.item&&event.item.datum;return ${Re.code};`;return p(be,["_","event"],Ae)},encode:(be,Re)=>{let{marktype:Ae,channels:xe}=Re,Je="var o=item,datum=o.datum,m=0,$;";for(let lt in xe){let Qt="o["+e.stringValue(lt)+"]";Je+=`$=${xe[lt].code};if(${Qt}!==$)${Qt}=$,m=1;`}return Je+=o(xe,Ae),Je+="return m;",p(be,["item","_"],Je)},codegen:{get(be){let Re=`[${be.map(e.stringValue).join("][")}]`,Ae=Function("_",`return _${Re};`);return Ae.path=Re,Ae},comparator(be,Re){let Ae,xe=(lt,Qt)=>{let Et=Re[Qt],mn,Lt;return lt.path?(mn=`a${lt.path}`,Lt=`b${lt.path}`):((Ae=Ae||{})["f"+Qt]=lt,mn=`this.f${Qt}(a)`,Lt=`this.f${Qt}(b)`),b(mn,Lt,-Et,Et)},Je=Function("a","b","var u, v; return "+be.map(xe).join("")+"0;");return Ae?Je.bind(Ae):Je}}};function N(be){let Re=this;c(be.type)||!be.type?Re.operator(be,be.update?Re.operatorExpression(be.update):null):Re.transform(be,be.type)}function R(be){let Re=this;if(be.params){let Ae=Re.get(be.id);Ae||e.error("Invalid operator id: "+be.id),Re.dataflow.connect(Ae,Ae.parameters(Re.parseParameters(be.params),be.react,be.initonly))}}function U(be,Re){Re=Re||{};let Ae=this;for(let xe in be){let Je=be[xe];Re[xe]=e.isArray(Je)?Je.map(lt=>V(lt,Ae,Re)):V(Je,Ae,Re)}return Re}function V(be,Re,Ae){if(!be||!e.isObject(be))return be;for(let xe=0,Je=P.length,lt;xe<Je;++xe)if(lt=P[xe],e.hasOwnProperty(be,lt.key))return lt.parse(be,Re,Ae);return be}var P=[{key:"$ref",parse:$},{key:"$key",parse:G},{key:"$expr",parse:M},{key:"$field",parse:ae},{key:"$encode",parse:Z},{key:"$compare",parse:I},{key:"$context",parse:me},{key:"$subflow",parse:ye},{key:"$tupleid",parse:He}];function $(be,Re){return Re.get(be.$ref)||e.error("Operator not defined: "+be.$ref)}function M(be,Re,Ae){be.$params&&Re.parseParameters(be.$params,Ae);let xe="e:"+be.$expr.code+"_"+be.$name;return Re.fn[xe]||(Re.fn[xe]=e.accessor(Re.parameterExpression(be.$expr),be.$fields,be.$name))}function G(be,Re){let Ae="k:"+be.$key+"_"+!!be.$flat;return Re.fn[Ae]||(Re.fn[Ae]=e.key(be.$key,be.$flat,Re.expr.codegen))}function ae(be,Re){if(!be.$field)return null;let Ae="f:"+be.$field+"_"+be.$name;return Re.fn[Ae]||(Re.fn[Ae]=e.field(be.$field,be.$name,Re.expr.codegen))}function I(be,Re){let Ae="c:"+be.$compare+"_"+be.$order,xe=e.array(be.$compare).map(Je=>Je&&Je.$tupleid?t.tupleid:Je);return Re.fn[Ae]||(Re.fn[Ae]=e.compare(xe,be.$order,Re.expr.codegen))}function Z(be,Re){let Ae=be.$encode,xe={};for(let Je in Ae){let lt=Ae[Je];xe[Je]=e.accessor(Re.encodeExpression(lt.$expr),lt.$fields),xe[Je].output=lt.$output}return xe}function me(be,Re){return Re}function ye(be,Re){let Ae=be.$subflow;return function(xe,Je,lt){let Qt=Re.fork().parse(Ae),Et=Qt.get(Ae.operators[0].id),mn=Qt.signals.parent;return mn&&mn.set(lt),Et.detachSubflow=()=>Re.detach(Qt),Et}}function He(){return t.tupleid}function ot(be){var Re=this,Ae=be.filter!=null?Re.eventExpression(be.filter):void 0,xe=be.stream!=null?Re.get(be.stream):void 0,Je;be.source?xe=Re.events(be.source,be.type,Ae):be.merge&&(Je=be.merge.map(lt=>Re.get(lt)),xe=Je[0].merge.apply(Je[0],Je.slice(1))),be.between&&(Je=be.between.map(lt=>Re.get(lt)),xe=xe.between(Je[0],Je[1])),be.filter&&(xe=xe.filter(Ae)),be.throttle!=null&&(xe=xe.throttle(+be.throttle)),be.debounce!=null&&(xe=xe.debounce(+be.debounce)),xe==null&&e.error("Invalid stream definition: "+JSON.stringify(be)),be.consume&&xe.consume(!0),Re.stream(be,xe)}function at(be){var Re=this,Ae=e.isObject(Ae=be.source)?Ae.$ref:Ae,xe=Re.get(Ae),Je=null,lt=be.update,Qt=void 0;xe||e.error("Source not defined: "+be.source),Je=be.target&&be.target.$expr?Re.eventExpression(be.target.$expr):Re.get(be.target),lt&&lt.$expr&&(lt.$params&&(Qt=Re.parseParameters(lt.$params)),lt=Re.handlerExpression(lt.$expr)),Re.update(be,xe,Je,lt,Qt)}let Ze={skip:!0};function Tt(be){var Re=this,Ae={};if(be.signals){var xe=Ae.signals={};Object.keys(Re.signals).forEach(lt=>{let Qt=Re.signals[lt];be.signals(lt,Qt)&&(xe[lt]=Qt.value)})}if(be.data){var Je=Ae.data={};Object.keys(Re.data).forEach(lt=>{let Qt=Re.data[lt];be.data(lt,Qt)&&(Je[lt]=Qt.input.value)})}return Re.subcontext&&be.recurse!==!1&&(Ae.subcontext=Re.subcontext.map(lt=>lt.getState(be))),Ae}function Mt(be){var Re=this,Ae=Re.dataflow,xe=be.data,Je=be.signals;Object.keys(Je||{}).forEach(lt=>{Ae.update(Re.signals[lt],Je[lt],Ze)}),Object.keys(xe||{}).forEach(lt=>{Ae.pulse(Re.data[lt].input,Ae.changeset().remove(e.truthy).insert(xe[lt]))}),(be.subcontext||[]).forEach((lt,Qt)=>{let Et=Re.subcontext[Qt];Et&&Et.setState(lt)})}function Ue(be,Re,Ae,xe){return new te(be,Re,Ae,xe)}function te(be,Re,Ae,xe){this.dataflow=be,this.transforms=Re,this.events=be.events.bind(be),this.expr=xe||C,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},Ae&&(this.functions=Object.create(Ae),this.functions.context=this)}function st(be){this.dataflow=be.dataflow,this.transforms=be.transforms,this.events=be.events,this.expr=be.expr,this.signals=Object.create(be.signals),this.scales=Object.create(be.scales),this.nodes=Object.create(be.nodes),this.data=Object.create(be.data),this.fn=Object.create(be.fn),be.functions&&(this.functions=Object.create(be.functions),this.functions.context=this)}te.prototype=st.prototype={fork(){let be=new st(this);return(this.subcontext||(this.subcontext=[])).push(be),be},detach(be){this.subcontext=this.subcontext.filter(Ae=>Ae!==be);let Re=Object.keys(be.nodes);for(let Ae of Re)be.nodes[Ae]._targets=null;for(let Ae of Re)be.nodes[Ae].detach();be.nodes=null},get(be){return this.nodes[be]},set(be,Re){return this.nodes[be]=Re},add(be,Re){let Ae=this,xe=Ae.dataflow,Je=be.value;if(Ae.set(be.id,Re),d(be.type)&&Je&&(Je.$ingest?xe.ingest(Re,Je.$ingest,Je.$format):Je.$request?xe.preload(Re,Je.$request,Je.$format):xe.pulse(Re,xe.changeset().insert(Je))),be.root&&(Ae.root=Re),be.parent){let lt=Ae.get(be.parent.$ref);lt?(xe.connect(lt,[Re]),Re.targets().add(lt)):(Ae.unresolved=Ae.unresolved||[]).push(()=>{lt=Ae.get(be.parent.$ref),xe.connect(lt,[Re]),Re.targets().add(lt)})}if(be.signal&&(Ae.signals[be.signal]=Re),be.scale&&(Ae.scales[be.scale]=Re),be.data)for(let lt in be.data){let Qt=Ae.data[lt]||(Ae.data[lt]={});be.data[lt].forEach(Et=>Qt[Et]=Re)}},resolve(){return(this.unresolved||[]).forEach(be=>be()),delete this.unresolved,this},operator(be,Re){this.add(be,this.dataflow.add(be.value,Re))},transform(be,Re){this.add(be,this.dataflow.add(this.transforms[a(Re)]))},stream(be,Re){this.set(be.id,Re)},update(be,Re,Ae,xe,Je){this.dataflow.on(Re,Ae,xe,Je,be.options)},operatorExpression(be){return this.expr.operator(this,be)},parameterExpression(be){return this.expr.parameter(this,be)},eventExpression(be){return this.expr.event(this,be)},handlerExpression(be){return this.expr.handler(this,be)},encodeExpression(be){return this.expr.encode(this,be)},parse:r,parseOperator:N,parseOperatorParameters:R,parseParameters:U,parseStream:ot,parseUpdate:at,getState:Tt,setState:Mt},n.context=Ue,Object.defineProperty(n,"__esModule",{value:!0})})});var pTe=we((nH,hTe)=>{m();(function(n,e){typeof nH=="object"&&typeof hTe!="undefined"?e(nH,Su(),Jf(),_9(),eH(),Uae(),iN()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-scenegraph","vega-functions","vega-runtime","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(nH,function(n,e,t,r,i,s,o){"use strict";function a(K){let oe=K.container();oe&&(oe.setAttribute("role","graphics-document"),oe.setAttribute("aria-roleDescription","visualization"),c(oe,K.description()))}function c(K,oe){K&&(oe==null?K.removeAttribute("aria-label"):K.setAttribute("aria-label",oe))}function d(K){K.add(null,oe=>(K._background=oe.bg,K._resize=1,oe.bg),{bg:K._signals.background})}let p="default";function b(K){let oe=K._signals.cursor||(K._signals.cursor=K.add({user:p,item:null}));K.on(K.events("view","mousemove"),oe,(le,We)=>{let Rt=oe.value,bt=Rt?e.isString(Rt)?Rt:Rt.user:p,ln=We.item&&We.item.cursor||null;return Rt&&bt===Rt.user&&ln==Rt.item?Rt:{user:bt,item:ln}}),K.add(null,function(le){let We=le.cursor,Rt=this.value;return e.isString(We)||(Rt=We.item,We=We.user),C(K,We&&We!==p?We:Rt||We),Rt},{cursor:oe})}function C(K,oe){let le=K.globalCursor()?typeof document!="undefined"&&document.body:K.container();if(le)return oe==null?le.style.removeProperty("cursor"):le.style.cursor=oe}function N(K,oe){var le=K._runtime.data;return e.hasOwnProperty(le,oe)||e.error("Unrecognized data set: "+oe),le[oe]}function R(K,oe){return arguments.length<2?N(this,K).values.value:U.call(this,K,t.changeset().remove(e.truthy).insert(oe))}function U(K,oe){t.isChangeSet(oe)||e.error("Second argument to changes must be a changeset.");let le=N(this,K);return le.modified=!0,this.pulse(le.input,oe)}function V(K,oe){return U.call(this,K,t.changeset().insert(oe))}function P(K,oe){return U.call(this,K,t.changeset().remove(oe))}function $(K){var oe=K.padding();return Math.max(0,K._viewWidth+oe.left+oe.right)}function M(K){var oe=K.padding();return Math.max(0,K._viewHeight+oe.top+oe.bottom)}function G(K){var oe=K.padding(),le=K._origin;return[oe.left+le[0],oe.top+le[1]]}function ae(K){var oe=G(K),le=$(K),We=M(K);K._renderer.background(K.background()),K._renderer.resize(le,We,oe),K._handler.origin(oe),K._resizeListeners.forEach(Rt=>{try{Rt(le,We)}catch(bt){K.error(bt)}})}function I(K,oe,le){var We=K._renderer,Rt=We&&We.canvas(),bt,ln,S;return Rt&&(S=G(K),ln=oe.changedTouches?oe.changedTouches[0]:oe,bt=r.point(ln,Rt),bt[0]-=S[0],bt[1]-=S[1]),oe.dataflow=K,oe.item=le,oe.vega=Z(K,le,bt),oe}function Z(K,oe,le){let We=oe?oe.mark.marktype==="group"?oe:oe.mark.group:null;function Rt(ln){var S=We,B;if(ln){for(B=oe;B;B=B.mark.group)if(B.mark.name===ln){S=B;break}}return S&&S.mark&&S.mark.interactive?S:{}}function bt(ln){if(!ln)return le;e.isString(ln)&&(ln=Rt(ln));let S=le.slice();for(;ln;)S[0]-=ln.x||0,S[1]-=ln.y||0,ln=ln.mark&&ln.mark.group;return S}return{view:e.constant(K),item:e.constant(oe||{}),group:Rt,xy:bt,x:ln=>bt(ln)[0],y:ln=>bt(ln)[1]}}let me="view",ye="timer",He="window",ot={trap:!1};function at(K){let oe=e.extend({defaults:{}},K),le=(We,Rt)=>{Rt.forEach(bt=>{e.isArray(We[bt])&&(We[bt]=e.toSet(We[bt]))})};return le(oe.defaults,["prevent","allow"]),le(oe,["view","window","selector"]),oe}function Ze(K,oe,le,We){K._eventListeners.push({type:le,sources:e.array(oe),handler:We})}function Tt(K,oe){var le=K._eventConfig.defaults,We=le.prevent,Rt=le.allow;return We===!1||Rt===!0?!1:We===!0||Rt===!1?!0:We?We[oe]:Rt?!Rt[oe]:K.preventDefault()}function Mt(K,oe,le){let We=K._eventConfig&&K._eventConfig[oe];return We===!1||e.isObject(We)&&!We[le]?(K.warn(`Blocked ${oe} ${le} event listener.`),!1):!0}function Ue(K,oe,le){var We=this,Rt=new t.EventStream(le),bt=function(ee,_e){We.runAsync(null,()=>{K===me&&Tt(We,oe)&&ee.preventDefault(),Rt.receive(I(We,ee,_e))})},ln;if(K===ye)Mt(We,"timer",oe)&&We.timer(bt,oe);else if(K===me)Mt(We,"view",oe)&&We.addEventListener(oe,bt,ot);else if(K===He?Mt(We,"window",oe)&&typeof window!="undefined"&&(ln=[window]):typeof document!="undefined"&&Mt(We,"selector",oe)&&(ln=document.querySelectorAll(K)),!ln)We.warn("Can not resolve event source: "+K);else{for(var S=0,B=ln.length;S<B;++S)ln[S].addEventListener(oe,bt);Ze(We,ln,oe,bt)}return Rt}function te(K){return K.item}function st(K){return K.item.mark.source}function be(K){return function(oe,le){return le.vega.view().changeset().encode(le.item,K)}}function Re(K,oe){return K=[K||"hover"],oe=[oe||"update",K[0]],this.on(this.events("view","mouseover",te),st,be(K)),this.on(this.events("view","mouseout",te),st,be(oe)),this}function Ae(){var K=this._tooltip,oe=this._timers,le=this._eventListeners,We,Rt,bt;for(We=oe.length;--We>=0;)oe[We].stop();for(We=le.length;--We>=0;)for(bt=le[We],Rt=bt.sources.length;--Rt>=0;)bt.sources[Rt].removeEventListener(bt.type,bt.handler);return K&&K.call(this,this._handler,null,null,null),this}function xe(K,oe,le){let We=document.createElement(K);for(let Rt in oe)We.setAttribute(Rt,oe[Rt]);return le!=null&&(We.textContent=le),We}var Je=Math.sqrt(50),lt=Math.sqrt(10),Qt=Math.sqrt(2);function Et(K,oe,le){var We=Math.abs(oe-K)/Math.max(0,le),Rt=Math.pow(10,Math.floor(Math.log(We)/Math.LN10)),bt=We/Rt;return bt>=Je?Rt*=10:bt>=lt?Rt*=5:bt>=Qt&&(Rt*=2),oe<K?-Rt:Rt}let mn="vega-bind",Lt="vega-bind-name",kt="vega-bind-radio";function cn(K,oe,le){if(!oe)return;let We=le.param,Rt=le.state;return Rt||(Rt=le.state={elements:null,active:!1,set:null,update:ln=>{ln!=K.signal(We.signal)&&K.runAsync(null,()=>{Rt.source=!0,K.signal(We.signal,ln)})}},We.debounce&&(Rt.update=e.debounce(We.debounce,Rt.update))),(We.input==null&&We.element?wt:Ie)(Rt,oe,We,K),Rt.active||(K.on(K._signals[We.signal],null,()=>{Rt.source?Rt.source=!1:Rt.set(K.signal(We.signal))}),Rt.active=!0),Rt}function wt(K,oe,le,We){let Rt=le.event||"input",bt=()=>K.update(oe.value);We.signal(le.signal,oe.value),oe.addEventListener(Rt,bt),Ze(We,oe,Rt,bt),K.set=ln=>{oe.value=ln,oe.dispatchEvent(Ee(Rt))}}function Ee(K){return typeof Event!="undefined"?new Event(K):{type:K}}function Ie(K,oe,le,We){let Rt=We.signal(le.signal),bt=xe("div",{class:mn}),ln=le.input==="radio"?bt:bt.appendChild(xe("label"));ln.appendChild(xe("span",{class:Lt},le.name||le.signal)),oe.appendChild(bt);let S=Ce;switch(le.input){case"checkbox":S=fe;break;case"select":S=rt;break;case"radio":S=Xe;break;case"range":S=de;break}S(K,ln,le,Rt)}function Ce(K,oe,le,We){let Rt=xe("input");for(let bt in le)bt!=="signal"&&bt!=="element"&&Rt.setAttribute(bt==="input"?"type":bt,le[bt]);Rt.setAttribute("name",le.signal),Rt.value=We,oe.appendChild(Rt),Rt.addEventListener("input",()=>K.update(Rt.value)),K.elements=[Rt],K.set=bt=>Rt.value=bt}function fe(K,oe,le,We){let Rt={type:"checkbox",name:le.signal};We&&(Rt.checked=!0);let bt=xe("input",Rt);oe.appendChild(bt),bt.addEventListener("change",()=>K.update(bt.checked)),K.elements=[bt],K.set=ln=>bt.checked=!!ln||null}function rt(K,oe,le,We){let Rt=xe("select",{name:le.signal}),bt=le.labels||[];le.options.forEach((ln,S)=>{let B={value:ln};Ge(ln,We)&&(B.selected=!0),Rt.appendChild(xe("option",B,(bt[S]||ln)+""))}),oe.appendChild(Rt),Rt.addEventListener("change",()=>{K.update(le.options[Rt.selectedIndex])}),K.elements=[Rt],K.set=ln=>{for(let S=0,B=le.options.length;S<B;++S)if(Ge(le.options[S],ln)){Rt.selectedIndex=S;return}}}function Xe(K,oe,le,We){let Rt=xe("span",{class:kt}),bt=le.labels||[];oe.appendChild(Rt),K.elements=le.options.map((ln,S)=>{let B={type:"radio",name:le.signal,value:ln};Ge(ln,We)&&(B.checked=!0);let ee=xe("input",B);ee.addEventListener("change",()=>K.update(ln));let _e=xe("label",{},(bt[S]||ln)+"");return _e.prepend(ee),Rt.appendChild(_e),ee}),K.set=ln=>{let S=K.elements,B=S.length;for(let ee=0;ee<B;++ee)Ge(S[ee].value,ln)&&(S[ee].checked=!0)}}function de(K,oe,le,We){We=We!==void 0?We:(+le.max+ +le.min)/2;let Rt=le.max!=null?le.max:Math.max(100,+We)||100,bt=le.min||Math.min(0,Rt,+We)||0,ln=le.step||Et(bt,Rt,100),S=xe("input",{type:"range",name:le.signal,min:bt,max:Rt,step:ln});S.value=We;let B=xe("span",{},+We);oe.appendChild(S),oe.appendChild(B);let ee=()=>{B.textContent=S.value,K.update(+S.value)};S.addEventListener("input",ee),S.addEventListener("change",ee),K.elements=[S],K.set=_e=>{S.value=_e,B.textContent=_e}}function Ge(K,oe){return K===oe||K+""==oe+""}function Ot(K,oe,le,We,Rt,bt){return oe=oe||new We(K.loader()),oe.initialize(le,$(K),M(K),G(K),Rt,bt).background(K.background())}function Nt(K,oe){return oe?function(){try{oe.apply(this,arguments)}catch(le){K.error(le)}}:null}function zt(K,oe,le,We){let Rt=new We(K.loader(),Nt(K,K.tooltip())).scene(K.scenegraph().root).initialize(le,G(K),K);return oe&&oe.handlers().forEach(bt=>{Rt.on(bt.type,bt.handler)}),Rt}function en(K,oe){let le=this,We=le._renderType,Rt=le._eventConfig.bind,bt=r.renderModule(We);K=le._el=K?Xt(le,K,!0):null,a(le),bt||le.error("Unrecognized renderer type: "+We);let ln=bt.handler||r.CanvasHandler,S=K?bt.renderer:bt.headless;return le._renderer=S?Ot(le,le._renderer,K,S):null,le._handler=zt(le,le._handler,K,ln),le._redraw=!0,K&&Rt!=="none"&&(oe=oe?le._elBind=Xt(le,oe,!0):K.appendChild(xe("form",{class:"vega-bindings"})),le._bind.forEach(B=>{B.param.element&&Rt!=="container"&&(B.element=Xt(le,B.param.element,!!B.param.input))}),le._bind.forEach(B=>{cn(le,B.element||oe,B)})),le}function Xt(K,oe,le){if(typeof oe=="string")if(typeof document!="undefined"){if(oe=document.querySelector(oe),!oe)return K.error("Signal bind element not found: "+oe),null}else return K.error("DOM document instance not found."),null;if(oe&&le)try{oe.textContent=""}catch(We){oe=null,K.error(We)}return oe}let bn=K=>+K||0,Tn=K=>({top:K,bottom:K,left:K,right:K});function Dn(K){return e.isObject(K)?{top:bn(K.top),bottom:bn(K.bottom),left:bn(K.left),right:bn(K.right)}:Tn(bn(K))}async function Ut(K,oe,le,We){let Rt=r.renderModule(oe),bt=Rt&&Rt.headless;return bt||e.error("Unrecognized renderer type: "+oe),await K.runAsync(),Ot(K,null,null,bt,le,We).renderAsync(K._scenegraph.root)}async function pn(K,oe){K!==r.RenderType.Canvas&&K!==r.RenderType.SVG&&K!==r.RenderType.PNG&&e.error("Unrecognized image type: "+K);let le=await Ut(this,K,oe);return K===r.RenderType.SVG?qn(le.svg(),"image/svg+xml"):le.canvas().toDataURL("image/png")}function qn(K,oe){let le=new Blob([K],{type:oe});return window.URL.createObjectURL(le)}async function sr(K,oe){return(await Ut(this,r.RenderType.Canvas,K,oe)).canvas()}async function In(K){return(await Ut(this,r.RenderType.SVG,K)).svg()}function Ne(K,oe,le){return s.context(K,t.transforms,i.functionContext,le).parse(oe)}function $e(K){var oe=this._runtime.scales;return e.hasOwnProperty(oe,K)||e.error("Unrecognized scale or projection: "+K),oe[K].value}var De="width",qt="height",yt="padding",mt={skip:!0};function nn(K,oe){var le=K.autosize(),We=K.padding();return oe-(le&&le.contains===yt?We.left+We.right:0)}function Wt(K,oe){var le=K.autosize(),We=K.padding();return oe-(le&&le.contains===yt?We.top+We.bottom:0)}function Fn(K){var oe=K._signals,le=oe[De],We=oe[qt],Rt=oe[yt];function bt(){K._autosize=K._resize=1}K._resizeWidth=K.add(null,S=>{K._width=S.size,K._viewWidth=nn(K,S.size),bt()},{size:le}),K._resizeHeight=K.add(null,S=>{K._height=S.size,K._viewHeight=Wt(K,S.size),bt()},{size:We});let ln=K.add(null,bt,{pad:Rt});K._resizeWidth.rank=le.rank+1,K._resizeHeight.rank=We.rank+1,ln.rank=Rt.rank+1}function Qn(K,oe,le,We,Rt,bt){this.runAfter(ln=>{let S=0;ln._autosize=0,ln.width()!==le&&(S=1,ln.signal(De,le,mt),ln._resizeWidth.skip(!0)),ln.height()!==We&&(S=1,ln.signal(qt,We,mt),ln._resizeHeight.skip(!0)),ln._viewWidth!==K&&(ln._resize=1,ln._viewWidth=K),ln._viewHeight!==oe&&(ln._resize=1,ln._viewHeight=oe),(ln._origin[0]!==Rt[0]||ln._origin[1]!==Rt[1])&&(ln._resize=1,ln._origin=Rt),S&&ln.run("enter"),bt&&ln.runAfter(B=>B.resize())},!1,1)}function Zn(K){return this._runtime.getState(K||{data:Pn,signals:or,recurse:!0})}function Pn(K,oe){return oe.modified&&e.isArray(oe.input.value)&&K.indexOf("_:vega:_")}function or(K,oe){return!(K==="parent"||oe instanceof t.transforms.proxy)}function Ye(K){return this.runAsync(null,oe=>{oe._trigger=!1,oe._runtime.setState(K)},oe=>{oe._trigger=!0}),this}var gt=0,se=0,Pe=0,et=1e3,At,fn,on=0,ct=0,re=0,Te=typeof performance=="object"&&performance.now?performance:Date,je=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(K){setTimeout(K,17)};function ht(){return ct||(je(vt),ct=Te.now()+re)}function vt(){ct=0}function Ft(){this._call=this._time=this._next=null}Ft.prototype={constructor:Ft,restart:function(K,oe,le){if(typeof K!="function")throw new TypeError("callback is not a function");le=(le==null?ht():+le)+(oe==null?0:+oe),!this._next&&fn!==this&&(fn?fn._next=this:At=this,fn=this),this._call=K,this._time=le,Bt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bt())}};function ne(){ht(),++gt;for(var K=At,oe;K;)(oe=ct-K._time)>=0&&K._call.call(void 0,oe),K=K._next;--gt}function Se(){ct=(on=Te.now())+re,gt=se=0;try{ne()}finally{gt=0,nt(),ct=0}}function Ve(){var K=Te.now(),oe=K-on;oe>et&&(re-=oe,on=K)}function nt(){for(var K,oe=At,le,We=1/0;oe;)oe._call?(We>oe._time&&(We=oe._time),K=oe,oe=oe._next):(le=oe._next,oe._next=null,oe=K?K._next=le:At=le);fn=K,Bt(We)}function Bt(K){if(!gt){se&&(se=clearTimeout(se));var oe=K-ct;oe>24?(K<1/0&&(se=setTimeout(Se,K-Te.now()-re)),Pe&&(Pe=clearInterval(Pe))):(Pe||(on=Te.now(),Pe=setInterval(Ve,et)),gt=1,je(Se))}}function rn(K,oe,le){var We=new Ft,Rt=oe;return oe==null?(We.restart(K,oe,le),We):(We._restart=We.restart,We.restart=function(bt,ln,S){ln=+ln,S=S==null?ht():+S,We._restart(function B(ee){ee+=Rt,We._restart(B,Rt+=ln,S),bt(ee)},ln,S)},We.restart(K,oe,le),We)}function Sn(K,oe){function le(We){K({timestamp:Date.now(),elapsed:We})}this._timers.push(rn(le,oe))}function vn(K,oe,le,We){let Rt=K.element();Rt&&Rt.setAttribute("title",xn(We))}function xn(K){return K==null?"":e.isArray(K)?Oe(K):e.isObject(K)&&!e.isDate(K)?zn(K):K+""}function zn(K){return Object.keys(K).map(oe=>{let le=K[oe];return oe+": "+(e.isArray(le)?Oe(le):qe(le))}).join(`
`)}function Oe(K){return"["+K.map(qe).join(", ")+"]"}function qe(K){return e.isArray(K)?"[\u2026]":e.isObject(K)&&!e.isDate(K)?"{\u2026}":K}function Ct(K,oe){let le=this;if(oe=oe||{},t.Dataflow.call(le),oe.loader&&le.loader(oe.loader),oe.logger&&le.logger(oe.logger),oe.logLevel!=null&&le.logLevel(oe.logLevel),oe.locale||K.locale){let bt=e.extend({},K.locale,oe.locale);le.locale(o.locale(bt.number,bt.time))}le._el=null,le._elBind=null,le._renderType=oe.renderer||r.RenderType.Canvas,le._scenegraph=new r.Scenegraph;let We=le._scenegraph.root;le._renderer=null,le._tooltip=oe.tooltip||vn,le._redraw=!0,le._handler=new r.CanvasHandler().scene(We),le._globalCursor=!1,le._preventDefault=!1,le._timers=[],le._eventListeners=[],le._resizeListeners=[],le._eventConfig=at(K.eventConfig),le.globalCursor(le._eventConfig.globalCursor);let Rt=Ne(le,K,oe.expr);le._runtime=Rt,le._signals=Rt.signals,le._bind=(K.bindings||[]).map(bt=>({state:null,param:e.extend({},bt)})),Rt.root&&Rt.root.set(We),We.source=Rt.data.root.input,le.pulse(Rt.data.root.input,le.changeset().insert(We.items)),le._width=le.width(),le._height=le.height(),le._viewWidth=nn(le,le._width),le._viewHeight=Wt(le,le._height),le._origin=[0,0],le._resize=0,le._autosize=1,Fn(le),d(le),b(le),le.description(K.description),oe.hover&&le.hover(),oe.container&&le.initialize(oe.container,oe.bind)}function O(K,oe){return e.hasOwnProperty(K._signals,oe)?K._signals[oe]:e.error("Unrecognized signal name: "+e.stringValue(oe))}function H(K,oe){let le=(K._targets||[]).filter(We=>We._update&&We._update.handler===oe);return le.length?le[0]:null}function ve(K,oe,le,We){let Rt=H(le,We);return Rt||(Rt=Nt(K,()=>We(oe,le.value)),Rt.handler=We,K.on(le,null,Rt)),K}function pe(K,oe,le){let We=H(oe,le);return We&&oe._targets.remove(We),K}e.inherits(Ct,t.Dataflow,{async evaluate(K,oe,le){if(await t.Dataflow.prototype.evaluate.call(this,K,oe),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,ae(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(We){this.error(We)}return le&&t.asyncCallback(this,le),this},dirty(K){this._redraw=!0,this._renderer&&this._renderer.dirty(K)},description(K){if(arguments.length){let oe=K!=null?K+"":null;return oe!==this._desc&&c(this._el,this._desc=oe),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(K,oe,le){let We=O(this,K);return arguments.length===1?We.value:this.update(We,oe,le)},width(K){return arguments.length?this.signal("width",K):this.signal("width")},height(K){return arguments.length?this.signal("height",K):this.signal("height")},padding(K){return arguments.length?this.signal("padding",Dn(K)):Dn(this.signal("padding"))},autosize(K){return arguments.length?this.signal("autosize",K):this.signal("autosize")},background(K){return arguments.length?this.signal("background",K):this.signal("background")},renderer(K){return arguments.length?(r.renderModule(K)||e.error("Unrecognized renderer type: "+K),K!==this._renderType&&(this._renderType=K,this._resetRenderer()),this):this._renderType},tooltip(K){return arguments.length?(K!==this._tooltip&&(this._tooltip=K,this._resetRenderer()),this):this._tooltip},loader(K){return arguments.length?(K!==this._loader&&(t.Dataflow.prototype.loader.call(this,K),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(O(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:Qn,addEventListener(K,oe,le){let We=oe;return le&&le.trap===!1||(We=Nt(this,oe),We.raw=oe),this._handler.on(K,We),this},removeEventListener(K,oe){for(var le=this._handler.handlers(K),We=le.length,Rt,bt;--We>=0;)if(bt=le[We].type,Rt=le[We].handler,K===bt&&(oe===Rt||oe===Rt.raw)){this._handler.off(bt,Rt);break}return this},addResizeListener(K){let oe=this._resizeListeners;return oe.indexOf(K)<0&&oe.push(K),this},removeResizeListener(K){var oe=this._resizeListeners,le=oe.indexOf(K);return le>=0&&oe.splice(le,1),this},addSignalListener(K,oe){return ve(this,K,O(this,K),oe)},removeSignalListener(K,oe){return pe(this,O(this,K),oe)},addDataListener(K,oe){return ve(this,K,N(this,K).values,oe)},removeDataListener(K,oe){return pe(this,N(this,K).values,oe)},globalCursor(K){if(arguments.length){if(this._globalCursor!==!!K){let oe=C(this,null);this._globalCursor=!!K,oe&&C(this,oe)}return this}else return this._globalCursor},preventDefault(K){return arguments.length?(this._preventDefault=K,this):this._preventDefault},timer:Sn,events:Ue,finalize:Ae,hover:Re,data:R,change:U,insert:V,remove:P,scale:$e,initialize:en,toImageURL:pn,toCanvas:sr,toSVG:In,getState:Zn,setState:Ye}),n.View=Ct,Object.defineProperty(n,"__esModule",{value:!0})})});var $ae=we((rH,mTe)=>{m();(function(n,e){typeof rH=="object"&&typeof mTe!="undefined"?e(rH):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(rH,function(n){"use strict";let e="view",t="[",r="]",i="{",s="}",o=":",a=",",c="@",d=">",p=/[[\]{}]/,b={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},C,N;function R(I,Z,me){return C=Z||e,N=me||b,P(I.trim()).map($)}function U(I){return N[I]}function V(I,Z,me,ye,He){let ot=I.length,at=0,Ze;for(;Z<ot;++Z){if(Ze=I[Z],!at&&Ze===me)return Z;He&&He.indexOf(Ze)>=0?--at:ye&&ye.indexOf(Ze)>=0&&++at}return Z}function P(I){let Z=[],me=I.length,ye=0,He=0;for(;He<me;)He=V(I,He,a,t+i,r+s),Z.push(I.substring(ye,He).trim()),ye=++He;if(Z.length===0)throw"Empty event selector: "+I;return Z}function $(I){return I[0]==="["?M(I):G(I)}function M(I){let Z=I.length,me=1,ye;if(me=V(I,me,r,t,r),me===Z)throw"Empty between selector: "+I;if(ye=P(I.substring(1,me)),ye.length!==2)throw"Between selector must have two elements: "+I;if(I=I.slice(me+1).trim(),I[0]!==d)throw"Expected '>' after between selector: "+I;ye=ye.map($);let He=$(I.slice(1).trim());return He.between?{between:ye,stream:He}:(He.between=ye,He)}function G(I){let Z={source:C},me=[],ye=[0,0],He=0,ot=0,at=I.length,Ze=0,Tt,Mt;if(I[at-1]===s){if(Ze=I.lastIndexOf(i),Ze>=0){try{ye=ae(I.substring(Ze+1,at-1))}catch{throw"Invalid throttle specification: "+I}I=I.slice(0,Ze).trim(),at=I.length}else throw"Unmatched right brace: "+I;Ze=0}if(!at)throw I;if(I[0]===c&&(He=++Ze),Tt=V(I,Ze,o),Tt<at&&(me.push(I.substring(ot,Tt).trim()),ot=Ze=++Tt),Ze=V(I,Ze,t),Ze===at)me.push(I.substring(ot,at).trim());else if(me.push(I.substring(ot,Ze).trim()),Mt=[],ot=++Ze,ot===at)throw"Unmatched left bracket: "+I;for(;Ze<at;){if(Ze=V(I,Ze,r),Ze===at)throw"Unmatched left bracket: "+I;if(Mt.push(I.substring(ot,Ze).trim()),Ze<at-1&&I[++Ze]!==t)throw"Expected left bracket: "+I;ot=++Ze}if(!(at=me.length)||p.test(me[at-1]))throw"Invalid event selector: "+I;return at>1?(Z.type=me[1],He?Z.markname=me[0].slice(1):U(me[0])?Z.marktype=me[0]:Z.source=me[0]):Z.type=me[0],Z.type.slice(-1)==="!"&&(Z.consume=!0,Z.type=Z.type.slice(0,-1)),Mt!=null&&(Z.filter=Mt),ye[0]&&(Z.throttle=ye[0]),ye[1]&&(Z.debounce=ye[1]),Z}function ae(I){let Z=I.split(a);if(!I.length||Z.length>2)throw I;return Z.map(me=>{let ye=+me;if(ye!==ye)throw I;return ye})}n.parseSelector=R,Object.defineProperty(n,"__esModule",{value:!0})})});var gTe=we((iH,xTe)=>{m();(function(n,e){typeof iH=="object"&&typeof xTe!="undefined"?e(iH,Su(),eH(),$ae(),Db(),Jf()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-functions","vega-event-selector","vega-scale","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega))})(iH,function(n,e,t,r,i,s){"use strict";function o(L){return e.isObject(L)?L:{type:L||"pad"}}let a=L=>+L||0,c=L=>({top:L,bottom:L,left:L,right:L});function d(L){return e.isObject(L)?L.signal?L:{top:a(L.top),bottom:a(L.bottom),left:a(L.left),right:a(L.right)}:c(a(L))}let p=L=>e.isObject(L)&&!e.isArray(L)?e.extend({},L):{value:L};function b(L,X,Be,Dt){return Be!=null?(e.isObject(Be)&&!e.isArray(Be)||e.isArray(Be)&&Be.length&&e.isObject(Be[0])?L.update[X]=Be:L[Dt||"enter"][X]={value:Be},1):0}function C(L,X,Be){for(let Dt in X)b(L,Dt,X[Dt]);for(let Dt in Be)b(L,Dt,Be[Dt],"update")}function N(L,X,Be){for(let Dt in X)Be&&e.hasOwnProperty(Be,Dt)||(L[Dt]=e.extend(L[Dt]||{},X[Dt]));return L}function R(L,X){return X&&(X.enter&&X.enter[L]||X.update&&X.update[L])}let U="mark",V="frame",P="scope",$="axis",M="axis-domain",G="axis-grid",ae="axis-label",I="axis-tick",Z="axis-title",me="legend",ye="legend-band",He="legend-entry",ot="legend-gradient",at="legend-label",Ze="legend-symbol",Tt="legend-title",Mt="title",Ue="title-text",te="title-subtitle";function st(L,X,Be,Dt,Ht){let Cn={},Rn={},rr,dr,Nr,tt;dr="lineBreak",X==="text"&&Ht[dr]!=null&&!R(dr,L)&&be(Cn,dr,Ht[dr]),(Be=="legend"||String(Be).startsWith("axis"))&&(Be=null),tt=Be===V?Ht.group:Be===U?e.extend({},Ht.mark,Ht[X]):null;for(dr in tt)Nr=R(dr,L)||(dr==="fill"||dr==="stroke")&&(R("fill",L)||R("stroke",L)),Nr||be(Cn,dr,tt[dr]);e.array(Dt).forEach(Fi=>{let Wi=Ht.style&&Ht.style[Fi];for(let Li in Wi)R(Li,L)||be(Cn,Li,Wi[Li])}),L=e.extend({},L);for(dr in Cn)tt=Cn[dr],tt.signal?(rr=rr||{})[dr]=tt:Rn[dr]=tt;return L.enter=e.extend(Rn,L.enter),rr&&(L.update=e.extend(rr,L.update)),L}function be(L,X,Be){L[X]=Be&&Be.signal?{signal:Be.signal}:{value:Be}}let Re=L=>e.isString(L)?e.stringValue(L):L.signal?`(${L.signal})`:Et(L);function Ae(L){if(L.gradient!=null)return lt(L);let X=L.signal?`(${L.signal})`:L.color?Je(L.color):L.field!=null?Et(L.field):L.value!==void 0?e.stringValue(L.value):void 0;return L.scale!=null&&(X=Lt(L,X)),X===void 0&&(X=null),L.exponent!=null&&(X=`pow(${X},${Qt(L.exponent)})`),L.mult!=null&&(X+=`*${Qt(L.mult)}`),L.offset!=null&&(X+=`+${Qt(L.offset)}`),L.round&&(X=`round(${X})`),X}let xe=(L,X,Be,Dt)=>`(${L}(${[X,Be,Dt].map(Ae).join(",")})+'')`;function Je(L){return L.c?xe("hcl",L.h,L.c,L.l):L.h||L.s?xe("hsl",L.h,L.s,L.l):L.l||L.a?xe("lab",L.l,L.a,L.b):L.r||L.g||L.b?xe("rgb",L.r,L.g,L.b):null}function lt(L){let X=[L.start,L.stop,L.count].map(Be=>Be==null?null:e.stringValue(Be));for(;X.length&&e.peek(X)==null;)X.pop();return X.unshift(Re(L.gradient)),`gradient(${X.join(",")})`}function Qt(L){return e.isObject(L)?"("+Ae(L)+")":L}function Et(L){return mn(e.isObject(L)?L:{datum:L})}function mn(L){let X,Be,Dt;if(L.signal)X="datum",Dt=L.signal;else if(L.group||L.parent){for(Be=Math.max(1,L.level||1),X="item";Be-- >0;)X+=".mark.group";L.parent?(Dt=L.parent,X+=".datum"):Dt=L.group}else L.datum?(X="datum",Dt=L.datum):e.error("Invalid field reference: "+e.stringValue(L));return L.signal||(Dt=e.isString(Dt)?e.splitAccessPath(Dt).map(e.stringValue).join("]["):mn(Dt)),X+"["+Dt+"]"}function Lt(L,X){let Be=Re(L.scale);return L.range!=null?X=`lerp(_range(${Be}), ${+L.range})`:(X!==void 0&&(X=`_scale(${Be}, ${X})`),L.band&&(X=(X?X+"+":"")+`_bandwidth(${Be})`+(+L.band==1?"":"*"+Qt(L.band)),L.extra&&(X=`(datum.extra ? _scale(${Be}, datum.extra.value) : ${X})`)),X==null&&(X="0")),X}function kt(L){let X="";return L.forEach(Be=>{let Dt=Ae(Be);X+=Be.test?`(${Be.test})?${Dt}:`:Dt}),e.peek(X)===":"&&(X+="null"),X}function cn(L,X,Be,Dt,Ht,Cn){let Rn={};Cn=Cn||{},Cn.encoders={$encode:Rn},L=st(L,X,Be,Dt,Ht.config);for(let rr in L)Rn[rr]=wt(L[rr],X,Cn,Ht);return Cn}function wt(L,X,Be,Dt){let Ht={},Cn={};for(let Rn in L)L[Rn]!=null&&(Ht[Rn]=Ie(Ee(L[Rn]),Dt,Be,Cn));return{$expr:{marktype:X,channels:Ht},$fields:Object.keys(Cn),$output:Object.keys(L)}}function Ee(L){return e.isArray(L)?kt(L):Ae(L)}function Ie(L,X,Be,Dt){let Ht=t.parseExpression(L,X);return Ht.$fields.forEach(Cn=>Dt[Cn]=1),e.extend(Be,Ht.$params),Ht.$expr}let Ce="outer",fe=["value","update","init","react","bind"];function rt(L,X){e.error(L+' for "outer" push: '+e.stringValue(X))}function Xe(L,X){let Be=L.name;if(L.push===Ce)X.signals[Be]||rt("No prior signal definition",Be),fe.forEach(Dt=>{L[Dt]!==void 0&&rt("Invalid property ",Dt)});else{let Dt=X.addSignal(Be,L.value);L.react===!1&&(Dt.react=!1),L.bind&&X.addBinding(Be,L.bind)}}function de(L,X,Be,Dt){this.id=-1,this.type=L,this.value=X,this.params=Be,Dt&&(this.parent=Dt)}function Ge(L,X,Be,Dt){return new de(L,X,Be,Dt)}function Ot(L,X){return Ge("operator",L,X)}function Nt(L){let X={$ref:L.id};return L.id<0&&(L.refs=L.refs||[]).push(X),X}function zt(L,X){return X?{$field:L,$name:X}:{$field:L}}let en=zt("key");function Xt(L,X){return{$compare:L,$order:X}}function bn(L,X){let Be={$key:L};return X&&(Be.$flat=!0),Be}let Tn="ascending",Dn="descending";function Ut(L){return e.isObject(L)?(L.order===Dn?"-":"+")+pn(L.op,L.field):""}function pn(L,X){return(L&&L.signal?"$"+L.signal:L||"")+(L&&X?"_":"")+(X&&X.signal?"$"+X.signal:X||"")}let qn="scope",sr="view";function In(L){return L&&L.signal}function Ne(L){return L&&L.expr}function $e(L){if(In(L))return!0;if(e.isObject(L)){for(let X in L)if($e(L[X]))return!0}return!1}function De(L,X){return L??X}function qt(L){return L&&L.signal||L}let yt="timer";function mt(L,X){return(L.merge?Wt:L.stream?Fn:L.type?Qn:e.error("Invalid stream specification: "+e.stringValue(L)))(L,X)}function nn(L){return L===qn?sr:L||sr}function Wt(L,X){let Be=L.merge.map(Ht=>mt(Ht,X)),Dt=Zn({merge:Be},L,X);return X.addStream(Dt).id}function Fn(L,X){let Be=mt(L.stream,X),Dt=Zn({stream:Be},L,X);return X.addStream(Dt).id}function Qn(L,X){let Be;L.type===yt?(Be=X.event(yt,L.throttle),L={between:L.between,filter:L.filter}):Be=X.event(nn(L.source),L.type);let Dt=Zn({stream:Be},L,X);return Object.keys(Dt).length===1?Be:X.addStream(Dt).id}function Zn(L,X,Be){let Dt=X.between;return Dt&&(Dt.length!==2&&e.error('Stream "between" parameter must have 2 entries: '+e.stringValue(X)),L.between=[mt(Dt[0],Be),mt(Dt[1],Be)]),Dt=X.filter?[].concat(X.filter):[],(X.marktype||X.markname||X.markrole)&&Dt.push(Pn(X.marktype,X.markname,X.markrole)),X.source===qn&&Dt.push("inScope(event.item)"),Dt.length&&(L.filter=t.parseExpression("("+Dt.join(")&&(")+")",Be).$expr),(Dt=X.throttle)!=null&&(L.throttle=+Dt),(Dt=X.debounce)!=null&&(L.debounce=+Dt),X.consume&&(L.consume=!0),L}function Pn(L,X,Be){let Dt="event.item";return Dt+(L&&L!=="*"?"&&"+Dt+".mark.marktype==='"+L+"'":"")+(Be?"&&"+Dt+".mark.role==='"+Be+"'":"")+(X?"&&"+Dt+".mark.name==='"+X+"'":"")}let or={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Ye(L,X,Be){let Dt=L.encode,Ht={target:Be},Cn=L.events,Rn=L.update,rr=[];Cn||e.error("Signal update missing events specification."),e.isString(Cn)&&(Cn=r.parseSelector(Cn,X.isSubscope()?qn:sr)),Cn=e.array(Cn).filter(dr=>dr.signal||dr.scale?(rr.push(dr),0):1),rr.length>1&&(rr=[se(rr)]),Cn.length&&rr.push(Cn.length>1?{merge:Cn}:Cn[0]),Dt!=null&&(Rn&&e.error("Signal encode and update are mutually exclusive."),Rn="encode(item(),"+e.stringValue(Dt)+")"),Ht.update=e.isString(Rn)?t.parseExpression(Rn,X):Rn.expr!=null?t.parseExpression(Rn.expr,X):Rn.value!=null?Rn.value:Rn.signal!=null?{$expr:or,$params:{$value:X.signalRef(Rn.signal)}}:e.error("Invalid signal update specification."),L.force&&(Ht.options={force:!0}),rr.forEach(dr=>X.addUpdate(e.extend(gt(dr,X),Ht)))}function gt(L,X){return{source:L.signal?X.signalRef(L.signal):L.scale?X.scaleRef(L.scale):mt(L,X)}}function se(L){return{signal:"["+L.map(X=>X.scale?'scale("'+X.scale+'")':X.signal)+"]"}}function Pe(L,X){let Be=X.getSignal(L.name),Dt=L.update;L.init&&(Dt?e.error("Signals can not include both init and update expressions."):(Dt=L.init,Be.initonly=!0)),Dt&&(Dt=t.parseExpression(Dt,X),Be.update=Dt.$expr,Be.params=Dt.$params),L.on&&L.on.forEach(Ht=>Ye(Ht,X,Be.id))}let et=L=>(X,Be,Dt)=>Ge(L,Be,X||void 0,Dt),At=et("aggregate"),fn=et("axisticks"),on=et("bound"),ct=et("collect"),re=et("compare"),Te=et("datajoin"),je=et("encode"),ht=et("expression"),vt=et("facet"),Ft=et("field"),ne=et("key"),Se=et("legendentries"),Ve=et("load"),nt=et("mark"),Bt=et("multiextent"),rn=et("multivalues"),Sn=et("overlap"),vn=et("params"),xn=et("prefacet"),zn=et("projection"),Oe=et("proxy"),qe=et("relay"),Ct=et("render"),O=et("scale"),H=et("sieve"),ve=et("sortitems"),pe=et("viewlayout"),K=et("values"),oe=0,le={min:"min",max:"max",count:"sum"};function We(L,X){let Be=L.type||"linear";i.isValidScaleType(Be)||e.error("Unrecognized scale type: "+e.stringValue(Be)),X.addScale(L.name,{type:Be,domain:void 0})}function Rt(L,X){let Be=X.getScale(L.name).params,Dt;Be.domain=B(L.domain,L,X),L.range!=null&&(Be.range=Vr(L,X,Be)),L.interpolate!=null&&Jr(L.interpolate,Be),L.nice!=null&&(Be.nice=Vn(L.nice)),L.bins!=null&&(Be.bins=jn(L.bins,X));for(Dt in L)e.hasOwnProperty(Be,Dt)||Dt==="name"||(Be[Dt]=bt(L[Dt],X))}function bt(L,X){return e.isObject(L)?L.signal?X.signalRef(L.signal):e.error("Unsupported object: "+e.stringValue(L)):L}function ln(L,X){return L.signal?X.signalRef(L.signal):L.map(Be=>bt(Be,X))}function S(L){e.error("Can not find data set: "+e.stringValue(L))}function B(L,X,Be){if(!L){(X.domainMin!=null||X.domainMax!=null)&&e.error("No scale domain defined for domainMin/domainMax to override.");return}return L.signal?Be.signalRef(L.signal):(e.isArray(L)?ee:L.fields?ft:_e)(L,X,Be)}function ee(L,X,Be){return L.map(Dt=>bt(Dt,Be))}function _e(L,X,Be){let Dt=Be.getData(L.data);return Dt||S(L.data),i.isDiscrete(X.type)?Dt.valuesRef(Be,L.field,Kt(L.sort,!1)):i.isQuantile(X.type)?Dt.domainRef(Be,L.field):Dt.extentRef(Be,L.field)}function ft(L,X,Be){let Dt=L.data,Ht=L.fields.reduce((Cn,Rn)=>(Rn=e.isString(Rn)?{data:Dt,field:Rn}:e.isArray(Rn)||Rn.signal?St(Rn,Be):Rn,Cn.push(Rn),Cn),[]);return(i.isDiscrete(X.type)?Jt:i.isQuantile(X.type)?hn:Bn)(L,Be,Ht)}function St(L,X){let Be="_:vega:_"+oe++,Dt=ct({});if(e.isArray(L))Dt.value={$ingest:L};else if(L.signal){let Ht="setdata("+e.stringValue(Be)+","+L.signal+")";Dt.params.input=X.signalRef(Ht)}return X.addDataPipeline(Be,[Dt,H({})]),{data:Be,field:"data"}}function Jt(L,X,Be){let Dt=Kt(L.sort,!0),Ht,Cn,Rn=Be.map(Nr=>{let tt=X.getData(Nr.data);return tt||S(Nr.data),tt.countsRef(X,Nr.field,Dt)}),rr={groupby:en,pulse:Rn};Dt&&(Ht=Dt.op||"count",Cn=Dt.field?pn(Ht,Dt.field):"count",rr.ops=[le[Ht]],rr.fields=[X.fieldRef(Cn)],rr.as=[Cn]),Ht=X.add(At(rr));let dr=X.add(ct({pulse:Nt(Ht)}));return Cn=X.add(K({field:en,sort:X.sortRef(Dt),pulse:Nt(dr)})),Nt(Cn)}function Kt(L,X){return L&&(!L.field&&!L.op?e.isObject(L)?L.field="key":L={field:"key"}:!L.field&&L.op!=="count"?e.error("No field provided for sort aggregate op: "+L.op):X&&L.field&&L.op&&!le[L.op]&&e.error("Multiple domain scales can not be sorted using "+L.op)),L}function hn(L,X,Be){let Dt=Be.map(Ht=>{let Cn=X.getData(Ht.data);return Cn||S(Ht.data),Cn.domainRef(X,Ht.field)});return Nt(X.add(rn({values:Dt})))}function Bn(L,X,Be){let Dt=Be.map(Ht=>{let Cn=X.getData(Ht.data);return Cn||S(Ht.data),Cn.extentRef(X,Ht.field)});return Nt(X.add(Bt({extents:Dt})))}function jn(L,X){return L.signal||e.isArray(L)?ln(L,X):X.objectProperty(L)}function Vn(L){return e.isObject(L)?{interval:bt(L.interval),step:bt(L.step)}:bt(L)}function Jr(L,X){X.interpolate=bt(L.type||L),L.gamma!=null&&(X.interpolateGamma=bt(L.gamma))}function Vr(L,X,Be){let Dt=X.config.range,Ht=L.range;if(Ht.signal)return X.signalRef(Ht.signal);if(e.isString(Ht)){if(Dt&&e.hasOwnProperty(Dt,Ht))return L=e.extend({},L,{range:Dt[Ht]}),Vr(L,X,Be);Ht==="width"?Ht=[0,{signal:"width"}]:Ht==="height"?Ht=i.isDiscrete(L.type)?[0,{signal:"height"}]:[{signal:"height"},0]:e.error("Unrecognized scale range value: "+e.stringValue(Ht))}else if(Ht.scheme){Be.scheme=e.isArray(Ht.scheme)?ln(Ht.scheme,X):bt(Ht.scheme,X),Ht.extent&&(Be.schemeExtent=ln(Ht.extent,X)),Ht.count&&(Be.schemeCount=bt(Ht.count,X));return}else if(Ht.step){Be.rangeStep=bt(Ht.step,X);return}else{if(i.isDiscrete(L.type)&&!e.isArray(Ht))return B(Ht,L,X);e.isArray(Ht)||e.error("Unsupported range type: "+e.stringValue(Ht))}return Ht.map(Cn=>(e.isArray(Cn)?ln:bt)(Cn,X))}function yr(L,X){let Be=X.config.projection||{},Dt={};for(let Ht in L)Ht!=="name"&&(Dt[Ht]=Mr(L[Ht],Ht,X));for(let Ht in Be)Dt[Ht]==null&&(Dt[Ht]=Mr(Be[Ht],Ht,X));X.addProjection(L.name,Dt)}function Mr(L,X,Be){return e.isArray(L)?L.map(Dt=>Mr(Dt,X,Be)):e.isObject(L)?L.signal?Be.signalRef(L.signal):X==="fit"?L:e.error("Unsupported parameter object: "+e.stringValue(L)):L}let xi="top",ai="left",Ji="right",Es="bottom",es="center",Ea="vertical",da="start",fl="middle",wc="end",au="index",uu="label",Gu="offset",wu="perc",Ac="perc2",Zo="value",Yu="guide-label",Gc="guide-title",Qe="group-title",Gt="group-subtitle",Mn="symbol",Yn="gradient",ri="discrete",Br="size",co=[Br,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],hi={name:1,style:1,interactive:1},Ei={value:0},Vi={value:1},Ko="group",la="rect",ca="rule",fo="symbol",us="text";function hs(L){return L.type=Ko,L.interactive=L.interactive||!1,L}function Xi(L,X){let Be=(Dt,Ht)=>De(L[Dt],De(X[Dt],Ht));return Be.isVertical=Dt=>Ea===De(L.direction,X.direction||(Dt?X.symbolDirection:X.gradientDirection)),Be.gradientLength=()=>De(L.gradientLength,X.gradientLength||X.gradientWidth),Be.gradientThickness=()=>De(L.gradientThickness,X.gradientThickness||X.gradientHeight),Be.entryColumns=()=>De(L.columns,De(X.columns,+Be.isVertical(!0))),Be}function lu(L,X){let Be=X&&(X.update&&X.update[L]||X.enter&&X.enter[L]);return Be&&Be.signal?Be:Be?Be.value:null}function Is(L,X,Be){let Dt=X.config.style[Be];return Dt&&Dt[L]}function ha(L,X,Be){return`item.anchor === '${da}' ? ${L} : item.anchor === '${wc}' ? ${X} : ${Be}`}let ia=ha(e.stringValue(ai),e.stringValue(Ji),e.stringValue(es));function Ni(L){let X=L("tickBand"),Be=L("tickOffset"),Dt,Ht;return X?X.signal?(Dt={signal:`(${X.signal}) === 'extent' ? 1 : 0.5`},Ht={signal:`(${X.signal}) === 'extent'`},e.isObject(Be)||(Be={signal:`(${X.signal}) === 'extent' ? 0 : ${Be}`})):X==="extent"?(Dt=1,Ht=!0,Be=0):(Dt=.5,Ht=!1):(Dt=L("bandPosition"),Ht=L("tickExtra")),{extra:Ht,band:Dt,offset:Be}}function Ho(L,X){return X?L?e.isObject(L)?Object.assign({},L,{offset:Ho(L.offset,X)}):{value:L,offset:X}:X:L}function ys(L,X){return X?(L.name=X.name,L.style=X.style||L.style,L.interactive=!!X.interactive,L.encode=N(L.encode,X,hi)):L.interactive=!1,L}function Ii(L,X,Be,Dt){let Ht=Xi(L,Be),Cn=Ht.isVertical(),Rn=Ht.gradientThickness(),rr=Ht.gradientLength(),dr,Nr,tt,Fi,Wi;Cn?(Nr=[0,1],tt=[0,0],Fi=Rn,Wi=rr):(Nr=[0,0],tt=[1,0],Fi=rr,Wi=Rn);let Li={enter:dr={opacity:Ei,x:Ei,y:Ei,width:p(Fi),height:p(Wi)},update:e.extend({},dr,{opacity:Vi,fill:{gradient:X,start:Nr,stop:tt}}),exit:{opacity:Ei}};return C(Li,{stroke:Ht("gradientStrokeColor"),strokeWidth:Ht("gradientStrokeWidth")},{opacity:Ht("gradientOpacity")}),ys({type:la,role:ot,encode:Li},Dt)}function Do(L,X,Be,Dt,Ht){let Cn=Xi(L,Be),Rn=Cn.isVertical(),rr=Cn.gradientThickness(),dr=Cn.gradientLength(),Nr,tt,Fi,Wi,Li="";Rn?(Nr="y",Fi="y2",tt="x",Wi="width",Li="1-"):(Nr="x",Fi="x2",tt="y",Wi="height");let Qr={opacity:Ei,fill:{scale:X,field:Zo}};Qr[Nr]={signal:Li+"datum."+wu,mult:dr},Qr[tt]=Ei,Qr[Fi]={signal:Li+"datum."+Ac,mult:dr},Qr[Wi]=p(rr);let Qs={enter:Qr,update:e.extend({},Qr,{opacity:Vi}),exit:{opacity:Ei}};return C(Qs,{stroke:Cn("gradientStrokeColor"),strokeWidth:Cn("gradientStrokeWidth")},{opacity:Cn("gradientOpacity")}),ys({type:la,role:ye,key:Zo,from:Ht,encode:Qs},Dt)}let Oa=`datum.${wu}<=0?"${ai}":datum.${wu}>=1?"${Ji}":"${es}"`,Ga=`datum.${wu}<=0?"${Es}":datum.${wu}>=1?"${xi}":"${fl}"`;function Oo(L,X,Be,Dt){let Ht=Xi(L,X),Cn=Ht.isVertical(),Rn=p(Ht.gradientThickness()),rr=Ht.gradientLength(),dr=Ht("labelOverlap"),Nr,tt,Fi,Wi,Li="",Qr={enter:Nr={opacity:Ei},update:tt={opacity:Vi,text:{field:uu}},exit:{opacity:Ei}};return C(Qr,{fill:Ht("labelColor"),fillOpacity:Ht("labelOpacity"),font:Ht("labelFont"),fontSize:Ht("labelFontSize"),fontStyle:Ht("labelFontStyle"),fontWeight:Ht("labelFontWeight"),limit:De(L.labelLimit,X.gradientLabelLimit)}),Cn?(Nr.align={value:"left"},Nr.baseline=tt.baseline={signal:Ga},Fi="y",Wi="x",Li="1-"):(Nr.align=tt.align={signal:Oa},Nr.baseline={value:"top"},Fi="x",Wi="y"),Nr[Fi]=tt[Fi]={signal:Li+"datum."+wu,mult:rr},Nr[Wi]=tt[Wi]=Rn,Rn.offset=De(L.labelOffset,X.gradientLabelOffset)||0,dr=dr?{separation:Ht("labelSeparation"),method:dr,order:"datum."+au}:void 0,ys({type:us,role:at,style:Yu,key:Zo,from:Dt,encode:Qr,overlap:dr},Be)}function Ao(L,X,Be,Dt,Ht){let Cn=Xi(L,X),Rn=Be.entries,rr=!!(Rn&&Rn.interactive),dr=Rn?Rn.name:void 0,Nr=Cn("clipHeight"),tt=Cn("symbolOffset"),Fi={data:"value"},Wi=`(${Ht}) ? datum.${Gu} : datum.${Br}`,Li=Nr?p(Nr):{field:Br},Qr=`datum.${au}`,Qs=`max(1, ${Ht})`,Uo,ma,ho,Na,nc;Li.mult=.5,Uo={enter:ma={opacity:Ei,x:{signal:Wi,mult:.5,offset:tt},y:Li},update:ho={opacity:Vi,x:ma.x,y:ma.y},exit:{opacity:Ei}};let jl=null,Ra=null;L.fill||(jl=X.symbolBaseFillColor,Ra=X.symbolBaseStrokeColor),C(Uo,{fill:Cn("symbolFillColor",jl),shape:Cn("symbolType"),size:Cn("symbolSize"),stroke:Cn("symbolStrokeColor",Ra),strokeDash:Cn("symbolDash"),strokeDashOffset:Cn("symbolDashOffset"),strokeWidth:Cn("symbolStrokeWidth")},{opacity:Cn("symbolOpacity")}),co.forEach(ef=>{L[ef]&&(ho[ef]=ma[ef]={scale:L[ef],field:Zo})});let rc=ys({type:fo,role:Ze,key:Zo,from:Fi,clip:Nr?!0:void 0,encode:Uo},Be.symbols),xa=p(tt);xa.offset=Cn("labelOffset"),Uo={enter:ma={opacity:Ei,x:{signal:Wi,offset:xa},y:Li},update:ho={opacity:Vi,text:{field:uu},x:ma.x,y:ma.y},exit:{opacity:Ei}},C(Uo,{align:Cn("labelAlign"),baseline:Cn("labelBaseline"),fill:Cn("labelColor"),fillOpacity:Cn("labelOpacity"),font:Cn("labelFont"),fontSize:Cn("labelFontSize"),fontStyle:Cn("labelFontStyle"),fontWeight:Cn("labelFontWeight"),limit:Cn("labelLimit")});let Zc=ys({type:us,role:at,style:Yu,key:Zo,from:Fi,encode:Uo},Be.labels);return Uo={enter:{noBound:{value:!Nr},width:Ei,height:Nr?p(Nr):Ei,opacity:Ei},exit:{opacity:Ei},update:ho={opacity:Vi,row:{signal:null},column:{signal:null}}},Cn.isVertical(!0)?(Na=`ceil(item.mark.items.length / ${Qs})`,ho.row.signal=`${Qr}%${Na}`,ho.column.signal=`floor(${Qr} / ${Na})`,nc={field:["row",Qr]}):(ho.row.signal=`floor(${Qr} / ${Qs})`,ho.column.signal=`${Qr} % ${Qs}`,nc={field:Qr}),ho.column.signal=`(${Ht})?${ho.column.signal}:${Qr}`,Dt={facet:{data:Dt,name:"value",groupby:au}},hs({role:P,from:Dt,encode:N(Uo,Rn,hi),marks:[rc,Zc],name:dr,interactive:rr,sort:nc})}function ja(L,X){let Be=Xi(L,X);return{align:Be("gridAlign"),columns:Be.entryColumns(),center:{row:!0,column:!1},padding:{row:Be("rowPadding"),column:Be("columnPadding")}}}let cu='item.orient === "left"',qa='item.orient === "right"',sa=`(${cu} || ${qa})`,oa=`datum.vgrad && ${sa}`,dl=ha('"top"','"bottom"','"middle"'),Pl=ha('"right"','"left"','"center"'),ea=`datum.vgrad && ${qa} ? (${Pl}) : (${sa} && !(datum.vgrad && ${cu})) ? "left" : ${ia}`,Ku=`item._anchor || (${sa} ? "middle" : "start")`,ui=`${oa} ? (${cu} ? -90 : 90) : 0`,ns=`${sa} ? (datum.vgrad ? (${qa} ? "bottom" : "top") : ${dl}) : "top"`;function ls(L,X,Be,Dt){let Ht=Xi(L,X),Cn={enter:{opacity:Ei},update:{opacity:Vi,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ei}};return C(Cn,{orient:Ht("titleOrient"),_anchor:Ht("titleAnchor"),anchor:{signal:Ku},angle:{signal:ui},align:{signal:ea},baseline:{signal:ns},text:L.title,fill:Ht("titleColor"),fillOpacity:Ht("titleOpacity"),font:Ht("titleFont"),fontSize:Ht("titleFontSize"),fontStyle:Ht("titleFontStyle"),fontWeight:Ht("titleFontWeight"),limit:Ht("titleLimit"),lineHeight:Ht("titleLineHeight")},{align:Ht("titleAlign"),baseline:Ht("titleBaseline")}),ys({type:us,role:Tt,style:Gc,from:Dt,encode:Cn},Be)}function pr(L,X){let Be;return e.isObject(L)&&(L.signal?Be=L.signal:L.path?Be="pathShape("+rs(L.path)+")":L.sphere&&(Be="geoShape("+rs(L.sphere)+', {type: "Sphere"})')),Be?X.signalRef(Be):!!L}function rs(L){return e.isObject(L)&&L.signal?L.signal:e.stringValue(L)}function Le(L){let X=L.role||"";return!X.indexOf("axis")||!X.indexOf("legend")||!X.indexOf("title")?X:L.type===Ko?P:X||U}function pt(L){return{marktype:L.type,name:L.name||void 0,role:L.role||Le(L),zindex:+L.zindex||void 0,aria:L.aria,description:L.description}}function Yt(L,X){return L&&L.signal?X.signalRef(L.signal):L!==!1}function jt(L,X){let Be=s.definition(L.type);Be||e.error("Unrecognized transform type: "+e.stringValue(L.type));let Dt=Ge(Be.type.toLowerCase(),null,dn(Be,L,X));return L.signal&&X.addSignal(L.signal,X.proxy(Dt)),Dt.metadata=Be.metadata||{},Dt}function dn(L,X,Be){let Dt={},Ht=L.params.length;for(let Cn=0;Cn<Ht;++Cn){let Rn=L.params[Cn];Dt[Rn.name]=Nn(Rn,X,Be)}return Dt}function Nn(L,X,Be){let Dt=L.type,Ht=X[L.name];if(Dt==="index")return Un(L,X,Be);if(Ht===void 0){L.required&&e.error("Missing required "+e.stringValue(X.type)+" parameter: "+e.stringValue(L.name));return}else{if(Dt==="param")return br(L,X,Be);if(Dt==="projection")return Be.projectionRef(X[L.name])}return L.array&&!In(Ht)?Ht.map(Cn=>Kn(L,Cn,Be)):Kn(L,Ht,Be)}function Kn(L,X,Be){let Dt=L.type;if(In(X))return gr(Dt)?e.error("Expression references can not be signals."):Or(Dt)?Be.fieldRef(X):di(Dt)?Be.compareRef(X):Be.signalRef(X.signal);{let Ht=L.expr||Or(Dt);return Ht&&Gn(X)?Be.exprRef(X.expr,X.as):Ht&&ar(X)?zt(X.field,X.as):gr(Dt)?t.parseExpression(X,Be):er(Dt)?Nt(Be.getData(X).values):Or(Dt)?zt(X):di(Dt)?Be.compareRef(X):X}}function Un(L,X,Be){return e.isString(X.from)||e.error('Lookup "from" parameter must be a string literal.'),Be.getData(X.from).lookupRef(Be,X.key)}function br(L,X,Be){let Dt=X[L.name];return L.array?(e.isArray(Dt)||e.error("Expected an array of sub-parameters. Instead: "+e.stringValue(Dt)),Dt.map(Ht=>wr(L,Ht,Be))):wr(L,Dt,Be)}function wr(L,X,Be){let Dt=L.params.length,Ht;for(let Rn=0;Rn<Dt;++Rn){Ht=L.params[Rn];for(let rr in Ht.key)if(Ht.key[rr]!==X[rr]){Ht=null;break}if(Ht)break}Ht||e.error("Unsupported parameter: "+e.stringValue(X));let Cn=e.extend(dn(Ht,X,Be),Ht.key);return Nt(Be.add(vn(Cn)))}let Gn=L=>L&&L.expr,ar=L=>L&&L.field,er=L=>L==="data",gr=L=>L==="expr",Or=L=>L==="field",di=L=>L==="compare";function ni(L,X,Be){let Dt,Ht,Cn,Rn,rr;return L?(Dt=L.facet)&&(X||e.error("Only group marks can be faceted."),Dt.field!=null?Rn=rr=pi(Dt,Be):(L.data?rr=Nt(Be.getData(L.data).aggregate):(Cn=jt(e.extend({type:"aggregate",groupby:e.array(Dt.groupby)},Dt.aggregate),Be),Cn.params.key=Be.keyRef(Dt.groupby),Cn.params.pulse=pi(Dt,Be),Rn=rr=Nt(Be.add(Cn))),Ht=Be.keyRef(Dt.groupby,!0))):Rn=Nt(Be.add(ct(null,[{}]))),Rn||(Rn=pi(L,Be)),{key:Ht,pulse:Rn,parent:rr}}function pi(L,X){return L.$ref?L:L.data&&L.data.$ref?L.data:Nt(X.getData(L.data).output)}function ii(L,X,Be,Dt,Ht){this.scope=L,this.input=X,this.output=Be,this.values=Dt,this.aggregate=Ht,this.index={}}ii.fromEntries=function(L,X){let Be=X.length,Dt=X[Be-1],Ht=X[Be-2],Cn=X[0],Rn=null,rr=1;for(Cn&&Cn.type==="load"&&(Cn=X[1]),L.add(X[0]);rr<Be;++rr)X[rr].params.pulse=Nt(X[rr-1]),L.add(X[rr]),X[rr].type==="aggregate"&&(Rn=X[rr]);return new ii(L,Cn,Ht,Dt,Rn)};function qr(L){return e.isString(L)?L:null}function Ir(L,X,Be){let Dt=pn(Be.op,Be.field),Ht;if(X.ops){for(let Cn=0,Rn=X.as.length;Cn<Rn;++Cn)if(X.as[Cn]===Dt)return}else X.ops=["count"],X.fields=[null],X.as=["count"];Be.op&&(X.ops.push((Ht=Be.op.signal)?L.signalRef(Ht):Be.op),X.fields.push(L.fieldRef(Be.field)),X.as.push(Dt))}function yi(L,X,Be,Dt,Ht,Cn,Rn){let rr=X[Be]||(X[Be]={}),dr=Ut(Cn),Nr=qr(Ht),tt,Fi;if(Nr!=null&&(L=X.scope,Nr=Nr+(dr?"|"+dr:""),tt=rr[Nr]),!tt){let Wi=Cn?{field:en,pulse:X.countsRef(L,Ht,Cn)}:{field:L.fieldRef(Ht),pulse:Nt(X.output)};dr&&(Wi.sort=L.sortRef(Cn)),Fi=L.add(Ge(Dt,void 0,Wi)),Rn&&(X.index[Ht]=Fi),tt=Nt(Fi),Nr!=null&&(rr[Nr]=tt)}return tt}ii.prototype={countsRef(L,X,Be){let Dt=this,Ht=Dt.counts||(Dt.counts={}),Cn=qr(X),Rn,rr,dr;return Cn!=null&&(L=Dt.scope,Rn=Ht[Cn]),Rn?Be&&Be.field&&Ir(L,Rn.agg.params,Be):(dr={groupby:L.fieldRef(X,"key"),pulse:Nt(Dt.output)},Be&&Be.field&&Ir(L,dr,Be),rr=L.add(At(dr)),Rn=L.add(ct({pulse:Nt(rr)})),Rn={agg:rr,ref:Nt(Rn)},Cn!=null&&(Ht[Cn]=Rn)),Rn.ref},tuplesRef(){return Nt(this.values)},extentRef(L,X){return yi(L,this,"extent","extent",X,!1)},domainRef(L,X){return yi(L,this,"domain","values",X,!1)},valuesRef(L,X,Be){return yi(L,this,"vals","values",X,Be||!0)},lookupRef(L,X){return yi(L,this,"lookup","tupleindex",X,!1)},indataRef(L,X){return yi(L,this,"indata","tupleindex",X,!0,!0)}};function gi(L,X,Be){let Dt=L.from.facet,Ht=Dt.name,Cn=pi(Dt,X),Rn;Dt.name||e.error("Facet must have a name: "+e.stringValue(Dt)),Dt.data||e.error("Facet must reference a data set: "+e.stringValue(Dt)),Dt.field?Rn=X.add(xn({field:X.fieldRef(Dt.field),pulse:Cn})):Dt.groupby?Rn=X.add(vt({key:X.keyRef(Dt.groupby),group:Nt(X.proxy(Be.parent)),pulse:Cn})):e.error("Facet must specify groupby or field: "+e.stringValue(Dt));let rr=X.fork(),dr=rr.add(ct()),Nr=rr.add(H({pulse:Nt(dr)}));rr.addData(Ht,new ii(rr,dr,dr,Nr)),rr.addSignal("parent",null),Rn.params.subflow={$subflow:rr.parse(L).toRuntime()}}function ss(L,X,Be){let Dt=X.add(xn({pulse:Be.pulse})),Ht=X.fork();Ht.add(H()),Ht.addSignal("parent",null),Dt.params.subflow={$subflow:Ht.parse(L).toRuntime()}}function ms(L,X,Be){let Dt=L.remove,Ht=L.insert,Cn=L.toggle,Rn=L.modify,rr=L.values,dr=X.add(Ot()),Nr="if("+L.trigger+',modify("'+Be+'",'+[Ht,Dt,Cn,Rn,rr].map(Fi=>Fi??"null").join(",")+"),0)",tt=t.parseExpression(Nr,X);dr.update=tt.$expr,dr.params=tt.$params}function vi(L,X){let Be=Le(L),Dt=L.type===Ko,Ht=L.from&&L.from.facet,Cn=L.overlap,Rn=L.layout||Be===P||Be===V,rr,dr,Nr,tt,Fi,Wi,Li,Qr=Be===U||Rn||Ht,Qs=ni(L.from,Dt,X);dr=X.add(Te({key:Qs.key||(L.key?zt(L.key):void 0),pulse:Qs.pulse,clean:!Dt}));let Uo=Nt(dr);dr=Nr=X.add(ct({pulse:Uo})),dr=X.add(nt({markdef:pt(L),interactive:Yt(L.interactive,X),clip:pr(L.clip,X),context:{$context:!0},groups:X.lookup(),parent:X.signals.parent?X.signalRef("parent"):null,index:X.markpath(),pulse:Nt(dr)}));let ma=Nt(dr);dr=tt=X.add(je(cn(L.encode,L.type,Be,L.style,X,{mod:!1,pulse:ma}))),dr.params.parent=X.encode(),L.transform&&L.transform.forEach(Ra=>{let rc=jt(Ra,X),xa=rc.metadata;(xa.generates||xa.changes)&&e.error("Mark transforms should not generate new data."),xa.nomod||(tt.params.mod=!0),rc.params.pulse=Nt(dr),X.add(dr=rc)}),L.sort&&(dr=X.add(ve({sort:X.compareRef(L.sort),pulse:Nt(dr)})));let ho=Nt(dr);(Ht||Rn)&&(Rn=X.add(pe({layout:X.objectProperty(L.layout),legends:X.legends,mark:ma,pulse:ho})),Wi=Nt(Rn));let Na=X.add(on({mark:ma,pulse:Wi||ho}));Li=Nt(Na),Dt&&(Qr&&(rr=X.operators,rr.pop(),Rn&&rr.pop()),X.pushState(ho,Wi||Li,Uo),Ht?gi(L,X,Qs):Qr?ss(L,X,Qs):X.parse(L),X.popState(),Qr&&(Rn&&rr.push(Rn),rr.push(Na))),Cn&&(Li=Ms(Cn,Li,X));let nc=X.add(Ct({pulse:Li})),jl=X.add(H({pulse:Nt(nc)},void 0,X.parent()));L.name!=null&&(Fi=L.name,X.addData(Fi,new ii(X,Nr,nc,jl)),L.on&&L.on.forEach(Ra=>{(Ra.insert||Ra.remove||Ra.toggle)&&e.error("Marks only support modify triggers."),ms(Ra,X,Fi)}))}function Ms(L,X,Be){let Dt=L.method,Ht=L.bound,Cn=L.separation,Rn={separation:In(Cn)?Be.signalRef(Cn.signal):Cn,method:In(Dt)?Be.signalRef(Dt.signal):Dt,pulse:X};if(L.order&&(Rn.sort=Be.compareRef({field:L.order})),Ht){let rr=Ht.tolerance;Rn.boundTolerance=In(rr)?Be.signalRef(rr.signal):+rr,Rn.boundScale=Be.scaleRef(Ht.scale),Rn.boundOrient=Ht.orient}return Nt(Be.add(Sn(Rn)))}function is(L,X){let Be=X.config.legend,Dt=L.encode||{},Ht=Xi(L,Be),Cn=Dt.legend||{},Rn=Cn.name||void 0,rr=Cn.interactive,dr=Cn.style,Nr={},tt=0,Fi,Wi,Li;co.forEach(Na=>L[Na]?(Nr[Na]=L[Na],tt=tt||L[Na]):0),tt||e.error("Missing valid scale for legend.");let Qr=pa(L,X.scaleType(tt)),Qs={title:L.title!=null,scales:Nr,type:Qr,vgrad:Qr!=="symbol"&&Ht.isVertical()},Uo=Nt(X.add(ct(null,[Qs]))),ma={enter:{x:{value:0},y:{value:0}}},ho=Nt(X.add(Se(Wi={type:Qr,scale:X.scaleRef(tt),count:X.objectProperty(Ht("tickCount")),limit:X.property(Ht("symbolLimit")),values:X.objectProperty(L.values),minstep:X.property(L.tickMinStep),formatType:X.property(L.formatType),formatSpecifier:X.property(L.format)})));return Qr===Yn?(Li=[Ii(L,tt,Be,Dt.gradient),Oo(L,Be,Dt.labels,ho)],Wi.count=Wi.count||X.signalRef(`max(2,2*floor((${qt(Ht.gradientLength())})/100))`)):Qr===ri?Li=[Do(L,tt,Be,Dt.gradient,ho),Oo(L,Be,Dt.labels,ho)]:(Fi=ja(L,Be),Li=[Ao(L,Be,Dt,ho,qt(Fi.columns))],Wi.size=tn(L,X,Li[0].marks)),Li=[hs({role:He,from:Uo,encode:ma,marks:Li,layout:Fi,interactive:rr})],Qs.title&&Li.push(ls(L,Be,Dt.title,Uo)),vi(hs({role:me,from:Uo,encode:N(ws(Ht,L,Be),Cn,hi),marks:Li,aria:Ht("aria"),description:Ht("description"),zindex:Ht("zindex"),name:Rn,interactive:rr,style:dr}),X)}function pa(L,X){let Be=L.type||Mn;return!L.type&&No(L)===1&&(L.fill||L.stroke)&&(Be=i.isContinuous(X)?Yn:i.isDiscretizing(X)?ri:Mn),Be!==Yn?Be:i.isDiscretizing(X)?ri:Yn}function No(L){return co.reduce((X,Be)=>X+(L[Be]?1:0),0)}function ws(L,X,Be){let Dt={enter:{},update:{}};return C(Dt,{orient:L("orient"),offset:L("offset"),padding:L("padding"),titlePadding:L("titlePadding"),cornerRadius:L("cornerRadius"),fill:L("fillColor"),stroke:L("strokeColor"),strokeWidth:Be.strokeWidth,strokeDash:Be.strokeDash,x:L("legendX"),y:L("legendY"),format:X.format,formatType:X.formatType}),Dt}function tn(L,X,Be){let Dt=qt(Jn("size",L,Be)),Ht=qt(Jn("strokeWidth",L,Be)),Cn=qt(yn(Be[1].encode,X,Yu));return t.parseExpression(`max(ceil(sqrt(${Dt})+${Ht}),${Cn})`,X)}function Jn(L,X,Be){return X[L]?`scale("${X[L]}",datum)`:lu(L,Be[0].encode)}function yn(L,X,Be){return lu("fontSize",L)||Is("fontSize",X,Be)}let Yr=`item.orient==="${ai}"?-90:item.orient==="${Ji}"?90:0`;function Ti(L,X){L=e.isString(L)?{text:L}:L;let Be=Xi(L,X.config.title),Dt=L.encode||{},Ht=Dt.group||{},Cn=Ht.name||void 0,Rn=Ht.interactive,rr=Ht.style,dr=[],Nr={},tt=Nt(X.add(ct(null,[Nr])));return dr.push(zi(L,Be,ts(L),tt)),L.subtitle&&dr.push(cs(L,Be,Dt.subtitle,tt)),vi(hs({role:Mt,from:tt,encode:ps(Be,Ht),marks:dr,aria:Be("aria"),description:Be("description"),zindex:Be("zindex"),name:Cn,interactive:Rn,style:rr}),X)}function ts(L){let X=L.encode;return X&&X.title||e.extend({name:L.name,interactive:L.interactive,style:L.style},X)}function ps(L,X){let Be={enter:{},update:{}};return C(Be,{orient:L("orient"),anchor:L("anchor"),align:{signal:ia},angle:{signal:Yr},limit:L("limit"),frame:L("frame"),offset:L("offset")||0,padding:L("subtitlePadding")}),N(Be,X,hi)}function zi(L,X,Be,Dt){let Ht={value:0},Cn=L.text,Rn={enter:{opacity:Ht},update:{opacity:{value:1}},exit:{opacity:Ht}};return C(Rn,{text:Cn,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:X("dx"),dy:X("dy"),fill:X("color"),font:X("font"),fontSize:X("fontSize"),fontStyle:X("fontStyle"),fontWeight:X("fontWeight"),lineHeight:X("lineHeight")},{align:X("align"),angle:X("angle"),baseline:X("baseline")}),ys({type:us,role:Ue,style:Qe,from:Dt,encode:Rn},Be)}function cs(L,X,Be,Dt){let Ht={value:0},Cn=L.subtitle,Rn={enter:{opacity:Ht},update:{opacity:{value:1}},exit:{opacity:Ht}};return C(Rn,{text:Cn,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:X("dx"),dy:X("dy"),fill:X("subtitleColor"),font:X("subtitleFont"),fontSize:X("subtitleFontSize"),fontStyle:X("subtitleFontStyle"),fontWeight:X("subtitleFontWeight"),lineHeight:X("subtitleLineHeight")},{align:X("align"),angle:X("angle"),baseline:X("baseline")}),ys({type:us,role:te,style:Gt,from:Dt,encode:Rn},Be)}function fu(L,X){let Be=[];L.transform&&L.transform.forEach(Dt=>{Be.push(jt(Dt,X))}),L.on&&L.on.forEach(Dt=>{ms(Dt,X,L.name)}),X.addDataPipeline(L.name,ue(L,X,Be))}function ue(L,X,Be){let Dt=[],Ht=null,Cn=!1,Rn=!1,rr,dr,Nr,tt,Fi;for(L.values?In(L.values)||$e(L.format)?(Dt.push(Zt(X,L)),Dt.push(Ht=ut())):Dt.push(Ht=ut({$ingest:L.values,$format:L.format})):L.url?$e(L.url)||$e(L.format)?(Dt.push(Zt(X,L)),Dt.push(Ht=ut())):Dt.push(Ht=ut({$request:L.url,$format:L.format})):L.source&&(Ht=rr=e.array(L.source).map(Wi=>Nt(X.getData(Wi).output)),Dt.push(null)),dr=0,Nr=Be.length;dr<Nr;++dr)tt=Be[dr],Fi=tt.metadata,!Ht&&!Fi.source&&Dt.push(Ht=ut()),Dt.push(tt),Fi.generates&&(Rn=!0),Fi.modifies&&!Rn&&(Cn=!0),Fi.source?Ht=tt:Fi.changes&&(Ht=null);return rr&&(Nr=rr.length-1,Dt[0]=qe({derive:Cn,pulse:Nr?rr:rr[0]}),(Cn||Nr)&&Dt.splice(1,0,ut())),Ht||Dt.push(ut()),Dt.push(H({})),Dt}function ut(L){let X=ct({},L);return X.metadata={source:!0},X}function Zt(L,X){return Ve({url:X.url?L.property(X.url):void 0,async:X.async?L.property(X.async):void 0,values:X.values?L.property(X.values):void 0,format:L.objectProperty(X.format)})}let An=L=>L===Es||L===xi,nr=(L,X,Be)=>In(L)?Ya(L.signal,X,Be):L===ai||L===xi?X:Be,vr=(L,X,Be)=>In(L)?Ns(L.signal,X,Be):An(L)?X:Be,fr=(L,X,Be)=>In(L)?io(L.signal,X,Be):An(L)?Be:X,Zi=(L,X,Be)=>In(L)?Zl(L.signal,X,Be):L===xi?{value:X}:{value:Be},vs=(L,X,Be)=>In(L)?Yc(L.signal,X,Be):L===Ji?{value:X}:{value:Be},Ns=(L,X,Be)=>Tc(`${L} === '${xi}' || ${L} === '${Es}'`,X,Be),io=(L,X,Be)=>Tc(`${L} !== '${xi}' && ${L} !== '${Es}'`,X,Be),Ya=(L,X,Be)=>B0(`${L} === '${ai}' || ${L} === '${xi}'`,X,Be),Zl=(L,X,Be)=>B0(`${L} === '${xi}'`,X,Be),Yc=(L,X,Be)=>B0(`${L} === '${Ji}'`,X,Be),Tc=(L,X,Be)=>(X=X!=null?p(X):X,Be=Be!=null?p(Be):Be,Zf(X)&&Zf(Be)?(X=X?X.signal||e.stringValue(X.value):null,Be=Be?Be.signal||e.stringValue(Be.value):null,{signal:`${L} ? (${X}) : (${Be})`}):[e.extend({test:L},X)].concat(Be||[])),Zf=L=>L==null||Object.keys(L).length===1,B0=(L,X,Be)=>({signal:`${L} ? (${Kc(X)}) : (${Kc(Be)})`}),ec=(L,X,Be,Dt,Ht)=>({signal:(Dt!=null?`${L} === '${ai}' ? (${Kc(Dt)}) : `:"")+(Be!=null?`${L} === '${Es}' ? (${Kc(Be)}) : `:"")+(Ht!=null?`${L} === '${Ji}' ? (${Kc(Ht)}) : `:"")+(X!=null?`${L} === '${xi}' ? (${Kc(X)}) : `:"")+"(null)"}),Kc=L=>In(L)?L.signal:L==null?null:e.stringValue(L),e0=(L,X)=>X===0?0:In(L)?{signal:`(${L.signal}) * ${X}`}:{value:L*X},hl=(L,X)=>{let Be=L.signal;return Be&&Be.endsWith("(null)")?{signal:Be.slice(0,-6)+X.signal}:L};function Fc(L,X,Be,Dt){let Ht;if(X&&e.hasOwnProperty(X,L))return X[L];if(e.hasOwnProperty(Be,L))return Be[L];if(L.startsWith("title")){switch(L){case"titleColor":Ht="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":Ht=L[5].toLowerCase()+L.slice(6)}return Dt[Gc][Ht]}else if(L.startsWith("label")){switch(L){case"labelColor":Ht="fill";break;case"labelFont":case"labelFontSize":Ht=L[5].toLowerCase()+L.slice(6)}return Dt[Yu][Ht]}return null}function t0(L){let X={};for(let Be of L)if(!!Be)for(let Dt in Be)X[Dt]=1;return Object.keys(X)}function tc(L,X){var Be=X.config,Dt=Be.style,Ht=Be.axis,Cn=X.scaleType(L.scale)==="band"&&Be.axisBand,Rn=L.orient,rr,dr,Nr;if(In(Rn)){let Fi=t0([Be.axisX,Be.axisY]),Wi=t0([Be.axisTop,Be.axisBottom,Be.axisLeft,Be.axisRight]);rr={};for(Nr of Fi)rr[Nr]=vr(Rn,Fc(Nr,Be.axisX,Ht,Dt),Fc(Nr,Be.axisY,Ht,Dt));dr={};for(Nr of Wi)dr[Nr]=ec(Rn.signal,Fc(Nr,Be.axisTop,Ht,Dt),Fc(Nr,Be.axisBottom,Ht,Dt),Fc(Nr,Be.axisLeft,Ht,Dt),Fc(Nr,Be.axisRight,Ht,Dt))}else rr=Rn===xi||Rn===Es?Be.axisX:Be.axisY,dr=Be["axis"+Rn[0].toUpperCase()+Rn.slice(1)];return rr||dr||Cn?e.extend({},Ht,rr,dr,Cn):Ht}function Bl(L,X,Be,Dt){let Ht=Xi(L,X),Cn=L.orient,Rn,rr,dr={enter:Rn={opacity:Ei},update:rr={opacity:Vi},exit:{opacity:Ei}};C(dr,{stroke:Ht("domainColor"),strokeCap:Ht("domainCap"),strokeDash:Ht("domainDash"),strokeDashOffset:Ht("domainDashOffset"),strokeWidth:Ht("domainWidth"),strokeOpacity:Ht("domainOpacity")});let Nr=j0(L,0),tt=j0(L,1);return Rn.x=rr.x=vr(Cn,Nr,Ei),Rn.x2=rr.x2=vr(Cn,tt),Rn.y=rr.y=fr(Cn,Nr,Ei),Rn.y2=rr.y2=fr(Cn,tt),ys({type:ca,role:M,from:Dt,encode:dr},Be)}function j0(L,X){return{scale:L.scale,range:X}}function _h(L,X,Be,Dt,Ht){let Cn=Xi(L,X),Rn=L.orient,rr=L.gridScale,dr=nr(Rn,1,-1),Nr=q0(L.offset,dr),tt,Fi,Wi,Li={enter:tt={opacity:Ei},update:Wi={opacity:Vi},exit:Fi={opacity:Ei}};C(Li,{stroke:Cn("gridColor"),strokeCap:Cn("gridCap"),strokeDash:Cn("gridDash"),strokeDashOffset:Cn("gridDashOffset"),strokeOpacity:Cn("gridOpacity"),strokeWidth:Cn("gridWidth")});let Qr={scale:L.scale,field:Zo,band:Ht.band,extra:Ht.extra,offset:Ht.offset,round:Cn("tickRound")},Qs=vr(Rn,{signal:"height"},{signal:"width"}),Uo=rr?{scale:rr,range:0,mult:dr,offset:Nr}:{value:0,offset:Nr},ma=rr?{scale:rr,range:1,mult:dr,offset:Nr}:e.extend(Qs,{mult:dr,offset:Nr});return tt.x=Wi.x=vr(Rn,Qr,Uo),tt.y=Wi.y=fr(Rn,Qr,Uo),tt.x2=Wi.x2=fr(Rn,ma),tt.y2=Wi.y2=vr(Rn,ma),Fi.x=vr(Rn,Qr),Fi.y=fr(Rn,Qr),ys({type:ca,role:G,key:Zo,from:Dt,encode:Li},Be)}function q0(L,X){if(X!==1)if(!e.isObject(L))L=In(X)?{signal:`(${X.signal}) * (${L||0})`}:X*(L||0);else{let Be=L=e.extend({},L);for(;Be.mult!=null;)if(e.isObject(Be.mult))Be=Be.mult=e.extend({},Be.mult);else return Be.mult=In(X)?{signal:`(${Be.mult}) * (${X.signal})`}:Be.mult*X,L;Be.mult=X}return L}function U0(L,X,Be,Dt,Ht,Cn){let Rn=Xi(L,X),rr=L.orient,dr=nr(rr,-1,1),Nr,tt,Fi,Wi={enter:Nr={opacity:Ei},update:Fi={opacity:Vi},exit:tt={opacity:Ei}};C(Wi,{stroke:Rn("tickColor"),strokeCap:Rn("tickCap"),strokeDash:Rn("tickDash"),strokeDashOffset:Rn("tickDashOffset"),strokeOpacity:Rn("tickOpacity"),strokeWidth:Rn("tickWidth")});let Li=p(Ht);Li.mult=dr;let Qr={scale:L.scale,field:Zo,band:Cn.band,extra:Cn.extra,offset:Cn.offset,round:Rn("tickRound")};return Fi.y=Nr.y=vr(rr,Ei,Qr),Fi.y2=Nr.y2=vr(rr,Li),tt.x=vr(rr,Qr),Fi.x=Nr.x=fr(rr,Ei,Qr),Fi.x2=Nr.x2=fr(rr,Li),tt.y=fr(rr,Qr),ys({type:ca,role:I,key:Zo,from:Dt,encode:Wi},Be)}function Jc(L,X,Be,Dt,Ht){return{signal:'flush(range("'+L+'"), scale("'+L+'", datum.value), '+X+","+Be+","+Dt+","+Ht+")"}}function $0(L,X,Be,Dt,Ht,Cn){let Rn=Xi(L,X),rr=L.orient,dr=L.scale,Nr=nr(rr,-1,1),tt=qt(Rn("labelFlush")),Fi=qt(Rn("labelFlushOffset")),Wi=Rn("labelAlign"),Li=Rn("labelBaseline"),Qr=tt===0||!!tt,Qs,Uo=p(Ht);Uo.mult=Nr,Uo.offset=p(Rn("labelPadding")||0),Uo.offset.mult=Nr;let ma={scale:dr,field:Zo,band:.5,offset:Ho(Cn.offset,Rn("labelOffset"))},ho=vr(rr,Qr?Jc(dr,tt,'"left"','"right"','"center"'):{value:"center"},vs(rr,"left","right")),Na=vr(rr,Zi(rr,"bottom","top"),Qr?Jc(dr,tt,'"top"','"bottom"','"middle"'):{value:"middle"}),nc=Jc(dr,tt,`-(${Fi})`,Fi,0);Qr=Qr&&Fi;let jl={opacity:Ei,x:vr(rr,ma,Uo),y:fr(rr,ma,Uo)},Ra={enter:jl,update:Qs={opacity:Vi,text:{field:uu},x:jl.x,y:jl.y,align:ho,baseline:Na},exit:{opacity:Ei,x:jl.x,y:jl.y}};C(Ra,{dx:!Wi&&Qr?vr(rr,nc):null,dy:!Li&&Qr?fr(rr,nc):null}),C(Ra,{angle:Rn("labelAngle"),fill:Rn("labelColor"),fillOpacity:Rn("labelOpacity"),font:Rn("labelFont"),fontSize:Rn("labelFontSize"),fontWeight:Rn("labelFontWeight"),fontStyle:Rn("labelFontStyle"),limit:Rn("labelLimit"),lineHeight:Rn("labelLineHeight")},{align:Wi,baseline:Li});let rc=Rn("labelBound"),xa=Rn("labelOverlap");return xa=xa||rc?{separation:Rn("labelSeparation"),method:xa,order:"datum.index",bound:rc?{scale:dr,orient:rr,tolerance:rc}:null}:void 0,Qs.align!==ho&&(Qs.align=hl(Qs.align,ho)),Qs.baseline!==Na&&(Qs.baseline=hl(Qs.baseline,Na)),ys({type:us,role:ae,style:Yu,key:Zo,from:Dt,encode:Ra,overlap:xa},Be)}function Dc(L,X,Be,Dt){let Ht=Xi(L,X),Cn=L.orient,Rn=nr(Cn,-1,1),rr,dr,Nr={enter:rr={opacity:Ei,anchor:p(Ht("titleAnchor",null)),align:{signal:ia}},update:dr=e.extend({},rr,{opacity:Vi,text:p(L.title)}),exit:{opacity:Ei}},tt={signal:`lerp(range("${L.scale}"), ${ha(0,1,.5)})`};return dr.x=vr(Cn,tt),dr.y=fr(Cn,tt),rr.angle=vr(Cn,Ei,e0(Rn,90)),rr.baseline=vr(Cn,Zi(Cn,Es,xi),{value:Es}),dr.angle=rr.angle,dr.baseline=rr.baseline,C(Nr,{fill:Ht("titleColor"),fillOpacity:Ht("titleOpacity"),font:Ht("titleFont"),fontSize:Ht("titleFontSize"),fontStyle:Ht("titleFontStyle"),fontWeight:Ht("titleFontWeight"),limit:Ht("titleLimit"),lineHeight:Ht("titleLineHeight")},{align:Ht("titleAlign"),angle:Ht("titleAngle"),baseline:Ht("titleBaseline")}),n0(Ht,Cn,Nr,Be),Nr.update.align=hl(Nr.update.align,rr.align),Nr.update.angle=hl(Nr.update.angle,rr.angle),Nr.update.baseline=hl(Nr.update.baseline,rr.baseline),ys({type:us,role:Z,style:Gc,from:Dt,encode:Nr},Be)}function n0(L,X,Be,Dt){let Ht=(rr,dr)=>rr!=null?(Be.update[dr]=hl(p(rr),Be.update[dr]),!1):!R(dr,Dt),Cn=Ht(L("titleX"),"x"),Rn=Ht(L("titleY"),"y");Be.enter.auto=Rn===Cn?p(Rn):vr(X,p(Rn),p(Cn))}function r0(L,X){let Be=tc(L,X),Dt=L.encode||{},Ht=Dt.axis||{},Cn=Ht.name||void 0,Rn=Ht.interactive,rr=Ht.style,dr=Xi(L,Be),Nr=Ni(dr),tt={scale:L.scale,ticks:!!dr("ticks"),labels:!!dr("labels"),grid:!!dr("grid"),domain:!!dr("domain"),title:L.title!=null},Fi=Nt(X.add(ct({},[tt]))),Wi=Nt(X.add(fn({scale:X.scaleRef(L.scale),extra:X.property(Nr.extra),count:X.objectProperty(L.tickCount),values:X.objectProperty(L.values),minstep:X.property(L.tickMinStep),formatType:X.property(L.formatType),formatSpecifier:X.property(L.format)}))),Li=[],Qr;return tt.grid&&Li.push(_h(L,Be,Dt.grid,Wi,Nr)),tt.ticks&&(Qr=dr("tickSize"),Li.push(U0(L,Be,Dt.ticks,Wi,Qr,Nr))),tt.labels&&(Qr=tt.ticks?Qr:0,Li.push($0(L,Be,Dt.labels,Wi,Qr,Nr))),tt.domain&&Li.push(Bl(L,Be,Dt.domain,Fi)),tt.title&&Li.push(Dc(L,Be,Dt.title,Fi)),vi(hs({role:$,from:Fi,encode:N(i0(dr,L),Ht,hi),marks:Li,aria:dr("aria"),description:dr("description"),zindex:dr("zindex"),name:Cn,interactive:Rn,style:rr}),X)}function i0(L,X){let Be={enter:{},update:{}};return C(Be,{orient:L("orient"),offset:L("offset")||0,position:De(X.position,0),titlePadding:L("titlePadding"),minExtent:L("minExtent"),maxExtent:L("maxExtent"),range:{signal:`abs(span(range("${X.scale}")))`},translate:L("translate"),format:X.format,formatType:X.formatType}),Be}function qo(L,X,Be){let Dt=e.array(L.signals),Ht=e.array(L.scales);return Be||Dt.forEach(Cn=>Xe(Cn,X)),e.array(L.projections).forEach(Cn=>yr(Cn,X)),Ht.forEach(Cn=>We(Cn,X)),e.array(L.data).forEach(Cn=>fu(Cn,X)),Ht.forEach(Cn=>Rt(Cn,X)),(Be||Dt).forEach(Cn=>Pe(Cn,X)),e.array(L.axes).forEach(Cn=>r0(Cn,X)),e.array(L.marks).forEach(Cn=>vi(Cn,X)),e.array(L.legends).forEach(Cn=>is(Cn,X)),L.title&&Ti(L.title,X),X.parseLambdas(),X}let Jo=L=>N({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},L);function s0(L,X){let Be=X.config,Dt=Nt(X.root=X.add(Ot())),Ht=Xc(L,Be);Ht.forEach(Nr=>Xe(Nr,X)),X.description=L.description||Be.description,X.eventConfig=Be.events,X.legends=X.objectProperty(Be.legend&&Be.legend.layout),X.locale=Be.locale;let Cn=X.add(ct()),Rn=X.add(je(cn(Jo(L.encode),Ko,V,L.style,X,{pulse:Nt(Cn)}))),rr=X.add(pe({layout:X.objectProperty(L.layout),legends:X.legends,autosize:X.signalRef("autosize"),mark:Dt,pulse:Nt(Rn)}));X.operators.pop(),X.pushState(Nt(Rn),Nt(rr),null),qo(L,X,Ht),X.operators.push(rr);let dr=X.add(on({mark:Dt,pulse:Nt(rr)}));return dr=X.add(Ct({pulse:Nt(dr)})),dr=X.add(H({pulse:Nt(dr)})),X.addData("root",new ii(X,Cn,Cn,dr)),X}function pl(L,X){return X&&X.signal?{name:L,update:X.signal}:{name:L,value:X}}function Xc(L,X){let Be=Rn=>De(L[Rn],X[Rn]),Dt=[pl("background",Be("background")),pl("autosize",o(Be("autosize"))),pl("padding",d(Be("padding"))),pl("width",Be("width")||0),pl("height",Be("height")||0)],Ht=Dt.reduce((Rn,rr)=>(Rn[rr.name]=rr,Rn),{}),Cn={};return e.array(L.signals).forEach(Rn=>{e.hasOwnProperty(Ht,Rn.name)?Rn=e.extend(Ht[Rn.name],Rn):Dt.push(Rn),Cn[Rn.name]=Rn}),e.array(X.signals).forEach(Rn=>{!e.hasOwnProperty(Cn,Rn.name)&&!e.hasOwnProperty(Ht,Rn.name)&&Dt.push(Rn)}),Dt}function Rd(L,X){this.config=L||{},this.options=X||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Au(L){this.config=L.config,this.options=L.options,this.legends=L.legends,this.field=Object.create(L.field),this.signals=Object.create(L.signals),this.lambdas=Object.create(L.lambdas),this.scales=Object.create(L.scales),this.events=Object.create(L.events),this.data=Object.create(L.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++L._nextsub[0],this._nextsub=L._nextsub,this._parent=L._parent.slice(),this._encode=L._encode.slice(),this._lookup=L._lookup.slice(),this._markpath=L._markpath}Rd.prototype=Au.prototype={parse(L){return qo(L,this)},fork(){return new Au(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(L){return this.operators.push(L),L.id=this.id(),L.refs&&(L.refs.forEach(X=>{X.$ref=L.id}),L.refs=null),L},proxy(L){let X=L instanceof de?Nt(L):L;return this.add(Oe({value:X}))},addStream(L){return this.streams.push(L),L.id=this.id(),L},addUpdate(L){return this.updates.push(L),L},finish(){let L,X;this.root&&(this.root.root=!0);for(L in this.signals)this.signals[L].signal=L;for(L in this.scales)this.scales[L].scale=L;function Be(Dt,Ht,Cn){let Rn,rr;Dt&&(Rn=Dt.data||(Dt.data={}),rr=Rn[Ht]||(Rn[Ht]=[]),rr.push(Cn))}for(L in this.data){X=this.data[L],Be(X.input,L,"input"),Be(X.output,L,"output"),Be(X.values,L,"values");for(let Dt in X.index)Be(X.index[Dt],L,"index:"+Dt)}return this},pushState(L,X,Be){this._encode.push(Nt(this.add(H({pulse:L})))),this._parent.push(X),this._lookup.push(Be?Nt(this.proxy(Be)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return e.peek(this._parent)},encode(){return e.peek(this._encode)},lookup(){return e.peek(this._lookup)},markpath(){let L=this._markpath;return++L[L.length-1]},fieldRef(L,X){if(e.isString(L))return zt(L,X);L.signal||e.error("Unsupported field reference: "+e.stringValue(L));let Be=L.signal,Dt=this.field[Be];if(!Dt){let Ht={name:this.signalRef(Be)};X&&(Ht.as=X),this.field[Be]=Dt=Nt(this.add(Ft(Ht)))}return Dt},compareRef(L){let X=!1,Be=Cn=>In(Cn)?(X=!0,this.signalRef(Cn.signal)):Ne(Cn)?(X=!0,this.exprRef(Cn.expr)):Cn,Dt=e.array(L.field).map(Be),Ht=e.array(L.order).map(Be);return X?Nt(this.add(re({fields:Dt,orders:Ht}))):Xt(Dt,Ht)},keyRef(L,X){let Be=!1,Dt=Cn=>In(Cn)?(Be=!0,Nt(Ht[Cn.signal])):Cn,Ht=this.signals;return L=e.array(L).map(Dt),Be?Nt(this.add(ne({fields:L,flat:X}))):bn(L,X)},sortRef(L){if(!L)return L;let X=pn(L.op,L.field),Be=L.order||Tn;return Be.signal?Nt(this.add(re({fields:X,orders:this.signalRef(Be.signal)}))):Xt(X,Be)},event(L,X){let Be=L+":"+X;if(!this.events[Be]){let Dt=this.id();this.streams.push({id:Dt,source:L,type:X}),this.events[Be]=Dt}return this.events[Be]},hasOwnSignal(L){return e.hasOwnProperty(this.signals,L)},addSignal(L,X){this.hasOwnSignal(L)&&e.error("Duplicate signal name: "+e.stringValue(L));let Be=X instanceof de?X:this.add(Ot(X));return this.signals[L]=Be},getSignal(L){return this.signals[L]||e.error("Unrecognized signal name: "+e.stringValue(L)),this.signals[L]},signalRef(L){return this.signals[L]?Nt(this.signals[L]):(e.hasOwnProperty(this.lambdas,L)||(this.lambdas[L]=this.add(Ot(null))),Nt(this.lambdas[L]))},parseLambdas(){let L=Object.keys(this.lambdas);for(let X=0,Be=L.length;X<Be;++X){let Dt=L[X],Ht=t.parseExpression(Dt,this),Cn=this.lambdas[Dt];Cn.params=Ht.$params,Cn.update=Ht.$expr}},property(L){return L&&L.signal?this.signalRef(L.signal):L},objectProperty(L){return!L||!e.isObject(L)?L:this.signalRef(L.signal||yo(L))},exprRef(L,X){let Be={expr:t.parseExpression(L,this)};return X&&(Be.expr.$name=X),Nt(this.add(ht(Be)))},addBinding(L,X){this.bindings||e.error("Nested signals do not support binding: "+e.stringValue(L)),this.bindings.push(e.extend({signal:L},X))},addScaleProj(L,X){e.hasOwnProperty(this.scales,L)&&e.error("Duplicate scale or projection name: "+e.stringValue(L)),this.scales[L]=this.add(X)},addScale(L,X){this.addScaleProj(L,O(X))},addProjection(L,X){this.addScaleProj(L,zn(X))},getScale(L){return this.scales[L]||e.error("Unrecognized scale name: "+e.stringValue(L)),this.scales[L]},scaleRef(L){return Nt(this.getScale(L))},scaleType(L){return this.getScale(L).params.type},projectionRef(L){return this.scaleRef(L)},projectionType(L){return this.scaleType(L)},addData(L,X){return e.hasOwnProperty(this.data,L)&&e.error("Duplicate data set name: "+e.stringValue(L)),this.data[L]=X},getData(L){return this.data[L]||e.error("Undefined data set name: "+e.stringValue(L)),this.data[L]},addDataPipeline(L,X){return e.hasOwnProperty(this.data,L)&&e.error("Duplicate data set name: "+e.stringValue(L)),this.addData(L,ii.fromEntries(this,X))}};function yo(L){return(e.isArray(L)?bh:ml)(L)}function bh(L){let X=L.length,Be="[";for(let Dt=0;Dt<X;++Dt){let Ht=L[Dt];Be+=(Dt>0?",":"")+(e.isObject(Ht)?Ht.signal||yo(Ht):e.stringValue(Ht))}return Be+"]"}function ml(L){let X="{",Be=0,Dt,Ht;for(Dt in L)Ht=L[Dt],X+=(++Be>1?",":"")+e.stringValue(Dt)+":"+(e.isObject(Ht)?Ht.signal||yo(Ht):e.stringValue(Ht));return X+"}"}function Ls(){let L="sans-serif",X=30,Be=2,Dt="#4c78a8",Ht="#000",Cn="#888",Rn="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:Dt},area:{fill:Dt},image:null,line:{stroke:Dt,strokeWidth:Be},path:{stroke:Dt},rect:{fill:Dt},rule:{stroke:Ht},shape:{stroke:Dt},symbol:{fill:Dt,size:64},text:{fill:Ht,font:L,fontSize:11},trail:{fill:Dt,size:Be},style:{"guide-label":{fill:Ht,font:L,fontSize:10},"guide-title":{fill:Ht,font:L,fontSize:11,fontWeight:"bold"},"group-title":{fill:Ht,font:L,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:Ht,font:L,fontSize:12},point:{size:X,strokeWidth:Be,shape:"circle"},circle:{size:X,strokeWidth:Be},square:{size:X,strokeWidth:Be,shape:"square"},cell:{fill:"transparent",stroke:Rn}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:Cn,grid:!1,gridWidth:1,gridColor:Rn,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:Cn,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:Rn,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:Cn,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function xl(L,X,Be){return e.isObject(L)||e.error("Input Vega specification must be an object."),X=e.mergeConfig(Ls(),X,L.config),s0(L,new Rd(X,Be)).toRuntime()}n.AxisDomainRole=M,n.AxisGridRole=G,n.AxisLabelRole=ae,n.AxisRole=$,n.AxisTickRole=I,n.AxisTitleRole=Z,n.DataScope=ii,n.FrameRole=V,n.LegendEntryRole=He,n.LegendLabelRole=at,n.LegendRole=me,n.LegendSymbolRole=Ze,n.LegendTitleRole=Tt,n.MarkRole=U,n.Scope=Rd,n.ScopeRole=P,n.config=Ls,n.parse=xl,n.signal=Xe,n.signalUpdates=Pe,n.stream=mt,Object.defineProperty(n,"__esModule",{value:!0})})});var Hae=we(Ws=>{"use strict";m();Object.defineProperty(Ws,"__esModule",{value:!0});var zae=Su(),Dd=Jf(),z1t=PAe(),H1t=$Ae(),V1t=HAe(),W1t=QAe(),Q1t=YAe(),G1t=JAe(),Y1t=ZAe(),K1t=tTe(),J1t=rTe(),X1t=sTe(),Z1t=aTe(),yTe=Fb(),vTe=v9(),_Te=Rz(),bTe=_9(),b9=Db(),e2t=qae(),t2t=pTe(),oN=iN(),n2t=eH(),r2t=gTe(),i2t=Uae(),ETe=Jz(),s2t=$ae();function k2(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach(function(t){if(t!=="default"){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}}),e.default=n,Object.freeze(e)}var o2t=k2(z1t),a2t=k2(H1t),u2t=k2(V1t),l2t=k2(W1t),c2t=k2(Q1t),f2t=k2(G1t),d2t=k2(Y1t),h2t=k2(K1t),p2t=k2(J1t),m2t=k2(X1t),x2t=k2(Z1t),g2t="5.22.1";zae.extend(Dd.transforms,o2t,a2t,u2t,l2t,c2t,d2t,f2t,h2t,p2t,m2t,x2t);Object.defineProperty(Ws,"Dataflow",{enumerable:!0,get:function(){return Dd.Dataflow}});Object.defineProperty(Ws,"EventStream",{enumerable:!0,get:function(){return Dd.EventStream}});Object.defineProperty(Ws,"MultiPulse",{enumerable:!0,get:function(){return Dd.MultiPulse}});Object.defineProperty(Ws,"Operator",{enumerable:!0,get:function(){return Dd.Operator}});Object.defineProperty(Ws,"Parameters",{enumerable:!0,get:function(){return Dd.Parameters}});Object.defineProperty(Ws,"Pulse",{enumerable:!0,get:function(){return Dd.Pulse}});Object.defineProperty(Ws,"Transform",{enumerable:!0,get:function(){return Dd.Transform}});Object.defineProperty(Ws,"changeset",{enumerable:!0,get:function(){return Dd.changeset}});Object.defineProperty(Ws,"definition",{enumerable:!0,get:function(){return Dd.definition}});Object.defineProperty(Ws,"ingest",{enumerable:!0,get:function(){return Dd.ingest}});Object.defineProperty(Ws,"isTuple",{enumerable:!0,get:function(){return Dd.isTuple}});Object.defineProperty(Ws,"transform",{enumerable:!0,get:function(){return Dd.transform}});Object.defineProperty(Ws,"transforms",{enumerable:!0,get:function(){return Dd.transforms}});Object.defineProperty(Ws,"tupleid",{enumerable:!0,get:function(){return Dd.tupleid}});Object.defineProperty(Ws,"interpolate",{enumerable:!0,get:function(){return b9.interpolate}});Object.defineProperty(Ws,"interpolateColors",{enumerable:!0,get:function(){return b9.interpolateColors}});Object.defineProperty(Ws,"interpolateRange",{enumerable:!0,get:function(){return b9.interpolateRange}});Object.defineProperty(Ws,"quantizeInterpolator",{enumerable:!0,get:function(){return b9.quantizeInterpolator}});Object.defineProperty(Ws,"scale",{enumerable:!0,get:function(){return b9.scale}});Object.defineProperty(Ws,"scheme",{enumerable:!0,get:function(){return b9.scheme}});Object.defineProperty(Ws,"projection",{enumerable:!0,get:function(){return e2t.projection}});Object.defineProperty(Ws,"View",{enumerable:!0,get:function(){return t2t.View}});Object.defineProperty(Ws,"defaultLocale",{enumerable:!0,get:function(){return oN.defaultLocale}});Object.defineProperty(Ws,"formatLocale",{enumerable:!0,get:function(){return oN.numberFormatDefaultLocale}});Object.defineProperty(Ws,"locale",{enumerable:!0,get:function(){return oN.locale}});Object.defineProperty(Ws,"resetDefaultLocale",{enumerable:!0,get:function(){return oN.resetDefaultLocale}});Object.defineProperty(Ws,"timeFormatLocale",{enumerable:!0,get:function(){return oN.timeFormatDefaultLocale}});Object.defineProperty(Ws,"expressionFunction",{enumerable:!0,get:function(){return n2t.expressionFunction}});Object.defineProperty(Ws,"parse",{enumerable:!0,get:function(){return r2t.parse}});Object.defineProperty(Ws,"runtimeContext",{enumerable:!0,get:function(){return i2t.context}});Object.defineProperty(Ws,"codegenExpression",{enumerable:!0,get:function(){return ETe.codegenExpression}});Object.defineProperty(Ws,"parseExpression",{enumerable:!0,get:function(){return ETe.parseExpression}});Object.defineProperty(Ws,"parseSelector",{enumerable:!0,get:function(){return s2t.parseSelector}});Ws.version=g2t;Object.keys(zae).forEach(function(n){n!=="default"&&!Ws.hasOwnProperty(n)&&Object.defineProperty(Ws,n,{enumerable:!0,get:function(){return zae[n]}})});Object.keys(yTe).forEach(function(n){n!=="default"&&!Ws.hasOwnProperty(n)&&Object.defineProperty(Ws,n,{enumerable:!0,get:function(){return yTe[n]}})});Object.keys(vTe).forEach(function(n){n!=="default"&&!Ws.hasOwnProperty(n)&&Object.defineProperty(Ws,n,{enumerable:!0,get:function(){return vTe[n]}})});Object.keys(_Te).forEach(function(n){n!=="default"&&!Ws.hasOwnProperty(n)&&Object.defineProperty(Ws,n,{enumerable:!0,get:function(){return _Te[n]}})});Object.keys(bTe).forEach(function(n){n!=="default"&&!Ws.hasOwnProperty(n)&&Object.defineProperty(Ws,n,{enumerable:!0,get:function(){return bTe[n]}})})});var CTe=we((sH,STe)=>{m();(function(n,e){typeof sH=="object"&&typeof STe!="undefined"?e(sH,Hae()):typeof define=="function"&&define.amd?define(["exports","vega"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vegaLite={},n.vega))})(sH,function(n,e){"use strict";var t="vega-lite",r='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',i="5.5.0",s=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],o="https://vega.github.io/vega-lite/",a="Vega-Lite is a concise high-level language for interactive visualization.",c=["vega","chart","visualization"],d="build/vega-lite.js",p="build/vega-lite.min.js",b="build/vega-lite.min.js",C="build/src/index",N="build/src/index.d.ts",R={vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2pdf:"./bin/vl2pdf",vl2vg:"./bin/vl2vg"},U=["bin","build","src","vega-lite*","tsconfig.json"],V={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",eslintbase:"eslint .",format:"yarn eslintbase --fix && yarn prettierbase --write",lint:"yarn eslintbase && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"yarn run prebuild && yarn build && yarn shipit",shipit:"auto shipit"},P={type:"git",url:"https://github.com/vega/vega-lite.git"},$="BSD-3-Clause",M={url:"https://github.com/vega/vega-lite/issues"},G={"@auto-it/conventional-commits":"^10.37.6","@auto-it/first-time-contributor":"^10.37.6","@babel/core":"^7.19.1","@babel/preset-env":"^7.19.1","@babel/preset-typescript":"^7.18.6","@rollup/plugin-alias":"^4.0.0","@rollup/plugin-babel":"^6.0.0","@rollup/plugin-commonjs":"^23.0.0","@rollup/plugin-json":"^4.1.0","@types/jest":"^27.4.1","@rollup/plugin-node-resolve":"^14.1.0","@types/chai":"^4.3.3","@types/d3":"^7.4.0","@types/mkdirp":"^1.0.2","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^5.38.0","@typescript-eslint/parser":"^5.38.0",ajv:"^8.11.0","ajv-formats":"^2.1.1",auto:"^10.37.6",chai:"^4.3.6",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^2.2.2",d3:"^7.6.1","del-cli":"^5.0.0",eslint:"^8.23.1","eslint-config-prettier":"^8.5.0","eslint-plugin-jest":"^27.0.4","eslint-plugin-prettier":"^4.2.1","gh-pages":"^4.0.0",jest:"^27.5.1","highlight.js":"^11.6.0","jest-dev-server":"^6.1.1",mkdirp:"^1.0.4",pako:"^2.0.4",prettier:"^2.7.1",puppeteer:"^15.0.0",rollup:"^2.79.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3","rollup-plugin-terser":"^7.0.2",serve:"^14.0.1",terser:"^5.15.0","ts-jest":"^29.0.1","ts-json-schema-generator":"^1.1.1","vega-cli":"^5.22.1",typescript:"~4.8.3","vega-datasets":"~2.5.1","vega-embed":"^6.21.0","vega-tooltip":"^0.28.0","yaml-front-matter":"^4.1.1"},ae={"@types/clone":"~2.1.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.4.0","vega-event-selector":"~3.0.0","vega-expression":"~5.0.0","vega-util":"~1.17.0",yargs:"~17.6.0"},I={vega:"^5.22.0"},Z={node:">=12"},me={name:t,author:r,version:i,collaborators:s,homepage:o,description:a,keywords:c,main:d,unpkg:p,jsdelivr:b,module:C,types:N,bin:R,files:U,scripts:V,repository:P,license:$,bugs:M,devDependencies:G,dependencies:ae,peerDependencies:I,engines:Z},ye={exports:{}};(function(u){var l=function(){function f(sn,Ln){return Ln!=null&&sn instanceof Ln}var g;try{g=Map}catch{g=function(){}}var _;try{_=Set}catch{_=function(){}}var D;try{D=Promise}catch{D=function(){}}function k(sn,Ln,Xn,lr,hr){typeof Ln=="object"&&(Xn=Ln.depth,lr=Ln.prototype,hr=Ln.includeNonEnumerable,Ln=Ln.circular);var kr=[],Ri=[],qi=typeof Buffer!="undefined";typeof Ln=="undefined"&&(Ln=!0),typeof Xn=="undefined"&&(Xn=1/0);function Ds(Bi,ta){if(Bi===null)return null;if(ta===0)return Bi;var os,sl;if(typeof Bi!="object")return Bi;if(f(Bi,g))os=new g;else if(f(Bi,_))os=new _;else if(f(Bi,D))os=new D(function(Y2,Zy){Bi.then(function(e3){Y2(Ds(e3,ta-1))},function(e3){Zy(Ds(e3,ta-1))})});else if(k.__isArray(Bi))os=[];else if(k.__isRegExp(Bi))os=new RegExp(Bi.source,Pt(Bi)),Bi.lastIndex&&(os.lastIndex=Bi.lastIndex);else if(k.__isDate(Bi))os=new Date(Bi.getTime());else{if(qi&&Buffer.isBuffer(Bi))return Buffer.allocUnsafe?os=Buffer.allocUnsafe(Bi.length):os=new Buffer(Bi.length),Bi.copy(os),os;f(Bi,Error)?os=Object.create(Bi):typeof lr=="undefined"?(sl=Object.getPrototypeOf(Bi),os=Object.create(sl)):(os=Object.create(lr),sl=lr)}if(Ln){var Sl=kr.indexOf(Bi);if(Sl!=-1)return Ri[Sl];kr.push(Bi),Ri.push(os)}f(Bi,g)&&Bi.forEach(function(Y2,Zy){var e3=Ds(Zy,ta-1),dL=Ds(Y2,ta-1);os.set(e3,dL)}),f(Bi,_)&&Bi.forEach(function(Y2){var Zy=Ds(Y2,ta-1);os.add(Zy)});for(var cc in Bi){var Hx;sl&&(Hx=Object.getOwnPropertyDescriptor(sl,cc)),!(Hx&&Hx.set==null)&&(os[cc]=Ds(Bi[cc],ta-1))}if(Object.getOwnPropertySymbols)for(var Vx=Object.getOwnPropertySymbols(Bi),cc=0;cc<Vx.length;cc++){var Wx=Vx[cc],V1=Object.getOwnPropertyDescriptor(Bi,Wx);V1&&!V1.enumerable&&!hr||(os[Wx]=Ds(Bi[Wx],ta-1),V1.enumerable||Object.defineProperty(os,Wx,{enumerable:!1}))}if(hr)for(var Qx=Object.getOwnPropertyNames(Bi),cc=0;cc<Qx.length;cc++){var Gx=Qx[cc],V1=Object.getOwnPropertyDescriptor(Bi,Gx);V1&&V1.enumerable||(os[Gx]=Ds(Bi[Gx],ta-1),Object.defineProperty(os,Gx,{enumerable:!1}))}return os}return Ds(sn,Xn)}k.clonePrototype=function(Ln){if(Ln===null)return null;var Xn=function(){};return Xn.prototype=Ln,new Xn};function Q(sn){return Object.prototype.toString.call(sn)}k.__objToStr=Q;function ie(sn){return typeof sn=="object"&&Q(sn)==="[object Date]"}k.__isDate=ie;function ze(sn){return typeof sn=="object"&&Q(sn)==="[object Array]"}k.__isArray=ze;function Ke(sn){return typeof sn=="object"&&Q(sn)==="[object RegExp]"}k.__isRegExp=Ke;function Pt(sn){var Ln="";return sn.global&&(Ln+="g"),sn.ignoreCase&&(Ln+="i"),sn.multiline&&(Ln+="m"),Ln}return k.__getRegExpFlags=Pt,k}();u.exports&&(u.exports=l)})(ye);var He=ye.exports,ot=function u(l,f){if(l===f)return!0;if(l&&f&&typeof l=="object"&&typeof f=="object"){if(l.constructor!==f.constructor)return!1;var g,_,D;if(Array.isArray(l)){if(g=l.length,g!=f.length)return!1;for(_=g;_--!==0;)if(!u(l[_],f[_]))return!1;return!0}if(l.constructor===RegExp)return l.source===f.source&&l.flags===f.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===f.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===f.toString();if(D=Object.keys(l),g=D.length,g!==Object.keys(f).length)return!1;for(_=g;_--!==0;)if(!Object.prototype.hasOwnProperty.call(f,D[_]))return!1;for(_=g;_--!==0;){var k=D[_];if(!u(l[k],f[k]))return!1}return!0}return l!==l&&f!==f},at=function(u,l){l||(l={}),typeof l=="function"&&(l={cmp:l});var f=typeof l.cycles=="boolean"?l.cycles:!1,g=l.cmp&&function(D){return function(k){return function(Q,ie){var ze={key:Q,value:k[Q]},Ke={key:ie,value:k[ie]};return D(ze,Ke)}}}(l.cmp),_=[];return function D(k){if(k&&k.toJSON&&typeof k.toJSON=="function"&&(k=k.toJSON()),k!==void 0){if(typeof k=="number")return isFinite(k)?""+k:"null";if(typeof k!="object")return JSON.stringify(k);var Q,ie;if(Array.isArray(k)){for(ie="[",Q=0;Q<k.length;Q++)Q&&(ie+=","),ie+=D(k[Q])||"null";return ie+"]"}if(k===null)return"null";if(_.indexOf(k)!==-1){if(f)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var ze=_.push(k)-1,Ke=Object.keys(k).sort(g&&g(k));for(ie="",Q=0;Q<Ke.length;Q++){var Pt=Ke[Q],sn=D(k[Pt]);!sn||(ie&&(ie+=","),ie+=JSON.stringify(Pt)+":"+sn)}return _.splice(ze,1),"{"+ie+"}"}}(u)};function Ze(u){return!!u.or}function Tt(u){return!!u.and}function Mt(u){return!!u.not}function Ue(u,l){if(Mt(u))Ue(u.not,l);else if(Tt(u))for(let f of u.and)Ue(f,l);else if(Ze(u))for(let f of u.or)Ue(f,l);else l(u)}function te(u,l){return Mt(u)?{not:te(u.not,l)}:Tt(u)?{and:u.and.map(f=>te(f,l))}:Ze(u)?{or:u.or.map(f=>te(f,l))}:l(u)}let st=ot,be=He;function Re(u){throw new Error(u)}function Ae(u,l){let f={};for(let g of l)e.hasOwnProperty(u,g)&&(f[g]=u[g]);return f}function xe(u,l){let f={...u};for(let g of l)delete f[g];return f}Set.prototype.toJSON=function(){return`Set(${[...this].map(u=>at(u)).join(",")})`};let Je=at;function lt(u){if(e.isNumber(u))return u;let l=e.isString(u)?u:at(u);if(l.length<250)return l;let f=0;for(let g=0;g<l.length;g++){let _=l.charCodeAt(g);f=(f<<5)-f+_,f=f&f}return f}function Qt(u){return u===!1||u===null}function Et(u,l){return u.includes(l)}function mn(u,l){let f=0;for(let[g,_]of u.entries())if(l(_,g,f++))return!0;return!1}function Lt(u,l){let f=0;for(let[g,_]of u.entries())if(!l(_,g,f++))return!1;return!0}function kt(u){for(var l=arguments.length,f=new Array(l>1?l-1:0),g=1;g<l;g++)f[g-1]=arguments[g];for(let _ of f)cn(u,_??{});return u}function cn(u,l){for(let f of de(l))e.writeConfig(u,f,l[f],!0)}function wt(u,l){let f=[],g={},_;for(let D of u)_=l(D),!(_ in g)&&(g[_]=1,f.push(D));return f}function Ee(u,l){let f=de(u),g=de(l);if(f.length!==g.length)return!1;for(let _ of f)if(u[_]!==l[_])return!1;return!0}function Ie(u,l){if(u.size!==l.size)return!1;for(let f of u)if(!l.has(f))return!1;return!0}function Ce(u,l){for(let f of u)if(l.has(f))return!0;return!1}function fe(u){let l=new Set;for(let f of u){let _=e.splitAccessPath(f).map((k,Q)=>Q===0?k:`[${k}]`),D=_.map((k,Q)=>_.slice(0,Q+1).join(""));for(let k of D)l.add(k)}return l}function rt(u,l){return u===void 0||l===void 0?!0:Ce(fe(u),fe(l))}function Xe(u){return de(u).length===0}let de=Object.keys,Ge=Object.values,Ot=Object.entries;function Nt(u){return u===!0||u===!1}function zt(u){let l=u.replace(/\W/g,"_");return(u.match(/^\d+/)?"_":"")+l}function en(u,l){return Mt(u)?`!(${en(u.not,l)})`:Tt(u)?`(${u.and.map(f=>en(f,l)).join(") && (")})`:Ze(u)?`(${u.or.map(f=>en(f,l)).join(") || (")})`:l(u)}function Xt(u,l){if(l.length===0)return!0;let f=l.shift();return f in u&&Xt(u[f],l)&&delete u[f],Xe(u)}function bn(u){return u.charAt(0).toUpperCase()+u.substr(1)}function Tn(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum",f=e.splitAccessPath(u),g=[];for(let _=1;_<=f.length;_++){let D=`[${f.slice(0,_).map(e.stringValue).join("][")}]`;g.push(`${l}${D}`)}return g.join(" && ")}function Dn(u){return`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum"}[${e.stringValue(e.splitAccessPath(u).join("."))}]`}function Ut(u){return u.replace(/(\[|\]|\.|'|")/g,"\\$1")}function pn(u){return`${e.splitAccessPath(u).map(Ut).join("\\.")}`}function qn(u,l,f){return u.replace(new RegExp(l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),f)}function sr(u){return`${e.splitAccessPath(u).join(".")}`}function In(u){return u?e.splitAccessPath(u).length:0}function Ne(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];for(let g of l)if(g!==void 0)return g}let $e=42;function De(u){let l=++$e;return u?String(u)+l:l}function qt(){$e=42}function yt(u){return mt(u)?u:`__${u}`}function mt(u){return u.startsWith("__")}function nn(u){if(u!==void 0)return(u%360+360)%360}function Wt(u){return e.isNumber(u)?!0:!isNaN(u)&&!isNaN(parseFloat(u))}let Fn="row",Qn="column",Zn="facet",Pn="x",or="y",Ye="x2",gt="y2",se="xOffset",Pe="yOffset",et="radius",At="radius2",fn="theta",on="theta2",ct="latitude",re="longitude",Te="latitude2",je="longitude2",ht="color",vt="fill",Ft="stroke",ne="shape",Se="size",Ve="angle",nt="opacity",Bt="fillOpacity",rn="strokeOpacity",Sn="strokeWidth",vn="strokeDash",xn="text",zn="order",Oe="detail",qe="key",Ct="tooltip",O="href",H="url",ve="description",pe={x:1,y:1,x2:1,y2:1},K={theta:1,theta2:1,radius:1,radius2:1};function oe(u){return u in K}let le={longitude:1,longitude2:1,latitude:1,latitude2:1};function We(u){switch(u){case ct:return"y";case Te:return"y2";case re:return"x";case je:return"x2"}}function Rt(u){return u in le}let bt=de(le),ln={...pe,...K,...le,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function S(u){return u===ht||u===vt||u===Ft}let B={row:1,column:1,facet:1},ee=de(B),_e={...ln,...B},ft=de(_e),{order:St,detail:Jt,tooltip:Kt,...hn}=_e,{row:Bn,column:jn,facet:Vn,...Jr}=hn;function Vr(u){return!!Jr[u]}function yr(u){return!!_e[u]}let Mr=[Ye,gt,Te,je,on,At];function xi(u){return ai(u)!==u}function ai(u){switch(u){case Ye:return Pn;case gt:return or;case Te:return ct;case je:return re;case on:return fn;case At:return et}return u}function Ji(u){if(oe(u))switch(u){case fn:return"startAngle";case on:return"endAngle";case et:return"outerRadius";case At:return"innerRadius"}return u}function Es(u){switch(u){case Pn:return Ye;case or:return gt;case ct:return Te;case re:return je;case fn:return on;case et:return At}}function es(u){switch(u){case Pn:case Ye:return"width";case or:case gt:return"height"}}function Ea(u){switch(u){case Pn:return"xOffset";case or:return"yOffset";case Ye:return"x2Offset";case gt:return"y2Offset";case fn:return"thetaOffset";case et:return"radiusOffset";case on:return"theta2Offset";case At:return"radius2Offset"}}function da(u){switch(u){case Pn:return"xOffset";case or:return"yOffset"}}function fl(u){switch(u){case"xOffset":return"x";case"yOffset":return"y"}}let wc=de(ln),{x:au,y:uu,x2:Gu,y2:wu,xOffset:Ac,yOffset:Zo,latitude:Yu,longitude:Gc,latitude2:Qe,longitude2:Gt,theta:Mn,theta2:Yn,radius:ri,radius2:Br,...Xr}=ln,Cs=de(Xr),lo={x:1,y:1},no=de(lo);function as(u){return u in lo}let ro={theta:1,radius:1},co=de(ro);function hi(u){return u==="width"?Pn:or}let Ei={xOffset:1,yOffset:1};function Vi(u){return u in Ei}let{text:Ko,tooltip:la,href:ca,url:fo,description:us,detail:hs,key:Xi,order:lu,...Is}=Xr,ha=de(Is);function ia(u){return!!Xr[u]}function Ni(u){switch(u){case ht:case vt:case Ft:case Se:case ne:case nt:case Sn:case vn:return!0;case Bt:case rn:case Ve:return!1}}let Ho={...lo,...ro,...Ei,...Is},ys=de(Ho);function Ii(u){return!!Ho[u]}function Do(u,l){return Ao(u)[l]}let Oa={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Ga,...Oo}=Oa;function Ao(u){switch(u){case ht:case vt:case Ft:case ve:case Oe:case qe:case Ct:case O:case zn:case nt:case Bt:case rn:case Sn:case Zn:case Fn:case Qn:return Oa;case Pn:case or:case se:case Pe:case ct:case re:return Oo;case Ye:case gt:case Te:case je:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Se:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case vn:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ne:return{point:"always",geoshape:"always"};case xn:return{text:"always"};case Ve:return{point:"always",square:"always",text:"always"};case H:return{image:"always"};case fn:return{text:"always",arc:"always"};case et:return{text:"always",arc:"always"};case on:case At:return{arc:"always"}}}function ja(u){switch(u){case Pn:case or:case fn:case et:case se:case Pe:case Se:case Ve:case Sn:case nt:case Bt:case rn:case Ye:case gt:case on:case At:return;case Zn:case Fn:case Qn:case ne:case vn:case xn:case Ct:case O:case H:case ve:return"discrete";case ht:case vt:case Ft:return"flexible";case ct:case re:case Te:case je:case Oe:case qe:case zn:return}}let cu={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},qa={count:1,min:1,max:1};function sa(u){return!!u&&!!u.argmin}function oa(u){return!!u&&!!u.argmax}function dl(u){return e.isString(u)&&!!cu[u]}let Pl=new Set(["count","valid","missing","distinct"]);function ea(u){return e.isString(u)&&Pl.has(u)}function Ku(u){return e.isString(u)&&Et(["min","max"],u)}let ui=new Set(["count","sum","distinct","valid","missing"]),ns=new Set(["mean","average","median","q1","q3","min","max"]);function ls(u){return e.isBoolean(u)&&(u=Ev(u,void 0)),"bin"+de(u).map(l=>pt(u[l])?zt(`_${l}_${Ot(u[l])}`):zt(`_${l}_${u[l]}`)).join("")}function pr(u){return u===!0||Le(u)&&!u.binned}function rs(u){return u==="binned"||Le(u)&&u.binned===!0}function Le(u){return e.isObject(u)}function pt(u){return u==null?void 0:u.param}function Yt(u){switch(u){case Fn:case Qn:case Se:case ht:case vt:case Ft:case Sn:case nt:case Bt:case rn:case ne:return 6;case vn:return 4;default:return 10}}function jt(u){return!!(u!=null&&u.expr)}function dn(u){let l=de(u||{}),f={};for(let g of l)f[g]=pi(u[g]);return f}function Nn(u){let{anchor:l,frame:f,offset:g,orient:_,angle:D,limit:k,color:Q,subtitleColor:ie,subtitleFont:ze,subtitleFontSize:Ke,subtitleFontStyle:Pt,subtitleFontWeight:sn,subtitleLineHeight:Ln,subtitlePadding:Xn,...lr}=u,hr={...lr,...Q?{fill:Q}:{}},kr={...l?{anchor:l}:{},...f?{frame:f}:{},...g?{offset:g}:{},..._?{orient:_}:{},...D!==void 0?{angle:D}:{},...k!==void 0?{limit:k}:{}},Ri={...ie?{subtitleColor:ie}:{},...ze?{subtitleFont:ze}:{},...Ke?{subtitleFontSize:Ke}:{},...Pt?{subtitleFontStyle:Pt}:{},...sn?{subtitleFontWeight:sn}:{},...Ln?{subtitleLineHeight:Ln}:{},...Xn?{subtitlePadding:Xn}:{}},qi=Ae(u,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:hr,subtitleMarkConfig:qi,nonMarkTitleProperties:kr,subtitle:Ri}}function Kn(u){return e.isString(u)||e.isArray(u)&&e.isString(u[0])}function Un(u){return!!(u!=null&&u.signal)}function br(u){return!!u.step}function wr(u){return e.isArray(u)?!1:"fields"in u&&!("data"in u)}function Gn(u){return e.isArray(u)?!1:"fields"in u&&"data"in u}function ar(u){return e.isArray(u)?!1:"field"in u&&"data"in u}let gr=de({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Or={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},di=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function ni(u){let l=e.isArray(u.condition)?u.condition.map(ii):ii(u.condition);return{...pi(u),condition:l}}function pi(u){if(jt(u)){let{expr:l,...f}=u;return{signal:l,...f}}return u}function ii(u){if(jt(u)){let{expr:l,...f}=u;return{signal:l,...f}}return u}function qr(u){if(jt(u)){let{expr:l,...f}=u;return{signal:l,...f}}return Un(u)?u:u!==void 0?{value:u}:void 0}function Ir(u){return Un(u)?u.signal:e.stringValue(u)}function yi(u){return Un(u)?u.signal:e.stringValue(u.value)}function gi(u){return Un(u)?u.signal:u==null?null:e.stringValue(u)}function ss(u,l,f){for(let g of f){let _=Ms(g,l.markDef,l.config);_!==void 0&&(u[g]=qr(_))}return u}function ms(u){return[].concat(u.type,u.style??[])}function vi(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},{vgChannel:_,ignoreVgConfig:D}=g;return _&&l[_]!==void 0?l[_]:l[u]!==void 0?l[u]:D&&(!_||_===u)?void 0:Ms(u,l,f,g)}function Ms(u,l,f){let{vgChannel:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ne(g?is(u,l,f.style):void 0,is(u,l,f.style),g?f[l.type][g]:void 0,f[l.type][u],g?f.mark[g]:f.mark[u])}function is(u,l,f){return pa(u,ms(l),f)}function pa(u,l,f){l=e.array(l);let g;for(let _ of l){let D=f[_];D&&D[u]!==void 0&&(g=D[u])}return g}function No(u,l){return e.array(u).reduce((f,g)=>(f.field.push(fi(g,l)),f.order.push(g.sort??"ascending"),f),{field:[],order:[]})}function ws(u,l){let f=[...u];return l.forEach(g=>{for(let _ of f)if(st(_,g))return;f.push(g)}),f}function tn(u,l){return st(u,l)||!l?u:u?[...e.array(u),...e.array(l)].join(", "):l}function Jn(u,l){let f=u.value,g=l.value;if(f==null||g===null)return{explicit:u.explicit,value:null};if((Kn(f)||Un(f))&&(Kn(g)||Un(g)))return{explicit:u.explicit,value:tn(f,g)};if(Kn(f)||Un(f))return{explicit:u.explicit,value:f};if(Kn(g)||Un(g))return{explicit:u.explicit,value:g};if(!Kn(f)&&!Un(f)&&!Kn(g)&&!Un(g))return{explicit:u.explicit,value:ws(f,g)};throw new Error("It should never reach here")}function yn(u,l,f){return l in u?Object.defineProperty(u,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[l]=f,u}function Yr(u,l){var f=ts(u,l,"get");return ps(u,f)}function Ti(u,l,f){var g=ts(u,l,"set");return zi(u,g,f),f}function ts(u,l,f){if(!l.has(u))throw new TypeError("attempted to "+f+" private field on non-instance");return l.get(u)}function ps(u,l){return l.get?l.get.call(u):l.value}function zi(u,l,f){if(l.set)l.set.call(u,f);else{if(!l.writable)throw new TypeError("attempted to set read only private field");l.value=f}}function cs(u,l){if(l.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fu(u,l,f){cs(u,l),l.set(u,f)}function ue(u){return`Invalid specification ${Je(u)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}let ut='Autosize "fit" only works for single views and layered views.';function Zt(u){return`${u=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function An(u){let l=u=="width"?"Width":"Height",f=u=="width"?"x":"y";return`${l} "container" only works well with autosize "fit" or "fit-${f}".`}function nr(u){return u?`Dropping "fit-${u}" because spec has discrete ${es(u)}.`:'Dropping "fit" because spec has discrete size.'}function vr(u){return`Unknown field for ${u}. Cannot calculate view size.`}function fr(u){return`Cannot project a selection on encoding channel "${u}", which has no field.`}function Zi(u,l){return`Cannot project a selection on encoding channel "${u}" as it uses an aggregate function ("${l}").`}function vs(u){return`The "nearest" transform is not supported for ${u} marks.`}function Ns(u){return`Selection not supported for ${u} yet.`}function io(u){return`Cannot find a selection named "${u}".`}let Ya="Scale bindings are currently only supported for scales with unbinned, continuous domains.",Zl="Legend bindings are only supported for selections over an individual field or encoding channel.";function Yc(u){return`Lookups can only be performed on selection parameters. "${u}" is a variable parameter.`}function Tc(u){return`Cannot define and lookup the "${u}" selection in the same view. Try moving the lookup into a second, layered view?`}let Zf="The same selection must be used to override scale domains in a layered view.",B0='Interval selections should be initialized using "x" and/or "y" keys.';function ec(u){return`Unknown repeated value "${u}".`}function Kc(u){return`The "columns" property cannot be used when "${u}" has nested row/column.`}let e0="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function hl(u){return`Unrecognized parse "${u}".`}function Fc(u,l,f){return`An ancestor parsed field "${u}" as ${f} but a child wants to parse the field as ${l}.`}let t0="Attempt to add the same child twice.";function tc(u){return`Ignoring an invalid transform: ${Je(u)}.`}let Bl='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function j0(u){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${u} are dropped.`}function _h(u){let{parentProjection:l,projection:f}=u;return`Layer's shared projection ${Je(l)} is overridden by a child projection ${Je(f)}.`}let q0="Arc marks uses theta channel rather than angle, replacing angle with theta.";function U0(u){return`${u}Offset dropped because ${u} is continuous`}function Jc(u){return`There is no ${u} encoding. Replacing ${u}Offset encoding as ${u}.`}function $0(u,l,f){return`Channel ${u} is a ${l}. Converted to {value: ${Je(f)}}.`}function Dc(u){return`Invalid field type "${u}".`}function n0(u,l){return`Invalid field type "${u}" for aggregate: "${l}", using "quantitative" instead.`}function r0(u){return`Invalid aggregation operator "${u}".`}function i0(u,l){let{fill:f,stroke:g}=l;return`Dropping color ${u} as the plot also has ${f&&g?"fill and stroke":f?"fill":"stroke"}.`}function qo(u){return`Position range does not support relative band size for ${u}.`}function Jo(u,l){return`Dropping ${Je(u)} from channel "${l}" since it does not contain any data field, datum, value, or signal.`}let s0="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function pl(u,l,f){return`${u} dropped as it is incompatible with "${l}"${f?` when ${f}`:""}.`}function Xc(u){return`${u} encoding has no scale, so specified scale is ignored.`}function Rd(u){return`${u}-encoding is dropped as ${u} is not a valid encoding channel.`}function Au(u){return`${u} encoding should be discrete (ordinal / nominal / binned).`}function yo(u){return`${u} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function bh(u){return`Facet encoding dropped as ${u.join(" and ")} ${u.length>1?"are":"is"} also specified.`}function ml(u,l){return`Using discrete channel "${u}" to encode "${l}" field can be misleading as it does not encode ${l==="ordinal"?"order":"magnitude"}.`}function Ls(u){return`The ${u} for range marks cannot be an expression`}function xl(u,l){return`Line mark is for continuous lines and thus cannot be used with ${u&&l?"x2 and y2":u?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function L(u,l){return`Specified orient "${u}" overridden with "${l}".`}function X(u){return`Cannot use the scale property "${u}" with non-color channel.`}function Be(u){return`Cannot use the relative band size with ${u} scale.`}function Dt(u){return`Using unaggregated domain with raw field has no effect (${Je(u)}).`}function Ht(u){return`Unaggregated domain not applicable for "${u}" since it produces values outside the origin domain of the source data.`}function Cn(u){return`Unaggregated domain is currently unsupported for log scale (${Je(u)}).`}function Rn(u){return`Cannot apply size to non-oriented mark "${u}".`}function rr(u,l,f){return`Channel "${u}" does not work with "${l}" scale. We are using "${f}" scale instead.`}function dr(u,l){return`FieldDef does not work with "${u}" scale. We are using "${l}" scale instead.`}function Nr(u,l,f){return`${f}-scale's "${l}" is dropped as it does not work with ${u} scale.`}function tt(u){return`The step for "${u}" is dropped because the ${u==="width"?"x":"y"} is continuous.`}function Fi(u,l,f,g){return`Conflicting ${l.toString()} property "${u.toString()}" (${Je(f)} and ${Je(g)}). Using ${Je(f)}.`}function Wi(u,l,f,g){return`Conflicting ${l.toString()} property "${u.toString()}" (${Je(f)} and ${Je(g)}). Using the union of the two domains.`}function Li(u){return`Setting the scale to be independent for "${u}" means we also have to set the guide (axis or legend) to be independent.`}function Qr(u){return`Dropping sort property ${Je(u)} as unioned domains only support boolean or op "count", "min", and "max".`}let Qs="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",Uo="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",ma="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",ho="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function Na(u){return`Cannot stack "${u}" if there is already "${u}2".`}function nc(u){return`Cannot stack non-linear scale (${u}).`}function jl(u){return`Stacking is applied even though the aggregate function is non-summative ("${u}").`}function Ra(u,l){return`Invalid ${u}: ${Je(l)}.`}function rc(u){return`Dropping day from datetime ${Je(u)} as day cannot be combined with other units.`}function xa(u,l){return`${l?"extent ":""}${l&&u?"and ":""}${u?"center ":""}${l&&u?"are ":"is "}not needed when data are aggregated.`}function Zc(u,l,f){return`${u} is not usually used with ${l} for ${f}.`}function ef(u,l){return`Continuous axis should not have customized aggregation function ${u}; ${l} already agregates the axis.`}function Ju(u){return`1D error band does not support ${u}.`}function ic(u){return`Channel ${u} is required for "binned" bin.`}function F1(u){return`Channel ${u} should not be used with "binned" bin.`}function Oc(u){return`Domain for ${u} is required for threshold scale.`}let B2=e.logger(e.Warn),ql=B2;function Cf(u){return ql=u,ql}function Nc(){return ql=B2,ql}function jr(){ql.warn(...arguments)}function z0(){ql.debug(...arguments)}function H0(u){if(u&&e.isObject(u)){for(let l of nf)if(l in u)return!0}return!1}let $r=["january","february","march","april","may","june","july","august","september","october","november","december"],gl=$r.map(u=>u.substr(0,3)),D1=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],tp=D1.map(u=>u.substr(0,3));function vo(u){if(Wt(u)&&(u=+u),e.isNumber(u))return u>4&&jr(Ra("quarter",u)),u-1;throw new Error(Ra("quarter",u))}function V0(u){if(Wt(u)&&(u=+u),e.isNumber(u))return u-1;{let l=u.toLowerCase(),f=$r.indexOf(l);if(f!==-1)return f;let g=l.substr(0,3),_=gl.indexOf(g);if(_!==-1)return _;throw new Error(Ra("month",u))}}function Ld(u){if(Wt(u)&&(u=+u),e.isNumber(u))return u%7;{let l=u.toLowerCase(),f=D1.indexOf(l);if(f!==-1)return f;let g=l.substr(0,3),_=tp.indexOf(g);if(_!==-1)return _;throw new Error(Ra("day",u))}}function W0(u,l){let f=[];if(l&&u.day!==void 0&&de(u).length>1&&(jr(rc(u)),u=be(u),delete u.day),u.year!==void 0?f.push(u.year):f.push(2012),u.month!==void 0){let g=l?V0(u.month):u.month;f.push(g)}else if(u.quarter!==void 0){let g=l?vo(u.quarter):u.quarter;f.push(e.isNumber(g)?g*3:`${g}*3`)}else f.push(0);if(u.date!==void 0)f.push(u.date);else if(u.day!==void 0){let g=l?Ld(u.day):u.day;f.push(e.isNumber(g)?g+1:`${g}+1`)}else f.push(1);for(let g of["hours","minutes","seconds","milliseconds"]){let _=u[g];f.push(typeof _=="undefined"?0:_)}return f}function tf(u){let f=W0(u,!0).join(", ");return u.utc?`utc(${f})`:`datetime(${f})`}function Rx(u){let f=W0(u,!1).join(", ");return u.utc?`utc(${f})`:`datetime(${f})`}function Lx(u){let l=W0(u,!0);return u.utc?+new Date(Date.UTC(...l)):+new Date(...l)}let Eh={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},nf=de(Eh);function Xu(u){return!!Eh[u]}function kd(u){return u.startsWith("utc")}function np(u){return u.substr(3)}let O1={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function Zu(u){return nf.filter(l=>Q0(u,l))}function Q0(u,l){let f=u.indexOf(l);return!(f<0||f>0&&l==="seconds"&&u.charAt(f-1)==="i"||u.length>f+3&&l==="day"&&u.charAt(f+3)==="o"||f>0&&l==="year"&&u.charAt(f-1)==="f")}function wf(u,l){let{end:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{end:!1},g=Tn(l),_=kd(u)?"utc":"";function D(ie){return ie==="quarter"?`(${_}quarter(${g})-1)`:`${_}${ie}(${g})`}let k,Q={};for(let ie of nf)Q0(u,ie)&&(Q[ie]=D(ie),k=ie);return f&&(Q[k]+="+1"),Rx(Q)}function yl(u){if(!u)return;let l=Zu(u);return`timeUnitSpecifier(${Je(l)}, ${Je(O1)})`}function rp(u,l,f){if(!u)return;let g=yl(u);return`${f||kd(u)?"utc":"time"}Format(${l}, ${g})`}function du(u){if(!u)return;let l;return e.isString(u)?l={unit:u}:e.isObject(u)&&(l={...u,...u.unit?{unit:u.unit}:{}}),kd(l.unit)&&(l.utc=!0,l.unit=np(l.unit)),l}function N1(u){let{utc:l,...f}=du(u);return f.unit?(l?"utc":"")+de(f).map(g=>zt(`${g==="unit"?"":`_${g}_`}${f[g]}`)).join(""):(l?"utc":"")+"timeunit"+de(f).map(g=>zt(`_${g}_${f[g]}`)).join("")}function el(u){return u==null?void 0:u.param}function Rc(u){return!!(u!=null&&u.field)&&u.equal!==void 0}function Sh(u){return!!(u!=null&&u.field)&&u.lt!==void 0}function Id(u){return!!(u!=null&&u.field)&&u.lte!==void 0}function rf(u){return!!(u!=null&&u.field)&&u.gt!==void 0}function Ch(u){return!!(u!=null&&u.field)&&u.gte!==void 0}function ip(u){if(u!=null&&u.field){if(e.isArray(u.range)&&u.range.length===2)return!0;if(Un(u.range))return!0}return!1}function Ua(u){return!!(u!=null&&u.field)&&(e.isArray(u.oneOf)||e.isArray(u.in))}function wh(u){return!!(u!=null&&u.field)&&u.valid!==void 0}function G0(u){return Ua(u)||Rc(u)||ip(u)||Sh(u)||rf(u)||Id(u)||Ch(u)}function La(u,l){return zb(u,{timeUnit:l,wrapTime:!0})}function Ah(u,l){return u.map(f=>La(f,l))}function Tu(u){var l;let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,{field:g}=u,_=(l=du(u.timeUnit))===null||l===void 0?void 0:l.unit,D=_?`time(${wf(_,g)})`:fi(u,{expr:"datum"});if(Rc(u))return`${D}===${La(u.equal,_)}`;if(Sh(u)){let k=u.lt;return`${D}<${La(k,_)}`}else if(rf(u)){let k=u.gt;return`${D}>${La(k,_)}`}else if(Id(u)){let k=u.lte;return`${D}<=${La(k,_)}`}else if(Ch(u)){let k=u.gte;return`${D}>=${La(k,_)}`}else{if(Ua(u))return`indexof([${Ah(u.oneOf,_).join(",")}], ${D}) !== -1`;if(wh(u))return Ka(D,u.valid);if(ip(u)){let{range:k}=u,Q=Un(k)?{signal:`${k.signal}[0]`}:k[0],ie=Un(k)?{signal:`${k.signal}[1]`}:k[1];if(Q!==null&&ie!==null&&f)return"inrange("+D+", ["+La(Q,_)+", "+La(ie,_)+"])";let ze=[];return Q!==null&&ze.push(`${D} >= ${La(Q,_)}`),ie!==null&&ze.push(`${D} <= ${La(ie,_)}`),ze.length>0?ze.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Je(u)}`)}function Ka(u){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?`isValid(${u}) && isFinite(+${u})`:`!isValid(${u}) || !isFinite(+${u})`}function Th(u){if(G0(u)&&u.timeUnit){var l;return{...u,timeUnit:(l=du(u.timeUnit))===null||l===void 0?void 0:l.unit}}return u}let ga={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Fh(u){return u==="quantitative"||u==="temporal"}function sp(u){return u==="ordinal"||u==="nominal"}let o0=ga.quantitative,Y0=ga.ordinal,sf=ga.temporal,Ul=ga.nominal,Fu=ga.geojson;function op(u){if(u)switch(u=u.toLowerCase(),u){case"q":case o0:return"quantitative";case"t":case sf:return"temporal";case"o":case Y0:return"ordinal";case"n":case Ul:return"nominal";case Fu:return"geojson"}}let tl={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Dh={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function Md(u,l){let f=Dh[u],g=Dh[l];return f===g||f==="ordinal-position"&&g==="time"||g==="ordinal-position"&&f==="time"}let j2={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function ap(u){return j2[u]}let Af=new Set(["linear","log","pow","sqrt","symlog"]),K0=new Set([...Af,"time","utc"]);function Ks(u){return Af.has(u)}let A=new Set(["quantile","quantize","threshold"]),W=new Set([...K0,...A,"sequential","identity"]),ce=new Set(["ordinal","bin-ordinal","point","band"]);function Me(u){return ce.has(u)}function _t(u){return W.has(u)}function wn(u){return K0.has(u)}function ur(u){return A.has(u)}let Ui={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function Pi(u){return!e.isString(u)&&!!u.name}function so(u){return u==null?void 0:u.param}function hu(u){return u==null?void 0:u.unionWith}function Lc(u){return e.isObject(u)&&"field"in u}let Tf={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Bb,domain:Ny,range:gv,rangeMax:Ry,rangeMin:J0,scheme:Du,...yv}=Tf,Oh=de(yv);function As(u,l){switch(l){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(u);case"bins":return!["point","band","identity","ordinal"].includes(u);case"round":return wn(u)||u==="band"||u==="point";case"padding":case"rangeMin":case"rangeMax":return wn(u)||["point","band"].includes(u);case"paddingOuter":case"align":return["point","band"].includes(u);case"paddingInner":return u==="band";case"domainMax":case"domainMid":case"domainMin":case"clamp":return wn(u);case"nice":return wn(u)||u==="quantize"||u==="threshold";case"exponent":return u==="pow";case"base":return u==="log";case"constant":return u==="symlog";case"zero":return _t(u)&&!Et(["log","time","utc","threshold","quantile"],u)}}function a0(u,l){switch(l){case"interpolate":case"scheme":case"domainMid":return S(u)?void 0:X(l);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function vl(u,l){return Et([Y0,Ul],l)?u===void 0||Me(u):l===sf?Et([tl.TIME,tl.UTC,void 0],u):l===o0?Ks(u)||ur(u)||u===void 0:!0}function up(u,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!Ii(u))return!1;switch(u){case Pn:case or:case se:case Pe:case fn:case et:return wn(l)||l==="band"?!0:l==="point"?!f:!1;case Se:case Sn:case nt:case Bt:case rn:case Ve:return wn(l)||ur(l)||Et(["band","point","ordinal"],l);case ht:case vt:case Ft:return l!=="band";case vn:case ne:return l==="ordinal"||ur(l)}}let Ou={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},R1=Ou.arc,L1=Ou.area,_l=Ou.bar,Ly=Ou.image,Pd=Ou.line,Nh=Ou.point,ky=Ou.rect,Ff=Ou.rule,bl=Ou.text,Df=Ou.tick,k1=Ou.trail,lp=Ou.circle,Bd=Ou.square,I1=Ou.geoshape;function of(u){return["line","area","trail"].includes(u)}function kx(u){return["rect","bar","image","arc"].includes(u)}let Ix=new Set(de(Ou));function sc(u){return u.type}let u0=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],vv=["fill","fillOpacity"],X0=[...u0,...vv],F=de({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),z={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},Y={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},xt=de({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function x(u){return u&&u.band!=null}let T={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},q=5,J={binSpacing:1,continuousBandSize:q,timeUnitBandPosition:.5},ge={binSpacing:0,continuousBandSize:q,timeUnitBandPosition:.5},Fe={thickness:1};function it(u){return sc(u)?u.type:u}function $t(u){let{channel:l,channelDef:f,markDef:g,scale:_,config:D}=u,k=Kr(u);return Er(f)&&!ea(f.aggregate)&&_&&wn(_.get("type"))?En({fieldDef:f,channel:l,markDef:g,ref:k,config:D}):k}function En(u){let{fieldDef:l,channel:f,markDef:g,ref:_,config:D}=u;return of(g.type)?_:vi("invalid",g,D)===null?[_n(l,f),_]:_}function _n(u,l){let f=kn(u,!0),_=ai(l)==="y"?{field:{group:"height"}}:{value:0};return{test:f,..._}}function kn(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ka(e.isString(u)?u:fi(u,{expr:"datum"}),!l)}function Hn(u){let{datum:l}=u;return H0(l)?tf(l):`${Je(l)}`}function ir(u,l,f,g){let _={};if(l&&(_.scale=l),bo(u)){let{datum:D}=u;H0(D)?_.signal=tf(D):Un(D)?_.signal=D.signal:jt(D)?_.signal=D.expr:_.value=D}else _.field=fi(u,f);if(g){let{offset:D,band:k}=g;D&&(_.offset=D),k&&(_.band=k)}return _}function Dr(u){let{scaleName:l,fieldOrDatumDef:f,fieldOrDatumDef2:g,offset:_,startSuffix:D,bandPosition:k=.5}=u,Q=0<k&&k<1?"datum":void 0,ie=fi(f,{expr:Q,suffix:D}),ze=g!==void 0?fi(g,{expr:Q}):fi(f,{suffix:"end",expr:Q}),Ke={};if(k===0||k===1){Ke.scale=l;let Pt=k===0?ie:ze;Ke.field=Pt}else{let Pt=Un(k)?`${k.signal} * ${ie} + (1-${k.signal}) * ${ze}`:`${k} * ${ie} + ${1-k} * ${ze}`;Ke.signal=`scale("${l}", ${Pt})`}return _&&(Ke.offset=_),Ke}function Kr(u){let{channel:l,channelDef:f,channel2Def:g,markDef:_,config:D,scaleName:k,scale:Q,stack:ie,offset:ze,defaultRef:Ke,bandPosition:Pt}=u;if(f){if(Rs(f)){let sn=Q==null?void 0:Q.get("type");if(Ud(f)){Pt??=Px({fieldDef:f,fieldDef2:g,markDef:_,config:D});let{bin:Ln,timeUnit:Xn,type:lr}=f;if(pr(Ln)||Pt&&Xn&&lr===sf)return ie!=null&&ie.impute?ir(f,k,{binSuffix:"mid"},{offset:ze}):Pt&&!Me(sn)?Dr({scaleName:k,fieldOrDatumDef:f,bandPosition:Pt,offset:ze}):ir(f,k,Sv(f,l)?{binSuffix:"range"}:{},{offset:ze});if(rs(Ln)){if(Er(g))return Dr({scaleName:k,fieldOrDatumDef:f,fieldOrDatumDef2:g,bandPosition:Pt,offset:ze});jr(ic(l===Pn?Ye:gt))}}return ir(f,k,Me(sn)?{binSuffix:"range"}:{},{offset:ze,band:sn==="band"?Pt??f.bandPosition??.5:void 0})}else if($d(f)){let sn=f.value,Ln=ze?{offset:ze}:{};return{...Lr(l,sn),...Ln}}}return e.isFunction(Ke)&&(Ke=Ke()),Ke&&{...Ke,...ze?{offset:ze}:{}}}function Lr(u,l){return Et(["x","x2"],u)&&l==="width"?{field:{group:"width"}}:Et(["y","y2"],u)&&l==="height"?{field:{group:"height"}}:qr(l)}function bi(u){return u&&u!=="number"&&u!=="time"}function ki(u,l,f){return`${u}(${l}${f?`, ${Je(f)}`:""})`}let Fs=" \u2013 ";function fs(u){let{fieldOrDatumDef:l,format:f,formatType:g,expr:_,normalizeStack:D,config:k}=u;if(bi(g))return xs({fieldOrDatumDef:l,format:f,formatType:g,expr:_,config:k});let Q=Js(l,_,D),ie=rl(l);if(f===void 0&&g===void 0&&k.customFormatTypes){if(ie==="quantitative"){if(D&&k.normalizedNumberFormatType)return xs({fieldOrDatumDef:l,format:k.normalizedNumberFormat,formatType:k.normalizedNumberFormatType,expr:_,config:k});if(k.numberFormatType)return xs({fieldOrDatumDef:l,format:k.numberFormat,formatType:k.numberFormatType,expr:_,config:k})}if(ie==="temporal"&&k.timeFormatType&&Er(l)&&l.timeUnit===void 0)return xs({fieldOrDatumDef:l,format:k.timeFormat,formatType:k.timeFormatType,expr:_,config:k})}if(Uy(l)){var ze,Ke;let Pt=$a({field:Q,timeUnit:Er(l)?(ze=du(l.timeUnit))===null||ze===void 0?void 0:ze.unit:void 0,format:f,formatType:k.timeFormatType,rawTimeFormat:k.timeFormat,isUTCScale:Bx(l)&&((Ke=l.scale)===null||Ke===void 0?void 0:Ke.type)===tl.UTC});return Pt?{signal:Pt}:void 0}if(f=ka({type:ie,specifiedFormat:f,config:k,normalizeStack:D}),Er(l)&&pr(l.bin)){let Pt=fi(l,{expr:_,binSuffix:"end"});return{signal:Sa(Q,Pt,f,g,k)}}else return f||rl(l)==="quantitative"?{signal:`${Nu(Q,f)}`}:{signal:`isValid(${Q}) ? ${Q} : ""+${Q}`}}function Js(u,l,f){return Er(u)?f?`${fi(u,{expr:l,suffix:"end"})}-${fi(u,{expr:l,suffix:"start"})}`:fi(u,{expr:l}):Hn(u)}function xs(u){let{fieldOrDatumDef:l,format:f,formatType:g,expr:_,normalizeStack:D,config:k,field:Q}=u;if(Q??=Js(l,_,D),Q!=="datum.value"&&Er(l)&&pr(l.bin)){let ie=fi(l,{expr:_,binSuffix:"end"});return{signal:Sa(Q,ie,f,g,k)}}return{signal:ki(g,Q,f)}}function Gr(u,l,f,g,_,D){if(!bi(g)&&!(f===void 0&&g===void 0&&_.customFormatTypes&&rl(u)==="quantitative"&&(_.normalizedNumberFormatType&&Py(u)&&u.stack==="normalize"||_.numberFormatType))){if(Py(u)&&u.stack==="normalize"&&_.normalizedNumberFormat)return ka({type:"quantitative",config:_,normalizeStack:!0});if(Uy(u)){var k;let Q=Er(u)?(k=du(u.timeUnit))===null||k===void 0?void 0:k.unit:void 0;return Q===void 0&&_.customFormatTypes&&_.timeFormatType?void 0:Ja({specifiedFormat:f,timeUnit:Q,config:_,omitTimeFormatConfig:D})}return ka({type:l,specifiedFormat:f,config:_})}}function Yi(u,l,f){if(u&&(Un(u)||u==="number"||u==="time"))return u;if(Uy(l)&&f!=="time"&&f!=="utc"){var g;return Er(l)&&(g=du(l==null?void 0:l.timeUnit))!==null&&g!==void 0&&g.utc?"utc":"time"}}function ka(u){let{type:l,specifiedFormat:f,config:g,normalizeStack:_}=u;if(e.isString(f))return f;if(l===o0)return _?g.normalizedNumberFormat:g.numberFormat}function Ja(u){let{specifiedFormat:l,timeUnit:f,config:g,omitTimeFormatConfig:_}=u;return l||(f?{signal:yl(f)}:_?void 0:g.timeFormat)}function Nu(u,l){return`format(${u}, "${l||""}")`}function _s(u,l,f,g){return bi(f)?ki(f,u,l):Nu(u,(e.isString(l)?l:void 0)??g.numberFormat)}function Sa(u,l,f,g,_){if(f===void 0&&g===void 0&&_.customFormatTypes&&_.numberFormatType)return Sa(u,l,_.numberFormat,_.numberFormatType,_);let D=_s(u,f,g,_),k=_s(l,f,g,_);return`${Ka(u,!1)} ? "null" : ${D} + "${Fs}" + ${k}`}function $a(u){let{field:l,timeUnit:f,format:g,formatType:_,rawTimeFormat:D,isUTCScale:k}=u;return!f||g?!f&&_?`${_}(${l}, '${g}')`:(g=e.isString(g)?g:D,`${k?"utc":"time"}Format(${l}, '${g}')`):rp(f,l,k)}let El="min",jd={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function nl(u){return u in jd}function l0(u){return!!(u!=null&&u.encoding)}function ya(u){return u&&(u.op==="count"||!!u.field)}function oc(u){return u&&e.isArray(u)}function qd(u){return"row"in u||"column"in u}function M1(u){return!!u&&"header"in u}function cp(u){return"facet"in u}function c0(u){return u.param}function q2(u){return u&&!e.isString(u)&&"repeat"in u}function Iy(u){let{field:l,timeUnit:f,bin:g,aggregate:_}=u;return{...f?{timeUnit:f}:{},...g?{bin:g}:{},..._?{aggregate:_}:{},field:l}}function Mx(u){return"sort"in u}function Px(u){let{fieldDef:l,fieldDef2:f,markDef:g,config:_}=u;if(Rs(l)&&l.bandPosition!==void 0)return l.bandPosition;if(Er(l)){let{timeUnit:D,bin:k}=l;if(D&&!f)return kx(g.type)?0:Ms("timeUnitBandPosition",g,_);if(pr(k))return .5}}function P1(u){let{channel:l,fieldDef:f,fieldDef2:g,markDef:_,config:D,scaleType:k,useVlSizeChannel:Q}=u,ie=es(l),ze=vi(Q?"size":ie,_,D,{vgChannel:ie});if(ze!==void 0)return ze;if(Er(f)){let{timeUnit:Ln,bin:Xn}=f;if(Ln&&!g)return{band:Ms("timeUnitBandSize",_,D)};if(pr(Xn)&&!Me(k))return{band:1}}if(kx(_.type)){var Ke;if(k)if(Me(k)){var Pt;return((Pt=D[_.type])===null||Pt===void 0?void 0:Pt.discreteBandSize)||{band:1}}else{var sn;return(sn=D[_.type])===null||sn===void 0?void 0:sn.continuousBandSize}return(Ke=D[_.type])===null||Ke===void 0?void 0:Ke.discreteBandSize}}function Fr(u,l,f,g){return pr(u.bin)||u.timeUnit&&Ud(u)&&u.type==="temporal"?Px({fieldDef:u,fieldDef2:l,markDef:f,config:g})!==void 0:!1}function Ps(u){return u&&"condition"in u}function _o(u){let l=u==null?void 0:u.condition;return!!l&&!e.isArray(l)&&Er(l)}function Ur(u){let l=u==null?void 0:u.condition;return!!l&&!e.isArray(l)&&Rs(l)}function af(u){let l=u==null?void 0:u.condition;return!!l&&(e.isArray(l)||$d(l))}function Er(u){return u&&(!!u.field||u.aggregate==="count")}function rl(u){return u==null?void 0:u.type}function bo(u){return u&&"datum"in u}function ac(u){return Ud(u)&&!By(u)||My(u)}function My(u){return bo(u)&&e.isNumber(u.datum)}function Rs(u){return Er(u)||bo(u)}function Ud(u){return u&&("field"in u||u.aggregate==="count")&&"type"in u}function $d(u){return u&&"value"in u&&"value"in u}function Bx(u){return u&&("scale"in u||"sort"in u)}function Py(u){return u&&("axis"in u||"stack"in u||"impute"in u)}function SN(u){return u&&"legend"in u}function fp(u){return u&&("format"in u||"formatType"in u)}function Of(u){return xe(u,["legend","axis","header","scale"])}function L9(u){return"op"in u}function fi(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=u.field,g=l.prefix,_=l.suffix,D="";if(hV(u))f=yt("count");else{let k;if(!l.nofn)if(L9(u))k=u.op;else{let{bin:Q,aggregate:ie,timeUnit:ze}=u;pr(Q)?(k=ls(Q),_=(l.binSuffix??"")+(l.suffix??"")):ie?oa(ie)?(D=`["${f}"]`,f=`argmax_${ie.argmax}`):sa(ie)?(D=`["${f}"]`,f=`argmin_${ie.argmin}`):k=String(ie):ze&&(k=N1(ze),_=(!["range","mid"].includes(l.binSuffix)&&l.binSuffix||"")+(l.suffix??""))}k&&(f=f?`${k}_${f}`:k)}return _&&(f=`${f}_${_}`),g&&(f=`${g}_${f}`),l.forAs?sr(f):l.expr?Dn(f,l.expr)+D:pn(f)+D}function By(u){switch(u.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Er(u)&&!!u.bin;case"temporal":return!1}throw new Error(Dc(u.type))}function dV(u){var l;return Bx(u)&&ur((l=u.scale)===null||l===void 0?void 0:l.type)}function hV(u){return u.aggregate==="count"}function _v(u,l){let{field:f,bin:g,timeUnit:_,aggregate:D}=u;if(D==="count")return l.countTitle;if(pr(g))return`${f} (binned)`;if(_){var k;let Q=(k=du(_))===null||k===void 0?void 0:k.unit;if(Q)return`${f} (${Zu(Q).join("-")})`}else if(D)return oa(D)?`${f} for max ${D.argmax}`:sa(D)?`${f} for min ${D.argmin}`:`${bn(D)} of ${f}`;return f}function CN(u){let{aggregate:l,bin:f,timeUnit:g,field:_}=u;if(oa(l))return`${_} for argmax(${l.argmax})`;if(sa(l))return`${_} for argmin(${l.argmin})`;let D=du(g),k=l||(D==null?void 0:D.unit)||(D==null?void 0:D.maxbins)&&"timeunit"||pr(f)&&"bin";return k?`${k.toUpperCase()}(${_})`:_}let k9=(u,l)=>{switch(l.fieldTitle){case"plain":return u.field;case"functional":return CN(u);default:return _v(u,l)}},wN=k9;function AN(u){wN=u}function pV(){AN(k9)}function jy(u,l,f){var g;let{allowDisabling:_,includeDefault:D=!0}=f,k=(g=jb(u))===null||g===void 0?void 0:g.title;if(!Er(u))return k??u.title;let Q=u,ie=D?qb(Q,l):void 0;return _?Ne(k,Q.title,ie):k??Q.title??ie}function jb(u){if(Py(u)&&u.axis)return u.axis;if(SN(u)&&u.legend)return u.legend;if(M1(u)&&u.header)return u.header}function qb(u,l){return wN(u,l)}function Ub(u){if(fp(u)){let{format:l,formatType:f}=u;return{format:l,formatType:f}}else{let l=jb(u)??{},{format:f,formatType:g}=l;return{format:f,formatType:g}}}function I9(u,l){var f;switch(l){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Mx(u)&&e.isArray(u.sort))return"ordinal";let{aggregate:g,bin:_,timeUnit:D}=u;if(D)return"temporal";if(_||g&&!oa(g)&&!sa(g))return"quantitative";if(Bx(u)&&(f=u.scale)!==null&&f!==void 0&&f.type)switch(Dh[u.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Rh(u){if(Er(u))return u;if(_o(u))return u.condition}function pu(u){if(Rs(u))return u;if(Ur(u))return u.condition}function $b(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e.isString(u)||e.isNumber(u)||e.isBoolean(u)){let _=e.isString(u)?"string":e.isNumber(u)?"number":"boolean";return jr($0(l,_,u)),{value:u}}return Rs(u)?bv(u,l,f,g):Ur(u)?{...u,condition:bv(u.condition,l,f,g)}:u}function bv(u,l,f,g){if(fp(u)){let{format:_,formatType:D,...k}=u;if(bi(D)&&!f.customFormatTypes)return jr(j0(l)),bv(k,l,f,g)}else{let _=Py(u)?"axis":SN(u)?"legend":M1(u)?"header":null;if(_&&u[_]){let{format:D,formatType:k,...Q}=u[_];if(bi(k)&&!f.customFormatTypes)return jr(j0(l)),bv({...u,[_]:Q},l,f,g)}}return Er(u)?qy(u,l,g):TN(u)}function TN(u){let l=u.type;if(l)return u;let{datum:f}=u;return l=e.isNumber(f)?"quantitative":e.isString(f)?"nominal":H0(f)?"temporal":void 0,{...u,type:l}}function qy(u,l){let{compositeMark:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{aggregate:g,timeUnit:_,bin:D,field:k}=u,Q={...u};if(!f&&g&&!dl(g)&&!oa(g)&&!sa(g)&&(jr(r0(g)),delete Q.aggregate),_&&(Q.timeUnit=du(_)),k&&(Q.field=`${k}`),pr(D)&&(Q.bin=Ev(D,l)),rs(D)&&!as(l)&&jr(F1(l)),Ud(Q)){let{type:ie}=Q,ze=op(ie);ie!==ze&&(Q.type=ze),ie!=="quantitative"&&ea(g)&&(jr(n0(ie,g)),Q.type="quantitative")}else if(!xi(l)){let ie=I9(Q,l);Q.type=ie}if(Ud(Q)){let{compatible:ie,warning:ze}=jx(Q,l)||{};ie===!1&&jr(ze)}if(Mx(Q)&&e.isString(Q.sort)){let{sort:ie}=Q;if(nl(ie))return{...Q,sort:{encoding:ie}};let ze=ie.substr(1);if(ie.charAt(0)==="-"&&nl(ze))return{...Q,sort:{encoding:ze,order:"descending"}}}if(M1(Q)){let{header:ie}=Q;if(ie){let{orient:ze,...Ke}=ie;if(ze)return{...Q,header:{...Ke,labelOrient:ie.labelOrient||ze,titleOrient:ie.titleOrient||ze}}}}return Q}function Ev(u,l){return e.isBoolean(u)?{maxbins:Yt(l)}:u==="binned"?{binned:!0}:!u.maxbins&&!u.step?{...u,maxbins:Yt(l)}:u}let Nf={compatible:!0};function jx(u,l){let f=u.type;if(f==="geojson"&&l!=="shape")return{compatible:!1,warning:`Channel ${l} should not be used with a geojson data.`};switch(l){case Fn:case Qn:case Zn:return By(u)?Nf:{compatible:!1,warning:Au(l)};case Pn:case or:case se:case Pe:case ht:case vt:case Ft:case xn:case Oe:case qe:case Ct:case O:case H:case Ve:case fn:case et:case ve:return Nf;case re:case je:case ct:case Te:return f!==o0?{compatible:!1,warning:`Channel ${l} should be used with a quantitative field only, not ${u.type} field.`}:Nf;case nt:case Bt:case rn:case Sn:case Se:case on:case At:case Ye:case gt:return f==="nominal"&&!u.sort?{compatible:!1,warning:`Channel ${l} should not be used with an unsorted discrete field.`}:Nf;case ne:case vn:return!By(u)&&!dV(u)?{compatible:!1,warning:yo(l)}:Nf;case zn:return u.type==="nominal"&&!("sort"in u)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Nf}}function Uy(u){let{formatType:l}=Ub(u);return l==="time"||!l&&FN(u)}function FN(u){return u&&(u.type==="temporal"||Er(u)&&!!u.timeUnit)}function zb(u,l){var f;let{timeUnit:g,type:_,wrapTime:D,undefinedIfExprNotRequired:k}=l,Q=g&&((f=du(g))===null||f===void 0?void 0:f.unit),ie=Q||_==="temporal",ze;return jt(u)?ze=u.expr:Un(u)?ze=u.signal:H0(u)?(ie=!0,ze=tf(u)):(e.isString(u)||e.isNumber(u))&&ie&&(ze=`datetime(${Je(u)})`,Xu(Q)&&(e.isNumber(u)&&u<1e4||e.isString(u)&&isNaN(Date.parse(u)))&&(ze=tf({[Q]:u}))),ze?D&&ie?`time(${ze})`:ze:k?void 0:Je(u)}function DN(u,l){let{type:f}=u;return l.map(g=>{let _=zb(g,{timeUnit:Er(u)?u.timeUnit:void 0,type:f,undefinedIfExprNotRequired:!0});return _!==void 0?{signal:_}:g})}function Sv(u,l){return pr(u.bin)?Ii(l)&&["ordinal","nominal"].includes(u.type):(console.warn("Only call this method for binned field defs."),!1)}let ON={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Cv(u){return u==null?void 0:u.condition}let NN=["domain","grid","labels","ticks","title"],mV={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},RN={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},xV={...RN,style:1,labelExpr:1,encoding:1};function LN(u){return!!xV[u]}let M9=de({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function dp(u){return"mark"in u}class wv{constructor(l,f){this.name=l,this.run=f}hasMatchingType(l){return dp(l)?it(l.mark)===this.name:!1}}function qx(u,l){let f=u&&u[l];return f?e.isArray(f)?mn(f,g=>!!g.field):Er(f)||_o(f):!1}function kN(u,l){let f=u&&u[l];return f?e.isArray(f)?mn(f,g=>!!g.field):Er(f)||bo(f)||Ur(f):!1}function P9(u,l){if(as(l)){let f=u[l];if((Er(f)||bo(f))&&sp(f.type)){let g=da(l);return kN(u,g)}}return!1}function Hb(u){return mn(ft,l=>{if(qx(u,l)){let f=u[l];if(e.isArray(f))return mn(f,g=>!!g.aggregate);{let g=Rh(f);return g&&!!g.aggregate}}return!1})}function IN(u,l){let f=[],g=[],_=[],D=[],k={};return B9(u,(Q,ie)=>{if(Er(Q)){let{field:ze,aggregate:Ke,bin:Pt,timeUnit:sn,...Ln}=Q;if(Ke||sn||Pt){let Xn=jb(Q),lr=Xn==null?void 0:Xn.title,hr=fi(Q,{forAs:!0}),kr={...lr?[]:{title:jy(Q,l,{allowDisabling:!0})},...Ln,field:hr};if(Ke){let Ri;if(oa(Ke)?(Ri="argmax",hr=fi({op:"argmax",field:Ke.argmax},{forAs:!0}),kr.field=`${hr}.${ze}`):sa(Ke)?(Ri="argmin",hr=fi({op:"argmin",field:Ke.argmin},{forAs:!0}),kr.field=`${hr}.${ze}`):Ke!=="boxplot"&&Ke!=="errorbar"&&Ke!=="errorband"&&(Ri=Ke),Ri){let qi={op:Ri,as:hr};ze&&(qi.field=ze),D.push(qi)}}else if(f.push(hr),Ud(Q)&&pr(Pt)){if(g.push({bin:Pt,field:ze,as:hr}),f.push(fi(Q,{binSuffix:"end"})),Sv(Q,ie)&&f.push(fi(Q,{binSuffix:"range"})),as(ie)){let Ri={field:`${hr}_end`};k[`${ie}2`]=Ri}kr.bin="binned",xi(ie)||(kr.type=o0)}else if(sn){_.push({timeUnit:sn,field:ze,as:hr});let Ri=Ud(Q)&&Q.type!==sf&&"time";Ri&&(ie===xn||ie===Ct?kr.formatType=Ri:ia(ie)?kr.legend={formatType:Ri,...kr.legend}:as(ie)&&(kr.axis={formatType:Ri,...kr.axis}))}k[ie]=kr}else f.push(ze),k[ie]=u[ie]}else k[ie]=u[ie]}),{bins:g,timeUnits:_,aggregate:D,groupby:f,encoding:k}}function gV(u,l,f){let g=Do(l,f);if(g){if(g==="binned"){let _=u[l===Ye?Pn:or];return!!(Er(_)&&Er(u[l])&&rs(_.bin))}}else return!1;return!0}function yV(u,l,f,g){let _={};for(let D of de(u))yr(D)||jr(Rd(D));for(let D of wc){if(!u[D])continue;let k=u[D];if(Vi(D)){let Q=fl(D),ie=_[Q];if(Er(ie)){if(Fh(ie.type)&&Er(k)){jr(U0(Q));continue}}else D=Q,jr(Jc(Q))}if(D==="angle"&&l==="arc"&&!u.theta&&(jr(q0),D=fn),!gV(u,D,l)){jr(pl(D,l));continue}if(D===Se&&l==="line"){let Q=Rh(u[D]);if(Q!=null&&Q.aggregate){jr(s0);continue}}if(D===ht&&(f?"fill"in u:"stroke"in u)){jr(i0("encoding",{fill:"fill"in u,stroke:"stroke"in u}));continue}if(D===Oe||D===zn&&!e.isArray(k)&&!$d(k)||D===Ct&&e.isArray(k))k&&(_[D]=e.array(k).reduce((Q,ie)=>(Er(ie)?Q.push(qy(ie,D)):jr(Jo(ie,D)),Q),[]));else{if(D===Ct&&k===null)_[D]=null;else if(!Er(k)&&!bo(k)&&!$d(k)&&!Ps(k)&&!Un(k)){jr(Jo(k,D));continue}_[D]=$b(k,D,g)}}return _}function Vb(u,l){let f={};for(let g of de(u)){let _=$b(u[g],g,l,{compositeMark:!0});f[g]=_}return f}function vV(u){let l=[];for(let f of de(u))if(qx(u,f)){let g=u[f],_=e.array(g);for(let D of _)Er(D)?l.push(D):_o(D)&&l.push(D.condition)}return l}function B9(u,l,f){if(!!u)for(let g of de(u)){let _=u[g];if(e.isArray(_))for(let D of _)l.call(f,D,g);else l.call(f,_,g)}}function zd(u,l,f,g){return u?de(u).reduce((_,D)=>{let k=u[D];return e.isArray(k)?k.reduce((Q,ie)=>l.call(g,Q,ie,D),_):l.call(g,_,k,D)},f):f}function MN(u,l){return de(l).reduce((f,g)=>{switch(g){case Pn:case or:case O:case ve:case H:case Ye:case gt:case se:case Pe:case fn:case on:case et:case At:case ct:case re:case Te:case je:case xn:case ne:case Ve:case Ct:return f;case zn:if(u==="line"||u==="trail")return f;case Oe:case qe:{let _=l[g];if(e.isArray(_)||Er(_))for(let D of e.array(_))D.aggregate||f.push(fi(D,{}));return f}case Se:if(u==="trail")return f;case ht:case vt:case Ft:case nt:case Bt:case rn:case vn:case Sn:{let _=Rh(l[g]);return _&&!_.aggregate&&f.push(fi(_,{})),f}}},[])}function _V(u){let{tooltip:l,...f}=u;if(!l)return{filteredEncoding:f};let g,_;if(e.isArray(l)){for(let D of l)D.aggregate?(g||(g=[]),g.push(D)):(_||(_=[]),_.push(D));g&&(f.tooltip=g)}else l.aggregate?f.tooltip=l:_=l;return e.isArray(_)&&_.length===1&&(_=_[0]),{customTooltipWithoutAggregatedField:_,filteredEncoding:f}}function j9(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if("tooltip"in f)return{tooltip:f.tooltip};let _=u.map(k=>{let{fieldPrefix:Q,titlePrefix:ie}=k,ze=g?` of ${Wb(l)}`:"";return{field:Q+l.field,type:l.type,title:Un(ie)?{signal:`${ie}"${escape(ze)}"`}:ie+ze}}),D=vV(f).map(Of);return{tooltip:[..._,...wt(D,lt)]}}function Wb(u){let{title:l,field:f}=u;return Ne(l,f)}function q9(u,l,f,g,_){let{scale:D,axis:k}=f;return Q=>{let{partName:ie,mark:ze,positionPrefix:Ke,endPositionPrefix:Pt=void 0,extraEncoding:sn={}}=Q,Ln=Wb(f);return PN(u,ie,_,{mark:ze,encoding:{[l]:{field:`${Ke}_${f.field}`,type:f.type,...Ln!==void 0?{title:Ln}:{},...D!==void 0?{scale:D}:{},...k!==void 0?{axis:k}:{}},...e.isString(Pt)?{[`${l}2`]:{field:`${Pt}_${f.field}`}}:{},...g,...sn}})}}function PN(u,l,f,g){let{clip:_,color:D,opacity:k}=u,Q=u.type;return u[l]||u[l]===void 0&&f[l]?[{...g,mark:{...f[l],..._?{clip:_}:{},...D?{color:D}:{},...k?{opacity:k}:{},...sc(g.mark)?g.mark:{type:g.mark},style:`${Q}-${String(l)}`,...e.isBoolean(u[l])?{}:u[l]}}]:[]}function BN(u,l,f){let{encoding:g}=u,_=l==="vertical"?"y":"x",D=g[_],k=g[`${_}2`],Q=g[`${_}Error`],ie=g[`${_}Error2`];return{continuousAxisChannelDef:Qb(D,f),continuousAxisChannelDef2:Qb(k,f),continuousAxisChannelDefError:Qb(Q,f),continuousAxisChannelDefError2:Qb(ie,f),continuousAxis:_}}function Qb(u,l){if(u!=null&&u.aggregate){let{aggregate:f,...g}=u;return f!==l&&jr(ef(f,l)),g}else return u}function Gb(u,l){let{mark:f,encoding:g}=u,{x:_,y:D}=g;if(sc(f)&&f.orient)return f.orient;if(ac(_)){if(ac(D)){let k=Er(_)&&_.aggregate,Q=Er(D)&&D.aggregate;if(!k&&Q===l)return"vertical";if(!Q&&k===l)return"horizontal";if(k===l&&Q===l)throw new Error("Both x and y cannot have aggregate");return Uy(D)&&!Uy(_)?"horizontal":"vertical"}return"horizontal"}else{if(ac(D))return"vertical";throw new Error(`Need a valid continuous axis for ${l}s`)}}let Yb="boxplot",bV=["box","median","outliers","rule","ticks"],EV=new wv(Yb,qN);function jN(u){return e.isNumber(u)?"tukey":u}function qN(u,l){let{config:f}=l;u={...u,encoding:Vb(u.encoding,f)};let{mark:g,encoding:_,params:D,projection:k,...Q}=u,ie=sc(g)?g:{type:g};D&&jr(Ns("boxplot"));let ze=ie.extent??f.boxplot.extent,Ke=vi("size",ie,f),Pt=ie.invalid,sn=jN(ze),{bins:Ln,timeUnits:Xn,transform:lr,continuousAxisChannelDef:hr,continuousAxis:kr,groupby:Ri,aggregate:qi,encodingWithoutContinuousAxis:Ds,ticksOrient:Bi,boxOrient:ta,customTooltipWithoutAggregatedField:os}=SV(u,ze,f),{color:sl,size:Sl,...cc}=Ds,Hx=xMe=>q9(ie,kr,hr,xMe,f.boxplot),Vx=Hx(cc),Wx=Hx(Ds),V1=Hx({...cc,...Sl?{size:Sl}:{}}),Qx=j9([{fieldPrefix:sn==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:sn==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],hr,Ds),Gx={type:"tick",color:"black",opacity:1,orient:Bi,invalid:Pt,aria:!1},Y2=sn==="min-max"?Qx:j9([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],hr,Ds),Zy=[...Vx({partName:"rule",mark:{type:"rule",invalid:Pt,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Y2}),...Vx({partName:"rule",mark:{type:"rule",invalid:Pt,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:Y2}),...Vx({partName:"ticks",mark:Gx,positionPrefix:"lower_whisker",extraEncoding:Y2}),...Vx({partName:"ticks",mark:Gx,positionPrefix:"upper_whisker",extraEncoding:Y2})],e3=[...sn!=="tukey"?Zy:[],...Wx({partName:"box",mark:{type:"bar",...Ke?{size:Ke}:{},orient:ta,invalid:Pt,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Qx}),...V1({partName:"median",mark:{type:"tick",invalid:Pt,...e.isObject(f.boxplot.median)&&f.boxplot.median.color?{color:f.boxplot.median.color}:{},...Ke?{size:Ke}:{},orient:Bi,aria:!1},positionPrefix:"mid_box",extraEncoding:Qx})];if(sn==="min-max")return{...Q,transform:(Q.transform??[]).concat(lr),layer:e3};let dL=`datum["lower_box_${hr.field}"]`,fce=`datum["upper_box_${hr.field}"]`,dce=`(${fce} - ${dL})`,hce=`${dL} - ${ze} * ${dce}`,pce=`${fce} + ${ze} * ${dce}`,hL=`datum["${hr.field}"]`,hMe={joinaggregate:UN(hr.field),groupby:Ri},mce={transform:[{filter:`(${hce} <= ${hL}) && (${hL} <= ${pce})`},{aggregate:[{op:"min",field:hr.field,as:`lower_whisker_${hr.field}`},{op:"max",field:hr.field,as:`upper_whisker_${hr.field}`},{op:"min",field:`lower_box_${hr.field}`,as:`lower_box_${hr.field}`},{op:"max",field:`upper_box_${hr.field}`,as:`upper_box_${hr.field}`},...qi],groupby:Ri}],layer:Zy},{tooltip:$5t,...pMe}=cc,{scale:xce,axis:mMe}=hr,gce=Wb(hr),yce=xe(mMe,["title"]),vce=PN(ie,"outliers",f.boxplot,{transform:[{filter:`(${hL} < ${hce}) || (${hL} > ${pce})`}],mark:"point",encoding:{[kr]:{field:hr.field,type:hr.type,...gce!==void 0?{title:gce}:{},...xce!==void 0?{scale:xce}:{},...Xe(yce)?{}:{axis:yce}},...pMe,...sl?{color:sl}:{},...os?{tooltip:os}:{}}})[0],pL,_ce=[...Ln,...Xn,hMe];return vce?pL={transform:_ce,layer:[vce,mce]}:(pL=mce,pL.transform.unshift(..._ce)),{...Q,layer:[pL,{transform:lr,layer:e3}]}}function UN(u){return[{op:"q1",field:u,as:`lower_box_${u}`},{op:"q3",field:u,as:`upper_box_${u}`}]}function SV(u,l,f){let g=Gb(u,Yb),{continuousAxisChannelDef:_,continuousAxis:D}=BN(u,g,Yb),k=_.field,Q=jN(l),ie=[...UN(k),{op:"median",field:k,as:`mid_box_${k}`},{op:"min",field:k,as:(Q==="min-max"?"lower_whisker_":"min_")+k},{op:"max",field:k,as:(Q==="min-max"?"upper_whisker_":"max_")+k}],ze=Q==="min-max"||Q==="tukey"?[]:[{calculate:`datum["upper_box_${k}"] - datum["lower_box_${k}"]`,as:`iqr_${k}`},{calculate:`min(datum["upper_box_${k}"] + datum["iqr_${k}"] * ${l}, datum["max_${k}"])`,as:`upper_whisker_${k}`},{calculate:`max(datum["lower_box_${k}"] - datum["iqr_${k}"] * ${l}, datum["min_${k}"])`,as:`lower_whisker_${k}`}],{[D]:Ke,...Pt}=u.encoding,{customTooltipWithoutAggregatedField:sn,filteredEncoding:Ln}=_V(Pt),{bins:Xn,timeUnits:lr,aggregate:hr,groupby:kr,encoding:Ri}=IN(Ln,f),qi=g==="vertical"?"horizontal":"vertical",Ds=g,Bi=[...Xn,...lr,{aggregate:[...hr,...ie],groupby:kr},...ze];return{bins:Xn,timeUnits:lr,transform:Bi,groupby:kr,aggregate:hr,continuousAxisChannelDef:_,continuousAxis:D,encodingWithoutContinuousAxis:Ri,ticksOrient:qi,boxOrient:Ds,customTooltipWithoutAggregatedField:sn}}let U9="errorbar",CV=["ticks","rule"],wV=new wv(U9,$N);function $N(u,l){let{config:f}=l;u={...u,encoding:Vb(u.encoding,f)};let{transform:g,continuousAxisChannelDef:_,continuousAxis:D,encodingWithoutContinuousAxis:k,ticksOrient:Q,markDef:ie,outerSpec:ze,tooltipEncoding:Ke}=zN(u,U9,f);delete k.size;let Pt=q9(ie,D,_,k,f.errorbar),sn=ie.thickness,Ln=ie.size,Xn={type:"tick",orient:Q,aria:!1,...sn!==void 0?{thickness:sn}:{},...Ln!==void 0?{size:Ln}:{}},lr=[...Pt({partName:"ticks",mark:Xn,positionPrefix:"lower",extraEncoding:Ke}),...Pt({partName:"ticks",mark:Xn,positionPrefix:"upper",extraEncoding:Ke}),...Pt({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...sn!==void 0?{size:sn}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ke})];return{...ze,transform:g,...lr.length>1?{layer:lr}:{...lr[0]}}}function AV(u,l){let{encoding:f}=u;if(TV(f))return{orient:Gb(u,l),inputType:"raw"};let g=FV(f),_=DV(f),D=f.x,k=f.y;if(g){if(_)throw new Error(`${l} cannot be both type aggregated-upper-lower and aggregated-error`);let Q=f.x2,ie=f.y2;if(Rs(Q)&&Rs(ie))throw new Error(`${l} cannot have both x2 and y2`);if(Rs(Q)){if(ac(D))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${l}`)}else if(Rs(ie)){if(ac(k))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${l}`)}throw new Error("No ranged axis")}else{let Q=f.xError,ie=f.xError2,ze=f.yError,Ke=f.yError2;if(Rs(ie)&&!Rs(Q))throw new Error(`${l} cannot have xError2 without xError`);if(Rs(Ke)&&!Rs(ze))throw new Error(`${l} cannot have yError2 without yError`);if(Rs(Q)&&Rs(ze))throw new Error(`${l} cannot have both xError and yError with both are quantiative`);if(Rs(Q)){if(ac(D))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Rs(ze)){if(ac(k))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function TV(u){return(Rs(u.x)||Rs(u.y))&&!Rs(u.x2)&&!Rs(u.y2)&&!Rs(u.xError)&&!Rs(u.xError2)&&!Rs(u.yError)&&!Rs(u.yError2)}function FV(u){return Rs(u.x2)||Rs(u.y2)}function DV(u){return Rs(u.xError)||Rs(u.xError2)||Rs(u.yError)||Rs(u.yError2)}function zN(u,l,f){let{mark:g,encoding:_,params:D,projection:k,...Q}=u,ie=sc(g)?g:{type:g};D&&jr(Ns(l));let{orient:ze,inputType:Ke}=AV(u,l),{continuousAxisChannelDef:Pt,continuousAxisChannelDef2:sn,continuousAxisChannelDefError:Ln,continuousAxisChannelDefError2:Xn,continuousAxis:lr}=BN(u,ze,l),{errorBarSpecificAggregate:hr,postAggregateCalculates:kr,tooltipSummary:Ri,tooltipTitleWithFieldName:qi}=OV(ie,Pt,sn,Ln,Xn,Ke,l,f),{[lr]:Ds,[lr==="x"?"x2":"y2"]:Bi,[lr==="x"?"xError":"yError"]:ta,[lr==="x"?"xError2":"yError2"]:os,...sl}=_,{bins:Sl,timeUnits:cc,aggregate:Hx,groupby:Vx,encoding:Wx}=IN(sl,f),V1=[...Hx,...hr],Qx=Ke!=="raw"?[]:Vx,Gx=j9(Ri,Pt,Wx,qi);return{transform:[...Q.transform??[],...Sl,...cc,...V1.length===0?[]:[{aggregate:V1,groupby:Qx}],...kr],groupby:Qx,continuousAxisChannelDef:Pt,continuousAxis:lr,encodingWithoutContinuousAxis:Wx,ticksOrient:ze==="vertical"?"horizontal":"vertical",markDef:ie,outerSpec:Q,tooltipEncoding:Gx}}function OV(u,l,f,g,_,D,k,Q){let ie=[],ze=[],Ke=l.field,Pt,sn=!1;if(D==="raw"){let Ln=u.center?u.center:u.extent?u.extent==="iqr"?"median":"mean":Q.errorbar.center,Xn=u.extent?u.extent:Ln==="mean"?"stderr":"iqr";if(Ln==="median"!=(Xn==="iqr")&&jr(Zc(Ln,Xn,k)),Xn==="stderr"||Xn==="stdev")ie=[{op:Xn,field:Ke,as:`extent_${Ke}`},{op:Ln,field:Ke,as:`center_${Ke}`}],ze=[{calculate:`datum["center_${Ke}"] + datum["extent_${Ke}"]`,as:`upper_${Ke}`},{calculate:`datum["center_${Ke}"] - datum["extent_${Ke}"]`,as:`lower_${Ke}`}],Pt=[{fieldPrefix:"center_",titlePrefix:bn(Ln)},{fieldPrefix:"upper_",titlePrefix:HN(Ln,Xn,"+")},{fieldPrefix:"lower_",titlePrefix:HN(Ln,Xn,"-")}],sn=!0;else{let lr,hr,kr;Xn==="ci"?(lr="mean",hr="ci0",kr="ci1"):(lr="median",hr="q1",kr="q3"),ie=[{op:hr,field:Ke,as:`lower_${Ke}`},{op:kr,field:Ke,as:`upper_${Ke}`},{op:lr,field:Ke,as:`center_${Ke}`}],Pt=[{fieldPrefix:"upper_",titlePrefix:jy({field:Ke,aggregate:kr,type:"quantitative"},Q,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:jy({field:Ke,aggregate:hr,type:"quantitative"},Q,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:jy({field:Ke,aggregate:lr,type:"quantitative"},Q,{allowDisabling:!1})}]}}else{(u.center||u.extent)&&jr(xa(u.center,u.extent)),D==="aggregated-upper-lower"?(Pt=[],ze=[{calculate:`datum["${f.field}"]`,as:`upper_${Ke}`},{calculate:`datum["${Ke}"]`,as:`lower_${Ke}`}]):D==="aggregated-error"&&(Pt=[{fieldPrefix:"",titlePrefix:Ke}],ze=[{calculate:`datum["${Ke}"] + datum["${g.field}"]`,as:`upper_${Ke}`}],_?ze.push({calculate:`datum["${Ke}"] + datum["${_.field}"]`,as:`lower_${Ke}`}):ze.push({calculate:`datum["${Ke}"] - datum["${g.field}"]`,as:`lower_${Ke}`}));for(let Ln of ze)Pt.push({fieldPrefix:Ln.as.substring(0,6),titlePrefix:qn(qn(Ln.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:ze,errorBarSpecificAggregate:ie,tooltipSummary:Pt,tooltipTitleWithFieldName:sn}}function HN(u,l,f){return`${bn(u)} ${f} ${l}`}let $9="errorband",NV=["band","borders"],z9=new wv($9,H9);function H9(u,l){let{config:f}=l;u={...u,encoding:Vb(u.encoding,f)};let{transform:g,continuousAxisChannelDef:_,continuousAxis:D,encodingWithoutContinuousAxis:k,markDef:Q,outerSpec:ie,tooltipEncoding:ze}=zN(u,$9,f),Ke=Q,Pt=q9(Ke,D,_,k,f.errorband),sn=u.encoding.x!==void 0&&u.encoding.y!==void 0,Ln={type:sn?"area":"rect"},Xn={type:sn?"line":"rule"},lr={...Ke.interpolate?{interpolate:Ke.interpolate}:{},...Ke.tension&&Ke.interpolate?{tension:Ke.tension}:{}};return sn?(Ln={...Ln,...lr,ariaRoleDescription:"errorband"},Xn={...Xn,...lr,aria:!1}):Ke.interpolate?jr(Ju("interpolate")):Ke.tension&&jr(Ju("tension")),{...ie,transform:g,layer:[...Pt({partName:"band",mark:Ln,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ze}),...Pt({partName:"borders",mark:Xn,positionPrefix:"lower",extraEncoding:ze}),...Pt({partName:"borders",mark:Xn,positionPrefix:"upper",extraEncoding:ze})]}}let VN={};function V9(u,l,f){let g=new wv(u,l);VN[u]={normalizer:g,parts:f}}function RV(){return de(VN)}V9(Yb,qN,bV),V9(U9,$N,CV),V9($9,H9,NV);let LV=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],WN={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},QN={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},kV=de(WN),IV=de(QN),GN=de({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Av=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],PV={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},BV={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},hp="_vgsid_",jV={point:{on:"click",fields:[hp],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function W9(u){return u==="legend"||!!(u!=null&&u.legend)}function Q9(u){return W9(u)&&e.isObject(u)}function G9(u){return!!(u!=null&&u.select)}function YN(u){let l=[];for(let f of u||[]){if(G9(f))continue;let{expr:g,bind:_,...D}=f;if(_&&g){let k={...D,bind:_,init:g};l.push(k)}else{let k={...D,...g?{update:g}:{},..._?{bind:_}:{}};l.push(k)}}return l}function qV(u){return Kb(u)||K9(u)||Y9(u)}function Y9(u){return"concat"in u}function Kb(u){return"vconcat"in u}function K9(u){return"hconcat"in u}function KN(u){let{step:l,offsetIsDiscrete:f}=u;return f?l.for??"offset":"position"}function pp(u){return e.isObject(u)&&u.step!==void 0}function JN(u){return u.view||u.width||u.height}let XN=20,ZN=de({align:1,bounds:1,center:1,columns:1,spacing:1});function $V(u,l,f){let g=f[l],_={},{spacing:D,columns:k}=g;D!==void 0&&(_.spacing=D),k!==void 0&&(cp(u)&&!qd(u.facet)||Y9(u))&&(_.columns=k),Kb(u)&&(_.columns=1);for(let Q of ZN)if(u[Q]!==void 0)if(Q==="spacing"){let ie=u[Q];_[Q]=e.isNumber(ie)?ie:{row:ie.row??D,column:ie.column??D}}else _[Q]=u[Q];return _}function J9(u,l){return u[l]??u[l==="width"?"continuousWidth":"continuousHeight"]}function Jb(u,l){let f=Xb(u,l);return pp(f)?f.step:Tv}function Xb(u,l){let f=u[l]??u[l==="width"?"discreteWidth":"discreteHeight"];return Ne(f,{step:u.step})}let Tv=20,zV={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:Tv},mark:Y,arc:{},area:{},bar:J,circle:{},geoshape:{},image:{},line:{},point:{},rect:ge,rule:{color:"black"},square:{},text:{color:"black"},tick:Fe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:Ui,projection:{},legend:PV,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:jV,style:{},title:{},facet:{spacing:XN},concat:{spacing:XN},normalizedNumberFormat:".0%"},B1=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],eR={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},tR={blue:B1[0],orange:B1[1],red:B1[2],teal:B1[3],green:B1[4],yellow:B1[5],purple:B1[6],pink:B1[7],brown:B1[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function HV(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{signals:[{name:"color",value:e.isObject(u)?{...tR,...u}:tR}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function VV(u){return{signals:[{name:"fontSize",value:e.isObject(u)?{...eR,...u}:eR}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function WV(u){return{text:{font:u},style:{"guide-label":{font:u},"guide-title":{font:u},"group-title":{font:u},"group-subtitle":{font:u}}}}function nR(u){let l=de(u||{}),f={};for(let g of l){let _=u[g];f[g]=Cv(_)?ni(_):pi(_)}return f}function QV(u){let l=de(u),f={};for(let g of l)f[g]=nR(u[g]);return f}let GV=[...xt,...M9,...GN,"background","padding","legend","lineBreak","scale","style","title","view"];function Fv(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{color:l,font:f,fontSize:g,selection:_,...D}=u,k=e.mergeConfig({},be(zV),f?WV(f):{},l?HV(l):{},g?VV(g):{},D||{});_&&e.writeConfig(k,"selection",_,!0);let Q=xe(k,GV);for(let ie of["background","lineBreak","padding"])k[ie]&&(Q[ie]=pi(k[ie]));for(let ie of xt)k[ie]&&(Q[ie]=dn(k[ie]));for(let ie of M9)k[ie]&&(Q[ie]=nR(k[ie]));for(let ie of GN)k[ie]&&(Q[ie]=dn(k[ie]));return k.legend&&(Q.legend=dn(k.legend)),k.scale&&(Q.scale=dn(k.scale)),k.style&&(Q.style=QV(k.style)),k.title&&(Q.title=dn(k.title)),k.view&&(Q.view=dn(k.view)),Q}let YV=new Set(["view",...Ix]),rR=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],iR={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...z};function X9(u){u=be(u);for(let l of rR)delete u[l];if(u.axis)for(let l in u.axis)Cv(u.axis[l])&&delete u.axis[l];if(u.legend)for(let l of LV)delete u.legend[l];if(u.mark){for(let l of F)delete u.mark[l];u.mark.tooltip&&e.isObject(u.mark.tooltip)&&delete u.mark.tooltip}u.params&&(u.signals=(u.signals||[]).concat(YN(u.params)),delete u.params);for(let l of YV){for(let g of F)delete u[l][g];let f=iR[l];if(f)for(let g of f)delete u[l][g];oR(u,l)}for(let l of RV())delete u[l];sR(u);for(let l in u)e.isObject(u[l])&&Xe(u[l])&&delete u[l];return Xe(u)?void 0:u}function sR(u){let{titleMarkConfig:l,subtitleMarkConfig:f,subtitle:g}=Nn(u.title);Xe(l)||(u.style["group-title"]={...u.style["group-title"],...l}),Xe(f)||(u.style["group-subtitle"]={...u.style["group-subtitle"],...f}),Xe(g)?delete u.title:u.title=g}function oR(u,l,f,g){let _=g?u[l][g]:u[l];l==="view"&&(f="cell");let D={..._,...u.style[f??l]};Xe(D)||(u.style[f??l]=D),g||delete u[l]}function Dv(u){return"layer"in u}function aR(u){return"repeat"in u}function KV(u){return!e.isArray(u.repeat)&&u.repeat.layer}class Z9{map(l,f){return cp(l)?this.mapFacet(l,f):aR(l)?this.mapRepeat(l,f):K9(l)?this.mapHConcat(l,f):Kb(l)?this.mapVConcat(l,f):Y9(l)?this.mapConcat(l,f):this.mapLayerOrUnit(l,f)}mapLayerOrUnit(l,f){if(Dv(l))return this.mapLayer(l,f);if(dp(l))return this.mapUnit(l,f);throw new Error(ue(l))}mapLayer(l,f){return{...l,layer:l.layer.map(g=>this.mapLayerOrUnit(g,f))}}mapHConcat(l,f){return{...l,hconcat:l.hconcat.map(g=>this.map(g,f))}}mapVConcat(l,f){return{...l,vconcat:l.vconcat.map(g=>this.map(g,f))}}mapConcat(l,f){let{concat:g,..._}=l;return{..._,concat:g.map(D=>this.map(D,f))}}mapFacet(l,f){return{...l,spec:this.map(l.spec,f)}}mapRepeat(l,f){return{...l,spec:this.map(l.spec,f)}}}let JV={zero:1,center:1,normalize:1};function Zb(u){return u in JV}let eE=new Set([R1,_l,L1,Ff,Nh,lp,Bd,Pd,bl,Df]),XV=new Set([_l,L1,R1]);function $y(u){return Er(u)&&rl(u)==="quantitative"&&!u.bin}function tE(u,l){let f=l==="x"?"y":"radius",g=u[l],_=u[f];if(Er(g)&&Er(_))if($y(g)&&$y(_)){if(g.stack)return l;if(_.stack)return f;let Q=Er(g)&&!!g.aggregate,ie=Er(_)&&!!_.aggregate;if(Q!==ie)return Q?l:f;{var D,k;let ze=(D=g.scale)===null||D===void 0?void 0:D.type,Ke=(k=_.scale)===null||k===void 0?void 0:k.type;if(ze&&ze!=="linear")return f;if(Ke&&Ke!=="linear")return l}}else{if($y(g))return l;if($y(_))return f}else{if($y(g))return l;if($y(_))return f}}function uR(u){switch(u){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function lR(u,l){var f,g;let _=sc(u)?u.type:u;if(!eE.has(_))return null;let D=tE(l,"x")||tE(l,"theta");if(!D)return null;let k=l[D],Q=Er(k)?fi(k,{}):void 0,ie=uR(D),ze=[],Ke=new Set;if(l[ie]){let Ln=l[ie],Xn=Er(Ln)?fi(Ln,{}):void 0;Xn&&Xn!==Q&&(ze.push(ie),Ke.add(Xn));let lr=ie==="x"?"xOffset":"yOffset",hr=l[lr],kr=Er(hr)?fi(hr,{}):void 0;kr&&kr!==Q&&(ze.push(lr),Ke.add(kr))}let Pt=Cs.reduce((Ln,Xn)=>{if(Xn!=="tooltip"&&qx(l,Xn)){let lr=l[Xn];for(let hr of e.array(lr)){let kr=Rh(hr);if(kr.aggregate)continue;let Ri=fi(kr,{});(!Ri||!Ke.has(Ri))&&Ln.push({channel:Xn,fieldDef:kr})}}return Ln},[]),sn;return k.stack!==void 0?e.isBoolean(k.stack)?sn=k.stack?"zero":null:sn=k.stack:XV.has(_)&&(sn="zero"),!sn||!Zb(sn)||Hb(l)&&Pt.length===0?null:k!=null&&(f=k.scale)!==null&&f!==void 0&&f.type&&(k==null||(g=k.scale)===null||g===void 0?void 0:g.type)!==tl.LINEAR?(jr(nc(k.scale.type)),null):Rs(l[Es(D)])?(k.stack!==void 0&&jr(Na(D)),null):(Er(k)&&k.aggregate&&!ui.has(k.aggregate)&&jr(jl(k.aggregate)),{groupbyChannels:ze,groupbyFields:Ke,fieldChannel:D,impute:k.impute===null?!1:of(_),stackBy:Pt,offset:sn})}function ZV(u){let{point:l,line:f,...g}=u;return de(g).length>1?g:g.type}function eW(u){for(let l of["line","area","rule","trail"])u[l]&&(u={...u,[l]:xe(u[l],["point","line"])});return u}function ew(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2?arguments[2]:void 0;return u.point==="transparent"?{opacity:0}:u.point?e.isObject(u.point)?u.point:{}:u.point!==void 0?null:l.point||f.shape?e.isObject(l.point)?l.point:{}:void 0}function cR(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.line?u.line===!0?{}:u.line:u.line!==void 0?null:l.line?l.line===!0?{}:l.line:void 0}class tW{constructor(){yn(this,"name","path-overlay")}hasMatchingType(l,f){if(dp(l)){let{mark:g,encoding:_}=l,D=sc(g)?g:{type:g};switch(D.type){case"line":case"rule":case"trail":return!!ew(D,f[D.type],_);case"area":return!!ew(D,f[D.type],_)||!!cR(D,f[D.type])}}return!1}run(l,f,g){let{config:_}=f,{params:D,projection:k,mark:Q,encoding:ie,...ze}=l,Ke=Vb(ie,_),Pt=sc(Q)?Q:{type:Q},sn=ew(Pt,_[Pt.type],Ke),Ln=Pt.type==="area"&&cR(Pt,_[Pt.type]),Xn=[{...D?{params:D}:{},mark:ZV({...Pt.type==="area"&&Pt.opacity===void 0&&Pt.fillOpacity===void 0?{opacity:.7}:{},...Pt}),encoding:xe(Ke,["shape"])}],lr=lR(Pt,Ke),hr=Ke;if(lr){let{fieldChannel:kr,offset:Ri}=lr;hr={...Ke,[kr]:{...Ke[kr],...Ri?{stack:Ri}:{}}}}return hr=xe(hr,["y2","x2"]),Ln&&Xn.push({...k?{projection:k}:{},mark:{type:"line",...Ae(Pt,["clip","interpolate","tension","tooltip"]),...Ln},encoding:hr}),sn&&Xn.push({...k?{projection:k}:{},mark:{type:"point",opacity:1,filled:!0,...Ae(Pt,["clip","tooltip"]),...sn},encoding:hr}),g({...ze,layer:Xn},{...f,config:eW(_)})}}function nW(u,l){return l?qd(u)?Hd(u,l):fR(u,l):u}function tw(u,l){return l?Hd(u,l):u}function nw(u,l,f){let g=l[u];if(q2(g)){if(g.repeat in f)return{...l,[u]:f[g.repeat]};jr(ec(g.repeat));return}return l}function fR(u,l){if(u=nw("field",u,l),u!==void 0){if(u===null)return null;if(Mx(u)&&ya(u.sort)){let f=nw("field",u.sort,l);u={...u,...f?{sort:f}:{}}}return u}}function dR(u,l){if(Er(u))return fR(u,l);{let f=nw("datum",u,l);return f!==u&&!f.type&&(f.type="nominal"),f}}function hR(u,l){if(Rs(u)){let f=dR(u,l);if(f)return f;if(Ps(u))return{condition:u.condition}}else{if(Ur(u)){let f=dR(u.condition,l);if(f)return{...u,condition:f};{let{condition:g,..._}=u;return _}}return u}}function Hd(u,l){let f={};for(let g in u)if(e.hasOwnProperty(u,g)){let _=u[g];if(e.isArray(_))f[g]=_.map(D=>hR(D,l)).filter(D=>D);else{let D=hR(_,l);D!==void 0&&(f[g]=D)}}return f}class rW{constructor(){yn(this,"name","RuleForRangedLine")}hasMatchingType(l){if(dp(l)){let{encoding:f,mark:g}=l;if(g==="line"||sc(g)&&g.type==="line")for(let _ of Mr){let D=ai(_),k=f[D];if(f[_]&&(Er(k)&&!rs(k.bin)||bo(k)))return!0}}return!1}run(l,f,g){let{encoding:_,mark:D}=l;return jr(xl(!!_.x2,!!_.y2)),g({...l,mark:e.isObject(D)?{...D,type:"rule"}:"rule"},f)}}class iW extends Z9{constructor(){super(...arguments);yn(this,"nonFacetUnitNormalizers",[EV,wV,z9,new tW,new rW])}map(l,f){if(dp(l)){let g=qx(l.encoding,Fn),_=qx(l.encoding,Qn),D=qx(l.encoding,Zn);if(g||_||D)return this.mapFacetedUnit(l,f)}return super.map(l,f)}mapUnit(l,f){let{parentEncoding:g,parentProjection:_}=f,D=tw(l.encoding,f.repeater),k={...l,...D?{encoding:D}:{}};if(g||_)return this.mapUnitWithParentEncodingOrProjection(k,f);let Q=this.mapLayerOrUnit.bind(this);for(let ie of this.nonFacetUnitNormalizers)if(ie.hasMatchingType(k,f.config))return ie.run(k,f,Q);return k}mapRepeat(l,f){return KV(l)?this.mapLayerRepeat(l,f):this.mapNonLayerRepeat(l,f)}mapLayerRepeat(l,f){let{repeat:g,spec:_,...D}=l,{row:k,column:Q,layer:ie}=g,{repeater:ze={},repeaterPrefix:Ke=""}=f;return k||Q?this.mapRepeat({...l,repeat:{...k?{row:k}:{},...Q?{column:Q}:{}},spec:{repeat:{layer:ie},spec:_}},f):{...D,layer:ie.map(Pt=>{let sn={...ze,layer:Pt},Ln=`${(_.name||"")+Ke}child__layer_${zt(Pt)}`,Xn=this.mapLayerOrUnit(_,{...f,repeater:sn,repeaterPrefix:Ln});return Xn.name=Ln,Xn})}}mapNonLayerRepeat(l,f){let{repeat:g,spec:_,data:D,...k}=l;!e.isArray(g)&&l.columns&&(l=xe(l,["columns"]),jr(Kc("repeat")));let Q=[],{repeater:ie={},repeaterPrefix:ze=""}=f,Ke=!e.isArray(g)&&g.row||[ie?ie.row:null],Pt=!e.isArray(g)&&g.column||[ie?ie.column:null],sn=e.isArray(g)&&g||[ie?ie.repeat:null];for(let Xn of sn)for(let lr of Ke)for(let hr of Pt){let kr={repeat:Xn,row:lr,column:hr,layer:ie.layer},Ri=(_.name||"")+ze+"child__"+(e.isArray(g)?`${zt(Xn)}`:(g.row?`row_${zt(lr)}`:"")+(g.column?`column_${zt(hr)}`:"")),qi=this.map(_,{...f,repeater:kr,repeaterPrefix:Ri});qi.name=Ri,Q.push(xe(qi,["data"]))}let Ln=e.isArray(g)?l.columns:g.column?g.column.length:1;return{data:_.data??D,align:"all",...k,columns:Ln,concat:Q}}mapFacet(l,f){let{facet:g}=l;return qd(g)&&l.columns&&(l=xe(l,["columns"]),jr(Kc("facet"))),super.mapFacet(l,f)}mapUnitWithParentEncodingOrProjection(l,f){let{encoding:g,projection:_}=l,{parentEncoding:D,parentProjection:k,config:Q}=f,ie=Bs({parentProjection:k,projection:_}),ze=U2({parentEncoding:D,encoding:tw(g,f.repeater)});return this.mapUnit({...l,...ie?{projection:ie}:{},...ze?{encoding:ze}:{}},{config:Q})}mapFacetedUnit(l,f){let{row:g,column:_,facet:D,...k}=l.encoding,{mark:Q,width:ie,projection:ze,height:Ke,view:Pt,params:sn,encoding:Ln,...Xn}=l,{facetMapping:lr,layout:hr}=this.getFacetMappingAndLayout({row:g,column:_,facet:D},f),kr=tw(k,f.repeater);return this.mapFacet({...Xn,...hr,facet:lr,spec:{...ie?{width:ie}:{},...Ke?{height:Ke}:{},...Pt?{view:Pt}:{},...ze?{projection:ze}:{},mark:Q,encoding:kr,...sn?{params:sn}:{}}},f)}getFacetMappingAndLayout(l,f){let{row:g,column:_,facet:D}=l;if(g||_){D&&jr(bh([...g?[Fn]:[],..._?[Qn]:[]]));let k={},Q={};for(let ie of[Fn,Qn]){let ze=l[ie];if(ze){let{align:Ke,center:Pt,spacing:sn,columns:Ln,...Xn}=ze;k[ie]=Xn;for(let lr of["align","center","spacing"])ze[lr]!==void 0&&(Q[lr]??={},Q[lr][ie]=ze[lr])}}return{facetMapping:k,layout:Q}}else{let{align:k,center:Q,spacing:ie,columns:ze,...Ke}=D;return{facetMapping:nW(Ke,f.repeater),layout:{...k?{align:k}:{},...Q?{center:Q}:{},...ie?{spacing:ie}:{},...ze?{columns:ze}:{}}}}}mapLayer(l,f){let{parentEncoding:g,parentProjection:_,...D}=f,{encoding:k,projection:Q,...ie}=l,ze={...D,parentEncoding:U2({parentEncoding:g,encoding:k,layer:!0}),parentProjection:Bs({parentProjection:_,projection:Q})};return super.mapLayer(ie,ze)}}function U2(u){let{parentEncoding:l,encoding:f={},layer:g}=u,_={};if(l){let D=new Set([...de(l),...de(f)]);for(let k of D){let Q=f[k],ie=l[k];if(Rs(Q)){let ze={...ie,...Q};_[k]=ze}else Ur(Q)?_[k]={...Q,condition:{...ie,...Q.condition}}:Q||Q===null?_[k]=Q:(g||$d(ie)||Un(ie)||Rs(ie)||e.isArray(ie))&&(_[k]=ie)}}else _=f;return!_||Xe(_)?void 0:_}function Bs(u){let{parentProjection:l,projection:f}=u;return l&&f&&jr(_h({parentProjection:l,projection:f})),f??l}function rw(u){return"filter"in u}function f0(u){return(u==null?void 0:u.stop)!==void 0}function Ru(u){return"lookup"in u}function sW(u){return"data"in u}function $2(u){return"param"in u}function oW(u){return"pivot"in u}function aW(u){return"density"in u}function uW(u){return"quantile"in u}function lW(u){return"regression"in u}function cW(u){return"loess"in u}function iw(u){return"sample"in u}function fW(u){return"window"in u}function j1(u){return"joinaggregate"in u}function pR(u){return"flatten"in u}function nE(u){return"calculate"in u}function Xa(u){return"bin"in u}function Lu(u){return"impute"in u}function mR(u){return"timeUnit"in u}function dW(u){return"aggregate"in u}function hW(u){return"stack"in u}function pW(u){return"fold"in u}function mW(u){return u.map(l=>rw(l)?{filter:te(l.filter,Th)}:l)}class xW extends Z9{map(l,f){return f.emptySelections??={},f.selectionPredicates??={},l=xR(l,f),super.map(l,f)}mapLayerOrUnit(l,f){if(l=xR(l,f),l.encoding){let g={};for(let[_,D]of Ot(l.encoding))g[_]=sw(D,f);l={...l,encoding:g}}return super.mapLayerOrUnit(l,f)}mapUnit(l,f){let{selection:g,..._}=l;return g?{..._,params:Ot(g).map(D=>{let[k,Q]=D,{init:ie,bind:ze,empty:Ke,...Pt}=Q;Pt.type==="single"?(Pt.type="point",Pt.toggle=!1):Pt.type==="multi"&&(Pt.type="point"),f.emptySelections[k]=Ke!=="none";for(let sn of Ge(f.selectionPredicates[k]??{}))sn.empty=Ke!=="none";return{name:k,value:ie,select:Pt,bind:ze}})}:l}}function xR(u,l){let{transform:f,...g}=u;if(f){let _=f.map(D=>{if(rw(D))return{filter:Ov(D,l)};if(Xa(D)&&Le(D.bin))return{...D,bin:zy(D.bin)};if(Ru(D)){let{selection:k,...Q}=D.from;return k?{...D,from:{param:k,...Q}}:D}return D});return{...g,transform:_}}return u}function sw(u,l){var f,g;let _=be(u);if(Er(_)&&Le(_.bin)&&(_.bin=zy(_.bin)),Bx(_)&&(f=_.scale)!==null&&f!==void 0&&(g=f.domain)!==null&&g!==void 0&&g.selection){let{selection:D,...k}=_.scale.domain;_.scale.domain={...k,...D?{param:D}:{}}}if(Ps(_))if(e.isArray(_.condition))_.condition=_.condition.map(D=>{let{selection:k,param:Q,test:ie,...ze}=D;return Q?D:{...ze,test:Ov(D,l)}});else{let{selection:D,param:k,test:Q,...ie}=sw(_.condition,l);_.condition=k?_.condition:{...ie,test:Ov(_.condition,l)}}return _}function zy(u){let l=u.extent;if(l!=null&&l.selection){let{selection:f,...g}=l;return{...u,extent:{...g,param:f}}}return u}function Ov(u,l){let f=g=>te(g,_=>{let D=l.emptySelections[_]??!0,k={param:_,empty:D};return l.selectionPredicates[_]??=[],l.selectionPredicates[_].push(k),k});return u.selection?f(u.selection):te(u.test||u.filter,g=>g.selection?f(g.selection):g)}class ow extends Z9{map(l,f){let g=f.selections??[];if(l.params&&!dp(l)){let _=[];for(let D of l.params)G9(D)?g.push(D):_.push(D);l.params=_}return f.selections=g,super.map(l,aw(l,f))}mapUnit(l,f){let g=f.selections;if(!g||!g.length)return l;let _=(f.path??[]).concat(l.name),D=[];for(let k of g)if(!k.views||!k.views.length)D.push(k);else for(let Q of k.views)(e.isString(Q)&&(Q===l.name||_.indexOf(Q)>=0)||e.isArray(Q)&&Q.map(ie=>_.indexOf(ie)).every((ie,ze,Ke)=>ie!==-1&&(ze===0||ie>Ke[ze-1])))&&D.push(k);return D.length&&(l.params=D),l}}for(let u of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){let l=ow.prototype[u];ow.prototype[u]=function(f,g){return l.call(this,f,aw(f,g))}}function aw(u,l){return u.name?{...l,path:(l.path??[]).concat(u.name)}:l}function Nv(u,l){l===void 0&&(l=Fv(u.config));let f=yW(u,l),{width:g,height:_}=u,D=vW(f,{width:g,height:_,autosize:u.autosize},l);return{...f,...D?{autosize:D}:{}}}let Z0=new iW,Hy=new xW,gW=new ow;function yW(u){let f={config:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}};return gW.map(Z0.map(Hy.map(u,f),f),f)}function gR(u){return e.isString(u)?{type:u}:u??{}}function vW(u,l,f){let{width:g,height:_}=l,D=dp(u)||Dv(u),k={};D?g=="container"&&_=="container"?(k.type="fit",k.contains="padding"):g=="container"?(k.type="fit-x",k.contains="padding"):_=="container"&&(k.type="fit-y",k.contains="padding"):(g=="container"&&(jr(Zt("width")),g=void 0),_=="container"&&(jr(Zt("height")),_=void 0));let Q={type:"pad",...k,...f?gR(f.autosize):{},...gR(u.autosize)};if(Q.type==="fit"&&!D&&(jr(ut),Q.type="pad"),g=="container"&&!(Q.type=="fit"||Q.type=="fit-x")&&jr(An("width")),_=="container"&&!(Q.type=="fit"||Q.type=="fit-y")&&jr(An("height")),!st(Q,{type:"pad"}))return Q}function _W(u){return u==="fit"||u==="fit-x"||u==="fit-y"}function yR(u){return u?`fit-${hi(u)}`:"fit"}let q1=["background","padding"];function Xs(u,l){let f={};for(let g of q1)u&&u[g]!==void 0&&(f[g]=pi(u[g]));return l&&(f.params=u.params),f}class mp{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.explicit=l,this.implicit=f}clone(){return new mp(be(this.explicit),be(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(l){return Ne(this.explicit[l],this.implicit[l])}getWithExplicit(l){return this.explicit[l]!==void 0?{explicit:!0,value:this.explicit[l]}:this.implicit[l]!==void 0?{explicit:!1,value:this.implicit[l]}:{explicit:!1,value:void 0}}setWithExplicit(l,f){let{value:g,explicit:_}=f;g!==void 0&&this.set(l,g,_)}set(l,f,g){return delete this[g?"implicit":"explicit"][l],this[g?"explicit":"implicit"][l]=f,this}copyKeyFromSplit(l,f){let{explicit:g,implicit:_}=f;g[l]!==void 0?this.set(l,g[l],!0):_[l]!==void 0&&this.set(l,_[l],!1)}copyKeyFromObject(l,f){f[l]!==void 0&&this.set(l,f[l],!0)}copyAll(l){for(let f of de(l.combine())){let g=l.getWithExplicit(f);this.setWithExplicit(f,g)}}}function il(u){return{explicit:!0,value:u}}function d0(u){return{explicit:!1,value:u}}function vR(u){return(l,f,g,_)=>{let D=u(l.value,f.value);return D>0?l:D<0?f:Vo(l,f,g,_)}}function Vo(u,l,f,g){return u.explicit&&l.explicit&&jr(Fi(f,g,u.value,l.value)),u}function z2(u,l,f,g){let _=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Vo;return u===void 0||u.value===void 0?l:u.explicit&&!l.explicit?u:l.explicit&&!u.explicit?l:st(u.value,l.value)?u:_(u,l,f,g)}class _R extends mp{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super(l,f);this.explicit=l,this.implicit=f,this.parseNothing=g}clone(){let l=super.clone();return l.parseNothing=this.parseNothing,l}}function U1(u){return"url"in u}function Rv(u){return"values"in u}function bR(u){return"name"in u&&!U1(u)&&!Rv(u)&&!H2(u)}function H2(u){return u&&(ER(u)||SR(u)||uw(u))}function ER(u){return"sequence"in u}function SR(u){return"sphere"in u}function uw(u){return"graticule"in u}let Ia;(function(u){u[u.Raw=0]="Raw",u[u.Main=1]="Main",u[u.Row=2]="Row",u[u.Column=3]="Column",u[u.Lookup=4]="Lookup"})(Ia||(Ia={}));function Ux(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.identity;if(e.isArray(u)){let g=u.map(_=>Ux(_,l,f));return l?`[${g.join(", ")}]`:g}else if(H0(u))return f(l?tf(u):Lx(u));return l?f(Je(u)):u}function bW(u,l){for(let f of Ge(u.component.selection??{})){let g=f.name,_=`${g}${Q2}, ${f.resolve==="global"?"true":`{unit: ${Yy(u)}}`}`;for(let D of Gy)!D.defined(f)||(D.signals&&(l=D.signals(u,f,l)),D.modifyExpr&&(_=D.modifyExpr(u,f,_)));l.push({name:g+gw,on:[{events:{signal:f.name+Q2},update:`modify(${e.stringValue(f.name+$x)}, ${_})`}]})}return Lv(l)}function EW(u,l){if(u.component.selection&&de(u.component.selection).length){let f=e.stringValue(u.getName("cell"));l.unshift({name:"facet",value:{},on:[{events:e.parseSelector("mousemove","scope"),update:`isTuple(facet) ? facet : group(${f}).datum`}]})}return Lv(l)}function SW(u,l){let f=!1;for(let g of Ge(u.component.selection??{})){let _=g.name,D=e.stringValue(_+$x);if(l.filter(Q=>Q.name===_).length===0){let Q=g.resolve==="global"?"union":g.resolve,ie=g.type==="point"?", true, true)":")";l.push({name:g.name,update:`${$R}(${D}, ${e.stringValue(Q)}${ie}`})}f=!0;for(let Q of Gy)Q.defined(g)&&Q.topLevelSignals&&(l=Q.topLevelSignals(u,g,l))}return f&&l.filter(_=>_.name==="unit").length===0&&l.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),Lv(l)}function CW(u,l){let f=[...l],g=Yy(u,{escape:!1});for(let _ of Ge(u.component.selection??{})){let D={name:_.name+$x};if(_.project.hasSelectionId&&(D.transform=[{type:"collect",sort:{field:hp}}]),_.init){let Q=_.project.items.map(ie=>{let{signals:ze,...Ke}=ie;return Ke});D.values=_.project.hasSelectionId?_.init.map(ie=>({unit:g,[hp]:Ux(ie,!1)[0]})):_.init.map(ie=>({unit:g,fields:Q,values:Ux(ie,!1)}))}f.filter(Q=>Q.name===_.name+$x).length||f.push(D)}return f}function CR(u,l){for(let f of Ge(u.component.selection??{}))for(let g of Gy)g.defined(f)&&g.marks&&(l=g.marks(u,f,l));return l}function lw(u,l){for(let f of u.children)lc(f)&&(l=CR(f,l));return l}function wW(u,l,f,g){let _=WR(u,l.param,l);return{signal:_t(f.get("type"))&&e.isArray(g)&&g[0]>g[1]?`isValid(${_}) && reverse(${_})`:_}}function Lv(u){return u.map(l=>(l.on&&!l.on.length&&delete l.on,l))}class va{constructor(l,f){this.debugName=f,yn(this,"_children",[]),yn(this,"_parent",null),yn(this,"_hash",void 0),l&&(this.parent=l)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(l){this._parent=l,l&&l.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(l,f){if(this._children.includes(l)){jr(t0);return}f!==void 0?this._children.splice(f,0,l):this._children.push(l)}removeChild(l){let f=this._children.indexOf(l);return this._children.splice(f,1),f}remove(){let l=this._parent.removeChild(this);for(let f of this._children)f._parent=this._parent,this._parent.addChild(f,l++)}insertAsParentOf(l){let f=l.parent;f.removeChild(this),this.parent=f,l.parent=this}swapWithParent(){let l=this._parent,f=l.parent;for(let _ of this._children)_.parent=l;this._children=[],l.removeChild(this);let g=l.parent.removeChild(l);this._parent=f,f.addChild(this,g),l.parent=this}}class Rf extends va{clone(){let l=new this.constructor;return l.debugName=`clone_${this.debugName}`,l._source=this._source,l._name=`clone_${this._name}`,l.type=this.type,l.refCounts=this.refCounts,l.refCounts[l._name]=0,l}constructor(l,f,g,_){super(l,f);this.type=g,this.refCounts=_,yn(this,"_source",void 0),yn(this,"_name",void 0),this._source=this._name=f,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${De()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(l){this._source=l}}class xp extends va{clone(){return new xp(null,be(this.formula))}constructor(l,f){super(l);this.formula=f}static makeFromEncoding(l,f){let g=f.reduceFieldDef((_,D)=>{let{field:k,timeUnit:Q}=D;if(Q){let ie=fi(D,{forAs:!0});_[lt({as:ie,field:k,timeUnit:Q})]={as:ie,field:k,timeUnit:Q}}return _},{});return Xe(g)?null:new xp(l,g)}static makeFromTransform(l,f){let{timeUnit:g,..._}={...f},D=du(g),k={..._,timeUnit:D};return new xp(l,{[lt(k)]:k})}merge(l){this.formula={...this.formula};for(let f in l.formula)this.formula[f]||(this.formula[f]=l.formula[f]);for(let f of l.children)l.removeChild(f),f.parent=this;l.remove()}removeFormulas(l){let f={};for(let[g,_]of Ot(this.formula))l.has(_.as)||(f[g]=_);this.formula=f}producedFields(){return new Set(Ge(this.formula).map(l=>l.as))}dependentFields(){return new Set(Ge(this.formula).map(l=>l.field))}hash(){return`TimeUnit ${lt(this.formula)}`}assemble(){let l=[];for(let f of Ge(this.formula)){let{field:g,as:_,timeUnit:D}=f,{unit:k,utc:Q,...ie}=du(D);l.push({field:pn(g),type:"timeunit",...k?{units:Zu(k)}:{},...Q?{timezone:"utc"}:{},...ie,as:[_,`${_}_end`]})}return l}}let ku="_tuple_fields";class h0{constructor(){yn(this,"hasChannel",void 0),yn(this,"hasField",void 0),yn(this,"hasSelectionId",void 0),yn(this,"timeUnit",void 0),yn(this,"items",void 0);for(var l=arguments.length,f=new Array(l),g=0;g<l;g++)f[g]=arguments[g];this.items=f,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}let AW={defined:()=>!0,parse:(u,l,f)=>{let g=l.name,_=l.project??=new h0,D={},k={},Q=new Set,ie=(Xn,lr)=>{let hr=lr==="visual"?Xn.channel:Xn.field,kr=zt(`${g}_${hr}`);for(let Ri=1;Q.has(kr);Ri++)kr=zt(`${g}_${hr}_${Ri}`);return Q.add(kr),{[lr]:kr}},ze=l.type,Ke=u.config.selection[ze],Pt=f.value!==void 0?e.array(f.value):null,{fields:sn,encodings:Ln}=e.isObject(f.select)?f.select:{};if(!sn&&!Ln&&Pt){for(let Xn of Pt)if(!!e.isObject(Xn))for(let lr of de(Xn))Vr(lr)?(Ln||(Ln=[])).push(lr):ze==="interval"?(jr(B0),Ln=Ke.encodings):(sn||(sn=[])).push(lr)}!sn&&!Ln&&(Ln=Ke.encodings,"fields"in Ke&&(sn=Ke.fields));for(let Xn of Ln??[]){let lr=u.fieldDef(Xn);if(lr){let hr=lr.field;if(lr.aggregate){jr(Zi(Xn,lr.aggregate));continue}else if(!hr){jr(fr(Xn));continue}if(lr.timeUnit){hr=u.vgField(Xn);let kr={timeUnit:lr.timeUnit,as:hr,field:lr.field};k[lt(kr)]=kr}if(!D[hr]){let kr="E";if(ze==="interval"){let qi=u.getScaleComponent(Xn).get("type");_t(qi)&&(kr="R")}else lr.bin&&(kr="R-RE");let Ri={field:hr,channel:Xn,type:kr};Ri.signals={...ie(Ri,"data"),...ie(Ri,"visual")},_.items.push(D[hr]=Ri),_.hasField[hr]=_.hasChannel[Xn]=D[hr],_.hasSelectionId=_.hasSelectionId||hr===hp}}else jr(fr(Xn))}for(let Xn of sn??[]){if(_.hasField[Xn])continue;let lr={type:"E",field:Xn};lr.signals={...ie(lr,"data")},_.items.push(lr),_.hasField[Xn]=lr,_.hasSelectionId=_.hasSelectionId||Xn===hp}Pt&&(l.init=Pt.map(Xn=>_.items.map(lr=>e.isObject(Xn)?Xn[lr.channel]!==void 0?Xn[lr.channel]:Xn[lr.field]:Xn))),Xe(k)||(_.timeUnit=new xp(null,k))},signals:(u,l,f)=>{let g=l.name+ku;return f.filter(D=>D.name===g).length>0||l.project.hasSelectionId?f:f.concat({name:g,value:l.project.items.map(D=>{let{signals:k,hasLegend:Q,...ie}=D;return ie.field=pn(ie.field),ie})})}},V2={defined:u=>u.type==="interval"&&u.resolve==="global"&&u.bind&&u.bind==="scales",parse:(u,l)=>{let f=l.scales=[];for(let g of l.project.items){let _=g.channel;if(!Ii(_))continue;let D=u.getScaleComponent(_),k=D?D.get("type"):void 0;if(!D||!_t(k)){jr(Ya);continue}D.set("selectionExtent",{param:l.name,field:g.field},!0),f.push(g)}},topLevelSignals:(u,l,f)=>{let g=l.scales.filter(k=>f.filter(Q=>Q.name===k.signals.data).length===0);if(!u.parent||fw(u)||g.length===0)return f;let _=f.filter(k=>k.name===l.name)[0],D=_.update;if(D.indexOf($R)>=0)_.update=`{${g.map(k=>`${e.stringValue(pn(k.field))}: ${k.signals.data}`).join(", ")}}`;else{for(let k of g){let Q=`${e.stringValue(pn(k.field))}: ${k.signals.data}`;D.includes(Q)||(D=`${D.substring(0,D.length-1)}, ${Q}}`)}_.update=D}return f.concat(g.map(k=>({name:k.signals.data})))},signals:(u,l,f)=>{if(u.parent&&!fw(u))for(let g of l.scales){let _=f.filter(D=>D.name===g.signals.data)[0];_.push="outer",delete _.value,delete _.update}return f}};function cw(u,l){return`domain(${e.stringValue(u.scaleName(l))})`}function fw(u){return u.parent&&pE(u.parent)&&!u.parent.parent}let Vy="_brush",dw="_scale_trigger",TW={defined:u=>u.type==="interval",signals:(u,l,f)=>{let g=l.name,_=g+ku,D=V2.defined(l),k=l.init?l.init[0]:null,Q=[],ie=[];if(l.translate&&!D){let Ke=`!event.item || event.item.mark.name !== ${e.stringValue(g+Vy)}`;AR(l,(Pt,sn)=>{let Ln=e.array(sn.between[0].filter??=[]);return Ln.includes(Ke)||Ln.push(Ke),Pt})}l.project.items.forEach((Ke,Pt)=>{let sn=Ke.channel;if(sn!==Pn&&sn!==or){jr("Interval selections only support x and y encoding channels.");return}let Ln=k?k[Pt]:null,Xn=wR(u,l,Ke,Ln),lr=Ke.signals.data,hr=Ke.signals.visual,kr=e.stringValue(u.scaleName(sn)),Ri=u.getScaleComponent(sn).get("type"),qi=_t(Ri)?"+":"";f.push(...Xn),Q.push(lr),ie.push({scaleName:u.scaleName(sn),expr:`(!isArray(${lr}) || (${qi}invert(${kr}, ${hr})[0] === ${qi}${lr}[0] && ${qi}invert(${kr}, ${hr})[1] === ${qi}${lr}[1]))`})}),!D&&ie.length&&f.push({name:g+dw,value:{},on:[{events:ie.map(Ke=>({scale:Ke.scaleName})),update:`${ie.map(Ke=>Ke.expr).join(" && ")} ? ${g+dw} : {}`}]});let ze=`unit: ${Yy(u)}, fields: ${_}, values`;return f.concat({name:g+Q2,...k?{init:`{${ze}: ${Ux(k)}}`}:{},...Q.length?{on:[{events:[{signal:Q.join(" || ")}],update:`${Q.join(" && ")} ? {${ze}: [${Q}]} : null`}]}:{}})},marks:(u,l,f)=>{let g=l.name,{x:_,y:D}=l.project.hasChannel,k=_==null?void 0:_.signals.visual,Q=D==null?void 0:D.signals.visual,ie=`data(${e.stringValue(l.name+$x)})`;if(V2.defined(l)||!_&&!D)return f;let ze={x:_!==void 0?{signal:`${k}[0]`}:{value:0},y:D!==void 0?{signal:`${Q}[0]`}:{value:0},x2:_!==void 0?{signal:`${k}[1]`}:{field:{group:"width"}},y2:D!==void 0?{signal:`${Q}[1]`}:{field:{group:"height"}}};if(l.resolve==="global")for(let lr of de(ze))ze[lr]=[{test:`${ie}.length && ${ie}[0].unit === ${Yy(u)}`,...ze[lr]},{value:0}];let{fill:Ke,fillOpacity:Pt,cursor:sn,...Ln}=l.mark,Xn=de(Ln).reduce((lr,hr)=>(lr[hr]=[{test:[_!==void 0&&`${k}[0] !== ${k}[1]`,D!==void 0&&`${Q}[0] !== ${Q}[1]`].filter(kr=>kr).join(" && "),value:Ln[hr]},{value:null}],lr),{});return[{name:`${g+Vy}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:Ke},fillOpacity:{value:Pt}},update:ze}},...f,{name:g+Vy,type:"rect",clip:!0,encode:{enter:{...sn?{cursor:{value:sn}}:{},fill:{value:"transparent"}},update:{...ze,...Xn}}}]}};function wR(u,l,f,g){let _=f.channel,D=f.signals.visual,k=f.signals.data,Q=V2.defined(l),ie=e.stringValue(u.scaleName(_)),ze=u.getScaleComponent(_),Ke=ze?ze.get("type"):void 0,Pt=lr=>`scale(${ie}, ${lr})`,sn=u.getSizeSignalRef(_===Pn?"width":"height").signal,Ln=`${_}(unit)`,Xn=AR(l,(lr,hr)=>[...lr,{events:hr.between[0],update:`[${Ln}, ${Ln}]`},{events:hr,update:`[${D}[0], clamp(${Ln}, 0, ${sn})]`}]);return Xn.push({events:{signal:l.name+dw},update:_t(Ke)?`[${Pt(`${k}[0]`)}, ${Pt(`${k}[1]`)}]`:"[0, 0]"}),Q?[{name:k,on:[]}]:[{name:D,...g?{init:Ux(g,!0,Pt)}:{value:[]},on:Xn},{name:k,...g?{init:Ux(g)}:{},on:[{events:{signal:D},update:`${D}[0] === ${D}[1] ? null : invert(${ie}, ${D})`}]}]}function AR(u,l){return u.events.reduce((f,g)=>g.between?l(f,g):(jr(`${g} is not an ordered event stream for interval selections.`),f),[])}let FW={defined:u=>u.type==="point",signals:(u,l,f)=>{let g=l.name,_=g+ku,D=l.project,k="(item().isVoronoi ? datum.datum : datum)",Q=Ge(u.component.selection??{}).reduce((Pt,sn)=>sn.type==="interval"?Pt.concat(sn.name+Vy):Pt,[]).map(Pt=>`indexof(item().mark.name, '${Pt}') < 0`).join(" && "),ie=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${Q?` && ${Q}`:""}`,ze=`unit: ${Yy(u)}, `;if(l.project.hasSelectionId)ze+=`${hp}: ${k}[${e.stringValue(hp)}]`;else{let Pt=D.items.map(sn=>{let Ln=u.fieldDef(sn.channel);return Ln!=null&&Ln.bin?`[${k}[${e.stringValue(u.vgField(sn.channel,{}))}], ${k}[${e.stringValue(u.vgField(sn.channel,{binSuffix:"end"}))}]]`:`${k}[${e.stringValue(sn.field)}]`}).join(", ");ze+=`fields: ${_}, values: [${Pt}]`}let Ke=l.events;return f.concat([{name:g+Q2,on:Ke?[{events:Ke,update:`${ie} ? {${ze}} : null`,force:!0}]:[]}])}};function Wy(u,l,f,g){let _=Ps(l)&&l.condition,D=g(l);if(_){let Q=e.array(_).map(ie=>{let ze=g(ie);if(c0(ie)){let{param:Ke,empty:Pt}=ie;return{test:cE(u,{param:Ke,empty:Pt}),...ze}}else return{test:fE(u,ie.test),...ze}});return{[f]:[...Q,...D!==void 0?[D]:[]]}}else return D!==void 0?{[f]:D}:{}}function rE(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"text",f=u.encoding[l];return Wy(u,f,l,g=>kv(g,u.config))}function kv(u,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"datum";if(u){if($d(u))return qr(u.value);if(Rs(u)){let{format:g,formatType:_}=Ub(u);return fs({fieldOrDatumDef:u,format:g,formatType:_,expr:f,config:l})}}}function TR(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{encoding:f,markDef:g,config:_,stack:D}=u,k=f.tooltip;if(e.isArray(k))return{tooltip:DR({tooltip:k},D,_,l)};{let Q=l.reactiveGeom?"datum.datum":"datum";return Wy(u,k,"tooltip",ie=>{let ze=kv(ie,_,Q);if(ze)return ze;if(ie===null)return;let Ke=vi("tooltip",g,_);if(Ke===!0&&(Ke={content:"encoding"}),e.isString(Ke))return{value:Ke};if(e.isObject(Ke))return Un(Ke)?Ke:Ke.content==="encoding"?DR(f,D,_,l):{signal:Q}})}}function FR(u,l,f){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_={},D=g?"datum.datum":"datum",k=[];function Q(ze,Ke){let Pt=ai(Ke),sn=Ud(ze)?ze:{...ze,type:u[Pt].type},Ln=sn.title||qb(sn,f),Xn=e.array(Ln).join(", "),lr;if(as(Ke)){let hr=Ke==="x"?"x2":"y2",kr=Rh(u[hr]);if(rs(sn.bin)&&kr){let Ri=fi(sn,{expr:D}),qi=fi(kr,{expr:D}),{format:Ds,formatType:Bi}=Ub(sn);lr=Sa(Ri,qi,Ds,Bi,f),_[hr]=!0}}if((as(Ke)||Ke===fn||Ke===et)&&l&&l.fieldChannel===Ke&&l.offset==="normalize"){let{format:hr,formatType:kr}=Ub(sn);lr=fs({fieldOrDatumDef:sn,format:hr,formatType:kr,expr:D,config:f,normalizeStack:!0}).signal}lr??=kv(sn,f,D).signal,k.push({channel:Ke,key:Xn,value:lr})}B9(u,(ze,Ke)=>{Er(ze)?Q(ze,Ke):_o(ze)&&Q(ze.condition,Ke)});let ie={};for(let{channel:ze,key:Ke,value:Pt}of k)!_[ze]&&!ie[Ke]&&(ie[Ke]=Pt);return ie}function DR(u,l,f){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_=FR(u,l,f,{reactiveGeom:g}),D=Ot(_).map(k=>{let[Q,ie]=k;return`"${Q}": ${ie}`});return D.length>0?{signal:`{${D.join(", ")}}`}:void 0}function DW(u){let{markDef:l,config:f}=u,g=vi("aria",l,f);return g===!1?{}:{...g?{aria:g}:{},...Qy(u),...OW(u)}}function Qy(u){let{mark:l,markDef:f,config:g}=u;if(g.aria===!1)return{};let _=vi("ariaRoleDescription",f,g);return _!=null?{ariaRoleDescription:{value:_}}:l in Or?{}:{ariaRoleDescription:{value:l}}}function OW(u){let{encoding:l,markDef:f,config:g,stack:_}=u,D=l.description;if(D)return Wy(u,D,"description",ie=>kv(ie,u.config));let k=vi("description",f,g);if(k!=null)return{description:qr(k)};if(g.aria===!1)return{};let Q=FR(l,_,g);if(!Xe(Q))return{description:{signal:Ot(Q).map((ie,ze)=>{let[Ke,Pt]=ie;return`"${ze>0?"; ":""}${Ke}: " + (${Pt})`}).join(" + ")}}}function uc(u,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{markDef:g,encoding:_,config:D}=l,{vgChannel:k}=f,{defaultRef:Q,defaultValue:ie}=f;Q===void 0&&(ie??=vi(u,g,D,{vgChannel:k,ignoreVgConfig:!0}),ie!==void 0&&(Q=qr(ie)));let ze=_[u];return Wy(l,ze,k??u,Ke=>Kr({channel:u,channelDef:Ke,markDef:g,config:D,scaleName:l.scaleName(u),scale:l.getScaleComponent(u),stack:null,defaultRef:Q}))}function OR(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{filled:void 0},{markDef:f,encoding:g,config:_}=u,{type:D}=f,k=l.filled??vi("filled",f,_),Q=Et(["bar","point","circle","square","geoshape"],D)?"transparent":void 0,ie=vi(k===!0?"color":void 0,f,_,{vgChannel:"fill"})??_.mark[k===!0&&"color"]??Q,ze=vi(k===!1?"color":void 0,f,_,{vgChannel:"stroke"})??_.mark[k===!1&&"color"],Ke=k?"fill":"stroke",Pt={...ie?{fill:qr(ie)}:{},...ze?{stroke:qr(ze)}:{}};return f.color&&(k?f.fill:f.stroke)&&jr(i0("property",{fill:"fill"in f,stroke:"stroke"in f})),{...Pt,...uc("color",u,{vgChannel:Ke,defaultValue:k?ie:ze}),...uc("fill",u,{defaultValue:g.fill?ie:void 0}),...uc("stroke",u,{defaultValue:g.stroke?ze:void 0})}}function NW(u){let{encoding:l,mark:f}=u,g=l.order;return!of(f)&&$d(g)?Wy(u,g,"zindex",_=>qr(_.value)):{}}function Iv(u){let{channel:l,markDef:f,encoding:g={},model:_,bandPosition:D}=u,k=`${l}Offset`,Q=f[k],ie=g[k];if((k==="xOffset"||k==="yOffset")&&ie){let Ke=Kr({channel:k,channelDef:ie,markDef:f,config:_==null?void 0:_.config,scaleName:_.scaleName(k),scale:_.getScaleComponent(k),stack:null,defaultRef:qr(Q),bandPosition:D});return{offsetType:"encoding",offset:Ke}}let ze=f[k];return ze?{offsetType:"visual",offset:ze}:{}}function kc(u,l,f){let{defaultPos:g,vgChannel:_}=f,{encoding:D,markDef:k,config:Q,stack:ie}=l,ze=D[u],Ke=D[Es(u)],Pt=l.scaleName(u),sn=l.getScaleComponent(u),{offset:Ln,offsetType:Xn}=Iv({channel:u,markDef:k,encoding:D,model:l,bandPosition:.5}),lr=hw({model:l,defaultPos:g,channel:u,scaleName:Pt,scale:sn}),hr=!ze&&as(u)&&(D.latitude||D.longitude)?{field:l.getName(u)}:NR({channel:u,channelDef:ze,channel2Def:Ke,markDef:k,config:Q,scaleName:Pt,scale:sn,stack:ie,offset:Ln,defaultRef:lr,bandPosition:Xn==="encoding"?0:void 0});return hr?{[_||u]:hr}:void 0}function NR(u){let{channel:l,channelDef:f,scaleName:g,stack:_,offset:D,markDef:k}=u;if(Rs(f)&&_&&l===_.fieldChannel){if(Er(f)){let Q=f.bandPosition;if(Q===void 0&&k.type==="text"&&(l==="radius"||l==="theta")&&(Q=.5),Q!==void 0)return Dr({scaleName:g,fieldOrDatumDef:f,startSuffix:"start",bandPosition:Q,offset:D})}return ir(f,g,{suffix:"end"},{offset:D})}return $t(u)}function hw(u){let{model:l,defaultPos:f,channel:g,scaleName:_,scale:D}=u,{markDef:k,config:Q}=l;return()=>{let ie=ai(g),ze=Ji(g),Ke=vi(g,k,Q,{vgChannel:ze});if(Ke!==void 0)return Lr(g,Ke);switch(f){case"zeroOrMin":case"zeroOrMax":if(_){let Pt=D.get("type");if(!Et([tl.LOG,tl.TIME,tl.UTC],Pt)){if(D.domainDefinitelyIncludesZero())return{scale:_,value:0}}}if(f==="zeroOrMin")return ie==="y"?{field:{group:"height"}}:{value:0};switch(ie){case"radius":return{signal:`min(${l.width.signal},${l.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...l[es(g)],mult:.5}}}}let RW={left:"x",center:"xc",right:"x2"},LW={top:"y",middle:"yc",bottom:"y2"};function RR(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle";if(u==="radius"||u==="theta")return Ji(u);let _=u==="x"?"align":"baseline",D=vi(_,l,f),k;return Un(D)?(jr(Ls(_)),k=void 0):k=D,u==="x"?RW[k||(g==="top"?"left":"center")]:LW[k||g]}function iE(u,l,f){let{defaultPos:g,defaultPos2:_,range:D}=f;return D?LR(u,l,{defaultPos:g,defaultPos2:_}):kc(u,l,{defaultPos:g})}function LR(u,l,f){let{defaultPos:g,defaultPos2:_}=f,{markDef:D,config:k}=l,Q=Es(u),ie=es(u),ze=kW(l,_,Q),Ke=ze[ie]?RR(u,D,k):Ji(u);return{...kc(u,l,{defaultPos:g,vgChannel:Ke}),...ze}}function kW(u,l,f){let{encoding:g,mark:_,markDef:D,stack:k,config:Q}=u,ie=ai(f),ze=es(f),Ke=Ji(f),Pt=g[ie],sn=u.scaleName(ie),Ln=u.getScaleComponent(ie),{offset:Xn}=f in g||f in D?Iv({channel:f,markDef:D,encoding:g,model:u}):Iv({channel:ie,markDef:D,encoding:g,model:u});if(!Pt&&(f==="x2"||f==="y2")&&(g.latitude||g.longitude)){let hr=es(f),kr=u.markDef[hr];return kr!=null?{[hr]:{value:kr}}:{[Ke]:{field:u.getName(f)}}}let lr=IW({channel:f,channelDef:Pt,channel2Def:g[f],markDef:D,config:Q,scaleName:sn,scale:Ln,stack:k,offset:Xn,defaultRef:void 0});return lr!==void 0?{[Ke]:lr}:sE(f,D)||sE(f,{[f]:is(f,D,Q.style),[ze]:is(ze,D,Q.style)})||sE(f,Q[_])||sE(f,Q.mark)||{[Ke]:hw({model:u,defaultPos:l,channel:f,scaleName:sn,scale:Ln})()}}function IW(u){let{channel:l,channelDef:f,channel2Def:g,markDef:_,config:D,scaleName:k,scale:Q,stack:ie,offset:ze,defaultRef:Ke}=u;return Rs(f)&&ie&&l.charAt(0)===ie.fieldChannel.charAt(0)?ir(f,k,{suffix:"start"},{offset:ze}):$t({channel:l,channelDef:g,scaleName:k,scale:Q,stack:ie,markDef:_,config:D,offset:ze,defaultRef:Ke})}function sE(u,l){let f=es(u),g=Ji(u);if(l[g]!==void 0)return{[g]:Lr(u,l[g])};if(l[u]!==void 0)return{[g]:Lr(u,l[u])};if(l[f]){let _=l[f];if(x(_))jr(qo(f));else return{[f]:Lr(u,_)}}}function W2(u,l){let{config:f,encoding:g,markDef:_}=u,D=_.type,k=Es(l),Q=es(l),ie=g[l],ze=g[k],Ke=u.getScaleComponent(l),Pt=Ke?Ke.get("type"):void 0,sn=_.orient,Ln=g[Q]??g.size??vi("size",_,f,{vgChannel:Q}),Xn=D==="bar"&&(l==="x"?sn==="vertical":sn==="horizontal");return Er(ie)&&(pr(ie.bin)||rs(ie.bin)||ie.timeUnit&&!ze)&&!(Ln&&!x(Ln))&&!Me(Pt)?BW({fieldDef:ie,fieldDef2:ze,channel:l,model:u}):(Rs(ie)&&Me(Pt)||Xn)&&!ze?PW(ie,l,u):LR(l,u,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function MW(u,l,f,g,_){if(x(_))if(f){let k=f.get("type");if(k==="band"){let Q=`bandwidth('${l}')`;return _.band!==1&&(Q=`${_.band} * ${Q}`),{signal:`max(0.25, ${Q})`}}else _.band!==1&&(jr(Be(k)),_=void 0)}else return{mult:_.band,field:{group:u}};else{if(Un(_))return _;if(_)return{value:_}}if(f){let k=f.get("range");if(br(k)&&e.isNumber(k.step))return{value:k.step-2}}return{value:Jb(g.view,u)-2}}function PW(u,l,f){let{markDef:g,encoding:_,config:D,stack:k}=f,Q=g.orient,ie=f.scaleName(l),ze=f.getScaleComponent(l),Ke=es(l),Pt=Es(l),sn=Ea(l),Ln=f.scaleName(sn),Xn=Q==="horizontal"&&l==="y"||Q==="vertical"&&l==="x",lr;(_.size||g.size)&&(Xn?lr=uc("size",f,{vgChannel:Ke,defaultRef:qr(g.size)}):jr(Rn(g.type)));let hr=!!lr,kr=P1({channel:l,fieldDef:u,markDef:g,config:D,scaleType:ze==null?void 0:ze.get("type"),useVlSizeChannel:Xn});lr=lr||{[Ke]:MW(Ke,Ln||ie,ze,D,kr)};let Ri=(ze==null?void 0:ze.get("type"))==="band"&&x(kr)&&!hr?"top":"middle",qi=RR(l,g,D,Ri),Ds=qi==="xc"||qi==="yc",{offset:Bi,offsetType:ta}=Iv({channel:l,markDef:g,encoding:_,model:f,bandPosition:Ds?.5:0}),os=$t({channel:l,channelDef:u,markDef:g,config:D,scaleName:ie,scale:ze,stack:k,offset:Bi,defaultRef:hw({model:f,defaultPos:"mid",channel:l,scaleName:ie,scale:ze}),bandPosition:Ds?ta==="encoding"?0:.5:Un(kr)?{signal:`(1-${kr})/2`}:x(kr)?(1-kr.band)/2:0});if(Ke)return{[qi]:os,...lr};{let sl=Ji(Pt),Sl=lr[Ke],cc=Bi?{...Sl,offset:Bi}:Sl;return{[qi]:os,[sl]:e.isArray(os)?[os[0],{...os[1],offset:cc}]:{...os,offset:cc}}}}function Mv(u,l,f,g,_){if(oe(u))return 0;let D=u==="x"||u==="y2"?-l/2:l/2;if(Un(f)||Un(_)||Un(g)){let k=gi(f),Q=gi(_),ie=gi(g),ze=ie?`${ie} + `:"",Ke=k?`(${k} ? -1 : 1) * `:"",Pt=Q?`(${Q} + ${D})`:D;return{signal:ze+Ke+Pt}}else return _=_||0,g+(f?-_-D:+_+D)}function BW(u){var l;let{fieldDef:f,fieldDef2:g,channel:_,model:D}=u,{config:k,markDef:Q,encoding:ie}=D,ze=D.getScaleComponent(_),Ke=D.scaleName(_),Pt=ze?ze.get("type"):void 0,sn=ze.get("reverse"),Ln=P1({channel:_,fieldDef:f,markDef:Q,config:k,scaleType:Pt}),Xn=(l=D.component.axes[_])===null||l===void 0?void 0:l[0],lr=(Xn==null?void 0:Xn.get("translate"))??.5,hr=as(_)?vi("binSpacing",Q,k)??0:0,kr=Es(_),Ri=Ji(_),qi=Ji(kr),{offset:Ds}=Iv({channel:_,markDef:Q,encoding:ie,model:D,bandPosition:0}),Bi=Un(Ln)?{signal:`(1-${Ln.signal})/2`}:x(Ln)?(1-Ln.band)/2:.5;if(pr(f.bin)||f.timeUnit)return{[qi]:kR({fieldDef:f,scaleName:Ke,bandPosition:Bi,offset:Mv(kr,hr,sn,lr,Ds)}),[Ri]:kR({fieldDef:f,scaleName:Ke,bandPosition:Un(Bi)?{signal:`1-${Bi.signal}`}:1-Bi,offset:Mv(_,hr,sn,lr,Ds)})};if(rs(f.bin)){let ta=ir(f,Ke,{},{offset:Mv(kr,hr,sn,lr,Ds)});if(Er(g))return{[qi]:ta,[Ri]:ir(g,Ke,{},{offset:Mv(_,hr,sn,lr,Ds)})};if(Le(f.bin)&&f.bin.step)return{[qi]:ta,[Ri]:{signal:`scale("${Ke}", ${fi(f,{expr:"datum"})} + ${f.bin.step})`,offset:Mv(_,hr,sn,lr,Ds)}}}jr(ic(kr))}function kR(u){let{fieldDef:l,scaleName:f,bandPosition:g,offset:_}=u;return Dr({scaleName:f,fieldOrDatumDef:l,bandPosition:g,offset:_})}let jW=new Set(["aria","width","height"]);function Vd(u,l){let{fill:f=void 0,stroke:g=void 0}=l.color==="include"?OR(u):{};return{...qW(u.markDef,l),...IR(u,"fill",f),...IR(u,"stroke",g),...uc("opacity",u),...uc("fillOpacity",u),...uc("strokeOpacity",u),...uc("strokeWidth",u),...uc("strokeDash",u),...NW(u),...TR(u),...rE(u,"href"),...DW(u)}}function IR(u,l,f){let{config:g,mark:_,markDef:D}=u;if(vi("invalid",D,g)==="hide"&&f&&!of(_)){let Q=UW(u,{invalid:!0,channels:ys});if(Q)return{[l]:[{test:Q,value:null},...e.array(f)]}}return f?{[l]:f}:{}}function qW(u,l){return gr.reduce((f,g)=>(!jW.has(g)&&u[g]!==void 0&&l[g]!=="ignore"&&(f[g]=qr(u[g])),f),{})}function UW(u,l){let{invalid:f=!1,channels:g}=l,_=g.reduce((k,Q)=>{let ie=u.getScaleComponent(Q);if(ie){let ze=ie.get("type"),Ke=u.vgField(Q,{expr:"datum"});Ke&&_t(ze)&&(k[Ke]=!0)}return k},{}),D=de(_);if(D.length>0){let k=f?"||":"&&";return D.map(Q=>kn(Q,f)).join(` ${k} `)}}function pw(u){let{config:l,markDef:f}=u;if(vi("invalid",f,l)){let _=$W(u,{channels:no});if(_)return{defined:{signal:_}}}return{}}function $W(u,l){let{invalid:f=!1,channels:g}=l,_=g.reduce((k,Q)=>{let ie=u.getScaleComponent(Q);if(ie){var ze;let Ke=ie.get("type"),Pt=u.vgField(Q,{expr:"datum",binSuffix:(ze=u.stack)!==null&&ze!==void 0&&ze.impute?"mid":void 0});Pt&&_t(Ke)&&(k[Pt]=!0)}return k},{}),D=de(_);if(D.length>0){let k=f?"||":"&&";return D.map(Q=>kn(Q,f)).join(` ${k} `)}}function MR(u,l){if(l!==void 0)return{[u]:qr(l)}}let mw="voronoi",PR={defined:u=>u.type==="point"&&u.nearest,parse:(u,l)=>{if(l.events)for(let f of l.events)f.markname=u.getName(mw)},marks:(u,l,f)=>{let{x:g,y:_}=l.project.hasChannel,D=u.mark;if(of(D))return jr(vs(D)),f;let k={name:u.getName(mw),type:"path",interactive:!0,from:{data:u.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...TR(u,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:g||!_?"datum.datum.x || 0":"0"},y:{expr:_||!g?"datum.datum.y || 0":"0"},size:[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]}]},Q=0,ie=!1;return f.forEach((ze,Ke)=>{let Pt=ze.name??"";Pt===u.component.mark[0].name?Q=Ke:Pt.indexOf(mw)>=0&&(ie=!0)}),ie||f.splice(Q+1,0,k),f}},oE={defined:u=>u.type==="point"&&u.resolve==="global"&&u.bind&&u.bind!=="scales"&&!W9(u.bind),parse:(u,l,f)=>zR(l,f),topLevelSignals:(u,l,f)=>{let g=l.name,_=l.project,D=l.bind,k=l.init&&l.init[0],Q=PR.defined(l)?"(item().isVoronoi ? datum.datum : datum)":"datum";return _.items.forEach((ie,ze)=>{let Ke=zt(`${g}_${ie.field}`);f.filter(sn=>sn.name===Ke).length||f.unshift({name:Ke,...k?{init:Ux(k[ze])}:{value:null},on:l.events?[{events:l.events,update:`datum && item().mark.marktype !== 'group' ? ${Q}[${e.stringValue(ie.field)}] : null`}]:[],bind:D[ie.field]??D[ie.channel]??D})}),f},signals:(u,l,f)=>{let g=l.name,_=l.project,D=f.filter(ze=>ze.name===g+Q2)[0],k=g+ku,Q=_.items.map(ze=>zt(`${g}_${ze.field}`)),ie=Q.map(ze=>`${ze} !== null`).join(" && ");return Q.length&&(D.update=`${ie} ? {fields: ${k}, values: [${Q.join(", ")}]} : null`),delete D.value,delete D.on,f}},Pv="_toggle",xw={defined:u=>u.type==="point"&&!!u.toggle,signals:(u,l,f)=>f.concat({name:l.name+Pv,value:!1,on:[{events:l.events,update:l.toggle}]}),modifyExpr:(u,l)=>{let f=l.name+Q2,g=l.name+Pv;return`${g} ? null : ${f}, `+(l.resolve==="global"?`${g} ? null : true, `:`${g} ? null : {unit: ${Yy(u)}}, `)+`${g} ? ${f} : null`}},zW={defined:u=>u.clear!==void 0&&u.clear!==!1,parse:(u,l)=>{l.clear&&(l.clear=e.isString(l.clear)?e.parseSelector(l.clear,"view"):l.clear)},topLevelSignals:(u,l,f)=>{if(oE.defined(l))for(let g of l.project.items){let _=f.findIndex(D=>D.name===zt(`${l.name}_${g.field}`));_!==-1&&f[_].on.push({events:l.clear,update:"null"})}return f},signals:(u,l,f)=>{function g(_,D){_!==-1&&f[_].on&&f[_].on.push({events:l.clear,update:D})}if(l.type==="interval")for(let _ of l.project.items){let D=f.findIndex(k=>k.name===_.signals.visual);if(g(D,"[0, 0]"),D===-1){let k=f.findIndex(Q=>Q.name===_.signals.data);g(k,"null")}}else{let _=f.findIndex(D=>D.name===l.name+Q2);g(_,"null"),xw.defined(l)&&(_=f.findIndex(D=>D.name===l.name+Pv),g(_,"false"))}return f}},BR={defined:u=>{let l=u.resolve==="global"&&u.bind&&W9(u.bind),f=u.project.items.length===1&&u.project.items[0].field!==hp;return l&&!f&&jr(Zl),l&&f},parse:(u,l,f)=>{let g=be(f);if(g.select=e.isString(g.select)?{type:g.select,toggle:l.toggle}:{...g.select,toggle:l.toggle},zR(l,g),e.isObject(f.select)&&(f.select.on||f.select.clear)){let k='event.item && indexof(event.item.mark.role, "legend") < 0';for(let Q of l.events)Q.filter=e.array(Q.filter??[]),Q.filter.includes(k)||Q.filter.push(k)}let _=Q9(l.bind)?l.bind.legend:"click",D=e.isString(_)?e.parseSelector(_,"view"):e.array(_);l.bind={legend:{merge:D}}},topLevelSignals:(u,l,f)=>{let g=l.name,_=Q9(l.bind)&&l.bind.legend,D=k=>Q=>{let ie=be(Q);return ie.markname=k,ie};for(let k of l.project.items){if(!k.hasLegend)continue;let Q=`${zt(k.field)}_legend`,ie=`${g}_${Q}`;if(f.filter(Ke=>Ke.name===ie).length===0){let Ke=_.merge.map(D(`${Q}_symbols`)).concat(_.merge.map(D(`${Q}_labels`))).concat(_.merge.map(D(`${Q}_entries`)));f.unshift({name:ie,...l.init?{}:{value:null},on:[{events:Ke,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:_.merge,update:`!event.item || !datum ? null : ${ie}`,force:!0}]})}}return f},signals:(u,l,f)=>{let g=l.name,_=l.project,D=f.find(sn=>sn.name===g+Q2),k=g+ku,Q=_.items.filter(sn=>sn.hasLegend).map(sn=>zt(`${g}_${zt(sn.field)}_legend`)),ze=`${Q.map(sn=>`${sn} !== null`).join(" && ")} ? {fields: ${k}, values: [${Q.join(", ")}]} : null`;l.events&&Q.length>0?D.on.push({events:Q.map(sn=>({signal:sn})),update:ze}):Q.length>0&&(D.update=ze,delete D.value,delete D.on);let Ke=f.find(sn=>sn.name===g+Pv),Pt=Q9(l.bind)&&l.bind.legend;return Ke&&(l.events?Ke.on.push({...Ke.on[0],events:Pt}):Ke.on[0].events=Pt),f}};function HW(u,l,f){var g;let _=(g=u.fieldDef(l))===null||g===void 0?void 0:g.field;for(let D of Ge(u.component.selection??{})){let k=D.project.hasField[_]??D.project.hasChannel[l];if(k&&BR.defined(D)){let Q=f.get("selections")??[];Q.push(D.name),f.set("selections",Q,!1),k.hasLegend=!0}}}let aE="_translate_anchor",jR="_translate_delta",VW={defined:u=>u.type==="interval"&&u.translate,signals:(u,l,f)=>{let g=l.name,_=V2.defined(l),D=g+aE,{x:k,y:Q}=l.project.hasChannel,ie=e.parseSelector(l.translate,"scope");return _||(ie=ie.map(ze=>(ze.between[0].markname=g+Vy,ze))),f.push({name:D,value:{},on:[{events:ie.map(ze=>ze.between[0]),update:"{x: x(unit), y: y(unit)"+(k!==void 0?`, extent_x: ${_?cw(u,Pn):`slice(${k.signals.visual})`}`:"")+(Q!==void 0?`, extent_y: ${_?cw(u,or):`slice(${Q.signals.visual})`}`:"")+"}"}]},{name:g+jR,value:{},on:[{events:ie,update:`{x: ${D}.x - x(unit), y: ${D}.y - y(unit)}`}]}),k!==void 0&&qR(u,l,k,"width",f),Q!==void 0&&qR(u,l,Q,"height",f),f}};function qR(u,l,f,g,_){let D=l.name,k=D+aE,Q=D+jR,ie=f.channel,ze=V2.defined(l),Ke=_.filter(Bi=>Bi.name===f.signals[ze?"data":"visual"])[0],Pt=u.getSizeSignalRef(g).signal,sn=u.getScaleComponent(ie),Ln=sn.get("type"),Xn=sn.get("reverse"),lr=ze?ie===Pn?Xn?"":"-":Xn?"-":"":"",hr=`${k}.extent_${ie}`,kr=`${lr}${Q}.${ie} / ${ze?`${Pt}`:`span(${hr})`}`,Ri=ze?Ln==="log"?"panLog":Ln==="symlog"?"panSymlog":Ln==="pow"?"panPow":"panLinear":"panLinear",qi=ze?Ln==="pow"?`, ${sn.get("exponent")??1}`:Ln==="symlog"?`, ${sn.get("constant")??1}`:"":"",Ds=`${Ri}(${hr}, ${kr}${qi})`;Ke.on.push({events:{signal:Q},update:ze?Ds:`clampRange(${Ds}, 0, ${Pt})`})}let Lf="_zoom_anchor",uE="_zoom_delta",WW={defined:u=>u.type==="interval"&&u.zoom,signals:(u,l,f)=>{let g=l.name,_=V2.defined(l),D=g+uE,{x:k,y:Q}=l.project.hasChannel,ie=e.stringValue(u.scaleName(Pn)),ze=e.stringValue(u.scaleName(or)),Ke=e.parseSelector(l.zoom,"scope");return _||(Ke=Ke.map(Pt=>(Pt.markname=g+Vy,Pt))),f.push({name:g+Lf,on:[{events:Ke,update:_?"{"+[ie?`x: invert(${ie}, x(unit))`:"",ze?`y: invert(${ze}, y(unit))`:""].filter(Pt=>!!Pt).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:D,on:[{events:Ke,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),k!==void 0&&UR(u,l,k,"width",f),Q!==void 0&&UR(u,l,Q,"height",f),f}};function UR(u,l,f,g,_){let D=l.name,k=f.channel,Q=V2.defined(l),ie=_.filter(Ri=>Ri.name===f.signals[Q?"data":"visual"])[0],ze=u.getSizeSignalRef(g).signal,Ke=u.getScaleComponent(k),Pt=Ke.get("type"),sn=Q?cw(u,k):ie.name,Ln=D+uE,Xn=`${D}${Lf}.${k}`,lr=Q?Pt==="log"?"zoomLog":Pt==="symlog"?"zoomSymlog":Pt==="pow"?"zoomPow":"zoomLinear":"zoomLinear",hr=Q?Pt==="pow"?`, ${Ke.get("exponent")??1}`:Pt==="symlog"?`, ${Ke.get("constant")??1}`:"":"",kr=`${lr}(${sn}, ${Xn}, ${Ln}${hr})`;ie.on.push({events:{signal:Ln},update:Q?kr:`clampRange(${kr}, 0, ${ze})`})}let $x="_store",Q2="_tuple",gw="_modify",$R="vlSelectionResolve",Gy=[FW,TW,AW,xw,oE,V2,BR,zW,VW,WW,PR];function QW(u){let l=u.parent;for(;l&&!H1(l);)l=l.parent;return l}function Yy(u){let{escape:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{escape:!0},f=l?e.stringValue(u.name):u.name,g=QW(u);if(g){let{facet:_}=g;for(let D of ee)_[D]&&(f+=` + '__facet_${D}_' + (facet[${e.stringValue(g.vgField(D))}])`)}return f}function yw(u){return Ge(u.component.selection??{}).reduce((l,f)=>l||f.project.hasSelectionId,!1)}function zR(u,l){(e.isString(l.select)||!l.select.on)&&delete u.events,(e.isString(l.select)||!l.select.clear)&&delete u.clear,(e.isString(l.select)||!l.select.toggle)&&delete u.toggle}function lE(u){let l=[];return u.type==="Identifier"?[u.name]:u.type==="Literal"?[u.value]:(u.type==="MemberExpression"&&(l.push(...lE(u.object)),l.push(...lE(u.property))),l)}function HR(u){return u.object.type==="MemberExpression"?HR(u.object):u.object.name==="datum"}function VR(u){let l=e.parseExpression(u),f=new Set;return l.visit(g=>{g.type==="MemberExpression"&&HR(g)&&f.add(lE(g).slice(1).join("."))}),f}class Ky extends va{clone(){return new Ky(null,this.model,be(this.filter))}constructor(l,f,g){super(l);this.model=f,this.filter=g,yn(this,"expr",void 0),yn(this,"_dependentFields",void 0),this.expr=fE(this.model,this.filter,this),this._dependentFields=VR(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function vw(u,l){let f={},g=u.config.selection;if(!l||!l.length)return f;for(let _ of l){let D=zt(_.name),k=_.select,Q=e.isString(k)?k:k.type,ie=e.isObject(k)?be(k):{type:Q},ze=g[Q];for(let Pt in ze)Pt==="fields"||Pt==="encodings"||(Pt==="mark"&&(ie[Pt]={...ze[Pt],...ie[Pt]}),(ie[Pt]===void 0||ie[Pt]===!0)&&(ie[Pt]=ze[Pt]??ie[Pt]));let Ke=f[D]={...ie,name:D,type:Q,init:_.value,bind:_.bind,events:e.isString(ie.on)?e.parseSelector(ie.on,"scope"):e.array(be(ie.on))};for(let Pt of Gy)Pt.defined(Ke)&&Pt.parse&&Pt.parse(u,Ke,_)}return f}function cE(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"datum",_=e.isString(l)?l:l.param,D=zt(_),k=e.stringValue(D+$x),Q;try{Q=u.getSelectionComponent(D,_)}catch{return`!!${D}`}if(Q.project.timeUnit){let sn=f??u.component.data.raw,Ln=Q.project.timeUnit.clone();sn.parent?Ln.insertAsParentOf(sn):sn.parent=Ln}let ie=Q.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",ze=Q.resolve==="global"?")":`, ${e.stringValue(Q.resolve)})`,Ke=`${ie}${k}, ${g}${ze}`,Pt=`length(data(${k}))`;return l.empty===!1?`${Pt} && ${Ke}`:`!${Pt} || ${Ke}`}function WR(u,l,f){let g=zt(l),_=f.encoding,D=f.field,k;try{k=u.getSelectionComponent(g,l)}catch{return g}if(!_&&!D)D=k.project.items[0].field,k.project.items.length>1&&jr(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${e.stringValue(D)}.`);else if(_&&!D){let Q=k.project.items.filter(ie=>ie.channel===_);!Q.length||Q.length>1?(D=k.project.items[0].field,jr((Q.length?"Multiple ":"No ")+`matching ${e.stringValue(_)} encoding found for selection ${e.stringValue(f.param)}. Using "field": ${e.stringValue(D)}.`)):D=Q[0].field}return`${k.name}[${e.stringValue(pn(D))}]`}function GW(u,l){for(let[f,g]of Ot(u.component.selection??{})){let _=u.getName(`lookup_${f}`);u.component.data.outputNodes[_]=g.materialized=new Rf(new Ky(l,u,{param:f}),_,Ia.Lookup,u.component.data.outputNodeRefCounts)}}function fE(u,l,f){return en(l,g=>e.isString(g)?g:el(g)?cE(u,g,f):Tu(g))}function YW(u,l){if(!!u)return e.isArray(u)&&!Kn(u)?u.map(f=>qb(f,l)).join(", "):u}function _w(u,l,f,g){u.encode??={},u.encode[l]??={},u.encode[l].update??={},u.encode[l].update[f]=g}function Bv(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{header:!1},{disable:_,orient:D,scale:k,labelExpr:Q,title:ie,zindex:ze,...Ke}=u.combine();if(!_){for(let Ln in Ke){let Xn=mV[Ln],lr=Ke[Ln];if(Xn&&Xn!==l&&Xn!=="both")delete Ke[Ln];else if(Cv(lr)){let{condition:hr,...kr}=lr,Ri=e.array(hr),qi=ON[Ln];if(qi){let{vgProp:Ds,part:Bi}=qi,ta=[...Ri.map(os=>{let{test:sl,...Sl}=os;return{test:fE(null,sl),...Sl}}),kr];_w(Ke,Bi,Ds,ta),delete Ke[Ln]}else if(qi===null){let Ds={signal:Ri.map(Bi=>{let{test:ta,...os}=Bi;return`${fE(null,ta)} ? ${yi(os)} : `}).join("")+yi(kr)};Ke[Ln]=Ds}}else if(Un(lr)){let hr=ON[Ln];if(hr){let{vgProp:kr,part:Ri}=hr;_w(Ke,Ri,kr,lr),delete Ke[Ln]}}Et(["labelAlign","labelBaseline"],Ln)&&Ke[Ln]===null&&delete Ke[Ln]}if(l==="grid"){if(!Ke.grid)return;if(Ke.encode){let{grid:Ln}=Ke.encode;Ke.encode={...Ln?{grid:Ln}:{}},Xe(Ke.encode)&&delete Ke.encode}return{scale:k,orient:D,...Ke,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Ne(ze,0)}}else{if(!g.header&&u.mainExtracted)return;if(Q!==void 0){var Pt,sn;let Xn=Q;(Pt=Ke.encode)!==null&&Pt!==void 0&&(sn=Pt.labels)!==null&&sn!==void 0&&sn.update&&Un(Ke.encode.labels.update.text)&&(Xn=qn(Q,"datum.label",Ke.encode.labels.update.text.signal)),_w(Ke,"labels","text",{signal:Xn})}if(Ke.labelAlign===null&&delete Ke.labelAlign,Ke.encode){for(let Xn of NN)u.hasAxisPart(Xn)||delete Ke.encode[Xn];Xe(Ke.encode)&&delete Ke.encode}let Ln=YW(ie,f);return{scale:k,orient:D,grid:!1,...Ln?{title:Ln}:{},...Ke,...f.aria===!1?{aria:!1}:{},zindex:Ne(ze,0)}}}}function QR(u){let{axes:l}=u.component,f=[];for(let g of no)if(l[g]){for(let _ of l[g])if(!_.get("disable")&&!_.get("gridScale")){let D=g==="x"?"height":"width",k=u.getSizeSignalRef(D).signal;D!==k&&f.push({name:D,update:k})}}return f}function KW(u,l){let{x:f=[],y:g=[]}=u;return[...f.map(_=>Bv(_,"grid",l)),...g.map(_=>Bv(_,"grid",l)),...f.map(_=>Bv(_,"main",l)),...g.map(_=>Bv(_,"main",l))].filter(_=>_)}function GR(u,l,f,g){return Object.assign.apply(null,[{},...u.map(_=>{if(_==="axisOrient"){let D=f==="x"?"bottom":"left",k=l[f==="x"?"axisBottom":"axisLeft"]||{},Q=l[f==="x"?"axisTop":"axisRight"]||{},ie=new Set([...de(k),...de(Q)]),ze={};for(let Ke of ie.values())ze[Ke]={signal:`${g.signal} === "${D}" ? ${gi(k[Ke])} : ${gi(Q[Ke])}`};return ze}return l[_]})])}function JW(u,l,f,g){let _=l==="band"?["axisDiscrete","axisBand"]:l==="point"?["axisDiscrete","axisPoint"]:Ks(l)?["axisQuantitative"]:l==="time"||l==="utc"?["axisTemporal"]:[],D=u==="x"?"axisX":"axisY",k=Un(f)?"axisOrient":`axis${bn(f)}`,Q=[..._,..._.map(ze=>D+ze.substr(4))],ie=["axis",k,D];return{vlOnlyAxisConfig:GR(Q,g,u,f),vgAxisConfig:GR(ie,g,u,f),axisConfigStyle:XW([...ie,...Q],g)}}function XW(u,l){let f=[{}];for(let _ of u){var g;let D=(g=l[_])===null||g===void 0?void 0:g.style;if(D){D=e.array(D);for(let k of D)f.push(l.style[k])}}return Object.assign.apply(null,f)}function bw(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_=pa(u,f,l);if(_!==void 0)return{configFrom:"style",configValue:_};for(let k of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var D;if(((D=g[k])===null||D===void 0?void 0:D[u])!==void 0)return{configFrom:k,configValue:g[k][u]}}return{}}let YR={scale:u=>{let{model:l,channel:f}=u;return l.scaleName(f)},format:u=>{let{fieldOrDatumDef:l,config:f,axis:g}=u,{format:_,formatType:D}=g;return Gr(l,l.type,_,D,f,!0)},formatType:u=>{let{axis:l,fieldOrDatumDef:f,scaleType:g}=u,{formatType:_}=l;return Yi(_,f,g)},grid:u=>{let{fieldOrDatumDef:l,axis:f,scaleType:g}=u;return f.grid??ZW(g,l)},gridScale:u=>{let{model:l,channel:f}=u;return eQ(l,f)},labelAlign:u=>{let{axis:l,labelAngle:f,orient:g,channel:_}=u;return l.labelAlign||JR(f,g,_)},labelAngle:u=>{let{labelAngle:l}=u;return l},labelBaseline:u=>{let{axis:l,labelAngle:f,orient:g,channel:_}=u;return l.labelBaseline||KR(f,g,_)},labelFlush:u=>{let{axis:l,fieldOrDatumDef:f,channel:g}=u;return l.labelFlush??nQ(f.type,g)},labelOverlap:u=>{let{axis:l,fieldOrDatumDef:f,scaleType:g}=u;return l.labelOverlap??rQ(f.type,g,Er(f)&&!!f.timeUnit,Er(f)?f.sort:void 0)},orient:u=>{let{orient:l}=u;return l},tickCount:u=>{let{channel:l,model:f,axis:g,fieldOrDatumDef:_,scaleType:D}=u,k=l==="x"?"width":l==="y"?"height":void 0,Q=k?f.getSizeSignalRef(k):void 0;return g.tickCount??E({fieldOrDatumDef:_,scaleType:D,size:Q,values:g.values})},title:u=>{let{axis:l,model:f,channel:g}=u;if(l.title!==void 0)return l.title;let _=j(f,g);if(_!==void 0)return _;let D=f.typedFieldDef(g),k=g==="x"?"x2":"y2",Q=f.fieldDef(k);return ws(D?[Iy(D)]:[],Er(Q)?[Iy(Q)]:[])},values:u=>{let{axis:l,fieldOrDatumDef:f}=u;return he(l,f)},zindex:u=>{let{axis:l,fieldOrDatumDef:f,mark:g}=u;return l.zindex??dt(g,f)}};function ZW(u,l){return!Me(u)&&Er(l)&&!pr(l==null?void 0:l.bin)&&!rs(l==null?void 0:l.bin)}function eQ(u,l){let f=l==="x"?"y":"x";if(u.getScaleComponent(f))return u.scaleName(f)}function tQ(u,l,f,g,_){let D=l==null?void 0:l.labelAngle;if(D!==void 0)return Un(D)?D:nn(D);{let{configValue:k}=bw("labelAngle",g,l==null?void 0:l.style,_);return k!==void 0?nn(k):f===Pn&&Et([Ul,Y0],u.type)&&!(Er(u)&&u.timeUnit)?270:void 0}}function Ew(u){return`(((${u.signal} % 360) + 360) % 360)`}function KR(u,l,f,g){if(u!==void 0)if(f==="x"){if(Un(u)){let _=Ew(u),D=Un(l)?`(${l.signal} === "top")`:l==="top";return{signal:`(45 < ${_} && ${_} < 135) || (225 < ${_} && ${_} < 315) ? "middle" :(${_} <= 45 || 315 <= ${_}) === ${D} ? "bottom" : "top"`}}if(45<u&&u<135||225<u&&u<315)return"middle";if(Un(l)){let _=u<=45||315<=u?"===":"!==";return{signal:`${l.signal} ${_} "top" ? "bottom" : "top"`}}return(u<=45||315<=u)==(l==="top")?"bottom":"top"}else{if(Un(u)){let _=Ew(u),D=Un(l)?`(${l.signal} === "left")`:l==="left";return{signal:`${_} <= 45 || 315 <= ${_} || (135 <= ${_} && ${_} <= 225) ? ${g?'"middle"':"null"} : (45 <= ${_} && ${_} <= 135) === ${D} ? "top" : "bottom"`}}if(u<=45||315<=u||135<=u&&u<=225)return g?"middle":null;if(Un(l)){let _=45<=u&&u<=135?"===":"!==";return{signal:`${l.signal} ${_} "left" ? "top" : "bottom"`}}return(45<=u&&u<=135)==(l==="left")?"top":"bottom"}}function JR(u,l,f){if(u===void 0)return;let g=f==="x",_=g?0:90,D=g?"bottom":"left";if(Un(u)){let k=Ew(u),Q=Un(l)?`(${l.signal} === "${D}")`:l===D;return{signal:`(${_?`(${k} + 90)`:k} % 180 === 0) ? ${g?null:'"center"'} :(${_} < ${k} && ${k} < ${180+_}) === ${Q} ? "left" : "right"`}}if((u+_)%180===0)return g?null:"center";if(Un(l)){let k=_<u&&u<180+_?"===":"!==";return{signal:`${`${l.signal} ${k} "${D}"`} ? "left" : "right"`}}return(_<u&&u<180+_)==(l===D)?"left":"right"}function nQ(u,l){if(l==="x"&&Et(["quantitative","temporal"],u))return!0}function rQ(u,l,f,g){if(f&&!e.isObject(g)||u!=="nominal"&&u!=="ordinal")return l==="log"||l==="symlog"?"greedy":!0}function h(u){return u==="x"?"bottom":"left"}function E(u){let{fieldOrDatumDef:l,scaleType:f,size:g,values:_}=u;if(!_&&!Me(f)&&f!=="log"){if(Er(l)){var D;if(pr(l.bin))return{signal:`ceil(${g.signal}/10)`};if(l.timeUnit&&Et(["month","hours","day","quarter"],(D=du(l.timeUnit))===null||D===void 0?void 0:D.unit))return}return{signal:`ceil(${g.signal}/40)`}}}function j(u,l){let f=l==="x"?"x2":"y2",g=u.fieldDef(l),_=u.fieldDef(f),D=g?g.title:void 0,k=_?_.title:void 0;if(D&&k)return tn(D,k);if(D)return D;if(k)return k;if(D!==void 0)return D;if(k!==void 0)return k}function he(u,l){let f=u.values;if(e.isArray(f))return DN(l,f);if(Un(f))return f}function dt(u,l){return u==="rect"&&By(l)?1:0}class Vt extends va{clone(){return new Vt(null,be(this.transform))}constructor(l,f){super(l);this.transform=f,yn(this,"_dependentFields",void 0),this._dependentFields=VR(this.transform.calculate)}static parseAllForSortIndex(l,f){return f.forEachFieldDef((g,_)=>{if(!!Bx(g)&&oc(g.sort)){let{field:D,timeUnit:k}=g,Q=g.sort,ie=Q.map((ze,Ke)=>`${Tu({field:D,timeUnit:k,equal:ze})} ? ${Ke} : `).join("")+Q.length;l=new Vt(l,{calculate:ie,as:gn(g,_,{forAs:!0})})}}),l}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${lt(this.transform)}`}}function gn(u,l,f){return fi(u,{prefix:l,suffix:"sort_index",...f??{}})}function On(u,l){return Et(["top","bottom"],l)?"column":Et(["left","right"],l)||u==="row"?"row":"column"}function Wn(u,l,f,g){let _=g==="row"?f.headerRow:g==="column"?f.headerColumn:f.headerFacet;return Ne((l||{})[u],_[u],f.header[u])}function Sr(u,l,f,g){let _={};for(let D of u){let k=Wn(D,l||{},f,g);k!==void 0&&(_[D]=k)}return _}let Tr=["row","column"],Pr=["header","footer"];function Ci(u,l){let f=u.component.layoutHeaders[l].title,g=u.config?u.config:void 0,_=u.component.layoutHeaders[l].facetFieldDef?u.component.layoutHeaders[l].facetFieldDef:void 0,{titleAnchor:D,titleAngle:k,titleOrient:Q}=Sr(["titleAnchor","titleAngle","titleOrient"],_.header,g,l),ie=On(l,Q),ze=nn(k);return{name:`${l}-title`,type:"group",role:`${ie}-title`,title:{text:f,...l==="row"?{orient:"left"}:{},style:"guide-title",...gs(ze,ie),...Ki(ie,ze,D),...Iu(g,_,l,kV,WN)}}}function Ki(u,l){switch(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"middle"){case"start":return{align:"left"};case"end":return{align:"right"}}let g=JR(l,u==="row"?"left":"top",u==="row"?"y":"x");return g?{align:g}:{}}function gs(u,l){let f=KR(u,l==="row"?"left":"top",l==="row"?"y":"x",!0);return f?{baseline:f}:{}}function po(u,l){let f=u.component.layoutHeaders[l],g=[];for(let _ of Pr)if(f[_])for(let D of f[_]){let k=Io(u,l,_,f,D);k!=null&&g.push(k)}return g}function bs(u,l){let{sort:f}=u;return ya(f)?{field:fi(f,{expr:"datum"}),order:f.order??"ascending"}:e.isArray(f)?{field:gn(u,l,{expr:"datum"}),order:"ascending"}:{field:fi(u,{expr:"datum"}),order:f??"ascending"}}function Eo(u,l,f){let{format:g,formatType:_,labelAngle:D,labelAnchor:k,labelOrient:Q,labelExpr:ie}=Sr(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],u.header,f,l),ze=fs({fieldOrDatumDef:u,format:g,formatType:_,expr:"parent",config:f}).signal,Ke=On(l,Q);return{text:{signal:ie?qn(qn(ie,"datum.label",ze),"datum.value",fi(u,{expr:"parent"})):ze},...l==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...gs(D,Ke),...Ki(Ke,D,k),...Iu(f,u,l,IV,QN)}}function Io(u,l,f,g,_){if(_){let D=null,{facetFieldDef:k}=g,Q=u.config?u.config:void 0;if(k&&_.labels){let{labelOrient:Pt}=Sr(["labelOrient"],k.header,Q,l);(l==="row"&&!Et(["top","bottom"],Pt)||l==="column"&&!Et(["left","right"],Pt))&&(D=Eo(k,l,Q))}let ie=H1(u)&&!qd(u.facet),ze=_.axes,Ke=(ze==null?void 0:ze.length)>0;if(D||Ke){let Pt=l==="row"?"height":"width";return{name:u.getName(`${l}_${f}`),type:"group",role:`${l}-${f}`,...g.facetFieldDef?{from:{data:u.getName(`${l}_domain`)},sort:bs(k,l)}:{},...Ke&&ie?{from:{data:u.getName(`facet_domain_${l}`)}}:{},...D?{title:D}:{},..._.sizeSignal?{encode:{update:{[Pt]:_.sizeSignal}}}:{},...Ke?{axes:ze}:{}}}}return null}let ed={column:{start:0,end:1},row:{start:1,end:0}};function kf(u,l){return ed[l][u]}function td(u,l){let f={};for(let g of ee){let _=u[g];if(_!=null&&_.facetFieldDef){let{titleAnchor:D,titleOrient:k}=Sr(["titleAnchor","titleOrient"],_.facetFieldDef.header,l,g),Q=On(g,k),ie=kf(D,Q);ie!==void 0&&(f[Q]=ie)}}return Xe(f)?void 0:f}function Iu(u,l,f,g,_){let D={};for(let k of g){if(!_[k])continue;let Q=Wn(k,l==null?void 0:l.header,u,f);Q!==void 0&&(D[_[k]]=Q)}return D}function nd(u){return[...Wd(u,"width"),...Wd(u,"height"),...Wd(u,"childWidth"),...Wd(u,"childHeight")]}function Wd(u,l){let f=l==="width"?"x":"y",g=u.component.layoutSize.get(l);if(!g||g==="merged")return[];let _=u.getSizeSignalRef(l).signal;if(g==="step"){let D=u.getScaleComponent(f);if(D){let k=D.get("type"),Q=D.get("range");if(Me(k)&&br(Q)){let ie=u.scaleName(f);return H1(u.parent)&&u.parent.component.resolve.scale[f]==="independent"?[Sw(ie,Q)]:[Sw(ie,Q),{name:_,update:gle(ie,D,`domain('${ie}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(g=="container"){let D=_.endsWith("width"),k=D?"containerSize()[0]":"containerSize()[1]",Q=J9(u.config.view,D?"width":"height"),ie=`isFinite(${k}) ? ${k} : ${Q}`;return[{name:_,init:ie,on:[{update:ie,events:"window:resize"}]}]}else return[{name:_,value:g}]}function Sw(u,l){let f=`${u}_step`;return Un(l.step)?{name:f,update:l.step.signal}:{name:f,value:l.step}}function gle(u,l,f){let g=l.get("type"),_=l.get("padding"),D=Ne(l.get("paddingOuter"),_),k=l.get("paddingInner");return k=g==="band"?k!==void 0?k:_:1,`bandspace(${f}, ${gi(k)}, ${gi(D)}) * ${u}_step`}function yle(u){return u==="childWidth"?"width":u==="childHeight"?"height":u}function vle(u,l){return de(u).reduce((f,g)=>{let _=u[g];return{...f,...Wy(l,_,g,D=>qr(D.value))}},{})}function _le(u,l){if(H1(l))return u==="theta"?"independent":"shared";if(pE(l))return"shared";if(yQ(l))return as(u)||u==="theta"||u==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function iQ(u,l){let f=u.scale[l],g=as(l)?"axis":"legend";return f==="independent"?(u[g][l]==="shared"&&jr(Li(l)),"independent"):u[g][l]||"shared"}let OLe={...BV,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},ble=de(OLe);class NLe extends mp{}let Ele={symbols:RLe,gradient:LLe,labels:kLe,entries:ILe};function RLe(u,l){let{fieldOrDatumDef:f,model:g,channel:_,legendCmpt:D,legendType:k}=l;if(k!=="symbol")return;let{markDef:Q,encoding:ie,config:ze,mark:Ke}=g,Pt=Q.filled&&Ke!=="trail",sn={...ss({},g,X0),...OR(g,{filled:Pt})},Ln=D.get("symbolOpacity")??ze.legend.symbolOpacity,Xn=D.get("symbolFillColor")??ze.legend.symbolFillColor,lr=D.get("symbolStrokeColor")??ze.legend.symbolStrokeColor,hr=Ln===void 0?Sle(ie.opacity)??Q.opacity:void 0;if(sn.fill){if(_==="fill"||Pt&&_===ht)delete sn.fill;else if(sn.fill.field)Xn?delete sn.fill:(sn.fill=qr(ze.legend.symbolBaseFillColor??"black"),sn.fillOpacity=qr(hr??1));else if(e.isArray(sn.fill)){let kr=sQ(ie.fill??ie.color)??Q.fill??(Pt&&Q.color);kr&&(sn.fill=qr(kr))}}if(sn.stroke){if(_==="stroke"||!Pt&&_===ht)delete sn.stroke;else if(sn.stroke.field||lr)delete sn.stroke;else if(e.isArray(sn.stroke)){let kr=Ne(sQ(ie.stroke||ie.color),Q.stroke,Pt?Q.color:void 0);kr&&(sn.stroke={value:kr})}}if(_!==nt){let kr=Er(f)&&wle(g,D,f);kr?sn.opacity=[{test:kr,...qr(hr??1)},qr(ze.legend.unselectedOpacity)]:hr&&(sn.opacity=qr(hr))}return sn={...sn,...u},Xe(sn)?void 0:sn}function LLe(u,l){let{model:f,legendType:g,legendCmpt:_}=l;if(g!=="gradient")return;let{config:D,markDef:k,encoding:Q}=f,ie={},Ke=(_.get("gradientOpacity")??D.legend.gradientOpacity)===void 0?Sle(Q.opacity)||k.opacity:void 0;return Ke&&(ie.opacity=qr(Ke)),ie={...ie,...u},Xe(ie)?void 0:ie}function kLe(u,l){let{fieldOrDatumDef:f,model:g,channel:_,legendCmpt:D}=l,k=g.legend(_)||{},Q=g.config,ie=Er(f)?wle(g,D,f):void 0,ze=ie?[{test:ie,value:1},{value:Q.legend.unselectedOpacity}]:void 0,{format:Ke,formatType:Pt}=k,sn;bi(Pt)?sn=xs({fieldOrDatumDef:f,field:"datum.value",format:Ke,formatType:Pt,config:Q}):Ke===void 0&&Pt===void 0&&Q.customFormatTypes&&(f.type==="quantitative"&&Q.numberFormatType?sn=xs({fieldOrDatumDef:f,field:"datum.value",format:Q.numberFormat,formatType:Q.numberFormatType,config:Q}):f.type==="temporal"&&Q.timeFormatType&&Er(f)&&f.timeUnit===void 0&&(sn=xs({fieldOrDatumDef:f,field:"datum.value",format:Q.timeFormat,formatType:Q.timeFormatType,config:Q})));let Ln={...ze?{opacity:ze}:{},...sn?{text:sn}:{},...u};return Xe(Ln)?void 0:Ln}function ILe(u,l){let{legendCmpt:f}=l,g=f.get("selections");return g!=null&&g.length?{...u,fill:{value:"transparent"}}:u}function Sle(u){return Cle(u,(l,f)=>Math.max(l,f.value))}function sQ(u){return Cle(u,(l,f)=>Ne(l,f.value))}function Cle(u,l){if(af(u))return e.array(u.condition).reduce(l,u.value);if($d(u))return u.value}function wle(u,l,f){let g=l.get("selections");if(!(g!=null&&g.length))return;let _=e.stringValue(f.field);return g.map(D=>`(!length(data(${e.stringValue(zt(D)+$x)})) || (${D}[${_}] && indexof(${D}[${_}], datum.value) >= 0))`).join(" || ")}let Ale={direction:u=>{let{direction:l}=u;return l},format:u=>{let{fieldOrDatumDef:l,legend:f,config:g}=u,{format:_,formatType:D}=f;return Gr(l,l.type,_,D,g,!1)},formatType:u=>{let{legend:l,fieldOrDatumDef:f,scaleType:g}=u,{formatType:_}=l;return Yi(_,f,g)},gradientLength:u=>{let{legend:l,legendConfig:f}=u;return l.gradientLength??f.gradientLength??$Le(u)},labelOverlap:u=>{let{legend:l,legendConfig:f,scaleType:g}=u;return l.labelOverlap??f.labelOverlap??zLe(g)},symbolType:u=>{let{legend:l,markDef:f,channel:g,encoding:_}=u;return l.symbolType??PLe(f.type,g,_.shape,f.shape)},title:u=>{let{fieldOrDatumDef:l,config:f}=u;return jy(l,f,{allowDisabling:!0})},type:u=>{let{legendType:l,scaleType:f,channel:g}=u;if(S(g)&&wn(f)){if(l==="gradient")return}else if(l==="symbol")return;return l},values:u=>{let{fieldOrDatumDef:l,legend:f}=u;return MLe(f,l)}};function MLe(u,l){let f=u.values;if(e.isArray(f))return DN(l,f);if(Un(f))return f}function PLe(u,l,f,g){if(l!=="shape"){let _=sQ(f)??g;if(_)return _}switch(u){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function BLe(u){let{legend:l}=u;return Ne(l.type,jLe(u))}function jLe(u){let{channel:l,timeUnit:f,scaleType:g}=u;if(S(l)){if(Et(["quarter","month","day"],f))return"symbol";if(wn(g))return"gradient"}return"symbol"}function qLe(u){let{legendConfig:l,legendType:f,orient:g,legend:_}=u;return _.direction??l[f?"gradientDirection":"symbolDirection"]??ULe(g,f)}function ULe(u,l){switch(u){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return l==="gradient"?"horizontal":void 0}}function $Le(u){let{legendConfig:l,model:f,direction:g,orient:_,scaleType:D}=u,{gradientHorizontalMaxLength:k,gradientHorizontalMinLength:Q,gradientVerticalMaxLength:ie,gradientVerticalMinLength:ze}=l;if(wn(D))return g==="horizontal"?_==="top"||_==="bottom"?Tle(f,"width",Q,k):Q:Tle(f,"height",ze,ie)}function Tle(u,l,f,g){return{signal:`clamp(${u.getSizeSignalRef(l).signal}, ${f}, ${g})`}}function zLe(u){if(Et(["quantile","threshold","log","symlog"],u))return"greedy"}function Fle(u){let l=lc(u)?HLe(u):GLe(u);return u.component.legends=l,l}function HLe(u){let{encoding:l}=u,f={};for(let g of[ht,...Av]){let _=pu(l[g]);!_||!u.getScaleComponent(g)||g===ne&&Er(_)&&_.type===Fu||(f[g]=QLe(u,g))}return f}function VLe(u,l){let f=u.scaleName(l);if(u.mark==="trail"){if(l==="color")return{stroke:f};if(l==="size")return{strokeWidth:f}}return l==="color"?u.markDef.filled?{fill:f}:{stroke:f}:{[l]:f}}function WLe(u,l,f,g){switch(l){case"disable":return f!==void 0;case"values":return!!(f!=null&&f.values);case"title":if(l==="title"&&u===(g==null?void 0:g.title))return!0}return u===(f||{})[l]}function QLe(u,l){var f,g;let _=u.legend(l),{markDef:D,encoding:k,config:Q}=u,ie=Q.legend,ze=new NLe({},VLe(u,l));HW(u,l,ze);let Ke=_!==void 0?!_:ie.disable;if(ze.set("disable",Ke,_!==void 0),Ke)return ze;_=_||{};let Pt=u.getScaleComponent(l).get("type"),sn=pu(k[l]),Ln=Er(sn)?(f=du(sn.timeUnit))===null||f===void 0?void 0:f.unit:void 0,Xn=_.orient||Q.legend.orient||"right",lr=BLe({legend:_,channel:l,timeUnit:Ln,scaleType:Pt}),hr=qLe({legend:_,legendType:lr,orient:Xn,legendConfig:ie}),kr={legend:_,channel:l,model:u,markDef:D,encoding:k,fieldOrDatumDef:sn,legendConfig:ie,config:Q,scaleType:Pt,orient:Xn,legendType:lr,direction:hr};for(let os of ble){if(lr==="gradient"&&os.startsWith("symbol")||lr==="symbol"&&os.startsWith("gradient"))continue;let sl=os in Ale?Ale[os](kr):_[os];if(sl!==void 0){let Sl=WLe(sl,os,_,u.fieldDef(l));(Sl||Q.legend[os]===void 0)&&ze.set(os,sl,Sl)}}let Ri=((g=_)===null||g===void 0?void 0:g.encoding)??{},qi=ze.get("selections"),Ds={},Bi={fieldOrDatumDef:sn,model:u,channel:l,legendCmpt:ze,legendType:lr};for(let os of["labels","legend","title","symbols","gradient","entries"]){let sl=vle(Ri[os]??{},u),Sl=os in Ele?Ele[os](sl,Bi):sl;Sl!==void 0&&!Xe(Sl)&&(Ds[os]={...qi!=null&&qi.length&&Er(sn)?{name:`${zt(sn.field)}_legend_${os}`}:{},...qi!=null&&qi.length?{interactive:!!qi}:{},update:Sl})}if(!Xe(Ds)){var ta;ze.set("encode",Ds,!!((ta=_)!==null&&ta!==void 0&&ta.encoding))}return ze}function GLe(u){let{legends:l,resolve:f}=u.component;for(let g of u.children){Fle(g);for(let _ of de(g.component.legends))f.legend[_]=iQ(u.component.resolve,_),f.legend[_]==="shared"&&(l[_]=Dle(l[_],g.component.legends[_]),l[_]||(f.legend[_]="independent",delete l[_]))}for(let g of de(l))for(let _ of u.children)!_.component.legends[g]||f.legend[g]==="shared"&&delete _.component.legends[g];return l}function Dle(u,l){if(!u)return l.clone();let f=u.getWithExplicit("orient"),g=l.getWithExplicit("orient");if(f.explicit&&g.explicit&&f.value!==g.value)return;let _=!1;for(let ze of ble){let Ke=z2(u.getWithExplicit(ze),l.getWithExplicit(ze),ze,"legend",(Pt,sn)=>{switch(ze){case"symbolType":return YLe(Pt,sn);case"title":return Jn(Pt,sn);case"type":return _=!0,d0("symbol")}return Vo(Pt,sn,ze,"legend")});u.setWithExplicit(ze,Ke)}if(_){var D,k,Q,ie;(D=u.implicit)!==null&&D!==void 0&&(k=D.encode)!==null&&k!==void 0&&k.gradient&&Xt(u.implicit,["encode","gradient"]),(Q=u.explicit)!==null&&Q!==void 0&&(ie=Q.encode)!==null&&ie!==void 0&&ie.gradient&&Xt(u.explicit,["encode","gradient"])}return u}function YLe(u,l){return l.value==="circle"?l:u}function KLe(u,l,f,g){u.encode??={},u.encode[l]??={},u.encode[l].update??={},u.encode[l].update[f]=g}function Ole(u){let l=u.component.legends,f={};for(let _ of de(l)){let D=u.getScaleComponent(_),k=Je(D.get("domains"));if(f[k])for(let Q of f[k])Dle(Q,l[_])||f[k].push(l[_]);else f[k]=[l[_].clone()]}return Ge(f).flat().map(_=>JLe(_,u.config)).filter(_=>_!==void 0)}function JLe(u,l){var f;let{disable:g,labelExpr:_,selections:D,...k}=u.combine();if(!g){if(l.aria===!1&&k.aria==null&&(k.aria=!1),(f=k.encode)!==null&&f!==void 0&&f.symbols){let ze=k.encode.symbols.update;ze.fill&&ze.fill.value!=="transparent"&&!ze.stroke&&!k.stroke&&(ze.stroke={value:"transparent"});for(let Ke of Av)k[Ke]&&delete ze[Ke]}if(k.title||delete k.title,_!==void 0){var Q,ie;let ze=_;(Q=k.encode)!==null&&Q!==void 0&&(ie=Q.labels)!==null&&ie!==void 0&&ie.update&&Un(k.encode.labels.update.text)&&(ze=qn(_,"datum.label",k.encode.labels.update.text.signal)),KLe(k,"labels","text",{signal:ze})}return k}}function XLe(u){return pE(u)||yQ(u)?ZLe(u):Nle(u)}function ZLe(u){return u.children.reduce((l,f)=>l.concat(f.assembleProjections()),Nle(u))}function Nle(u){let l=u.component.projection;if(!l||l.merged)return[];let f=l.combine(),{name:g}=f;if(l.data){let _={signal:`[${l.size.map(k=>k.signal).join(", ")}]`},D=l.data.reduce((k,Q)=>{let ie=Un(Q)?Q.signal:`data('${u.lookupDataSource(Q)}')`;return Et(k,ie)||k.push(ie),k},[]);if(D.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:g,size:_,fit:{signal:D.length>1?`[${D.join(", ")}]`:D[0]},...f}]}else return[{name:g,translate:{signal:"[width / 2, height / 2]"},...f}]}let eke=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Rle extends mp{constructor(l,f,g,_){super({...f},{name:l});this.specifiedProjection=f,this.size=g,this.data=_,yn(this,"merged",!1)}get isFit(){return!!this.data}}function Lle(u){u.component.projection=lc(u)?tke(u):ike(u)}function tke(u){if(u.hasProjection){let l=dn(u.specifiedProjection),f=!(l&&(l.scale!=null||l.translate!=null)),g=f?[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]:void 0,_=f?nke(u):void 0,D=new Rle(u.projectionName(!0),{...dn(u.config.projection)??{},...l??{}},g,_);return D.get("type")||D.set("type","equalEarth",!1),D}}function nke(u){let l=[],{encoding:f}=u;for(let g of[[re,ct],[je,Te]])(pu(f[g[0]])||pu(f[g[1]]))&&l.push({signal:u.getName(`geojson_${l.length}`)});return u.channelHasField(ne)&&u.typedFieldDef(ne).type===Fu&&l.push({signal:u.getName(`geojson_${l.length}`)}),l.length===0&&l.push(u.requestDataName(Ia.Main)),l}function rke(u,l){let f=Lt(eke,_=>!!(!e.hasOwnProperty(u.explicit,_)&&!e.hasOwnProperty(l.explicit,_)||e.hasOwnProperty(u.explicit,_)&&e.hasOwnProperty(l.explicit,_)&&st(u.get(_),l.get(_))));if(st(u.size,l.size)){if(f)return u;if(st(u.explicit,{}))return l;if(st(l.explicit,{}))return u}return null}function ike(u){if(u.children.length===0)return;let l;for(let g of u.children)Lle(g);let f=Lt(u.children,g=>{let _=g.component.projection;if(_)if(l){let D=rke(l,_);return D&&(l=D),!!D}else return l=_,!0;else return!0});if(l&&f){let g=u.projectionName(!0),_=new Rle(g,l.specifiedProjection,l.size,be(l.data));for(let D of u.children){let k=D.component.projection;k&&(k.isFit&&_.data.push(...D.component.projection.data),D.renameProjection(k.get("name"),g),k.merged=!0)}return _}}function ske(u,l,f,g){if(Sv(l,f)){let _=lc(u)?u.axis(f)??u.legend(f)??{}:{},D=fi(l,{expr:"datum"}),k=fi(l,{expr:"datum",binSuffix:"end"});return{formulaAs:fi(l,{binSuffix:"range",forAs:!0}),formula:Sa(D,k,_.format,_.formatType,g)}}return{}}function kle(u,l){return`${ls(u)}_${l}`}function oke(u,l){return{signal:u.getName(`${l}_bins`),extentSignal:u.getName(`${l}_extent`)}}function oQ(u,l,f){let g=Ev(f,void 0)??{},_=kle(g,l);return u.getName(`${_}_bins`)}function ake(u){return"as"in u}function Ile(u,l,f){let g,_;ake(u)?g=e.isString(u.as)?[u.as,`${u.as}_end`]:[u.as[0],u.as[1]]:g=[fi(u,{forAs:!0}),fi(u,{binSuffix:"end",forAs:!0})];let D={...Ev(l,void 0)},k=kle(D,u.field),{signal:Q,extentSignal:ie}=oke(f,k);if(pt(D.extent)){let Ke=D.extent;_=WR(f,Ke.param,Ke),delete D.extent}let ze={bin:D,field:u.field,as:[g],...Q?{signal:Q}:{},...ie?{extentSignal:ie}:{},..._?{span:_}:{}};return{key:k,binComponent:ze}}class G2 extends va{clone(){return new G2(null,be(this.bins))}constructor(l,f){super(l);this.bins=f}static makeFromEncoding(l,f){let g=f.reduceFieldDef((_,D,k)=>{if(Ud(D)&&pr(D.bin)){let{key:Q,binComponent:ie}=Ile(D,D.bin,f);_[Q]={...ie,..._[Q],...ske(f,D,k,f.config)}}return _},{});return Xe(g)?null:new G2(l,g)}static makeFromTransform(l,f,g){let{key:_,binComponent:D}=Ile(f,f.bin,g);return new G2(l,{[_]:D})}merge(l,f){for(let g of de(l.bins))g in this.bins?(f(l.bins[g].signal,this.bins[g].signal),this.bins[g].as=wt([...this.bins[g].as,...l.bins[g].as],lt)):this.bins[g]=l.bins[g];for(let g of l.children)l.removeChild(g),g.parent=this;l.remove()}producedFields(){return new Set(Ge(this.bins).map(l=>l.as).flat(2))}dependentFields(){return new Set(Ge(this.bins).map(l=>l.field))}hash(){return`Bin ${lt(this.bins)}`}assemble(){return Ge(this.bins).flatMap(l=>{let f=[],[g,..._]=l.as,{extent:D,...k}=l.bin,Q={type:"bin",field:pn(l.field),as:g,signal:l.signal,...pt(D)?{extent:null}:{extent:D},...l.span?{span:{signal:`span(${l.span})`}}:{},...k};!D&&l.extentSignal&&(f.push({type:"extent",field:pn(l.field),signal:l.extentSignal}),Q.extent={signal:l.extentSignal}),f.push(Q);for(let ie of _)for(let ze=0;ze<2;ze++)f.push({type:"formula",expr:fi({field:g[ze]},{expr:"datum"}),as:ie[ze]});return l.formula&&f.push({type:"formula",expr:l.formula,as:l.formulaAs}),f})}}function uke(u,l,f,g){var _;let D=lc(g)?g.encoding[Es(l)]:void 0;if(Ud(f)&&lc(g)&&Fr(f,D,g.markDef,g.config))u.add(fi(f,{})),u.add(fi(f,{suffix:"end"})),f.bin&&Sv(f,l)&&u.add(fi(f,{binSuffix:"range"}));else if(Rt(l)){let k=We(l);u.add(g.getName(k))}else u.add(fi(f));return Bx(f)&&Lc((_=f.scale)===null||_===void 0?void 0:_.range)&&u.add(f.scale.range.field),u}function lke(u,l){for(let f of de(l)){let g=l[f];for(let _ of de(g))f in u?u[f][_]=new Set([...u[f][_]??[],...g[_]]):u[f]={[_]:g[_]}}}class $1 extends va{clone(){return new $1(null,new Set(this.dimensions),be(this.measures))}constructor(l,f,g){super(l);this.dimensions=f,this.measures=g}get groupBy(){return this.dimensions}static makeFromEncoding(l,f){let g=!1;f.forEachFieldDef(k=>{k.aggregate&&(g=!0)});let _={},D=new Set;return!g||(f.forEachFieldDef((k,Q)=>{let{aggregate:ie,field:ze}=k;if(ie)if(ie==="count")_["*"]??={},_["*"].count=new Set([fi(k,{forAs:!0})]);else{if(sa(ie)||oa(ie)){let Ke=sa(ie)?"argmin":"argmax",Pt=ie[Ke];_[Pt]??={},_[Pt][Ke]=new Set([fi({op:Ke,field:Pt},{forAs:!0})])}else _[ze]??={},_[ze][ie]=new Set([fi(k,{forAs:!0})]);Ii(Q)&&f.scaleDomain(Q)==="unaggregated"&&(_[ze]??={},_[ze].min=new Set([fi({field:ze,aggregate:"min"},{forAs:!0})]),_[ze].max=new Set([fi({field:ze,aggregate:"max"},{forAs:!0})]))}else uke(D,Q,k,f)}),D.size+de(_).length===0)?null:new $1(l,D,_)}static makeFromTransform(l,f){let g=new Set,_={};for(let D of f.aggregate){let{op:k,field:Q,as:ie}=D;k&&(k==="count"?(_["*"]??={},_["*"].count=new Set([ie||fi(D,{forAs:!0})])):(_[Q]??={},_[Q][k]=new Set([ie||fi(D,{forAs:!0})])))}for(let D of f.groupby??[])g.add(D);return g.size+de(_).length===0?null:new $1(l,g,_)}merge(l){return Ie(this.dimensions,l.dimensions)?(lke(this.measures,l.measures),!0):(z0("different dimensions, cannot merge"),!1)}addDimensions(l){l.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...de(this.measures)])}producedFields(){let l=new Set;for(let f of de(this.measures))for(let g of de(this.measures[f])){let _=this.measures[f][g];_.size===0?l.add(`${g}_${f}`):_.forEach(l.add,l)}return l}hash(){return`Aggregate ${lt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){let l=[],f=[],g=[];for(let D of de(this.measures))for(let k of de(this.measures[D]))for(let Q of this.measures[D][k])g.push(Q),l.push(k),f.push(D==="*"?null:pn(D));return{type:"aggregate",groupby:[...this.dimensions].map(pn),ops:l,fields:f,as:g}}}class dE extends va{constructor(l,f,g,_){super(l);this.model=f,this.name=g,this.data=_,yn(this,"column",void 0),yn(this,"row",void 0),yn(this,"facet",void 0),yn(this,"childModel",void 0);for(let D of ee){let k=f.facet[D];if(k){let{bin:Q,sort:ie}=k;this[D]={name:f.getName(`${D}_domain`),fields:[fi(k),...pr(Q)?[fi(k,{binSuffix:"end"})]:[]],...ya(ie)?{sortField:ie}:e.isArray(ie)?{sortIndexField:gn(k,D)}:{}}}}this.childModel=f.child}hash(){let l="Facet";for(let f of ee)this[f]&&(l+=` ${f.charAt(0)}:${lt(this[f])}`);return l}get fields(){let l=[];for(let g of ee){var f;(f=this[g])!==null&&f!==void 0&&f.fields&&l.push(...this[g].fields)}return l}dependentFields(){let l=new Set(this.fields);for(let f of ee)this[f]&&(this[f].sortField&&l.add(this[f].sortField.field),this[f].sortIndexField&&l.add(this[f].sortIndexField));return l}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){let l={};for(let f of no){let g=this.childModel.component.scales[f];if(g&&!g.merged){let _=g.get("type"),D=g.get("range");if(Me(_)&&br(D)){let k=eL(this.childModel,f),Q=xQ(k);Q?l[f]=Q:jr(vr(f))}}}return l}assembleRowColumnHeaderData(l,f,g){let _={row:"y",column:"x",facet:void 0}[l],D=[],k=[],Q=[];_&&g&&g[_]&&(f?(D.push(`distinct_${g[_]}`),k.push("max")):(D.push(g[_]),k.push("distinct")),Q.push(`distinct_${g[_]}`));let{sortField:ie,sortIndexField:ze}=this[l];if(ie){let{op:Ke=El,field:Pt}=ie;D.push(Pt),k.push(Ke),Q.push(fi(ie,{forAs:!0}))}else ze&&(D.push(ze),k.push("max"),Q.push(ze));return{name:this[l].name,source:f??this.data,transform:[{type:"aggregate",groupby:this[l].fields,...D.length?{fields:D,ops:k,as:Q}:{}}]}}assembleFacetHeaderData(l){let{columns:f}=this.model.layout,{layoutHeaders:g}=this.model.component,_=[],D={};for(let ze of Tr){for(let Ke of Pr){let Pt=(g[ze]&&g[ze][Ke])??[];for(let sn of Pt){var k;if(((k=sn.axes)===null||k===void 0?void 0:k.length)>0){D[ze]=!0;break}}}if(D[ze]){let Ke=`length(data("${this.facet.name}"))`,Pt=ze==="row"?f?{signal:`ceil(${Ke} / ${f})`}:1:f?{signal:`min(${Ke}, ${f})`}:{signal:Ke};_.push({name:`${this.facet.name}_${ze}`,transform:[{type:"sequence",start:0,stop:Pt}]})}}let{row:Q,column:ie}=D;return(Q||ie)&&_.unshift(this.assembleRowColumnHeaderData("facet",null,l)),_}assemble(){let l=[],f=null,g=this.getChildIndependentFieldsWithStep(),{column:_,row:D,facet:k}=this;if(_&&D&&(g.x||g.y)){f=`cross_${this.column.name}_${this.row.name}`;let Q=[].concat(g.x??[],g.y??[]),ie=Q.map(()=>"distinct");l.push({name:f,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Q,ops:ie}]})}for(let Q of[Qn,Fn])this[Q]&&l.push(this.assembleRowColumnHeaderData(Q,f,g));if(k){let Q=this.assembleFacetHeaderData(g);Q&&l.push(...Q)}return l}}function Mle(u){return u.startsWith("'")&&u.endsWith("'")||u.startsWith('"')&&u.endsWith('"')?u.slice(1,-1):u}function cke(u,l){let f=Tn(u);if(l==="number")return`toNumber(${f})`;if(l==="boolean")return`toBoolean(${f})`;if(l==="string")return`toString(${f})`;if(l==="date")return`toDate(${f})`;if(l==="flatten")return f;if(l.startsWith("date:")){let g=Mle(l.slice(5,l.length));return`timeParse(${f},'${g}')`}else if(l.startsWith("utc:")){let g=Mle(l.slice(4,l.length));return`utcParse(${f},'${g}')`}else return jr(hl(l)),null}function fke(u){let l={};return Ue(u.filter,f=>{if(G0(f)){let g=null;Rc(f)?g=pi(f.equal):Id(f)?g=pi(f.lte):Sh(f)?g=pi(f.lt):rf(f)?g=pi(f.gt):Ch(f)?g=pi(f.gte):ip(f)?g=f.range[0]:Ua(f)&&(g=(f.oneOf??f.in)[0]),g&&(H0(g)?l[f.field]="date":e.isNumber(g)?l[f.field]="number":e.isString(g)&&(l[f.field]="string")),f.timeUnit&&(l[f.field]="date")}}),l}function dke(u){let l={};function f(g){Uy(g)?l[g.field]="date":g.type==="quantitative"&&Ku(g.aggregate)?l[g.field]="number":In(g.field)>1?g.field in l||(l[g.field]="flatten"):Bx(g)&&ya(g.sort)&&In(g.sort.field)>1&&(g.sort.field in l||(l[g.sort.field]="flatten"))}if((lc(u)||H1(u))&&u.forEachFieldDef((g,_)=>{if(Ud(g))f(g);else{let D=ai(_),k=u.fieldDef(D);f({...g,type:k.type})}}),lc(u)){let{mark:g,markDef:_,encoding:D}=u;if(of(g)&&!u.encoding.order){let k=_.orient==="horizontal"?"y":"x",Q=D[k];Er(Q)&&Q.type==="quantitative"&&!(Q.field in l)&&(l[Q.field]="number")}}return l}function hke(u){let l={};if(lc(u)&&u.component.selection)for(let f of de(u.component.selection)){let g=u.component.selection[f];for(let _ of g.project.items)!_.channel&&In(_.field)>1&&(l[_.field]="flatten")}return l}class p0 extends va{clone(){return new p0(null,be(this._parse))}constructor(l,f){super(l);yn(this,"_parse",void 0),this._parse=f}hash(){return`Parse ${lt(this._parse)}`}static makeExplicit(l,f,g){var _;let D={},k=f.data;return!H2(k)&&k!==null&&k!==void 0&&(_=k.format)!==null&&_!==void 0&&_.parse&&(D=k.format.parse),this.makeWithAncestors(l,D,{},g)}static makeWithAncestors(l,f,g,_){for(let Q of de(g)){let ie=_.getWithExplicit(Q);ie.value!==void 0&&(ie.explicit||ie.value===g[Q]||ie.value==="derived"||g[Q]==="flatten"?delete g[Q]:jr(Fc(Q,g[Q],ie.value)))}for(let Q of de(f)){let ie=_.get(Q);ie!==void 0&&(ie===f[Q]?delete f[Q]:jr(Fc(Q,f[Q],ie)))}let D=new mp(f,g);_.copyAll(D);let k={};for(let Q of de(D.combine())){let ie=D.get(Q);ie!==null&&(k[Q]=ie)}return de(k).length===0||_.parseNothing?null:new p0(l,k)}get parse(){return this._parse}merge(l){this._parse={...this._parse,...l.parse},l.remove()}assembleFormatParse(){let l={};for(let f of de(this._parse)){let g=this._parse[f];In(f)===1&&(l[f]=g)}return l}producedFields(){return new Set(de(this._parse))}dependentFields(){return new Set(de(this._parse))}assembleTransforms(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return de(this._parse).filter(f=>l?In(f)>1:!0).map(f=>{let g=cke(f,this._parse[f]);return g?{type:"formula",expr:g,as:sr(f)}:null}).filter(f=>f!==null)}}class Jy extends va{clone(){return new Jy(null)}constructor(l){super(l)}dependentFields(){return new Set}producedFields(){return new Set([hp])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:hp}}}class Cw extends va{clone(){return new Cw(null,this.params)}constructor(l,f){super(l);this.params=f}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${lt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class ww extends va{clone(){return new ww(null,this.params)}constructor(l,f){super(l);this.params=f}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${lt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class jv extends va{constructor(l){super(null);yn(this,"_data",void 0),yn(this,"_name",void 0),yn(this,"_generator",void 0),l??={name:"source"};let f;if(H2(l)||(f=l.format?{...xe(l.format,["parse"])}:{}),Rv(l))this._data={values:l.values};else if(U1(l)){if(this._data={url:l.url},!f.type){let g=/(?:\.([^.]+))?$/.exec(l.url)[1];Et(["json","csv","tsv","dsv","topojson"],g)||(g="json"),f.type=g}}else SR(l)?this._data={values:[{type:"Sphere"}]}:(bR(l)||H2(l))&&(this._data={});this._generator=H2(l),l.name&&(this._name=l.name),f&&!Xe(f)&&(this._data.format=f)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(l){this._name=l}set parent(l){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function aQ(u){return u instanceof jv||u instanceof Cw||u instanceof ww}var XR=new WeakMap;class uQ{constructor(){fu(this,XR,{writable:!0,value:void 0}),Ti(this,XR,!1)}setModified(){Ti(this,XR,!0)}get modifiedFlag(){return Yr(this,XR)}}class qv extends uQ{getNodeDepths(l,f,g){g.set(l,f);for(let _ of l.children)this.getNodeDepths(_,f+1,g);return g}optimize(l){let g=[...this.getNodeDepths(l,0,new Map).entries()].sort((_,D)=>D[1]-_[1]);for(let _ of g)this.run(_[0]);return this.modifiedFlag}}class lQ extends uQ{optimize(l){this.run(l);for(let f of l.children)this.optimize(f);return this.modifiedFlag}}class pke extends lQ{mergeNodes(l,f){let g=f.shift();for(let _ of f)l.removeChild(_),_.parent=g,_.remove()}run(l){let f=l.children.map(_=>_.hash()),g={};for(let _=0;_<f.length;_++)g[f[_]]===void 0?g[f[_]]=[l.children[_]]:g[f[_]].push(l.children[_]);for(let _ of de(g))g[_].length>1&&(this.setModified(),this.mergeNodes(l,g[_]))}}class mke extends lQ{constructor(l){super();yn(this,"requiresSelectionId",void 0),this.requiresSelectionId=l&&yw(l)}run(l){l instanceof Jy&&(this.requiresSelectionId&&(aQ(l.parent)||l.parent instanceof $1||l.parent instanceof p0)||(this.setModified(),l.remove()))}}class xke extends uQ{optimize(l){return this.run(l,new Set),this.modifiedFlag}run(l,f){let g=new Set;l instanceof xp&&(g=l.producedFields(),Ce(g,f)&&(this.setModified(),l.removeFormulas(f),l.producedFields.length===0&&l.remove()));for(let _ of l.children)this.run(_,new Set([...f,...g]))}}class gke extends lQ{constructor(){super()}run(l){l instanceof Rf&&!l.isRequired()&&(this.setModified(),l.remove())}}class yke extends qv{run(l){if(!aQ(l)&&!(l.numChildren()>1)){for(let f of l.children)if(f instanceof p0)if(l instanceof p0)this.setModified(),l.merge(f);else{if(rt(l.producedFields(),f.dependentFields()))continue;this.setModified(),f.swapWithParent()}}}}class vke extends qv{run(l){let f=[...l.children],g=l.children.filter(_=>_ instanceof p0);if(l.numChildren()>1&&g.length>=1){let _={},D=new Set;for(let k of g){let Q=k.parse;for(let ie of de(Q))ie in _?_[ie]!==Q[ie]&&D.add(ie):_[ie]=Q[ie]}for(let k of D)delete _[k];if(!Xe(_)){this.setModified();let k=new p0(l,_);for(let Q of f){if(Q instanceof p0)for(let ie of de(_))delete Q.parse[ie];l.removeChild(Q),Q.parent=k,Q instanceof p0&&de(Q.parse).length===0&&Q.remove()}}}}}class _ke extends qv{run(l){l instanceof Rf||l.numChildren()>0||l instanceof dE||l instanceof jv||(this.setModified(),l.remove())}}class bke extends qv{run(l){let f=l.children.filter(_=>_ instanceof xp),g=f.pop();for(let _ of f)this.setModified(),g.merge(_)}}class Eke extends qv{run(l){let f=l.children.filter(_=>_ instanceof $1),g={};for(let _ of f){let D=lt(_.groupBy);D in g||(g[D]=[]),g[D].push(_)}for(let _ of de(g)){let D=g[_];if(D.length>1){let k=D.pop();for(let Q of D)k.merge(Q)&&(l.removeChild(Q),Q.parent=k,Q.remove(),this.setModified())}}}}class Ske extends qv{constructor(l){super();this.model=l}run(l){let f=!(aQ(l)||l instanceof Ky||l instanceof p0||l instanceof Jy),g=[],_=[];for(let D of l.children)D instanceof G2&&(f&&!rt(l.producedFields(),D.dependentFields())?g.push(D):_.push(D));if(g.length>0){let D=g.pop();for(let k of g)D.merge(k,this.model.renameSignal.bind(this.model));this.setModified(),l instanceof G2?l.merge(D,this.model.renameSignal.bind(this.model)):D.swapWithParent()}if(_.length>1){let D=_.pop();for(let k of _)D.merge(k,this.model.renameSignal.bind(this.model));this.setModified()}}}class Cke extends qv{run(l){let f=[...l.children];if(!mn(f,k=>k instanceof Rf)||l.numChildren()<=1)return;let _=[],D;for(let k of f)if(k instanceof Rf){let Q=k;for(;Q.numChildren()===1;){let[ie]=Q.children;if(ie instanceof Rf)Q=ie;else break}_.push(...Q.children),D?(l.removeChild(k),k.parent=D.parent,D.parent.removeChild(D),D.parent=Q,this.setModified()):D=Q}else _.push(k);if(_.length){this.setModified();for(let k of _)k.parent.removeChild(k),k.parent=D}}}class Uv extends va{clone(){return new Uv(null,be(this.transform))}constructor(l,f){super(l);this.transform=f}addDimensions(l){this.transform.groupby=wt(this.transform.groupby.concat(l),f=>f)}dependentFields(){let l=new Set;return this.transform.groupby&&this.transform.groupby.forEach(l.add,l),this.transform.joinaggregate.map(f=>f.field).filter(f=>f!==void 0).forEach(l.add,l),l}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(l){return l.as??fi(l)}hash(){return`JoinAggregateTransform ${lt(this.transform)}`}assemble(){let l=[],f=[],g=[];for(let D of this.transform.joinaggregate)f.push(D.op),g.push(this.getDefaultName(D)),l.push(D.field===void 0?null:D.field);let _=this.transform.groupby;return{type:"joinaggregate",as:g,ops:f,fields:l,..._!==void 0?{groupby:_}:{}}}}function wke(u){return u.stack.stackBy.reduce((l,f)=>{let g=f.fieldDef,_=fi(g);return _&&l.push(_),l},[])}function Ake(u){return e.isArray(u)&&u.every(l=>e.isString(l))&&u.length>1}class zx extends va{clone(){return new zx(null,be(this._stack))}constructor(l,f){super(l);yn(this,"_stack",void 0),this._stack=f}static makeFromTransform(l,f){let{stack:g,groupby:_,as:D,offset:k="zero"}=f,Q=[],ie=[];if(f.sort!==void 0)for(let Pt of f.sort)Q.push(Pt.field),ie.push(Ne(Pt.order,"ascending"));let ze={field:Q,order:ie},Ke;return Ake(D)?Ke=D:e.isString(D)?Ke=[D,`${D}_end`]:Ke=[`${f.stack}_start`,`${f.stack}_end`],new zx(l,{dimensionFieldDefs:[],stackField:g,groupby:_,offset:k,sort:ze,facetby:[],as:Ke})}static makeFromEncoding(l,f){let g=f.stack,{encoding:_}=f;if(!g)return null;let{groupbyChannels:D,fieldChannel:k,offset:Q,impute:ie}=g,ze=D.map(Ln=>{let Xn=_[Ln];return Rh(Xn)}).filter(Ln=>!!Ln),Ke=wke(f),Pt=f.encoding.order,sn;return e.isArray(Pt)||Er(Pt)?sn=No(Pt):sn=Ke.reduce((Ln,Xn)=>(Ln.field.push(Xn),Ln.order.push(k==="y"?"descending":"ascending"),Ln),{field:[],order:[]}),new zx(l,{dimensionFieldDefs:ze,stackField:f.vgField(k),facetby:[],stackby:Ke,sort:sn,offset:Q,impute:ie,as:[f.vgField(k,{suffix:"start",forAs:!0}),f.vgField(k,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(l){this._stack.facetby.push(...l)}dependentFields(){let l=new Set;return l.add(this._stack.stackField),this.getGroupbyFields().forEach(l.add,l),this._stack.facetby.forEach(l.add,l),this._stack.sort.field.forEach(l.add,l),l}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${lt(this._stack)}`}getGroupbyFields(){let{dimensionFieldDefs:l,impute:f,groupby:g}=this._stack;return l.length>0?l.map(_=>_.bin?f?[fi(_,{binSuffix:"mid"})]:[fi(_,{}),fi(_,{binSuffix:"end"})]:[fi(_)]).flat():g??[]}assemble(){let l=[],{facetby:f,dimensionFieldDefs:g,stackField:_,stackby:D,sort:k,offset:Q,impute:ie,as:ze}=this._stack;if(ie)for(let Ke of g){let{bandPosition:Pt=.5,bin:sn}=Ke;if(sn){let Ln=fi(Ke,{expr:"datum"}),Xn=fi(Ke,{expr:"datum",binSuffix:"end"});l.push({type:"formula",expr:`${Pt}*${Ln}+${1-Pt}*${Xn}`,as:fi(Ke,{binSuffix:"mid",forAs:!0})})}l.push({type:"impute",field:_,groupby:[...D,...f],key:fi(Ke,{binSuffix:"mid"}),method:"value",value:0})}return l.push({type:"stack",groupby:[...this.getGroupbyFields(),...f],field:_,sort:k,as:ze,offset:Q}),l}}class hE extends va{clone(){return new hE(null,be(this.transform))}constructor(l,f){super(l);this.transform=f}addDimensions(l){this.transform.groupby=wt(this.transform.groupby.concat(l),f=>f)}dependentFields(){let l=new Set;return(this.transform.groupby??[]).forEach(l.add,l),(this.transform.sort??[]).forEach(f=>l.add(f.field)),this.transform.window.map(f=>f.field).filter(f=>f!==void 0).forEach(l.add,l),l}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(l){return l.as??fi(l)}hash(){return`WindowTransform ${lt(this.transform)}`}assemble(){let l=[],f=[],g=[],_=[];for(let Pt of this.transform.window)f.push(Pt.op),g.push(this.getDefaultName(Pt)),_.push(Pt.param===void 0?null:Pt.param),l.push(Pt.field===void 0?null:Pt.field);let D=this.transform.frame,k=this.transform.groupby;if(D&&D[0]===null&&D[1]===null&&f.every(Pt=>dl(Pt)))return{type:"joinaggregate",as:g,ops:f,fields:l,...k!==void 0?{groupby:k}:{}};let Q=[],ie=[];if(this.transform.sort!==void 0)for(let Pt of this.transform.sort)Q.push(Pt.field),ie.push(Pt.order??"ascending");let ze={field:Q,order:ie},Ke=this.transform.ignorePeers;return{type:"window",params:_,as:g,ops:f,fields:l,sort:ze,...Ke!==void 0?{ignorePeers:Ke}:{},...k!==void 0?{groupby:k}:{},...D!==void 0?{frame:D}:{}}}}function Tke(u){function l(f){if(!(f instanceof dE)){let g=f.clone();if(g instanceof Rf){let _=fQ+g.getSource();g.setSource(_),u.model.component.data.outputNodes[_]=g}else(g instanceof $1||g instanceof zx||g instanceof hE||g instanceof Uv)&&g.addDimensions(u.fields);for(let _ of f.children.flatMap(l))_.parent=g;return[g]}return f.children.flatMap(l)}return l}function cQ(u){if(u instanceof dE)if(u.numChildren()===1&&!(u.children[0]instanceof Rf)){let l=u.children[0];(l instanceof $1||l instanceof zx||l instanceof hE||l instanceof Uv)&&l.addDimensions(u.fields),l.swapWithParent(),cQ(u)}else{let l=u.model.component.data.main;Ple(l);let f=Tke(u),g=u.children.map(f).flat();for(let _ of g)_.parent=l}else u.children.map(cQ)}function Ple(u){if(u instanceof Rf&&u.type===Ia.Main&&u.numChildren()===1){let l=u.children[0];l instanceof dE||(l.swapWithParent(),Ple(u))}}let fQ="scale_",ZR=5;function dQ(u){for(let l of u){for(let f of l.children)if(f.parent!==l)return!1;if(!dQ(l.children))return!1}return!0}function z1(u,l){let f=!1;for(let g of l)f=u.optimize(g)||f;return f}function Ble(u,l,f){let g=u.sources,_=!1;return _=z1(new gke,g)||_,_=z1(new mke(l),g)||_,g=g.filter(D=>D.numChildren()>0),_=z1(new _ke,g)||_,g=g.filter(D=>D.numChildren()>0),f||(_=z1(new yke,g)||_,_=z1(new Ske(l),g)||_,_=z1(new xke,g)||_,_=z1(new vke,g)||_,_=z1(new Eke,g)||_,_=z1(new bke,g)||_,_=z1(new pke,g)||_,_=z1(new Cke,g)||_),u.sources=g,_}function Fke(u,l){dQ(u.sources);let f=0,g=0;for(let _=0;_<ZR&&Ble(u,l,!0);_++)f++;u.sources.map(cQ);for(let _=0;_<ZR&&Ble(u,l,!1);_++)g++;dQ(u.sources),Math.max(f,g)===ZR&&jr(`Maximum optimization runs(${ZR}) reached.`)}class Qd{constructor(l){yn(this,"signal",void 0),Object.defineProperty(this,"signal",{enumerable:!0,get:l})}static fromName(l,f){return new Qd(()=>l(f))}}function jle(u){lc(u)?Dke(u):Oke(u)}function Dke(u){let l=u.component.scales;for(let f of de(l)){let g=Rke(u,f);if(l[f].setWithExplicit("domains",g),kke(u,f),u.component.data.isFaceted){let D=u;for(;!H1(D)&&D.parent;)D=D.parent;if(D.component.resolve.scale[f]==="shared")for(let Q of g.value)ar(Q)&&(Q.data=fQ+Q.data.replace(fQ,""))}}}function Oke(u){for(let f of u.children)jle(f);let l=u.component.scales;for(let f of de(l)){let g,_=null;for(let D of u.children){let k=D.component.scales[f];if(k){g===void 0?g=k.getWithExplicit("domains"):g=z2(g,k.getWithExplicit("domains"),"domains","scale",mQ);let Q=k.get("selectionExtent");_&&Q&&_.param!==Q.param&&jr(Zf),_=Q}}l[f].setWithExplicit("domains",g),_&&l[f].set("selectionExtent",_,!0)}}function Nke(u,l,f,g){if(u==="unaggregated"){let{valid:_,reason:D}=qle(l,f);if(!_){jr(D);return}}else if(u===void 0&&g.useUnaggregatedDomain){let{valid:_}=qle(l,f);if(_)return"unaggregated"}return u}function Rke(u,l){let f=u.getScaleComponent(l).get("type"),{encoding:g}=u,_=Nke(u.scaleDomain(l),u.typedFieldDef(l),f,u.config.scale);return _!==u.scaleDomain(l)&&(u.specifiedScales[l]={...u.specifiedScales[l],domain:_}),l==="x"&&pu(g.x2)?pu(g.x)?z2(Xy(f,_,u,"x"),Xy(f,_,u,"x2"),"domain","scale",mQ):Xy(f,_,u,"x2"):l==="y"&&pu(g.y2)?pu(g.y)?z2(Xy(f,_,u,"y"),Xy(f,_,u,"y2"),"domain","scale",mQ):Xy(f,_,u,"y2"):Xy(f,_,u,l)}function Lke(u,l,f){return u.map(g=>({signal:`{data: ${zb(g,{timeUnit:f,type:l})}}`}))}function hQ(u,l,f){var g;let _=(g=du(f))===null||g===void 0?void 0:g.unit;return l==="temporal"||_?Lke(u,l,_):[u]}function Xy(u,l,f,g){let{encoding:_}=f,D=pu(_[g]),{type:k}=D,Q=D.timeUnit;if(hu(l)){let Pt=Xy(u,void 0,f,g),sn=hQ(l.unionWith,k,Q);return il([...sn,...Pt.value])}else{if(Un(l))return il([l]);if(l&&l!=="unaggregated"&&!so(l))return il(hQ(l,k,Q))}let ie=f.stack;if(ie&&g===ie.fieldChannel){if(ie.offset==="normalize")return d0([[0,1]]);let Pt=f.requestDataName(Ia.Main);return d0([{data:Pt,field:f.vgField(g,{suffix:"start"})},{data:Pt,field:f.vgField(g,{suffix:"end"})}])}let ze=Ii(g)&&Er(D)?Ike(f,g,u):void 0;if(bo(D)){let Pt=hQ([D.datum],k,Q);return d0(Pt)}let Ke=D;if(l==="unaggregated"){let Pt=f.requestDataName(Ia.Main),{field:sn}=D;return d0([{data:Pt,field:fi({field:sn,aggregate:"min"})},{data:Pt,field:fi({field:sn,aggregate:"max"})}])}else if(pr(Ke.bin)){if(Me(u))return d0(u==="bin-ordinal"?[]:[{data:Nt(ze)?f.requestDataName(Ia.Main):f.requestDataName(Ia.Raw),field:f.vgField(g,Sv(Ke,g)?{binSuffix:"range"}:{}),sort:ze===!0||!e.isObject(ze)?{field:f.vgField(g,{}),op:"min"}:ze}]);{let{bin:Pt}=Ke;if(pr(Pt)){let sn=oQ(f,Ke.field,Pt);return d0([new Qd(()=>{let Ln=f.getSignalName(sn);return`[${Ln}.start, ${Ln}.stop]`})])}else return d0([{data:f.requestDataName(Ia.Main),field:f.vgField(g,{})}])}}else if(Ke.timeUnit&&Et(["time","utc"],u)&&Fr(Ke,lc(f)?f.encoding[Es(g)]:void 0,f.markDef,f.config)){let Pt=f.requestDataName(Ia.Main);return d0([{data:Pt,field:f.vgField(g)},{data:Pt,field:f.vgField(g,{suffix:"end"})}])}else return d0(ze?[{data:Nt(ze)?f.requestDataName(Ia.Main):f.requestDataName(Ia.Raw),field:f.vgField(g),sort:ze}]:[{data:f.requestDataName(Ia.Main),field:f.vgField(g)}])}function pQ(u,l){let{op:f,field:g,order:_}=u;return{op:f??(l?"sum":El),...g?{field:pn(g)}:{},..._?{order:_}:{}}}function kke(u,l){var f;let g=u.component.scales[l],_=u.specifiedScales[l].domain,D=(f=u.fieldDef(l))===null||f===void 0?void 0:f.bin,k=so(_)&&_,Q=Le(D)&&pt(D.extent)&&D.extent;(k||Q)&&g.set("selectionExtent",k??Q,!0)}function Ike(u,l,f){if(!Me(f))return;let g=u.fieldDef(l),_=g.sort;if(oc(_))return{op:"min",field:gn(g,l),order:"ascending"};let{stack:D}=u,k=D?new Set([...D.groupbyFields,...D.stackBy.map(Q=>Q.fieldDef.field)]):void 0;if(ya(_)){let Q=D&&!k.has(_.field);return pQ(_,Q)}else if(l0(_)){let{encoding:Q,order:ie}=_,ze=u.fieldDef(Q),{aggregate:Ke,field:Pt}=ze,sn=D&&!k.has(Pt);if(sa(Ke)||oa(Ke))return pQ({field:fi(ze),order:ie},sn);if(dl(Ke)||!Ke)return pQ({op:Ke,field:Pt,order:ie},sn)}else{if(_==="descending")return{op:"min",field:u.vgField(l),order:"descending"};if(Et(["ascending",void 0],_))return!0}}function qle(u,l){let{aggregate:f,type:g}=u;return f?e.isString(f)&&!ns.has(f)?{valid:!1,reason:Ht(f)}:g==="quantitative"&&l==="log"?{valid:!1,reason:Cn(u)}:{valid:!0}:{valid:!1,reason:Dt(u)}}function mQ(u,l,f,g){return u.explicit&&l.explicit&&jr(Wi(f,g,u.value,l.value)),{explicit:u.explicit,value:[...u.value,...l.value]}}function Mke(u){let l=wt(u.map(k=>{if(ar(k)){let{sort:Q,...ie}=k;return ie}return k}),lt),f=wt(u.map(k=>{if(ar(k)){let Q=k.sort;return Q!==void 0&&!Nt(Q)&&("op"in Q&&Q.op==="count"&&delete Q.field,Q.order==="ascending"&&delete Q.order),Q}}).filter(k=>k!==void 0),lt);if(l.length===0)return;if(l.length===1){let k=u[0];if(ar(k)&&f.length>0){let Q=f[0];if(f.length>1)jr(Qs),Q=!0;else if(e.isObject(Q)&&"field"in Q){let ie=Q.field;k.field===ie&&(Q=Q.order?{order:Q.order}:!0)}return{...k,sort:Q}}return k}let g=wt(f.map(k=>Nt(k)||!("op"in k)||e.isString(k.op)&&k.op in qa?k:(jr(Qr(k)),!0)),lt),_;g.length===1?_=g[0]:g.length>1&&(jr(Qs),_=!0);let D=wt(u.map(k=>ar(k)?k.data:null),k=>k);return D.length===1&&D[0]!==null?{data:D[0],fields:l.map(Q=>Q.field),..._?{sort:_}:{}}:{fields:l,..._?{sort:_}:{}}}function xQ(u){if(ar(u)&&e.isString(u.field))return u.field;if(wr(u)){let l;for(let f of u.fields)if(ar(f)&&e.isString(f.field)){if(!l)l=f.field;else if(l!==f.field)return jr(Uo),l}return jr(ma),l}else if(Gn(u)){jr(ho);let l=u.fields[0];return e.isString(l)?l:void 0}}function eL(u,l){let g=u.component.scales[l].get("domains").map(_=>(ar(_)&&(_.data=u.lookupDataSource(_.data)),_));return Mke(g)}function Ule(u){return pE(u)||yQ(u)?u.children.reduce((l,f)=>l.concat(Ule(f)),$le(u)):$le(u)}function $le(u){return de(u.component.scales).reduce((l,f)=>{let g=u.component.scales[f];if(g.merged)return l;let _=g.combine(),{name:D,type:k,selectionExtent:Q,domains:ie,range:ze,reverse:Ke,...Pt}=_,sn=Pke(_.range,D,f,u),Ln=eL(u,f),Xn=Q?wW(u,Q,g,Ln):null;return l.push({name:D,type:k,...Ln?{domain:Ln}:{},...Xn?{domainRaw:Xn}:{},range:sn,...Ke!==void 0?{reverse:Ke}:{},...Pt}),l},[])}function Pke(u,l,f,g){if(as(f)){if(br(u))return{step:{signal:`${l}_step`}}}else if(e.isObject(u)&&ar(u))return{...u,data:g.lookupDataSource(u.data)};return u}class zle extends mp{constructor(l,f){super({},{name:l});yn(this,"merged",!1),this.setWithExplicit("type",f)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:mn(this.get("domains"),l=>e.isArray(l)&&l.length===2&&l[0]<=0&&l[1]>=0)}}let Bke=["range","scheme"];function jke(u){let l=u.component.scales;for(let f of ys){let g=l[f];if(!g)continue;let _=qke(f,u);g.setWithExplicit("range",_)}}function Hle(u,l){let f=u.fieldDef(l);if(f!=null&&f.bin){let{bin:g,field:_}=f,D=es(l),k=u.getName(D);if(e.isObject(g)&&g.binned&&g.step!==void 0)return new Qd(()=>{let Q=u.scaleName(l),ie=`(domain("${Q}")[1] - domain("${Q}")[0]) / ${g.step}`;return`${u.getSignalName(k)} / (${ie})`});if(pr(g)){let Q=oQ(u,_,g);return new Qd(()=>{let ie=u.getSignalName(Q),ze=`(${ie}.stop - ${ie}.start) / ${ie}.step`;return`${u.getSignalName(k)} / (${ze})`})}}}function qke(u,l){let f=l.specifiedScales[u],{size:g}=l,D=l.getScaleComponent(u).get("type");for(let Pt of Bke)if(f[Pt]!==void 0){let sn=As(D,Pt),Ln=a0(u,Pt);if(!sn)jr(Nr(D,Pt,u));else if(Ln)jr(Ln);else switch(Pt){case"range":{let Xn=f.range;if(e.isArray(Xn)){if(as(u))return il(Xn.map(lr=>{if(lr==="width"||lr==="height"){let hr=l.getName(lr),kr=l.getSignalName.bind(l);return Qd.fromName(kr,hr)}return lr}))}else if(e.isObject(Xn))return il({data:l.requestDataName(Ia.Main),field:Xn.field,sort:{op:"min",field:l.vgField(u)}});return il(Xn)}case"scheme":return il(Uke(f[Pt]))}}let k=u===Pn||u==="xOffset"?"width":"height",Q=g[k];if(pp(Q)){if(as(u))if(Me(D)){let Pt=Vle(Q,l,u);if(Pt)return il({step:Pt})}else jr(tt(k));else if(Vi(u)){let Pt=u===se?"x":"y";if(l.getScaleComponent(Pt).get("type")==="band"){let Xn=Wle(Q,D);if(Xn)return il(Xn)}}}let{rangeMin:ie,rangeMax:ze}=f,Ke=$ke(u,l);return(ie!==void 0||ze!==void 0)&&As(D,"rangeMin")&&e.isArray(Ke)&&Ke.length===2?il([ie??Ke[0],ze??Ke[1]]):d0(Ke)}function Uke(u){return Pi(u)?{scheme:u.name,...xe(u,["name"])}:{scheme:u}}function $ke(u,l){let{size:f,config:g,mark:_,encoding:D}=l,k=l.getSignalName.bind(l),{type:Q}=pu(D[u]),ze=l.getScaleComponent(u).get("type"),{domain:Ke,domainMid:Pt}=l.specifiedScales[u];switch(u){case Pn:case or:{if(Et(["point","band"],ze)){let Xn=Qle(u,f,g.view);if(pp(Xn))return{step:Vle(Xn,l,u)}}let sn=es(u),Ln=l.getName(sn);return u===or&&_t(ze)?[Qd.fromName(k,Ln),0]:[0,Qd.fromName(k,Ln)]}case se:case Pe:return zke(u,l,ze);case Se:{let sn=l.component.scales[u].get("zero"),Ln=Gle(_,sn,g),Xn=Wke(_,f,l,g);return ur(ze)?Vke(Ln,Xn,Hke(ze,g,Ke,u)):[Ln,Xn]}case fn:return[0,Math.PI*2];case Ve:return[0,360];case et:return[0,new Qd(()=>{let sn=l.getSignalName("width"),Ln=l.getSignalName("height");return`min(${sn},${Ln})/2`})];case Sn:return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case vn:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ne:return"symbol";case ht:case vt:case Ft:return ze==="ordinal"?Q==="nominal"?"category":"ordinal":Pt!==void 0?"diverging":_==="rect"||_==="geoshape"?"heatmap":"ramp";case nt:case Bt:case rn:return[g.scale.minOpacity,g.scale.maxOpacity]}}function Vle(u,l,f){let{encoding:g}=l,_=l.getScaleComponent(f),D=da(f),k=g[D];if(KN({step:u,offsetIsDiscrete:Rs(k)&&sp(k.type)})==="offset"&&kN(g,D)){let ie=l.getScaleComponent(D),Ke=`domain('${l.scaleName(D)}').length`;if(ie.get("type")==="band"){let sn=ie.get("paddingInner")??ie.get("padding")??0,Ln=ie.get("paddingOuter")??ie.get("padding")??0;Ke=`bandspace(${Ke}, ${sn}, ${Ln})`}let Pt=_.get("paddingInner")??_.get("padding");return{signal:`${u.step} * ${Ke} / (1-${Ir(Pt)})`}}else return u.step}function Wle(u,l){if(KN({step:u,offsetIsDiscrete:Me(l)})==="offset")return{step:u.step}}function zke(u,l,f){let g=u===se?"x":"y",D=l.getScaleComponent(g).get("type"),k=l.scaleName(g);if(D==="band"){let Q=Qle(g,l.size,l.config.view);if(pp(Q)){let ie=Wle(Q,f);if(ie)return ie}return[0,{signal:`bandwidth('${k}')`}]}else return Re(`Cannot use ${u} scale if ${g} scale is not discrete.`)}function Qle(u,l,f){let g=u===Pn?"width":"height",_=l[g];return _||Xb(f,g)}function Hke(u,l,f,g){switch(u){case"quantile":return l.scale.quantileCount;case"quantize":return l.scale.quantizeCount;case"threshold":return f!==void 0&&e.isArray(f)?f.length+1:(jr(Oc(g)),3)}}function Vke(u,l,f){let g=()=>{let _=gi(l),D=gi(u),k=`(${_} - ${D}) / (${f} - 1)`;return`sequence(${D}, ${_} + ${k}, ${k})`};return Un(l)?new Qd(g):{signal:g()}}function Gle(u,l,f){if(l)return Un(l)?{signal:`${l.signal} ? 0 : ${Gle(u,!1,f)}`}:0;switch(u){case"bar":case"tick":return f.scale.minBandSize;case"line":case"trail":case"rule":return f.scale.minStrokeWidth;case"text":return f.scale.minFontSize;case"point":case"square":case"circle":return f.scale.minSize}throw new Error(pl("size",u))}let Yle=.95;function Wke(u,l,f,g){let _={x:Hle(f,"x"),y:Hle(f,"y")};switch(u){case"bar":case"tick":{if(g.scale.maxBandSize!==void 0)return g.scale.maxBandSize;let D=Kle(l,_,g.view);return e.isNumber(D)?D-1:new Qd(()=>`${D.signal} - 1`)}case"line":case"trail":case"rule":return g.scale.maxStrokeWidth;case"text":return g.scale.maxFontSize;case"point":case"square":case"circle":{if(g.scale.maxSize)return g.scale.maxSize;let D=Kle(l,_,g.view);return e.isNumber(D)?Math.pow(Yle*D,2):new Qd(()=>`pow(${Yle} * ${D.signal}, 2)`)}}throw new Error(pl("size",u))}function Kle(u,l,f){let g=pp(u.width)?u.width.step:Jb(f,"width"),_=pp(u.height)?u.height.step:Jb(f,"height");return l.x||l.y?new Qd(()=>`min(${[l.x?l.x.signal:g,l.y?l.y.signal:_].join(", ")})`):Math.min(g,_)}function Jle(u,l){lc(u)?Qke(u,l):ece(u,l)}function Qke(u,l){let f=u.component.scales,{config:g,encoding:_,markDef:D,specifiedScales:k}=u;for(let Q of de(f)){let ie=k[Q],ze=f[Q],Ke=u.getScaleComponent(Q),Pt=pu(_[Q]),sn=ie[l],Ln=Ke.get("type"),Xn=Ke.get("padding"),lr=Ke.get("paddingInner"),hr=As(Ln,l),kr=a0(Q,l);if(sn!==void 0&&(hr?kr&&jr(kr):jr(Nr(Ln,l,Q))),hr&&kr===void 0)if(sn!==void 0){let Ri=Pt.timeUnit,qi=Pt.type;switch(l){case"domainMax":case"domainMin":H0(ie[l])||qi==="temporal"||Ri?ze.set(l,{signal:zb(ie[l],{type:qi,timeUnit:Ri})},!0):ze.set(l,ie[l],!0);break;default:ze.copyKeyFromObject(l,ie)}}else{let Ri=l in Xle?Xle[l]({model:u,channel:Q,fieldOrDatumDef:Pt,scaleType:Ln,scalePadding:Xn,scalePaddingInner:lr,domain:ie.domain,domainMin:ie.domainMin,domainMax:ie.domainMax,markDef:D,config:g,hasNestedOffsetScale:P9(_,Q),hasSecondaryRangeChannel:!!_[Es(Q)]}):g.scale[l];Ri!==void 0&&ze.set(l,Ri,!1)}}}let Xle={bins:u=>{let{model:l,fieldOrDatumDef:f}=u;return Er(f)?Gke(l,f):void 0},interpolate:u=>{let{channel:l,fieldOrDatumDef:f}=u;return Yke(l,f.type)},nice:u=>{let{scaleType:l,channel:f,domain:g,domainMin:_,domainMax:D,fieldOrDatumDef:k}=u;return Kke(l,f,g,_,D,k)},padding:u=>{let{channel:l,scaleType:f,fieldOrDatumDef:g,markDef:_,config:D}=u;return Jke(l,f,D.scale,g,_,D.bar)},paddingInner:u=>{let{scalePadding:l,channel:f,markDef:g,scaleType:_,config:D,hasNestedOffsetScale:k}=u;return Xke(l,f,g.type,_,D.scale,k)},paddingOuter:u=>{let{scalePadding:l,channel:f,scaleType:g,scalePaddingInner:_,config:D,hasNestedOffsetScale:k}=u;return Zke(l,f,g,_,D.scale,k)},reverse:u=>{let{fieldOrDatumDef:l,scaleType:f,channel:g,config:_}=u,D=Er(l)?l.sort:void 0;return eIe(f,D,g,_.scale)},zero:u=>{let{channel:l,fieldOrDatumDef:f,domain:g,markDef:_,scaleType:D,config:k,hasSecondaryRangeChannel:Q}=u;return tIe(l,f,g,_,D,k.scale,Q)}};function Zle(u){lc(u)?jke(u):ece(u,"range")}function ece(u,l){let f=u.component.scales;for(let g of u.children)l==="range"?Zle(g):Jle(g,l);for(let g of de(f)){let _;for(let D of u.children){let k=D.component.scales[g];if(k){let Q=k.getWithExplicit(l);_=z2(_,Q,l,"scale",vR((ie,ze)=>{switch(l){case"range":return ie.step&&ze.step?ie.step-ze.step:0}return 0}))}}f[g].setWithExplicit(l,_)}}function Gke(u,l){let f=l.bin;if(pr(f)){let g=oQ(u,l.field,f);return new Qd(()=>u.getSignalName(g))}else if(rs(f)&&Le(f)&&f.step!==void 0)return{step:f.step}}function Yke(u,l){if(Et([ht,vt,Ft],u)&&l!=="nominal")return"hcl"}function Kke(u,l,f,g,_,D){var k;if(!((k=Rh(D))!==null&&k!==void 0&&k.bin||e.isArray(f)||_!=null||g!=null||Et([tl.TIME,tl.UTC],u)))return as(l)?!0:void 0}function Jke(u,l,f,g,_,D){if(as(u)){if(wn(l)){if(f.continuousPadding!==void 0)return f.continuousPadding;let{type:k,orient:Q}=_;if(k==="bar"&&!(Er(g)&&(g.bin||g.timeUnit))&&(Q==="vertical"&&u==="x"||Q==="horizontal"&&u==="y"))return D.continuousBandSize}if(l===tl.POINT)return f.pointPadding}}function Xke(u,l,f,g,_){let D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(as(l)){let{bandPaddingInner:k,barBandPaddingInner:Q,rectBandPaddingInner:ie,bandWithNestedOffsetPaddingInner:ze}=_;return D?ze:Ne(k,f==="bar"?Q:ie)}else if(Vi(l)&&g===tl.BAND)return _.offsetBandPaddingInner}}function Zke(u,l,f,g,_){let D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(as(l)){let{bandPaddingOuter:k,bandWithNestedOffsetPaddingOuter:Q}=_;if(D)return Q;if(f===tl.BAND)return Ne(k,Un(g)?{signal:`${g.signal}/2`}:g/2)}else if(Vi(l)){if(f===tl.POINT)return .5;if(f===tl.BAND)return _.offsetBandPaddingOuter}}}function eIe(u,l,f,g){if(f==="x"&&g.xReverse!==void 0)return _t(u)&&l==="descending"?Un(g.xReverse)?{signal:`!${g.xReverse.signal}`}:!g.xReverse:g.xReverse;if(_t(u)&&l==="descending")return!0}function tIe(u,l,f,g,_,D,k){if(!!f&&f!=="unaggregated"&&_t(_)){if(e.isArray(f)){let ie=f[0],ze=f[f.length-1];if(ie<=0&&ze>=0)return!0}return!1}if(u==="size"&&l.type==="quantitative"&&!ur(_))return!0;if(!(Er(l)&&l.bin)&&Et([...no,...co],u)){let{orient:ie,type:ze}=g;return Et(["bar","area","line","trail"],ze)&&(ie==="horizontal"&&u==="y"||ie==="vertical"&&u==="x")?!1:Et(["bar","area"],ze)&&!k?!0:D==null?void 0:D.zero}return!1}function nIe(u,l,f,g){let _=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,D=rIe(l,f,g,_),{type:k}=u;return Ii(l)?k!==void 0?up(l,k)?Er(f)&&!vl(k,f.type)?(jr(dr(k,D)),D):k:(jr(rr(l,k,D)),D):D:null}function rIe(u,l,f,g){switch(l.type){case"nominal":case"ordinal":{var _;if(S(u)||ja(u)==="discrete")return u==="shape"&&l.type==="ordinal"&&jr(ml(u,"ordinal")),"ordinal";if(as(u)||Vi(u)){if(Et(["rect","bar","image","rule"],f.type)||g)return"band"}else if(f.type==="arc"&&u in ro)return"band";let D=f[es(u)];return x(D)||Py(l)&&(_=l.axis)!==null&&_!==void 0&&_.tickBand?"band":"point"}case"temporal":return S(u)?"time":ja(u)==="discrete"?(jr(ml(u,"temporal")),"ordinal"):Er(l)&&l.timeUnit&&du(l.timeUnit).utc?"utc":"time";case"quantitative":return S(u)?Er(l)&&pr(l.bin)?"bin-ordinal":"linear":ja(u)==="discrete"?(jr(ml(u,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Dc(l.type))}function iIe(u){let{ignoreRange:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};tce(u),jle(u);for(let f of Oh)Jle(u,f);l||Zle(u)}function tce(u){lc(u)?u.component.scales=sIe(u):u.component.scales=aIe(u)}function sIe(u){let{encoding:l,mark:f,markDef:g}=u,_={};for(let D of ys){let k=pu(l[D]);if(k&&f===I1&&D===ne&&k.type===Fu)continue;let Q=k&&k.scale;if(Vi(D)){let ie=fl(D);if(!P9(l,ie)){Q&&jr(Xc(D));continue}}if(k&&Q!==null&&Q!==!1){Q??={};let ie=P9(l,D),ze=nIe(Q,D,k,g,ie);_[D]=new zle(u.scaleName(`${D}`,!0),{value:ze,explicit:Q.type===ze})}}return _}let oIe=vR((u,l)=>ap(u)-ap(l));function aIe(u){let l=u.component.scales={},f={},g=u.component.resolve;for(let _ of u.children){tce(_);for(let D of de(_.component.scales))if(g.scale[D]??=_le(D,u),g.scale[D]==="shared"){let k=f[D],Q=_.component.scales[D].getWithExplicit("type");k?Md(k.value,Q.value)?f[D]=z2(k,Q,"type","scale",oIe):(g.scale[D]="independent",delete f[D]):f[D]=Q}}for(let _ of de(f)){let D=u.scaleName(_,!0),k=f[_];l[_]=new zle(D,k);for(let Q of u.children){let ie=Q.component.scales[_];ie&&(Q.renameScale(ie.get("name"),D),ie.merged=!0)}}return l}class gQ{constructor(){yn(this,"nameMap",void 0),this.nameMap={}}rename(l,f){this.nameMap[l]=f}has(l){return this.nameMap[l]!==void 0}get(l){for(;this.nameMap[l]&&l!==this.nameMap[l];)l=this.nameMap[l];return l}}function lc(u){return(u==null?void 0:u.type)==="unit"}function H1(u){return(u==null?void 0:u.type)==="facet"}function yQ(u){return(u==null?void 0:u.type)==="concat"}function pE(u){return(u==null?void 0:u.type)==="layer"}class vQ{constructor(l,f,g,_,D,k,Q){this.type=f,this.parent=g,this.config=D,yn(this,"name",void 0),yn(this,"size",void 0),yn(this,"title",void 0),yn(this,"description",void 0),yn(this,"data",void 0),yn(this,"transforms",void 0),yn(this,"layout",void 0),yn(this,"scaleNameMap",void 0),yn(this,"projectionNameMap",void 0),yn(this,"signalNameMap",void 0),yn(this,"component",void 0),yn(this,"view",void 0),yn(this,"children",void 0),yn(this,"correctDataNames",ie=>{var ze,Ke,Pt;return(ze=ie.from)!==null&&ze!==void 0&&ze.data&&(ie.from.data=this.lookupDataSource(ie.from.data)),(Ke=ie.from)!==null&&Ke!==void 0&&(Pt=Ke.facet)!==null&&Pt!==void 0&&Pt.data&&(ie.from.facet.data=this.lookupDataSource(ie.from.facet.data)),ie}),this.parent=g,this.config=D,this.view=dn(Q),this.name=l.name??_,this.title=Kn(l.title)?{text:l.title}:l.title?dn(l.title):void 0,this.scaleNameMap=g?g.scaleNameMap:new gQ,this.projectionNameMap=g?g.projectionNameMap:new gQ,this.signalNameMap=g?g.signalNameMap:new gQ,this.data=l.data,this.description=l.description,this.transforms=mW(l.transform??[]),this.layout=f==="layer"||f==="unit"?{}:$V(l,f,D),this.component={data:{sources:g?g.component.data.sources:[],outputNodes:g?g.component.data.outputNodes:{},outputNodeRefCounts:g?g.component.data.outputNodeRefCounts:{},isFaceted:cp(l)||(g==null?void 0:g.component.data.isFaceted)&&l.data===void 0},layoutSize:new mp,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...k?be(k):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){iIe(this)}parseProjection(){Lle(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Fle(this)}assembleEncodeFromView(l){let{style:f,...g}=l,_={};for(let D of de(g)){let k=g[D];k!==void 0&&(_[D]=qr(k))}return _}assembleGroupEncodeEntry(l){let f={};return this.view&&(f=this.assembleEncodeFromView(this.view)),!l&&(this.description&&(f.description=qr(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...f??{}}:Xe(f)?void 0:f}assembleLayout(){if(!this.layout)return;let{spacing:l,...f}=this.layout,{component:g,config:_}=this,D=td(g.layoutHeaders,_);return{padding:l,...this.assembleDefaultLayout(),...f,...D?{titleBand:D}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){let{layoutHeaders:l}=this.component,f=[];for(let g of ee)l[g].title&&f.push(Ci(this,g));for(let g of Tr)f=f.concat(po(this,g));return f}assembleAxes(){return KW(this.component.axes,this.config)}assembleLegends(){return Ole(this)}assembleProjections(){return XLe(this)}assembleTitle(){let{encoding:l,...f}=this.title??{},g={...Nn(this.config.title).nonMarkTitleProperties,...f,...l?{encode:{update:l}}:{}};if(g.text)return Et(["unit","layer"],this.type)?Et(["middle",void 0],g.anchor)&&(g.frame??="group"):g.anchor??="start",Xe(g)?void 0:g}assembleGroup(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f={};l=l.concat(this.assembleSignals()),l.length>0&&(f.signals=l);let g=this.assembleLayout();g&&(f.layout=g),f.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());let _=!this.parent||H1(this.parent)?Ule(this):[];_.length>0&&(f.scales=_);let D=this.assembleAxes();D.length>0&&(f.axes=D);let k=this.assembleLegends();return k.length>0&&(f.legends=k),f}getName(l){return zt((this.name?`${this.name}_`:"")+l)}getDataName(l){return this.getName(Ia[l].toLowerCase())}requestDataName(l){let f=this.getDataName(l),g=this.component.data.outputNodeRefCounts;return g[f]=(g[f]||0)+1,f}getSizeSignalRef(l){if(H1(this.parent)){let f=yle(l),g=hi(f),_=this.component.scales[g];if(_&&!_.merged){let D=_.get("type"),k=_.get("range");if(Me(D)&&br(k)){let Q=_.get("name"),ie=eL(this,g),ze=xQ(ie);if(ze){let Ke=fi({aggregate:"distinct",field:ze},{expr:"datum"});return{signal:gle(Q,_,Ke)}}else return jr(vr(g)),null}}}return{signal:this.signalNameMap.get(this.getName(l))}}lookupDataSource(l){let f=this.component.data.outputNodes[l];return f?f.getSource():l}getSignalName(l){return this.signalNameMap.get(l)}renameSignal(l,f){this.signalNameMap.rename(l,f)}renameScale(l,f){this.scaleNameMap.rename(l,f)}renameProjection(l,f){this.projectionNameMap.rename(l,f)}scaleName(l,f){if(f)return this.getName(l);if(yr(l)&&Ii(l)&&this.component.scales[l]||this.scaleNameMap.has(this.getName(l)))return this.scaleNameMap.get(this.getName(l))}projectionName(l){if(l)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(l){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");let f=this.component.scales[l];return f&&!f.merged?f:this.parent?this.parent.getScaleComponent(l):void 0}getSelectionComponent(l,f){let g=this.component.selection[l];if(!g&&this.parent&&(g=this.parent.getSelectionComponent(l,f)),!g)throw new Error(io(f));return g}hasAxisOrientSignalRef(){var l,f;return((l=this.component.axes.x)===null||l===void 0?void 0:l.some(g=>g.hasOrientSignalRef()))||((f=this.component.axes.y)===null||f===void 0?void 0:f.some(g=>g.hasOrientSignalRef()))}}class nce extends vQ{vgField(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=this.fieldDef(l);if(!!g)return fi(g,f)}reduceFieldDef(l,f){return zd(this.getMapping(),(g,_,D)=>{let k=Rh(_);return k?l(g,k,D):g},f)}forEachFieldDef(l,f){B9(this.getMapping(),(g,_)=>{let D=Rh(g);D&&l(D,_)},f)}}class tL extends va{clone(){return new tL(null,be(this.transform))}constructor(l,f){super(l);this.transform=f,this.transform=be(f);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"value",g[1]??"density"],f.groupby&&f.minsteps==null&&f.maxsteps==null&&f.steps==null&&(this.transform.steps=200)}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${lt(this.transform)}`}assemble(){let{density:l,...f}=this.transform;return{type:"kde",field:l,...f}}}class Aw extends va{clone(){return new Aw(null,{...this.filter})}constructor(l,f){super(l);this.filter=f}static make(l,f){let{config:g,mark:_,markDef:D}=f;if(vi("invalid",D,g)!=="filter")return null;let Q=f.reduceFieldDef((ie,ze,Ke)=>{let Pt=Ii(Ke)&&f.getScaleComponent(Ke);if(Pt){let sn=Pt.get("type");_t(sn)&&ze.aggregate!=="count"&&!of(_)&&(ie[ze.field]=ze)}return ie},{});return de(Q).length?new Aw(l,Q):null}dependentFields(){return new Set(de(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${lt(this.filter)}`}assemble(){let l=de(this.filter).reduce((f,g)=>{let _=this.filter[g],D=fi(_,{expr:"datum"});return _!==null&&(_.type==="temporal"?f.push(`(isDate(${D}) || (isValid(${D}) && isFinite(+${D})))`):_.type==="quantitative"&&(f.push(`isValid(${D})`),f.push(`isFinite(+${D})`))),f},[]);return l.length>0?{type:"filter",expr:l.join(" && ")}:null}}class nL extends va{clone(){return new nL(this.parent,be(this.transform))}constructor(l,f){super(l);this.transform=f,this.transform=be(f);let{flatten:g,as:_=[]}=this.transform;this.transform.as=g.map((D,k)=>_[k]??D)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${lt(this.transform)}`}assemble(){let{flatten:l,as:f}=this.transform;return{type:"flatten",fields:l,as:f}}}class rL extends va{clone(){return new rL(null,be(this.transform))}constructor(l,f){super(l);this.transform=f,this.transform=be(f);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"key",g[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${lt(this.transform)}`}assemble(){let{fold:l,as:f}=this.transform;return{type:"fold",fields:l,as:f}}}class mE extends va{clone(){return new mE(null,be(this.fields),this.geojson,this.signal)}static parseAll(l,f){if(f.component.projection&&!f.component.projection.isFit)return l;let g=0;for(let _ of[[re,ct],[je,Te]]){let D=_.map(k=>{let Q=pu(f.encoding[k]);return Er(Q)?Q.field:bo(Q)?{expr:`${Q.datum}`}:$d(Q)?{expr:`${Q.value}`}:void 0});(D[0]||D[1])&&(l=new mE(l,D,null,f.getName(`geojson_${g++}`)))}if(f.channelHasField(ne)){let _=f.typedFieldDef(ne);_.type===Fu&&(l=new mE(l,null,_.field,f.getName(`geojson_${g++}`)))}return l}constructor(l,f,g,_){super(l);this.fields=f,this.geojson=g,this.signal=_}dependentFields(){let l=(this.fields??[]).filter(e.isString);return new Set([...this.geojson?[this.geojson]:[],...l])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${lt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class Tw extends va{clone(){return new Tw(null,this.projection,be(this.fields),be(this.as))}constructor(l,f,g,_){super(l);this.projection=f,this.fields=g,this.as=_}static parseAll(l,f){if(!f.projectionName())return l;for(let g of[[re,ct],[je,Te]]){let _=g.map(k=>{let Q=pu(f.encoding[k]);return Er(Q)?Q.field:bo(Q)?{expr:`${Q.datum}`}:$d(Q)?{expr:`${Q.value}`}:void 0}),D=g[0]===je?"2":"";(_[0]||_[1])&&(l=new Tw(l,f.projectionName(),_,[f.getName(`x${D}`),f.getName(`y${D}`)]))}return l}dependentFields(){return new Set(this.fields.filter(e.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${lt(this.fields)} ${lt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class $v extends va{clone(){return new $v(null,be(this.transform))}constructor(l,f){super(l);this.transform=f}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(l){let{start:f=0,stop:g,step:_}=l;return{signal:`sequence(${[f,g,..._?[_]:[]].join(",")})`}}static makeFromTransform(l,f){return new $v(l,f)}static makeFromEncoding(l,f){let g=f.encoding,_=g.x,D=g.y;if(Er(_)&&Er(D)){let k=_.impute?_:D.impute?D:void 0;if(k===void 0)return;let Q=_.impute?D:D.impute?_:void 0,{method:ie,value:ze,frame:Ke,keyvals:Pt}=k.impute,sn=MN(f.mark,g);return new $v(l,{impute:k.field,key:Q.field,...ie?{method:ie}:{},...ze!==void 0?{value:ze}:{},...Ke?{frame:Ke}:{},...Pt!==void 0?{keyvals:Pt}:{},...sn.length?{groupby:sn}:{}})}return null}hash(){return`Impute ${lt(this.transform)}`}assemble(){let{impute:l,key:f,keyvals:g,method:_,groupby:D,value:k,frame:Q=[null,null]}=this.transform,ie={type:"impute",field:l,key:f,...g?{keyvals:f0(g)?this.processSequence(g):g}:{},method:"value",...D?{groupby:D}:{},value:!_||_==="value"?k:null};if(_&&_!=="value"){let ze={type:"window",as:[`imputed_${l}_value`],ops:[_],fields:[l],frame:Q,ignorePeers:!1,...D?{groupby:D}:{}},Ke={type:"formula",expr:`datum.${l} === null ? datum.imputed_${l}_value : datum.${l}`,as:l};return[ie,ze,Ke]}else return[ie]}}class iL extends va{clone(){return new iL(null,be(this.transform))}constructor(l,f){super(l);this.transform=f,this.transform=be(f);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??f.on,g[1]??f.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${lt(this.transform)}`}assemble(){let{loess:l,on:f,...g}=this.transform;return{type:"loess",x:f,y:l,...g}}}class Fw extends va{clone(){return new Fw(null,be(this.transform),this.secondary)}constructor(l,f,g){super(l);this.transform=f,this.secondary=g}static make(l,f,g,_){let D=f.component.data.sources,{from:k}=g,Q=null;if(sW(k)){let ie=oce(k.data,D);ie||(ie=new jv(k.data),D.push(ie));let ze=f.getName(`lookup_${_}`);Q=new Rf(ie,ze,Ia.Lookup,f.component.data.outputNodeRefCounts),f.component.data.outputNodes[ze]=Q}else if($2(k)){let ie=k.param;g={as:ie,...g};let ze;try{ze=f.getSelectionComponent(zt(ie),ie)}catch{throw new Error(Yc(ie))}if(Q=ze.materialized,!Q)throw new Error(Tc(ie))}return new Fw(l,g,Q.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?e.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${lt({transform:this.transform,secondary:this.secondary})}`}assemble(){let l;if(this.transform.from.fields)l={values:this.transform.from.fields,...this.transform.as?{as:e.array(this.transform.as)}:{}};else{let f=this.transform.as;e.isString(f)||(jr(Bl),f="_lookup"),l={as:[f]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...l,...this.transform.default?{default:this.transform.default}:{}}}}class sL extends va{clone(){return new sL(null,be(this.transform))}constructor(l,f){super(l);this.transform=f,this.transform=be(f);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??"prob",g[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${lt(this.transform)}`}assemble(){let{quantile:l,...f}=this.transform;return{type:"quantile",field:l,...f}}}class oL extends va{clone(){return new oL(null,be(this.transform))}constructor(l,f){super(l);this.transform=f,this.transform=be(f);let g=this.transform.as??[void 0,void 0];this.transform.as=[g[0]??f.on,g[1]??f.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${lt(this.transform)}`}assemble(){let{regression:l,on:f,...g}=this.transform;return{type:"regression",x:f,y:l,...g}}}class aL extends va{clone(){return new aL(null,be(this.transform))}constructor(l,f){super(l);this.transform=f}addDimensions(l){this.transform.groupby=wt((this.transform.groupby??[]).concat(l),f=>f)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${lt(this.transform)}`}assemble(){let{pivot:l,value:f,groupby:g,limit:_,op:D}=this.transform;return{type:"pivot",field:l,value:f,..._!==void 0?{limit:_}:{},...D!==void 0?{op:D}:{},...g!==void 0?{groupby:g}:{}}}}class uL extends va{clone(){return new uL(null,be(this.transform))}constructor(l,f){super(l);this.transform=f}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${lt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function rce(u){let l=0;function f(g,_){if(g instanceof jv&&!g.isGenerator&&!U1(g.data)&&(u.push(_),_={name:null,source:_.name,transform:[]}),g instanceof p0&&(g.parent instanceof jv&&!_.source?(_.format={..._.format??{},parse:g.assembleFormatParse()},_.transform.push(...g.assembleTransforms(!0))):_.transform.push(...g.assembleTransforms())),g instanceof dE){_.name||(_.name=`data_${l++}`),!_.source||_.transform.length>0?(u.push(_),g.data=_.name):g.data=_.source,u.push(...g.assemble());return}switch((g instanceof Cw||g instanceof ww||g instanceof Aw||g instanceof Ky||g instanceof Vt||g instanceof Tw||g instanceof $1||g instanceof Fw||g instanceof hE||g instanceof Uv||g instanceof rL||g instanceof nL||g instanceof tL||g instanceof iL||g instanceof sL||g instanceof oL||g instanceof Jy||g instanceof uL||g instanceof aL)&&_.transform.push(g.assemble()),(g instanceof G2||g instanceof xp||g instanceof $v||g instanceof zx||g instanceof mE)&&_.transform.push(...g.assemble()),g instanceof Rf&&(_.source&&_.transform.length===0?g.setSource(_.source):g.parent instanceof Rf?g.setSource(_.name):(_.name||(_.name=`data_${l++}`),g.setSource(_.name),g.numChildren()===1&&(u.push(_),_={name:null,source:_.name,transform:[]}))),g.numChildren()){case 0:g instanceof Rf&&(!_.source||_.transform.length>0)&&u.push(_);break;case 1:f(g.children[0],_);break;default:{_.name||(_.name=`data_${l++}`);let D=_.name;!_.source||_.transform.length>0?u.push(_):D=_.source;for(let k of g.children)f(k,{name:null,source:D,transform:[]});break}}}return f}function uIe(u){let l=[],f=rce(l);for(let g of u.children)f(g,{source:u.name,name:null,transform:[]});return l}function lIe(u,l){let f=[],g=rce(f),_=0;for(let k of u.sources){k.hasName()||(k.dataName=`source_${_++}`);let Q=k.assemble();g(k,Q)}for(let k of f)k.transform.length===0&&delete k.transform;let D=0;for(let[k,Q]of f.entries())(Q.transform??[]).length===0&&!Q.source&&f.splice(D++,0,f.splice(k,1)[0]);for(let k of f)for(let Q of k.transform??[])Q.type==="lookup"&&(Q.from=u.outputNodes[Q.from].getSource());for(let k of f)k.name in l&&(k.values=l[k.name]);return f}function cIe(u){return u==="top"||u==="left"||Un(u)?"header":"footer"}function fIe(u){for(let l of ee)dIe(u,l);sce(u,"x"),sce(u,"y")}function dIe(u,l){let{facet:f,config:g,child:_,component:D}=u;if(u.channelHasField(l)){var k;let Q=f[l],ie=Wn("title",null,g,l),ze=jy(Q,g,{allowDisabling:!0,includeDefault:ie===void 0||!!ie});_.component.layoutHeaders[l].title&&(ze=e.isArray(ze)?ze.join(", "):ze,ze+=` / ${_.component.layoutHeaders[l].title}`,_.component.layoutHeaders[l].title=null);let Ke=Wn("labelOrient",Q.header,g,l),Pt=Q.header!==null?Ne((k=Q.header)===null||k===void 0?void 0:k.labels,g.header.labels,!0):!1,sn=Et(["bottom","right"],Ke)?"footer":"header";D.layoutHeaders[l]={title:Q.header!==null?ze:null,facetFieldDef:Q,[sn]:l==="facet"?[]:[ice(u,l,Pt)]}}}function ice(u,l,f){let g=l==="row"?"height":"width";return{labels:f,sizeSignal:u.child.component.layoutSize.get(g)?u.child.getSizeSignalRef(g):void 0,axes:[]}}function sce(u,l){let{child:f}=u;if(f.component.axes[l]){let{layoutHeaders:g,resolve:_}=u.component;if(_.axis[l]=iQ(_,l),_.axis[l]==="shared"){let D=l==="x"?"column":"row",k=g[D];for(let Q of f.component.axes[l]){let ie=cIe(Q.get("orient"));k[ie]??=[ice(u,D,!1)];let ze=Bv(Q,"main",u.config,{header:!0});ze&&k[ie][0].axes.push(ze),Q.mainExtracted=!0}}}}function hIe(u){_Q(u),lL(u,"width"),lL(u,"height")}function pIe(u){_Q(u);let l=u.layout.columns===1?"width":"childWidth",f=u.layout.columns===void 0?"height":"childHeight";lL(u,l),lL(u,f)}function _Q(u){for(let l of u.children)l.parseLayoutSize()}function lL(u,l){let f=yle(l),g=hi(f),_=u.component.resolve,D=u.component.layoutSize,k;for(let Q of u.children){let ie=Q.component.layoutSize.getWithExplicit(f),ze=_.scale[g]??_le(g,u);if(ze==="independent"&&ie.value==="step"){k=void 0;break}if(k){if(ze==="independent"&&k.value!==ie.value){k=void 0;break}k=z2(k,ie,f,"")}else k=ie}if(k){for(let Q of u.children)u.renameSignal(Q.getName(f),u.getName(l)),Q.component.layoutSize.set(f,"merged",!1);D.setWithExplicit(l,k)}else D.setWithExplicit(l,{explicit:!1,value:void 0})}function mIe(u){let{size:l,component:f}=u;for(let g of no){let _=es(g);if(l[_]){let D=l[_];f.layoutSize.set(_,pp(D)?"step":D,!0)}else{let D=xIe(u,_);f.layoutSize.set(_,D,!1)}}}function xIe(u,l){let f=l==="width"?"x":"y",g=u.config,_=u.getScaleComponent(f);if(_){let D=_.get("type"),k=_.get("range");if(Me(D)){let Q=Xb(g.view,l);return br(k)||pp(Q)?"step":Q}else return J9(g.view,l)}else{if(u.hasProjection||u.mark==="arc")return J9(g.view,l);{let D=Xb(g.view,l);return pp(D)?D.step:D}}}function bQ(u,l,f){return fi(l,{suffix:`by_${fi(u)}`,...f??{}})}class Dw extends nce{constructor(l,f,g,_){super(l,"facet",f,g,_,l.resolve);yn(this,"facet",void 0),yn(this,"child",void 0),yn(this,"children",void 0),this.child=AQ(l.spec,this,this.getName("child"),void 0,_),this.children=[this.child],this.facet=this.initFacet(l.facet)}initFacet(l){if(!qd(l))return{facet:this.initFacetFieldDef(l,"facet")};let f=de(l),g={};for(let _ of f){if(![Fn,Qn].includes(_)){jr(pl(_,"facet"));break}let D=l[_];if(D.field===void 0){jr(Jo(D,_));break}g[_]=this.initFacetFieldDef(D,_)}return g}initFacetFieldDef(l,f){let g=qy(l,f);return g.header?g.header=dn(g.header):g.header===null&&(g.header=null),g}channelHasField(l){return!!this.facet[l]}fieldDef(l){return this.facet[l]}parseData(){this.component.data=cL(this),this.child.parseData()}parseLayoutSize(){_Q(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),fIe(this)}assembleSelectionTopLevelSignals(l){return this.child.assembleSelectionTopLevelSignals(l)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(l){return this.child.assembleSelectionData(l)}getHeaderLayoutMixins(){let l={};for(let f of ee)for(let g of Pr){let _=this.component.layoutHeaders[f],D=_[g],{facetFieldDef:k}=_;if(k){let Q=Wn("titleOrient",k.header,this.config,f);if(["right","bottom"].includes(Q)){let ie=On(f,Q);l.titleAnchor??={},l.titleAnchor[ie]="end"}}if(D!=null&&D[0]){let Q=f==="row"?"height":"width",ie=g==="header"?"headerBand":"footerBand";f!=="facet"&&!this.child.component.layoutSize.get(Q)&&(l[ie]??={},l[ie][f]=.5),_.title&&(l.offset??={},l.offset[f==="row"?"rowTitle":"columnTitle"]=10)}}return l}assembleDefaultLayout(){let{column:l,row:f}=this.facet,g=l?this.columnDistinctSignal():f?1:void 0,_="all";return(!f&&this.component.resolve.scale.x==="independent"||!l&&this.component.resolve.scale.y==="independent")&&(_="none"),{...this.getHeaderLayoutMixins(),...g?{columns:g}:{},bounds:"full",align:_}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Dw))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(l){return this.parent&&this.parent instanceof Dw?{...this.channelHasField("column")?{encode:{update:{columns:{field:fi(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(l)}:super.assembleGroup(l)}getCardinalityAggregateForChild(){let l=[],f=[],g=[];if(this.child instanceof Dw){if(this.child.channelHasField("column")){let _=fi(this.child.facet.column);l.push(_),f.push("distinct"),g.push(`distinct_${_}`)}}else for(let _ of no){let D=this.child.component.scales[_];if(D&&!D.merged){let k=D.get("type"),Q=D.get("range");if(Me(k)&&br(Q)){let ie=eL(this.child,_),ze=xQ(ie);ze?(l.push(ze),f.push("distinct"),g.push(`distinct_${ze}`)):jr(vr(_))}}}return{fields:l,ops:f,as:g}}assembleFacet(){let{name:l,data:f}=this.component.data.facetRoot,{row:g,column:_}=this.facet,{fields:D,ops:k,as:Q}=this.getCardinalityAggregateForChild(),ie=[];for(let Ke of ee){let Pt=this.facet[Ke];if(Pt){ie.push(fi(Pt));let{bin:sn,sort:Ln}=Pt;if(pr(sn)&&ie.push(fi(Pt,{binSuffix:"end"})),ya(Ln)){let{field:Xn,op:lr=El}=Ln,hr=bQ(Pt,Ln);g&&_?(D.push(hr),k.push("max"),Q.push(hr)):(D.push(Xn),k.push(lr),Q.push(hr))}else if(e.isArray(Ln)){let Xn=gn(Pt,Ke);D.push(Xn),k.push("max"),Q.push(Xn)}}}let ze=!!g&&!!_;return{name:l,data:f,groupby:ie,...ze||D.length>0?{aggregate:{...ze?{cross:ze}:{},...D.length?{fields:D,ops:k,as:Q}:{}}}:{}}}facetSortFields(l){let{facet:f}=this,g=f[l];return g?ya(g.sort)?[bQ(g,g.sort,{expr:"datum"})]:e.isArray(g.sort)?[gn(g,l,{expr:"datum"})]:[fi(g,{expr:"datum"})]:[]}facetSortOrder(l){let{facet:f}=this,g=f[l];if(g){let{sort:_}=g;return[(ya(_)?_.order:!e.isArray(_)&&_)||"ascending"]}return[]}assembleLabelTitle(){let{facet:l,config:f}=this;if(l.facet)return Eo(l.facet,"facet",f);let g={row:["top","bottom"],column:["left","right"]};for(let D of Tr)if(l[D]){var _;let k=Wn("labelOrient",(_=l[D])===null||_===void 0?void 0:_.header,f,D);if(g[D].includes(k))return Eo(l[D],D,f)}}assembleMarks(){let{child:l}=this,f=this.component.data.facetRoot,g=uIe(f),_=l.assembleGroupEncodeEntry(!1),D=this.assembleLabelTitle()||l.assembleTitle(),k=l.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...D?{title:D}:{},...k?{style:k}:{},from:{facet:this.assembleFacet()},sort:{field:ee.map(ie=>this.facetSortFields(ie)).flat(),order:ee.map(ie=>this.facetSortOrder(ie)).flat()},...g.length>0?{data:g}:{},..._?{encode:{update:_}}:{},...l.assembleGroup(EW(this,[]))}]}getMapping(){return this.facet}}function gIe(u,l){let{row:f,column:g}=l;if(f&&g){let _=null;for(let D of[f,g])if(ya(D.sort)){let{field:k,op:Q=El}=D.sort;u=_=new Uv(u,{joinaggregate:[{op:Q,field:k,as:bQ(D,D.sort,{forAs:!0})}],groupby:[fi(D)]})}return _}return null}function oce(u,l){for(let k of l){var f,g,_,D;let Q=k.data;if(u.name&&k.hasName()&&u.name!==k.dataName)continue;let ie=(f=u.format)===null||f===void 0?void 0:f.mesh,ze=(g=Q.format)===null||g===void 0?void 0:g.feature;if(ie&&ze)continue;let Ke=(_=u.format)===null||_===void 0?void 0:_.feature;if((Ke||ze)&&Ke!==ze)continue;let Pt=(D=Q.format)===null||D===void 0?void 0:D.mesh;if(!((ie||Pt)&&ie!==Pt)){if(Rv(u)&&Rv(Q)){if(st(u.values,Q.values))return k}else if(U1(u)&&U1(Q)){if(u.url===Q.url)return k}else if(bR(u)&&u.name===k.dataName)return k}}return null}function yIe(u,l){if(u.data||!u.parent){if(u.data===null){let g=new jv({values:[]});return l.push(g),g}let f=oce(u.data,l);if(f)return H2(u.data)||(f.data.format=kt({},u.data.format,f.data.format)),!f.hasName()&&u.data.name&&(f.dataName=u.data.name),f;{let g=new jv(u.data);return l.push(g),g}}else return u.parent.component.data.facetRoot?u.parent.component.data.facetRoot:u.parent.component.data.main}function vIe(u,l,f){let g=0;for(let _ of l.transforms){let D,k;if(nE(_))k=u=new Vt(u,_),D="derived";else if(rw(_)){let Q=fke(_);k=u=p0.makeWithAncestors(u,{},Q,f)??u,u=new Ky(u,l,_.filter)}else if(Xa(_))k=u=G2.makeFromTransform(u,_,l),D="number";else if(mR(_))D="date",f.getWithExplicit(_.field).value===void 0&&(u=new p0(u,{[_.field]:D}),f.set(_.field,D,!1)),k=u=xp.makeFromTransform(u,_);else if(dW(_))k=u=$1.makeFromTransform(u,_),D="number",yw(l)&&(u=new Jy(u));else if(Ru(_))k=u=Fw.make(u,l,_,g++),D="derived";else if(fW(_))k=u=new hE(u,_),D="number";else if(j1(_))k=u=new Uv(u,_),D="number";else if(hW(_))k=u=zx.makeFromTransform(u,_),D="derived";else if(pW(_))k=u=new rL(u,_),D="derived";else if(pR(_))k=u=new nL(u,_),D="derived";else if(oW(_))k=u=new aL(u,_),D="derived";else if(iw(_))u=new uL(u,_);else if(Lu(_))k=u=$v.makeFromTransform(u,_),D="derived";else if(aW(_))k=u=new tL(u,_),D="derived";else if(uW(_))k=u=new sL(u,_),D="derived";else if(lW(_))k=u=new oL(u,_),D="derived";else if(cW(_))k=u=new iL(u,_),D="derived";else{jr(tc(_));continue}if(k&&D!==void 0)for(let Q of k.producedFields()??[])f.set(Q,D,!1)}return u}function cL(u){var l;let f=yIe(u,u.component.data.sources),{outputNodes:g,outputNodeRefCounts:_}=u.component.data,D=u.data,Q=!(D&&(H2(D)||U1(D)||Rv(D)))&&u.parent?u.parent.component.data.ancestorParse.clone():new _R;H2(D)?(ER(D)?f=new ww(f,D.sequence):uw(D)&&(f=new Cw(f,D.graticule)),Q.parseNothing=!0):(D==null||(l=D.format)===null||l===void 0?void 0:l.parse)===null&&(Q.parseNothing=!0),f=p0.makeExplicit(f,u,Q)??f,f=new Jy(f);let ie=u.parent&&pE(u.parent);(lc(u)||H1(u))&&ie&&(f=G2.makeFromEncoding(f,u)??f),u.transforms.length>0&&(f=vIe(f,u,Q));let ze=hke(u),Ke=dke(u);f=p0.makeWithAncestors(f,{},{...ze,...Ke},Q)??f,lc(u)&&(f=mE.parseAll(f,u),f=Tw.parseAll(f,u)),(lc(u)||H1(u))&&(ie||(f=G2.makeFromEncoding(f,u)??f),f=xp.makeFromEncoding(f,u)??f,f=Vt.parseAllForSortIndex(f,u));let Pt=u.getDataName(Ia.Raw),sn=new Rf(f,Pt,Ia.Raw,_);if(g[Pt]=sn,f=sn,lc(u)){let hr=$1.makeFromEncoding(f,u);hr&&(f=hr,yw(u)&&(f=new Jy(f))),f=$v.makeFromEncoding(f,u)??f,f=zx.makeFromEncoding(f,u)??f}lc(u)&&(f=Aw.make(f,u)??f);let Ln=u.getDataName(Ia.Main),Xn=new Rf(f,Ln,Ia.Main,_);g[Ln]=Xn,f=Xn,lc(u)&&GW(u,Xn);let lr=null;if(H1(u)){let hr=u.getName("facet");f=gIe(f,u.facet)??f,lr=new dE(f,u,hr,Xn.getSource()),g[hr]=lr}return{...u.component.data,outputNodes:g,outputNodeRefCounts:_,raw:sn,main:Xn,facetRoot:lr,ancestorParse:Q}}class _Ie extends vQ{constructor(l,f,g,_){var D,k,Q,ie;super(l,"concat",f,g,_,l.resolve);yn(this,"children",void 0),(((D=l.resolve)===null||D===void 0||(k=D.axis)===null||k===void 0?void 0:k.x)==="shared"||((Q=l.resolve)===null||Q===void 0||(ie=Q.axis)===null||ie===void 0?void 0:ie.y)==="shared")&&jr(e0),this.children=this.getChildren(l).map((ze,Ke)=>AQ(ze,this,this.getName(`concat_${Ke}`),void 0,_))}parseData(){this.component.data=cL(this);for(let l of this.children)l.parseData()}parseSelections(){this.component.selection={};for(let l of this.children){l.parseSelections();for(let f of de(l.component.selection))this.component.selection[f]=l.component.selection[f]}}parseMarkGroup(){for(let l of this.children)l.parseMarkGroup()}parseAxesAndHeaders(){for(let l of this.children)l.parseAxesAndHeaders()}getChildren(l){return Kb(l)?l.vconcat:K9(l)?l.hconcat:l.concat}parseLayoutSize(){pIe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(l){return this.children.reduce((f,g)=>g.assembleSelectionTopLevelSignals(f),l)}assembleSignals(){return this.children.forEach(l=>l.assembleSignals()),[]}assembleLayoutSignals(){let l=nd(this);for(let f of this.children)l.push(...f.assembleLayoutSignals());return l}assembleSelectionData(l){return this.children.reduce((f,g)=>g.assembleSelectionData(f),l)}assembleMarks(){return this.children.map(l=>{let f=l.assembleTitle(),g=l.assembleGroupStyle(),_=l.assembleGroupEncodeEntry(!1);return{type:"group",name:l.getName("group"),...f?{title:f}:{},...g?{style:g}:{},..._?{encode:{update:_}}:{},...l.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){let l=this.layout.columns;return{...l!=null?{columns:l}:{},bounds:"full",align:"each"}}}function bIe(u){return u===!1||u===null}let EIe={disable:1,gridScale:1,scale:1,...RN,labelExpr:1,encode:1},ace=de(EIe);class EQ extends mp{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super();this.explicit=l,this.implicit=f,this.mainExtracted=g}clone(){return new EQ(be(this.explicit),be(this.implicit),this.mainExtracted)}hasAxisPart(l){return l==="axis"?!0:l==="grid"||l==="title"?!!this.get(l):!bIe(this.get(l))}hasOrientSignalRef(){return Un(this.explicit.orient)}}function SIe(u,l,f){let{encoding:g,config:_}=u,D=pu(g[l])??pu(g[Es(l)]),k=u.axis(l)||{},{format:Q,formatType:ie}=k;if(bi(ie))return{text:xs({fieldOrDatumDef:D,field:"datum.value",format:Q,formatType:ie,config:_}),...f};if(Q===void 0&&ie===void 0&&_.customFormatTypes){if(rl(D)==="quantitative"){if(Py(D)&&D.stack==="normalize"&&_.normalizedNumberFormatType)return{text:xs({fieldOrDatumDef:D,field:"datum.value",format:_.normalizedNumberFormat,formatType:_.normalizedNumberFormatType,config:_}),...f};if(_.numberFormatType)return{text:xs({fieldOrDatumDef:D,field:"datum.value",format:_.numberFormat,formatType:_.numberFormatType,config:_}),...f}}if(rl(D)==="temporal"&&_.timeFormatType&&Er(D)&&!D.timeUnit)return{text:xs({fieldOrDatumDef:D,field:"datum.value",format:_.timeFormat,formatType:_.timeFormatType,config:_}),...f}}return f}function CIe(u){return no.reduce((l,f)=>(u.component.scales[f]&&(l[f]=[NIe(f,u)]),l),{})}let wIe={bottom:"top",top:"bottom",left:"right",right:"left"};function AIe(u){let{axes:l,resolve:f}=u.component,g={top:0,bottom:0,right:0,left:0};for(let _ of u.children){_.parseAxesAndHeaders();for(let D of de(_.component.axes))f.axis[D]=iQ(u.component.resolve,D),f.axis[D]==="shared"&&(l[D]=TIe(l[D],_.component.axes[D]),l[D]||(f.axis[D]="independent",delete l[D]))}for(let _ of no){for(let D of u.children)if(!!D.component.axes[_]){if(f.axis[_]==="independent"){l[_]=(l[_]??[]).concat(D.component.axes[_]);for(let k of D.component.axes[_]){let{value:Q,explicit:ie}=k.getWithExplicit("orient");if(!Un(Q)){if(g[Q]>0&&!ie){let ze=wIe[Q];g[Q]>g[ze]&&k.set("orient",ze,!1)}g[Q]++}}}delete D.component.axes[_]}if(f.axis[_]==="independent"&&l[_]&&l[_].length>1)for(let D of l[_])!!D.get("grid")&&!D.explicit.grid&&(D.implicit.grid=!1)}}function TIe(u,l){if(u){if(u.length!==l.length)return;let f=u.length;for(let g=0;g<f;g++){let _=u[g],D=l[g];if(!!_!=!!D)return;if(_&&D){let k=_.getWithExplicit("orient"),Q=D.getWithExplicit("orient");if(k.explicit&&Q.explicit&&k.value!==Q.value)return;u[g]=FIe(_,D)}}}else return l.map(f=>f.clone());return u}function FIe(u,l){for(let f of ace){let g=z2(u.getWithExplicit(f),l.getWithExplicit(f),f,"axis",(_,D)=>{switch(f){case"title":return Jn(_,D);case"gridScale":return{explicit:_.explicit,value:Ne(_.value,D.value)}}return Vo(_,D,f,"axis")});u.setWithExplicit(f,g)}return u}function DIe(u,l,f,g,_){if(l==="disable")return f!==void 0;switch(f=f||{},l){case"titleAngle":case"labelAngle":return u===(Un(f.labelAngle)?f.labelAngle:nn(f.labelAngle));case"values":return!!f.values;case"encode":return!!f.encoding||!!f.labelAngle;case"title":if(u===j(g,_))return!0}return u===f[l]}let OIe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function NIe(u,l){var f,g,_,D;let k=l.axis(u),Q=new EQ,ie=pu(l.encoding[u]),{mark:ze,config:Ke}=l,Pt=((f=k)===null||f===void 0?void 0:f.orient)||((g=Ke[u==="x"?"axisX":"axisY"])===null||g===void 0?void 0:g.orient)||((_=Ke.axis)===null||_===void 0?void 0:_.orient)||h(u),sn=l.getScaleComponent(u).get("type"),Ln=JW(u,sn,Pt,l.config),Xn=k!==void 0?!k:bw("disable",Ke.style,(D=k)===null||D===void 0?void 0:D.style,Ln).configValue;if(Q.set("disable",Xn,k!==void 0),Xn)return Q;k=k||{};let lr=tQ(ie,k,u,Ke.style,Ln),hr={fieldOrDatumDef:ie,axis:k,channel:u,model:l,scaleType:sn,orient:Pt,labelAngle:lr,mark:ze,config:Ke};for(let qi of ace){let Ds=qi in YR?YR[qi](hr):LN(qi)?k[qi]:void 0,Bi=Ds!==void 0,ta=DIe(Ds,qi,k,l,u);if(Bi&&ta)Q.set(qi,Ds,ta);else{let{configValue:os=void 0,configFrom:sl=void 0}=LN(qi)&&qi!=="values"?bw(qi,Ke.style,k.style,Ln):{},Sl=os!==void 0;Bi&&!Sl?Q.set(qi,Ds,ta):(sl!=="vgAxisConfig"||OIe.has(qi)&&Sl||Cv(os)||Un(os))&&Q.set(qi,os,!1)}}let kr=k.encoding??{},Ri=NN.reduce((qi,Ds)=>{if(!Q.hasAxisPart(Ds))return qi;let Bi=vle(kr[Ds]??{},l),ta=Ds==="labels"?SIe(l,u,Bi):Bi;return ta!==void 0&&!Xe(ta)&&(qi[Ds]={update:ta}),qi},{});return Xe(Ri)||Q.set("encode",Ri,!!k.encoding||k.labelAngle!==void 0),Q}function RIe(u){let{encoding:l,size:f}=u;for(let g of no){let _=es(g);pp(f[_])&&ac(l[g])&&(delete f[_],jr(tt(_)))}return f}function LIe(u,l,f){let g=dn(u),_=vi("orient",g,f);if(g.orient=PIe(g.type,l,_),_!==void 0&&_!==g.orient&&jr(L(g.orient,_)),g.type==="bar"&&g.orient){let Q=vi("cornerRadiusEnd",g,f);if(Q!==void 0){let ie=g.orient==="horizontal"&&l.x2||g.orient==="vertical"&&l.y2?["cornerRadius"]:T[g.orient];for(let ze of ie)g[ze]=Q;g.cornerRadiusEnd!==void 0&&delete g.cornerRadiusEnd}}return vi("opacity",g,f)===void 0&&(g.opacity=IIe(g.type,l)),vi("cursor",g,f)===void 0&&(g.cursor=kIe(g,l,f)),g}function kIe(u,l,f){return l.href||u.href||vi("href",u,f)?"pointer":u.cursor}function IIe(u,l){if(Et([Nh,Df,lp,Bd],u)&&!Hb(l))return .7}function MIe(u,l,f){let{graticule:g}=f;if(g)return!1;let _=Ms("filled",u,l),D=u.type;return Ne(_,D!==Nh&&D!==Pd&&D!==Ff)}function PIe(u,l,f){switch(u){case Nh:case lp:case Bd:case bl:case ky:case Ly:return}let{x:g,y:_,x2:D,y2:k}=l;switch(u){case _l:if(Er(g)&&(rs(g.bin)||Er(_)&&_.aggregate&&!g.aggregate))return"vertical";if(Er(_)&&(rs(_.bin)||Er(g)&&g.aggregate&&!_.aggregate))return"horizontal";if(k||D){if(f)return f;if(!D)return(Er(g)&&g.type===o0&&!pr(g.bin)||My(g))&&Er(_)&&rs(_.bin)?"horizontal":"vertical";if(!k)return(Er(_)&&_.type===o0&&!pr(_.bin)||My(_))&&Er(g)&&rs(g.bin)?"vertical":"horizontal"}case Ff:if(D&&!(Er(g)&&rs(g.bin))&&k&&!(Er(_)&&rs(_.bin)))return;case L1:if(k)return Er(_)&&rs(_.bin)?"horizontal":"vertical";if(D)return Er(g)&&rs(g.bin)?"vertical":"horizontal";if(u===Ff){if(g&&!_)return"vertical";if(_&&!g)return"horizontal"}case Pd:case Df:{let Q=ac(g),ie=ac(_);if(f)return f;if(Q&&!ie)return u!=="tick"?"horizontal":"vertical";if(!Q&&ie)return u!=="tick"?"vertical":"horizontal";if(Q&&ie){let ze=g,Ke=_,Pt=ze.type===sf,sn=Ke.type===sf;return Pt&&!sn?u!=="tick"?"vertical":"horizontal":!Pt&&sn?u!=="tick"?"horizontal":"vertical":!ze.aggregate&&Ke.aggregate?u!=="tick"?"vertical":"horizontal":ze.aggregate&&!Ke.aggregate&&u!=="tick"?"horizontal":"vertical"}else return}}return"vertical"}let BIe={vgMark:"arc",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...kc("x",u,{defaultPos:"mid"}),...kc("y",u,{defaultPos:"mid"}),...W2(u,"radius"),...W2(u,"theta")})},jIe={vgMark:"area",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...iE("x",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="horizontal"}),...iE("y",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="vertical"}),...pw(u)})},qIe={vgMark:"rect",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...W2(u,"x"),...W2(u,"y")})},UIe={vgMark:"shape",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:u=>{let{encoding:l}=u,f=l.shape;return[{type:"geoshape",projection:u.projectionName(),...f&&Er(f)&&f.type===Fu?{field:fi(f,{expr:"datum"})}:{}}]}},$Ie={vgMark:"image",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...W2(u,"x"),...W2(u,"y"),...rE(u,"url")})},zIe={vgMark:"line",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...kc("x",u,{defaultPos:"mid"}),...kc("y",u,{defaultPos:"mid"}),...uc("size",u,{vgChannel:"strokeWidth"}),...pw(u)})},HIe={vgMark:"trail",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...kc("x",u,{defaultPos:"mid"}),...kc("y",u,{defaultPos:"mid"}),...uc("size",u),...pw(u)})};function SQ(u,l){let{config:f}=u;return{...Vd(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...kc("x",u,{defaultPos:"mid"}),...kc("y",u,{defaultPos:"mid"}),...uc("size",u),...uc("angle",u),...VIe(u,f,l)}}function VIe(u,l,f){return f?{shape:{value:f}}:uc("shape",u)}let WIe={vgMark:"symbol",encodeEntry:u=>SQ(u)},QIe={vgMark:"symbol",encodeEntry:u=>SQ(u,"circle")},GIe={vgMark:"symbol",encodeEntry:u=>SQ(u,"square")},YIe={vgMark:"rect",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...W2(u,"x"),...W2(u,"y")})},KIe={vgMark:"rule",encodeEntry:u=>{let{markDef:l}=u,f=l.orient;return!u.encoding.x&&!u.encoding.y&&!u.encoding.latitude&&!u.encoding.longitude?{}:{...Vd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...iE("x",u,{defaultPos:f==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:f!=="vertical"}),...iE("y",u,{defaultPos:f==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:f!=="horizontal"}),...uc("size",u,{vgChannel:"strokeWidth"})}}},JIe={vgMark:"text",encodeEntry:u=>{let{config:l,encoding:f}=u;return{...Vd(u,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...kc("x",u,{defaultPos:"mid"}),...kc("y",u,{defaultPos:"mid"}),...rE(u),...uc("size",u,{vgChannel:"fontSize"}),...uc("angle",u),...MR("align",XIe(u.markDef,f,l)),...MR("baseline",ZIe(u.markDef,f,l)),...kc("radius",u,{defaultPos:null}),...kc("theta",u,{defaultPos:null})}}};function XIe(u,l,f){if(vi("align",u,f)===void 0)return"center"}function ZIe(u,l,f){if(vi("baseline",u,f)===void 0)return"middle"}let eMe={vgMark:"rect",encodeEntry:u=>{let{config:l,markDef:f}=u,g=f.orient,_=g==="horizontal"?"width":"height",D=g==="horizontal"?"height":"width";return{...Vd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...kc("x",u,{defaultPos:"mid",vgChannel:"xc"}),...kc("y",u,{defaultPos:"mid",vgChannel:"yc"}),...uc("size",u,{defaultValue:tMe(u),vgChannel:_}),[D]:qr(vi("thickness",f,l))}}};function tMe(u){let{config:l,markDef:f}=u,{orient:g}=f,_=g==="horizontal"?"width":"height",D=u.getScaleComponent(g==="horizontal"?"x":"y"),k=vi("size",f,l,{vgChannel:_})??l.tick.bandSize;if(k!==void 0)return k;{let Q=D?D.get("range"):void 0;return Q&&br(Q)&&e.isNumber(Q.step)?Q.step*3/4:Jb(l.view,_)*3/4}}let fL={arc:BIe,area:jIe,bar:qIe,circle:QIe,geoshape:UIe,image:$Ie,line:zIe,point:WIe,rect:YIe,rule:KIe,square:GIe,text:JIe,tick:eMe,trail:HIe};function nMe(u){if(Et([Pd,L1,k1],u.mark)){let l=MN(u.mark,u.encoding);if(l.length>0)return rMe(u,l)}else if(u.mark===_l){let l=di.some(f=>vi(f,u.markDef,u.config));if(u.stack&&!u.fieldDef("size")&&l)return iMe(u)}return CQ(u)}let uce="faceted_path_";function rMe(u,l){return[{name:u.getName("pathgroup"),type:"group",from:{facet:{name:uce+u.requestDataName(Ia.Main),data:u.requestDataName(Ia.Main),groupby:l}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:CQ(u,{fromPrefix:uce})}]}let lce="stack_group_";function iMe(u){var l;let[f]=CQ(u,{fromPrefix:lce}),g=u.scaleName(u.stack.fieldChannel),_=function(){let Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return u.vgField(u.stack.fieldChannel,Ke)},D=(Ke,Pt)=>{let sn=[_({prefix:"min",suffix:"start",expr:Pt}),_({prefix:"max",suffix:"start",expr:Pt}),_({prefix:"min",suffix:"end",expr:Pt}),_({prefix:"max",suffix:"end",expr:Pt})];return`${Ke}(${sn.map(Ln=>`scale('${g}',${Ln})`).join(",")})`},k,Q;u.stack.fieldChannel==="x"?(k={...Ae(f.encode.update,["y","yc","y2","height",...di]),x:{signal:D("min","datum")},x2:{signal:D("max","datum")},clip:{value:!0}},Q={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},f.encode.update={...xe(f.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(k={...Ae(f.encode.update,["x","xc","x2","width"]),y:{signal:D("min","datum")},y2:{signal:D("max","datum")},clip:{value:!0}},Q={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},f.encode.update={...xe(f.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(let Ke of di){let Pt=Ms(Ke,u.markDef,u.config);f.encode.update[Ke]?(k[Ke]=f.encode.update[Ke],delete f.encode.update[Ke]):Pt&&(k[Ke]=qr(Pt)),Pt&&(f.encode.update[Ke]={value:0})}let ie=[];if(((l=u.stack.groupbyChannels)===null||l===void 0?void 0:l.length)>0)for(let Ke of u.stack.groupbyChannels){let Pt=u.fieldDef(Ke),sn=fi(Pt);sn&&ie.push(sn),(Pt!=null&&Pt.bin||Pt!=null&&Pt.timeUnit)&&ie.push(fi(Pt,{binSuffix:"end"}))}return k=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((Ke,Pt)=>{if(f.encode.update[Pt])return{...Ke,[Pt]:f.encode.update[Pt]};{let sn=Ms(Pt,u.markDef,u.config);return sn!==void 0?{...Ke,[Pt]:qr(sn)}:Ke}},k),k.stroke&&(k.strokeForeground={value:!0},k.strokeOffset={value:0}),[{type:"group",from:{facet:{data:u.requestDataName(Ia.Main),name:lce+u.requestDataName(Ia.Main),groupby:ie,aggregate:{fields:[_({suffix:"start"}),_({suffix:"start"}),_({suffix:"end"}),_({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:k},marks:[{type:"group",encode:{update:Q},marks:[f]}]}]}function sMe(u){let{encoding:l,stack:f,mark:g,markDef:_,config:D}=u,k=l.order;if(!(!e.isArray(k)&&$d(k)&&Qt(k.value)||!k&&Qt(vi("order",_,D)))){if((e.isArray(k)||Er(k))&&!f)return No(k,{expr:"datum"});if(of(g)){let ie=_.orient==="horizontal"?"y":"x",ze=l[ie];if(Er(ze)){let Ke=ze.sort;if(e.isArray(Ke))return{field:fi(ze,{prefix:ie,suffix:"sort_index",expr:"datum"})};if(ya(Ke))return{field:fi({aggregate:Hb(u.encoding)?Ke.op:void 0,field:Ke.field},{expr:"datum"})};if(l0(Ke)){let Pt=u.fieldDef(Ke.encoding);return{field:fi(Pt,{expr:"datum"}),order:Ke.order}}else{if(Ke===null)return;var Q;return{field:fi(ze,{binSuffix:(Q=u.stack)!==null&&Q!==void 0&&Q.impute?"mid":void 0,expr:"datum"})}}}return}}}function CQ(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromPrefix:""},{mark:f,markDef:g,encoding:_,config:D}=u,k=Ne(g.clip,oMe(u),aMe(u)),Q=ms(g),ie=_.key,ze=sMe(u),Ke=uMe(u),Pt=vi("aria",g,D),sn=fL[f].postEncodingTransform?fL[f].postEncodingTransform(u):null;return[{name:u.getName("marks"),type:fL[f].vgMark,...k?{clip:!0}:{},...Q?{style:Q}:{},...ie?{key:ie.field}:{},...ze?{sort:ze}:{},...Ke||{},...Pt===!1?{aria:Pt}:{},from:{data:l.fromPrefix+u.requestDataName(Ia.Main)},encode:{update:fL[f].encodeEntry(u)},...sn?{transform:sn}:{}}]}function oMe(u){let l=u.getScaleComponent("x"),f=u.getScaleComponent("y");return l!=null&&l.get("selectionExtent")||f!=null&&f.get("selectionExtent")?!0:void 0}function aMe(u){let l=u.component.projection;return l&&!l.isFit?!0:void 0}function uMe(u){if(!u.component.selection)return null;let l=de(u.component.selection).length,f=l,g=u.parent;for(;g&&f===0;)f=de(g.component.selection).length,g=g.parent;return f?{interactive:l>0||!!u.encoding.tooltip}:null}class cce extends nce{constructor(l,f,g){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},D=arguments.length>4?arguments[4]:void 0;super(l,"unit",f,g,D,void 0,JN(l)?l.view:void 0);yn(this,"markDef",void 0),yn(this,"encoding",void 0),yn(this,"specifiedScales",{}),yn(this,"stack",void 0),yn(this,"specifiedAxes",{}),yn(this,"specifiedLegends",{}),yn(this,"specifiedProjection",{}),yn(this,"selection",[]),yn(this,"children",[]);let k=sc(l.mark)?{...l.mark}:{type:l.mark},Q=k.type;k.filled===void 0&&(k.filled=MIe(k,D,{graticule:l.data&&uw(l.data)}));let ie=this.encoding=yV(l.encoding||{},Q,k.filled,D);this.markDef=LIe(k,ie,D),this.size=RIe({encoding:ie,size:JN(l)?{..._,...l.width?{width:l.width}:{},...l.height?{height:l.height}:{}}:_}),this.stack=lR(Q,ie),this.specifiedScales=this.initScales(Q,ie),this.specifiedAxes=this.initAxes(ie),this.specifiedLegends=this.initLegends(ie),this.specifiedProjection=l.projection,this.selection=(l.params??[]).filter(ze=>G9(ze))}get hasProjection(){let{encoding:l}=this,f=this.mark===I1,g=l&&bt.some(_=>Rs(l[_]));return f||g}scaleDomain(l){let f=this.specifiedScales[l];return f?f.domain:void 0}axis(l){return this.specifiedAxes[l]}legend(l){return this.specifiedLegends[l]}initScales(l,f){return ys.reduce((g,_)=>{let D=pu(f[_]);return D&&(g[_]=this.initScale(D.scale??{})),g},{})}initScale(l){let{domain:f,range:g}=l,_=dn(l);return e.isArray(f)&&(_.domain=f.map(pi)),e.isArray(g)&&(_.range=g.map(pi)),_}initAxes(l){return no.reduce((f,g)=>{let _=l[g];if(Rs(_)||g===Pn&&Rs(l.x2)||g===or&&Rs(l.y2)){let D=Rs(_)?_.axis:void 0;f[g]=D&&this.initAxis({...D})}return f},{})}initAxis(l){let f=de(l),g={};for(let _ of f){let D=l[_];g[_]=Cv(D)?ni(D):pi(D)}return g}initLegends(l){return ha.reduce((f,g)=>{let _=pu(l[g]);if(_&&Ni(g)){let D=_.legend;f[g]=D&&dn(D)}return f},{})}parseData(){this.component.data=cL(this)}parseLayoutSize(){mIe(this)}parseSelections(){this.component.selection=vw(this,this.selection)}parseMarkGroup(){this.component.mark=nMe(this)}parseAxesAndHeaders(){this.component.axes=CIe(this)}assembleSelectionTopLevelSignals(l){return SW(this,l)}assembleSignals(){return[...QR(this),...bW(this,[])]}assembleSelectionData(l){return CW(this,l)}assembleLayout(){return null}assembleLayoutSignals(){return nd(this)}assembleMarks(){let l=this.component.mark??[];return(!this.parent||!pE(this.parent))&&(l=CR(this,l)),l.map(this.correctDataNames)}assembleGroupStyle(){let{style:l}=this.view||{};if(l!==void 0)return l;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(l){return qx(this.encoding,l)}fieldDef(l){let f=this.encoding[l];return Rh(f)}typedFieldDef(l){let f=this.fieldDef(l);return Ud(f)?f:null}}class wQ extends vQ{constructor(l,f,g,_,D){super(l,"layer",f,g,D,l.resolve,l.view);yn(this,"children",void 0);let k={..._,...l.width?{width:l.width}:{},...l.height?{height:l.height}:{}};this.children=l.layer.map((Q,ie)=>{if(Dv(Q))return new wQ(Q,this,this.getName(`layer_${ie}`),k,D);if(dp(Q))return new cce(Q,this,this.getName(`layer_${ie}`),k,D);throw new Error(ue(Q))})}parseData(){this.component.data=cL(this);for(let l of this.children)l.parseData()}parseLayoutSize(){hIe(this)}parseSelections(){this.component.selection={};for(let l of this.children){l.parseSelections();for(let f of de(l.component.selection))this.component.selection[f]=l.component.selection[f]}}parseMarkGroup(){for(let l of this.children)l.parseMarkGroup()}parseAxesAndHeaders(){AIe(this)}assembleSelectionTopLevelSignals(l){return this.children.reduce((f,g)=>g.assembleSelectionTopLevelSignals(f),l)}assembleSignals(){return this.children.reduce((l,f)=>l.concat(f.assembleSignals()),QR(this))}assembleLayoutSignals(){return this.children.reduce((l,f)=>l.concat(f.assembleLayoutSignals()),nd(this))}assembleSelectionData(l){return this.children.reduce((f,g)=>g.assembleSelectionData(f),l)}assembleGroupStyle(){let l=new Set;for(let g of this.children)for(let _ of e.array(g.assembleGroupStyle()))l.add(_);let f=Array.from(l);return f.length>1?f:f.length===1?f[0]:void 0}assembleTitle(){let l=super.assembleTitle();if(l)return l;for(let f of this.children)if(l=f.assembleTitle(),l)return l}assembleLayout(){return null}assembleMarks(){return lw(this,this.children.flatMap(l=>l.assembleMarks()))}assembleLegends(){return this.children.reduce((l,f)=>l.concat(f.assembleLegends()),Ole(this))}}function AQ(u,l,f,g,_){if(cp(u))return new Dw(u,l,f,_);if(Dv(u))return new wQ(u,l,f,g,_);if(dp(u))return new cce(u,l,f,g,_);if(qV(u))return new _Ie(u,l,f,_);throw new Error(ue(u))}function lMe(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.logger&&Cf(l.logger),l.fieldTitle&&AN(l.fieldTitle);try{let f=Fv(e.mergeConfig(l.config,u.config)),g=Nv(u,f),_=AQ(g,null,"",void 0,f);return _.parse(),Fke(_.component.data,_),{spec:fMe(_,cMe(u,g.autosize,f,_),u.datasets,u.usermeta),normalized:g}}finally{l.logger&&Nc(),l.fieldTitle&&pV()}}function cMe(u,l,f,g){let _=g.component.layoutSize.get("width"),D=g.component.layoutSize.get("height");if(l===void 0?(l={type:"pad"},g.hasAxisOrientSignalRef()&&(l.resize=!0)):e.isString(l)&&(l={type:l}),_&&D&&_W(l.type)){if(_==="step"&&D==="step")jr(nr()),l.type="pad";else if(_==="step"||D==="step"){let k=_==="step"?"width":"height";jr(nr(hi(k)));let Q=k==="width"?"height":"width";l.type=yR(Q)}}return{...de(l).length===1&&l.type?l.type==="pad"?{}:{autosize:l.type}:{autosize:l},...Xs(f,!1),...Xs(u,!0)}}function fMe(u,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3?arguments[3]:void 0,_=u.config?X9(u.config):void 0,D=[].concat(u.assembleSelectionData([]),lIe(u.component.data,f)),k=u.assembleProjections(),Q=u.assembleTitle(),ie=u.assembleGroupStyle(),ze=u.assembleGroupEncodeEntry(!0),Ke=u.assembleLayoutSignals();Ke=Ke.filter(Ln=>(Ln.name==="width"||Ln.name==="height")&&Ln.value!==void 0?(l[Ln.name]=+Ln.value,!1):!0);let{params:Pt,...sn}=l;return{$schema:"https://vega.github.io/schema/vega/v5.json",...u.description?{description:u.description}:{},...sn,...Q?{title:Q}:{},...ie?{style:ie}:{},...ze?{encode:{update:ze}}:{},data:D,...k.length>0?{projections:k}:{},...u.assembleGroup([...Ke,...u.assembleSelectionTopLevelSignals([]),...YN(Pt)]),..._?{config:_}:{},...g?{usermeta:g}:{}}}let dMe=me.version;n.accessPathDepth=In,n.accessPathWithDatum=Tn,n.compile=lMe,n.contains=Et,n.deepEqual=st,n.deleteNestedProperty=Xt,n.duplicate=be,n.entries=Ot,n.every=Lt,n.fieldIntersection=rt,n.flatAccessWithDatum=Dn,n.getFirstDefined=Ne,n.hasIntersection=Ce,n.hash=lt,n.internalField=yt,n.isBoolean=Nt,n.isEmpty=Xe,n.isEqual=Ee,n.isInternalField=mt,n.isNullOrFalse=Qt,n.isNumeric=Wt,n.keys=de,n.logicalExpr=en,n.mergeDeep=kt,n.never=Re,n.normalize=Nv,n.normalizeAngle=nn,n.omit=xe,n.pick=Ae,n.prefixGenerator=fe,n.removePathFromField=sr,n.replaceAll=qn,n.replacePathInField=pn,n.resetIdCounter=qt,n.setEqual=Ie,n.some=mn,n.stringify=Je,n.titleCase=bn,n.unique=wt,n.uniqueId=De,n.vals=Ge,n.varName=zt,n.version=dMe,Object.defineProperty(n,"__esModule",{value:!0})})});var E9=we(Ox=>{"use strict";m();var y2t=Ox&&Ox.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),v2t=Ox&&Ox.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),wTe=Ox&&Ox.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&y2t(e,n,t);return v2t(e,n),e};Object.defineProperty(Ox,"__esModule",{value:!0});Ox.HTMLChartRenderer=void 0;var _2t=wTe(CTe()),ATe=wTe(Hae()),TTe=class{constructor(e,t,r={}){this.document=e,this.styleDefaults=t,this.size=r.size||this.styleDefaults.size||"medium"}mapData(e){let t=[];for(let r of e){let i={};for(let s of e.field.intrinsicFields)i[s.name]=this.getDataValue(r.cell(s));t.push(i)}return t}getSize(){return this.size==="large"?{height:350,width:500}:{height:175,width:250}}async render(e){if(!e.isArray())throw new Error("Invalid type for chart renderer");let t=this.getVegaLiteSpec(e),r=_2t.compile(t,{logger:{level(o){return o!==void 0?this:0},info(){return this},error(){return this},warn(){return this},debug(){return this}}}).spec,i=new ATe.View(ATe.parse(r),{renderer:"none"});i.logger().level(-1);let s=this.document.createElement("div");return s.innerHTML=await i.toSVG(),s}};Ox.HTMLChartRenderer=TTe});var M0=we(yh=>{"use strict";m();Object.defineProperty(yh,"__esModule",{value:!0});yh.createDrillIcon=yh.createNullElement=yh.createErrorElement=yh.yieldTask=yh.timeToString=yh.getColorScale=void 0;var Zh=w2();function b2t(n,e,t=!1){if(n!==void 0)switch(n){case"ordinal":return{range:["#C2D5EE","#1A73E8"]};case"temporal":case"quantitative":return e?t?{range:["#6BA4EE","#EEA361"]}:{range:["#1A73E8","#E8710A"]}:{range:["#C2D5EE","#1A73E8"]};case"nominal":return t?{range:["#6BA4EE","#66CEDC","#EC72B8","#EEA361","#F9C85B","#AACD85","#B87CED","#ACB0B3"]}:{range:["#1A73E8","#12B5CB","#E52592","#E8710A","#F9AB00","#7CB342","#9334E6","#80868B"]}}}yh.getColorScale=b2t;function Cu(n,e){return n.toString().padStart(e,"0")}function E2t(n,e){switch(e){case Zh.TimestampTimeframe.Year:case Zh.DateTimeframe.Year:return`${Cu(n.getUTCFullYear(),4)}`;case Zh.TimestampTimeframe.Quarter:case Zh.DateTimeframe.Quarter:{let t=Cu(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`${t}-Q${r}`}case Zh.TimestampTimeframe.Month:case Zh.DateTimeframe.Month:{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2);return`${t}-${r}`}case Zh.TimestampTimeframe.Week:case Zh.DateTimeframe.Week:{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2);return`WK${t}-${r}-${i}`}case Zh.DateTimeframe.Day:case Zh.TimestampTimeframe.Day:{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2);return`${t}-${r}-${i}`}case Zh.TimestampTimeframe.Hour:{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2),s=Cu(n.getUTCHours(),2);return`${t}-${r}-${i} ${s}:00 for 1 hour`}case Zh.TimestampTimeframe.Minute:{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2),s=Cu(n.getUTCHours(),2),o=Cu(n.getUTCMinutes(),2);return`${t}-${r}-${i} ${s}:${o}`}case Zh.TimestampTimeframe.Second:{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2),s=Cu(n.getUTCHours(),2),o=Cu(n.getUTCMinutes(),2),a=Cu(n.getUTCSeconds(),2);return`${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}yh.timeToString=E2t;async function S2t(){return new Promise(n=>{setTimeout(n,0)})}yh.yieldTask=S2t;function C2t(n,e){let t=n.createElement("span");return t.classList.add("error"),t.appendChild(n.createTextNode(typeof e=="string"?e:e.message)),t}yh.createErrorElement=C2t;function w2t(n){let e=n.createElement("span");return e.appendChild(n.createTextNode("\u2205")),e.classList.add("value-null"),e}yh.createNullElement=w2t;function A2t(n){let e=n.createElement("div");e.style.borderRadius="20px",e.style.backgroundColor="var(--malloy-border-color, #efefef)",e.style.width="27px",e.style.height="14px",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.gap="2px";for(let t=0;t<3;t++){let r=n.createElement("div");r.style.backgroundColor="var(--malloy-title-color, rgb(181 181 181))",r.style.borderRadius="5px",r.style.width="4px",r.style.height="4px",e.appendChild(r)}return e}yh.createDrillIcon=A2t});var Xae=we(Qc=>{"use strict";m();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.HTMLVegaSpecRenderer=Qc.isDataContainer=Qc.vegaSpecs=Qc.DEFAULT_SPEC=void 0;var T2t=E9(),F2t=YT(),I2=M0();Qc.DEFAULT_SPEC={$schema:"https://vega.github.io/schema/vega-lite/v5.json",config:{params:[{name:"defaultFont",value:"var(--malloy-font-family, 'Roboto')"},{name:"titleColor",value:"var(--malloy-title-color, #505050)"},{name:"labelColor",value:"var(--malloy-label-color, #505050)"}],background:void 0,color:{expr:"titleColor"},header:{labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500},text:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},mark:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},title:{font:{expr:"defaultFont"},subtitleFont:{expr:"defaultFont"},fontWeight:500},axis:{labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12},legend:{titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12,labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"}}}};var Vae={height:80,width:150},FTe={width:150},D2t={height:{step:13}},Wae={...FTe,...D2t},Qae={...FTe},Gae={height:150,width:200},DTe={},M2={...Qc.DEFAULT_SPEC,encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar",color:"#aec7e8"},encoding:{x:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"}}}]},aN={...Qc.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},O2t={...aN,encoding:{...aN.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,I2.getColorScale)("quantitative",!0,!0)}}},N2t={...aN,encoding:{...aN.encoding,color:{field:"#{3}",scale:(0,I2.getColorScale)("nominal",!0,!0)}}},Yae={...M2,layer:[{...M2.layer[0],encoding:{...M2.layer[0].encoding,color:{field:"#{3}",scale:(0,I2.getColorScale)("nominal",!0,!0)}}},M2.layer[1]]},Kae={...M2,layer:[{...M2.layer[0],encoding:{...M2.layer[0].encoding,color:{field:"#{3}",type:"quantitative",scale:(0,I2.getColorScale)("quantitative",!0,!0)}}},M2.layer[1]]},cv={...Qc.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},oH={...cv,encoding:{...cv.encoding,color:{field:"#{3}",type:"nominal",scale:(0,I2.getColorScale)("nominal",!0)}}},aH={...cv,encoding:{...cv.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,I2.getColorScale)("quantitative",!0)}}};Qc.vegaSpecs={bar_SM:M2,bar_SM_small:{...M2,...Wae},bar_SM_medium:{...M2,...Qae},bar_SM_large:aN,bar_SMS:Yae,bar_SMS_small:{...Yae,...Wae},bar_SMS_medium:{...Yae,...Qae},bar_SMS_large:N2t,bar_SMM:Kae,bar_SMM_small:{...Kae,...Wae},bar_SMM_medium:{...Kae,...Qae},bar_SMM_large:O2t,bar_NM:cv,bar_NM_small:{...cv,...Vae},bar_NM_medium:{...cv,...Gae},bar_NM_large:{...cv},bar_NMS:oH,bar_NMS_small:{...oH,...Vae},bar_NMS_medium:{...oH,...Gae},bar_NMS_large:{...oH,...DTe},bar_NMM:aH,bar_NMM_small:{...aH,...Vae},bar_NMM_medium:{...aH,...Gae},bar_NMM_large:{...aH,...DTe},bar_SSMMM:{...Qc.DEFAULT_SPEC,repeat:["#{3}","#{4}","#{5}"],spec:{description:"A simple bar chart with embedded data.",encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar"},encoding:{x:{field:{repeat:"repeat"},type:"quantitative",sort:null},color:{field:"#{2}",scale:(0,I2.getColorScale)("nominal",!0,!0)}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"},detail:{aggregate:"count"}}}]}},bubble_NNM:{...Qc.DEFAULT_SPEC,data:[],mark:"circle",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},size:{field:"#{3}",type:"quantitative"},color:{value:"#4285F4"}}},heat_NNM:{...Qc.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,I2.getColorScale)("quantitative",!1)}}},heat_SNM:{...Qc.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"nominal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,I2.getColorScale)("quantitative",!1)}}},stacked_line_STM:{...Qc.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{2}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{3}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,I2.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"}}},grid_line_SSTM:{...Qc.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{3}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{4}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,I2.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"},column:{field:"#{2}",type:"nominal"}}}};function Jae(n){return Array.isArray(n)||n!==null&&typeof n=="object"}Qc.isDataContainer=Jae;var OTe=class extends T2t.HTMLChartRenderer{constructor(e,t,r){super(e,t);this.spec=r}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for vega chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for vega chart.")}translateField(e,t){let r=t.match(/#\{(?<fieldnum>\d+)\}/);return r&&r.groups?e.intrinsicFields[parseInt(r.groups.fieldnum)-1].name:t}translateFields(e,t){if(Array.isArray(e))for(let r of e)Jae(r)&&this.translateFields(r,t);else if(e&&typeof e=="object")for(let[r,i]of Object.entries(e))if(r==="field"&&typeof i=="string")e[r]=this.translateField(t,i);else if(r==="repeat"&&Array.isArray(i))for(let s of i.keys()){let o=i[s];typeof o=="string"&&(i[s]=this.translateField(t,o))}else Jae(i)&&this.translateFields(i,t)}getVegaLiteSpec(e){if(e.isNull()||!e.isArray())throw new Error("Expected struct value not to be null.");let t=(0,F2t.cloneDeep)(this.spec);this.translateFields(t,e.field);let r={values:this.mapData(e)};return t.data=r,t}};Qc.HTMLVegaSpecRenderer=OTe});var lH=we(uH=>{"use strict";m();Object.defineProperty(uH,"__esModule",{value:!0});uH.HTMLCartesianChartRenderer=void 0;var R2t=E9(),L2t=M0(),k2t=Xae(),NTe=class extends R2t.HTMLChartRenderer{getVegaLiteSpec(e){let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],c=this.getDataType(r),d=this.getDataType(i),p=s?this.getDataType(s):void 0,b=o?this.getDataType(o):void 0,C=a?this.getDataType(a):void 0,N=this.getMark(),R=s!==void 0?{field:s.name,type:p,axis:{title:s.name},scale:(0,L2t.getColorScale)(p,N==="bar")}:{value:"#4285F4"},U=o?{field:o.name,type:b,axis:{title:o.name}}:void 0,V=a?{field:a.name,type:C,axis:{title:a.name}}:void 0,P=c==="nominal"?null:void 0,$=d==="nominal"?null:void 0,M={field:r.name,type:c,sort:P,axis:{title:r.name}},G={field:i.name,type:d,sort:$,axis:{title:i.name}};return{...k2t.DEFAULT_SPEC,...this.getSize(),data:{values:this.mapData(e)},mark:N,encoding:{x:M,y:G,size:U,color:R,shape:V},background:"transparent"}}};uH.HTMLCartesianChartRenderer=NTe});var LTe=we(cH=>{"use strict";m();Object.defineProperty(cH,"__esModule",{value:!0});cH.HTMLBarChartRenderer=void 0;var I2t=lH(),RTe=class extends I2t.HTMLCartesianChartRenderer{getMark(){return"bar"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for bar chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for bar chart.")}};cH.HTMLBarChartRenderer=RTe});var Ob=we(fH=>{"use strict";m();Object.defineProperty(fH,"__esModule",{value:!0});fH.HTMLTextRenderer=void 0;var M2t=M0(),kTe=class{constructor(e){this.document=e}getText(e){return`${e.value}`}async render(e){let t=this.getText(e);if(t===null)return(0,M2t.createNullElement)(this.document);let r=this.document.createElement("span");return r.appendChild(this.document.createTextNode(t)),r}};fH.HTMLTextRenderer=kTe});var MTe=we(dH=>{"use strict";m();Object.defineProperty(dH,"__esModule",{value:!0});dH.HTMLBooleanRenderer=void 0;var P2t=Ob(),ITe=class extends P2t.HTMLTextRenderer{getText(e){return e.isNull()?null:`${e.boolean.value}`}};dH.HTMLBooleanRenderer=ITe});var BTe=we(hH=>{"use strict";m();Object.defineProperty(hH,"__esModule",{value:!0});hH.HTMLJSONRenderer=void 0;var B2t=M0(),PTe=class{constructor(e){this.document=e}async render(e){!e.isArray()&&!e.isRecord()&&(0,B2t.createErrorElement)(this.document,"Invalid data for chart renderer.");let t=this.document.createElement("pre");return t.appendChild(this.document.createTextNode(JSON.stringify(e.value,void 0,2))),t}};hH.HTMLJSONRenderer=PTe});var qTe=we(pH=>{"use strict";m();Object.defineProperty(pH,"__esModule",{value:!0});pH.HTMLBytesRenderer=void 0;var j2t=Ob(),jTe=class extends j2t.HTMLTextRenderer{getText(e){return e.isNull()?null:e.bytes.value.toString("base64")}};pH.HTMLBytesRenderer=jTe});var $Te=we(mH=>{"use strict";m();Object.defineProperty(mH,"__esModule",{value:!0});mH.HTMLCurrencyRenderer=void 0;var q2t=Ob(),UTe=class extends q2t.HTMLTextRenderer{getText(e){if(e.isNull())return null;let t="$",r=e.number.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${t}${r}`}};mH.HTMLCurrencyRenderer=UTe});var gH=we(xH=>{"use strict";m();Object.defineProperty(xH,"__esModule",{value:!0});xH.HTMLNumberRenderer=void 0;var U2t=Ob(),zTe=class extends U2t.HTMLTextRenderer{getNumber(e){return e.isNull()?null:e.number.value}getText(e){let t=this.getNumber(e);return t===null?t:t.toLocaleString()}};xH.HTMLNumberRenderer=zTe});var VTe=we(yH=>{"use strict";m();Object.defineProperty(yH,"__esModule",{value:!0});yH.HTMLPercentRenderer=void 0;var $2t=gH(),HTe=class extends $2t.HTMLNumberRenderer{getText(e){let t=this.getNumber(e);return t===null?t:(t*100).toLocaleString("en",{maximumFractionDigits:2})+"%"}};yH.HTMLPercentRenderer=HTe});var eue=we(S9=>{"use strict";m();Object.defineProperty(S9,"__esModule",{value:!0});S9.getDrillQuery=S9.getDrillFilters=void 0;var Zae=w2(),z2t=M0();function H2t(n){return`'${n.replace("'","\\'")}'`}function V2t(n,e,t){let r=t===Zae.TimestampTimeframe.Minute?Zae.TimestampTimeframe.Second:t||Zae.TimestampTimeframe.Second,i="@"+(0,z2t.timeToString)(e,r);return{key:n,value:i}}function W2t(n){let e=[];for(let t of n.field.filters||[])t.aggregate||e.push({key:t.code,value:void 0});return e}function Q2t(n){let e=[],t=n.field.intrinsicFields.filter(r=>r.isAtomicField()&&r.sourceWasDimension());for(let r of t){let i=n.cell(r),s=r.isAtomicField()||r.isQueryField()?r.expression:void 0;s&&!i.isArray()&&(i.isNull()?e.push({key:s,value:"null"}):i.isString()?e.push({key:s,value:H2t(i.value)}):i.isNumber()||i.isBoolean()?e.push({key:s,value:i.value.toString()}):(i.isTimestamp()||i.isDate())&&e.push(V2t(s,i.value,i.field.timeframe)))}return e}function WTe(n){return n.isRecord()?Q2t(n):W2t(n)}function QTe(n){let e=[],t=n;for(;t.parent;)e.push(...WTe(t)),t=t.parent;e.push(...WTe(t));let r=t.field.parentExplore,i=[];for(let{key:o,value:a}of e)a!==void 0?i.push(`${o}: ${a}`):i.push(o);return{formattedFilters:i.filter((o,a)=>i.find((c,d)=>c===o&&a<d)===void 0),source:r}}S9.getDrillFilters=QTe;function G2t(n){let{formattedFilters:e,source:t}=QTe(n),r=`query: ${(t==null?void 0:t.name)||'"unable to compute source"'} `;return e.length&&(r+=`{ 
  where: 
    ${e.join(`,
    `)}
  
}
`),{drillQuery:r+"-> ",drillFilters:e}}S9.getDrillQuery=G2t});var YTe=we(vH=>{"use strict";m();Object.defineProperty(vH,"__esModule",{value:!0});vH.RenderTree=void 0;var GTe=class{constructor(e,t){this.document=e,this.options=t}};vH.RenderTree=GTe});var uN=we(_H=>{"use strict";m();Object.defineProperty(_H,"__esModule",{value:!0});_H.ContainerRenderer=void 0;var Y2t=YTe(),K2t=tue(),KTe=class extends Y2t.RenderTree{constructor(){super(...arguments);this.childRenderers={}}makeChildRenderers(e,t,r){let i={};e.intrinsicFields.forEach(s=>{i[s.name]=(0,K2t.makeRenderer)(s,t,r,this.childrenStyleDefaults)}),this.childRenderers=i}static make(e,t,r,i){let s=new e(t,{isDrillingEnabled:i.isDrillingEnabled,onDrill:i.onDrill});return s.makeChildRenderers(r,t,i),s}};_H.ContainerRenderer=KTe});var eFe=we(EH=>{"use strict";m();Object.defineProperty(EH,"__esModule",{value:!0});EH.HTMLDashboardRenderer=void 0;var J2t=eue(),X2t=uN(),Z2t=Ob(),nue=M0(),bH=class extends X2t.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArrayOrRecord())return(0,nue.createErrorElement)(this.document,"Invalid data for dashboard renderer.");let t=e.field.intrinsicFields,r=t.filter(o=>o.isAtomicField()&&o.sourceWasDimension()),i=t.filter(o=>!o.isAtomicField()||o.sourceWasMeasureLike()),s=this.document.createElement("div");for(let o of e){let a=this.document.createElement("div");a.classList.add("dimensions"),a.style.display="flex",a.style.flexWrap="wrap";let c=this.document.createElement("div");c.style.position="relative";for(let b of r){let N=await this.childRenderers[b.name].render(o.cell(b)),R=this.document.createElement("div");R.style.cssText=smt;let U=this.document.createElement("div");U.style.cssText=omt,U.appendChild(this.document.createTextNode(b.name));let V=this.document.createElement("div");V.style.cssText=rue,V.appendChild(N),R.appendChild(U),R.appendChild(V),a.appendChild(R)}if(r.length>0){let b=this.document.createElement("div");b.classList.add("row-separator-outer"),b.style.cssText=emt;let C=this.document.createElement("div");C.style.cssText=rmt,b.appendChild(C),a.appendChild(b)}let d=this.document.createElement("div");d.style.cssText=imt;for(let b of i){let C=this.childRenderers[b.name];await(0,nue.yieldTask)();let N=await C.render(o.cell(b));if(C instanceof bH)d.appendChild(N);else if(C instanceof Z2t.HTMLTextRenderer){let R=this.document.createElement("div");R.style.cssText=XTe;let U=this.document.createElement("div");U.style.cssText=ZTe,U.appendChild(this.document.createTextNode(b.name));let V=this.document.createElement("div");V.style.cssText=rue;let P=this.document.createElement("div");P.style.cssText=amt,P.appendChild(N),V.appendChild(P),R.appendChild(U),R.appendChild(V),d.appendChild(R)}else{let R=this.document.createElement("div");R.style.cssText=XTe;let U=this.document.createElement("div");U.style.cssText=ZTe,U.appendChild(this.document.createTextNode(b.name));let V=this.document.createElement("div");V.style.cssText=rue;let P=this.document.createElement("div");P.style.cssText=umt,P.appendChild(N),V.appendChild(P),R.appendChild(U),R.appendChild(V),d.appendChild(R)}}if(c.appendChild(a),r.length>0&&this.options.isDrillingEnabled){let b=this.document.createElement("span"),C=(0,nue.createDrillIcon)(this.document);b.appendChild(C),b.style.cssText="padding: 8px; vertical-align: top; width: 25px; cursor: pointer; position: absolute; top: 5px; right: 5px;",b.onclick=()=>{if(this.options.onDrill){let{drillQuery:N,drillFilters:R}=(0,J2t.getDrillQuery)(o);this.options.onDrill(N,C,R)}},c.appendChild(b)}let p=this.document.createElement("div");if(p.classList.add("dashboard-outer"),p.style.cssText=tmt,r.length>0){let b=this.document.createElement("div");b.style.cssText=nmt,p.appendChild(b)}p.appendChild(d),c.appendChild(p),s.appendChild(c)}return s}};EH.HTMLDashboardRenderer=bH;var emt=`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  flex: 1 0 auto;
`,tmt=`
  display: flex;
  flex-direction: row;
  font-size: 11px;
`,JTe=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
`,nmt=`
  ${JTe}
  min-height: 100%;
  min-width: 11px;
  margin: 6px;
  border-radius: 4px;
`,rmt=`
  ${JTe}
  min-height: 11px;
  max-height: 11px;
  margin: 6px;
  flex: 1 0 auto;
  border-radius: 4px;
`,imt=`
  display: flex;
  flex-wrap: wrap;
`,smt=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  margin: 6px;
  border-radius: 5px;
  padding: 10px;
  box-shadow: 0 1px 5px 0 var(--malloy-border-color, #f3f3f3);
`,XTe=`
  margin: 6px;
  border-radius: 5px;
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  padding: 10px;
  flex: 1 0 auto;
  box-shadow: 0 1px 5px 0 var(--malloy-tile-background-color, #f3f3f3);
  max-width: calc(100% - 11px);
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,omt=`
  font-size: 12px;
  font-weight: 500;
  color: var(--malloy-title-color, #505050);
  margin-bottom: 5px;
  font-family: var(--malloy-font-family, "Roboto");
`,ZTe=`
  font-size: 11px;
  font-family: var(--malloy-font-family, "Roboto");
  font-weight: 500;
  color: #var(--malloy-title-color, #505050);
`,amt=`
  font-size: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 5px;
`,rue=`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
`,umt=`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`});var rFe=we(SH=>{"use strict";m();Object.defineProperty(SH,"__esModule",{value:!0});SH.HTMLImageRenderer=void 0;var tFe=M0(),nFe=class{constructor(e){this.document=e}async render(e){if(!e.isString())return(0,tFe.createErrorElement)(this.document,"Invalid field for Image renderer");if(e.isNull())return(0,tFe.createNullElement)(this.document);let t=this.document.createElement("img");return t.src=e.value,t}};SH.HTMLImageRenderer=nFe});var oFe=we(CH=>{"use strict";m();Object.defineProperty(CH,"__esModule",{value:!0});CH.HTMLDateRenderer=void 0;var iFe=w2(),iue=M0(),sFe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,iue.createNullElement)(this.document);if(!e.isDate()&&!e.isTimestamp())return(0,iue.createErrorElement)(this.document,"Invalid field for date renderer");let t=e.field.timeframe||(e.isTimestamp()?iFe.TimestampTimeframe.Second:iFe.DateTimeframe.Day),r=(0,iue.timeToString)(e.value,t),i=this.document.createElement("span");return i.appendChild(this.document.createTextNode(r)),i}};CH.HTMLDateRenderer=sFe});var uFe=we(wH=>{"use strict";m();Object.defineProperty(wH,"__esModule",{value:!0});wH.HTMLLineChartRenderer=void 0;var lmt=lH(),aFe=class extends lmt.HTMLCartesianChartRenderer{getMark(){return"line"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for line chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for line chart.")}};wH.HTMLLineChartRenderer=aFe});var fFe=we(AH=>{"use strict";m();Object.defineProperty(AH,"__esModule",{value:!0});AH.HTMLLinkRenderer=void 0;var lFe=M0(),cFe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,lFe.createNullElement)(this.document);if(!e.isString())return(0,lFe.createErrorElement)(this.document,"Invalid type for link renderer.");let t=document.createElement("a");return t.href=e.value,t.target="_blank",t.appendChild(this.document.createTextNode(e.value.replace(/\//g,"/\u200C"))),t}};AH.HTMLLinkRenderer=cFe});var sue=we(TH=>{"use strict";m();Object.defineProperty(TH,"__esModule",{value:!0});TH.HTMLListRenderer=void 0;var cmt=uN(),dFe=M0(),hFe=class extends cmt.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"small"}}getValueField(e){return e.intrinsicFields[0]}getDetailField(e){}async render(e){if(!e.isArray())return(0,dFe.createErrorElement)(this.document,"Invalid data for chart renderer.");if(e.rowCount===0)return this.document.createElement("span");let t=this.getValueField(e.field),r=this.getDetailField(e.field),i=this.document.createElement("span"),s=!0;for(let o of e){s||i.appendChild(this.document.createTextNode(", ")),s=!1;let c=await this.childRenderers[t.name].render(o.cell(t));if(i.appendChild(c),r){let d=this.childRenderers[r.name];await(0,dFe.yieldTask)();let p=await d.render(o.cell(r));i.appendChild(this.document.createTextNode("(")),i.appendChild(p),i.appendChild(this.document.createTextNode(")"))}}return i}};TH.HTMLListRenderer=hFe});var mFe=we(FH=>{"use strict";m();Object.defineProperty(FH,"__esModule",{value:!0});FH.HTMLListDetailRenderer=void 0;var fmt=sue(),pFe=class extends fmt.HTMLListRenderer{getDetailField(e){return e.intrinsicFields[1]}};FH.HTMLListDetailRenderer=pFe});var DH=we((mUt,dmt)=>{dmt.exports={type:"Topology",bbox:[-179.14733999999999,-14.552548999999999,179.77847,71.352561],transform:{scale:[.003589293992939929,.0008590596905969058],translate:[-179.14733999999999,-14.552548999999999]},objects:{states:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[1,2,3,4,5]]],id:"01",properties:{name:"Alabama"}},{type:"MultiPolygon",arcs:[[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]]],id:"02",properties:{name:"Alaska"}},{type:"Polygon",arcs:[[143,144,145,146,147]],id:"04",properties:{name:"Arizona"}},{type:"Polygon",arcs:[[148,149,150,151,152,153]],id:"08",properties:{name:"Colorado"}},{type:"MultiPolygon",arcs:[[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[163,164,-4]]],id:"12",properties:{name:"Florida"}},{type:"Polygon",arcs:[[165,166,167,168,-164,-3]],id:"13",properties:{name:"Georgia"}},{type:"Polygon",arcs:[[169,170,171,172,173]],id:"18",properties:{name:"Indiana"}},{type:"Polygon",arcs:[[174,175,176,-151]],id:"20",properties:{name:"Kansas"}},{type:"MultiPolygon",arcs:[[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[184,185]]],id:"23",properties:{name:"Maine"}},{type:"MultiPolygon",arcs:[[[186]],[[187]],[[188,189,190,191,192,193,194,195]]],id:"25",properties:{name:"Massachusetts"}},{type:"Polygon",arcs:[[196,197,198,199,200]],id:"27",properties:{name:"Minnesota"}},{type:"Polygon",arcs:[[201,202,203,204,205,206,207,208]],id:"34",properties:{name:"New Jersey"}},{type:"MultiPolygon",arcs:[[[209]],[[210]],[[211,212,213,-167,214]]],id:"37",properties:{name:"North Carolina"}},{type:"Polygon",arcs:[[215,-201,216,217]],id:"38",properties:{name:"North Dakota"}},{type:"Polygon",arcs:[[-152,-177,218,219,220,221]],id:"40",properties:{name:"Oklahoma"}},{type:"Polygon",arcs:[[222,223,-204,224,225,226,227]],id:"42",properties:{name:"Pennsylvania"}},{type:"Polygon",arcs:[[228,-217,-200,229,230,231]],id:"46",properties:{name:"South Dakota"}},{type:"Polygon",arcs:[[-221,232,233,234,235,236,237]],id:"48",properties:{name:"Texas"}},{type:"Polygon",arcs:[[-232,238,-149,239,240,241]],id:"56",properties:{name:"Wyoming"}},{type:"Polygon",arcs:[[-195,242,243,244]],id:"09",properties:{name:"Connecticut"}},{type:"Polygon",arcs:[[245,246,247,248,249,250,251,-219,-176,252]],id:"29",properties:{name:"Missouri"}},{type:"Polygon",arcs:[[253,-227,254,255,256]],id:"54",properties:{name:"West Virginia"}},{type:"Polygon",arcs:[[257,258,259,-174,260,-247]],id:"17",properties:{name:"Illinois"}},{type:"Polygon",arcs:[[-153,-222,-238,261,-147]],id:"35",properties:{name:"New Mexico"}},{type:"Polygon",arcs:[[-252,262,263,264,-235,233,-233,-220]],id:"05",properties:{name:"Arkansas"}},{type:"MultiPolygon",arcs:[[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[273,274,275,-144,276]]],id:"06",properties:{name:"California"}},{type:"MultiPolygon",arcs:[[[-209,277]],[[-225,-203,278,279]]],id:"10",properties:{name:"Delaware"}},{type:"Polygon",arcs:[[280,281]],id:"11",properties:{name:"District of Columbia"}},{type:"MultiPolygon",arcs:[[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]]],id:"15",properties:{name:"Hawaii"}},{type:"Polygon",arcs:[[-199,290,-258,-246,291,-230]],id:"19",properties:{name:"Iowa"}},{type:"MultiPolygon",arcs:[[[-261,-173,292,-257,293,294,-248]],[[295,-250]]],id:"21",properties:{name:"Kentucky"}},{type:"MultiPolygon",arcs:[[[296,297]],[[298]],[[299]],[[-226,-280,300,301,302,303,-281,304,-255]]],id:"24",properties:{name:"Maryland"}},{type:"MultiPolygon",arcs:[[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[314,315,-171]],[[316]],[[317,318,319,320,321,322]]],id:"26",properties:{name:"Michigan"}},{type:"MultiPolygon",arcs:[[[323]],[[324]],[[325]],[[326]],[[-264,327,-6,328,329]]],id:"28",properties:{name:"Mississippi"}},{type:"Polygon",arcs:[[330,-218,-229,-242,331]],id:"30",properties:{name:"Montana"}},{type:"Polygon",arcs:[[332,-185,333,-190,334]],id:"33",properties:{name:"New Hampshire"}},{type:"MultiPolygon",arcs:[[[335]],[[336]],[[337]],[[338,-207]],[[339]],[[340]],[[341,342,-196,-245,343,-205,-224]]],id:"36",properties:{name:"New York"}},{type:"MultiPolygon",arcs:[[[344]],[[345]],[[-316,346,-228,-254,-293,-172]]],id:"39",properties:{name:"Ohio"}},{type:"Polygon",arcs:[[347,348,349,274,-275,-274,350]],id:"41",properties:{name:"Oregon"}},{type:"Polygon",arcs:[[-251,-296,-249,-295,351,-215,-166,-2,-328,-263]],id:"47",properties:{name:"Tennessee"}},{type:"Polygon",arcs:[[352,-240,-154,-146,353]],id:"49",properties:{name:"Utah"}},{type:"MultiPolygon",arcs:[[[354]],[[-302,355]],[[356,-297]],[[-256,-305,-282,-304,357,-212,-352,-294]]],id:"51",properties:{name:"Virginia"}},{type:"MultiPolygon",arcs:[[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[368,-348,369]]],id:"53",properties:{name:"Washington"}},{type:"MultiPolygon",arcs:[[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[380,-323,321,-321,319,-319,381,-259,-291,-198]]],id:"55",properties:{name:"Wisconsin"}},{type:"MultiPolygon",arcs:[[[382]],[[383]],[[384]]],id:"60",properties:{name:"American Samoa"}},{type:"MultiPolygon",arcs:[[[385]]],id:"66",properties:{name:"Guam"}},{type:"MultiPolygon",arcs:[[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]]],id:"69",properties:{name:"Commonwealth of the Northern Mariana Islands"}},{type:"Polygon",arcs:[[-231,-292,-253,-175,-150,-239]],id:"31",properties:{name:"Nebraska"}},{type:"Polygon",arcs:[[-214,394,-168]],id:"45",properties:{name:"South Carolina"}},{type:"MultiPolygon",arcs:[[[395]],[[396]],[[397]],[[398]],[[399]]],id:"72",properties:{name:"Puerto Rico"}},{type:"MultiPolygon",arcs:[[[400]],[[401]],[[402]]],id:"78",properties:{name:"United States Virgin Islands"}},{type:"Polygon",arcs:[[-369,403,-332,-241,-353,404,-349]],id:"16",properties:{name:"Idaho"}},{type:"Polygon",arcs:[[-275,-350,-405,-354,-145,-276]],id:"32",properties:{name:"Nevada"}},{type:"Polygon",arcs:[[405,-335,-189,-343]],id:"50",properties:{name:"Vermont"}},{type:"MultiPolygon",arcs:[[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[-265,-330,413,-236]]],id:"22",properties:{name:"Louisiana"}},{type:"MultiPolygon",arcs:[[[-192,414]],[[415]],[[416]],[[417]],[[-243,-194,418]]],id:"44",properties:{name:"Rhode Island"}}]},nation:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[164,4,328,413,236,261,147,276,350,369,403,330,215,196,380,317,381,259,169,314,346,222,341,405,332,185,333,190,414,192,418,243,343,205,338,207,277,201,278,300,355,302,357,212,394,168]],[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]],[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[186]],[[187]],[[209]],[[210]],[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]],[[297,356]],[[298]],[[299]],[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[316]],[[323]],[[324]],[[325]],[[326]],[[335]],[[336]],[[337]],[[339]],[[340]],[[344]],[[345]],[[354]],[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[382]],[[383]],[[384]],[[385]],[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]],[[395]],[[396]],[[397]],[[398]],[[399]],[[400]],[[401]],[[402]],[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[415]],[[416]],[[417]]]}]}},arcs:[[[25302,52136],[56,31],[1,25],[14,-40],[-9,-28],[-10,16],[-18,-2],[-20,-17],[-14,15]],[[25338,57677],[0,15],[150,-6],[63,0],[160,-13],[93,-2],[37,2],[159,-4],[61,-5]],[[26061,57664],[15,-321],[23,-443],[18,-379],[13,-294],[15,-311],[33,-713],[9,-32],[-4,-36],[13,-45],[5,-149],[10,-72],[17,-69],[3,-82],[9,-36],[-10,-117],[18,-28],[12,-40],[-10,-52],[-11,0],[2,-24],[-14,-21],[-13,-52],[3,-56],[-2,-86],[-7,-86],[-14,-72],[-3,-45],[6,-124],[-2,-44],[19,-87],[3,-120],[-7,-57],[2,-43],[-8,-80],[1,-79],[-7,-21],[5,-51],[-3,-54],[20,-91],[7,-64],[2,-61]],[[26229,53027],[-67,0],[-71,-5],[-110,-4],[-174,0],[-135,7],[-166,-2],[3,-38],[-13,-115],[2,-23],[23,-79],[3,-41],[36,-80],[3,-69],[-15,-102],[3,-55],[20,-51],[-18,-35],[-8,-82],[-9,-15],[7,-24],[-15,-26]],[[25528,52188],[-38,-35],[-40,-24],[-56,-4],[18,41],[12,-26],[35,27],[3,34],[-15,48],[-7,43],[-20,47],[-7,90],[9,74],[-3,76],[-7,48],[-20,32],[-15,-46],[2,-38],[-9,-57],[1,-41],[-6,-32],[-1,-144],[-8,-66],[-15,-4],[1,36],[-20,40],[-15,-16],[-5,23],[-18,-22]],[[25284,52292],[-3,222],[-3,357],[-6,423],[-10,773],[9,283],[21,710],[5,212],[33,1120],[6,160],[19,643],[12,362],[-16,35],[-13,85]],[[8053,88108],[6,38],[18,-11],[-20,-43],[-4,16]],[[7905,86007],[29,90],[15,-17],[-1,-46],[-28,-74],[-15,19],[0,28]],[[7695,85792],[26,-14],[-3,-36],[-23,50]],[[7642,85774],[22,-17],[-7,-33],[-14,14],[-1,36]],[[7602,85813],[20,-2],[-5,-34],[-15,36]],[[7594,84711],[8,45],[20,-13],[-8,-73],[-15,-17],[-5,58]],[[7543,85532],[12,28],[21,-40],[-33,-2],[0,14]],[[7540,87187],[29,79],[8,112],[31,-29],[-28,-64],[-9,-49],[5,-24],[-36,-25]],[[7464,85521],[14,55],[18,-28],[23,-4],[-33,-33],[-22,10]],[[7385,86976],[17,6],[5,-88],[-22,82]],[[7168,84530],[29,89],[15,6],[26,-66],[5,20],[-21,65],[6,54],[9,10],[27,-25],[21,19],[-29,54],[16,56],[29,-31],[15,4],[-14,56],[12,17],[20,-20],[14,45],[-18,6],[-13,33],[20,3],[22,67],[34,18],[-12,35],[-3,68],[27,66],[7,-31],[53,51],[7,-7],[-12,-118],[-13,-18],[-26,-103],[5,-84],[36,11],[2,69],[22,-9],[21,-71],[20,48],[12,-33],[-17,-117],[9,-22],[9,72],[27,47],[7,-25],[-3,-115],[-30,-89],[-32,23],[-11,81],[-21,-26],[13,-99],[-22,-20],[-39,13],[-16,-54],[-8,36],[2,74],[-10,2],[-9,-114],[-8,-24],[-31,-17],[2,-37],[-16,-22],[-45,-13],[-86,76],[-21,-13],[-15,29]],[[7129,86075],[41,28],[18,-43],[-5,-48],[-13,-16],[-29,-3],[-16,59],[4,23]],[[6962,82933],[31,45],[8,-48],[-37,-9],[-2,12]],[[6905,82759],[20,62],[19,20],[11,-11],[25,17],[5,-40],[19,-37],[36,16],[-2,-37],[-19,-31],[-46,-6],[-32,-13],[-32,25],[-4,35]],[[6789,83718],[20,17],[4,76],[18,75],[25,34],[5,44],[15,-8],[34,70],[33,36],[39,-15],[29,1],[0,-112],[26,-57],[4,45],[17,53],[-18,48],[6,25],[53,-14],[-3,35],[-52,44],[-19,-4],[-1,127],[31,61],[29,29],[20,-12],[22,-56],[6,-133],[15,13],[9,77],[-5,55],[35,-38],[7,47],[-37,36],[-21,58],[7,44],[17,-6],[51,-87],[9,4],[30,-41],[11,10],[-31,75],[-20,34],[-7,44],[17,0],[30,-58],[29,12],[41,-29],[7,49],[36,15],[-8,-63],[-39,-106],[-7,-83],[19,-36],[0,95],[16,43],[16,-49],[5,46],[17,32],[5,41],[14,10],[10,-31],[22,72],[17,8],[-4,-45],[28,-16],[-11,-38],[-11,20],[-18,-15],[19,-36],[-5,-49],[19,22],[11,-51],[27,1],[-24,-53],[-16,33],[-24,2],[-15,-48],[16,-9],[-8,-53],[26,-8],[-26,-89],[23,17],[13,47],[5,-35],[47,-4],[-3,-41],[-36,-78],[-13,-110],[-38,13],[-2,39],[-10,-41],[-23,42],[-17,-6],[-23,49],[-15,-13],[-24,19],[-8,-46],[27,1],[15,-17],[45,-87],[-8,-70],[-23,-52],[-11,36],[-19,-50],[-19,30],[-6,38],[-21,18],[-20,-12],[-17,-37],[29,2],[20,-49],[-38,-53],[-34,12],[-4,-20],[25,-34],[14,13],[35,1],[22,-43],[-11,-28],[-24,-8],[-34,-33],[-8,11],[-19,-29],[3,-49],[-27,-50],[-13,20],[7,34],[-23,50],[7,47],[27,62],[-8,24],[-15,-21],[-34,-105],[-3,-24],[-22,32],[-22,-10],[-5,-35],[26,-6],[10,-63],[-16,-61],[-25,-20],[1,-70],[-25,-41],[-12,13],[-23,-82],[-19,-30],[-18,21],[-31,-20],[22,116],[11,11],[26,71],[24,31],[-2,37],[-33,-23],[3,52],[22,102],[29,52],[-7,30],[-15,-45],[-34,-61],[-26,-112],[-24,-59],[-14,-11],[-5,-44],[-19,-30],[-4,84],[-26,58],[-33,27],[3,100],[-4,106],[-13,83],[-11,32],[-23,20],[-27,5],[14,30],[-15,37],[5,23]],[[6782,82633],[27,101],[51,97],[21,-4],[16,-54],[-12,-23],[-55,-73],[-29,-79],[-19,35]],[[6519,81925],[26,41],[5,38],[13,22],[8,-32],[-6,-43],[5,-68],[-7,-33],[-36,13],[-8,62]],[[6240,82171],[5,47],[14,25],[13,-59],[-13,-63],[-19,50]],[[6225,82357],[9,35],[3,-82],[-10,-1],[-2,48]],[[6080,82757],[21,48],[48,-3],[25,-54],[-35,23],[-16,-26],[-43,-6],[0,18]],[[5919,82533],[19,25],[11,-57],[-9,-11],[-21,43]],[[5642,81925],[8,64],[19,12],[27,-58],[-8,-18],[-21,37],[-25,-37]],[[5573,81984],[16,-49],[-27,12],[11,37]],[[5524,80844],[-1,36],[13,24],[20,-25],[-9,-59],[-19,-15],[-4,39]],[[5506,81836],[8,67],[10,10],[11,-62],[-29,-15]],[[5485,80904],[12,85],[-11,46],[31,-2],[4,-99],[-27,-38],[-9,8]],[[5445,80747],[10,13],[16,-42],[-1,-34],[-23,-4],[-2,67]],[[5429,81185],[17,-21],[5,49],[17,46],[5,-22],[-8,-58],[9,-13],[1,-44],[-10,-61],[13,-30],[-7,-19],[-17,22],[-2,-21],[-20,8],[-3,164]],[[5385,80755],[21,25],[11,-30],[-20,-26],[-12,31]],[[5377,81028],[9,39],[23,41],[5,-36],[-23,-38],[-9,-58],[-5,52]],[[5303,81352],[14,11],[5,-42],[-19,31]],[[5265,80882],[33,98],[15,27],[-5,18],[-22,0],[-4,76],[22,50],[27,-44],[-1,38],[-13,52],[30,-13],[18,114],[12,-23],[-2,-43],[-9,-2],[-5,-75],[12,-18],[0,33],[13,1],[-4,-60],[-11,-37],[-22,12],[-1,-45],[-28,-71],[-18,-24],[-31,-141],[-6,77]],[[5246,85264],[5,41],[14,-83],[-7,-25],[-12,67]],[[5238,81460],[22,42],[36,-14],[-1,-78],[-50,12],[-7,38]],[[5213,85252],[8,77],[5,-57],[-13,-20]],[[5096,81334],[16,74],[25,25],[18,-23],[-2,-46],[10,5],[12,47],[15,-32],[26,-26],[26,25],[7,-66],[-9,-60],[-14,40],[-22,3],[-14,23],[-3,40],[-10,-12],[0,-69],[11,-20],[11,-87],[-11,-60],[-36,35],[-10,59],[-18,-18],[-18,-90],[4,58],[-10,43],[0,104],[-4,28]],[[5033,85142],[7,131],[39,52],[21,6],[39,76],[5,-2],[-55,-273],[-22,-32],[-32,-4],[-2,46]],[[4937,81216],[27,3],[-4,-71],[-26,47],[3,21]],[[4863,81217],[10,31],[36,8],[-9,-51],[-37,-10],[0,22]],[[4804,81100],[4,51],[17,20],[25,-19],[12,-29],[35,-42],[6,-41],[-30,44],[-23,-57],[-28,74],[-11,-38],[-7,37]],[[4656,80881],[30,66],[26,-27],[0,-83],[-11,-53],[-13,-21],[-27,58],[-5,60]],[[4587,90956],[19,44],[21,16],[24,-17],[22,6],[9,-37],[-1,-50],[-75,-13],[-18,19],[-1,32]],[[4545,80324],[1,51],[68,-54],[19,-39],[26,0],[18,-28],[-20,-23],[-10,-33],[-22,40],[-17,-9],[-31,37],[-18,-29],[-22,57],[8,30]],[[4451,81463],[14,-1],[-5,-38],[-9,39]],[[3979,80040],[12,22],[16,-18],[-21,-37],[-7,33]],[[3880,79918],[22,34],[33,-11],[24,18],[5,-24],[-9,-45],[-26,-13],[-47,27],[-2,14]],[[3807,79887],[60,24],[9,-35],[-15,-32],[-13,37],[-34,-4],[-7,10]],[[3781,79848],[17,29],[7,-36],[-18,-14],[-6,21]],[[3751,80090],[13,56],[14,-15],[18,18],[12,-21],[-22,-33],[13,-48],[30,0],[1,-41],[-23,3],[-18,-79],[-23,24],[-2,78],[16,35],[-9,20],[-16,-21],[-4,24]],[[3635,79967],[5,36],[28,54],[30,-6],[3,-58],[20,6],[14,-15],[8,-44],[13,13],[-2,-41],[-26,-36],[-12,11],[-18,-45],[-6,28],[-25,1],[-17,-20],[-18,91],[3,25]],[[3608,79782],[7,15],[27,-33],[-32,-11],[-2,29]],[[3261,87028],[35,25],[57,0],[22,-20],[23,10],[9,-24],[21,10],[10,30],[-8,38],[34,68],[37,-11],[0,37],[25,46],[33,-40],[24,32],[23,9],[15,54],[19,-132],[27,-10],[29,34],[29,-20],[27,-40],[-12,-65],[11,-44],[-11,-40],[13,-11],[4,-65],[-13,-38],[21,-54],[2,-58],[21,10],[-11,-34],[2,-48],[-71,-21],[-6,-34],[-20,19],[-26,-18],[-28,-58],[8,-64],[-26,-8],[-23,71],[-38,47],[-57,-4],[-14,35],[-28,18],[-27,58],[-35,42],[-40,19],[-32,72],[-25,10],[-2,70],[-28,97]],[[3147,79003],[17,23],[22,53],[25,5],[37,40],[9,27],[28,-21],[14,19],[8,44],[22,-19],[3,72],[24,-11],[-17,106],[20,32],[8,-16],[15,18],[-18,35],[4,39],[17,23],[29,-1],[9,-68],[15,7],[-7,50],[13,31],[-53,47],[-14,-21],[-32,81],[0,46],[31,92],[42,50],[36,32],[6,-15],[23,13],[16,-63],[-16,-42],[7,-35],[17,-18],[14,53],[6,-33],[15,29],[-1,41],[18,63],[15,-58],[11,26],[20,-62],[-8,-56],[-23,-13],[-24,-70],[-40,-70],[2,-39],[34,54],[58,64],[4,22],[22,22],[7,-19],[-5,-72],[-16,-51],[-26,-34],[-6,-23],[-45,-51],[-30,-20],[12,-46],[-16,-1],[-4,-61],[-16,17],[-7,-70],[-20,25],[-4,-76],[-36,-13],[-22,30],[-10,-31],[-12,23],[-21,-37],[-6,11],[-44,-73],[-3,-31],[-23,4],[-16,-23],[-13,-60],[-28,23],[-9,-45],[-49,40],[-15,36]],[[3070,93368],[7,34],[34,50],[123,108],[63,74],[48,74],[45,56],[42,64],[84,105],[55,56],[146,167],[172,154],[133,90],[87,45],[135,15],[52,-11],[34,-31],[-41,-11],[7,-38],[-10,-71],[-31,-77],[1,-70],[12,-56],[-21,-59],[-49,-33],[-4,-20],[49,7],[42,-151],[40,-3],[36,32],[42,-1],[49,-30],[47,21],[69,15],[32,-58],[50,21],[18,-34],[52,32],[18,26],[84,-65],[18,59],[26,44],[37,150],[18,26],[40,-9],[8,-39],[32,-12],[31,27],[26,0],[-32,110],[-71,55],[-45,24],[-48,-1],[-60,-60],[13,112],[-3,83],[-62,114],[-22,91],[-26,35],[-59,14],[-8,56],[-32,90],[7,50],[27,18],[10,43],[16,-37],[24,28],[27,-89],[36,-91],[24,-10],[-19,-101],[3,-55],[28,-50],[57,-123],[53,-68],[39,18],[30,28],[9,49],[-45,2],[-10,45],[-56,70],[-53,112],[10,52],[0,60],[14,23],[1,57],[33,93],[30,-32],[22,3],[1,28],[-38,55],[-25,-8],[-28,57],[-87,-29],[-32,-37],[-34,0],[-39,-19],[-34,17],[-20,43],[-17,-16],[-21,23],[-4,-51],[-36,39],[-91,42],[-54,31],[-48,15],[-22,30],[1,98],[-22,163],[-52,216],[-20,58],[-36,62],[-91,101],[-145,228],[-21,24],[-51,87],[-50,49],[-54,37],[-51,23],[-29,35],[-19,70],[-54,84],[-45,40],[-81,41],[-42,-6],[37,40],[92,59],[20,46],[3,57],[19,76],[11,236],[-8,117],[179,-31],[68,6],[144,42],[79,28],[77,15],[77,63],[41,65],[29,30],[53,87],[81,192],[21,92],[7,79],[-2,186],[39,233],[84,183],[65,179],[37,77],[129,162],[96,-35],[69,-3],[68,40],[64,53],[93,104],[74,108],[44,86],[114,188],[33,31],[99,63],[7,-47],[55,-44],[82,-12],[68,15],[13,24],[32,-3],[61,17],[73,51],[74,85],[71,121],[36,88],[86,185],[68,76],[12,-68],[47,-38],[39,-2],[39,-20],[16,-82],[27,41],[99,-49],[15,-98],[-54,-71],[-35,-63],[-41,-4],[12,-146],[81,-15],[44,59],[-7,76],[16,8],[31,67],[23,12],[19,-48],[4,63],[-27,43],[35,55],[21,-47],[-3,65],[15,22],[71,-74],[45,-66],[13,-42],[-11,-33],[1,-109],[9,-49],[61,10],[35,-37],[16,-40],[48,62],[30,75],[112,0],[69,42],[53,-11],[40,-34],[84,-2],[61,-32],[45,-35],[9,-34],[-26,-11],[-26,-83],[-26,-30],[14,-93],[25,5],[19,-24],[45,-6],[10,-28],[69,-20],[33,9],[-17,-43],[9,-25],[-53,-26],[-8,-24],[20,-25],[89,6],[72,-41],[14,-33],[28,5],[44,86],[57,15],[24,-18],[10,34],[40,7],[29,-27],[15,-59],[42,27],[38,8],[58,83],[13,-22],[45,20],[21,-15],[34,26],[12,-30],[66,-8],[62,-72],[28,-1],[19,-24],[26,31],[24,-8],[37,-73],[0,-45],[35,-19],[41,51],[1,-63],[26,57],[81,-77],[14,-67],[24,-23],[49,1],[43,-15],[29,36],[23,-73],[48,-10],[29,45],[43,-12],[62,12],[66,-10],[49,-38],[50,-3],[17,28],[65,-95],[28,-8],[32,-54],[45,-16],[20,-30],[45,-12],[17,-26],[27,32],[66,-20],[45,77],[48,6],[9,20],[84,49],[18,24],[86,30],[42,-25],[48,32],[9,-18],[79,-73],[53,-37],[70,-80],[26,-67],[37,-11],[87,-97],[68,-40],[52,-62],[27,-47],[61,-13],[58,-45],[0,-9012],[2,-971],[-1,-889],[130,-95],[17,100],[135,-145],[81,180],[170,20],[1,-39],[-33,-272],[47,-112],[66,-76],[26,-22],[11,-116],[29,-80],[266,-580],[30,-299],[-8,-93],[22,4],[51,108],[111,158],[11,23],[68,8],[32,139],[-2,209],[30,-19],[18,19],[19,71],[-1,39],[-32,47],[45,48],[68,28],[131,158],[62,-115],[28,-88],[11,-2],[24,-70],[0,-104],[-12,-24],[1,-37],[16,-47],[-5,-42],[18,-76],[73,-38],[5,-66],[32,-73],[24,0],[29,-108],[-6,-69],[26,-20],[-6,-46],[22,-71],[114,-152],[32,-119],[46,-120],[50,-110],[-23,-49],[33,-134],[47,-140],[28,-176],[57,-182],[32,-161],[30,-111],[25,-123],[53,-180],[32,-155],[-33,-140],[89,-52],[-21,-205],[71,-81],[-8,-61],[11,-57],[7,-119],[71,14],[33,-77],[82,-115],[23,-48],[85,-47],[44,-115],[44,-33],[11,-116],[23,-15],[27,-36],[40,23],[28,-143],[-3,-90],[-20,-107],[-18,-67],[1,-60],[10,-38],[-5,-118],[12,-104],[11,-46],[6,-133],[12,-63],[-32,-100],[-24,-122],[-1,-33],[-20,-90],[-23,-77],[-37,-97],[-27,-55],[-19,-14],[3,-46],[-19,-23],[-12,40],[-1,56],[-13,24],[-1,-44],[-12,-22],[-18,18],[-13,52],[-4,108],[3,57],[-17,33],[8,103],[-9,6],[-16,56],[-6,64],[30,63],[17,63],[15,-8],[-3,75],[-11,82],[14,122],[-9,190],[-10,67],[-43,164],[-22,55],[-12,48],[-7,-34],[23,-62],[25,-85],[7,-72],[22,-90],[10,-131],[-16,-43],[-2,-79],[7,-92],[11,-62],[-9,-28],[-11,96],[-8,12],[3,-70],[-4,-74],[-36,-102],[-14,-5],[-24,49],[19,73],[11,73],[-3,38],[-25,-10],[10,-72],[-8,-42],[-33,-56],[-7,1],[-23,108],[-11,-45],[-25,54],[-17,18],[-12,50],[-28,68],[0,76],[31,31],[22,51],[-20,47],[7,75],[-9,39],[23,44],[3,24],[-18,1],[-3,74],[7,43],[-41,-17],[6,-45],[11,-16],[-1,-37],[-13,-85],[-1,-60],[-19,-73],[-18,13],[7,-93],[-10,-43],[-24,52],[-25,22],[-9,30],[-12,132],[-16,70],[21,-29],[7,75],[27,37],[12,147],[-8,102],[10,57],[6,-21],[12,42],[7,92],[-21,-11],[-4,-58],[-19,-30],[-21,-61],[13,-113],[-8,-42],[-33,3],[-12,-43],[3,-30],[-17,-14],[-7,34],[4,67],[-19,23],[-12,128],[-32,-17],[0,-48],[-28,118],[-3,123],[8,25],[25,1],[7,66],[13,49],[30,12],[16,-72],[7,63],[-15,168],[9,3],[30,-45],[4,-59],[11,-32],[6,23],[-9,77],[-22,35],[-19,48],[-3,53],[-11,13],[-12,-25],[-10,49],[-23,32],[-5,57],[12,23],[-4,64],[-22,28],[-37,66],[-13,69],[-15,33],[-13,79],[29,43],[-11,58],[-18,-47],[-19,18],[-2,-27],[-23,58],[-31,8],[-11,56],[-27,-28],[-54,76],[-8,75],[15,73],[18,-22],[33,4],[9,48],[-22,3],[-32,36],[2,35],[-18,125],[13,81],[-24,-10],[-15,19],[-16,53],[7,103],[20,2],[16,-36],[33,-24],[63,-89],[5,15],[-25,58],[-20,19],[-66,130],[-3,95],[-17,-15],[-2,-65],[-20,3],[-39,166],[-55,147],[-11,140],[9,65],[-2,52],[27,41],[-13,100],[-8,-2],[-9,-85],[-20,-30],[0,-42],[12,-22],[-13,-57],[-10,10],[-22,-20],[-25,11],[-36,34],[-7,-15],[-35,36],[-40,174],[-4,110],[-42,140],[-13,79],[19,1],[-11,174],[-19,-56],[1,-58],[-35,132],[-8,177],[-8,92],[-21,135],[-32,116],[-36,37],[-5,-16],[28,-38],[4,-41],[17,-39],[20,-131],[-15,11],[-34,140],[-22,36],[-22,10],[41,-92],[13,-85],[17,-29],[-7,-97],[9,-88],[13,-23],[-5,-24],[27,-124],[3,-55],[25,-139],[2,-32],[-14,11],[27,-204],[9,-85],[1,-69],[-12,8],[-1,-61],[12,-64],[-29,23],[-19,32],[-14,-4],[-18,43],[-15,66],[-10,84],[-22,-16],[-33,50],[-27,-37],[-50,-19],[3,81],[-25,16],[-4,19],[30,39],[-10,69],[5,53],[-28,109],[0,36],[-22,84],[13,24],[-2,90],[-19,64],[-12,10],[15,-131],[-12,-125],[-27,-5],[-42,70],[-26,30],[-15,150],[-11,-68],[-13,-22],[-44,54],[-14,-20],[-10,50],[-12,-18],[-3,-54],[45,-35],[7,7],[45,-44],[33,-66],[30,-104],[-11,-44],[-24,-44],[6,-11],[33,44],[7,30],[27,1],[7,-105],[26,-78],[16,-157],[-19,-44],[-43,-32],[-11,10],[9,47],[-18,16],[-12,-17],[7,-39],[-10,-37],[-43,22],[-11,-23],[5,-60],[-8,-35],[-29,5],[-8,78],[-36,35],[3,15],[-28,74],[-17,19],[-29,-19],[-35,70],[-16,15],[-56,107],[-51,75],[-2,50],[-30,70],[-37,64],[-5,28],[4,75],[-15,48],[-55,121],[-30,47],[-96,89],[-36,71],[-43,66],[-98,104],[-42,49],[-91,144],[-30,39],[5,29],[31,89],[24,-14],[-9,-27],[24,3],[0,43],[21,70],[-22,7],[2,77],[-14,116],[7,35],[22,41],[-5,34],[16,30],[-13,56],[-19,-51],[-2,-59],[-25,-21],[-21,-72],[-1,-49],[-107,-100],[-12,-28],[-28,-28],[-95,22],[-67,36],[-26,32],[-123,125],[-17,56],[18,-10],[34,24],[11,71],[-33,131],[3,42],[-20,-17],[-31,44],[6,-50],[45,-120],[-10,-21],[-54,-51],[-39,0],[-49,55],[-61,24],[-32,23],[-81,40],[-45,11],[-59,-4],[-63,-33],[-77,-12],[-80,-28],[-54,-48],[-39,39],[-45,-26],[-64,-120],[-46,-115],[6,65],[36,103],[62,117],[46,2],[-16,66],[-49,48],[-8,25],[-10,-82],[-26,84],[-26,30],[-17,-9],[-16,27],[-71,19],[9,28],[38,23],[-42,33],[-19,-6],[-2,25],[37,156],[-15,15],[-13,-36],[-29,-22],[-1,-57],[-20,-66],[-39,12],[-70,97],[1,31],[-26,36],[-39,26],[-41,-35],[-22,27],[13,29],[31,32],[25,74],[-14,10],[-18,-49],[-79,-93],[-29,-23],[-38,5],[1,-54],[60,27],[11,-24],[2,-53],[-17,2],[-28,-37],[-18,6],[-41,-38],[-41,-77],[-12,2],[-12,48],[47,77],[-37,-12],[-17,11],[-1,54],[23,83],[13,27],[18,2],[20,-31],[24,17],[22,41],[38,13],[57,58],[42,20],[-9,25],[-19,-2],[1,71],[-11,-49],[-19,-20],[1,30],[25,65],[1,21],[-33,-58],[-45,-47],[-19,-3],[-4,30],[63,112],[-6,38],[-29,-60],[-38,-14],[-12,26],[-15,-49],[-20,-14],[-54,13],[-10,58],[27,19],[11,-9],[18,25],[40,16],[29,28],[23,65],[-25,2],[-14,-46],[-23,-19],[-45,-2],[-18,68],[-12,3],[-17,-69],[-21,-8],[-4,59],[16,26],[17,-6],[-11,44],[-3,55],[13,34],[26,114],[96,6],[-7,38],[-91,-5],[-21,-63],[-27,-26],[-21,-77],[-31,-48],[-23,12],[20,36],[-10,113],[-12,53],[18,30],[-22,10],[-14,-23],[-1,-51],[12,-63],[-14,-63],[1,-41],[-13,-15],[-26,48],[-2,-67],[-27,-45],[-21,22],[0,52],[-11,19],[-7,-73],[-9,15],[4,129],[9,62],[-15,11],[-17,-130],[9,-111],[-4,-29],[-19,-9],[1,49],[-27,34],[-7,-46],[16,-65],[-13,-8],[-38,16],[-34,-48],[-28,9],[-5,31],[14,95],[42,151],[1,53],[49,123],[16,81],[-6,18],[-73,-211],[-1,-35],[-18,-58],[-8,8],[-8,69],[-12,-1],[-3,-81],[-11,-54],[-18,-42],[-3,-64],[-16,-68],[-21,27],[-7,-44],[24,-28],[-5,-91],[10,-8],[19,85],[37,6],[11,-22],[4,-91],[-14,-45],[-31,-32],[-22,-76],[1,-63],[21,20],[17,75],[30,44],[30,-89],[0,-44],[10,-43],[-23,-192],[-26,0],[-9,52],[-19,9],[1,-36],[-27,-44],[0,-17],[28,14],[23,-27],[61,-124],[26,-85],[-15,-77],[-13,-26],[-34,-35],[-17,16],[-14,-18],[-29,-6],[9,51],[-26,67],[9,60],[-17,63],[-16,-126],[0,-62],[-12,-41],[-19,69],[-9,-8],[-7,-59],[-18,-33],[-34,50],[-29,-40],[-15,52],[-27,-21],[-22,5],[-9,28],[24,74],[-9,14],[-27,-38],[-29,-175],[-30,-42],[-9,18],[14,55],[13,84],[-15,172],[-16,5],[-5,-28],[1,-81],[13,-53],[-10,-4],[-10,-72],[-17,11],[-8,-20],[-5,-68],[-11,-17],[4,-47],[25,-31],[-6,-74],[-27,32],[-12,127],[8,37],[-11,78],[-17,6],[6,-52],[-8,-49],[5,-196],[-5,-64],[-27,74],[-1,43],[-16,28],[-34,31],[3,-40],[24,-36],[-1,-63],[-69,-158],[-32,-91],[0,-36],[-16,-10],[-9,-86],[-12,2],[-3,70],[34,211],[0,29],[-26,-65],[-19,-111],[-12,11],[-9,142],[-13,-52],[-11,2],[16,-62],[-5,-80],[-39,0],[-8,-61],[-18,-24],[-22,-55],[7,-43],[-15,-41],[-16,-10],[0,54],[-16,36],[-13,-45],[-1,-53],[-22,-17],[-24,31],[-9,-23],[-21,38],[-7,43],[-12,-36],[-21,-27],[6,-35],[-20,0],[-5,-39],[-41,-7],[-6,76],[-22,-14],[-21,22],[3,22],[-21,8],[-3,70],[8,36],[16,18],[5,71],[32,31],[9,-11],[29,51],[33,3],[0,45],[33,21],[34,62],[31,-9],[-11,69],[22,26],[3,32],[37,102],[-13,15],[-24,-22],[-60,-109],[-30,-20],[-18,-39],[-39,16],[-43,67],[-15,40],[-5,46],[18,117],[13,45],[15,133],[27,79],[17,33],[35,99],[11,98],[0,71],[23,32],[5,156],[4,27],[-18,44],[-22,163],[39,35],[5,27],[63,27],[89,164],[92,118],[51,-161],[41,-16],[13,-27],[34,112],[30,8],[36,-45],[19,10],[63,-48],[65,-20],[30,-55],[-1,27],[-22,63],[-29,36],[-38,-14],[-51,63],[-24,-1],[-40,42],[-25,68],[-39,66],[-29,28],[18,55],[24,9],[31,124],[23,18],[8,60],[46,27],[30,45],[-32,50],[-20,4],[-43,-64],[-11,-49],[-19,-14],[-12,-70],[0,-70],[-18,-31],[-25,19],[-36,7],[-74,-17],[-26,43],[-28,16],[-14,-52],[-87,-84],[-39,-154],[-36,-12],[-19,-31],[-33,2],[-39,-63],[-48,-109],[-1,-29],[26,-124],[-2,-23],[-38,25],[-19,-18],[-30,-52],[-21,-92],[-27,-29],[-32,-74],[-6,-73],[8,-34],[19,-24],[-40,-56],[-9,-67],[-13,-4],[-28,-70],[-19,-7],[-9,28],[-25,-11],[4,-68],[16,-13],[-3,-30],[25,-42],[8,-35],[-12,-73],[-19,-47],[-7,-62],[-25,-21],[-4,-22],[-39,-2],[-15,12],[-40,-31],[-18,3],[-19,-60],[23,16],[15,-20],[15,30],[19,1],[7,-50],[-16,-116],[-19,-16],[-26,-51],[-28,37],[5,-34],[-13,-18],[-18,18],[7,35],[2,75],[-22,71],[3,-119],[-9,-55],[-18,-15],[-13,25],[-6,-35],[16,-28],[-9,-53],[-49,-10],[17,-93],[-8,-32],[-27,-21],[-10,8],[-24,-45],[-12,13],[-36,-37],[5,-26],[20,-18],[-23,-32],[-7,-43],[2,-61],[-12,-44],[-24,-35],[24,-26],[-6,-59],[10,-60],[27,63],[59,-23],[16,22],[12,-22],[15,25],[22,-78],[19,-27],[19,13],[23,-34],[18,-53],[8,-53],[15,-22],[-28,-14],[-14,-118],[-12,-39],[-30,-25],[-11,-55],[-24,-33],[-48,0],[-15,-17],[-4,-94],[-12,-33],[-27,1],[-5,-20],[10,-79],[11,-32],[-27,-36],[-20,15],[-2,-45],[20,-46],[-11,-81],[-21,-30],[-6,-33],[9,-24],[-23,0],[-14,-52],[-26,66],[-9,-7],[5,-57],[-4,-40],[-21,-3],[-12,-43],[-17,16],[0,27],[-20,-1],[-4,-39],[-22,-24],[-23,31],[-28,-17],[-35,-69],[15,-52],[-9,-51],[-40,-44],[-28,-2],[1,-53],[14,-25],[-6,-40],[-20,-16],[-36,59],[-10,30],[-20,-20],[-5,-63],[1,-69],[-26,-27],[-3,-97],[-65,-7],[-21,24],[-2,-74],[8,-71],[-20,0],[-12,37],[-21,3],[-4,-39],[-32,-27],[-39,-92],[-15,-12],[-5,-44],[13,-11],[47,64],[4,-50],[-6,-53],[-15,-7],[0,-31],[18,-38],[-10,-38],[-18,-26],[-2,-49],[-26,-44],[-8,-32],[2,-42],[-32,14],[-31,-28],[-4,-70],[-12,-12],[-19,75],[-8,-53],[-27,-42],[-11,-53],[-24,-6],[5,-50],[-17,-27],[-25,43],[-24,67],[-22,-16],[0,-51],[11,-5],[1,-36],[-29,-10],[-13,-67],[6,-32],[18,-6],[5,-52],[-36,-4],[-24,-15],[-17,77],[-51,-38],[-18,-51],[-16,-3],[-9,-49],[19,-1],[27,25],[20,-17],[6,-54],[-16,-47],[-43,44],[-23,11],[-5,-70],[-33,6],[-23,21],[-20,-33],[-27,-88],[2,-44],[47,-20],[32,-36],[-3,-29],[-32,-42],[1,-23],[18,-4],[25,31],[16,-7],[-55,-78],[-23,-63],[1,-52],[-13,50],[-10,-17],[16,-66],[-6,-50],[-7,39],[-10,-2],[-2,-53],[-25,80],[0,95],[-19,-60],[8,-73],[-4,-67],[-24,-6],[3,58],[-35,1],[-16,-80],[-25,-9],[-75,-43],[-29,-22],[-7,-22],[-3,-74],[-17,46],[5,80],[-23,-19],[10,-30],[1,-104],[-16,-71],[6,-46],[-24,-81],[-32,-30],[2,52],[24,4],[-1,40],[-10,4],[2,111],[18,72],[-29,39],[-28,12],[-13,-18],[3,-45],[-12,-21],[-13,22],[-25,-13],[-9,-82],[-35,-74],[-26,-20],[-37,28],[-6,-29],[11,-44],[-20,-81],[1,-31],[-21,-37],[-12,105],[-10,13],[-14,-37],[-11,14],[-18,-31],[31,-13],[-2,-68],[-32,-10],[-16,25],[5,39],[-13,24],[-22,-22],[-19,-90],[-61,-85],[-26,2],[-11,29],[-26,-29],[-13,4],[10,156],[29,96],[1,46],[-15,16],[-31,-2],[-24,-29],[-24,-101],[4,-129],[-40,-140],[-7,-12],[-14,-85],[-21,36],[-19,-12],[13,-65],[10,-17],[1,-56],[-25,-38],[-19,33],[0,45],[-16,15],[-13,-60],[10,-49],[-17,-47],[-14,27],[-32,-8],[-16,18],[-14,74],[32,6],[-21,47],[-8,104],[-21,56],[-11,7],[-16,-33],[-10,-65],[7,-27],[14,0],[18,-70],[-11,-46],[14,-95],[0,-52],[-22,30],[-20,-19],[3,-26],[-17,-30],[-18,-7],[-22,28],[-16,59],[4,36],[-13,56],[-21,37],[-31,-25],[-10,-56],[49,-85],[4,-31],[-50,-111],[-24,-21],[-20,-33],[16,-56],[27,2],[9,24],[22,-50],[13,-83],[-26,6],[8,34],[-17,6],[-10,-28],[-16,22],[-17,62],[-25,-39],[2,-69],[-18,-1],[-28,-50],[-23,18],[-37,10],[-45,-5],[-34,-14],[-41,-40],[-29,-71],[-4,-69],[-29,-53],[-51,-33],[-29,3],[-28,28],[-9,30],[-9,74],[-10,30],[-1,55],[8,29],[44,41],[14,25],[23,110],[19,110],[-1,29],[22,54],[14,13],[25,-46],[38,39],[25,49],[25,0],[37,81],[34,20],[36,-14],[31,5],[1,-37],[28,-72],[9,-61],[-5,-50],[27,24],[-8,52],[2,37],[30,-30],[-15,42],[2,77],[-10,109],[32,46],[26,21],[42,-15],[21,14],[10,69],[-16,4],[4,28],[18,10],[7,38],[18,-4],[26,99],[3,-32],[15,-20],[21,48],[-5,83],[-20,-9],[27,68],[64,206],[33,52],[23,62],[19,13],[27,42],[25,68],[27,14],[35,39],[37,20],[89,70],[30,-9],[10,18],[45,5],[10,-10],[-20,-27],[-1,-47],[14,-2],[-3,-49],[-29,-18],[-3,-85],[38,-98],[11,22],[27,-39],[4,19],[-29,53],[-3,85],[-6,32],[26,-28],[57,3],[7,-86],[23,7],[26,-36],[7,22],[-14,40],[27,15],[-56,89],[-32,36],[1,58],[-16,-7],[39,166],[15,123],[11,56],[23,44],[36,96],[18,13],[40,74],[30,81],[82,96],[41,74],[35,39],[68,106],[17,42],[29,-68],[19,-14],[31,19],[8,59],[-13,47],[-2,46],[15,122],[29,108],[41,130],[24,62],[22,37],[40,41],[21,52],[22,87],[14,15],[26,62],[30,25],[8,-74],[18,-15],[4,41],[-10,105],[-23,-2],[-6,34],[2,95],[9,59],[25,409],[14,42],[38,16],[12,53],[-20,-9],[-34,77],[-3,62],[9,97],[20,106],[27,33],[29,101],[49,102],[4,57],[19,93],[-5,45],[13,33],[-3,43],[13,38],[-20,0],[-11,-32],[0,-38],[-21,-53],[-28,-31],[-38,-27],[-21,-31],[-29,-22],[-5,-21],[-41,-28],[-44,-61],[-79,-73],[-26,5],[-28,53],[-5,73],[-20,49],[-40,38],[2,46],[11,17],[9,167],[-12,-3],[-25,-101],[-41,-54],[-6,-58],[5,-58],[-8,-37],[-14,-12],[-3,-32],[9,-80],[16,-91],[19,-76],[-26,-87],[-28,-21],[-42,32],[-39,161],[-47,208],[-26,73],[-23,42],[-31,13],[16,65],[-16,44],[-25,-9],[-6,-87],[-15,7],[1,-65],[-29,-30],[-24,79],[3,26],[-19,19],[-11,-30],[-16,6],[-1,59],[-22,-18],[-25,61],[18,47],[-17,89],[-44,-52],[-46,-72],[-31,-62],[-20,-95],[-13,57],[-36,-33],[-94,-124],[-10,-41],[0,-49],[-41,-38],[-8,-26],[-22,-10],[-15,-44],[-20,-15],[-4,55],[-29,45],[-54,-20],[-29,33],[49,47],[15,-39],[18,12],[5,50],[25,77],[3,60],[-8,85],[1,81],[-16,74],[5,21],[-16,20],[-29,97],[-20,139],[29,128],[21,23],[24,79],[24,26],[-15,77],[-18,44],[-15,64],[-10,107],[-50,162],[-3,74],[-25,67],[-10,63],[-30,85],[-10,44],[-22,9],[-11,-37],[-2,-74],[6,-37],[-8,-56],[-12,-21],[-27,-10],[-18,21],[-19,-54],[-36,-29],[-50,-68],[-73,-48],[-88,-28],[-75,10],[-51,38],[-13,32],[-13,99],[23,18],[-18,69],[-54,62],[-32,108],[-5,34],[-33,51],[-18,62],[-42,8],[-31,42],[-47,110],[23,32],[24,55],[-2,36],[-24,6],[-38,-54],[-48,10],[-16,51],[11,32],[32,1],[57,128],[10,-4],[17,45],[-16,34],[-4,41],[32,24],[-27,7],[5,70],[27,78],[-17,3],[-18,-48],[-40,42],[-6,40],[22,49],[27,-6],[19,23],[0,45],[-17,-21],[-30,32],[-16,54],[2,23],[-20,7],[-13,35],[-10,-14],[-12,-99],[-14,-6],[-38,16],[-10,21],[-10,66],[1,129],[-11,19],[-43,10],[-18,37],[-10,98],[42,44],[6,38],[-17,46],[-30,31],[-45,-27],[0,-46],[-21,23],[-9,88],[8,147],[6,11],[-2,-107],[92,47],[0,19],[-35,20],[-20,28],[-24,82],[2,18],[36,19],[55,-8],[33,25],[-29,134],[-4,46],[3,84],[21,77],[101,278],[4,29],[27,77],[29,61],[5,70],[18,67],[21,34],[19,-4],[9,23],[-11,115],[26,188],[18,70],[38,61],[-18,24],[4,22],[58,133],[60,46],[48,11],[42,-45],[43,-11],[32,-84],[24,-6],[6,-26],[54,-88],[73,24],[61,124],[4,47],[44,29],[63,172],[23,89],[23,39],[-9,58],[14,5],[28,-28],[22,-5],[13,-77],[52,0],[45,20],[26,-20],[77,28],[48,38],[9,51],[56,128],[38,135],[0,71],[-12,81],[-23,95],[-17,121],[-1,118],[-5,52],[-71,157],[-9,32],[-41,28],[-27,1],[10,97],[27,33],[14,-25],[35,-20],[51,7],[-10,45],[31,10],[41,81],[2,114],[-42,122],[-47,68],[-25,48],[-1,-32],[-27,-48],[-20,-86],[-42,-30],[-42,42],[-59,-93],[-81,-34],[-18,-71],[-85,-103],[-21,-70],[-5,-99],[-44,-70],[-4,93],[-15,110],[-23,50],[-28,-3],[4,34],[-32,46],[-9,36],[-38,-60],[16,-45],[21,-7],[16,-39],[24,11],[2,-48],[-22,-81],[-19,-11],[-22,82],[-55,76],[-41,33],[-64,13],[-41,-27],[-27,12],[-52,3],[-45,-22],[-108,-112],[-58,-17],[-111,74],[-94,45],[-47,14],[-88,40],[-49,79],[-20,96],[1,74],[20,36],[-6,64],[-28,63],[-45,56],[-1,59],[-46,64],[-10,56],[39,-33],[33,3],[9,27],[24,15],[16,32],[-3,55],[35,61],[-38,63],[-19,9],[-29,-16],[-39,15],[-64,52],[-104,21],[-49,52],[-38,63],[-55,60],[-46,30],[-15,93]],[[2812,78476],[27,27],[-1,59],[18,0],[10,36],[0,57],[21,33],[5,57],[-10,16],[11,87],[46,106],[16,-26],[27,16],[28,-3],[-9,65],[-12,5],[9,77],[-6,26],[18,76],[40,67],[54,37],[29,-53],[31,1],[2,-23],[-21,-74],[5,-60],[-55,-95],[-65,-72],[-19,-66],[-1,-36],[-28,-81],[-15,-58],[-25,-10],[-28,-71],[-15,-17],[-4,-51],[-15,21],[-27,-49],[-54,-69],[13,45]],[[2752,78371],[29,49],[-1,-45],[-26,-25],[-2,21]],[[2615,78610],[4,50],[19,16],[4,-44],[-9,-45],[-12,-8],[-6,31]],[[2607,82847],[50,-13],[29,5],[10,-14],[-27,-68],[-23,4],[-9,46],[-20,10],[-10,30]],[[2611,78728],[8,-39],[-15,13],[7,26]],[[2547,78457],[17,17],[23,-3],[-2,19],[27,23],[19,-10],[10,-25],[-17,-105],[-30,50],[-25,-29],[-19,14],[-3,49]],[[2517,78521],[8,26],[23,-16],[1,-31],[-14,-31],[-13,16],[-5,36]],[[2497,78313],[4,72],[33,-18],[-7,-57],[-30,3]],[[2431,83489],[9,43],[22,15],[12,-10],[29,22],[-2,-56],[-32,-62],[-5,31],[-33,17]],[[2316,78170],[5,42],[40,72],[31,-27],[1,-27],[-13,-58],[-19,2],[-17,-26],[-15,-48],[-15,21],[2,49]],[[2228,78152],[9,-32],[-16,2],[7,30]],[[2183,78046],[17,42],[16,-37],[-12,-55],[-19,-1],[-2,51]],[[2036,90914],[2,37],[25,87],[-3,75],[8,18],[-5,57],[21,3],[8,-42],[-4,-48],[12,-34],[64,-57],[77,-48],[55,-20],[58,87],[58,58],[58,-14],[29,-69],[23,-15],[15,-104],[-2,-38],[53,-56],[56,-14],[22,-32],[9,-35],[36,-20],[88,-20],[14,6],[102,-55],[-27,-131],[-22,-43],[-51,35],[-43,-1],[-50,-29],[-44,-89],[-10,-61],[1,-53],[-20,-46],[-30,22],[3,24],[-26,119],[-32,62],[-50,60],[-39,-5],[-11,69],[-17,55],[-54,80],[-86,69],[-65,11],[-47,-44],[-18,-58],[-36,-34],[-28,33],[-49,36],[-24,83],[-7,56],[3,73]],[[1818,77819],[15,59],[33,49],[12,-2],[27,-39],[-1,-41],[-28,-51],[-32,-27],[-22,-1],[-4,53]],[[1695,87369],[6,69],[25,52],[11,-3],[-4,-58],[12,-54],[33,-70],[48,-63],[22,-14],[25,13],[57,-94],[-21,-19],[-9,37],[-51,8],[-26,-17],[-33,46],[-58,136],[-37,31]],[[1687,87598],[8,-5],[5,-84],[-20,42],[7,47]],[[1421,77626],[35,0],[33,-31],[9,30],[14,-2],[33,27],[25,-1],[-6,-28],[10,-29],[8,15],[31,-24],[23,16],[10,-11],[32,11],[5,-12],[41,-7],[-25,-23],[-16,6],[-14,-22],[-44,-1],[-22,-35],[-8,16],[-16,-19],[-19,4],[-18,25],[-52,3],[-9,-15],[-29,19],[-10,49],[-11,-1],[-10,40]],[[1064,77503],[55,37],[11,-28],[25,50],[3,-22],[19,38],[5,29],[18,-29],[27,8],[8,34],[6,-24],[35,37],[1,42],[44,10],[-13,41],[43,-5],[13,34],[-1,36],[-32,7],[-23,29],[5,26],[21,-16],[12,36],[-2,39],[38,46],[33,-32],[22,-76],[1,-31],[-21,-85],[-34,8],[-4,-43],[33,-79],[-3,-24],[-15,21],[-17,-10],[-4,-27],[-16,-4],[-20,23],[-19,-95],[-25,31],[-64,-55],[-13,29],[-29,12],[-23,-6],[-13,-35],[-22,-8],[-33,6],[-32,25]],[[1013,77451],[17,17],[7,-29],[-22,-4],[-2,16]],[[1005,77685],[16,-19],[-11,-12],[-5,31]],[[949,77433],[5,9],[40,-3],[1,-26],[-19,3],[-22,-24],[-5,41]],[[890,77452],[11,14],[28,-1],[15,-90],[-16,5],[-17,49],[-21,23]],[[821,77563],[14,45],[26,-9],[23,-80],[-20,-38],[15,-56],[-13,-34],[-18,-2],[-18,22],[3,57],[-7,2],[-8,77],[3,16]],[[811,77269],[5,56],[12,10],[10,-27],[19,10],[-12,22],[34,30],[10,-23],[-2,-55],[-23,0],[13,-52],[-29,29],[2,-40],[-12,12],[-5,-39],[-7,45],[-15,22]],[[601,77040],[11,67],[15,16],[7,36],[-13,66],[4,27],[32,7],[7,59],[-13,69],[10,45],[15,4],[18,-20],[19,59],[9,-14],[3,-74],[-20,-29],[-2,-50],[13,-20],[19,4],[31,26],[30,5],[7,-64],[-7,-88],[-15,-12],[-36,18],[-13,-52],[-18,-12],[-13,-41],[-23,31],[-6,-25],[6,-48],[-11,17],[-13,-26],[-4,55],[-14,29],[-19,-108],[-14,11],[-2,32]],[[469,77371],[13,9],[2,-26],[-14,-17],[-1,34]],[[402,77131],[18,33],[24,-17],[26,34],[50,39],[21,43],[2,128],[12,16],[16,-10],[15,-44],[-26,-98],[5,-86],[-7,-38],[-33,-31],[-36,61],[-27,-33],[-40,-10],[-1,-43],[-10,5],[-9,51]],[[257,77332],[8,29],[29,17],[39,-5],[11,-42],[-2,-30],[19,-32],[15,17],[18,-17],[33,34],[-10,-40],[-41,-32],[-12,-71],[4,-31],[-12,-31],[-8,16],[-9,-44],[8,-57],[-8,-5],[-9,56],[-14,-24],[-16,48],[-13,8],[4,28],[41,25],[-3,64],[-20,1],[-13,34],[-39,66],[0,18]],[[130,77016],[32,-12],[-3,-18],[-27,7],[-2,23]],[[81,76979],[27,-17],[7,-23],[-25,5],[-9,35]],[[77,77233],[14,52],[20,-35],[0,-61],[-19,-10],[-15,54]],[[43,76751],[8,25],[10,-22],[5,-50],[-12,-2],[-10,-32],[-1,81]],[[3,76640],[12,18],[6,-59],[-18,-25],[0,66]],[[99917,77451],[12,-2],[12,35],[26,14],[31,-61],[-9,-68],[-24,-42],[-12,-5],[-25,29],[-11,29],[0,71]],[[99678,77049],[5,24],[26,-29],[19,3],[27,-24],[4,-31],[24,-42],[27,-78],[25,-26],[11,-57],[44,-11],[21,-33],[-18,-19],[-9,14],[-29,-16],[-15,41],[-41,72],[-30,101],[-30,43],[-17,-8],[-22,25],[-22,51]],[[99628,77446],[9,11],[20,-16],[11,-33],[-14,-49],[-10,-4],[-16,91]],[[99570,77271],[19,-7],[21,-67],[-22,15],[-18,59]],[[99530,77510],[7,22],[17,-22],[3,-34],[-17,-20],[-10,54]],[[99282,77351],[24,27],[15,50],[39,26],[6,63],[16,96],[11,18],[20,-52],[-12,-32],[-8,-57],[-20,-53],[21,-18],[0,-35],[-13,-10],[-42,17],[-17,-31],[-4,-70],[-11,2],[-25,40],[0,19]],[[98911,77903],[26,-13],[-18,-27],[-8,40]],[[98408,78327],[22,-8],[3,-26],[-24,15],[-1,19]],[[98376,78346],[14,-8],[0,-29],[-14,37]],[[98352,78374],[20,-27],[-12,-2],[-8,29]],[[98210,77943],[6,31],[19,27],[23,-6],[26,67],[41,5],[-17,-40],[-5,-37],[10,-104],[-21,0],[-17,52],[-35,-19],[-30,24]],[[97960,78551],[47,86],[33,11],[100,-20],[29,-63],[24,-15],[35,-94],[2,-18],[-35,-8],[-21,38],[-17,-71],[-9,-13],[-38,15],[-26,-41],[-27,32],[-12,40],[-3,63],[-32,56],[-35,-24],[-15,26]],[[13347,81071],[9,23],[10,-28],[-5,-52],[-16,34],[2,23]],[[13279,80906],[61,56],[7,-80],[13,-14],[-20,-68],[-24,-1],[-33,63],[-4,44]],[[13241,80901],[26,65],[8,-25],[-26,-58],[-8,18]],[[13234,81005],[16,62],[-2,43],[13,20],[-14,43],[-2,70],[5,39],[11,9],[19,-32],[5,-35],[13,-7],[17,-40],[0,-165],[-9,-34],[-27,-2],[-13,32],[-23,-36],[-9,33]],[[13172,81388],[4,66],[6,1],[52,-135],[-12,-28],[-1,-68],[-15,-111],[-23,74],[-9,113],[-2,88]],[[12999,82714],[4,48],[9,-30],[-13,-18]],[[12979,82569],[2,29],[21,40],[21,-38],[-1,-22],[-24,-37],[-19,28]],[[12954,82690],[20,33],[17,52],[-5,-50],[-18,-75],[-14,40]],[[12888,80934],[18,6],[-4,-53],[-14,47]],[[12850,82395],[7,53],[10,-24],[22,-97],[10,-68],[-13,-15],[-21,61],[-9,4],[-6,86]],[[12838,82543],[18,86],[21,30],[30,-20],[24,22],[28,-42],[4,-36],[-18,-53],[6,-82],[-16,-19],[-44,-22],[-23,65],[-24,29],[-6,42]],[[12768,81460],[21,27],[-2,-46],[-16,-11],[-3,30]],[[12700,80811],[9,0],[10,-128],[-15,29],[-4,99]],[[12674,81692],[9,23],[1,61],[20,-30],[1,-32],[-22,-72],[-9,50]],[[12659,81749],[12,9],[-1,-36],[-11,27]],[[12637,81497],[8,92],[8,25],[32,-9],[10,-16],[-2,-35],[-16,-42],[8,-16],[20,40],[5,43],[13,-19],[19,68],[19,-2],[16,-39],[-5,-60],[-15,-35],[-19,15],[-13,-35],[17,-22],[-2,-37],[-22,-21],[-22,-50],[-9,-97],[-23,78],[17,61],[-1,78],[-29,51],[-14,-16]],[[12629,82086],[11,22],[24,102],[28,10],[11,20],[-22,13],[-1,47],[15,-22],[9,34],[-36,62],[14,29],[-10,86],[23,49],[45,-24],[71,-17],[24,-82],[11,-73],[-5,-69],[14,-6],[13,-68],[17,-48],[17,5],[57,-119],[12,-52],[33,-111],[3,-126],[29,-29],[8,-82],[8,-32],[31,-50],[13,-58],[-10,-6],[-19,46],[-75,98],[-3,-31],[-23,-74],[11,-8],[14,47],[8,-19],[23,10],[5,-37],[20,-13],[10,-29],[-38,-14],[8,-36],[32,21],[14,-52],[16,-14],[11,-87],[8,-9],[-12,-49],[-20,9],[2,-32],[22,-22],[11,8],[3,46],[14,36],[9,-21],[5,-91],[-15,-34],[4,-36],[-22,-94],[-29,-40],[18,-23],[27,59],[15,-10],[0,-203],[7,-72],[-20,-105],[-37,-9],[-26,48],[-14,-19],[-17,38],[-1,37],[-38,-2],[17,53],[27,-10],[1,39],[-19,42],[-19,13],[-35,78],[9,38],[10,115],[-15,9],[-11,-58],[7,101],[8,28],[-11,39],[-5,-55],[-27,-21],[14,-103],[-18,-58],[-47,56],[-4,35],[17,58],[-18,100],[-20,-5],[-10,50],[-21,3],[12,-78],[18,-65],[6,-72],[-7,-36],[15,-17],[20,-145],[24,-26],[-4,58],[24,18],[28,-65],[4,-124],[-14,-16],[-18,74],[-7,-7],[23,-170],[-29,0],[-26,32],[-2,60],[-20,40],[-49,177],[-10,22],[-2,84],[-12,10],[-8,61],[29,8],[-27,33],[3,119],[-33,-28],[-10,26],[-18,-19],[-9,42],[6,84],[33,30],[11,-63],[17,20],[-13,29],[6,39],[14,20],[14,-14],[22,44],[-29,96],[14,12],[-16,32],[4,66],[-24,-21],[-49,87],[-4,28],[16,-1],[-9,50],[3,35],[-27,18],[6,-57],[-10,-13],[-32,39],[-16,58],[12,52],[28,14],[37,-54],[28,35],[-17,67],[-18,16],[-12,-20],[-9,17],[8,30],[-2,42],[7,63],[-5,16],[-13,-47],[-27,-65],[-22,-33],[-23,38],[-5,45]],[[12611,83642],[15,25],[14,-33],[-27,-31],[-2,39]],[[12594,82026],[14,28],[11,-6],[4,-52],[-8,-48],[-10,3],[-11,75]],[[12476,82024],[28,22],[1,-43],[31,33],[8,75],[7,-2],[-9,-101],[-22,-24],[-20,-56],[-18,17],[8,30],[-14,49]],[[12463,83115],[17,52],[16,17],[7,33],[33,-1],[1,26],[28,-40],[11,-83],[18,-54],[31,-2],[9,-21],[10,26],[-29,44],[-13,80],[-2,55],[-35,79],[11,53],[34,26],[51,-37],[25,-9],[47,-44],[31,-20],[7,14],[57,-11],[30,-74],[14,-82],[3,-56],[9,-23],[23,-11],[16,-48],[5,-46],[33,-52],[9,-64],[15,-34],[-31,-38],[-20,-42],[-26,-24],[-16,16],[-31,4],[-43,24],[5,-48],[-23,-51],[-40,25],[-19,29],[-12,-47],[-15,-20],[-25,-2],[-17,15],[-3,87],[-11,32],[-30,-64],[13,-29],[-2,-90],[-23,-3],[-2,-31],[10,-51],[-11,-51],[-2,-62],[-17,-50],[4,-39],[-9,-64],[-10,-11],[-25,15],[-14,-103],[-15,19],[-12,52],[-7,63],[-1,109],[-10,87],[2,75],[14,48],[-3,57],[15,101],[-12,28],[-22,-1],[5,77],[-20,56],[-8,75],[2,43],[-5,91]],[[12311,84926],[43,-96],[7,-47],[14,-9],[8,-130],[19,1],[21,38],[11,-23],[20,-2],[21,-29],[54,13],[-3,-89],[25,-75],[2,-52],[21,-52],[14,-87],[17,-55],[2,-142],[21,-60],[4,-65],[-9,-2],[-5,47],[-38,120],[-10,115],[-19,37],[-9,53],[-21,0],[26,-101],[4,-34],[-13,-23],[35,-121],[23,-49],[-2,-62],[24,-113],[-19,6],[15,-102],[0,-27],[-25,-62],[-20,26],[-17,-1],[4,-34],[-21,-104],[-38,-83],[-24,-25],[-2,-33],[-31,-65],[-29,3],[-9,89],[-4,135],[21,80],[15,23],[-16,31],[-1,69],[14,6],[12,-39],[6,23],[-40,141],[-1,58],[-18,60],[-5,82],[-11,43],[8,125],[-12,81],[-3,95],[-11,91],[4,44],[-20,93],[-17,45],[-9,77],[-6,101],[3,42]],[[12292,85061],[35,-45],[27,-125],[-10,-5],[-22,115],[-23,19],[-7,41]],[[12202,85643],[15,-71],[0,-46],[-10,29],[-5,88]],[[12106,83714],[16,11],[1,26],[28,65],[-4,68],[36,64],[18,-12],[25,-85],[15,10],[18,-58],[23,-24],[38,4],[22,-14],[12,-79],[-2,-49],[-20,35],[-19,-2],[-1,-22],[21,-25],[11,-46],[29,-278],[-1,-71],[12,-56],[0,-58],[18,-142],[5,-107],[-5,-112],[-11,1],[8,-81],[3,-240],[-9,-111],[-11,6],[-28,70],[-10,86],[-21,59],[-40,212],[4,48],[22,23],[-18,30],[-26,-31],[-14,88],[-11,-15],[-17,42],[-12,55],[2,34],[-14,-22],[-10,24],[-30,2],[-19,96],[19,3],[10,-29],[10,13],[-3,105],[19,53],[6,38],[-39,86],[24,63],[-4,22],[14,35],[4,53],[-33,16],[-21,-28],[-14,79],[-26,72]],[[12097,84881],[16,18],[19,-7],[16,-52],[-29,-6],[-22,47]],[[12062,83572],[4,48],[-3,66],[25,9],[34,-62],[15,-74],[12,-19],[17,30],[23,-10],[-16,-82],[-24,-14],[-27,-161],[-12,6],[-40,-30],[-9,8],[3,102],[25,47],[1,50],[-22,4],[2,29],[-13,31],[5,22]],[[11978,85151],[9,14],[7,-59],[-16,45]],[[11978,84786],[30,41],[3,-53],[-16,-19],[-17,31]],[[11861,84371],[5,174],[16,33],[8,-9],[29,60],[3,51],[-12,92],[32,-2],[0,-54],[12,-60],[28,61],[29,-6],[17,-20],[17,49],[36,50],[14,-55],[41,-30],[25,-53],[-12,-78],[-31,-76],[4,-49],[12,-5],[8,60],[32,108],[15,12],[34,-55],[46,-10],[11,-32],[29,-16],[15,-79],[-4,-67],[-22,-44],[-37,49],[-10,-8],[12,-40],[18,-18],[33,-75],[-21,-29],[-25,-2],[4,-28],[21,-13],[23,24],[7,-95],[14,-69],[12,-143],[-14,-42],[-42,-11],[-17,12],[-44,95],[-65,99],[-27,50],[-22,-26],[-9,29],[-4,-32],[30,-55],[22,-8],[-21,-31],[6,-25],[0,-72],[-9,-50],[-31,-87],[-51,47],[-1,38],[-42,85],[-20,90],[-12,-38],[-19,43],[-10,79],[4,25],[-18,86],[2,24],[-16,57],[-26,30],[-7,49],[-25,36]],[[9331,87212],[28,-14],[12,-44],[-27,-9],[-13,67]],[[9232,87245],[16,14],[58,-26],[-3,-31],[-21,-10],[-50,53]],[[8867,87809],[26,35],[27,3],[15,-16],[-18,-53],[-50,31]],[[8817,87545],[4,86],[28,16],[21,-89],[-11,-44],[-37,-10],[-5,41]],[[8816,87079],[2,14],[43,47],[1,-36],[-40,-59],[-6,34]],[[8698,86532],[8,21],[3,71],[23,12],[-3,42],[21,54],[16,7],[-3,41],[30,34],[9,30],[43,75],[22,118],[27,44],[-3,40],[10,71],[27,34],[4,-43],[24,2],[-17,-51],[9,-17],[24,28],[8,-22],[-11,-37],[-62,-118],[-49,-129],[-8,-80],[-33,-60],[30,-57],[-19,-42],[-23,-8],[-22,15],[-17,-57],[-9,6],[-45,-47],[-14,23]],[[8692,87068],[44,270],[11,-41],[12,13],[-4,66],[44,84],[0,-54],[-12,-32],[-3,-82],[-20,-37],[20,-42],[-24,-97],[2,-46],[-17,-104],[-24,45],[-3,25],[-25,7],[-1,25]],[[8672,87628],[15,31],[17,-19],[17,-48],[-24,-45],[-25,81]],[[17950,55027],[5,31],[24,-13],[25,26],[-2,40],[18,63],[1,79],[-15,136],[-16,8],[-7,-13],[-13,25],[-3,-17],[-14,68],[7,67],[2,142],[-15,41],[9,65],[-8,51],[19,9],[28,138],[9,24],[-4,46],[4,110],[8,12],[-2,74],[-7,64],[1,51],[6,6],[-2,55],[-7,20],[28,116],[0,69],[8,28],[23,29],[10,40],[17,21],[1,19],[25,65],[-1,49],[-11,54],[-14,19],[-31,100],[-13,7],[2,58],[-26,239],[-23,63],[-7,69],[-16,57],[1,147]],[[17974,57684],[6,95],[-10,22],[21,43],[0,72],[-9,178],[-6,65],[-11,47],[-4,58],[6,36],[0,103],[-9,38],[3,39],[-7,31],[3,51],[-5,59],[4,56],[9,24],[-10,31],[-12,97],[4,43],[-7,80],[25,31],[9,29],[5,-14],[12,25],[17,-1],[2,-25],[24,19],[13,-3],[18,-71],[-2,-28],[21,-51],[24,11],[24,183],[5,15],[1,230],[-2,272],[0,437]],[[18136,60011],[200,0],[222,0],[313,1],[97,1],[160,2],[6,-7],[235,0],[162,1]],[[19531,60009],[0,-1691],[-1,-237],[1,-30],[0,-925],[-1,-608],[1,-145],[-1,-113],[0,-2847]],[[19530,53413],[-64,2],[-201,-1],[-128,-1],[-172,0],[-359,476],[-212,269],[-102,136],[-368,471],[5,66],[-5,17],[1,60],[8,16],[17,103]],[[19530,64667],[242,0],[154,2],[327,0],[66,-5],[137,-1],[242,1],[7,2],[217,2]],[[20922,64668],[282,1],[135,0],[140,0],[0,-1163]],[[21479,63506],[1,-381],[0,-434],[1,-193],[0,-1270],[1,-137],[0,-1089]],[[21482,60002],[-183,3],[-22,5],[-62,1]],[[21215,60011],[-204,-3],[-169,-5],[-184,0],[-34,2],[-301,-1],[-186,-2],[-2,9],[-152,-1],[-230,-1],[-222,0]],[[19531,60009],[0,583],[1,36],[0,738],[-5,129],[0,517],[2,216],[0,1857],[1,46],[0,536]],[[27414,45876],[14,60],[5,-33],[-14,-44],[-5,17]],[[27386,45813],[9,39],[11,4],[-5,-33],[-15,-10]],[[27310,45701],[52,90],[6,-30],[-45,-80],[-13,20]],[[27118,45540],[19,106],[20,46],[25,43],[3,23],[36,66],[38,-67],[4,-52],[14,-43],[-4,-11],[-40,-48],[-3,27],[-27,-5],[-3,-24],[-46,-73],[-36,-15],[0,27]],[[27062,45510],[39,24],[-10,-43],[-17,-14],[-13,8],[1,25]],[[27020,45533],[6,35],[12,-10],[-5,-41],[-13,16]],[[26992,48019],[5,-18],[19,-211],[8,-28],[17,-26],[7,17],[14,-21],[-14,-31],[-9,-1],[-21,50],[-7,28],[-13,115],[-6,76],[0,50]],[[26806,45614],[15,13],[4,-23],[-20,-10],[1,20]],[[26322,51623],[29,47],[0,-29],[-16,-37],[-11,-6],[-2,25]],[[26229,53027],[6,-79],[11,-52],[2,-83],[6,-75],[14,-48],[136,-25],[261,-56],[206,-51],[135,-34],[-5,-14],[2,-57],[7,-26],[-3,-71],[11,-76],[37,13],[0,75],[6,47],[3,119],[-12,91],[4,60],[-1,49],[8,16],[-4,24],[12,-8],[9,59],[15,-7],[7,-33],[17,-3],[18,-28],[7,-25],[33,-19],[17,-18],[14,15],[13,-19]],[[27221,52688],[4,-13],[-4,-113],[3,-92],[-4,-22],[10,-25],[4,-95],[1,-113],[23,-389],[13,-129],[0,-51],[28,-302],[32,-288],[29,-229],[65,-412],[38,-200],[4,-63],[10,-83],[-18,-57],[-4,-54],[-1,-87],[5,-130],[6,-96],[16,-145],[35,-269],[15,-166],[5,-84],[5,-29],[11,-140],[17,-152],[9,-66],[6,-94],[13,-109],[17,-258],[-1,-235],[-7,-175],[-5,-210],[-3,-37],[-8,-286],[0,-169],[-3,-80],[-7,-81],[0,-44],[-6,23],[3,51],[-5,20],[-16,-25],[-10,-102],[-6,-17],[-1,-64],[-8,-40],[-2,-78],[5,-33],[-2,-46],[6,-16],[-8,-53],[-8,-13],[-1,-49],[21,39],[25,194],[7,41],[0,-41],[-8,-83],[-34,-222],[-9,-82],[-25,-93],[-34,-139],[-24,-66],[-3,12],[34,122],[14,40],[7,53],[3,81],[5,32],[-6,23],[-9,-11],[-7,26],[-6,-18],[-34,-22],[-14,-41],[-9,-6],[-18,45],[-18,-13],[-7,-41],[-27,-18],[-23,-6],[-17,52],[-8,68],[2,79],[6,60],[6,-3],[-2,49],[-12,97],[-11,47],[2,34],[-8,62],[-11,32],[-5,85],[-6,18],[-11,-15],[-9,101],[-24,31],[-1,16],[-21,38],[-21,55],[-11,-13],[-8,-39],[-16,126],[-15,148],[-5,173],[-7,109],[-7,57],[-28,113],[-11,9],[-1,52],[-12,23],[0,-64],[-14,-11],[-1,66],[-8,113],[-12,51],[3,24],[13,-3],[9,-39],[11,159],[-2,86],[-8,14],[0,40],[8,10],[-4,31],[-12,-4],[-5,-33],[-11,-11],[8,-148],[-9,-20],[-20,-11],[-5,-50],[0,75],[-6,50],[-17,94],[-26,177],[-9,94],[-19,140],[-27,149],[-14,56],[-4,58],[-10,61],[10,-19],[1,-30],[15,30],[10,72],[12,28],[13,98],[13,34],[-2,23],[14,26],[11,84],[-5,75],[-22,21],[5,-113],[-22,30],[6,34],[-1,65],[-5,39],[-38,71],[1,-65],[-11,-28],[11,-37],[16,-6],[11,-110],[-10,-42],[0,-62],[-4,-27],[-21,-6],[-3,-32],[7,-38],[-9,-30],[-4,40],[2,83],[-14,85],[-9,26],[-8,58],[6,182],[-5,66],[-4,164],[9,1],[0,-93],[4,-89],[9,-7],[-4,153],[9,37],[1,41],[8,44],[0,38],[7,50],[0,39],[9,47],[1,91],[5,83],[-6,66],[2,56],[-13,29],[4,42],[-9,109],[12,64],[-21,110],[3,31],[-8,55],[-10,3],[5,33],[-1,49],[-7,13],[-47,23],[-9,-51],[-7,-4],[-9,100],[3,45],[-14,32],[-12,9],[-2,63],[-7,58],[-11,45],[-15,6],[-5,44],[-24,48],[0,111],[-4,67],[-12,7],[-10,38],[-13,17],[-13,61],[0,42],[-9,35],[-5,51],[-14,44],[-28,62],[-40,72],[-26,75],[-11,-2],[-26,-33],[-31,29],[-1,-35],[-26,-69],[9,-99],[-3,-28],[-10,-7],[-15,15],[-5,26],[-24,-22],[-31,-73],[-65,-132],[-6,2],[7,44],[-10,12],[-7,-39],[-15,-41],[-36,1],[13,-49],[2,-38],[16,-22],[30,53],[29,40],[27,84],[3,-13],[-24,-82],[-28,-43],[-35,-66],[-12,-14],[-10,33],[-16,22],[-23,51],[-19,7],[-17,-28],[-13,94],[-5,119],[8,42],[0,-105],[6,-91],[7,-22],[10,39],[1,97],[-17,105],[-18,60],[-17,13],[-15,40],[-16,71],[-27,47],[-22,69],[-41,95],[-47,76],[-58,70],[-31,20],[-62,18],[-33,-5],[-47,-25],[-65,-49],[-32,-15],[-7,10],[-63,-51]],[[26061,57664],[39,-2],[136,6],[183,1]],[[26419,57669],[196,-2],[-1,6],[143,10]],[[26757,57683],[-3,-72],[-31,-68],[-26,-105],[1,-36],[-8,-26],[3,-64],[30,-82],[17,-7],[23,-104],[23,-51],[28,16],[8,-12],[8,-64],[3,-64],[12,-30],[3,-50],[11,-52],[0,-51],[7,-68],[12,-24],[8,-67],[14,-48],[11,-101],[9,-1],[19,-72],[29,-52],[29,-98],[4,-61],[9,-41],[1,-40],[13,-38],[12,-2],[17,-37],[18,-93],[15,-26],[4,-24],[-7,-43],[4,-39],[-4,-32],[28,-82],[-4,-30],[13,-42],[11,5],[-2,-41],[8,-45],[27,-55],[9,1],[16,-58],[19,-43],[-5,-67],[12,-64],[2,-49],[9,-15],[0,-85],[4,-32],[-5,-45],[6,-8],[4,-48],[-5,-41],[12,-48],[25,-26],[0,-23],[23,-81],[-4,-34],[15,-105],[4,4],[6,-76],[-10,-44],[11,-67],[-4,-26],[5,-62],[21,-34],[11,17],[22,-71],[9,-4]],[[27376,54230],[12,-12],[-5,-64],[-14,-29],[-10,15],[-6,-48],[10,-8],[-16,-60],[-21,23],[-3,-56],[11,-11],[-9,-59],[-17,-54],[-17,13],[-3,-16],[12,-33],[8,5],[-1,-84],[-7,-62],[-28,-26],[0,-22],[17,10],[6,-24],[-23,-131],[-6,-91],[7,-13],[-5,-30],[-5,-97],[-13,-22],[-8,-59],[-9,-3],[0,-71],[-7,-69],[-7,2],[-12,-44],[13,-24],[11,24],[1,-81],[-16,-161],[5,-70]],[[25527,65491],[15,-41],[12,20],[7,-15],[-6,-40],[27,-23],[29,1],[28,25],[52,75],[31,59]],[[25722,65552],[90,-1],[198,-1],[187,1],[87,1],[0,-75]],[[26284,65477],[1,-242],[0,-1380],[-3,-437],[0,-441],[-2,-278],[0,-238]],[[26280,62461],[-19,-45],[-2,-20],[16,-71],[2,-31],[-11,-38],[3,-37],[17,-7],[4,-25],[-13,-46],[6,-44],[-22,3],[-16,-23],[-9,5],[-35,-63],[-14,-39],[-19,10],[-10,43],[-26,-7],[-16,7],[-12,-33],[4,-125],[6,-71],[-16,-40],[-7,-44],[-30,-34],[-19,-161],[-19,-39],[-14,24],[-10,-13],[-6,-63],[-16,-72],[1,-87],[-5,-70],[-8,-24],[-23,-18],[-4,-36],[-13,58],[-22,1],[-26,55],[-1,94],[-21,67],[-8,-2],[1,-34],[13,-12],[-1,-25],[-13,-2],[-8,-29],[-8,23],[-9,-29],[9,-17],[-6,-42],[-18,-9],[-2,-94],[5,-38],[-23,-9],[-2,-63],[-11,-29],[-7,24],[5,51],[-10,10],[-10,-25],[-10,22],[-12,89],[-17,-2],[-14,-52],[-29,-27],[-10,-30],[-5,-97],[-7,-27],[-11,-3],[-8,62],[-18,13],[-22,57],[-22,44],[-20,6],[-14,-37],[-14,19],[-6,49],[-8,6],[-7,-66],[11,-64],[-13,-40],[-11,3],[3,56],[-5,30],[-42,-31],[-11,52],[-9,4],[-10,-40],[10,-91],[-12,-47],[-23,32]],[[25386,60941],[-11,2],[-4,34],[12,-9],[-16,92],[24,-8],[-15,29],[15,67],[1,60],[-8,26],[19,19],[2,38],[-12,-19],[22,73],[-14,60],[-4,59],[9,-10],[9,68],[5,-35],[7,41],[8,-33],[13,102],[8,9],[13,84],[-2,38],[24,42],[0,66],[9,83],[7,32],[14,12],[14,76],[-1,42],[-15,94],[11,111],[-18,40],[1,79],[-16,55],[-3,73],[19,60],[-9,50],[2,60],[6,32],[13,9],[0,347],[-1,0],[0,397],[1,12],[0,294],[1,247],[0,1196],[1,254]],[[21479,63506],[257,-1],[104,0],[263,-1],[273,1],[163,0],[279,-1],[263,-1],[144,0],[133,0]],[[23358,63503],[16,-60],[13,-11],[1,-43],[13,6],[5,-36],[26,-14],[8,41],[24,-13],[-4,-28],[7,-33],[11,-11],[-4,-42],[-9,-1],[3,-36],[12,16],[-1,-49],[-10,-6],[-13,24],[-5,-75],[-15,-19],[-7,-41],[2,-41],[-17,-24],[1,-48],[15,-41],[1,-29],[16,-31],[12,-61],[14,0],[5,-21],[-9,-25],[6,-79],[18,-52],[-3,-28],[15,-13],[5,-31],[14,-11],[9,16],[5,-31],[20,-3],[-5,-41],[0,-444],[-1,-120],[0,-696],[-1,-52],[0,-779],[-1,-97],[0,-281]],[[23550,60009],[-249,1],[-196,-1],[-169,0],[-218,0],[-208,-1],[-258,2],[-103,0],[-154,3],[-149,-4],[-209,-4],[-155,-3]],[[30863,68384],[14,7],[-7,-35],[-7,28]],[[30827,68345],[7,83],[6,-34],[19,-55],[-15,-45],[-5,34],[-12,17]],[[30819,68560],[3,42],[11,-71],[-14,29]],[[30732,68434],[14,2],[3,-41],[-17,39]],[[30712,67988],[8,37],[1,-75],[-9,38]],[[30703,68290],[8,41],[25,45],[11,-50],[-9,-8],[14,-78],[-11,-39],[-18,-13],[-12,24],[5,25],[-3,50],[-10,3]],[[30697,68452],[13,68],[2,64],[9,25],[6,-26],[-9,-35],[1,-36],[-8,-70],[-10,-29],[-4,39]],[[30213,67064],[-35,81],[0,69],[6,42],[-41,128],[-9,53],[8,101],[-4,10],[6,88],[-6,23],[-5,313],[0,89],[-11,861],[-15,757]],[[30107,69679],[21,15],[0,33],[25,-41],[-1,-38],[7,-43],[11,-15],[13,85],[2,86],[-6,28],[12,36],[8,-3],[12,-44],[21,-9],[1,39],[-24,83],[-1,32],[22,107],[14,27],[11,43],[8,-1],[15,41],[24,38],[-9,71],[21,66],[23,45],[5,56],[-7,28],[-14,0],[0,66],[10,38],[-8,14],[15,51],[5,46],[-15,44],[16,115],[8,18],[-1,37],[17,32],[14,59],[11,8],[17,324],[215,890],[13,-3],[27,-38],[11,4],[-3,-58],[1,-141],[4,-18],[37,-73],[25,43],[26,30],[28,2],[11,52],[30,11],[25,-12],[0,62],[16,23],[25,-6],[23,-36],[4,-32],[33,-68],[36,-132],[0,-15],[28,-51],[0,-545],[3,-693],[-1,-71],[9,-30],[-15,-39],[14,-70],[-15,-34],[1,-136],[23,-18],[3,20],[10,-57],[19,-28],[30,-23],[14,19],[8,-62],[1,-56],[-13,8],[-11,-22],[7,-68],[16,-63],[-9,-73],[-10,-41],[23,-116],[0,-23],[18,-40],[13,28],[1,46],[18,-30],[19,-3],[13,-56],[6,-51],[-8,-14],[10,-32],[12,-98],[15,-38],[1,-118],[-12,-50],[-10,2],[-4,-32],[-32,-113],[-24,-25],[4,-22],[-15,-8],[6,42],[-4,85],[-27,-30],[12,-58],[-12,-43],[-11,13],[-13,-58],[-13,18],[-10,-12],[2,-35],[16,-40],[-22,-57],[-13,46],[-6,57],[-13,-10],[-3,-38],[-8,3],[-7,59],[-7,-62],[-9,-14],[-8,-74],[-7,19],[-6,-48],[-4,42],[-20,-51],[-5,27],[-12,-92],[-16,39],[0,36],[-10,-21],[-11,9],[2,-66],[-16,-71],[11,-33],[-35,-16],[-23,32],[-16,107],[6,29],[22,27],[-9,45],[-13,-35],[2,44],[-10,-3],[1,-68],[-5,0],[0,64],[-24,-56],[5,-35],[-6,-43],[14,-67],[-3,-45],[-23,-77],[9,-11],[-12,-31],[11,-56],[-5,-69],[-16,-10],[-3,85],[6,4],[-3,55],[-17,45],[-4,64],[15,51],[-19,40],[6,26],[-10,10],[-18,-21],[1,113],[11,44],[1,50],[-7,14],[-7,-46],[-14,-40],[-11,33],[-7,-32],[-15,-4],[14,-81],[-3,-48],[-12,-23],[-10,-71],[-4,-72],[-13,-78],[19,-30],[-13,-28],[10,-57],[-10,-38],[-27,4],[-13,-72],[-15,-1],[-2,-58],[-11,-9],[0,52],[7,37],[-9,15],[-3,-30],[-12,-13],[5,65],[-18,-9],[1,-52],[-16,-37],[-5,-50],[-12,51],[-2,-47],[-15,-32],[-12,26],[-3,-66],[-13,51],[-13,-92],[-23,-27],[-5,-19],[-5,83],[-16,5],[-15,-42],[-5,-39],[-20,4],[-7,-49],[-20,4],[-10,-49],[-3,-50],[5,-29],[-8,-32],[-13,29],[-22,-31],[-9,-46],[6,-67],[-8,-43],[-10,-15],[3,-33],[-14,-24],[-14,4],[-10,-25],[-11,-98],[5,-19],[-14,-80],[1,-22],[-14,-74],[-9,-13]],[[30332,65028],[13,-24],[29,5],[18,17],[12,70],[16,-105],[-1,-30],[-10,-16],[-33,4],[-41,60],[-3,19]],[[30177,65078],[18,0],[19,90],[27,60],[11,-15],[7,-70],[15,-27],[10,40],[-1,-84],[-41,1],[-31,-9],[-18,-47],[-16,61]],[[29500,66699],[224,-22]],[[29724,66677],[199,-23],[126,-12],[10,46],[21,1],[-1,62],[15,36],[19,-18],[9,62],[36,32],[15,-30],[8,13]],[[30181,66846],[2,-72],[9,-136],[25,-47],[12,42],[14,-34],[-16,-90],[-23,-7],[-38,-35],[12,-50],[-18,-50],[-7,9],[-5,-59],[-4,41],[-11,-53],[11,-74],[-13,10],[-5,-28],[8,-26],[-5,-27],[14,-14],[6,36],[14,8],[9,-47],[24,-28],[12,-42],[2,-46],[21,-93],[-1,-50],[-7,-39],[-12,-5],[3,-24],[21,-51],[12,8],[8,-24],[8,-83],[-5,-50],[13,-48],[23,-35],[34,-12],[9,-23],[19,44],[19,8],[27,33],[6,25],[-1,79],[-6,61],[-13,-31],[0,97],[-5,55],[-15,34],[-9,-7],[-5,-39],[-11,59],[13,11],[21,-18],[23,-58],[18,-123],[9,-119],[2,-137],[-15,-129],[-2,-44],[-7,9],[12,112],[-7,23],[-26,-5],[-43,-40],[-30,8],[-7,-28],[-17,-7],[-15,-62],[-33,-10],[-34,-66],[-16,-47],[-21,-28],[-23,-15],[6,26],[35,34],[16,47],[24,49],[5,40],[-2,117],[6,41],[-26,26],[0,-59],[-7,14],[-4,-50],[-14,3],[2,-32],[-31,-11],[-7,-49],[2,-44],[-6,-29],[-25,-23],[-12,17],[-10,-14]],[[30097,65246],[-3,189],[-18,18]],[[30076,65453],[-8,41]],[[30068,65494],[-10,48],[-19,33],[-5,56],[2,81],[-12,-6],[0,147],[-116,-13]],[[29908,65840],[-1,18],[-202,13],[-22,-4],[-42,6],[-3,-39],[-14,-6],[1,45],[-54,3],[-118,14],[-15,-1]],[[29438,65889],[-6,42],[34,395],[34,373]],[[22823,73980],[83,-1],[266,0],[229,-1],[0,449],[27,-37],[28,20],[29,-53],[8,-35],[14,-202],[7,-25],[18,-251],[-6,-69],[4,-54],[14,-43],[29,-45],[24,-12],[8,19],[44,-11],[11,-58],[61,-7],[48,-21],[8,-66],[-3,-49],[6,-12],[42,2],[5,15],[22,-2],[23,20],[-1,48],[33,46],[39,18],[9,-22],[53,0],[72,-98],[26,4],[1,-49],[-19,-7],[-4,-37],[16,-31],[41,13],[15,-54],[-6,-34],[6,-49],[24,-127],[25,27],[-8,84],[13,45],[15,-11],[42,16],[16,-44],[-2,-65],[17,-41],[14,9],[9,-36],[41,-9],[5,-67],[-4,-31],[20,-21],[23,13],[-3,-75],[22,28],[14,-22],[19,24],[34,17],[46,113],[17,13],[13,32],[25,30],[14,-13],[0,-67],[17,-17],[-6,-26],[10,-48],[16,-3],[35,29],[6,-29],[25,15],[26,-18],[19,13],[48,8],[29,-28],[9,-66],[34,-53],[15,35],[20,9],[13,-20],[23,6],[11,-18],[25,22],[-27,-56],[-10,20],[-4,-34],[-17,-15],[-26,-58],[-37,-34],[-14,-37],[-52,-44],[-48,-54],[-15,-6],[-42,-45],[-4,-14],[-51,-77],[-37,-79],[-72,-183],[-17,-69],[-55,-178],[-26,-72],[-26,-41],[-26,-88],[-11,-11],[-28,-83],[-10,-10],[-61,-134],[-9,-25],[8,-50],[14,-46]],[[24276,71309],[-21,50],[-14,-11],[-3,-29],[-16,-14],[9,-19],[-11,-43],[-22,16],[0,-685],[-10,-10],[-6,-59],[-24,7],[-10,-56],[-14,13],[-8,-38],[-25,-23],[-20,-47],[-20,-148],[-22,-49],[-7,-114],[1,-53],[21,-21],[10,9],[14,-32],[-1,-31],[23,-85],[-1,-50],[-15,-47],[1,-29],[-17,-49],[2,-91],[-4,-32],[6,-91],[-16,-58],[11,-34],[-2,-65],[6,-41],[-7,-42],[3,-75],[-12,-80],[5,-36],[16,-27],[31,-87],[-1,-24],[14,-16],[9,-44],[50,-9],[12,-17],[10,-78],[14,-38],[50,-51],[22,-39],[14,-40],[0,-53],[8,-15],[5,-84],[17,-45],[27,-41],[3,-29],[36,-90],[39,-29],[15,-55],[30,-136],[9,-75],[-8,-113],[2,-71],[10,-37],[-4,-44],[8,-53]],[[24498,67577],[-204,0],[-224,0],[-116,-1],[-223,0],[-180,1],[-313,0],[-199,0]],[[23039,67577],[0,1215],[1,101],[-1,302],[0,479],[-10,65],[-36,59],[-18,4],[-14,55],[-9,73],[-26,98],[5,46],[25,62],[22,39],[12,63],[14,46],[4,128]],[[23008,70412],[-4,106],[6,37],[-11,188],[-1,129],[-13,27],[-20,98],[-5,49],[-4,119],[-11,57],[-2,39],[5,68],[-6,112],[5,17],[6,117],[-6,-11],[-11,51],[1,171],[-5,92],[-2,114],[3,50],[-7,103],[1,217],[-5,3],[-7,89],[-11,92],[-8,17],[-11,101],[-3,58],[-11,34],[-5,121],[-16,101],[-3,110],[7,53],[-8,93],[3,52],[-1,107],[-7,59],[7,76],[9,24],[3,62],[-15,80],[-8,124],[-6,24],[-11,98],[3,40]],[[28860,63072],[14,65]],[[28874,63137],[9,32],[5,61],[12,42]],[[28900,63272],[17,44],[38,25],[25,45],[0,69],[16,25],[7,33],[34,72],[18,15],[12,51],[10,-8],[17,39],[-14,71],[-20,41],[-7,52],[-21,54],[-7,68],[-25,19],[-4,45],[2,95],[-10,37],[-17,-5],[-9,14],[-2,83],[7,30],[-8,22],[9,100],[11,-5],[23,113],[-24,120],[13,48],[18,29],[16,56],[-4,24],[17,35],[11,49],[14,124],[22,69],[16,13]],[[29101,65083],[88,-173],[132,-246],[3,-19],[-20,-187],[-12,-65],[-4,-65],[-6,-22]],[[29282,64306],[-7,-34]],[[29275,64272],[-37,-35],[-4,-84],[-9,-16],[-3,-50]],[[29222,64087],[0,-43],[19,-28],[16,18],[24,-44],[14,-9],[4,44],[4,-90],[-3,-107],[-14,-182],[-13,-247],[-5,-173],[-40,-241],[-11,-48],[-9,-9],[3,-32],[-10,-55],[-20,-63],[-1,-19],[-31,-55],[-32,-108],[-21,-118],[-22,-149],[-20,-60],[-19,-14],[-11,14],[6,88],[15,97],[3,69],[-21,37],[-18,4],[-6,25],[-18,-3],[-7,-36],[-9,24],[-2,47],[-18,37],[-3,30],[-10,-12],[-15,68],[-7,-8],[-18,58],[-10,56],[-19,25],[6,140],[-12,29]],[[28861,63044],[-1,28]],[[28814,58772],[18,-19],[12,-74],[1,-47],[-15,9],[2,45],[-18,86]],[[28734,57762],[8,60],[8,0],[47,86],[15,12],[14,33],[12,2],[16,35],[13,10],[5,74],[11,252],[0,54],[-8,95],[-6,105],[3,-2],[11,-106],[5,-95],[-3,-136],[-15,-286],[-24,-8],[-50,-64],[-43,-78],[-19,-43]],[[27156,59531],[84,-16],[55,-3],[95,-15],[37,4],[114,-21],[48,-2],[170,-2],[279,0],[74,4],[264,0],[106,-1],[0,10],[31,-2],[120,0],[142,0]],[[28775,59487],[2,-58],[17,-245],[16,-158],[23,-156],[35,-271],[-9,14],[-18,146],[-14,80],[-13,11],[-9,174],[-16,155],[-8,23],[3,39],[-5,89],[-10,30],[-4,48],[-25,13],[-1,40],[-13,-20],[6,-61],[16,-48],[11,10],[0,-67],[15,-135],[9,-61],[-1,-26],[11,-75],[0,-47],[-19,64],[1,37],[-13,61],[-3,38],[-12,12],[6,-38],[-3,-28],[14,-39],[-31,25],[-32,118],[-15,12],[19,-97],[10,-17],[6,-52],[-9,-23],[-24,-14],[-21,71],[7,-63],[10,-27],[-7,-14],[-31,45],[-13,5],[-5,29],[-18,24],[23,-73],[21,-23],[-7,-19],[-24,-8],[-13,-62],[-16,-22],[-17,1],[-8,31],[-20,12],[-12,121],[0,61],[12,78],[-5,13],[-14,-76],[-2,-76],[8,-94],[11,-77],[-5,-42],[8,-34],[40,10],[37,47],[9,-49],[13,6],[13,30],[26,24],[32,-1],[14,-41],[0,-43],[-14,-78],[3,-55],[2,-164],[9,5],[7,115],[3,150],[14,40],[-6,33],[14,20],[25,-21],[16,-94],[7,-65],[-4,-52],[7,-98],[-8,-25],[4,-54],[-13,-54],[-17,-10],[-6,18],[-10,-16],[-6,-40],[-10,-9],[-3,-43],[-7,-11],[-7,-71],[-13,-15],[-3,-46],[-17,-25],[-3,-24],[-26,25],[-29,-4],[-26,18],[-5,25],[-10,-14],[-15,45],[-13,115],[31,3],[5,45],[-28,-25],[-12,11],[-9,-33],[9,-57],[6,-86],[-7,0],[-29,47],[-14,-10],[-20,34],[-31,30],[-23,48],[-1,-29],[17,-61],[21,-5],[63,-102],[46,-28],[8,-31],[1,-40],[-7,-56],[-13,-54],[1,-28],[-9,-53],[-15,-42],[-50,-112],[-50,112],[1,-65],[24,-55],[36,-43],[36,80],[13,2],[27,30],[4,62],[11,-14],[3,-66],[8,-31],[18,-5],[-9,75],[20,-29],[2,-85],[-17,-75],[-18,-13],[0,-34],[-11,-20],[-14,-84],[-7,-71],[-17,20],[1,80],[-10,19],[1,-82],[-16,-7],[42,-64],[23,123],[33,120],[24,75],[47,176],[8,-21],[-28,-83],[-26,-96],[-22,-62],[-21,-78],[-18,-82],[-21,-115],[-3,-32],[-4,67],[-35,55],[-39,1],[-60,-38],[-29,-33],[-20,-32],[-32,-81],[-39,-75],[-26,-63],[-37,-113],[-14,-55],[-25,-128],[-14,-111],[-10,-112],[-9,-69],[-4,-69],[-13,7],[-3,34],[-21,21],[-23,9],[-28,-2],[-30,-12],[-35,-42],[-8,-17]],[[28030,56345],[-93,330],[-104,362],[-31,116],[-88,302],[-61,1],[-74,7],[-178,10],[4,135],[-42,199],[-30,-73],[-5,21],[7,48],[-2,53],[-55,13],[-105,16],[-188,29],[-23,-20],[-5,39],[-12,-52],[-7,9],[-20,-27],[-6,5],[-29,-47],[-28,-60],[-7,21],[-91,-99]],[[26419,57669],[9,275],[22,48],[3,-26],[28,4],[22,63],[-5,57],[9,25],[-4,44],[17,62],[13,15],[8,48],[16,8],[15,45],[80,7],[11,50],[22,32],[5,26],[10,-7],[16,48],[4,35],[16,4],[8,40],[21,29],[24,-18],[26,115],[-3,63],[10,30],[15,-36],[20,98],[33,70],[10,-40],[-5,-70],[15,-20],[28,62],[15,93],[15,35],[17,21],[12,-5],[9,33],[19,-12],[4,-50],[15,0],[14,28],[33,200],[21,53],[11,12],[8,-23],[17,0],[-10,74],[7,65],[6,12],[-4,80],[9,60]],[[20923,73979],[188,-1],[322,0],[212,0],[92,0],[193,1],[160,-1],[135,0],[141,1],[256,1],[201,0]],[[23008,70412],[-210,-1],[-186,1],[-119,1],[-252,4],[-192,2],[-179,2],[-253,1],[-123,0],[-292,1],[-173,0],[-105,0]],[[20924,70423],[0,2828],[-1,17],[0,711]],[[23550,60009],[0,-581]],[[23550,59428],[6,-130],[7,-206],[6,-127],[14,-355],[4,-82],[15,-387],[-2,-319],[-3,-261],[-1,-235],[-2,-170],[-2,-417],[-5,-642]],[[23587,56097],[-9,-25],[-19,73],[-16,-13],[-1,23],[-17,-1],[-18,79],[-15,-16],[-12,5],[-21,78],[-7,58],[-22,2],[-23,85],[-27,28],[-7,-68],[-11,-32],[-13,-7],[-34,4],[0,15],[-21,-7],[-7,61],[-10,3],[-24,-52],[-20,3],[1,-45],[-13,9],[-9,-31],[-29,61],[-1,-30],[-30,-29],[-15,13],[1,-20],[-14,8],[-8,-90],[-14,-14],[-19,19],[-7,-81],[-12,-3],[-1,22],[-17,79],[-21,-6],[-8,57],[-11,-4],[-16,30],[12,58],[-25,16],[-8,-86],[-18,-9],[-4,42],[-13,14],[-6,-33],[-9,25],[-6,95],[-5,11],[-14,-27],[-6,15],[3,-73],[-16,-57],[-13,19],[11,-42],[-13,-22],[3,-64],[-11,-31],[-11,14],[-12,94],[10,30],[-2,66],[-9,28],[-10,-19],[-2,-42],[-13,19],[-9,-7],[-11,-64],[-20,5],[-5,30],[1,63],[-12,19],[-16,-27],[-11,25],[3,41],[-19,42],[-9,-3],[-12,-58],[-29,-92],[-12,-9],[-16,34],[-9,3],[4,65],[-5,-1],[7,60],[-7,20],[-13,-14],[-19,11],[-10,91],[8,35],[-4,50],[-17,-47],[-20,22],[-15,0],[-19,28],[-11,-40],[-3,-44],[-20,-26],[-24,96],[-21,23],[-12,-37],[-21,4],[-13,26],[-13,3],[-17,24],[-19,46],[-16,-27],[-9,15],[-12,-11],[-2,20],[-18,-3],[-5,140],[-18,56],[4,22],[-16,5],[-18,57],[-4,-92],[-12,-4],[-22,47],[-17,2],[-6,-49],[-30,15],[-24,78],[-37,143],[-20,-19],[0,2257],[-123,0],[-179,0],[-150,0],[-175,1],[-210,0]],[[21214,59429],[1,119],[0,463]],[[27478,65805],[48,61],[45,74],[9,24],[10,60],[13,3],[3,-28],[36,72],[47,74]],[[27689,66145],[0,-314],[1,-2],[247,-1],[77,3],[167,-2],[243,1],[105,3],[111,-4],[169,-1],[107,2],[14,-59],[5,4],[8,-100],[15,4],[27,-34],[10,-49],[-8,-32],[14,-21],[2,-159],[-8,-12],[25,-113],[1,-34],[11,5],[15,-33],[-2,-18],[25,3],[3,-22],[16,8],[-1,-30],[13,-55]],[[28900,63272],[-23,37],[-22,6],[-24,-20],[-15,-34],[-20,-82]],[[28796,63179],[-217,-1],[-118,-1],[-151,0],[-236,3],[-305,-2]],[[27769,63178],[-167,0],[-124,0],[0,1068]],[[27478,64246],[0,1559]],[[20920,69320],[5,4],[0,872],[-1,227]],[[23039,67577],[-40,0],[5,-22],[-7,-37],[22,-64],[-1,-110],[-14,-5],[8,-52],[-3,-31],[24,-3],[2,-83],[9,-35],[-7,-66],[-14,-16],[5,-56],[-8,-28],[6,-21],[-12,-46],[0,-80],[-11,-16],[-3,-52],[-11,-26],[1,-76],[15,-27],[17,-60],[10,-87],[-4,-45],[13,-31]],[[23041,66402],[-17,-7],[-5,30],[-24,-5],[-7,53],[-21,66],[7,52],[-11,16],[-21,3],[-1,40],[-28,35],[-12,-17],[-8,48],[-43,13],[-5,28],[-18,20],[-1,38],[-25,25],[-15,-14],[-15,13],[-7,-23],[-18,14],[-16,-13],[-16,11],[-18,-17],[-25,9],[-20,21],[-8,-11],[-9,-74],[-12,-29],[-19,-9],[-31,69],[-36,62],[-58,85],[-9,59],[-112,0],[-186,-1],[-153,1],[-214,-1],[-206,-2],[-62,4],[-178,0],[-143,1],[-293,1]],[[20922,66996],[0,345],[-1,8],[0,1828],[-1,143]],[[23587,56097],[8,8],[0,-54],[11,-25],[9,6],[-2,-36],[10,-9],[5,27],[8,-18],[3,29],[21,-27],[11,46],[12,-17],[5,-30],[6,21],[16,-22]],[[23710,55996],[0,0]],[[23710,55996],[1,-11],[0,-608]],[[23711,55377],[0,-1196],[8,-12],[11,-72],[18,-31],[9,-83],[15,-55],[-2,-34],[8,-56],[-7,-42],[3,-45],[-7,-28],[6,-51],[9,-32],[13,-6],[3,-35],[-6,-27],[14,-36],[-1,-32],[8,-15],[3,-49],[-6,-53],[12,-47],[6,2],[6,-113],[19,12],[-6,-102],[8,-31],[2,-54],[-13,-21],[-1,-33],[12,-55],[-9,-22],[-3,-38],[4,-63],[-9,-33],[-9,-63],[-3,-73],[-12,-25],[-2,-68],[-14,-30],[-3,-40],[7,-24],[5,-91],[-13,-51],[-6,-74],[16,-52],[1,-53],[-5,-39],[9,-79],[-12,-70],[9,-19],[-11,-51],[-14,-39],[-7,-78],[-13,-74],[-17,-45],[-2,-25],[9,-30],[17,-94]],[[23768,51502],[0,-14],[-46,3],[-37,-40],[-128,-208],[-28,-61],[-10,-54],[-15,7],[22,71],[9,47],[13,-1],[9,19],[8,46],[9,-16],[11,8],[-15,55],[-54,-54],[-8,26],[17,90],[4,80],[0,74],[-12,5],[-5,23],[-17,-29],[-10,-41],[-4,-50],[-15,-24],[-6,46],[-18,-45],[-2,-35],[9,-32],[-10,-50],[10,-55],[20,-17],[-6,-54],[11,-20],[2,-78],[-2,-67],[-8,-31],[-9,10],[-19,-71],[-22,-65],[-3,26],[-13,-8],[-2,-88],[6,-26],[13,44],[26,65],[3,19],[32,99],[15,23],[0,45],[26,-15],[-20,-61],[-62,-153],[-24,-69],[-4,-25],[-32,-91],[-40,-143],[-15,-8],[-69,-146],[-35,-80],[-53,-89],[-61,-112],[-34,-87],[-13,-42],[-15,-74],[-53,-111],[-24,-68],[-47,-155],[-32,-143],[-11,-83],[-14,-59],[-33,-221],[-24,-197],[-11,-127],[-10,-192],[-2,-108],[1,-103],[8,-205],[14,-207],[12,-134],[16,-229],[11,-260],[-7,47],[-5,147],[-12,189],[-11,152],[-24,16],[18,27],[-9,83],[-6,87],[-9,88],[-3,106],[1,138],[-1,122],[11,276],[16,180],[19,148],[14,70],[10,87],[8,35],[-2,47],[13,86],[18,38],[9,45],[18,127],[28,58],[8,53],[16,2],[35,105],[23,49],[24,23],[-4,43],[9,29],[-9,16],[-16,-41],[-20,-35],[-11,-40],[-17,-5],[-6,40],[0,60],[-18,12],[-6,-31],[0,-84],[-5,-25],[6,-41],[-4,-36],[-20,-56],[-17,-61],[-8,-1],[-18,30],[-3,43],[-32,-61],[-17,-67],[21,-22],[24,57],[8,-74],[-7,-23],[-38,-223],[-12,-2],[-6,55],[-21,-10],[-4,18],[-32,-11],[-11,12],[-6,-38],[12,-32],[15,-1],[11,17],[-4,-64],[7,-48],[15,-34],[17,-18],[-19,-146],[-13,-185],[-12,-106],[-20,-27],[-7,-27],[-11,18],[14,21],[3,59],[-8,3],[-6,-31],[-29,-75],[4,-32],[24,-16],[25,38],[8,2],[-5,-116],[3,-4],[-4,-202],[-6,-207],[-4,-3],[10,-230],[8,-65],[1,-84],[9,-1],[23,-215],[5,-29],[-9,-47],[4,-34],[-1,-62],[8,-72],[20,-11],[1,-35],[12,18],[2,-127],[-23,7],[-13,-8],[0,-19],[-21,-12],[-6,-99],[-20,11],[-7,40],[-15,3],[-6,55],[-11,4],[-18,98],[-31,12],[-11,33],[-17,-9],[-7,16],[-23,-17],[-4,18],[-13,-1],[-3,-29],[-10,31],[-20,-14],[-8,22],[-6,-22],[-14,20],[-8,30],[3,25],[-16,1],[-3,44],[-15,-1],[-21,75],[-9,-11],[-25,48],[-19,-22],[-13,35],[-15,69],[-10,8],[-2,33],[-8,12],[-18,-15],[-21,47],[-12,-3],[-8,20],[-12,-19],[-9,44],[6,50],[-10,56],[-11,13],[-3,98],[-6,42],[-3,79],[-8,25],[-1,49],[-7,64],[-17,43],[2,31],[-13,26],[-7,37],[5,20],[-11,46],[-9,7],[-1,52],[6,31],[-3,66],[4,29],[-4,86],[-16,25],[1,37],[-12,11],[9,30],[5,86],[-3,31],[4,60],[-13,10],[5,76],[-12,58],[-7,-14],[-7,46],[-9,-18],[-9,39],[-10,-6],[-18,90],[-9,11],[-3,38],[-8,-9],[-10,38],[0,50],[-7,26],[3,41],[-13,48],[2,47],[-17,16],[-7,81],[-10,23],[-8,70],[-35,53],[-4,53],[-7,-2],[-13,59],[2,38],[-17,100],[3,47],[-9,39],[9,29],[-12,11],[-9,47],[4,39],[-14,28],[1,33],[-15,28],[-4,51],[2,41],[-8,26],[-4,73],[-6,1],[-9,88],[-8,1],[-6,47],[1,76],[-7,106],[-18,46],[-10,40],[3,14],[-9,71],[-23,41],[-2,30],[-17,46],[-18,25],[-13,84],[0,21],[-26,21],[-6,44],[-23,7],[3,57],[-2,65],[-5,5],[-6,-67],[-6,27],[2,53],[-17,27],[-13,108],[-8,-4],[-9,32],[-13,-25],[-7,44],[-8,-27],[-37,-13],[-19,31],[-6,-8],[-15,22],[-22,-14],[-12,24],[-17,-7],[-4,-22],[-26,21],[-11,50],[-13,-3],[-20,40],[-14,-18],[-10,-111],[-34,19],[-9,-37],[-7,11],[-22,-32],[-7,10],[-8,-54],[2,-23],[-13,-40],[0,-50],[-7,0],[-2,-59],[-11,-30],[1,-33],[-7,-58],[2,-52],[-5,-48],[-10,-5],[-3,-72],[-5,-37],[10,-22],[-5,-38],[-18,-38],[-10,8],[-7,-67],[-17,-43],[-7,-36],[-4,-84],[-14,-8],[-17,15],[-15,-11],[-14,46],[-27,24],[-27,111],[-24,33],[-10,-8],[-22,38],[-18,77],[-13,24],[-39,21],[-17,28],[-19,61],[-11,12],[-19,81],[0,24],[-14,47],[-21,7],[-12,27],[-5,34],[-30,78],[-9,43],[-7,110],[-12,56],[-7,60],[-13,63],[0,59],[-7,57],[6,72],[-3,54],[2,55],[-7,68],[-11,30],[-3,44],[-13,39],[-1,30],[-13,34],[2,33],[-13,177],[-7,40],[-12,4],[-11,91],[-15,0],[-14,66],[-12,10],[-3,24],[-15,34],[-12,-4],[-7,28],[-31,39],[0,39],[-44,118],[-13,107],[-12,37],[-18,26],[-9,33],[-9,2],[-2,36],[-24,106],[-20,35],[-4,54],[-14,32],[-21,7],[-35,78],[-11,88],[-10,24],[-6,68],[-13,89],[-9,41],[-19,38],[-11,-19],[-11,41]],[[20232,53938],[-5,28],[-16,20],[1,23],[-10,25],[-3,38],[7,18],[1,101],[331,0],[250,-1],[226,0],[183,1],[0,1212],[2,254],[0,149],[2,417],[2,232],[0,1518],[1,434],[0,809],[-1,213],[11,0]],[[20922,66996],[0,-2328]],[[19530,64667],[-136,-2],[-143,-1],[-52,-3],[-133,1],[-93,2],[0,442],[1,219],[-1,508]],[[18973,65833],[0,676],[1,163],[0,1090],[-1,26],[0,516],[-1,267],[1,140]],[[18973,68711],[-2,175],[-1,282],[1,156],[75,2],[22,-12],[85,2],[11,8],[45,-5],[25,8],[87,-2],[194,5],[11,-7],[221,0],[316,0],[14,-4],[144,-2],[178,-1],[23,7],[132,0],[251,-2],[115,-1]],[[29908,65840],[0,-107],[3,-222],[0,-150],[-3,-209],[-12,-8],[3,-76],[-8,-29]],[[29891,65039],[-7,19],[-17,2],[-21,-24],[-18,3],[-13,-24],[-16,28],[-6,-37],[-49,-35],[-3,20],[-15,0],[-27,-33],[-6,21],[-26,1],[-7,-26],[-18,23],[-40,-27],[-3,60],[-9,-17],[-19,-82],[-12,0],[-22,-73],[-13,23],[-24,-58],[-7,13],[-23,-28],[5,-22],[-10,-32],[-29,-11],[-22,-54],[-9,15],[-15,-35]],[[29390,64649],[1,33],[-20,102],[68,130],[-19,97],[4,161],[5,295],[9,422]],[[23231,64184],[167,-9],[159,-8],[156,3],[130,8],[62,0],[197,12],[152,13],[101,14],[12,-38],[1,-33],[18,-14],[-1,-36],[16,-57],[10,-2],[1,-56],[11,-31],[19,-7]],[[24442,63943],[-8,-18],[-17,-144],[-2,-71],[6,-165],[14,-99],[7,-28],[-8,-66],[5,-38],[15,-34],[4,-28],[-3,-61],[26,-77],[15,-57],[11,-14],[10,-69],[13,-8],[11,-76],[16,-54],[59,-137],[20,-90],[3,-90],[8,-78],[-9,-36],[11,-85],[3,-65],[22,-69],[11,7],[11,32],[9,66],[19,4],[27,-45],[16,-5],[38,-82],[-2,-60],[-12,-29],[-13,-59],[10,-92],[-2,-37],[-22,-96],[-6,-99],[-17,-68],[-7,-52],[-1,-78],[5,-70],[18,-50],[20,-89],[25,-37],[11,-54],[8,0],[17,-60],[16,7],[3,-27],[-12,-24],[6,-50],[20,-5],[10,31],[13,-28],[1,-29],[15,-12],[23,-70],[-2,-40],[14,-3],[9,-42],[19,-24],[0,-57],[11,-68],[-13,-8],[2,-50],[26,-161],[-4,-62],[-15,-12],[-8,-56],[17,-53],[-1,-47],[13,-87],[11,-46],[-1,-53],[24,-56],[10,27],[-15,45],[14,12],[17,-56],[8,-53],[11,14]],[[25079,59990],[9,-21],[-5,-90],[-6,-46],[-10,-9],[-1,-38],[17,-37],[-3,-28],[-16,3],[-4,-44],[11,-58],[-8,-29],[-7,-71],[-13,-18],[-18,78],[-13,-13],[-13,-142]],[[24999,59427],[-8,-40],[-13,7],[2,31]],[[24980,59425],[6,38],[-5,49],[-21,2],[-4,-30],[9,-58]],[[24965,59426],[6,-22],[-7,-64],[10,-59],[-5,-37],[-24,-1],[0,-37],[21,-39],[1,-27],[-15,-15],[-30,16],[-3,-21],[28,-74],[1,-61],[-22,-40],[-3,-75],[-12,-23]],[[24911,58847],[-179,-6],[16,110],[23,58],[0,23],[15,53],[16,28],[3,43],[9,7],[5,133],[-22,44],[3,15],[-5,71],[-349,-1],[-323,1],[-141,0],[-222,1],[-210,1]],[[23358,63503],[-31,56],[8,79],[-24,76],[-2,77],[-20,19],[1,32],[-18,26],[-12,110],[1,39],[-11,34],[-1,40],[13,42],[-11,18],[-1,-33],[-20,3],[1,63]],[[26900,61666],[18,-20],[35,40],[23,11],[5,49],[3,98],[12,28],[16,-7],[6,30],[-3,101],[-10,105],[21,52],[0,67],[14,88],[12,27],[6,37],[13,-40],[11,-1],[12,-79],[-8,-40],[11,-20],[9,22],[3,42],[9,20],[9,-25],[4,111],[-10,29],[-3,43],[19,19],[-3,96],[8,41],[10,12],[3,55],[31,-7],[3,83],[25,76],[17,-19],[6,-52],[11,3],[21,47],[17,8],[11,54],[11,8],[8,48],[16,57],[30,89],[16,9],[4,83],[10,26],[-11,50],[12,48],[0,57],[10,23],[-4,60],[13,-11],[-2,52],[7,20],[0,122],[9,30],[0,58],[10,48],[5,61],[10,23],[5,65],[-3,95],[4,71],[-9,84],[-11,44],[9,50],[14,-1],[18,27]],[[27769,63178],[-3,-600],[10,7],[33,103],[12,-1],[10,67],[31,60],[13,75],[11,-2],[28,-36],[11,54],[38,158],[13,-10],[-13,-14],[13,-18],[2,-26],[20,-34],[17,1],[7,-18],[28,-4],[14,38],[-7,49],[13,-1],[-11,32],[14,-11],[9,37],[19,-23],[28,87],[24,-20],[17,-49],[8,-40],[18,20],[17,-23],[14,4],[0,-37],[-16,-15],[12,-69],[19,-41],[-2,-33],[9,-12],[5,-43],[-6,-63],[10,-14]],[[28258,62713],[-9,-45],[-21,-175],[-78,209],[-66,179],[-4,-62],[5,-28],[-6,-36],[7,-11],[-23,-106],[6,-15],[-11,-54],[10,-36],[-16,-62],[-7,-7],[-24,-88],[6,-16],[-14,-63],[-7,21],[-15,-66],[-10,-24],[0,36],[-23,-71],[-20,-130],[-35,101],[-9,-69],[-17,-82],[-1,-71],[-8,1],[-10,-57],[-15,-138],[-28,-94],[-46,53],[-17,109],[-31,47],[-14,-121],[3,-65],[-12,-60],[-22,-87],[6,-44],[-12,-21],[-25,-81],[-7,-56],[6,-29],[-8,-30],[-6,-60],[-10,-51],[-18,-51],[-30,-104],[-21,-112],[2,-36],[-12,-39],[4,-41],[17,-34],[-12,-40],[-18,-34],[-1,-32],[13,-4],[-4,-29],[-49,-99],[-10,68],[-12,-9],[-19,-47],[-41,-71],[-4,26],[-21,38],[-7,-51],[9,-43],[-19,-47],[-17,-5],[-37,-27],[-31,-51],[-27,75],[-11,45],[-8,-21],[-8,-55],[-23,-17],[-2,-30],[-13,-29],[-34,-7],[-19,48],[0,24],[-12,25],[-18,3],[-7,52],[-14,31],[-2,90],[-15,22],[-1,33],[18,34],[-11,29]],[[27075,60636],[-14,-4],[-28,30],[-3,37],[-8,1],[-7,40],[-9,-2],[-7,42],[-15,11],[-13,134],[-10,19],[-13,61],[1,34],[-15,19],[-8,39],[11,55],[-15,22],[-9,80],[-10,45],[-15,37],[0,38],[8,0],[3,55],[-4,20],[11,33],[1,58],[-8,36],[1,90]],[[24442,63943],[12,16],[-2,50],[4,90],[-11,35],[13,69],[31,43],[18,-1],[18,41],[1,61],[6,49],[1,67],[10,27],[14,66],[11,19],[6,106],[-1,98],[-13,75],[-13,6],[-20,85],[11,77],[2,74],[6,55],[19,21],[13,-15],[23,40],[31,-6],[24,17],[16,56],[10,13],[26,-1],[18,57],[16,21],[-1,66],[9,59],[0,52],[9,29],[28,49],[-1,41],[8,72],[-3,58],[7,61],[-7,37],[1,89],[-13,41],[-47,73],[-15,74],[3,60],[-16,63],[-22,37],[-2,26],[-22,35],[0,47]],[[24658,66423],[45,-2],[227,-2],[51,-5],[194,-11],[41,4],[152,1],[82,-5]],[[25450,66403],[-2,-124],[-8,-97],[10,-109],[21,-117],[12,-37],[3,-54],[13,-139],[4,-75],[14,-93],[8,-20],[2,-47]],[[25386,60941],[-8,-66],[-17,-35],[-11,-56],[7,-105],[20,-68],[-6,-50],[-48,-19],[-12,-11],[-18,-52],[-14,26],[-18,-44],[-2,-55],[-9,-65],[2,-25],[17,-65],[7,-66],[-10,-89],[-15,-10],[-13,13],[-19,52],[-35,40],[-14,39],[-31,42],[-19,5],[-13,-21],[-13,-42],[-9,-65],[-16,-52],[-4,-55],[14,-52]],[[20232,53938],[-214,0],[-254,0],[0,-524],[-234,-1]],[[24911,58847],[4,-38],[18,-49],[0,-45],[-24,23],[-9,-49],[20,-36],[-11,-33],[-11,-1],[-9,-52],[-17,-22],[-9,21],[-15,-41],[6,-68],[9,-17],[12,23],[3,-38],[-26,-42],[1,-53],[9,-10],[-3,-40],[-22,56],[-9,-9],[-5,-58],[9,-42],[-11,-75],[-8,88],[-23,-67],[-3,-46],[12,-6],[2,43],[15,-35],[-9,-47],[0,-45],[-16,-10],[4,-47],[15,-7],[6,-29],[-12,-43],[15,-58],[-10,-25],[-12,21],[-9,-26],[-9,-100],[-25,13],[-3,-49]],[[24751,57677],[17,-55],[0,-45],[-18,-44],[-31,-44],[-4,59],[-11,2],[-2,-29],[8,-44],[-5,-25],[6,-72],[-14,-19],[-5,34],[2,57],[-10,-27],[2,-35],[-7,-14],[6,-40],[20,-2],[2,-31],[-14,-50],[-11,18],[1,49],[-10,-21],[0,-64],[12,-61],[1,-27],[-13,-51],[6,-83],[-25,-57],[0,-63],[-10,1],[3,54],[-19,-1],[-5,-27],[8,-45],[-7,-30],[-19,-15],[-4,-71],[-16,43],[-9,-29],[14,-43],[20,1],[2,-25],[-13,-28],[-16,33],[-12,-32],[9,-51],[11,3],[3,-24],[-8,-61],[-24,-6],[7,-45],[-11,-16],[-5,43],[-16,-23],[-3,-29],[22,-34],[-18,-78],[7,-55],[16,-26],[-10,-34],[-8,18],[-24,-2],[-1,-59],[10,-26],[13,14],[8,-50],[-12,-18],[-16,22],[-7,35],[-17,-16],[-2,-28],[25,-51],[2,-33],[-28,-41],[13,-63],[-14,-80],[18,16],[-1,51],[14,-27],[-4,-54],[-17,-10],[-3,-19],[10,-24],[17,14],[10,73],[5,-32],[-23,-90],[0,-64],[12,-68],[3,42],[10,13],[2,-23],[-13,-52],[2,-75],[-3,-23],[-14,-8],[-11,14],[-5,-39],[23,-62],[-13,-59]],[[24512,55359],[-219,4],[-154,5],[-157,7],[-86,0],[-185,2]],[[16868,55911],[16,-5],[28,-53],[21,-22],[1,-25],[16,-61],[-5,-43],[-13,25],[-26,7],[-6,35],[0,74],[-20,16],[-12,52]],[[16867,55390],[9,4],[22,-117],[40,-130],[-10,4],[-11,-22],[-17,44],[-13,72],[-14,119],[-6,26]],[[16741,55926],[8,7],[1,-41],[-11,7],[2,27]],[[16637,56552],[8,-17],[11,14],[0,-30],[-17,-4],[-9,21],[7,16]],[[16596,55679],[14,7],[20,-35],[8,-31],[-13,-15],[-20,21],[-9,53]],[[16501,56608],[18,-7],[13,-22],[15,5],[19,-43],[19,-4],[7,39],[20,-20],[-11,-43],[-28,-11],[-17,-31],[-42,24],[-1,61],[-12,52]],[[16410,56520],[22,8],[9,21],[13,-8],[13,19],[0,-48],[18,-13],[1,-48],[-41,-54],[-16,37],[-19,86]],[[16354,56562],[16,17],[6,28],[6,-35],[13,-26],[-21,-6],[-20,22]],[[15305,65829],[155,-4],[9,6],[77,-1],[56,12],[28,-8],[115,2],[37,5],[95,-1],[45,-5],[154,-8],[114,-4],[197,0],[92,2]],[[16479,65825],[0,-1]],[[16479,65824],[0,-1448],[1,-34],[0,-756],[-1,-393],[-1,-13],[0,-457],[-1,-122],[2,-263],[26,-77],[115,-330],[114,-336],[63,-182],[99,-298],[125,-377],[62,-186],[127,-394],[313,-989],[234,-759],[70,-234],[147,-492]],[[17950,55027],[-416,-126],[-254,-89],[-3,98],[-9,62],[-8,20],[-14,-23],[-3,66],[1,71],[-8,41],[9,61],[-9,161],[-13,127],[-9,54],[-40,193],[-25,61],[-10,51],[-15,37],[-9,-2],[-19,95],[-26,59],[-14,15],[-20,57],[-25,88],[-24,39],[-2,-47],[-21,-23],[-18,14],[-10,25],[-15,6],[-4,38],[9,34],[1,43],[-14,116],[-11,64],[-17,50],[-35,1],[-22,-8],[-16,-36],[-14,38],[-28,16],[-37,59],[-12,2],[-24,53],[-17,141],[-10,10],[-17,53],[-4,-3],[-20,65],[-21,25],[-6,20],[-32,4],[-16,-24],[-18,25],[-22,-10],[-37,60],[-23,0],[-15,15],[-44,-7],[-48,-22],[-1,31],[-13,66],[-16,30],[-12,-4],[-6,32],[13,143],[-11,60],[8,119],[-17,54],[9,115],[1,140],[-18,56],[-14,7],[-3,-21],[-27,55],[-11,48],[10,131],[-2,50],[-11,53],[-27,14],[-27,102],[-18,101],[-24,25],[-17,66],[-5,81],[-16,47],[-7,37],[-14,35],[-6,99],[-5,35],[-20,29],[-15,104],[-25,94],[-33,64],[-11,45],[-8,80],[1,42],[-11,101],[2,92],[-11,16],[10,74],[18,-38],[9,30],[7,61],[8,141],[-21,149],[-12,43],[-10,11],[-9,-28],[-37,2],[-28,68],[-22,102],[-14,18],[-2,31],[-17,60],[-4,62],[5,129],[-12,89],[-2,52],[-12,14],[-6,33],[-1,64],[5,27],[2,77],[-6,134],[14,28],[16,8],[6,-24],[7,-88],[-9,-9],[11,-107],[-2,-27],[27,-23],[27,-80],[8,5],[14,-63],[12,3],[-6,40],[-12,19],[-10,87],[-7,109],[-21,54],[-2,46],[-22,26],[9,74],[-7,68],[-15,-1],[-14,68],[8,-9],[9,26],[0,40],[19,-2],[10,39],[-10,71],[-26,44],[-13,-30],[-14,-6],[2,-47],[-5,-46],[15,-51],[-12,-25],[-4,-44],[19,-56],[-7,-14],[-11,29],[7,-71],[-15,-16],[-9,38],[-26,61],[-13,-12],[-23,67],[-10,53],[-17,33],[-16,8],[-20,-33],[14,127],[3,48],[-12,92],[7,20],[-16,70],[-11,-10],[-1,67],[-17,106],[-20,51],[-14,19],[-22,64],[-37,176],[-14,29],[-8,41],[-31,90],[-24,116],[14,78],[-1,42],[-14,126],[-16,123],[-7,105],[3,99],[13,132],[-5,52],[0,65],[-14,92],[-4,108],[-16,36],[-6,55],[-35,133],[-7,6],[0,43],[-8,43],[-22,32],[-49,151],[4,63],[-4,70],[-13,74],[9,98],[14,109],[42,265],[11,95],[7,119],[-12,37],[-1,97],[4,2],[11,99],[12,244],[-5,126],[-15,128],[-8,96],[-9,-4],[-17,54],[10,74],[5,110],[-3,67]],[[28861,63044],[-1,28]],[[28874,63137],[-6,7],[-22,-81],[2,-39],[11,-31],[1,-49],[-8,-28],[0,-41],[14,-52],[7,-58],[21,-62],[10,-68],[3,-58],[-5,-35],[2,-126],[16,-48],[7,-43],[2,-74],[34,-137],[16,-29],[10,24],[4,-36],[5,-129],[4,-244]],[[29002,61700],[-105,1],[-74,9],[-2,72],[-25,1311],[0,86]],[[28426,62262],[21,70],[37,-118],[-36,-118]],[[28448,62096],[0,93],[-22,73]],[[6433,39922],[2,44],[19,76],[12,7],[13,93],[16,52],[3,58],[-17,94],[-4,45],[-1,105],[8,37],[18,-9],[18,-32],[3,-32],[22,-44],[15,-47],[12,6],[25,-32],[39,-77],[13,-19],[22,-61],[16,-57],[17,-76],[-3,-47],[1,-90],[8,-10],[16,12],[7,-57],[-1,-57],[22,-82],[22,-39],[5,-21],[-4,-44],[-13,-51],[-17,-47],[-14,-56],[-23,-38],[-20,-47],[-20,-18],[-16,15],[-9,-9],[-18,-66],[-16,-25],[-13,-48],[-14,-16],[-12,-59],[1,-33],[-8,-37],[-5,-59],[-20,-63],[-15,61],[-22,52],[-22,29],[-10,95],[5,113],[4,151],[-10,106],[1,46],[-9,12],[-5,114],[-7,66],[-9,8],[-8,108]],[[6254,41293],[5,69],[11,56],[14,6],[13,-33],[10,-78],[10,-50],[24,29],[18,35],[26,-21],[0,-16],[17,-51],[10,-15],[5,-40],[31,-37],[5,-32],[0,-52],[-8,-43],[-13,-40],[-6,3],[-17,-36],[-14,10],[-30,-53],[-21,-9],[-17,26],[-7,210],[-7,20],[-14,-24],[-26,50],[-13,58],[-6,58]],[[6253,40841],[7,29],[28,57],[10,-30],[-4,-44],[5,-17],[-13,-19],[-5,15],[-18,-23],[-10,32]],[[6153,41274],[7,27],[13,5],[26,-19],[17,-60],[8,-51],[-9,-65],[-19,-29],[-17,-5],[-7,60],[-3,73],[-14,32],[-2,32]],[[6084,41504],[6,52],[9,29],[-2,58],[17,-2],[3,-14],[54,-29],[10,34],[4,-42],[22,-13],[27,18],[17,-25],[-8,-55],[-18,-51],[-20,-21],[-35,32],[-26,31],[-15,-14],[-29,-5],[-16,17]],[[5814,42059],[43,9],[13,49],[4,35],[13,48],[14,15],[6,-27],[6,-70],[20,-84],[4,-52],[-4,-15],[3,-47],[18,-55],[3,57],[12,-2],[-4,-64],[8,-24],[-1,-29],[17,-70],[-12,-37],[-11,18],[-21,-29],[-6,26],[-17,31],[-25,11],[-30,-20],[-7,4],[-7,84],[-11,34],[-1,31],[-14,67],[0,61],[-13,45]],[[5394,42585],[1,40],[11,38],[4,49],[33,72],[8,26],[23,-18],[3,25],[16,-11],[8,14],[15,-20],[10,-37],[5,-45],[0,-46],[-11,-63],[1,-106],[-4,-28],[-28,-78],[-8,15],[-36,12],[-18,71],[-24,29],[-9,61]],[[5266,42374],[4,43],[12,44],[19,45],[2,38],[11,9],[2,-31],[-5,-57],[2,-36],[-20,-28],[-16,-97],[-12,30],[1,40]],[[24498,67577],[-5,-52],[10,-50],[-1,-74],[27,-41],[13,-76],[-18,-60],[-6,-52],[-9,-24],[1,-108],[8,-88],[0,-68],[12,-25],[13,-169],[33,-64],[47,-37],[17,-20],[18,-109],[0,-37]],[[23231,64184],[4,28],[-10,56],[-13,16],[-15,58],[2,37],[13,35],[-4,83],[10,51],[-7,27],[2,66],[-9,20],[1,42],[-7,30],[5,27],[-5,93],[12,17],[-24,24],[4,37],[-5,63],[13,41],[-20,27],[7,29],[-1,116],[-20,10],[2,77],[-9,1],[-2,-37],[-15,28],[3,56],[-11,39],[7,39],[-8,41],[11,18],[-6,54],[8,20],[3,46],[-12,23],[-1,38],[-14,61],[6,11],[3,66],[-16,6],[1,30],[-15,11],[5,16],[-15,25],[1,83],[-22,56],[-3,48],[10,25],[-14,103],[-11,29],[0,76],[9,44],[-4,44],[-14,8]],[[26280,62461],[18,48],[7,-2],[15,-54],[21,-28],[14,29],[14,-3],[8,29],[8,-8],[4,-69],[29,-32],[10,-84],[16,-83],[0,-66],[5,-26],[40,-41],[33,19],[29,-46],[3,-34],[15,-26],[5,-50],[28,-29],[14,66],[26,22],[15,-32],[28,-20],[11,-24],[5,-43],[13,24],[30,-1],[10,53],[18,34],[9,39],[15,0],[21,32],[7,-33],[-3,-44],[9,-111],[13,-37],[21,-6],[21,-79],[13,-35],[2,-44]],[[27075,60636],[-108,-317],[-37,-39],[-22,-41],[-19,-49],[-25,-45],[0,-86],[-16,-39],[-12,-2],[-12,-33],[3,-59],[-6,-45],[-25,-36],[-29,-4],[-16,-80],[-2,-50],[-16,-4],[-33,-35],[-39,-52],[-21,2],[-33,-49],[-8,-27]],[[26599,59546],[-4,-21],[-83,8],[-79,2],[-76,5],[-83,11],[-51,16],[-74,9],[-55,-14],[-96,8],[-56,10],[-83,22],[-49,4],[-16,-22],[-7,22],[-146,-12],[-92,-2],[-114,-8],[1,35],[-61,17],[10,-147],[-6,-64],[-137,6],[-126,0],[-84,6],[-33,-10]],[[24980,59425],[-15,1]],[[28739,61120],[-14,0]],[[28725,61120],[-1,72],[8,28],[11,-40],[-4,-60]],[[28711,61320],[2,79],[11,13],[7,-30],[5,-118],[-15,21],[4,27],[-14,8]],[[28627,62072],[5,20],[5,-46],[-10,26]],[[29002,61700],[-1,-43],[-9,-105],[-5,-15],[-20,-211],[-18,-120]],[[28949,61206],[-107,-38],[-6,-55],[-6,4]],[[28830,61117],[-13,30],[-19,-4],[-22,-64],[-9,-1],[-1,67],[7,70],[17,28],[-17,2],[2,45],[11,40],[-21,9],[-12,-33],[-4,28],[5,58],[26,27],[-6,39],[-9,-13],[-4,36],[15,112],[-15,-24],[-7,-47],[0,-60],[-8,-1],[-11,77],[11,9],[-1,53],[-8,10],[-4,-49],[-9,-33],[6,-27],[-9,-62],[-4,29],[-17,-23],[-9,12],[-16,83],[-9,13],[2,43],[-24,151],[20,14],[5,39],[-8,-7],[-9,51],[8,40],[12,22],[6,-25],[12,26],[1,-36],[22,-9],[13,-39],[4,10],[-16,69],[-17,14],[-8,42],[-7,-3],[-16,77],[-5,-28],[-12,20],[-1,-59],[-7,8],[3,101],[18,92],[14,-45],[8,10],[-3,124],[-8,17],[-17,-47],[-12,4],[1,-48],[-12,-17],[4,104],[16,101],[7,-51],[21,-11],[11,31],[-6,54],[11,55],[-16,-9],[-3,-52],[4,-31],[-12,17],[3,63],[-6,59],[-7,14],[16,136],[12,42],[-2,24],[14,25],[7,37],[30,-6],[-11,24],[18,70],[-10,6],[12,122],[-35,-24],[-6,-48],[12,-24],[4,-32],[-12,-14],[-34,-97],[-7,31],[7,54],[-8,28],[0,-44],[-9,-51],[8,-34],[-7,-46],[-6,96],[-15,14],[6,-103],[-8,8],[-6,-42],[12,-22],[-21,-44],[-7,-28],[-13,8],[-2,26],[-22,46],[3,-46],[9,-13],[2,-41],[27,-54],[2,-67],[-5,-25],[13,-48],[-23,-45],[7,-37],[-3,-40],[-9,4],[-7,-55],[6,-53],[-17,-58],[9,-50],[-2,-54],[6,-73],[-2,-89],[7,-65],[22,-80],[8,-62],[-9,-45],[-14,7],[9,-42],[9,22],[8,-14],[-7,-47],[4,-48],[18,-92],[-5,-22],[5,-97],[-9,19],[-11,58],[-8,4],[-5,64],[-8,-9],[-2,-57],[-7,38],[-8,-3],[-5,48],[-12,45],[-23,23],[-35,3],[-8,129],[-8,13],[-4,-31],[10,-68],[-2,-22],[-22,43],[-2,34],[-13,31],[-12,114],[-20,-44],[-33,-56],[-12,27],[-7,115],[11,82],[15,57],[20,30],[-5,10]],[[28423,61914],[-1,45],[7,27],[18,25],[1,85]],[[28426,62262],[-9,37],[-20,6],[-8,17],[1,48],[-26,42],[-34,15],[-6,39],[-10,13],[1,58],[9,18],[7,49],[-23,43],[-6,45],[-15,-1],[-16,25],[-13,-3]],[[26327,70327],[8,17],[9,-60],[65,-63],[-17,-58],[-23,18],[-14,61],[-28,85]],[[26120,70229],[5,40],[7,-20],[-12,-20]],[[26084,70289],[21,-39],[-4,-36],[-19,38],[2,37]],[[26055,70019],[7,48],[3,69],[6,15],[1,57],[18,-7],[-1,-85],[4,-83],[-19,-44],[-19,30]],[[26035,70180],[13,8],[-5,-54],[-7,1],[-1,45]],[[25984,69839],[13,-17],[1,-59],[-14,76]],[[25933,69486],[6,23],[19,-25],[-6,-96],[-17,52],[-2,46]],[[25908,69335],[11,44],[6,-47],[-17,3]],[[25759,70041],[20,-64],[-8,-22],[-4,36],[-14,43],[6,7]],[[25722,65552],[30,68],[27,87],[37,261],[34,146],[19,134],[10,99],[10,176],[-1,58],[6,87],[-1,163],[-6,182],[-11,120],[-35,230],[-11,94],[-12,138],[-17,119],[0,48],[22,102],[7,50],[1,77],[-9,134],[-14,90],[4,32],[20,51],[24,151],[21,112],[4,124],[9,134],[-11,112],[1,33],[27,43],[20,15],[6,93],[-2,74],[10,36],[13,-18],[16,80],[18,-35],[17,13],[8,32],[9,86],[10,16],[15,94],[11,47],[9,-7],[12,35],[3,-39],[-19,-32],[-3,-42],[12,-81],[-23,-81],[13,19],[0,-74],[-6,-7],[-8,-84],[7,-95],[8,-2],[19,145],[3,98],[13,20],[-8,-158],[-15,-44],[-6,-67],[14,-14],[8,65],[7,13],[22,135],[5,78],[-1,56],[4,82],[-6,85],[5,94],[17,49],[10,3],[18,48],[18,16],[25,-7],[26,14],[12,20],[-1,33],[-33,17],[-14,47],[-8,114],[16,75],[13,14],[20,69],[-2,31],[-18,27],[60,-15],[7,49],[61,-102],[26,-58],[13,20],[11,-16],[13,10],[32,-34],[24,-85],[3,-57],[17,-27],[33,4],[8,-9],[29,-77],[23,-7],[34,-71],[29,6],[21,-78],[11,-25],[-9,-27],[15,-96],[11,-30],[14,-133],[-20,21],[-16,34],[-15,-41],[4,-110],[12,-44],[21,-26],[5,-59],[1,-98],[7,-37],[-4,-71],[-8,-67],[2,-65],[-5,-111],[-1,-121],[-12,-15],[-14,-64],[-24,2],[-8,-30],[-8,-108],[-4,-115],[-19,-5],[-8,-19],[0,-49],[-42,-6],[-13,-35],[-9,-76],[-5,-124],[-8,-42],[13,-91],[16,-32],[9,33],[5,-38],[20,-21],[13,-38],[10,16],[28,120],[14,0],[7,25],[-7,51],[9,44],[9,87],[4,-50],[19,31],[5,29],[-21,31],[24,-3],[11,24],[5,41],[23,10],[34,28],[9,45],[31,30],[11,-30],[23,-25],[15,-39],[17,-123],[10,-37],[7,-97],[5,-208],[17,-178],[4,-247],[10,-143],[18,-110],[2,-48],[-11,-46],[-7,-145],[4,-47],[-12,-113],[-4,-67],[-18,-66],[-15,4],[-12,-42],[1,66],[-9,27],[10,16],[15,62],[-14,26],[-15,-5],[-19,-34],[-7,-32],[9,-27],[2,-45],[-15,4],[-11,-52],[1,-84],[-7,-77],[-17,-53],[-30,-25],[-18,-97],[2,-127],[-3,-44],[-15,-25],[-1,-70],[-16,-39],[-6,-39],[-13,-4],[-7,-65],[-11,-11],[-17,-72],[5,-79],[-8,-9]],[[26661,65520],[-86,-11],[-167,-20],[-124,-12]],[[25045,72671],[21,69],[95,141],[7,-2],[43,98],[31,42],[6,-11],[28,29],[-1,-28],[-12,-16],[-30,-80],[0,-30],[-25,-55],[-51,-53],[-42,-66],[2,-20],[23,0],[-59,-73],[-18,3],[-18,52]],[[24721,71146],[19,40],[12,3],[39,49],[38,34],[31,77],[19,64],[16,27],[33,17],[15,-17],[29,27],[22,-3],[52,75],[30,94],[22,5],[29,23],[10,39],[5,51],[25,65],[14,16],[30,82],[23,23],[21,56],[11,54],[20,52],[58,85],[56,25],[50,-7],[23,-39],[1,-45],[-11,5],[-17,-24],[-19,13],[-21,-10],[5,-47],[-32,-57],[-30,-95],[-19,-20],[-5,-74],[-7,9],[-7,-52],[-14,-26],[-5,-67],[-12,-48],[-9,-6],[-12,-164],[6,-52],[-9,-35],[11,3],[20,87],[3,44],[7,-13],[29,80],[28,43],[-12,-55],[-12,-24],[-15,-77],[30,84],[26,18],[14,-13],[37,1],[15,-30],[8,8],[17,-35],[8,-39],[15,11],[22,-63],[3,-61],[17,-49],[6,-47],[14,-49],[19,-15],[-2,-79],[11,-28],[26,-15],[42,10],[25,43],[11,-8],[14,-72],[12,-27],[19,-4],[8,46],[16,-7],[9,-38],[4,69],[-7,53],[16,20],[7,-32],[-6,-56],[17,-26],[26,72],[40,62],[59,110],[11,-21],[61,42],[46,-16],[35,-3],[30,7],[62,85],[24,12],[30,-7],[32,14],[-22,-84],[-2,-135],[2,-45],[-8,-19],[9,-51],[16,-8],[9,16],[6,-26],[15,3],[17,-28],[34,49],[13,-4],[11,-46],[-1,-35],[25,28],[7,-7],[10,65],[19,24],[23,-19],[11,9],[8,39],[27,-5],[5,-30],[-10,-100],[7,-120],[1,-95],[-29,-2],[-8,-65],[15,-12],[5,21],[15,-4],[8,-38],[19,-19],[-13,-40],[24,-75],[12,-1],[20,-45],[8,38],[14,-35],[8,26],[-16,100],[14,-15],[41,13],[12,-15],[14,-91],[16,-31],[-10,-64],[-14,-20],[-27,39],[-31,-16],[-31,42],[-11,-12],[-27,1],[-27,23],[-60,-26],[-13,-28],[-37,69],[-15,48],[-13,-7],[-13,30],[-10,-41],[2,-51],[-15,-32],[1,-45],[9,-63],[-12,-20],[-24,42],[-3,31],[-21,37],[-5,30],[-22,64],[-38,46],[-13,-7],[-33,49],[-18,-5],[-13,23],[-5,-20],[-19,11],[-25,-75],[-17,-73],[-9,-8],[-32,23],[-23,-15],[-8,-22],[2,-34],[-23,37],[-21,17],[-24,-14],[-10,11],[-23,-24],[-13,-42],[-2,-63],[-9,-72],[-14,4],[-7,-39],[-22,-15],[-6,-46],[-13,-3],[0,-45],[-12,-9],[4,-61],[-20,32],[-9,40],[12,27],[1,34],[11,31],[1,40],[13,-4],[15,87],[-3,43],[-12,10],[-18,-75],[-38,24],[3,-51],[-13,-47],[-5,-56],[-30,-31],[-5,-27],[-6,39],[3,55],[-4,67],[-8,32],[-10,-19],[-5,-120],[3,-12],[-31,-55],[-26,-129],[-17,-146],[-19,-65],[-20,-112],[-41,-174],[6,-33]],[[25508,69434],[-19,14],[-8,47],[-13,28],[-2,29],[15,118],[11,48],[-2,34],[-11,25],[-16,-47],[-27,-10]],[[25436,69720],[0,0]],[[25436,69720],[-7,47],[7,24],[-3,38],[13,34],[6,40],[-3,47],[8,69],[-14,75],[12,13],[-8,44],[-13,18],[-6,33],[-24,4],[-9,43],[-21,-18],[-18,45],[17,52],[-7,21],[0,47],[-40,48],[-14,-14],[-24,47],[-12,-15],[-21,21],[-2,25],[-27,-2],[-3,-32],[-14,0],[-4,29],[-17,16],[-12,-13],[-86,142],[-287,231],[1,27],[-28,167],[-27,16],[-10,24]],[[24739,71113],[0,0]],[[24739,71113],[-12,-6],[-6,39]],[[25252,52115],[30,-13],[-14,-20],[-12,9],[-4,24]],[[25179,52148],[16,13],[30,-29],[6,-15],[-24,5],[-28,26]],[[25119,52114],[15,7],[15,31],[-4,-29],[-21,-27],[-5,18]],[[25071,52140],[21,-1],[8,13],[-5,-43],[-10,-7],[-17,26],[3,12]],[[24751,57677],[229,-2],[156,1],[202,1]],[[25284,52292],[-4,-32],[-7,15],[-10,-40],[-18,27],[-13,-15],[-5,30],[-18,7],[-18,-23],[-23,49],[-2,-28],[-21,38],[-22,-3],[-31,-27],[-28,-42],[-30,-33],[4,54],[-10,30],[-14,-27],[9,-17],[1,-40],[-25,-57],[-8,-80],[-9,10],[-13,-16]],[[24969,52072],[-12,0],[-13,50],[-4,66],[0,69],[-15,77],[0,54],[-10,43],[-11,19],[-4,39],[-10,34],[-4,95],[-8,14],[10,88],[-4,36],[7,25],[9,125],[7,19],[-1,45],[7,22],[-7,36],[-165,-2],[-134,-1],[-226,0],[13,21],[7,58],[-16,50],[-1,28],[10,46],[-3,41],[-12,30],[1,38],[18,-7],[17,20],[2,43],[-12,37],[-1,45],[-7,16],[9,39],[4,-50],[8,-29],[9,7],[0,29],[-13,75],[-1,74],[20,18],[12,35],[-4,32],[-18,-13],[-9,30],[5,38],[10,-28],[18,0],[1,106],[11,35],[23,5],[4,18],[-29,11],[7,94],[12,11],[2,-43],[7,-17],[5,28],[-6,21],[24,78],[-2,50],[7,25],[19,14],[0,50],[-19,26],[5,25],[13,-39],[5,36],[12,22],[9,69],[-15,24],[2,-62],[-32,11],[2,79],[27,20],[7,27],[14,-31],[5,42],[-2,53],[12,-8],[16,79],[-4,18],[-6,-40],[-23,17],[0,58],[8,20],[-8,35],[-10,-20],[-23,49],[3,58],[5,1],[17,-48],[10,7],[-5,26],[-21,50],[14,31],[8,37],[-7,37],[-6,-46],[-20,-26],[-6,14],[-3,52],[9,38],[16,33],[2,27],[-31,30],[1,71],[5,37],[21,52],[2,39],[-9,72],[-11,-4],[1,-67],[-14,-26],[-9,22],[3,48],[10,50]],[[17580,73980],[234,-2],[232,3],[190,-5],[190,2],[348,-2],[211,0],[232,2],[328,0],[141,0],[292,0],[227,1],[143,-1],[294,0],[114,0],[167,1]],[[18973,68711],[-21,23],[-6,49],[-24,59],[2,43],[-28,117],[-17,36],[-8,-52],[-20,-3],[5,-33],[-16,-98],[15,-64],[-32,26],[-9,-16],[-24,13],[-3,-19],[-30,-40],[-13,63],[-22,-8],[-13,-25],[-10,13],[-21,-30],[-8,22],[-14,-8],[-12,35],[-16,7],[-9,-35],[-9,0],[-2,-61],[-8,-45],[-24,38],[-8,-20],[-11,24],[-33,2],[-17,22],[-17,-23],[-15,-72],[6,-53],[-9,-22],[-11,44],[-18,24],[-15,40],[-6,53],[5,34],[-21,81],[9,48],[-5,50],[-18,109],[-32,58],[-26,-44],[-4,40],[-28,53],[-11,97],[14,13],[2,55],[-4,61],[-19,39],[2,26],[-17,15],[-7,73],[-24,73],[-1,35],[-14,54],[2,70],[-8,19],[-6,57],[6,30],[-1,46],[-19,0],[7,95],[-15,25],[-12,-2],[2,26],[-10,44],[-15,26],[-9,-13],[2,-41],[-15,-35],[-19,-82],[-19,-26],[-13,12],[-3,-58],[-24,-42],[-5,36],[-14,22],[-13,60],[-25,0],[4,53],[-8,36],[18,37],[1,48],[-19,74],[18,89],[25,1],[7,44],[-13,54],[6,49],[-19,27],[-4,54],[9,58],[-17,33],[2,49],[19,7],[-1,79],[-6,30],[13,24],[1,116],[13,65],[-7,69],[12,3],[10,123],[-3,58],[-8,10],[-26,-23],[-4,-21],[-22,15],[-19,-5],[-8,39],[6,39],[-7,30],[-14,9],[-4,-30],[-15,-21],[-6,17],[6,55],[-34,58],[-16,59],[4,71],[-20,60],[-13,-1],[-6,60],[-19,82],[-17,54],[-12,13],[-5,37],[-11,7],[2,38],[-9,41],[-24,10],[-32,45],[-7,54],[-47,87],[-11,-2],[12,36],[22,8],[3,22],[-16,7],[-5,57],[-11,5],[2,34],[13,32],[-12,55],[2,63],[-13,24],[-7,47],[-8,-6],[-8,88],[-15,21],[-39,152],[-1,279],[1,109],[0,804]],[[29991,69339],[3,68],[18,64],[-3,15],[11,74],[-13,36],[18,11],[4,26],[22,42],[15,-61],[28,-5],[13,70]],[[30213,67064],[-30,-174],[-2,-44]],[[29724,66677],[-9,53],[-6,-10],[-12,102],[9,73],[1,57],[13,10],[8,45],[-6,52],[9,33],[-5,65],[4,138],[12,64],[-6,60],[10,135],[-5,35],[5,74],[15,33],[6,109],[9,44],[19,43],[6,44],[-1,64],[19,67],[0,85],[12,44],[12,69],[0,47],[-10,68],[6,57],[-6,34],[10,61],[35,32],[10,-13],[16,21],[5,52],[24,14],[14,39],[7,45],[16,22],[-6,59],[11,13],[2,73],[-10,38],[-11,102],[15,52],[4,64],[18,75],[-13,89],[11,30]],[[29842,64964],[3,18],[27,22],[-21,-43],[-9,3]],[[29812,64781],[5,20],[11,-16],[0,-50],[-6,35],[-10,11]],[[29792,64880],[16,16],[-12,-43],[-4,27]],[[29275,64272],[5,-67],[-9,-39],[-38,-78],[-11,-1]],[[28633,68013],[16,50],[-5,-45],[-11,-5]],[[28611,68032],[12,40],[9,-5],[-21,-35]],[[27689,66145],[33,53],[53,111],[29,91],[30,50],[26,25],[11,70],[13,36],[4,52],[36,56],[19,54],[-4,80],[-13,40],[2,43],[-7,37],[-23,35],[1,92],[-18,15],[9,77],[-5,125],[-3,13],[28,22],[38,42],[56,47],[40,20],[33,2],[38,-9],[36,8],[86,-42],[23,-19],[15,-47],[23,-46],[12,-10],[40,49],[35,1],[43,12],[21,-19],[23,-1],[14,25],[30,20],[18,40],[9,1],[19,80],[30,64],[10,8],[19,54],[14,5],[20,-15],[17,19],[9,53],[2,87],[-9,180],[-20,40],[11,50],[14,11],[2,-33],[21,41],[-3,43],[-19,47],[-22,-15],[5,29],[-15,51],[-15,1],[1,80],[16,115],[19,5],[23,42],[0,48],[18,22],[27,55],[9,-5],[16,29],[25,75],[4,46],[12,51],[41,121],[31,100],[56,141],[-1,12],[68,109],[26,62],[18,0],[22,37],[27,-29],[19,10],[91,-8],[53,-1],[107,14],[24,-1],[93,10]],[[29478,69336],[1,-109],[-7,-30],[-4,-63],[13,-57],[-10,-55],[-2,-92],[-4,-31],[4,-70],[19,-88],[4,-69],[-12,-80],[7,-114],[-4,-36],[-19,-63],[-5,-89],[-8,-79],[9,-27],[-1,-103],[10,-67],[-5,-64],[12,-57],[-16,-97],[-7,-114],[10,-26],[7,66],[19,0],[2,-53],[13,-29],[-2,-343],[-6,-422],[0,-74],[-4,-37],[8,-65]],[[29390,64649],[-7,-42],[-21,-42],[-2,-79],[-13,2],[9,-60],[18,87],[11,-15],[10,42],[21,27],[18,2],[4,33],[22,-30],[2,41],[9,-28],[20,-8],[18,-23],[23,28],[2,43],[17,8],[10,-12],[75,3],[39,20],[14,18],[30,63],[9,40],[12,13],[13,50],[21,21],[12,-2],[-18,-52],[-9,-6],[15,-31],[5,-44],[17,-12],[11,25],[16,-72],[15,17],[23,48],[2,28],[17,11],[12,-12],[-5,-21],[-67,-94],[-78,-123],[-50,-62],[-81,-93],[-53,-78],[-43,-41],[-27,-12],[-6,15],[-64,-60],[-61,10],[-46,-55],[3,38],[-23,-2],[3,25],[-11,39],[7,35],[-8,36]],[[26861,65369],[16,17],[-2,-36],[-14,19]],[[26831,65420],[6,90],[11,-35],[-3,-35],[-14,-42],[0,22]],[[26661,65520],[1,-26],[21,-28],[13,17],[37,-82],[25,-20],[11,-21],[18,-66],[19,-29],[18,23],[2,50],[7,13],[14,-55],[19,2],[-1,-37],[29,-96],[16,-33],[22,-21],[41,57],[22,4],[17,35],[51,60],[37,-38],[19,15],[20,-9],[29,61],[29,86],[8,10],[16,58],[44,102],[10,1],[67,108],[30,17],[24,34],[65,69],[17,24]],[[15490,70789],[21,10],[13,-45],[-1,-55],[17,-42],[25,-1],[32,51],[14,-4],[59,-119],[7,-61],[18,-81],[1,-57],[7,-52],[-3,-67],[10,-88],[-4,-41],[3,-50],[33,-54],[46,-35],[11,-19],[17,14],[13,-32],[18,-5],[23,39],[23,7],[54,83],[12,45],[15,16],[21,-15],[29,12],[28,26],[19,-30],[17,-9],[18,14],[34,-40],[9,-75],[14,4],[19,50],[34,4],[13,-16],[11,34],[47,51],[15,35],[21,-9],[21,-51],[22,6],[34,26],[20,5],[11,42],[28,27],[29,46],[46,27],[37,10],[13,57],[14,23],[24,-22],[64,39],[17,-14],[19,6],[28,42],[11,36],[163,1],[250,-3],[164,-3]],[[17338,70482],[16,-107],[11,-27],[16,-75],[18,5],[10,-47],[19,-2],[16,-48],[0,-53],[13,-49],[7,-54],[-24,-108],[-1,-55],[-10,-23],[-24,-150],[1,-36],[-9,-51],[-7,-116],[-13,-40],[-6,-53],[-14,-44],[-3,-51],[7,-58],[-9,-68],[-18,-76],[0,-21],[-32,-49],[-14,-93],[-8,-97],[-10,-66],[-18,-48],[3,-66],[-8,-36],[15,-69],[-8,-56],[13,-35],[19,25],[16,-59],[20,12],[2,-53],[18,-17],[1,-31],[-10,-62],[-12,-17],[1,-42],[11,-32],[-1,-43],[-12,-81],[0,-54],[-11,-11],[-2,-59],[0,-2105]],[[17307,65831],[-166,-2],[-273,-5],[-26,-3],[-143,2],[-220,2]],[[15305,65829],[-21,55],[-15,55],[-7,69],[2,33],[-14,81],[2,32],[-7,63],[-2,126],[13,147],[-7,107],[-17,87],[-11,2],[-11,123],[15,90],[12,96],[6,83],[0,52],[9,80],[6,99],[-6,42],[17,53],[8,43],[16,132],[15,193],[15,283],[7,225],[4,188],[-2,8],[10,197],[-1,69],[7,184],[0,92],[-5,39],[8,91],[12,227],[8,117],[4,157],[-3,66],[3,109],[-4,69],[5,24],[5,176],[-1,76],[-11,41],[6,87],[-2,83],[-7,45],[16,36],[1,109],[-19,193],[27,-79],[14,-14],[-3,38],[23,10],[7,17],[11,-28],[12,31],[15,0],[20,51]],[[26599,59546],[33,-4],[78,1],[5,-5],[157,-1],[61,3],[151,-2],[3,26],[77,-5],[-8,-28]],[[18139,65823],[61,-6],[262,13],[192,2],[5,-5],[196,3],[118,3]],[[18136,60011],[0,880],[1,11],[-1,272],[1,173],[-1,298],[1,318],[0,1661],[1,149],[0,628],[1,266],[0,1156]],[[28738,60998],[7,-15],[-7,-27],[0,42]],[[28949,61206],[-16,-79],[-15,-98],[-8,-27],[-5,21],[-15,-7],[-19,-78],[-12,-70],[-11,-126],[1,-64],[-23,-128],[7,-14],[-18,-91],[-12,-79],[-9,-11],[1,-57],[-11,-86],[-18,-64],[-16,2],[4,-35],[-9,-5],[-1,84],[-10,55],[-4,61],[2,70],[9,59],[3,89],[10,105],[4,76],[16,79],[18,110],[-4,34],[21,17],[15,65],[1,28],[-20,21],[25,54]],[[28739,61120],[-11,-44],[-3,44]],[[28423,61914],[-20,-21],[-13,21],[0,-52],[-18,-113],[-4,-52],[2,-76],[15,-59],[29,15],[6,26],[15,0],[12,38],[9,-30],[-6,-74],[19,-64],[0,-49],[35,-59],[25,-2],[7,-28],[6,21],[24,-9],[4,-44],[16,-39],[8,-59],[13,-15],[15,-54],[20,-23],[30,-68],[-5,-65],[-15,-24],[-2,-107],[4,-29],[-11,-46],[13,-23],[-19,-30],[-31,64],[-11,-27],[-7,25],[0,41],[-13,81],[-19,32],[-8,35],[-12,12],[-21,103],[-11,11],[-4,45],[-13,30],[-2,-30],[28,-89],[20,-114],[15,-24],[1,-25],[16,-14],[10,-96],[11,-53],[30,-4],[7,-36],[31,-24],[-14,-29],[-1,-37],[13,-8],[4,22],[8,-41],[5,-110],[-8,-90],[-18,63],[-21,45],[-9,-42],[11,-39],[7,-55],[9,-14],[-22,-24],[-18,-4],[6,-39],[22,11],[-2,-76],[14,12],[4,-31],[12,-20],[6,-49],[-9,-97],[-4,15],[-16,-18],[-15,-34],[-10,68],[-29,61],[-14,45],[4,48],[-13,71],[-22,-9],[-8,-25],[-10,46],[-18,11],[-4,23],[-21,-35],[11,-33],[12,8],[18,-13],[15,-55],[9,-2],[8,58],[8,-119],[1,-67],[22,-19],[25,-82],[1,-65],[27,4],[9,27],[1,-33],[9,-11],[-3,86],[17,6],[13,-29],[35,-36],[17,27],[11,-11],[8,-128],[12,-140],[9,-71],[7,-94]],[[15775,72069],[4,105],[10,72],[12,-52],[-2,-58],[19,-32],[-18,-27],[-5,-26],[-18,-12],[-2,30]],[[15740,73454],[0,40],[20,-41],[-17,-26],[-3,27]],[[15720,73667],[6,14],[26,-115],[-18,42],[-14,59]],[[15715,73495],[8,29],[12,-47],[-15,-33],[-5,51]],[[15707,73080],[13,89],[14,59],[2,55],[16,11],[7,-19],[0,-49],[19,-38],[3,-26],[-15,-19],[-17,15],[-1,-29],[-13,-34],[-14,-7],[3,-24],[23,10],[11,-42],[8,-84],[-4,-14],[10,-100],[8,27],[-5,67],[10,-3],[16,-57],[16,-13],[7,-94],[-8,-58],[-14,13],[-12,86],[-21,-25],[2,30],[-19,44],[3,93],[-5,56],[-18,-4],[-3,30],[-22,54]],[[15649,73739],[11,-4],[34,-53],[-8,-8],[-22,20],[-15,45]],[[15623,73630],[17,26],[2,-33],[-19,7]],[[15618,73982],[15,0],[4,-29],[-17,-2],[-2,31]],[[15586,73509],[7,30],[20,1],[2,-29],[15,-33],[17,-9],[-18,69],[37,108],[12,-2],[37,-58],[-19,-50],[11,-66],[-2,-62],[-11,-25],[4,-69],[-20,-12],[-15,50],[-9,-12],[-22,11],[-31,62],[-6,76],[-9,20]],[[15577,73617],[18,-10],[18,-54],[-30,41],[-6,23]],[[17306,73978],[-1,-290],[0,-441],[-2,-286],[0,-702],[1,-52],[0,-1247],[-7,-48],[20,-76],[8,-54],[0,-63],[12,-40],[-17,-93],[7,-11],[11,-93]],[[15490,70789],[-34,9],[-3,34],[-12,6],[-10,-31],[-13,10],[-19,-51],[-9,7],[-21,74],[-10,8],[-7,-47],[-10,-10],[6,139],[1,124],[-4,165],[13,-61],[-2,-100],[4,-137],[17,0],[1,37],[-10,40],[0,61],[12,-37],[14,83],[-19,116],[11,42],[25,53],[-17,37],[-6,-27],[-18,-2],[4,-23],[-16,4],[-20,44],[-1,55],[-11,130],[8,8],[6,-52],[11,31],[52,63],[-10,27],[-34,23],[-2,45],[-27,14],[-8,-24],[8,-90],[-16,-21],[3,38],[-4,206],[-14,176],[-24,80],[-9,207],[-5,77],[-15,162],[-14,36],[-4,55],[-14,23],[-5,31],[-19,29],[-12,110],[-8,101],[1,53],[-11,56],[12,58],[9,138],[-19,46],[3,22],[17,1],[40,-55],[32,-64],[10,-1],[25,-39],[6,12],[41,-55],[-1,-20],[35,-41],[56,-11],[21,13],[31,-37],[9,19],[10,-18],[24,7],[12,-32],[41,2],[32,71],[-3,-24],[22,-42],[7,-45],[17,17],[17,-5],[-3,-32],[14,-20],[1,-59],[10,6],[3,53],[-14,34],[0,40],[12,28],[21,10],[3,-31],[-15,-34],[10,-50],[7,6],[2,48],[10,14],[8,-100],[-15,-10],[11,-42],[8,-78],[13,-21],[-8,-25],[-16,2],[2,-42],[-17,-36],[-9,-113],[-14,-9],[11,113],[-6,17],[-19,-101],[-4,-53],[-21,-70],[-38,-183],[-13,-119],[12,8],[23,-13],[12,27],[21,17],[3,38],[-44,-62],[-17,27],[42,226],[31,74],[29,28],[3,73],[16,73],[31,68],[-9,97],[22,-40],[14,-187],[-22,0],[3,-40],[11,-14],[-4,-56],[7,-19],[0,-53],[-14,-38],[-1,-38],[15,-16],[-10,-48],[-6,-87],[4,-21],[-10,-57],[7,-49],[-15,-79],[-27,78],[8,96],[-16,-42],[-6,-63],[30,-83],[-10,-16],[1,-48],[-11,-26],[-16,46],[-20,105],[12,37],[1,61],[-7,25],[0,-51],[-12,-57],[7,-72],[-6,-48],[13,14],[11,-66],[27,-22],[11,37],[0,33],[13,16],[8,79],[10,53],[-2,30],[25,-58],[10,25],[-4,36],[27,34],[0,50],[-8,58],[-8,11],[6,35],[-10,40],[-7,71],[22,38],[-24,58],[16,82],[-6,91],[15,46],[9,119],[22,25],[-1,69],[-14,23],[-23,86],[1,74],[-10,49],[-15,4],[3,-24],[-11,-28],[10,-67],[18,-50],[1,-35],[-26,85],[-12,4],[-7,58],[2,77],[18,24],[16,-22],[10,42],[-10,45],[-28,45],[-13,48],[1,39],[-29,-33],[-7,33],[4,45],[-13,-17],[3,39],[24,28],[13,-15],[9,-49],[19,7],[-10,108],[17,6],[5,34],[-21,66],[-5,66],[8,44],[-13,30],[-17,-6],[-11,-41],[9,-44],[-19,40],[8,57],[-10,25],[-9,-14],[-1,65],[-21,54],[11,21],[-5,36],[-13,16],[16,54],[184,0],[97,-6],[145,5],[143,-2],[190,0],[169,0],[165,1],[178,0],[325,-2]],[[25685,69733],[6,80],[31,-17],[-23,-128],[-14,65]],[[25568,69555],[12,14],[2,-63],[-14,23],[0,26]],[[24707,71654],[8,83],[12,4],[-5,-75],[-15,-12]],[[24691,71507],[21,33],[-14,-47],[-7,14]],[[24655,71564],[5,21],[30,29],[5,-13],[-11,-48],[-24,-11],[-5,22]],[[24625,71464],[3,27],[20,41],[1,-19],[-24,-49]],[[24631,71609],[14,-54],[-13,-3],[-8,37],[7,20]],[[24621,71679],[35,36],[11,-55],[14,34],[2,-44],[-16,-9],[-17,-49],[-11,42],[-16,20],[-2,25]],[[24616,71401],[17,18],[32,86],[14,-32],[-30,-33],[5,-35],[-17,-4],[-20,-37],[-1,37]],[[24563,71635],[15,17],[-1,-44],[-14,27]],[[24276,71309],[20,-30],[34,11],[49,52],[19,27],[18,0],[48,70],[25,27],[6,26],[17,-22],[7,33],[25,10],[22,70],[14,-12],[14,35],[10,-4],[24,-81],[-14,-76],[-24,-78],[9,-73],[-16,-35],[-11,-77],[13,-16],[42,73],[5,54],[42,-108],[13,-22],[9,10],[25,-27]],[[25508,69434],[-10,-58],[-1,-80],[-37,-13],[-21,-40],[3,-47],[-11,-59],[-9,-15],[-11,-83],[-12,-42],[-7,-104],[3,-25],[-13,-50],[20,-42],[12,7],[7,53],[26,64],[10,3],[15,63],[0,36],[31,133],[26,36],[11,-7],[11,34],[15,-32],[-6,46],[12,97],[27,109],[7,100],[12,-5],[21,32],[1,59],[17,60],[22,-3],[-2,-87],[-16,-5],[-2,-142],[-12,-40],[-8,4],[-5,-53],[-14,-52],[5,-43],[-13,-39],[4,-26],[-18,-33],[-13,-62],[-8,-87],[-17,-107],[-9,-26],[-9,-62],[-21,-268],[9,-94],[-2,-71],[-12,-41],[-23,-46],[-3,-62],[-8,-37],[-14,-162],[2,-82],[8,-50],[-2,-102],[-21,-118],[-7,-136],[-20,-107],[-9,-156],[8,-76],[-5,-38],[8,-85],[-7,-57],[14,-62],[0,-85],[6,-63],[16,-59],[-4,-89],[-11,-107],[6,-145]],[[2682,386],[26,11],[1,-51],[-9,8],[-8,-28],[-10,60]],[[2636,452],[21,8],[-4,-21],[-13,-12],[-4,25]],[[2313,271],[13,35],[16,2],[19,68],[4,-20],[27,2],[4,-44],[-7,13],[-29,-30],[-23,-89],[-11,47],[-13,16]],[[90204,32599],[5,15],[34,16],[21,137],[6,65],[7,-11],[7,-43],[14,-11],[-10,-88],[-32,-109],[-9,-44],[-2,-111],[-12,-56],[-18,30],[-7,101],[8,50],[-12,59]],[[90597,35570],[10,43],[4,-16],[-8,-45],[-6,18]],[[90537,37432],[5,20],[1,-49],[-6,29]],[[90507,37973],[14,53],[0,59],[11,0],[0,-66],[-9,-13],[-10,-55],[-6,22]],[[90501,34555],[4,28],[2,101],[9,-12],[20,67],[5,-22],[-14,-80],[4,-63],[-13,7],[0,-73],[-12,18],[-5,29]],[[90487,38800],[6,39],[11,-28],[-1,-51],[-8,-23],[-7,25],[-1,38]],[[90486,35993],[20,2],[3,-36],[-19,-8],[-4,42]],[[90472,34420],[4,45],[13,54],[5,-54],[-4,-24],[7,-40],[-2,-61],[-9,-29],[-14,109]],[[90343,33382],[11,51],[21,35],[15,-9],[-2,-35],[-12,-13],[-8,-39],[-11,-6],[-5,23],[-9,-7]],[[28030,56345],[-13,-8],[-36,-51],[-27,-66],[-35,-121],[-18,-79],[-7,-45],[-16,-58],[-14,-93],[-13,-174],[3,-55],[-7,-48],[-14,-47],[-23,-41],[-9,-97],[-17,10],[-17,-16],[-11,39],[-16,-33],[-10,-63],[3,-31],[8,10],[0,-33],[-15,-20],[-18,-45],[-9,-52],[-34,-59],[-10,38],[-11,-7],[-1,-32],[17,-22],[-5,-59],[-25,-52],[-7,-40],[-10,5],[-24,-22],[-17,-59],[-6,18],[-36,-90],[-8,21],[-15,-28],[-2,30],[-13,-1],[-4,-42],[15,-83],[-7,-74],[-32,-62],[-19,-20],[-2,41],[-19,40],[-11,-22],[-2,-31],[12,-15],[14,-59],[-15,-65],[-25,-59],[-9,0],[-17,-67],[5,-21]],[[31708,38299],[11,-21],[12,13],[9,-36],[-17,-36],[-12,19],[-3,61]],[[31642,38028],[49,54],[35,-32],[-18,-26],[-21,-7],[-11,-24],[-8,12],[-17,-17],[-9,40]],[[31637,38350],[7,-14],[0,-44],[-7,58]],[[31170,38320],[15,18],[17,49],[-4,63],[7,32],[14,12],[20,-6],[17,-25],[50,2],[20,-22],[24,26],[18,-5],[25,-25],[8,20],[28,0],[27,-20],[16,1],[7,-19],[6,24],[37,-35],[4,19],[18,-18],[6,7],[31,-33],[14,-49],[7,13],[5,-27],[10,-6],[14,22],[-5,-40],[3,-84],[13,-30],[-7,-43],[-11,19],[3,-28],[-10,2],[-7,-32],[-13,1],[-11,-59],[-7,-83],[-8,-6],[-1,-44],[-25,-46],[-15,-9],[-12,12],[-7,-27],[-10,13],[-21,-43],[-10,9],[-9,-29],[-8,9],[-18,66],[-12,-10],[-7,-34],[-21,60],[-8,0],[-25,-33],[-14,24],[-12,-19],[-25,47],[-7,-39],[-14,-27],[-21,-3],[-12,-18],[-8,41],[-21,8],[-11,-32],[-19,19],[-12,-12],[1,53],[10,31],[-11,12],[3,65],[5,15],[1,75],[7,31],[-10,101],[-13,21],[-9,78]],[[30985,38023],[20,12],[5,-43],[-15,-38],[-12,32],[2,37]],[[31858,38286],[13,39],[11,-4],[15,-28],[-13,-4],[1,-49],[-9,20],[-13,-5],[-5,31]],[[31828,37522],[7,36],[-4,40],[7,30],[10,-13],[8,22],[17,3],[6,-29],[39,5],[2,-18],[-32,-48],[-41,-30],[-19,2]],[[31779,38288],[6,50],[10,-23],[12,26],[19,-21],[33,6],[-2,-23],[-14,-4],[9,-42],[-16,-11],[-15,23],[-7,-20],[-12,49],[-23,-10]],[[17306,73978],[171,1],[103,1]],[[18139,65823],[-119,3],[-36,-2],[-58,9],[-63,-7],[-79,0],[-293,0],[-184,5]],[[29478,69336],[71,5],[115,0],[40,-9],[62,-5],[57,2],[168,10]],[[25149,51924],[13,-63],[5,-76],[-3,-101],[-10,-105],[-4,3],[8,90],[4,100],[-1,46],[-12,106]],[[25020,51931],[11,38],[32,81],[2,-14],[-13,-63],[2,-28],[13,-33],[-15,-50],[-3,47],[-10,-10],[-17,10],[-2,22]],[[24941,51321],[17,10],[-9,-42],[-8,32]],[[24732,50824],[7,27],[13,-65],[-8,-14],[-12,52]],[[24681,50807],[39,-33],[-19,-8],[-20,41]],[[24628,50763],[25,19],[2,-17],[-26,-20],[-1,18]],[[24275,51386],[10,27],[12,-5],[3,26],[22,-6],[23,-61],[9,7],[6,-29],[-15,-36],[-1,-40],[-14,-19],[-59,115],[4,21]],[[24969,52072],[-17,-35],[-8,7],[-17,-56],[-2,-38],[-12,-15],[3,-40],[-28,17],[-11,-45],[5,-68],[18,-10],[13,25],[-4,-59],[8,-34],[15,-19],[13,11],[6,29],[5,101],[-2,13],[24,54],[3,44],[18,-34],[13,6],[0,-21],[-17,-34],[0,-34],[15,-17],[3,-61],[15,14],[11,82],[16,-25],[-4,-55],[-13,0],[-12,-44],[22,2],[-3,-29],[-31,-22],[13,-66],[11,22],[-7,-59],[-9,26],[-14,11],[-12,-55],[-1,-99],[-9,-5],[-6,86],[-11,1],[-2,-66],[13,-58],[-13,33],[-14,5],[-8,-17],[-15,6],[18,-39],[0,-32],[-23,49],[0,-25],[12,-32],[-12,-14],[1,-34],[11,-36],[20,-11],[-1,-22],[12,-24],[-1,-34],[7,-46],[9,30],[5,-21],[22,-2],[16,-34],[3,30],[20,-91],[11,44],[24,-111],[0,-59],[6,-13],[18,28],[7,-41],[-24,-15],[-2,-33],[16,-3],[-8,-52],[-11,24],[-12,-96],[2,-44],[-21,36],[-2,55],[-8,16],[-31,-138],[-15,-41],[7,67],[9,29],[5,48],[9,21],[0,54],[9,23],[-1,51],[-10,24],[-4,-62],[-16,-29],[-12,29],[-14,77],[-34,43],[-10,45],[-56,33],[-12,-14],[-48,-143],[-46,-115],[-7,10],[4,41],[-12,16],[-2,41],[6,3],[-12,100],[-11,27],[-9,-1],[1,-28],[-8,-36],[2,76],[-10,56],[-13,-64],[-14,14],[-7,-22],[-7,31],[-6,-27],[10,-63],[-12,4],[-7,-27],[-4,-54],[-8,7],[-5,-57],[-8,12],[-19,-33],[-6,-76],[-16,16],[5,21],[-13,67],[-18,57],[-11,-13],[-26,21],[-10,33],[-25,12],[-16,25],[-16,60],[12,14],[7,58],[8,-12],[12,-52],[7,22],[-1,-68],[15,-17],[-4,104],[-23,64],[0,42],[-11,7],[-9,-41],[-13,-13],[2,41],[-10,-7],[3,39],[9,28],[-10,40],[-29,-50],[-10,80],[-10,-8],[-6,118],[-26,1],[6,33],[1,85],[-32,16],[-13,-10],[-20,-38],[-7,57],[8,41],[8,-3],[-2,46],[-16,8],[-14,-22],[-9,20],[-2,-40],[-24,-36],[-14,-34],[-6,32],[-18,-16],[0,-32],[9,-30],[18,-8],[-9,-30],[8,-63],[20,21],[5,-18],[-13,-14],[6,-20],[-32,-6],[-26,-49],[-20,-9],[-82,63],[-35,42],[-57,101],[-23,32],[-41,40],[-33,5],[-14,-14],[-36,7],[-58,-25],[-17,-13],[-26,-53]],[[30097,65246],[-20,-46],[-6,102],[2,64],[-10,22],[2,-159],[-17,2],[-2,-35],[-10,-7],[-1,55],[16,95],[8,68],[17,46]],[[30029,65436],[5,7],[11,-52],[-5,-7],[-11,52]],[[30019,65203],[6,51],[-4,23],[5,57],[4,-20],[0,-85],[-11,-26]],[[29960,64853],[11,80],[5,-14],[1,-76],[-17,10]],[[30068,65494],[-3,-45],[-14,-41],[-6,42],[4,35],[-19,54],[-8,40],[5,-129],[-22,17],[12,-39],[1,-75],[-12,-11],[8,-53],[0,-72],[-10,-45],[-8,-73],[-12,6],[-27,-18],[-27,-34],[-38,-30],[-1,16]]]}});var yFe=we(C9=>{"use strict";m();var hmt=C9&&C9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(C9,"__esModule",{value:!0});C9.HTMLPointMapRenderer=void 0;var pmt=w2(),mmt=hmt(DH()),xmt=E9(),xFe=M0(),gFe=class extends xmt.HTMLChartRenderer{getDataValue(e){if(e.isNumber()||e.isString())return e.value;if(e.isTimestamp()||e.isDate())return(0,xFe.timeToString)(e.value,e.field.timeframe||pmt.TimestampTimeframe.Second);throw new Error("Invalid field type for point map chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for point map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],c=s?this.getDataType(s):void 0,d=o?this.getDataType(o):void 0,p=a?this.getDataType(a):void 0,b=s!==void 0?{field:s.name,type:c,axis:{title:s.name},scale:(0,xFe.getColorScale)(c,!1)}:void 0,C=o?{field:o.name,type:d,axis:{title:o.name}}:{value:5},N=a?{field:a.name,type:p,axis:{title:a.name}}:{value:"circle"};return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:mmt.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{mark:"point",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},size:C,color:b,shape:N}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-Roboto"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};C9.HTMLPointMapRenderer=gFe});var _Fe=we(OH=>{"use strict";m();Object.defineProperty(OH,"__esModule",{value:!0});OH.HTMLScatterChartRenderer=void 0;var gmt=lH(),vFe=class extends gmt.HTMLCartesianChartRenderer{getMark(){return"point"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for scatter chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for scatter chart.")}};OH.HTMLScatterChartRenderer=vFe});var EFe=we(w9=>{"use strict";m();var ymt=w9&&w9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(w9,"__esModule",{value:!0});w9.HTMLSegmentMapRenderer=void 0;var vmt=ymt(DH()),_mt=E9(),bmt=M0(),bFe=class extends _mt.HTMLChartRenderer{getDataValue(e){if(e.isNull()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for segment map.")}getDataType(e){if(e.isAtomicField()){if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for segment map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],c=a?this.getDataType(a):void 0,d=a!==void 0?{field:a.name,type:c,axis:{title:a.name},scale:(0,bmt.getColorScale)(c,!1)}:void 0;return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:vmt.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"lightgray",stroke:"white"}},{mark:"line",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},latitude2:{field:s.name,type:"quantitative"},longitude2:{field:o.name,type:"quantitative"},color:d}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};w9.HTMLSegmentMapRenderer=bFe});var SFe=we(NH=>{"use strict";m();Object.defineProperty(NH,"__esModule",{value:!0});NH.STATE_CODES=void 0;NH.STATE_CODES={AL:"01",Alabama:"01",AK:"02",Alaska:"02",AZ:"04",Arizona:"04",AR:"05",Arkansas:"05",CA:"06",California:"06",CO:"08",Colorado:"08",CT:"09",Connecticut:"09",DE:"10",Delaware:"10",DC:"11","District of Columbia":"11",FL:"12",Florida:"12",GA:"13",Georgia:"13",HI:"15",Hawaii:"12",ID:"16",Idaho:"16",IL:"17",Illinois:"17",IN:"18",Indiana:"18",IA:"19",Iowa:"19",KS:"20",Kansas:"20",KY:"21",Kentucky:"21",LA:"22",Louisiana:"22",ME:"23",Maine:"23",MD:"24",Maryland:"24",MA:"25",Massachusetts:"25",MI:"26",Michigan:"26",MN:"27",Minnesota:"27",MS:"28",Mississippi:"28",MO:"29",Missouri:"29",MT:"30",Montana:"30",NE:"31",Nebraska:"31",NV:"32",Nevada:"32",NH:"33","New Hampshire":"33",NJ:"34","New Jersey":"34",NM:"35","New Mexico":"35",NY:"36","New York":"36",NC:"37","North Carolina":"37",ND:"38","North Dakota":"38",OH:"39",Ohio:"39",OK:"40",Oklahoma:"40",OR:"41",Oregon:"41",PA:"42",Pennsylvania:"42",RI:"44","Rhode Island":"44",SC:"45","South Carolina":"45",SD:"46","South Dakota":"46",TN:"47",Tennessee:"47",TX:"48",Texas:"48",UT:"49",Utah:"49",VT:"50",Vermont:"50",VA:"51",Virginia:"51",WA:"53",Washington:"53",WV:"54","West Virginia":"54",WI:"55",Wisconsin:"55",WY:"56",Wyoming:"56",PR:"72","Puerto Rico":"72",VI:"78",AS:"60",MP:"69",GU:"66"}});var AFe=we(A9=>{"use strict";m();var Emt=A9&&A9.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(A9,"__esModule",{value:!0});A9.HTMLShapeMapRenderer=void 0;var CFe=Emt(DH()),Smt=E9(),Cmt=SFe(),wmt=M0(),wFe=class extends Smt.HTMLChartRenderer{getRegionField(e){return e.intrinsicFields[0]}getColorField(e){return e.intrinsicFields[1]}getDataValue(e){if(e.isNumber())return e.value;if(e.isString())if(e.field===this.getRegionField(e.field.parentExplore)){let t=Cmt.STATE_CODES[e.value];return t===void 0?void 0:t}else return e.value;else{if(e.isNull())return;throw new Error("Invalid field type for shape map.")}}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"nominal";if(e.isString())return e===this.getRegionField(e.parentExplore)?"quantitative":"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for shape map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");if(!e.isArray())throw new Error("Invalid data for shape map");let t=this.getRegionField(e.field),r=this.getColorField(e.field),i=r?this.getDataType(r):void 0,s=r!==void 0?{field:r.name,type:i,axis:{title:r.name},scale:(0,wmt.getColorScale)(i,!1)}:void 0,o=this.mapData(e).filter(a=>a[t.name]!==void 0);return{...this.getSize(),data:{values:o},projection:{type:"albersUsa"},layer:[{data:{values:CFe.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{transform:[{lookup:t.name,from:{data:{values:CFe.default,format:{type:"topojson",feature:"states"}},key:"id"},as:"geo"}],mark:"geoshape",encoding:{shape:{field:"geo",type:"geojson"},color:s}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};A9.HTMLShapeMapRenderer=wFe});var DFe=we(LH=>{"use strict";m();Object.defineProperty(LH,"__esModule",{value:!0});LH.HTMLTableRenderer=void 0;var Amt=eue(),Tmt=uN(),TFe=gH(),FFe=M0(),RH=class extends Tmt.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArray()&&!e.isRecord())throw new Error("Invalid type for Table Renderer");let t=this.document.createElement("tr");if(e.field.intrinsicFields.forEach(o=>{let a=o.name,d=this.childRenderers[a]instanceof TFe.HTMLNumberRenderer,p=this.document.createElement("th");p.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        text-align: ${d?"right":"left"};
      `,p.innerHTML=a.replace(/_/g,"_&#8203;"),t.appendChild(p)}),this.options.isDrillingEnabled){let o=this.document.createElement("th");o.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        width: 25px;
      `,t.appendChild(o)}let r=this.document.createElement("tbody");for(let o of e){let a=this.document.createElement("tr");for(let c of e.field.intrinsicFields){let d=this.childRenderers[c.name],p=d instanceof TFe.HTMLNumberRenderer;await(0,FFe.yieldTask)();let b=await d.render(o.cell(c)),C=this.document.createElement("td");C.style.cssText=`
          padding: ${d instanceof RH?"0":"8px"};
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          ${p?"text-align: right;":""}
        `,C.appendChild(b),a.appendChild(C)}if(this.options.isDrillingEnabled){let c=this.document.createElement("td"),d=(0,FFe.createDrillIcon)(this.document);c.appendChild(d),c.style.cssText=`
          padding: 8px;
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          width: 25px;
          cursor: pointer
        `,c.onclick=()=>{if(this.options.onDrill){let{drillQuery:p,drillFilters:b}=(0,Amt.getDrillQuery)(o);this.options.onDrill(p,d,b)}},a.appendChild(c)}r.appendChild(a)}let i=this.document.createElement("table");i.style.cssText=`
      border: 1px solid var(--malloy-border-color, #eaeaea);
      vertical-align: top;
      border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
      border-collapse: collapse;
      width: 100%;
    `;let s=this.document.createElement("thead");return s.appendChild(t),i.appendChild(s),i.appendChild(r),i}};LH.HTMLTableRenderer=RH});var tue=we(fv=>{"use strict";m();Object.defineProperty(fv,"__esModule",{value:!0});fv.makeRenderer=fv.JSONView=fv.HTMLView=void 0;var kH=w2(),OFe=LTe(),Fmt=MTe(),NFe=BTe(),Dmt=qTe(),Omt=$Te(),Nmt=VTe(),Rmt=eFe(),Lmt=rFe(),kmt=oFe(),Imt=uFe(),Mmt=fFe(),Pmt=sue(),Bmt=mFe(),jmt=gH(),qmt=yFe(),Umt=_Fe(),$mt=EFe(),zmt=AFe(),Hmt=DFe(),Vmt=Ob(),RFe=Xae(),IH=uN(),MH=M0(),LFe=class{constructor(e){this.document=e}async render(e,t){let r=IFe(e.field,this.document,t,{size:"large"});try{return await r.render(e)}catch(i){return i instanceof Error?(0,MH.createErrorElement)(this.document,i):(0,MH.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};fv.HTMLView=LFe;var kFe=class{constructor(e){this.document=e}async render(e){let t=new NFe.HTMLJSONRenderer(this.document);try{return await t.render(e)}catch(r){return r instanceof Error?(0,MH.createErrorElement)(this.document,r):(0,MH.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};fv.JSONView=kFe;function Wmt(n,e){let t=e[n.name];if(!t)for(let r of n.sourceClasses)t||(t=e[r]);return t}function PH(n){if(n.isExplore())return n;throw new Error(`${n.name} does not contain fields and cannot be rendered this way`)}function IFe(n,e,t,r){let i=Wmt(n,t.dataStyles)||{};if(i.renderer==="shape_map"||n.name.endsWith("_shape_map"))return new zmt.HTMLShapeMapRenderer(e,r,i);if(i.renderer==="point_map"||n.name.endsWith("_point_map"))return new qmt.HTMLPointMapRenderer(e,r);if(i.renderer==="image"||n.name.endsWith("_image"))return new Lmt.HTMLImageRenderer(e);if(i.renderer==="segment_map"||n.name.endsWith("_segment_map"))return new $mt.HTMLSegmentMapRenderer(e,r,i);if(i.renderer==="dashboard"||n.name.endsWith("_dashboard"))return IH.ContainerRenderer.make(Rmt.HTMLDashboardRenderer,e,PH(n),t);if(i.renderer==="json"||n.name.endsWith("_json"))return new NFe.HTMLJSONRenderer(e);if(i.renderer==="line_chart"||n.name.endsWith("_line_chart"))return new Imt.HTMLLineChartRenderer(e,r,i);if(i.renderer==="scatter_chart"||n.name.endsWith("_scatter_chart"))return new Umt.HTMLScatterChartRenderer(e,r);if(i.renderer==="bar_chart")return new OFe.HTMLBarChartRenderer(e,r,i);if(n.name.endsWith("_bar_chart"))return new OFe.HTMLBarChartRenderer(e,r,{});if(i.renderer==="vega"){let s=i.spec;if(s)return new RFe.HTMLVegaSpecRenderer(e,r,s);if(i.spec_name){let o=t.dataStyles[i.spec_name];if(o!==void 0&&o.renderer==="vega"){if(o.spec)return new RFe.HTMLVegaSpecRenderer(e,r,o.spec);throw new Error(`No spec defined on ${i.spec_name}`)}else throw new Error(`No Vega renderer named ${i.spec_name}`)}else throw new Error(`No top level vega spec defined for ${n.name}`)}else return i.renderer==="time"||n.hasParentExplore()&&n.isAtomicField()&&(n.type===kH.AtomicFieldType.Date||n.type===kH.AtomicFieldType.Timestamp)?new kmt.HTMLDateRenderer(e):i.renderer==="currency"?new Omt.HTMLCurrencyRenderer(e):i.renderer==="percent"?new Nmt.HTMLPercentRenderer(e):i.renderer==="number"||n.hasParentExplore()&&n.isAtomicField()&&n.type===kH.AtomicFieldType.Number?new jmt.HTMLNumberRenderer(e):i.renderer==="bytes"?new Dmt.HTMLBytesRenderer(e):i.renderer==="boolean"||n.hasParentExplore()&&n.isAtomicField()&&n.type===kH.AtomicFieldType.Boolean?new Fmt.HTMLBooleanRenderer(e):i.renderer==="link"||n.name.endsWith("_url")?new Mmt.HTMLLinkRenderer(e):i.renderer==="list"||n.name.endsWith("_list")?IH.ContainerRenderer.make(Pmt.HTMLListRenderer,e,PH(n),t):i.renderer==="list_detail"||n.name.endsWith("_list_detail")?IH.ContainerRenderer.make(Bmt.HTMLListDetailRenderer,e,PH(n),t):i.renderer==="table"||!n.hasParentExplore()||n.isExploreField()?IH.ContainerRenderer.make(Hmt.HTMLTableRenderer,e,PH(n),t):new Vmt.HTMLTextRenderer(e)}fv.makeRenderer=IFe});var PFe=we(T9=>{"use strict";m();Object.defineProperty(T9,"__esModule",{value:!0});T9.JSONView=T9.HTMLView=void 0;var MFe=tue();Object.defineProperty(T9,"HTMLView",{enumerable:!0,get:function(){return MFe.HTMLView}});Object.defineProperty(T9,"JSONView",{enumerable:!0,get:function(){return MFe.JSONView}})});var WFe=we((z$t,VFe)=>{m();VFe.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var tDe=we((H$t,eDe)=>{"use strict";m();var qH=Object.prototype.hasOwnProperty,QFe=Object.prototype.toString,GFe=Object.defineProperty,YFe=Object.getOwnPropertyDescriptor,KFe=function(e){return typeof Array.isArray=="function"?Array.isArray(e):QFe.call(e)==="[object Array]"},JFe=function(e){if(!e||QFe.call(e)!=="[object Object]")return!1;var t=qH.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&qH.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return typeof i=="undefined"||qH.call(e,i)},XFe=function(e,t){GFe&&t.name==="__proto__"?GFe(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},ZFe=function(e,t){if(t==="__proto__")if(qH.call(e,t)){if(YFe)return YFe(e,t).value}else return;return e[t]};eDe.exports=function n(){var e,t,r,i,s,o,a=arguments[0],c=1,d=arguments.length,p=!1;for(typeof a=="boolean"&&(p=a,a=arguments[1]||{},c=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});c<d;++c)if(e=arguments[c],e!=null)for(t in e)r=ZFe(a,t),i=ZFe(e,t),a!==i&&(p&&i&&(JFe(i)||(s=KFe(i)))?(s?(s=!1,o=r&&KFe(r)?r:[]):o=r&&JFe(r)?r:{},XFe(a,{name:t,newValue:n(p,o,i)})):typeof i!="undefined"&&XFe(a,{name:t,newValue:i}));return a}});var iDe=we((Q$t,rDe)=>{m();rDe.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var YDe=we((FWt,GDe)=>{"use strict";m();var $gt={}.hasOwnProperty;GDe.exports=$gt});var JDe=we((DWt,KDe)=>{"use strict";m();var zgt=[].splice;KDe.exports=zgt});var ZDe=we((OWt,XDe)=>{"use strict";m();var zue=JDe();function Hgt(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),zue.apply(n,o);else for(t&&zue.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),zue.apply(n,o),s+=1e4,e+=1e4}XDe.exports=Hgt});var tOe=we((NWt,eOe)=>{"use strict";m();function Vgt(n){return n==null?[]:"length"in n?n:[n]}eOe.exports=Vgt});var iOe=we((RWt,rOe)=>{"use strict";m();var nOe=YDe(),Wgt=ZDe(),Qgt=tOe();function Ggt(n){for(var e={},t=-1;++t<n.length;)Ygt(e,n[t]);return e}function Ygt(n,e){var t,r,i,s;for(t in e){r=nOe.call(n,t)?n[t]:n[t]={},i=e[t];for(s in i)r[s]=Kgt(Qgt(i[s]),nOe.call(r,s)?r[s]:[])}}function Kgt(n,e){for(var t=-1,r=[];++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);return Wgt(e,0,0,r),e}rOe.exports=Ggt});var oOe=we((LWt,sOe)=>{"use strict";m();var Jgt=String.fromCharCode;sOe.exports=Jgt});var gN=we((kWt,aOe)=>{"use strict";m();var Xgt=oOe();function Zgt(n){return e;function e(t){return n.test(Xgt(t))}}aOe.exports=Zgt});var lOe=we((IWt,uOe)=>{"use strict";m();var eyt=gN(),tyt=eyt(/[A-Za-z]/);uOe.exports=tyt});var fOe=we((MWt,cOe)=>{"use strict";m();var nyt=gN(),ryt=nyt(/[\dA-Za-z]/);cOe.exports=ryt});var hOe=we((PWt,dOe)=>{"use strict";m();function iyt(n){return n<32||n===127}dOe.exports=iyt});var mOe=we((BWt,pOe)=>{"use strict";m();function syt(n){return n<-2}pOe.exports=syt});var gOe=we((jWt,xOe)=>{"use strict";m();var oyt=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;xOe.exports=oyt});var vOe=we((qWt,yOe)=>{"use strict";m();var ayt=gOe(),uyt=gN(),lyt=uyt(ayt);yOe.exports=lyt});var bOe=we((UWt,_Oe)=>{"use strict";m();var cyt=gN(),fyt=cyt(/\s/);_Oe.exports=fyt});var POe=we(MOe=>{m();var EOe=lOe(),SOe=fOe(),COe=hOe(),dyt=mOe(),wOe=vOe(),AOe=bOe(),hyt={tokenize:gyt,partial:!0},TOe={tokenize:yyt,partial:!0},FOe={tokenize:vyt,partial:!0},N9={tokenize:byt,partial:!0},DOe={tokenize:_yt,partial:!0},OOe={tokenize:myt,previous:kOe},NOe={tokenize:xyt,previous:Vue},Fy={tokenize:pyt,previous:IOe},Nx={};MOe.text=Nx;var Mb=48;for(;Mb<123;)Nx[Mb]=Fy,Mb++,Mb===58?Mb=65:Mb===91&&(Mb=97);Nx[43]=Fy;Nx[45]=Fy;Nx[46]=Fy;Nx[95]=Fy;Nx[72]=[Fy,NOe];Nx[104]=[Fy,NOe];Nx[87]=[Fy,OOe];Nx[119]=[Fy,OOe];function pyt(n,e,t){var r=this,i;return s;function s(C){return!LOe(C)||!IOe(r.previous)||Wue(r.events)?t(C):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),o(C))}function o(C){return LOe(C)?(n.consume(C),o):C===64?(n.consume(C),a):t(C)}function a(C){return C===46?n.check(N9,b,c)(C):C===45||C===95?n.check(N9,t,d)(C):SOe(C)?(n.consume(C),a):b(C)}function c(C){return n.consume(C),i=!0,a}function d(C){return n.consume(C),p}function p(C){return C===46?n.check(N9,t,c)(C):a(C)}function b(C){return i?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(C)):t(C)}}function myt(n,e,t){var r=this;return i;function i(o){return o!==87&&o-32!==87||!kOe(r.previous)||Wue(r.events)?t(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(hyt,n.attempt(TOe,n.attempt(FOe,s),t),t)(o))}function s(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(o)}}function xyt(n,e,t){var r=this;return i;function i(R){return R!==72&&R-32!==72||!Vue(r.previous)||Wue(r.events)?t(R):(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),n.consume(R),s)}function s(R){return R===84||R-32===84?(n.consume(R),o):t(R)}function o(R){return R===84||R-32===84?(n.consume(R),a):t(R)}function a(R){return R===80||R-32===80?(n.consume(R),c):t(R)}function c(R){return R===83||R-32===83?(n.consume(R),d):d(R)}function d(R){return R===58?(n.consume(R),p):t(R)}function p(R){return R===47?(n.consume(R),b):t(R)}function b(R){return R===47?(n.consume(R),C):t(R)}function C(R){return COe(R)||AOe(R)||wOe(R)?t(R):n.attempt(TOe,n.attempt(FOe,N),t)(R)}function N(R){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(R)}}function gyt(n,e,t){return r;function r(c){return n.consume(c),i}function i(c){return c===87||c-32===87?(n.consume(c),s):t(c)}function s(c){return c===87||c-32===87?(n.consume(c),o):t(c)}function o(c){return c===46?(n.consume(c),a):t(c)}function a(c){return c===null||dyt(c)?t(c):e(c)}}function yyt(n,e,t){var r,i;return s;function s(c){return c===38?n.check(DOe,a,o)(c):c===46||c===95?n.check(N9,a,o)(c):COe(c)||AOe(c)||c!==45&&wOe(c)?a(c):(n.consume(c),s)}function o(c){return c===46?(i=r,r=void 0,n.consume(c),s):(c===95&&(r=!0),n.consume(c),s)}function a(c){return!i&&!r?e(c):t(c)}}function vyt(n,e){var t=0;return r;function r(o){return o===38?n.check(DOe,e,i)(o):(o===40&&t++,o===41?n.check(N9,s,i)(o):Hue(o)?e(o):ROe(o)?n.check(N9,e,i)(o):(n.consume(o),r))}function i(o){return n.consume(o),r}function s(o){return t--,t<0?e(o):i(o)}}function _yt(n,e,t){return r;function r(o){return n.consume(o),i}function i(o){return EOe(o)?(n.consume(o),i):o===59?(n.consume(o),s):t(o)}function s(o){return Hue(o)?e(o):t(o)}}function byt(n,e,t){return r;function r(s){return n.consume(s),i}function i(s){return ROe(s)?(n.consume(s),i):Hue(s)?e(s):t(s)}}function ROe(n){return n===33||n===34||n===39||n===41||n===42||n===44||n===46||n===58||n===59||n===60||n===63||n===95||n===126}function Hue(n){return n===null||n<0||n===32||n===60}function LOe(n){return n===43||n===45||n===46||n===95||SOe(n)}function kOe(n){return n===null||n<0||n===32||n===40||n===42||n===95||n===126}function Vue(n){return n===null||!EOe(n)}function IOe(n){return n!==47&&Vue(n)}function Wue(n){for(var e=n.length;e--;)if((n[e][1].type==="labelLink"||n[e][1].type==="labelImage")&&!n[e][1]._balanced)return!0}});var jOe=we((zWt,BOe)=>{m();BOe.exports=POe()});var UOe=we((HWt,qOe)=>{"use strict";m();function Eyt(n){return n<0||n===32}qOe.exports=Eyt});var zOe=we((VWt,$Oe)=>{"use strict";m();var Syt=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;$Oe.exports=Syt});var VOe=we((WWt,HOe)=>{"use strict";m();var Cyt=String.fromCharCode;HOe.exports=Cyt});var Que=we((QWt,WOe)=>{"use strict";m();var wyt=VOe();function Ayt(n){return e;function e(t){return n.test(wyt(t))}}WOe.exports=Ayt});var GOe=we((GWt,QOe)=>{"use strict";m();var Tyt=zOe(),Fyt=Que(),Dyt=Fyt(Tyt);QOe.exports=Dyt});var KOe=we((YWt,YOe)=>{"use strict";m();var Oyt=Que(),Nyt=Oyt(/\s/);YOe.exports=Nyt});var XOe=we((KWt,JOe)=>{"use strict";m();var Ryt=UOe(),Lyt=GOe(),kyt=KOe();function Iyt(n){if(n===null||Ryt(n)||kyt(n))return 1;if(Lyt(n))return 2}JOe.exports=Iyt});var eNe=we((JWt,ZOe)=>{"use strict";m();var Myt=[].splice;ZOe.exports=Myt});var nNe=we((XWt,tNe)=>{"use strict";m();var Gue=eNe();function Pyt(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),Gue.apply(n,o);else for(t&&Gue.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),Gue.apply(n,o),s+=1e4,e+=1e4}tNe.exports=Pyt});var iNe=we((ZWt,rNe)=>{"use strict";m();function Byt(n,e,t){for(var r=[],i=-1,s;++i<n.length;)s=n[i].resolveAll,s&&r.indexOf(s)<0&&(e=s(e,t),r.push(s));return e}rNe.exports=Byt});var oNe=we((eQt,sNe)=>{"use strict";m();var jyt=Object.assign;sNe.exports=jyt});var uNe=we((tQt,aNe)=>{"use strict";m();var qyt=oNe();function Uyt(n){return qyt({},n)}aNe.exports=Uyt});var fNe=we((nQt,cNe)=>{m();cNe.exports=zyt;var lNe=XOe(),Yue=nNe(),$yt=iNe(),XH=uNe();function zyt(n){var e=n||{},t=e.singleTilde,r={tokenize:o,resolveAll:i};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:r}};function i(a,c){for(var d=-1,p,b,C,N;++d<a.length;)if(a[d][0]==="enter"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._close){for(C=d;C--;)if(a[C][0]==="exit"&&a[C][1].type==="strikethroughSequenceTemporary"&&a[C][1]._open&&a[d][1].end.offset-a[d][1].start.offset===a[C][1].end.offset-a[C][1].start.offset){a[d][1].type="strikethroughSequence",a[C][1].type="strikethroughSequence",p={type:"strikethrough",start:XH(a[C][1].start),end:XH(a[d][1].end)},b={type:"strikethroughText",start:XH(a[C][1].end),end:XH(a[d][1].start)},N=[["enter",p,c],["enter",a[C][1],c],["exit",a[C][1],c],["enter",b,c]],Yue(N,N.length,0,$yt(c.parser.constructs.insideSpan.null,a.slice(C+1,d),c)),Yue(N,N.length,0,[["exit",b,c],["enter",a[d][1],c],["exit",a[d][1],c],["exit",p,c]]),Yue(a,C-1,d-C+3,N),d=C+N.length-2;break}}return s(a)}function s(a){for(var c=-1,d=a.length;++c<d;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function o(a,c,d){var p=this.previous,b=this.events,C=0;return N;function N(U){return U!==126||p===126&&b[b.length-1][1].type!=="characterEscape"?d(U):(a.enter("strikethroughSequenceTemporary"),R(U))}function R(U){var V=lNe(p),P,$;return U===126?C>1?d(U):(a.consume(U),C++,R):C<2&&!t?d(U):(P=a.exit("strikethroughSequenceTemporary"),$=lNe(U),P._open=!$||$===2&&V,P._close=!V||V===2&&$,c(U))}}}});var hNe=we((rQt,dNe)=>{"use strict";m();function Hyt(n){return n===-2||n===-1||n===32}dNe.exports=Hyt});var xNe=we((iQt,mNe)=>{"use strict";m();var pNe=hNe();function Vyt(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(c){return pNe(c)?(n.enter(t),a(c)):e(c)}function a(c){return pNe(c)&&s++<i?(n.consume(c),a):(n.exit(t),e(c))}}mNe.exports=Vyt});var vNe=we(yNe=>{m();yNe.flow={null:{tokenize:Gyt,resolve:Qyt,interruptible:!0}};var Kue=xNe(),Wyt={tokenize:Yyt,partial:!0},gNe={tokenize:Kyt,partial:!0};function Qyt(n,e){for(var t=n.length,r=-1,i,s,o,a,c,d,p,b,C,N;++r<t;)i=n[r][1],a&&(i.type==="temporaryTableCellContent"&&(b=b||r,C=r),(i.type==="tableCellDivider"||i.type==="tableRow")&&C&&(d={type:"tableContent",start:n[b][1].start,end:n[C][1].end},p={type:"chunkText",start:d.start,end:d.end,contentType:"text"},n.splice(b,C-b+1,["enter",d,e],["enter",p,e],["exit",p,e],["exit",d,e]),r-=C-b-3,t=n.length,b=void 0,C=void 0)),n[r][0]==="exit"&&N&&N+1<r&&(i.type==="tableCellDivider"||i.type==="tableRow"&&(N+3<r||n[N][1].type!=="whitespace"))&&(c={type:o?"tableDelimiter":s?"tableHeader":"tableData",start:n[N][1].start,end:n[r][1].end},n.splice(r+(i.type==="tableCellDivider"?1:0),0,["exit",c,e]),n.splice(N,0,["enter",c,e]),r+=2,t=n.length,N=r+1),i.type==="tableRow"&&(a=n[r][0]==="enter",a&&(N=r+1)),i.type==="tableDelimiterRow"&&(o=n[r][0]==="enter",o&&(N=r+1)),i.type==="tableHead"&&(s=n[r][0]==="enter");return n}function Gyt(n,e,t){var r=[],i=0,s,o;return a;function a(te){return te===null||te===-5||te===-4||te===-3?t(te):(n.enter("table")._align=r,n.enter("tableHead"),n.enter("tableRow"),te===124?c(te):(i++,n.enter("temporaryTableCellContent"),b(te)))}function c(te){return n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),s=!0,d}function d(te){return te===null||te===-5||te===-4||te===-3?N(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),p):(s&&(s=void 0,i++),te===124?c(te):(n.enter("temporaryTableCellContent"),b(te)))}function p(te){return te===-2||te===-1||te===32?(n.consume(te),p):(n.exit("whitespace"),d(te))}function b(te){return te===null||te<0||te===32||te===124?(n.exit("temporaryTableCellContent"),d(te)):(n.consume(te),te===92?C:b)}function C(te){return te===92||te===124?(n.consume(te),b):b(te)}function N(te){return te===null?t(te):(n.exit("tableRow"),n.exit("tableHead"),n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),n.check(Wyt,t,Kue(n,R,"linePrefix",4)))}function R(te){return te===null||te<0||te===32?t(te):(n.enter("tableDelimiterRow"),U(te))}function U(te){return te===null||te===-5||te===-4||te===-3?G(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),V):te===45?(n.enter("tableDelimiterFiller"),n.consume(te),o=!0,r.push(null),P):te===58?(n.enter("tableDelimiterAlignment"),n.consume(te),n.exit("tableDelimiterAlignment"),r.push("left"),$):te===124?(n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),U):t(te)}function V(te){return te===-2||te===-1||te===32?(n.consume(te),V):(n.exit("whitespace"),U(te))}function P(te){return te===45?(n.consume(te),P):(n.exit("tableDelimiterFiller"),te===58?(n.enter("tableDelimiterAlignment"),n.consume(te),n.exit("tableDelimiterAlignment"),r[r.length-1]=r[r.length-1]==="left"?"center":"right",M):U(te))}function $(te){return te===45?(n.enter("tableDelimiterFiller"),n.consume(te),o=!0,P):t(te)}function M(te){return te===null||te===-5||te===-4||te===-3?G(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),V):te===124?(n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),U):t(te)}function G(te){return n.exit("tableDelimiterRow"),!o||i!==r.length?t(te):te===null?ae(te):n.check(gNe,ae,I)(te)}function ae(te){return n.exit("table"),e(te)}function I(te){return n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),Kue(n,Z,"linePrefix",4)}function Z(te){return n.enter("tableBody"),me(te)}function me(te){return n.enter("tableRow"),te===124?ye(te):(n.enter("temporaryTableCellContent"),at(te))}function ye(te){return n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),He}function He(te){return te===null||te===-5||te===-4||te===-3?Tt(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),ot):te===124?ye(te):(n.enter("temporaryTableCellContent"),at(te))}function ot(te){return te===-2||te===-1||te===32?(n.consume(te),ot):(n.exit("whitespace"),He(te))}function at(te){return te===null||te<0||te===32||te===124?(n.exit("temporaryTableCellContent"),He(te)):(n.consume(te),te===92?Ze:at)}function Ze(te){return te===92||te===124?(n.consume(te),at):at(te)}function Tt(te){return n.exit("tableRow"),te===null?Mt(te):n.check(gNe,Mt,Ue)(te)}function Mt(te){return n.exit("tableBody"),ae(te)}function Ue(te){return n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),Kue(n,me,"linePrefix",4)}}function Yyt(n,e,t){return r;function r(o){return o!==45?t(o):(n.enter("setextUnderline"),i(o))}function i(o){return o===45?(n.consume(o),i):s(o)}function s(o){return o===-2||o===-1||o===32?(n.consume(o),s):o===null||o===-5||o===-4||o===-3?e(o):t(o)}}function Kyt(n,e,t){var r=0;return i;function i(o){return n.enter("check"),n.consume(o),s}function s(o){return o===-1||o===32?(n.consume(o),r++,r===4?e:s):o===null||o<0?e(o):t(o)}}});var bNe=we((oQt,_Ne)=>{m();_Ne.exports=vNe()});var SNe=we((aQt,ENe)=>{"use strict";m();function Jyt(n){return n<0||n===32}ENe.exports=Jyt});var wNe=we((uQt,CNe)=>{"use strict";m();function Xyt(n){return n===-2||n===-1||n===32}CNe.exports=Xyt});var FNe=we((lQt,TNe)=>{"use strict";m();var ANe=wNe();function Zyt(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(c){return ANe(c)?(n.enter(t),a(c)):e(c)}function a(c){return ANe(c)&&s++<i?(n.consume(c),a):(n.exit(t),e(c))}}TNe.exports=Zyt});var ONe=we((cQt,DNe)=>{"use strict";m();function e3t(n){for(var e=-1,t=0;++e<n.length;)t+=typeof n[e]=="string"?n[e].length:1;return t}DNe.exports=e3t});var RNe=we((fQt,NNe)=>{"use strict";m();var t3t=ONe();function n3t(n,e){var t=n[n.length-1];return!t||t[1].type!==e?0:t3t(t[2].sliceStream(t[1]))}NNe.exports=n3t});var kNe=we(LNe=>{m();var r3t=SNe(),i3t=FNe(),s3t=RNe(),o3t={tokenize:a3t};LNe.text={91:o3t};function a3t(n,e,t){var r=this;return i;function i(a){return a!==91||r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(a):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),s)}function s(a){return a===-2||a===32?(n.enter("taskListCheckValueUnchecked"),n.consume(a),n.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(n.enter("taskListCheckValueChecked"),n.consume(a),n.exit("taskListCheckValueChecked"),o):t(a)}function o(a){return a===93?(n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),n.check({tokenize:u3t},e,t)):t(a)}}function u3t(n,e,t){var r=this;return i3t(n,i,"whitespace");function i(s){return s3t(r.events,"whitespace")&&s!==null&&!r3t(s)?e(s):t(s)}}});var MNe=we((hQt,INe)=>{m();INe.exports=kNe()});var BNe=we((pQt,PNe)=>{m();var l3t=iOe(),c3t=jOe(),f3t=fNe(),d3t=bNe(),h3t=MNe();PNe.exports=p3t;function p3t(n){return l3t([c3t,f3t(n),d3t,h3t])}});var qNe=we((mQt,jNe)=>{m();jNe.exports=BNe()});var $Ne=we((xQt,UNe)=>{"use strict";m();UNe.exports=m3t;function m3t(n,e){var t=String(n),r=0,i;if(typeof e!="string")throw new Error("Expected character");for(i=t.indexOf(e);i!==-1;)r++,i=t.indexOf(e,i+e.length);return r}});var Jue=we((gQt,HNe)=>{"use strict";m();HNe.exports=zNe;function zNe(n){if(n==null)return v3t;if(typeof n=="string")return y3t(n);if(typeof n=="object")return"length"in n?g3t(n):x3t(n);if(typeof n=="function")return n;throw new Error("Expected function, string, or object as test")}function x3t(n){return e;function e(t){var r;for(r in n)if(t[r]!==n[r])return!1;return!0}}function g3t(n){for(var e=[],t=-1;++t<n.length;)e[t]=zNe(n[t]);return r;function r(){for(var i=-1;++i<e.length;)if(e[i].apply(this,arguments))return!0;return!1}}function y3t(n){return e;function e(t){return Boolean(t&&t.type===n)}}function v3t(){return!0}});var WNe=we((yQt,VNe)=>{m();VNe.exports=_3t;function _3t(n){return n}});var KNe=we((vQt,YNe)=>{"use strict";m();YNe.exports=ZH;var b3t=Jue(),E3t=WNe(),QNe=!0,GNe="skip",Xue=!1;ZH.CONTINUE=QNe;ZH.SKIP=GNe;ZH.EXIT=Xue;function ZH(n,e,t,r){var i,s;typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),s=b3t(e),i=r?-1:1,o(n,null,[])();function o(a,c,d){var p=typeof a=="object"&&a!==null?a:{},b;return typeof p.type=="string"&&(b=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0,C.displayName="node ("+E3t(p.type+(b?"<"+b+">":""))+")"),C;function C(){var N=d.concat(a),R=[],U,V;if((!e||s(a,c,d[d.length-1]||null))&&(R=S3t(t(a,d)),R[0]===Xue))return R;if(a.children&&R[0]!==GNe)for(V=(r?a.children.length:-1)+i;V>-1&&V<a.children.length;){if(U=o(a.children[V],V,N)(),U[0]===Xue)return U;V=typeof U[1]=="number"?U[1]:V+i}return R}}}function S3t(n){return n!==null&&typeof n=="object"&&"length"in n?n:typeof n=="number"?[QNe,n]:[n]}});var XNe=we((_Qt,JNe)=>{"use strict";m();JNe.exports=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}});var rRe=we((bQt,nRe)=>{"use strict";m();nRe.exports=F3t;var C3t=KNe(),w3t=Jue(),A3t=XNe(),T3t=[].splice;function F3t(n,e,t,r){var i,s;return typeof e=="string"||e&&typeof e.exec=="function"?s=[[e,t]]:(s=e,r=t),i=r||{},ZNe(n,i,o(D3t(s))),n;function o(a){var c=a[0];return d;function d(p,b){var C=c[0],N=c[1],R=[],U=0,V=b.children.indexOf(p),P,$,M,G;for(C.lastIndex=0,$=C.exec(p.value);$&&(P=$.index,G=N.apply(null,[].concat($,{index:$.index,input:$.input})),G!==!1&&(U!==P&&R.push({type:"text",value:p.value.slice(U,P)}),typeof G=="string"&&G.length>0&&(G={type:"text",value:G}),G&&(R=[].concat(R,G)),U=P+$[0].length),!!C.global);)$=C.exec(p.value);if(P===void 0?(R=[p],V--):(U<p.value.length&&R.push({type:"text",value:p.value.slice(U)}),R.unshift(V,1),T3t.apply(b.children,R)),a.length>1)for(M=o(a.slice(1)),P=-1;++P<R.length;)p=R[P],p.type==="text"?M(p,b):ZNe(p,i,M);return V+R.length+1}}}function ZNe(n,e,t){var r=w3t(e.ignore||[]),i=[];return C3t(n,"text",s),i;function s(o,a){for(var c=-1,d,p;++c<a.length;){if(d=a[c],r(d,p?p.children.indexOf(d):void 0,p))return;p=d}return t(o,p)}}function D3t(n){var e=[],t,r;if(typeof n!="object")throw new Error("Expected array or object as schema");if("length"in n)for(r=-1;++r<n.length;)e.push([eRe(n[r][0]),tRe(n[r][1])]);else for(t in n)e.push([eRe(t),tRe(n[t])]);return e}function eRe(n){return typeof n=="string"?new RegExp(A3t(n),"g"):n}function tRe(n){return typeof n=="function"?n:e;function e(){return n}}});var sRe=we((EQt,iRe)=>{"use strict";m();var O3t=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;iRe.exports=O3t});var aRe=we((SQt,oRe)=>{"use strict";m();var N3t=String.fromCharCode;oRe.exports=N3t});var Zue=we((CQt,uRe)=>{"use strict";m();var R3t=aRe();function L3t(n){return e;function e(t){return n.test(R3t(t))}}uRe.exports=L3t});var cRe=we((wQt,lRe)=>{"use strict";m();var k3t=sRe(),I3t=Zue(),M3t=I3t(k3t);lRe.exports=M3t});var dRe=we((AQt,fRe)=>{"use strict";m();var P3t=Zue(),B3t=P3t(/\s/);fRe.exports=B3t});var mRe=we(eV=>{m();var hRe=$Ne(),j3t=rRe(),q3t=cRe(),U3t=dRe();eV.transforms=[Q3t];eV.enter={literalAutolink:$3t,literalAutolinkEmail:ele,literalAutolinkHttp:ele,literalAutolinkWww:ele};eV.exit={literalAutolink:W3t,literalAutolinkEmail:V3t,literalAutolinkHttp:z3t,literalAutolinkWww:H3t};function $3t(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function ele(n){this.config.enter.autolinkProtocol.call(this,n)}function z3t(n){this.config.exit.autolinkProtocol.call(this,n)}function H3t(n){this.config.exit.data.call(this,n),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(n)}function V3t(n){this.config.exit.autolinkEmail.call(this,n)}function W3t(n){this.exit(n)}function Q3t(n){j3t(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/i,G3t],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/,Y3t]],{ignore:["link","linkReference"]})}function G3t(n,e,t,r,i){var s="",o,a;return!pRe(i)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!K3t(t))||(o=J3t(t+r),!o[0])?!1:(a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]},o[1]&&(a=[a,{type:"text",value:o[1]}]),a)}function Y3t(n,e,t,r){return!pRe(r,!0)||/[_-]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function K3t(n){var e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function J3t(n){var e=/[!"&'),.:;<>?\]}]+$/.exec(n),t,r,i;if(e)for(n=n.slice(0,e.index),e=e[0],t=e.indexOf(")"),r=hRe(n,"("),i=hRe(n,")");t!==-1&&r>i;)n+=e.slice(0,t+1),e=e.slice(t+1),t=e.indexOf(")"),i++;return[n,e]}function pRe(n,e){var t=n.input.charCodeAt(n.index-1);return(t!==t||U3t(t)||q3t(t))&&(!e||t!==47)}});var xRe=we(tV=>{m();tV.canContainEols=["delete"];tV.enter={strikethrough:X3t};tV.exit={strikethrough:Z3t};function X3t(n){this.enter({type:"delete",children:[]},n)}function Z3t(n){this.exit(n)}});var yRe=we(nle=>{m();nle.enter={table:e4t,tableData:gRe,tableHeader:gRe,tableRow:n4t};nle.exit={codeText:r4t,table:t4t,tableData:tle,tableHeader:tle,tableRow:tle};function e4t(n){this.enter({type:"table",align:n._align,children:[]},n),this.setData("inTable",!0)}function t4t(n){this.exit(n),this.setData("inTable")}function n4t(n){this.enter({type:"tableRow",children:[]},n)}function tle(n){this.exit(n)}function gRe(n){this.enter({type:"tableCell",children:[]},n)}function r4t(n){var e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,i4t)),this.stack[this.stack.length-1].value=e,this.exit(n)}function i4t(n,e){return e==="|"?e:n}});var bRe=we(_Re=>{m();_Re.exit={taskListCheckValueChecked:vRe,taskListCheckValueUnchecked:vRe,paragraph:s4t};function vRe(n){this.stack[this.stack.length-2].checked=n.type==="taskListCheckValueChecked"}function s4t(n){var e=this.stack[this.stack.length-2],t=this.stack[this.stack.length-1],r=e.children,i=t.children[0],s=-1,o;if(e&&e.type==="listItem"&&typeof e.checked=="boolean"&&i&&i.type==="text"){for(;++s<r.length;)if(r[s].type==="paragraph"){o=r[s];break}o===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}this.exit(n)}});var SRe=we((NQt,ERe)=>{m();var o4t=mRe(),a4t=xRe(),u4t=yRe(),l4t=bRe(),c4t={}.hasOwnProperty;ERe.exports=f4t([o4t,a4t,u4t,l4t]);function f4t(n){for(var e={transforms:[],canContainEols:[]},t=n.length,r=-1;++r<t;)d4t(e,n[r]);return e}function d4t(n,e){var t,r,i;for(t in e)r=c4t.call(n,t)?n[t]:n[t]={},i=e[t],t==="canContainEols"||t==="transforms"?n[t]=[].concat(r,i):Object.assign(r,i)}});var wRe=we(CRe=>{m();var rle="phrasing",ile=["autolink","link","image","label"];CRe.unsafe=[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:rle,notInConstruct:ile},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:rle,notInConstruct:ile},{character:":",before:"[ps]",after:"\\/",inConstruct:rle,notInConstruct:ile}]});var TRe=we((LQt,ARe)=>{m();ARe.exports=h4t;function h4t(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,c,d;++s<r.length;)d=r[s],s+1<r.length?(c=e.handle.handlers[r[s+1].type],c&&c.peek&&(c=c.peek),a=c?c(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&d.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(d,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var DRe=we(sle=>{m();var p4t=TRe();sle.unsafe=[{character:"~",inConstruct:"phrasing"}];sle.handlers={delete:FRe};FRe.peek=m4t;function FRe(n,e,t){var r=t.enter("emphasis"),i=p4t(n,t,{before:"~",after:"~"});return r(),"~~"+i+"~~"}function m4t(){return"~"}});var NRe=we((IQt,ORe)=>{m();ORe.exports=x4t;function x4t(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,c,d;++s<r.length;)d=r[s],s+1<r.length?(c=e.handle.handlers[r[s+1].type],c&&c.peek&&(c=c.peek),a=c?c(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&d.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(d,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var LRe=we((MQt,RRe)=>{m();RRe.exports=g4t;function g4t(n){var e,t;return n._compiled||(e=n.before?"(?:"+n.before+")":"",t=n.after?"(?:"+n.after+")":"",n.atBreak&&(e="[\\r\\n][\\t ]*"+e),n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(t||""),"g")),n._compiled}});var MRe=we((PQt,IRe)=>{m();IRe.exports=kRe;kRe.peek=v4t;var y4t=LRe();function kRe(n,e,t){for(var r=n.value||"",i="`",s=-1,o,a,c,d;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/[ \r\n`]/.test(r.charAt(0))||/[ \r\n`]/.test(r.charAt(r.length-1)))&&(r=" "+r+" ");++s<t.unsafe.length;)if(o=t.unsafe[s],!!o.atBreak)for(a=y4t(o);c=a.exec(r);)d=c.index,r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(c.index+1);return i+r+i}function v4t(){return"`"}});var nV=we((BQt,PRe)=>{"use strict";m();var Dy="",ole;PRe.exports=_4t;function _4t(n,e){if(typeof n!="string")throw new TypeError("expected a string");if(e===1)return n;if(e===2)return n+n;var t=n.length*e;if(ole!==n||typeof ole=="undefined")ole=n,Dy="";else if(Dy.length>=t)return Dy.substr(0,t);for(;t>Dy.length&&e>1;)e&1&&(Dy+=n),e>>=1,n+=n;return Dy+=n,Dy=Dy.substr(0,t),Dy}});var $Re=we((jQt,URe)=>{"use strict";m();var R9=nV();URe.exports=T4t;var b4t=/ +$/,Pb=" ",E4t=`
`,S4t="-",rV=":",BRe="|",jRe=0,C4t=67,w4t=76,A4t=82,iV=99,ale=108,sV=114;function T4t(n,e){for(var t=e||{},r=t.padding!==!1,i=t.delimiterStart!==!1,s=t.delimiterEnd!==!1,o=(t.align||[]).concat(),a=t.alignDelimiters!==!1,c=[],d=t.stringLength||D4t,p=-1,b=n.length,C=[],N=[],R=[],U=[],V=[],P=0,$,M,G,ae,I,Z,me,ye,He,ot,at;++p<b;){for($=n[p],M=-1,G=$.length,R=[],U=[],G>P&&(P=G);++M<G;)Z=F4t($[M]),a===!0&&(I=d(Z),U[M]=I,ae=V[M],(ae===void 0||I>ae)&&(V[M]=I)),R.push(Z);C[p]=R,N[p]=U}if(M=-1,G=P,typeof o=="object"&&"length"in o)for(;++M<G;)c[M]=qRe(o[M]);else for(at=qRe(o);++M<G;)c[M]=at;for(M=-1,G=P,R=[],U=[];++M<G;)at=c[M],He="",ot="",at===ale?He=rV:at===sV?ot=rV:at===iV&&(He=rV,ot=rV),I=a?Math.max(1,V[M]-He.length-ot.length):1,Z=He+R9(S4t,I)+ot,a===!0&&(I=He.length+I+ot.length,I>V[M]&&(V[M]=I),U[M]=I),R[M]=Z;for(C.splice(1,0,R),N.splice(1,0,U),p=-1,b=C.length,me=[];++p<b;){for(R=C[p],U=N[p],M=-1,G=P,ye=[];++M<G;)Z=R[M]||"",He="",ot="",a===!0&&(I=V[M]-(U[M]||0),at=c[M],at===sV?He=R9(Pb,I):at===iV?I%2===0?(He=R9(Pb,I/2),ot=He):(He=R9(Pb,I/2+.5),ot=R9(Pb,I/2-.5)):ot=R9(Pb,I)),i===!0&&M===0&&ye.push(BRe),r===!0&&!(a===!1&&Z==="")&&(i===!0||M!==0)&&ye.push(Pb),a===!0&&ye.push(He),ye.push(Z),a===!0&&ye.push(ot),r===!0&&ye.push(Pb),(s===!0||M!==G-1)&&ye.push(BRe);ye=ye.join(""),s===!1&&(ye=ye.replace(b4t,"")),me.push(ye)}return me.join(E4t)}function F4t(n){return n==null?"":String(n)}function D4t(n){return n.length}function qRe(n){var e=typeof n=="string"?n.charCodeAt(0):jRe;return e===w4t||e===ale?ale:e===A4t||e===sV?sV:e===C4t||e===iV?iV:jRe}});var HRe=we((qQt,zRe)=>{m();var O4t=NRe(),N4t=MRe(),R4t=$Re();zRe.exports=L4t;function L4t(n){var e=n||{},t=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:o,tableRow:a,tableCell:c,inlineCode:C}};function o(N,R,U){return d(p(N,U),N.align)}function a(N,R,U){var V=b(N,U),P=d([V]);return P.slice(0,P.indexOf(`
`))}function c(N,R,U){var V=U.enter("tableCell"),P=O4t(N,U,{before:s,after:s});return V(),P}function d(N,R){return R4t(N,{align:R,alignDelimiters:r,padding:t,stringLength:i})}function p(N,R){for(var U=N.children,V=-1,P=U.length,$=[],M=R.enter("table");++V<P;)$[V]=b(U[V],R);return M(),$}function b(N,R){for(var U=N.children,V=-1,P=U.length,$=[],M=R.enter("tableRow");++V<P;)$[V]=c(U[V],N,R);return M(),$}function C(N,R,U){var V=N4t(N,R,U);return U.stack.indexOf("tableCell")!==-1&&(V=V.replace(/\|/g,"\\$&")),V}}});var WRe=we((UQt,VRe)=>{m();VRe.exports=k4t;function k4t(n){var e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}});var GRe=we(($Qt,QRe)=>{m();QRe.exports=I4t;function I4t(n){var e=n.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}});var KRe=we((zQt,YRe)=>{m();YRe.exports=P4t;var M4t=nV();function P4t(n,e){for(var t=n.children||[],r=[],i=-1,s;++i<t.length;)s=t[i],r.push(e.handle(s,n,e,{before:`
`,after:`
`})),i+1<t.length&&r.push(o(s,t[i+1]));return r.join("");function o(a,c){for(var d=-1,p;++d<e.join.length&&(p=e.join[d](a,c,n,e),!(p===!0||p===1));){if(typeof p=="number")return M4t(`
`,1+Number(p));if(p===!1)return`

<!---->

`}return`

`}}});var XRe=we((HQt,JRe)=>{m();JRe.exports=j4t;var B4t=/\r?\n|\r/g;function j4t(n,e){for(var t=[],r=0,i=0,s;s=B4t.exec(n);)o(n.slice(r,s.index)),t.push(s[0]),r=s.index+s[0].length,i++;return o(n.slice(r)),t.join("");function o(a){t.push(e(a,i,!a))}}});var tLe=we((VQt,eLe)=>{m();eLe.exports=H4t;var ZRe=nV(),q4t=WRe(),U4t=GRe(),$4t=KRe(),z4t=XRe();function H4t(n,e,t){var r=q4t(t),i=U4t(t),s,o,a;return e&&e.ordered&&(r=(e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+"."),s=r.length+1,(i==="tab"||i==="mixed"&&(e&&e.spread||n.spread))&&(s=Math.ceil(s/4)*4),a=t.enter("listItem"),o=z4t($4t(n,t),c),a(),o;function c(d,p,b){return p?(b?"":ZRe(" ",s))+d:(b?r:r+ZRe(" ",s-r.length))+d}}});var nLe=we(ule=>{m();var V4t=tLe();ule.unsafe=[{atBreak:!0,character:"-",after:"[:|-]"}];ule.handlers={listItem:W4t};function W4t(n,e,t){var r=V4t(n,e,t),i=n.children[0];return typeof n.checked=="boolean"&&i&&i.type==="paragraph"&&(r=r.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,s)),r;function s(o){return o+"["+(n.checked?"x":" ")+"] "}}});var sLe=we((QQt,iLe)=>{m();iLe.exports=rLe;function rLe(n,e){var t=-1,r;if(e.extensions)for(;++t<e.extensions.length;)rLe(n,e.extensions[t]);for(r in e)r==="extensions"||(r==="unsafe"||r==="join"?n[r]=n[r].concat(e[r]||[]):r==="handlers"?n[r]=Object.assign(n[r],e[r]||{}):n.options[r]=e[r]);return n}});var aLe=we((GQt,oLe)=>{m();var Q4t=wRe(),G4t=DRe(),Y4t=HRe(),K4t=nLe(),J4t=sLe();oLe.exports=X4t;function X4t(n){var e=J4t({handlers:{},join:[],unsafe:[],options:{}},{extensions:[Q4t,G4t,Y4t(n),K4t]});return Object.assign(e.options,{handlers:e.handlers,join:e.join,unsafe:e.unsafe})}});var cLe=we((YQt,lLe)=>{"use strict";m();var Z4t=qNe(),e5t=SRe(),t5t=aLe(),uLe;lLe.exports=n5t;function n5t(n){var e=this.data();!uLe&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(uLe=!0,console.warn("[remark-gfm] Warning: please upgrade to remark 13 to use this plugin")),t("micromarkExtensions",Z4t(n)),t("fromMarkdownExtensions",e5t),t("toMarkdownExtensions",t5t(n));function t(r,i){e[r]?e[r].push(i):e[r]=[i]}}});var ALe={};FQ(ALe,{getCLS:()=>I5t,getFCP:()=>bLe,getFID:()=>B5t,getLCP:()=>j5t,getTTFB:()=>q5t});var mv,vN,yLe,uV,Oy,lV,cV,_N,xv,bN,vLe,_Le,dle,bLe,ELe,hle,I5t,EN,M5t,SLe,CLe,P5t,wLe,B5t,ple,j5t,q5t,TLe=TQ(()=>{m();Oy=function(n,e){return{name:n,value:e===void 0?-1:e,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},lV=function(n,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if(n==="first-input"&&!("PerformanceEventTiming"in self))return;var t=new PerformanceObserver(function(r){return r.getEntries().map(e)});return t.observe({type:n,buffered:!0}),t}}catch{}},cV=function(n,e){var t=function r(i){i.type!=="pagehide"&&document.visibilityState!=="hidden"||(n(i),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},_N=function(n){addEventListener("pageshow",function(e){e.persisted&&n(e)},!0)},xv=function(n,e,t){var r;return function(i){e.value>=0&&(i||t)&&(e.delta=e.value-(r||0),(e.delta||r===void 0)&&(r=e.value,n(e)))}},bN=-1,vLe=function(){return document.visibilityState==="hidden"?0:1/0},_Le=function(){cV(function(n){var e=n.timeStamp;bN=e},!0)},dle=function(){return bN<0&&(bN=vLe(),_Le(),_N(function(){setTimeout(function(){bN=vLe(),_Le()},0)})),{get firstHiddenTime(){return bN}}},bLe=function(n,e){var t,r=dle(),i=Oy("FCP"),s=function(c){c.name==="first-contentful-paint"&&(a&&a.disconnect(),c.startTime<r.firstHiddenTime&&(i.value=c.startTime,i.entries.push(c),t(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=o?null:lV("paint",s);(o||a)&&(t=xv(n,i,e),o&&s(o),_N(function(c){i=Oy("FCP"),t=xv(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-c.timeStamp,t(!0)})})}))},ELe=!1,hle=-1,I5t=function(n,e){ELe||(bLe(function(d){hle=d.value}),ELe=!0);var t,r=function(d){hle>-1&&n(d)},i=Oy("CLS",0),s=0,o=[],a=function(d){if(!d.hadRecentInput){var p=o[0],b=o[o.length-1];s&&d.startTime-b.startTime<1e3&&d.startTime-p.startTime<5e3?(s+=d.value,o.push(d)):(s=d.value,o=[d]),s>i.value&&(i.value=s,i.entries=o,t())}},c=lV("layout-shift",a);c&&(t=xv(r,i,e),cV(function(){c.takeRecords().map(a),t(!0)}),_N(function(){s=0,hle=-1,i=Oy("CLS",0),t=xv(r,i,e)}))},EN={passive:!0,capture:!0},M5t=new Date,SLe=function(n,e){mv||(mv=e,vN=n,yLe=new Date,wLe(removeEventListener),CLe())},CLe=function(){if(vN>=0&&vN<yLe-M5t){var n={entryType:"first-input",name:mv.type,target:mv.target,cancelable:mv.cancelable,startTime:mv.timeStamp,processingStart:mv.timeStamp+vN};uV.forEach(function(e){e(n)}),uV=[]}},P5t=function(n){if(n.cancelable){var e=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(t,r){var i=function(){SLe(t,r),o()},s=function(){o()},o=function(){removeEventListener("pointerup",i,EN),removeEventListener("pointercancel",s,EN)};addEventListener("pointerup",i,EN),addEventListener("pointercancel",s,EN)}(e,n):SLe(e,n)}},wLe=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return n(e,P5t,EN)})},B5t=function(n,e){var t,r=dle(),i=Oy("FID"),s=function(a){a.startTime<r.firstHiddenTime&&(i.value=a.processingStart-a.startTime,i.entries.push(a),t(!0))},o=lV("first-input",s);t=xv(n,i,e),o&&cV(function(){o.takeRecords().map(s),o.disconnect()},!0),o&&_N(function(){var a;i=Oy("FID"),t=xv(n,i,e),uV=[],vN=-1,mv=null,wLe(addEventListener),a=s,uV.push(a),CLe()})},ple={},j5t=function(n,e){var t,r=dle(),i=Oy("LCP"),s=function(c){var d=c.startTime;d<r.firstHiddenTime&&(i.value=d,i.entries.push(c),t())},o=lV("largest-contentful-paint",s);if(o){t=xv(n,i,e);var a=function(){ple[i.id]||(o.takeRecords().map(s),o.disconnect(),ple[i.id]=!0,t(!0))};["keydown","click"].forEach(function(c){addEventListener(c,a,{once:!0,capture:!0})}),cV(a,!0),_N(function(c){i=Oy("LCP"),t=xv(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-c.timeStamp,ple[i.id]=!0,t(!0)})})})}},q5t=function(n){var e,t=Oy("TTFB");e=function(){try{var r=performance.getEntriesByType("navigation")[0]||function(){var i=performance.timing,s={entryType:"navigation",startTime:0};for(var o in i)o!=="navigationStart"&&o!=="toJSON"&&(s[o]=Math.max(i[o]-i.navigationStart,0));return s}();if(t.value=t.delta=r.responseStart,t.value<0||t.value>performance.now())return;t.entries=[r],n(t)}catch{}},document.readyState==="complete"?setTimeout(e,0):addEventListener("load",function(){return setTimeout(e,0)})}});m();var fV=xr(Rr()),DLe=xr(Nk());m();m();m();m();m();m();m();function DA(n,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DA(n,e)}function Ih(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,DA(n,e)}m();var wp=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}();m();m();function qs(){return qs=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qs.apply(this,arguments)}var i_=typeof window=="undefined";function ol(){}function Bde(n,e){return typeof n=="function"?n(e):n}function OA(n){return typeof n=="number"&&n>=0&&n!==1/0}function NA(n){return Array.isArray(n)?n:[n]}function Rk(n,e){return Math.max(n+(e||0)-Date.now(),0)}function YE(n,e,t){return kA(n)?typeof e=="function"?qs({},t,{queryKey:n,queryFn:e}):qs({},e,{queryKey:n}):n}function jde(n,e,t){return kA(n)?typeof e=="function"?qs({},t,{mutationKey:n,mutationFn:e}):qs({},e,{mutationKey:n}):typeof n=="function"?qs({},e,{mutationFn:n}):qs({},n)}function rm(n,e,t){return kA(n)?[qs({},e,{queryKey:n}),t]:[n||{},e]}function FBe(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function WY(n,e){var t=n.active,r=n.exact,i=n.fetching,s=n.inactive,o=n.predicate,a=n.queryKey,c=n.stale;if(kA(a)){if(r){if(e.queryHash!==RA(a,e.options))return!1}else if(!LA(e.queryKey,a))return!1}var d=FBe(t,s);if(d==="none")return!1;if(d!=="all"){var p=e.isActive();if(d==="active"&&!p||d==="inactive"&&p)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function QY(n,e){var t=n.exact,r=n.fetching,i=n.predicate,s=n.mutationKey;if(kA(s)){if(!e.options.mutationKey)return!1;if(t){if(E3(e.options.mutationKey)!==E3(s))return!1}else if(!LA(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function RA(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||E3;return t(n)}function E3(n){var e=NA(n);return DBe(e)}function DBe(n){return JSON.stringify(n,function(e,t){return GY(t)?Object.keys(t).sort().reduce(function(r,i){return r[i]=t[i],r},{}):t})}function LA(n,e){return qde(NA(n),NA(e))}function qde(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!qde(n[t],e[t])}):!1}function KE(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||GY(n)&&GY(e)){for(var r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),s=i.length,o=t?[]:{},a=0,c=0;c<s;c++){var d=t?c:i[c];o[d]=KE(n[d],e[d]),o[d]===n[d]&&a++}return r===s&&a===r?n:o}return e}function Ude(n,e){if(n&&!e||e&&!n)return!1;for(var t in n)if(n[t]!==e[t])return!1;return!0}function GY(n){if(!$de(n))return!1;var e=n.constructor;if(typeof e=="undefined")return!0;var t=e.prototype;return!(!$de(t)||!t.hasOwnProperty("isPrototypeOf"))}function $de(n){return Object.prototype.toString.call(n)==="[object Object]"}function kA(n){return typeof n=="string"||Array.isArray(n)}function zde(n){return new Promise(function(e){setTimeout(e,n)})}function YY(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function Lk(){if(typeof AbortController=="function")return new AbortController}var OBe=function(n){Ih(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!i_&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},t.setFocused=function(i){this.focused=i,i&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(i){i()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(wp),S3=new OBe;m();var NBe=function(n){Ih(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!i_&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},t.setOnline=function(i){this.online=i,i&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(i){i()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine},e}(wp),JE=new NBe;function RBe(n){return Math.min(1e3*Math.pow(2,n),3e4)}function IA(n){return typeof(n==null?void 0:n.cancel)=="function"}var Hde=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function XE(n){return n instanceof Hde}var kk=function(e){var t=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(C){return i==null?void 0:i(C)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(C,N){o=C,a=N});var c=function(N){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(N),s==null||s(),o(N))},d=function(N){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(N),s==null||s(),a(N))},p=function(){return new Promise(function(N){s=N,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},b=function C(){if(!t.isResolved){var N;try{N=e.fn()}catch(R){N=Promise.reject(R)}i=function(U){if(!t.isResolved&&(d(new Hde(U)),t.abort==null||t.abort(),IA(N)))try{N.cancel()}catch{}},t.isTransportCancelable=IA(N),Promise.resolve(N).then(c).catch(function(R){var U,V;if(!t.isResolved){var P=(U=e.retry)!=null?U:3,$=(V=e.retryDelay)!=null?V:RBe,M=typeof $=="function"?$(t.failureCount,R):$,G=P===!0||typeof P=="number"&&t.failureCount<P||typeof P=="function"&&P(t.failureCount,R);if(r||!G){d(R);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,R),zde(M).then(function(){if(!S3.isFocused()||!JE.isOnline())return p()}).then(function(){r?d(R):C()})}})}};b()};m();m();m();var LBe=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):YY(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&YY(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),Wo=new LBe;m();var Vde=console;function s_(){return Vde}function KY(n){Vde=n}var Wde=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(r){var i;this.options=qs({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),OA(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,c=Bde(r,a);return((s=(o=this.options).isDataEqual)==null?void 0:s.call(o,a,c))?c=a:this.options.structuralSharing!==!1&&(c=KE(a,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),c},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(ol).catch(ol):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Rk(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i==null?void 0:i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var d;return(d=this.retryer)==null||d.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var p=this.observers.find(function($){return $.options.queryFn});p&&this.setOptions(p.options)}var b=NA(this.queryKey),C=Lk(),N={queryKey:b,pageParam:void 0,meta:this.meta};Object.defineProperty(N,"signal",{enumerable:!0,get:function(){if(C)return s.abortSignalConsumed=!0,C.signal}});var R=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(N)):Promise.reject("Missing queryFn")},U={fetchOptions:i,options:this.options,queryKey:b,state:this.state,fetchFn:R,meta:this.meta};if((o=this.options.behavior)==null?void 0:o.onFetch){var V;(V=this.options.behavior)==null||V.onFetch(U)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=U.fetchOptions)==null?void 0:a.meta)){var P;this.dispatch({type:"fetch",meta:(P=U.fetchOptions)==null?void 0:P.meta})}return this.retryer=new kk({fn:U.fetchFn,abort:C==null||(c=C.abort)==null?void 0:c.bind(C),onSuccess:function(M){s.setData(M),s.cache.config.onSuccess==null||s.cache.config.onSuccess(M,s),s.cacheTime===0&&s.optionalRemove()},onError:function(M){XE(M)&&M.silent||s.dispatch({type:"error",error:M}),XE(M)||(s.cache.config.onError==null||s.cache.config.onError(M,s),s_().error(M)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:U.options.retry,retryDelay:U.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Wo.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData!="undefined",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i!="undefined";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return qs({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return qs({},r,{isPaused:!0});case"continue":return qs({},r,{isPaused:!1});case"fetch":return qs({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return qs({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return XE(a)&&a.revert&&this.revertState?qs({},this.revertState):qs({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return qs({},r,{isInvalidated:!0});case"setState":return qs({},r,i.state);default:return r}},n}();var Qde=function(n){Ih(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var t=e.prototype;return t.build=function(i,s,o){var a,c=s.queryKey,d=(a=s.queryHash)!=null?a:RA(c,s),p=this.get(d);return p||(p=new Wde({cache:this,queryKey:c,queryHash:d,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(c),meta:s.meta}),this.add(p)),p},t.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},t.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},t.clear=function(){var i=this;Wo.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},t.get=function(i){return this.queriesMap[i]},t.getAll=function(){return this.queries},t.find=function(i,s){var o=rm(i,s),a=o[0];return typeof a.exact=="undefined"&&(a.exact=!0),this.queries.find(function(c){return WY(a,c)})},t.findAll=function(i,s){var o=rm(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(c){return WY(a,c)}):this.queries},t.notify=function(i){var s=this;Wo.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){var i=this;Wo.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},t.onOnline=function(){var i=this;Wo.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(wp);m();m();m();var Gde=function(){function n(t){this.options=qs({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||JY(),this.meta=t.meta}var e=n.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(ol).catch(ol)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),s_().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new kk({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=kBe(this.state,r),Wo.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},n}();function JY(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function kBe(n,e){switch(e.type){case"failed":return qs({},n,{failureCount:n.failureCount+1});case"pause":return qs({},n,{isPaused:!0});case"continue":return qs({},n,{isPaused:!1});case"loading":return qs({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return qs({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return qs({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return qs({},n,e.state);default:return n}}var Yde=function(n){Ih(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var t=e.prototype;return t.build=function(i,s,o){var a=new Gde({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},t.add=function(i){this.mutations.push(i),this.notify(i)},t.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},t.clear=function(){var i=this;Wo.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},t.getAll=function(){return this.mutations},t.find=function(i){return typeof i.exact=="undefined"&&(i.exact=!0),this.mutations.find(function(s){return QY(i,s)})},t.findAll=function(i){return this.mutations.filter(function(s){return QY(i,s)})},t.notify=function(i){var s=this;Wo.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Wo.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(ol)})},Promise.resolve())})},e}(wp);m();function Kde(){return{onFetch:function(e){e.fetchFn=function(){var t,r,i,s,o,a,c=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,d=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,p=d==null?void 0:d.pageParam,b=(d==null?void 0:d.direction)==="forward",C=(d==null?void 0:d.direction)==="backward",N=((o=e.state.data)==null?void 0:o.pages)||[],R=((a=e.state.data)==null?void 0:a.pageParams)||[],U=Lk(),V=U==null?void 0:U.signal,P=R,$=!1,M=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},G=function(Tt,Mt,Ue,te){return P=te?[Mt].concat(P):[].concat(P,[Mt]),te?[Ue].concat(Tt):[].concat(Tt,[Ue])},ae=function(Tt,Mt,Ue,te){if($)return Promise.reject("Cancelled");if(typeof Ue=="undefined"&&!Mt&&Tt.length)return Promise.resolve(Tt);var st={queryKey:e.queryKey,signal:V,pageParam:Ue,meta:e.meta},be=M(st),Re=Promise.resolve(be).then(function(xe){return G(Tt,Ue,xe,te)});if(IA(be)){var Ae=Re;Ae.cancel=be.cancel}return Re},I;if(!N.length)I=ae([]);else if(b){var Z=typeof p!="undefined",me=Z?p:Jde(e.options,N);I=ae(N,Z,me)}else if(C){var ye=typeof p!="undefined",He=ye?p:IBe(e.options,N);I=ae(N,ye,He,!0)}else(function(){P=[];var Ze=typeof e.options.getNextPageParam=="undefined",Tt=c&&N[0]?c(N[0],0,N):!0;I=Tt?ae([],Ze,R[0]):Promise.resolve(G([],R[0],N[0]));for(var Mt=function(st){I=I.then(function(be){var Re=c&&N[st]?c(N[st],st,N):!0;if(Re){var Ae=Ze?R[st]:Jde(e.options,be);return ae(be,Ze,Ae)}return Promise.resolve(G(be,R[st],N[st]))})},Ue=1;Ue<N.length;Ue++)Mt(Ue)})();var ot=I.then(function(Ze){return{pages:Ze,pageParams:P}}),at=ot;return at.cancel=function(){$=!0,U==null||U.abort(),IA(I)&&I.cancel()},ot}}}}function Jde(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function IBe(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}var XY=function(){function n(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new Qde,this.mutationCache=t.mutationCache||new Yde,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=S3.subscribe(function(){S3.isFocused()&&JE.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=JE.subscribe(function(){S3.isFocused()&&JE.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=rm(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(qs({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=YE(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return Wo.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var c=a.queryKey;return[c,o.setQueryData(c,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=rm(r,i),o=s[0],a=this.queryCache;Wo.batch(function(){a.findAll(o).forEach(function(c){a.remove(c)})})},e.resetQueries=function(r,i,s){var o=this,a=rm(r,i,s),c=a[0],d=a[1],p=this.queryCache,b=qs({},c,{active:!0});return Wo.batch(function(){return p.findAll(c).forEach(function(C){C.reset()}),o.refetchQueries(b,d)})},e.cancelQueries=function(r,i,s){var o=this,a=rm(r,i,s),c=a[0],d=a[1],p=d===void 0?{}:d;typeof p.revert=="undefined"&&(p.revert=!0);var b=Wo.batch(function(){return o.queryCache.findAll(c).map(function(C){return C.cancel(p)})});return Promise.all(b).then(ol).catch(ol)},e.invalidateQueries=function(r,i,s){var o,a,c,d=this,p=rm(r,i,s),b=p[0],C=p[1],N=qs({},b,{active:(o=(a=b.refetchActive)!=null?a:b.active)!=null?o:!0,inactive:(c=b.refetchInactive)!=null?c:!1});return Wo.batch(function(){return d.queryCache.findAll(b).forEach(function(R){R.invalidate()}),d.refetchQueries(N,C)})},e.refetchQueries=function(r,i,s){var o=this,a=rm(r,i,s),c=a[0],d=a[1],p=Wo.batch(function(){return o.queryCache.findAll(c).map(function(C){return C.fetch(void 0,qs({},d,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),b=Promise.all(p).then(ol);return(d==null?void 0:d.throwOnError)||(b=b.catch(ol)),b},e.fetchQuery=function(r,i,s){var o=YE(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry=="undefined"&&(a.retry=!1);var c=this.queryCache.build(this,a);return c.isStaleByTime(a.staleTime)?c.fetch(a):Promise.resolve(c.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(ol).catch(ol)},e.fetchInfiniteQuery=function(r,i,s){var o=YE(r,i,s);return o.behavior=Kde(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(ol).catch(ol)},e.cancelMutations=function(){var r=this,i=Wo.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(ol).catch(ol)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return E3(r)===E3(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return LA(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return E3(r)===E3(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return LA(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r==null?void 0:r._defaulted)return r;var i=qs({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=RA(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return(r==null?void 0:r._defaulted)?r:qs({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}();m();var ZY=function(n){Ih(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var t=e.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Xde(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return eK(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return eK(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&Zde(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var d=this.computeRefetchInterval();c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)},t.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(i,s){var o=this,a={},c=function(p){o.trackedProps.includes(p)||o.trackedProps.push(p)};return Object.keys(i).forEach(function(d){Object.defineProperty(a,d,{configurable:!1,enumerable:!0,get:function(){return c(d),i[d]}})}),(s.useErrorBoundary||s.suspense)&&c("error"),a},t.getNextResult=function(i){var s=this;return new Promise(function(o,a){var c=s.subscribe(function(d){d.isFetching||(c(),d.isError&&(i==null?void 0:i.throwOnError)?a(d.error):o(d))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(i){return this.fetch(qs({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},t.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},t.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},t.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return(i==null?void 0:i.throwOnError)||(s=s.catch(ol)),s},t.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(i_||this.currentResult.isStale||!OA(this.options.staleTime))){var s=Rk(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},t.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},t.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(i_||this.options.enabled===!1||!OA(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||S3.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(i,s){var o=this.currentQuery,a=this.options,c=this.currentResult,d=this.currentResultState,p=this.currentResultOptions,b=i!==o,C=b?i.state:this.currentQueryInitialState,N=b?this.currentResult:this.previousQueryResult,R=i.state,U=R.dataUpdatedAt,V=R.error,P=R.errorUpdatedAt,$=R.isFetching,M=R.status,G=!1,ae=!1,I;if(s.optimisticResults){var Z=this.hasListeners(),me=!Z&&Xde(i,s),ye=Z&&Zde(i,o,s,a);(me||ye)&&($=!0,U||(M="loading"))}if(s.keepPreviousData&&!R.dataUpdateCount&&(N==null?void 0:N.isSuccess)&&M!=="error")I=N.data,U=N.dataUpdatedAt,M=N.status,G=!0;else if(s.select&&typeof R.data!="undefined")if(c&&R.data===(d==null?void 0:d.data)&&s.select===this.selectFn)I=this.selectResult;else try{this.selectFn=s.select,I=s.select(R.data),s.structuralSharing!==!1&&(I=KE(c==null?void 0:c.data,I)),this.selectResult=I,this.selectError=null}catch(at){s_().error(at),this.selectError=at}else I=R.data;if(typeof s.placeholderData!="undefined"&&typeof I=="undefined"&&(M==="loading"||M==="idle")){var He;if((c==null?void 0:c.isPlaceholderData)&&s.placeholderData===(p==null?void 0:p.placeholderData))He=c.data;else if(He=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof He!="undefined")try{He=s.select(He),s.structuralSharing!==!1&&(He=KE(c==null?void 0:c.data,He)),this.selectError=null}catch(at){s_().error(at),this.selectError=at}typeof He!="undefined"&&(M="success",I=He,ae=!0)}this.selectError&&(V=this.selectError,I=this.selectResult,P=Date.now(),M="error");var ot={status:M,isLoading:M==="loading",isSuccess:M==="success",isError:M==="error",isIdle:M==="idle",data:I,dataUpdatedAt:U,error:V,errorUpdatedAt:P,failureCount:R.fetchFailureCount,errorUpdateCount:R.errorUpdateCount,isFetched:R.dataUpdateCount>0||R.errorUpdateCount>0,isFetchedAfterMount:R.dataUpdateCount>C.dataUpdateCount||R.errorUpdateCount>C.errorUpdateCount,isFetching:$,isRefetching:$&&M!=="loading",isLoadingError:M==="error"&&R.dataUpdatedAt===0,isPlaceholderData:ae,isPreviousData:G,isRefetchError:M==="error"&&R.dataUpdatedAt!==0,isStale:tK(i,s),refetch:this.refetch,remove:this.remove};return ot},t.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!a&&!c||a==="tracked"&&!this.trackedProps.length)return!0;var d=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(p){var b=p,C=i[b]!==s[b],N=d==null?void 0:d.some(function(U){return U===p}),R=c==null?void 0:c.some(function(U){return U===p});return C&&!R&&(!d||N)})},t.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Ude(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(qs({},o,i))}},t.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},t.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!XE(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},t.notify=function(i){var s=this;Wo.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(wp);function MBe(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Xde(n,e){return MBe(n,e)||n.state.dataUpdatedAt>0&&eK(n,e,e.refetchOnMount)}function eK(n,e,t){if(e.enabled!==!1){var r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&tK(n,e)}return!1}function Zde(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&tK(n,t)}function tK(n,e){return n.isStaleByTime(e.staleTime)}m();var ehe=function(n){Ih(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var t=e.prototype;return t.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},t.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},t.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},t.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},t.getCurrentResult=function(){return this.currentResult},t.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},t.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,qs({},this.options,{variables:typeof i!="undefined"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},t.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:JY(),s=qs({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},t.notify=function(i){var s=this;Wo.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(wp);m();m();m();var the=xr(Nk()),nhe=the.default.unstable_batchedUpdates;Wo.setBatchNotifyFunction(nhe);m();m();var rhe=console;KY(rhe);m();var C3=xr(Rr()),ihe=C3.default.createContext(void 0),she=C3.default.createContext(!1);function ohe(n){return n&&typeof window!="undefined"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ihe),window.ReactQueryClientContext):ihe}var o_=function(){var e=C3.default.useContext(ohe(C3.default.useContext(she)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},nK=function(e){var t=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;C3.default.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var o=ohe(i);return C3.default.createElement(she.Provider,{value:i},C3.default.createElement(o.Provider,{value:t},s))};m();var rK=xr(Rr());function PBe(){var n=!1;return{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}}}var BBe=rK.default.createContext(PBe()),ahe=function(){return rK.default.useContext(BBe)};m();var ZE=xr(Rr());m();function Ik(n,e,t){return typeof e=="function"?e.apply(void 0,t):typeof e=="boolean"?e:!!n}function a_(n,e,t){var r=ZE.default.useRef(!1),i=ZE.default.useState(0),s=i[1],o=jde(n,e,t),a=o_(),c=ZE.default.useRef();c.current?c.current.setOptions(o):c.current=new ehe(a,o);var d=c.current.getCurrentResult();ZE.default.useEffect(function(){r.current=!0;var b=c.current.subscribe(Wo.batchCalls(function(){r.current&&s(function(C){return C+1})}));return function(){r.current=!1,b()}},[]);var p=ZE.default.useCallback(function(b,C){c.current.mutate(b,C).catch(ol)},[]);if(d.error&&Ik(void 0,c.current.options.useErrorBoundary,[d.error]))throw d.error;return qs({},d,{mutate:p,mutateAsync:d.mutate})}m();m();var e7=xr(Rr());function uhe(n,e){var t=e7.default.useRef(!1),r=e7.default.useState(0),i=r[1],s=o_(),o=ahe(),a=s.defaultQueryObserverOptions(n);a.optimisticResults=!0,a.onError&&(a.onError=Wo.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Wo.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Wo.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var c=e7.default.useState(function(){return new e(s,a)}),d=c[0],p=d.getOptimisticResult(a);if(e7.default.useEffect(function(){t.current=!0,o.clearReset();var b=d.subscribe(Wo.batchCalls(function(){t.current&&i(function(C){return C+1})}));return d.updateResult(),function(){t.current=!1,b()}},[o,d]),e7.default.useEffect(function(){d.setOptions(a,{listeners:!1})},[a,d]),a.suspense&&p.isLoading)throw d.fetchOptimistic(a).then(function(b){var C=b.data;a.onSuccess==null||a.onSuccess(C),a.onSettled==null||a.onSettled(C,null)}).catch(function(b){o.clearReset(),a.onError==null||a.onError(b),a.onSettled==null||a.onSettled(void 0,b)});if(p.isError&&!o.isReset()&&!p.isFetching&&Ik(a.suspense,a.useErrorBoundary,[p.error,d.getCurrentQuery()]))throw p.error;return a.notifyOnChangeProps==="tracked"&&(p=d.trackResult(p,a)),p}function im(n,e,t){var r=YE(n,e,t);return uhe(r,ZY)}m();m();m();var yN=xr(Rr());m();var nI=xr(dhe()),Pu=xr(Rr()),khe=xr(phe());m();function UBe(n){function e(xe,Je,lt,Qt,Et){for(var mn=0,Lt=0,kt=0,cn=0,wt,Ee,Ie=0,Ce=0,fe,rt=fe=wt=0,Xe=0,de=0,Ge=0,Ot=0,Nt=lt.length,zt=Nt-1,en,Xt="",bn="",Tn="",Dn="",Ut;Xe<Nt;){if(Ee=lt.charCodeAt(Xe),Xe===zt&&Lt+cn+kt+mn!==0&&(Lt!==0&&(Ee=Lt===47?10:47),cn=kt=mn=0,Nt++,zt++),Lt+cn+kt+mn===0){if(Xe===zt&&(0<de&&(Xt=Xt.replace(C,"")),0<Xt.trim().length)){switch(Ee){case 32:case 9:case 59:case 13:case 10:break;default:Xt+=lt.charAt(Xe)}Ee=59}switch(Ee){case 123:for(Xt=Xt.trim(),wt=Xt.charCodeAt(0),fe=1,Ot=++Xe;Xe<Nt;){switch(Ee=lt.charCodeAt(Xe)){case 123:fe++;break;case 125:fe--;break;case 47:switch(Ee=lt.charCodeAt(Xe+1)){case 42:case 47:e:{for(rt=Xe+1;rt<zt;++rt)switch(lt.charCodeAt(rt)){case 47:if(Ee===42&&lt.charCodeAt(rt-1)===42&&Xe+2!==rt){Xe=rt+1;break e}break;case 10:if(Ee===47){Xe=rt+1;break e}}Xe=rt}}break;case 91:Ee++;case 40:Ee++;case 34:case 39:for(;Xe++<zt&&lt.charCodeAt(Xe)!==Ee;);}if(fe===0)break;Xe++}switch(fe=lt.substring(Ot,Xe),wt===0&&(wt=(Xt=Xt.replace(b,"").trim()).charCodeAt(0)),wt){case 64:switch(0<de&&(Xt=Xt.replace(C,"")),Ee=Xt.charCodeAt(1),Ee){case 100:case 109:case 115:case 45:de=Je;break;default:de=Ue}if(fe=e(Je,de,fe,Ee,Et+1),Ot=fe.length,0<st&&(de=t(Ue,Xt,Ge),Ut=a(3,fe,de,Je,Ze,at,Ot,Ee,Et,Qt),Xt=de.join(""),Ut!==void 0&&(Ot=(fe=Ut.trim()).length)===0&&(Ee=0,fe="")),0<Ot)switch(Ee){case 115:Xt=Xt.replace(I,o);case 100:case 109:case 45:fe=Xt+"{"+fe+"}";break;case 107:Xt=Xt.replace($,"$1 $2"),fe=Xt+"{"+fe+"}",fe=Mt===1||Mt===2&&s("@"+fe,3)?"@-webkit-"+fe+"@"+fe:"@"+fe;break;default:fe=Xt+fe,Qt===112&&(fe=(bn+=fe,""))}else fe="";break;default:fe=e(Je,t(Je,Xt,Ge),fe,Qt,Et+1)}Tn+=fe,fe=Ge=de=rt=wt=0,Xt="",Ee=lt.charCodeAt(++Xe);break;case 125:case 59:if(Xt=(0<de?Xt.replace(C,""):Xt).trim(),1<(Ot=Xt.length))switch(rt===0&&(wt=Xt.charCodeAt(0),wt===45||96<wt&&123>wt)&&(Ot=(Xt=Xt.replace(" ",":")).length),0<st&&(Ut=a(1,Xt,Je,xe,Ze,at,bn.length,Qt,Et,Qt))!==void 0&&(Ot=(Xt=Ut.trim()).length)===0&&(Xt="\0\0"),wt=Xt.charCodeAt(0),Ee=Xt.charCodeAt(1),wt){case 0:break;case 64:if(Ee===105||Ee===99){Dn+=Xt+lt.charAt(Xe);break}default:Xt.charCodeAt(Ot-1)!==58&&(bn+=i(Xt,wt,Ee,Xt.charCodeAt(2)))}Ge=de=rt=wt=0,Xt="",Ee=lt.charCodeAt(++Xe)}}switch(Ee){case 13:case 10:Lt===47?Lt=0:1+wt===0&&Qt!==107&&0<Xt.length&&(de=1,Xt+="\0"),0<st*Re&&a(0,Xt,Je,xe,Ze,at,bn.length,Qt,Et,Qt),at=1,Ze++;break;case 59:case 125:if(Lt+cn+kt+mn===0){at++;break}default:switch(at++,en=lt.charAt(Xe),Ee){case 9:case 32:if(cn+mn+Lt===0)switch(Ie){case 44:case 58:case 9:case 32:en="";break;default:Ee!==32&&(en=" ")}break;case 0:en="\\0";break;case 12:en="\\f";break;case 11:en="\\v";break;case 38:cn+Lt+mn===0&&(de=Ge=1,en="\f"+en);break;case 108:if(cn+Lt+mn+Tt===0&&0<rt)switch(Xe-rt){case 2:Ie===112&&lt.charCodeAt(Xe-3)===58&&(Tt=Ie);case 8:Ce===111&&(Tt=Ce)}break;case 58:cn+Lt+mn===0&&(rt=Xe);break;case 44:Lt+kt+cn+mn===0&&(de=1,en+="\r");break;case 34:case 39:Lt===0&&(cn=cn===Ee?0:cn===0?Ee:cn);break;case 91:cn+Lt+kt===0&&mn++;break;case 93:cn+Lt+kt===0&&mn--;break;case 41:cn+Lt+mn===0&&kt--;break;case 40:if(cn+Lt+mn===0){if(wt===0)switch(2*Ie+3*Ce){case 533:break;default:wt=1}kt++}break;case 64:Lt+kt+cn+mn+rt+fe===0&&(fe=1);break;case 42:case 47:if(!(0<cn+mn+kt))switch(Lt){case 0:switch(2*Ee+3*lt.charCodeAt(Xe+1)){case 235:Lt=47;break;case 220:Ot=Xe,Lt=42}break;case 42:Ee===47&&Ie===42&&Ot+2!==Xe&&(lt.charCodeAt(Ot+2)===33&&(bn+=lt.substring(Ot,Xe+1)),en="",Lt=0)}}Lt===0&&(Xt+=en)}Ce=Ie,Ie=Ee,Xe++}if(Ot=bn.length,0<Ot){if(de=Je,0<st&&(Ut=a(2,bn,de,xe,Ze,at,Ot,Qt,Et,Qt),Ut!==void 0&&(bn=Ut).length===0))return Dn+bn+Tn;if(bn=de.join(",")+"{"+bn+"}",Mt*Tt!==0){switch(Mt!==2||s(bn,2)||(Tt=0),Tt){case 111:bn=bn.replace(G,":-moz-$1")+bn;break;case 112:bn=bn.replace(M,"::-webkit-input-$1")+bn.replace(M,"::-moz-$1")+bn.replace(M,":-ms-input-$1")+bn}Tt=0}}return Dn+bn+Tn}function t(xe,Je,lt){var Qt=Je.trim().split(V);Je=Qt;var Et=Qt.length,mn=xe.length;switch(mn){case 0:case 1:var Lt=0;for(xe=mn===0?"":xe[0]+" ";Lt<Et;++Lt)Je[Lt]=r(xe,Je[Lt],lt).trim();break;default:var kt=Lt=0;for(Je=[];Lt<Et;++Lt)for(var cn=0;cn<mn;++cn)Je[kt++]=r(xe[cn]+" ",Qt[Lt],lt).trim()}return Je}function r(xe,Je,lt){var Qt=Je.charCodeAt(0);switch(33>Qt&&(Qt=(Je=Je.trim()).charCodeAt(0)),Qt){case 38:return Je.replace(P,"$1"+xe.trim());case 58:return xe.trim()+Je.replace(P,"$1"+xe.trim());default:if(0<1*lt&&0<Je.indexOf("\f"))return Je.replace(P,(xe.charCodeAt(0)===58?"":"$1")+xe.trim())}return xe+Je}function i(xe,Je,lt,Qt){var Et=xe+";",mn=2*Je+3*lt+4*Qt;if(mn===944){xe=Et.indexOf(":",9)+1;var Lt=Et.substring(xe,Et.length-1).trim();return Lt=Et.substring(0,xe).trim()+Lt+";",Mt===1||Mt===2&&s(Lt,1)?"-webkit-"+Lt+Lt:Lt}if(Mt===0||Mt===2&&!s(Et,1))return Et;switch(mn){case 1015:return Et.charCodeAt(10)===97?"-webkit-"+Et+Et:Et;case 951:return Et.charCodeAt(3)===116?"-webkit-"+Et+Et:Et;case 963:return Et.charCodeAt(5)===110?"-webkit-"+Et+Et:Et;case 1009:if(Et.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Et+Et;case 978:return"-webkit-"+Et+"-moz-"+Et+Et;case 1019:case 983:return"-webkit-"+Et+"-moz-"+Et+"-ms-"+Et+Et;case 883:if(Et.charCodeAt(8)===45)return"-webkit-"+Et+Et;if(0<Et.indexOf("image-set(",11))return Et.replace(ot,"$1-webkit-$2")+Et;break;case 932:if(Et.charCodeAt(4)===45)switch(Et.charCodeAt(5)){case 103:return"-webkit-box-"+Et.replace("-grow","")+"-webkit-"+Et+"-ms-"+Et.replace("grow","positive")+Et;case 115:return"-webkit-"+Et+"-ms-"+Et.replace("shrink","negative")+Et;case 98:return"-webkit-"+Et+"-ms-"+Et.replace("basis","preferred-size")+Et}return"-webkit-"+Et+"-ms-"+Et+Et;case 964:return"-webkit-"+Et+"-ms-flex-"+Et+Et;case 1023:if(Et.charCodeAt(8)!==99)break;return Lt=Et.substring(Et.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Lt+"-webkit-"+Et+"-ms-flex-pack"+Lt+Et;case 1005:return R.test(Et)?Et.replace(N,":-webkit-")+Et.replace(N,":-moz-")+Et:Et;case 1e3:switch(Lt=Et.substring(13).trim(),Je=Lt.indexOf("-")+1,Lt.charCodeAt(0)+Lt.charCodeAt(Je)){case 226:Lt=Et.replace(ae,"tb");break;case 232:Lt=Et.replace(ae,"tb-rl");break;case 220:Lt=Et.replace(ae,"lr");break;default:return Et}return"-webkit-"+Et+"-ms-"+Lt+Et;case 1017:if(Et.indexOf("sticky",9)===-1)break;case 975:switch(Je=(Et=xe).length-10,Lt=(Et.charCodeAt(Je)===33?Et.substring(0,Je):Et).substring(xe.indexOf(":",7)+1).trim(),mn=Lt.charCodeAt(0)+(Lt.charCodeAt(7)|0)){case 203:if(111>Lt.charCodeAt(8))break;case 115:Et=Et.replace(Lt,"-webkit-"+Lt)+";"+Et;break;case 207:case 102:Et=Et.replace(Lt,"-webkit-"+(102<mn?"inline-":"")+"box")+";"+Et.replace(Lt,"-webkit-"+Lt)+";"+Et.replace(Lt,"-ms-"+Lt+"box")+";"+Et}return Et+";";case 938:if(Et.charCodeAt(5)===45)switch(Et.charCodeAt(6)){case 105:return Lt=Et.replace("-items",""),"-webkit-"+Et+"-webkit-box-"+Lt+"-ms-flex-"+Lt+Et;case 115:return"-webkit-"+Et+"-ms-flex-item-"+Et.replace(me,"")+Et;default:return"-webkit-"+Et+"-ms-flex-line-pack"+Et.replace("align-content","").replace(me,"")+Et}break;case 973:case 989:if(Et.charCodeAt(3)!==45||Et.charCodeAt(4)===122)break;case 931:case 953:if(He.test(xe)===!0)return(Lt=xe.substring(xe.indexOf(":")+1)).charCodeAt(0)===115?i(xe.replace("stretch","fill-available"),Je,lt,Qt).replace(":fill-available",":stretch"):Et.replace(Lt,"-webkit-"+Lt)+Et.replace(Lt,"-moz-"+Lt.replace("fill-",""))+Et;break;case 962:if(Et="-webkit-"+Et+(Et.charCodeAt(5)===102?"-ms-"+Et:"")+Et,lt+Qt===211&&Et.charCodeAt(13)===105&&0<Et.indexOf("transform",10))return Et.substring(0,Et.indexOf(";",27)+1).replace(U,"$1-webkit-$2")+Et}return Et}function s(xe,Je){var lt=xe.indexOf(Je===1?":":"{"),Qt=xe.substring(0,Je!==3?lt:10);return lt=xe.substring(lt+1,xe.length-1),be(Je!==2?Qt:Qt.replace(ye,"$1"),lt,Je)}function o(xe,Je){var lt=i(Je,Je.charCodeAt(0),Je.charCodeAt(1),Je.charCodeAt(2));return lt!==Je+";"?lt.replace(Z," or ($1)").substring(4):"("+Je+")"}function a(xe,Je,lt,Qt,Et,mn,Lt,kt,cn,wt){for(var Ee=0,Ie=Je,Ce;Ee<st;++Ee)switch(Ce=te[Ee].call(p,xe,Ie,lt,Qt,Et,mn,Lt,kt,cn,wt)){case void 0:case!1:case!0:case null:break;default:Ie=Ce}if(Ie!==Je)return Ie}function c(xe){switch(xe){case void 0:case null:st=te.length=0;break;default:if(typeof xe=="function")te[st++]=xe;else if(typeof xe=="object")for(var Je=0,lt=xe.length;Je<lt;++Je)c(xe[Je]);else Re=!!xe|0}return c}function d(xe){return xe=xe.prefix,xe!==void 0&&(be=null,xe?typeof xe!="function"?Mt=1:(Mt=2,be=xe):Mt=0),d}function p(xe,Je){var lt=xe;if(33>lt.charCodeAt(0)&&(lt=lt.trim()),Ae=lt,lt=[Ae],0<st){var Qt=a(-1,Je,lt,lt,Ze,at,0,0,0,0);Qt!==void 0&&typeof Qt=="string"&&(Je=Qt)}var Et=e(Ue,lt,Je,0,0);return 0<st&&(Qt=a(-2,Et,lt,lt,Ze,at,Et.length,0,0,0),Qt!==void 0&&(Et=Qt)),Ae="",Tt=0,at=Ze=1,Et}var b=/^\0+/g,C=/[\0\r\f]/g,N=/: */g,R=/zoo|gra/,U=/([,: ])(transform)/g,V=/,\r+?/g,P=/([\t\r\n ])*\f?&/g,$=/@(k\w+)\s*(\S*)\s*/,M=/::(place)/g,G=/:(read-only)/g,ae=/[svh]\w+-[tblr]{2}/,I=/\(\s*(.*)\s*\)/g,Z=/([\s\S]*?);/g,me=/-self|flex-/g,ye=/[^]*?(:[rp][el]a[\w-]+)[^]*/,He=/stretch|:\s*\w+\-(?:conte|avail)/,ot=/([^-])(image-set\()/,at=1,Ze=1,Tt=0,Mt=1,Ue=[],te=[],st=0,be=null,Re=0,Ae="";return p.use=c,p.set=d,n!==void 0&&d(n),p}var mhe=UBe;m();var $Be={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xhe=$Be;var hK=xr(Ehe()),Ihe=xr(Lhe());function sm(){return(sm=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var Mhe=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},pK=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!(0,nI.typeOf)(n)},rI=Object.freeze([]),w3=Object.freeze({});function MA(n){return typeof n=="function"}function Phe(n){return n.displayName||n.name||"Component"}function mK(n){return n&&typeof n.styledComponentId=="string"}var A3=typeof process!="undefined"&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled";var xK=typeof window!="undefined"&&"HTMLElement"in window,aje=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:!1);function ng(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var uje=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&ng(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(t+1),d=0,p=r.length;d<p;d++)this.tag.insertRule(c,r[d])&&(this.groupSizes[t]++,c++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),iI=new Map,sI=new Map,PA=1,oI=function(n){if(iI.has(n))return iI.get(n);for(;sI.has(PA);)PA++;var e=PA++;return iI.set(n,e),sI.set(e,n),e},lje=function(n){return sI.get(n)},cje=function(n,e){e>=PA&&(PA=e+1),iI.set(n,e),sI.set(e,n)},fje="style["+A3+'][data-styled-version="5.3.6"]',dje=new RegExp("^"+A3+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),hje=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},pje=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(dje);if(a){var c=0|parseInt(a[1],10),d=a[2];c!==0&&(cje(d,c),hje(n,d,a[3]),n.getTag().insertRules(c,r)),r.length=0}else r.push(o)}}},gK=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:null},Bhe=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var c=a.childNodes,d=c.length;d>=0;d--){var p=c[d];if(p&&p.nodeType===1&&p.hasAttribute(A3))return p}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(A3,"active"),r.setAttribute("data-styled-version","5.3.6");var o=gK();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},mje=function(){function n(t){var r=this.element=Bhe(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var c=s[o];if(c.ownerNode===i)return c}ng(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),xje=function(){function n(t){var r=this.element=Bhe(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),gje=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),jhe=xK,yje={isServer:!xK,useCSSOMInjection:!aje},BA=function(){function n(t,r,i){t===void 0&&(t=w3),r===void 0&&(r={}),this.options=sm({},yje,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&xK&&jhe&&(jhe=!1,function(s){for(var o=document.querySelectorAll(fje),a=0,c=o.length;a<c;a++){var d=o[a];d&&d.getAttribute(A3)!=="active"&&(pje(s,d),d.parentNode&&d.parentNode.removeChild(d))}}(this))}n.registerId=function(t){return oI(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(sm({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new gje(o):s?new mje(o):new xje(o),new uje(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(oI(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(oI(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(oI(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=lje(o);if(a!==void 0){var c=t.names.get(a),d=r.getGroup(o);if(c&&d&&c.size){var p=A3+".g"+o+'[id="'+a+'"]',b="";c!==void 0&&c.forEach(function(C){C.length>0&&(b+=C+",")}),s+=""+d+p+'{content:"'+b+`"}/*!sc*/
`}}}return s}(this)},n}(),vje=/(a)(d)/gi,qhe=function(n){return String.fromCharCode(n+(n>25?39:97))};function yK(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=qhe(e%52)+t;return(qhe(e%52)+t).replace(vje,"$1-$2")}var t7=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},Uhe=function(n){return t7(5381,n)};function $he(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(MA(t)&&!mK(t))return!1}return!0}var _je=Uhe("5.3.6"),bje=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&$he(e),this.componentId=t,this.baseHash=t7(_je,t),this.baseStyle=r,BA.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=u_(this.rules,e,t,r).join(""),a=yK(t7(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var c=r(o,"."+a,void 0,i);t.insertRules(i,a,c)}s.push(a),this.staticRulesId=a}else{for(var d=this.rules.length,p=t7(this.baseHash,r.hash),b="",C=0;C<d;C++){var N=this.rules[C];if(typeof N=="string")b+=N;else if(N){var R=u_(N,e,t,r),U=Array.isArray(R)?R.join(""):R;p=t7(p,U+C),b+=U}}if(b){var V=yK(p>>>0);if(!t.hasNameForId(i,V)){var P=r(b,"."+V,void 0,i);t.insertRules(i,V,P)}s.push(V)}}return s.join(" ")},n}(),Eje=/^\s*\/\/.*$/gm,Sje=[":","[",".","#"];function zhe(n){var e,t,r,i,s=n===void 0?w3:n,o=s.options,a=o===void 0?w3:o,c=s.plugins,d=c===void 0?rI:c,p=new mhe(a),b=[],C=function(U){function V(P){if(P)try{U(P+"}")}catch{}}return function(P,$,M,G,ae,I,Z,me,ye,He){switch(P){case 1:if(ye===0&&$.charCodeAt(0)===64)return U($+";"),"";break;case 2:if(me===0)return $+"/*|*/";break;case 3:switch(me){case 102:case 112:return U(M[0]+$),"";default:return $+(He===0?"/*|*/":"")}case-2:$.split("/*|*/}").forEach(V)}}}(function(U){b.push(U)}),N=function(U,V,P){return V===0&&Sje.indexOf(P[t.length])!==-1||P.match(i)?U:"."+e};function R(U,V,P,$){$===void 0&&($="&");var M=U.replace(Eje,""),G=V&&P?P+" "+V+" { "+M+" }":M;return e=$,t=V,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),p(P||!V?"":V,G)}return p.use([].concat(d,[function(U,V,P){U===2&&P.length&&P[0].lastIndexOf(t)>0&&(P[0]=P[0].replace(r,N))},C,function(U){if(U===-2){var V=b;return b=[],V}}])),R.hash=d.length?d.reduce(function(U,V){return V.name||ng(15),t7(U,V.name)},5381).toString():"",R}var vK=Pu.default.createContext(),E6t=vK.Consumer,_K=Pu.default.createContext(),Cje=(_K.Consumer,new BA),bK=zhe();function Hhe(){return(0,Pu.useContext)(vK)||Cje}function wje(){return(0,Pu.useContext)(_K)||bK}function Aje(n){var e=(0,Pu.useState)(n.stylisPlugins),t=e[0],r=e[1],i=Hhe(),s=(0,Pu.useMemo)(function(){var a=i;return n.sheet?a=n.sheet:n.target&&(a=a.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(a=a.reconstructWithOptions({useCSSOMInjection:!1})),a},[n.disableCSSOMInjection,n.sheet,n.target]),o=(0,Pu.useMemo)(function(){return zhe({options:{prefix:!n.disableVendorPrefixes},plugins:t})},[n.disableVendorPrefixes,t]);return(0,Pu.useEffect)(function(){(0,khe.default)(t,n.stylisPlugins)||r(n.stylisPlugins)},[n.stylisPlugins]),Pu.default.createElement(vK.Provider,{value:s},Pu.default.createElement(_K.Provider,{value:o},n.children))}var Vhe=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=bK);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return ng(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=bK),this.name+e.hash},n}(),Tje=/([A-Z])/,Fje=/([A-Z])/g,Dje=/^ms-/,Oje=function(n){return"-"+n.toLowerCase()};function Whe(n){return Tje.test(n)?n.replace(Fje,Oje).replace(Dje,"-ms-"):n}var Qhe=function(n){return n==null||n===!1||n===""};function u_(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=u_(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(Qhe(n))return"";if(mK(n))return"."+n.styledComponentId;if(MA(n)){if(typeof(d=n)!="function"||d.prototype&&d.prototype.isReactComponent||!e)return n;var c=n(e);return u_(c,e,t,r)}var d;return n instanceof Vhe?t?(n.inject(t,r),n.getName(r)):n:pK(n)?function p(b,C){var N,R,U=[];for(var V in b)b.hasOwnProperty(V)&&!Qhe(b[V])&&(Array.isArray(b[V])&&b[V].isCss||MA(b[V])?U.push(Whe(V)+":",b[V],";"):pK(b[V])?U.push.apply(U,p(b[V],V)):U.push(Whe(V)+": "+(N=V,(R=b[V])==null||typeof R=="boolean"||R===""?"":typeof R!="number"||R===0||N in xhe?String(R).trim():R+"px")+";"));return C?[C+" {"].concat(U,["}"]):U}(n):n.toString()}var Ghe=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function Yhe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return MA(n)||pK(n)?Ghe(u_(Mhe(rI,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:Ghe(u_(Mhe(n,t)))}var Nje=function(n,e,t){return t===void 0&&(t=w3),n.theme!==t.theme&&n.theme||e||t.theme},Rje=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Lje=/(^-|-$)/g;function EK(n){return n.replace(Rje,"-").replace(Lje,"")}var Khe=function(n){return yK(Uhe(n)>>>0)};function aI(n){return typeof n=="string"&&!0}var SK=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},kje=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function Ije(n,e,t){var r=n[t];SK(e)&&SK(r)?Jhe(r,e):n[t]=e}function Jhe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(SK(o))for(var a in o)kje(a)&&Ije(n,o[a],a)}return n}var Xhe=Pu.default.createContext(),S6t=Xhe.Consumer;var CK={};function Zhe(n,e,t){var r=mK(n),i=!aI(n),s=e.attrs,o=s===void 0?rI:s,a=e.componentId,c=a===void 0?function($,M){var G=typeof $!="string"?"sc":EK($);CK[G]=(CK[G]||0)+1;var ae=G+"-"+Khe("5.3.6"+G+CK[G]);return M?M+"-"+ae:ae}(e.displayName,e.parentComponentId):a,d=e.displayName,p=d===void 0?function($){return aI($)?"styled."+$:"Styled("+Phe($)+")"}(n):d,b=e.displayName&&e.componentId?EK(e.displayName)+"-"+e.componentId:e.componentId||c,C=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,N=e.shouldForwardProp;r&&n.shouldForwardProp&&(N=e.shouldForwardProp?function($,M,G){return n.shouldForwardProp($,M,G)&&e.shouldForwardProp($,M,G)}:n.shouldForwardProp);var R,U=new bje(t,b,r?n.componentStyle:void 0),V=U.isStatic&&o.length===0,P=function($,M){return function(G,ae,I,Z){var me=G.attrs,ye=G.componentStyle,He=G.defaultProps,ot=G.foldedComponentIds,at=G.shouldForwardProp,Ze=G.styledComponentId,Tt=G.target,Mt=function(Qt,Et,mn){Qt===void 0&&(Qt=w3);var Lt=sm({},Et,{theme:Qt}),kt={};return mn.forEach(function(cn){var wt,Ee,Ie,Ce=cn;for(wt in MA(Ce)&&(Ce=Ce(Lt)),Ce)Lt[wt]=kt[wt]=wt==="className"?(Ee=kt[wt],Ie=Ce[wt],Ee&&Ie?Ee+" "+Ie:Ee||Ie):Ce[wt]}),[Lt,kt]}(Nje(ae,(0,Pu.useContext)(Xhe),He)||w3,ae,me),Ue=Mt[0],te=Mt[1],st=function(Qt,Et,mn,Lt){var kt=Hhe(),cn=wje(),wt=Et?Qt.generateAndInjectStyles(w3,kt,cn):Qt.generateAndInjectStyles(mn,kt,cn);return wt}(ye,Z,Ue,void 0),be=I,Re=te.$as||ae.$as||te.as||ae.as||Tt,Ae=aI(Re),xe=te!==ae?sm({},ae,{},te):ae,Je={};for(var lt in xe)lt[0]!=="$"&&lt!=="as"&&(lt==="forwardedAs"?Je.as=xe[lt]:(at?at(lt,hK.default,Re):!Ae||(0,hK.default)(lt))&&(Je[lt]=xe[lt]));return ae.style&&te.style!==ae.style&&(Je.style=sm({},ae.style,{},te.style)),Je.className=Array.prototype.concat(ot,Ze,st!==Ze?st:null,ae.className,te.className).filter(Boolean).join(" "),Je.ref=be,(0,Pu.createElement)(Re,Je)}(R,$,M,V)};return P.displayName=p,(R=Pu.default.forwardRef(P)).attrs=C,R.componentStyle=U,R.displayName=p,R.shouldForwardProp=N,R.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):rI,R.styledComponentId=b,R.target=r?n.target:n,R.withComponent=function($){var M=e.componentId,G=function(I,Z){if(I==null)return{};var me,ye,He={},ot=Object.keys(I);for(ye=0;ye<ot.length;ye++)me=ot[ye],Z.indexOf(me)>=0||(He[me]=I[me]);return He}(e,["componentId"]),ae=M&&M+"-"+(aI($)?$:EK(Phe($)));return Zhe($,sm({},G,{attrs:C,componentId:ae}),t)},Object.defineProperty(R,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function($){this._foldedDefaultProps=r?Jhe({},n.defaultProps,$):$}}),R.toString=function(){return"."+R.styledComponentId},i&&(0,Ihe.default)(R,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),R}var wK=function(n){return function e(t,r,i){if(i===void 0&&(i=w3),!(0,nI.isValidElementType)(r))return ng(1,String(r));var s=function(){return t(r,i,Yhe.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,sm({},i,{},o))},s.attrs=function(o){return e(t,r,sm({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(Zhe,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){wK[n]=wK(n)});var C6t=function(){function n(t,r){this.rules=t,this.componentId=r,this.isStatic=$he(t),BA.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,r,i,s){var o=s(u_(this.rules,r,i,s).join(""),""),a=this.componentId+t;i.insertRules(a,a,o)},e.removeStyles=function(t,r){r.clearRules(this.componentId+t)},e.renderStyles=function(t,r,i,s){t>2&&BA.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,r,i,s)},n}();function epe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=Yhe.apply(void 0,[n].concat(t)).join(""),s=Khe(i);return new Vhe(s,i)}var w6t=function(){function n(){var t=this;this._emitSheetCSS=function(){var r=t.instance.toString();if(!r)return"";var i=gK();return"<style "+[i&&'nonce="'+i+'"',A3+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return t.sealed?ng(2):t._emitSheetCSS()},this.getStyleElement=function(){var r;if(t.sealed)return ng(2);var i=((r={})[A3]="",r["data-styled-version"]="5.3.6",r.dangerouslySetInnerHTML={__html:t.instance.toString()},r),s=gK();return s&&(i.nonce=s),[Pu.default.createElement("style",sm({},i,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new BA({isServer:!0}),this.sealed=!1}var e=n.prototype;return e.collectStyles=function(t){return this.sealed?ng(2):Pu.default.createElement(Aje,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return ng(3)},n}();var $n=wK;m();m();m();var T3=xr(tpe()),uI=xr(npe());var OK=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"text.html.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["css","javascript","less","sass","scss","stylus","typescript","tsx"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample"},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample"},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json"},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"jupyter",scopeName:"source.jupyter",path:"jupyter.tmLanguage.json",embeddedLangs:["json"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","html","java","javascript","typescript","lua","python","julia","ruby","xml","yaml","cpp","haskell","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"marko",scopeName:"text.marko",path:"marko.tmLanguage.json",samplePath:"marko.sample",embeddedLangs:["css","less","scss","javascript"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"rel",scopeName:"source.rel",path:"rel.tmLanguage.json",samplePath:"rel.sample"},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"],embeddedLangs:["ruby","python","applescript","html","markdown"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stata",scopeName:"source.stata",path:"stata.tmLanguage.json",samplePath:"stata.sample",embeddedLangs:["sql"]},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["json","markdown","pug","haml","vue-html","sass","scss","less","stylus","postcss","css","typescript","coffee","javascript"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["\u6587\u8A00"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"},{id:"zenscript",scopeName:"source.zenscript",path:"zenscript.tmLanguage.json",samplePath:"zenscript.sample"}],n7;(function(n){n[n.NotSet=-1]="NotSet",n[n.None=0]="None",n[n.Italic=1]="Italic",n[n.Bold=2]="Bold",n[n.Underline=4]="Underline"})(n7||(n7={}));var Xd=class{static toBinaryStr(e){let t=e.toString(2);for(;t.length<32;)t="0"+t;return t}static printMetadata(e){let t=Xd.getLanguageId(e),r=Xd.getTokenType(e),i=Xd.getFontStyle(e),s=Xd.getForeground(e),o=Xd.getBackground(e);console.log({languageId:t,tokenType:r,fontStyle:i,foreground:s,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&1792)>>>8}static getFontStyle(e){return(e&14336)>>>11}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static set(e,t,r,i,s,o){let a=Xd.getLanguageId(e),c=Xd.getTokenType(e),d=Xd.getFontStyle(e),p=Xd.getForeground(e),b=Xd.getBackground(e);return t!==0&&(a=t),r!==0&&(c=r===8?0:r),i!==n7.NotSet&&(d=i),s!==0&&(p=s),o!==0&&(b=o),(a<<0|c<<8|d<<11|p<<14|b<<23)>>>0}};function Mje(n){return n.endsWith("/")||n.endsWith("\\")?n.slice(0,-1):n}function Pje(n){return n.startsWith("./")?n.slice(2):n}function Bje(n){let e=n.split(/[\/\\]/g);return e[e.length-2]}function jje(...n){return n.map(Mje).map(Pje).join("/")}function qje(n,e){let t=new Map;for(let r of n){let i=e(r);t.has(i)?t.get(i).push(r):t.set(i,[r])}return t}function Uje(n,e){e===void 0&&(e=!1);var t=n.length,r=0,i="",s=0,o=16,a=0,c=0,d=0,p=0,b=0;function C(M,G){for(var ae=0,I=0;ae<M||!G;){var Z=n.charCodeAt(r);if(Z>=48&&Z<=57)I=I*16+Z-48;else if(Z>=65&&Z<=70)I=I*16+Z-65+10;else if(Z>=97&&Z<=102)I=I*16+Z-97+10;else break;r++,ae++}return ae<M&&(I=-1),I}function N(M){r=M,i="",s=0,o=16,b=0}function R(){var M=r;if(n.charCodeAt(r)===48)r++;else for(r++;r<n.length&&r7(n.charCodeAt(r));)r++;if(r<n.length&&n.charCodeAt(r)===46)if(r++,r<n.length&&r7(n.charCodeAt(r)))for(r++;r<n.length&&r7(n.charCodeAt(r));)r++;else return b=3,n.substring(M,r);var G=r;if(r<n.length&&(n.charCodeAt(r)===69||n.charCodeAt(r)===101))if(r++,(r<n.length&&n.charCodeAt(r)===43||n.charCodeAt(r)===45)&&r++,r<n.length&&r7(n.charCodeAt(r))){for(r++;r<n.length&&r7(n.charCodeAt(r));)r++;G=r}else b=3;return n.substring(M,G)}function U(){for(var M="",G=r;;){if(r>=t){M+=n.substring(G,r),b=2;break}var ae=n.charCodeAt(r);if(ae===34){M+=n.substring(G,r),r++;break}if(ae===92){if(M+=n.substring(G,r),r++,r>=t){b=2;break}var I=n.charCodeAt(r++);switch(I){case 34:M+='"';break;case 92:M+="\\";break;case 47:M+="/";break;case 98:M+="\b";break;case 102:M+="\f";break;case 110:M+=`
`;break;case 114:M+="\r";break;case 116:M+="	";break;case 117:var Z=C(4,!0);Z>=0?M+=String.fromCharCode(Z):b=4;break;default:b=5}G=r;continue}if(ae>=0&&ae<=31)if(UA(ae)){M+=n.substring(G,r),b=2;break}else b=6;r++}return M}function V(){if(i="",b=0,s=r,c=a,p=d,r>=t)return s=t,o=17;var M=n.charCodeAt(r);if(NK(M)){do r++,i+=String.fromCharCode(M),M=n.charCodeAt(r);while(NK(M));return o=15}if(UA(M))return r++,i+=String.fromCharCode(M),M===13&&n.charCodeAt(r)===10&&(r++,i+=`
`),a++,d=r,o=14;switch(M){case 123:return r++,o=1;case 125:return r++,o=2;case 91:return r++,o=3;case 93:return r++,o=4;case 58:return r++,o=6;case 44:return r++,o=5;case 34:return r++,i=U(),o=10;case 47:var G=r-1;if(n.charCodeAt(r+1)===47){for(r+=2;r<t&&!UA(n.charCodeAt(r));)r++;return i=n.substring(G,r),o=12}if(n.charCodeAt(r+1)===42){r+=2;for(var ae=t-1,I=!1;r<ae;){var Z=n.charCodeAt(r);if(Z===42&&n.charCodeAt(r+1)===47){r+=2,I=!0;break}r++,UA(Z)&&(Z===13&&n.charCodeAt(r)===10&&r++,a++,d=r)}return I||(r++,b=1),i=n.substring(G,r),o=13}return i+=String.fromCharCode(M),r++,o=16;case 45:if(i+=String.fromCharCode(M),r++,r===t||!r7(n.charCodeAt(r)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=R(),o=11;default:for(;r<t&&P(M);)r++,M=n.charCodeAt(r);if(s!==r){switch(i=n.substring(s,r),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(M),r++,o=16}}function P(M){if(NK(M)||UA(M))return!1;switch(M){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function $(){var M;do M=V();while(M>=12&&M<=15);return M}return{setPosition:N,getPosition:function(){return r},scan:e?$:V,getToken:function(){return o},getTokenValue:function(){return i},getTokenOffset:function(){return s},getTokenLength:function(){return r-s},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return s-p},getTokenError:function(){return b}}}function NK(n){return n===32||n===9||n===11||n===12||n===160||n===5760||n>=8192&&n<=8203||n===8239||n===8287||n===12288||n===65279}function UA(n){return n===10||n===13||n===8232||n===8233}function r7(n){return n>=48&&n<=57}var lI;(function(n){n.DEFAULT={allowTrailingComma:!1}})(lI||(lI={}));function $je(n,e,t){e===void 0&&(e=[]),t===void 0&&(t=lI.DEFAULT);var r=null,i=[],s=[];function o(c){Array.isArray(i)?i.push(c):r!==null&&(i[r]=c)}var a={onObjectBegin:function(){var c={};o(c),s.push(i),i=c,r=null},onObjectProperty:function(c){r=c},onObjectEnd:function(){i=s.pop()},onArrayBegin:function(){var c=[];o(c),s.push(i),i=c,r=null},onArrayEnd:function(){i=s.pop()},onLiteralValue:o,onError:function(c,d,p){e.push({error:c,offset:d,length:p})}};return zje(n,a,t),i[0]}function zje(n,e,t){t===void 0&&(t=lI.DEFAULT);var r=Uje(n,!1);function i(ye){return ye?function(){return ye(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function s(ye){return ye?function(He){return ye(He,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}var o=i(e.onObjectBegin),a=s(e.onObjectProperty),c=i(e.onObjectEnd),d=i(e.onArrayBegin),p=i(e.onArrayEnd),b=s(e.onLiteralValue),C=s(e.onSeparator),N=i(e.onComment),R=s(e.onError),U=t&&t.disallowComments,V=t&&t.allowTrailingComma;function P(){for(;;){var ye=r.scan();switch(r.getTokenError()){case 4:$(14);break;case 5:$(15);break;case 3:$(13);break;case 1:U||$(11);break;case 2:$(12);break;case 6:$(16);break}switch(ye){case 12:case 13:U?$(10):N();break;case 16:$(1);break;case 15:case 14:break;default:return ye}}}function $(ye,He,ot){if(He===void 0&&(He=[]),ot===void 0&&(ot=[]),R(ye),He.length+ot.length>0)for(var at=r.getToken();at!==17;){if(He.indexOf(at)!==-1){P();break}else if(ot.indexOf(at)!==-1)break;at=P()}}function M(ye){var He=r.getTokenValue();return ye?b(He):a(He),P(),!0}function G(){switch(r.getToken()){case 11:var ye=r.getTokenValue(),He=Number(ye);isNaN(He)&&($(2),He=0),b(He);break;case 7:b(null);break;case 8:b(!0);break;case 9:b(!1);break;default:return!1}return P(),!0}function ae(){return r.getToken()!==10?($(3,[],[2,5]),!1):(M(!1),r.getToken()===6?(C(":"),P(),me()||$(4,[],[2,5])):$(5,[],[2,5]),!0)}function I(){o(),P();for(var ye=!1;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(ye||$(4,[],[]),C(","),P(),r.getToken()===2&&V)break}else ye&&$(6,[],[]);ae()||$(4,[],[2,5]),ye=!0}return c(),r.getToken()!==2?$(7,[2],[]):P(),!0}function Z(){d(),P();for(var ye=!1;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(ye||$(4,[],[]),C(","),P(),r.getToken()===4&&V)break}else ye&&$(6,[],[]);me()||$(4,[],[4,5]),ye=!0}return p(),r.getToken()!==4?$(8,[4],[]):P(),!0}function me(){switch(r.getToken()){case 3:return Z();case 1:return I();case 10:return M(!0);default:return G()}}return P(),r.getToken()===17?t.allowEmptyContent?!0:($(4,[],[]),!1):me()?(r.getToken()!==17&&$(9,[],[]),!0):($(4,[],[]),!1)}var Hje=$je,Vje=typeof self!="undefined"&&typeof self.WorkerGlobalScope!="undefined",RK=Vje||typeof window!="undefined"&&typeof window.document!="undefined"&&typeof fetch!="undefined",LK="",rpe="";function ipe(n){LK=n}var kK=null;async function Wje(){if(!kK){let n;if(RK)typeof rpe=="string"?n=(0,T3.loadWASM)({data:await fetch(spe("dist/onig.wasm")).then(e=>e.arrayBuffer())}):n=(0,T3.loadWASM)(rpe);else{let t=FK().join(xL.resolve("vscode-oniguruma"),"../onig.wasm"),i=DK().readFileSync(t).buffer;n=(0,T3.loadWASM)(i)}kK=n.then(()=>({createOnigScanner(e){return(0,T3.createOnigScanner)(e)},createOnigString(e){return(0,T3.createOnigString)(e)}}))}return kK}function spe(n){if(RK)return LK||console.warn("[Shiki] no CDN provider found, use `setCDN()` to specify the CDN for loading the resources before calling `getHighlighter()`"),`${LK}${n}`;{let e=FK();return e.isAbsolute(n)?n:e.resolve(__dirname,"..",n)}}async function Qje(n){let e=spe(n);return RK?await fetch(e).then(t=>t.text()):await DK().promises.readFile(e,"utf-8")}async function ope(n){let e=[],t=Hje(await Qje(n),e,{allowTrailingComma:!0});if(e.length)throw e[0];return t}async function ape(n){let e=await ope(n),t=upe(e);if(t.include){let r=await ape(jje(Bje(n),t.include));r.settings&&(t.settings=r.settings.concat(t.settings)),r.bg&&!t.bg&&(t.bg=r.bg),r.colors&&(t.colors=Object.assign(Object.assign({},r.colors),t.colors)),delete t.include}return t}async function Gje(n){return await ope(n)}function Yje(n){n.settings||(n.settings=[]),!(n.settings[0]&&n.settings[0].settings&&!n.settings[0].scope)&&n.settings.unshift({settings:{foreground:n.fg,background:n.bg}})}function upe(n){let e=n.type||"dark",t=Object.assign(Object.assign({name:n.name,type:e},n),Kje(n));return n.include&&(t.include=n.include),n.tokenColors&&(t.settings=n.tokenColors,delete t.tokenColors),Yje(t),t}var lpe={light:"#333333",dark:"#bbbbbb"},cpe={light:"#fffffe",dark:"#1e1e1e"};function Kje(n){var e,t,r,i,s,o;let a,c,d=n.settings?n.settings:n.tokenColors,p=d?d.find(b=>!b.name&&!b.scope):void 0;return((e=p==null?void 0:p.settings)===null||e===void 0?void 0:e.foreground)&&(a=p.settings.foreground),((t=p==null?void 0:p.settings)===null||t===void 0?void 0:t.background)&&(c=p.settings.background),!a&&((i=(r=n)===null||r===void 0?void 0:r.colors)===null||i===void 0?void 0:i["editor.foreground"])&&(a=n.colors["editor.foreground"]),!c&&((o=(s=n)===null||s===void 0?void 0:s.colors)===null||o===void 0?void 0:o["editor.background"])&&(c=n.colors["editor.background"]),a||(a=n.type==="light"?lpe.light:lpe.dark),c||(c=n.type==="light"?cpe.light:cpe.dark),{fg:a,bg:c}}var fpe=class{constructor(e,t){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=e,this._onigLibName=t}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(e){return this.languageMap[e]}async loadGrammar(e){let t=this.scopeToLangMap[e];if(!t)return null;if(t.grammar)return t.grammar;let r=await Gje(OK.includes(t)?`${this.languagesPath}${t.path}`:t.path);return t.grammar=r,r}addLanguage(e){this.languageMap[e.id]=e,e.aliases&&e.aliases.forEach(t=>{this.languageMap[t]=e}),this.scopeToLangMap[e.scopeName]=e}};function Jje(n,e,t,r,i){let s=t.split(/\r\n|\r|\n/),o=uI.INITIAL,a=[],c=[];for(let d=0,p=s.length;d<p;d++){let b=s[d];if(b===""){a=[],c.push([]);continue}let C,N,R;i.includeExplanation&&(C=r.tokenizeLine(b,o),N=C.tokens,R=0);let U=r.tokenizeLine2(b,o),V=U.tokens.length/2;for(let P=0;P<V;P++){let $=U.tokens[2*P],M=P+1<V?U.tokens[2*P+2]:b.length;if($===M)continue;let G=U.tokens[2*P+1],ae=Xd.getForeground(G),I=e[ae],Z=Xd.getFontStyle(G),me=[];if(i.includeExplanation){let ye=0;for(;$+ye<M;){let He=N[R],ot=b.substring(He.startIndex,He.endIndex);ye+=ot.length,me.push({content:ot,scopes:Xje(n,He.scopes)}),R++}}a.push({content:b.substring($,M),color:I,fontStyle:Z,explanation:me})}c.push(a),a=[],o=U.ruleStack}return c}function Xje(n,e){let t=[];for(let r=0,i=e.length;r<i;r++){let s=e.slice(0,r),o=e[r];t[r]={scopeName:o,themeMatches:eqe(n,o,s)}}return t}function dpe(n,e){let t=n+".";return n===e||e.substring(0,t.length)===t}function Zje(n,e,t,r){if(!dpe(n,t))return!1;let i=e.length-1,s=r.length-1;for(;i>=0&&s>=0;)dpe(e[i],r[s])&&i--,s--;return i===-1}function eqe(n,e,t){let r=[],i=0;for(let s=0,o=n.settings.length;s<o;s++){let a=n.settings[s],c;if(typeof a.scope=="string")c=a.scope.split(/,/).map(d=>d.trim());else if(Array.isArray(a.scope))c=a.scope;else continue;for(let d=0,p=c.length;d<p;d++){let C=c[d].split(/ /),N=C[C.length-1],R=C.slice(0,C.length-1);Zje(N,R,e,t)&&(r[i++]=a,d=p)}}return r}function tqe(n,e={}){var t;let r=e.bg||"#fff",i=qje((t=e.lineOptions)!==null&&t!==void 0?t:[],o=>o.line),s="";return s+=`<pre class="shiki" style="background-color: ${r}">`,e.langId&&(s+=`<div class="language-id">${e.langId}</div>`),s+="<code>",n.forEach((o,a)=>{var c;let d=a+1,p=(c=i.get(d))!==null&&c!==void 0?c:[];s+=`<span class="${iqe(p).join(" ")}">`,o.forEach(C=>{let N=[`color: ${C.color||e.fg}`];C.fontStyle&n7.Italic&&N.push("font-style: italic"),C.fontStyle&n7.Bold&&N.push("font-weight: bold"),C.fontStyle&n7.Underline&&N.push("text-decoration: underline"),s+=`<span style="${N.join("; ")}">${rqe(C.content)}</span>`}),s+=`</span>
`}),s=s.replace(/\n*$/,""),s+="</code></pre>",s}var nqe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function rqe(n){return n.replace(/[&<>"']/g,e=>nqe[e])}function iqe(n){var e;let t=new Set(["line"]);for(let r of n)for(let i of(e=r.classes)!==null&&e!==void 0?e:[])t.add(i);return Array.from(t)}var hpe=class extends uI.Registry{constructor(e){super(e);this._resolver=e,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={}}getTheme(e){return typeof e=="string"?this._resolvedThemes[e]:e}async loadTheme(e){return typeof e=="string"?(this._resolvedThemes[e]||(this._resolvedThemes[e]=await ape(`${this.themesPath}${e}.json`)),this._resolvedThemes[e]):(e=upe(e),e.name&&(this._resolvedThemes[e.name]=e),e)}async loadThemes(e){return await Promise.all(e.map(t=>this.loadTheme(t)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(e){return this._resolvedGrammars[e]}async loadLanguage(e){let t=await this.loadGrammar(e.scopeName);this._resolvedGrammars[e.id]=t,e.aliases&&e.aliases.forEach(r=>{this._resolvedGrammars[r]=t})}async loadLanguages(e){for(let t of e)this._resolver.addLanguage(t);for(let t of e)await this.loadLanguage(t)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}};function ppe(n){return typeof n=="string"?OK.find(e=>{var t;return e.id===n||((t=e.aliases)===null||t===void 0?void 0:t.includes(n))}):n}function sqe(n){var e;let t=OK,r=n.themes||[];return((e=n.langs)===null||e===void 0?void 0:e.length)&&(t=n.langs.map(ppe)),n.theme&&r.unshift(n.theme),r.length||(r=["nord"]),{_languages:t,_themes:r}}async function mpe(n){var e,t;let{_languages:r,_themes:i}=sqe(n),s=new fpe(Wje(),"vscode-oniguruma"),o=new hpe(s);((e=n.paths)===null||e===void 0?void 0:e.themes)&&(o.themesPath=n.paths.themes),((t=n.paths)===null||t===void 0?void 0:t.languages)&&(s.languagesPath=n.paths.languages);let c=(await o.loadThemes(i))[0],d;await o.loadLanguages(r);let p={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function b(I,Z){I.bg=p[I.bg]||I.bg,I.fg=p[I.fg]||I.fg,Z.forEach((me,ye)=>{Z[ye]=p[me]||me})}function C(I){let Z=I?o.getTheme(I):c;if(!Z)throw Error(`No theme registration for ${I}`);(!d||d.name!==Z.name)&&(o.setTheme(Z),d=Z);let me=o.getColorMap();return Z.name==="css-variables"&&b(Z,me),{_theme:Z,_colorMap:me}}function N(I){let Z=o.getGrammar(I);if(!Z)throw Error(`No language registration for ${I}`);return{_grammar:Z}}function R(I,Z="text",me,ye={includeExplanation:!0}){if(oqe(Z))return[...I.split(/\r\n|\r|\n/).map(Tt=>[{content:Tt}])];let{_grammar:He}=N(Z),{_theme:ot,_colorMap:at}=C(me);return Jje(ot,at,I,He,ye)}function U(I,Z="text",me){let ye;typeof Z=="object"?ye=Z:ye={lang:Z,theme:me};let He=R(I,ye.lang,ye.theme,{includeExplanation:!1}),{_theme:ot}=C(ye.theme);return tqe(He,{fg:ot.fg,bg:ot.bg,lineOptions:ye==null?void 0:ye.lineOptions})}async function V(I){await o.loadTheme(I)}async function P(I){let Z=ppe(I);s.addLanguage(Z),await o.loadLanguage(Z)}function $(){return o.getLoadedThemes()}function M(){return o.getLoadedLanguages()}function G(I){let{_theme:Z}=C(I);return Z.bg}function ae(I){let{_theme:Z}=C(I);return Z.fg}return{codeToThemedTokens:R,codeToHtml:U,getTheme:I=>C(I)._theme,loadTheme:V,loadLanguage:P,getBackgroundColor:G,getForegroundColor:ae,getLoadedThemes:$,getLoadedLanguages:M}}function oqe(n){return!n||["plaintext","txt","text"].includes(n)}m();var xpe={scopeName:"source.malloy",patterns:[{include:"#sql-statement"},{include:"#comments"},{include:"#strings"},{include:"#numbers"},{include:"#keywords"},{include:"#properties"},{include:"#functions"},{include:"#dates"},{include:"#identifiers-quoted"},{include:"#types"},{include:"#constants"},{include:"#timeframes"},{include:"#identifiers-unquoted"}],repository:{"sql-statement":{begin:"\\|\\|",end:";;",beginCaptures:{"0":{name:"punctuation.sql-block.open"}},endCaptures:{"0":{name:"punctuation.sql-block.close"}},name:"source.sql",patterns:[{include:"source.sql"}]},functions:{patterns:[{match:"(?i)\\b(count)(\\s*\\()(distinct)",captures:{"1":{name:"entity.name.function"},"3":{name:"entity.name.function.modifier"}}},{match:"(?i)\\b(AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE|TABLE|FROM|FROM_SQL|UNGROUPED)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}},{match:"(?i)\\b([a-zA-Z]*)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}}]},dates:{patterns:[{match:"(?i)@[0-9A-Z-]*(\\s[0-9A-Z-][0-9A-Z-](:[0-9A-Z-][0-9A-Z-])?(:[0-9A-Z-][0-9A-Z-])?)?",name:"constant.numeric.date"}]},"identifiers-quoted":{patterns:[{match:"(?i)`[A-z_][A-z_0-9]*`",name:"variable.other.quoted"}]},"identifiers-unquoted":{patterns:[{match:"(?i)\\b[A-z_][A-z_0-9]*\\b",name:"variable.other"}]},timeframes:{patterns:[{match:"(?i)\\b((year|quarter|month|week|day|hour|minute|second)s?)\\b",name:"keyword.other.timeframe"},{match:"(?i)\\b(day_of_year|day_of_month)\\b",name:"keyword.other.timeframe"}]},comments:{patterns:[{begin:"/\\*",end:"\\*/",beginCaptures:{"0":{name:"punctuation.definition.comment.begin"}},endCaptures:{"0":{name:"punctuation.definition.comment.end"}},name:"comment.block"},{begin:"//",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-slash"},{begin:"--",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-hyphen"}]},strings:{patterns:[{begin:"'",end:"'",beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.single",patterns:[{include:"#escapes"}]},{begin:'"',end:'"',beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.double",patterns:[{include:"#escapes"}]},{begin:"(?i)[r|/]'",end:"'",name:"string.regexp",patterns:[{include:"#escapes"}]}],repository:{escapes:{name:"constant.character.escape",match:"\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]|37[0-7]?|[4-7][0-7]?|.)",captures:{"0":{name:"constant.character.escape"}}}}},numbers:{match:"\\b((0|[1-9][0-9]*)(\\.[0-9]*)?| \\.[0-9]+)\\b",name:"constant.numeric"},constants:{patterns:[{match:"(?i)\\bnull\\b",name:"constant.language.null"},{match:"(?i)\\btrue\\b",name:"constant.language.true"},{match:"(?i)\\bfalse\\b",name:"constant.language.false"}]},types:{patterns:[{match:"(?i)\\bstring\\b",name:"entity.name.type.string"},{match:"(?i)\\bnumber\\b",name:"entity.name.type.number"},{match:"(?i)\\bdate\\b",name:"entity.name.type.date"},{match:"(?i)\\btimestamp\\b",name:"entity.name.type.timestamp"},{match:"(?i)\\bboolean\\b",name:"entity.name.type.boolean"}]},properties:{patterns:[{match:"(?i)\\baccept\\b",name:"keyword.control.accept"},{match:"(?i)\\bsql\\b",name:"keyword.control.sql"},{match:"(?i)\\baggregate\\b",name:"keyword.control.aggregate"},{match:"(?i)\\bdimension\\b",name:"keyword.control.dimension"},{match:"(?i)\\bexcept\\b",name:"keyword.control.except"},{match:"(?i)\\bexplore\\b",name:"keyword.control.explore"},{match:"(?i)\\bgroup_by\\b",name:"keyword.control.group_by"},{match:"(?i)\\bhaving\\b",name:"keyword.control.having"},{match:"(?i)\\bindex\\b",name:"keyword.control.index"},{match:"(?i)\\bjoin_one\\b",name:"keyword.control.join_one"},{match:"(?i)\\bwith\\b",name:"keyword.control.with"},{match:"(?i)\\bjoin_many\\b",name:"keyword.control.join_many"},{match:"(?i)\\bjoin_cross\\b",name:"keyword.control.join_cross"},{match:"(?i)\\blimit\\b",name:"keyword.control.limit"},{match:"(?i)\\bmeasure\\b",name:"keyword.control.measure"},{match:"(?i)\\bnest\\b",name:"keyword.control.nest"},{match:"(?i)\\border_by\\b",name:"keyword.control.order_by"},{match:"(?i)\\bprimary_key\\b",name:"keyword.control.primary_key"},{match:"(?i)\\bproject\\b",name:"keyword.control.project"},{match:"(?i)\\bquery\\b",name:"keyword.control.query"},{match:"(?i)\\brename\\b",name:"keyword.control.rename"},{match:"(?i)\\btop\\b",name:"keyword.control.top"},{match:"(?i)\\bwhere\\b",name:"keyword.control.where"},{match:"(?i)\\bdeclare\\b",name:"keyword.control.declare"}]},keywords:{patterns:[{match:"(?i)\\bis\\b",name:"keyword.control.is"},{match:"(?i)\\bon\\b",name:"keyword.control.on"},{match:"(?i)\\bnot\\b",name:"keyword.other.not"},{match:"(?i)\\bor\\b",name:"keyword.other.or"},{match:"(?i)\\bdesc\\b",name:"keyword.control.desc"},{match:"(?i)\\bby\\b",name:"keyword.control.by"},{match:"(?i)\\band\\b",name:"keyword.other.and"},{match:"(?i)\\basc\\b",name:"keyword.control.asc"},{match:"(?i)\\bfor\\b",name:"keyword.other.for"},{match:"(?i)\\belse\\b",name:"keyword.other.else"},{match:"(?i)\\bto\\b",name:"keyword.other.to"},{match:"(?i)\\bwhen\\b",name:"keyword.other.when"},{match:"(?i)\\bpick\\b",name:"keyword.other.pick"},{match:"(?i)\\bimport\\b",name:"keyword.control.import"}]}}};ipe("https://unpkg.com/shiki/");function Ph(){return navigator.userAgent.toLowerCase().indexOf(" electron/")!=-1}function _0(){return!0}var uqe=mpe({theme:"light-plus",langs:["sql","json",{id:"malloy",scopeName:"source.malloy",embeddedLangs:["sql"],grammar:xpe}]});async function lqe(n,e){let t=await uqe;return t.getLoadedLanguages().includes(e)||(e="txt"),t.codeToHtml(n,{lang:e})}async function $A(n,e){let t=await lqe(n,e),r=document.createElement("div");return r.innerHTML=t,r}function zA(n){return n.type==="struct"?"source":n.type==="turtle"?"query":n.type}function IK(n){return n.type==="struct"||n.type==="turtle"?"string":n.type}function cI(n){return n.type==="struct"?"source":n.type==="turtle"?"query":n.aggregate?"measure":"dimension"}function fI(n){return n!==void 0}function b0(n,e){let t=cI(n);if(n.type==="struct"||t==="source")throw new Error("Cannot make a summary item from a struct.");return{type:"field",field:n,path:e,saveDefinition:void 0,isRefined:!1,name:n.as||n.name,isRenamed:!1,fieldIndex:-1,kind:t}}function MK(n){return n.type!=="struct"&&n.type!=="turtle"&&!!n.aggregate}function HA(n){return n.type!=="struct"&&n.type!=="turtle"&&!n.aggregate}function dI(n){return n.type==="turtle"}function Bf(n,e=[]){return n.fields.flatMap(t=>t.type==="struct"?Bf(t,[...e,t.as||t.name]):[{field:t,path:[...e,t.as||t.name].join(".")}])}function cqe(n){let e=n.split(".");return e.map((t,r)=>e.slice(r).join("."))}function E0(n,e){return[...cqe(e).reverse(),n.name,cI(n),zA(n)]}function Zd(n){let e=n.split(".");return e[e.length-2]}function hI(n){return n<1e3?n.toLocaleString():n<1e4?(n/1e3).toFixed(1)+"K":n<1e6?Math.floor(n/1e3).toLocaleString()+"K":n<1e7?(n/1e6).toFixed(1)+"M":Math.floor(n/1e3).toLocaleString()+"M"}function PK(n,e,t){let r=document.createElement("a"),i=new Blob([n],{type:e}),s=URL.createObjectURL(i);r.setAttribute("href",s),r.setAttribute("download",t),r.click()}m();var hCe=xr(cCe()),pCe=xr(w2());m();m();function L$(n,e){if(n===void 0)return{stageIndex:e.stageIndex};if(e.fieldIndex===void 0)throw new Error("Invalid push to stage path");return{stageIndex:e.stageIndex,parts:[...n.parts||[],{stageIndex:n.stageIndex,fieldIndex:e.fieldIndex}]}}function goe(n){if(n.parts&&n.parts.length>0){let e=n.parts[0];return{stageIndex:e.stageIndex,fieldIndex:e.fieldIndex,stagePath:{stageIndex:n.stageIndex,parts:n.parts.slice(1)}}}return{stageIndex:n.stageIndex}}function fCe(n){return n.parts?{stagePath:{stageIndex:n.parts[0].stageIndex,parts:n.parts?.slice(1)},stageIndex:n.stageIndex,fieldIndex:n.parts[0].fieldIndex}:{stagePath:void 0,fieldIndex:void 0,stageIndex:n.stageIndex}}var k0=xr(w2()),yoe=class{constructor(e){this.source=e}updateSource(e){this.source=e}getField(e,t){let r=t.split("."),i=e;for(;r.length>1;){let o=r[0],a=i.fields.find(c=>(c.as||c.name)===o);if(a===void 0)throw new Error(`Could not find (inner) ${o}`);if(a.type==="struct")i=a,r=r.slice(1);else if(a.type==="turtle"){let c=this.source;for(let d of a.pipeline)c=this.modifySourceForStage(d,c);i=c,r=r.slice(1)}else throw new Error("Inner segment in path is not a source")}let s=i.fields.find(o=>(o.as||o.name)===r[0]);if(s===void 0)throw new Error(`Could not find ${r[0]}`);return s}modifySourceForStage(e,t){return k0.Segment.nextStructDef(t,e)}},k$=class extends yoe{constructor(e){super(e);this.query={pipeline:[{type:"reduce",fields:[]}],name:"new_query",type:"turtle"}}getName(){return this.query.name}stageAtPath(e){let t=this.query.pipeline;for(;;){let{stagePath:r,stageIndex:i,fieldIndex:s}=goe(e);if(s!==void 0){let o=t[i].fields[s];if(typeof o=="string"||(0,k0.isFilteredAliasedName)(o)||o.type!=="turtle")throw new Error("Path does not refer to a stage correctly");if(t=o.pipeline,r===void 0)throw new Error("Invalid stage path");e=r}else return t[i]}}sourceForStageAtPath(e){let t=this.query.pipeline,r=this.source;for(;;){let{stagePath:i,stageIndex:s,fieldIndex:o}=goe(e);for(let a=0;a<s;a++)r=this.modifySourceForStage(t[a],r);if(o!==void 0){let a=t[s].fields[o];if(typeof a=="string"||(0,k0.isFilteredAliasedName)(a)||a.type!=="turtle")throw new Error("Path does not refer to a stage correctly");if(t=a.pipeline,i===void 0)throw new Error("Invalid stage path");e=i}else return r}}sortOrder(e){return e.type==="struct"?3:e.type==="turtle"?2:e.aggregate?1:0}fieldDefForQueryFieldDef(e,t){return typeof e=="string"?this.getField(t,e):(0,k0.isFilteredAliasedName)(e)?this.getField(t,e.name):e}getIndexToInsertNewField(e,t){let r=this.stageAtPath(e),i=this.sourceForStageAtPath(e),s=this.fieldDefForQueryFieldDef(t,i),o=this.sortOrder(s);for(let a=0;a<r.fields.length;a++){let c=r.fields[a];try{let d=this.fieldDefForQueryFieldDef(c,i);if(this.sortOrder(d)>o)return a}catch(d){console.log(d)}}return r.fields.length}insertField(e,t){let r=this.stageAtPath(e),i=this.getIndexToInsertNewField(e,t);r.fields.splice(i,0,t)}addField(e,t){this.insertField(e,t)}loadQuery(e){let t=this.getField(this.source,e);if(t.type!=="turtle")throw new Error("Path does not refer to query.");t.pipeline.forEach((r,i)=>{if(this.query.pipeline[i]===void 0)this.query.pipeline[i]=JSON.parse(JSON.stringify(r));else{let s=this.query.pipeline[i];if(s.type!=="reduce"||r.type!=="reduce")throw new Error("Cannot load query with non-reduce stages");r.by&&(s.by={...r.by},s.orderBy=void 0),r.filterList&&(s.filterList=(s.filterList||[]).concat(...r.filterList.filter(o=>!s.filterList?.find(a=>a.code===o.code)))),r.limit&&(s.limit=r.limit),r.orderBy&&(s.orderBy=r.orderBy,s.by=void 0),s.fields=r.fields.map(o=>JSON.parse(JSON.stringify(o))).concat(s.fields.filter(o=>!r.fields.find(a=>this.nameOf(a)===this.nameOf(o))))}}),this.query.name=t.as||t.name}nameOf(e){return typeof e=="string"?e:e.as||e.name}replaceSavedField(e,t,r){this.stageAtPath(e).fields.splice(t,1,r)}removeField(e,t){let r=this.stageAtPath(e);if(r.type==="reduce"&&r.orderBy){let i=r.orderBy.findIndex(s=>{let o=r.fields[t];return s.field===this.nameOf(o)});i!==-1&&r.orderBy.splice(i,1)}r.fields.splice(t,1)}getFieldIndex(e,t){let i=this.stageAtPath(e).fields.findIndex(s=>s===t);return i===-1?void 0:i}hasField(e,t){return this.getFieldIndex(e,t)!==void 0}reorderFields(e,t){let r=this.stageAtPath(e),i=t.map(s=>r.fields[s]);r.fields=i}toggleField(e,t){let r=this.getFieldIndex(e,t);r!==void 0?this.removeField(e,r):this.addField(e,t)}getQuery(){return this.query}addFilter(e,t){let r=this.stageAtPath(e);r.filterList=[...r.filterList||[],t]}editFilter(e,t,r,i){let s=this.stageAtPath(e);if(t===void 0){if(s.filterList===void 0)throw new Error("Stage has no filters.");s.filterList[r]=i}else{let o=s.fields[t];if(!(0,k0.isFilteredAliasedName)(o))throw new Error("Cannot edit filter on non FAN.");if(o.filterList===void 0)throw new Error("Field has no filters");o.filterList[r]=i}}removeFilter(e,t,r){let i=this.stageAtPath(e);if(r===void 0)i.filterList&&i.filterList.splice(t,1);else{let s=i.fields[r];(0,k0.isFilteredAliasedName)(s)&&s.filterList?.splice(r,1)}}hasLimit(e){let t=this.stageAtPath(e);if(t.type!=="reduce")throw new Error("Don't know how to handle this yet");return t.limit!==void 0}addLimit(e,t,r,i){let s=this.stageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");s.limit=t,r&&(s.orderBy=[{field:r.path,dir:i}])}addOrderBy(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[];let s=i.fields[t],o=typeof s=="string"?s:s.as||s.name;i.orderBy.push({field:o,dir:r})}editOrderBy(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[],i.orderBy[t]={field:i.orderBy[t].field,dir:r}}removeLimit(e){let t=this.stageAtPath(e);t.limit=void 0}addStage(e,t){let r;if(e!==void 0){let i=this.stageAtPath(e);if(t===void 0)throw new Error("fieldIndex must be provided if stagePath is");let s=i.fields[t];if(typeof s!="string"&&!(0,k0.isFilteredAliasedName)(s)&&s.type==="turtle")r=s;else throw new Error("Invalid field to add stage to.")}else r=this.query;r.pipeline.push({type:"reduce",fields:[]})}removeStage(e){let{stagePath:t,fieldIndex:r,stageIndex:i}=fCe(e),s;if(t!==void 0){let o=this.stageAtPath(t);if(r===void 0)throw new Error("Invalid stage path");let a=o.fields[r];if(typeof a!="string"&&!(0,k0.isFilteredAliasedName)(a)&&a.type==="turtle")s=a;else throw new Error("Invalid field to add stage to.")}else s=this.query;s.pipeline.splice(i,1),s.pipeline.length===0&&s.pipeline.push({type:"reduce",fields:[]})}removeOrderBy(e,t){let r=this.stageAtPath(e);if(r.type!=="reduce")throw new Error("Don't know how to handle this yet");r.orderBy&&r.orderBy.splice(t,1)}canRun(){return this.query.pipeline[0].fields.length>0}renameField(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");let s=i.fields[t],o=this.nameOf(s);i.orderBy&&i.orderBy.forEach(a=>{a.field===o&&(a.field=r)}),typeof s=="string"?i.fields[t]={name:s,as:r}:((0,k0.isFilteredAliasedName)(s),s.as=r)}addFilterToField(e,t,r,i){i!==void 0&&this.renameField(e,t,i);let s=this.stageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");let o=s.fields[t];if(typeof o=="string"){if(i===void 0)throw new Error("As must be specified if field is not already renamed.")}else(0,k0.isFilteredAliasedName)(o)&&(o.filterList=[...o.filterList||[],r])}addNewNestedQuery(e,t){let r={name:t,type:"turtle",pipeline:[{type:"reduce",fields:[]}]};this.insertField(e,r)}addNewField(e,t){this.insertField(e,t)}editFieldDefinition(e,t,r){let i=this.stageAtPath(e);i.fields[t]=r}replaceWithDefinition(e,t,r){let i=this.stageAtPath(e),s=i.fields[t];if(typeof s!="string")throw new Error("Don't deal with this yet");let o=r.fields.find(a=>(a.as||a.name)===s);if(o===void 0)throw new Error("Field is not defined..");i.fields[t]=JSON.parse(JSON.stringify(o))}setName(e){this.query.name=e}},bO=class extends yoe{constructor(e,t){super(t);this.query=e}getQueryStringForSource(e){return this.getMalloyString(!0,e)}getQueryStringForModel(){return this.getMalloyString(!1,this.query.name)}getFiltersString(e){let t=[];e.length===1?t.push(" "):t.push(oy,PC);for(let r=0;r<e.length;r++){let i=e[r];t.push(i.code),r!==e.length-1&&t.push(","),t.push(oy)}return e.length>1&&t.push(BC),t}maybeQuoteIdentifier(e){let t=e.split(".");for(let r=0;r<t.length;r++)t[r].match(/^[A-Za-z_][A-Za-z_0-9]*$/)||(t[r]=`\`${t[r]}\``);return t.join(".")}codeInfoForField(e,t,r){try{if(typeof e=="string"){let i=this.getField(t,e);if(i.type==="struct")throw new Error("Don't know how to deal with this");return{property:i.type==="turtle"?"nest":i.aggregate?"aggregate":"group_by",malloy:[this.maybeQuoteIdentifier(e)]}}else if((0,k0.isFilteredAliasedName)(e)){let i=this.getField(t,e.name);if(i.type==="struct")throw new Error("Don't know how to deal with this");let s=i.type==="turtle"?"nest":i.aggregate?"aggregate":"group_by",o=[],a=e.as===void 0?"":`${this.maybeQuoteIdentifier(e.as)} is `;return o.push(`${a}${this.maybeQuoteIdentifier(e.name)}`),e.filterList&&e.filterList.length>0&&(o.push(" {",PC,"where:"),o.push(...this.getFiltersString(e.filterList||[])),o.push(BC,"}")),{property:s,malloy:o}}else if(e.type==="turtle"){let i=[];i.push(`${this.maybeQuoteIdentifier(e.as||e.name)} is`);let s=t,o=!0;for(let a of e.pipeline)o||i.push("->"),i.push(...this.getMalloyStringForStage(a,s,r+"  ")),s=this.modifySourceForStage(a,s),o=!1;return{property:"nest",malloy:i}}else{let i=e.aggregate?"aggregate":"group_by",s=[`${this.maybeQuoteIdentifier(e.as||e.name)} is ${e.code}`];return{property:i,malloy:s}}}catch(i){console.log(i)}}writeMalloyForPropertyValues(e,t){return t.length===0?[]:t.length===1?[e,": ",...t[0],oy]:[e,": ",oy,PC,...t.flatMap(r=>[...r,oy]),BC]}getMalloyStringForStage(e,t,r=""){let i=[];i.push(" {",oy,PC),e.filterList&&e.filterList.length>0&&i.push("where:",...this.getFiltersString(e.filterList));let s,o=[];for(let a of e.fields){let c=this.codeInfoForField(a,t,r);c&&(s!==void 0&&c.property!==s&&(i.push(...this.writeMalloyForPropertyValues(s,o)),o=[]),s=c.property,o.push(c.malloy))}return s&&i.push(...this.writeMalloyForPropertyValues(s,o)),e.limit&&i.push(`limit: ${e.limit}`,oy),e.type==="reduce"&&e.orderBy&&e.orderBy.length>0&&(i.push("order_by: "),i.push(e.orderBy.map(a=>{let c;if(typeof a.field=="string"){let d=a.field.split(".");c=d[d.length-1]}else c=a.field;return`${typeof c=="string"?this.maybeQuoteIdentifier(c):c}${a.dir?" "+a.dir:""}`}).join(", "),oy)),i.push(BC,"}"),i}getMalloyString(e,t){let r=[];e||r.push("query:"),t!==void 0&&r.push(`${this.maybeQuoteIdentifier(t)} is`),e||r.push(this.maybeQuoteIdentifier(this.source.as||this.source.name));let i=[r.join(" ")],s=this.source;for(let o of this.query.pipeline)e||i.push(" ->"),i.push(...this.getMalloyStringForStage(o,s)),s=this.modifySourceForStage(o,s);return dCe(i)}getSummaryItemsForFilterList(e){let t=[];for(let r=0;r<e.length;r++){let i=e[r];t.push({type:"filter",filterSource:i.code,filterIndex:r})}return t}getQuerySummary(e,t){let r=this.query.name,i=this.source;return{stages:this.query.pipeline.map((o,a)=>{let c=this.getStageSummary(o,i,e,t);if(i=this.modifySourceForStage(o,i),a===this.query.pipeline.length-1){let d=this.getStyleItemForName(r,"query",e,t);d&&c.items.push(d)}return c})}}nameOf(e){return typeof e=="string"?e:e.as||e.name}getStyleItem(e,t,r,i){let s,o;if(typeof e=="string"){s=e;let a=this.getField(t,e);if(a.type==="struct")throw new Error("Don't know how to deal with this");o=a.type==="turtle"?"query":a.aggregate?"measure":"dimension"}else if(s=e.as||e.name,(0,k0.isFilteredAliasedName)(e)){let a=this.getField(t,e.name);if(a.type==="struct")throw new Error("Don't know how to deal with this");o=a.type==="turtle"?"query":a.aggregate?"measure":"dimension"}else o=e.type==="turtle"?"query":e.aggregate?"measure":"dimension";return this.getStyleItemForName(s,o,r,i)}getStyleItemForName(e,t,r,i){let s={...r,...i}[e];if(!(s===void 0||s.renderer===void 0))return{type:"data_style",renderer:s.renderer,styleKey:e,canRemove:e in i,allowedRenderers:t==="query"||t==="source"?["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]:["number","boolean","currency","image","link","percent","text","time"]}}getStageSummary(e,t,r,i){let s=[],o=[];e.filterList&&s.push(...this.getSummaryItemsForFilterList(e.filterList));for(let a=0;a<e.fields.length;a++){let c=e.fields[a];try{let d=this.getStyleItem(c,t,r,i),p=d?[d]:[];if(typeof c=="string"){let b=this.getField(t,c);if(b.type==="struct")throw new Error("Don't know how to deal with this");s.push({type:"field",field:b,saveDefinition:void 0,fieldIndex:a,isRefined:!1,styles:p.filter(C=>C.canRemove),isRenamed:!1,path:c,kind:b.type==="turtle"?"query":b.aggregate?"measure":"dimension",name:b.as||b.name}),b.type!=="turtle"&&o.push({name:c,fieldIndex:a,type:b.type})}else if((0,k0.isFilteredAliasedName)(c)){let b=this.getField(t,c.name);if(b.type==="struct")throw new Error("Don't know how to deal with this");b.type!=="turtle"&&o.push({name:c.as||c.name,fieldIndex:a,type:b.type}),s.push({type:"field",field:b,saveDefinition:t===this.source&&b.type!=="turtle"?this.fanToDef(c,b):void 0,fieldIndex:a,filters:this.getSummaryItemsForFilterList(c.filterList||[]),styles:p.filter(C=>C.canRemove),isRefined:!0,path:c.name,isRenamed:c.as!==void 0,name:c.as||c.name,kind:b.type==="turtle"?"query":b.aggregate?"measure":"dimension"})}else if(c.type==="turtle"){let b=[],C=t;for(let N of c.pipeline)b.push(this.getStageSummary(N,C,r,i)),C=this.modifySourceForStage(N,C);s.push({type:"nested_query_definition",name:c.as||c.name,fieldIndex:a,saveDefinition:t===this.source?c:void 0,stages:b,styles:p})}else s.push({type:"field_definition",name:c.as||c.name,fieldIndex:a,field:c,saveDefinition:t===this.source?c:void 0,source:c.code,kind:c.aggregate?"measure":"dimension",styles:p}),o.push({name:c.as||c.name,fieldIndex:a,type:c.type})}catch(d){s.push({type:"error_field",field:c,name:this.nameOf(c),error:d.message,fieldIndex:a})}}if(e.limit&&s.push({type:"limit",limit:e.limit}),e.type==="reduce"&&e.orderBy)for(let a=0;a<e.orderBy.length;a++){let c=e.orderBy[a],d;typeof c.field=="string"?d=e.fields.findIndex(b=>this.nameOf(b)===c.field):d=c.field-1;let p=e.fields[d];if(p!==void 0){let b;if(typeof p=="string"?b=this.getField(t,p):(0,k0.isFilteredAliasedName)(p)?b=this.getField(t,p.as||p.name):b=p,b.type==="struct"||b.type==="turtle")continue;s.push({type:"order_by",byField:{type:b.type,fieldIndex:d,name:this.nameOf(b)},direction:c.dir,orderByIndex:a})}}return{items:s,orderByFields:o,inputSource:t}}fanToDef(e,t){let r=[e.name];e.filterList&&e.filterList.length>0&&(r.push(" {",PC,"where:"),r.push(...this.getFiltersString(e.filterList||[])),r.push(BC,"}"));let i=dCe(r);return{type:t.type,name:e.as||e.name,e:["ignore"],aggregate:t.aggregate,code:i}}},PC=Symbol("indent"),oy=Symbol("newline"),BC=Symbol("outdent"),Q0t=2;function dCe(n){let e="",t=0,r=!0;for(let i of n)i===oy?(e+=`
`,r=!0):i===BC?t--:i===PC?t++:(r&&(e+=" ".repeat(t*Q0t),r=!1),e+=i);return e}var mCe=class{constructor(){this.connection=new hCe.DuckDBWASMConnection("duckdb")}async lookupConnection(e){return await this.connection.connecting,this.connection}},G0t=async n=>(await fetch(n)).text(),xCe=class{constructor(){this.contents={}}setContents(e,t){this.contents[e]=t}async readURL(e){let t=e.toString();return t in this.contents?this.contents[t]:G0t(e)}},I$=new xCe,gCe=new mCe,jC=new pCe.Runtime(I$,gCe);async function yCe(){let n=window.location.href,e=new URL("composer.json",n),t=await I$.readURL(e),r=JSON.parse(t),i=await Promise.all(r.map(async s=>{let o=await gCe.lookupConnection("duckdb");await Promise.all(s.dataTables.map(b=>o.database?.registerFileURL(b,new URL(b,n).toString())));let a=new URL(s.modelPath,n),c=await I$.readURL(a),d=s.styles&&await I$.readURL(new URL(s.styles,n)),p=await jC.getModel(a);return{type:"model",malloy:c,path:s.modelPath,fullPath:a.toString(),sources:p.explores,modelDef:p._modelDef,dataStyles:d?JSON.parse(d):{}}}));return{type:"directory",path:"/",fullPath:window.location.hostname,contents:i}}async function vCe(n,e,t){let r=jC.loadModel(t.malloy+`
`+n).loadQueryByName(e),i=(await r.getPreparedResult()).resultExplore.limit;return r.run({rowLimit:i})}async function _Ce(n,e,t,r){let i=n.as||n.name;return jC._loadModelFromModelDef({name:"_generated",contents:{[i]:n},exports:[]}).search(i,t,void 0,r)}async function bCe(n,e){let t=n.as||n.name;return jC._loadModelFromModelDef({name:"_generated",contents:{[t]:n},exports:[]}).searchValueMap(t)}function Y0t(n,e){let t=n.split(`
`),r=t.slice(0,e.line),i=t[e.line].substring(0,e.character);return r.join(`
`)+`
`+i}function K0t(n,e){let t=n.split(`
`),r=t.slice(e.line+1);return t[e.line].substring(e.character)+`
`+r.join(`
`)}function ECe(n){return n.split(`
`).map(e=>"  "+e).join(`
`)}function J0t(n){let e=n.split(`
`);return e[0]+`
`+e.slice(1).map(t=>"  "+t).join(`
`)}async function SCe(n,e,t,r){let i=await jC.getModel(r.malloy),s=i._modelDef.contents[r.sourceName];if(s.type!=="struct")throw new Error("Wrong type for source.");if(e.type==="struct")throw new Error("Invalid field to save");let o=e.type==="turtle"?new bO(e,s).getQueryStringForSource(t):`${t} is ${e.code}`;if(o===void 0)throw new Error("Expected field to have code.");let c=i.getExploreByName(r.sourceName).allFields.find(b=>b.name===t);if(c&&Z0t(c)!==e.type)throw new Error("Cannot overwrite field of differing type");let d;if(c){let b=X0t(c);b?.url==="internal://internal.malloy"?d=Y0t(r.malloy,b.range.start)+J0t(o)+K0t(r.malloy,b.range.end):d=r.malloy.replace(/\}\s*$/,`
`+ECe(`${n}: ${o}`)+`
}`)}else d=r.malloy.replace(/\}\s*$/,`
`+ECe(`${n}: ${o}`)+`
}`);let p=await jC.getModel(d);return{...r,malloy:d,modelDef:p._modelDef}}function X0t(n){if(n.isQueryField())return n.turtleDef.location;if(n.isAtomicField())return n.fieldTypeDef.location}function Z0t(n){if(n.isQueryField())return n.turtleDef.type;if(n.isAtomicField())return n.fieldTypeDef.type}var voe=n=>`directory/${n}`;function _oe(n){let{data:e}=im(voe(n),async()=>_0()?yCe():Ph()?window.malloy.analyses(n):(await(await fetch("api/analyses")).json()).directory,{refetchOnWindowFocus:!1});return e}m();m();var EO=xr(Rr()),CCe=n=>EO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},EO.createElement("title",null,"chevron_left"),EO.createElement("g",{id:"chevron_left",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},EO.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-90.000000) translate(-55.000000, -55.000005) "})));m();var SO=xr(Rr()),M$=n=>SO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},SO.createElement("title",null,"chevron_right"),SO.createElement("g",{id:"chevron_right",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},SO.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-270.000000) translate(-55.000000, -55.000005) "})));m();var mi={dimension:{fillLight:"rgb(240,246,255)",fillMedium:"#c3d7f7",fillStrong:"#4285f4"},measure:{fillStrong:"#ea8600",fillMedium:"#f3cfa1",fillLight:"#fff3e8"},filter:{fillStrong:"#8166da",fillMedium:"#d4d6d8",fillLight:"#f8f6ff"},query:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},source:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},other:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},error:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},mainBackground:"rgb(247, 249, 252)"};var Zwt=$n.div`
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: 22px;
  padding: 7px 10px 6px 20px;
  border-bottom: 1px solid #efefef;
  font-size: 11pt;
  font-weight: 500;
`,P$=$n.div`
  display: flex;
  font-weight: normal;
  font-family: "Roboto Mono";
  gap: 5px;
  margin-top: -3px;
  align-items: center;
  user-select: none;
`,Z5=$n.label`
  font-size: 12px;
  color: #505050;
  font-family: Roboto;
  font-family: Roboto;
  text-transform: none;
  color: #9aa0a6;
  font-weight: normal;
`,Yl=$n.button`
  padding: 5.5px 10px;
  font-family: Google Sans;
  border-radius: 5px;
  cursor: pointer;
  min-width: 80px;

  ${({color:n="primary",outline:e=!1})=>`
    ${n==="primary"&&!e?`
        border: 1px solid #4285F4;
        background-color: #4285F4;
        color: white;

        &:active {
          background-color: #175cb7;
        }
      `:n==="primary"&&e?`
        border: 1px solid #d8dade;
        background-color: white;
        color: #4285F4;

        &:active {
          background-color: #efefef;
        }
      `:n==="secondary"&&!e?`
        border: 1px solid #a5a5a5;
        background-color: #dbdbdb;
        color: #343434;

        &:active {
          background-color: #adadad;
        }
      `:`
        border: 1px solid #343434;
        background-color: white;
        color: #343434;

        &:active {
          background-color: #343434;
          color: white;
        }
      `}
  `}
`,p1=$n.div`
  display: flex;
  justify-content: flex-end;
  gap: 5px;
  margin-top: 15px;
`,UC=$n.form`
  display: flex;
  justify-content: space-between;
  gap: 5px;
`,wCe=({onClick:n})=>v.createElement(CCe,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),ACe=({onClick:n})=>v.createElement(M$,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),kl=$n.div`
  color: #969696;
  text-align: center;
  margin-top: 30px;
  margin-bottom: 30px;
  font-family: Roboto;
  text-transform: none;
  font-size: 16px;
  font-weight: normal;
`,bc=$n.div`
  font-family: Google Sans;
  font-size: 14px;
  color: #505050;
  text-transform: none;
  margin-bottom: 15px;
  user-select: none;
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
`,_f=$n.div`
  padding: 15px;
`,Il=$n.div`
  padding: 10px;
`,mh=$n.div`
  border-bottom: 1px solid #efefef;
  padding: 10px;
`,m1=$n.div`
  display: flex;
  flex-direction: column;
`,x1=$n.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,Kl=$n.div`
  overflow-y: auto;
  max-height: 400px;
`,boe=$n.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,B$=$n(boe)`
  font-size: 12px;
`,$C=$n.div`
  flex-shrink: 0;
  align-items: center;
  justify-content: center;
  display: flex;

  ${({color:n})=>`
      svg .primaryfill {
        fill: ${mi[n].fillStrong};
      }
      svg .primarystroke {
        stroke: ${mi[n].fillStrong};
      }
    `}
`,zC=$n.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,j$=$n.div`
  overflow: hidden;
  width: 100%;
  height: 40px;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  background-color: ${mi.mainBackground};
  flex-shrink: 0;
`,HC=$n.div`
  overflow: hidden;
  background-color: white;
  border-radius: 5px;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
`;m();m();m();m();m();var VC=xr(Rr()),TCe=n=>VC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},VC.createElement("title",null,"channel_about"),VC.createElement("g",{id:"channel_about",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},VC.createElement("g",{id:"article_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.250000, 4.250000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},VC.createElement("path",{d:"M19.9520833,71.29375 L54.9,71.29375 L54.9,63.66875 L19.9520833,63.66875 L19.9520833,71.29375 Z M19.9520833,49.5625 L71.5479167,49.5625 L71.5479167,41.9375 L19.9520833,41.9375 L19.9520833,49.5625 Z M19.9520833,27.83125 L71.5479167,27.83125 L71.5479167,20.20625 L19.9520833,20.20625 L19.9520833,27.83125 Z M7.625,91.5 C5.59166667,91.5 3.8125,90.7375 2.2875,89.2125 C0.7625,87.6875 0,85.9083333 0,83.875 L0,7.625 C0,5.59166667 0.7625,3.8125 2.2875,2.2875 C3.8125,0.7625 5.59166667,0 7.625,0 L83.875,0 C85.9083333,0 87.6875,0.7625 89.2125,2.2875 C90.7375,3.8125 91.5,5.59166667 91.5,7.625 L91.5,83.875 C91.5,85.9083333 90.7375,87.6875 89.2125,89.2125 C87.6875,90.7375 85.9083333,91.5 83.875,91.5 L7.625,91.5 Z M7.625,83.875 L83.875,83.875 L83.875,7.625 L7.625,7.625 L7.625,83.875 Z M7.625,7.625 L7.625,83.875 L7.625,7.625 Z",id:"Shape"}))));m();var WC=xr(Rr()),FCe=n=>WC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},WC.createElement("title",null,"channel_feedback"),WC.createElement("g",{id:"channel_feedback",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},WC.createElement("g",{id:"chat_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.000000, 4.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},WC.createElement("path",{d:"M18.4,55.315 L54.395,55.315 L54.395,48.415 L18.4,48.415 L18.4,55.315 Z M18.4,40.365 L73.6,40.365 L73.6,33.465 L18.4,33.465 L18.4,40.365 Z M18.4,25.415 L73.6,25.415 L73.6,18.515 L18.4,18.515 L18.4,25.415 Z M0,92 L0,6.9 C0,5.13666667 0.69,3.54583333 2.07,2.1275 C3.45,0.709166667 5.06,0 6.9,0 L85.1,0 C86.8633333,0 88.4541667,0.709166667 89.8725,2.1275 C91.2908333,3.54583333 92,5.13666667 92,6.9 L92,66.7 C92,68.4633333 91.2908333,70.0541667 89.8725,71.4725 C88.4541667,72.8908333 86.8633333,73.6 85.1,73.6 L18.4,73.6 L0,92 Z M6.9,75.325 L15.525,66.7 L85.1,66.7 L85.1,6.9 L6.9,6.9 L6.9,75.325 Z M6.9,6.9 L6.9,75.325 L6.9,6.9 Z",id:"Shape"}))));m();var QC=xr(Rr()),DCe=n=>QC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},QC.createElement("title",null,"channel_help"),QC.createElement("g",{id:"channel_help",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},QC.createElement("g",{id:"help_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},QC.createElement("path",{d:"M46.7125,73.190625 C47.9458333,73.190625 48.9864583,72.7666667 49.834375,71.91875 C50.6822917,71.0708333 51.10625,70.0302083 51.10625,68.796875 C51.10625,67.5635417 50.6822917,66.5229167 49.834375,65.675 C48.9864583,64.8270833 47.9458333,64.403125 46.7125,64.403125 C45.4791667,64.403125 44.4385417,64.8270833 43.590625,65.675 C42.7427083,66.5229167 42.31875,67.5635417 42.31875,68.796875 C42.31875,70.0302083 42.7427083,71.0708333 43.590625,71.91875 C44.4385417,72.7666667 45.4791667,73.190625 46.7125,73.190625 Z M42.665625,56.309375 L49.4875,56.309375 C49.4875,54.3052083 49.7380208,52.4744792 50.2390625,50.8171875 C50.7401042,49.1598958 52.3010417,47.2520833 54.921875,45.09375 C57.3114583,43.0895833 59.0072917,41.1239583 60.009375,39.196875 C61.0114583,37.2697917 61.5125,35.15 61.5125,32.8375 C61.5125,28.7520833 60.1828125,25.4760417 57.5234375,23.009375 C54.8640625,20.5427083 51.3375,19.309375 46.94375,19.309375 C43.1666667,19.309375 39.8328125,20.2536458 36.9421875,22.1421875 C34.0515625,24.0307292 31.9510417,26.6322917 30.640625,29.946875 L36.76875,32.259375 C37.6166667,30.1010417 38.8885417,28.4244792 40.584375,27.2296875 C42.2802083,26.0348958 44.284375,25.4375 46.596875,25.4375 C49.2177083,25.4375 51.3375,26.1505208 52.95625,27.5765625 C54.575,29.0026042 55.384375,30.8333333 55.384375,33.06875 C55.384375,34.7645833 54.8833333,36.3640625 53.88125,37.8671875 C52.8791667,39.3703125 51.4145833,40.93125 49.4875,42.55 C47.175,44.5541667 45.4598958,46.5390625 44.3421875,48.5046875 C43.2244792,50.4703125 42.665625,53.071875 42.665625,56.309375 L42.665625,56.309375 Z M46.25,92.5 C39.9291667,92.5 33.9552083,91.2859375 28.328125,88.8578125 C22.7010417,86.4296875 17.7869792,83.1151042 13.5859375,78.9140625 C9.38489583,74.7130208 6.0703125,69.7989583 3.6421875,64.171875 C1.2140625,58.5447917 0,52.5708333 0,46.25 C0,39.8520833 1.2140625,33.8395833 3.6421875,28.2125 C6.0703125,22.5854167 9.38489583,17.690625 13.5859375,13.528125 C17.7869792,9.365625 22.7010417,6.0703125 28.328125,3.6421875 C33.9552083,1.2140625 39.9291667,0 46.25,0 C52.6479167,0 58.6604167,1.2140625 64.2875,3.6421875 C69.9145833,6.0703125 74.809375,9.365625 78.971875,13.528125 C83.134375,17.690625 86.4296875,22.5854167 88.8578125,28.2125 C91.2859375,33.8395833 92.5,39.8520833 92.5,46.25 C92.5,52.5708333 91.2859375,58.5447917 88.8578125,64.171875 C86.4296875,69.7989583 83.134375,74.7130208 78.971875,78.9140625 C74.809375,83.1151042 69.9145833,86.4296875 64.2875,88.8578125 C58.6604167,91.2859375 52.6479167,92.5 46.25,92.5 Z M46.25,85.5625 C57.1958333,85.5625 66.484375,81.7276042 74.115625,74.0578125 C81.746875,66.3880208 85.5625,57.11875 85.5625,46.25 C85.5625,35.3041667 81.746875,26.015625 74.115625,18.384375 C66.484375,10.753125 57.1958333,6.9375 46.25,6.9375 C35.38125,6.9375 26.1119792,10.753125 18.4421875,18.384375 C10.7723958,26.015625 6.9375,35.3041667 6.9375,46.25 C6.9375,57.11875 10.7723958,66.3880208 18.4421875,74.0578125 C26.1119792,81.7276042 35.38125,85.5625 46.25,85.5625 Z",id:"Shape"}))));m();var GC=xr(Rr()),OCe=n=>GC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},GC.createElement("title",null,"channel_preview"),GC.createElement("g",{id:"channel_preview",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},GC.createElement("g",{id:"analytics_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},GC.createElement("path",{d:"M21.0694444,72.3298611 L28.7777778,72.3298611 L28.7777778,45.9930556 L21.0694444,45.9930556 L21.0694444,72.3298611 Z M63.7222222,72.3298611 L71.4305556,72.3298611 L71.4305556,18.3715278 L63.7222222,18.3715278 L63.7222222,72.3298611 Z M42.3958333,72.3298611 L50.1041667,72.3298611 L50.1041667,57.1701389 L42.3958333,57.1701389 L42.3958333,72.3298611 Z M42.3958333,45.9930556 L50.1041667,45.9930556 L50.1041667,38.2847222 L42.3958333,38.2847222 L42.3958333,45.9930556 Z M7.70833333,92.5 C5.65277778,92.5 3.85416667,91.7291667 2.3125,90.1875 C0.770833333,88.6458333 0,86.8472222 0,84.7916667 L0,7.70833333 C0,5.65277778 0.770833333,3.85416667 2.3125,2.3125 C3.85416667,0.770833333 5.65277778,0 7.70833333,0 L84.7916667,0 C86.8472222,0 88.6458333,0.770833333 90.1875,2.3125 C91.7291667,3.85416667 92.5,5.65277778 92.5,7.70833333 L92.5,84.7916667 C92.5,86.8472222 91.7291667,88.6458333 90.1875,90.1875 C88.6458333,91.7291667 86.8472222,92.5 84.7916667,92.5 L7.70833333,92.5 Z M7.70833333,84.7916667 L84.7916667,84.7916667 L84.7916667,7.70833333 L7.70833333,7.70833333 L7.70833333,84.7916667 Z M7.70833333,7.70833333 L7.70833333,84.7916667 L7.70833333,7.70833333 Z",id:"Shape"}))));m();var YC=xr(Rr()),NCe=n=>YC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},YC.createElement("title",null,"channel_query"),YC.createElement("g",{id:"channel_query",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},YC.createElement("g",{id:"travel_explore_FILL0_wght400_GRAD0_opsz48",transform:"translate(2.685232, 3.500000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},YC.createElement("path",{d:"M43.9974969,93 C37.8673342,92.689612 32.1251564,91.2540676 26.7709637,88.6933667 C21.416771,86.1326658 16.7609512,82.7765957 12.8035044,78.6251564 C8.84605757,74.4737171 5.72277847,69.6433041 3.43366708,64.1339174 C1.14455569,58.6245307 0,52.7659574 0,46.5581977 C0,40.1176471 1.22215269,34.0650814 3.66645807,28.4005006 C6.11076345,22.7359199 9.42803504,17.8085106 13.6182728,13.6182728 C17.8085106,9.42803504 22.7359199,6.11076345 28.4005006,3.66645807 C34.0650814,1.22215269 40.1176471,0 46.5581977,0 C58.1201502,0 68.1689612,3.64705882 76.7046308,10.9411765 C85.2403004,18.2352941 90.4780976,27.3917397 92.4180225,38.4105131 L85.3178974,38.4105131 C83.9987484,31.8923655 81.2440551,26.0725907 77.0538173,20.951189 C72.8635795,15.8297872 67.6257822,11.9887359 61.3404255,9.42803504 L61.3404255,11.5231539 C61.3404255,14.2390488 60.4092616,16.6057572 58.5469337,18.6232791 C56.6846058,20.640801 54.3954944,21.649562 51.6795995,21.649562 L41.5531915,21.649562 L41.5531915,31.77597 C41.5531915,33.0951189 41.0294118,34.1814768 39.9818523,35.0350438 C38.9342929,35.8886108 37.7509387,36.3153942 36.4317897,36.3153942 L26.7709637,36.3153942 L26.7709637,46.5581977 L39.5744681,46.5581977 L39.5744681,61.1076345 L31.77597,61.1076345 L8.03128911,37.3629537 C7.64330413,38.9148936 7.37171464,40.4474343 7.21652065,41.9605757 C7.06132666,43.4737171 6.98372966,45.0062578 6.98372966,46.5581977 C6.98372966,57.0337922 10.514393,66.0738423 17.5757196,73.6783479 C24.6370463,81.2828536 33.4443054,85.3954944 43.9974969,86.0162703 L43.9974969,93 Z M89.6245307,89.9737171 L74.0275344,74.3767209 C72.3979975,75.5406758 70.6326658,76.4330413 68.7315394,77.0538173 C66.830413,77.6745932 64.8710889,77.9849812 62.853567,77.9849812 C57.3441802,77.9849812 52.6689612,76.0644556 48.8279099,72.2234043 C44.9868586,68.3823529 43.0663329,63.7071339 43.0663329,58.1977472 C43.0663329,52.6883605 44.9868586,48.0131414 48.8279099,44.1720901 C52.6689612,40.3310388 57.3441802,38.4105131 62.853567,38.4105131 C68.3629537,38.4105131 73.0381727,40.3310388 76.879224,44.1720901 C80.7202753,48.0131414 82.640801,52.6883605 82.640801,58.1977472 C82.640801,60.2152691 82.3110138,62.1745932 81.6514393,64.0757196 C80.9918648,65.9768461 80.1188986,67.7809762 79.0325407,69.4881101 L94.6295369,84.9687109 L89.6245307,89.9737171 Z M62.853567,71.0012516 C66.4230288,71.0012516 69.4493116,69.7596996 71.9324155,67.2765957 C74.4155194,64.7934919 75.6570713,61.767209 75.6570713,58.1977472 C75.6570713,54.6282854 74.4155194,51.6020025 71.9324155,49.1188986 C69.4493116,46.6357947 66.4230288,45.3942428 62.853567,45.3942428 C59.2841051,45.3942428 56.2578223,46.6357947 53.7747184,49.1188986 C51.2916145,51.6020025 50.0500626,54.6282854 50.0500626,58.1977472 C50.0500626,61.767209 51.2916145,64.7934919 53.7747184,67.2765957 C56.2578223,69.7596996 59.2841051,71.0012516 62.853567,71.0012516 Z",id:"Shape"}))));m();var ay=xr(Rr()),RCe=n=>ay.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ay.createElement("title",null,"channel_samples"),ay.createElement("g",{id:"channel_samples",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},ay.createElement("g",{id:"Group",transform:"translate(5.000000, 5.000000)",fill:"#4285F4",className:"primary-fill"},ay.createElement("path",{d:"M20.25,6.75 L83.25,6.75 L83.25,70.875 L20.25,70.875 L20.25,6.75 Z M20.25,0 C18.45,0 16.875,0.675 15.525,2.025 C14.175,3.375 13.5,4.95 13.5,6.75 L13.5,69.75 C13.5,71.55 14.175,73.125 15.525,74.475 C16.875,75.825 18.45,76.5 20.25,76.5 L83.25,76.5 C85.05,76.5 86.625,75.825 87.975,74.475 C89.325,73.125 90,71.55 90,69.75 L90,6.75 C90,4.95 89.325,3.375 87.975,2.025 C86.625,0.675 85.05,0 83.25,0 L20.25,0 Z M6.75,90 C4.95,90 3.375,89.325 2.025,87.975 C0.675,86.625 0,85.05 0,83.25 L0,13.5 L6.75,13.5 L6.75,83.25 L76.5,83.25 L76.5,90 L6.75,90 Z",id:"Shape",fillRule:"nonzero"}),ay.createElement("rect",{id:"Rectangle",x:30.1571655,y:21.9026527,width:42.7656174,height:6.46202087}),ay.createElement("rect",{id:"Rectangle-Copy",x:30.1571655,y:36.2815933,width:42.7656174,height:6.46202087}),ay.createElement("rect",{id:"Rectangle-Copy-2",x:30.1571655,y:50.2489586,width:22.6109238,height:6.46202087}))));m();var KC=xr(Rr()),LCe=n=>KC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},KC.createElement("title",null,"channel_settings"),KC.createElement("g",{id:"channel_settings",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},KC.createElement("g",{id:"settings_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},KC.createElement("path",{d:"M35.6125,92.5 L33.3,77.93125 C31.8354167,77.3916667 30.29375,76.659375 28.675,75.734375 C27.05625,74.809375 25.6302083,73.8458333 24.396875,72.84375 L10.753125,79.0875 L0,60.125 L12.4875,50.990625 C12.3333333,50.296875 12.2369792,49.5067708 12.1984375,48.6203125 C12.1598958,47.7338542 12.140625,46.94375 12.140625,46.25 C12.140625,45.55625 12.1598958,44.7661458 12.1984375,43.8796875 C12.2369792,42.9932292 12.3333333,42.203125 12.4875,41.509375 L0,32.375 L10.753125,13.4125 L24.396875,19.65625 C25.6302083,18.6541667 27.05625,17.690625 28.675,16.765625 C30.29375,15.840625 31.8354167,15.146875 33.3,14.684375 L35.6125,0 L56.8875,0 L59.2,14.56875 C60.6645833,15.1083333 62.2255208,15.8213542 63.8828125,16.7078125 C65.5401042,17.5942708 66.946875,18.5770833 68.103125,19.65625 L81.746875,13.4125 L92.5,32.375 L80.0125,41.278125 C80.1666667,42.0489583 80.2630208,42.8776042 80.3015625,43.7640625 C80.3401042,44.6505208 80.359375,45.4791667 80.359375,46.25 C80.359375,47.0208333 80.3401042,47.8302083 80.3015625,48.678125 C80.2630208,49.5260417 80.1666667,50.3354167 80.0125,51.10625 L92.5,60.125 L81.746875,79.0875 L68.103125,72.84375 C66.8697917,73.8458333 65.4630208,74.8286458 63.8828125,75.7921875 C62.3026042,76.7557292 60.7416667,77.46875 59.2,77.93125 L56.8875,92.5 L35.6125,92.5 Z M46.25,61.28125 C50.4125,61.28125 53.9583333,59.8166667 56.8875,56.8875 C59.8166667,53.9583333 61.28125,50.4125 61.28125,46.25 C61.28125,42.0875 59.8166667,38.5416667 56.8875,35.6125 C53.9583333,32.6833333 50.4125,31.21875 46.25,31.21875 C42.0875,31.21875 38.5416667,32.6833333 35.6125,35.6125 C32.6833333,38.5416667 31.21875,42.0875 31.21875,46.25 C31.21875,50.4125 32.6833333,53.9583333 35.6125,56.8875 C38.5416667,59.8166667 42.0875,61.28125 46.25,61.28125 Z M46.25,54.34375 C44.0145833,54.34375 42.1067708,53.5536458 40.5265625,51.9734375 C38.9463542,50.3932292 38.15625,48.4854167 38.15625,46.25 C38.15625,44.0145833 38.9463542,42.1067708 40.5265625,40.5265625 C42.1067708,38.9463542 44.0145833,38.15625 46.25,38.15625 C48.4854167,38.15625 50.3932292,38.9463542 51.9734375,40.5265625 C53.5536458,42.1067708 54.34375,44.0145833 54.34375,46.25 C54.34375,48.4854167 53.5536458,50.3932292 51.9734375,51.9734375 C50.3932292,53.5536458 48.4854167,54.34375 46.25,54.34375 Z M41.1625,85.5625 L51.3375,85.5625 L52.95625,72.6125 C55.5,71.9958333 57.9088542,71.0322917 60.1828125,69.721875 C62.4567708,68.4114583 64.51875,66.83125 66.36875,64.98125 L78.625,70.3 L83.25,61.975 L72.38125,53.996875 C72.6895833,52.6864583 72.9401042,51.3953125 73.1328125,50.1234375 C73.3255208,48.8515625 73.421875,47.5604167 73.421875,46.25 C73.421875,44.9395833 73.3447917,43.6484375 73.190625,42.3765625 C73.0364583,41.1046875 72.7666667,39.8135417 72.38125,38.503125 L83.25,30.525 L78.625,22.2 L66.36875,27.51875 C64.5958333,25.5145833 62.5916667,23.8380208 60.35625,22.4890625 C58.1208333,21.1401042 55.6541667,20.2729167 52.95625,19.8875 L51.3375,6.9375 L41.1625,6.9375 L39.54375,19.8875 C36.9229167,20.4270833 34.4755208,21.3520833 32.2015625,22.6625 C29.9276042,23.9729167 27.9041667,25.5916667 26.13125,27.51875 L13.875,22.2 L9.25,30.525 L20.11875,38.503125 C19.8104167,39.8135417 19.5598958,41.1046875 19.3671875,42.3765625 C19.1744792,43.6484375 19.078125,44.9395833 19.078125,46.25 C19.078125,47.5604167 19.1744792,48.8515625 19.3671875,50.1234375 C19.5598958,51.3953125 19.8104167,52.6864583 20.11875,53.996875 L9.25,61.975 L13.875,70.3 L26.13125,64.98125 C27.98125,66.83125 30.0432292,68.4114583 32.3171875,69.721875 C34.5911458,71.0322917 37,71.9958333 39.54375,72.6125 L41.1625,85.5625 Z",id:"Shape"}))));m();var JC=xr(Rr()),kCe=n=>JC.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},JC.createElement("title",null,"channel_source"),JC.createElement("g",{id:"channel_source",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},JC.createElement("g",{id:"account_tree_FILL0_wght400_GRAD0_opsz48",transform:"translate(50.000000, 50.000000) scale(-1, -1) translate(-50.000000, -50.000000) translate(3.333333, 8.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},JC.createElement("path",{d:"M61.1333333,84 L61.1333333,69.4166667 L43.1666667,69.4166667 L43.1666667,21.5833333 L32.3166667,21.5833333 L32.3166667,36.75 L0,36.75 L0,0 L32.3166667,0 L32.3166667,14.5833333 L61.1333333,14.5833333 L61.1333333,0 L93.3333333,0 L93.3333333,36.75 L61.1333333,36.75 L61.1333333,21.5833333 L50.1666667,21.5833333 L50.1666667,62.4166667 L61.1333333,62.4166667 L61.1333333,47.25 L93.3333333,47.25 L93.3333333,84 L61.1333333,84 Z M7,7 L7,29.75 L7,7 Z M68.1333333,54.25 L68.1333333,77 L68.1333333,54.25 Z M68.1333333,7 L68.1333333,29.75 L68.1333333,7 Z M68.1333333,29.75 L86.3333333,29.75 L86.3333333,7 L68.1333333,7 L68.1333333,29.75 Z M68.1333333,77 L86.3333333,77 L86.3333333,54.25 L68.1333333,54.25 L68.1333333,77 Z M7,29.75 L25.3166667,29.75 L25.3166667,7 L7,7 L7,29.75 Z",id:"Shape"}))));var Eoe=({name:n})=>{let e={width:"18px",height:"18px"};switch(n){case"about":return v.createElement(TCe,{...e});case"feedback":return v.createElement(FCe,{...e});case"help":return v.createElement(DCe,{...e});case"preview":return v.createElement(OCe,{...e});case"query":return v.createElement(NCe,{...e});case"samples":return v.createElement(RCe,{...e});case"settings":return v.createElement(LCe,{...e});case"source":return v.createElement(kCe,{...e})}};var q$=({icon:n,text:e,onClick:t,selected:r,disabled:i=!1})=>v.createElement(edt,{onClick:t,selected:r,disabled:i},v.createElement(Eoe,{name:n}),e),edt=$n.button`
  outline: none;
  border: none;
  color: ${mi.dimension.fillStrong};
  display: flex;
  flex-direction: column;
  background-color: transparent;
  gap: 8px;
  align-items: center;
  justify-content: center;
  padding: 10px;
  font-weight: 600;

  ${({selected:n,disabled:e})=>(e?`
      .primary-fill {
        fill: ${mi.other.fillMedium};
      }

      color: ${mi.other.fillMedium};
    `:`
      cursor: pointer;

      &:hover {
        background-color: ${mi.other.fillLight};
      }

      .primary-fill {
        fill: ${mi.other.fillStrong};
      }

      color: ${mi.other.fillStrong};
    `)+(n?`
      color: ${mi.dimension.fillStrong};

      &:hover {
        background-color: ${mi.dimension.fillLight};
      }

      .primary-fill {
        fill: ${mi.dimension.fillStrong};
      }
      `:"")}
`;m();m();var ICe=$n.div`
  padding: 5px;
  background-color: #fbb;
  font-family: "Google Sans", sans-serif;
  font-size: 12px;
  color: #4b4c50;
  border-radius: 5px;
`,tdt=$n(ICe)`
  white-space: pre-wrap;
  font-family: "Roboto Mono", monospace;
`,Soe=({error:n})=>{if(n){let{message:e}=n;return e.split(`
`).length>1?v.createElement(tdt,null,e):v.createElement(ICe,null,e)}return null};m();m();m();var CO=xr(Rr()),MCe=n=>CO.createElement("svg",{width:"110px",height:"110px",viewBox:"6 6 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},CO.createElement("title",null,"insert_group_by"),CO.createElement("g",{id:"insert_group_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},CO.createElement("path",{d:"M31.7463881,49.3114698 C32.6824928,49.3083801 33.6154932,49.1963884 34.5261904,48.9793527 L45.0010173,67.8024842 L45.0010173,67.8032565 C43.2956473,70.2493007 42.5480527,73.2367133 42.8986175,76.1988173 C43.2492613,79.1601303 44.6742783,81.890304 46.9033203,83.870708 C49.1330544,85.851903 52.0117188,86.9463056 54.9937928,86.9463056 C57.9758669,86.9463056 60.8545313,85.8518634 63.0834745,83.870708 C65.3132086,81.890304 66.7382058,79.1601303 67.0889682,76.1988173 C67.4396121,73.2369111 66.6919779,70.2493007 64.9865684,67.8032565 L75.4613953,48.980125 L75.4613953,48.9793527 C78.5099046,49.699958 81.7183727,49.2180056 84.4200741,47.6338999 C87.1225664,46.0505653 89.1106817,43.4862425 89.9717699,40.4749053 C90.8328581,37.4635681 90.5008399,34.235723 89.0449384,31.4630387 C87.5882658,28.6903544 85.1197206,26.584791 82.151685,25.5847028 C79.1834516,24.5837248 75.9441385,24.7652355 73.1066007,26.0913707 C70.2688652,27.4167347 68.0507969,29.7848559 66.9138836,32.7028673 L43.0841815,32.7028673 C42.0044302,29.9371034 39.9514417,27.6601133 37.310837,26.3015513 C34.6702324,24.9429696 31.623898,24.5961814 28.7454313,25.32606 C25.8669647,26.0559385 23.3534966,27.8122421 21.6791694,30.2652067 C20.0046839,32.7173803 19.284138,35.6972794 19.6532888,38.644554 C20.021708,41.5910378 21.4544362,44.3012413 23.6819162,46.2662229 C25.9086844,48.2303345 28.776474,49.3139413 31.7460915,49.3115686 L31.7463881,49.3114698 Z M54.9987359,80.3146003 C53.5304767,80.3146003 52.1224442,79.7314725 51.0836021,78.6934213 C50.0455509,77.6545989 49.4624231,76.2465862 49.4624231,74.7782874 C49.4624231,73.3099887 50.0455509,71.9019957 51.0836021,70.8639445 C52.1224245,69.8251221 53.5304372,69.2419944 54.9987359,69.2419944 C56.4670347,69.2419944 57.8750277,69.8251221 58.9138698,70.8639445 C59.951921,71.9019957 60.5350488,73.3099887 60.5350488,74.7782874 C60.5350488,76.2465862 59.951921,77.6545792 58.9138698,78.6934213 C57.8750474,79.7314725 56.4670347,80.3146003 54.9987359,80.3146003 Z M78.2510838,31.5953952 C79.7193431,31.5953952 81.1273755,32.1785229 82.1654268,33.2165742 C83.203478,34.2553966 83.7873769,35.6634093 83.7873769,37.131708 C83.7873769,38.6000068 83.203478,40.0079998 82.1654268,41.046051 C81.1273755,42.0848734 79.7193826,42.6680011 78.2510838,42.6680011 C76.7828246,42.6680011 75.3740012,42.0848734 74.33595,41.046051 C73.2978987,40.0079998 72.714771,38.6000068 72.714771,37.131708 C72.714771,35.6634093 73.2978987,34.2554163 74.33595,33.2165742 C75.3740012,32.1785229 76.7827851,31.5953952 78.2510838,31.5953952 Z M43.7166018,39.3459801 L66.2808701,39.3459801 C66.7149337,41.7696815 67.8734779,44.0047541 69.6028318,45.75738 L59.7591401,63.5727121 C56.7137943,62.2774614 53.2720118,62.2774614 50.2258752,63.5727121 L40.3380911,45.75738 C42.0882652,44.0118524 43.2661865,41.7758109 43.7156132,39.3459801 L43.7166018,39.3459801 Z M31.7465858,31.5953952 C33.214845,31.5953952 34.6236684,32.1785229 35.6617196,33.2165742 C36.6997709,34.2553966 37.2828986,35.6634093 37.2828986,37.131708 C37.2828986,38.6000068 36.6997709,40.0079998 35.6617196,41.046051 C34.6236684,42.0848734 33.2148846,42.6680011 31.7465858,42.6680011 C30.2783266,42.6680011 28.8702941,42.0848734 27.8322428,41.046051 C26.7941916,40.0079998 26.2102927,38.6000068 26.2102927,37.131708 C26.2102927,35.6634093 26.7941916,34.2554163 27.8322428,33.2165742 C28.8702941,32.1785229 30.278287,31.5953952 31.7465858,31.5953952 L31.7465858,31.5953952 Z",id:"Shape-Copy-3",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"})));m();var vx=xr(Rr()),PCe=n=>vx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},vx.createElement("title",null,"insert_measure"),vx.createElement("g",{id:"insert_measure",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},vx.createElement("path",{d:"M64.4079772,43.4952662 C64.4079772,65.775216 64.4079772,77.6781315 64.4079772,79.2040126 C64.4079772,81.4928343 72.4309475,81.4935567 72.4309475,79.2040126 C72.4309475,77.6776499 72.4309475,65.7747344 72.4309475,43.4952662 L82.1242499,53.5032288 C82.9082803,54.3127101 83.9390395,54.7167092 84.9596343,54.7167092 C85.980229,54.7167092 87.0118722,54.3119686 87.7950187,53.5032288 C89.3623612,51.8850077 89.3623612,49.2552488 87.7950187,47.6371608 L71.2655269,30.5703346 C70.8943747,30.1871342 70.4404886,29.8781937 69.9456129,29.6650532 C69.9247535,29.6546561 69.9046123,29.6546561 69.883753,29.6435167 C69.4298852,29.4519166 68.9350096,29.3457171 68.4192709,29.3457171 C67.9035322,29.3457171 67.4086565,29.4519147 66.9547887,29.6435167 C66.9339294,29.6539139 66.9137882,29.6539139 66.8929288,29.6650532 C66.3980532,29.8781937 65.9441854,30.1863928 65.5730149,30.5703346 L49.0328429,47.6474271 C47.4655004,49.2656482 47.4655004,51.8954071 49.0328429,53.5134951 C50.6001855,55.1205753 53.1472623,55.1205753 54.714476,53.5023554 L64.4079772,43.4952662 Z",id:"Path-Copy-3",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero",transform:"translate(68.413931, 55.133308) rotate(-270.000000) translate(-68.413931, -55.133308) "}),vx.createElement("rect",{id:"Rectangle-Copy-50",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 39.025784) rotate(-90.000000) translate(-32.019040, -39.025784) ",x:24.0122609,y:34.8667243,width:16.0135574,height:8.31811859}),vx.createElement("rect",{id:"Rectangle-Copy-51",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 72.330197) rotate(-90.000000) translate(-32.019040, -72.330197) ",x:24.0122609,y:68.1711376,width:16.0135574,height:8.31811859}),vx.createElement("circle",{id:"Oval-Copy-16",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 88.946306) rotate(-180.000000) translate(-32.019040, -88.946306) ",cx:32.0190396,cy:88.9463056,r:9.09652528}),vx.createElement("circle",{id:"Oval-Copy-20",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 55.133308) rotate(-90.000000) translate(-32.019040, -55.133308) ",cx:32.0190396,cy:55.1333084,r:9.09652528}),vx.createElement("circle",{id:"Oval-Copy-21",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",cx:32.0190396,cy:23.2007668,r:9.09652528})));m();var wO=xr(Rr()),BCe=n=>wO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},wO.createElement("title",null,"insert_filter"),wO.createElement("g",{id:"insert_filter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},wO.createElement("path",{d:"M87.3843313,20.5 C88.0702245,20.5 88.6794354,20.684137 89.1839151,20.9924545 C89.72968,21.3260038 90.1536978,21.8060023 90.4194477,22.364077 C90.6824778,22.9164401 90.7905536,23.5453405 90.7077209,24.1843828 C90.641307,24.6967561 90.4522801,25.21669 90.1181537,25.7073778 L89.9660074,25.9157747 L65.9667297,54.9330833 L65.9667297,86.0952768 C65.9667297,87.3578277 65.3421199,88.3687734 64.46847,88.9512067 C64.0000984,89.2634544 63.4591929,89.4523731 62.9014864,89.49211 C62.4335638,89.5254497 61.9536386,89.4542406 61.4987219,89.2647425 L61.3053966,89.1762469 L45.2981054,81.501442 C44.7448345,81.2248066 44.1940182,80.794047 43.8075879,80.2144017 C43.516589,79.7779032 43.3168206,79.2579753 43.2760203,78.6543848 L43.268304,78.4241163 L43.268304,54.9330833 L19.2778986,25.9265022 C18.8405281,25.4244753 18.5999563,24.8470099 18.5253334,24.2601464 C18.4451968,23.6299215 18.5577673,22.9877736 18.8297244,22.4166636 C19.0989541,21.8512813 19.5239716,21.3563425 20.06756,21.0111708 C20.5069962,20.7321343 21.0239609,20.5500465 21.6001779,20.5088845 L21.8507024,20.5 L87.3843313,20.5 Z M80.4108174,26.9794004 L28.8312662,26.9794004 L49.2106529,51.6044926 L49.3557497,51.8317181 C49.767411,52.5135117 49.9668805,53.1962297 49.9668805,53.8764024 L49.9668805,53.8764024 L49.9668805,76.3587304 L59.2681532,80.9104171 L59.2681532,53.6572264 L59.2765596,53.4785743 C59.3429907,52.7639199 59.7932531,52.0547544 60.2732157,51.568472 L60.2732157,51.568472 L80.4108174,26.9794004 Z",id:"Shape-Copy-2",stroke:"#4285F4",fill:"#4285F4",className:"primaryfill primarystroke",fillRule:"nonzero"})));m();var uy=xr(Rr()),jCe=n=>uy.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},uy.createElement("title",null,"insert_limit"),uy.createElement("g",{id:"insert_limit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},uy.createElement("rect",{id:"Rectangle-Copy-46",className:"primaryfill",fill:"#4285F4",x:24,y:23,width:61.9377906,height:8,rx:4}),uy.createElement("rect",{id:"Rectangle-Copy-47",className:"primaryfill",fill:"#4285F4",x:24,y:39,width:61.9377906,height:8,rx:4}),uy.createElement("rect",{id:"Rectangle-Copy-48",className:"primaryfill",fill:"#4285F4",x:24,y:55,width:53.5,height:8,rx:4}),uy.createElement("rect",{id:"Rectangle-Copy-49",className:"primaryfill",fill:"#4285F4",x:24,y:71.1904762,width:40,height:7.61904762,rx:3.80952381}),uy.createElement("path",{d:"M77.1113683,65.3807638 L87.6203313,83.396129 C87.8986116,83.8731809 87.7374754,84.4854986 87.2604234,84.7637789 C87.1074874,84.8529916 86.933607,84.9 86.7565524,84.9 L65.7386264,84.9 C65.1863417,84.9 64.7386264,84.4522847 64.7386264,83.9 C64.7386264,83.7229454 64.7856348,83.549065 64.8748475,83.396129 L75.3838105,65.3807638 C75.6620908,64.9037119 76.2744085,64.7425757 76.7514604,65.020856 C76.9004641,65.1077747 77.0244495,65.2317602 77.1113683,65.3807638 Z",id:"Triangle-Copy-2",fill:"#4285F4",className:"primaryfill",transform:"translate(76.247589, 74.400000) rotate(-90.000000) translate(-76.247589, -74.400000) "})));m();var AO=xr(Rr()),qCe=n=>AO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},AO.createElement("title",null,"insert_nest"),AO.createElement("g",{id:"insert_nest",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},AO.createElement("path",{d:"M27.3181186,27 C29.5272576,27 31.3181186,28.790861 31.3181186,31 L31.318,59.317 L72.9431634,59.317258 L62.9360743,49.6237568 C61.3178543,48.0565431 61.3178543,45.5094664 62.9249345,43.9421238 C64.5430225,42.3747812 67.1727815,42.3747812 68.7910025,43.9421238 L68.7910025,43.9421238 L85.8680951,60.4822957 C86.2520369,60.8534663 86.560236,61.307334 86.7733764,61.8022097 C86.7845158,61.823069 86.7845158,61.8432103 86.7949129,61.8640696 C86.986515,62.3179374 87.0927126,62.812813 87.0927126,63.3285517 C87.0927126,63.8442904 86.9865131,64.3391661 86.7949129,64.7930338 C86.7837736,64.8138932 86.7837736,64.8340344 86.7733764,64.8548938 C86.560236,65.3497694 86.2512954,65.8036556 85.8680951,66.1748077 L85.8680951,66.1748077 L68.8012688,82.7042995 C67.1831809,84.2716421 64.5534219,84.2716421 62.9352009,82.7042995 C62.1264611,81.921153 61.7217204,80.8895099 61.7217204,79.8689151 C61.7217204,78.8483204 62.1257196,77.8175611 62.9352009,77.0335308 L62.9352009,77.0335308 L72.9431634,67.3402284 L27.234417,67.3402284 C25.2840646,67.3402284 23.6511005,66.037955 23.2100653,64.2817501 C23.0737364,63.8793045 23,63.4482633 23,63 L23,31 C23,28.790861 24.790861,27 27,27 L27.3181186,27 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var XC=xr(Rr()),UCe=n=>XC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},XC.createElement("title",null,"insert_order_by"),XC.createElement("g",{id:"insert_order_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},XC.createElement("path",{d:"M30.5506412,37.7046734 L30.5506412,81.9762916 C30.5506412,84.1931505 32.3445678,85.9877768 34.5621264,85.9877768 C36.7789852,85.9877768 38.5736115,84.1938502 38.5736115,81.9762916 L38.5736115,37.7046734 L48.2669139,47.3979757 C49.0509443,48.1820061 50.0817035,48.5733031 51.1022983,48.5733031 C52.122893,48.5733031 53.1545362,48.1812879 53.9376827,47.3979757 C55.5050252,45.8306331 55.5050252,43.2835564 53.9376827,41.7163427 L37.4081909,25.1861143 C37.0370387,24.8149622 36.5831526,24.515735 36.0882769,24.3092959 C36.0674175,24.2992257 36.0472763,24.2992257 36.026417,24.2884366 C35.5725492,24.1028605 35.0776736,24 34.5619349,24 C34.0461961,24 33.5513205,24.1028586 33.0974527,24.2884366 C33.0765934,24.2985068 33.0564522,24.2985068 33.0355928,24.3092959 C32.5407172,24.515735 32.0868494,24.814244 31.7156789,25.1861143 L15.1755069,41.7262862 C13.6081644,43.2936288 13.6081644,45.8407055 15.1755069,47.4079192 C16.7428495,48.9644712 19.2899263,48.9644712 20.85714,47.3971298 L30.5506412,37.7046734 Z",id:"Path-Copy",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"}),XC.createElement("path",{d:"M79.9439284,72.2964315 L79.9439284,28.0137648 C79.9439284,25.796906 78.1500018,24.0022797 75.9324432,24.0022797 C73.7155844,24.0022797 71.920958,25.7962062 71.920958,28.0137648 L71.920958,72.2853831 L62.2276557,62.5920808 C60.6603131,61.0247382 58.1233641,61.0247382 56.5460227,62.5920808 C54.9786801,64.1594234 54.9786801,66.7065001 56.5460227,68.2737138 L73.0861946,84.8138857 C73.4573467,85.1850378 73.9112329,85.484265 74.4061086,85.6907041 C74.4269679,85.7007743 74.4471091,85.7007743 74.4679685,85.7115634 C74.9218362,85.8971395 75.4167119,86 75.9324506,86 C76.4481893,86 76.943065,85.8971414 77.3969327,85.7115634 C77.4177921,85.7014932 77.4379333,85.7014932 77.4587926,85.6907041 C77.9536683,85.484265 78.407536,85.185756 78.7787066,84.8138857 L95.3188785,68.2737138 C96.8862211,66.7063712 96.8862211,64.1592945 95.3188785,62.5920808 C93.7515359,61.0355288 91.2044592,61.0355288 89.6372455,62.6028702 L79.9439284,72.2964315 Z",id:"Path-Copy-2",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));m();var Z6=xr(Rr()),$Ce=n=>Z6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Z6.createElement("title",null,"item_rename"),Z6.createElement("g",{id:"item_rename",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Z6.createElement("g",{id:"noun-rename-3187972",transform:"translate(19.000000, 29.000000)",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"},Z6.createElement("path",{d:"M70.5666667,14.4545455 L48.6666667,14.4545455 L48.6666667,4.81818182 L51.1,4.81818182 C51.9695899,4.81818182 52.7728819,4.35895403 53.2074057,3.61363636 C53.6419295,2.8683187 53.6419295,1.94984935 53.2074057,1.20454545 C52.7728819,0.459241558 51.9695621,0 51.1,0 L41.3666667,0 C40.4970768,0 39.6937848,0.459227792 39.259261,1.20454545 C38.8247371,1.94986312 38.8247371,2.86833247 39.259261,3.61363636 C39.6937848,4.35894026 40.4971046,4.81818182 41.3666667,4.81818182 L43.8,4.81818182 L43.8,14.4545455 L2.43333333,14.4545455 C1.78806895,14.4545455 1.1688621,14.7083673 0.712619048,15.1600649 C0.256376,15.6117626 0,16.2248005 0,16.8636364 L0,36.1363636 C0,36.7751995 0.256376,37.3882374 0.712619048,37.8399351 C1.1688621,38.2916327 1.78806895,38.5454545 2.43333333,38.5454545 L43.8,38.5454545 L43.8,48.1818182 L41.3666667,48.1818182 C40.4970768,48.1818182 39.6937848,48.641046 39.259261,49.3863636 C38.8247371,50.1316813 38.8247371,51.0501506 39.259261,51.7954545 C39.6937848,52.5407584 40.4971046,53 41.3666667,53 L51.1,53 C51.9695899,53 52.7728819,52.5407722 53.2074057,51.7954545 C53.6419295,51.0501369 53.6419295,50.1316675 53.2074057,49.3863636 C52.7728819,48.6410597 51.9695621,48.1818182 51.1,48.1818182 L48.6666667,48.1818182 L48.6666667,38.5454545 L70.5666667,38.5454545 C71.211931,38.5454545 71.8311379,38.2916327 72.287381,37.8399351 C72.743624,37.3882374 73,36.7751995 73,36.1363636 L73,16.8636364 C73,16.2248005 72.743624,15.6117626 72.287381,15.1600649 C71.8311379,14.7083673 71.211931,14.4545455 70.5666667,14.4545455 Z M4.86666667,33.7272727 L4.86666667,19.2727273 L43.8,19.2727273 L43.8,33.7272727 L4.86666667,33.7272727 Z M68.1333333,33.7272727 L48.6666667,33.7272727 L48.6666667,19.2727273 L68.1333333,19.2727273 L68.1333333,33.7272727 Z",id:"Shape"}),Z6.createElement("path",{d:"M36.5833621,24 L12.4166379,24 C11.553002,24 10.7552101,24.4765571 10.3236615,25.25 C9.89211284,26.0234429 9.89211284,26.9765714 10.3236615,27.75 C10.7552101,28.5234286 11.5530297,29 12.4166379,29 L36.5833621,29 C37.446998,29 38.2447899,28.5234429 38.6763385,27.75 C39.1078872,26.9765571 39.1078872,26.0234286 38.6763385,25.25 C38.2447899,24.4765714 37.4469703,24 36.5833621,24 Z",id:"Path"}))));m();var eb=xr(Rr()),zCe=n=>eb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},eb.createElement("title",null,"item_edit"),eb.createElement("g",{id:"item_edit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},eb.createElement("g",{id:"noun-edit-1269277",transform:"translate(24.000000, 19.000000)",fill:"#4285F4",fillRule:"nonzero",stroke:"#4285F4",className:"primaryfill primarystroke"},eb.createElement("path",{d:"M3.59891474,39.407072 L3.06867736,55.867955 C3.03311545,56.9719519 3.89925313,57.8957468 5.00325002,57.9313087 C5.0461704,57.9326913 5.08912418,57.9326911 5.13204455,57.9313083 L21.5822973,57.4013025 C22.0903599,57.3849333 22.5731262,57.1757204 22.9324738,56.8161862 L59.5846859,20.1449445 C60.3655318,19.3636932 60.3652031,18.0973633 59.5839519,17.3165174 C59.5834627,17.3160285 59.5829732,17.3155398 59.5824835,17.3150514 L43.6370127,1.4108896 C42.8555349,0.631436244 41.5903551,0.632410128 40.8100781,1.41306566 L4.18332144,38.057592 C3.82420961,38.416878 3.61526942,38.8993513 3.59891474,39.407072 Z M19.6812157,53.0009522 L9.73874131,53.3226566 C8.63474957,53.358378 7.71082953,52.4923738 7.67510814,51.388382 C7.67371403,51.3452961 7.6737133,51.3021764 7.67510597,51.2590905 L7.99671088,41.3093667 C8.01311902,40.8017362 8.22204313,40.3193622 8.58108638,39.9601325 L30.3814317,18.1484685 C31.1612436,17.3682518 32.4255308,17.3667397 33.2072068,18.1450889 L42.8519496,27.7487844 C43.634662,28.5281657 43.6373624,29.7944927 42.8579812,30.5772051 C42.8571049,30.5780852 42.8562277,30.5789644 42.8553498,30.5798429 L21.0311311,52.4158307 C20.6718495,52.7753061 20.1891879,52.984516 19.6812157,53.0009522 Z M46.0079854,24.5968587 L36.3860729,14.9699505 C35.6062481,14.1882519 35.6062481,12.922488 36.3860729,12.1407894 L40.8083468,7.71621952 C41.5884586,6.93423458 42.8547885,6.93390593 43.6360397,7.71475178 C43.6362845,7.7149964 43.6365292,7.71524109 43.6360397,7.71621952 L53.2579523,17.3431277 C54.0377771,18.1248263 54.0377771,19.3905902 53.2579523,20.1722888 L48.8356784,24.5968587 C48.0555666,25.3788436 46.7892367,25.3791723 46.0079854,24.5983264 C46.0077407,24.5980818 46.007496,24.5978371 46.0079854,24.5968587 Z",id:"Shape"}),eb.createElement("path",{d:"M2,64 L60,64 C61.1045695,64 62,64.8954305 62,66 C62,67.1045695 61.1045695,68 60,68 L2,68 C0.8954305,68 1.3527075e-16,67.1045695 0,66 C-1.3527075e-16,64.8954305 0.8954305,64 2,64 Z",id:"Path"}))));m();var ZC=xr(Rr()),e9=n=>ZC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ZC.createElement("title",null,"query_clear_hover"),ZC.createElement("g",{id:"query_clear_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},ZC.createElement("circle",{className:"circle hoverfill",fill:"transparent",cx:55,cy:55,r:55}),ZC.createElement("path",{d:"M78.1428571,25 L85,31.8571429 L61.857,55 L85,78.1428571 L78.1428571,85 L55,61.857 L31.8571429,85 L25,78.1428571 L48.142,55 L25,31.8571429 L31.8571429,25 L55,48.143 L78.1428571,25 Z",className:"cross primaryfill",fill:"#4285F4"})));m();var t9=xr(Rr()),HCe=n=>t9.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},t9.createElement("title",null,"query_add_hover"),t9.createElement("g",{id:"query_add_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},t9.createElement("circle",{id:"Oval",className:"hoverfill",fill:"transparent",cx:55,cy:55,r:55}),t9.createElement("path",{d:"M75.8285714,28 L82,34.1714286 L61.171,55 L82,75.8285714 L75.8285714,82 L54.999,61.171 L34.1714286,82 L28,75.8285714 L48.828,55 L28,34.1714286 L34.1714286,28 L55,48.829 L75.8285714,28 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",transform:"translate(55.000000, 55.000000) rotate(-315.000000) translate(-55.000000, -55.000000) "})));m();var ev=xr(Rr()),VCe=n=>ev.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ev.createElement("title",null,"query_save_hover"),ev.createElement("g",{id:"query_save_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},ev.createElement("circle",{id:"Oval-Copy-2",className:"hoverfill",fill:"#EAF2FF",cx:56,cy:56,r:55.5}),ev.createElement("path",{d:"M55.9991771,28.3532333 L55.9991771,34.8532333 L32.864,34.8532333 L32.864,80.1272333 L53.9292984,65.9165518 L74.994,80.1272333 L74.9931771,54.8692333 L81.4941771,54.8692333 L81.4944197,92.3532333 L53.9292984,73.7573595 L26.3641771,92.3532333 L26.3641771,28.3532333 L55.9991771,28.3532333 Z",id:"Combined-Shape-Copy",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"}),ev.createElement("rect",{id:"Rectangle-Copy-2",className:"primaryfill",fill:"#4285F4",x:75.006375,y:19.6467667,width:6.48804474,height:24}),ev.createElement("rect",{id:"Rectangle-Copy-3",className:"primaryfill",fill:"#4285F4",transform:"translate(78.250397, 31.646767) rotate(-270.000000) translate(-78.250397, -31.646767) ",x:75.006375,y:19.6467667,width:6.48804474,height:24})));m();var TO=xr(Rr()),n9=n=>TO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},TO.createElement("title",null,"cahevron_down"),TO.createElement("g",{id:"cahevron_down",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},TO.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-180.000000) translate(-55.000000, -55.000005) "})));m();var r9=xr(Rr()),WCe=n=>r9.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},r9.createElement("title",null,"item_duplicate"),r9.createElement("g",{id:"item_duplicate",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r9.createElement("rect",{id:"Rectangle",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,x:29.4307692,y:24,width:30.0923077,height:41.7692308,rx:5}),r9.createElement("rect",{id:"Rectangle-Copy",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,fill:"none",x:47.4769231,y:45.2307692,width:30.0923077,height:41.7692308,rx:5})));m();var tb=xr(Rr()),U$=n=>tb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},tb.createElement("title",null,"viz_scatter"),tb.createElement("g",{id:"viz_scatter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},tb.createElement("path",{d:"M29.1340462,83.93 C36.5885775,83.93 42.6340462,77.8857969 42.6340462,70.43 C42.6340462,62.9742031 36.5885775,56.93 29.1340462,56.93 C21.679515,56.93 15.6340462,62.9742031 15.6340462,70.43 C15.6340462,77.8857969 21.679515,83.93 29.1340462,83.93 Z",id:"Path-Copy-3",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"}),tb.createElement("path",{d:"M68.2840462,92.63 C73.6709212,92.63 78.0340462,88.264925 78.0340462,82.88 C78.0340462,77.495075 73.6709212,73.13 68.2840462,73.13 C62.8971712,73.13 58.5340462,77.495075 58.5340462,82.88 C58.5340462,88.264925 62.8971712,92.63 68.2840462,92.63 Z",id:"Path-Copy-2",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero",transform:"translate(68.284046, 82.880000) rotate(-360.000000) translate(-68.284046, -82.880000) "}),tb.createElement("path",{d:"M67.8242963,57.43 C78.8701296,57.43 87.8242963,48.4758333 87.8242963,37.43 C87.8242963,26.3842917 78.8701296,17.43 67.8242963,17.43 C56.7784629,17.43 47.8242963,26.3842917 47.8242963,37.43 C47.8242963,48.4758333 56.7784629,57.43 67.8242963,57.43 Z",id:"Path-Copy",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"})));m();var nb=xr(Rr()),QCe=n=>nb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},nb.createElement("title",null,"alert_outline"),nb.createElement("g",{id:"alert_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},nb.createElement("path",{d:"M54.0787732,20.8756898 C55.4385401,20.5119661 56.9370629,20.666976 58.2520419,21.4269314 C59.0865559,21.9092155 59.7796762,22.6023358 60.2619602,23.4368497 L60.2619602,23.4368497 L90.6657826,76.0457109 C91.425738,77.3606899 91.5807479,78.8592127 91.2170242,80.2189797 C90.8533006,81.5787466 89.9708433,82.7997576 88.6558643,83.559713 C87.8192733,84.0431974 86.8700737,84.2977528 85.9038224,84.2977528 L85.9038224,84.2977528 L25.0961776,84.2977528 C23.5773946,84.2977528 22.2023946,83.6821443 21.2070903,82.6868401 C20.2117861,81.6915359 19.5961776,80.3165359 19.5961776,78.7977528 C19.5961776,77.8315015 19.850733,76.8823018 20.3342174,76.0457109 L20.3342174,76.0457109 L50.7380398,23.4368497 C51.4979952,22.1218707 52.7190062,21.2394134 54.0787732,20.8756898 Z",id:"Triangle",stroke:"#EA4335",strokeWidth:7}),nb.createElement("polygon",{id:"Path",fill:"#EA4335",fillRule:"nonzero",points:"50.4640684 39.8293463 60.4640684 39.8293463 60.4640684 60.8293463 50.4640684 60.8293463"}),nb.createElement("path",{d:"M60.464247,71.3304517 C60.464247,74.092878 58.2250065,76.331047 55.4636517,76.331047 C52.7022969,76.331047 50.4630564,74.0929673 50.4630564,71.3304517 C50.4630564,68.5691861 52.7022969,66.331047 55.4636517,66.331047 C58.2250065,66.331047 60.464247,68.5691266 60.464247,71.3304517",id:"Path",fill:"#EA4335",fillRule:"nonzero"})));m();var FO=xr(Rr()),GCe=n=>FO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},FO.createElement("title",null,"pipeline"),FO.createElement("g",{id:"pipeline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},FO.createElement("path",{d:"M27,28 C27.5522847,28 28,28.4477153 28,29 L28,30.416 L54.4420782,30.4163284 C56.5842736,30.4163284 58.3331571,32.1002969 58.4371829,34.2166881 L58.4420782,34.4163284 L58.442,72.416 L82,72.416 L82,71 C82,70.4477153 82.4477153,70 83,70 L87,70 C87.5522847,70 88,70.4477153 88,71 L88,82 C88,82.5522847 87.5522847,83 87,83 L83,83 C82.4477153,83 82,82.5522847 82,82 L82,80.416 L54.4420782,80.4163284 C52.2998828,80.4163284 50.5509993,78.73236 50.4469735,76.6159688 L50.4420782,76.4163284 L50.442,38.416 L28,38.416 L28,40 C28,40.5522847 27.5522847,41 27,41 L23,41 C22.4477153,41 22,40.5522847 22,40 L22,29 C22,28.4477153 22.4477153,28 23,28 L27,28 Z",id:"Combined-Shape",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));m();var DO=xr(Rr()),$$=n=>DO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},DO.createElement("title",null,"type-icon-projection"),DO.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},DO.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var rb=xr(Rr()),YCe=n=>rb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},rb.createElement("title",null,"move_icon_outline"),rb.createElement("g",{id:"move_icon_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},rb.createElement("g",{id:"Group",transform:"translate(25.000000, 17.000000)",fillRule:"nonzero",stroke:"#979797",className:"primarystroke",strokeWidth:6},rb.createElement("path",{d:"M32.8776058,2.98037748 L53.4553591,24.2930505 C54.9898149,25.8823083 54.9453892,28.4145786 53.3561313,29.9490344 C52.6104198,30.6690317 51.6143254,31.0714286 50.5777533,31.0714286 L9.42224672,31.0714286 C7.21310772,31.0714286 5.42224672,29.2805676 5.42224672,27.0714286 C5.42224672,26.0348564 5.82464355,25.038762 6.54464088,24.2930505 L27.1223942,2.98037748 C28.65685,1.39111966 31.1891202,1.34669386 32.7783781,2.88114969 C32.8120317,2.91364284 32.8451127,2.94672386 32.8776058,2.98037748 Z",id:"Triangle"}),rb.createElement("path",{d:"M32.8776058,47.9803775 L53.4553591,69.2930505 C54.9898149,70.8823083 54.9453892,73.4145786 53.3561313,74.9490344 C52.6104198,75.6690317 51.6143254,76.0714286 50.5777533,76.0714286 L9.42224672,76.0714286 C7.21310772,76.0714286 5.42224672,74.2805676 5.42224672,72.0714286 C5.42224672,71.0348564 5.82464355,70.038762 6.54464088,69.2930505 L27.1223942,47.9803775 C28.65685,46.3911197 31.1891202,46.3466939 32.7783781,47.8811497 C32.8120317,47.9136428 32.8451127,47.9467239 32.8776058,47.9803775 Z",id:"Triangle-Copy",transform:"translate(30.000000, 60.535714) rotate(-180.000000) translate(-30.000000, -60.535714) "}))));m();var Coe=xr(Rr()),KCe=n=>Coe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px.0",viewBox:"-2 -2 24 24",width:"24px.0",fill:"#9aa0a6",className:"primaryfill",role:"img",...n},Coe.createElement("path",{d:"M19.6 21.0 13.3 14.7Q12.55 15.3 11.575 15.65Q10.6 16.0 9.5 16.0Q6.775 16.0 4.8875 14.1125Q3.0 12.225 3.0 9.5Q3.0 6.775 4.8875 4.8875Q6.775 3.0 9.5 3.0Q12.225 3.0 14.1125 4.8875Q16.0 6.775 16.0 9.5Q16.0 10.6 15.65 11.575Q15.3 12.55 14.7 13.3L21.0 19.6ZM9.5 14.0Q11.375 14.0 12.6875 12.6875Q14.0 11.375 14.0 9.5Q14.0 7.625 12.6875 6.3125Q11.375 5.0 9.5 5.0Q7.625 5.0 6.3125 6.3125Q5.0 7.625 5.0 9.5Q5.0 11.375 6.3125 12.6875Q7.625 14.0 9.5 14.0Z"}));m();var OO=xr(Rr()),JCe=n=>OO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},OO.createElement("title",null,"project_folder"),OO.createElement("g",{id:"project_folder",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},OO.createElement("path",{d:"M24.1875,84 C22.7375,84 21.46875,83.4411458 20.38125,82.3234375 C19.29375,81.2057292 18.75,79.9520833 18.75,78.5625 L18.75,31.4375 C18.75,30.0479167 19.29375,28.7942708 20.38125,27.6765625 C21.46875,26.5588542 22.7375,26 24.1875,26 L49.5625,26 L55,31.4375 L85.8125,31.4375 C87.2020833,31.4375 88.4557292,31.9963542 89.5734375,33.1140625 C90.6911458,34.2317708 91.25,35.4854167 91.25,36.875 L91.25,78.5625 C91.25,79.9520833 90.6911458,81.2057292 89.5734375,82.3234375 C88.4557292,83.4411458 87.2020833,84 85.8125,84 L24.1875,84 Z M24.1875,31.4375 L24.1875,78.5625 L85.8125,78.5625 L85.8125,36.875 L52.734375,36.875 L47.296875,31.4375 L24.1875,31.4375 Z M24.1875,31.4375 L24.1875,78.5625 L24.1875,31.4375 Z",id:"Shape",fill:"#606368",fillRule:"nonzero"})));m();var ly=xr(Rr()),XCe=n=>ly.createElement("svg",{width:"15px",height:"14px",viewBox:"-2 -2 18 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ly.createElement("title",null,"panel_icon_query"),ly.createElement("g",{id:"window-org",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},ly.createElement("g",{id:"z",transform:"translate(-76.000000, -86.000000)",fill:"#939BA5",className:"primaryfill primarystroke",fillRule:"nonzero",stroke:"#939BA5",strokeWidth:.25},ly.createElement("g",{id:"noun_explore_2232152-copy",transform:"translate(77.058375, 86.177891)"},ly.createElement("path",{d:"M1.89319474,1.8964973 C0.960203984,2.8308601 0.313970678,4.05198036 0.0958154857,5.35679538 C-0.0112040426,5.99754051 -0.0331567664,6.6465179 0.0532820834,7.29137916 C0.142465024,7.96642542 0.327691131,8.61128668 0.614448585,9.22870704 C1.17698713,10.4429671 2.14839516,11.4761171 3.3173777,12.1264666 C4.44794297,12.7562353 5.77471072,13.0416207 7.06443324,12.9153926 C7.7092945,12.8522785 8.33769122,12.7054697 8.93590294,12.4543854 C9.58350829,12.1840925 10.1734877,11.8218725 10.7072133,11.3636094 C11.7101784,10.501965 12.4373624,9.31651793 12.7529328,8.03228359 C13.0602709,6.77960629 12.9944127,5.42814173 12.5388937,4.21936988 C12.0518177,2.92964736 11.1737087,1.82240685 10.0239348,1.06092175 C8.94139112,0.34334209 7.62834383,-0.0284821691 6.32901699,0.00170282605 C5.02557402,0.0318878212 3.72761922,0.457221844 2.67526053,1.23105536 C2.39810739,1.43411805 2.13604675,1.65364529 1.89319474,1.8964973 C1.74089772,2.04879432 1.72992136,2.32869155 1.89319474,2.47824448 C2.05784017,2.62916945 2.31166854,2.64014581 2.47494192,2.47824448 C2.61763463,2.33555177 2.76718756,2.19971929 2.92222867,2.07211909 C2.95790185,2.04330614 2.99494707,2.01449319 3.03062024,1.98568024 C3.08550205,1.94177479 2.9414373,2.05291045 3.02650411,1.98979637 C3.04296865,1.97744797 3.05806115,1.9664716 3.07452569,1.9541232 C3.15410432,1.89512525 3.23368294,1.8388714 3.31600565,1.78398959 C3.6329481,1.57269462 3.97047123,1.39158465 4.32171481,1.24340376 C4.28878573,1.25712422 4.25585664,1.27084467 4.22292755,1.28456512 C4.71411975,1.07875834 5.2313808,0.937437677 5.75961822,0.864719279 C5.722573,0.87020746 5.68689982,0.874323596 5.6498546,0.879811777 C6.19318451,0.807093379 6.7447467,0.807093379 7.28807661,0.879811777 C7.25103139,0.874323596 7.21535821,0.87020746 7.17831299,0.864719279 C7.70655041,0.937437677 8.22381146,1.07875834 8.71500366,1.28456512 C8.68207457,1.27084467 8.64914549,1.25712422 8.6162164,1.24340376 C8.8892534,1.35865556 9.15405813,1.493116 9.4078865,1.64815711 C9.53685875,1.72636369 9.66171487,1.8086864 9.7838269,1.8964973 C9.81538394,1.91982207 9.84831302,1.94314683 9.87987006,1.9664716 C9.90593892,1.98568024 10.0019821,2.06388682 9.89084642,1.97470388 C9.95258846,2.0240975 10.0157025,2.07349113 10.0760725,2.12562885 C10.3134364,2.32457541 10.5343356,2.5427306 10.7387704,2.77597829 C10.786792,2.8308601 10.8348135,2.88711396 10.8814631,2.94473986 C10.9061599,2.97492485 10.9308567,3.00648189 10.9555535,3.03803893 C10.9953428,3.08743256 10.9281126,3.00236576 10.9281126,3.00236576 C10.9445772,3.02294644 10.9596697,3.04489916 10.9761342,3.06547984 C11.0666892,3.18621982 11.151756,3.31107593 11.2327067,3.4373041 C11.4124446,3.71994541 11.5688577,4.01905128 11.699202,4.32776145 C11.6854816,4.29483237 11.6717611,4.26190328 11.6580407,4.2289742 C11.8638475,4.72016639 12.0051681,5.23742745 12.0778865,5.76566486 C12.0723983,5.72861964 12.0682822,5.69294646 12.062794,5.65590124 C12.1355124,6.19923116 12.1355124,6.75079334 12.062794,7.29412325 C12.0682822,7.25707803 12.0723983,7.22140486 12.0778865,7.18435964 C12.0051681,7.71259705 11.8638475,8.2298581 11.6580407,8.7210503 C11.6717611,8.68812121 11.6854816,8.65519213 11.699202,8.62226304 C11.5839502,8.89530004 11.4494898,9.16010477 11.2944487,9.41393314 C11.2162421,9.5429054 11.1339194,9.66776151 11.0461085,9.78987354 C11.0227837,9.82143058 10.999459,9.85435966 10.9761342,9.8859167 C10.9569256,9.91198556 10.878719,10.0080287 10.9679019,9.89689307 C10.9185083,9.9586351 10.8691147,10.0217492 10.816977,10.0821192 C10.6180304,10.319483 10.3998752,10.5403823 10.1666275,10.744817 C10.1117457,10.7928386 10.0554919,10.8408602 9.99786595,10.8875097 C9.96768096,10.9122065 9.93612392,10.9369034 9.90456688,10.9616002 C9.85517325,11.0013895 9.94024005,10.9341593 9.94024005,10.9341593 C9.91965937,10.9506238 9.89770665,10.9657163 9.87712597,10.9821808 C9.75638599,11.0727358 9.63152987,11.1578026 9.50530171,11.2387533 C9.22266039,11.4184912 8.92355453,11.5749044 8.61484435,11.7052487 C8.64777344,11.6915282 8.68070253,11.6778078 8.71363161,11.6640873 C8.22243942,11.8698941 7.70517836,12.0112148 7.17694095,12.0839332 C7.21398617,12.078445 7.24965934,12.0743289 7.28670457,12.0688407 C6.74337465,12.1415591 6.19181247,12.1415591 5.64848255,12.0688407 C5.68552778,12.0743289 5.72120095,12.078445 5.75824617,12.0839332 C5.23000876,12.0112148 4.7127477,11.8698941 4.22155551,11.6640873 C4.2544846,11.6778078 4.28741368,11.6915282 4.32034277,11.7052487 C4.04730576,11.5899969 3.78250103,11.4555365 3.52867267,11.3004953 C3.39970041,11.2222888 3.2748443,11.139966 3.15273227,11.0521552 C3.12117523,11.0288304 3.08824614,11.0055056 3.0566891,10.9821808 C3.03062024,10.9629722 2.93457708,10.8847656 3.04571274,10.9739486 C2.98397071,10.9245549 2.92085663,10.8751613 2.86048664,10.8230236 C2.62312281,10.624077 2.40222353,10.4059218 2.19778879,10.1726742 C2.1497672,10.1177923 2.10174562,10.0615385 2.05509608,10.0039126 C2.03039927,9.9737276 2.00570245,9.94217056 1.98100564,9.91061352 C1.94121633,9.86121989 2.00844654,9.94628669 2.00844654,9.94628669 C1.991982,9.92570602 1.9768895,9.90375329 1.96042496,9.88317261 C1.86986998,9.76243263 1.78480317,9.63757652 1.7038525,9.51134835 C1.52411458,9.22870704 1.36770142,8.92960118 1.23735712,8.620891 C1.25107757,8.65382008 1.26479803,8.68674917 1.27851848,8.71967825 C1.07271169,8.22848606 0.931391034,7.71122501 0.858672637,7.18298759 C0.864160818,7.22003281 0.868276953,7.25570599 0.873765134,7.29275121 C0.801046737,6.7494213 0.801046737,6.19785911 0.873765134,5.6545292 C0.868276953,5.69157442 0.864160818,5.72724759 0.858672637,5.76429282 C0.931391034,5.2360554 1.07271169,4.71879435 1.27851848,4.22760215 C1.26479803,4.26053124 1.25107757,4.29346032 1.23735712,4.32638941 C1.38553801,3.97514583 1.56664798,3.6376227 1.77794294,3.32068025 C1.83282475,3.23835754 1.88907861,3.15877891 1.94807655,3.07920029 C1.96042496,3.06273575 1.97140132,3.04764325 1.98374973,3.03117871 C2.04686381,2.94748395 1.93572815,3.0915487 1.97963359,3.03529484 C2.00844654,2.99824962 2.03725949,2.96257644 2.06607244,2.92690327 C2.19367265,2.77049011 2.32950513,2.62230923 2.47219783,2.47961652 C2.62449486,2.3273195 2.63684326,2.04742227 2.47219783,1.89786934 C2.3102965,1.74557232 2.05509608,1.73322391 1.89319474,1.8964973 Z",id:"Path"}),ly.createElement("path",{d:"M6.16836964,6.17066644 C6.09118278,6.2541117 6.04424482,6.35633213 6.04320176,6.47211242 C6.04320176,6.58372045 6.08909665,6.69428542 6.16836964,6.77355841 C6.33004482,6.93731972 6.60854336,6.93731972 6.77126161,6.77355841 C6.93397986,6.60875403 6.93606599,6.33547082 6.77126161,6.17066644 C6.69198862,6.09139345 6.58142365,6.04549856 6.46981562,6.04549856 C6.35403533,6.04654162 6.25285796,6.09347958 6.16836964,6.17066644 C6.11100103,6.22386279 6.07657986,6.31460951 6.07657986,6.39179637 C6.07657986,6.46898323 6.11100103,6.55972994 6.16836964,6.61292629 C6.29770979,6.73183578 6.48233241,6.73183578 6.61062949,6.61292629 C6.61480176,6.60875403 6.62001708,6.60458177 6.62418935,6.60145257 C6.60332803,6.61814162 6.58246672,6.63378761 6.56056234,6.65047666 C6.5678638,6.64526133 6.57516526,6.64108907 6.58350978,6.63795987 C6.55847621,6.64839053 6.53344263,6.65882118 6.50840905,6.66925184 C6.51675358,6.66612264 6.52509811,6.66403651 6.53344263,6.66195038 C6.50527986,6.66612264 6.47816015,6.66925184 6.44999738,6.6734241 C6.4614711,6.67238104 6.47294482,6.67238104 6.48441854,6.6734241 C6.45625577,6.66925184 6.42913606,6.66612264 6.40097329,6.66195038 C6.41036088,6.66403651 6.41766234,6.66612264 6.42600687,6.66925184 C6.40097329,6.65882118 6.37593971,6.64839053 6.35090614,6.63795987 C6.35925066,6.64213213 6.36655212,6.6463044 6.37385358,6.65047666 C6.35299227,6.63378761 6.33213095,6.61814162 6.31022657,6.60145257 C6.32065723,6.60875403 6.32795869,6.61709856 6.33630322,6.62752921 C6.31961416,6.6066679 6.30396818,6.58580659 6.28727913,6.56390221 C6.29249446,6.57120367 6.29666672,6.57850513 6.29979592,6.58684965 C6.28936526,6.56181607 6.2789346,6.5367825 6.26850395,6.51174892 C6.27163314,6.52009345 6.27371927,6.52843797 6.27580541,6.5367825 C6.27163314,6.50861972 6.26850395,6.48150002 6.26433168,6.45333724 C6.26537475,6.46481096 6.26537475,6.47628469 6.26433168,6.48775841 C6.26850395,6.45959564 6.27163314,6.43247593 6.27580541,6.40431315 C6.27371927,6.41370075 6.27163314,6.42100221 6.26850395,6.42934673 C6.2789346,6.40431315 6.28936526,6.37927958 6.29979592,6.354246 C6.29562365,6.36259053 6.29145139,6.36989199 6.28727913,6.37719345 C6.30396818,6.35633213 6.31961416,6.33547082 6.33630322,6.31356644 C6.32900176,6.3239971 6.32065723,6.33129856 6.31022657,6.33964308 C6.33108789,6.32295403 6.3519492,6.30730805 6.37385358,6.29061899 C6.36655212,6.29583432 6.35925066,6.30000659 6.35090614,6.30313578 C6.37593971,6.29270513 6.40097329,6.28227447 6.42600687,6.27184381 C6.41766234,6.27497301 6.40931781,6.27705914 6.40097329,6.27914527 C6.42913606,6.27497301 6.45625577,6.27184381 6.48441854,6.26767155 C6.47294482,6.26871461 6.4614711,6.26871461 6.44999738,6.26767155 C6.47816015,6.27184381 6.50527986,6.27497301 6.53344263,6.27914527 C6.52405504,6.27705914 6.51675358,6.27497301 6.50840905,6.27184381 C6.53344263,6.28227447 6.55847621,6.29270513 6.58350978,6.30313578 C6.57516526,6.29896352 6.5678638,6.29479126 6.56056234,6.29061899 C6.58142365,6.30730805 6.60228497,6.32295403 6.62418935,6.33964308 C6.61375869,6.33234162 6.60645723,6.3239971 6.5981127,6.31356644 C6.61480176,6.33442775 6.63044774,6.35528907 6.64713679,6.37719345 C6.64192146,6.36989199 6.6377492,6.36259053 6.63462,6.354246 C6.64505066,6.37927958 6.65548132,6.40431315 6.66591197,6.42934673 C6.66278278,6.42100221 6.66069665,6.41265768 6.65861051,6.40431315 C6.66278278,6.43247593 6.66591197,6.45959564 6.67008424,6.48775841 C6.66904117,6.47628469 6.66904117,6.46481096 6.67008424,6.45333724 C6.66591197,6.48150002 6.66278278,6.50861972 6.65861051,6.5367825 C6.66069665,6.52739491 6.66278278,6.52009345 6.66591197,6.51174892 C6.65548132,6.5367825 6.64505066,6.56181607 6.63462,6.58684965 C6.63879227,6.57850513 6.64296453,6.57120367 6.64713679,6.56390221 C6.63044774,6.58476352 6.61480176,6.60562483 6.5981127,6.62752921 C6.6012419,6.62231388 6.60541416,6.61814162 6.60958643,6.61396936 C6.66591197,6.55347155 6.70137621,6.47628469 6.70137621,6.39283943 C6.70137621,6.31565257 6.66695504,6.22490586 6.60958643,6.17170951 C6.55013168,6.11747009 6.47190176,6.07679053 6.3884565,6.07991972 C6.30918351,6.08304892 6.22573825,6.11016863 6.16836964,6.17066644 Z",id:"Path"}),ly.createElement("path",{d:"M3.68710555,9.70849202 C3.82738583,9.65557928 3.96889665,9.60389707 4.10917694,9.55098433 C4.44634184,9.42547039 4.78350674,9.29995644 5.12067165,9.1744425 C5.52551563,9.02308746 5.93159015,8.87296294 6.33643414,8.72160789 C6.68221275,8.59240236 7.02676082,8.46442736 7.37253943,8.33522183 C7.53004712,8.27615645 7.68878534,8.21955212 7.8450625,8.15925621 C7.84629303,8.15925621 7.84629303,8.15925621 7.84752356,8.15802568 C7.92504688,8.12726246 7.98780385,8.09280765 8.03948606,8.02512856 C8.07024928,7.98575164 8.08747668,7.94637472 8.10593462,7.89961462 C8.10716514,7.89592304 8.10839567,7.89346198 8.1096262,7.88977039 C8.11700938,7.8688514 8.12562308,7.84916294 8.13300625,7.82824395 C8.16746106,7.73841534 8.20068534,7.64981727 8.23514014,7.55998866 C8.3569625,7.24128169 8.47755433,6.92134419 8.59937668,6.60263722 C8.75196226,6.20025429 8.90577836,5.79787136 9.05836394,5.3942579 C9.19618317,5.03248242 9.3340024,4.67070694 9.47182163,4.30770093 C9.54688389,4.11081632 9.62194615,3.91270118 9.69700841,3.71581656 C9.70069999,3.70720286 9.70439158,3.69735863 9.70685264,3.68874493 C9.80283389,3.43648651 9.50504591,3.13869853 9.2527875,3.23467978 C9.11373774,3.28759252 8.97591851,3.34050526 8.83686875,3.393418 C8.50339543,3.52016248 8.16992212,3.64690695 7.8364488,3.77365142 C7.43283534,3.92746752 7.02799135,4.08128363 6.62437789,4.23509973 C6.27367717,4.36799685 5.92297645,4.50212449 5.57227573,4.63502161 C5.39877116,4.70147016 5.2252666,4.76545766 5.05176203,4.83313675 C5.04930097,4.83436728 5.04560939,4.83559781 5.04314833,4.83682834 C4.99638823,4.85528627 4.95701131,4.87251367 4.91763439,4.90327689 C4.85118583,4.9549591 4.81550049,5.01771608 4.78473727,5.09523939 C4.78473727,5.09646992 4.78473727,5.09646992 4.78350674,5.09770045 C4.7773541,5.1124668 4.77243198,5.12846367 4.76627934,5.14323002 C4.73551612,5.22444492 4.70598343,5.30689035 4.67522021,5.38810526 C4.55955049,5.69942905 4.44265025,6.01075285 4.32698054,6.32330718 C4.17685602,6.72569011 4.02673151,7.12807304 3.87660699,7.53045597 C3.74001829,7.89592304 3.60466011,8.2613901 3.46807141,8.62685717 C3.39300915,8.82743337 3.31917742,9.02677904 3.24411516,9.22735524 C3.24042358,9.23719947 3.23673199,9.24581318 3.23427093,9.25565741 C3.20227718,9.3405639 3.22688776,9.46484731 3.2711868,9.53990957 C3.31548584,9.61620236 3.40408391,9.69003409 3.49145146,9.70972255 C3.70064136,9.75771317 3.8729154,9.64573505 3.9455166,9.45131149 C3.99719881,9.31349226 4.04888103,9.1744425 4.10056324,9.03662327 C4.22361612,8.70684154 4.346669,8.37582928 4.46972189,8.04604755 C4.61984641,7.64489515 4.7687404,7.24374275 4.91886492,6.84135982 C5.04807044,6.49558121 5.17604544,6.14980261 5.30525097,5.80525453 C5.36800794,5.63667208 5.43568703,5.46932016 5.49352188,5.29827665 C5.49475241,5.29581559 5.49475241,5.29335454 5.49598294,5.29089348 C5.40984592,5.3770305 5.3237089,5.46316752 5.23757189,5.54930454 C5.37785217,5.4963918 5.51690193,5.44347905 5.65718222,5.38933579 C5.99065554,5.26259132 6.32535938,5.13584684 6.6588327,5.00787185 C7.06490722,4.85405574 7.47098173,4.69900911 7.87705625,4.545193 C8.22775697,4.41229589 8.57968822,4.27816824 8.93038894,4.14527113 C9.10020192,4.08128363 9.27247596,4.02098771 9.44105841,3.95084757 C9.44351947,3.94961704 9.44598052,3.94838651 9.44844158,3.94838651 C9.29708653,3.79703146 9.14573149,3.64567642 8.99437644,3.49432137 C8.9414637,3.63460166 8.88855096,3.77365142 8.83440769,3.9139317 C8.70766322,4.24740502 8.58091875,4.58210887 8.45294375,4.91558218 C8.29912764,5.3216567 8.14408101,5.72773122 7.9902649,6.13380574 C7.85736779,6.48450645 7.72324015,6.8364377 7.59034303,7.18713842 C7.52635553,7.3569514 7.45621539,7.52553385 7.39591947,7.69780789 C7.39468895,7.70026895 7.39345842,7.70273001 7.39345842,7.70519107 C7.47959544,7.61905405 7.56573245,7.53291703 7.65186947,7.44678001 C7.51405024,7.49846222 7.37500048,7.55014443 7.23718125,7.60182664 C6.90739952,7.72487953 6.57638727,7.84793241 6.24660554,7.9709853 C5.84545313,8.12110981 5.44430073,8.2700038 5.0419178,8.42012832 C4.6961392,8.54933385 4.35036059,8.67730885 4.00581252,8.80651438 C3.83723006,8.86927135 3.66741708,8.93079779 3.49883463,8.99478529 C3.49637358,8.99601582 3.49391252,8.99601582 3.49145146,8.99724635 C3.3991618,9.03170116 3.32163848,9.07969178 3.2711868,9.16705933 C3.2244267,9.24581318 3.20473824,9.36271342 3.23427093,9.45131149 C3.29087526,9.62850765 3.49391252,9.78109322 3.68710555,9.70849202 Z",id:"Path"})))));var wo=({action:n,onClick:e,color:t})=>{let s={...{width:"22px",height:"22px"},...{onClick:e,style:{cursor:e?"pointer":"unset"}}};return v.createElement(ndt,{color:t,doHover:e!==void 0},n==="group_by"?v.createElement(MCe,{...s}):n==="aggregate"?v.createElement(PCe,{...s}):n==="filter"?v.createElement(BCe,{...s}):n==="limit"?v.createElement(jCe,{...s}):n==="nest"?v.createElement(qCe,{...s}):n==="order_by"?v.createElement(UCe,{...s}):n==="remove"?v.createElement(e9,{...s}):n==="rename"?v.createElement($Ce,{...s}):n==="add"?v.createElement(HCe,{...s}):n==="save"?v.createElement(VCe,{...s}):n==="container-open"?v.createElement(n9,{...s}):n==="container-closed"?v.createElement(M$,{...s}):n==="duplicate"?v.createElement(WCe,{...s}):n==="style"?v.createElement(U$,{...s}):n==="stage"?v.createElement(GCe,{...s}):n==="error"?v.createElement(QCe,{...s}):n==="load"?v.createElement($$,{...s}):n==="move"?v.createElement(YCe,{...s}):n==="edit"?v.createElement(zCe,{...s}):n==="search"?v.createElement(KCe,{...s}):n==="open-directory"?v.createElement(JCe,{...s}):n==="analysis"?v.createElement(XCe,{...s}):null)},ndt=$n.div`
  display: flex;
  ${({color:n,doHover:e})=>n===void 0?"":`
      svg .hoverfill {
        fill: transparent;
      }
      ${n!==void 0&&`
        svg .primaryfill {
          fill: ${mi[n].fillStrong};
        }
        svg .primarystroke {
          stroke: ${mi[n].fillStrong};
        }
      `}
      ${n!==void 0&&e&&`
        svg:hover .hoverfill {
          fill: ${mi[n].fillLight};
        }
      `}
    `}
`;m();m();var mb=xr(Rr());m();m();var Lo=({icon:n,name:e,onClick:t,canRemove:r,onRemove:i,unsaved:s=!1,color:o,active:a=!1,disableHover:c=!1,detail:d,fullDetail:p=!1})=>v.createElement(odt,{onClick:t,color:o,active:a,disableHover:c},v.createElement(idt,null,v.createElement($C,{color:o},n),v.createElement(boe,null,e),s?v.createElement(rdt,{color:o}):""),r&&v.createElement(z$,{className:"back"},v.createElement(H$,{color:o,width:"20px",height:"20px",className:"close",onClick:()=>i&&i()})),!r&&d!==void 0&&v.createElement(sdt,{style:{color:mi[o].fillStrong,opacity:.8},noShrink:p},d)),rdt=$n.div`
  width: 8px;
  margin-top: 3px;
  height: 8px;
  min-width: 8px;
  min-height: 8px;
  border-radius: 100px;

  ${({color:n})=>`
    background-color: ${mi[n].fillStrong};
    `}
`,idt=$n.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
`,z$=$n.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
`,sdt=$n.div`
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  ${({noShrink:n})=>`flex-shrink: ${n?0:4};`}
  font-size: 12px;
  font-weight: normal;
  text-transform: none;
  margin-right: 5px;
  justify-content: start;
  text-overflow: ellipsis;
  color: #9aa0a6;
`,odt=$n.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  cursor: pointer;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";

  ${({active:n,color:e})=>n?`
        background-color: ${mi[e].fillLight};
        .back {
          display: flex;
        }
      `:""}

  &:hover {
    .back {
      display: flex;
    }
  }

  .back {
    display: none;
  }

  ${({color:n,disableHover:e})=>{if(!e)return`
        &:hover {
          background-color: ${mi[n].fillLight};
        }
      `}}
`,H$=$n(e9)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${mi[n].fillMedium};
      }
      .circle {
        fill: transparent;
      }
      &:hover .cross {
        fill: ${mi[n].fillStrong};
      }
      &:hover .circle {
        fill: ${mi[n].fillMedium};
      }
    `}
`;m();m();var cy=({children:n})=>v.createElement(adt,null,v.createElement(udt,null),v.createElement(ldt,null,n)),adt=$n.div`
  margin-top: 5px;
  display: flex;
  flex-direction: row;
  gap: 2px;
  margin-left: 13px;
`,udt=$n.div`
  width: 6px;
  min-width: 6px;
  padding: 5px 0px;
  margin: 0 1px;
  background-color: #efefef;
  border-radius: 100px;
`,ldt=$n.div`
  width: calc(100% - 10px);
`;m();m();var hb=xr(Rr());m();m();var ZCe=xr(Rr());function g1(n,e){(0,ZCe.useEffect)(()=>{let t=Array.isArray(n)?n:[n],r=!1,i=(c,d)=>!c.current||d.target instanceof Element&&c.current.contains(d.target),s=c=>t.some(d=>i(d,c)),o=c=>{!r||s(c)||(e(c),r=!1)},a=c=>{s(c)||(r=!0)};return document.addEventListener("mouseup",o),document.addEventListener("mousedown",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("mousedown",a)}},[n,e])}m();var V$=xr(Rr());function W$(n){let e=(0,V$.useRef)();return(0,V$.useEffect)(()=>{e.current=n}),e.current}m();var xh=xr(Rr());m();m();m();async function cdt(n,e,t,r){if(r===void 0)return;if(_0()){let s=await SCe(n,e,t,r);if(s instanceof Error)throw s;return s}if(Ph()){let s=await window.malloy.saveField(n,e,t,{...r,modelDef:{}});if(s instanceof Error)throw s;return s}return(await(await fetch("api/save_field",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:n,field:e,name:t,analysis:{...r,modelDef:{}}})})).json()).analysis}function woe(n,e,t){let r=o_(),{data:i,mutateAsync:s,isLoading:o,reset:a}=a_(({name:d,field:p,type:b})=>cdt(b,p,d,e),{onSuccess:()=>{_0()||r.invalidateQueries(voe(n))}});return{result:i,saveField:async(d,p,b)=>{a();let C=await s({name:p,type:d,field:b});return C&&t(C),C},isSaving:o}}m();async function fdt(n,e,t,r){if(n===void 0||e===void 0)return;if(_0()){let s=await _Ce(n,e,t,r);if(s instanceof Error)throw s;return s}if(Ph()){let s=await window.malloy.search(n,e,t,r);if(s instanceof Error)throw s;return s}return(await(await fetch("api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchTerm:t,source:n,fieldPath:r,analysisPath:e})})).json()).result||[]}function ib(n,e,t,r){let{data:i,isLoading:s}=im([n,t,r],()=>fdt(n,e,t,r),{refetchOnWindowFocus:!0});return{searchResults:i,isLoading:s}}m();var e9e=xr(Rr());var ddt="currentAnalysis";async function hdt(n){if(n===void 0||n.fullPath===void 0)return;if(_0())return n;if(Ph())return window.malloy.analysis(n.fullPath);let e=new URLSearchParams({path:n.fullPath});return(await(await fetch(`api/analysis?${e}`)).json()).analysis}function Aoe(n,e){let{data:t}=im(ddt,()=>hdt(n),{refetchOnWindowFocus:!0});(0,e9e.useEffect)(()=>{t!==void 0&&e(t)},[t])}m();function Toe(n){window.malloy.openLink(n)}m();var Foe=xr(w2());async function pdt(n,e,t){if(t===void 0)return;if(_0()){let i=await vCe(n,e,t);if(i instanceof Error)throw i;return i}if(Ph()){let i=await window.malloy.runQuery(n,e,{...t,modelDef:{}});if(i instanceof Error)throw i;return Foe.Result.fromJSON(i)}let r=await(await fetch("api/run_query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n,queryName:e,analysis:{...t,modelDef:{}}})})).json();return Foe.Result.fromJSON(r.result)}function t9e(n,e,t,r){let{data:i,mutateAsync:s,isLoading:o,reset:a}=a_(()=>pdt(n,e,r),{onError:t});return{result:i,runQuery:()=>{a(),s()},isRunning:o,clearResult:a}}function Doe({analysis:n,setAnalysis:e,openDirectory:t}){let r=(0,xh.useRef)(),[i,s]=(0,xh.useState)(""),[o,a]=(0,xh.useState)(),[c,d]=(0,xh.useState)(""),[p,b]=(0,xh.useState)(),{result:C,runQuery:N,isRunning:R,clearResult:U}=t9e(i,c,b,n),[V,P]=(0,xh.useState)({}),{saveField:$}=woe(t,n,de=>{e(de),NO(de,Ge=>{r.current?.updateSource(Ge)})}),M=()=>{N();let de={stageIndex:o?o.stages.length-1:0};r.current?.hasLimit(de)||ot(de,10)};Aoe(n,de=>{e(de),NO(de,Ge=>{r.current?.updateSource(Ge)})});let G=(de,Ge)=>{e(de),Ie(de),NO(de,Ot=>{r.current?.updateSource(Ot),r.current?.loadQuery(Ge),ae(V,de)})},ae=(de=V,Ge=n)=>{if(!r.current)return;let Ot=r.current.getQuery();d(Ot.name),!!Ge&&NO(Ge,Nt=>{let zt=new bO(Ot,Nt);if(r.current?.canRun()){let Xt=zt.getQueryStringForModel();s(Xt),console.log(Xt)}else s("");let en=zt.getQuerySummary(n?.dataStyles||{},de);a(en)})},I=(de,Ge)=>{r.current?.toggleField(de,Ge),ae()},Z=(de,Ge)=>{r.current?.removeField(de,Ge),ae()},me=(de,Ge)=>{r.current?.addFilter(de,Ge),ae()},ye=(de,Ge,Ot,Nt)=>{r.current?.editFilter(de,Ge,Ot,Nt),ae()},He=(de,Ge,Ot)=>{r.current?.removeFilter(de,Ge,Ot),ae()},ot=(de,Ge)=>{r.current?.addLimit(de,Ge),ae()},at=(de,Ge)=>{r.current?.addStage(de,Ge),ae()},Ze=de=>{r.current?.removeStage(de),ae()},Tt=(de,Ge,Ot)=>{r.current?.addOrderBy(de,Ge,Ot),ae()},Mt=(de,Ge,Ot)=>{r.current?.editOrderBy(de,Ge,Ot),ae()},Ue=(de,Ge)=>{r.current?.removeOrderBy(de,Ge),ae()},te=de=>{r.current?.removeLimit(de),ae()},st=(de,Ge,Ot)=>{r.current?.renameField(de,Ge,Ot),ae()},be=(de,Ge,Ot,Nt)=>{r.current?.addFilterToField(de,Ge,Ot,Nt),ae()},Re=(de,Ge)=>{r.current?.addNewNestedQuery(de,Ge),ae()},Ae=(de,Ge)=>{r.current?.addNewField(de,Ge),ae()},xe=(de,Ge,Ot)=>{r.current?.editFieldDefinition(de,Ge,Ot),ae()},Je=(de,Ge,Ot)=>{r.current?.editFieldDefinition(de,Ge,Ot),ae()},lt=(de,Ge)=>{r.current?.reorderFields(de,Ge),ae()},Qt=(de,Ge)=>{if(n===void 0)return;let Ot=n.modelDef.contents[n.sourceName];Ot.type==="struct"&&(n&&r.current?.replaceWithDefinition(de,Ge,Ot),ae())},Et=de=>{r.current?.loadQuery(de),ae()},mn=Ae,Lt=(0,xh.useCallback)(de=>{let Ge=r.current?.getQuery();Ge&&$("query",de,Ge)},[$]),kt=(0,xh.useCallback)((de,Ge,Ot,Nt,zt)=>{$(de,Nt,zt).then(en=>{en&&(NO(en,Xt=>{r.current?.updateSource(Xt)}),r.current?.replaceSavedField(Ge,Ot,Nt),ae(V,en))})},[$]),cn=(0,xh.useCallback)((de,Ge,Ot,Nt)=>{kt("dimension",de,Ge,Ot,Nt)},[kt]),wt=(0,xh.useCallback)((de,Ge,Ot,Nt)=>{kt("measure",de,Ge,Ot,Nt)},[kt]),Ee=(0,xh.useCallback)((de,Ge,Ot,Nt)=>{kt("query",de,Ge,Ot,Nt)},[kt]),Ie=(de=n)=>{if(Xe(c,void 0),s(""),de){let Ge=de.modelDef.contents[de.sourceName];if(Ge.type!=="struct")throw new Error("Source for analysis must be a source, not a query");r.current=new k$(Ge),a({stages:[{items:[],orderByFields:[],inputSource:Ge}]})}U(),ae()},Ce=n&&n.modelDef.contents[n.sourceName],fe=Ce?.type==="struct"?Ce:void 0,rt=de=>{if(!!fe){r.current=new k$(fe);for(let Ge of de)r.current.addFilter({stageIndex:0},Ge);ae()}},Xe=(de,Ge)=>{let Ot={...V};Ge===void 0?de in Ot&&delete Ot[de]:Ot[de]={renderer:Ge},P(Ot),ae(Ot)};return{queryBuilder:r,queryMalloy:i,queryName:c,clearQuery:Ie,runQuery:M,isRunning:R,clearResult:U,source:fe,querySummary:o,dataStyles:V,result:C,error:p,queryModifiers:{addFilter:me,toggleField:I,addLimit:ot,addOrderBy:Tt,addNewNestedQuery:Re,addNewDimension:Ae,addNewMeasure:mn,setDataStyle:Xe,addStage:at,loadQuery:Et,updateFieldOrder:lt,removeField:Z,removeFilter:He,removeLimit:te,removeOrderBy:Ue,renameField:st,addFilterToField:be,editLimit:ot,editFilter:ye,replaceWithDefinition:Qt,editDimension:xe,editMeasure:Je,editOrderBy:Mt,removeStage:Ze,saveDimension:cn,saveMeasure:wt,saveNestQuery:Ee,saveCurrentQuery:Lt,clearQuery:Ie,onDrill:rt,loadQueryInNewAnalysis:G}}}function NO(n,e){let t=n.modelDef.contents[n.sourceName];t&&t.type==="struct"&&e(t)}m();m();var Q$=xr(Rr());var Ooe=function(e){return e.reduce(function(t,r){var i=r[0],s=r[1];return t[i]=s,t},{})},Noe=typeof window!="undefined"&&window.document&&window.document.createElement?Q$.useLayoutEffect:Q$.useEffect;m();var rv=xr(Rr()),w9e=xr(Nk());m();m();var Ml="top",Hc="bottom",Ec="right",Jl="left",G$="auto",tv=[Ml,Hc,Ec,Jl],fy="start",sb="end",n9e="clippingParents",Y$="viewport",i9="popper",r9e="reference",Roe=tv.reduce(function(n,e){return n.concat([e+"-"+fy,e+"-"+sb])},[]),K$=[].concat(tv,[G$]).reduce(function(n,e){return n.concat([e,e+"-"+fy,e+"-"+sb])},[]),mdt="beforeRead",xdt="read",gdt="afterRead",ydt="beforeMain",vdt="main",_dt="afterMain",bdt="beforeWrite",Edt="write",Sdt="afterWrite",i9e=[mdt,xdt,gdt,ydt,vdt,_dt,bdt,Edt,Sdt];m();m();function bf(n){return n?(n.nodeName||"").toLowerCase():null}m();m();function cl(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function y1(n){var e=cl(n).Element;return n instanceof e||n instanceof Element}function Vc(n){var e=cl(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function s9(n){if(typeof ShadowRoot=="undefined")return!1;var e=cl(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Cdt(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Vc(s)||!bf(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function wdt(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(c,d){return c[d]="",c},{});!Vc(i)||!bf(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}var s9e={name:"applyStyles",enabled:!0,phase:"write",fn:Cdt,effect:wdt,requires:["computeStyles"]};m();m();function Ef(n){return n.split("-")[0]}m();m();m();var A2=Math.max,ob=Math.min,dy=Math.round;m();m();function o9(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function RO(){return!/^((?!chrome|android).)*safari/i.test(o9())}function v1(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Vc(n)&&(i=n.offsetWidth>0&&dy(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&dy(r.height)/n.offsetHeight||1);var o=y1(n)?cl(n):window,a=o.visualViewport,c=!RO()&&t,d=(r.left+(c&&a?a.offsetLeft:0))/i,p=(r.top+(c&&a?a.offsetTop:0))/s,b=r.width/i,C=r.height/s;return{width:b,height:C,top:p,right:d+b,bottom:p+C,left:d,x:d,y:p}}function ab(n){var e=v1(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}m();function LO(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&s9(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}m();m();function Sd(n){return cl(n).getComputedStyle(n)}m();function Loe(n){return["table","td","th"].indexOf(bf(n))>=0}m();m();function Yf(n){return((y1(n)?n.ownerDocument:n.document)||window.document).documentElement}function hy(n){return bf(n)==="html"?n:n.assignedSlot||n.parentNode||(s9(n)?n.host:null)||Yf(n)}function o9e(n){return!Vc(n)||Sd(n).position==="fixed"?null:n.offsetParent}function Adt(n){var e=/firefox/i.test(o9()),t=/Trident/i.test(o9());if(t&&Vc(n)){var r=Sd(n);if(r.position==="fixed")return null}var i=hy(n);for(s9(i)&&(i=i.host);Vc(i)&&["html","body"].indexOf(bf(i))<0;){var s=Sd(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function T2(n){for(var e=cl(n),t=o9e(n);t&&Loe(t)&&Sd(t).position==="static";)t=o9e(t);return t&&(bf(t)==="html"||bf(t)==="body"&&Sd(t).position==="static")?e:t||Adt(n)||e}m();function ub(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}m();function lb(n,e,t){return A2(n,ob(e,t))}function a9e(n,e,t){var r=lb(n,e,t);return r>t?t:r}m();m();function kO(){return{top:0,right:0,bottom:0,left:0}}function IO(n){return Object.assign({},kO(),n)}m();function MO(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Tdt=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,IO(typeof e!="number"?e:MO(e,tv))};function Fdt(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Ef(t.placement),c=ub(a),d=[Jl,Ec].indexOf(a)>=0,p=d?"height":"width";if(!(!s||!o)){var b=Tdt(i.padding,t),C=ab(s),N=c==="y"?Ml:Jl,R=c==="y"?Hc:Ec,U=t.rects.reference[p]+t.rects.reference[c]-o[c]-t.rects.popper[p],V=o[c]-t.rects.reference[c],P=T2(s),$=P?c==="y"?P.clientHeight||0:P.clientWidth||0:0,M=U/2-V/2,G=b[N],ae=$-C[p]-b[R],I=$/2-C[p]/2+M,Z=lb(G,I,ae),me=c;t.modifiersData[r]=(e={},e[me]=Z,e.centerOffset=Z-I,e)}}function Ddt(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!LO(e.elements.popper,i)||(e.elements.arrow=i))}var u9e={name:"arrow",enabled:!0,phase:"main",fn:Fdt,effect:Ddt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};m();m();function _1(n){return n.split("-")[1]}var Odt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ndt(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:dy(e*i)/i||0,y:dy(t*i)/i||0}}function l9e(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,c=n.gpuAcceleration,d=n.adaptive,p=n.roundOffsets,b=n.isFixed,C=o.x,N=C===void 0?0:C,R=o.y,U=R===void 0?0:R,V=typeof p=="function"?p({x:N,y:U}):{x:N,y:U};N=V.x,U=V.y;var P=o.hasOwnProperty("x"),$=o.hasOwnProperty("y"),M=Jl,G=Ml,ae=window;if(d){var I=T2(t),Z="clientHeight",me="clientWidth";if(I===cl(t)&&(I=Yf(t),Sd(I).position!=="static"&&a==="absolute"&&(Z="scrollHeight",me="scrollWidth")),I=I,i===Ml||(i===Jl||i===Ec)&&s===sb){G=Hc;var ye=b&&I===ae&&ae.visualViewport?ae.visualViewport.height:I[Z];U-=ye-r.height,U*=c?1:-1}if(i===Jl||(i===Ml||i===Hc)&&s===sb){M=Ec;var He=b&&I===ae&&ae.visualViewport?ae.visualViewport.width:I[me];N-=He-r.width,N*=c?1:-1}}var ot=Object.assign({position:a},d&&Odt),at=p===!0?Ndt({x:N,y:U}):{x:N,y:U};if(N=at.x,U=at.y,c){var Ze;return Object.assign({},ot,(Ze={},Ze[G]=$?"0":"",Ze[M]=P?"0":"",Ze.transform=(ae.devicePixelRatio||1)<=1?"translate("+N+"px, "+U+"px)":"translate3d("+N+"px, "+U+"px, 0)",Ze))}return Object.assign({},ot,(e={},e[G]=$?U+"px":"",e[M]=P?N+"px":"",e.transform="",e))}function Rdt(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,c=a===void 0?!0:a;if(!1)var d;var p={placement:Ef(e.placement),variation:_1(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,l9e(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,l9e(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var c9e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rdt,data:{}};m();var J$={passive:!0};function Ldt(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,c=cl(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(p){p.addEventListener("scroll",t.update,J$)}),a&&c.addEventListener("resize",t.update,J$),function(){s&&d.forEach(function(p){p.removeEventListener("scroll",t.update,J$)}),a&&c.removeEventListener("resize",t.update,J$)}}var f9e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ldt,data:{}};m();m();var kdt={left:"right",right:"left",bottom:"top",top:"bottom"};function a9(n){return n.replace(/left|right|bottom|top/g,function(e){return kdt[e]})}m();var Idt={start:"end",end:"start"};function X$(n){return n.replace(/start|end/g,function(e){return Idt[e]})}m();m();m();m();m();function cb(n){var e=cl(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function fb(n){return v1(Yf(n)).left+cb(n).scrollLeft}function koe(n,e){var t=cl(n),r=Yf(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;var d=RO();(d||!d&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a+fb(n),y:c}}m();function Ioe(n){var e,t=Yf(n),r=cb(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=A2(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=A2(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+fb(n),c=-r.scrollTop;return Sd(i||t).direction==="rtl"&&(a+=A2(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}m();m();m();function db(n){var e=Sd(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function Z$(n){return["html","body","#document"].indexOf(bf(n))>=0?n.ownerDocument.body:Vc(n)&&db(n)?n:Z$(hy(n))}function nv(n,e){var t;e===void 0&&(e=[]);var r=Z$(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=cl(r),o=i?[s].concat(s.visualViewport||[],db(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(nv(hy(o)))}m();function u9(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Mdt(n,e){var t=v1(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function d9e(n,e,t){return e===Y$?u9(koe(n,t)):y1(e)?Mdt(e,t):u9(Ioe(Yf(n)))}function Pdt(n){var e=nv(hy(n)),t=["absolute","fixed"].indexOf(Sd(n).position)>=0,r=t&&Vc(n)?T2(n):n;return y1(r)?e.filter(function(i){return y1(i)&&LO(i,r)&&bf(i)!=="body"}):[]}function Moe(n,e,t,r){var i=e==="clippingParents"?Pdt(n):[].concat(e),s=[].concat(i,[t]),o=s[0],a=s.reduce(function(c,d){var p=d9e(n,d,r);return c.top=A2(p.top,c.top),c.right=ob(p.right,c.right),c.bottom=ob(p.bottom,c.bottom),c.left=A2(p.left,c.left),c},d9e(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}m();function PO(n){var e=n.reference,t=n.element,r=n.placement,i=r?Ef(r):null,s=r?_1(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,c;switch(i){case Ml:c={x:o,y:e.y-t.height};break;case Hc:c={x:o,y:e.y+e.height};break;case Ec:c={x:e.x+e.width,y:a};break;case Jl:c={x:e.x-t.width,y:a};break;default:c={x:e.x,y:e.y}}var d=i?ub(i):null;if(d!=null){var p=d==="y"?"height":"width";switch(s){case fy:c[d]=c[d]-(e[p]/2-t[p]/2);break;case sb:c[d]=c[d]+(e[p]/2-t[p]/2);break;default:}}return c}function F2(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,c=a===void 0?n9e:a,d=t.rootBoundary,p=d===void 0?Y$:d,b=t.elementContext,C=b===void 0?i9:b,N=t.altBoundary,R=N===void 0?!1:N,U=t.padding,V=U===void 0?0:U,P=IO(typeof V!="number"?V:MO(V,tv)),$=C===i9?r9e:i9,M=n.rects.popper,G=n.elements[R?$:C],ae=Moe(y1(G)?G:G.contextElement||Yf(n.elements.popper),c,p,o),I=v1(n.elements.reference),Z=PO({reference:I,element:M,strategy:"absolute",placement:i}),me=u9(Object.assign({},M,Z)),ye=C===i9?me:I,He={top:ae.top-ye.top+P.top,bottom:ye.bottom-ae.bottom+P.bottom,left:ae.left-ye.left+P.left,right:ye.right-ae.right+P.right},ot=n.modifiersData.offset;if(C===i9&&ot){var at=ot[i];Object.keys(He).forEach(function(Ze){var Tt=[Ec,Hc].indexOf(Ze)>=0?1:-1,Mt=[Ml,Hc].indexOf(Ze)>=0?"y":"x";He[Ze]+=at[Mt]*Tt})}return He}m();function Poe(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,c=t.allowedAutoPlacements,d=c===void 0?K$:c,p=_1(r),b=p?a?Roe:Roe.filter(function(R){return _1(R)===p}):tv,C=b.filter(function(R){return d.indexOf(R)>=0});C.length===0&&(C=b);var N=C.reduce(function(R,U){return R[U]=F2(n,{placement:U,boundary:i,rootBoundary:s,padding:o})[Ef(U)],R},{});return Object.keys(N).sort(function(R,U){return N[R]-N[U]})}function Bdt(n){if(Ef(n)===G$)return[];var e=a9(n);return[X$(n),e,X$(e)]}function jdt(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!0:o,c=t.fallbackPlacements,d=t.padding,p=t.boundary,b=t.rootBoundary,C=t.altBoundary,N=t.flipVariations,R=N===void 0?!0:N,U=t.allowedAutoPlacements,V=e.options.placement,P=Ef(V),$=P===V,M=c||($||!R?[a9(V)]:Bdt(V)),G=[V].concat(M).reduce(function(lt,Qt){return lt.concat(Ef(Qt)===G$?Poe(e,{placement:Qt,boundary:p,rootBoundary:b,padding:d,flipVariations:R,allowedAutoPlacements:U}):Qt)},[]),ae=e.rects.reference,I=e.rects.popper,Z=new Map,me=!0,ye=G[0],He=0;He<G.length;He++){var ot=G[He],at=Ef(ot),Ze=_1(ot)===fy,Tt=[Ml,Hc].indexOf(at)>=0,Mt=Tt?"width":"height",Ue=F2(e,{placement:ot,boundary:p,rootBoundary:b,altBoundary:C,padding:d}),te=Tt?Ze?Ec:Jl:Ze?Hc:Ml;ae[Mt]>I[Mt]&&(te=a9(te));var st=a9(te),be=[];if(s&&be.push(Ue[at]<=0),a&&be.push(Ue[te]<=0,Ue[st]<=0),be.every(function(lt){return lt})){ye=ot,me=!1;break}Z.set(ot,be)}if(me)for(var Re=R?3:1,Ae=function(Qt){var Et=G.find(function(mn){var Lt=Z.get(mn);if(Lt)return Lt.slice(0,Qt).every(function(kt){return kt})});if(Et)return ye=Et,"break"},xe=Re;xe>0;xe--){var Je=Ae(xe);if(Je==="break")break}e.placement!==ye&&(e.modifiersData[r]._skip=!0,e.placement=ye,e.reset=!0)}}var h9e={name:"flip",enabled:!0,phase:"main",fn:jdt,requiresIfExists:["offset"],data:{_skip:!1}};m();function p9e(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function m9e(n){return[Ml,Ec,Hc,Jl].some(function(e){return n[e]>=0})}function qdt(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=F2(e,{elementContext:"reference"}),a=F2(e,{altBoundary:!0}),c=p9e(o,r),d=p9e(a,i,s),p=m9e(c),b=m9e(d);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":b})}var x9e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qdt};m();function Udt(n,e,t){var r=Ef(n),i=[Jl,Ml].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Jl,Ec].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function $dt(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=K$.reduce(function(p,b){return p[b]=Udt(b,e.rects,s),p},{}),a=o[e.placement],c=a.x,d=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=o}var g9e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$dt};m();function zdt(n){var e=n.state,t=n.name;e.modifiersData[t]=PO({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var y9e={name:"popperOffsets",enabled:!0,phase:"read",fn:zdt,data:{}};m();m();function Boe(n){return n==="x"?"y":"x"}function Hdt(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!1:o,c=t.boundary,d=t.rootBoundary,p=t.altBoundary,b=t.padding,C=t.tether,N=C===void 0?!0:C,R=t.tetherOffset,U=R===void 0?0:R,V=F2(e,{boundary:c,rootBoundary:d,padding:b,altBoundary:p}),P=Ef(e.placement),$=_1(e.placement),M=!$,G=ub(P),ae=Boe(G),I=e.modifiersData.popperOffsets,Z=e.rects.reference,me=e.rects.popper,ye=typeof U=="function"?U(Object.assign({},e.rects,{placement:e.placement})):U,He=typeof ye=="number"?{mainAxis:ye,altAxis:ye}:Object.assign({mainAxis:0,altAxis:0},ye),ot=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,at={x:0,y:0};if(!!I){if(s){var Ze,Tt=G==="y"?Ml:Jl,Mt=G==="y"?Hc:Ec,Ue=G==="y"?"height":"width",te=I[G],st=te+V[Tt],be=te-V[Mt],Re=N?-me[Ue]/2:0,Ae=$===fy?Z[Ue]:me[Ue],xe=$===fy?-me[Ue]:-Z[Ue],Je=e.elements.arrow,lt=N&&Je?ab(Je):{width:0,height:0},Qt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:kO(),Et=Qt[Tt],mn=Qt[Mt],Lt=lb(0,Z[Ue],lt[Ue]),kt=M?Z[Ue]/2-Re-Lt-Et-He.mainAxis:Ae-Lt-Et-He.mainAxis,cn=M?-Z[Ue]/2+Re+Lt+mn+He.mainAxis:xe+Lt+mn+He.mainAxis,wt=e.elements.arrow&&T2(e.elements.arrow),Ee=wt?G==="y"?wt.clientTop||0:wt.clientLeft||0:0,Ie=(Ze=ot==null?void 0:ot[G])!=null?Ze:0,Ce=te+kt-Ie-Ee,fe=te+cn-Ie,rt=lb(N?ob(st,Ce):st,te,N?A2(be,fe):be);I[G]=rt,at[G]=rt-te}if(a){var Xe,de=G==="x"?Ml:Jl,Ge=G==="x"?Hc:Ec,Ot=I[ae],Nt=ae==="y"?"height":"width",zt=Ot+V[de],en=Ot-V[Ge],Xt=[Ml,Jl].indexOf(P)!==-1,bn=(Xe=ot==null?void 0:ot[ae])!=null?Xe:0,Tn=Xt?zt:Ot-Z[Nt]-me[Nt]-bn+He.altAxis,Dn=Xt?Ot+Z[Nt]+me[Nt]-bn-He.altAxis:en,Ut=N&&Xt?a9e(Tn,Ot,Dn):lb(N?Tn:zt,Ot,N?Dn:en);I[ae]=Ut,at[ae]=Ut-Ot}e.modifiersData[r]=at}}var v9e={name:"preventOverflow",enabled:!0,phase:"main",fn:Hdt,requiresIfExists:["offset"]};m();m();m();m();function joe(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function qoe(n){return n===cl(n)||!Vc(n)?cb(n):joe(n)}function Vdt(n){var e=n.getBoundingClientRect(),t=dy(e.width)/n.offsetWidth||1,r=dy(e.height)/n.offsetHeight||1;return t!==1||r!==1}function Uoe(n,e,t){t===void 0&&(t=!1);var r=Vc(e),i=Vc(e)&&Vdt(e),s=Yf(e),o=v1(n,i,t),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!t)&&((bf(e)!=="body"||db(s))&&(a=qoe(e)),Vc(e)?(c=v1(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=fb(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}m();function Wdt(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var c=e.get(a);c&&i(c)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function $oe(n){var e=Wdt(n);return i9e.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}m();function zoe(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}m();function Hoe(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var _9e={placement:"bottom",modifiers:[],strategy:"absolute"};function b9e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function E9e(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?_9e:i;return function(a,c,d){d===void 0&&(d=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},_9e,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},b=[],C=!1,N={state:p,setOptions:function(P){var $=typeof P=="function"?P(p.options):P;U(),p.options=Object.assign({},s,p.options,$),p.scrollParents={reference:y1(a)?nv(a):a.contextElement?nv(a.contextElement):[],popper:nv(c)};var M=$oe(Hoe([].concat(r,p.options.modifiers)));if(p.orderedModifiers=M.filter(function(ot){return ot.enabled}),!1){var G;if(getBasePlacement(p.options.placement)===auto)var ae;var I,Z,me,ye,He}return R(),N.update()},forceUpdate:function(){if(!C){var P=p.elements,$=P.reference,M=P.popper;if(!!b9e($,M)){p.rects={reference:Uoe($,T2(M),p.options.strategy==="fixed"),popper:ab(M)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(ot){return p.modifiersData[ot.name]=Object.assign({},ot.data)});for(var G=0,ae=0;ae<p.orderedModifiers.length;ae++){if(p.reset===!0){p.reset=!1,ae=-1;continue}var I=p.orderedModifiers[ae],Z=I.fn,me=I.options,ye=me===void 0?{}:me,He=I.name;typeof Z=="function"&&(p=Z({state:p,options:ye,name:He,instance:N})||p)}}}},update:zoe(function(){return new Promise(function(V){N.forceUpdate(),V(p)})}),destroy:function(){U(),C=!0}};if(!b9e(a,c))return N;N.setOptions(d).then(function(V){!C&&d.onFirstUpdate&&d.onFirstUpdate(V)});function R(){p.orderedModifiers.forEach(function(V){var P=V.name,$=V.options,M=$===void 0?{}:$,G=V.effect;if(typeof G=="function"){var ae=G({state:p,name:P,instance:N,options:M}),I=function(){};b.push(ae||I)}})}function U(){b.forEach(function(V){return V()}),b=[]}return N}}m();var Qdt=[f9e,y9e,c9e,s9e,g9e,h9e,v9e,u9e,x9e],Voe=E9e({defaultModifiers:Qdt});var A9e=xr(C9e());var Xdt=[],Woe=function(e,t,r){r===void 0&&(r={});var i=rv.useRef(null),s={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||Xdt},o=rv.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],c=o[1],d=rv.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(N){var R=N.state,U=Object.keys(R.elements);w9e.flushSync(function(){c({styles:Ooe(U.map(function(V){return[V,R.styles[V]||{}]})),attributes:Ooe(U.map(function(V){return[V,R.attributes[V]]}))})})},requires:["computeStyles"]}},[]),p=rv.useMemo(function(){var C={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[d,{name:"applyStyles",enabled:!1}])};return(0,A9e.default)(i.current,C)?i.current||C:(i.current=C,C)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,d]),b=rv.useRef();return Noe(function(){b.current&&b.current.setOptions(p)},[p]),Noe(function(){if(!(e==null||t==null)){var C=r.createPopper||Voe,N=C(e,t,p);return b.current=N,function(){N.destroy(),b.current=null}}},[e,t,r.createPopper]),{state:b.current?b.current.state:null,styles:a.styles,attributes:a.attributes,update:b.current?b.current.update:null,forceUpdate:b.current?b.current.forceUpdate:null}};var Zdt=$n.div`
  border: 1px solid #ececed;
  border-radius: 4px;
  position: fixed;
  box-shadow: 0px 1px 5px 1px #0000001a;
  background-color: white;
  font-size: 14px;
  ${({width:n,zIndex:e})=>`
    width: ${n}px;
    z-index: ${e};
  `}
`,eht=$n.div`
  position: relative;
`,Cd=({open:n,setOpen:e,children:t,width:r=350,placement:i="right-start",referenceDiv:s,zIndex:o=10,xOffset:a=0,yOffset:c=10,disabled:d=!1})=>{let p=(0,hb.useRef)(null),[b,C]=(0,hb.useState)(null),{styles:N,attributes:R}=Woe(s?.current||p.current,b,{placement:i,modifiers:[{name:"offset",options:{offset:[a,c]}},{name:"preventOverflow",options:{altAxis:!0,padding:20,boundary:document.getElementsByTagName("body")[0]}},{name:"flip",options:{flipVariations:!1}}]});return g1(p,()=>e(!1)),hb.default.createElement(eht,{ref:p},n&&!d&&hb.default.createElement(Zdt,{width:r,ref:C,style:{...N.popper,position:"fixed"},...R.popper,zIndex:o},t))};m();var nz=xr(Rr());m();var tz=xr(Rr()),T9e=n=>tz.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,role:"img",...n},tz.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),tz.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}));var tht=$n.div`
  position: relative;
`,Qoe=$n.div`
  font-size: 14px;
  border: 1px solid #efefef;
  border-radius: 4px;
  padding: 3px 10px;
  cursor: pointer;
  color: #5f6368;
  display: flex;
  justify-content: space-between;
  text-transform: none;
  align-items: center;
  font-family: Arial;
  &:hover {
    border: 1px solid #ececed;
  }
  :focus {
    border-box: none;
    box-shadow: none;
    border: 1px solid #ececed;
    outline: none;
  }
  &[disabled] {
    cursor: default;
    background-color: #f6f6f6;
  }
`,F9e=$n.label`
  padding: 0px 10px;
  height: 30px;
  cursor: pointer;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  color: #5f6368;
  display: flex;
  align-items: center;
  &:hover {
    background-color: ${mi.dimension.fillLight};
  }
`,D9e=$n.span`
  margin-left: 8px;
`,nht=$n(T9e)`
  vertical-align: text-top;
  width: 20px;
  opacity: 70%;
  visibility: hidden;

  &.selected {
    visibility: visible;
  }
`,wd=({value:n,onChange:e,options:t,placeholder:r="Select",disabled:i=!1,valueEqual:s=(o,a)=>o===a})=>{let[o,a]=(0,nz.useState)(!1),c=(0,nz.useRef)(null),d=n!==void 0&&t.find(b=>s(b.value,n))?.label||r,p=b=>{e&&e(b),a(!1)};return g1(c,()=>{a(!1)}),v.createElement(tht,{ref:c},v.createElement(Qoe,{tabIndex:0,onClick:()=>!i&&a(!0)},d,v.createElement(n9,{width:"22px",height:"22px"})),v.createElement(Cd,{open:o,setOpen:a,placement:"bottom-start",width:200,maxHeight:500},v.createElement(Goe,{options:t,value:n,valueEqual:s,onChange:p})))};function Goe({options:n,value:e,onChange:t,valueEqual:r=(i,s)=>i===s}){return v.createElement(N9e,null,n.map((i,s)=>{let o=e!==void 0&&r(e,i.value);return v.createElement(F9e,{key:s,onClick:()=>t(i.value),className:o?"selected":""},v.createElement(rht,{type:"radio",defaultChecked:o}),v.createElement(nht,{className:o?"selected":""}),v.createElement(D9e,null,i.label))}))}function O9e({options:n}){return v.createElement(N9e,null,n.map((e,t)=>v.createElement(F9e,{key:t,onClick:()=>e.onSelect()},v.createElement(D9e,null,e.label))))}var rht=$n.input`
  width: 0;
  height: 0;
`,N9e=$n.div`
  font-size: 14px;
  font-family: Roboto;
  text-transform: none;
  font-weight: normal;
  width: 100%;
  padding: 10px 0;
  overflow-y: auto;
  max-height: 400px;
`;m();var _x=xr(w2()),Yoe=class{async readURL(){return""}},Koe=class{constructor(){this.name="dummy"}runSQL(){throw new Error("Dummy connection cannot run SQL.")}runSQLBlockAndFetchResultSchema(){throw new Error("Dummy connection cannot run SQL blocks.")}fetchSchemaForSQLBlocks(){throw new Error("Dummy connection cannot fetch schemas.")}fetchSchemaForTables(){throw new Error("Dummy connection cannot fetch schemas.")}isPool(){return!1}canPersist(){return!1}canFetchSchemaAndRunSimultaneously(){return!1}canStream(){return!1}canFetchSchemaAndRunStreamSimultaneously(){return!1}};async function pb(n,e){let r=await new _x.Runtime(new Yoe,new Koe)._loadModelFromModelDef(n).getModel();return(await _x.Malloy.compile({urlReader:new Yoe,connections:new _x.FixedConnectionMap(new Map([["dummy",new Koe]]),"dummy"),model:r,parse:_x.Malloy.parse({source:e})}))._modelDef}function Joe(n){return{name:"model",exports:[],contents:{[n.as||n.name]:n}}}async function bx(n,e){let t=`query: the_query is ${n.as||n.name} -> { group_by: one is 1; where: ${e}}`,r=Joe(n),s=(await pb(r,t)).contents.the_query;if(s.type!=="query")throw new Error("Expected the_query to be a query");let o=s.pipeline[0].filterList;if(o===void 0)throw new Error("Expected a filter list");return o[0]}async function R9e(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { group_by: ${e} is ${t} }`,i=Joe(n),o=(await pb(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definiton, not reference");if((0,_x.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}async function L9e(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { aggregate: ${e} is ${t} }`,i=Joe(n),o=(await pb(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definiton, not reference");if((0,_x.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}m();m();var Ad=({value:n,setValue:e,placeholder:t,autoFocus:r,onTab:i})=>v.createElement(iht,null,v.createElement(sht,null,v.createElement(wo,{action:"search",color:"other"})),v.createElement(oht,{type:"text",placeholder:t,value:n,onChange:o=>e(o.target.value),autoFocus:r,tabIndex:1,onKeyDown:o=>{o.key==="Tab"&&(i&&i(),o.stopPropagation(),o.preventDefault())}})),iht=$n.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  position: relative;
`,sht=$n.div`
  position: fixed;
  left: 15px;
  top: 9px;
  pointer-events: none;
`,oht=$n.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: none;
  padding: 3px 10px 1px 38px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;var Xoe=({directory:n,analysis:e,selectAnalysis:t})=>{let[r,i]=(0,mb.useState)(!1),[s,o]=(0,mb.useState)(""),a=(0,mb.useRef)(null),c=b=>{t(b),i(!1),o("")},d=(b,C)=>{let N=`${C.name}_analysis`,U=`import "${new URL(b.fullPath,"file:///")}"

 explore: ${N} is ${C.name} {}`;pb(b.modelDef,U).then(V=>{let P={type:"analysis",malloy:U,path:void 0,fullPath:void 0,modelFullPath:b.fullPath,sourceName:N,modelDef:V,id:`${b.fullPath}/${C.name}`,dataStyles:b.dataStyles};c(P)})},p=n?e?e.path?e.path.replace(/\.a\.malloy$/,""):e.sourceName:"Select analysis...":"Loading...";return v.createElement(v.Fragment,null,v.createElement(aht,{tabIndex:0,onClick:()=>i(!0),ref:a},p,v.createElement(n9,{width:"22px",height:"22px"})),v.createElement(Cd,{open:r,setOpen:i,referenceDiv:a,placement:"bottom-start"},v.createElement(mh,null,v.createElement(Ad,{value:s,setValue:o,placeholder:"Search"})),v.createElement(uht,null,n&&v.createElement(v.Fragment,null,s===""&&v.createElement(M9e,{directory:n,selectAnalysis:c,selectSource:d}),s!==""&&v.createElement(lht,{directory:n,searchTerm:s,selectAnalysis:c,selectSource:d})),!n&&v.createElement(kl,null,"Loading..."))))},aht=$n(Qoe)`
  border: none;
  &:hover {
    border: none;
  }
  :focus {
    border: none;
  }
`,uht=$n.div`
  max-height: 400px;
  overflow-y: auto;
  padding: 10px;
`,k9e=$n.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`,lht=({directory:n,searchTerm:e,selectAnalysis:t,selectSource:r})=>Zoe(n).map(s=>({item:s,rank:P9e(s,e)})).filter(({rank:s})=>s>0).sort(({rank:s},{rank:o})=>o-s).length===0?v.createElement(kl,null,"No results"):v.createElement(k9e,null,Zoe(n).map(s=>({item:s,rank:P9e(s,e)})).filter(({rank:s})=>s>0).sort(({rank:s},{rank:o})=>o-s).map(({item:s},o)=>s.type==="analysis"?v.createElement(Lo,{key:s.path||""+o,icon:v.createElement(wo,{action:"analysis",color:"dimension"}),onClick:()=>t(s),name:s.sourceName,color:"dimension"}):v.createElement(Lo,{icon:v.createElement(wo,{action:"analysis",color:"dimension"}),onClick:()=>r(s.model,s.source),name:s.source.name,key:s.source.name+o,color:"dimension",detail:s.model.path.replace(/\.malloy$/,"")})));function I9e(n){return{directory:3,model:2,analysis:1}[n.type]}function cht(n,e){return I9e(n)-I9e(e)}var M9e=({directory:n,selectAnalysis:e,selectSource:t})=>v.createElement(k9e,null,n.contents.sort(cht).map(r=>r.type==="directory"?v.createElement(fht,{directory:r,selectAnalysis:e,key:r.path,selectSource:t}):r.type==="analysis"?v.createElement(Lo,{key:r.path,icon:v.createElement(wo,{action:"analysis",color:"dimension"}),onClick:()=>e(r),name:r.sourceName,color:"dimension"}):r.type==="model"?v.createElement(dht,{model:r,selectAnalysis:e,key:r.path,selectSource:t}):null)),fht=({directory:n,selectAnalysis:e,selectSource:t})=>{let[r,i]=(0,mb.useState)(!1),s=rz(n);return v.createElement(v.Fragment,null,v.createElement(Lo,{icon:v.createElement(wo,{action:r?"container-open":"container-closed",color:"other"}),onClick:()=>i(!r),name:n.path,color:"other",detail:s.toString(),fullDetail:!0}),r&&s>0&&v.createElement(cy,null,v.createElement(M9e,{directory:n,selectAnalysis:e,selectSource:t})))},dht=({model:n,selectSource:e})=>{let[t,r]=(0,mb.useState)(!1),i=rz(n);return v.createElement(v.Fragment,null,v.createElement(Lo,{icon:v.createElement(wo,{action:t?"container-open":"container-closed",color:"other"}),onClick:()=>r(!t),name:n.path,color:"other",detail:rz(n).toString(),fullDetail:!0}),t&&i>0&&v.createElement(cy,null,n.sources.map(s=>v.createElement(Lo,{icon:v.createElement(wo,{action:"analysis",color:"dimension"}),onClick:()=>e(n,s),name:s.name,key:s.name,color:"dimension"}))))};function rz(n){return n.type==="directory"?n.contents.map(rz).reduce((e,t)=>e+t,0):n.type==="analysis"?1:n.sources.length}function Zoe(n){return n.contents.flatMap(e=>e.type==="directory"?Zoe(e):e.type==="analysis"?[e]:e.sources.map(t=>({type:"source",model:e,source:t})))}function P9e(n,e){let t=e.split(" ").map(s=>s.trim()).filter(s=>s.length>0),r=0,i=hht(n);for(let s of t)for(let o=0;o<i.length;o++){let a=i[o],c=i.length-o,d=a.split("_");a.toLowerCase().includes(s.toLowerCase())&&(r+=c),a.toLowerCase()===s.toLowerCase()&&(r+=c*10),a.toLowerCase().startsWith(s.toLowerCase())&&(r+=c*6),d.some(p=>p.toLowerCase().startsWith(s.toLowerCase()))&&(r+=c)}return r}function hht(n){return n.type==="analysis"?[n.path||"",n.sourceName]:[n.source.name,n.model.path]}var xLe=xr(wwe());m();function dpt(n){return n?n.fullPath?`top_values/analysis/${n.fullPath}`:`top_values/model/${n.modelFullPath}/source/${n.sourceName}`:"top_values/undefined"}async function hpt(n){if(n===void 0)return;let e=n&&n.modelDef.contents[n.sourceName];if(_0())return bCe(e,n.fullPath||n.modelFullPath);if(Ph()){let r=await window.malloy.topValues(e,n.fullPath||n.modelFullPath);if(r instanceof Error)throw r;return r}return(await(await fetch("api/top_values",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:e,analysisPath:n.fullPath||n.modelFullPath})})).json()).result}function Awe(n){let{data:e}=im(dpt(n),()=>hpt(n),{refetchOnWindowFocus:!1});return e}m();var Twe=xr(Rr());function Fwe(){let[n,e]=(0,Twe.useState)(),{mutateAsync:t,isLoading:r}=a_(()=>window.malloy.openDirectory(),{});return{openDirectory:n,beginOpenDirectory:async()=>{let s=await t();if(s instanceof Error)throw s;let o=s;o!=null&&e(o)},isOpeningDirectory:r}}m();m();var zFe=xr(Rr());m();m();var Dx=xr(Rr());m();m();m();m();var fae=xr(Rr());m();m();m();m();var ov=({fieldPath:n,topValues:e,filterExpression:t,definition:r})=>{let i=e?.find(s=>s.fieldName===n);return v.createElement(Kl,null,v.createElement(ppt,null,v.createElement(xpt,null,n&&v.createElement(xz,null,v.createElement("div",null,"Path"),v.createElement(lae,null,n.length<=32?n:v.createElement(Dwe,{path:n.split(".")}))),r&&v.createElement(xz,null,v.createElement("div",null,"Definition"),v.createElement(lae,null,r)),t&&v.createElement(xz,null,v.createElement("div",null,"Filter"),v.createElement(lae,null,t)),i&&v.createElement(xz,null,v.createElement("div",null,"Top Values"),i.values.slice(0,8).map(s=>v.createElement(bpt,{key:s.fieldValue},v.createElement(ypt,null,v.createElement(_pt,null,s.fieldValue===null?v.createElement(mpt,null,"\u2205"):s.fieldValue)),v.createElement(vpt,null,hI(s.weight))))))))},ppt=$n(_f)`
  padding: 20px;
  background-color: rgb(248, 248, 248);
`,mpt=$n.span``,lae=$n.div`
  color: #505050;
  font-weight: normal;
  font-family: Roboto Mono;
  font-weight: normal;
  font-size: 14px;
  text-transform: none;
  overflow-wrap: break-word;
  padding: 4px 0px;
`,xpt=$n.div`
  display: flex;
  gap: 15px;
  flex-direction: column;
`,xz=$n.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,Dwe=({path:n,top:e=!0})=>v.createElement("div",null,e?"":".",n[0],n.length>1&&v.createElement(gpt,null,v.createElement(Dwe,{path:n.slice(1),top:!1}))),gpt=$n.div`
  margin-left: 10px;
`,ypt=$n.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #505050;
`,vpt=$n.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
  color: #9aa0a6;
`,_pt=$n.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,bpt=$n.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 0px;
  text-align: left;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto"
  font-weight: normal;;
`;m();m();var gb=xr(Rr());var av=({popoverContent:n,content:e,width:t,enabled:r=!0,zIndex:i=11})=>{let[s,o]=(0,gb.useState)(!1),a=(0,gb.useRef)(!1),c=(0,gb.useRef)(null),d=()=>{a.current=!0,o(!1)};return(0,gb.useEffect)(()=>{a.current=!1},[s]),v.createElement(Ept,{onMouseEnter:()=>!a.current&&o(!0),onMouseLeave:d},v.createElement("div",{ref:c},e({isOpen:s,closeMenu:d})),(()=>{let p=n({setOpen:o,closeMenu:d});return v.createElement(Cd,{open:r&&s&&p!==null,setOpen:o,referenceDiv:c,zIndex:i,width:t},p)})())},Ept=$n.div`
  position: relative;
`;m();m();m();var xy=xr(Rr()),Owe=n=>xy.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},xy.createElement("title",null,"type-icon-on-off"),xy.createElement("g",{id:"type-icon-on-off",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},xy.createElement("g",{id:"Group-Copy",transform:"translate(4.295444, 4.604157)",fill:"#4285f4",fillRule:"nonzero"},xy.createElement("path",{d:"M1.61912392,3.08712961 L5.78998715,3.08712961 C6.6842046,3.08712961 7.40911107,2.39605211 7.40911107,1.54356481 C7.40911107,0.691077503 6.6842046,0 5.78998715,0 L1.61912392,0 C0.724906472,0 0,0.691077503 0,1.54356481 C0,2.39605211 0.724906472,3.08712961 1.61912392,3.08712961 Z M1.61912392,0.617425922 L5.78998715,0.617425922 C6.32651762,0.617425922 6.7614615,1.03207242 6.7614615,1.54356481 C6.7614615,2.05505719 6.32651762,2.46970369 5.78998715,2.46970369 L1.61912392,2.46970369 C1.08259345,2.46970369 0.647649569,2.05505719 0.647649569,1.54356481 C0.647649569,1.03207242 1.08259345,0.617425922 1.61912392,0.617425922 Z",id:"Shape-Copy-20"}),xy.createElement("path",{d:"M1.83745135,2.13685198 C2.08762004,2.13888594 2.31428875,1.98975367 2.4114368,1.75920941 C2.50858486,1.52866515 2.45700749,1.2622842 2.28082919,1.08466199 C2.10465088,0.907039785 1.83869956,0.853289683 1.60736972,0.948552441 C1.37603988,1.0438152 1.22505383,1.26925874 1.22505383,1.51943543 C1.22505383,1.85847446 1.49842318,2.13409557 1.83745135,2.13685198 L1.83745135,2.13685198 Z",id:"Path-Copy-14"}),xy.createElement("path",{d:"M5.78998714,3.70455553 L1.6191239,3.70455553 C0.724906454,3.70455553 0,4.39563305 0,5.24812034 C0,6.10060763 0.724906454,6.79168514 1.6191239,6.79168514 L5.78998714,6.79168514 C6.68420459,6.79168514 7.40911107,6.10060764 7.40911107,5.24812034 C7.40911107,4.39563304 6.68420459,3.70455553 5.78998714,3.70455553 L5.78998714,3.70455553 Z M5.78998714,6.17425922 L1.6191239,6.17425922 C1.08259342,6.17425922 0.647649538,5.75961272 0.647649538,5.24812034 C0.647649538,4.73662796 1.08259342,4.32198146 1.6191239,4.32198146 L5.78998714,4.32198146 C6.32651761,4.32198146 6.7614615,4.73662796 6.7614615,5.24812034 C6.7614615,5.75961272 6.32651761,6.17425922 5.78998714,6.17425922 L5.78998714,6.17425922 Z",id:"Shape-Copy-21"}),xy.createElement("path",{d:"M5.54392378,4.67774545 C5.2937551,4.6757115 5.06708639,4.82484377 4.96993833,5.05538803 C4.87279028,5.28593228 4.92436765,5.55231324 5.10054595,5.72993544 C5.27672426,5.90755765 5.54267558,5.96130775 5.77400542,5.86604499 C6.00533526,5.77078224 6.15632131,5.5453387 6.15632131,5.295162 C6.15632131,4.95612297 5.88295196,4.68050187 5.54392378,4.67774545 Z",id:"Path-Copy-15"}))));m();var f9=xr(Rr()),cae=n=>f9.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},f9.createElement("title",null,"type-icon-date"),f9.createElement("g",{id:"type-icon-date",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},f9.createElement("g",{id:"Group-Copy-22",transform:"translate(4.753763, 4.094719)",fill:"#4285f4",fillRule:"nonzero"},f9.createElement("path",{d:"M5.84322609,0.649247344 L5.51860242,0.649247344 L5.51860242,0 L4.86935508,0 L4.86935508,0.649247344 L1.62311836,0.649247344 L1.62311836,0 L0.973871015,0 L0.973871015,0.649247344 L0.649247344,0.649247344 C0.292161305,0.649247344 0,0.941408648 0,1.29849469 L0,6.49247344 C0,6.84955947 0.292161305,7.14172078 0.649247344,7.14172078 L5.84322609,7.14172078 C6.20031213,7.14172078 6.49247344,6.84955947 6.49247344,6.49247344 L6.49247344,1.29849469 C6.49247344,0.941408648 6.20031213,0.649247344 5.84322609,0.649247344 Z M5.84322609,6.49247344 L0.649247344,6.49247344 L0.649247344,2.2723657 L5.84322609,2.2723657 L5.84322609,6.49247344 Z",id:"Shape"}))));m();var HO=xr(Rr()),Nwe=n=>HO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},HO.createElement("title",null,"type-icon-number"),HO.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},HO.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#4285f4",fillRule:"nonzero"})));m();var VO=xr(Rr()),Rwe=n=>VO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},VO.createElement("title",null,"type-icon-string"),VO.createElement("g",{id:"type-icon-string",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},VO.createElement("path",{d:"M4.8045,10.45 L5.2245,9.253 L7.1425,9.253 L7.5625,10.45 L8.6055,10.45 L6.7225,5.438 L5.6375,5.438 L3.7615,10.45 L4.8045,10.45 Z M6.8345,8.385 L5.5255,8.385 L5.9735,7.125 L6.1555,6.523 L6.2115,6.523 L6.3935,7.125 L6.8345,8.385 Z M10.2505,10.562 C10.4791667,10.562 10.681,10.5176667 10.856,10.429 C11.031,10.3403333 11.1721667,10.226 11.2795,10.086 L11.2795,10.086 L11.3355,10.086 L11.3355,10.45 L12.2385,10.45 L12.2385,8.252 C12.2385,7.76666667 12.0961667,7.398 11.8115,7.146 C11.5268333,6.894 11.1115,6.768 10.5655,6.768 C10.2575,6.768 9.97283333,6.82866667 9.7115,6.95 C9.45016667,7.07133333 9.23316667,7.244 9.0605,7.468 L9.0605,7.468 L9.6485,7.93 C9.75116667,7.804 9.88066667,7.7025 10.037,7.6255 C10.1933333,7.5485 10.3555,7.51 10.5235,7.51 C10.7708333,7.51 10.968,7.57066667 11.115,7.692 C11.262,7.81333333 11.3355,7.972 11.3355,8.168 L11.3355,8.168 L11.3355,8.322 C11.0741667,8.21466667 10.7591667,8.161 10.3905,8.161 C10.1245,8.161 9.88183333,8.21 9.6625,8.308 C9.44316667,8.406 9.2705,8.546 9.1445,8.728 C9.0185,8.91 8.9555,9.12 8.9555,9.358 C8.9555,9.71733333 9.07683333,10.0078333 9.3195,10.2295 C9.56216667,10.4511667 9.8725,10.562 10.2505,10.562 Z M10.4675,9.848 C10.2761667,9.848 10.1291667,9.8025 10.0265,9.7115 C9.92383333,9.6205 9.8725,9.50266667 9.8725,9.358 C9.8725,9.00333333 10.1105,8.826 10.5865,8.826 C10.8478333,8.826 11.0975,8.882 11.3355,8.994 C11.3355,9.22266667 11.2573333,9.42216667 11.101,9.5925 C10.9446667,9.76283333 10.7335,9.848 10.4675,9.848 Z",id:"Aa-Copy",fill:"#4285f4",fillRule:"nonzero"})));m();var WO=xr(Rr()),Lwe=n=>WO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},WO.createElement("title",null,"type-icon-projection"),WO.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},WO.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var QO=xr(Rr()),kwe=n=>QO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},QO.createElement("title",null,"type-icon-number"),QO.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},QO.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#ea8600",fillRule:"nonzero"})));var O2=({type:n,kind:e})=>{let t={width:"22px",height:"22px"};if(e==="measure")return v.createElement(kwe,{...t});if(n==="string")return v.createElement(Rwe,{...t});if(n==="boolean")return v.createElement(Owe,{...t});if(n==="number")return v.createElement(Nwe,{...t});if(n==="date")return v.createElement(cae,{...t});if(n==="timestamp")return v.createElement(cae,{...t});if(n==="query")return v.createElement(Lwe,{...t});if(n==="source")return v.createElement($$,{...t});throw new Error("Invalid icon type")};var d9=({searchTerm:n,items:e,topValues:t})=>{let r=e.map(s=>({item:s,rank:Cpt(s.terms,n)})).filter(({rank:s})=>s>0).sort(({rank:s},{rank:o})=>o-s);return{searchList:v.createElement(Spt,null,r.map(({item:s})=>{if(s.item.type==="field"){let o=s.item,a=zA(s.item.field);return v.createElement(av,{width:300,key:s.key,content:()=>v.createElement(Lo,{icon:v.createElement(O2,{type:a,kind:o.kind}),onClick:s.select,name:o.name,color:o.kind,detail:s.detail}),popoverContent:()=>v.createElement(ov,{fieldPath:o.path,topValues:t})})}else return v.createElement("div",null)}),r.length===0&&v.createElement(kl,null,"No results")),count:r.length}},gy=n=>{let{searchList:e}=d9(n);return e},Spt=$n.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function Cpt(n,e){let t=e.split(" ").map(i=>i.trim()).filter(i=>i.length>0),r=0;for(let i of t)for(let s=0;s<n.length;s++){let o=n[s],a=n.length-s,c=o.split("_");o.toLowerCase().includes(i.toLowerCase())&&(r+=a),o.toLowerCase()===i.toLowerCase()&&(r+=a*10),o.toLowerCase().startsWith(i.toLowerCase())&&(r+=a*6),c.some(d=>d.toLowerCase().startsWith(i.toLowerCase()))&&(r+=a)}return r}m();m();var h9=xr(Rr());m();var yy=xr(Rr()),Iwe=n=>yy.createElement("svg",{width:"25px",height:"25px",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},yy.createElement("title",null,"malloy-icon-status-progress"),yy.createElement("defs",null,yy.createElement("circle",{id:"path-1",cx:7.5,cy:7.5,r:7.5}),yy.createElement("mask",{id:"mask-2",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:0,y:0,width:15,height:15,fill:"white"},yy.createElement("use",{xlinkHref:"#path-1"}))),yy.createElement("g",{id:"malloy-icon-status-progress",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeDasharray:16},yy.createElement("use",{id:"Oval-Copy-3",stroke:"#4285F4",className:"primarystroke",mask:"url(#mask-2)",strokeWidth:3,transform:"translate(7.500000, 7.500000) rotate(-240.000000) translate(-7.500000, -7.500000) ",xlinkHref:"#path-1"})));var N2=({text:n})=>h9.default.createElement(Fpt,null,h9.default.createElement(Dpt,null,h9.default.createElement(Tpt,null,n),h9.default.createElement(Mwe,{size:25}))),Mwe=({size:n,color:e})=>h9.default.createElement(Apt,{size:n,color:e||"dimension",width:n+"px",height:n+"px"}),wpt=epe`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,Apt=$n(Iwe)`
  ${({size:n,color:e})=>`
    width: ${n}px;
    height: ${n}px;

    .primarystroke {
      stroke: ${mi[e].fillStrong}
    }
  `}
  animation: ${wpt} 2s infinite linear;
`,Tpt=$n.div`
  margin-bottom: 10px;
  color: #505050;
  font-size: 15px;
`,Fpt=$n.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
  width: 100%;
  height: 100%;
`,Dpt=$n.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`;var Xl=({actions:n,closeMenu:e,searchItems:t,valueSearchSource:r,valueSearchAnalysisPath:i,topValues:s,addFilter:o})=>{let[a,c]=(0,fae.useState)(n.length===1&&n[0].kind==="sub_menu"?n[0]:void 0),[d,p]=(0,fae.useState)(""),{searchResults:b,isLoading:C}=ib(r,i,d),N=b&&b.filter(G=>G.fieldType==="string").slice(0,100),R=t!==void 0,{searchList:U,count:V}=d9({searchTerm:d,items:t||[],topValues:s}),P=N?.length||0,$=V>0,M=P>0||C;return v.createElement(Opt,null,a===void 0&&v.createElement(v.Fragment,null,R&&v.createElement(mh,null,v.createElement(Ad,{value:d,setValue:p,placeholder:"Search",autoFocus:!0})),v.createElement(Pwe,null,d===""&&v.createElement(Il,null,v.createElement(Lpt,null,n.filter(G=>G.isEnabled!==!1).map(G=>v.createElement(Npt,{key:G.id,color:G.iconColor,onClick:()=>{G.kind==="one_click"?(G.onClick(),e()):c(G)}},v.createElement(wo,{action:G.iconName,color:G.iconColor}),v.createElement(Rpt,null,G.label))))),d!==""&&v.createElement(v.Fragment,null,$&&v.createElement(Kl,{style:{borderBottom:$?"1px solid #efefef":"",maxHeight:M?"200px":"300px"}},v.createElement(Il,null,U)),M&&r&&v.createElement(Kl,{style:{borderBottom:"1px solid #efefef",maxHeight:$?"200px":"300px"}},v.createElement(Il,null,N&&N.length>0&&N.map((G,ae)=>v.createElement(Lo,{key:ae,name:G.fieldValue,detail:G.fieldName,icon:v.createElement(wo,{action:"filter"}),color:"filter",onClick:()=>{bx(r,`${G.fieldName} = '${G.fieldValue}'`).then(I=>{o&&o(I),e()})}})),N!==void 0&&N.length===0&&v.createElement(kl,null,"No value results"),C&&v.createElement(kl,null,v.createElement(N2,{text:"Loading value results..."})))),!M&&!$&&v.createElement(kl,null,"No results")))),a!==void 0&&v.createElement(v.Fragment,null,v.createElement(Pwe,null,a.Component({onComplete:()=>{a.closeOnComplete?e():c(void 0)}}))))},Opt=$n.div``,Npt=$n.button`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  font-size: 14px;
  cursor: pointer;
  width: 100%;
  display: flex;
  justify-content: flex-start;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";
  color: #353535;

  ${({color:n})=>`
    &:hover {
      background-color: ${mi[n].fillLight};
    }
  `}
`,Rpt=$n.div``,Lpt=$n.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
`,Pwe=$n.div`
  flex-direction: column;
  display: flex;
`;m();m();var yb=xr(Rr());m();m();var gz=xr(Rr());var Ba=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,autoSelect:s})=>{let o=(0,gz.useRef)(null);return(0,gz.useEffect)(()=>{s&&o.current&&o.current.select()},[s]),v.createElement(zC,null,r&&v.createElement(Z5,null,r),v.createElement(kpt,{ref:o,type:"text",placeholder:t,value:n,onChange:a=>e(a.target.value),autoFocus:i}))},kpt=$n.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;m();var $we=xr(Rr());m();function Cx(n,e){if(e.length===0)throw new Error("Alternation must have some values");return e.join(" "+n+" ")}function dae(n,e){switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${n} = ${Cx("|",e.values.map(t=>t.toString()))}`;case"is_not_equal_to":return e.values.length===0?"true":`${n} != ${Cx("&",e.values.map(t=>t.toString()))}`;case"is_between":return`${n}: ${e.lowerBound} to ${e.upperBound}`;case"is_greater_than":return`${n} > ${e.value}`;case"is_less_than":return`${n} < ${e.value}`;case"is_greater_than_or_equal_to":return`${n} >= ${e.value}`;case"is_less_than_or_equal_to":return`${n} <= ${e.value}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function hae(n,e){switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${n} = ${Cx("|",e.values.map(uv))}`;case"is_not_equal_to":return e.values.length===0?"true":`${n} != ${Cx("&",e.values.map(uv))}`;case"contains":return e.values.length===0?"true":`${n} ~ ${Cx("|",e.values.map(p9).map(t=>`%${t}%`).map(uv))}`;case"does_not_contain":return e.values.length===0?"true":`${n} !~ ${Cx("&",e.values.map(p9).map(t=>`%${t}%`).map(uv))}`;case"starts_with":return e.values.length===0?"true":`${n} ~ ${Cx("|",e.values.map(p9).map(t=>`${t}%`).map(uv))}`;case"does_not_start_with":return e.values.length===0?"true":`${n} !~ ${Cx("&",e.values.map(p9).map(t=>`${t}%`).map(uv))}`;case"ends_with":return e.values.length===0?"true":`${n} ~ ${Cx("|",e.values.map(p9).map(t=>`%${t}`).map(uv))}`;case"does_not_end_with":return e.values.length===0?"true":`${n} !~ ${Cx("&",e.values.map(p9).map(t=>`%${t}`).map(uv))}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"is_blank":return`${n} = ''`;case"is_not_blank":return`${n} != ''`;case"custom":return`${n}: ${e.partial}`}}function pae(n,e){switch(e.type){case"is_false":return`not ${n}`;case"is_true":return`${n}`;case"is_true_or_null":return`${n}: true | null`;case"is_false_or_null":return`${n}: false | null`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function mae(n,e){switch(e.type){case"is_in_the_past":return`${n}: now - ${e.amount} ${e.unit} for ${e.amount} ${e.unit}`;case"is_last":return`${n}.${e.period} = now.${e.period} - 1 ${e.period}`;case"is_this":return`${n}.${e.period} = now.${e.period}`;case"is_on":return`${n}.${e.granularity} = ${GO(e.date,e.granularity)}`;case"is_after":return`${n}.${e.granularity} > ${GO(e.date,e.granularity)}`;case"is_before":return`${n}.${e.granularity} > ${GO(e.date,e.granularity)}`;case"is_between":return`${n}.${e.granularity}: ${GO(e.start,e.granularity)} to ${GO(e.end,e.granularity)}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function p9(n){return n.replace(/%/g,"%%")}function uv(n){return`'${n}'`}function GO(n,e){switch(e){case"year":return`@${Eu(n.getUTCFullYear(),4)}`;case"quarter":{let t=Eu(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`@${t}-Q${r}`}case"month":{let t=Eu(n.getUTCFullYear(),2),r=Eu(n.getUTCMonth()+1,2);return`@${t}-${r}`}case"week":{let t=Eu(n.getUTCFullYear(),2),r=Eu(n.getUTCMonth()+1,2),i=Eu(n.getUTCDate(),2);return`@WK${t}-${r}-${i}`}case"day":{let t=Eu(n.getUTCFullYear(),2),r=Eu(n.getUTCMonth()+1,2),i=Eu(n.getUTCDate(),2);return`@${t}-${r}-${i}`}case"hour":{let t=Eu(n.getUTCFullYear(),2),r=Eu(n.getUTCMonth()+1,2),i=Eu(n.getUTCDate(),2),s=Eu(n.getUTCHours(),2);return`@${t}-${r}-${i} ${s}:00 for 1 hour`}case"minute":{let t=Eu(n.getUTCFullYear(),2),r=Eu(n.getUTCMonth()+1,2),i=Eu(n.getUTCDate(),2),s=Eu(n.getUTCHours(),2),o=Eu(n.getUTCMinutes(),2);return`@${t}-${r}-${i} ${s}:${o}`}case"second":{let t=Eu(n.getUTCFullYear(),2),r=Eu(n.getUTCMonth()+1,2),i=Eu(n.getUTCDate(),2),s=Eu(n.getUTCHours(),2),o=Eu(n.getUTCMinutes(),2),a=Eu(n.getUTCSeconds(),2);return`@${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}function Eu(n,e){return n.toString().padStart(e,"0")}function Bwe(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":case"starts_with":case"does_not_start_with":case"contains":case"does_not_contain":case"ends_with":case"does_not_end_with":return{type:e,values:"values"in n?n.values:[]};case"is_blank":case"is_not_blank":case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function jwe(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":return{type:e,values:"values"in n?n.values:"value"in n?[n.value]:"lowerBound"in n?[n.lowerBound]:[]};case"is_greater_than":case"is_less_than":case"is_greater_than_or_equal_to":case"is_less_than_or_equal_to":return{type:e,value:"value"in n?n.value:"values"in n&&n.values[0]||0};case"is_between":return{type:e,lowerBound:"value"in n?n.value:"values"in n&&n.values[0]||0,upperBound:0};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function qwe(n,e){switch(e){case"is_in_the_past":return{type:e,unit:"days",amount:7};case"is_last":case"is_this":return{type:e,period:"day",amount:1};case"is_on":case"is_after":case"is_before":return{type:e,granularity:"granularity"in n?n.granularity:"day",date:"date"in n?n.date:"start"in n?n.start:new Date};case"is_between":return{type:e,granularity:"granularity"in n?n.granularity:"day",start:"date"in n?n.date:new Date,end:new Date};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function Uwe(n,e){switch(e){case"custom":return{type:e,partial:""};default:return{type:e}}}m();var vy=xr(Rr());var R2=({values:n,setValues:e,autoFocus:t,placeholder:r,type:i="text",value:s,setValue:o,focusElement:a})=>{let[c,d]=(0,vy.useState)(""),[p,b]=(0,vy.useState)(!1),C=(0,vy.useRef)(null),N=(0,vy.useRef)(null),[R,U]=(0,vy.useState)(void 0),V=s||c,P=o||d;(0,vy.useEffect)(()=>{let M=G=>{if(G.key==="Backspace"){if(R!==void 0){let ae=[...n];ae.splice(R,1),e(ae),R===0?n.length===1?(U(void 0),C.current?.focus()):U(0):U(R-1)}}else G.key==="ArrowRight"?R===n.length-1?(U(void 0),C.current?.focus()):R!==void 0&&U(R+1):G.key==="ArrowLeft"?R!==void 0&&R>0&&U(R-1):C.current?.focus()};return window.addEventListener("keyup",M),()=>window.removeEventListener("keyup",M)});let $=()=>{V.length>0&&(e([...n,V]),P(""))};return g1(a?[N,a]:N,()=>{b(!1),$()}),v.createElement(Ipt,{onClick:()=>C.current?.focus(),isFocused:p||R!==void 0,ref:N},n.map((M,G)=>v.createElement(Mpt,{key:G,isSelected:R===G,onClick:ae=>{U(G),ae.stopPropagation()}},M)),v.createElement(Ppt,{ref:C,type:i,placeholder:n.length===0?r:"",value:V,size:1,onChange:M=>{P(M.target.value)},onKeyDown:M=>{M.key==="Enter"&&V!==""&&($(),M.stopPropagation(),M.preventDefault())},onKeyUp:M=>{M.key==="Backspace"?V===""&&n.length>0&&($(),C.current?.blur(),U(n.length-1)):M.key==="ArrowLeft"&&(C.current?.selectionStart===0||C.current?.selectionStart===null)&&($(),C.current?.blur(),U(n.length-1),M.preventDefault(),M.stopPropagation())},onFocus:()=>{b(!0),U(void 0)},autoFocus:t}))},Ipt=$n.div`
  font-family: Roboto;
  font-size: 14px;
  font-weight: normal;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 2px 3px;
  outline: none;
  display: flex;
  overflow: hidden;
  gap: 3px;
  flex-wrap: wrap;

  ${({isFocused:n})=>n?"border-color: #4285F4;":""}
`,Mpt=$n.div`
  ${({isSelected:n})=>`
    border: 1px solid ${n?mi.dimension.fillStrong:mi.dimension.fillMedium};
    background-color: ${n?mi.dimension.fillMedium:mi.dimension.fillLight};
  `}

  border-radius: 5px;
  color: ${mi.dimension.fillStrong};
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 1px 5px;
  text-transform: none;
  cursor: pointer;
  height: 20px;
`,Ppt=$n.input`
  border: none;
  outline: none;
  font-family: Roboto;
  font-size: 14px;
  min-width: 95px;
  padding: 3.75px 7px;
  flex-grow: 1;
`,Hkt=$n(e9)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${mi[n].fillStrong};
      }
    `}
`;m();var zwe=({source:n,filter:e,setFilter:t,fieldPath:r,analysisPath:i})=>{let s=U=>{t(Bwe(e,U))},o=qpt(n,e,t,r,i),a=Upt(e,t),c=$pt(e,t),d=zpt(e,t),p=Hpt(e,t),b=Vpt(e,t),C=Wpt(e,t),N=Qpt(e,t),R=!!(o.util||a.util||c.util||d.util||p.util||b.util||C.util||N.util);return v.createElement("div",null,v.createElement(Bpt,null,v.createElement(wd,{value:e.type,onChange:s,options:[{value:"is_equal_to",label:"Is"},{value:"starts_with",label:"Starts with"},{value:"ends_with",label:"Ends with"},{value:"contains",label:"Contains"},{value:"is_blank",label:"Blank"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Is not"},{value:"does_not_start_with",label:"Does not start with"},{value:"does_not_end_with",label:"Does not end with"},{value:"does_not_contain",label:"Does not contain"},{value:"is_not_blank",label:"Not blank"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),o.builder,a.builder,c.builder,d.builder,p.builder,b.builder,C.builder,N.builder),R&&v.createElement(jpt,null,o.util,a.util,c.util,d.util,p.util,b.util,C.util,N.util))},Bpt=$n.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  padding: 0 15px;
`,jpt=$n.div`
  margin-top: 15px;
  border-top: 1px solid #efefef;
  border-bottom: 1px solid #efefef;
`;function qpt(n,e,t,r,i){let[s,o]=(0,$we.useState)(""),{searchResults:a,isLoading:c}=ib(n,i,s,r);if(e.type!=="is_equal_to"&&e.type!=="is_not_equal_to")return{builder:null,util:null};let d=v.createElement(R2,{values:e.values,setValues:b=>t({...e,values:b}),placeholder:"Values...",value:s,setValue:o}),p=v.createElement(Kl,null,v.createElement(Il,null,a&&a.length>0&&a.map((b,C)=>v.createElement(Lo,{key:C,name:b.fieldValue,detail:hI(b.weight),icon:v.createElement(wo,{action:"filter"}),color:"filter",onClick:()=>{t({...e,values:[...e.values,b.fieldValue]}),o("")},fullDetail:!0})),a!==void 0&&a.length===0&&v.createElement(kl,null,"No value results"),c&&v.createElement(kl,null,v.createElement(N2,{text:"Loading value results..."}))));return{builder:d,util:p}}function Upt(n,e){return n.type!=="contains"?{builder:null,util:null}:{builder:v.createElement(R2,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function $pt(n,e){return n.type!=="does_not_contain"?{builder:null,util:null}:{builder:v.createElement(R2,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function zpt(n,e){return n.type!=="starts_with"?{builder:null,util:null}:{builder:v.createElement(R2,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Hpt(n,e){return n.type!=="does_not_start_with"?{builder:null,util:null}:{builder:v.createElement(R2,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Vpt(n,e){return n.type!=="ends_with"?{builder:null,util:null}:{builder:v.createElement(R2,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Wpt(n,e){return n.type!=="does_not_end_with"?{builder:null,util:null}:{builder:v.createElement(R2,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Qpt(n,e){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(Ba,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}),util:null}}m();m();m();var yz=xr(Rr());var C1=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i})=>{let[s,o]=(0,yz.useState)(n.toString());return(0,yz.useEffect)(()=>{o(n.toString())},[n]),v.createElement(zC,null,r&&v.createElement(Z5,null,r),v.createElement(Gpt,{type:"number",placeholder:t,value:s,size:1,onChange:a=>{let c=a.target.value;o(c);let d=parseFloat(c);Number.isNaN(d)||e(d)},autoFocus:i}))},Gpt=$n.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
    background-color: ${mi.dimension.fillLight};
  }
`;var Hwe=({filter:n,setFilter:e})=>{let t=N=>{e(jwe(n,N))},r=v.createElement(wd,{value:n.type,onChange:t,options:[{value:"is_equal_to",label:"Equal to"},{value:"is_greater_than",label:"Greater than"},{value:"is_less_than",label:"Less than"},{value:"is_greater_than_or_equal_to",label:"Greater than or equal to"},{value:"is_less_than_or_equal_to",label:"Less than or equal to"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Not equal to"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),i=Kpt(n,e,r),s=Jpt(n,e,r),o=Xpt(n,e,r),a=Zpt(n,e,r),c=e1t(n,e,r),d=t1t(n,e,r),p=n1t(n,e,r),b=r1t(n,e,r),C=n.type==="is_null"||n.type==="is_not_null"?v.createElement("div",{style:{width:"100%"}},r):null;return v.createElement(Ypt,null,i.builder,s.builder,o.builder,a.builder,c.builder,d.builder,p.builder,b.builder,C)},Ypt=$n.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,YO=$n.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,vz=$n.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function Kpt(n,e,t){return n.type!=="is_equal_to"?{builder:null,util:null}:{builder:v.createElement(vz,null,t,v.createElement(R2,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function Jpt(n,e,t){return n.type!=="is_not_equal_to"?{builder:null,util:null}:{builder:v.createElement(vz,null,t,v.createElement(R2,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function Xpt(n,e,t){return n.type!=="is_greater_than"?{builder:null,util:null}:{builder:v.createElement(YO,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},t),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(C1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function Zpt(n,e,t){return n.type!=="is_less_than"?{builder:null,util:null}:{builder:v.createElement(YO,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},t),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(C1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function e1t(n,e,t){return n.type!=="is_greater_than_or_equal_to"?{builder:null,util:null}:{builder:v.createElement(YO,null,v.createElement("div",{style:{width:"80%",flexShrink:1}},t),v.createElement("div",{style:{width:"20%",flexShrink:1}},v.createElement(C1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function t1t(n,e,t){return n.type!=="is_less_than_or_equal_to"?{builder:null,util:null}:{builder:v.createElement(YO,null,v.createElement("div",{style:{width:"70%",flexShrink:1}},t),v.createElement("div",{style:{width:"30%",flexShrink:1}},v.createElement(C1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function n1t(n,e,t){return n.type!=="is_between"?{builder:null,util:null}:{builder:v.createElement(vz,null,t,v.createElement(YO,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(C1,{value:n.lowerBound,setValue:i=>e({...n,lowerBound:i})})),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(C1,{value:n.upperBound,setValue:i=>e({...n,upperBound:i})}))))}}function r1t(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(vz,null,t,v.createElement(Ba,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}m();var _y=xr(Rr());m();m();var _z=xr(gae()),bz=xr(Rr());var KO=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,granularity:s,onFocus:o,onBlur:a,isActive:c})=>{let d=s==="year"?"YYYY":s==="month"?"YYYY-MM":s==="quarter"?"YYYY-[Q]Q":s==="week"?"[WK]YYYY-MM-DD":s==="day"?"YYYY-MM-DD":s==="hour"?"YYYY-MM-DD HH:00":s==="minute"?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss",[p,b]=(0,bz.useState)((0,_z.default)(n).format(d));return(0,bz.useEffect)(()=>{b((0,_z.default)(n).format(d))},[n,d]),v.createElement(zC,null,r&&v.createElement(Z5,null,r),v.createElement(i1t,{type:"text",placeholder:t||d,value:p,onFocus:o,onBlur:a,isActive:c,onChange:C=>{let N=C.target.value;b(N);let R=s==="year"?/\d\d\d\d/:s==="month"?/\d\d-\d\d\d\d/:s==="quarter"?/\d\d\d\d-Q\d/:s==="week"?/WK\d\d-\d\d-\d\d\d\d/:s==="day"?/\d\d-\d\d-\d\d\d\d/:s==="hour"?/\d\d-\d\d-\d\d\d\d \d\d:00/:s==="minute"?/\d\d-\d\d-\d\d\d\d \d\d:\d\d/:/\d\d-\d\d-\d\d\d\d \d\d:\d\d:\d\d/;if(N.match(R)){let U=(0,_z.default)(N,d);U.isValid()&&e(U.toDate())}},autoFocus:i}))},i1t=$n.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  ${({isActive:n})=>`
    border: 1px solid ${n?mi.dimension.fillStrong:"#efefef"};
    background-color: ${n?mi.dimension.fillLight:"white"};
    color: ${n?mi.dimension.fillStrong:"#505050"};
  `}

  &:focus {
    border-color: #4285f4;
    background-color: ${mi.dimension.fillLight};
  }
`;m();m();var x9=xr(Rr()),zo=xr(gae());function Vwe(n){return["year","quarter","month","week","day","hour","minute","second"].indexOf(n)}function s1t(n){return["January","February","March","April","May","June","July","August","September","October","November","December"][n]}var Ez=({value:n,setValue:e,maxLevel:t})=>{let[r,i]=(0,x9.useState)(n),s=b1t(r),[o,a]=(0,x9.useState)(t),c=Math.floor((0,zo.default)(r).year()/10)*10;(0,x9.useEffect)(()=>{(Vwe(t)<Vwe(o)||o==="quarter"&&t!=="quarter"||o==="week"&&t!=="week")&&a(t)},[t,o]),(0,x9.useEffect)(()=>{i(n)},[n]);let d=P=>{let $=(0,zo.default)(r).year(P).toDate();i($),e($),t!=="year"&&a(t==="quarter"?"quarter":"month")},p=P=>{let $=()=>d(c+P);return P===-1||P===10?v.createElement(x1t,{onClick:$,isSelected:!1},c+P):v.createElement(Qwe,{onClick:$,isSelected:(0,zo.default)(r).year()===c+P},c+P)},b=P=>{let $=(0,zo.default)(r).month(P).toDate();i($),e($),t!=="month"&&a(t==="week"?"week":"day")},C=P=>{i(P),e(P),t!=="day"&&a(t)},N=P=>{i(P),e(P),t!=="week"&&a("day")},R=P=>{let $=(0,zo.default)(r).quarter(P+1).toDate();i($),e($)},U=P=>v.createElement(p1t,{onClick:()=>b(P),isSelected:(0,zo.default)(r).month()===P&&(0,zo.default)(r).year()===(0,zo.default)(n).year()},s1t(P)),V=P=>v.createElement(h1t,{onClick:()=>R(P),isSelected:(0,zo.default)(r).quarter()-1===P&&(0,zo.default)(r).year()===(0,zo.default)(n).year()},"Q",P+1);return v.createElement(o1t,null,v.createElement(a1t,null,v.createElement(Wwe,null,v.createElement(wCe,{onClick:()=>{o==="day"||o==="week"?i((0,zo.default)(r).subtract(1,"month").toDate()):o==="month"||o==="quarter"?i((0,zo.default)(r).subtract(1,"year").toDate()):o==="year"?i((0,zo.default)(r).subtract(10,"years").toDate()):C((0,zo.default)(r).subtract(1,"days").toDate())}})),v.createElement(u1t,{onClick:()=>{o==="day"||o==="week"?a("month"):o==="month"||o==="quarter"?a("year"):(o==="hour"||o==="minute"||o==="second")&&a("day")}},(o==="day"||o==="week")&&(0,zo.default)(r).format("MMMM YYYY"),(o==="month"||o==="quarter")&&(0,zo.default)(r).format("YYYY"),o==="year"&&v.createElement(v.Fragment,null,c,"-",c+9),(o==="hour"||o==="minute"||o==="second")&&v.createElement(v.Fragment,null,(0,zo.default)(r).format("MMMM D, YYYY"))),v.createElement(Wwe,null,v.createElement(ACe,{onClick:()=>{o==="day"||o==="week"?i((0,zo.default)(r).add(1,"month").toDate()):o==="month"||o==="quarter"?i((0,zo.default)(r).add(1,"year").toDate()):o==="year"?i((0,zo.default)(r).add(10,"years").toDate()):C((0,zo.default)(r).add(1,"days").toDate())}}))),o==="day"&&v.createElement(Gwe,null,v.createElement(Ywe,null,v.createElement(gh,null,"S"),v.createElement(gh,null,"M"),v.createElement(gh,null,"T"),v.createElement(gh,null,"W"),v.createElement(gh,null,"T"),v.createElement(gh,null,"F"),v.createElement(gh,null,"S")),s.map((P,$)=>v.createElement(g1t,{key:$},P.map(M=>v.createElement(_1t,{key:M.number,isCurrentMonth:M.isCurrentMonth,onClick:()=>{C(M.date)},isSelected:n.getTime()===M.date.valueOf()},M.number))))),o==="month"&&v.createElement(l1t,null,v.createElement(Sz,null,U(0),U(1),U(2)),v.createElement(Sz,null,U(3),U(4),U(5)),v.createElement(Sz,null,U(6),U(7),U(8)),v.createElement(Sz,null,U(9),U(10),U(11))),o==="year"&&v.createElement(m1t,null,v.createElement(Cz,null,p(-1),p(0),p(1)),v.createElement(Cz,null,p(2),p(3),p(4)),v.createElement(Cz,null,p(5),p(6),p(7)),v.createElement(Cz,null,p(8),p(9),p(10))),o==="quarter"&&v.createElement(d1t,null,V(0),V(1),V(2),V(3)),o==="week"&&v.createElement(Gwe,null,v.createElement(Ywe,null,v.createElement(gh,null,"S"),v.createElement(gh,null,"M"),v.createElement(gh,null,"T"),v.createElement(gh,null,"W"),v.createElement(gh,null,"T"),v.createElement(gh,null,"F"),v.createElement(gh,null,"S")),s.map((P,$)=>v.createElement(y1t,{key:$,onClick:()=>{N(P[0].date)},isSelected:n.getTime()===P[0].date.valueOf()},P.map(M=>v.createElement(v1t,{key:M.number,isCurrentMonth:M.isCurrentMonth},M.number))))),(o==="hour"||o==="minute"||o==="second")&&v.createElement(c1t,null,v.createElement(f1t,null,v.createElement(x1,null,v.createElement(C1,{label:"Hours",value:parseInt((0,zo.default)(r).format("hh")),setValue:P=>{let $=(0,zo.default)(r).hour()>=12?"PM":"AM",M=parseInt((0,zo.default)(`${P} ${$}`,["hh A"]).format("H"));e((0,zo.default)(r).hour(M).toDate())}})),(t==="minute"||t==="second")&&v.createElement(x1,null,v.createElement(C1,{label:"Minutes",value:(0,zo.default)(r).minutes(),setValue:P=>{e((0,zo.default)(r).minute(P).toDate())}})),t==="second"&&v.createElement(x1,null,v.createElement(C1,{label:"Seconds",value:(0,zo.default)(r).seconds(),setValue:P=>{e((0,zo.default)(r).second(P).toDate())}})),v.createElement("div",{style:{display:"flex",justifyContent:"flex-end",flexDirection:"column"}},v.createElement(wd,{value:(0,zo.default)(r).hour()>=12?"PM":"AM",onChange:P=>{let $=parseInt((0,zo.default)(r).format("h")),M=parseInt((0,zo.default)(`${$} ${P}`,["hh A"]).format("H"));e((0,zo.default)(r).hour(M).toDate())},options:[{value:"AM",label:"AM"},{value:"PM",label:"PM"}]})))))},o1t=$n.div`
  user-select: none;
  font-size: 14px;
  font-family: Roboto;
`,a1t=$n.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 5px;
  margin-bottom: 5px;
`,Wwe=$n.div`
  border-radius: 5px;
  padding-top: 2px;
  padding-left: 4px;
  padding-right: 4px;
  cursor: pointer;

  &:hover {
    background-color: #efefef;
  }
`,u1t=$n.div`
  border-radius: 5px;
  padding: 4px;
  padding-top: 5px;
  flex-grow: 1;
  text-align: center;
  cursor: pointer;
  text-transform: none;
  font-weight: normal;

  &:hover {
    background-color: #efefef;
  }
`,l1t=$n.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,c1t=$n.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 90px;
`,f1t=$n.div`
  display: flex;
  flex-direction: row;
  user-select: none;
  justify-content: space-around;
  gap: 10px;
`,d1t=$n.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,Sz=$n.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,h1t=$n.div`
  width: calc(100% - 22px);
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,p1t=$n.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,m1t=$n.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,Cz=$n.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 2px;
`,Qwe=$n.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  font-weight: normal;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;

  &:hover {
    background-color: ${mi.dimension.fillLight};
    border-color: ${mi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${mi.dimension.fillLight};
      border-color: ${mi.dimension.fillMedium};
    `:""}
`,x1t=$n(Qwe)`
  color: #909090;
`,Gwe=$n.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
  user-select: none;
`,Ywe=$n.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,g1t=$n.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,y1t=$n.div`
  display: flex;
  cursor: pointer;
  flex-direction: row;
  gap: 2px;
  border-radius: 50px;
  justify-content: space-between;
  border: 1px solid transparent;

  ${({isSelected:n})=>n?`
    background-color: ${mi.dimension.fillLight};
    color:  ${mi.dimension.fillStrong};
    border-color: ${mi.dimension.fillMedium};
  `:`
    &:hover {
      background-color: ${mi.dimension.fillLight};
    }
  `}
`,yae=$n.div`
  width: 16.5px;
  height: 16.5px;
  min-width: 16.5px;
  max-width: 16.5px;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
`,gh=$n(yae)`
  font-weight: bold;
  color: #505050;
`,v1t=$n(yae)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  ${({isCurrentMonth:n})=>`
    color: ${n?"#505050":"#909090"};
  `}
`,_1t=$n(yae)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  border: 1px solid transparent;
  ${({isCurrentMonth:n,isSelected:e})=>`
    color: ${n?"#505050":"#909090"};
    ${e?`
      background-color: ${mi.dimension.fillLight};
      color:  ${mi.dimension.fillStrong};
      border-color: ${mi.dimension.fillMedium};
    `:`
      &:hover {
        background-color: ${mi.dimension.fillLight};
      }
    `}
  `}
`;function b1t(n){let e=(0,zo.default)(n).date(1),t=e.day(),r=e.daysInMonth(),i=e.clone().subtract(1,"day").daysInMonth(),s=[];for(let o=0;o<6;o++){let a=[];for(let c=0;c<7;c++)if(o===0&&c<t){let d=t-c;a.push({number:i-d+1,date:e.clone().subtract(d,"days").toDate(),isCurrentMonth:!1})}else{let d=o*7+c-t;d<r?a.push({number:d+1,date:e.clone().add(d,"days").toDate(),isCurrentMonth:!0}):a.push({number:d-r+1,date:e.clone().add(d,"days").toDate(),isCurrentMonth:!1})}s.push(a)}return s}var Kwe=({filter:n,setFilter:e,type:t})=>{let r=C=>{e(qwe(n,C))},i=v.createElement(wd,{value:n.type,onChange:r,options:[{value:"is_in_the_past",label:"Past"},{value:"is_last",label:"Last"},{value:"is_this",label:"This"},{value:"is_on",label:"On"},{value:"is_after",label:"After"},{value:"is_before",label:"Before"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),s=C1t(n,e,t,i),o=T1t(n,e,t,i),a=w1t(n,e,t,i),c=A1t(n,e,t,i),d=F1t(n,e,i),p=n.type==="is_null"||n.type==="is_not_null"?v.createElement("div",{style:{width:"100%"}},i):null,b=s.util||c.util||d.util||a.util||o.util;return v.createElement("div",null,v.createElement(E1t,null,s.builder,c.builder,d.builder,a.builder,o.builder,p),b&&v.createElement(S1t,null,s.util,c.util,d.util,a.util,o.util))},E1t=$n.div`
  padding: 0 15px;
`,S1t=$n.div`
  border-top: 1px solid #efefef;
  padding: 15px;
  margin-top: 10px;
  padding-bottom: 0;
`,g9=$n.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,vae=$n.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function C1t(n,e,t,r){if(n.type!=="is_in_the_past")return{builder:null,util:null};let i=[{value:"years",label:"Years"},{value:"quarters",label:"Quarters"},{value:"months",label:"Months"},{value:"weeks",label:"Weeks"},{value:"days",label:"Days"}];return t==="timestamp"&&i.push({value:"hours",label:"Hours"},{value:"minutes",label:"Minutes"},{value:"seconds",label:"Seconds"}),{builder:v.createElement(g9,null,v.createElement("div",{style:{width:"30%",flexShrink:1}},r),v.createElement("div",{style:{width:"30%",flexShrink:1}},v.createElement(Ba,{value:n.amount.toString(),setValue:a=>e({...n,amount:parseFloat(a)})})),v.createElement("div",{style:{width:"40%",flexShrink:1}},v.createElement(wd,{value:n.unit,options:i,onChange:a=>e({...n,unit:a})}))),util:null}}function w1t(n,e,t,r){if(n.type!=="is_this"&&n.type!=="is_last")return{builder:null,util:null};let i=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];return t==="timestamp"&&i.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"}),{builder:v.createElement(g9,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(wd,{value:n.period,options:i,onChange:a=>e({...n,period:a})}))),util:null}}function A1t(n,e,t,r){let[i,s]=(0,_y.useState)(!1),o=(0,_y.useRef)(null),a=(0,_y.useRef)(null);if(g1([o,a],()=>s(!1)),n.type!=="is_on"&&n.type!=="is_after"&&n.type!=="is_before")return{builder:null,util:null};let c=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&c.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let d=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,p=v.createElement(vae,null,v.createElement(g9,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(wd,{value:n.granularity,options:c,onChange:C=>e({...n,granularity:C})}))),v.createElement(g9,null,v.createElement("div",{ref:o,style:{width:"100%",flexShrink:1}},v.createElement(KO,{value:n.date,setValue:C=>e({...n,date:C}),granularity:d,onFocus:()=>s(!0),isActive:i})))),b=i?v.createElement("div",{ref:a},v.createElement(Ez,{value:n.date,setValue:C=>e({...n,date:C}),maxLevel:d})):null;return{builder:p,util:b}}function T1t(n,e,t,r){let[i,s]=(0,_y.useState)(void 0),o=(0,_y.useRef)(null),a=(0,_y.useRef)(null),c=(0,_y.useRef)(null);if(g1([o,a,c],()=>{s(void 0)}),n.type!=="is_between")return{builder:null,util:null};let d=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&d.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let p=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,b=v.createElement(vae,null,v.createElement(g9,null,v.createElement("div",{style:{width:"50%",flexShrink:1}},r),v.createElement("div",{style:{width:"50%",flexShrink:1}},v.createElement(wd,{value:n.granularity,options:d,onChange:N=>e({...n,granularity:N})}))),v.createElement(g9,null,v.createElement("div",{ref:o},v.createElement(KO,{value:n.start,setValue:N=>e({...n,start:N}),granularity:p,onFocus:()=>s({key:"start",date:n.start,setValue:N=>e({...n,start:N})}),isActive:i?.key==="start"})),v.createElement("div",{ref:a},v.createElement(KO,{value:n.end,setValue:N=>e({...n,end:N}),granularity:p,onFocus:()=>s({key:"end",date:n.end,setValue:N=>e({...n,end:N})}),isActive:i?.key==="end"})))),C=i?v.createElement("div",{ref:c},v.createElement(Ez,{key:i.key,value:i.date,setValue:i.setValue,maxLevel:p})):null;return{builder:b,util:C}}function F1t(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(vae,null,t,v.createElement(Ba,{value:n.partial,setValue:s=>e({type:"custom",partial:s}),placeholder:"!= null"})),util:null}}m();var Jwe=({filter:n,setFilter:e})=>{let t=o=>{e(Uwe(n,o))},r=v.createElement(wd,{value:n.type,onChange:t,options:[{value:"is_true",label:"True"},{value:"is_false",label:"False"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"is_true_or_null",label:"True or null"},{value:"is_false_or_null",label:"False or null"},{value:"custom",label:"Custom"}]}),i=N1t(n,e,r),s=n.type!=="custom"?v.createElement("div",{style:{width:"100%"}},r):null;return v.createElement(D1t,null,i.builder,s)},D1t=$n.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,O1t=$n.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function N1t(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:v.createElement(O1t,null,t,v.createElement(Ba,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}var JO=({source:n,field:e,addFilter:t,needsRename:r,onComplete:i,fieldPath:s,analysisPath:o})=>{let a=e.type==="struct"?"source":e.type==="turtle"?"query":e.type,c=e.type==="struct"?"source":e.type==="turtle"?"query":e.aggregate?"measure":"dimension",[d,p]=(0,yb.useState)({type:"is_equal_to",values:[]}),[b,C]=(0,yb.useState)({type:"is_equal_to",values:[]}),[N,R]=(0,yb.useState)({type:"is_on",date:new Date,granularity:"day"}),[U,V]=(0,yb.useState)({type:"is_true"}),[P,$]=(0,yb.useState)(a==="string"?hae(s,d):a==="number"?dae(s,b):a==="date"||a==="timestamp"?mae(s,N):a==="boolean"?pae(s,U):""),[M,G]=(0,yb.useState)("");return v.createElement("div",null,v.createElement("form",null,v.createElement(bc,{style:{padding:"15px",paddingBottom:0}},"Filter",v.createElement(P$,null,v.createElement($C,{color:"dimension"},v.createElement(O2,{type:a,kind:c})),v.createElement(B$,null,e.name))),r&&v.createElement(R1t,null,v.createElement(x1,null,v.createElement(Ba,{value:M,setValue:G,placeholder:"field name",label:"Field Name",autoFocus:!0}),v.createElement(Z5,null,"Filter"))),a==="string"&&v.createElement(zwe,{analysisPath:o,source:n,fieldPath:s,filter:d,setFilter:ae=>{p(ae),$(hae(s,ae))}}),a==="boolean"&&v.createElement(Jwe,{filter:U,setFilter:ae=>{V(ae),$(pae(s,ae))}}),a==="number"&&v.createElement(Hwe,{filter:b,setFilter:ae=>{C(ae),$(dae(s,ae))}}),(a==="date"||a==="timestamp")&&v.createElement(Kwe,{type:a,filter:N,setFilter:ae=>{R(ae),$(mae(s,ae))}}),v.createElement(p1,{style:{padding:"0 15px 15px 15px"}},v.createElement(Yl,{type:"submit",onClick:ae=>{bx(n,P).then(I=>{t(I,M||void 0),i()}).catch(console.log),ae.stopPropagation(),ae.preventDefault()}},"Done"))))},R1t=$n.div`
  margin: 15px;
  margin-top: 0;
  margin-bottom: 10px;
`;m();m();var _ae=xr(Rr());var XO=({source:n,addDimension:e,onComplete:t,initialCode:r,initialName:i})=>{let[s,o]=(0,_ae.useState)(r||""),[a,c]=(0,_ae.useState)(i||""),d=r===void 0;return v.createElement(_f,null,v.createElement(bc,null,d?"New":"Edit"," Dimension"),v.createElement("form",null,v.createElement(x1,null,d&&v.createElement(Ba,{value:a,setValue:c,placeholder:"field name",label:"Field Name",autoFocus:!0}),v.createElement(Ba,{value:s,setValue:o,placeholder:"some_field * 10",label:d?"Definition":void 0})),v.createElement(p1,null,v.createElement(Yl,{type:"submit",onClick:p=>{R9e(n,a,s).then(b=>{e(b),t()}).catch(console.log),p?.stopPropagation(),p?.preventDefault()}},"Done"))))};m();m();m();m();var ZO=xr(Rr()),Xwe=n=>ZO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ZO.createElement("title",null,"viz_table"),ZO.createElement("g",{id:"viz_table",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},ZO.createElement("path",{d:"M81.0526316,23 L28.9473684,23 C25.1263158,23 22,26.1662162 22,30.036036 L22,79.2882883 C22,83.1581081 25.1263158,86.3243243 28.9473684,86.3243243 L81.0526316,86.3243243 C84.8736842,86.3243243 88,83.1581081 88,79.2882883 L88,30.036036 C88,26.1662162 84.8736842,23 81.0526316,23 Z M80.8648649,30.1351351 L80.8648649,40.8378378 L28.2432432,40.8378378 L28.2432432,30.1351351 L80.8648649,30.1351351 Z M63.9189189,79.1891892 L46.0810811,79.1891892 L46.0810811,47.972973 L63.9189189,47.972973 L63.9189189,79.1891892 Z M28.2432432,47.972973 L38.9459459,47.972973 L38.9459459,79.1891892 L28.2432432,79.1891892 L28.2432432,47.972973 Z M71.0540541,79.1891892 L71.0540541,47.972973 L81.7567568,47.972973 L81.7567568,79.1891892 L71.0540541,79.1891892 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));m();var vb=xr(Rr()),Zwe=n=>vb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},vb.createElement("title",null,"viz_dashboard"),vb.createElement("g",{id:"viz_dashboard",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},vb.createElement("g",{id:"dashboard_black_24dp",transform:"translate(13.000000, 13.000000)"},vb.createElement("path",{d:"M5,0 L80,0 C82.7614237,-5.07265313e-16 85,2.23857625 85,5 L85,80 C85,82.7614237 82.7614237,85 80,85 L5,85 C2.23857625,85 3.38176876e-16,82.7614237 0,80 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),vb.createElement("path",{d:"M67,18 L67,25 L53,25 L53,18 L67,18 M32,18 L32,39 L18,39 L18,18 L32,18 M67,46 L67,67 L53,67 L53,46 L67,46 M32,60 L32,67 L18,67 L18,60 L32,60 M69,11 L51,11 C48.2385763,11 46,13.2385763 46,16 L46,27 C46,29.7614237 48.2385763,32 51,32 L69,32 C71.7614237,32 74,29.7614237 74,27 L74,16 C74,13.2385763 71.7614237,11 69,11 Z M34,11 L16,11 C13.2385763,11 11,13.2385763 11,16 L11,41 C11,43.7614237 13.2385763,46 16,46 L34,46 C36.7614237,46 39,43.7614237 39,41 L39,16 C39,13.2385763 36.7614237,11 34,11 Z M69,39 L51,39 C48.2385763,39 46,41.2385763 46,44 L46,69 C46,71.7614237 48.2385763,74 51,74 L69,74 C71.7614237,74 74,71.7614237 74,69 L74,44 C74,41.2385763 71.7614237,39 69,39 Z M34,53 L16,53 C13.2385763,53 11,55.2385763 11,58 L11,69 C11,71.7614237 13.2385763,74 16,74 L34,74 C36.7614237,74 39,71.7614237 39,69 L39,58 C39,55.2385763 36.7614237,53 34,53 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));m();var by=xr(Rr()),eAe=n=>by.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},by.createElement("title",null,"viz_text"),by.createElement("g",{id:"viz_text",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},by.createElement("rect",{id:"Rectangle-Copy",stroke:"#9aa0a6",strokeWidth:6,x:15.5,y:35,width:79,height:40,rx:5}),by.createElement("g",{id:"abc",transform:"translate(33.090000, 44.134000)",fill:"#9aa0a6",fillRule:"nonzero"},by.createElement("path",{d:"M4.81,19.032 C3.406,19.032 2.25333333,18.6203333 1.352,17.797 C0.450666667,16.9736667 0,15.8946667 0,14.56 C0,13.676 0.234,12.896 0.702,12.22 C1.17,11.544 1.81133333,11.024 2.626,10.66 C3.44066667,10.296 4.342,10.114 5.33,10.114 C6.69933333,10.114 7.86933333,10.3133333 8.84,10.712 L8.84,10.14 C8.84,9.412 8.567,8.82266667 8.021,8.372 C7.475,7.92133333 6.74266667,7.696 5.824,7.696 C5.2,7.696 4.59766667,7.839 4.017,8.125 C3.43633333,8.411 2.95533333,8.788 2.574,9.256 L0.39,7.54 C1.03133333,6.708 1.83733333,6.06666667 2.808,5.616 C3.77866667,5.16533333 4.836,4.94 5.98,4.94 C8.008,4.94 9.55066667,5.408 10.608,6.344 C11.6653333,7.28 12.194,8.64933333 12.194,10.452 L12.194,18.616 L8.84,18.616 L8.84,17.264 L8.632,17.264 C8.23333333,17.784 7.709,18.2086667 7.059,18.538 C6.409,18.8673333 5.65933333,19.032 4.81,19.032 Z M5.616,16.38 C6.604,16.38 7.38833333,16.0636667 7.969,15.431 C8.54966667,14.7983333 8.84,14.0573333 8.84,13.208 C7.956,12.792 7.02866667,12.584 6.058,12.584 C4.29,12.584 3.406,13.2426667 3.406,14.56 C3.406,15.0973333 3.59666667,15.535 3.978,15.873 C4.35933333,16.211 4.90533333,16.38 5.616,16.38 Z",id:"Shape"}),by.createElement("path",{d:"M22.724,19.032 C21.8226667,19.032 21.021,18.8413333 20.319,18.46 C19.617,18.0786667 19.0926667,17.602 18.746,17.03 L18.538,17.03 L18.538,18.616 L15.34,18.616 L15.34,0 L18.746,0 L18.746,5.096 L18.538,6.968 L18.746,6.968 C19.11,6.396 19.6386667,5.915 20.332,5.525 C21.0253333,5.135 21.8226667,4.94 22.724,4.94 C23.92,4.94 25.0076667,5.239 25.987,5.837 C26.9663333,6.435 27.7333333,7.27133333 28.288,8.346 C28.8426667,9.42066667 29.12,10.634 29.12,11.986 C29.12,13.3553333 28.8426667,14.573 28.288,15.639 C27.7333333,16.705 26.9663333,17.537 25.987,18.135 C25.0076667,18.733 23.92,19.032 22.724,19.032 Z M22.126,15.886 C22.7673333,15.886 23.3653333,15.7213333 23.92,15.392 C24.4746667,15.0626667 24.9166667,14.6033333 25.246,14.014 C25.5753333,13.4246667 25.74,12.7486667 25.74,11.986 C25.74,11.2233333 25.5753333,10.5473333 25.246,9.958 C24.9166667,9.36866667 24.4746667,8.91366667 23.92,8.593 C23.3653333,8.27233333 22.7673333,8.112 22.126,8.112 C21.502,8.112 20.9126667,8.27233333 20.358,8.593 C19.8033333,8.91366667 19.3613333,9.36866667 19.032,9.958 C18.7026667,10.5473333 18.538,11.2233333 18.538,11.986 C18.538,12.7486667 18.7026667,13.4246667 19.032,14.014 C19.3613333,14.6033333 19.8033333,15.0626667 20.358,15.392 C20.9126667,15.7213333 21.502,15.886 22.126,15.886 Z",id:"Shape"}),by.createElement("path",{d:"M37.986,19.032 C36.6513333,19.032 35.4553333,18.733 34.398,18.135 C33.3406667,17.537 32.513,16.7006667 31.915,15.626 C31.317,14.5513333 31.018,13.338 31.018,11.986 C31.018,10.634 31.317,9.425 31.915,8.359 C32.513,7.293 33.3406667,6.45666667 34.398,5.85 C35.4553333,5.24333333 36.6513333,4.94 37.986,4.94 C39.4593333,4.94 40.7246667,5.25633333 41.782,5.889 C42.8393333,6.52166667 43.602,7.41866667 44.07,8.58 L40.95,9.88 C40.3953333,8.70133333 39.4073333,8.112 37.986,8.112 C36.946,8.112 36.0923333,8.46733333 35.425,9.178 C34.7576667,9.88866667 34.424,10.8246667 34.424,11.986 C34.424,13.1646667 34.7576667,14.1093333 35.425,14.82 C36.0923333,15.5306667 36.946,15.886 37.986,15.886 C39.4246667,15.886 40.4646667,15.262 41.106,14.014 L44.2,15.366 C43.628,16.5273333 42.8133333,17.4286667 41.756,18.07 C40.6986667,18.7113333 39.442,19.032 37.986,19.032 Z",id:"Path"}))));m();var wx=xr(Rr()),tAe=n=>wx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},wx.createElement("title",null,"viz_currency"),wx.createElement("g",{id:"viz_currency",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},wx.createElement("g",{id:"Group",transform:"translate(19.000000, 19.000000)"},wx.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:36,cy:36,r:32.5}),wx.createElement("path",{d:"M35.7525,20.06 C38.5425,20.06 40.7775,20.7425 42.4575,22.1075 C44.1375,23.4725 45.2775,25.01 45.8775,26.72 L41.4225,28.61 C41.1225,27.53 40.4925,26.6 39.5325,25.82 C38.5725,25.04 37.3275,24.65 35.7975,24.65 C34.3275,24.65 33.0825,25.04 32.0625,25.82 C31.0425,26.6 30.5325,27.59 30.5325,28.79 C30.5325,29.9 30.99,30.8225 31.905,31.5575 C32.759,32.2435 34.0507333,32.8968333 35.7802,33.5175 L38.2275,34.37 C40.9875,35.33 43.1175,36.575 44.6175,38.105 C46.1175,39.635 46.8675,41.675 46.8675,44.225 C46.8675,46.325 46.335,48.0875 45.27,49.5125 C44.205,50.9375 42.84,51.995 41.175,52.685 C39.51,53.375 37.8075,53.72 36.0675,53.72 C33.3975,53.72 30.9975,52.94 28.8675,51.38 C26.7375,49.82 25.2525,47.63 24.4125,44.81 L29.0925,42.92 C29.5725,44.72 30.4275,46.19 31.6575,47.33 C32.8875,48.47 34.3725,49.04 36.1125,49.04 C37.7325,49.04 39.105,48.62 40.23,47.78 C41.355,46.94 41.9175,45.785 41.9175,44.315 C41.9175,42.965 41.4225,41.8475 40.4325,40.9625 C39.4975,40.1266667 37.9202778,39.3109028 35.7008333,38.5152083 L33.2775,37.655 C31.0875,36.875 29.265,35.7875 27.81,34.3925 C26.355,32.9975 25.6275,31.145 25.6275,28.835 C25.6275,27.245 26.055,25.775 26.91,24.425 C27.765,23.075 28.965,22.01 30.51,21.23 C32.055,20.45 33.8025,20.06 35.7525,20.06 Z",id:"Path",fill:"#9aa0a6",fillRule:"nonzero"}),wx.createElement("line",{x1:36,y1:14,x2:36,y2:21,id:"Line-Copy-4",stroke:"#9aa0a6",strokeWidth:5}),wx.createElement("line",{x1:36,y1:52,x2:36,y2:59,id:"Line-Copy-5",stroke:"#9aa0a6",strokeWidth:5})),wx.createElement("g",{id:"S",transform:"translate(43.412500, 37.060000)"})));m();var eN=xr(Rr()),nAe=n=>eN.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},eN.createElement("title",null,"viz_image"),eN.createElement("g",{id:"viz_image",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},eN.createElement("path",{d:"M81.4444444,28.5555556 L81.4444444,81.4444444 L28.5555556,81.4444444 L28.5555556,28.5555556 L81.4444444,28.5555556 M81.4444444,21 L28.5555556,21 C24.4,21 21,24.4 21,28.5555556 L21,81.4444444 C21,85.6 24.4,89 28.5555556,89 L81.4444444,89 C85.6,89 89,85.6 89,81.4444444 L89,28.5555556 C89,24.4 85.6,21 81.4444444,21 Z M63.0844444,54.4711111 L51.7511111,69.0911111 L43.6666667,59.3066667 L32.3333333,73.8888889 L77.6666667,73.8888889 L63.0844444,54.4711111 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));m();var _b=xr(Rr()),rAe=n=>_b.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},_b.createElement("title",null,"viz_time"),_b.createElement("g",{id:"viz_time",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},_b.createElement("g",{id:"Group-Copy-19",transform:"translate(51.307692, 36.538462)",fill:"#9aa0a6",fillRule:"nonzero"},_b.createElement("polygon",{id:"Path",points:"5.30769231 0 0 0 0 21.7906683 18.5769231 33.2307692 21.2307692 28.7636822 5.30769231 19.0668348"})),_b.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:55,cy:55,r:32.5})));m();var bb=xr(Rr()),iAe=n=>bb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},bb.createElement("title",null,"viz_json"),bb.createElement("g",{id:"viz_json",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},bb.createElement("g",{id:"{;}",transform:"translate(24.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},bb.createElement("path",{d:"M17.0296296,66 C13.2765432,66 10.3209877,64.871179 8.16296296,62.6135371 C6.00493827,60.3558952 4.92592593,57.3296943 4.92592593,53.5349345 L4.92592593,41.6462882 C4.92592593,39.9170306 4.45679012,38.5840611 3.51851852,37.6473799 C2.58024691,36.7106987 1.40740741,36.2423581 0,36.2423581 L0,29.7576419 C1.40740741,29.7576419 2.58024691,29.2893013 3.51851852,28.3526201 C4.45679012,27.4159389 4.92592593,26.0829694 4.92592593,24.3537118 L4.92592593,12.4650655 C4.92592593,8.67030568 6.00493827,5.6441048 8.16296296,3.38646288 C10.3209877,1.12882096 13.2765432,0 17.0296296,0 L19,0 L19,6.41266376 L17.7333333,6.41266376 C16.091358,6.41266376 14.7425926,6.98908297 13.687037,8.1419214 C12.6314815,9.29475983 12.1037037,10.8318777 12.1037037,12.7532751 L12.1037037,24.3537118 C12.1037037,26.7074236 11.7166667,28.5687773 10.9425926,29.9377729 C10.1685185,31.3067686 8.93703704,32.2554585 7.24814815,32.7838428 L7.24814815,33.2161572 C8.93703704,33.7445415 10.1685185,34.6812227 10.9425926,36.0262009 C11.7166667,37.371179 12.1037037,39.2445415 12.1037037,41.6462882 L12.1037037,53.2467249 C12.1037037,55.1681223 12.6314815,56.7052402 13.687037,57.8580786 C14.7425926,59.010917 16.091358,59.5873362 17.7333333,59.5873362 L19,59.5873362 L19,66 L17.0296296,66 Z",id:"Path"}),bb.createElement("path",{d:"M44,59.5873362 L45.4074074,59.5873362 C47.0493827,59.5873362 48.3864198,59.010917 49.4185185,57.8580786 C50.4506173,56.7052402 50.9666667,55.1681223 50.9666667,53.2467249 L50.9666667,41.6462882 C50.9666667,39.2445415 51.3537037,37.371179 52.1277778,36.0262009 C52.9018519,34.6812227 54.1333333,33.7445415 55.8222222,33.2161572 L55.8222222,32.7838428 C54.1333333,32.2554585 52.9018519,31.3067686 52.1277778,29.9377729 C51.3537037,28.5687773 50.9666667,26.7074236 50.9666667,24.3537118 L50.9666667,12.7532751 C50.9666667,10.8318777 50.4506173,9.29475983 49.4185185,8.1419214 C48.3864198,6.98908297 47.0493827,6.41266376 45.4074074,6.41266376 L44,6.41266376 L44,0 L46.0407407,0 C49.7938272,0 52.7493827,1.12882096 54.9074074,3.38646288 C57.0654321,5.6441048 58.1444444,8.67030568 58.1444444,12.4650655 L58.1444444,24.3537118 C58.1444444,26.0829694 58.6018519,27.4159389 59.5166667,28.3526201 C60.4314815,29.2893013 61.5925926,29.7576419 63,29.7576419 L63,36.2423581 C61.5925926,36.2423581 60.4314815,36.7106987 59.5166667,37.6473799 C58.6018519,38.5840611 58.1444444,39.9170306 58.1444444,41.6462882 L58.1444444,53.5349345 C58.1444444,57.3296943 57.0654321,60.3558952 54.9074074,62.6135371 C52.7493827,64.871179 49.7938272,66 46.0407407,66 L44,66 L44,59.5873362 Z",id:"Path"}))));m();var lv=xr(Rr()),sAe=n=>lv.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},lv.createElement("title",null,"viz_list"),lv.createElement("g",{id:"viz_list",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},lv.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:24.1587742,y:27,width:61.9377906,height:8,rx:4}),lv.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:24.1587742,y:43,width:61.9377906,height:8,rx:4}),lv.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:24.1587742,y:59,width:62,height:8,rx:4}),lv.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:24.1587742,y:75.1904762,width:62,height:7.61904762,rx:3.80952381})));m();var w1=xr(Rr()),oAe=n=>w1.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},w1.createElement("title",null,"viz_list_detail"),w1.createElement("g",{id:"viz_list_detail",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},w1.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:22.1587742,y:27,width:15.983946,height:8,rx:4}),w1.createElement("rect",{id:"Rectangle-Copy-59",fill:"#9aa0a6",x:44.1587742,y:27,width:43.9558514,height:8,rx:4}),w1.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:22.1587742,y:43,width:15.983946,height:8,rx:4}),w1.createElement("rect",{id:"Rectangle-Copy-62",fill:"#9aa0a6",x:44.1587742,y:43,width:43.9558514,height:8,rx:4}),w1.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:22.1587742,y:59,width:16,height:8,rx:4}),w1.createElement("rect",{id:"Rectangle-Copy-66",fill:"#9aa0a6",x:44.1587742,y:59,width:44,height:8,rx:4}),w1.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:22.1587742,y:75.1904762,width:16,height:7.61904762,rx:3.80952381}),w1.createElement("rect",{id:"Rectangle-Copy-67",fill:"#9aa0a6",x:44.1587742,y:75.1904762,width:44,height:7.61904762,rx:3.80952381})));m();var Ax=xr(Rr()),aAe=n=>Ax.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ax.createElement("title",null,"viz_bar_chart"),Ax.createElement("g",{id:"viz_bar_chart",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ax.createElement("g",{id:"Group-3",transform:"translate(20.000000, 24.000000)",fill:"#9aa0a6"},Ax.createElement("g",{id:"Group-2",transform:"translate(34.500000, 31.000000) rotate(-270.000000) translate(-34.500000, -31.000000) translate(3.500000, -3.500000)"},Ax.createElement("path",{d:"M-26.056314,30.056314 L34.943686,30.056314 C37.152825,30.056314 38.943686,31.847175 38.943686,34.056314 L38.943686,34.943686 C38.943686,37.152825 37.152825,38.943686 34.943686,38.943686 L-26.056314,38.943686 C-28.265453,38.943686 -30.056314,37.152825 -30.056314,34.943686 L-30.056314,34.056314 C-30.056314,31.847175 -28.265453,30.056314 -26.056314,30.056314 Z",id:"Rectangle-Copy-59",transform:"translate(4.443686, 34.500000) rotate(-90.000000) translate(-4.443686, -34.500000) "}),Ax.createElement("path",{d:"M-0.491247385,37.8466366 L44.9281075,37.8466366 C47.1372465,37.8466366 48.9281075,39.6374976 48.9281075,41.8466366 L48.9281075,42.7340086 C48.9281075,44.9431476 47.1372465,46.7340086 44.9281075,46.7340086 L-0.491247385,46.7340086 C-2.70038638,46.7340086 -4.49124739,44.9431476 -4.49124739,42.7340086 L-4.49124739,41.8466366 C-4.49124739,39.6374976 -2.70038638,37.8466366 -0.491247385,37.8466366 Z",id:"Rectangle-Copy-62",transform:"translate(22.218430, 42.290323) rotate(-90.000000) translate(-22.218430, -42.290323) "}),Ax.createElement("path",{d:"M23.3837854,43.9469253 L56.6025627,43.9469253 C58.8117017,43.9469253 60.6025627,45.7377863 60.6025627,47.9469253 L60.6025627,48.8342973 C60.6025627,51.0434363 58.8117017,52.8342973 56.6025627,52.8342973 L23.3837854,52.8342973 C21.1746464,52.8342973 19.3837854,51.0434363 19.3837854,48.8342973 L19.3837854,47.9469253 C19.3837854,45.7377863 21.1746464,43.9469253 23.3837854,43.9469253 Z",id:"Rectangle-Copy-66",transform:"translate(39.993174, 48.390611) rotate(-90.000000) translate(-39.993174, -48.390611) "}),Ax.createElement("path",{d:"M46.7286345,49.7286345 L68.8072017,49.7286345 C71.0163407,49.7286345 72.8072017,51.5194955 72.8072017,53.7286345 L72.8072017,54.1927983 C72.8072017,56.4019373 71.0163407,58.1927983 68.8072017,58.1927983 L46.7286345,58.1927983 C44.5194955,58.1927983 42.7286345,56.4019373 42.7286345,54.1927983 L42.7286345,53.7286345 C42.7286345,51.5194955 44.5194955,49.7286345 46.7286345,49.7286345 Z",id:"Rectangle-Copy-67",transform:"translate(57.767918, 53.960716) rotate(-90.000000) translate(-57.767918, -53.960716) "})))));m();var tN=xr(Rr()),uAe=n=>tN.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},tN.createElement("title",null,"viz_line"),tN.createElement("g",{id:"viz_line",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},tN.createElement("path",{d:"M88.1848681,33.1583406 C89.7542734,31.6035859 92.2869054,31.6154626 93.8416601,33.1848679 C95.3445896,34.7019597 95.3835892,37.1191334 93.9668812,38.6829968 L93.8151328,38.84166 L66.2578818,66.14166 C64.8378618,67.5484238 62.6084032,67.6843587 61.0319068,66.4919462 L60.8595019,66.3539866 L45.2420004,53.1430003 L21.844917,76.8176775 C20.3437446,78.336508 17.927116,78.4009733 16.3484126,77.0008213 L16.1881594,76.850753 C14.6693289,75.3495806 14.6048635,72.932952 16.0050156,71.3542486 L16.1550839,71.1939954 L42.1550839,44.8881592 C43.5729843,43.4535802 45.8262314,43.3057778 47.4155704,44.5116324 L47.583248,44.646014 L63.2290004,57.8810003 L88.1848681,33.1583406 Z",id:"Path-10",fill:"#9aa0a6",fillRule:"nonzero"})));m();var Eb=xr(Rr()),lAe=n=>Eb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Eb.createElement("title",null,"viz_map_points"),Eb.createElement("g",{id:"viz_map_points",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Eb.createElement("g",{id:"Group-Copy-36",transform:"translate(30.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Eb.createElement("path",{d:"M25,0 C11.1785714,0 0,11.268 0,25.2 C0,44.1 25,72 25,72 C25,72 50,44.1 50,25.2 C50,11.268 38.8214286,0 25,0 Z M7.14285714,25.2 C7.14285714,15.264 15.1428571,7.2 25,7.2 C34.8571429,7.2 42.8571429,15.264 42.8571429,25.2 C42.8571429,35.568 32.5714286,51.084 25,60.768 C17.5714286,51.156 7.14285714,35.46 7.14285714,25.2 Z",id:"Shape"}),Eb.createElement("path",{d:"M25,34 C29.97052,34 34,29.97052 34,25 C34,20.029444 29.97052,16 25,16 C20.02948,16 16,20.029444 16,25 C16,29.97052 20.02948,34 25,34 Z",id:"Path"}))));m();var L2=xr(Rr()),cAe=n=>L2.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},L2.createElement("title",null,"viz_map_segment"),L2.createElement("g",{id:"viz_map_segment",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},L2.createElement("g",{id:"Group-Copy-36",transform:"translate(11.000000, 27.000000)",fillRule:"nonzero"},L2.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),L2.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),L2.createElement("g",{id:"Group-Copy-37",transform:"translate(62.000000, 27.000000)",fillRule:"nonzero"},L2.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),L2.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),L2.createElement("line",{x1:28.5,y1:81.5,x2:79.5,y2:81.5,id:"Line-3",stroke:"#9aa0a6",strokeWidth:5,strokeLinecap:"round",strokeDasharray:"5,10"})));m();var Tx=xr(Rr()),fAe=n=>Tx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Tx.createElement("title",null,"viz_map_shape"),Tx.createElement("g",{id:"viz_map_shape",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Tx.createElement("g",{id:"noun-world-4667432-2",transform:"translate(19.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Tx.createElement("g",{id:"noun-world-4667432"},Tx.createElement("path",{d:"M36,5 C18.8798665,5 5,18.8793071 5,36 C5,53.1206929 18.8793071,67 36,67 C53.1206929,67 67,53.1206929 67,36 C67,18.8793071 53.1206929,5 36,5 Z M0,36 C0,16.1177143 16.1177143,0 36,0 C55.8822857,0 72,16.1177143 72,36 C72,55.8822857 55.8822857,72 36,72 C16.1177143,72 0,55.8822857 0,36 Z",id:"Shape"}),Tx.createElement("path",{d:"M37.2848685,1.50131372 C37.8999474,1.48477633 38.4631152,1.71654937 38.8767996,2.10376364 C39.2928262,2.49317029 39.5578301,3.03960333 39.57434,3.65023916 L39.57434,3.65023916 L40.0344656,20.7428771 C40.0487121,21.2893502 39.8586306,21.8212062 39.4992535,22.2375953 L39.4992535,22.2375953 L32.1172188,30.7832284 C31.7924232,31.1592888 31.3490374,31.4169308 30.8586892,31.5134813 L30.8586892,31.5134813 L24.6865498,32.7324332 L28.0628423,42.7359018 C28.4533111,43.8925701 28.4513039,45.0197005 28.1633304,46.0321806 C27.8503264,47.132665 27.1975708,48.0987342 26.3338575,48.8190181 C25.4716664,49.5380326 24.3999821,50.0114808 23.2508211,50.1317463 C22.1949716,50.2422462 21.0728206,50.0558305 19.9867908,49.4837618 L19.9867908,49.4837618 L1.68382097,39.8433672 C1.13885361,39.5565384 0.764084629,39.078393 0.597525292,38.5380041 C0.430427538,37.9958684 0.472619244,37.3906551 0.763987861,36.8508084 C1.05393693,36.3139129 1.53648052,35.9433066 2.08313472,35.7791188 C2.62798313,35.6154734 3.2361363,35.657153 3.77860632,35.9426925 L3.77860632,35.9426925 L22.0816454,45.5831236 C22.3171919,45.7071442 22.5603781,45.7498863 22.7897862,45.7258621 C23.0398735,45.6996723 23.2725259,45.5956093 23.4599703,45.4392842 C23.6458558,45.2842591 23.7880139,45.0772117 23.8554593,44.8399997 C23.9169381,44.6237728 23.9147045,44.383346 23.8314444,44.1367864 L23.8314444,44.1367864 L19.6527943,31.7569079 C19.4493668,31.1542234 19.517516,30.4944328 19.8403231,29.9450638 C20.1614725,29.3985413 20.7046793,29.014044 21.3323155,28.8900909 L21.3323155,28.8900909 L29.2286003,27.3302661 L35.5513871,20.0108413 L35.1144494,3.7686887 C35.0979491,3.15801867 35.3331708,2.59836837 35.7276711,2.18746751 C36.1199426,1.77888802 36.6699139,1.51752889 37.2848685,1.50131372 Z",id:"Path",stroke:"#9aa0a6"}),Tx.createElement("path",{d:"M42.2538467,56.3169014 C42.834665,56.3169014 43.3919278,56.5473051 43.8025756,56.957964 L43.8025756,56.957964 L50.5634819,63.7190531 C50.990585,64.1465338 51.2042254,64.7070592 51.2042254,65.267637 C51.2042254,65.8282064 50.9905908,66.3887389 50.5631792,66.8165562 C50.1353619,67.244019 49.5748515,67.4577465 49.0143336,67.4577465 C48.453827,67.4577465 47.893307,67.2440267 47.4652769,66.8163886 L47.4652769,66.8163886 L41.3467145,60.697095 L29.639469,60.697095 L23.5207389,66.8165562 C23.0929158,67.2440249 22.5323953,67.4577465 21.9719658,67.4577465 C21.4114352,67.4577465 20.8509999,67.2439558 20.4235838,66.8165562 C19.995665,66.388992 19.7816901,65.8283383 19.7816901,65.2676696 C19.7816901,64.7070094 19.9956592,64.1463486 20.4234173,63.7189168 L20.4234173,63.7189168 L27.1839229,56.9576493 C27.5952192,56.5470739 28.1516855,56.3169014 28.7323368,56.3169014 L28.7323368,56.3169014 Z",id:"Path",stroke:"#9aa0a6"}),Tx.createElement("path",{d:"M63.9378166,21.2379048 C64.4225216,20.8714311 65.0086399,20.7379975 65.5642349,20.8181856 C66.1191803,20.8982799 66.6440521,21.191578 67.006552,21.6798365 C67.3682973,22.1662502 67.5006358,22.75458 67.4216695,23.3126471 C67.3426278,23.8712474 67.0519787,24.3991735 66.5692317,24.7645164 L66.5692317,24.7645164 L53.5947929,34.5837331 L50.8571888,42.8725775 L63.4236834,55.5534973 C63.8498746,55.9835692 64.0634024,56.5474048 64.0634024,57.111468 C64.0634024,57.6755228 63.8498803,58.2393656 63.4235328,58.6696236 C62.9952729,59.1014133 62.434079,59.3169014 61.8731786,59.3169014 C61.3121772,59.3169014 60.7510686,59.1013441 60.3230649,58.6694716 L60.3230649,58.6694716 L46.8022881,45.0255804 C46.5094233,44.730049 46.31189,44.3642735 46.2203738,43.9732706 C46.1289585,43.5826987 46.1433461,43.1669732 46.2741073,42.7711741 L46.2741073,42.7711741 L49.6544877,32.5388634 C49.7943202,32.1133276 50.0607882,31.7409505 50.416846,31.4711161 L50.416846,31.4711161 Z",id:"Path",stroke:"#9aa0a6"})))));m();var Ey=xr(Rr()),dAe=n=>Ey.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ey.createElement("title",null,"viz_number"),Ey.createElement("g",{id:"viz_number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ey.createElement("g",{id:"Group",transform:"translate(20.000000, 20.000000)",fill:"#9aa0a6"},Ey.createElement("path",{d:"M-10.5,30.5 L51.5,30.5 C53.709139,30.5 55.5,32.290861 55.5,34.5 L55.5,35.5 C55.5,37.709139 53.709139,39.5 51.5,39.5 L-10.5,39.5 C-12.709139,39.5 -14.5,37.709139 -14.5,35.5 L-14.5,34.5 C-14.5,32.290861 -12.709139,30.5 -10.5,30.5 Z",id:"Rectangle-Copy-60",transform:"translate(20.500000, 35.000000) rotate(-90.000000) translate(-20.500000, -35.000000) "}),Ey.createElement("path",{d:"M19.5,30.5 L81.5,30.5 C83.709139,30.5 85.5,32.290861 85.5,34.5 L85.5,35.5 C85.5,37.709139 83.709139,39.5 81.5,39.5 L19.5,39.5 C17.290861,39.5 15.5,37.709139 15.5,35.5 L15.5,34.5 C15.5,32.290861 17.290861,30.5 19.5,30.5 Z",id:"Rectangle-Copy-61",transform:"translate(50.500000, 35.000000) rotate(-90.000000) translate(-50.500000, -35.000000) "}),Ey.createElement("path",{d:"M4,14 L66,14 C68.209139,14 70,15.790861 70,18 L70,19 C70,21.209139 68.209139,23 66,23 L4,23 C1.790861,23 2.705415e-16,21.209139 0,19 L0,18 C-2.705415e-16,15.790861 1.790861,14 4,14 Z",id:"Rectangle-Copy-63",transform:"translate(35.000000, 18.500000) rotate(-360.000000) translate(-35.000000, -18.500000) "}),Ey.createElement("path",{d:"M4,44 L66,44 C68.209139,44 70,45.790861 70,48 L70,49 C70,51.209139 68.209139,53 66,53 L4,53 C1.790861,53 2.705415e-16,51.209139 0,49 L0,48 C-2.705415e-16,45.790861 1.790861,44 4,44 Z",id:"Rectangle-Copy-62",transform:"translate(35.000000, 48.500000) rotate(-360.000000) translate(-35.000000, -48.500000) "}))));m();var y9=xr(Rr()),hAe=n=>y9.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},y9.createElement("title",null,"viz_percent"),y9.createElement("g",{id:"viz_percent",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},y9.createElement("g",{id:"%-copy-5",transform:"translate(19.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},y9.createElement("path",{d:"M16.1194226,31.5251397 C19.1010499,31.5251397 21.8186789,30.8184358 24.2723097,29.4050279 C26.7259405,27.9916201 28.6671041,26.0712291 30.0958005,23.6438547 C31.5244969,21.2164804 32.2388451,18.5893855 32.2388451,15.7625698 C32.2388451,12.9357542 31.5244969,10.3086592 30.0958005,7.88128492 C28.6671041,5.45391061 26.7259405,3.53351955 24.2723097,2.12011173 C21.8186789,0.706703911 19.1010499,0 16.1194226,0 C13.1377953,0 10.4201662,0.706703911 7.96653543,2.12011173 C5.51290464,3.53351955 3.57174103,5.45391061 2.14304462,7.88128492 C0.714348206,10.3086592 0,12.9357542 0,15.7625698 C0,18.5893855 0.714348206,21.2164804 2.14304462,23.6438547 C3.57174103,26.0712291 5.51290464,27.9916201 7.96653543,29.4050279 C10.4201662,30.8184358 13.1377953,31.5251397 16.1194226,31.5251397 Z M19.9645575,62.4787112 L57.1929452,7.56550735 C58.3200259,5.90302296 57.8859954,3.64163362 56.223511,2.5145529 C56.2107419,2.50589603 56.1979177,2.49732049 56.1850394,2.48882682 C54.4804105,1.3645685 52.1887314,1.81914062 51.0422905,3.50893047 L13.7228276,58.5157377 C12.6107181,60.1549252 13.0379992,62.3852921 14.6771866,63.4974016 C14.7072768,63.5178164 14.7376757,63.5377723 14.7683727,63.5572626 C16.507245,64.6613129 18.8087263,64.1836036 19.9645575,62.4787112 Z M16.1194226,24.150838 C13.8832021,24.150838 12.0041557,23.3519553 10.4822835,21.7541899 C8.9604112,20.1564246 8.19947507,18.1592179 8.19947507,15.7625698 C8.19947507,13.3044693 8.9604112,11.2918994 10.4822835,9.72486034 C12.0041557,8.15782123 13.8832021,7.37430168 16.1194226,7.37430168 C18.4177603,7.37430168 20.3278653,8.15782123 21.8497375,9.72486034 C23.3716098,11.2918994 24.1325459,13.3044693 24.1325459,15.7625698 C24.1325459,18.2206704 23.3716098,20.2332402 21.8497375,21.8002793 C20.3278653,23.3673184 18.4177603,24.150838 16.1194226,24.150838 Z M54.8805774,66 C57.8622047,66 60.5798338,65.2932961 63.0334646,63.8798883 C65.4870954,62.4664804 67.428259,60.5460894 68.8569554,58.1187151 C70.2856518,55.6913408 71,53.0642458 71,50.2374302 C71,47.4106145 70.2856518,44.7835196 68.8569554,42.3561453 C67.428259,39.9287709 65.4870954,38.0083799 63.0334646,36.5949721 C60.5798338,35.1815642 57.8622047,34.4748603 54.8805774,34.4748603 C51.8989501,34.4748603 49.1813211,35.1815642 46.7276903,36.5949721 C44.2740595,38.0083799 42.3328959,39.9287709 40.9041995,42.3561453 C39.4755031,44.7835196 38.7611549,47.4106145 38.7611549,50.2374302 C38.7611549,53.0642458 39.4755031,55.6913408 40.9041995,58.1187151 C42.3328959,60.5460894 44.2740595,62.4664804 46.7276903,63.8798883 C49.1813211,65.2932961 51.8989501,66 54.8805774,66 Z M54.8805774,58.6256983 C52.644357,58.6256983 50.7653106,57.8268156 49.2434383,56.2290503 C47.7215661,54.6312849 46.9606299,52.6340782 46.9606299,50.2374302 C46.9606299,47.7793296 47.7215661,45.7667598 49.2434383,44.1997207 C50.7653106,42.6326816 52.644357,41.849162 54.8805774,41.849162 C57.1789151,41.849162 59.0890201,42.6326816 60.6108924,44.1997207 C62.1327647,45.7667598 62.8937008,47.7793296 62.8937008,50.2374302 C62.8937008,52.6340782 62.1172353,54.6312849 60.5643045,56.2290503 C59.0113736,57.8268156 57.1167979,58.6256983 54.8805774,58.6256983 Z",id:"%-copy-2"}))));m();var Fx=xr(Rr()),pAe=n=>Fx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Fx.createElement("title",null,"viz_boolean"),Fx.createElement("g",{id:"viz_boolean",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Fx.createElement("g",{id:"noun_switch_3350414-2",transform:"translate(20.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Fx.createElement("g",{id:"noun_switch_3350414"},Fx.createElement("path",{d:"M15.2972028,30.8 L54.7027972,30.8 C63.151209,30.8 70,23.9051851 70,15.4 C70,6.89481485 63.151209,0 54.7027972,0 L15.2972028,0 C6.84879098,0 0,6.89481485 0,15.4 C0,23.9051851 6.84879098,30.8 15.2972028,30.8 Z M15.2972028,6.16 L54.7027972,6.16 C59.7718443,6.16 63.8811189,10.2968889 63.8811189,15.4 C63.8811189,20.5031111 59.7718443,24.64 54.7027972,24.64 L15.2972028,24.64 C10.2281557,24.64 6.11888112,20.5031111 6.11888112,15.4 C6.11888112,10.2968889 10.2281557,6.16 15.2972028,6.16 Z",id:"Shape"}),Fx.createElement("path",{d:"M19.6340542,21.9997804 C22.2930484,22.0215224 24.7022661,20.4273668 25.7348338,17.9629544 C26.7674016,15.4985421 26.2191958,12.6510518 24.3466309,10.7523518 C22.474066,8.85365189 19.6473211,8.27908795 17.1885612,9.29740315 C14.7298014,10.3157183 13.125,12.7256064 13.125,15.3998806 C13.125,19.0240523 16.0305897,21.9703156 19.6340542,21.9997804 L19.6340542,21.9997804 Z",id:"Path"}),Fx.createElement("path",{d:"M54.7027971,35.2 L15.2972025,35.2 C6.84879081,35.2 0,42.094815 0,50.6 C0,59.105185 6.84879081,66 15.2972025,66 L54.7027971,66 C63.151209,66 70,59.1051851 70,50.6 C70,42.0948149 63.151209,35.2 54.7027971,35.2 L54.7027971,35.2 Z M54.7027971,59.84 L15.2972025,59.84 C10.2281554,59.84 6.11888082,55.7031111 6.11888082,50.6 C6.11888082,45.4968889 10.2281554,41.36 15.2972025,41.36 L54.7027971,41.36 C59.7718442,41.36 63.8811189,45.4968889 63.8811189,50.6 C63.8811189,55.7031111 59.7718442,59.84 54.7027971,59.84 L54.7027971,59.84 Z",id:"Shape"}),Fx.createElement("path",{d:"M50.3659458,44.0002196 C47.7069516,43.9784776 45.2977339,45.5726332 44.2651662,48.0370456 C43.2325984,50.5014579 43.7808042,53.3489482 45.6533691,55.2476482 C47.525934,57.1463481 50.3526789,57.720912 52.8114388,56.7025969 C55.2701986,55.6842817 56.875,53.2743936 56.875,50.6001194 C56.875,46.9759477 53.9694103,44.0296844 50.3659458,44.0002196 Z",id:"Path"})))));m();var nN=xr(Rr()),mAe=n=>nN.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},nN.createElement("title",null,"viz_sparkline"),nN.createElement("g",{id:"viz_sparkline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},nN.createElement("polyline",{id:"Path-11",stroke:"#9aa0a6",strokeWidth:6,points:"10 54.8274509 25.9215088 61.0844803 40.1501567 54.8274509 53.3907166 68.7215958 69.5925598 42 83.3327332 64.4487228 100.431152 57.8274509"})));m();var Sb=xr(Rr()),xAe=n=>Sb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Sb.createElement("title",null,"viz_link"),Sb.createElement("g",{id:"viz_link",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Sb.createElement("g",{id:"link_black_24dp",transform:"translate(5.000000, 5.000000)"},Sb.createElement("path",{d:"M5,0 L96,0 C98.7614237,-5.07265313e-16 101,2.23857625 101,5 L101,96 C101,98.7614237 98.7614237,101 96,101 L5,101 C2.23857625,101 3.38176876e-16,98.7614237 0,96 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),Sb.createElement("path",{d:"M71,30 L58.4,30 C56.0804041,30 54.2,31.8804041 54.2,34.2 C54.2,36.5195959 56.0804041,38.4 58.4,38.4 L71,38.4 L71,38.4 C77.93,38.4 83.6,44.07 83.6,51 C83.6,57.93 77.93,63.6 71,63.6 L58.4,63.6 C56.0804041,63.6 54.2,65.4804041 54.2,67.8 C54.2,70.1195959 56.0804041,72 58.4,72 L71,72 L71,72 C82.592,72 92,62.592 92,51 C92,39.408 82.592,30 71,30 Z M41.6,63.6 L29,63.6 L29,63.6 C22.07,63.6 16.4,57.93 16.4,51 C16.4,44.07 22.07,38.4 29,38.4 L41.6,38.4 C43.9195959,38.4 45.8,36.5195959 45.8,34.2 C45.8,31.8804041 43.9195959,30 41.6,30 L29,30 L29,30 C17.408,30 8,39.408 8,51 C8,62.592 17.408,72 29,72 L41.6,72 C43.9195959,72 45.8,70.1195959 45.8,67.8 C45.8,65.4804041 43.9195959,63.6 41.6,63.6 Z M37.4,46.8 L62.6,46.8 C64.9195959,46.8 66.8,48.6804041 66.8,51 C66.8,53.3195959 64.9195959,55.2 62.6,55.2 L37.4,55.2 C35.0804041,55.2 33.2,53.3195959 33.2,51 C33.2,48.6804041 35.0804041,46.8 37.4,46.8 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));var wz=({renderer:n})=>{let e={width:"22px",height:"22px"};return n==="table"?v.createElement(Xwe,{...e}):n==="dashboard"?v.createElement(Zwe,{...e}):n==="text"?v.createElement(eAe,{...e}):n==="currency"?v.createElement(tAe,{...e}):n==="image"?v.createElement(nAe,{...e}):n==="time"?v.createElement(rAe,{...e}):n==="json"?v.createElement(iAe,{...e}):n==="list"?v.createElement(sAe,{...e}):n==="list_detail"?v.createElement(oAe,{...e}):n==="bar_chart"?v.createElement(aAe,{...e}):n==="scatter_chart"?v.createElement(U$,{...e}):n==="line_chart"?v.createElement(uAe,{...e}):n==="point_map"?v.createElement(lAe,{...e}):n==="segment_map"?v.createElement(cAe,{...e}):n==="shape_map"?v.createElement(fAe,{...e}):n==="number"?v.createElement(dAe,{...e}):n==="percent"?v.createElement(hAe,{...e}):n==="boolean"?v.createElement(pAe,{...e}):n==="spark_line"?v.createElement(mAe,{...e}):n==="link"?v.createElement(xAe,{...e}):null};var Fd=({setDataStyle:n,onComplete:e,allowedRenderers:t})=>v.createElement(m1,null,v.createElement(Kl,null,v.createElement(Il,null,v.createElement(L1t,null,t.map(r=>v.createElement(Lo,{icon:v.createElement(wz,{renderer:r}),key:r,onClick:()=>{n(r),e()},name:r,color:"other"})))))),L1t=$n.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;m();m();var gAe=xr(Rr());var Sy=({byField:n,addOrderBy:e,onComplete:t,initialDirection:r})=>{let[i,s]=(0,gAe.useState)(r||"asc");return v.createElement(_f,null,v.createElement(bc,null,"Order By",v.createElement(P$,null,v.createElement($C,{color:"dimension"},v.createElement(O2,{type:zA(n),kind:cI(n)})),v.createElement(B$,null,n.name))),v.createElement("form",null,v.createElement(x1,null,v.createElement(k1t,null,v.createElement(Goe,{options:[{value:"asc",label:"Ascending"},{value:"desc",label:"Descending"}],value:i,onChange:s}))),v.createElement(p1,null,v.createElement(Yl,{type:"submit",onClick:()=>{n!==void 0&&(e(n.fieldIndex,i),t())}},"Done"))))},k1t=$n.div`
  display: flex;
  border: 1px solid #efefef;
  border-radius: 5px;
  overflow: hidden;
`;m();m();var yAe=xr(Rr());var Cy=({rename:n,onComplete:e})=>{let[t,r]=(0,yAe.useState)("");return v.createElement(_f,null,v.createElement(bc,null,"Rename"),v.createElement(UC,null,v.createElement(Ba,{value:t,setValue:r,placeholder:"new_name",autoFocus:!0}),v.createElement(Yl,{type:"submit",onClick:()=>{n(t),e()}},"Done")))};var bae=({source:n,rename:e,name:t,closeMenu:r,setDataStyle:i,fieldIndex:s,beginReorderingField:o,isEditable:a,editDimension:c,definition:d,saveDimension:p,canSave:b,filterField:C,filterFieldPath:N,addFilter:R,stagePath:U,addOrderBy:V,orderByField:P,analysisPath:$})=>v.createElement(Xl,{closeMenu:r,actions:[{kind:"sub_menu",id:"rename",iconName:"rename",label:"Rename",iconColor:"other",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Cy,{rename:e,onComplete:M})},{kind:"sub_menu",id:"filter_on",iconName:"filter",label:"Filter By",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:M})=>C&&N?v.createElement(JO,{analysisPath:$,onComplete:M,source:n,field:C,fieldPath:N,needsRename:!1,addFilter:G=>R(U,G)}):v.createElement("div",null)},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Sy,{byField:P,addOrderBy:(G,ae)=>V(U,G,ae),onComplete:M})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Fd,{setDataStyle:i,onComplete:M,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",isEnabled:a,iconColor:"other",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(XO,{source:n,addDimension:G=>c(s,G),onComplete:M,initialCode:d,initialName:t})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:o},{kind:"one_click",id:"save_definition",label:"Save Dimension",iconName:"save",isEnabled:b,iconColor:"dimension",onClick:()=>{p&&p()}}]});m();m();m();m();var Eae=xr(Rr());m();m();var vAe=xr(Rr());var A1=({fields:n,selectField:e,filter:t,showNested:r,path:i=[],topValues:s})=>v.createElement(I1t,null,n.filter(o=>t(o)||r&&o.type==="struct").map(o=>{if(t(o)){let a=o.type==="struct"?"source":o.type==="turtle"?"query":o.type,c=o.type==="struct"?"source":o.type==="turtle"?"query":o.aggregate?"measure":"dimension",d=[...i,o.as||o.name].join(".");return v.createElement(av,{width:300,key:o.as||o.name,content:()=>v.createElement(Lo,{icon:v.createElement(O2,{type:a,kind:c}),onClick:()=>e(d,o),name:o.as||o.name,color:c}),popoverContent:()=>v.createElement(ov,{fieldPath:d,topValues:s})})}else return o.type==="struct"&&_Ae(o,t)?v.createElement(M1t,{key:o.as||o.name,source:o,filter:t,selectField:e,path:[...i,o.as||o.name],topValues:s}):null})),I1t=$n.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function _Ae(n,e){return n.fields.some(e)||n.fields.some(t=>t.type==="struct"&&_Ae(t,e))}var M1t=({source:n,filter:e,selectField:t,path:r,topValues:i})=>{let[s,o]=(0,vAe.useState)(!1);return v.createElement("div",null,v.createElement(Lo,{icon:v.createElement(wo,{action:s?"container-open":"container-closed",color:"other"}),onClick:()=>o(!s),name:n.as||n.name,color:"other"}),s&&v.createElement(cy,null,v.createElement(A1,{filter:e,selectField:t,fields:n.fields,showNested:!0,path:r,topValues:i})))};var wy=({source:n,addFilter:e,onComplete:t,needsRename:r,topValues:i,analysisPath:s})=>{let[o,a]=(0,Eae.useState)(""),[c,d]=(0,Eae.useState)(),{searchResults:p,isLoading:b}=ib(n,s,o),C=p&&p.filter(M=>M.fieldType==="string").slice(0,100),N=Bf(n).filter(({field:M})=>HA(M)).map(({field:M,path:G})=>({item:b0(M,G),terms:E0(M,G),key:P1t(G),select:()=>d({path:G,def:M})})),{searchList:R,count:U}=d9({searchTerm:o,items:N||[],topValues:i}),V=C?.length||0,P=U>0,$=V>0||b;return v.createElement("div",null,!c&&v.createElement(mh,null,v.createElement(Ad,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),v.createElement("div",null,c&&v.createElement(JO,{analysisPath:s,source:n,fieldPath:c.path,field:c.def,addFilter:e,onComplete:t,needsRename:r}),!c&&v.createElement(v.Fragment,null,o===""&&v.createElement(Kl,null,v.createElement(Il,null,v.createElement(A1,{fields:n.fields,filter:HA,showNested:!0,selectField:(M,G)=>d({path:M,def:G}),topValues:i}))),o!==""&&v.createElement(v.Fragment,null,P&&v.createElement(Kl,{style:{borderBottom:P?"1px solid #efefef":"",maxHeight:$?"200px":"300px"}},v.createElement(Il,null,R)),$&&n&&v.createElement(Kl,{style:{borderBottom:"1px solid #efefef",maxHeight:P?"200px":"300px"}},v.createElement(Il,null,C&&C.length>0&&C.map((M,G)=>v.createElement(Lo,{key:G,name:M.fieldValue,detail:M.fieldName,icon:v.createElement(wo,{action:"filter"}),color:"filter",onClick:()=>{bx(n,`${M.fieldName} = '${M.fieldValue}'`).then(ae=>{e&&e(ae),t()})}})),C!==void 0&&C.length===0&&v.createElement(kl,null,"No value results"),b&&v.createElement(kl,null,v.createElement(N2,{text:"Loading value results..."}))))),!P&&!$&&v.createElement(kl,null,"No results"))))};function P1t(n){return"field/"+n}m();m();var Sae=xr(Rr());var rN=({source:n,addMeasure:e,onComplete:t,initialCode:r,initialName:i})=>{let[s,o]=(0,Sae.useState)(r||""),[a,c]=(0,Sae.useState)(i||""),d=r===void 0;return v.createElement(_f,null,v.createElement(bc,null,d?"New":"Edit"," measure"),v.createElement("form",null,v.createElement(x1,null,d&&v.createElement(Ba,{value:a,setValue:c,placeholder:"field name",label:"Field Name",autoFocus:!0}),v.createElement(Ba,{value:s,setValue:o,placeholder:"some_field * 10",label:d?"Definition":void 0})),v.createElement(p1,null,v.createElement(Yl,{type:"submit",onClick:p=>{L9e(n,a,s).then(b=>{e(b),t()}).catch(console.log),p.preventDefault(),p.stopPropagation()}},"Done"))))};var Cae=({source:n,addFilter:e,rename:t,closeMenu:r,setDataStyle:i,beginReorderingField:s,isRenamed:o,editMeasure:a,name:c,definition:d,isEditable:p,fieldIndex:b,topValues:C,saveMeasure:N,canSave:R,addOrderBy:U,orderByField:V,stagePath:P,analysisPath:$})=>v.createElement(Xl,{closeMenu:r,actions:[{kind:"sub_menu",id:"filter",iconName:"filter",iconColor:"filter",label:"Filter",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(wy,{analysisPath:$,source:n,addFilter:e,onComplete:M,needsRename:!o,topValues:C})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Cy,{rename:t,onComplete:M})},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Sy,{byField:V,addOrderBy:(G,ae)=>U(P,G,ae),onComplete:M})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Fd,{setDataStyle:i,onComplete:M,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",iconColor:"other",isEnabled:p,closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(rN,{source:n,addMeasure:G=>a(b,G),onComplete:M,initialCode:d,initialName:c})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:s},{kind:"one_click",id:"save_definition",label:"Save Measure",iconName:"save",isEnabled:R,iconColor:"measure",onClick:()=>{N&&N()}}]});m();m();var wae=({renameField:n,replaceWithDefinition:e,closeMenu:t,setDataStyle:r,beginReorderingField:i})=>v.createElement(Xl,{closeMenu:t,actions:[{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:s})=>v.createElement(Cy,{rename:n,onComplete:s})},{kind:"sub_menu",id:"style",label:"Style",iconColor:"other",iconName:"style",closeOnComplete:!0,Component:({onComplete:s})=>v.createElement(Fd,{setDataStyle:r,onComplete:s,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"one_click",id:"expand_definition",label:"Duplicate",iconName:"duplicate",iconColor:"other",onClick:e},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:i}]});m();m();m();m();var bAe=xr(Rr());var Ay=({existing:n,addLimit:e,onComplete:t})=>{let[r,i]=(0,bAe.useState)(n?.toString()||"10");return v.createElement(_f,null,v.createElement(bc,null,"Limit"),v.createElement(UC,null,v.createElement(Ba,{value:r,setValue:i,autoFocus:!0,autoSelect:!0}),v.createElement(Yl,{onClick:()=>{let s=parseInt(r);Number.isNaN(s)||(e(s),t())},type:"submit"},"Done")))};var Aae=({limit:n,editLimit:e,closeMenu:t})=>v.createElement(Xl,{closeMenu:t,actions:[{id:"edit",label:"Change limit",iconName:"limit",iconColor:"other",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:r})=>v.createElement(Ay,{addLimit:e,onComplete:r,existing:n})}]});m();m();m();m();var Tae=xr(Rr());var Cb=({source:n,selectField:e,addNewMeasure:t,onComplete:r})=>{let[i,s]=(0,Tae.useState)(!1),[o,a]=(0,Tae.useState)("");return v.createElement(m1,null,!i&&v.createElement(v.Fragment,null,v.createElement(mh,null,v.createElement(Ad,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),v.createElement(Kl,null,v.createElement(Il,null,o===""&&v.createElement(v.Fragment,null,v.createElement(Lo,{icon:v.createElement(wo,{action:"add"}),onClick:()=>s(!0),name:"New Measure",color:"other"}),v.createElement(A1,{fields:n.fields,filter:MK,showNested:!0,selectField:e,topValues:void 0})),o!==""&&v.createElement(v.Fragment,null,v.createElement(gy,{topValues:void 0,searchTerm:o,items:Bf(n).filter(({field:c})=>MK(c)).map(({field:c,path:d})=>({item:b0(c,d),terms:[...E0(c,d),"aggregate"],detail:Zd(d),key:B1t(d),select:()=>e(d)}))}))))),i&&v.createElement(rN,{addMeasure:t,source:n,onComplete:r}))};function B1t(n){return"aggregate/"+n}m();m();var Fae=xr(Rr());var wb=({source:n,selectField:e,addNewDimension:t,onComplete:r,topValues:i})=>{let[s,o]=(0,Fae.useState)(!1),[a,c]=(0,Fae.useState)("");return v.createElement(m1,null,!s&&v.createElement(v.Fragment,null,v.createElement(mh,null,v.createElement(Ad,{placeholder:"Search",value:a,setValue:c,autoFocus:!0})),v.createElement(Kl,null,v.createElement(Il,null,a===""&&v.createElement(v.Fragment,null,v.createElement(Lo,{icon:v.createElement(wo,{action:"add"}),onClick:()=>o(!0),name:"New Dimension",color:"other"}),v.createElement(A1,{fields:n.fields,filter:d=>d.type!=="turtle"&&d.type!=="struct"&&!d.aggregate,showNested:!0,selectField:e,topValues:i})),a!==""&&v.createElement(v.Fragment,null,v.createElement(gy,{topValues:i,searchTerm:a,items:Bf(n).filter(({field:d})=>HA(d)).map(({field:d,path:p})=>({item:b0(d,p),terms:[...E0(d,p),"group_by"],detail:Zd(p),key:j1t(p),select:()=>e(p)}))}))))),s&&v.createElement(XO,{addDimension:t,source:n,onComplete:r}))};function j1t(n){return"group_by/"+n}m();m();var Oae=xr(Rr());m();m();var EAe=xr(Rr());var Dae=({addNest:n,onComplete:e})=>{let[t,r]=(0,EAe.useState)("");return v.createElement(_f,null,v.createElement(bc,null,"New Nested Query"),v.createElement("form",null,v.createElement(Ba,{value:t,setValue:r,placeholder:"query_name",autoFocus:!0}),v.createElement(p1,null,v.createElement(Yl,{type:"submit",onClick:()=>{n(t),e()}},"Done"))))};var Ab=({source:n,selectField:e,selectNewNest:t,onComplete:r})=>{let[i,s]=(0,Oae.useState)(!1),[o,a]=(0,Oae.useState)("");return v.createElement(m1,null,!i&&v.createElement(v.Fragment,null,v.createElement(mh,null,v.createElement(Ad,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),v.createElement(Kl,null,v.createElement(Il,null,o===""&&v.createElement(v.Fragment,null,v.createElement(Lo,{icon:v.createElement(wo,{action:"add"}),onClick:()=>s(!0),name:"New Nested Query",color:"other"}),v.createElement(A1,{fields:n.fields,filter:c=>c.type==="turtle",showNested:!0,selectField:e,topValues:void 0})),o!==""&&v.createElement(v.Fragment,null,v.createElement(gy,{topValues:void 0,searchTerm:o,items:Bf(n).filter(({field:c})=>dI(c)).map(({field:c,path:d})=>({item:b0(c,d),terms:[...E0(c,d),"nest"],detail:Zd(d),key:q1t(d),select:()=>e(d)}))}))))),i&&v.createElement(Dae,{addNest:t,onComplete:r}))};function q1t(n){return"nest/"+n}m();m();var SAe=xr(Rr());var Tb=({addOrderBy:n,orderByFields:e,onComplete:t})=>{let[r,i]=(0,SAe.useState)();return e.length===0?v.createElement(_f,null,v.createElement(bc,null,"Order By"),v.createElement(kl,null,"You must add some fields first.")):v.createElement("div",null,r===void 0&&v.createElement(m1,null,v.createElement(Il,null,v.createElement(U1t,null,e.map(s=>v.createElement(Lo,{icon:v.createElement(O2,{type:s.type,kind:"dimension"}),key:s.name,onClick:()=>i(s),name:s.name,color:"dimension"}))))),r!==void 0&&v.createElement(Sy,{addOrderBy:n,onComplete:t,byField:r}))},U1t=$n.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;var Nae=({source:n,toggleField:e,addFilter:t,addLimit:r,addOrderBy:i,addNewNestedQuery:s,stagePath:o,orderByFields:a,addNewDimension:c,addNewMeasure:d,closeMenu:p,setDataStyle:b,beginReorderingField:C,addStage:N,topValues:R,saveQuery:U,canSave:V,rename:P,analysisPath:$})=>v.createElement(Xl,{topValues:R,valueSearchSource:n,valueSearchAnalysisPath:$,addFilter:M=>t(o,M),closeMenu:p,actions:[{kind:"sub_menu",id:"group_by",label:"Group By",iconColor:"dimension",iconName:"group_by",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(wb,{source:n,selectField:G=>e(o,G),addNewDimension:G=>c(o,G),onComplete:M,topValues:R})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Cb,{source:n,selectField:G=>e(o,G),addNewMeasure:G=>d(o,G),onComplete:M})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Ab,{source:n,selectField:G=>e(o,G),selectNewNest:G=>s(o,G),onComplete:M})},{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(wy,{analysisPath:$,source:n,addFilter:(G,ae)=>t(o,G,ae),onComplete:M,needsRename:!1,topValues:R})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Ay,{addLimit:G=>r(o,G),onComplete:M})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Tb,{addOrderBy:(G,ae)=>i(o,G,ae),orderByFields:a,onComplete:M})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Fd,{setDataStyle:b,onComplete:M,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:M})=>v.createElement(Cy,{rename:P,onComplete:M})},{kind:"one_click",id:"add_stage",label:"Add stage",iconName:"stage",iconColor:"other",onClick:N},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:C},{kind:"one_click",id:"save_definition",label:"Save Query",iconName:"save",isEnabled:V,iconColor:"query",onClick:U}],searchItems:Bf(n).map(({field:M,path:G})=>({item:b0(M,G),terms:E0(M,G),detail:Zd(G),key:G,select:()=>e(o,G)}))});m();m();m();m();var CAe=xr(Rr());var Rae=({existing:n,editFilter:e,source:t,onComplete:r})=>{let[i,s]=(0,CAe.useState)(n);return v.createElement(_f,null,v.createElement(bc,null,"Edit Filter"),v.createElement("form",null,v.createElement(Ba,{value:i,setValue:s,placeholder:"filter_expression",autoFocus:!0}),v.createElement(p1,null,v.createElement(Yl,{type:"submit",onClick:()=>{bx(t,i).then(o=>{e(o),r()})}},"Done"))))};var Lae=({filterSource:n,editFilter:e,closeMenu:t,source:r})=>v.createElement(Xl,{closeMenu:t,actions:[{id:"edit",label:"Change filter",iconName:"filter",iconColor:"filter",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:i})=>v.createElement(Rae,{editFilter:e,onComplete:i,existing:n,source:r})}]});m();m();var kae=({closeMenu:n,editOrderBy:e,orderByField:t,existingDirection:r})=>v.createElement(Xl,{closeMenu:n,actions:[{kind:"sub_menu",id:"edit",iconName:"order_by",iconColor:"other",label:"Edit Order By",closeOnComplete:!0,Component:({onComplete:i})=>v.createElement(Sy,{addOrderBy:(s,o)=>e(o),onComplete:i,byField:t,initialDirection:r})}]});m();m();var Iae=({onComplete:n,setDataStyle:e,allowedRenderers:t})=>v.createElement(Fd,{onComplete:n,setDataStyle:e,allowedRenderers:t});m();m();var Az=({source:n,toggleField:e,addFilter:t,addLimit:r,addOrderBy:i,addNewNestedQuery:s,stagePath:o,orderByFields:a,addNewDimension:c,addNewMeasure:d,closeMenu:p,setDataStyle:b,isLastStage:C,topValues:N,analysisPath:R})=>v.createElement(Xl,{topValues:N,closeMenu:p,actions:[{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:U})=>v.createElement(wb,{source:n,selectField:V=>e(o,V),addNewDimension:V=>c(o,V),onComplete:U,topValues:N})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:U})=>v.createElement(Cb,{source:n,selectField:V=>e(o,V),addNewMeasure:V=>d(o,V),onComplete:U})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,Component:({onComplete:U})=>v.createElement(Ab,{source:n,selectField:V=>e(o,V),selectNewNest:V=>s(o,V),onComplete:U})},{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:U})=>v.createElement(wy,{analysisPath:R,source:n,addFilter:(V,P)=>t(o,V,P),onComplete:U,needsRename:!1,topValues:N})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:U})=>v.createElement(Ay,{addLimit:V=>r(o,V),onComplete:U})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:U})=>v.createElement(Tb,{addOrderBy:(V,P)=>i(o,V,P),orderByFields:a,onComplete:U})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,isEnabled:C,Component:({onComplete:U})=>v.createElement(Fd,{setDataStyle:b,onComplete:U,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})}],searchItems:Bf(n).map(({field:U,path:V})=>({item:b0(U,V),terms:E0(U,V),detail:Zd(V),key:V,select:()=>e(o,V)}))});m();m();var Mae=({remove:n,closeMenu:e})=>v.createElement(Xl,{closeMenu:e,actions:[{kind:"one_click",id:"remove",iconName:"remove",iconColor:"other",label:"Remove",onClick:n}]});var Pae=({querySummary:n,stagePath:e,queryName:t,topValues:r,analysisPath:i,queryModifiers:s})=>n.stages[0].items.length===0&&n.stages.length===1&&(!e||!e.parts||e.parts.length===0)?v.createElement(kl,null,v.createElement("div",null,"Add fields to the query"),v.createElement("div",null,"with the \u201C+\u201D button")):v.createElement(Bae,null,n.stages.map((o,a)=>{let c=L$(e,{stageIndex:a,fieldIndex:0});return v.createElement("div",{key:"stage/"+a},n.stages.length>1&&v.createElement(jae,{popoverContent:({closeMenu:d})=>v.createElement(Az,{analysisPath:i,source:o.inputSource,toggleField:s.toggleField,addFilter:s.addFilter,addLimit:s.addLimit,addOrderBy:s.addOrderBy,addNewNestedQuery:s.addNewNestedQuery,stagePath:c,remove:()=>s.removeStage(c),orderByFields:o.orderByFields,addNewDimension:s.addNewDimension,addNewMeasure:s.addNewMeasure,closeMenu:d,isLastStage:a===n.stages.length-1,setDataStyle:p=>s.setDataStyle(t,p),stageSummary:o.items,updateFieldOrder:s.updateFieldOrder,topValues:r}),content:({isOpen:d})=>v.createElement(TAe,{active:d},"Stage ",a+1,v.createElement(z$,{className:"back"},v.createElement(H$,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>s.removeStage(c)})))}),v.createElement(wAe,{analysisPath:i,stage:o,queryModifiers:s,stagePath:c,key:"stage/"+a,source:o.inputSource,topValues:r}))})),wAe=({stage:n,topValues:e,analysisPath:t,queryModifiers:r,source:i,stagePath:s})=>{let[o,a]=(0,Dx.useState)(),c=p=>{a(p)},d=n.items.map(p=>"fieldIndex"in p?p.fieldIndex:void 0).filter(fI);return(0,Dx.useEffect)(()=>{let p=b=>{let C=d.findIndex(U=>U===o),N=b.key==="ArrowUp"?-1:b.key==="ArrowDown"?1:0,R=C+N;if(C>-1&&N!==0&&R>=0&&R<d.length){let U=[...d],V=U[C];U[C]=U[R],U[R]=V,r.updateFieldOrder(s,U),a(R)}};return window.addEventListener("keyup",p),()=>window.removeEventListener("keyup",p)}),v.createElement(Bae,null,n.items.map((p,b)=>v.createElement(AAe,{analysisPath:t,key:`${p.type}/${b}`,item:p,stageSummary:n.items,beginReorderingField:c,isSelected:"fieldIndex"in p&&p.fieldIndex===o,deselect:()=>a(void 0),topValues:e,queryModifiers:r,source:i,stagePath:s})))},Bae=$n.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,jae=({popoverContent:n,content:e})=>{let[t,r]=(0,Dx.useState)(!1),i=(0,Dx.useRef)(!1),s=(0,Dx.useRef)(null),o=()=>{i.current=!0,r(!1)};return(0,Dx.useEffect)(()=>{i.current=!1},[t]),v.createElement(v.Fragment,null,v.createElement($1t,{onClick:()=>!i.current&&r(!0)},v.createElement("div",{ref:s,key:t?"open":"closed"},e({isOpen:t,closeMenu:o})),v.createElement(Cd,{open:t,setOpen:r,referenceDiv:s},n({setOpen:r,closeMenu:o}))))},$1t=$n.div`
  position: relative;
`,AAe=({item:n,source:e,stagePath:t,fieldIndex:r,stageSummary:i,isSelected:s,beginReorderingField:o,deselect:a,topValues:c,analysisPath:d,queryModifiers:p})=>{let b=(0,Dx.useRef)(null),C=[];return"styles"in n&&n.styles&&C.push(...n.styles.map(N=>({childItem:N}))),"filters"in n&&n.filters&&C.push(...n.filters.map(N=>({childItem:N,fieldIndex:n.fieldIndex}))),g1(b,()=>s&&a()),v.createElement("div",{ref:b},v.createElement(jae,{popoverContent:({closeMenu:N})=>{if(n.type==="field"||n.type==="field_definition"){if(n.kind==="dimension")return v.createElement(bae,{analysisPath:d,source:e,removeField:()=>p.removeField(t,n.fieldIndex),rename:R=>{p.renameField(t,n.fieldIndex,R)},closeMenu:N,setDataStyle:R=>p.setDataStyle(n.name,R),stagePath:t,stageSummary:i,updateFieldOrder:p.updateFieldOrder,fieldIndex:n.fieldIndex,beginReorderingField:()=>{o(n.fieldIndex),N()},filterField:n.type==="field"?n.field:void 0,filterFieldPath:n.type==="field"?n.path:void 0,name:n.name,isEditable:n.type==="field_definition",canSave:n.saveDefinition!==void 0,definition:n.type==="field_definition"?n.source:void 0,addFilter:p.addFilter,saveDimension:()=>{n.saveDefinition&&p.saveDimension(t,n.fieldIndex,n.name,n.saveDefinition)},editDimension:(R,U)=>p.editDimension(t,R,U),addOrderBy:p.addOrderBy,orderByField:{name:n.name,fieldIndex:n.fieldIndex,type:IK(n.field)}});if(n.kind==="measure"){let R=n.type==="field_definition"||n.kind==="measure"&&n.isRenamed;return v.createElement(Cae,{analysisPath:d,stagePath:t,source:e,removeField:()=>p.removeField(t,n.fieldIndex),addFilter:(U,V)=>p.addFilterToField(t,n.fieldIndex,U,V),rename:U=>{p.renameField(t,n.fieldIndex,U)},closeMenu:N,setDataStyle:U=>p.setDataStyle(n.name,U),isRenamed:R,beginReorderingField:()=>{o(n.fieldIndex),N()},fieldIndex:n.fieldIndex,name:n.name,isEditable:n.type==="field_definition",definition:n.type==="field_definition"?n.source:void 0,canSave:n.saveDefinition!==void 0,editMeasure:(U,V)=>p.editMeasure(t,U,V),saveMeasure:()=>{n.saveDefinition&&p.saveMeasure(t,n.fieldIndex,n.name,n.saveDefinition)},topValues:c,addOrderBy:p.addOrderBy,orderByField:{name:n.name,fieldIndex:n.fieldIndex,type:IK(n.field)}})}else return v.createElement(wae,{source:e,removeField:()=>p.removeField(t,n.fieldIndex),addFilter:R=>p.addFilterToField(t,n.fieldIndex,R),renameField:R=>{p.renameField(t,n.fieldIndex,R)},addLimit:()=>{},replaceWithDefinition:()=>p.replaceWithDefinition(t,n.fieldIndex),closeMenu:N,setDataStyle:R=>p.setDataStyle(n.name,R),beginReorderingField:()=>{o(n.fieldIndex),N()}})}else{if(n.type==="filter")return v.createElement(Lae,{source:e,filterSource:n.filterSource,removeFilter:()=>p.removeFilter(t,n.filterIndex),editFilter:R=>p.editFilter(t,r,n.filterIndex,R),closeMenu:N});if(n.type==="limit")return v.createElement(Aae,{removeLimit:()=>p.removeLimit(t),editLimit:R=>p.editLimit(t,R),closeMenu:N,limit:n.limit});if(n.type==="order_by")return v.createElement(kae,{removeOrderBy:()=>p.removeOrderBy(t,n.orderByIndex),closeMenu:N,orderByField:n.byField,orderByIndex:n.orderByIndex,existingDirection:n.direction,editOrderBy:R=>p.editOrderBy(t,n.orderByIndex,R)});if(n.type==="data_style")return v.createElement(Iae,{onComplete:N,setDataStyle:R=>p.setDataStyle(n.styleKey,R),allowedRenderers:n.allowedRenderers});if(n.type==="nested_query_definition"){let R=L$(t,{fieldIndex:n.fieldIndex,stageIndex:0});return v.createElement(Nae,{analysisPath:d,source:e,toggleField:p.toggleField,addFilter:p.addFilter,addLimit:p.addLimit,addOrderBy:p.addOrderBy,addNewNestedQuery:p.addNewNestedQuery,stagePath:R,remove:()=>p.removeField(t,n.fieldIndex),orderByFields:n.stages[0].orderByFields,addNewDimension:p.addNewDimension,addNewMeasure:p.addNewMeasure,closeMenu:N,setDataStyle:U=>p.setDataStyle(n.name,U),addStage:()=>p.addStage(t,n.fieldIndex),stageSummary:n.stages[0].items,updateFieldOrder:p.updateFieldOrder,topValues:c,rename:U=>{p.renameField(t,n.fieldIndex,U)},canSave:n.saveDefinition!==void 0,saveQuery:()=>{n.saveDefinition&&p.saveNestQuery(t,n.fieldIndex,n.name,n.saveDefinition)},beginReorderingField:()=>{o(n.fieldIndex),N()}})}else return n.type==="error_field"?v.createElement(Mae,{remove:()=>p.removeField(t,n.fieldIndex),closeMenu:N}):v.createElement("div",null)}},content:({isOpen:N,closeMenu:R})=>{if(n.type==="field"||n.type==="field_definition"){let U=n.type==="field"&&!n.isRefined,V;return n.kind==="dimension"?V=v.createElement(Lo,{icon:v.createElement(wo,{action:"group_by"}),name:n.name,unsaved:!U,canRemove:!0,onRemove:()=>{p.removeField(t,n.fieldIndex),R()},color:"dimension",active:N||s}):n.kind==="measure"?V=v.createElement(Lo,{icon:v.createElement(wo,{action:"aggregate"}),name:n.name,canRemove:!0,unsaved:!U,onRemove:()=>{p.removeField(t,n.fieldIndex),R()},color:"measure",active:N||s}):V=v.createElement(Lo,{icon:v.createElement(wo,{action:"nest"}),name:n.name,canRemove:!0,onRemove:()=>{p.removeField(t,n.fieldIndex),R()},color:"query",active:N||s}),v.createElement(av,{width:300,enabled:!N,content:()=>V,zIndex:9,popoverContent:()=>v.createElement(ov,{fieldPath:n.type==="field"?n.path:void 0,definition:n.type!=="field"?n.source:void 0,topValues:void 0})})}else return n.type==="filter"?v.createElement(av,{width:300,enabled:!N,zIndex:9,content:()=>v.createElement(Lo,{icon:v.createElement(wo,{action:"filter"}),name:n.filterSource,canRemove:!0,onRemove:()=>{p.removeFilter(t,n.filterIndex,r),R()},color:"filter",active:N||s}),popoverContent:()=>v.createElement(ov,{filterExpression:n.filterSource,topValues:void 0})}):n.type==="limit"?v.createElement(Lo,{icon:v.createElement(wo,{action:"limit"}),name:`limit: ${n.limit}`,canRemove:!0,onRemove:()=>{p.removeLimit(t),R()},color:"other",active:N||s}):n.type==="order_by"?v.createElement(Lo,{icon:v.createElement(wo,{action:"order_by"}),name:`${n.byField.name} ${n.direction||""}`,canRemove:!0,onRemove:()=>{p.removeOrderBy(t,n.orderByIndex),R()},color:"other",active:N||s}):n.type==="data_style"?v.createElement(Lo,{icon:v.createElement(wz,{renderer:n.renderer}),name:n.renderer,color:"other",canRemove:n.canRemove,onRemove:()=>{p.setDataStyle(n.styleKey,void 0),R()},active:N||s}):n.type==="nested_query_definition"?v.createElement(Lo,{icon:v.createElement(wo,{action:"nest"}),name:n.name,unsaved:!0,canRemove:!0,onRemove:()=>{p.removeField(t,n.fieldIndex),R()},color:"query",active:N||s}):n.type==="error_field"?v.createElement(Lo,{icon:v.createElement(wo,{action:"error"}),name:n.name,unsaved:!1,canRemove:!0,onRemove:()=>{p.removeField(t,n.fieldIndex),R()},color:"error",active:N||s}):v.createElement("div",null)}}),n.type==="nested_query_definition"&&(n.stages[0].items.length>0||n.stages.length>1)&&n.stages.map((N,R)=>{let U=L$(t,{fieldIndex:n.fieldIndex,stageIndex:R});return v.createElement(cy,{key:"stage/"+R},n.stages.length>1&&v.createElement(jae,{popoverContent:({closeMenu:V})=>v.createElement(Az,{analysisPath:d,source:N.inputSource,toggleField:p.toggleField,addFilter:p.addFilter,addLimit:p.addLimit,addOrderBy:p.addOrderBy,addNewNestedQuery:p.addNewNestedQuery,stagePath:U,remove:()=>p.removeStage(U),orderByFields:N.orderByFields,addNewDimension:p.addNewDimension,addNewMeasure:p.addNewMeasure,closeMenu:V,setDataStyle:P=>p.setDataStyle(n.name,P),isLastStage:R===n.stages.length-1,stageSummary:N.items,updateFieldOrder:p.updateFieldOrder,topValues:c}),content:({isOpen:V})=>v.createElement(TAe,{active:V},"Stage ",R+1,v.createElement(z$,{className:"back"},v.createElement(H$,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>p.removeStage(U)})))}),v.createElement(wAe,{analysisPath:d,stage:N,stagePath:U,source:e,topValues:c,queryModifiers:p}))}),C.length>0&&v.createElement(cy,null,v.createElement(Bae,null,C.map(({childItem:N,fieldIndex:R},U)=>v.createElement(AAe,{analysisPath:d,key:"child:"+U,item:N,source:e,stagePath:t,fieldIndex:R,stageSummary:i,isSelected:!1,beginReorderingField:()=>{},deselect:()=>{},topValues:c,queryModifiers:p})))))},TAe=$n.div`
  text-transform: uppercase;
  font-size: 12px;
  border: none;
  overflow: hidden;
  background-color: transparent;
  border-radius: 50px;
  padding: 5px 7px 5px 10px;
  text-align: left;
  margin-bottom: 2px;
  user-select: none;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Google Sans";
  color: #9aa0a6;

  &:hover {
    .back {
      visibility: visible;
    }
  }

  .back {
    visibility: hidden;
  }

  &:hover {
    background-color: #f7f8f8;
  }

  ${({active:n})=>n?`
      background-color: #f7f8f8;
      .back {
        visibility: visible;
      }
    `:""}
`;m();m();var T1=xr(Rr()),qFe=xr(PFe());m();m();var jFe=xr(Rr());m();var dv=xr(Rr()),BFe=n=>dv.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},dv.createElement("title",null,"download_hover"),dv.createElement("g",{id:"download_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},dv.createElement("circle",{id:"Oval",fill:"#EAF2FF",className:"hoverfill",cx:55,cy:55,r:55}),dv.createElement("g",{id:"download_black_24dp",transform:"translate(8.000000, 9.133308)"},dv.createElement("rect",{id:"Rectangle",x:0,y:0,width:94,height:94}),dv.createElement("path",{d:"M19.5833333,78.3333333 L74.4166667,78.3333333 L74.4166667,70.5 L19.5833333,70.5 L19.5833333,78.3333333 Z M74.4166667,35.25 L58.75,35.25 L58.75,11.75 L35.25,11.75 L35.25,35.25 L19.5833333,35.25 L47,62.6666667 L74.4166667,35.25 Z",id:"Shape",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"}))));var oue=({onDownloadHTML:n,onDownloadJSON:e,disabled:t=!1})=>{let[r,i]=(0,jFe.useState)(!1),s=o=>()=>{t||(o(),i(!1))};return v.createElement(Gmt,null,v.createElement(Qmt,{disabled:t,onClick:()=>!t&&i(!0),width:"26px",height:"26px"}),v.createElement(Cd,{open:r,setOpen:i,placement:"bottom-start",width:200,maxHeight:500,yOffset:25},v.createElement(O9e,{options:[{label:"Download HTML",onSelect:s(n)},{label:"Download JSON",onSelect:s(e)}]})))},Qmt=$n(BFe)`
  cursor: pointer;

  .hoverfill {
    fill: transparent;
  }

  ${({disabled:n})=>`
    .primaryfill {
      fill: ${n?mi.other.fillMedium:mi.other.fillStrong};
    }

    &:hover {
      .hoverfill {
        fill: ${n?"transparent":mi.dimension.fillLight};
      }

      .primaryfill {
        fill: ${n?mi.other.fillMedium:mi.dimension.fillStrong};
      }
    }
  `}
`,Gmt=$n.div`
  display: flex;
  align-items: center;
  user-select: none;
`;m();m();var BH=xr(Rr()),Nb=({element:n})=>{let e=(0,BH.useRef)(null);return(0,BH.useEffect)(()=>{let t=e.current;t&&(t.innerHTML="",t.appendChild(n))},[n]),v.createElement("div",{ref:e})};var aue=({source:n,result:e,analysis:t,dataStyles:r,malloy:i,onDrill:s,isRunning:o})=>{let[a,c]=(0,T1.useState)(),[d,p]=(0,T1.useState)(),[b,C]=(0,T1.useState)(),[N,R]=(0,T1.useState)("html"),[U,V]=(0,T1.useState)(!1),[P,$]=(0,T1.useState)(!1),M=(0,T1.useRef)(0),G=W$(e),ae=W$(r);return(0,T1.useEffect)(()=>{$A(i,"malloy").then(p).catch(console.log)},[i]),(0,T1.useEffect)(()=>{e===G&&r===ae||(V(!1),$(!1),c(void 0),e!==void 0&&setTimeout(async()=>{if(t===void 0||n===void 0)return;V(!0),$A(e.sql,"sql").then(C),console.log(e.sql);let I=++M.current,Z=await new qFe.HTMLView(document).render(e.data,{dataStyles:{...t.dataStyles,...r},isDrillingEnabled:!0,onDrill:(me,ye,He)=>{Promise.all(He.map(ot=>bx(n,ot).catch(at=>{console.log(at)}))).then(ot=>{let at=ot.filter(fI);at.length>0&&s(at)})}});setTimeout(()=>{M.current===I&&(V(!1),$(!0),setTimeout(()=>{M.current===I&&c(Z)},0))},0)}))},[e,r,t,ae,G]),v.createElement(Kmt,null,v.createElement(Xmt,null,v.createElement(uue,{onClick:()=>R("malloy"),selected:N==="malloy"},"Malloy"),v.createElement(uue,{onClick:()=>R("sql"),selected:N==="sql"},"SQL"),v.createElement(uue,{onClick:()=>R("html"),selected:N==="html"},"Results"),v.createElement(oue,{disabled:!e||a===void 0||U,onDownloadHTML:()=>PK(a?.outerHTML||"","text/html","result.html"),onDownloadJSON:()=>PK(JSON.stringify(e?.data.toObject()||{},null,2),"application/json","result.json")})),v.createElement(Jmt,null,o&&N!=="malloy"&&v.createElement(N2,{text:"Running"}),N==="html"&&v.createElement(v.Fragment,null,e!==void 0&&U&&v.createElement(N2,{text:"Rendering"}),!a&&P&&v.createElement(N2,{text:"Displaying"}),a&&P&&v.createElement(Ymt,null,v.createElement(Nb,{element:a}))),e!==void 0&&N==="sql"&&v.createElement(UFe,null,b&&v.createElement(Nb,{element:b})),N==="malloy"&&v.createElement(UFe,null,d&&v.createElement(Nb,{element:d}))))},Ymt=$n.div`
  font-size: 14px;
  font-family: "Roboto Mono";
`,Kmt=$n.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  overflow: hidden;
`,Jmt=$n(HC)`
  padding: 20px;
  overflow: auto;
  width: auto;
`,Xmt=$n(j$)`
  gap: 10px;
  justify-content: flex-end;
  padding: 0px 20px;
  flex-direction: row;
`,uue=$n.div`
  padding: 8px;
  cursor: pointer;
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  border-top: 1px solid transparent;
  font-size: 11pt;
  ${({selected:n})=>`border-bottom: 1px solid ${n?"#4285F4":"transparent"}`}
`,UFe=$n.div`
  padding: 0 15px;
  font-family: "Roboto Mono";
  font-size: 14px;
`;m();m();var jH=xr(Rr());m();m();var lue=xr(Rr());var Zmt=({saveQuery:n,open:e,setOpen:t})=>{let[r,i]=(0,lue.useState)("");return v.createElement(Cd,{open:e,setOpen:t},v.createElement(ext,null,v.createElement(bc,null,"Save Query"),v.createElement(UC,null,v.createElement(Ba,{value:r,setValue:i,placeholder:"query_name",autoFocus:!0}),v.createElement(Yl,{type:"submit",onClick:()=>{n(r),i("")}},"Save"))))},ext=$n.div`
  padding: 15px;
`;function cue({saveQuery:n}){let[e,t]=(0,lue.useState)(!1);return{saveQueryPopover:v.createElement(Zmt,{open:e,setOpen:t,saveQuery:i=>{n(i),t(!1)}}),openSaveQueryPopover:()=>t(!0)}}var fue=({saveQuery:n,disabled:e})=>{let{saveQueryPopover:t,openSaveQueryPopover:r}=cue({saveQuery:n});return jH.default.createElement(jH.default.Fragment,null,jH.default.createElement(wo,{action:"save",onClick:()=>!e&&r(),color:e?"other":"dimension"}),t)};m();m();m();m();var $Fe=xr(Rr());var due=({source:n,selectField:e,onComplete:t})=>{let[r,i]=(0,$Fe.useState)("");return v.createElement(m1,null,v.createElement(mh,null,v.createElement(Ad,{placeholder:"Search",value:r,setValue:i,autoFocus:!0})),v.createElement(Kl,null,v.createElement(Il,null,r===""&&v.createElement(A1,{fields:n.fields,filter:s=>s.type==="turtle",showNested:!0,selectField:s=>{e(s),t()},topValues:void 0}),r!==""&&v.createElement(v.Fragment,null,v.createElement(gy,{topValues:void 0,searchTerm:r,items:Bf(n).filter(({field:s})=>dI(s)).map(({field:s,path:o})=>({item:b0(s,o),terms:[...E0(s,o),"query"],detail:Zd(o),key:txt(o),select:()=>e(o)}))})))))};function txt(n){return"load/"+n}var hue=({source:n,stagePath:e,orderByFields:t,closeMenu:r,queryName:i,topValues:s,analysisPath:o,queryModifiers:a})=>v.createElement(Xl,{topValues:s,valueSearchSource:n,valueSearchAnalysisPath:o,addFilter:c=>a.addFilter(e,c),closeMenu:r,actions:[{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:c})=>v.createElement(wb,{topValues:s,source:n,addNewDimension:d=>a.addNewDimension(e,d),selectField:d=>a.toggleField(e,d),onComplete:c})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconColor:"measure",iconName:"aggregate",closeOnComplete:!0,Component:({onComplete:c})=>v.createElement(Cb,{source:n,selectField:d=>a.toggleField(e,d),addNewMeasure:d=>a.addNewMeasure(e,d),onComplete:c})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,Component:({onComplete:c})=>v.createElement(Ab,{source:n,selectField:d=>a.toggleField(e,d),selectNewNest:d=>a.addNewNestedQuery(e,d),onComplete:c})},{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:c})=>v.createElement(wy,{topValues:s,source:n,addFilter:(d,p)=>a.addFilter(e,d,p),onComplete:c,needsRename:!1,analysisPath:o})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:c})=>v.createElement(Ay,{addLimit:d=>a.addLimit(e,d),onComplete:c})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:c})=>v.createElement(Tb,{addOrderBy:(d,p)=>a.addOrderBy(e,d,p),orderByFields:t,onComplete:c})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:c})=>v.createElement(Fd,{setDataStyle:d=>a.setDataStyle(i,d),onComplete:c,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"one_click",id:"add_stage",label:"Add Stage",iconName:"stage",iconColor:"other",onClick:()=>a.addStage(void 0)},{kind:"sub_menu",id:"load_query",label:"Load Query",iconName:"load",iconColor:"query",closeOnComplete:!0,Component:({onComplete:c})=>v.createElement(due,{source:n,selectField:a.loadQuery,onComplete:c})}],searchItems:Bf(n).map(({field:c,path:d})=>({item:b0(c,d),terms:E0(c,d),detail:Zd(d),key:d,select:()=>a.toggleField(e,d)}))});var pue=({source:n,analysis:e,queryName:t,topValues:r,querySummary:i,result:s,dataStyles:o,isRunning:a,queryMalloy:c,queryModifiers:d})=>{let[p,b]=(0,zFe.useState)(!1);return v.createElement(nxt,null,v.createElement(rxt,null,v.createElement(oxt,null,v.createElement(wo,{action:"add",onClick:()=>e&&b(!0),color:e?"dimension":"other"}),v.createElement(Cd,{open:p,setOpen:b},e&&n&&v.createElement(hue,{analysisPath:e.fullPath||e.modelFullPath,source:n,queryModifiers:d,stagePath:{stageIndex:0},orderByFields:i?.stages[0].orderByFields||[],closeMenu:()=>b(!1),queryName:t,stageSummary:i?.stages[0].items||[],isOnlyStage:i?.stages.length===1,topValues:r})),v.createElement(fue,{saveQuery:d.saveCurrentQuery,disabled:!e}),v.createElement(wo,{action:"remove",onClick:()=>d.clearQuery(),color:e?"dimension":"other"})),v.createElement(ixt,null,v.createElement(sxt,null,n&&i&&e&&v.createElement(Pae,{analysisPath:e.fullPath||e.modelFullPath,source:n,querySummary:i,queryModifiers:d,stagePath:void 0,queryName:t,topValues:r}),!e&&v.createElement(kl,null,"Select an analysis to get started")))),v.createElement(aue,{source:n,result:s,analysis:e,dataStyles:o,malloy:c,onDrill:d.onDrill,isRunning:a}))},nxt=$n.div`
  overflow: hidden;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  gap: 10px;
`,rxt=$n.div`
  width: 300px;
  min-width: 300px;
  height: 100%;
  display: flex;
  flex-direction: column;
`,ixt=$n(HC)`
  display: flex;
  overflow-y: auto;
  flex-direction: column;
`,sxt=$n.div`
  padding: 10px;
`,oxt=$n(j$)`
  gap: 20px;
  justify-content: center;
  align-items: center;
`;m();m();var HFe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABAKADAAQAAAABAAABAAAAAABn6hpJAAA4h0lEQVR4Ae1dCXgV1fW/d+btLwshCSCKWtyquNZCCJsgi7JWlKBtXWvF2qqtCARUakCQ1bW1deliq22VKFbWivpnk926tm6tVkBlSQKB5C3JezP3f27gheTlzZt97iTc+b58eXPvueec+5uZc7ff3EGIHxwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEehYCOCOVR331ObiioqQL3zCJBnvHZaUD/QCoAsITgqEJJFI8pICLtgjkJz3vYmTX+154vdeffYmHHeP9/Z7Ujs9vyAmhm9prPFcmoh4zyYY5RMJC7KMkSeUaPTkJncjv/xuoEfd0q59617D30UJ+706/izwAGDxNS95+IkRMvliYQP55DyC4oIW9V6pZ8KLe270S92nbJhxw7tayrRXmT3Tu5VFv86ZHdkZOgseePX7DxAM9ojE/V2ia3BhZPLJMw993l7r7ka/1S+AG712oU8Xzfn1KULg0zca8SenIQLNmIEDIz8JygPe9x28cMTGeaOqDKhwbZHdd3U9L7Ynb3Vsd+hEo06KQYnkXXBwvSf369HdK1DUqB5e7hgChm7UY8X5L4pA6dxfzYx51/9SEg56rEBEREUJP/nO/dumls+zQh9rHf+b1v2xyHudb5cioqYekZq/vsLGeLhn/W0nP7r7WTVZnp8dAR4AsuOjmlsyd+Gfov43rkNIshZLDDME+LKXt0yeUqbqhHsF8Bd3nLS67p3Cy6x2UfDKpLD3gUe7L/p6stW6jyd91t60xxNyUNe+8xe/GPG8NhEh2baaB4U+q7ZPnjfaNgM2Kv7izh7r6/7ZeZBdJmAGgeT3OvTMKU99eatdNjq6Xku6ZB0dpEz1G7D49/Psfvip3Zi8fVTpw3N+l8kHN6ftnt79r3Y+/LTuhCB86F/5t+ydcuK9bsbCzb7xHoCBq1P62GP9Ism1GwmpcySAYhwkId/ogVvvuG2TAXcdL7J/2okT9u3ovERuFBy5v7y5klTQt/r0Eyr2ful4Zdu5QUdu4HaOUbr7uCHx/iqnHn5qnJAYboj/czn8dOSBSq+wnvP9FcU5Bz7Kf86ph5/6lqgTxchnuWv1+MlljyDAA4DOO6HvozOfT6Cd+TqLmRZP4v8V9Fk88zemFdmsILIrb0XDQW/AZjNt1AOv4NRdt/e4q00GT8iKgOtblKzeO5xZ8njFSbHEjp2EaCP4WO0eRrkNB4R9BV9N3hKzWrcV+vZOOrWk6uO8LcDmY3JfeQuStUtW/Luwws5ZWSuAcpEO3gPQcTFI8nAlq4efuklQnb+YnPGQDpcdFY3Ue59n9fDTiiYOejpdPfIc3gvQcdV5ANAIVr+FCy+Mk49LNIrbJibJ+2/utXBwN9sMGFT89V09vhfZFTrNYHHLiiXjnpm7S08KWqawgyviAUDjBW5Ee14gpJFJ17aliwQnfILX6zqGYHRv8Em6LNfSVxa/5UacXyMW3sPCdnu0yQOAhqtWOvfpyxqEf5+pQdQRESzJ157/2IhzHTGmwciuGd1ui+4KuqZXAjf1Lz4aePYJGlw/7kV4ANBwCyQ9XzxtOdVXg10lEYKQh0jEFXMBtNWPfxV+UMlXFungU45EfHNZ2G5vNnkAULlig+b+/Qdx4d2TVcScz5blERc8ernlHHu9Fdk3v/Ce2Bc5nfSWs1teRvj6D0rPO89uO+1dPw8AWa4gIQQTf/RBhJNZpNhlETm5CKwzG3eTtSiA6313s0Mgi2VCROwRF2eR4FmAAA8AWW6D0Qsj14aTo04RhaIsUuyyYChwXu/nx/2QlQdJAf08v//+AjFg38tQZuqGCRqxZ+jFQ8zo6OhleQBQuMI3/pEEYF+PuZh4UB65WkGKbbI334+w1zN38NobHWfeQetfBC9BzhCCEirs7869S/I8IvJg4SHak2N7pdxrnQcAhWuzf38ECCWkB80ONw6DG6m7giSbZMEnIjHkpS8KnBzff+jnTnshCeh+6IE0UaI799uPPGHJaRey2vPD3iMB+IMJwYtqhpfAfg38yIQADwAZUCl7nBQTGU0/liWgfPkHx05d8MvbKYDwUcYtTHjNGLz8+46NU8hGdCY8WM3v4GO/jIov2e8CVI65kCeKzScEkTmkrJSTg5oROfaDB4BjWDT/ikSiFXCS15wAP4LJgciLv9Uyidlv2vLTHkDzQUh+PNJwf/O5zT+SEloAAQC6H8eO/D5VyNvJHRv35tCuf4s3kcHXHlW1EqcIH7tczb94AGiG4siPcQviZ0HXdlJactNpvuSCniS0+nTsn37AesVPBiy92nayUmIdGggP1BXp9rGHoOIh+9KTHT+nz304w9aDMCFYXjdyYLHjDrncIA8AaRcoIUsLYWCdcXPPgHQx8pGz00o4e+rJ8yGc4QaHh9KTSCQW2OkN2KCTaYpLa3kX1SB/cYOdLqjqzoXWX8jwMiJMBObFEw2zVBUcZwI8ALS44GMXxi6Bh39ci6Q2P/Ol69ukOZWAPQLy5PgUzcFNfkWfygkDFQVMZkjr0TUQBPooqcFwNxUN3auUbXu6F5r/UIuxfxuDBN1SPaL0223Sj+MEHgCOXny6VCTJsmLrlrpH/OQcFCCKz0BKzJb/LSf+FA3Isi3LXuQ/8J0ehFQpv3nn1sKHPKKK7tmZkQ+tf7YDJgOBQp2EHh4/UgjwAHAUibEL4z+AIPDdFDDZ/ucnb4DsjKOEbMVM5QkBDxLhT/UgpHfJkgnXqMrpFEh+je6EDQlO1VKsy+XfaBGzVCYEwyKvoH47w/zO2KphfQdbarwdK1NHrB1XTqvrlPQjE1m1dUvp86KTUEgeljp15D9t/bUeGOoyctUdbWcKtSpIkyPbUCEk3ZOWrHgaOiWCcs85pJhvdQad+KNjf+2HvJj2+LTLd1xJHgDg2lbtjfwcbghdL/zkSz9AmIQduTM8uX4kwPhf6wGt3Kk19d/cqVVeTS4ZQ7+Esb+uF36KL4NeAKwMOHGEYdyfaeJPyTZc64trRvRlRqFW8otFuva7ioV3Dtgcu5gUwZf8Zug1JQIJLkf6nt5i+uWhefPk+vSXI+TeoUuvpy23qQMov6eDgtv0KvEXNqL879boLaZbnq73Z1r2U1NEiDyX3DhYe7dKTWE7zT/uA4CciN4PY1tDu/zmSeORKNtLwPNRxh/t4+o9gBxUn4j8Um+xdPkkbkv6SZdROu9y6V4khCSlbEvSKd8/xYjUoxB6NCfXfBX5hZ4yHVH2uA4Aox6Knwkz2z8xemGx4EO50veNFlct18z3V5XMLABd3dtKXrrqjMy56qmJDag/PChXqktmlvDAw1/Q3z5yEOX6+zVM/GX2DhZ8gUJ9eOxgeyO4knGXpB/XAQAlJCDOZCb9aL0+YTIUeaRvaRXXJadn4i+zYuJFSXl+5jwNqRIyvetQUf9q5Clo1GBMnwjl+tDW38wBATIvHo1UmNHR3ssetwFg9MIYUFpJG0qr3gtKu59HlgX1lswuL4Z9rfn+2cUVc2Ea7sqSJWUDFAUUMpLr0dVQ1vQuyAJMBNpBDsqBiT8xA+NPoTqKyRjhW6uG9jlTUaCDZxyXAQAefCxLsunWLXVvBPCFyJ/8TurU/H8Y82fi+xtWLEuqBKeWusm/kU8maF7LNDO/O11wEHlPtI4cRGf8jUz8ZaoDJQcBwfm4JQcdlwFg9KIYEGVI70w3hJE02gvIk26AohqIOhoMePNgow8jE38KuuEmL+m75ErNu5okq9EdMEC2bFxDG+qudFnQosPoxJ+SeWgQvrd/RO9BSvkdOf24CwB3PE78RCYPWn1R/cKpKJQYbFot9kLXNtzqTVvTOqkCmMybp4UcRDajzvDwW/657ZxvRVDo7FrTdfFBYAxmeBnKrGIso+OSHHTcBYDPIxGgtJJTzd4wmco3rQjIwUxZmtO8naD1p02mxQe0ct86UPf17Wpqkwk0E4JFgZqc3nxapeLhexASzZGDzE78KfkNde5dPbzEviUdJcOM04+rADD+16QQxnuaKa16r41XLEK5yTF6izXLi0EvEv3WDCOalbb4AUOB+0qXlHVukdTqJ9mEToPW/6etEi08CXVpRLkXGycHhYENqYXvb9hlgh4kI0daRqE27IeDBY+rANBQF9FNadV7LXLlq5AgKT5jWdV5Mmz0kbWA3kyg88pEmqlUDFr/+dASGqAdKmlsm14M5CAc0E8OolMidObfzgMC5Ck1yRrH91e0s05quo+bADDu4fjpBGPdlFY1ANPzBTGIchMT05NVzz0w8aeH76+qUEEAOuA/7ffK1aelZyfWoVJ4+Cekp1t97s+RUP6A/brVKm30oVuRSgEYKt1zeGgf0xRqFTOuyT5uAkCyEUg/BIgxDhw5eARsz3OKZkt0hx9DfH/NFloIEuKTGhOZyEGWLYu2sJbxZ3G/KiR00k4Ooht9BE0w/jI6oZAIQTA/jtH9CtkdLvm4CAAjF0aB0koMU1r1XnUsiCgvof1lM7sm/pT8BiwmlFZO6JfKT65DZXDjl6bO7f7v8RHU+VKYENR4WL3sp2YWE/KT/cNLDFOo1fS7Kf+4CACYwYc0g2Jv5Gu4QPVaN230AZN/Th/SUXKQ1aQfrfXofEEtErtHVMXpkp/PodY/5QwMk7xIJkAT7/hHhw8A0PoDpZWYprTqvRUw3LR5yWthAT77xJWljD89TkKL3+eF8WWJKvQzKNZmTkCPKiOydD6vaVkwS2G6dKhvo48synRnkfEHhpXoplDrNsO4QIcOAGVLiA/LxDJKq95r5feegQINAxWL0Q0+BSD+sDrCJLkoIQn3sbKff1oE+c5U3jnIKr6/0fpJiHR4clCHDgD1n8fuoAQYozeA2XJNLwrJwC3JRA6CiS0688/yGBz77JTX9xcaW7O0wHHas++iQA6iL/pYxfc36ircOyXVl/XVTKE2aodluQ4bAMoeJp0xki2ntOq9WF5vNxRquLxNsaYPe9LFbUZHgRxDA2Ofo8DBw+iQZOvSf9Ya5nRrQKEL25KDnJ74U3KS0sY7MjmowwaA+sbITJjMsZzSqnSjZEvPgwUIIXnMFbMbfWSzpTVvVOQjeHVJRiGSQGu/0bXdn1YTmuSaKMJp5KDUhz01KbBbCHqQ1YkDd9hthpX+DhkArlgYPw0TbBulVe/F8njzULhhfHMxTfv7N0tb/6NHshZd1PhVs+Liuhq0KxZqPnf6RyhfQjl9j5GDWn7Y02lfMtoj8r2HLitlNlTK6JNFiR0yADTI0nyY+WfXr81wcXKEy5HY2KPpk96tPuyZQdbupLHRf7UyIcILAO/sZRcAqDPF/Y+Qg9I/7NnKUUYn0JPslEgmTe+vyMj9rGY7XAAYPT/aDxh/tlNas6KaIVP0+OFFoR9Yu9FHBjtqSec27kE9E23H3N1iB9AHda0+iKymytJ8fxDIQUP2SDk2vOprhaMQBH5aO7Kf48ulVvieTUeHCwAyIbp2v8kGjtV5ub7+L2OP+IrVerXqoy39mOhHiuI797KblKROde1d+1vgT2xVdJBhBiUHNdr88VUW1etQAWD0vGgZMG8co7TqumAYJzw+cToWcTlCOKGrrEXCfeP/Q0VSvaK24kQd2ljNZqgLoeeQKKNZoiDeregg6wyCrqoZUdpMoWbtjhX2O0wAoKQfGPdnesnFCpxM68CI/GbZ5MB/t014+T+wJ8GTphXqVBAgSTQi9qlqqWhNA0oSBreFgObhIai6cM2WzYDPy6qOMhIACvVDjEzbYpbBlbalHijyeexnEAB62qPdnFZY6qr154QfSGkJhfyzYdsfZQpcStDC/0Njn6GwrP4GXr4UQ2/udbgXgNEuj4weS1XXL3qmQ4+ASS8p5YPif0L67h/WW//73ooK2WZ0iAAweh4pgH1+mVFa1S4h3MxzX7kdN8+8rRv7t2ooY/m+hEp+UNLPgPjnStlt0v21QA5KOreIAnyoe6D1j6ccyX9ty38Bs9+kzl34fx4pK3MOIBsB6BABgODIfTC/5XCzpfGqYPxlz1D4V+nSoS55j8Oe9DvT0+04HwUTf14C30DSeNDhwvpvDH0tTaOFY2LQO3pbHIT+eizlyC+vxzMbgoD5XUTTFVtxTlDP6gM7VfdXtMKU3TrafQAYPS/eExHs2oshwOenfnUnbki/kOuGPBsHLvw96elWn59EST8Nx0g/WvUX1h9Au+IOcAMENAWCAEyytz6gF3AA9kaf2zrVRWcY3Vc7esAxeqeLXNPjSrsPAAQn57mN9JO6APAy0PYV5cEXU+fp/zeXvfw3WBF4Oz3dyvNxkdakH6266ZLhe98EtIobkoMHf5l3EFqvVLjI2xl6TvhLpXyW6fCiUEGioXEmSx+ssN2uA8DYBdG+sJONaydkYE0bWjfcpnVLXTia58HItmWvJtJPsnnqIWVW8/8u8Vr04WF7yEHw8Cc9HjQtmzN49eoGWDadkU2GbR75We2wAT3Z+mDOersOAJLsXtIPzPK/snJacKPa5dl89dINMNZ9VU1Ob74a6Uervt37qCR4aPEBGp/GA5DqumTRa1tfBNntFpu3RB00Pr5G1OjapWctlWy3AWDUvOhV0PXvr6WSjssA6Qe+8DNdq12P4CmnLaJWeS1ypSqkHy06qEznRD16q9ratwWhroeB8VuhxQfaSxKxYFsvSYsPWWUIKasZVtI3q4yLM9tlAJj0FPG6mfQD1/vJVXcHPtN63TdNrISWUHhKq7yaHJ3FH66B9KOmJ5Ufr46jhLXkoPl4EKpK6Vf73/mNbW9BL4QZhVrNP4lY96FZNVtW57fLAPDVwdhPgfJ7utVgWKIPo0MeT2i2Xl0+LMyCru5hveUyyWsl/WQqmyktR25Aa/dYNOGN0W74YvgjmexkTRNwOeDjTnIQQv1qRpS47gW0rHgezWx3AeCKR0gnQmQ3z74+uHwKpkQfXcfGiZXwPqxgev/CTjpJP1qdDBwCclCj+d2L4Ya7tyXpR6v9Lq9v+w982MVxCrVW/yRJnk8mTTIPkFaDFsm1uwDQ0BC7F+peaFH9LVVDiT1du4YfN6o0WJz7KEwe7jJanpajO/3oIf1oteUjEnprr8kVAYzeES9Bz2u1mS4XIGgWzB8cSk93yflp1V+8T3dYbldHuwoAV8yLnQpd/ztcizAW7nn2JtxMadXrJyUHQRChAc7QQUk/32mx048hJVkKFdQfhJ2DglkksmdBFz4j6Sd7qWO5eW9ur4FJwQePpbjtF5l58IrB1s6Y2lzFdhUAGrA0Dzb7YLuVrsIFgRvz7ZXlASD2mDu2TnzpL6DrHSNaxkX/baSY5jL0ZvngG2PwQ8u9wjsYrdVsTEGw0FP4mFMUagUXFJOBHNQ5WRdz7TspmRxvNwFgzIJoH5gJdu0WzaIK6ScT+JnS4OEnQCDSvex1ZKcf3VMPmVzImlbUcBj9qzY3q0x6JrT8EhCespJ+0ssonVNykJ2feFeyqzUdXkq7vXZEn29plWct124CgETIQ9D6w73kvgMe2leXTwuut8qzrWUvrYO5gOVa9VHSz+gsO/1o1aNVbvd+Sm7UfimwgJ7Bl6CPtepXkyt6fdvfaI9LTY5JPkH+BMOP0eitc7sIAGPmRcfDwz9Ab+WckcdJDxZhlx9rD1HE06DbrIkc1Df+JSrOstOPtZ7BXuvJKNpUpe1tQahDneix9mu7tJdEBKK7l2Q1Dor6gJ5ePaJviWK+izJcHwAo6UfGsms/1Ag3+FPLygOqlFa913zLhJc/gQ7PM2rlmnb6iX6iJmZ5frxGIzkIowW4P9pvtQNd1uzYQHteVuu1Qh/0j7Asy4ut0GW3DtcHgK8Pxn4CnOsz7AbCoP7D4VBolsGyqsXgM9oVtAXNJnhp7D8oTNR3+smmw0ge3V1oncoHRcD3rzxe9LAR/ZrKeLxADsKaekma9FkpBD3W6mF9r7RSpR26XB0AyuaTfIJk1+7HDjf4vMo7sWZKq94LuPnKV2C0jRVfNqGkn4Hx/+pVa5l84PBhVJuFHAT43If7oZhlBtMUFf9j06dACbeMQp2m3vQp3LuuJwe5OgBEUOweaP2LTF8JWxTg3V26hh+1RXULpSIWH4Gu7lctkpp/jop+bAvpp9mAyg9KONq8R2FFAKP3YKef51RUmM4O+gKzAB9LKNSmnUlTAMuCZ1R9/u5tacmuOnVtABi1OHYKRPefuwqtFs4IJkk/LVRl/bllYmUMbqQ25KAm0k/D7qxlncgsiNSi3ZG25CCY+aekH+37kBl0Nnf1xirYUGieweL2F8P4lweGDdM2Y2q/N20suDYAoKT0oFtJP7BE986K8sBf2qBpU8K2q5dCS4rfbal+rM2kn5a2sv2mi4Ef7m29PyY8+Ktgp583s5WzMq/wpPCjYHOXlTot00VIoYQOtwngluk3qciVAWDUgsh3Yez7fZN1s604tP5Zd/qx2jB0cQkSyJSU3l6Ne9FpCftJPyl7av87N9QBOSinSQwCguQR0FS1Mlbm42fXxTEWXPuQQU/2zoOj+p1iZZ2t0uXKAAAtv2tJP5Sgs7I8uNaqC6BVz/aJr/wfBIKVR0g/9lJ+tfrUUu6bo+QgoGr9Ht71/6hlnhO/C9dspRTqfzphS7cNIAclG5OuHKa4LgCMmh/5Hkz8DdINsiMFcFLAHstJP5pdx+K00viXchcHST9afctLxtDmqrxGbwAxWbVp6iUhobmXpNVvx+QIuaZ6aL/ejtnTaMhVAaBiLYG9IohrST/Afn1mZbn/Y43YWi62tXvl7j74G9sn1ow6vq8W4yGxihqj5c2WK35j6zoYgmimUJu1p6c8JQcRlHQdOchVAWD7tuitQGs/Sw+wTsnCJFNdQAxVOGUvk51kEk0f2O2wpwGJmbKZp63xn+WNV314C0tHsOiZ5lZyEDRug6pH9LmCJT7ptl0TAH74OMmD5a770x10yzkl5LwyFVtOadVaP7IWnQSydxX74qiuk/teOf/CU4g+9HeH6RtS0f/VHymQA7TW1rhc0Zotn9CemnEN9pYE6sQCUjHYY68V7dpdEwAORmMzwO1i7a47KAlEnBxf6BEHLbYxlcBoLsyNNC24D+16EN6w8beRYZmwLOe8JvMQALpI8drpLH0JCJ4K6AVkpVCz8g/wObPmrehPWNlPt+uKADB2fuxkAOYX6c6555zcWzkZ20ZpVasnWY8ugrHtdSm5oJhEQudw6pT5/x3+k9FX4jGuC4x37xr092t6sHIsd83m/bCJsSKFmpVfKbsy9HRrRpaY3F8tpc3cf1cEAAlJc2Grr4C5qthUGuN3S8rDhvexs8KrJEGLofWnnJvm49LiGlTjObL23pzI4EcjFtHq0DmtLEMwDzY0NM5plejwSXEnoFCjzBRqh13JZK5IShDbvwuZyXB6GvMAMHpe5GK4t3+Y7phrzokwBV7JYzbzntyARsPDf2k6HvR7ml26sJ8MfDNwBjostB2OwITXdaUvXXVRut9OnePKLTGYuHUtOQgu388PDBtwslN4KNlhHgBkDJ/3cu9OPytXzwj+nxJ4dqfDgy/KMlqoZKd3p4Noj5/dhGCtGEQbQgpvakNUlyW2n24rfH3bcxAEWlGolbB0Pp0EJNTIfINTpgFgzPzIWIiEg50HX90iEEsk+Ea9JfvYqVvLLJHYgH4M+LTuX6eJnntCo/1v3KTZTJ2uhK5/AinfQjAUuLTPkitHp+Sd/k/JQVjAbiYH/aBqRMnFTuPS0p7y1WspZcNvSvqByRDF1s0Gk3pV/u7VKX7HKa0pJ2HZLwcGHrNS50r/zwjVo33hQqVs29J3egrQuz66Mpn9wDJZVLakjNlYpWjN9iYKdXYv2eRSchBivHMQswCwY1v0FgDg22ygV7OK6z2BEFNOQlJA5YBPVzVPaf6A7nXIaXLQsvCRZT81/6AOZ++UpR+rydmZL3jp/opYstOGUd0wzBtcNbzvOKPlzZZjEgDGLSC5MiIVZp23qzyMGxcs+wXeZ5d+Nb1kMzoRuv6T1eRS+cXeODrcyaJv96WUZvn/rv8kRHsAWg+YsJzFkhxUuHrbR4Dn77T667gckZiRg5gEAIlEp8MF6eI40BoMwtLR12JByL597DT4kGhEc6BlCGkQbRYZ1vUAqs8wG98sYNEPOuanY389B+3JJOO1TOdTgmEMPTpcr8dvp2ThWn+7ZmNsklP2WtpxPABcuSB6EtwQd7V0wl2/yX3Lb8VRVj6RjegCWPC/Xq99Sg5ChfaTg9YHz0C1QtsdgDT4e3fpkrITNcjZIpKzbNs+eB3HtS+awc7XFSzIQY4HgDghQGklhu4gW+6MFkphnPh+n+nhP7dIcvxnUmoi/Ri6LkNtJgfR9f61Sst+KkjRay7LEltyUIHnIdrDU3GVTTaBTzskZccp1IZuNKMIjZsXuQha/2ZKq1E9dpXDRGRL+lmHRkJ3cJjR+lFyUJGN5CDK+DMz2QjX/vp+S8ouNFo/s+WayEECuc+sHtvKy/gXNSMGOUqhdjQAJN1N+lm9ckbgDdsuropiePBFmaBFKmKq2SWUHBSwnhxEuf5vA+ff3EEEiUim62jGh8L+o6GHh983o8O+srSXFAdavHOHYwFg9PxIRkqrc1VVtkSXiOh75MoS9udI69GPwEovKyyd0zVhOTmIvu0HLbjpA4YCw/pWThhpWpFBBbiiQqZ7Ohosbn8xQq7dP6z0IvsNHbHgSAAoW0KgdXMv6Qcm3f6wcqr/X06Bnm6HvA8f90Fodnq60fOzwnWWkoM+8HVH9H1/qw5ZktmSg97Y+gZc89VW1cdKPXAfAH9ReshKndl0ORIAIl9EKRFE39pRNq+tzMM4Ah+a/KWVKvXqSh5E02AI0E1vuWzy/YEcRN/UM3tIQFZbEbKkY9LCFdJrN5Fpj4fZIXjQVNeSgxAZUjW0zxgnwLE9AJQ9QXLgZR9VSqsTlc1kAwBYuGpazt5MeU6kkbdQd7BjeZe0C5CDavPNzwVsCJ6ODoi6KAmaYAMi2OzBS8qYvc9c+NoO2FoZ/0GTsyyEMFpIyuynUNseACJ1Uc2UVsdxxvgboSDEdKPGRBI9AK2/9U8YgDkMdg4yQw6KYB96M3imPZeFkG4xOTnVHuXatAZ99LuTbiUHkbOra3feoq0mxqVsDQBjHo7qorQar4axkgJBM5mSftaj82AseqMx79VLhYAcREyQg/4RPhvFsUfdkEEJ+IbAlP6vXkN7QEyOnFU79sLbgkxXJbJVHPYPrKga19/W/RVtDQByI5kDG0PY0rplA05LHvD9P+w9PfSsFlm7ZI7u9GPrNRhaBDsHefX3tPeKuWib/1S7qn5EL/R8kvGGB+w1kl17UaDLYrgXvskuxSqXdMXRRLmd1m27+cbMr78A1o2ut9N5M7pF+Hgly51+4F3/y6DrP8JMHbSUFWA3+qJi/ZOB9G0/WYsBkzKwF8yNJS9ddb5JNYaL4+XLo/DdtZmGFdhcELghk6vHlNpGobYtAIDji6H1t02/Kdwxfm35tJw1pnSYKAwPvgDdO8e6nk3kIB07B33k64o+8zq1QTPcI0nZMSwyXbbiASOfhbmADzLlsU8DclAD3TPTnsOWB3Tk/MhIWM80TGm1p6pHtAIXXMbIw3TySdqAboLekbYX6i0C45wTEpqIPHTZb3noXIusalMD98qI0hevukybtPVSlBwkCpjpPZGtVpiQ6w4O720LhdryAEBJP7DDL9OIng1MuL//uGq6/8OsMjZmNpF+CHJ83HtWqA7tCRep1mxL4FuoStQ/Z6CqWEVARvKiClJh+f2oYrY5G/YPXAMUnNeaE1z0g/YYkwQvtsMlywGv/yL6I2hqetnhrGmdQPoJ+BHT8V6yFk2BC3qC6boYUND/hOzkoJjgRWtCbDZpAkzOW1X5wU0GqmVZEQ8SgRzkyNSHbp+BQj10//CSUboLqhSwNABQ0g8sa81WscksG+bDFi+9K7yHlQOwz183uL2YdTW7+mKoNk95J581gbNQFHtZwQMdR/TAiNeuC7NyoPMbWz5EBP+RlX01u7C/ouXkIEsDQH1ddCpEKksprWqgaM0H2ufeQk+I6dAEPu/1AIx3md3gFKuh3TLvHES7/ZsCPbXCaY8cISfU1kYsZ0XqctbjnwnDxIiuMg4Jw6R6r+qDu2620pxlAWDcgkh3aGHZXrxsyADp57mpmNmFhdb/XMCHaReXwhOm5KDObcf4y4DvL0P/l/lB0NSBL1/JZIhE61782sY9MFFsy3jbCmyhgZ1Fyga3vYAGlVsWABLQfXMt6Qehf4VPCzHt2iUxWgStv/4FeYMXNluxocXVrT4r9h9Y8vvY55aOGwk3JNkOI4uETosgFjIbKma7djBO6lZdG7Ps1XVLAsC4RQ3nQ+t2Y3bHGeaKaGrlRHbbQifWoeEwyXU5QwRamabkoMLiIxRfSvZZFj63VT7zE4J+1O+F8cycwmvWRGBFAN4TcOdBiHx31fD+llCoLQkAiWQSWjd3kn4gkr8Ob/v9g9WlpEs48Md07iFT3fsWHGj6rBil++4RXfGh2hZuEiGJ2XL0izqd8keYC/hXC6fc8xMo1IRY8/FV0wFg9Px6IHAQ2ymtRtCnpB+oILNZd+oz7PRzA/y7wIj/dpc5p3uyYU3oHCcYv/qrQsjlJUvGD9df0JoSuLJSEmE+whpt1muB2ZobDlxeYppCbSoAVBDYSgO5r3VrhhujP62YnsNs/zfyNo3UzpN+muuv8uPbocMP1Yne51TE2GXLeDFTctCbO2jP8XV2AChbpj3LZEI2PVlpKgDsWBi9CRxxlNKqDEnrHGj9o4IPsyX91KO7IUDa9iJH6xrrO4Oh0X6PB83HHnwfLJHG9JV2RhqGleevfvF92oNidni8whTAyp29JISG1wztbWpuyXAAuG4RCcOnqx9gdmVUDEMX6aEVk0Nfq4jZlk22Nn3Xz7LZWqsdhcBUgQegum1XLf0KlpaYfglJpW5zxi6fxOyV8s7/2PYBYPUnFR+ZZUt0dcnEzkGGA0CNHIU1f8JsvTYb4vDw7wvlhRZmk7E7LxFHs6F3ZNl6raX+YvSJl6BnUjq9wYIF0AvYnzp30394+Lrvj1bfzdInjH33wYQgs69FZa07QefCzkE3ZZXJkmkoAFz5SOQEuLldPEGCf1n5M3ZbPZEN6BxYabs5C+5Ms+CiT8NDEHxL7Mix6Xt/qIMh0/2pcxf+nwb7BzIjKhS/vukbjAXHdurVjT8hs8mIEYYYpoYCQLwRiBqEGDKou3L6C3wUOi30e/3FrCuRhHf9oeUSrdNonSYYz67zDEbL0zX2wMIz0HP6OD3dDecwRMmJydIslr4UdQpCjxIz2zw2W92hMT6hWq411CDrDgCjFzWcCy9tGO5yZKuIFXmiiNmSfjagoXBBRllRF6t1wMNPPALK2J2unFgpCaLo2jkL6ILf3P+lq3pZjYlWfbhyXT0Mk1zbS4IJ0ylVlw3UPSTXHQAIJf0Q+s6/Cw+M3lwxLbyKlWfw4NOdfkwvzdjlP/RK/oIHoXeU9G8pe2kF3ORrlfJZptN7Limx/bhMUcHJv4eh0r9Z4qBom8BLZkn9+yvqCgCjFsSHQ6QxteygWAGTGZT0g2GfP5NqTBWHnX6ug96RLTu3mHIMCkPrH/didI+aHpi7mAKtLcQK9x0QBEaVVk4YysozSg4iAnZxL4ncdGBYqa5lec0BoIn0Iyfd3Lo9B5Tf91jdHGQzCkIPYA4r+6p2MXoUX4J2q8ltvWbpO5jg59XkWOVLssSUHNTl9W2roJf0Jqv6Z7NLe6BJpO/jq5oDwPaFkRvAuGnqYbYKGM2DCxILCpjpZ5+TCTQZLsBJRutgZzlo/as8fjRPqw1/wHcv9KjiWuUdlYMe1j+WfHidozbTjHkwcS85iJDLaoaXaKbmawoAY58iQGnFrm3d4MF7eGl56Ku06+TYKdmEukCn2db9281UBj7AMQv3RYe16thwxQu7YRjwiFZ5p+VgGDq3dElZ0Gm7KXsFr+94j2D8XOrcbf8lmSwiFdr2V9QUAJK10bth2c+S1w8tBwsorV4htMByvToUSkk0C4JQro4iTop+6pXRU7oN5gbnw8RBle5yDhSAuYATCZInO2BK0YTgF++FmRVXUqiBoHd+1Vurb1R0vkWGagAYtbCe7mPn2okPujSzrBzXtaiToz/JenQ2zPzf4qhRHcYEEZW3JP1oLbpt1F8Ow4RghVZ5p+Xgnfjykle/39Vpuyl7RSu2fC1g5FoKNby+8AAZOzaU8lfpv2oAIBIGAgZ84deFB4xtP+7TJ/Q7lq7B570WwpS5K5dFgdiz3jMIvWoUn2DX85+GocCnRsvbWY72uEg8XmGnDTXdJOSFnifepybHIh/w6V4d36+6KpY1AIyd39ALHrKbWVRAk01YkqkYgpOaZG0QSqxDQwDoMTaoNq0Srhu4Zm5ZdN2QiqSA3bvsBROVt/RdevXZpsEyqKB42aY6WHquMFjc9mJEJlPrR/XOSqHOGgCSJLnQraQfuMHXrpoWXmE7igoG4OmCHrKrST9/8w1Bbyu4rzl568Sly6AXsF5zAQcF6b0pNzYCRZfdATsHPQPDUFdSqGnPPdYozM6GjmIAGLMgNhQUuJLSCpNTBD7lpNq9yVZxs3mw08+1MPP/HbN67CgPwTHu9aqTfrTaxthzt1vJQVCHMX2WjL9Ua12slqPkILgPXDtHBs/wj2ou661Ioc4YACjpRybmdxuxGuyUPkpUWT4trEhpTcnZ9R+2+A7ADhFz7dJvgd7HcX+00wI9TSq2Taz8J4x1/2qVPsv1wM5B0BuAKQ82R/Gb21fAcGQtG+vZrTb1kpLKu3ZlDAA7Fkaug4KupLTCjRj3+hAswbA7YIvvuyDq92DngbJlaP2rPTnoQWUJYzk+LN7jWnIQIhf1rbzqWmM1s6YUweLdEIFgVOi+A5waWT2s77BMnrUJAGUPw+eIXUz6AZAfefXu0O5MlXEiDd71LwY7052wZcQGXOzZ+LvokJGy2cq8NbFyF5BfHssmwzIPJryYkoO6vLHlXRiaPs8Sg2y2aY8+EzmoTQCIJqKTYf74pGzKGOZVFYRD8xnaR5KMYISE8lj6oGgbo8+8OehJxXyTGXlYoHTiapNq7CreQybSL+xSrkWvIATcTA66oGbTyuvT69EqAIxfRLpA19+1lFZBwBV/uRNrprSmV9bsOXkLnQUt7CSzeuwqDxdzOrT+Cbv0vzGx8hAShFl26Tevl8wYuKSM9tCYHIVrNuyGF8IfZWJcg1Ei4zmkrDTYUrRVAGhIRt1LaQVCSu8+oadbOu/072QSSD8EeZy2q8UejP03egajV7TImpEJFZ9HexifmdFhV1m4NrmNRKqwS78WvaJHAAo1cieFGpETqw4mW20I0xwAxi2InwWOu5fSCoQUxqSfgXCDjdNyEzgtAw8/rNuYI/1o9ZmSgxAWXNtLhHm4SQOWXn2m1vpYLVe4etthgQgVVuu1Sh+soE2rGzmwuZfUHACSRLqDLhlYZchiPetXloeXWaxTrzqm48tszsKw5EXfILQ9m4yVeduvfvnvMBm70UqdVumiPbTGROJ2q/QZ0VM4MPg0BOVPjJS1uwy8SZnbkIjfnLLTFABu/CMJQOT8YSrRVf+B9IMZk36O7vE/1lW4HHUGHsQG2OJ7htO+iQi7lhyECbl28Nob4Z5mc+CKddBLEl3bS5IRvhkae7h1EGoKAFX74hMgcnZiA5eKVUL+uqo8bJrSqmIla3Yyjm4AfLxZhVhlYvQ4vO33pdPmN1+zdAfcQS84bVeLPegRFTRUHb5Si6xdMsWvb10GvYB1duk3pZeQ06sv7zuY6mgKALB8crkphbYVxnEPEFBsU69dsSvxgQewxkOsJ/1ohQX7/PfAvFGDVnkn5WRCRjppL6MtAT4r5lJyEEoe2duzKQBApDo/YwWYJ+LHlk8P7mLuBnEnPjDx9wC0/rWs8Nk6/oUv4Y2ox1nZz24X69ocM7suY7nFa7b9E8hBfzVW2t5SMABoeuaFsiXEBy+2fdtec/q1Q1CqzsFBzfvY6begrQSs/XeHLmWhNmkHpTD6rzeMfuOgxYymcgXPXOgF1GTMZJgI1+zsSW9PYj5sE5EPerDu218RFo6OBIDE5/HusIjEHKj0ewVm/mZVTseWU1rT7aidw9r/KWoyLPJhN5pyO0k/WutEyUHQjZytVd4xOUJ8H31x8ATH7CkY6vzGW7sgQLqOQg1zWt1JxWCPAO2/pOA7s2QYN33Wo1PwKWYOtDAMC6Ou+zQ04LPJcwla2sJNpj/PP634t/Ci0H+YOpHBeEIE4rYLDtGLHwQ3XEihHiwLBAgALsColQvw8YXyp2/FtlFaWxlTO4GN1tVEnM4nnsyf93Laj5S9p7/7dAKLgutekApKIrPdolLY0P9N5CBMt9Zzz0EnJ3FFhSwIvlDUPW7BaAkIJqvLw393i09e0XWfhX7RNxBtcws+KT+2lr20FOZt3kqdu+E/cLZjbvCD+lA4IPQk7BzkGgo1TAI2YSP8/S4Ms8iY2eu1rS4Q3enHCwQTNx0S+gxu7LgbXAI/Gr2C86QfrXWHXgDTXZpa+glDkp1NLy+1TGT4m5KDYP9AF5GD8PsUjtQy4A6G2DSbBgbXC8unhF3hS8qpo1tqv5c6Z/z/1/B5r/8x9kHR/NYJL2+DB+9FRQEnM7D5/RCtdrdozXagUOMNVus1qK+JXNcUAIAfzL5LiXGDD7mC9NMWT8K+yw2t/wGP6OJvDx5FjQjiDHeQg4DA7cIDI48ryEHQ2DY9800BIIiFv8L4hOlkF9h//O8zgl+68JohePD+zNovWNeegweig6z9ULO/fWLl/6CV+7WanJ359F4WsOdvdtowqrvozc07gBz0gtHyVpQDfA4XdQ6/SnU1BYCj39VjtsU2+FHj8wXpUokrDzwIvQMtsGNv22UA4XNvMXoiQ7ork4K+vDlwkx1g5RwEy2VbJlZ+zcq+ml2Pz8O0lwQvAj2HK9fVUz+bAkDTDyz8Ss1xu/KxIMw+MhlplwXzemF1glmrBhdpOu6FGs3XwhkN68Y/WwvbYz7gjLUMVjBhdq0yeNMmqWDV5p3QS2JCoYaGTBY96Lcpp5oDwIry4JvgVGUqw7n/eEefPkHmlFa1+oqXoOcBPMffgYfAs9IzBL2k5p/b8i84vegJwAu2E3f2gHv4xe0TX/k/Z63qt1ZUEJoNcyVf6C9pusTjha/t+HdKS3MAoAl+T+h2cMqxrht0E2NeQbyO5U4/KSDU/sPNTGAu4Mfw37ElQbBVDWvZP1bzzY35lBwkiMK19Bo75h+8k+ATxDscs2fCEO2Cw5uu18M1do6tCAGnKNjt3pZutwoAr0zF+0UiwE3u2ITg1GXlgU9bOuTm3zAJ9xlwqO9yykdo/SfBMuRep+xZbWfLhJc/ga3EHflqzpF7VvjxxomVrtyPLxO2nV/fugkIOQsy5Vmf1vRq/fV4+fJWxL9WAYAaXTEj9AosC/6Ifn7LeieOaRQQfmDV9HC7mdhKeQ7f2wNGl72EDtAPL2iin3kc2OQzVS+7/m+f+PKv4eGcY5f+I3oxbHKDbqJbldlrx3rtxf1H3wfDlt9Zr/mYRrifGkVExtOAcyz1yC9oZDIfI+dHboHM39qxTyBEnekrZ+Q4FPky189samItug8ipOUTXYC5BH8/hnH/s2Z9dFP5kiVXTSeybPnr3bTlh1b01u0Tl/7eTfXV4wvdnqtmRN9HZVm+U085bbI4DpPsV9MdijLJKwYAKjxmUbRUSpI/w3sDp2cqbCCtSsDCnSunh5iugxrwO2MRCAKXQ8vzBxgWWPPaKUa7gC46yTsIvZbRYDtP7PPiVd9HRKaz30VWVAVaTvoG4vXbrlnqStKP3jpWDy/5GXzhaB7duFNv2Uzy0PK/K4joupaTfulybYYALQVWTA1tKfKELoQo+wQMCUy9nQc6/hzIDZ/dUR5+ipN3CPqHx4fOhZ9/AbANT+bQshCJH4PNPXt11Ief4gVd9L+FwoGz4cF9jp4bPjBuhCHkr7uEiy7sKA8/xaLo9W1PCGKgF9wLyw1jQwtiFIWGdk5Rz4tKsj38R0Q1Whq1sL4bfFnkNqAQ3gpd366aisGKAlTmORF5n1k+3d+89KCpbDsTgi8GnwrvntJVFNhxVdsGq/Dg74FqPuvxot/D13w/b2dVNuVuvxfGnyth4RboXV4LXeDOWpTBvbQPGpInA1h8ct3EynY7OaqlrtWXlfYhSekWeNauAYxytJSBwLoT7r8nvH7f7zqtfEsTaxQw1XfQLcTqv4z1FgjqDWO6PhBuzgSjIjgJf7B6QMincP4eUIzeOy0QXvurO3GDPgvtW5psRsFkAyoBDAAbwAihnjClB7toN5GuaC/qI3jw6ctF73pktOHoy0btu9ImvB+56g5/bf1XQ2QkXIhkciHB5Cy4KUXAjc6FSDA8/hT+7wDMdvTA4o7KiZXthhBlApbmoqRscE71ofgQJEmADboQ3uI/Mhxv6jWSBKyyfAS9oR1A79le2PnEd3BlJVNKf7Pj/AdHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQYIfD/M2Z1Cla5ouIAAAAASUVORK5CYII=";var mue=()=>v.createElement("img",{src:HFe,alt:"Malloy",style:{height:"30px",marginRight:"12px"}});m();m();var oV=xr(Rr());m();m();m();m();function xue(n){if(n)throw n}var fDe=xr(WFe(),1),bue=xr(tDe(),1);m();function lN(n){if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}m();function nDe(){let n=[],e={run:t,use:r};return e;function t(...i){let s=-1,o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(c,...d){let p=n[++s],b=-1;if(c){o(c);return}for(;++b<i.length;)(d[b]===null||d[b]===void 0)&&(d[b]=i[b]);i=d,p?uxt(p,a)(...d):o(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function uxt(n,e){let t;return r;function r(...o){let a=n.length>o.length,c;a&&o.push(i);try{c=n.apply(this,o)}catch(d){let p=d;if(a&&t)throw p;return i(p)}a||(c instanceof Promise?c.then(s,i):c instanceof Error?i(c):s(c))}function i(o,...a){t||(t=!0,e(o,...a))}function s(o){i(null,o)}}m();m();var lDe=xr(iDe(),1);m();m();function Rb(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?sDe(n.position):"start"in n||"end"in n?sDe(n):"line"in n||"column"in n?gue(n):""}function gue(n){return oDe(n&&n.line)+":"+oDe(n&&n.column)}function sDe(n){return gue(n&&n.start)+"-"+gue(n&&n.end)}function oDe(n){return n&&typeof n=="number"?n:1}var vh=class extends Error{constructor(e,t,r){let i=[null,null],s={start:{line:null,column:null},end:{line:null,column:null}};super();if(typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){let o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}t&&("type"in t||"position"in t?t.position&&(s=t.position):"start"in t||"end"in t?s=t:("line"in t||"column"in t)&&(s.start=t)),this.name=Rb(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack=typeof e=="object"?e.stack:"",this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.source=i[0],this.ruleId=i[1],this.position=s,this.actual,this.expected,this.file,this.url,this.note}};vh.prototype.file="";vh.prototype.name="";vh.prototype.reason="";vh.prototype.message="";vh.prototype.stack="";vh.prototype.fatal=null;vh.prototype.column=null;vh.prototype.line=null;vh.prototype.source=null;vh.prototype.ruleId=null;vh.prototype.position=null;m();var P2={basename:lxt,dirname:cxt,extname:fxt,join:dxt,sep:"/"};function lxt(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');cN(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let o=-1,a=e.length-1;for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(n.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return t===r?r=o:r<0&&(r=n.length),n.slice(t,r)}function cxt(n){if(cN(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.charCodeAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.charCodeAt(0)===47?"/":".":e===1&&n.charCodeAt(0)===47?"//":n.slice(0,e)}function fxt(n){cN(n);let e=n.length,t=-1,r=0,i=-1,s=0,o;for(;e--;){let a=n.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}t<0&&(o=!0,t=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function dxt(...n){let e=-1,t;for(;++e<n.length;)cN(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":hxt(t)}function hxt(n){cN(n);let e=n.charCodeAt(0)===47,t=pxt(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.charCodeAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function pxt(n,e){let t="",r=0,i=-1,s=0,o=-1,a,c;for(;++o<=n.length;){if(o<n.length)a=n.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}}else if(t.length>0){t="",r=0,i=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,o):t=n.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return t}function cN(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}m();var aDe={cwd:mxt};function mxt(){return"/"}m();m();function F9(n){return n!==null&&typeof n=="object"&&n.href&&n.origin}function uDe(n){if(typeof n=="string")n=new URL(n);else if(!F9(n)){let e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){let e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return xxt(n)}function xxt(n){if(n.hostname!==""){let r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}let e=n.pathname,t=-1;for(;++t<e.length;)if(e.charCodeAt(t)===37&&e.charCodeAt(t+1)===50){let r=e.charCodeAt(t+2);if(r===70||r===102){let i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}var yue=["history","path","basename","stem","extname","dirname"],UH=class{constructor(e){let t;e?typeof e=="string"||(0,lDe.default)(e)?t={value:e}:F9(e)?t={path:e}:t=e:t={},this.data={},this.messages=[],this.history=[],this.cwd=aDe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<yue.length;){let s=yue[r];s in t&&t[s]!==void 0&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)yue.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(e){F9(e)&&(e=uDe(e)),_ue(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?P2.dirname(this.path):void 0}set dirname(e){cDe(this.basename,"dirname"),this.path=P2.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?P2.basename(this.path):void 0}set basename(e){_ue(e,"basename"),vue(e,"basename"),this.path=P2.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?P2.extname(this.path):void 0}set extname(e){if(vue(e,"extname"),cDe(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=P2.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?P2.basename(this.path,this.extname):void 0}set stem(e){_ue(e,"stem"),vue(e,"stem"),this.path=P2.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,r){let i=new vh(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,t,r){let i=this.message(e,t,r);return i.fatal=null,i}fail(e,t,r){let i=this.message(e,t,r);throw i.fatal=!0,i}};function vue(n,e){if(n&&n.includes(P2.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+P2.sep+"`")}function _ue(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function cDe(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}var Eue=hDe().freeze(),dDe={}.hasOwnProperty;function hDe(){let n=nDe(),e=[],t={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=c,s.parse=d,s.stringify=p,s.run=b,s.runSync=C,s.process=N,s.processSync=R,s;function s(){let U=hDe(),V=-1;for(;++V<e.length;)U.use(...e[V]);return U.data((0,bue.default)(!0,{},t)),U}function o(U,V){return typeof U=="string"?arguments.length===2?(wue("data",r),t[U]=V,s):dDe.call(t,U)&&t[U]||null:U?(wue("data",r),t=U,s):t}function a(){if(r)return s;for(;++i<e.length;){let[U,...V]=e[i];if(V[0]===!1)continue;V[0]===!0&&(V[0]=void 0);let P=U.call(s,...V);typeof P=="function"&&n.use(P)}return r=!0,i=Number.POSITIVE_INFINITY,s}function c(U,...V){let P;if(wue("use",r),U!=null)if(typeof U=="function")ae(U,...V);else if(typeof U=="object")Array.isArray(U)?G(U):M(U);else throw new TypeError("Expected usable value, not `"+U+"`");return P&&(t.settings=Object.assign(t.settings||{},P)),s;function $(I){if(typeof I=="function")ae(I);else if(typeof I=="object")if(Array.isArray(I)){let[Z,...me]=I;ae(Z,...me)}else M(I);else throw new TypeError("Expected usable value, not `"+I+"`")}function M(I){G(I.plugins),I.settings&&(P=Object.assign(P||{},I.settings))}function G(I){let Z=-1;if(I!=null)if(Array.isArray(I))for(;++Z<I.length;){let me=I[Z];$(me)}else throw new TypeError("Expected a list of plugins, not `"+I+"`")}function ae(I,Z){let me=-1,ye;for(;++me<e.length;)if(e[me][0]===I){ye=e[me];break}ye?(lN(ye[1])&&lN(Z)&&(Z=(0,bue.default)(!0,ye[1],Z)),ye[1]=Z):e.push([...arguments])}}function d(U){s.freeze();let V=fN(U),P=s.Parser;return Sue("parse",P),pDe(P,"parse")?new P(String(V),V).parse():P(String(V),V)}function p(U,V){s.freeze();let P=fN(V),$=s.Compiler;return Cue("stringify",$),mDe(U),pDe($,"compile")?new $(U,P).compile():$(U,P)}function b(U,V,P){if(mDe(U),s.freeze(),!P&&typeof V=="function"&&(P=V,V=void 0),!P)return new Promise($);$(null,P);function $(M,G){n.run(U,fN(V),ae);function ae(I,Z,me){Z=Z||U,I?G(I):M?M(Z):P(null,Z,me)}}}function C(U,V){let P,$;return s.run(U,V,M),xDe("runSync","run",$),P;function M(G,ae){xue(G),P=ae,$=!0}}function N(U,V){if(s.freeze(),Sue("process",s.Parser),Cue("process",s.Compiler),!V)return new Promise(P);P(null,V);function P($,M){let G=fN(U);s.run(s.parse(G),G,(I,Z,me)=>{if(I||!Z||!me)ae(I);else{let ye=s.stringify(Z,me);ye==null||(vxt(ye)?me.value=ye:me.result=ye),ae(I,me)}});function ae(I,Z){I||!Z?M(I):$?$(Z):V(null,Z)}}}function R(U){let V;s.freeze(),Sue("processSync",s.Parser),Cue("processSync",s.Compiler);let P=fN(U);return s.process(P,$),xDe("processSync","process",V),P;function $(M){V=!0,xue(M)}}}function pDe(n,e){return typeof n=="function"&&n.prototype&&(gxt(n.prototype)||e in n.prototype)}function gxt(n){let e;for(e in n)if(dDe.call(n,e))return!0;return!1}function Sue(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Parser`")}function Cue(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Compiler`")}function wue(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mDe(n){if(!lN(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function xDe(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function fN(n){return yxt(n)?n:new UH(n)}function yxt(n){return Boolean(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function vxt(n){return typeof n=="string"||(0,fDe.default)(n)}m();m();m();m();m();function gDe(n,e){var{includeImageAlt:t=!0}=e||{};return yDe(n,t)}function yDe(n,e){return n&&typeof n=="object"&&(n.value||(e?n.alt:"")||"children"in n&&vDe(n.children,e)||Array.isArray(n)&&vDe(n,e))||""}function vDe(n,e){for(var t=[],r=-1;++r<n.length;)t[r]=yDe(n[r],e);return t.join("")}m();m();m();function Xf(n,e,t,r){let i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),[].splice.apply(n,o);else for(t&&[].splice.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),[].splice.apply(n,o),s+=1e4,e+=1e4}function Od(n,e){return n.length>0?(Xf(n,n.length,0,e),n):e}var _De={}.hasOwnProperty;function bDe(n){let e={},t=-1;for(;++t<n.length;)_xt(e,n[t]);return e}function _xt(n,e){let t;for(t in e){let i=(_De.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t],o;for(o in s){_De.call(i,o)||(i[o]=[]);let a=s[o];bxt(i[o],Array.isArray(a)?a:a?[a]:[])}}}function bxt(n,e){let t=-1,r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);Xf(n,0,0,r)}m();m();m();m();var EDe=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var ep=hv(/[A-Za-z]/),dN=hv(/\d/),SDe=hv(/[\dA-Fa-f]/),Nd=hv(/[\dA-Za-z]/),CDe=hv(/[!-/:-@[-`{-~]/),Aue=hv(/[#-'*+\--9=?A-Z^-~]/);function hN(n){return n!==null&&(n<32||n===127)}function Cc(n){return n!==null&&(n<0||n===32)}function Gi(n){return n!==null&&n<-2}function Da(n){return n===-2||n===-1||n===32}var wDe=hv(/\s/),ADe=hv(EDe);function hv(n){return e;function e(t){return t!==null&&n.test(String.fromCharCode(t))}}function to(n,e,t,r){let i=r?r-1:Number.POSITIVE_INFINITY,s=0;return o;function o(c){return Da(c)?(n.enter(t),a(c)):e(c)}function a(c){return Da(c)&&s++<i?(n.consume(c),a):(n.exit(t),e(c))}}var TDe={tokenize:Ext};function Ext(n){let e=n.attempt(this.parser.constructs.contentInitial,r,i),t;return e;function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),to(n,e,"linePrefix")}function i(a){return n.enter("paragraph"),s(a)}function s(a){let c=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return Gi(a)?(n.consume(a),n.exit("chunkText"),s):(n.consume(a),o)}}m();var FDe={tokenize:Sxt},DDe={tokenize:Cxt};function Sxt(n){let e=this,t=[],r=0,i,s,o;return a;function a(M){if(r<t.length){let G=t[r];return e.containerState=G[1],n.attempt(G[0].continuation,c,d)(M)}return d(M)}function c(M){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&$();let G=e.events.length,ae=G,I;for(;ae--;)if(e.events[ae][0]==="exit"&&e.events[ae][1].type==="chunkFlow"){I=e.events[ae][1].end;break}P(r);let Z=G;for(;Z<e.events.length;)e.events[Z][1].end=Object.assign({},I),Z++;return Xf(e.events,ae+1,0,e.events.slice(G)),e.events.length=Z,d(M)}return a(M)}function d(M){if(r===t.length){if(!i)return C(M);if(i.currentConstruct&&i.currentConstruct.concrete)return R(M);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(DDe,p,b)(M)}function p(M){return i&&$(),P(r),C(M)}function b(M){return e.parser.lazy[e.now().line]=r!==t.length,o=e.now().offset,R(M)}function C(M){return e.containerState={},n.attempt(DDe,N,R)(M)}function N(M){return r++,t.push([e.currentConstruct,e.containerState]),C(M)}function R(M){if(M===null){i&&$(),P(0),n.consume(M);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),U(M)}function U(M){if(M===null){V(n.exit("chunkFlow"),!0),P(0),n.consume(M);return}return Gi(M)?(n.consume(M),V(n.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(n.consume(M),U)}function V(M,G){let ae=e.sliceStream(M);if(G&&ae.push(null),M.previous=s,s&&(s.next=M),s=M,i.defineSkip(M.start),i.write(ae),e.parser.lazy[M.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<o&&(!i.events[I][1].end||i.events[I][1].end.offset>o))return;let Z=e.events.length,me=Z,ye,He;for(;me--;)if(e.events[me][0]==="exit"&&e.events[me][1].type==="chunkFlow"){if(ye){He=e.events[me][1].end;break}ye=!0}for(P(r),I=Z;I<e.events.length;)e.events[I][1].end=Object.assign({},He),I++;Xf(e.events,me+1,0,e.events.slice(Z)),e.events.length=I}}function P(M){let G=t.length;for(;G-- >M;){let ae=t[G];e.containerState=ae[1],ae[0].exit.call(e,n)}t.length=M}function $(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Cxt(n,e,t){return to(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}m();m();m();m();function Tue(n){if(n===null||Cc(n)||wDe(n))return 1;if(ADe(n))return 2}m();function D9(n,e,t){let r=[],i=-1;for(;++i<n.length;){let s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}var pN={name:"attention",tokenize:Axt,resolveAll:wxt};function wxt(n,e){let t=-1,r,i,s,o,a,c,d,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;c=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;let b=Object.assign({},n[r][1].end),C=Object.assign({},n[t][1].start);ODe(b,-c),ODe(C,c),o={type:c>1?"strongSequence":"emphasisSequence",start:b,end:Object.assign({},n[r][1].end)},a={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:C},s={type:c>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[t][1].start)},i={type:c>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},n[r][1].end=Object.assign({},o.start),n[t][1].start=Object.assign({},a.end),d=[],n[r][1].end.offset-n[r][1].start.offset&&(d=Od(d,[["enter",n[r][1],e],["exit",n[r][1],e]])),d=Od(d,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=Od(d,D9(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),d=Od(d,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,d=Od(d,[["enter",n[t][1],e],["exit",n[t][1],e]])):p=0,Xf(n,r-1,t-r+3,d),t=r+d.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function Axt(n,e){let t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Tue(r),s;return o;function o(c){return n.enter("attentionSequence"),s=c,a(c)}function a(c){if(c===s)return n.consume(c),a;let d=n.exit("attentionSequence"),p=Tue(c),b=!p||p===2&&i||t.includes(c),C=!i||i===2&&p||t.includes(r);return d._open=Boolean(s===42?b:b&&(i||!C)),d._close=Boolean(s===42?C:C&&(p||!b)),e(c)}}function ODe(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}m();var Fue={name:"autolink",tokenize:Txt};function Txt(n,e,t){let r=1;return i;function i(R){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(R),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(R){return ep(R)?(n.consume(R),o):Aue(R)?d(R):t(R)}function o(R){return R===43||R===45||R===46||Nd(R)?a(R):d(R)}function a(R){return R===58?(n.consume(R),c):(R===43||R===45||R===46||Nd(R))&&r++<32?(n.consume(R),a):d(R)}function c(R){return R===62?(n.exit("autolinkProtocol"),N(R)):R===null||R===32||R===60||hN(R)?t(R):(n.consume(R),c)}function d(R){return R===64?(n.consume(R),r=0,p):Aue(R)?(n.consume(R),d):t(R)}function p(R){return Nd(R)?b(R):t(R)}function b(R){return R===46?(n.consume(R),r=0,p):R===62?(n.exit("autolinkProtocol").type="autolinkEmail",N(R)):C(R)}function C(R){return(R===45||Nd(R))&&r++<63?(n.consume(R),R===45?C:b):t(R)}function N(R){return n.enter("autolinkMarker"),n.consume(R),n.exit("autolinkMarker"),n.exit("autolink"),e}}m();var pv={tokenize:Fxt,partial:!0};function Fxt(n,e,t){return to(n,r,"linePrefix");function r(i){return i===null||Gi(i)?e(i):t(i)}}m();var $H={name:"blockQuote",tokenize:Dxt,continuation:{tokenize:Oxt},exit:Nxt};function Dxt(n,e,t){let r=this;return i;function i(o){if(o===62){let a=r.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return Da(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function Oxt(n,e,t){return to(n,n.attempt($H,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Nxt(n){n.exit("blockQuote")}m();var zH={name:"characterEscape",tokenize:Rxt};function Rxt(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return CDe(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}m();m();var NDe=document.createElement("i");function O9(n){let e="&"+n+";";NDe.innerHTML=e;let t=NDe.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}var HH={name:"characterReference",tokenize:Lxt};function Lxt(n,e,t){let r=this,i=0,s,o;return a;function a(b){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(b),n.exit("characterReferenceMarker"),c}function c(b){return b===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(b),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),s=31,o=Nd,p(b))}function d(b){return b===88||b===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(b),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=SDe,p):(n.enter("characterReferenceValue"),s=7,o=dN,p(b))}function p(b){let C;return b===59&&i?(C=n.exit("characterReferenceValue"),o===Nd&&!O9(r.sliceSerialize(C))?t(b):(n.enter("characterReferenceMarker"),n.consume(b),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)):o(b)&&i++<s?(n.consume(b),p):t(b)}}m();var VH={name:"codeFenced",tokenize:kxt,concrete:!0};function kxt(n,e,t){let r=this,i={tokenize:ae,partial:!0},s={tokenize:G,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,c=0,d;return p;function p(I){return n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),d=I,b(I)}function b(I){return I===d?(n.consume(I),c++,b):(n.exit("codeFencedFenceSequence"),c<3?t(I):to(n,C,"whitespace")(I))}function C(I){return I===null||Gi(I)?V(I):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),N(I))}function N(I){return I===null||Cc(I)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),to(n,R,"whitespace")(I)):I===96&&I===d?t(I):(n.consume(I),N)}function R(I){return I===null||Gi(I)?V(I):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),U(I))}function U(I){return I===null||Gi(I)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),V(I)):I===96&&I===d?t(I):(n.consume(I),U)}function V(I){return n.exit("codeFencedFence"),r.interrupt?e(I):P(I)}function P(I){return I===null?M(I):Gi(I)?n.attempt(s,n.attempt(i,M,a?to(n,P,"linePrefix",a+1):P),M)(I):(n.enter("codeFlowValue"),$(I))}function $(I){return I===null||Gi(I)?(n.exit("codeFlowValue"),P(I)):(n.consume(I),$)}function M(I){return n.exit("codeFenced"),e(I)}function G(I,Z,me){let ye=this;return He;function He(at){return I.enter("lineEnding"),I.consume(at),I.exit("lineEnding"),ot}function ot(at){return ye.parser.lazy[ye.now().line]?me(at):Z(at)}}function ae(I,Z,me){let ye=0;return to(I,He,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function He(Ze){return I.enter("codeFencedFence"),I.enter("codeFencedFenceSequence"),ot(Ze)}function ot(Ze){return Ze===d?(I.consume(Ze),ye++,ot):ye<c?me(Ze):(I.exit("codeFencedFenceSequence"),to(I,at,"whitespace")(Ze))}function at(Ze){return Ze===null||Gi(Ze)?(I.exit("codeFencedFence"),Z(Ze)):me(Ze)}}}m();var mN={name:"codeIndented",tokenize:Mxt},Ixt={tokenize:Pxt,partial:!0};function Mxt(n,e,t){let r=this;return i;function i(d){return n.enter("codeIndented"),to(n,s,"linePrefix",4+1)(d)}function s(d){let p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(d):t(d)}function o(d){return d===null?c(d):Gi(d)?n.attempt(Ixt,o,c)(d):(n.enter("codeFlowValue"),a(d))}function a(d){return d===null||Gi(d)?(n.exit("codeFlowValue"),o(d)):(n.consume(d),a)}function c(d){return n.exit("codeIndented"),e(d)}}function Pxt(n,e,t){let r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):Gi(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):to(n,s,"linePrefix",4+1)(o)}function s(o){let a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Gi(o)?i(o):t(o)}}m();var Due={name:"codeText",tokenize:qxt,resolve:Bxt,previous:jxt};function Bxt(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function jxt(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function qxt(n,e,t){let r=this,i=0,s,o;return a;function a(C){return n.enter("codeText"),n.enter("codeTextSequence"),c(C)}function c(C){return C===96?(n.consume(C),i++,c):(n.exit("codeTextSequence"),d(C))}function d(C){return C===null?t(C):C===96?(o=n.enter("codeTextSequence"),s=0,b(C)):C===32?(n.enter("space"),n.consume(C),n.exit("space"),d):Gi(C)?(n.enter("lineEnding"),n.consume(C),n.exit("lineEnding"),d):(n.enter("codeTextData"),p(C))}function p(C){return C===null||C===32||C===96||Gi(C)?(n.exit("codeTextData"),d(C)):(n.consume(C),p)}function b(C){return C===96?(n.consume(C),s++,b):s===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(C)):(o.type="codeTextData",p(C))}}m();m();function WH(n){let e={},t=-1,r,i,s,o,a,c,d;for(;++t<n.length;){for(;t in e;)t=e[t];if(r=n[t],t&&r[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Uxt(n,t)),t=e[t],d=!0);else if(r[1]._container){for(s=t,i=void 0;s--&&(o=n[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(n[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},n[i][1].start),a=n.slice(i,t),a.unshift(r),Xf(n,i,t-i+1,a))}}return!d}function Uxt(n,e){let t=n[e][1],r=n[e][2],i=e-1,s=[],o=t._tokenizer||r.parser[t.contentType](t.start),a=o.events,c=[],d={},p,b,C=-1,N=t,R=0,U=0,V=[U];for(;N;){for(;n[++i][1]!==N;);s.push(i),N._tokenizer||(p=r.sliceStream(N),N.next||p.push(null),b&&o.defineSkip(N.start),N._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),N._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),b=N,N=N.next}for(N=t;++C<a.length;)a[C][0]==="exit"&&a[C-1][0]==="enter"&&a[C][1].type===a[C-1][1].type&&a[C][1].start.line!==a[C][1].end.line&&(U=C+1,V.push(U),N._tokenizer=void 0,N.previous=void 0,N=N.next);for(o.events=[],N?(N._tokenizer=void 0,N.previous=void 0):V.pop(),C=V.length;C--;){let P=a.slice(V[C],V[C+1]),$=s.pop();c.unshift([$,$+P.length-1]),Xf(n,$,2,P)}for(C=-1;++C<c.length;)d[R+c[C][0]]=R+c[C][1],R+=c[C][1]-c[C][0]-1;return d}var Oue={tokenize:Hxt,resolve:zxt},$xt={tokenize:Vxt,partial:!0};function zxt(n){return WH(n),n}function Hxt(n,e){let t;return r;function r(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Gi(a)?n.check($xt,o,s)(a):(n.consume(a),i)}function s(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function o(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Vxt(n,e,t){let r=this;return i;function i(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),to(n,s,"linePrefix")}function s(o){if(o===null||Gi(o))return t(o);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):n.interrupt(r.parser.constructs.flow,t,e)(o)}}m();m();function QH(n,e,t,r,i,s,o,a,c){let d=c||Number.POSITIVE_INFINITY,p=0;return b;function b(P){return P===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(P),n.exit(s),C):P===null||P===41||hN(P)?t(P):(n.enter(r),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),U(P))}function C(P){return P===62?(n.enter(s),n.consume(P),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),N(P))}function N(P){return P===62?(n.exit("chunkString"),n.exit(a),C(P)):P===null||P===60||Gi(P)?t(P):(n.consume(P),P===92?R:N)}function R(P){return P===60||P===62||P===92?(n.consume(P),N):N(P)}function U(P){return P===40?++p>d?t(P):(n.consume(P),U):P===41?p--?(n.consume(P),U):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(P)):P===null||Cc(P)?p?t(P):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(P)):hN(P)?t(P):(n.consume(P),P===92?V:U)}function V(P){return P===40||P===41||P===92?(n.consume(P),U):U(P)}}m();function GH(n,e,t,r,i,s){let o=this,a=0,c;return d;function d(N){return n.enter(r),n.enter(i),n.consume(N),n.exit(i),n.enter(s),p}function p(N){return N===null||N===91||N===93&&!c||N===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?t(N):N===93?(n.exit(s),n.enter(i),n.consume(N),n.exit(i),n.exit(r),e):Gi(N)?(n.enter("lineEnding"),n.consume(N),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),b(N))}function b(N){return N===null||N===91||N===93||Gi(N)||a++>999?(n.exit("chunkString"),p(N)):(n.consume(N),c=c||!Da(N),N===92?C:b)}function C(N){return N===91||N===92||N===93?(n.consume(N),a++,b):b(N)}}m();function YH(n,e,t,r,i,s){let o;return a;function a(C){return n.enter(r),n.enter(i),n.consume(C),n.exit(i),o=C===40?41:C,c}function c(C){return C===o?(n.enter(i),n.consume(C),n.exit(i),n.exit(r),e):(n.enter(s),d(C))}function d(C){return C===o?(n.exit(s),c(o)):C===null?t(C):Gi(C)?(n.enter("lineEnding"),n.consume(C),n.exit("lineEnding"),to(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(C))}function p(C){return C===o||C===null||Gi(C)?(n.exit("chunkString"),d(C)):(n.consume(C),C===92?b:p)}function b(C){return C===o||C===92?(n.consume(C),p):p(C)}}m();function Lb(n,e){let t;return r;function r(i){return Gi(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):Da(i)?to(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}m();function Ty(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Nue={name:"definition",tokenize:Qxt},Wxt={tokenize:Gxt,partial:!0};function Qxt(n,e,t){let r=this,i;return s;function s(c){return n.enter("definition"),GH.call(r,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(c)}function o(c){return i=Ty(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),c===58?(n.enter("definitionMarker"),n.consume(c),n.exit("definitionMarker"),Lb(n,QH(n,n.attempt(Wxt,to(n,a,"whitespace"),to(n,a,"whitespace")),t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):t(c)}function a(c){return c===null||Gi(c)?(n.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(c)):t(c)}}function Gxt(n,e,t){return r;function r(o){return Cc(o)?Lb(n,i)(o):t(o)}function i(o){return o===34||o===39||o===40?YH(n,to(n,s,"whitespace"),t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):t(o)}function s(o){return o===null||Gi(o)?e(o):t(o)}}m();var Rue={name:"hardBreakEscape",tokenize:Yxt};function Yxt(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.enter("escapeMarker"),n.consume(s),i}function i(s){return Gi(s)?(n.exit("escapeMarker"),n.exit("hardBreakEscape"),e(s)):t(s)}}m();var Lue={name:"headingAtx",tokenize:Jxt,resolve:Kxt};function Kxt(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},Xf(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function Jxt(n,e,t){let r=this,i=0;return s;function s(p){return n.enter("atxHeading"),n.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&i++<6?(n.consume(p),o):p===null||Cc(p)?(n.exit("atxHeadingSequence"),r.interrupt?e(p):a(p)):t(p)}function a(p){return p===35?(n.enter("atxHeadingSequence"),c(p)):p===null||Gi(p)?(n.exit("atxHeading"),e(p)):Da(p)?to(n,a,"whitespace")(p):(n.enter("atxHeadingText"),d(p))}function c(p){return p===35?(n.consume(p),c):(n.exit("atxHeadingSequence"),a(p))}function d(p){return p===null||p===35||Cc(p)?(n.exit("atxHeadingText"),a(p)):(n.consume(p),d)}}m();m();var RDe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kue=["pre","script","style","textarea"];var Iue={name:"htmlFlow",tokenize:egt,resolveTo:Zxt,concrete:!0},Xxt={tokenize:tgt,partial:!0};function Zxt(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function egt(n,e,t){let r=this,i,s,o,a,c;return d;function d(xe){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(xe),p}function p(xe){return xe===33?(n.consume(xe),b):xe===47?(n.consume(xe),R):xe===63?(n.consume(xe),i=3,r.interrupt?e:be):ep(xe)?(n.consume(xe),o=String.fromCharCode(xe),s=!0,U):t(xe)}function b(xe){return xe===45?(n.consume(xe),i=2,C):xe===91?(n.consume(xe),i=5,o="CDATA[",a=0,N):ep(xe)?(n.consume(xe),i=4,r.interrupt?e:be):t(xe)}function C(xe){return xe===45?(n.consume(xe),r.interrupt?e:be):t(xe)}function N(xe){return xe===o.charCodeAt(a++)?(n.consume(xe),a===o.length?r.interrupt?e:ot:N):t(xe)}function R(xe){return ep(xe)?(n.consume(xe),o=String.fromCharCode(xe),U):t(xe)}function U(xe){return xe===null||xe===47||xe===62||Cc(xe)?xe!==47&&s&&kue.includes(o.toLowerCase())?(i=1,r.interrupt?e(xe):ot(xe)):RDe.includes(o.toLowerCase())?(i=6,xe===47?(n.consume(xe),V):r.interrupt?e(xe):ot(xe)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(xe):s?$(xe):P(xe)):xe===45||Nd(xe)?(n.consume(xe),o+=String.fromCharCode(xe),U):t(xe)}function V(xe){return xe===62?(n.consume(xe),r.interrupt?e:ot):t(xe)}function P(xe){return Da(xe)?(n.consume(xe),P):ye(xe)}function $(xe){return xe===47?(n.consume(xe),ye):xe===58||xe===95||ep(xe)?(n.consume(xe),M):Da(xe)?(n.consume(xe),$):ye(xe)}function M(xe){return xe===45||xe===46||xe===58||xe===95||Nd(xe)?(n.consume(xe),M):G(xe)}function G(xe){return xe===61?(n.consume(xe),ae):Da(xe)?(n.consume(xe),G):$(xe)}function ae(xe){return xe===null||xe===60||xe===61||xe===62||xe===96?t(xe):xe===34||xe===39?(n.consume(xe),c=xe,I):Da(xe)?(n.consume(xe),ae):(c=null,Z(xe))}function I(xe){return xe===null||Gi(xe)?t(xe):xe===c?(n.consume(xe),me):(n.consume(xe),I)}function Z(xe){return xe===null||xe===34||xe===39||xe===60||xe===61||xe===62||xe===96||Cc(xe)?G(xe):(n.consume(xe),Z)}function me(xe){return xe===47||xe===62||Da(xe)?$(xe):t(xe)}function ye(xe){return xe===62?(n.consume(xe),He):t(xe)}function He(xe){return Da(xe)?(n.consume(xe),He):xe===null||Gi(xe)?ot(xe):t(xe)}function ot(xe){return xe===45&&i===2?(n.consume(xe),Mt):xe===60&&i===1?(n.consume(xe),Ue):xe===62&&i===4?(n.consume(xe),Re):xe===63&&i===3?(n.consume(xe),be):xe===93&&i===5?(n.consume(xe),st):Gi(xe)&&(i===6||i===7)?n.check(Xxt,Re,at)(xe):xe===null||Gi(xe)?at(xe):(n.consume(xe),ot)}function at(xe){return n.exit("htmlFlowData"),Ze(xe)}function Ze(xe){return xe===null?Ae(xe):Gi(xe)?n.attempt({tokenize:Tt,partial:!0},Ze,Ae)(xe):(n.enter("htmlFlowData"),ot(xe))}function Tt(xe,Je,lt){return Qt;function Qt(mn){return xe.enter("lineEnding"),xe.consume(mn),xe.exit("lineEnding"),Et}function Et(mn){return r.parser.lazy[r.now().line]?lt(mn):Je(mn)}}function Mt(xe){return xe===45?(n.consume(xe),be):ot(xe)}function Ue(xe){return xe===47?(n.consume(xe),o="",te):ot(xe)}function te(xe){return xe===62&&kue.includes(o.toLowerCase())?(n.consume(xe),Re):ep(xe)&&o.length<8?(n.consume(xe),o+=String.fromCharCode(xe),te):ot(xe)}function st(xe){return xe===93?(n.consume(xe),be):ot(xe)}function be(xe){return xe===62?(n.consume(xe),Re):xe===45&&i===2?(n.consume(xe),be):ot(xe)}function Re(xe){return xe===null||Gi(xe)?(n.exit("htmlFlowData"),Ae(xe)):(n.consume(xe),Re)}function Ae(xe){return n.exit("htmlFlow"),e(xe)}}function tgt(n,e,t){return r;function r(i){return n.exit("htmlFlowData"),n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),n.attempt(pv,e,t)}}m();var Mue={name:"htmlText",tokenize:ngt};function ngt(n,e,t){let r=this,i,s,o,a;return c;function c(Ae){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(Ae),d}function d(Ae){return Ae===33?(n.consume(Ae),p):Ae===47?(n.consume(Ae),Z):Ae===63?(n.consume(Ae),ae):ep(Ae)?(n.consume(Ae),He):t(Ae)}function p(Ae){return Ae===45?(n.consume(Ae),b):Ae===91?(n.consume(Ae),s="CDATA[",o=0,V):ep(Ae)?(n.consume(Ae),G):t(Ae)}function b(Ae){return Ae===45?(n.consume(Ae),C):t(Ae)}function C(Ae){return Ae===null||Ae===62?t(Ae):Ae===45?(n.consume(Ae),N):R(Ae)}function N(Ae){return Ae===null||Ae===62?t(Ae):R(Ae)}function R(Ae){return Ae===null?t(Ae):Ae===45?(n.consume(Ae),U):Gi(Ae)?(a=R,st(Ae)):(n.consume(Ae),R)}function U(Ae){return Ae===45?(n.consume(Ae),Re):R(Ae)}function V(Ae){return Ae===s.charCodeAt(o++)?(n.consume(Ae),o===s.length?P:V):t(Ae)}function P(Ae){return Ae===null?t(Ae):Ae===93?(n.consume(Ae),$):Gi(Ae)?(a=P,st(Ae)):(n.consume(Ae),P)}function $(Ae){return Ae===93?(n.consume(Ae),M):P(Ae)}function M(Ae){return Ae===62?Re(Ae):Ae===93?(n.consume(Ae),M):P(Ae)}function G(Ae){return Ae===null||Ae===62?Re(Ae):Gi(Ae)?(a=G,st(Ae)):(n.consume(Ae),G)}function ae(Ae){return Ae===null?t(Ae):Ae===63?(n.consume(Ae),I):Gi(Ae)?(a=ae,st(Ae)):(n.consume(Ae),ae)}function I(Ae){return Ae===62?Re(Ae):ae(Ae)}function Z(Ae){return ep(Ae)?(n.consume(Ae),me):t(Ae)}function me(Ae){return Ae===45||Nd(Ae)?(n.consume(Ae),me):ye(Ae)}function ye(Ae){return Gi(Ae)?(a=ye,st(Ae)):Da(Ae)?(n.consume(Ae),ye):Re(Ae)}function He(Ae){return Ae===45||Nd(Ae)?(n.consume(Ae),He):Ae===47||Ae===62||Cc(Ae)?ot(Ae):t(Ae)}function ot(Ae){return Ae===47?(n.consume(Ae),Re):Ae===58||Ae===95||ep(Ae)?(n.consume(Ae),at):Gi(Ae)?(a=ot,st(Ae)):Da(Ae)?(n.consume(Ae),ot):Re(Ae)}function at(Ae){return Ae===45||Ae===46||Ae===58||Ae===95||Nd(Ae)?(n.consume(Ae),at):Ze(Ae)}function Ze(Ae){return Ae===61?(n.consume(Ae),Tt):Gi(Ae)?(a=Ze,st(Ae)):Da(Ae)?(n.consume(Ae),Ze):ot(Ae)}function Tt(Ae){return Ae===null||Ae===60||Ae===61||Ae===62||Ae===96?t(Ae):Ae===34||Ae===39?(n.consume(Ae),i=Ae,Mt):Gi(Ae)?(a=Tt,st(Ae)):Da(Ae)?(n.consume(Ae),Tt):(n.consume(Ae),i=void 0,te)}function Mt(Ae){return Ae===i?(n.consume(Ae),Ue):Ae===null?t(Ae):Gi(Ae)?(a=Mt,st(Ae)):(n.consume(Ae),Mt)}function Ue(Ae){return Ae===62||Ae===47||Cc(Ae)?ot(Ae):t(Ae)}function te(Ae){return Ae===null||Ae===34||Ae===39||Ae===60||Ae===61||Ae===96?t(Ae):Ae===62||Cc(Ae)?ot(Ae):(n.consume(Ae),te)}function st(Ae){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(Ae),n.exit("lineEnding"),to(n,be,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function be(Ae){return n.enter("htmlTextData"),a(Ae)}function Re(Ae){return Ae===62?(n.consume(Ae),n.exit("htmlTextData"),n.exit("htmlText"),e):t(Ae)}}m();var kb={name:"labelEnd",tokenize:ugt,resolveTo:agt,resolveAll:ogt},rgt={tokenize:lgt},igt={tokenize:cgt},sgt={tokenize:fgt};function ogt(n){let e=-1,t;for(;++e<n.length;)t=n[e][1],(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(e+1,t.type==="labelImage"?4:2),t.type="data",e++);return n}function agt(n,e){let t=n.length,r=0,i,s,o,a;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);let c={type:n[s][1].type==="labelLink"?"link":"image",start:Object.assign({},n[s][1].start),end:Object.assign({},n[n.length-1][1].end)},d={type:"label",start:Object.assign({},n[s][1].start),end:Object.assign({},n[o][1].end)},p={type:"labelText",start:Object.assign({},n[s+r+2][1].end),end:Object.assign({},n[o-2][1].start)};return a=[["enter",c,e],["enter",d,e]],a=Od(a,n.slice(s+1,s+r+3)),a=Od(a,[["enter",p,e]]),a=Od(a,D9(e.parser.constructs.insideSpan.null,n.slice(s+r+4,o-3),e)),a=Od(a,[["exit",p,e],n[o-2],n[o-1],["exit",d,e]]),a=Od(a,n.slice(o+1)),a=Od(a,[["exit",c,e]]),Xf(n,s,n.length,a),n}function ugt(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?d(p):(o=r.parser.defined.includes(Ty(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(p),n.exit("labelMarker"),n.exit("labelEnd"),c):t(p)}function c(p){return p===40?n.attempt(rgt,e,o?e:d)(p):p===91?n.attempt(igt,e,o?n.attempt(sgt,e,d):d)(p):o?e(p):d(p)}function d(p){return s._balanced=!0,t(p)}}function lgt(n,e,t){return r;function r(c){return n.enter("resource"),n.enter("resourceMarker"),n.consume(c),n.exit("resourceMarker"),Lb(n,i)}function i(c){return c===41?a(c):QH(n,s,t,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function s(c){return Cc(c)?Lb(n,o)(c):a(c)}function o(c){return c===34||c===39||c===40?YH(n,Lb(n,a),t,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):a(c)}function a(c){return c===41?(n.enter("resourceMarker"),n.consume(c),n.exit("resourceMarker"),n.exit("resource"),e):t(c)}}function cgt(n,e,t){let r=this;return i;function i(o){return GH.call(r,n,s,t,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Ty(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):t(o)}}function fgt(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}m();var Pue={name:"labelStartImage",tokenize:dgt,resolveAll:kb.resolveAll};function dgt(n,e,t){let r=this;return i;function i(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),s}function s(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}m();var Bue={name:"labelStartLink",tokenize:hgt,resolveAll:kb.resolveAll};function hgt(n,e,t){let r=this;return i;function i(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}m();var xN={name:"lineEnding",tokenize:pgt};function pgt(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),to(n,e,"linePrefix")}}m();m();var Ib={name:"thematicBreak",tokenize:mgt};function mgt(n,e,t){let r=0,i;return s;function s(c){return n.enter("thematicBreak"),i=c,o(c)}function o(c){return c===i?(n.enter("thematicBreakSequence"),a(c)):Da(c)?to(n,o,"whitespace")(c):r<3||c!==null&&!Gi(c)?t(c):(n.exit("thematicBreak"),e(c))}function a(c){return c===i?(n.consume(c),r++,a):(n.exit("thematicBreakSequence"),o(c))}}var P0={name:"list",tokenize:ygt,continuation:{tokenize:vgt},exit:bgt},xgt={tokenize:Egt,partial:!0},ggt={tokenize:_gt,partial:!0};function ygt(n,e,t){let r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(N){let R=r.containerState.type||(N===42||N===43||N===45?"listUnordered":"listOrdered");if(R==="listUnordered"?!r.containerState.marker||N===r.containerState.marker:dN(N)){if(r.containerState.type||(r.containerState.type=R,n.enter(R,{_container:!0})),R==="listUnordered")return n.enter("listItemPrefix"),N===42||N===45?n.check(Ib,t,d)(N):d(N);if(!r.interrupt||N===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),c(N)}return t(N)}function c(N){return dN(N)&&++o<10?(n.consume(N),c):(!r.interrupt||o<2)&&(r.containerState.marker?N===r.containerState.marker:N===41||N===46)?(n.exit("listItemValue"),d(N)):t(N)}function d(N){return n.enter("listItemMarker"),n.consume(N),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||N,n.check(pv,r.interrupt?t:p,n.attempt(xgt,C,b))}function p(N){return r.containerState.initialBlankLine=!0,s++,C(N)}function b(N){return Da(N)?(n.enter("listItemPrefixWhitespace"),n.consume(N),n.exit("listItemPrefixWhitespace"),C):t(N)}function C(N){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(N)}}function vgt(n,e,t){let r=this;return r.containerState._closeFlow=void 0,n.check(pv,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,to(n,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Da(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(ggt,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,to(n,n.attempt(P0,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function _gt(n,e,t){let r=this;return to(n,i,"listItemIndent",r.containerState.size+1);function i(s){let o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):t(s)}}function bgt(n){n.exit(this.containerState.type)}function Egt(n,e,t){let r=this;return to(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){let o=r.events[r.events.length-1];return!Da(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}m();var KH={name:"setextUnderline",tokenize:Cgt,resolveTo:Sgt};function Sgt(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);let o={type:"setextHeading",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",o,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end=Object.assign({},n[s][1].end)):n[r][1]=o,n.push(["exit",o,e]),n}function Cgt(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(p){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(n.enter("setextHeadingLine"),n.enter("setextHeadingLineSequence"),s=p,c(p)):t(p)}function c(p){return p===s?(n.consume(p),c):(n.exit("setextHeadingLineSequence"),to(n,d,"lineSuffix")(p))}function d(p){return p===null||Gi(p)?(n.exit("setextHeadingLine"),e(p)):t(p)}}var LDe={tokenize:wgt};function wgt(n){let e=this,t=n.attempt(pv,r,n.attempt(this.parser.constructs.flowInitial,i,to(n,n.attempt(this.parser.constructs.flow,i,n.attempt(Oue,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}m();var kDe={resolveAll:BDe()},IDe=PDe("string"),MDe=PDe("text");function PDe(n){return{tokenize:e,resolveAll:BDe(n==="text"?Agt:void 0)};function e(t){let r=this,i=this.parser.constructs[n],s=t.attempt(i,o,a);return o;function o(p){return d(p)?s(p):a(p)}function a(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),c}function c(p){return d(p)?(t.exit("data"),s(p)):(t.consume(p),c)}function d(p){if(p===null)return!0;let b=i[p],C=-1;if(b)for(;++C<b.length;){let N=b[C];if(!N.previous||N.previous.call(r,r.previous))return!0}return!1}}}function BDe(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function Agt(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){let r=n[t-1][1],i=e.sliceStream(r),s=i.length,o=-1,a=0,c;for(;s--;){let d=i[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(d===-2)c=!0,a++;else if(d!==-1){s++;break}}if(a){let d={type:t===n.length||c||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},d.start),r.start.offset===r.end.offset?Object.assign(r,d):(n.splice(t,0,["enter",d,e],["exit",d,e]),t+=2)}t++}return n}m();function jDe(n,e,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},s=[],o=[],a=[],c=!0,d={consume:G,enter:ae,exit:I,attempt:ye(Z),check:ye(me),interrupt:ye(me,{interrupt:!0})},p={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:U,sliceSerialize:R,now:V,defineSkip:P,write:N},b=e.tokenize.call(p,d),C;return e.resolveAll&&s.push(e),p;function N(Ze){return o=Od(o,Ze),$(),o[o.length-1]!==null?[]:(He(e,0),p.events=D9(s,p.events,p),p.events)}function R(Ze,Tt){return Fgt(U(Ze),Tt)}function U(Ze){return Tgt(o,Ze)}function V(){return Object.assign({},r)}function P(Ze){i[Ze.line]=Ze.column,at()}function $(){let Ze;for(;r._index<o.length;){let Tt=o[r._index];if(typeof Tt=="string")for(Ze=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Ze&&r._bufferIndex<Tt.length;)M(Tt.charCodeAt(r._bufferIndex));else M(Tt)}}function M(Ze){c=void 0,C=Ze,b=b(Ze)}function G(Ze){Gi(Ze)?(r.line++,r.column=1,r.offset+=Ze===-3?2:1,at()):Ze!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=Ze,c=!0}function ae(Ze,Tt){let Mt=Tt||{};return Mt.type=Ze,Mt.start=V(),p.events.push(["enter",Mt,p]),a.push(Mt),Mt}function I(Ze){let Tt=a.pop();return Tt.end=V(),p.events.push(["exit",Tt,p]),Tt}function Z(Ze,Tt){He(Ze,Tt.from)}function me(Ze,Tt){Tt.restore()}function ye(Ze,Tt){return Mt;function Mt(Ue,te,st){let be,Re,Ae,xe;return Array.isArray(Ue)?lt(Ue):"tokenize"in Ue?lt([Ue]):Je(Ue);function Je(Lt){return kt;function kt(cn){let wt=cn!==null&&Lt[cn],Ee=cn!==null&&Lt.null,Ie=[...Array.isArray(wt)?wt:wt?[wt]:[],...Array.isArray(Ee)?Ee:Ee?[Ee]:[]];return lt(Ie)(cn)}}function lt(Lt){return be=Lt,Re=0,Lt.length===0?st:Qt(Lt[Re])}function Qt(Lt){return kt;function kt(cn){return xe=ot(),Ae=Lt,Lt.partial||(p.currentConstruct=Lt),Lt.name&&p.parser.constructs.disable.null.includes(Lt.name)?mn(cn):Lt.tokenize.call(Tt?Object.assign(Object.create(p),Tt):p,d,Et,mn)(cn)}}function Et(Lt){return c=!0,Ze(Ae,xe),te}function mn(Lt){return c=!0,xe.restore(),++Re<be.length?Qt(be[Re]):st}}}function He(Ze,Tt){Ze.resolveAll&&!s.includes(Ze)&&s.push(Ze),Ze.resolve&&Xf(p.events,Tt,p.events.length-Tt,Ze.resolve(p.events.slice(Tt),p)),Ze.resolveTo&&(p.events=Ze.resolveTo(p.events,p))}function ot(){let Ze=V(),Tt=p.previous,Mt=p.currentConstruct,Ue=p.events.length,te=Array.from(a);return{restore:st,from:Ue};function st(){r=Ze,p.previous=Tt,p.currentConstruct=Mt,p.events.length=Ue,a=te,at()}}function at(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Tgt(n,e){let t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex,o;return t===i?o=[n[t].slice(r,s)]:(o=n.slice(t,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(n[i].slice(0,s))),o}function Fgt(n,e){let t=-1,r=[],i;for(;++t<n.length;){let s=n[t],o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}var jue={};FQ(jue,{attentionMarkers:()=>Mgt,contentInitial:()=>Ogt,disable:()=>Pgt,document:()=>Dgt,flow:()=>Rgt,flowInitial:()=>Ngt,insideSpan:()=>Igt,string:()=>Lgt,text:()=>kgt});m();var Dgt={[42]:P0,[43]:P0,[45]:P0,[48]:P0,[49]:P0,[50]:P0,[51]:P0,[52]:P0,[53]:P0,[54]:P0,[55]:P0,[56]:P0,[57]:P0,[62]:$H},Ogt={[91]:Nue},Ngt={[-2]:mN,[-1]:mN,[32]:mN},Rgt={[35]:Lue,[42]:Ib,[45]:[KH,Ib],[60]:Iue,[61]:KH,[95]:Ib,[96]:VH,[126]:VH},Lgt={[38]:HH,[92]:zH},kgt={[-5]:xN,[-4]:xN,[-3]:xN,[33]:Pue,[38]:HH,[42]:pN,[60]:[Fue,Mue],[91]:Bue,[92]:[Rue,zH],[93]:kb,[95]:pN,[96]:Due},Igt={null:[pN,kDe]},Mgt={null:[42,95]},Pgt={null:[]};function qDe(n={}){let e=bDe([jue].concat(n.extensions||[])),t={defined:[],lazy:{},constructs:e,content:r(TDe),document:r(FDe),flow:r(LDe),string:r(IDe),text:r(MDe)};return t;function r(i){return s;function s(o){return jDe(t,i,o)}}}m();var UDe=/[\0\t\n\r]/g;function $De(){let n=1,e="",t=!0,r;return i;function i(s,o,a){let c=[],d,p,b,C,N;for(s=e+s.toString(o),b=0,e="",t&&(s.charCodeAt(0)===65279&&b++,t=void 0);b<s.length;){if(UDe.lastIndex=b,d=UDe.exec(s),C=d&&d.index!==void 0?d.index:s.length,N=s.charCodeAt(C),!d){e=s.slice(b);break}if(N===10&&b===C&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),b<C&&(c.push(s.slice(b,C)),n+=C-b),N){case 0:{c.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,c.push(-2);n++<p;)c.push(-1);break}case 10:{c.push(-4),n=1;break}default:r=!0,n=1}b=C+1}return a&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}m();function zDe(n){for(;!WH(n););return n}m();function JH(n,e){let t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}m();var Bgt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function HDe(n){return n.replace(Bgt,jgt)}function jgt(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){let i=t.charCodeAt(1),s=i===120||i===88;return JH(t.slice(s?2:1),s?16:10)}return O9(t)||n}var que={}.hasOwnProperty,Uue=function(n,e,t){return typeof e!="string"&&(t=e,e=void 0),qgt(t)(zDe(qDe(t).document().write($De()(n,e,!0))))};function qgt(n={}){let e=VDe({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(Nt),autolinkProtocol:at,autolinkEmail:at,atxHeading:c(Xe),blockQuote:c(Ee),characterEscape:at,characterReference:at,codeFenced:c(Ie),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:c(Ie,d),codeText:c(Ce,d),codeTextData:at,data:at,codeFlowValue:at,definition:c(fe),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:c(rt),hardBreakEscape:c(de),hardBreakTrailing:c(de),htmlFlow:c(Ge,d),htmlFlowData:at,htmlText:c(Ge,d),htmlTextData:at,image:c(Ot),label:d,link:c(Nt),listItem:c(en),listItemValue:U,listOrdered:c(zt,R),listUnordered:c(zt),paragraph:c(Xt),reference:Et,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:c(Xe),strong:c(bn),thematicBreak:c(Dn)},exit:{atxHeading:b(),atxHeadingSequence:me,autolink:b(),autolinkEmail:wt,autolinkProtocol:cn,blockQuote:b(),characterEscapeValue:Ze,characterReferenceMarkerHexadecimal:Lt,characterReferenceMarkerNumeric:Lt,characterReferenceValue:kt,codeFenced:b(M),codeFencedFence:$,codeFencedFenceInfo:V,codeFencedFenceMeta:P,codeFlowValue:Ze,codeIndented:b(G),codeText:b(st),codeTextData:Ze,data:Ze,definition:b(),definitionDestinationString:Z,definitionLabelString:ae,definitionTitleString:I,emphasis:b(),hardBreakEscape:b(Mt),hardBreakTrailing:b(Mt),htmlFlow:b(Ue),htmlFlowData:Ze,htmlText:b(te),htmlTextData:Ze,image:b(Re),label:xe,labelText:Ae,lineEnding:Tt,link:b(be),listItem:b(),listOrdered:b(),listUnordered:b(),paragraph:b(),referenceString:mn,resourceDestinationString:Je,resourceTitleString:lt,resource:Qt,setextHeading:b(ot),setextHeadingLineSequence:He,setextHeadingText:ye,strong:b(),thematicBreak:b()}},n.mdastExtensions||[]),t={};return r;function r(Ut){let pn={type:"root",children:[]},qn=[pn],sr=[],In=[],Ne={stack:qn,tokenStack:sr,config:e,enter:p,exit:C,buffer:d,resume:N,setData:s,getData:o},$e=-1;for(;++$e<Ut.length;)if(Ut[$e][1].type==="listOrdered"||Ut[$e][1].type==="listUnordered")if(Ut[$e][0]==="enter")In.push($e);else{let De=In.pop();$e=i(Ut,De,$e)}for($e=-1;++$e<Ut.length;){let De=e[Ut[$e][0]];que.call(De,Ut[$e][1].type)&&De[Ut[$e][1].type].call(Object.assign({sliceSerialize:Ut[$e][2].sliceSerialize},Ne),Ut[$e][1])}if(sr.length>0){let De=sr[sr.length-1];(De[1]||WDe).call(Ne,void 0,De[0])}for(pn.position={start:a(Ut.length>0?Ut[0][1].start:{line:1,column:1,offset:0}),end:a(Ut.length>0?Ut[Ut.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<e.transforms.length;)pn=e.transforms[$e](pn)||pn;return pn}function i(Ut,pn,qn){let sr=pn-1,In=-1,Ne=!1,$e,De,qt,yt;for(;++sr<=qn;){let mt=Ut[sr];if(mt[1].type==="listUnordered"||mt[1].type==="listOrdered"||mt[1].type==="blockQuote"?(mt[0]==="enter"?In++:In--,yt=void 0):mt[1].type==="lineEndingBlank"?mt[0]==="enter"&&($e&&!yt&&!In&&!qt&&(qt=sr),yt=void 0):mt[1].type==="linePrefix"||mt[1].type==="listItemValue"||mt[1].type==="listItemMarker"||mt[1].type==="listItemPrefix"||mt[1].type==="listItemPrefixWhitespace"||(yt=void 0),!In&&mt[0]==="enter"&&mt[1].type==="listItemPrefix"||In===-1&&mt[0]==="exit"&&(mt[1].type==="listUnordered"||mt[1].type==="listOrdered")){if($e){let nn=sr;for(De=void 0;nn--;){let Wt=Ut[nn];if(Wt[1].type==="lineEnding"||Wt[1].type==="lineEndingBlank"){if(Wt[0]==="exit")continue;De&&(Ut[De][1].type="lineEndingBlank",Ne=!0),Wt[1].type="lineEnding",De=nn}else if(!(Wt[1].type==="linePrefix"||Wt[1].type==="blockQuotePrefix"||Wt[1].type==="blockQuotePrefixWhitespace"||Wt[1].type==="blockQuoteMarker"||Wt[1].type==="listItemIndent"))break}qt&&(!De||qt<De)&&($e._spread=!0),$e.end=Object.assign({},De?Ut[De][1].start:mt[1].end),Ut.splice(De||sr,0,["exit",$e,mt[2]]),sr++,qn++}mt[1].type==="listItemPrefix"&&($e={type:"listItem",_spread:!1,start:Object.assign({},mt[1].start)},Ut.splice(sr,0,["enter",$e,mt[2]]),sr++,qn++,qt=void 0,yt=!0)}}return Ut[pn][1]._spread=Ne,qn}function s(Ut,pn){t[Ut]=pn}function o(Ut){return t[Ut]}function a(Ut){return{line:Ut.line,column:Ut.column,offset:Ut.offset}}function c(Ut,pn){return qn;function qn(sr){p.call(this,Ut(sr),sr),pn&&pn.call(this,sr)}}function d(){this.stack.push({type:"fragment",children:[]})}function p(Ut,pn,qn){return this.stack[this.stack.length-1].children.push(Ut),this.stack.push(Ut),this.tokenStack.push([pn,qn]),Ut.position={start:a(pn.start)},Ut}function b(Ut){return pn;function pn(qn){Ut&&Ut.call(this,qn),C.call(this,qn)}}function C(Ut,pn){let qn=this.stack.pop(),sr=this.tokenStack.pop();if(sr)sr[0].type!==Ut.type&&(pn?pn.call(this,Ut,sr[0]):(sr[1]||WDe).call(this,Ut,sr[0]));else throw new Error("Cannot close `"+Ut.type+"` ("+Rb({start:Ut.start,end:Ut.end})+"): it\u2019s not open");return qn.position.end=a(Ut.end),qn}function N(){return gDe(this.stack.pop())}function R(){s("expectingFirstListItemValue",!0)}function U(Ut){if(o("expectingFirstListItemValue")){let pn=this.stack[this.stack.length-2];pn.start=Number.parseInt(this.sliceSerialize(Ut),10),s("expectingFirstListItemValue")}}function V(){let Ut=this.resume(),pn=this.stack[this.stack.length-1];pn.lang=Ut}function P(){let Ut=this.resume(),pn=this.stack[this.stack.length-1];pn.meta=Ut}function $(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function M(){let Ut=this.resume(),pn=this.stack[this.stack.length-1];pn.value=Ut.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function G(){let Ut=this.resume(),pn=this.stack[this.stack.length-1];pn.value=Ut.replace(/(\r?\n|\r)$/g,"")}function ae(Ut){let pn=this.resume(),qn=this.stack[this.stack.length-1];qn.label=pn,qn.identifier=Ty(this.sliceSerialize(Ut)).toLowerCase()}function I(){let Ut=this.resume(),pn=this.stack[this.stack.length-1];pn.title=Ut}function Z(){let Ut=this.resume(),pn=this.stack[this.stack.length-1];pn.url=Ut}function me(Ut){let pn=this.stack[this.stack.length-1];if(!pn.depth){let qn=this.sliceSerialize(Ut).length;pn.depth=qn}}function ye(){s("setextHeadingSlurpLineEnding",!0)}function He(Ut){let pn=this.stack[this.stack.length-1];pn.depth=this.sliceSerialize(Ut).charCodeAt(0)===61?1:2}function ot(){s("setextHeadingSlurpLineEnding")}function at(Ut){let pn=this.stack[this.stack.length-1],qn=pn.children[pn.children.length-1];(!qn||qn.type!=="text")&&(qn=Tn(),qn.position={start:a(Ut.start)},pn.children.push(qn)),this.stack.push(qn)}function Ze(Ut){let pn=this.stack.pop();pn.value+=this.sliceSerialize(Ut),pn.position.end=a(Ut.end)}function Tt(Ut){let pn=this.stack[this.stack.length-1];if(o("atHardBreak")){let qn=pn.children[pn.children.length-1];qn.position.end=a(Ut.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(pn.type)&&(at.call(this,Ut),Ze.call(this,Ut))}function Mt(){s("atHardBreak",!0)}function Ue(){let Ut=this.resume(),pn=this.stack[this.stack.length-1];pn.value=Ut}function te(){let Ut=this.resume(),pn=this.stack[this.stack.length-1];pn.value=Ut}function st(){let Ut=this.resume(),pn=this.stack[this.stack.length-1];pn.value=Ut}function be(){let Ut=this.stack[this.stack.length-1];o("inReference")?(Ut.type+="Reference",Ut.referenceType=o("referenceType")||"shortcut",delete Ut.url,delete Ut.title):(delete Ut.identifier,delete Ut.label),s("referenceType")}function Re(){let Ut=this.stack[this.stack.length-1];o("inReference")?(Ut.type+="Reference",Ut.referenceType=o("referenceType")||"shortcut",delete Ut.url,delete Ut.title):(delete Ut.identifier,delete Ut.label),s("referenceType")}function Ae(Ut){let pn=this.stack[this.stack.length-2],qn=this.sliceSerialize(Ut);pn.label=HDe(qn),pn.identifier=Ty(qn).toLowerCase()}function xe(){let Ut=this.stack[this.stack.length-1],pn=this.resume(),qn=this.stack[this.stack.length-1];s("inReference",!0),qn.type==="link"?qn.children=Ut.children:qn.alt=pn}function Je(){let Ut=this.resume(),pn=this.stack[this.stack.length-1];pn.url=Ut}function lt(){let Ut=this.resume(),pn=this.stack[this.stack.length-1];pn.title=Ut}function Qt(){s("inReference")}function Et(){s("referenceType","collapsed")}function mn(Ut){let pn=this.resume(),qn=this.stack[this.stack.length-1];qn.label=pn,qn.identifier=Ty(this.sliceSerialize(Ut)).toLowerCase(),s("referenceType","full")}function Lt(Ut){s("characterReferenceType",Ut.type)}function kt(Ut){let pn=this.sliceSerialize(Ut),qn=o("characterReferenceType"),sr;qn?(sr=JH(pn,qn==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):sr=O9(pn);let In=this.stack.pop();In.value+=sr,In.position.end=a(Ut.end)}function cn(Ut){Ze.call(this,Ut);let pn=this.stack[this.stack.length-1];pn.url=this.sliceSerialize(Ut)}function wt(Ut){Ze.call(this,Ut);let pn=this.stack[this.stack.length-1];pn.url="mailto:"+this.sliceSerialize(Ut)}function Ee(){return{type:"blockquote",children:[]}}function Ie(){return{type:"code",lang:null,meta:null,value:""}}function Ce(){return{type:"inlineCode",value:""}}function fe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function rt(){return{type:"emphasis",children:[]}}function Xe(){return{type:"heading",depth:void 0,children:[]}}function de(){return{type:"break"}}function Ge(){return{type:"html",value:""}}function Ot(){return{type:"image",title:null,url:"",alt:null}}function Nt(){return{type:"link",title:null,url:"",children:[]}}function zt(Ut){return{type:"list",ordered:Ut.type==="listOrdered",start:null,spread:Ut._spread,children:[]}}function en(Ut){return{type:"listItem",spread:Ut._spread,checked:null,children:[]}}function Xt(){return{type:"paragraph",children:[]}}function bn(){return{type:"strong",children:[]}}function Tn(){return{type:"text",value:""}}function Dn(){return{type:"thematicBreak"}}}function VDe(n,e){let t=-1;for(;++t<e.length;){let r=e[t];Array.isArray(r)?VDe(n,r):Ugt(n,r)}return n}function Ugt(n,e){let t;for(t in e)if(que.call(e,t)){let r=t==="canContainEols"||t==="transforms",s=(que.call(n,t)?n[t]:void 0)||(n[t]=r?[]:{}),o=e[t];o&&(r?n[t]=[...s,...o]:Object.assign(s,o))}}function WDe(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Rb({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Rb({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Rb({start:e.start,end:e.end})+") is still open")}function $ue(n){Object.assign(this,{Parser:t=>{let r=this.data("settings");return Uue(t,Object.assign({},r,n,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var QDe=$ue;var dLe=xr(cLe());m();var lle=/\s*([a-zA-Z\d-]+)(\s+([\s\S]*))?\s*/,r5t=new RegExp("(\\s*\\/\\*"+lle.source+"\\*\\/\\s*)"),i5t=new RegExp("(\\s*<!--"+lle.source+"-->\\s*)");function fLe(n){if(o5t(n)&&(n.type==="html"||n.type==="comment"||n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")){let e=2,t;if(n.type==="comment"?(t=n.value.match(lle),e=1):n.type==="html"?t=n.value.match(i5t):(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")&&(t=n.value.match(r5t)),t&&t[0].length===n.value.length){let r=s5t(t[e+1]||"");if(r)return{name:t[e],attributes:(t[e+2]||"").trim(),parameters:r,node:n}}}return null}function s5t(n){let e={};return n.replace(/\s+([-\w]+)(?:=(?:"((?:\\[\s\S]|[^"])+)"|'((?:\\[\s\S]|[^'])+)'|((?:\\[\s\S]|[^"'\s])+)))?/gi,t).replace(/\s+/g,"")?null:e;function t(r,i,s,o,a){let c=s||o||a||"";return c==="true"||c===""?c=!0:c==="false"?c=!1:Number.isNaN(Number(c))||(c=Number(c)),e[i]=c,""}}function o5t(n){return Boolean(n&&typeof n=="object"&&"type"in n)}function hLe(n){let e=Eue().use(QDe).use(dLe.default).use(a5t),t=e.parse(n);return e.runSync(t)}var a5t=()=>{let n;function e(t){function r(i){let s=i;if(s.type==="html"){let o=fLe(s);return o&&(n=o),s}else{if("children"in s)return{...s,children:s.children.map(o=>r(o))};if(s.type==="inlineCode"){let o=n;return o?(n=void 0,{model:o.parameters?.model?.toString()||"",query:o.parameters?.query?.toString()||"",source:o.parameters?.source?.toString()||"",value:s.value,type:"malloyQueryLink"}):s}else return s}}return r(t)}return e};var cle=({content:n,loadQueryLink:e})=>{let t=hLe(n);return v.createElement(pLe,{node:t,loadQueryLink:e})},pLe=({node:n,loadQueryLink:e})=>{let t=r=>v.createElement(u5t,{nodes:r.children,loadQueryLink:e});switch(n.type){case"root":return v.createElement(y5t,null,v.createElement(v5t,null,t(n)));case"heading":switch(n.depth){case 1:return v.createElement(d5t,null,t(n));case 2:return v.createElement(h5t,null,t(n));case 3:return v.createElement(p5t,null,t(n));case 4:return v.createElement(m5t,null,t(n));case 5:return v.createElement(x5t,null,t(n));case 6:return v.createElement(g5t,null,t(n))}return v.createElement("div",null);case"text":return v.createElement("span",null,n.value);case"strong":return v.createElement("b",null,t(n));case"paragraph":return v.createElement(_5t,null,t(n));case"link":return v.createElement(mLe,{href:n.url,onClick:()=>Toe(n.url)},t(n),n.title);case"emphasis":return v.createElement("i",null,t(n));case"blockquote":return v.createElement("blockquote",null,t(n));case"break":return v.createElement("br",null);case"code":return v.createElement(l5t,{code:n.value,language:n.lang});case"delete":return v.createElement("del",null,t(n));case"html":return v.createElement("span",null);case"image":return v.createElement("img",{src:n.url,alt:n.alt,title:n.title??void 0});case"inlineCode":return v.createElement("code",null,n.value);case"listItem":return v.createElement("li",null,t(n));case"list":return v.createElement("ul",null,t(n));case"table":return v.createElement(c5t,{align:n.align},v.createElement("tbody",null,t(n)));case"tableRow":return v.createElement("tr",null,t(n));case"tableCell":return v.createElement(f5t,null,t(n));case"thematicBreak":return v.createElement("hr",null);case"malloyQueryLink":return v.createElement(mLe,{href:"#",onClick:()=>{e(n.model,n.source,n.query)}},v.createElement("code",null,n.value))}},u5t=({nodes:n,loadQueryLink:e})=>v.createElement(v.Fragment,null,n.map((t,r)=>v.createElement(pLe,{node:t,key:r,loadQueryLink:e}))),l5t=({code:n,language:e})=>{let[t,r]=(0,oV.useState)();return(0,oV.useEffect)(()=>{$A(n,e).then(r)},[n,e]),t?v.createElement(b5t,null,v.createElement(Nb,{element:t})):v.createElement("pre",null,n)},c5t=$n.table`
  border: 1px solid #eaeaea;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
  border-collapse: collapse;
  width: 100%;

  tr:first-child {
    font-weight: 500;
  }

  ${({align:n})=>n.map((e,t)=>`
        tr td:nth-child(${t+1}) {
          text-align: ${e??"left"};
        }
      `).join(`
`)}
`,f5t=$n.td`
  padding: 8px;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
`,d5t=$n.h1`
  font-size: 21px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,h5t=$n.h2`
  font-size: 19px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,p5t=$n.h3`
  font-size: 17px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,m5t=$n.h4`
  font-size: 15px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,x5t=$n.h5`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,g5t=$n.h6`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,y5t=$n.div`
  padding: 10px 30px 30px 30px;
  width: 100%;
  font-family: Google Sans;
  overflow-y: auto;
`,v5t=$n.div`
  max-width: 900px;
`,mLe=$n.a`
  color: ${mi.dimension.fillStrong};
`,_5t=$n.p`
  font-size: 14px;
  margin-block-start: 8px;
  color: #4b4c50;
`,b5t=$n.div`
  pre {
    font-size: 14px;
    border: 1px solid #efefef;
    border-radius: 5px;
    padding: 10px;
    background-color: #fbfbfb;
  }
`;var E5t={REMOVE_FIELDS:"command+k",RUN_QUERY:"command+enter"},aV=()=>{let[n,e]=(0,yN.useState)(),{openDirectory:t,beginOpenDirectory:r,isOpeningDirectory:i}=Fwe(),s=_oe(t),{queryMalloy:o,queryName:a,clearQuery:c,runQuery:d,isRunning:p,clearResult:b,source:C,queryModifiers:N,querySummary:R,dataStyles:U,result:V,error:P}=Doe({analysis:n,setAnalysis:e,openDirectory:t}),$=Awe(n),[M,G]=(0,yN.useState)("query"),ae=(me,ye,He)=>{let ot=s;for(let Ue of me.split("/"))if(Ue!=="."){if(ot?.type!=="directory")return;ot=ot.contents.find(te=>te.path===Ue)}if(ot?.type!=="model")return;let at=ot,Ze=at.sources.find(Ue=>Ue.name===ye);if(Ze===void 0)return;let Tt=ye+"_analysis",Mt=`import "file://${at.fullPath}"

 explore: ${Tt} is ${Ze.name} {}`;pb(at.modelDef,Mt).then(Ue=>{let te={type:"analysis",malloy:Mt,path:void 0,fullPath:void 0,modelFullPath:at.fullPath,sourceName:Tt,modelDef:Ue,id:`${at.fullPath}/${Ze.name}`,dataStyles:at.dataStyles};N.loadQueryInNewAnalysis(te,He),G("query")})};(0,yN.useEffect)(()=>{s&&(s.readme&&G("about"),e(void 0),c())},[s]);let I=me=>{e(me),c(me)};return v.createElement(S5t,{handlers:{REMOVE_FIELDS:()=>c(),RUN_QUERY:d},keyMap:E5t},v.createElement(D5t,null,v.createElement(O5t,null,v.createElement(mue,null),!_0()&&v.createElement(wo,{action:"open-directory",onClick:()=>{!i&&r()},color:"dimension"}),v.createElement(Xoe,{directory:s,analysis:n,selectAnalysis:I})),!p&&v.createElement(Yl,{onClick:()=>d()},"Run"),p&&v.createElement(Yl,{onClick:()=>b(),color:"primary",outline:!0},"Cancel")),v.createElement(w5t,null,v.createElement(fle,null,v.createElement(A5t,null,v.createElement(T5t,null,v.createElement(q$,{onClick:()=>G("query"),text:"Query",icon:"query",selected:M==="query"}),v.createElement(q$,{onClick:()=>G("about"),text:"About",icon:"about",selected:M==="about",disabled:s?.readme==null})),v.createElement(F5t,null)),v.createElement(N5t,null,v.createElement(C5t,null,M==="query"&&v.createElement(pue,{source:C,analysis:n,queryModifiers:N,topValues:$,queryName:a,querySummary:R,queryMalloy:o,dataStyles:U,result:V,isRunning:p}),M==="about"&&v.createElement(HC,null,v.createElement(cle,{content:s?.readme||`# No Readme
This project has no readme`,loadQueryLink:ae})),v.createElement(Soe,{error:P}))),v.createElement(R5t,null))),v.createElement(L5t,null))},S5t=$n(xLe.HotKeys)`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  outline: none;
  background-color: ${mi.mainBackground};
`,C5t=$n.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 10px;
`,w5t=$n.div`
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
`,fle=$n.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
  background-color: ${mi.mainBackground};
`,A5t=$n.div`
  width: 70px;
  min-width: 70px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
  justify-content: space-between;
`,T5t=$n.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
`,F5t=$n.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
`,D5t=$n.div`
  height: 40px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 5px 10px 5px 20px;
  background-color: ${mi.mainBackground};
`,O5t=$n.div`
  display: flex;
  align-items: center;
  gap: 5px;
`,NGt=$n(fle)`
  overflow-y: auto;
  background-color: unset;
`,N5t=$n(fle)``,R5t=$n.div`
  width: 10px;
  min-width: 10px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
`,L5t=$n.div`
  width: 100%;
  min-height: 10px;
  height: 10px;
  display: flex;
  flex-direction: column;
  background-color: ${mi.mainBackground};
`;var k5t=new XY,gLe=()=>v.createElement(nK,{client:k5t},v.createElement(aV,null));m();var U5t=n=>{n&&n instanceof Function&&Promise.resolve().then(()=>(TLe(),ALe)).then(({getCLS:e,getFID:t,getFCP:r,getLCP:i,getTTFB:s})=>{e(n),t(n),r(n),i(n),s(n)})},FLe=U5t;DLe.default.render(fV.default.createElement(fV.default.StrictMode,null,fV.default.createElement(gLe,null)),document.getElementById("root"));FLe();})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! moment.js
//! momentjs.com
//! version : 2.29.4
