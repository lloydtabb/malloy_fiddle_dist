(()=>{var IMe=Object.create;var SL=Object.defineProperty;var MMe=Object.getOwnPropertyDescriptor;var PMe=Object.getOwnPropertyNames;var BMe=Object.getPrototypeOf,jMe=Object.prototype.hasOwnProperty;var Fce=n=>SL(n,"__esModule",{value:!0});var wL=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var OQ=(n,e)=>()=>(n&&(e=n(n=0)),e);var Ae=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),RQ=(n,e)=>{for(var t in e)SL(n,t,{get:e[t],enumerable:!0})},Dce=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of PMe(e))!jMe.call(n,i)&&(t||i!=="default")&&SL(n,i,{get:()=>e[i],enumerable:!(r=MMe(e,i))||r.enumerable});return n},xr=(n,e)=>Dce(Fce(SL(n!=null?IMe(BMe(n)):{},"default",!e&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),qMe=(n=>(e,t)=>n&&n.get(e)||(t=Dce(Fce({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var NQ=Ae((m4t,Rce)=>{"use strict";m();var Oce=Object.getOwnPropertySymbols,UMe=Object.prototype.hasOwnProperty,zMe=Object.prototype.propertyIsEnumerable;function HMe(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function $Me(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Rce.exports=$Me()?Object.assign:function(n,e){for(var t,r=HMe(n),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var o in t)UMe.call(t,o)&&(r[o]=t[o]);if(Oce){i=Oce(t);for(var a=0;a<i.length;a++)zMe.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r}});var Qce=Ae(ra=>{"use strict";m();var LQ=NQ(),xE=60103,Nce=60106;ra.Fragment=60107;ra.StrictMode=60108;ra.Profiler=60114;var Lce=60109,kce=60110,Ice=60112;ra.Suspense=60113;var Mce=60115,Pce=60116;typeof Symbol=="function"&&Symbol.for&&(gp=Symbol.for,xE=gp("react.element"),Nce=gp("react.portal"),ra.Fragment=gp("react.fragment"),ra.StrictMode=gp("react.strict_mode"),ra.Profiler=gp("react.profiler"),Lce=gp("react.provider"),kce=gp("react.context"),Ice=gp("react.forward_ref"),ra.Suspense=gp("react.suspense"),Mce=gp("react.memo"),Pce=gp("react.lazy"));var gp,Bce=typeof Symbol=="function"&&Symbol.iterator;function VMe(n){return n===null||typeof n!="object"?null:(n=Bce&&n[Bce]||n["@@iterator"],typeof n=="function"?n:null)}function T9(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jce={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qce={};function gE(n,e,t){this.props=n,this.context=e,this.refs=qce,this.updater=t||jce}gE.prototype.isReactComponent={};gE.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(T9(85));this.updater.enqueueSetState(this,n,e,"setState")};gE.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Uce(){}Uce.prototype=gE.prototype;function kQ(n,e,t){this.props=n,this.context=e,this.refs=qce,this.updater=t||jce}var IQ=kQ.prototype=new Uce;IQ.constructor=kQ;LQ(IQ,gE.prototype);IQ.isPureReactComponent=!0;var MQ={current:null},zce=Object.prototype.hasOwnProperty,Hce={key:!0,ref:!0,__self:!0,__source:!0};function $ce(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)zce.call(e,r)&&!Hce.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];i.children=c}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xE,type:n,key:s,ref:o,props:i,_owner:MQ.current}}function WMe(n,e){return{$$typeof:xE,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function PQ(n){return typeof n=="object"&&n!==null&&n.$$typeof===xE}function QMe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Vce=/\/+/g;function BQ(n,e){return typeof n=="object"&&n!==null&&n.key!=null?QMe(""+n.key):e.toString(36)}function CL(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case xE:case Nce:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+BQ(o,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(Vce,"$&/")+"/"),CL(i,e,t,"",function(d){return d})):i!=null&&(PQ(i)&&(i=WMe(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vce,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(n))for(var a=0;a<n.length;a++){s=n[a];var c=r+BQ(s,a);o+=CL(s,e,t,c,i)}else if(c=VMe(n),typeof c=="function")for(n=c.call(n),a=0;!(s=n.next()).done;)s=s.value,c=r+BQ(s,a++),o+=CL(s,e,t,c,i);else if(s==="object")throw e=""+n,Error(T9(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return o}function AL(n,e,t){if(n==null)return n;var r=[],i=0;return CL(n,r,"","",function(s){return e.call(t,s,i++)}),r}function GMe(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var Wce={current:null};function Qx(){var n=Wce.current;if(n===null)throw Error(T9(321));return n}var YMe={ReactCurrentDispatcher:Wce,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:MQ,IsSomeRendererActing:{current:!1},assign:LQ};ra.Children={map:AL,forEach:function(n,e,t){AL(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return AL(n,function(){e++}),e},toArray:function(n){return AL(n,function(e){return e})||[]},only:function(n){if(!PQ(n))throw Error(T9(143));return n}};ra.Component=gE;ra.PureComponent=kQ;ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YMe;ra.cloneElement=function(n,e,t){if(n==null)throw Error(T9(267,n));var r=LQ({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=MQ.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)zce.call(e,c)&&!Hce.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:xE,type:n.type,key:i,ref:s,props:r,_owner:o}};ra.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:kce,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:Lce,_context:n},n.Consumer=n};ra.createElement=$ce;ra.createFactory=function(n){var e=$ce.bind(null,n);return e.type=n,e};ra.createRef=function(){return{current:null}};ra.forwardRef=function(n){return{$$typeof:Ice,render:n}};ra.isValidElement=PQ;ra.lazy=function(n){return{$$typeof:Pce,_payload:{_status:-1,_result:n},_init:GMe}};ra.memo=function(n,e){return{$$typeof:Mce,type:n,compare:e===void 0?null:e}};ra.useCallback=function(n,e){return Qx().useCallback(n,e)};ra.useContext=function(n,e){return Qx().useContext(n,e)};ra.useDebugValue=function(){};ra.useEffect=function(n,e){return Qx().useEffect(n,e)};ra.useImperativeHandle=function(n,e,t){return Qx().useImperativeHandle(n,e,t)};ra.useLayoutEffect=function(n,e){return Qx().useLayoutEffect(n,e)};ra.useMemo=function(n,e){return Qx().useMemo(n,e)};ra.useReducer=function(n,e,t){return Qx().useReducer(n,e,t)};ra.useRef=function(n){return Qx().useRef(n)};ra.useState=function(n){return Qx().useState(n)};ra.version="17.0.2"});var Lr=Ae((g4t,Gce)=>{"use strict";m();Gce.exports=Qce()});var _,m=OQ(()=>{_=xr(Lr())});var efe=Ae(Ea=>{"use strict";m();var yE,F9,TL,jQ;typeof performance=="object"&&typeof performance.now=="function"?(Yce=performance,Ea.unstable_now=function(){return Yce.now()}):(qQ=Date,Kce=qQ.now(),Ea.unstable_now=function(){return qQ.now()-Kce});var Yce,qQ,Kce;typeof window=="undefined"||typeof MessageChannel!="function"?(vE=null,UQ=null,zQ=function(){if(vE!==null)try{var n=Ea.unstable_now();vE(!0,n),vE=null}catch(e){throw setTimeout(zQ,0),e}},yE=function(n){vE!==null?setTimeout(yE,0,n):(vE=n,setTimeout(zQ,0))},F9=function(n,e){UQ=setTimeout(n,e)},TL=function(){clearTimeout(UQ)},Ea.unstable_shouldYield=function(){return!1},jQ=Ea.unstable_forceFrameRate=function(){}):(Jce=window.setTimeout,Xce=window.clearTimeout,typeof console!="undefined"&&(Zce=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Zce!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),D9=!1,O9=null,FL=-1,HQ=5,$Q=0,Ea.unstable_shouldYield=function(){return Ea.unstable_now()>=$Q},jQ=function(){},Ea.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):HQ=0<n?Math.floor(1e3/n):5},VQ=new MessageChannel,DL=VQ.port2,VQ.port1.onmessage=function(){if(O9!==null){var n=Ea.unstable_now();$Q=n+HQ;try{O9(!0,n)?DL.postMessage(null):(D9=!1,O9=null)}catch(e){throw DL.postMessage(null),e}}else D9=!1},yE=function(n){O9=n,D9||(D9=!0,DL.postMessage(null))},F9=function(n,e){FL=Jce(function(){n(Ea.unstable_now())},e)},TL=function(){Xce(FL),FL=-1});var vE,UQ,zQ,Jce,Xce,Zce,D9,O9,FL,HQ,$Q,VQ,DL;function WQ(n,e){var t=n.length;n.push(e);e:for(;;){var r=t-1>>>1,i=n[r];if(i!==void 0&&0<RL(i,e))n[r]=e,n[t]=i,t=r;else break e}}function Q1(n){return n=n[0],n===void 0?null:n}function OL(n){var e=n[0];if(e!==void 0){var t=n.pop();if(t!==e){n[0]=t;e:for(var r=0,i=n.length;r<i;){var s=2*(r+1)-1,o=n[s],a=s+1,c=n[a];if(o!==void 0&&0>RL(o,t))c!==void 0&&0>RL(c,o)?(n[r]=c,n[a]=t,r=a):(n[r]=o,n[s]=t,r=s);else if(c!==void 0&&0>RL(c,t))n[r]=c,n[a]=t,r=a;else break e}}return e}return null}function RL(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}var Jm=[],Xy=[],KMe=1,yp=null,g0=3,NL=!1,z4=!1,R9=!1;function QQ(n){for(var e=Q1(Xy);e!==null;){if(e.callback===null)OL(Xy);else if(e.startTime<=n)OL(Xy),e.sortIndex=e.expirationTime,WQ(Jm,e);else break;e=Q1(Xy)}}function GQ(n){if(R9=!1,QQ(n),!z4)if(Q1(Jm)!==null)z4=!0,yE(YQ);else{var e=Q1(Xy);e!==null&&F9(GQ,e.startTime-n)}}function YQ(n,e){z4=!1,R9&&(R9=!1,TL()),NL=!0;var t=g0;try{for(QQ(e),yp=Q1(Jm);yp!==null&&(!(yp.expirationTime>e)||n&&!Ea.unstable_shouldYield());){var r=yp.callback;if(typeof r=="function"){yp.callback=null,g0=yp.priorityLevel;var i=r(yp.expirationTime<=e);e=Ea.unstable_now(),typeof i=="function"?yp.callback=i:yp===Q1(Jm)&&OL(Jm),QQ(e)}else OL(Jm);yp=Q1(Jm)}if(yp!==null)var s=!0;else{var o=Q1(Xy);o!==null&&F9(GQ,o.startTime-e),s=!1}return s}finally{yp=null,g0=t,NL=!1}}var JMe=jQ;Ea.unstable_IdlePriority=5;Ea.unstable_ImmediatePriority=1;Ea.unstable_LowPriority=4;Ea.unstable_NormalPriority=3;Ea.unstable_Profiling=null;Ea.unstable_UserBlockingPriority=2;Ea.unstable_cancelCallback=function(n){n.callback=null};Ea.unstable_continueExecution=function(){z4||NL||(z4=!0,yE(YQ))};Ea.unstable_getCurrentPriorityLevel=function(){return g0};Ea.unstable_getFirstCallbackNode=function(){return Q1(Jm)};Ea.unstable_next=function(n){switch(g0){case 1:case 2:case 3:var e=3;break;default:e=g0}var t=g0;g0=e;try{return n()}finally{g0=t}};Ea.unstable_pauseExecution=function(){};Ea.unstable_requestPaint=JMe;Ea.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=g0;g0=n;try{return e()}finally{g0=t}};Ea.unstable_scheduleCallback=function(n,e,t){var r=Ea.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?r+t:r):t=r,n){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=t+i,n={id:KMe++,callback:e,priorityLevel:n,startTime:t,expirationTime:i,sortIndex:-1},t>r?(n.sortIndex=t,WQ(Xy,n),Q1(Jm)===null&&n===Q1(Xy)&&(R9?TL():R9=!0,F9(GQ,t-r))):(n.sortIndex=i,WQ(Jm,n),z4||NL||(z4=!0,yE(YQ))),n};Ea.unstable_wrapCallback=function(n){var e=g0;return function(){var t=g0;g0=e;try{return n.apply(this,arguments)}finally{g0=t}}}});var nfe=Ae((_4t,tfe)=>{"use strict";m();tfe.exports=efe()});var zde=Ae(wp=>{"use strict";m();var LL=Lr(),qu=NQ(),af=nfe();function ui(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!LL)throw Error(ui(227));var rfe=new Set,N9={};function H4(n,e){_E(n,e),_E(n+"Capture",e)}function _E(n,e){for(N9[n]=e,n=0;n<e.length;n++)rfe.add(e[n])}var Gx=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),XMe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ife=Object.prototype.hasOwnProperty,sfe={},ofe={};function ZMe(n){return ife.call(ofe,n)?!0:ife.call(sfe,n)?!1:XMe.test(n)?ofe[n]=!0:(sfe[n]=!0,!1)}function ePe(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function tPe(n,e,t,r){if(e===null||typeof e=="undefined"||ePe(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function od(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var If={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){If[n]=new od(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];If[e]=new od(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){If[n]=new od(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){If[n]=new od(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){If[n]=new od(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){If[n]=new od(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){If[n]=new od(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){If[n]=new od(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){If[n]=new od(n,5,!1,n.toLowerCase(),null,!1,!1)});var KQ=/[\-:]([a-z])/g;function JQ(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(KQ,JQ);If[e]=new od(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(KQ,JQ);If[e]=new od(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(KQ,JQ);If[e]=new od(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){If[n]=new od(n,1,!1,n.toLowerCase(),null,!1,!1)});If.xlinkHref=new od("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){If[n]=new od(n,1,!1,n.toLowerCase(),null,!0,!0)});function XQ(n,e,t,r){var i=If.hasOwnProperty(e)?If[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(tPe(e,t,i,r)&&(t=null),r||i===null?ZMe(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var $4=LL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L9=60103,V4=60106,Zy=60107,ZQ=60108,k9=60114,eG=60109,tG=60110,kL=60112,I9=60113,IL=60120,ML=60115,nG=60116,rG=60121,iG=60128,afe=60129,sG=60130,oG=60131;typeof Symbol=="function"&&Symbol.for&&(Lc=Symbol.for,L9=Lc("react.element"),V4=Lc("react.portal"),Zy=Lc("react.fragment"),ZQ=Lc("react.strict_mode"),k9=Lc("react.profiler"),eG=Lc("react.provider"),tG=Lc("react.context"),kL=Lc("react.forward_ref"),I9=Lc("react.suspense"),IL=Lc("react.suspense_list"),ML=Lc("react.memo"),nG=Lc("react.lazy"),rG=Lc("react.block"),Lc("react.scope"),iG=Lc("react.opaque.id"),afe=Lc("react.debug_trace_mode"),sG=Lc("react.offscreen"),oG=Lc("react.legacy_hidden"));var Lc,ufe=typeof Symbol=="function"&&Symbol.iterator;function M9(n){return n===null||typeof n!="object"?null:(n=ufe&&n[ufe]||n["@@iterator"],typeof n=="function"?n:null)}var aG;function P9(n){if(aG===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);aG=e&&e[1]||""}return`
`+aG+n}var uG=!1;function PL(n,e){if(!n||uG)return"";uG=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{uG=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?P9(n):""}function nPe(n){switch(n.tag){case 5:return P9(n.type);case 16:return P9("Lazy");case 13:return P9("Suspense");case 19:return P9("SuspenseList");case 0:case 2:case 15:return n=PL(n.type,!1),n;case 11:return n=PL(n.type.render,!1),n;case 22:return n=PL(n.type._render,!1),n;case 1:return n=PL(n.type,!0),n;default:return""}}function bE(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Zy:return"Fragment";case V4:return"Portal";case k9:return"Profiler";case ZQ:return"StrictMode";case I9:return"Suspense";case IL:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case tG:return(n.displayName||"Context")+".Consumer";case eG:return(n._context.displayName||"Context")+".Provider";case kL:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case ML:return bE(n.type);case rG:return bE(n._render);case nG:e=n._payload,n=n._init;try{return bE(n(e))}catch{}}return null}function e3(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function lfe(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rPe(n){var e=lfe(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function BL(n){n._valueTracker||(n._valueTracker=rPe(n))}function cfe(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=lfe(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function jL(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function lG(n,e){var t=e.checked;return qu({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ffe(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=e3(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dfe(n,e){e=e.checked,e!=null&&XQ(n,"checked",e,!1)}function cG(n,e){dfe(n,e);var t=e3(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?fG(n,e.type,t):e.hasOwnProperty("defaultValue")&&fG(n,e.type,e3(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function hfe(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function fG(n,e,t){(e!=="number"||jL(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function iPe(n){var e="";return LL.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function dG(n,e){return n=qu({children:void 0},e),(e=iPe(e.children))&&(n.children=e),n}function EE(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+e3(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function hG(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ui(91));return qu({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function pfe(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ui(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(ui(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:e3(t)}}function mfe(n,e){var t=e3(e.value),r=e3(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function xfe(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var pG={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function gfe(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mG(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?gfe(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qL,yfe=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==pG.svg||"innerHTML"in n)n.innerHTML=e;else{for(qL=qL||document.createElement("div"),qL.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qL.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function B9(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var j9={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sPe=["Webkit","ms","Moz","O"];Object.keys(j9).forEach(function(n){sPe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),j9[e]=j9[n]})});function vfe(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||j9.hasOwnProperty(n)&&j9[n]?(""+e).trim():e+"px"}function _fe(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=vfe(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var oPe=qu({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xG(n,e){if(e){if(oPe[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ui(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ui(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(ui(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ui(62))}}function gG(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function yG(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vG=null,SE=null,wE=null;function bfe(n){if(n=rA(n)){if(typeof vG!="function")throw Error(ui(280));var e=n.stateNode;e&&(e=ak(e),vG(n.stateNode,n.type,e))}}function Efe(n){SE?wE?wE.push(n):wE=[n]:SE=n}function Sfe(){if(SE){var n=SE,e=wE;if(wE=SE=null,bfe(n),e)for(n=0;n<e.length;n++)bfe(e[n])}}function _G(n,e){return n(e)}function wfe(n,e,t,r,i){return n(e,t,r,i)}function bG(){}var Cfe=_G,W4=!1,EG=!1;function SG(){(SE!==null||wE!==null)&&(bG(),Sfe())}function aPe(n,e,t){if(EG)return n(e,t);EG=!0;try{return Cfe(n,e,t)}finally{EG=!1,SG()}}function q9(n,e){var t=n.stateNode;if(t===null)return null;var r=ak(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ui(231,e,typeof t));return t}var wG=!1;if(Gx)try{CE={},Object.defineProperty(CE,"passive",{get:function(){wG=!0}}),window.addEventListener("test",CE,CE),window.removeEventListener("test",CE,CE)}catch{wG=!1}var CE;function uPe(n,e,t,r,i,s,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(p){this.onError(p)}}var U9=!1,UL=null,zL=!1,CG=null,lPe={onError:function(n){U9=!0,UL=n}};function cPe(n,e,t,r,i,s,o,a,c){U9=!1,UL=null,uPe.apply(lPe,arguments)}function fPe(n,e,t,r,i,s,o,a,c){if(cPe.apply(this,arguments),U9){if(U9){var d=UL;U9=!1,UL=null}else throw Error(ui(198));zL||(zL=!0,CG=d)}}function Q4(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Afe(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Tfe(n){if(Q4(n)!==n)throw Error(ui(188))}function dPe(n){var e=n.alternate;if(!e){if(e=Q4(n),e===null)throw Error(ui(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return Tfe(i),n;if(s===r)return Tfe(i),e;s=s.sibling}throw Error(ui(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(ui(189))}}if(t.alternate!==r)throw Error(ui(190))}if(t.tag!==3)throw Error(ui(188));return t.stateNode.current===t?n:e}function Ffe(n){if(n=dPe(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Dfe(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var Ofe,AG,Rfe,Nfe,TG=!1,Xm=[],t3=null,n3=null,r3=null,z9=new Map,H9=new Map,$9=[],Lfe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FG(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function kfe(n,e){switch(n){case"focusin":case"focusout":t3=null;break;case"dragenter":case"dragleave":n3=null;break;case"mouseover":case"mouseout":r3=null;break;case"pointerover":case"pointerout":z9.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":H9.delete(e.pointerId)}}function V9(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n=FG(e,t,r,i,s),e!==null&&(e=rA(e),e!==null&&AG(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function hPe(n,e,t,r,i){switch(e){case"focusin":return t3=V9(t3,n,e,t,r,i),!0;case"dragenter":return n3=V9(n3,n,e,t,r,i),!0;case"mouseover":return r3=V9(r3,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return z9.set(s,V9(z9.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,H9.set(s,V9(H9.get(s)||null,n,e,t,r,i)),!0}return!1}function pPe(n){var e=G4(n.target);if(e!==null){var t=Q4(e);if(t!==null){if(e=t.tag,e===13){if(e=Afe(t),e!==null){n.blockedOn=e,Nfe(n.lanePriority,function(){af.unstable_runWithPriority(n.priority,function(){Rfe(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function HL(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=kG(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=rA(t),e!==null&&AG(e),n.blockedOn=t,!1;e.shift()}return!0}function Ife(n,e,t){HL(n)&&t.delete(e)}function mPe(){for(TG=!1;0<Xm.length;){var n=Xm[0];if(n.blockedOn!==null){n=rA(n.blockedOn),n!==null&&Ofe(n);break}for(var e=n.targetContainers;0<e.length;){var t=kG(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&Xm.shift()}t3!==null&&HL(t3)&&(t3=null),n3!==null&&HL(n3)&&(n3=null),r3!==null&&HL(r3)&&(r3=null),z9.forEach(Ife),H9.forEach(Ife)}function W9(n,e){n.blockedOn===e&&(n.blockedOn=null,TG||(TG=!0,af.unstable_scheduleCallback(af.unstable_NormalPriority,mPe)))}function Mfe(n){function e(i){return W9(i,n)}if(0<Xm.length){W9(Xm[0],n);for(var t=1;t<Xm.length;t++){var r=Xm[t];r.blockedOn===n&&(r.blockedOn=null)}}for(t3!==null&&W9(t3,n),n3!==null&&W9(n3,n),r3!==null&&W9(r3,n),z9.forEach(e),H9.forEach(e),t=0;t<$9.length;t++)r=$9[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<$9.length&&(t=$9[0],t.blockedOn===null);)pPe(t),t.blockedOn===null&&$9.shift()}function $L(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var AE={animationend:$L("Animation","AnimationEnd"),animationiteration:$L("Animation","AnimationIteration"),animationstart:$L("Animation","AnimationStart"),transitionend:$L("Transition","TransitionEnd")},DG={},Pfe={};Gx&&(Pfe=document.createElement("div").style,"AnimationEvent"in window||(delete AE.animationend.animation,delete AE.animationiteration.animation,delete AE.animationstart.animation),"TransitionEvent"in window||delete AE.transitionend.transition);function VL(n){if(DG[n])return DG[n];if(!AE[n])return n;var e=AE[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Pfe)return DG[n]=e[t];return n}var Bfe=VL("animationend"),jfe=VL("animationiteration"),qfe=VL("animationstart"),Ufe=VL("transitionend"),zfe=new Map,OG=new Map,xPe=["abort","abort",Bfe,"animationEnd",jfe,"animationIteration",qfe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ufe,"transitionEnd","waiting","waiting"];function RG(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),OG.set(r,e),zfe.set(r,i),H4(i,[r])}}var gPe=af.unstable_now;gPe();var tu=8;function TE(n){if((1&n)!==0)return tu=15,1;if((2&n)!==0)return tu=14,2;if((4&n)!==0)return tu=13,4;var e=24&n;return e!==0?(tu=12,e):(n&32)!==0?(tu=11,32):(e=192&n,e!==0?(tu=10,e):(n&256)!==0?(tu=9,256):(e=3584&n,e!==0?(tu=8,e):(n&4096)!==0?(tu=7,4096):(e=4186112&n,e!==0?(tu=6,e):(e=62914560&n,e!==0?(tu=5,e):n&67108864?(tu=4,67108864):(n&134217728)!==0?(tu=3,134217728):(e=805306368&n,e!==0?(tu=2,e):(1073741824&n)!==0?(tu=1,1073741824):(tu=8,n))))))}function yPe(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function vPe(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ui(358,n))}}function Q9(n,e){var t=n.pendingLanes;if(t===0)return tu=0;var r=0,i=0,s=n.expiredLanes,o=n.suspendedLanes,a=n.pingedLanes;if(s!==0)r=s,i=tu=15;else if(s=t&134217727,s!==0){var c=s&~o;c!==0?(r=TE(c),i=tu):(a&=s,a!==0&&(r=TE(a),i=tu))}else s=t&~o,s!==0?(r=TE(s),i=tu):a!==0&&(r=TE(a),i=tu);if(r===0)return 0;if(r=31-i3(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(TE(e),i<=tu)return e;tu=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-i3(e),i=1<<t,r|=n[t],e&=~i;return r}function Hfe(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function WL(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=FE(24&~e),n===0?WL(10,e):n;case 10:return n=FE(192&~e),n===0?WL(8,e):n;case 8:return n=FE(3584&~e),n===0&&(n=FE(4186112&~e),n===0&&(n=512)),n;case 2:return e=FE(805306368&~e),e===0&&(e=268435456),e}throw Error(ui(358,n))}function FE(n){return n&-n}function NG(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function QL(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-i3(e),n[e]=t}var i3=Math.clz32?Math.clz32:EPe,_Pe=Math.log,bPe=Math.LN2;function EPe(n){return n===0?32:31-(_Pe(n)/bPe|0)|0}var SPe=af.unstable_UserBlockingPriority,wPe=af.unstable_runWithPriority,GL=!0;function CPe(n,e,t,r){W4||bG();var i=LG,s=W4;W4=!0;try{wfe(i,n,e,t,r)}finally{(W4=s)||SG()}}function APe(n,e,t,r){wPe(SPe,LG.bind(null,n,e,t,r))}function LG(n,e,t,r){if(GL){var i;if((i=(e&4)===0)&&0<Xm.length&&-1<Lfe.indexOf(n))n=FG(null,n,e,t,r),Xm.push(n);else{var s=kG(n,e,t,r);if(s===null)i&&kfe(n,r);else{if(i){if(-1<Lfe.indexOf(n)){n=FG(s,n,e,t,r),Xm.push(n);return}if(hPe(s,n,e,t,r))return;kfe(n,r)}g0e(n,e,r,null,t)}}}}function kG(n,e,t,r){var i=yG(r);if(i=G4(i),i!==null){var s=Q4(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Afe(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return g0e(n,e,r,i,t),null}var s3=null,IG=null,YL=null;function $fe(){if(YL)return YL;var n,e=IG,t=e.length,r,i="value"in s3?s3.value:s3.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return YL=i.slice(n,1<r?1-r:void 0)}function KL(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function JL(){return!0}function Vfe(){return!1}function Nh(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?JL:Vfe,this.isPropagationStopped=Vfe,this}return qu(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=JL)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=JL)},persist:function(){},isPersistent:JL}),e}var DE={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},MG=Nh(DE),G9=qu({},DE,{view:0,detail:0}),TPe=Nh(G9),PG,BG,Y9,XL=qu({},G9,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qG,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Y9&&(Y9&&n.type==="mousemove"?(PG=n.screenX-Y9.screenX,BG=n.screenY-Y9.screenY):BG=PG=0,Y9=n),PG)},movementY:function(n){return"movementY"in n?n.movementY:BG}}),Wfe=Nh(XL),FPe=qu({},XL,{dataTransfer:0}),DPe=Nh(FPe),OPe=qu({},G9,{relatedTarget:0}),jG=Nh(OPe),RPe=qu({},DE,{animationName:0,elapsedTime:0,pseudoElement:0}),NPe=Nh(RPe),LPe=qu({},DE,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kPe=Nh(LPe),IPe=qu({},DE,{data:0}),Qfe=Nh(IPe),MPe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PPe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BPe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jPe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=BPe[n])?!!e[n]:!1}function qG(){return jPe}var qPe=qu({},G9,{key:function(n){if(n.key){var e=MPe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=KL(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?PPe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qG,charCode:function(n){return n.type==="keypress"?KL(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?KL(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),UPe=Nh(qPe),zPe=qu({},XL,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gfe=Nh(zPe),HPe=qu({},G9,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qG}),$Pe=Nh(HPe),VPe=qu({},DE,{propertyName:0,elapsedTime:0,pseudoElement:0}),WPe=Nh(VPe),QPe=qu({},XL,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),GPe=Nh(QPe),YPe=[9,13,27,32],UG=Gx&&"CompositionEvent"in window,K9=null;Gx&&"documentMode"in document&&(K9=document.documentMode);var KPe=Gx&&"TextEvent"in window&&!K9,Yfe=Gx&&(!UG||K9&&8<K9&&11>=K9),Kfe=String.fromCharCode(32),Jfe=!1;function Xfe(n,e){switch(n){case"keyup":return YPe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zfe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var OE=!1;function JPe(n,e){switch(n){case"compositionend":return Zfe(e);case"keypress":return e.which!==32?null:(Jfe=!0,Kfe);case"textInput":return n=e.data,n===Kfe&&Jfe?null:n;default:return null}}function XPe(n,e){if(OE)return n==="compositionend"||!UG&&Xfe(n,e)?(n=$fe(),YL=IG=s3=null,OE=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yfe&&e.locale!=="ko"?null:e.data;default:return null}}var ZPe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e0e(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!ZPe[n.type]:e==="textarea"}function t0e(n,e,t,r){Efe(r),e=rk(e,"onChange"),0<e.length&&(t=new MG("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var J9=null,X9=null;function eBe(n){d0e(n,0)}function ZL(n){var e=IE(n);if(cfe(e))return n}function tBe(n,e){if(n==="change")return e}var n0e=!1;Gx&&(Gx?(tk="oninput"in document,tk||(zG=document.createElement("div"),zG.setAttribute("oninput","return;"),tk=typeof zG.oninput=="function"),ek=tk):ek=!1,n0e=ek&&(!document.documentMode||9<document.documentMode));var ek,tk,zG;function r0e(){J9&&(J9.detachEvent("onpropertychange",i0e),X9=J9=null)}function i0e(n){if(n.propertyName==="value"&&ZL(X9)){var e=[];if(t0e(e,X9,n,yG(n)),n=eBe,W4)n(e);else{W4=!0;try{_G(n,e)}finally{W4=!1,SG()}}}}function nBe(n,e,t){n==="focusin"?(r0e(),J9=e,X9=t,J9.attachEvent("onpropertychange",i0e)):n==="focusout"&&r0e()}function rBe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ZL(X9)}function iBe(n,e){if(n==="click")return ZL(e)}function sBe(n,e){if(n==="input"||n==="change")return ZL(e)}function oBe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var vp=typeof Object.is=="function"?Object.is:oBe,aBe=Object.prototype.hasOwnProperty;function Z9(n,e){if(vp(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!aBe.call(e,t[r])||!vp(n[t[r]],e[t[r]]))return!1;return!0}function s0e(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function o0e(n,e){var t=s0e(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=s0e(t)}}function a0e(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?a0e(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function u0e(){for(var n=window,e=jL();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=jL(n.document)}return e}function HG(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var uBe=Gx&&"documentMode"in document&&11>=document.documentMode,RE=null,$G=null,eA=null,VG=!1;function l0e(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;VG||RE==null||RE!==jL(r)||(r=RE,"selectionStart"in r&&HG(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eA&&Z9(eA,r)||(eA=r,r=rk($G,"onSelect"),0<r.length&&(e=new MG("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=RE)))}RG("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);RG("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);RG(xPe,2);for(WG="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),nk=0;nk<WG.length;nk++)OG.set(WG[nk],0);var WG,nk;_E("onMouseEnter",["mouseout","mouseover"]);_E("onMouseLeave",["mouseout","mouseover"]);_E("onPointerEnter",["pointerout","pointerover"]);_E("onPointerLeave",["pointerout","pointerover"]);H4("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));H4("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));H4("onBeforeInput",["compositionend","keypress","textInput","paste"]);H4("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));H4("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));H4("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(tA));function f0e(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,fPe(r,e,void 0,n),n.currentTarget=null}function d0e(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;f0e(i,a,d),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;f0e(i,a,d),s=c}}}if(zL)throw n=CG,zL=!1,CG=null,n}function yu(n,e){var t=S0e(e),r=n+"__bubble";t.has(r)||(x0e(e,n,2,!1),t.add(r))}var h0e="_reactListening"+Math.random().toString(36).slice(2);function p0e(n){n[h0e]||(n[h0e]=!0,rfe.forEach(function(e){c0e.has(e)||m0e(e,!1,n,null),m0e(e,!0,n,null)}))}function m0e(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=t;if(n==="selectionchange"&&t.nodeType!==9&&(s=t.ownerDocument),r!==null&&!e&&c0e.has(n)){if(n!=="scroll")return;i|=2,s=r}var o=S0e(s),a=n+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),x0e(s,n,i,e),o.add(a))}function x0e(n,e,t,r){var i=OG.get(e);switch(i===void 0?2:i){case 0:i=CPe;break;case 1:i=APe;break;default:i=LG}t=i.bind(null,e,t,n),i=void 0,!wG||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function g0e(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=G4(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}aPe(function(){var d=s,p=yG(t),E=[];e:{var w=zfe.get(n);if(w!==void 0){var N=MG,R=n;switch(n){case"keypress":if(KL(t)===0)break e;case"keydown":case"keyup":N=UPe;break;case"focusin":R="focus",N=jG;break;case"focusout":R="blur",N=jG;break;case"beforeblur":case"afterblur":N=jG;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Wfe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=DPe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=$Pe;break;case Bfe:case jfe:case qfe:N=NPe;break;case Ufe:N=WPe;break;case"scroll":N=TPe;break;case"wheel":N=GPe;break;case"copy":case"cut":case"paste":N=kPe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Gfe}var U=(e&4)!==0,Q=!U&&n==="scroll",P=U?w!==null?w+"Capture":null:w;U=[];for(var j=d,I;j!==null;){I=j;var K=I.stateNode;if(I.tag===5&&K!==null&&(I=K,P!==null&&(K=q9(j,P),K!=null&&U.push(nA(j,K,I)))),Q)break;j=j.return}0<U.length&&(w=new N(w,R,null,t,p),E.push({event:w,listeners:U}))}}if((e&7)===0){e:{if(w=n==="mouseover"||n==="pointerover",N=n==="mouseout"||n==="pointerout",w&&(e&16)===0&&(R=t.relatedTarget||t.fromElement)&&(G4(R)||R[kE]))break e;if((N||w)&&(w=p.window===p?p:(w=p.ownerDocument)?w.defaultView||w.parentWindow:window,N?(R=t.relatedTarget||t.toElement,N=d,R=R?G4(R):null,R!==null&&(Q=Q4(R),R!==Q||R.tag!==5&&R.tag!==6)&&(R=null)):(N=null,R=d),N!==R)){if(U=Wfe,K="onMouseLeave",P="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(U=Gfe,K="onPointerLeave",P="onPointerEnter",j="pointer"),Q=N==null?w:IE(N),I=R==null?w:IE(R),w=new U(K,j+"leave",N,t,p),w.target=Q,w.relatedTarget=I,K=null,G4(p)===d&&(U=new U(P,j+"enter",R,t,p),U.target=I,U.relatedTarget=Q,K=U),Q=K,N&&R)t:{for(U=N,P=R,j=0,I=U;I;I=NE(I))j++;for(I=0,K=P;K;K=NE(K))I++;for(;0<j-I;)U=NE(U),j--;for(;0<I-j;)P=NE(P),I--;for(;j--;){if(U===P||P!==null&&U===P.alternate)break t;U=NE(U),P=NE(P)}U=null}else U=null;N!==null&&y0e(E,w,N,U,!1),R!==null&&Q!==null&&y0e(E,Q,R,U,!0)}}e:{if(w=d?IE(d):window,N=w.nodeName&&w.nodeName.toLowerCase(),N==="select"||N==="input"&&w.type==="file")var de=tBe;else if(e0e(w))if(n0e)de=sBe;else{de=rBe;var M=nBe}else(N=w.nodeName)&&N.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(de=iBe);if(de&&(de=de(n,d))){t0e(E,de,t,p);break e}M&&M(n,w,d),n==="focusout"&&(M=w._wrapperState)&&M.controlled&&w.type==="number"&&fG(w,"number",w.value)}switch(M=d?IE(d):window,n){case"focusin":(e0e(M)||M.contentEditable==="true")&&(RE=M,$G=d,eA=null);break;case"focusout":eA=$G=RE=null;break;case"mousedown":VG=!0;break;case"contextmenu":case"mouseup":case"dragend":VG=!1,l0e(E,t,p);break;case"selectionchange":if(uBe)break;case"keydown":case"keyup":l0e(E,t,p)}var Z;if(UG)e:{switch(n){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else OE?Xfe(n,t)&&(me="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(me="onCompositionStart");me&&(Yfe&&t.locale!=="ko"&&(OE||me!=="onCompositionStart"?me==="onCompositionEnd"&&OE&&(Z=$fe()):(s3=p,IG="value"in s3?s3.value:s3.textContent,OE=!0)),M=rk(d,me),0<M.length&&(me=new Qfe(me,n,null,t,p),E.push({event:me,listeners:M}),Z?me.data=Z:(Z=Zfe(t),Z!==null&&(me.data=Z)))),(Z=KPe?JPe(n,t):XPe(n,t))&&(d=rk(d,"onBeforeInput"),0<d.length&&(p=new Qfe("onBeforeInput","beforeinput",null,t,p),E.push({event:p,listeners:d}),p.data=Z))}d0e(E,e)})}function nA(n,e,t){return{instance:n,listener:e,currentTarget:t}}function rk(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=q9(n,t),s!=null&&r.unshift(nA(n,s,i)),s=q9(n,e),s!=null&&r.push(nA(n,s,i))),n=n.return}return r}function NE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function y0e(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,i?(c=q9(t,s),c!=null&&o.unshift(nA(t,c,a))):i||(c=q9(t,s),c!=null&&o.push(nA(t,c,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}function ik(){}var QG=null,GG=null;function v0e(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function YG(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _0e=typeof setTimeout=="function"?setTimeout:void 0,lBe=typeof clearTimeout=="function"?clearTimeout:void 0;function KG(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function LE(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function b0e(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var JG=0;function cBe(n){return{$$typeof:iG,toString:n,valueOf:n}}var sk=Math.random().toString(36).slice(2),o3="__reactFiber$"+sk,ok="__reactProps$"+sk,kE="__reactContainer$"+sk,E0e="__reactEvents$"+sk;function G4(n){var e=n[o3];if(e)return e;for(var t=n.parentNode;t;){if(e=t[kE]||t[o3]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=b0e(n);n!==null;){if(t=n[o3])return t;n=b0e(n)}return e}n=t,t=n.parentNode}return null}function rA(n){return n=n[o3]||n[kE],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function IE(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ui(33))}function ak(n){return n[ok]||null}function S0e(n){var e=n[E0e];return e===void 0&&(e=n[E0e]=new Set),e}var XG=[],ME=-1;function a3(n){return{current:n}}function vu(n){0>ME||(n.current=XG[ME],XG[ME]=null,ME--)}function Cl(n,e){ME++,XG[ME]=n.current,n.current=e}var u3={},y0=a3(u3),Gd=a3(!1),Y4=u3;function PE(n,e){var t=n.type.contextTypes;if(!t)return u3;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Yd(n){return n=n.childContextTypes,n!=null}function uk(){vu(Gd),vu(y0)}function w0e(n,e,t){if(y0.current!==u3)throw Error(ui(168));Cl(y0,e),Cl(Gd,t)}function C0e(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(ui(108,bE(e)||"Unknown",i));return qu({},t,r)}function lk(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||u3,Y4=y0.current,Cl(y0,n),Cl(Gd,Gd.current),!0}function A0e(n,e,t){var r=n.stateNode;if(!r)throw Error(ui(169));t?(n=C0e(n,e,Y4),r.__reactInternalMemoizedMergedChildContext=n,vu(Gd),vu(y0),Cl(y0,n)):vu(Gd),Cl(Gd,t)}var ZG=null,K4=null,fBe=af.unstable_runWithPriority,eY=af.unstable_scheduleCallback,tY=af.unstable_cancelCallback,dBe=af.unstable_shouldYield,T0e=af.unstable_requestPaint,nY=af.unstable_now,hBe=af.unstable_getCurrentPriorityLevel,ck=af.unstable_ImmediatePriority,F0e=af.unstable_UserBlockingPriority,D0e=af.unstable_NormalPriority,O0e=af.unstable_LowPriority,R0e=af.unstable_IdlePriority,rY={},pBe=T0e!==void 0?T0e:function(){},Yx=null,fk=null,iY=!1,N0e=nY(),v0=1e4>N0e?nY:function(){return nY()-N0e};function BE(){switch(hBe()){case ck:return 99;case F0e:return 98;case D0e:return 97;case O0e:return 96;case R0e:return 95;default:throw Error(ui(332))}}function L0e(n){switch(n){case 99:return ck;case 98:return F0e;case 97:return D0e;case 96:return O0e;case 95:return R0e;default:throw Error(ui(332))}}function J4(n,e){return n=L0e(n),fBe(n,e)}function iA(n,e,t){return n=L0e(n),eY(n,e,t)}function Zm(){if(fk!==null){var n=fk;fk=null,tY(n)}k0e()}function k0e(){if(!iY&&Yx!==null){iY=!0;var n=0;try{var e=Yx;J4(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),Yx=null}catch(t){throw Yx!==null&&(Yx=Yx.slice(n+1)),eY(ck,Zm),t}finally{iY=!1}}}var mBe=$4.ReactCurrentBatchConfig;function G1(n,e){if(n&&n.defaultProps){e=qu({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var dk=a3(null),hk=null,jE=null,pk=null;function sY(){pk=jE=hk=null}function oY(n){var e=dk.current;vu(dk),n.type._context._currentValue=e}function I0e(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function qE(n,e){hk=n,pk=jE=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(Y1=!0),n.firstContext=null)}function _p(n,e){if(pk!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(pk=n,e=1073741823),e={context:n,observedBits:e,next:null},jE===null){if(hk===null)throw Error(ui(308));jE=e,hk.dependencies={lanes:0,firstContext:e,responders:null}}else jE=jE.next=e;return n._currentValue}var l3=!1;function aY(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function M0e(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function c3(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function f3(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function P0e(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function sA(n,e,t,r){var i=n.updateQueue;l3=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var p=n.alternate;if(p!==null){p=p.updateQueue;var E=p.lastBaseUpdate;E!==o&&(E===null?p.firstBaseUpdate=d:E.next=d,p.lastBaseUpdate=c)}}if(s!==null){E=i.baseState,o=0,p=d=c=null;do{a=s.lane;var w=s.eventTime;if((r&a)===a){p!==null&&(p=p.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var N=n,R=s;switch(a=e,w=t,R.tag){case 1:if(N=R.payload,typeof N=="function"){E=N.call(w,E,a);break e}E=N;break e;case 3:N.flags=N.flags&-4097|64;case 0:if(N=R.payload,a=typeof N=="function"?N.call(w,E,a):N,a==null)break e;E=qu({},E,a);break e;case 2:l3=!0}}s.callback!==null&&(n.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else w={eventTime:w,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(d=p=w,c=E):p=p.next=w,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);p===null&&(c=E),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,gA|=o,n.lanes=o,n.memoizedState=E}}function B0e(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(ui(191,i));i.call(r)}}}var j0e=new LL.Component().refs;function mk(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:qu({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var xk={isMounted:function(n){return(n=n._reactInternals)?Q4(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Lh(),i=p3(n),s=c3(r,i);s.payload=e,t!=null&&(s.callback=t),f3(n,s),m3(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Lh(),i=p3(n),s=c3(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),f3(n,s),m3(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Lh(),r=p3(n),i=c3(t,r);i.tag=2,e!=null&&(i.callback=e),f3(n,i),m3(n,r,t)}};function q0e(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Z9(t,r)||!Z9(i,s):!0}function U0e(n,e,t){var r=!1,i=u3,s=e.contextType;return typeof s=="object"&&s!==null?s=_p(s):(i=Yd(e)?Y4:y0.current,r=e.contextTypes,s=(r=r!=null)?PE(n,i):u3),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xk,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function z0e(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&xk.enqueueReplaceState(e,e.state,null)}function uY(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=j0e,aY(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_p(s):(s=Yd(e)?Y4:y0.current,i.context=PE(n,s)),sA(n,t,i,r),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mk(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xk.enqueueReplaceState(i,i.state,null),sA(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var gk=Array.isArray;function oA(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ui(309));var r=t.stateNode}if(!r)throw Error(ui(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===j0e&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof n!="string")throw Error(ui(284));if(!t._owner)throw Error(ui(290,n))}return n}function yk(n,e){if(n.type!=="textarea")throw Error(ui(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function H0e(n){function e(Q,P){if(n){var j=Q.lastEffect;j!==null?(j.nextEffect=P,Q.lastEffect=P):Q.firstEffect=Q.lastEffect=P,P.nextEffect=null,P.flags=8}}function t(Q,P){if(!n)return null;for(;P!==null;)e(Q,P),P=P.sibling;return null}function r(Q,P){for(Q=new Map;P!==null;)P.key!==null?Q.set(P.key,P):Q.set(P.index,P),P=P.sibling;return Q}function i(Q,P){return Q=y3(Q,P),Q.index=0,Q.sibling=null,Q}function s(Q,P,j){return Q.index=j,n?(j=Q.alternate,j!==null?(j=j.index,j<P?(Q.flags=2,P):j):(Q.flags=2,P)):P}function o(Q){return n&&Q.alternate===null&&(Q.flags=2),Q}function a(Q,P,j,I){return P===null||P.tag!==6?(P=$Y(j,Q.mode,I),P.return=Q,P):(P=i(P,j),P.return=Q,P)}function c(Q,P,j,I){return P!==null&&P.elementType===j.type?(I=i(P,j.props),I.ref=oA(Q,P,j),I.return=Q,I):(I=Mk(j.type,j.key,j.props,null,Q.mode,I),I.ref=oA(Q,P,j),I.return=Q,I)}function d(Q,P,j,I){return P===null||P.tag!==4||P.stateNode.containerInfo!==j.containerInfo||P.stateNode.implementation!==j.implementation?(P=VY(j,Q.mode,I),P.return=Q,P):(P=i(P,j.children||[]),P.return=Q,P)}function p(Q,P,j,I,K){return P===null||P.tag!==7?(P=GE(j,Q.mode,I,K),P.return=Q,P):(P=i(P,j),P.return=Q,P)}function E(Q,P,j){if(typeof P=="string"||typeof P=="number")return P=$Y(""+P,Q.mode,j),P.return=Q,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case L9:return j=Mk(P.type,P.key,P.props,null,Q.mode,j),j.ref=oA(Q,null,P),j.return=Q,j;case V4:return P=VY(P,Q.mode,j),P.return=Q,P}if(gk(P)||M9(P))return P=GE(P,Q.mode,j,null),P.return=Q,P;yk(Q,P)}return null}function w(Q,P,j,I){var K=P!==null?P.key:null;if(typeof j=="string"||typeof j=="number")return K!==null?null:a(Q,P,""+j,I);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L9:return j.key===K?j.type===Zy?p(Q,P,j.props.children,I,K):c(Q,P,j,I):null;case V4:return j.key===K?d(Q,P,j,I):null}if(gk(j)||M9(j))return K!==null?null:p(Q,P,j,I,null);yk(Q,j)}return null}function N(Q,P,j,I,K){if(typeof I=="string"||typeof I=="number")return Q=Q.get(j)||null,a(P,Q,""+I,K);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case L9:return Q=Q.get(I.key===null?j:I.key)||null,I.type===Zy?p(P,Q,I.props.children,K,I.key):c(P,Q,I,K);case V4:return Q=Q.get(I.key===null?j:I.key)||null,d(P,Q,I,K)}if(gk(I)||M9(I))return Q=Q.get(j)||null,p(P,Q,I,K,null);yk(P,I)}return null}function R(Q,P,j,I){for(var K=null,de=null,M=P,Z=P=0,me=null;M!==null&&Z<j.length;Z++){M.index>Z?(me=M,M=null):me=M.sibling;var _e=w(Q,M,j[Z],I);if(_e===null){M===null&&(M=me);break}n&&M&&_e.alternate===null&&e(Q,M),P=s(_e,P,Z),de===null?K=_e:de.sibling=_e,de=_e,M=me}if(Z===j.length)return t(Q,M),K;if(M===null){for(;Z<j.length;Z++)M=E(Q,j[Z],I),M!==null&&(P=s(M,P,Z),de===null?K=M:de.sibling=M,de=M);return K}for(M=r(Q,M);Z<j.length;Z++)me=N(M,Q,Z,j[Z],I),me!==null&&(n&&me.alternate!==null&&M.delete(me.key===null?Z:me.key),P=s(me,P,Z),de===null?K=me:de.sibling=me,de=me);return n&&M.forEach(function(Ve){return e(Q,Ve)}),K}function U(Q,P,j,I){var K=M9(j);if(typeof K!="function")throw Error(ui(150));if(j=K.call(j),j==null)throw Error(ui(151));for(var de=K=null,M=P,Z=P=0,me=null,_e=j.next();M!==null&&!_e.done;Z++,_e=j.next()){M.index>Z?(me=M,M=null):me=M.sibling;var Ve=w(Q,M,_e.value,I);if(Ve===null){M===null&&(M=me);break}n&&M&&Ve.alternate===null&&e(Q,M),P=s(Ve,P,Z),de===null?K=Ve:de.sibling=Ve,de=Ve,M=me}if(_e.done)return t(Q,M),K;if(M===null){for(;!_e.done;Z++,_e=j.next())_e=E(Q,_e.value,I),_e!==null&&(P=s(_e,P,Z),de===null?K=_e:de.sibling=_e,de=_e);return K}for(M=r(Q,M);!_e.done;Z++,_e=j.next())_e=N(M,Q,Z,_e.value,I),_e!==null&&(n&&_e.alternate!==null&&M.delete(_e.key===null?Z:_e.key),P=s(_e,P,Z),de===null?K=_e:de.sibling=_e,de=_e);return n&&M.forEach(function(at){return e(Q,at)}),K}return function(Q,P,j,I){var K=typeof j=="object"&&j!==null&&j.type===Zy&&j.key===null;K&&(j=j.props.children);var de=typeof j=="object"&&j!==null;if(de)switch(j.$$typeof){case L9:e:{for(de=j.key,K=P;K!==null;){if(K.key===de){switch(K.tag){case 7:if(j.type===Zy){t(Q,K.sibling),P=i(K,j.props.children),P.return=Q,Q=P;break e}break;default:if(K.elementType===j.type){t(Q,K.sibling),P=i(K,j.props),P.ref=oA(Q,K,j),P.return=Q,Q=P;break e}}t(Q,K);break}else e(Q,K);K=K.sibling}j.type===Zy?(P=GE(j.props.children,Q.mode,I,j.key),P.return=Q,Q=P):(I=Mk(j.type,j.key,j.props,null,Q.mode,I),I.ref=oA(Q,P,j),I.return=Q,Q=I)}return o(Q);case V4:e:{for(K=j.key;P!==null;){if(P.key===K)if(P.tag===4&&P.stateNode.containerInfo===j.containerInfo&&P.stateNode.implementation===j.implementation){t(Q,P.sibling),P=i(P,j.children||[]),P.return=Q,Q=P;break e}else{t(Q,P);break}else e(Q,P);P=P.sibling}P=VY(j,Q.mode,I),P.return=Q,Q=P}return o(Q)}if(typeof j=="string"||typeof j=="number")return j=""+j,P!==null&&P.tag===6?(t(Q,P.sibling),P=i(P,j),P.return=Q,Q=P):(t(Q,P),P=$Y(j,Q.mode,I),P.return=Q,Q=P),o(Q);if(gk(j))return R(Q,P,j,I);if(M9(j))return U(Q,P,j,I);if(de&&yk(Q,j),typeof j=="undefined"&&!K)switch(Q.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ui(152,bE(Q.type)||"Component"))}return t(Q,P)}}var vk=H0e(!0),$0e=H0e(!1),aA={},e2=a3(aA),uA=a3(aA),lA=a3(aA);function X4(n){if(n===aA)throw Error(ui(174));return n}function lY(n,e){switch(Cl(lA,e),Cl(uA,n),Cl(e2,aA),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mG(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=mG(e,n)}vu(e2),Cl(e2,e)}function UE(){vu(e2),vu(uA),vu(lA)}function V0e(n){X4(lA.current);var e=X4(e2.current),t=mG(e,n.type);e!==t&&(Cl(uA,n),Cl(e2,t))}function cY(n){uA.current===n&&(vu(e2),vu(uA))}var Al=a3(0);function _k(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kx=null,d3=null,t2=!1;function W0e(n,e){var t=Sp(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function Q0e(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function fY(n){if(t2){var e=d3;if(e){var t=e;if(!Q0e(n,e)){if(e=LE(t.nextSibling),!e||!Q0e(n,e)){n.flags=n.flags&-1025|2,t2=!1,Kx=n;return}W0e(Kx,t)}Kx=n,d3=LE(e.firstChild)}else n.flags=n.flags&-1025|2,t2=!1,Kx=n}}function G0e(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Kx=n}function bk(n){if(n!==Kx)return!1;if(!t2)return G0e(n),t2=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!YG(e,n.memoizedProps))for(e=d3;e;)W0e(n,e),e=LE(e.nextSibling);if(G0e(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ui(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){d3=LE(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}d3=null}}else d3=Kx?LE(n.stateNode.nextSibling):null;return!0}function dY(){d3=Kx=null,t2=!1}var zE=[];function hY(){for(var n=0;n<zE.length;n++)zE[n]._workInProgressVersionPrimary=null;zE.length=0}var cA=$4.ReactCurrentDispatcher,bp=$4.ReactCurrentBatchConfig,fA=0,zl=null,_0=null,Mf=null,Ek=!1,dA=!1;function Kd(){throw Error(ui(321))}function pY(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!vp(n[t],e[t]))return!1;return!0}function mY(n,e,t,r,i,s){if(fA=s,zl=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cA.current=n===null||n.memoizedState===null?gBe:yBe,n=t(r,i),dA){s=0;do{if(dA=!1,!(25>s))throw Error(ui(301));s+=1,Mf=_0=null,e.updateQueue=null,cA.current=vBe,n=t(r,i)}while(dA)}if(cA.current=Ak,e=_0!==null&&_0.next!==null,fA=0,Mf=_0=zl=null,Ek=!1,e)throw Error(ui(300));return n}function Z4(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mf===null?zl.memoizedState=Mf=n:Mf=Mf.next=n,Mf}function e_(){if(_0===null){var n=zl.alternate;n=n!==null?n.memoizedState:null}else n=_0.next;var e=Mf===null?zl.memoizedState:Mf.next;if(e!==null)Mf=e,_0=n;else{if(n===null)throw Error(ui(310));_0=n,n={memoizedState:_0.memoizedState,baseState:_0.baseState,baseQueue:_0.baseQueue,queue:_0.queue,next:null},Mf===null?zl.memoizedState=Mf=n:Mf=Mf.next=n}return Mf}function n2(n,e){return typeof e=="function"?e(n):e}function hA(n){var e=e_(),t=e.queue;if(t===null)throw Error(ui(311));t.lastRenderedReducer=n;var r=_0,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,c=i;do{var d=c.lane;if((fA&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===n?c.eagerState:n(r,c.action);else{var p={lane:d,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};a===null?(o=a=p,s=r):a=a.next=p,zl.lanes|=d,gA|=d}c=c.next}while(c!==null&&c!==i);a===null?s=r:a.next=o,vp(r,e.memoizedState)||(Y1=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function pA(n){var e=e_(),t=e.queue;if(t===null)throw Error(ui(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);vp(s,e.memoizedState)||(Y1=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function Y0e(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(fA&n)===n)&&(e._workInProgressVersionPrimary=r,zE.push(e))),n)return t(e._source);throw zE.push(e),Error(ui(350))}function K0e(n,e,t,r){var i=ad;if(i===null)throw Error(ui(349));var s=e._getVersion,o=s(e._source),a=cA.current,c=a.useState(function(){return Y0e(i,e,t)}),d=c[1],p=c[0];c=Mf;var E=n.memoizedState,w=E.refs,N=w.getSnapshot,R=E.source;E=E.subscribe;var U=zl;return n.memoizedState={refs:w,source:e,subscribe:r},a.useEffect(function(){w.getSnapshot=t,w.setSnapshot=d;var Q=s(e._source);if(!vp(o,Q)){Q=t(e._source),vp(p,Q)||(d(Q),Q=p3(U),i.mutableReadLanes|=Q&i.pendingLanes),Q=i.mutableReadLanes,i.entangledLanes|=Q;for(var P=i.entanglements,j=Q;0<j;){var I=31-i3(j),K=1<<I;P[I]|=Q,j&=~K}}},[t,e,r]),a.useEffect(function(){return r(e._source,function(){var Q=w.getSnapshot,P=w.setSnapshot;try{P(Q(e._source));var j=p3(U);i.mutableReadLanes|=j&i.pendingLanes}catch(I){P(function(){throw I})}})},[e,r]),vp(N,t)&&vp(R,e)&&vp(E,r)||(n={pending:null,dispatch:null,lastRenderedReducer:n2,lastRenderedState:p},n.dispatch=d=vY.bind(null,zl,n),c.queue=n,c.baseQueue=null,p=Y0e(i,e,t),c.memoizedState=c.baseState=p),p}function J0e(n,e,t){var r=e_();return K0e(r,n,e,t)}function mA(n){var e=Z4();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:n2,lastRenderedState:n},n=n.dispatch=vY.bind(null,zl,n),[e.memoizedState,n]}function Sk(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=zl.updateQueue,e===null?(e={lastEffect:null},zl.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function X0e(n){var e=Z4();return n={current:n},e.memoizedState=n}function wk(){return e_().memoizedState}function xY(n,e,t,r){var i=Z4();zl.flags|=n,i.memoizedState=Sk(1|e,t,void 0,r===void 0?null:r)}function gY(n,e,t,r){var i=e_();r=r===void 0?null:r;var s=void 0;if(_0!==null){var o=_0.memoizedState;if(s=o.destroy,r!==null&&pY(r,o.deps)){Sk(e,t,s,r);return}}zl.flags|=n,i.memoizedState=Sk(1|e,t,s,r)}function Z0e(n,e){return xY(516,4,n,e)}function Ck(n,e){return gY(516,4,n,e)}function ede(n,e){return gY(4,2,n,e)}function tde(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function nde(n,e,t){return t=t!=null?t.concat([n]):null,gY(4,2,tde.bind(null,e,n),t)}function yY(){}function rde(n,e){var t=e_();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&pY(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function ide(n,e){var t=e_();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&pY(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function xBe(n,e){var t=BE();J4(98>t?98:t,function(){n(!0)}),J4(97<t?97:t,function(){var r=bp.transition;bp.transition=1;try{n(!1),e()}finally{bp.transition=r}})}function vY(n,e,t){var r=Lh(),i=p3(n),s={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=n.alternate,n===zl||o!==null&&o===zl)dA=Ek=!0;else{if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,t);if(s.eagerReducer=o,s.eagerState=c,vp(c,a))return}catch{}finally{}m3(n,i,r)}}var Ak={readContext:_p,useCallback:Kd,useContext:Kd,useEffect:Kd,useImperativeHandle:Kd,useLayoutEffect:Kd,useMemo:Kd,useReducer:Kd,useRef:Kd,useState:Kd,useDebugValue:Kd,useDeferredValue:Kd,useTransition:Kd,useMutableSource:Kd,useOpaqueIdentifier:Kd,unstable_isNewReconciler:!1},gBe={readContext:_p,useCallback:function(n,e){return Z4().memoizedState=[n,e===void 0?null:e],n},useContext:_p,useEffect:Z0e,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,xY(4,2,tde.bind(null,e,n),t)},useLayoutEffect:function(n,e){return xY(4,2,n,e)},useMemo:function(n,e){var t=Z4();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Z4();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=vY.bind(null,zl,n),[r.memoizedState,n]},useRef:X0e,useState:mA,useDebugValue:yY,useDeferredValue:function(n){var e=mA(n),t=e[0],r=e[1];return Z0e(function(){var i=bp.transition;bp.transition=1;try{r(n)}finally{bp.transition=i}},[n]),t},useTransition:function(){var n=mA(!1),e=n[0];return n=xBe.bind(null,n[1]),X0e(n),[n,e]},useMutableSource:function(n,e,t){var r=Z4();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},K0e(r,n,e,t)},useOpaqueIdentifier:function(){if(t2){var n=!1,e=cBe(function(){throw n||(n=!0,t("r:"+(JG++).toString(36))),Error(ui(355))}),t=mA(e)[1];return(zl.mode&2)===0&&(zl.flags|=516,Sk(5,function(){t("r:"+(JG++).toString(36))},void 0,null)),e}return e="r:"+(JG++).toString(36),mA(e),e},unstable_isNewReconciler:!1},yBe={readContext:_p,useCallback:rde,useContext:_p,useEffect:Ck,useImperativeHandle:nde,useLayoutEffect:ede,useMemo:ide,useReducer:hA,useRef:wk,useState:function(){return hA(n2)},useDebugValue:yY,useDeferredValue:function(n){var e=hA(n2),t=e[0],r=e[1];return Ck(function(){var i=bp.transition;bp.transition=1;try{r(n)}finally{bp.transition=i}},[n]),t},useTransition:function(){var n=hA(n2)[0];return[wk().current,n]},useMutableSource:J0e,useOpaqueIdentifier:function(){return hA(n2)[0]},unstable_isNewReconciler:!1},vBe={readContext:_p,useCallback:rde,useContext:_p,useEffect:Ck,useImperativeHandle:nde,useLayoutEffect:ede,useMemo:ide,useReducer:pA,useRef:wk,useState:function(){return pA(n2)},useDebugValue:yY,useDeferredValue:function(n){var e=pA(n2),t=e[0],r=e[1];return Ck(function(){var i=bp.transition;bp.transition=1;try{r(n)}finally{bp.transition=i}},[n]),t},useTransition:function(){var n=pA(n2)[0];return[wk().current,n]},useMutableSource:J0e,useOpaqueIdentifier:function(){return pA(n2)[0]},unstable_isNewReconciler:!1},_Be=$4.ReactCurrentOwner,Y1=!1;function Jd(n,e,t,r){e.child=n===null?$0e(e,null,t,r):vk(e,n.child,t,r)}function sde(n,e,t,r,i){t=t.render;var s=e.ref;return qE(e,i),r=mY(n,e,t,r,s,i),n!==null&&!Y1?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Jx(n,e,i)):(e.flags|=1,Jd(n,e,r,i),e.child)}function ode(n,e,t,r,i,s){if(n===null){var o=t.type;return typeof o=="function"&&!zY(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,ade(n,e,o,r,i,s)):(n=Mk(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}return o=n.child,(i&s)===0&&(i=o.memoizedProps,t=t.compare,t=t!==null?t:Z9,t(i,r)&&n.ref===e.ref)?Jx(n,e,s):(e.flags|=1,n=y3(o,r),n.ref=e.ref,n.return=e,e.child=n)}function ade(n,e,t,r,i,s){if(n!==null&&Z9(n.memoizedProps,r)&&n.ref===e.ref)if(Y1=!1,(s&i)!==0)(n.flags&16384)!==0&&(Y1=!0);else return e.lanes=n.lanes,Jx(n,e,s);return bY(n,e,t,r,s)}function _Y(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Ik(e,t);else if((t&1073741824)!==0)e.memoizedState={baseLanes:0},Ik(e,s!==null?s.baseLanes:t);else return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},Ik(e,n),null;else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Ik(e,r);return Jd(n,e,i,t),e.child}function ude(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function bY(n,e,t,r,i){var s=Yd(t)?Y4:y0.current;return s=PE(e,s),qE(e,i),t=mY(n,e,t,r,s,i),n!==null&&!Y1?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Jx(n,e,i)):(e.flags|=1,Jd(n,e,t,i),e.child)}function lde(n,e,t,r,i){if(Yd(t)){var s=!0;lk(e)}else s=!1;if(qE(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),U0e(e,t,r),uY(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=t.contextType;typeof d=="object"&&d!==null?d=_p(d):(d=Yd(t)?Y4:y0.current,d=PE(e,d));var p=t.getDerivedStateFromProps,E=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";E||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&z0e(e,o,r,d),l3=!1;var w=e.memoizedState;o.state=w,sA(e,r,o,i),c=e.memoizedState,a!==r||w!==c||Gd.current||l3?(typeof p=="function"&&(mk(e,t,p,r),c=e.memoizedState),(a=l3||q0e(e,t,a,r,w,c,d))?(E||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,M0e(n,e),a=e.memoizedProps,d=e.type===e.elementType?a:G1(e.type,a),o.props=d,E=e.pendingProps,w=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=_p(c):(c=Yd(t)?Y4:y0.current,c=PE(e,c));var N=t.getDerivedStateFromProps;(p=typeof N=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==E||w!==c)&&z0e(e,o,r,c),l3=!1,w=e.memoizedState,o.state=w,sA(e,r,o,i);var R=e.memoizedState;a!==E||w!==R||Gd.current||l3?(typeof N=="function"&&(mk(e,t,N,r),R=e.memoizedState),(d=l3||q0e(e,t,d,r,w,R,c))?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&w===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&w===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&w===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&w===n.memoizedState||(e.flags|=256),r=!1)}return EY(n,e,t,r,s,i)}function EY(n,e,t,r,i,s){ude(n,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&A0e(e,t,!1),Jx(n,e,s);r=e.stateNode,_Be.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=vk(e,n.child,null,s),e.child=vk(e,null,a,s)):Jd(n,e,a,s),e.memoizedState=r.state,i&&A0e(e,t,!0),e.child}function cde(n){var e=n.stateNode;e.pendingContext?w0e(n,e.pendingContext,e.pendingContext!==e.context):e.context&&w0e(n,e.context,!1),lY(n,e.containerInfo)}var Tk={dehydrated:null,retryLane:0};function fde(n,e,t){var r=e.pendingProps,i=Al.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Cl(Al,i&1),n===null?(r.fallback!==void 0&&fY(e),n=r.children,i=r.fallback,s?(n=dde(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=Tk,n):typeof r.unstable_expectedLoadTime=="number"?(n=dde(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=Tk,e.lanes=33554432,n):(t=HY({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?s?(r=pde(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=Tk,r):(t=hde(n,e,r.children,t),e.memoizedState=null,t):s?(r=pde(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},s.childLanes=n.childLanes&~t,e.memoizedState=Tk,r):(t=hde(n,e,r.children,t),e.memoizedState=null,t)}function dde(n,e,t,r){var i=n.mode,s=n.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=HY(e,i,0,null),t=GE(t,i,r,null),s.return=n,t.return=n,s.sibling=t,n.child=s,t}function hde(n,e,t,r){var i=n.child;return n=i.sibling,t=y3(i,{mode:"visible",children:t}),(e.mode&2)===0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function pde(n,e,t,r,i){var s=e.mode,o=n.child;n=o.sibling;var a={mode:"hidden",children:t};return(s&2)===0&&e.child!==o?(t=e.child,t.childLanes=0,t.pendingProps=a,o=t.lastEffect,o!==null?(e.firstEffect=t.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):t=y3(o,a),n!==null?r=y3(n,r):(r=GE(r,s,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function mde(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),I0e(n.return,e)}function SY(n,e,t,r,i,s){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i,o.lastEffect=s)}function xde(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jd(n,e,r.children,t),r=Al.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&mde(n,t);else if(n.tag===19)mde(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Cl(Al,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&_k(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),SY(e,!1,i,t,s,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&_k(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}SY(e,!0,t,null,s,e.lastEffect);break;case"together":SY(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Jx(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),gA|=e.lanes,(t&e.childLanes)!==0){if(n!==null&&e.child!==n.child)throw Error(ui(153));if(e.child!==null){for(n=e.child,t=y3(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=y3(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var gde,wY,yde,vde;gde=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};wY=function(){};yde=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,X4(e2.current);var s=null;switch(t){case"input":i=lG(n,i),r=lG(n,r),s=[];break;case"option":i=dG(n,i),r=dG(n,r),s=[];break;case"select":i=qu({},i,{value:void 0}),r=qu({},r,{value:void 0}),s=[];break;case"textarea":i=hG(n,i),r=hG(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=ik)}xG(t,r);var o;t=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(N9.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(s||(s=[]),s.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(N9.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&yu("scroll",n),s||a===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===iG?c.toString():(s=s||[]).push(d,c))}t&&(s=s||[]).push("style",t);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};vde=function(n,e,t,r){t!==r&&(e.flags|=4)};function xA(n,e){if(!t2)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function bBe(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Yd(e.type)&&uk(),null;case 3:return UE(),vu(Gd),vu(y0),hY(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(bk(e)?e.flags|=4:r.hydrate||(e.flags|=256)),wY(e),null;case 5:cY(e);var i=X4(lA.current);if(t=e.type,n!==null&&e.stateNode!=null)yde(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(ui(166));return null}if(n=X4(e2.current),bk(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[o3]=e,r[ok]=s,t){case"dialog":yu("cancel",r),yu("close",r);break;case"iframe":case"object":case"embed":yu("load",r);break;case"video":case"audio":for(n=0;n<tA.length;n++)yu(tA[n],r);break;case"source":yu("error",r);break;case"img":case"image":case"link":yu("error",r),yu("load",r);break;case"details":yu("toggle",r);break;case"input":ffe(r,s),yu("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},yu("invalid",r);break;case"textarea":pfe(r,s),yu("invalid",r)}xG(t,s),n=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):N9.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&yu("scroll",r));switch(t){case"input":BL(r),hfe(r,s,!0);break;case"textarea":BL(r),xfe(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ik)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,n===pG.html&&(n=gfe(t)),n===pG.html?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[o3]=e,n[ok]=r,gde(n,e,!1,!1),e.stateNode=n,o=gG(t,r),t){case"dialog":yu("cancel",n),yu("close",n),i=r;break;case"iframe":case"object":case"embed":yu("load",n),i=r;break;case"video":case"audio":for(i=0;i<tA.length;i++)yu(tA[i],n);i=r;break;case"source":yu("error",n),i=r;break;case"img":case"image":case"link":yu("error",n),yu("load",n),i=r;break;case"details":yu("toggle",n),i=r;break;case"input":ffe(n,r),i=lG(n,r),yu("invalid",n);break;case"option":i=dG(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=qu({},r,{value:void 0}),yu("invalid",n);break;case"textarea":pfe(n,r),i=hG(n,r),yu("invalid",n);break;default:i=r}xG(t,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?_fe(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yfe(n,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&B9(n,c):typeof c=="number"&&B9(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(N9.hasOwnProperty(s)?c!=null&&s==="onScroll"&&yu("scroll",n):c!=null&&XQ(n,s,c,o))}switch(t){case"input":BL(n),hfe(n,r,!1);break;case"textarea":BL(n),xfe(n);break;case"option":r.value!=null&&n.setAttribute("value",""+e3(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?EE(n,!!r.multiple,s,!1):r.defaultValue!=null&&EE(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=ik)}v0e(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)vde(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ui(166));t=X4(lA.current),X4(e2.current),bk(e)?(r=e.stateNode,t=e.memoizedProps,r[o3]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[o3]=e,e.stateNode=r)}return null;case 13:return vu(Al),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&bk(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!==0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Al.current&1)!==0?Pf===0&&(Pf=3):((Pf===0||Pf===3)&&(Pf=4),ad===null||(gA&134217727)===0&&($E&134217727)===0||WE(ad,b0))),(r||t)&&(e.flags|=4),null);case 4:return UE(),wY(e),n===null&&p0e(e.stateNode.containerInfo),null;case 10:return oY(e),null;case 17:return Yd(e.type)&&uk(),null;case 19:if(vu(Al),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)xA(r,!1);else{if(Pf!==0||n!==null&&(n.flags&64)!==0)for(n=e.child;n!==null;){if(o=_k(n),o!==null){for(e.flags|=64,xA(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Cl(Al,Al.current&1|2),e.child}n=n.sibling}r.tail!==null&&v0()>IY&&(e.flags|=64,s=!0,xA(r,!1),e.lanes=33554432)}else{if(!s)if(n=_k(o),n!==null){if(e.flags|=64,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),xA(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!t2)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*v0()-r.renderingStartTime>IY&&t!==1073741824&&(e.flags|=64,s=!0,xA(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=v0(),t.sibling=null,e=Al.current,Cl(Al,s?e&1|2:e&1),t):null;case 23:case 24:return UY(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(ui(156,e.tag))}function EBe(n){switch(n.tag){case 1:Yd(n.type)&&uk();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(UE(),vu(Gd),vu(y0),hY(),e=n.flags,(e&64)!==0)throw Error(ui(285));return n.flags=e&-4097|64,n;case 5:return cY(n),null;case 13:return vu(Al),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return vu(Al),null;case 4:return UE(),null;case 10:return oY(n),null;case 23:case 24:return UY(),null;default:return null}}function CY(n,e){try{var t="",r=e;do t+=nPe(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i}}function AY(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var SBe=typeof WeakMap=="function"?WeakMap:Map;function _de(n,e,t){t=c3(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Ok||(Ok=!0,MY=r),AY(n,e)},t}function bde(n,e,t){t=c3(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return AY(n,e),r(i)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(r2===null?r2=new Set([this]):r2.add(this),AY(n,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}var wBe=typeof WeakSet=="function"?WeakSet:Set;function Ede(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){g3(n,t)}else e.current=null}function CBe(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:G1(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&KG(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ui(163))}function ABe(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)===3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(Pde(t,n),kBe(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:G1(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&B0e(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}B0e(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&v0e(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&Mfe(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ui(163))}function Sde(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=vfe("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function wde(n,e){if(K4&&typeof K4.onCommitFiberUnmount=="function")try{K4.onCommitFiberUnmount(ZG,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)Pde(e,t);else{r=e;try{i()}catch(s){g3(r,s)}}t=t.next}while(t!==n)}break;case 1:if(Ede(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(s){g3(e,s)}break;case 5:Ede(e);break;case 4:Fde(n,e)}}function Cde(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function Ade(n){return n.tag===5||n.tag===3||n.tag===4}function Tde(n){e:{for(var e=n.return;e!==null;){if(Ade(e))break e;e=e.return}throw Error(ui(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(ui(161))}t.flags&16&&(B9(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||Ade(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?TY(n,t,e):FY(n,t,e)}function TY(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=ik));else if(r!==4&&(n=n.child,n!==null))for(TY(n,e,t),n=n.sibling;n!==null;)TY(n,e,t),n=n.sibling}function FY(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(FY(n,e,t),n=n.sibling;n!==null;)FY(n,e,t),n=n.sibling}function Fde(n,e){for(var t=e,r=!1,i,s;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(ui(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var o=n,a=t,c=a;;)if(wde(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(o=i,a=t.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,s=!0,t.child.return=t,t=t.child;continue}}else if(wde(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function DY(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)===3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(t[ok]=r,n==="input"&&r.type==="radio"&&r.name!=null&&dfe(t,r),gG(n,i),e=gG(n,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?_fe(t,a):o==="dangerouslySetInnerHTML"?yfe(t,a):o==="children"?B9(t,a):XQ(t,o,a,e)}switch(n){case"input":cG(t,r);break;case"textarea":mfe(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?EE(t,!!r.multiple,s,!1):n!==!!r.multiple&&(r.defaultValue!=null?EE(t,!!r.multiple,r.defaultValue,!0):EE(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(ui(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,Mfe(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(kY=v0(),Sde(e.child,!0)),Dde(e);return;case 19:Dde(e);return;case 17:return;case 23:case 24:Sde(e,e.memoizedState!==null);return}throw Error(ui(163))}function Dde(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new wBe),e.forEach(function(r){var i=PBe.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function TBe(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var FBe=Math.ceil,Fk=$4.ReactCurrentDispatcher,OY=$4.ReactCurrentOwner,js=0,ad=null,kc=null,b0=0,t_=0,RY=a3(0),Pf=0,Dk=null,HE=0,gA=0,$E=0,NY=0,LY=null,kY=0,IY=1/0;function VE(){IY=v0()+500}var Vi=null,Ok=!1,MY=null,r2=null,h3=!1,yA=null,vA=90,PY=[],BY=[],Xx=null,_A=0,jY=null,Rk=-1,Zx=0,Nk=0,bA=null,Lk=!1;function Lh(){return(js&48)!==0?v0():Rk!==-1?Rk:Rk=v0()}function p3(n){if(n=n.mode,(n&2)===0)return 1;if((n&4)===0)return BE()===99?1:2;if(Zx===0&&(Zx=HE),mBe.transition!==0){Nk!==0&&(Nk=LY!==null?LY.pendingLanes:0),n=Zx;var e=4186112&~Nk;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=BE(),(js&4)!==0&&n===98?n=WL(12,Zx):(n=yPe(n),n=WL(n,Zx)),n}function m3(n,e,t){if(50<_A)throw _A=0,jY=null,Error(ui(185));if(n=kk(n,e),n===null)return null;QL(n,e,t),n===ad&&($E|=e,Pf===4&&WE(n,b0));var r=BE();e===1?(js&8)!==0&&(js&48)===0?qY(n):(Ep(n,t),js===0&&(VE(),Zm())):((js&4)===0||r!==98&&r!==99||(Xx===null?Xx=new Set([n]):Xx.add(n)),Ep(n,t)),LY=n}function kk(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Ep(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-i3(o),c=1<<a,d=s[a];if(d===-1){if((c&r)===0||(c&i)!==0){d=e,TE(c);var p=tu;s[a]=10<=p?d+250:6<=p?d+5e3:-1}}else d<=e&&(n.expiredLanes|=c);o&=~c}if(r=Q9(n,n===ad?b0:0),e=tu,r===0)t!==null&&(t!==rY&&tY(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==rY&&tY(t)}e===15?(t=qY.bind(null,n),Yx===null?(Yx=[t],fk=eY(ck,k0e)):Yx.push(t),t=rY):e===14?t=iA(99,qY.bind(null,n)):(t=vPe(e),t=iA(t,Ode.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function Ode(n){if(Rk=-1,Nk=Zx=0,(js&48)!==0)throw Error(ui(327));var e=n.callbackNode;if(x3()&&n.callbackNode!==e)return null;var t=Q9(n,n===ad?b0:0);if(t===0)return null;var r=t,i=js;js|=16;var s=kde();(ad!==n||b0!==r)&&(VE(),QE(n,r));do try{RBe();break}catch(a){Lde(n,a)}while(1);if(sY(),Fk.current=s,js=i,kc!==null?r=0:(ad=null,b0=0,r=Pf),(HE&$E)!==0)QE(n,0);else if(r!==0){if(r===2&&(js|=64,n.hydrate&&(n.hydrate=!1,KG(n.containerInfo)),t=Hfe(n),t!==0&&(r=EA(n,t))),r===1)throw e=Dk,QE(n,0),WE(n,t),Ep(n,v0()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(ui(345));case 2:n_(n);break;case 3:if(WE(n,t),(t&62914560)===t&&(r=kY+500-v0(),10<r)){if(Q9(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){Lh(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=_0e(n_.bind(null,n),r);break}n_(n);break;case 4:if(WE(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var o=31-i3(t);s=1<<o,o=r[o],o>i&&(i=o),t&=~s}if(t=i,t=v0()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*FBe(t/1960))-t,10<t){n.timeoutHandle=_0e(n_.bind(null,n),t);break}n_(n);break;case 5:n_(n);break;default:throw Error(ui(329))}}return Ep(n,v0()),n.callbackNode===e?Ode.bind(null,n):null}function WE(n,e){for(e&=~NY,e&=~$E,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-i3(e),r=1<<t;n[t]=-1,e&=~r}}function qY(n){if((js&48)!==0)throw Error(ui(327));if(x3(),n===ad&&(n.expiredLanes&b0)!==0){var e=b0,t=EA(n,e);(HE&$E)!==0&&(e=Q9(n,e),t=EA(n,e))}else e=Q9(n,0),t=EA(n,e);if(n.tag!==0&&t===2&&(js|=64,n.hydrate&&(n.hydrate=!1,KG(n.containerInfo)),e=Hfe(n),e!==0&&(t=EA(n,e))),t===1)throw t=Dk,QE(n,0),WE(n,e),Ep(n,v0()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,n_(n),Ep(n,v0()),null}function DBe(){if(Xx!==null){var n=Xx;Xx=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Ep(e,v0())})}Zm()}function Rde(n,e){var t=js;js|=1;try{return n(e)}finally{js=t,js===0&&(VE(),Zm())}}function Nde(n,e){var t=js;js&=-2,js|=8;try{return n(e)}finally{js=t,js===0&&(VE(),Zm())}}function Ik(n,e){Cl(RY,t_),t_|=e,HE|=e}function UY(){t_=RY.current,vu(RY)}function QE(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,lBe(t)),kc!==null)for(t=kc.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&uk();break;case 3:UE(),vu(Gd),vu(y0),hY();break;case 5:cY(r);break;case 4:UE();break;case 13:vu(Al);break;case 19:vu(Al);break;case 10:oY(r);break;case 23:case 24:UY()}t=t.return}ad=n,kc=y3(n.current,null),b0=t_=HE=e,Pf=0,Dk=null,NY=$E=gA=0}function Lde(n,e){do{var t=kc;try{if(sY(),cA.current=Ak,Ek){for(var r=zl.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ek=!1}if(fA=0,Mf=_0=zl=null,dA=!1,OY.current=null,t===null||t.return===null){Pf=1,Dk=e,kc=null;break}e:{var s=n,o=t.return,a=t,c=e;if(e=b0,a.flags|=2048,a.firstEffect=a.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c;if((a.mode&2)===0){var p=a.alternate;p?(a.updateQueue=p.updateQueue,a.memoizedState=p.memoizedState,a.lanes=p.lanes):(a.updateQueue=null,a.memoizedState=null)}var E=(Al.current&1)!==0,w=o;do{var N;if(N=w.tag===13){var R=w.memoizedState;if(R!==null)N=R.dehydrated!==null;else{var U=w.memoizedProps;N=U.fallback===void 0?!1:U.unstable_avoidThisFallback!==!0?!0:!E}}if(N){var Q=w.updateQueue;if(Q===null){var P=new Set;P.add(d),w.updateQueue=P}else Q.add(d);if((w.mode&2)===0){if(w.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var j=c3(-1,1);j.tag=2,f3(a,j)}a.lanes|=1;break e}c=void 0,a=e;var I=s.pingCache;if(I===null?(I=s.pingCache=new SBe,c=new Set,I.set(d,c)):(c=I.get(d),c===void 0&&(c=new Set,I.set(d,c))),!c.has(a)){c.add(a);var K=MBe.bind(null,s,d,a);d.then(K,K)}w.flags|=4096,w.lanes=e;break e}w=w.return}while(w!==null);c=Error((bE(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Pf!==5&&(Pf=2),c=CY(c,a),w=o;do{switch(w.tag){case 3:s=c,w.flags|=4096,e&=-e,w.lanes|=e;var de=_de(w,s,e);P0e(w,de);break e;case 1:s=c;var M=w.type,Z=w.stateNode;if((w.flags&64)===0&&(typeof M.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(r2===null||!r2.has(Z)))){w.flags|=4096,e&=-e,w.lanes|=e;var me=bde(w,s,e);P0e(w,me);break e}}w=w.return}while(w!==null)}Mde(t)}catch(_e){e=_e,kc===t&&t!==null&&(kc=t=t.return);continue}break}while(1)}function kde(){var n=Fk.current;return Fk.current=Ak,n===null?Ak:n}function EA(n,e){var t=js;js|=16;var r=kde();ad===n&&b0===e||QE(n,e);do try{OBe();break}catch(i){Lde(n,i)}while(1);if(sY(),js=t,Fk.current=r,kc!==null)throw Error(ui(261));return ad=null,b0=0,Pf}function OBe(){for(;kc!==null;)Ide(kc)}function RBe(){for(;kc!==null&&!dBe();)Ide(kc)}function Ide(n){var e=jde(n.alternate,n,t_);n.memoizedProps=n.pendingProps,e===null?Mde(n):kc=e,OY.current=null}function Mde(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)===0){if(t=bBe(t,e,t_),t!==null){kc=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(t_&1073741824)!==0||(t.mode&4)===0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)===0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=EBe(e),t!==null){t.flags&=2047,kc=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){kc=e;return}kc=e=n}while(e!==null);Pf===0&&(Pf=5)}function n_(n){var e=BE();return J4(99,NBe.bind(null,n,e)),null}function NBe(n,e){do x3();while(yA!==null);if((js&48)!==0)throw Error(ui(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ui(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,s=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var o=n.eventTimes,a=n.expirationTimes;0<s;){var c=31-i3(s),d=1<<c;i[c]=0,o[c]=-1,a[c]=-1,s&=~d}if(Xx!==null&&(r&24)===0&&Xx.has(n)&&Xx.delete(n),n===ad&&(kc=ad=null,b0=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=js,js|=32,OY.current=null,QG=GL,o=u0e(),HG(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(d=a.getSelection&&a.getSelection())&&d.rangeCount!==0){a=d.anchorNode,s=d.anchorOffset,c=d.focusNode,d=d.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var p=0,E=-1,w=-1,N=0,R=0,U=o,Q=null;t:for(;;){for(var P;U!==a||s!==0&&U.nodeType!==3||(E=p+s),U!==c||d!==0&&U.nodeType!==3||(w=p+d),U.nodeType===3&&(p+=U.nodeValue.length),(P=U.firstChild)!==null;)Q=U,U=P;for(;;){if(U===o)break t;if(Q===a&&++N===s&&(E=p),Q===c&&++R===d&&(w=p),(P=U.nextSibling)!==null)break;U=Q,Q=U.parentNode}U=P}a=E===-1||w===-1?null:{start:E,end:w}}else a=null;a=a||{start:0,end:0}}else a=null;GG={focusedElem:o,selectionRange:a},GL=!1,bA=null,Lk=!1,Vi=r;do try{LBe()}catch(_e){if(Vi===null)throw Error(ui(330));g3(Vi,_e),Vi=Vi.nextEffect}while(Vi!==null);bA=null,Vi=r;do try{for(o=n;Vi!==null;){var j=Vi.flags;if(j&16&&B9(Vi.stateNode,""),j&128){var I=Vi.alternate;if(I!==null){var K=I.ref;K!==null&&(typeof K=="function"?K(null):K.current=null)}}switch(j&1038){case 2:Tde(Vi),Vi.flags&=-3;break;case 6:Tde(Vi),Vi.flags&=-3,DY(Vi.alternate,Vi);break;case 1024:Vi.flags&=-1025;break;case 1028:Vi.flags&=-1025,DY(Vi.alternate,Vi);break;case 4:DY(Vi.alternate,Vi);break;case 8:a=Vi,Fde(o,a);var de=a.alternate;Cde(a),de!==null&&Cde(de)}Vi=Vi.nextEffect}}catch(_e){if(Vi===null)throw Error(ui(330));g3(Vi,_e),Vi=Vi.nextEffect}while(Vi!==null);if(K=GG,I=u0e(),j=K.focusedElem,o=K.selectionRange,I!==j&&j&&j.ownerDocument&&a0e(j.ownerDocument.documentElement,j)){for(o!==null&&HG(j)&&(I=o.start,K=o.end,K===void 0&&(K=I),"selectionStart"in j?(j.selectionStart=I,j.selectionEnd=Math.min(K,j.value.length)):(K=(I=j.ownerDocument||document)&&I.defaultView||window,K.getSelection&&(K=K.getSelection(),a=j.textContent.length,de=Math.min(o.start,a),o=o.end===void 0?de:Math.min(o.end,a),!K.extend&&de>o&&(a=o,o=de,de=a),a=o0e(j,de),s=o0e(j,o),a&&s&&(K.rangeCount!==1||K.anchorNode!==a.node||K.anchorOffset!==a.offset||K.focusNode!==s.node||K.focusOffset!==s.offset)&&(I=I.createRange(),I.setStart(a.node,a.offset),K.removeAllRanges(),de>o?(K.addRange(I),K.extend(s.node,s.offset)):(I.setEnd(s.node,s.offset),K.addRange(I)))))),I=[],K=j;K=K.parentNode;)K.nodeType===1&&I.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<I.length;j++)K=I[j],K.element.scrollLeft=K.left,K.element.scrollTop=K.top}GL=!!QG,GG=QG=null,n.current=t,Vi=r;do try{for(j=n;Vi!==null;){var M=Vi.flags;if(M&36&&ABe(j,Vi.alternate,Vi),M&128){I=void 0;var Z=Vi.ref;if(Z!==null){var me=Vi.stateNode;switch(Vi.tag){case 5:I=me;break;default:I=me}typeof Z=="function"?Z(I):Z.current=I}}Vi=Vi.nextEffect}}catch(_e){if(Vi===null)throw Error(ui(330));g3(Vi,_e),Vi=Vi.nextEffect}while(Vi!==null);Vi=null,pBe(),js=i}else n.current=t;if(h3)h3=!1,yA=n,vA=e;else for(Vi=r;Vi!==null;)e=Vi.nextEffect,Vi.nextEffect=null,Vi.flags&8&&(M=Vi,M.sibling=null,M.stateNode=null),Vi=e;if(r=n.pendingLanes,r===0&&(r2=null),r===1?n===jY?_A++:(_A=0,jY=n):_A=0,t=t.stateNode,K4&&typeof K4.onCommitFiberRoot=="function")try{K4.onCommitFiberRoot(ZG,t,void 0,(t.current.flags&64)===64)}catch{}if(Ep(n,v0()),Ok)throw Ok=!1,n=MY,MY=null,n;return(js&8)!==0||Zm(),null}function LBe(){for(;Vi!==null;){var n=Vi.alternate;Lk||bA===null||((Vi.flags&8)!==0?Dfe(Vi,bA)&&(Lk=!0):Vi.tag===13&&TBe(n,Vi)&&Dfe(Vi,bA)&&(Lk=!0));var e=Vi.flags;(e&256)!==0&&CBe(n,Vi),(e&512)===0||h3||(h3=!0,iA(97,function(){return x3(),null})),Vi=Vi.nextEffect}}function x3(){if(vA!==90){var n=97<vA?97:vA;return vA=90,J4(n,IBe)}return!1}function kBe(n,e){PY.push(e,n),h3||(h3=!0,iA(97,function(){return x3(),null}))}function Pde(n,e){BY.push(e,n),h3||(h3=!0,iA(97,function(){return x3(),null}))}function IBe(){if(yA===null)return!1;var n=yA;if(yA=null,(js&48)!==0)throw Error(ui(331));var e=js;js|=32;var t=BY;BY=[];for(var r=0;r<t.length;r+=2){var i=t[r],s=t[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(s===null)throw Error(ui(330));g3(s,c)}}for(t=PY,PY=[],r=0;r<t.length;r+=2){i=t[r],s=t[r+1];try{var a=i.create;i.destroy=a()}catch(c){if(s===null)throw Error(ui(330));g3(s,c)}}for(a=n.current.firstEffect;a!==null;)n=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=n;return js=e,Zm(),!0}function Bde(n,e,t){e=CY(t,e),e=_de(n,e,1),f3(n,e),e=Lh(),n=kk(n,1),n!==null&&(QL(n,1,e),Ep(n,e))}function g3(n,e){if(n.tag===3)Bde(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){Bde(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(r2===null||!r2.has(r))){n=CY(e,n);var i=bde(t,n,1);if(f3(t,i),i=Lh(),t=kk(t,1),t!==null)QL(t,1,i),Ep(t,i);else if(typeof r.componentDidCatch=="function"&&(r2===null||!r2.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function MBe(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Lh(),n.pingedLanes|=n.suspendedLanes&t,ad===n&&(b0&t)===t&&(Pf===4||Pf===3&&(b0&62914560)===b0&&500>v0()-kY?QE(n,0):NY|=t),Ep(n,e)}function PBe(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)===0?e=1:(e&4)===0?e=BE()===99?1:2:(Zx===0&&(Zx=HE),e=FE(62914560&~Zx),e===0&&(e=4194304))),t=Lh(),n=kk(n,e),n!==null&&(QL(n,e,t),Ep(n,t))}var jde;jde=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||Gd.current)Y1=!0;else if((t&r)!==0)Y1=(n.flags&16384)!==0;else{switch(Y1=!1,e.tag){case 3:cde(e),dY();break;case 5:V0e(e);break;case 1:Yd(e.type)&&lk(e);break;case 4:lY(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Cl(dk,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!==0?fde(n,e,t):(Cl(Al,Al.current&1),e=Jx(n,e,t),e!==null?e.sibling:null);Cl(Al,Al.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&64)!==0){if(r)return xde(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Cl(Al,Al.current),r)break;return null;case 23:case 24:return e.lanes=0,_Y(n,e,t)}return Jx(n,e,t)}else Y1=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=PE(e,y0.current),qE(e,t),i=mY(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yd(r)){var s=!0;lk(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,aY(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&mk(e,r,o,n),i.updater=xk,e.stateNode=i,i._reactInternals=e,uY(e,r,n,t),e=EY(null,e,r,!0,s,t)}else e.tag=0,Jd(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=jBe(i),n=G1(i,n),s){case 0:e=bY(null,e,i,n,t);break e;case 1:e=lde(null,e,i,n,t);break e;case 11:e=sde(null,e,i,n,t);break e;case 14:e=ode(null,e,i,G1(i.type,n),r,t);break e}throw Error(ui(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:G1(r,i),bY(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:G1(r,i),lde(n,e,r,i,t);case 3:if(cde(e),r=e.updateQueue,n===null||r===null)throw Error(ui(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,M0e(n,e),sA(e,r,null,t),r=e.memoizedState.element,r===i)dY(),e=Jx(n,e,t);else{if(i=e.stateNode,(s=i.hydrate)&&(d3=LE(e.stateNode.containerInfo.firstChild),Kx=e,s=t2=!0),s){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)s=n[i],s._workInProgressVersionPrimary=n[i+1],zE.push(s);for(t=$0e(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else Jd(n,e,r,t),dY();e=e.child}return e;case 5:return V0e(e),n===null&&fY(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,YG(r,i)?o=null:s!==null&&YG(r,s)&&(e.flags|=16),ude(n,e),Jd(n,e,o,t),e.child;case 6:return n===null&&fY(e),null;case 13:return fde(n,e,t);case 4:return lY(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=vk(e,null,r,t):Jd(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:G1(r,i),sde(n,e,r,i,t);case 7:return Jd(n,e,e.pendingProps,t),e.child;case 8:return Jd(n,e,e.pendingProps.children,t),e.child;case 12:return Jd(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(Cl(dk,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=vp(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!Gd.current){e=Jx(n,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var d=c.firstContext;d!==null;){if(d.context===r&&(d.observedBits&s)!==0){a.tag===1&&(d=c3(-1,t&-t),d.tag=2,f3(a,d)),a.lanes|=t,d=a.alternate,d!==null&&(d.lanes|=t),I0e(a.return,t),c.lanes|=t;break}d=d.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Jd(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,qE(e,t),i=_p(i,s.unstable_observedBits),r=r(i),e.flags|=1,Jd(n,e,r,t),e.child;case 14:return i=e.type,s=G1(i,e.pendingProps),s=G1(i.type,s),ode(n,e,i,s,r,t);case 15:return ade(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:G1(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Yd(r)?(n=!0,lk(e)):n=!1,qE(e,t),U0e(e,r,i),uY(e,r,i,t),EY(null,e,r,!0,n,t);case 19:return xde(n,e,t);case 23:return _Y(n,e,t);case 24:return _Y(n,e,t)}throw Error(ui(156,e.tag))};function BBe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Sp(n,e,t,r){return new BBe(n,e,t,r)}function zY(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jBe(n){if(typeof n=="function")return zY(n)?1:0;if(n!=null){if(n=n.$$typeof,n===kL)return 11;if(n===ML)return 14}return 2}function y3(n,e){var t=n.alternate;return t===null?(t=Sp(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Mk(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")zY(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Zy:return GE(t.children,i,s,e);case afe:o=8,i|=16;break;case ZQ:o=8,i|=1;break;case k9:return n=Sp(12,t,e,i|8),n.elementType=k9,n.type=k9,n.lanes=s,n;case I9:return n=Sp(13,t,e,i),n.type=I9,n.elementType=I9,n.lanes=s,n;case IL:return n=Sp(19,t,e,i),n.elementType=IL,n.lanes=s,n;case sG:return HY(t,i,s,e);case oG:return n=Sp(24,t,e,i),n.elementType=oG,n.lanes=s,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case eG:o=10;break e;case tG:o=9;break e;case kL:o=11;break e;case ML:o=14;break e;case nG:o=16,r=null;break e;case rG:o=22;break e}throw Error(ui(130,n==null?n:typeof n,""))}return e=Sp(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function GE(n,e,t,r){return n=Sp(7,n,r,e),n.lanes=t,n}function HY(n,e,t,r){return n=Sp(23,n,r,e),n.elementType=sG,n.lanes=t,n}function $Y(n,e,t){return n=Sp(6,n,null,e),n.lanes=t,n}function VY(n,e,t){return e=Sp(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function qBe(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=NG(0),this.expirationTimes=NG(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=NG(0),this.mutableSourceEagerHydrationData=null}function UBe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V4,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Pk(n,e,t,r){var i=e.current,s=Lh(),o=p3(i);e:if(t){t=t._reactInternals;t:{if(Q4(t)!==t||t.tag!==1)throw Error(ui(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Yd(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(ui(171))}if(t.tag===1){var c=t.type;if(Yd(c)){t=C0e(t,c,a);break e}}t=a}else t=u3;return e.context===null?e.context=t:e.pendingContext=t,e=c3(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),f3(i,e),m3(i,o,s),o}function WY(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function qde(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function QY(n,e){qde(n,e),(n=n.alternate)&&qde(n,e)}function zBe(){return null}function GY(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new qBe(n,e,t!=null&&t.hydrate===!0),e=Sp(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,aY(e),n[kE]=t.current,p0e(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}GY.prototype.render=function(n){Pk(n,this._internalRoot,null,null)};GY.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;Pk(null,n,null,function(){e[kE]=null})};function SA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function HBe(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new GY(n,0,e?{hydrate:!0}:void 0)}function Bk(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var d=WY(o);a.call(d)}}Pk(e,o,n,i)}else{if(s=t._reactRootContainer=HBe(t,r),o=s._internalRoot,typeof i=="function"){var c=i;i=function(){var d=WY(o);c.call(d)}}Nde(function(){Pk(e,o,n,i)})}return WY(o)}Ofe=function(n){if(n.tag===13){var e=Lh();m3(n,4,e),QY(n,4)}};AG=function(n){if(n.tag===13){var e=Lh();m3(n,67108864,e),QY(n,67108864)}};Rfe=function(n){if(n.tag===13){var e=Lh(),t=p3(n);m3(n,t,e),QY(n,t)}};Nfe=function(n,e){return e()};vG=function(n,e,t){switch(e){case"input":if(cG(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ak(r);if(!i)throw Error(ui(90));cfe(r),cG(r,i)}}}break;case"textarea":mfe(n,t);break;case"select":e=t.value,e!=null&&EE(n,!!t.multiple,e,!1)}};_G=Rde;wfe=function(n,e,t,r,i){var s=js;js|=4;try{return J4(98,n.bind(null,e,t,r,i))}finally{js=s,js===0&&(VE(),Zm())}};bG=function(){(js&49)===0&&(DBe(),x3())};Cfe=function(n,e){var t=js;js|=2;try{return n(e)}finally{js=t,js===0&&(VE(),Zm())}};function Ude(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!SA(e))throw Error(ui(200));return UBe(n,e,null,t)}var $Be={Events:[rA,IE,ak,Efe,Sfe,x3,{current:!1}]},wA={findFiberByHostInstance:G4,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},VBe={bundleType:wA.bundleType,version:wA.version,rendererPackageName:wA.rendererPackageName,rendererConfig:wA.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$4.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ffe(n),n===null?null:n.stateNode},findFiberByHostInstance:wA.findFiberByHostInstance||zBe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(CA=__REACT_DEVTOOLS_GLOBAL_HOOK__,!CA.isDisabled&&CA.supportsFiber))try{ZG=CA.inject(VBe),K4=CA}catch{}var CA;wp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$Be;wp.createPortal=Ude;wp.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ui(188)):Error(ui(268,Object.keys(n)));return n=Ffe(e),n=n===null?null:n.stateNode,n};wp.flushSync=function(n,e){var t=js;if((t&48)!==0)return n(e);js|=1;try{if(n)return J4(99,n.bind(null,e))}finally{js=t,Zm()}};wp.hydrate=function(n,e,t){if(!SA(e))throw Error(ui(200));return Bk(null,n,e,!0,t)};wp.render=function(n,e,t){if(!SA(e))throw Error(ui(200));return Bk(null,n,e,!1,t)};wp.unmountComponentAtNode=function(n){if(!SA(n))throw Error(ui(40));return n._reactRootContainer?(Nde(function(){Bk(null,null,n,!1,function(){n._reactRootContainer=null,n[kE]=null})}),!0):!1};wp.unstable_batchedUpdates=Rde;wp.unstable_createPortal=function(n,e){return Ude(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};wp.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!SA(t))throw Error(ui(200));if(n==null||n._reactInternals===void 0)throw Error(ui(38));return Bk(n,e,t,!1,r)};wp.version="17.0.2"});var jk=Ae((E4t,$de)=>{"use strict";m();function Hde(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hde)}catch(n){console.error(n)}}Hde(),$de.exports=zde()});var ghe=Ae(Aa=>{"use strict";m();var aK=Symbol.for("react.element"),uK=Symbol.for("react.portal"),Vk=Symbol.for("react.fragment"),Wk=Symbol.for("react.strict_mode"),Qk=Symbol.for("react.profiler"),Gk=Symbol.for("react.provider"),Yk=Symbol.for("react.context"),rje=Symbol.for("react.server_context"),Kk=Symbol.for("react.forward_ref"),Jk=Symbol.for("react.suspense"),Xk=Symbol.for("react.suspense_list"),Zk=Symbol.for("react.memo"),eI=Symbol.for("react.lazy"),ije=Symbol.for("react.offscreen"),xhe;xhe=Symbol.for("react.module.reference");function Ap(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case aK:switch(n=n.type,n){case Vk:case Qk:case Wk:case Jk:case Xk:return n;default:switch(n=n&&n.$$typeof,n){case rje:case Yk:case Kk:case eI:case Zk:case Gk:return n;default:return e}}case uK:return e}}}Aa.ContextConsumer=Yk;Aa.ContextProvider=Gk;Aa.Element=aK;Aa.ForwardRef=Kk;Aa.Fragment=Vk;Aa.Lazy=eI;Aa.Memo=Zk;Aa.Portal=uK;Aa.Profiler=Qk;Aa.StrictMode=Wk;Aa.Suspense=Jk;Aa.SuspenseList=Xk;Aa.isAsyncMode=function(){return!1};Aa.isConcurrentMode=function(){return!1};Aa.isContextConsumer=function(n){return Ap(n)===Yk};Aa.isContextProvider=function(n){return Ap(n)===Gk};Aa.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===aK};Aa.isForwardRef=function(n){return Ap(n)===Kk};Aa.isFragment=function(n){return Ap(n)===Vk};Aa.isLazy=function(n){return Ap(n)===eI};Aa.isMemo=function(n){return Ap(n)===Zk};Aa.isPortal=function(n){return Ap(n)===uK};Aa.isProfiler=function(n){return Ap(n)===Qk};Aa.isStrictMode=function(n){return Ap(n)===Wk};Aa.isSuspense=function(n){return Ap(n)===Jk};Aa.isSuspenseList=function(n){return Ap(n)===Xk};Aa.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Vk||n===Qk||n===Wk||n===Jk||n===Xk||n===ije||typeof n=="object"&&n!==null&&(n.$$typeof===eI||n.$$typeof===Zk||n.$$typeof===Gk||n.$$typeof===Yk||n.$$typeof===Kk||n.$$typeof===xhe||n.getModuleId!==void 0)};Aa.typeOf=Ap});var vhe=Ae((N6t,yhe)=>{"use strict";m();yhe.exports=ghe()});var bhe=Ae((L6t,_he)=>{m();_he.exports=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),d=0;d<o.length;d++){var p=o[d];if(!c(p))return!1;var E=e[p],w=t[p];if(s=r?r.call(i,E,w,p):void 0,s===!1||s===void 0&&E!==w)return!1}return!0}});var whe=Ae(lK=>{"use strict";m();Object.defineProperty(lK,"__esModule",{value:!0});function aje(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}lK.default=aje});var Ahe=Ae((P6t,Che)=>{"use strict";m();Che.exports=whe()});var The=Ae(cK=>{"use strict";m();Object.defineProperty(cK,"__esModule",{value:!0});var uje=Ahe();function lje(n){return n&&n.__esModule?n:{default:n}}var cje=lje(uje),fje=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,dje=cje.default(function(n){return fje.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});cK.default=dje});var Dhe=Ae((j6t,Fhe)=>{"use strict";m();Fhe.exports=The()});var Rhe=Ae(Ta=>{"use strict";m();var uf=typeof Symbol=="function"&&Symbol.for,fK=uf?Symbol.for("react.element"):60103,dK=uf?Symbol.for("react.portal"):60106,tI=uf?Symbol.for("react.fragment"):60107,nI=uf?Symbol.for("react.strict_mode"):60108,rI=uf?Symbol.for("react.profiler"):60114,iI=uf?Symbol.for("react.provider"):60109,sI=uf?Symbol.for("react.context"):60110,hK=uf?Symbol.for("react.async_mode"):60111,oI=uf?Symbol.for("react.concurrent_mode"):60111,aI=uf?Symbol.for("react.forward_ref"):60112,uI=uf?Symbol.for("react.suspense"):60113,hje=uf?Symbol.for("react.suspense_list"):60120,lI=uf?Symbol.for("react.memo"):60115,cI=uf?Symbol.for("react.lazy"):60116,pje=uf?Symbol.for("react.block"):60121,mje=uf?Symbol.for("react.fundamental"):60117,xje=uf?Symbol.for("react.responder"):60118,gje=uf?Symbol.for("react.scope"):60119;function Ih(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case fK:switch(n=n.type,n){case hK:case oI:case tI:case rI:case nI:case uI:return n;default:switch(n=n&&n.$$typeof,n){case sI:case aI:case cI:case lI:case iI:return n;default:return e}}case dK:return e}}}function Ohe(n){return Ih(n)===oI}Ta.AsyncMode=hK;Ta.ConcurrentMode=oI;Ta.ContextConsumer=sI;Ta.ContextProvider=iI;Ta.Element=fK;Ta.ForwardRef=aI;Ta.Fragment=tI;Ta.Lazy=cI;Ta.Memo=lI;Ta.Portal=dK;Ta.Profiler=rI;Ta.StrictMode=nI;Ta.Suspense=uI;Ta.isAsyncMode=function(n){return Ohe(n)||Ih(n)===hK};Ta.isConcurrentMode=Ohe;Ta.isContextConsumer=function(n){return Ih(n)===sI};Ta.isContextProvider=function(n){return Ih(n)===iI};Ta.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===fK};Ta.isForwardRef=function(n){return Ih(n)===aI};Ta.isFragment=function(n){return Ih(n)===tI};Ta.isLazy=function(n){return Ih(n)===cI};Ta.isMemo=function(n){return Ih(n)===lI};Ta.isPortal=function(n){return Ih(n)===dK};Ta.isProfiler=function(n){return Ih(n)===rI};Ta.isStrictMode=function(n){return Ih(n)===nI};Ta.isSuspense=function(n){return Ih(n)===uI};Ta.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===tI||n===oI||n===rI||n===nI||n===uI||n===hje||typeof n=="object"&&n!==null&&(n.$$typeof===cI||n.$$typeof===lI||n.$$typeof===iI||n.$$typeof===sI||n.$$typeof===aI||n.$$typeof===mje||n.$$typeof===xje||n.$$typeof===gje||n.$$typeof===pje)};Ta.typeOf=Ih});var Lhe=Ae((U6t,Nhe)=>{"use strict";m();Nhe.exports=Rhe()});var qhe=Ae((z6t,jhe)=>{"use strict";m();var pK=Lhe(),yje={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},vje={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_je={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},khe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mK={};mK[pK.ForwardRef]=_je;mK[pK.Memo]=khe;function Ihe(n){return pK.isMemo(n)?khe:mK[n.$$typeof]||yje}var bje=Object.defineProperty,Eje=Object.getOwnPropertyNames,Mhe=Object.getOwnPropertySymbols,Sje=Object.getOwnPropertyDescriptor,wje=Object.getPrototypeOf,Phe=Object.prototype;function Bhe(n,e,t){if(typeof e!="string"){if(Phe){var r=wje(e);r&&r!==Phe&&Bhe(n,r,t)}var i=Eje(e);Mhe&&(i=i.concat(Mhe(e)));for(var s=Ihe(n),o=Ihe(e),a=0;a<i.length;++a){var c=i[a];if(!vje[c]&&!(t&&t[c])&&!(o&&o[c])&&!(s&&s[c])){var d=Sje(e,c);try{bje(n,c,d)}catch{}}}}return n}jhe.exports=Bhe});var ds=Ae((X6t,vI)=>{m();var upe,lpe,cpe,fpe,dpe,hpe,ppe,mpe,xpe,gI,DK,gpe,ype,vpe,r7,_pe,bpe,Epe,Spe,wpe,Cpe,Ape,Tpe,Fpe,yI;(function(n){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){n(t(e,t(r)))}):typeof vI=="object"&&typeof vI.exports=="object"?n(t(e,t(vI.exports))):n(t(e));function t(r,i){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(s,o){return r[s]=i?i(s,o):o}}})(function(n){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])};upe=function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(r,i);function s(){this.constructor=r}r.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},lpe=Object.assign||function(r){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},cpe=function(r,i){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(s[o[a]]=r[o[a]]);return s},fpe=function(r,i,s,o){var a=arguments.length,c=a<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,s):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,i,s,o);else for(var p=r.length-1;p>=0;p--)(d=r[p])&&(c=(a<3?d(c):a>3?d(i,s,c):d(i,s))||c);return a>3&&c&&Object.defineProperty(i,s,c),c},dpe=function(r,i){return function(s,o){i(s,o,r)}},hpe=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},ppe=function(r,i,s,o){function a(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function p(N){try{w(o.next(N))}catch(R){d(R)}}function E(N){try{w(o.throw(N))}catch(R){d(R)}}function w(N){N.done?c(N.value):a(N.value).then(p,E)}w((o=o.apply(r,i||[])).next())})},mpe=function(r,i){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(w){return function(N){return E([w,N])}}function E(w){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(c=w[0]&2?a.return:w[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,w[1])).done)return c;switch(a=0,c&&(w=[w[0]&2,c.value]),w[0]){case 0:case 1:c=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,a=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!c||w[1]>c[0]&&w[1]<c[3])){s.label=w[1];break}if(w[0]===6&&s.label<c[1]){s.label=c[1],c=w;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(w);break}c[2]&&s.ops.pop(),s.trys.pop();continue}w=i.call(r,s)}catch(N){w=[6,N],a=0}finally{o=c=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},xpe=function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&yI(i,r,s)},yI=Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]},gI=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&r[i],o=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},DK=function(r,i){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var o=s.call(r),a,c=[],d;try{for(;(i===void 0||i-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(p){d={error:p}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(d)throw d.error}}return c},gpe=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(DK(arguments[i]));return r},ype=function(){for(var r=0,i=0,s=arguments.length;i<s;i++)r+=arguments[i].length;for(var o=Array(r),a=0,i=0;i<s;i++)for(var c=arguments[i],d=0,p=c.length;d<p;d++,a++)o[a]=c[d];return o},vpe=function(r,i,s){if(s||arguments.length===2)for(var o=0,a=i.length,c;o<a;o++)(c||!(o in i))&&(c||(c=Array.prototype.slice.call(i,0,o)),c[o]=i[o]);return r.concat(c||Array.prototype.slice.call(i))},r7=function(r){return this instanceof r7?(this.v=r,this):new r7(r)},_pe=function(r,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(r,i||[]),a,c=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(U){o[U]&&(a[U]=function(Q){return new Promise(function(P,j){c.push([U,Q,P,j])>1||p(U,Q)})})}function p(U,Q){try{E(o[U](Q))}catch(P){R(c[0][3],P)}}function E(U){U.value instanceof r7?Promise.resolve(U.value.v).then(w,N):R(c[0][2],U)}function w(U){p("next",U)}function N(U){p("throw",U)}function R(U,Q){U(Q),c.shift(),c.length&&p(c[0][0],c[0][1])}},bpe=function(r){var i,s;return i={},o("next"),o("throw",function(a){throw a}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(a,c){i[a]=r[a]?function(d){return(s=!s)?{value:r7(r[a](d)),done:a==="return"}:c?c(d):d}:c}},Epe=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],s;return i?i.call(r):(r=typeof gI=="function"?gI(r):r[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(c){s[c]=r[c]&&function(d){return new Promise(function(p,E){d=r[c](d),a(p,E,d.done,d.value)})}}function a(c,d,p,E){Promise.resolve(E).then(function(w){c({value:w,done:p})},d)}},Spe=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r};var t=Object.create?function(r,i){Object.defineProperty(r,"default",{enumerable:!0,value:i})}:function(r,i){r.default=i};wpe=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)s!=="default"&&Object.prototype.hasOwnProperty.call(r,s)&&yI(i,r,s);return t(i,r),i},Cpe=function(r){return r&&r.__esModule?r:{default:r}},Ape=function(r,i,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?r!==i||!o:!i.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(r):o?o.value:i.get(r)},Tpe=function(r,i,s,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?r!==i||!a:!i.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(r,s):a?a.value=s:i.set(r,s),s},Fpe=function(r,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?i===r:r.has(i)},n("__extends",upe),n("__assign",lpe),n("__rest",cpe),n("__decorate",fpe),n("__param",dpe),n("__metadata",hpe),n("__awaiter",ppe),n("__generator",mpe),n("__exportStar",xpe),n("__createBinding",yI),n("__values",gI),n("__read",DK),n("__spread",gpe),n("__spreadArrays",ype),n("__spreadArray",vpe),n("__await",r7),n("__asyncGenerator",_pe),n("__asyncDelegator",bpe),n("__asyncValues",Epe),n("__makeTemplateObject",Spe),n("__importStar",wpe),n("__importDefault",Cpe),n("__classPrivateFieldGet",Ape),n("__classPrivateFieldSet",Tpe),n("__classPrivateFieldIn",Fpe)})});var o_=Ae(i7=>{"use strict";m();Object.defineProperty(i7,"__esModule",{value:!0});i7.encodeUtf8=i7.decodeUtf8=void 0;var eqe=new TextDecoder("utf-8"),tqe=n=>eqe.decode(n);i7.decodeUtf8=tqe;var nqe=new TextEncoder,rqe=n=>nqe.encode(n);i7.encodeUtf8=rqe});var o2=Ae(Hi=>{"use strict";m();Object.defineProperty(Hi,"__esModule",{value:!0});Hi.isFlatbuffersByteBuffer=Hi.isReadableNodeStream=Hi.isWritableNodeStream=Hi.isReadableDOMStream=Hi.isWritableDOMStream=Hi.isFetchResponse=Hi.isFSReadStream=Hi.isFileHandle=Hi.isUnderlyingSink=Hi.isIteratorResult=Hi.isArrayLike=Hi.isArrowJSON=Hi.isAsyncIterable=Hi.isIterable=Hi.isObservable=Hi.isPromise=Hi.isObject=Hi.BigUint64ArrayAvailable=Hi.BigUint64Array=Hi.BigInt64ArrayAvailable=Hi.BigInt64Array=Hi.BigIntAvailable=Hi.BigInt=void 0;var[iqe,sqe]=(()=>{let n=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw n()}return e.asIntN=()=>{throw n()},e.asUintN=()=>{throw n()},typeof BigInt!="undefined"?[BigInt,!0]:[e,!1]})();Hi.BigInt=iqe;Hi.BigIntAvailable=sqe;var[oqe,aqe]=(()=>{let n=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[e,!1]})();Hi.BigInt64Array=oqe;Hi.BigInt64ArrayAvailable=aqe;var[uqe,lqe]=(()=>{let n=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw n()}static from(){throw n()}constructor(){throw n()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[e,!1]})();Hi.BigUint64Array=uqe;Hi.BigUint64ArrayAvailable=lqe;var OK=n=>typeof n=="number",Dpe=n=>typeof n=="boolean",zu=n=>typeof n=="function",cqe=n=>n!=null&&Object(n)===n;Hi.isObject=cqe;var fqe=n=>(0,Hi.isObject)(n)&&zu(n.then);Hi.isPromise=fqe;var dqe=n=>(0,Hi.isObject)(n)&&zu(n.subscribe);Hi.isObservable=dqe;var hqe=n=>(0,Hi.isObject)(n)&&zu(n[Symbol.iterator]);Hi.isIterable=hqe;var pqe=n=>(0,Hi.isObject)(n)&&zu(n[Symbol.asyncIterator]);Hi.isAsyncIterable=pqe;var mqe=n=>(0,Hi.isObject)(n)&&(0,Hi.isObject)(n.schema);Hi.isArrowJSON=mqe;var xqe=n=>(0,Hi.isObject)(n)&&OK(n.length);Hi.isArrayLike=xqe;var gqe=n=>(0,Hi.isObject)(n)&&"done"in n&&"value"in n;Hi.isIteratorResult=gqe;var yqe=n=>(0,Hi.isObject)(n)&&zu(n.abort)&&zu(n.close)&&zu(n.start)&&zu(n.write);Hi.isUnderlyingSink=yqe;var vqe=n=>(0,Hi.isObject)(n)&&zu(n.stat)&&OK(n.fd);Hi.isFileHandle=vqe;var _qe=n=>(0,Hi.isReadableNodeStream)(n)&&OK(n.bytesRead);Hi.isFSReadStream=_qe;var bqe=n=>(0,Hi.isObject)(n)&&(0,Hi.isReadableDOMStream)(n.body);Hi.isFetchResponse=bqe;var _I=n=>"_getDOMStream"in n&&"_getNodeStream"in n,Eqe=n=>(0,Hi.isObject)(n)&&zu(n.abort)&&zu(n.getWriter)&&!_I(n);Hi.isWritableDOMStream=Eqe;var Sqe=n=>(0,Hi.isObject)(n)&&zu(n.cancel)&&zu(n.getReader)&&!_I(n);Hi.isReadableDOMStream=Sqe;var wqe=n=>(0,Hi.isObject)(n)&&zu(n.end)&&zu(n.write)&&Dpe(n.writable)&&!_I(n);Hi.isWritableNodeStream=wqe;var Cqe=n=>(0,Hi.isObject)(n)&&zu(n.read)&&zu(n.pipe)&&Dpe(n.readable)&&!_I(n);Hi.isReadableNodeStream=Cqe;var Aqe=n=>(0,Hi.isObject)(n)&&zu(n.clear)&&zu(n.bytes)&&zu(n.position)&&zu(n.setPosition)&&zu(n.capacity)&&zu(n.getBufferIdentifier)&&zu(n.createLong);Hi.isFlatbuffersByteBuffer=Aqe});var Bf=Ae(Ni=>{"use strict";m();Object.defineProperty(Ni,"__esModule",{value:!0});Ni.compareArrayLike=Ni.rebaseValueOffsets=Ni.toUint8ClampedArrayAsyncIterator=Ni.toFloat64ArrayAsyncIterator=Ni.toFloat32ArrayAsyncIterator=Ni.toUint32ArrayAsyncIterator=Ni.toUint16ArrayAsyncIterator=Ni.toUint8ArrayAsyncIterator=Ni.toInt32ArrayAsyncIterator=Ni.toInt16ArrayAsyncIterator=Ni.toInt8ArrayAsyncIterator=Ni.toArrayBufferViewAsyncIterator=Ni.toUint8ClampedArrayIterator=Ni.toFloat64ArrayIterator=Ni.toFloat32ArrayIterator=Ni.toUint32ArrayIterator=Ni.toUint16ArrayIterator=Ni.toUint8ArrayIterator=Ni.toInt32ArrayIterator=Ni.toInt16ArrayIterator=Ni.toInt8ArrayIterator=Ni.toArrayBufferViewIterator=Ni.toUint8ClampedArray=Ni.toFloat64Array=Ni.toFloat32Array=Ni.toBigUint64Array=Ni.toUint32Array=Ni.toUint16Array=Ni.toUint8Array=Ni.toBigInt64Array=Ni.toInt32Array=Ni.toInt16Array=Ni.toInt8Array=Ni.toArrayBufferView=Ni.joinUint8Arrays=Ni.memcpy=void 0;var cc=ds(),Tqe=o_(),C3=o2(),RK=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function Fqe(n){let e=n[0]?[n[0]]:[],t,r,i,s;for(let o,a,c=0,d=0,p=n.length;++c<p;){if(o=e[d],a=n[c],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++d]=a);continue}if({byteOffset:t,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,t+i<r||r+s<t){a&&(e[++d]=a);continue}e[d]=new Uint8Array(o.buffer,t,r-t+s)}return e}function NK(n,e,t=0,r=e.byteLength){let i=n.byteLength,s=new Uint8Array(n.buffer,n.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,t),n}Ni.memcpy=NK;function Dqe(n,e){let t=Fqe(n),r=t.reduce((p,E)=>p+E.byteLength,0),i,s,o,a=0,c=-1,d=Math.min(e||Number.POSITIVE_INFINITY,r);for(let p=t.length;++c<p;){if(i=t[c],s=i.subarray(0,Math.min(i.length,d-a)),d<=a+s.length){s.length<i.length?t[c]=i.subarray(s.length):s.length===i.length&&c++,o?NK(o,s,a):o=s;break}NK(o||(o=new Uint8Array(d)),s,a),a+=s.length}return[o||new Uint8Array(0),t.slice(c),r-(o?o.byteLength:0)]}Ni.joinUint8Arrays=Dqe;function ud(n,e){let t=(0,C3.isIteratorResult)(e)?e.value:e;return t instanceof n?n===Uint8Array?new n(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=(0,Tqe.encodeUtf8)(t)),t instanceof ArrayBuffer?new n(t):t instanceof RK?new n(t):(0,C3.isFlatbuffersByteBuffer)(t)?ud(n,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new n(0):new n(t.buffer,t.byteOffset,t.byteLength/n.BYTES_PER_ELEMENT):n.from(t)):new n(0)}Ni.toArrayBufferView=ud;var Oqe=n=>ud(Int8Array,n);Ni.toInt8Array=Oqe;var Rqe=n=>ud(Int16Array,n);Ni.toInt16Array=Rqe;var Nqe=n=>ud(Int32Array,n);Ni.toInt32Array=Nqe;var Lqe=n=>ud(C3.BigInt64Array,n);Ni.toBigInt64Array=Lqe;var kqe=n=>ud(Uint8Array,n);Ni.toUint8Array=kqe;var Iqe=n=>ud(Uint16Array,n);Ni.toUint16Array=Iqe;var Mqe=n=>ud(Uint32Array,n);Ni.toUint32Array=Mqe;var Pqe=n=>ud(C3.BigUint64Array,n);Ni.toBigUint64Array=Pqe;var Bqe=n=>ud(Float32Array,n);Ni.toFloat32Array=Bqe;var jqe=n=>ud(Float64Array,n);Ni.toFloat64Array=jqe;var qqe=n=>ud(Uint8ClampedArray,n);Ni.toUint8ClampedArray=qqe;var LK=n=>(n.next(),n);function*a2(n,e){let t=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof RK?t(e):(0,C3.isIterable)(e)?e:t(e);return yield*LK(function*(i){let s=null;do s=i.next(yield ud(n,s));while(!s.done)}(r[Symbol.iterator]())),new n}Ni.toArrayBufferViewIterator=a2;var Uqe=n=>a2(Int8Array,n);Ni.toInt8ArrayIterator=Uqe;var zqe=n=>a2(Int16Array,n);Ni.toInt16ArrayIterator=zqe;var Hqe=n=>a2(Int32Array,n);Ni.toInt32ArrayIterator=Hqe;var $qe=n=>a2(Uint8Array,n);Ni.toUint8ArrayIterator=$qe;var Vqe=n=>a2(Uint16Array,n);Ni.toUint16ArrayIterator=Vqe;var Wqe=n=>a2(Uint32Array,n);Ni.toUint32ArrayIterator=Wqe;var Qqe=n=>a2(Float32Array,n);Ni.toFloat32ArrayIterator=Qqe;var Gqe=n=>a2(Float64Array,n);Ni.toFloat64ArrayIterator=Gqe;var Yqe=n=>a2(Uint8ClampedArray,n);Ni.toUint8ClampedArrayIterator=Yqe;function K1(n,e){return cc.__asyncGenerator(this,arguments,function*(){if((0,C3.isPromise)(e))return yield cc.__await(yield cc.__await(yield*cc.__asyncDelegator(cc.__asyncValues(K1(n,yield cc.__await(e))))));let r=function(o){return cc.__asyncGenerator(this,arguments,function*(){yield yield cc.__await(yield cc.__await(o))})},i=function(o){return cc.__asyncGenerator(this,arguments,function*(){yield cc.__await(yield*cc.__asyncDelegator(cc.__asyncValues(LK(function*(a){let c=null;do c=a.next(yield c==null?void 0:c.value);while(!c.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof RK?r(e):(0,C3.isIterable)(e)?i(e):(0,C3.isAsyncIterable)(e)?e:r(e);return yield cc.__await(yield*cc.__asyncDelegator(cc.__asyncValues(LK(function(o){return cc.__asyncGenerator(this,arguments,function*(){let a=null;do a=yield cc.__await(o.next(yield yield cc.__await(ud(n,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield cc.__await(new n)})}Ni.toArrayBufferViewAsyncIterator=K1;var Kqe=n=>K1(Int8Array,n);Ni.toInt8ArrayAsyncIterator=Kqe;var Jqe=n=>K1(Int16Array,n);Ni.toInt16ArrayAsyncIterator=Jqe;var Xqe=n=>K1(Int32Array,n);Ni.toInt32ArrayAsyncIterator=Xqe;var Zqe=n=>K1(Uint8Array,n);Ni.toUint8ArrayAsyncIterator=Zqe;var eUe=n=>K1(Uint16Array,n);Ni.toUint16ArrayAsyncIterator=eUe;var tUe=n=>K1(Uint32Array,n);Ni.toUint32ArrayAsyncIterator=tUe;var nUe=n=>K1(Float32Array,n);Ni.toFloat32ArrayAsyncIterator=nUe;var rUe=n=>K1(Float64Array,n);Ni.toFloat64ArrayAsyncIterator=rUe;var iUe=n=>K1(Uint8ClampedArray,n);Ni.toUint8ClampedArrayAsyncIterator=iUe;function sUe(n,e,t){if(n!==0){t=t.slice(0,e+1);for(let r=-1;++r<=e;)t[r]+=n}return t}Ni.rebaseValueOffsets=sUe;function oUe(n,e){let t=0,r=n.length;if(r!==e.length)return!1;if(r>0)do if(n[t]!==e[t])return!1;while(++t<r);return!0}Ni.compareArrayLike=oUe});var MA=Ae(IK=>{"use strict";m();Object.defineProperty(IK,"__esModule",{value:!0});var nu=ds(),ld=Bf();IK.default={fromIterable(n){return bI(aUe(n))},fromAsyncIterable(n){return bI(uUe(n))},fromDOMStream(n){return bI(lUe(n))},fromNodeStream(n){return bI(cUe(n))},toDOMStream(n,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(n,e){throw new Error('"toNodeStream" not available in this environment')}};var bI=n=>(n.next(),n);function*aUe(n){let e,t=!1,r=[],i,s,o,a=0;function c(){return s==="peek"?(0,ld.joinUint8Arrays)(r,o)[0]:([i,r,a]=(0,ld.joinUint8Arrays)(r,o),i)}({cmd:s,size:o}=yield null);let d=(0,ld.toUint8ArrayIterator)(n)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?d.next():d.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield c());while(o<a);while(!e)}catch(p){(t=!0)&&typeof d.throw=="function"&&d.throw(p)}finally{t===!1&&typeof d.return=="function"&&d.return(null)}return null}function uUe(n){return nu.__asyncGenerator(this,arguments,function*(){let t,r=!1,i=[],s,o,a,c=0;function d(){return o==="peek"?(0,ld.joinUint8Arrays)(i,a)[0]:([s,i,c]=(0,ld.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield nu.__await(null));let p=(0,ld.toUint8ArrayAsyncIterator)(n)[Symbol.asyncIterator]();try{do if({done:t,value:s}=Number.isNaN(a-c)?yield nu.__await(p.next()):yield nu.__await(p.next(a-c)),!t&&s.byteLength>0&&(i.push(s),c+=s.byteLength),t||a<=c)do({cmd:o,size:a}=yield yield nu.__await(d()));while(a<c);while(!t)}catch(E){(r=!0)&&typeof p.throw=="function"&&(yield nu.__await(p.throw(E)))}finally{r===!1&&typeof p.return=="function"&&(yield nu.__await(p.return(new Uint8Array(0))))}return yield nu.__await(null)})}function lUe(n){return nu.__asyncGenerator(this,arguments,function*(){let t=!1,r=!1,i=[],s,o,a,c=0;function d(){return o==="peek"?(0,ld.joinUint8Arrays)(i,a)[0]:([s,i,c]=(0,ld.joinUint8Arrays)(i,a),s)}({cmd:o,size:a}=yield yield nu.__await(null));let p=new Ope(n);try{do if({done:t,value:s}=Number.isNaN(a-c)?yield nu.__await(p.read()):yield nu.__await(p.read(a-c)),!t&&s.byteLength>0&&(i.push((0,ld.toUint8Array)(s)),c+=s.byteLength),t||a<=c)do({cmd:o,size:a}=yield yield nu.__await(d()));while(a<c);while(!t)}catch(E){(r=!0)&&(yield nu.__await(p.cancel(E)))}finally{r===!1?yield nu.__await(p.cancel()):n.locked&&p.releaseLock()}return yield nu.__await(null)})}var Ope=class{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return nu.__awaiter(this,void 0,void 0,function*(){let{reader:t,source:r}=this;t&&(yield t.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return nu.__awaiter(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let t=yield this.reader.read();return!t.done&&(t.value=(0,ld.toUint8Array)(t)),t})}},kK=(n,e)=>{let t=i=>r([e,i]),r;return[e,t,new Promise(i=>(r=i)&&n.once(e,t))]};function cUe(n){return nu.__asyncGenerator(this,arguments,function*(){let t=[],r="error",i=!1,s=null,o,a,c=0,d=[],p;function E(){return o==="peek"?(0,ld.joinUint8Arrays)(d,a)[0]:([p,d,c]=(0,ld.joinUint8Arrays)(d,a),p)}if({cmd:o,size:a}=yield yield nu.__await(null),n.isTTY)return yield yield nu.__await(new Uint8Array(0)),yield nu.__await(null);try{t[0]=kK(n,"end"),t[1]=kK(n,"error");do{if(t[2]=kK(n,"readable"),[r,s]=yield nu.__await(Promise.race(t.map(N=>N[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-c)?(p=(0,ld.toUint8Array)(n.read(a-c)),p.byteLength<a-c&&(p=(0,ld.toUint8Array)(n.read()))):p=(0,ld.toUint8Array)(n.read()),p.byteLength>0&&(d.push(p),c+=p.byteLength)),i||a<=c)do({cmd:o,size:a}=yield yield nu.__await(E()));while(a<c)}while(!i)}finally{yield nu.__await(w(t,r==="error"?s:null))}return yield nu.__await(null);function w(N,R){return p=d=null,new Promise((U,Q)=>{for(let[P,j]of N)n.off(P,j);try{let P=n.destroy;P&&P.call(n,R),R=void 0}catch(P){R=P||R}finally{R!=null?Q(R):U()}})}})}});var Tl=Ae(Fa=>{"use strict";m();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.BufferType=Fa.Type=Fa.MessageHeader=Fa.IntervalUnit=Fa.TimeUnit=Fa.DateUnit=Fa.Precision=Fa.UnionMode=Fa.MetadataVersion=void 0;var fUe;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(fUe=Fa.MetadataVersion||(Fa.MetadataVersion={}));var dUe;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(dUe=Fa.UnionMode||(Fa.UnionMode={}));var hUe;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(hUe=Fa.Precision||(Fa.Precision={}));var pUe;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(pUe=Fa.DateUnit||(Fa.DateUnit={}));var mUe;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(mUe=Fa.TimeUnit||(Fa.TimeUnit={}));var xUe;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(xUe=Fa.IntervalUnit||(Fa.IntervalUnit={}));var gUe;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(gUe=Fa.MessageHeader||(Fa.MessageHeader={}));var yUe;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"})(yUe=Fa.Type||(Fa.Type={}));var vUe;(function(n){n[n.OFFSET=0]="OFFSET",n[n.DATA=1]="DATA",n[n.VALIDITY=2]="VALIDITY",n[n.TYPE=3]="TYPE"})(vUe=Fa.BufferType||(Fa.BufferType={}))});var SI=Ae(EI=>{"use strict";m();Object.defineProperty(EI,"__esModule",{value:!0});EI.valueToString=void 0;var _Ue=void 0;function Rpe(n){if(n===null)return"null";if(n===_Ue)return"undefined";switch(typeof n){case"number":return`${n}`;case"bigint":return`${n}`;case"string":return`"${n}"`}return typeof n[Symbol.toPrimitive]=="function"?n[Symbol.toPrimitive]("string"):ArrayBuffer.isView(n)?n instanceof BigInt64Array||n instanceof BigUint64Array?`[${[...n].map(e=>Rpe(e))}]`:`[${n}]`:ArrayBuffer.isView(n)?`[${n}]`:JSON.stringify(n,(e,t)=>typeof t=="bigint"?`${t}`:t)}EI.valueToString=Rpe});var CI=Ae(Ic=>{"use strict";m();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.BN=Ic.bignumToBigInt=Ic.bignumToString=Ic.isArrowBigNumSymbol=void 0;var bUe=Bf(),s7=o2();Ic.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function J1(n,...e){return e.length===0?Object.setPrototypeOf((0,bUe.toArrayBufferView)(this.TypedArray,n),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(n,...e),this.constructor.prototype)}J1.prototype[Ic.isArrowBigNumSymbol]=!0;J1.prototype.toJSON=function(){return`"${(0,Ic.bignumToString)(this)}"`};J1.prototype.valueOf=function(){return Npe(this)};J1.prototype.toString=function(){return(0,Ic.bignumToString)(this)};J1.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return Npe(this);case"string":return(0,Ic.bignumToString)(this);case"default":return(0,Ic.bignumToBigInt)(this)}return(0,Ic.bignumToString)(this)};function o7(...n){return J1.apply(this,n)}function a7(...n){return J1.apply(this,n)}function PA(...n){return J1.apply(this,n)}Object.setPrototypeOf(o7.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(a7.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(PA.prototype,Object.create(Uint32Array.prototype));Object.assign(o7.prototype,J1.prototype,{constructor:o7,signed:!0,TypedArray:Int32Array,BigIntArray:s7.BigInt64Array});Object.assign(a7.prototype,J1.prototype,{constructor:a7,signed:!1,TypedArray:Uint32Array,BigIntArray:s7.BigUint64Array});Object.assign(PA.prototype,J1.prototype,{constructor:PA,signed:!0,TypedArray:Uint32Array,BigIntArray:s7.BigUint64Array});function Npe(n){let{buffer:e,byteOffset:t,length:r,signed:i}=n,s=new s7.BigUint64Array(e,t,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63),a=BigInt(o?1:0),c=BigInt(0);if(o){for(let d of s)a+=~d*(BigInt(1)<<BigInt(32)*c++);a*=BigInt(-1)}else for(let d of s)a+=d*(BigInt(1)<<BigInt(32)*c++);return a}s7.BigIntAvailable?(Ic.bignumToBigInt=n=>n.byteLength===8?new n.BigIntArray(n.buffer,n.byteOffset,1)[0]:MK(n),Ic.bignumToString=n=>n.byteLength===8?`${new n.BigIntArray(n.buffer,n.byteOffset,1)[0]}`:MK(n)):(Ic.bignumToString=MK,Ic.bignumToBigInt=Ic.bignumToString);function MK(n){let e="",t=new Uint32Array(2),r=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),s=-1,o=r.length-1;do{for(t[0]=r[s=0];s<o;)r[s++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+r[s];r[s]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e||"0"}var wI=class{static new(e,t){switch(t){case!0:return new o7(e);case!1:return new a7(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case s7.BigInt64Array:return new o7(e)}return e.byteLength===16?new PA(e):new a7(e)}static signed(e){return new o7(e)}static unsigned(e){return new a7(e)}static decimal(e){return new PA(e)}constructor(e,t){return wI.new(e,t)}};Ic.BN=wI});var ru=Ae(ti=>{"use strict";m();var Lpe,kpe,Ipe,Mpe,Ppe,Bpe,jpe,qpe,Upe,zpe,Hpe,$pe,Vpe,Wpe,Qpe,Gpe,Ype,Kpe,Jpe;Object.defineProperty(ti,"__esModule",{value:!0});ti.strideForType=ti.Dictionary=ti.Map_=ti.FixedSizeList=ti.FixedSizeBinary=ti.SparseUnion=ti.DenseUnion=ti.Union=ti.Struct=ti.List=ti.IntervalYearMonth=ti.IntervalDayTime=ti.Interval=ti.TimestampNanosecond=ti.TimestampMicrosecond=ti.TimestampMillisecond=ti.TimestampSecond=ti.Timestamp=ti.TimeNanosecond=ti.TimeMicrosecond=ti.TimeMillisecond=ti.TimeSecond=ti.Time=ti.DateMillisecond=ti.DateDay=ti.Date_=ti.Decimal=ti.Bool=ti.Utf8=ti.Binary=ti.Float64=ti.Float32=ti.Float16=ti.Float=ti.Uint64=ti.Uint32=ti.Uint16=ti.Uint8=ti.Int64=ti.Int32=ti.Int16=ti.Int8=ti.Int=ti.Null=ti.DataType=void 0;var ji=Tl(),_u=class{static isNull(e){return(e==null?void 0:e.typeId)===ji.Type.Null}static isInt(e){return(e==null?void 0:e.typeId)===ji.Type.Int}static isFloat(e){return(e==null?void 0:e.typeId)===ji.Type.Float}static isBinary(e){return(e==null?void 0:e.typeId)===ji.Type.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===ji.Type.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===ji.Type.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===ji.Type.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===ji.Type.Date}static isTime(e){return(e==null?void 0:e.typeId)===ji.Type.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===ji.Type.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===ji.Type.Interval}static isList(e){return(e==null?void 0:e.typeId)===ji.Type.List}static isStruct(e){return(e==null?void 0:e.typeId)===ji.Type.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===ji.Type.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===ji.Type.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===ji.Type.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===ji.Type.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===ji.Type.Dictionary}static isDenseUnion(e){return _u.isUnion(e)&&e.mode===ji.UnionMode.Dense}static isSparseUnion(e){return _u.isUnion(e)&&e.mode===ji.UnionMode.Sparse}get typeId(){return ji.Type.NONE}};ti.DataType=_u;Lpe=Symbol.toStringTag;_u[Lpe]=(n=>(n.children=null,n.ArrayType=Array,n[Symbol.toStringTag]="DataType"))(_u.prototype);var AI=class extends _u{toString(){return"Null"}get typeId(){return ji.Type.Null}};ti.Null=AI;kpe=Symbol.toStringTag;AI[kpe]=(n=>n[Symbol.toStringTag]="Null")(AI.prototype);var Tp=class extends _u{constructor(e,t){super();this.isSigned=e,this.bitWidth=t}get typeId(){return ji.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};ti.Int=Tp;Ipe=Symbol.toStringTag;Tp[Ipe]=(n=>(n.isSigned=null,n.bitWidth=null,n[Symbol.toStringTag]="Int"))(Tp.prototype);var PK=class extends Tp{constructor(){super(!0,8)}get ArrayType(){return Int8Array}};ti.Int8=PK;var BK=class extends Tp{constructor(){super(!0,16)}get ArrayType(){return Int16Array}};ti.Int16=BK;var jK=class extends Tp{constructor(){super(!0,32)}get ArrayType(){return Int32Array}};ti.Int32=jK;var qK=class extends Tp{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}};ti.Int64=qK;var UK=class extends Tp{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}};ti.Uint8=UK;var zK=class extends Tp{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}};ti.Uint16=zK;var HK=class extends Tp{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}};ti.Uint32=HK;var $K=class extends Tp{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}};ti.Uint64=$K;Object.defineProperty(PK.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(BK.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(jK.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(qK.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(UK.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(zK.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(HK.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty($K.prototype,"ArrayType",{value:BigUint64Array});var a_=class extends _u{constructor(e){super();this.precision=e}get typeId(){return ji.Type.Float}get ArrayType(){switch(this.precision){case ji.Precision.HALF:return Uint16Array;case ji.Precision.SINGLE:return Float32Array;case ji.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};ti.Float=a_;Mpe=Symbol.toStringTag;a_[Mpe]=(n=>(n.precision=null,n[Symbol.toStringTag]="Float"))(a_.prototype);var VK=class extends a_{constructor(){super(ji.Precision.HALF)}};ti.Float16=VK;var WK=class extends a_{constructor(){super(ji.Precision.SINGLE)}};ti.Float32=WK;var QK=class extends a_{constructor(){super(ji.Precision.DOUBLE)}};ti.Float64=QK;Object.defineProperty(VK.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(WK.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(QK.prototype,"ArrayType",{value:Float64Array});var TI=class extends _u{constructor(){super()}get typeId(){return ji.Type.Binary}toString(){return"Binary"}};ti.Binary=TI;Ppe=Symbol.toStringTag;TI[Ppe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Binary"))(TI.prototype);var FI=class extends _u{constructor(){super()}get typeId(){return ji.Type.Utf8}toString(){return"Utf8"}};ti.Utf8=FI;Bpe=Symbol.toStringTag;FI[Bpe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Utf8"))(FI.prototype);var DI=class extends _u{constructor(){super()}get typeId(){return ji.Type.Bool}toString(){return"Bool"}};ti.Bool=DI;jpe=Symbol.toStringTag;DI[jpe]=(n=>(n.ArrayType=Uint8Array,n[Symbol.toStringTag]="Bool"))(DI.prototype);var OI=class extends _u{constructor(e,t,r=128){super();this.scale=e,this.precision=t,this.bitWidth=r}get typeId(){return ji.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};ti.Decimal=OI;qpe=Symbol.toStringTag;OI[qpe]=(n=>(n.scale=null,n.precision=null,n.ArrayType=Uint32Array,n[Symbol.toStringTag]="Decimal"))(OI.prototype);var u7=class extends _u{constructor(e){super();this.unit=e}get typeId(){return ji.Type.Date}toString(){return`Date${(this.unit+1)*32}<${ji.DateUnit[this.unit]}>`}};ti.Date_=u7;Upe=Symbol.toStringTag;u7[Upe]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Date"))(u7.prototype);var Xpe=class extends u7{constructor(){super(ji.DateUnit.DAY)}};ti.DateDay=Xpe;var Zpe=class extends u7{constructor(){super(ji.DateUnit.MILLISECOND)}};ti.DateMillisecond=Zpe;var A3=class extends _u{constructor(e,t){super();this.unit=e,this.bitWidth=t}get typeId(){return ji.Type.Time}toString(){return`Time${this.bitWidth}<${ji.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}};ti.Time=A3;zpe=Symbol.toStringTag;A3[zpe]=(n=>(n.unit=null,n.bitWidth=null,n[Symbol.toStringTag]="Time"))(A3.prototype);var e1e=class extends A3{constructor(){super(ji.TimeUnit.SECOND,32)}};ti.TimeSecond=e1e;var t1e=class extends A3{constructor(){super(ji.TimeUnit.MILLISECOND,32)}};ti.TimeMillisecond=t1e;var n1e=class extends A3{constructor(){super(ji.TimeUnit.MICROSECOND,64)}};ti.TimeMicrosecond=n1e;var r1e=class extends A3{constructor(){super(ji.TimeUnit.NANOSECOND,64)}};ti.TimeNanosecond=r1e;var T3=class extends _u{constructor(e,t){super();this.unit=e,this.timezone=t}get typeId(){return ji.Type.Timestamp}toString(){return`Timestamp<${ji.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};ti.Timestamp=T3;Hpe=Symbol.toStringTag;T3[Hpe]=(n=>(n.unit=null,n.timezone=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Timestamp"))(T3.prototype);var i1e=class extends T3{constructor(e){super(ji.TimeUnit.SECOND,e)}};ti.TimestampSecond=i1e;var s1e=class extends T3{constructor(e){super(ji.TimeUnit.MILLISECOND,e)}};ti.TimestampMillisecond=s1e;var o1e=class extends T3{constructor(e){super(ji.TimeUnit.MICROSECOND,e)}};ti.TimestampMicrosecond=o1e;var a1e=class extends T3{constructor(e){super(ji.TimeUnit.NANOSECOND,e)}};ti.TimestampNanosecond=a1e;var l7=class extends _u{constructor(e){super();this.unit=e}get typeId(){return ji.Type.Interval}toString(){return`Interval<${ji.IntervalUnit[this.unit]}>`}};ti.Interval=l7;$pe=Symbol.toStringTag;l7[$pe]=(n=>(n.unit=null,n.ArrayType=Int32Array,n[Symbol.toStringTag]="Interval"))(l7.prototype);var u1e=class extends l7{constructor(){super(ji.IntervalUnit.DAY_TIME)}};ti.IntervalDayTime=u1e;var l1e=class extends l7{constructor(){super(ji.IntervalUnit.YEAR_MONTH)}};ti.IntervalYearMonth=l1e;var RI=class extends _u{constructor(e){super();this.children=[e]}get typeId(){return ji.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};ti.List=RI;Vpe=Symbol.toStringTag;RI[Vpe]=(n=>(n.children=null,n[Symbol.toStringTag]="List"))(RI.prototype);var NI=class extends _u{constructor(e){super();this.children=e}get typeId(){return ji.Type.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};ti.Struct=NI;Wpe=Symbol.toStringTag;NI[Wpe]=(n=>(n.children=null,n[Symbol.toStringTag]="Struct"))(NI.prototype);var c7=class extends _u{constructor(e,t,r){super();this.mode=e,this.children=r,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return ji.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}};ti.Union=c7;Qpe=Symbol.toStringTag;c7[Qpe]=(n=>(n.mode=null,n.typeIds=null,n.children=null,n.typeIdToChildIndex=null,n.ArrayType=Int8Array,n[Symbol.toStringTag]="Union"))(c7.prototype);var c1e=class extends c7{constructor(e,t){super(ji.UnionMode.Dense,e,t)}};ti.DenseUnion=c1e;var f1e=class extends c7{constructor(e,t){super(ji.UnionMode.Sparse,e,t)}};ti.SparseUnion=f1e;var LI=class extends _u{constructor(e){super();this.byteWidth=e}get typeId(){return ji.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};ti.FixedSizeBinary=LI;Gpe=Symbol.toStringTag;LI[Gpe]=(n=>(n.byteWidth=null,n.ArrayType=Uint8Array,n[Symbol.toStringTag]="FixedSizeBinary"))(LI.prototype);var kI=class extends _u{constructor(e,t){super();this.listSize=e,this.children=[t]}get typeId(){return ji.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};ti.FixedSizeList=kI;Ype=Symbol.toStringTag;kI[Ype]=(n=>(n.children=null,n.listSize=null,n[Symbol.toStringTag]="FixedSizeList"))(kI.prototype);var II=class extends _u{constructor(e,t=!1){super();this.children=[e],this.keysSorted=t}get typeId(){return ji.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};ti.Map_=II;Kpe=Symbol.toStringTag;II[Kpe]=(n=>(n.children=null,n.keysSorted=null,n[Symbol.toStringTag]="Map_"))(II.prototype);var EUe=(n=>()=>++n)(-1),MI=class extends _u{constructor(e,t,r,i){super();this.indices=t,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?EUe():typeof r=="number"?r:r.low}get typeId(){return ji.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};ti.Dictionary=MI;Jpe=Symbol.toStringTag;MI[Jpe]=(n=>(n.id=null,n.indices=null,n.isOrdered=null,n.dictionary=null,n[Symbol.toStringTag]="Dictionary"))(MI.prototype);function SUe(n){let e=n;switch(n.typeId){case ji.Type.Decimal:return n.bitWidth/32;case ji.Type.Timestamp:return 2;case ji.Type.Date:return 1+e.unit;case ji.Type.Interval:return 1+e.unit;case ji.Type.FixedSizeList:return e.listSize;case ji.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}ti.strideForType=SUe});var cd=Ae(PI=>{"use strict";m();Object.defineProperty(PI,"__esModule",{value:!0});PI.Visitor=void 0;var _r=Tl(),d1e=ru(),Wa=class{visitMany(e,...t){return e.map((r,i)=>this.visit(r,...t.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return wUe(this,e,t)}getVisitFnByTypeId(e,t=!0){return f7(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};PI.Visitor=Wa;function wUe(n,e,t=!0){return typeof e=="number"?f7(n,e,t):typeof e=="string"&&e in _r.Type?f7(n,_r.Type[e],t):e&&e instanceof d1e.DataType?f7(n,h1e(e),t):(e==null?void 0:e.type)&&e.type instanceof d1e.DataType?f7(n,h1e(e.type),t):f7(n,_r.Type.NONE,t)}function f7(n,e,t=!0){let r=null;switch(e){case _r.Type.Null:r=n.visitNull;break;case _r.Type.Bool:r=n.visitBool;break;case _r.Type.Int:r=n.visitInt;break;case _r.Type.Int8:r=n.visitInt8||n.visitInt;break;case _r.Type.Int16:r=n.visitInt16||n.visitInt;break;case _r.Type.Int32:r=n.visitInt32||n.visitInt;break;case _r.Type.Int64:r=n.visitInt64||n.visitInt;break;case _r.Type.Uint8:r=n.visitUint8||n.visitInt;break;case _r.Type.Uint16:r=n.visitUint16||n.visitInt;break;case _r.Type.Uint32:r=n.visitUint32||n.visitInt;break;case _r.Type.Uint64:r=n.visitUint64||n.visitInt;break;case _r.Type.Float:r=n.visitFloat;break;case _r.Type.Float16:r=n.visitFloat16||n.visitFloat;break;case _r.Type.Float32:r=n.visitFloat32||n.visitFloat;break;case _r.Type.Float64:r=n.visitFloat64||n.visitFloat;break;case _r.Type.Utf8:r=n.visitUtf8;break;case _r.Type.Binary:r=n.visitBinary;break;case _r.Type.FixedSizeBinary:r=n.visitFixedSizeBinary;break;case _r.Type.Date:r=n.visitDate;break;case _r.Type.DateDay:r=n.visitDateDay||n.visitDate;break;case _r.Type.DateMillisecond:r=n.visitDateMillisecond||n.visitDate;break;case _r.Type.Timestamp:r=n.visitTimestamp;break;case _r.Type.TimestampSecond:r=n.visitTimestampSecond||n.visitTimestamp;break;case _r.Type.TimestampMillisecond:r=n.visitTimestampMillisecond||n.visitTimestamp;break;case _r.Type.TimestampMicrosecond:r=n.visitTimestampMicrosecond||n.visitTimestamp;break;case _r.Type.TimestampNanosecond:r=n.visitTimestampNanosecond||n.visitTimestamp;break;case _r.Type.Time:r=n.visitTime;break;case _r.Type.TimeSecond:r=n.visitTimeSecond||n.visitTime;break;case _r.Type.TimeMillisecond:r=n.visitTimeMillisecond||n.visitTime;break;case _r.Type.TimeMicrosecond:r=n.visitTimeMicrosecond||n.visitTime;break;case _r.Type.TimeNanosecond:r=n.visitTimeNanosecond||n.visitTime;break;case _r.Type.Decimal:r=n.visitDecimal;break;case _r.Type.List:r=n.visitList;break;case _r.Type.Struct:r=n.visitStruct;break;case _r.Type.Union:r=n.visitUnion;break;case _r.Type.DenseUnion:r=n.visitDenseUnion||n.visitUnion;break;case _r.Type.SparseUnion:r=n.visitSparseUnion||n.visitUnion;break;case _r.Type.Dictionary:r=n.visitDictionary;break;case _r.Type.Interval:r=n.visitInterval;break;case _r.Type.IntervalDayTime:r=n.visitIntervalDayTime||n.visitInterval;break;case _r.Type.IntervalYearMonth:r=n.visitIntervalYearMonth||n.visitInterval;break;case _r.Type.FixedSizeList:r=n.visitFixedSizeList;break;case _r.Type.Map:r=n.visitMap;break}if(typeof r=="function")return r;if(!t)return()=>null;throw new Error(`Unrecognized type '${_r.Type[e]}'`)}function h1e(n){switch(n.typeId){case _r.Type.Null:return _r.Type.Null;case _r.Type.Int:{let{bitWidth:e,isSigned:t}=n;switch(e){case 8:return t?_r.Type.Int8:_r.Type.Uint8;case 16:return t?_r.Type.Int16:_r.Type.Uint16;case 32:return t?_r.Type.Int32:_r.Type.Uint32;case 64:return t?_r.Type.Int64:_r.Type.Uint64}return _r.Type.Int}case _r.Type.Float:switch(n.precision){case _r.Precision.HALF:return _r.Type.Float16;case _r.Precision.SINGLE:return _r.Type.Float32;case _r.Precision.DOUBLE:return _r.Type.Float64}return _r.Type.Float;case _r.Type.Binary:return _r.Type.Binary;case _r.Type.Utf8:return _r.Type.Utf8;case _r.Type.Bool:return _r.Type.Bool;case _r.Type.Decimal:return _r.Type.Decimal;case _r.Type.Time:switch(n.unit){case _r.TimeUnit.SECOND:return _r.Type.TimeSecond;case _r.TimeUnit.MILLISECOND:return _r.Type.TimeMillisecond;case _r.TimeUnit.MICROSECOND:return _r.Type.TimeMicrosecond;case _r.TimeUnit.NANOSECOND:return _r.Type.TimeNanosecond}return _r.Type.Time;case _r.Type.Timestamp:switch(n.unit){case _r.TimeUnit.SECOND:return _r.Type.TimestampSecond;case _r.TimeUnit.MILLISECOND:return _r.Type.TimestampMillisecond;case _r.TimeUnit.MICROSECOND:return _r.Type.TimestampMicrosecond;case _r.TimeUnit.NANOSECOND:return _r.Type.TimestampNanosecond}return _r.Type.Timestamp;case _r.Type.Date:switch(n.unit){case _r.DateUnit.DAY:return _r.Type.DateDay;case _r.DateUnit.MILLISECOND:return _r.Type.DateMillisecond}return _r.Type.Date;case _r.Type.Interval:switch(n.unit){case _r.IntervalUnit.DAY_TIME:return _r.Type.IntervalDayTime;case _r.IntervalUnit.YEAR_MONTH:return _r.Type.IntervalYearMonth}return _r.Type.Interval;case _r.Type.Map:return _r.Type.Map;case _r.Type.List:return _r.Type.List;case _r.Type.Struct:return _r.Type.Struct;case _r.Type.Union:switch(n.mode){case _r.UnionMode.Dense:return _r.Type.DenseUnion;case _r.UnionMode.Sparse:return _r.Type.SparseUnion}return _r.Type.Union;case _r.Type.FixedSizeBinary:return _r.Type.FixedSizeBinary;case _r.Type.FixedSizeList:return _r.Type.FixedSizeList;case _r.Type.Dictionary:return _r.Type.Dictionary}throw new Error(`Unrecognized type '${_r.Type[n.typeId]}'`)}Wa.prototype.visitInt8=null;Wa.prototype.visitInt16=null;Wa.prototype.visitInt32=null;Wa.prototype.visitInt64=null;Wa.prototype.visitUint8=null;Wa.prototype.visitUint16=null;Wa.prototype.visitUint32=null;Wa.prototype.visitUint64=null;Wa.prototype.visitFloat16=null;Wa.prototype.visitFloat32=null;Wa.prototype.visitFloat64=null;Wa.prototype.visitDateDay=null;Wa.prototype.visitDateMillisecond=null;Wa.prototype.visitTimestampSecond=null;Wa.prototype.visitTimestampMillisecond=null;Wa.prototype.visitTimestampMicrosecond=null;Wa.prototype.visitTimestampNanosecond=null;Wa.prototype.visitTimeSecond=null;Wa.prototype.visitTimeMillisecond=null;Wa.prototype.visitTimeMicrosecond=null;Wa.prototype.visitTimeNanosecond=null;Wa.prototype.visitDenseUnion=null;Wa.prototype.visitSparseUnion=null;Wa.prototype.visitIntervalDayTime=null;Wa.prototype.visitIntervalYearMonth=null});var BA=Ae(h7=>{"use strict";m();Object.defineProperty(h7,"__esModule",{value:!0});h7.float64ToUint16=h7.uint16ToFloat64=void 0;var p1e=new Float64Array(1),d7=new Uint32Array(p1e.buffer);function CUe(n){let e=(n&31744)>>10,t=(n&1023)/1024,r=Math.pow(-1,(n&32768)>>15);switch(e){case 31:return r*(t?Number.NaN:1/0);case 0:return r*(t?6103515625e-14*t:0)}return r*Math.pow(2,e-15)*(1+t)}h7.uint16ToFloat64=CUe;function AUe(n){if(n!==n)return 32256;p1e[0]=n;let e=(d7[1]&2147483648)>>16&65535,t=d7[1]&2146435072,r=0;return t>=1089470464?d7[0]>0?t=31744:(t=(t&2080374784)>>16,r=(d7[1]&1048575)>>10):t<=1056964608?(r=1048576+(d7[1]&1048575),r=1048576+(r<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,r=(d7[1]&1048575)+512>>10),e|t|r&65535}h7.float64ToUint16=AUe});var Fp=Ae(Cr=>{"use strict";m();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.instance=Cr.setIntervalYearMonth=Cr.setIntervalDayTime=Cr.setIntervalValue=Cr.setDecimal=Cr.setTime=Cr.setTimeNanosecond=Cr.setTimeMicrosecond=Cr.setTimeMillisecond=Cr.setTimeSecond=Cr.setTimestamp=Cr.setTimestampNanosecond=Cr.setTimestampMicrosecond=Cr.setTimestampMillisecond=Cr.setTimestampSecond=Cr.setDate=Cr.setFixedSizeBinary=Cr.setDateMillisecond=Cr.setDateDay=Cr.setAnyFloat=Cr.setFloat16=Cr.setFloat=Cr.setInt=Cr.setVariableWidthBytes=Cr.setEpochMsToNanosecondsLong=Cr.setEpochMsToMicrosecondsLong=Cr.setEpochMsToMillisecondsLong=Cr.setEpochMsToDays=Cr.SetVisitor=void 0;var TUe=fd(),FUe=cd(),DUe=o_(),OUe=BA(),Xd=Tl(),Ys=class extends FUe.Visitor{};Cr.SetVisitor=Ys;function go(n){return(e,t,r)=>{if(e.setValid(t,r!=null))return n(e,t,r)}}var RUe=(n,e,t)=>{n[e]=Math.trunc(t/864e5)};Cr.setEpochMsToDays=RUe;var NUe=(n,e,t)=>{n[e]=Math.trunc(t%4294967296),n[e+1]=Math.trunc(t/4294967296)};Cr.setEpochMsToMillisecondsLong=NUe;var LUe=(n,e,t)=>{n[e]=Math.trunc(t*1e3%4294967296),n[e+1]=Math.trunc(t*1e3/4294967296)};Cr.setEpochMsToMicrosecondsLong=LUe;var kUe=(n,e,t)=>{n[e]=Math.trunc(t*1e6%4294967296),n[e+1]=Math.trunc(t*1e6/4294967296)};Cr.setEpochMsToNanosecondsLong=kUe;var IUe=(n,e,t,r)=>{if(t+1<e.length){let{[t]:i,[t+1]:s}=e;n.set(r.subarray(0,s-i),i)}};Cr.setVariableWidthBytes=IUe;var MUe=({offset:n,values:e},t,r)=>{let i=n+t;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},PUe=({values:n},e,t)=>{n[e]=t};Cr.setInt=PUe;var BUe=({values:n},e,t)=>{n[e]=t};Cr.setFloat=BUe;var jUe=({values:n},e,t)=>{n[e]=(0,OUe.float64ToUint16)(t)};Cr.setFloat16=jUe;var qUe=(n,e,t)=>{switch(n.type.precision){case Xd.Precision.HALF:return(0,Cr.setFloat16)(n,e,t);case Xd.Precision.SINGLE:case Xd.Precision.DOUBLE:return(0,Cr.setFloat)(n,e,t)}};Cr.setAnyFloat=qUe;var UUe=({values:n},e,t)=>{(0,Cr.setEpochMsToDays)(n,e,t.valueOf())};Cr.setDateDay=UUe;var zUe=({values:n},e,t)=>{(0,Cr.setEpochMsToMillisecondsLong)(n,e*2,t.valueOf())};Cr.setDateMillisecond=zUe;var HUe=({stride:n,values:e},t,r)=>{e.set(r.subarray(0,n),n*t)};Cr.setFixedSizeBinary=HUe;var $Ue=({values:n,valueOffsets:e},t,r)=>(0,Cr.setVariableWidthBytes)(n,e,t,r),VUe=({values:n,valueOffsets:e},t,r)=>{(0,Cr.setVariableWidthBytes)(n,e,t,(0,DUe.encodeUtf8)(r))},WUe=(n,e,t)=>{n.type.unit===Xd.DateUnit.DAY?(0,Cr.setDateDay)(n,e,t):(0,Cr.setDateMillisecond)(n,e,t)};Cr.setDate=WUe;var QUe=({values:n},e,t)=>(0,Cr.setEpochMsToMillisecondsLong)(n,e*2,t/1e3);Cr.setTimestampSecond=QUe;var GUe=({values:n},e,t)=>(0,Cr.setEpochMsToMillisecondsLong)(n,e*2,t);Cr.setTimestampMillisecond=GUe;var YUe=({values:n},e,t)=>(0,Cr.setEpochMsToMicrosecondsLong)(n,e*2,t);Cr.setTimestampMicrosecond=YUe;var KUe=({values:n},e,t)=>(0,Cr.setEpochMsToNanosecondsLong)(n,e*2,t);Cr.setTimestampNanosecond=KUe;var JUe=(n,e,t)=>{switch(n.type.unit){case Xd.TimeUnit.SECOND:return(0,Cr.setTimestampSecond)(n,e,t);case Xd.TimeUnit.MILLISECOND:return(0,Cr.setTimestampMillisecond)(n,e,t);case Xd.TimeUnit.MICROSECOND:return(0,Cr.setTimestampMicrosecond)(n,e,t);case Xd.TimeUnit.NANOSECOND:return(0,Cr.setTimestampNanosecond)(n,e,t)}};Cr.setTimestamp=JUe;var XUe=({values:n},e,t)=>{n[e]=t};Cr.setTimeSecond=XUe;var ZUe=({values:n},e,t)=>{n[e]=t};Cr.setTimeMillisecond=ZUe;var eze=({values:n},e,t)=>{n[e]=t};Cr.setTimeMicrosecond=eze;var tze=({values:n},e,t)=>{n[e]=t};Cr.setTimeNanosecond=tze;var nze=(n,e,t)=>{switch(n.type.unit){case Xd.TimeUnit.SECOND:return(0,Cr.setTimeSecond)(n,e,t);case Xd.TimeUnit.MILLISECOND:return(0,Cr.setTimeMillisecond)(n,e,t);case Xd.TimeUnit.MICROSECOND:return(0,Cr.setTimeMicrosecond)(n,e,t);case Xd.TimeUnit.NANOSECOND:return(0,Cr.setTimeNanosecond)(n,e,t)}};Cr.setTime=nze;var rze=({values:n,stride:e},t,r)=>{n.set(r.subarray(0,e),e*t)};Cr.setDecimal=rze;var ize=(n,e,t)=>{let r=n.children[0],i=n.valueOffsets,s=Cr.instance.getVisitFn(r);if(Array.isArray(t))for(let o=-1,a=i[e],c=i[e+1];a<c;)s(r,a++,t[++o]);else for(let o=-1,a=i[e],c=i[e+1];a<c;)s(r,a++,t.get(++o))},sze=(n,e,t)=>{let r=n.children[0],{valueOffsets:i}=n,s=Cr.instance.getVisitFn(r),{[e]:o,[e+1]:a}=i,c=t instanceof Map?t.entries():Object.entries(t);for(let d of c)if(s(r,o,d),++o>=a)break},oze=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[s]),aze=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(s)),uze=(n,e)=>(t,r,i,s)=>r&&t(r,n,e.get(i.name)),lze=(n,e)=>(t,r,i,s)=>r&&t(r,n,e[i.name]),cze=(n,e,t)=>{let r=n.type.children.map(s=>Cr.instance.getVisitFn(s.type)),i=t instanceof Map?uze(e,t):t instanceof TUe.Vector?aze(e,t):Array.isArray(t)?oze(e,t):lze(e,t);n.type.children.forEach((s,o)=>i(r[o],n.children[o],s,o))},fze=(n,e,t)=>{n.type.mode===Xd.UnionMode.Dense?m1e(n,e,t):x1e(n,e,t)},m1e=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];Cr.instance.visit(i,n.valueOffsets[e],t)},x1e=(n,e,t)=>{let r=n.type.typeIdToChildIndex[n.typeIds[e]],i=n.children[r];Cr.instance.visit(i,e,t)},dze=(n,e,t)=>{var r;(r=n.dictionary)===null||r===void 0||r.set(n.values[e],t)},hze=(n,e,t)=>{n.type.unit===Xd.IntervalUnit.DAY_TIME?(0,Cr.setIntervalDayTime)(n,e,t):(0,Cr.setIntervalYearMonth)(n,e,t)};Cr.setIntervalValue=hze;var pze=({values:n},e,t)=>{n.set(t.subarray(0,2),2*e)};Cr.setIntervalDayTime=pze;var mze=({values:n},e,t)=>{n[e]=t[0]*12+t[1]%12};Cr.setIntervalYearMonth=mze;var xze=(n,e,t)=>{let{stride:r}=n,i=n.children[0],s=Cr.instance.getVisitFn(i);if(Array.isArray(t))for(let o=-1,a=e*r;++o<r;)s(i,a+o,t[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,t.get(o))};Ys.prototype.visitBool=go(MUe);Ys.prototype.visitInt=go(Cr.setInt);Ys.prototype.visitInt8=go(Cr.setInt);Ys.prototype.visitInt16=go(Cr.setInt);Ys.prototype.visitInt32=go(Cr.setInt);Ys.prototype.visitInt64=go(Cr.setInt);Ys.prototype.visitUint8=go(Cr.setInt);Ys.prototype.visitUint16=go(Cr.setInt);Ys.prototype.visitUint32=go(Cr.setInt);Ys.prototype.visitUint64=go(Cr.setInt);Ys.prototype.visitFloat=go(Cr.setAnyFloat);Ys.prototype.visitFloat16=go(Cr.setFloat16);Ys.prototype.visitFloat32=go(Cr.setFloat);Ys.prototype.visitFloat64=go(Cr.setFloat);Ys.prototype.visitUtf8=go(VUe);Ys.prototype.visitBinary=go($Ue);Ys.prototype.visitFixedSizeBinary=go(Cr.setFixedSizeBinary);Ys.prototype.visitDate=go(Cr.setDate);Ys.prototype.visitDateDay=go(Cr.setDateDay);Ys.prototype.visitDateMillisecond=go(Cr.setDateMillisecond);Ys.prototype.visitTimestamp=go(Cr.setTimestamp);Ys.prototype.visitTimestampSecond=go(Cr.setTimestampSecond);Ys.prototype.visitTimestampMillisecond=go(Cr.setTimestampMillisecond);Ys.prototype.visitTimestampMicrosecond=go(Cr.setTimestampMicrosecond);Ys.prototype.visitTimestampNanosecond=go(Cr.setTimestampNanosecond);Ys.prototype.visitTime=go(Cr.setTime);Ys.prototype.visitTimeSecond=go(Cr.setTimeSecond);Ys.prototype.visitTimeMillisecond=go(Cr.setTimeMillisecond);Ys.prototype.visitTimeMicrosecond=go(Cr.setTimeMicrosecond);Ys.prototype.visitTimeNanosecond=go(Cr.setTimeNanosecond);Ys.prototype.visitDecimal=go(Cr.setDecimal);Ys.prototype.visitList=go(ize);Ys.prototype.visitStruct=go(cze);Ys.prototype.visitUnion=go(fze);Ys.prototype.visitDenseUnion=go(m1e);Ys.prototype.visitSparseUnion=go(x1e);Ys.prototype.visitDictionary=go(dze);Ys.prototype.visitInterval=go(Cr.setIntervalValue);Ys.prototype.visitIntervalDayTime=go(Cr.setIntervalDayTime);Ys.prototype.visitIntervalYearMonth=go(Cr.setIntervalYearMonth);Ys.prototype.visitFixedSizeList=go(xze);Ys.prototype.visitMap=go(sze);Cr.instance=new Ys});var jI=Ae(BI=>{"use strict";m();Object.defineProperty(BI,"__esModule",{value:!0});BI.StructRow=void 0;var g1e=SI(),GK=u_(),gze=Fp(),X1=Symbol.for("parent"),p7=Symbol.for("rowIndex"),YK=class{constructor(e,t){return this[X1]=e,this[p7]=t,new Proxy(this,new v1e)}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[p7],t=this[X1],r=t.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=GK.instance.visit(t.children[s],e);return i}toString(){return`{${[...this].map(([e,t])=>`${(0,g1e.valueToString)(e)}: ${(0,g1e.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new y1e(this[X1],this[p7])}};BI.StructRow=YK;var y1e=class{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,GK.instance.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}};Object.defineProperties(YK.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[X1]:{writable:!0,enumerable:!1,configurable:!1,value:null},[p7]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});var v1e=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[X1].type.children.map(t=>t.name)}has(e,t){return e[X1].type.children.findIndex(r=>r.name===t)!==-1}getOwnPropertyDescriptor(e,t){if(e[X1].type.children.findIndex(r=>r.name===t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[X1].type.children.findIndex(i=>i.name===t);if(r!==-1){let i=GK.instance.visit(e[X1].children[r],e[p7]);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[X1].type.children.findIndex(s=>s.name===t);return i!==-1?(gze.instance.visit(e[X1].children[i],e[p7],r),Reflect.set(e,t,r)):Reflect.has(e,t)||typeof t=="symbol"?Reflect.set(e,t,r):!1}}});var u_=Ae(D3=>{"use strict";m();Object.defineProperty(D3,"__esModule",{value:!0});D3.instance=D3.GetVisitor=void 0;var yze=CI(),_1e=fd(),vze=cd(),_ze=jA(),bze=jI(),Eze=o_(),b1e=BA(),Dp=Tl(),Us=class extends vze.Visitor{};D3.GetVisitor=Us;function uo(n){return(e,t)=>e.getValid(t)?n(e,t):null}var Sze=(n,e)=>864e5*n[e],KK=(n,e)=>4294967296*n[e+1]+(n[e]>>>0),wze=(n,e)=>4294967296*(n[e+1]/1e3)+(n[e]>>>0)/1e3,Cze=(n,e)=>4294967296*(n[e+1]/1e6)+(n[e]>>>0)/1e6,E1e=n=>new Date(n),Aze=(n,e)=>E1e(Sze(n,e)),Tze=(n,e)=>E1e(KK(n,e)),Fze=(n,e)=>null,S1e=(n,e,t)=>{if(t+1>=e.length)return null;let r=e[t],i=e[t+1];return n.subarray(r,i)},Dze=({offset:n,values:e},t)=>{let r=n+t;return(e[r>>3]&1<<r%8)!==0},w1e=({values:n},e)=>Aze(n,e),C1e=({values:n},e)=>Tze(n,e*2),F3=({stride:n,values:e},t)=>e[n*t],Oze=({stride:n,values:e},t)=>(0,b1e.uint16ToFloat64)(e[n*t]),A1e=({values:n},e)=>n[e],Rze=({stride:n,values:e},t)=>e.subarray(n*t,n*(t+1)),Nze=({values:n,valueOffsets:e},t)=>S1e(n,e,t),Lze=({values:n,valueOffsets:e},t)=>{let r=S1e(n,e,t);return r!==null?(0,Eze.decodeUtf8)(r):null},kze=({values:n},e)=>n[e],Ize=({type:n,values:e},t)=>n.precision!==Dp.Precision.HALF?e[t]:(0,b1e.uint16ToFloat64)(e[t]),Mze=(n,e)=>n.type.unit===Dp.DateUnit.DAY?w1e(n,e):C1e(n,e),T1e=({values:n},e)=>1e3*KK(n,e*2),F1e=({values:n},e)=>KK(n,e*2),D1e=({values:n},e)=>wze(n,e*2),O1e=({values:n},e)=>Cze(n,e*2),Pze=(n,e)=>{switch(n.type.unit){case Dp.TimeUnit.SECOND:return T1e(n,e);case Dp.TimeUnit.MILLISECOND:return F1e(n,e);case Dp.TimeUnit.MICROSECOND:return D1e(n,e);case Dp.TimeUnit.NANOSECOND:return O1e(n,e)}},R1e=({values:n},e)=>n[e],N1e=({values:n},e)=>n[e],L1e=({values:n},e)=>n[e],k1e=({values:n},e)=>n[e],Bze=(n,e)=>{switch(n.type.unit){case Dp.TimeUnit.SECOND:return R1e(n,e);case Dp.TimeUnit.MILLISECOND:return N1e(n,e);case Dp.TimeUnit.MICROSECOND:return L1e(n,e);case Dp.TimeUnit.NANOSECOND:return k1e(n,e)}},jze=({values:n,stride:e},t)=>yze.BN.decimal(n.subarray(e*t,e*(t+1))),qze=(n,e)=>{let{valueOffsets:t,stride:r,children:i}=n,{[e*r]:s,[e*r+1]:o}=t,c=i[0].slice(s,o-s);return new _1e.Vector([c])},Uze=(n,e)=>{let{valueOffsets:t,children:r}=n,{[e]:i,[e+1]:s}=t,o=r[0];return new _ze.MapRow(o.slice(i,s-i))},zze=(n,e)=>new bze.StructRow(n,e),Hze=(n,e)=>n.type.mode===Dp.UnionMode.Dense?I1e(n,e):M1e(n,e),I1e=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return D3.instance.visit(r,n.valueOffsets[e])},M1e=(n,e)=>{let t=n.type.typeIdToChildIndex[n.typeIds[e]],r=n.children[t];return D3.instance.visit(r,e)},$ze=(n,e)=>{var t;return(t=n.dictionary)===null||t===void 0?void 0:t.get(n.values[e])},Vze=(n,e)=>n.type.unit===Dp.IntervalUnit.DAY_TIME?P1e(n,e):B1e(n,e),P1e=({values:n},e)=>n.subarray(2*e,2*(e+1)),B1e=({values:n},e)=>{let t=n[e],r=new Int32Array(2);return r[0]=Math.trunc(t/12),r[1]=Math.trunc(t%12),r},Wze=(n,e)=>{let{stride:t,children:r}=n,s=r[0].slice(e*t,t);return new _1e.Vector([s])};Us.prototype.visitNull=uo(Fze);Us.prototype.visitBool=uo(Dze);Us.prototype.visitInt=uo(kze);Us.prototype.visitInt8=uo(F3);Us.prototype.visitInt16=uo(F3);Us.prototype.visitInt32=uo(F3);Us.prototype.visitInt64=uo(A1e);Us.prototype.visitUint8=uo(F3);Us.prototype.visitUint16=uo(F3);Us.prototype.visitUint32=uo(F3);Us.prototype.visitUint64=uo(A1e);Us.prototype.visitFloat=uo(Ize);Us.prototype.visitFloat16=uo(Oze);Us.prototype.visitFloat32=uo(F3);Us.prototype.visitFloat64=uo(F3);Us.prototype.visitUtf8=uo(Lze);Us.prototype.visitBinary=uo(Nze);Us.prototype.visitFixedSizeBinary=uo(Rze);Us.prototype.visitDate=uo(Mze);Us.prototype.visitDateDay=uo(w1e);Us.prototype.visitDateMillisecond=uo(C1e);Us.prototype.visitTimestamp=uo(Pze);Us.prototype.visitTimestampSecond=uo(T1e);Us.prototype.visitTimestampMillisecond=uo(F1e);Us.prototype.visitTimestampMicrosecond=uo(D1e);Us.prototype.visitTimestampNanosecond=uo(O1e);Us.prototype.visitTime=uo(Bze);Us.prototype.visitTimeSecond=uo(R1e);Us.prototype.visitTimeMillisecond=uo(N1e);Us.prototype.visitTimeMicrosecond=uo(L1e);Us.prototype.visitTimeNanosecond=uo(k1e);Us.prototype.visitDecimal=uo(jze);Us.prototype.visitList=uo(qze);Us.prototype.visitStruct=uo(zze);Us.prototype.visitUnion=uo(Hze);Us.prototype.visitDenseUnion=uo(I1e);Us.prototype.visitSparseUnion=uo(M1e);Us.prototype.visitDictionary=uo($ze);Us.prototype.visitInterval=uo(Vze);Us.prototype.visitIntervalDayTime=uo(P1e);Us.prototype.visitIntervalYearMonth=uo(B1e);Us.prototype.visitFixedSizeList=uo(Wze);Us.prototype.visitMap=uo(Uze);D3.instance=new Us});var jA=Ae(Hu=>{"use strict";m();Object.defineProperty(Hu,"__esModule",{value:!0});Hu.MapRow=Hu.kVals=Hu.kKeys=void 0;var Qze=fd(),j1e=SI(),JK=u_(),Gze=Fp();Hu.kKeys=Symbol.for("keys");Hu.kVals=Symbol.for("vals");var XK=class{constructor(e){return this[Hu.kKeys]=new Qze.Vector([e.children[0]]).memoize(),this[Hu.kVals]=e.children[1],new Proxy(this,new U1e)}[Symbol.iterator](){return new q1e(this[Hu.kKeys],this[Hu.kVals])}get size(){return this[Hu.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[Hu.kKeys],t=this[Hu.kVals],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=JK.instance.visit(t,i);return r}toString(){return`{${[...this].map(([e,t])=>`${(0,j1e.valueToString)(e)}: ${(0,j1e.valueToString)(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}};Hu.MapRow=XK;var q1e=class{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){let e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),JK.instance.visit(this.vals,e)]})}},U1e=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Hu.kKeys].toArray().map(String)}has(e,t){return e[Hu.kKeys].includes(t)}getOwnPropertyDescriptor(e,t){if(e[Hu.kKeys].indexOf(t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let r=e[Hu.kKeys].indexOf(t);if(r!==-1){let i=JK.instance.visit(Reflect.get(e,Hu.kVals),r);return Reflect.set(e,t,i),i}}set(e,t,r){let i=e[Hu.kKeys].indexOf(t);return i!==-1?(Gze.instance.visit(Reflect.get(e,Hu.kVals),i,r),Reflect.set(e,t,r)):Reflect.has(e,t)?Reflect.set(e,t,r):!1}};Object.defineProperties(XK.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Hu.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Hu.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null}})});var UA=Ae(O3=>{"use strict";m();Object.defineProperty(O3,"__esModule",{value:!0});O3.createElementComparator=O3.clampRange=O3.clampIndex=void 0;var z1e=fd(),Yze=jA(),Kze=jI(),Jze=Bf();function Xze(n,e,t){let r=n.length,i=e>-1?e:r+e%r;return t?t(n,i):i}O3.clampIndex=Xze;var H1e;function Zze(n,e,t,r){let{length:i=0}=n,s=typeof e!="number"?0:e,o=typeof t!="number"?i:t;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(H1e=s,s=o,o=H1e),o>i&&(o=i),r?r(n,s,o):[s,o]}O3.clampRange=Zze;var $1e=n=>n!==n;function qA(n){if(typeof n!=="object"||n===null)return $1e(n)?$1e:t=>t===n;if(n instanceof Date){let t=n.valueOf();return r=>r instanceof Date?r.valueOf()===t:!1}return ArrayBuffer.isView(n)?t=>t?(0,Jze.compareArrayLike)(n,t):!1:n instanceof Map?tHe(n):Array.isArray(n)?eHe(n):n instanceof z1e.Vector?nHe(n):rHe(n,!0)}O3.createElementComparator=qA;function eHe(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=qA(n[t]);return qI(e)}function tHe(n){let e=-1,t=[];for(let r of n.values())t[++e]=qA(r);return qI(t)}function nHe(n){let e=[];for(let t=-1,r=n.length;++t<r;)e[t]=qA(n.get(t));return qI(e)}function rHe(n,e=!1){let t=Object.keys(n);if(!e&&t.length===0)return()=>!1;let r=[];for(let i=-1,s=t.length;++i<s;)r[i]=qA(n[t[i]]);return qI(r,t)}function qI(n,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return iHe(n,t);case Map:return V1e(n,t,t.keys());case Yze.MapRow:case Kze.StructRow:case Object:case void 0:return V1e(n,t,e||Object.keys(t))}return t instanceof z1e.Vector?sHe(n,t):!1}}function iHe(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e[r]))return!1;return!0}function sHe(n,e){let t=n.length;if(e.length!==t)return!1;for(let r=-1;++r<t;)if(!n[r](e.get(r)))return!1;return!0}function V1e(n,e,t){let r=t[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),o=0,a=n.length,c=s.next(),d=r.next(),p=i.next();for(;o<a&&!d.done&&!p.done&&!c.done&&!(d.value!==p.value||!n[o](c.value));++o,d=r.next(),p=i.next(),c=s.next());return o===a&&d.done&&p.done&&c.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}});var l_=Ae(fc=>{"use strict";m();Object.defineProperty(fc,"__esModule",{value:!0});fc.popcnt_uint32=fc.popcnt_array=fc.popcnt_bit_range=fc.BitIterator=fc.packBools=fc.truncateBitmap=fc.setBool=fc.getBit=fc.getBool=void 0;function W1e(n,e,t,r){return(t&1<<r)!==0}fc.getBool=W1e;function Q1e(n,e,t,r){return(t&1<<r)>>r}fc.getBit=Q1e;function oHe(n,e,t){return t?!!(n[e>>3]|=1<<e%8)||!0:!(n[e>>3]&=~(1<<e%8))&&!1}fc.setBool=oHe;function aHe(n,e,t){let r=t.byteLength+7&~7;if(n>0||t.byteLength<r){let i=new Uint8Array(r);return i.set(n%8===0?t.subarray(n>>3):G1e(new UI(t,n,e,null,W1e)).subarray(0,r)),i}return t}fc.truncateBitmap=aHe;function G1e(n){let e=[],t=0,r=0,i=0;for(let o of n)o&&(i|=1<<r),++r===8&&(e[t++]=i,i=r=0);(t===0||r>0)&&(e[t++]=i);let s=new Uint8Array(e.length+7&~7);return s.set(e),s}fc.packBools=G1e;var UI=class{constructor(e,t,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};fc.BitIterator=UI;function ZK(n,e,t){if(t-e<=0)return 0;if(t-e<8){let s=0;for(let o of new UI(n,e,t-e,n,Q1e))s+=o;return s}let r=t>>3<<3,i=e+(e%8===0?0:8-e%8);return ZK(n,e,i)+ZK(n,r,t)+Y1e(n,i>>3,r-i>>3)}fc.popcnt_bit_range=ZK;function Y1e(n,e,t){let r=0,i=Math.trunc(e),s=new DataView(n.buffer,n.byteOffset,n.byteLength),o=t===void 0?n.byteLength:i+t;for(;o-i>=4;)r+=zI(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=zI(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=zI(s.getUint8(i)),i+=1;return r}fc.popcnt_array=Y1e;function zI(n){let e=Math.trunc(n);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}fc.popcnt_uint32=zI});var u2=Ae(ng=>{"use strict";m();Object.defineProperty(ng,"__esModule",{value:!0});ng.makeData=ng.Data=ng.kUnknownNullCount=void 0;var uHe=fd(),R3=Tl(),tg=ru(),K1e=l_();ng.kUnknownNullCount=-1;var bu=class{constructor(e,t,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let c;s instanceof bu?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=(0,tg.strideForType)(e),s&&((c=s[0])&&(this.valueOffsets=c),(c=s[1])&&(this.values=c),(c=s[2])&&(this.nullBitmap=c),(c=s[3])&&(this.typeIds=c))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:r,nullBitmap:i,typeIds:s}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=ng.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-(0,K1e.popcnt_bit_range)(t,this.offset,this.offset+this.length)),e}getValid(e){if(this.nullable&&this.nullCount>0){let t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}setValid(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){let{nullBitmap:c}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:c,_nullCount:0})}let{nullBitmap:r,offset:i}=this,s=i+e>>3,o=(i+e)%8,a=r[s]>>o&1;return t?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),t}clone(e=this.type,t=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new bu(e,t,r,i,s,o,this.dictionary)}slice(e,t){let{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,c=this._sliceBuffers(e,t,r,i);return this.clone(this.type,this.offset+e,t,o,c,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===R3.Type.Null)return this.clone(this.type,0,e,0);let{length:t,nullCount:r}=this,i=new Uint8Array((e+63&~63)>>3).fill(255,0,t>>3);i[t>>3]=(1<<t-(t&~7))-1,r>0&&i.set((0,K1e.truncateBitmap)(this.offset,t,this.nullBitmap),0);let s=this.buffers;return s[R3.BufferType.VALIDITY]=i,this.clone(this.type,0,e,r+(e-t),s)}_sliceBuffers(e,t,r,i){let s,{buffers:o}=this;return(s=o[R3.BufferType.TYPE])&&(o[R3.BufferType.TYPE]=s.subarray(e,e+t)),(s=o[R3.BufferType.OFFSET])&&(o[R3.BufferType.OFFSET]=s.subarray(e,e+t+1))||(s=o[R3.BufferType.DATA])&&(o[R3.BufferType.DATA]=i===6?s:s.subarray(r*e,r*(e+t))),o}_sliceChildren(e,t,r){return e.map(i=>i.slice(t,r))}};ng.Data=bu;bu.prototype.children=Object.freeze([]);var lHe=cd(),Go=Bf(),m7=class extends lHe.Visitor{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){let{["type"]:t,["offset"]:r=0,["length"]:i=0}=e;return new bu(t,r,i,0)}visitBool(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitInt(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitFloat(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitUtf8(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.data),s=(0,Go.toUint8Array)(e.nullBitmap),o=(0,Go.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=e.nullBitmap?-1:0}=e;return new bu(t,r,a,c,[o,i,s])}visitBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.data),s=(0,Go.toUint8Array)(e.nullBitmap),o=(0,Go.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=e.nullBitmap?-1:0}=e;return new bu(t,r,a,c,[o,i,s])}visitFixedSizeBinary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitDate(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitTimestamp(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitTime(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitDecimal(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitList(e){let{["type"]:t,["offset"]:r=0,["child"]:i}=e,s=(0,Go.toUint8Array)(e.nullBitmap),o=(0,Go.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=e.nullBitmap?-1:0}=e;return new bu(t,r,a,c,[o,void 0,s],[i])}visitStruct(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,Go.toUint8Array)(e.nullBitmap),{length:o=i.reduce((c,{length:d})=>Math.max(c,d),0),nullCount:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,void 0,s],i)}visitUnion(e){let{["type"]:t,["offset"]:r=0,["children"]:i=[]}=e,s=(0,Go.toUint8Array)(e.nullBitmap),o=(0,Go.toArrayBufferView)(t.ArrayType,e.typeIds),{["length"]:a=o.length,["nullCount"]:c=e.nullBitmap?-1:0}=e;if(tg.DataType.isSparseUnion(t))return new bu(t,r,a,c,[void 0,void 0,s,o],i);let d=(0,Go.toInt32Array)(e.valueOffsets);return new bu(t,r,a,c,[d,void 0,s,o],i)}visitDictionary(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.indices.ArrayType,e.data),{["dictionary"]:o=new uHe.Vector([new m7().visit({type:t.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:c=e.nullBitmap?-1:0}=e;return new bu(t,r,a,c,[void 0,s,i],[],o)}visitInterval(e){let{["type"]:t,["offset"]:r=0}=e,i=(0,Go.toUint8Array)(e.nullBitmap),s=(0,Go.toArrayBufferView)(t.ArrayType,e.data),{["length"]:o=s.length/(0,tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,s,i])}visitFixedSizeList(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new m7().visit({type:t.valueType})}=e,s=(0,Go.toUint8Array)(e.nullBitmap),{["length"]:o=i.length/(0,tg.strideForType)(t),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new bu(t,r,o,a,[void 0,void 0,s],[i])}visitMap(e){let{["type"]:t,["offset"]:r=0,["child"]:i=new m7().visit({type:t.childType})}=e,s=(0,Go.toUint8Array)(e.nullBitmap),o=(0,Go.toInt32Array)(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=e.nullBitmap?-1:0}=e;return new bu(t,r,a,c,[o,void 0,s],[i])}};function cHe(n){return new m7().visit(n)}ng.makeData=cHe});var $I=Ae(dc=>{"use strict";m();Object.defineProperty(dc,"__esModule",{value:!0});dc.wrapChunkedIndexOf=dc.wrapChunkedCall2=dc.wrapChunkedCall1=dc.isChunkedValid=dc.binarySearch=dc.sliceChunks=dc.computeChunkOffsets=dc.computeChunkNullCounts=dc.ChunkedIterator=void 0;var J1e=class{constructor(e=0,t){this.numChunks=e,this.getChunkIterator=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}};dc.ChunkedIterator=J1e;function fHe(n){return n.reduce((e,t)=>e+t.nullCount,0)}dc.computeChunkNullCounts=fHe;function dHe(n){return n.reduce((e,t,r)=>(e[r+1]=e[r]+t.length,e),new Uint32Array(n.length+1))}dc.computeChunkOffsets=dHe;function hHe(n,e,t,r){let i=[];for(let s=-1,o=n.length;++s<o;){let a=n[s],c=e[s],{length:d}=a;if(c>=r)break;if(t>=c+d)continue;if(c>=t&&c+d<=r){i.push(a);continue}let p=Math.max(0,t-c),E=Math.min(r-c,d);i.push(a.slice(p,E-p))}return i.length===0&&i.push(n[0].slice(0,0)),i}dc.sliceChunks=hHe;function HI(n,e,t,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return t<e[o]?r(n,i,t-e[i]):null;s=i+Math.trunc((o-i)*.5),t<e[s]?o=s:i=s}while(i<o)}dc.binarySearch=HI;function pHe(n,e){return n.getValid(e)}dc.isChunkedValid=pHe;function mHe(n){function e(t,r,i){return n(t[r],i)}return function(t){let r=this.data;return HI(r,this._offsets,t,e)}}dc.wrapChunkedCall1=mHe;function xHe(n){let e;function t(r,i,s){return n(r[i],s,e)}return function(r,i){let s=this.data;e=i;let o=HI(s,this._offsets,r,t);return e=void 0,o}}dc.wrapChunkedCall2=xHe;function gHe(n){let e;function t(r,i,s){let o=s,a=0,c=0;for(let d=i-1,p=r.length;++d<p;){let E=r[d];if(~(a=n(E,e,o)))return c+a;o=0,c+=E.length}return-1}return function(r,i){e=r;let s=this.data,o=typeof i!="number"?t(s,0,0):HI(s,this._offsets,i,t);return e=void 0,o}}dc.wrapChunkedIndexOf=gHe});var VI=Ae(x7=>{"use strict";m();Object.defineProperty(x7,"__esModule",{value:!0});x7.instance=x7.IndexOfVisitor=void 0;var yHe=cd(),X1e=u_(),Z1e=l_(),eme=UA(),zs=class extends yHe.Visitor{};x7.IndexOfVisitor=zs;function vHe(n,e){return e===null&&n.length>0?0:-1}function _He(n,e){let{nullBitmap:t}=n;if(!t||n.nullCount<=0)return-1;let r=0;for(let i of new Z1e.BitIterator(t,n.offset+(e||0),n.length,t,Z1e.getBool)){if(!i)return r;++r}return-1}function Fo(n,e,t){if(e===void 0)return-1;if(e===null)return _He(n,t);let r=X1e.instance.getVisitFn(n),i=(0,eme.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}function tme(n,e,t){let r=X1e.instance.getVisitFn(n),i=(0,eme.createElementComparator)(e);for(let s=(t||0)-1,o=n.length;++s<o;)if(i(r(n,s)))return s;return-1}zs.prototype.visitNull=vHe;zs.prototype.visitBool=Fo;zs.prototype.visitInt=Fo;zs.prototype.visitInt8=Fo;zs.prototype.visitInt16=Fo;zs.prototype.visitInt32=Fo;zs.prototype.visitInt64=Fo;zs.prototype.visitUint8=Fo;zs.prototype.visitUint16=Fo;zs.prototype.visitUint32=Fo;zs.prototype.visitUint64=Fo;zs.prototype.visitFloat=Fo;zs.prototype.visitFloat16=Fo;zs.prototype.visitFloat32=Fo;zs.prototype.visitFloat64=Fo;zs.prototype.visitUtf8=Fo;zs.prototype.visitBinary=Fo;zs.prototype.visitFixedSizeBinary=Fo;zs.prototype.visitDate=Fo;zs.prototype.visitDateDay=Fo;zs.prototype.visitDateMillisecond=Fo;zs.prototype.visitTimestamp=Fo;zs.prototype.visitTimestampSecond=Fo;zs.prototype.visitTimestampMillisecond=Fo;zs.prototype.visitTimestampMicrosecond=Fo;zs.prototype.visitTimestampNanosecond=Fo;zs.prototype.visitTime=Fo;zs.prototype.visitTimeSecond=Fo;zs.prototype.visitTimeMillisecond=Fo;zs.prototype.visitTimeMicrosecond=Fo;zs.prototype.visitTimeNanosecond=Fo;zs.prototype.visitDecimal=Fo;zs.prototype.visitList=Fo;zs.prototype.visitStruct=Fo;zs.prototype.visitUnion=Fo;zs.prototype.visitDenseUnion=tme;zs.prototype.visitSparseUnion=tme;zs.prototype.visitDictionary=Fo;zs.prototype.visitInterval=Fo;zs.prototype.visitIntervalDayTime=Fo;zs.prototype.visitIntervalYearMonth=Fo;zs.prototype.visitFixedSizeList=Fo;zs.prototype.visitMap=Fo;x7.instance=new zs});var WI=Ae(g7=>{"use strict";m();Object.defineProperty(g7,"__esModule",{value:!0});g7.instance=g7.IteratorVisitor=void 0;var bHe=cd(),nme=Tl(),eJ=ru(),rme=$I(),Hs=class extends bHe.Visitor{};g7.IteratorVisitor=Hs;function lo(n){let{type:e}=n;if(n.nullCount===0&&n.stride===1&&(e.typeId===nme.Type.Timestamp||e instanceof eJ.Int&&e.bitWidth!==64||e instanceof eJ.Time&&e.bitWidth!==64||e instanceof eJ.Float&&e.precision!==nme.Precision.HALF))return new rme.ChunkedIterator(n.data.length,r=>{let i=n.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let t=0;return new rme.ChunkedIterator(n.data.length,r=>{let s=n.data[r].length,o=n.slice(t,t+s);return t+=s,new ime(o)})}var ime=class{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};Hs.prototype.visitNull=lo;Hs.prototype.visitBool=lo;Hs.prototype.visitInt=lo;Hs.prototype.visitInt8=lo;Hs.prototype.visitInt16=lo;Hs.prototype.visitInt32=lo;Hs.prototype.visitInt64=lo;Hs.prototype.visitUint8=lo;Hs.prototype.visitUint16=lo;Hs.prototype.visitUint32=lo;Hs.prototype.visitUint64=lo;Hs.prototype.visitFloat=lo;Hs.prototype.visitFloat16=lo;Hs.prototype.visitFloat32=lo;Hs.prototype.visitFloat64=lo;Hs.prototype.visitUtf8=lo;Hs.prototype.visitBinary=lo;Hs.prototype.visitFixedSizeBinary=lo;Hs.prototype.visitDate=lo;Hs.prototype.visitDateDay=lo;Hs.prototype.visitDateMillisecond=lo;Hs.prototype.visitTimestamp=lo;Hs.prototype.visitTimestampSecond=lo;Hs.prototype.visitTimestampMillisecond=lo;Hs.prototype.visitTimestampMicrosecond=lo;Hs.prototype.visitTimestampNanosecond=lo;Hs.prototype.visitTime=lo;Hs.prototype.visitTimeSecond=lo;Hs.prototype.visitTimeMillisecond=lo;Hs.prototype.visitTimeMicrosecond=lo;Hs.prototype.visitTimeNanosecond=lo;Hs.prototype.visitDecimal=lo;Hs.prototype.visitList=lo;Hs.prototype.visitStruct=lo;Hs.prototype.visitUnion=lo;Hs.prototype.visitDenseUnion=lo;Hs.prototype.visitSparseUnion=lo;Hs.prototype.visitDictionary=lo;Hs.prototype.visitInterval=lo;Hs.prototype.visitIntervalDayTime=lo;Hs.prototype.visitIntervalYearMonth=lo;Hs.prototype.visitFixedSizeList=lo;Hs.prototype.visitMap=lo;g7.instance=new Hs});var QI=Ae(Op=>{"use strict";m();Object.defineProperty(Op,"__esModule",{value:!0});Op.instance=Op.GetByteLengthVisitor=void 0;var EHe=cd(),sme=Tl(),SHe=(n,e)=>n+e,l2=class extends EHe.Visitor{visitNull(e,t){return 0}visitInt(e,t){return e.type.bitWidth/8}visitFloat(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,t){return 1/8}visitDecimal(e,t){return e.type.bitWidth/8}visitDate(e,t){return(e.type.unit+1)*4}visitTime(e,t){return e.type.bitWidth/8}visitTimestamp(e,t){return e.type.unit===sme.TimeUnit.SECOND?4:8}visitInterval(e,t){return(e.type.unit+1)*4}visitStruct(e,t){return e.children.reduce((r,i)=>r+Op.instance.visit(i,t),0)}visitFixedSizeBinary(e,t){return e.type.byteWidth}visitMap(e,t){return 8+e.children.reduce((r,i)=>r+Op.instance.visit(i,t),0)}visitDictionary(e,t){var r;return e.type.indices.bitWidth/8+(((r=e.dictionary)===null||r===void 0?void 0:r.getByteLength(e.values[t]))||0)}};Op.GetByteLengthVisitor=l2;var wHe=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),CHe=({valueOffsets:n},e)=>8+(n[e+1]-n[e]),AHe=({valueOffsets:n,stride:e,children:t},r)=>{let i=t[0],{[r*e]:s}=n,{[r*e+1]:o}=n,a=Op.instance.getVisitFn(i.type),c=i.slice(s,o-s),d=8;for(let p=-1,E=o-s;++p<E;)d+=a(c,p);return d},THe=({stride:n,children:e},t)=>{let r=e[0],i=r.slice(t*n,n),s=Op.instance.getVisitFn(r.type),o=0;for(let a=-1,c=i.length;++a<c;)o+=s(i,a);return o},FHe=(n,e)=>n.type.mode===sme.UnionMode.Dense?ome(n,e):ame(n,e),ome=({type:n,children:e,typeIds:t,valueOffsets:r},i)=>{let s=n.typeIdToChildIndex[t[i]];return 8+Op.instance.visit(e[s],r[i])},ame=({children:n},e)=>4+Op.instance.visitMany(n,n.map(()=>e)).reduce(SHe,0);l2.prototype.visitUtf8=wHe;l2.prototype.visitBinary=CHe;l2.prototype.visitList=AHe;l2.prototype.visitFixedSizeList=THe;l2.prototype.visitUnion=FHe;l2.prototype.visitDenseUnion=ome;l2.prototype.visitSparseUnion=ame;Op.instance=new l2});var fd=Ae(v7=>{"use strict";m();var ume;Object.defineProperty(v7,"__esModule",{value:!0});v7.makeVector=v7.Vector=void 0;var DHe=ds(),rg=Tl(),OHe=UA(),y7=ru(),Zd=u2(),c2=$I(),lme=u_(),cme=Fp(),fme=VI(),RHe=WI(),dme=QI(),hme={},pme={},Da=class{constructor(e){var t,r,i;let s=e[0]instanceof Da?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof Zd.Data)))throw new TypeError("Vector constructor expects an Array of Data instances.");let o=(t=s[0])===null||t===void 0?void 0:t.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{let{get:a,set:c,indexOf:d,byteLength:p}=hme[o.typeId],E=s[0];this.isValid=w=>(0,c2.isChunkedValid)(E,w),this.get=w=>a(E,w),this.set=(w,N)=>c(E,w,N),this.indexOf=w=>d(E,w),this.getByteLength=w=>p(E,w),this._offsets=[0,E.length];break}default:Object.setPrototypeOf(this,pme[o.typeId]),this._offsets=(0,c2.computeChunkOffsets)(s);break}this.data=s,this.type=o,this.stride=(0,y7.strideForType)(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,c2.computeChunkNullCounts)(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${rg.Type[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return RHe.instance.visit(this)}concat(...e){return new Da(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(e,t){return new Da((0,OHe.clampRange)(this,e,t,({data:r,_offsets:i},s,o)=>(0,c2.sliceChunks)(r,i,s,o)))}toJSON(){return[...this]}toArray(){let{type:e,data:t,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case rg.Type.Int:case rg.Type.Float:case rg.Type.Decimal:case rg.Type.Time:case rg.Type.Timestamp:switch(t.length){case 0:return new s;case 1:return t[0].values.subarray(0,r*i);default:return t.reduce((o,{values:a})=>(o.array.set(a,o.offset),o.offset+=a.length,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt((t=this.type.children)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new Da(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return y7.DataType.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(y7.DataType.isDictionary(this.type)){let e=new zA(this.data[0].dictionary),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new Da(t)}return new zA(this)}unmemoize(){if(y7.DataType.isDictionary(this.type)&&this.isMemoized){let e=this.data[0].dictionary.unmemoize(),t=this.data.map(r=>{let i=r.clone();return i.dictionary=e,i});return new Da(t)}return this}};v7.Vector=Da;ume=Symbol.toStringTag;Da[ume]=(n=>{n.type=y7.DataType.prototype,n.data=[],n.length=0,n.stride=1,n.numChildren=0,n._nullCount=-1,n._byteLength=-1,n._offsets=new Uint32Array([0]),n[Symbol.isConcatSpreadable]=!0;let e=Object.keys(rg.Type).map(t=>rg.Type[t]).filter(t=>typeof t=="number"&&t!==rg.Type.NONE);for(let t of e){let r=lme.instance.getVisitFnByTypeId(t),i=cme.instance.getVisitFnByTypeId(t),s=fme.instance.getVisitFnByTypeId(t),o=dme.instance.getVisitFnByTypeId(t);hme[t]={get:r,set:i,indexOf:s,byteLength:o},pme[t]=Object.create(n,{isValid:{value:(0,c2.wrapChunkedCall1)(c2.isChunkedValid)},get:{value:(0,c2.wrapChunkedCall1)(lme.instance.getVisitFnByTypeId(t))},set:{value:(0,c2.wrapChunkedCall2)(cme.instance.getVisitFnByTypeId(t))},indexOf:{value:(0,c2.wrapChunkedIndexOf)(fme.instance.getVisitFnByTypeId(t))},getByteLength:{value:(0,c2.wrapChunkedCall1)(dme.instance.getVisitFnByTypeId(t))}})}return"Vector"})(Da.prototype);var zA=class extends Da{constructor(e){super(e.data);let t=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){let a=s[o];if(a!==void 0)return a;let c=t.call(this,o);return s[o]=c,c}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new zA(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Da(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}},f2=DHe.__importStar(ru());function mme(n){if(n){if(n instanceof Zd.Data)return new Da([n]);if(n instanceof Da)return new Da(n.data);if(n.type instanceof y7.DataType)return new Da([(0,Zd.makeData)(n)]);if(Array.isArray(n))return new Da(n.flatMap(e=>NHe(e)));if(ArrayBuffer.isView(n)){n instanceof DataView&&(n=new Uint8Array(n.buffer));let e={offset:0,length:n.length,nullCount:0,data:n};if(n instanceof Int8Array)return new Da([(0,Zd.makeData)(Object.assign(Object.assign({},e),{type:new f2.Int8}))]);if(n instanceof Int16Array)return new Da([(0,Zd.makeData)(Object.assign(Object.assign({},e),{type:new f2.Int16}))]);if(n instanceof Int32Array)return new Da([(0,Zd.makeData)(Object.assign(Object.assign({},e),{type:new f2.Int32}))]);if(n instanceof BigInt64Array)return new Da([(0,Zd.makeData)(Object.assign(Object.assign({},e),{type:new f2.Int64}))]);if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)return new Da([(0,Zd.makeData)(Object.assign(Object.assign({},e),{type:new f2.Uint8}))]);if(n instanceof Uint16Array)return new Da([(0,Zd.makeData)(Object.assign(Object.assign({},e),{type:new f2.Uint16}))]);if(n instanceof Uint32Array)return new Da([(0,Zd.makeData)(Object.assign(Object.assign({},e),{type:new f2.Uint32}))]);if(n instanceof BigUint64Array)return new Da([(0,Zd.makeData)(Object.assign(Object.assign({},e),{type:new f2.Uint64}))]);if(n instanceof Float32Array)return new Da([(0,Zd.makeData)(Object.assign(Object.assign({},e),{type:new f2.Float32}))]);if(n instanceof Float64Array)return new Da([(0,Zd.makeData)(Object.assign(Object.assign({},e),{type:new f2.Float64}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}v7.makeVector=mme;function NHe(n){return n instanceof Zd.Data?[n]:n instanceof Da?n.data:mme(n).data}});var xme=Ae(GI=>{"use strict";m();Object.defineProperty(GI,"__esModule",{value:!0});GI.createIsValidFunction=void 0;var tJ=SI(),LHe=o2();function kHe(n){if(!n||n.length<=0)return function(i){return!0};let e="",t=n.filter(r=>r===r);return t.length>0&&(e=`
    switch (x) {${t.map(r=>`
        case ${IHe(r)}:`).join("")}
            return false;
    }`),n.length!==t.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}GI.createIsValidFunction=kHe;function IHe(n){return typeof n!="bigint"?(0,tJ.valueToString)(n):LHe.BigIntAvailable?`${(0,tJ.valueToString)(n)}n`:`"${(0,tJ.valueToString)(n)}"`}});var c_=Ae(d2=>{"use strict";m();Object.defineProperty(d2,"__esModule",{value:!0});d2.OffsetsBufferBuilder=d2.BitmapBufferBuilder=d2.DataBufferBuilder=d2.BufferBuilder=void 0;var gme=Bf(),nJ=(n,e)=>(n*e+63&~63||64)/e,MHe=(n,e=0)=>n.length>=e?n.subarray(0,e):(0,gme.memcpy)(new n.constructor(e),n,0),YI=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=Math.trunc(e.length/t))}get byteLength(){return Math.trunc(this.length*this.stride*this.BYTES_PER_ELEMENT)}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,r=this.length*t,i=this.buffer.length;r>=i&&this._resize(i===0?nJ(r*1,this.BYTES_PER_ELEMENT):nJ(r*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=nJ(e*this.stride,this.BYTES_PER_ELEMENT);let t=MHe(this.buffer,e);return this.clear(),t}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=(0,gme.memcpy)(new this.ArrayType(e),this.buffer)}};d2.BufferBuilder=YI;YI.prototype.offset=0;var KI=class extends YI{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};d2.DataBufferBuilder=KI;var yme=class extends KI{constructor(e=new Uint8Array(0)){super(e,1/8);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:r}=this.reserve(e-this.length+1),i=e>>3,s=e%8,o=r[i]>>s&1;return t?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}};d2.BitmapBufferBuilder=yme;var vme=class extends KI{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let r=this.length-1,i=this.reserve(e-r+1).buffer;return r<e++&&i.fill(i[r],r,e),i[e]=i[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}};d2.OffsetsBufferBuilder=vme});var Hl=Ae(N3=>{"use strict";m();Object.defineProperty(N3,"__esModule",{value:!0});N3.VariableWidthBuilder=N3.FixedWidthBuilder=N3.Builder=void 0;var PHe=fd(),BHe=u2(),_me=jA(),jHe=ru(),qHe=xme(),rJ=c_(),h2=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=(0,jHe.strideForType)(e),this._nulls=new rJ.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=(0,qHe.createIsValidFunction)(t))}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}toVector(){return new PHe.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0,{_offsets:t,_values:r,_nulls:i,_typeIds:s,children:o}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),o.reduce((a,c)=>a+c.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((t,r)=>t+r.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e,t,r,i,{type:s,length:o,nullCount:a,_typeIds:c,_offsets:d,_values:p,_nulls:E}=this;(t=c==null?void 0:c.flush(o))?i=d==null?void 0:d.flush(o):(i=d==null?void 0:d.flush(o))?e=p==null?void 0:p.flush(d.last()):e=p==null?void 0:p.flush(o),a>0&&(r=E==null?void 0:E.flush(o));let w=this.children.map(N=>N.flush());return this.clear(),(0,BHe.makeData)({type:s,length:o,nullCount:a,children:w,child:w[0],data:e,typeIds:t,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(let e of this.children)e.finish();return this}clear(){var e,t,r,i;this.length=0,(e=this._nulls)===null||e===void 0||e.clear(),(t=this._values)===null||t===void 0||t.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(let s of this.children)s.clear();return this}};N3.Builder=h2;h2.prototype.length=1;h2.prototype.stride=1;h2.prototype.children=null;h2.prototype.finished=!1;h2.prototype.nullValues=null;h2.prototype._isValid=()=>!0;var bme=class extends h2{constructor(e){super(e);this._values=new rJ.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let r=this._values;return r.reserve(e-r.length+1),super.setValue(e,t)}};N3.FixedWidthBuilder=bme;var Eme=class extends h2{constructor(e){super(e);this._pendingLength=0,this._offsets=new rJ.OffsetsBufferBuilder}setValue(e,t){let r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=t instanceof _me.MapRow?t[_me.kKeys].length:t.length,r.set(e,t)}setValid(e,t){return super.setValid(e,t)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}};N3.VariableWidthBuilder=Eme});var iJ=Ae(JI=>{"use strict";m();Object.defineProperty(JI,"__esModule",{value:!0});JI.Block=void 0;var Sme=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,t,r,i){return e.prep(8,24),e.writeInt64(i),e.pad(4),e.writeInt32(r),e.writeInt64(t),e.offset()}};JI.Block=Sme});var f_=Ae(p2=>{"use strict";m();Object.defineProperty(p2,"__esModule",{value:!0});p2.SIZE_PREFIX_LENGTH=p2.FILE_IDENTIFIER_LENGTH=p2.SIZEOF_INT=p2.SIZEOF_SHORT=void 0;p2.SIZEOF_SHORT=2;p2.SIZEOF_INT=4;p2.FILE_IDENTIFIER_LENGTH=4;p2.SIZE_PREFIX_LENGTH=4});var sJ=Ae(Rp=>{"use strict";m();Object.defineProperty(Rp,"__esModule",{value:!0});Rp.isLittleEndian=Rp.float64=Rp.float32=Rp.int32=void 0;Rp.int32=new Int32Array(2);Rp.float32=new Float32Array(Rp.int32.buffer);Rp.float64=new Float64Array(Rp.int32.buffer);Rp.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1});var XI=Ae(_7=>{"use strict";m();Object.defineProperty(_7,"__esModule",{value:!0});_7.Long=_7.createLong=void 0;function UHe(n,e){return wme.create(n,e)}_7.createLong=UHe;var wme=function(){function n(e,t){this.low=e|0,this.high=t|0}return n.create=function(e,t){return e==0&&t==0?n.ZERO:new n(e,t)},n.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296},n.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},n.ZERO=new n(0,0),n}();_7.Long=wme});var oJ=Ae(HA=>{"use strict";m();Object.defineProperty(HA,"__esModule",{value:!0});HA.Encoding=void 0;var zHe;(function(n){n[n.UTF8_BYTES=1]="UTF8_BYTES",n[n.UTF16_STRING=2]="UTF16_STRING"})(zHe=HA.Encoding||(HA.Encoding={}))});var uJ=Ae(ZI=>{"use strict";m();Object.defineProperty(ZI,"__esModule",{value:!0});ZI.ByteBuffer=void 0;var m2=f_(),aJ=XI(),eh=sJ(),HHe=oJ(),$He=function(){function n(e){this.bytes_=e,this.position_=0}return n.allocate=function(e){return new n(new Uint8Array(e))},n.prototype.clear=function(){this.position_=0},n.prototype.bytes=function(){return this.bytes_},n.prototype.position=function(){return this.position_},n.prototype.setPosition=function(e){this.position_=e},n.prototype.capacity=function(){return this.bytes_.length},n.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},n.prototype.readUint8=function(e){return this.bytes_[e]},n.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},n.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},n.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},n.prototype.readUint32=function(e){return this.readInt32(e)>>>0},n.prototype.readInt64=function(e){return new aJ.Long(this.readInt32(e),this.readInt32(e+4))},n.prototype.readUint64=function(e){return new aJ.Long(this.readUint32(e),this.readUint32(e+4))},n.prototype.readFloat32=function(e){return eh.int32[0]=this.readInt32(e),eh.float32[0]},n.prototype.readFloat64=function(e){return eh.int32[eh.isLittleEndian?0:1]=this.readInt32(e),eh.int32[eh.isLittleEndian?1:0]=this.readInt32(e+4),eh.float64[0]},n.prototype.writeInt8=function(e,t){this.bytes_[e]=t},n.prototype.writeUint8=function(e,t){this.bytes_[e]=t},n.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},n.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},n.prototype.writeFloat32=function(e,t){eh.float32[0]=t,this.writeInt32(e,eh.int32[0])},n.prototype.writeFloat64=function(e,t){eh.float64[0]=t,this.writeInt32(e,eh.int32[eh.isLittleEndian?0:1]),this.writeInt32(e+4,eh.int32[eh.isLittleEndian?1:0])},n.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+m2.SIZEOF_INT+m2.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<m2.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+m2.SIZEOF_INT+t));return e},n.prototype.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},n.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},n.prototype.__string=function(e,t){e+=this.readInt32(e);var r=this.readInt32(e),i="",s=0;if(e+=m2.SIZEOF_INT,t===HHe.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+r);for(;s<r;){var o=void 0,a=this.readUint8(e+s++);if(a<192)o=a;else{var c=this.readUint8(e+s++);if(a<224)o=(a&31)<<6|c&63;else{var d=this.readUint8(e+s++);if(a<240)o=(a&15)<<12|(c&63)<<6|d&63;else{var p=this.readUint8(e+s++);o=(a&7)<<18|(c&63)<<12|(d&63)<<6|p&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&(1<<10)-1)+56320))}return i},n.prototype.__union_with_string=function(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)},n.prototype.__indirect=function(e){return e+this.readInt32(e)},n.prototype.__vector=function(e){return e+this.readInt32(e)+m2.SIZEOF_INT},n.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},n.prototype.__has_identifier=function(e){if(e.length!=m2.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+m2.FILE_IDENTIFIER_LENGTH);for(var t=0;t<m2.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+m2.SIZEOF_INT+t))return!1;return!0},n.prototype.createLong=function(e,t){return aJ.Long.create(e,t)},n.prototype.createScalarList=function(e,t){for(var r=[],i=0;i<t;++i)e(i)!==null&&r.push(e(i));return r},n.prototype.createObjList=function(e,t){for(var r=[],i=0;i<t;++i){var s=e(i);s!==null&&r.push(s.unpack())}return r},n}();ZI.ByteBuffer=$He});var Ame=Ae(eM=>{"use strict";m();Object.defineProperty(eM,"__esModule",{value:!0});eM.Builder=void 0;var Cme=uJ(),Mh=f_(),VHe=XI(),WHe=function(){function n(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;var t;e?t=e:t=1024,this.bb=Cme.ByteBuffer.allocate(t),this.space=t}return n.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null},n.prototype.forceDefaults=function(e){this.force_defaults=e},n.prototype.dataBuffer=function(){return this.bb},n.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},n.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var r=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<r+e+t;){var i=this.bb.capacity();this.bb=n.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)},n.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},n.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},n.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},n.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},n.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},n.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},n.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},n.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},n.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},n.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},n.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},n.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},n.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},n.prototype.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},n.prototype.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},n.prototype.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},n.prototype.addFieldInt64=function(e,t,r){(this.force_defaults||!t.equals(r))&&(this.addInt64(t),this.slot(e))},n.prototype.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},n.prototype.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},n.prototype.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},n.prototype.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},n.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},n.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},n.prototype.slot=function(e){this.vtable!==null&&(this.vtable[e]=this.offset())},n.prototype.offset=function(){return this.bb.capacity()-this.space},n.growByteBuffer=function(e){var t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=t<<1,i=Cme.ByteBuffer.allocate(r);return i.setPosition(r-t),i.bytes().set(e.bytes(),r-t),i},n.prototype.addOffset=function(e){this.prep(Mh.SIZEOF_INT,0),this.writeInt32(this.offset()-e+Mh.SIZEOF_INT)},n.prototype.startObject=function(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},n.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var r=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);var i=2;this.addInt16(e-this.object_start);var s=(r+i)*Mh.SIZEOF_SHORT;this.addInt16(s);var o=0,a=this.space;e:for(t=0;t<this.vtables.length;t++){var c=this.bb.capacity()-this.vtables[t];if(s==this.bb.readInt16(c)){for(var d=Mh.SIZEOF_SHORT;d<s;d+=Mh.SIZEOF_SHORT)if(this.bb.readInt16(a+d)!=this.bb.readInt16(c+d))continue e;o=this.vtables[t];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},n.prototype.finish=function(e,t,r){var i=r?Mh.SIZE_PREFIX_LENGTH:0;if(t){var s=t;if(this.prep(this.minalign,Mh.SIZEOF_INT+Mh.FILE_IDENTIFIER_LENGTH+i),s.length!=Mh.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+Mh.FILE_IDENTIFIER_LENGTH);for(var o=Mh.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Mh.SIZEOF_INT+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},n.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},n.prototype.requiredField=function(e,t){var r=this.bb.capacity()-e,i=r-this.bb.readInt32(r),s=this.bb.readInt16(i+t)!=0;if(!s)throw new Error("FlatBuffers: field "+t+" must be set")},n.prototype.startVector=function(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(Mh.SIZEOF_INT,e*t),this.prep(r,e*t)},n.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},n.prototype.createSharedString=function(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);var t=this.createString(e);return this.string_maps.set(e,t),t},n.prototype.createString=function(e){if(!e)return 0;var t;if(e instanceof Uint8Array)t=e;else{t=[];for(var r=0;r<e.length;){var i=void 0,s=e.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{var o=e.charCodeAt(r++);i=(s<<10)+o+(65536-(55296<<10)-56320)}i<128?t.push(i):(i<2048?t.push(i>>6&31|192):(i<65536?t.push(i>>12&15|224):t.push(i>>18&7|240,i>>12&63|128),t.push(i>>6&63|128)),t.push(i&63|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var r=0,a=this.space,c=this.bb.bytes();r<t.length;r++)c[a++]=t[r];return this.endVector()},n.prototype.createLong=function(e,t){return VHe.Long.create(e,t)},n.prototype.createObjectOffset=function(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)},n.prototype.createObjectOffsetList=function(e){for(var t=[],r=0;r<e.length;++r){var i=e[r];if(i!==null)t.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t},n.prototype.createStructOffsetList=function(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()},n}();eM.Builder=WHe});var Co=Ae(Ba=>{"use strict";m();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.ByteBuffer=Ba.Builder=Ba.Encoding=Ba.createLong=Ba.Long=Ba.isLittleEndian=Ba.float64=Ba.float32=Ba.int32=Ba.SIZE_PREFIX_LENGTH=Ba.FILE_IDENTIFIER_LENGTH=Ba.SIZEOF_INT=Ba.SIZEOF_SHORT=void 0;var QHe=f_();Object.defineProperty(Ba,"SIZEOF_SHORT",{enumerable:!0,get:function(){return QHe.SIZEOF_SHORT}});var GHe=f_();Object.defineProperty(Ba,"SIZEOF_INT",{enumerable:!0,get:function(){return GHe.SIZEOF_INT}});var YHe=f_();Object.defineProperty(Ba,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return YHe.FILE_IDENTIFIER_LENGTH}});var KHe=f_();Object.defineProperty(Ba,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return KHe.SIZE_PREFIX_LENGTH}});var tM=sJ();Object.defineProperty(Ba,"int32",{enumerable:!0,get:function(){return tM.int32}});Object.defineProperty(Ba,"float32",{enumerable:!0,get:function(){return tM.float32}});Object.defineProperty(Ba,"float64",{enumerable:!0,get:function(){return tM.float64}});Object.defineProperty(Ba,"isLittleEndian",{enumerable:!0,get:function(){return tM.isLittleEndian}});var Tme=XI();Object.defineProperty(Ba,"Long",{enumerable:!0,get:function(){return Tme.Long}});Object.defineProperty(Ba,"createLong",{enumerable:!0,get:function(){return Tme.createLong}});var JHe=oJ();Object.defineProperty(Ba,"Encoding",{enumerable:!0,get:function(){return JHe.Encoding}});var XHe=Ame();Object.defineProperty(Ba,"Builder",{enumerable:!0,get:function(){return XHe.Builder}});var ZHe=uJ();Object.defineProperty(Ba,"ByteBuffer",{enumerable:!0,get:function(){return ZHe.ByteBuffer}})});var b7=Ae(nM=>{"use strict";m();Object.defineProperty(nM,"__esModule",{value:!0});nM.KeyValue=void 0;var e$e=ds(),t$e=e$e.__importStar(Co()),ig=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new ig).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+t$e.SIZE_PREFIX_LENGTH),(t||new ig).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,r){return ig.startKeyValue(e),ig.addKey(e,t),ig.addValue(e,r),ig.endKeyValue(e)}};nM.KeyValue=ig});var lJ=Ae($A=>{"use strict";m();Object.defineProperty($A,"__esModule",{value:!0});$A.MetadataVersion=void 0;var n$e;(function(n){n[n.V1=0]="V1",n[n.V2=1]="V2",n[n.V3=2]="V3",n[n.V4=3]="V4",n[n.V5=4]="V5"})(n$e=$A.MetadataVersion||($A.MetadataVersion={}))});var cJ=Ae(VA=>{"use strict";m();Object.defineProperty(VA,"__esModule",{value:!0});VA.Endianness=void 0;var r$e;(function(n){n[n.Little=0]="Little",n[n.Big=1]="Big"})(r$e=VA.Endianness||(VA.Endianness={}))});var Fme=Ae(WA=>{"use strict";m();Object.defineProperty(WA,"__esModule",{value:!0});WA.DictionaryKind=void 0;var i$e;(function(n){n[n.DenseArray=0]="DenseArray"})(i$e=WA.DictionaryKind||(WA.DictionaryKind={}))});var L3=Ae(rM=>{"use strict";m();Object.defineProperty(rM,"__esModule",{value:!0});rM.Int=void 0;var s$e=ds(),o$e=s$e.__importStar(Co()),sg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new sg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+o$e.SIZE_PREFIX_LENGTH),(t||new sg).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,r){return sg.startInt(e),sg.addBitWidth(e,t),sg.addIsSigned(e,r),sg.endInt(e)}};rM.Int=sg});var fJ=Ae(iM=>{"use strict";m();Object.defineProperty(iM,"__esModule",{value:!0});iM.DictionaryEncoding=void 0;var a$e=ds(),u$e=a$e.__importStar(Co()),Dme=Fme(),l$e=L3(),QA=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new QA).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+u$e.SIZE_PREFIX_LENGTH),(t||new QA).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new l$e.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Dme.DictionaryKind.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,Dme.DictionaryKind.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}};iM.DictionaryEncoding=QA});var dJ=Ae(sM=>{"use strict";m();Object.defineProperty(sM,"__esModule",{value:!0});sM.Binary=void 0;var c$e=ds(),f$e=c$e.__importStar(Co()),d_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new d_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+f$e.SIZE_PREFIX_LENGTH),(t||new d_).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return d_.startBinary(e),d_.endBinary(e)}};sM.Binary=d_});var hJ=Ae(oM=>{"use strict";m();Object.defineProperty(oM,"__esModule",{value:!0});oM.Bool=void 0;var d$e=ds(),h$e=d$e.__importStar(Co()),h_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new h_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+h$e.SIZE_PREFIX_LENGTH),(t||new h_).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return h_.startBool(e),h_.endBool(e)}};oM.Bool=h_});var Ome=Ae(GA=>{"use strict";m();Object.defineProperty(GA,"__esModule",{value:!0});GA.DateUnit=void 0;var p$e;(function(n){n[n.DAY=0]="DAY",n[n.MILLISECOND=1]="MILLISECOND"})(p$e=GA.DateUnit||(GA.DateUnit={}))});var uM=Ae(aM=>{"use strict";m();Object.defineProperty(aM,"__esModule",{value:!0});aM.Date=void 0;var m$e=ds(),x$e=m$e.__importStar(Co()),Rme=Ome(),k3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new k3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+x$e.SIZE_PREFIX_LENGTH),(t||new k3).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Rme.DateUnit.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Rme.DateUnit.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return k3.startDate(e),k3.addUnit(e,t),k3.endDate(e)}};aM.Date=k3});var cM=Ae(lM=>{"use strict";m();Object.defineProperty(lM,"__esModule",{value:!0});lM.Decimal=void 0;var g$e=ds(),y$e=g$e.__importStar(Co()),x2=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new x2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+y$e.SIZE_PREFIX_LENGTH),(t||new x2).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,r,i){return x2.startDecimal(e),x2.addPrecision(e,t),x2.addScale(e,r),x2.addBitWidth(e,i),x2.endDecimal(e)}};lM.Decimal=x2});var fM=Ae(YA=>{"use strict";m();Object.defineProperty(YA,"__esModule",{value:!0});YA.TimeUnit=void 0;var v$e;(function(n){n[n.SECOND=0]="SECOND",n[n.MILLISECOND=1]="MILLISECOND",n[n.MICROSECOND=2]="MICROSECOND",n[n.NANOSECOND=3]="NANOSECOND"})(v$e=YA.TimeUnit||(YA.TimeUnit={}))});var Lme=Ae(dM=>{"use strict";m();Object.defineProperty(dM,"__esModule",{value:!0});dM.Duration=void 0;var _$e=ds(),b$e=_$e.__importStar(Co()),Nme=fM(),I3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new I3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,t){return e.setPosition(e.position()+b$e.SIZE_PREFIX_LENGTH),(t||new I3).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Nme.TimeUnit.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Nme.TimeUnit.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return I3.startDuration(e),I3.addUnit(e,t),I3.endDuration(e)}};dM.Duration=I3});var pM=Ae(hM=>{"use strict";m();Object.defineProperty(hM,"__esModule",{value:!0});hM.FixedSizeBinary=void 0;var E$e=ds(),S$e=E$e.__importStar(Co()),M3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new M3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+S$e.SIZE_PREFIX_LENGTH),(t||new M3).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return M3.startFixedSizeBinary(e),M3.addByteWidth(e,t),M3.endFixedSizeBinary(e)}};hM.FixedSizeBinary=M3});var xM=Ae(mM=>{"use strict";m();Object.defineProperty(mM,"__esModule",{value:!0});mM.FixedSizeList=void 0;var w$e=ds(),C$e=w$e.__importStar(Co()),P3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new P3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+C$e.SIZE_PREFIX_LENGTH),(t||new P3).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return P3.startFixedSizeList(e),P3.addListSize(e,t),P3.endFixedSizeList(e)}};mM.FixedSizeList=P3});var kme=Ae(KA=>{"use strict";m();Object.defineProperty(KA,"__esModule",{value:!0});KA.Precision=void 0;var A$e;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(A$e=KA.Precision||(KA.Precision={}))});var yM=Ae(gM=>{"use strict";m();Object.defineProperty(gM,"__esModule",{value:!0});gM.FloatingPoint=void 0;var T$e=ds(),F$e=T$e.__importStar(Co()),Ime=kme(),B3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new B3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+F$e.SIZE_PREFIX_LENGTH),(t||new B3).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ime.Precision.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,Ime.Precision.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return B3.startFloatingPoint(e),B3.addPrecision(e,t),B3.endFloatingPoint(e)}};gM.FloatingPoint=B3});var Mme=Ae(JA=>{"use strict";m();Object.defineProperty(JA,"__esModule",{value:!0});JA.IntervalUnit=void 0;var D$e;(function(n){n[n.YEAR_MONTH=0]="YEAR_MONTH",n[n.DAY_TIME=1]="DAY_TIME",n[n.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(D$e=JA.IntervalUnit||(JA.IntervalUnit={}))});var _M=Ae(vM=>{"use strict";m();Object.defineProperty(vM,"__esModule",{value:!0});vM.Interval=void 0;var O$e=ds(),R$e=O$e.__importStar(Co()),Pme=Mme(),j3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new j3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+R$e.SIZE_PREFIX_LENGTH),(t||new j3).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Pme.IntervalUnit.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Pme.IntervalUnit.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return j3.startInterval(e),j3.addUnit(e,t),j3.endInterval(e)}};vM.Interval=j3});var Bme=Ae(bM=>{"use strict";m();Object.defineProperty(bM,"__esModule",{value:!0});bM.LargeBinary=void 0;var N$e=ds(),L$e=N$e.__importStar(Co()),p_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,t){return(t||new p_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,t){return e.setPosition(e.position()+L$e.SIZE_PREFIX_LENGTH),(t||new p_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return p_.startLargeBinary(e),p_.endLargeBinary(e)}};bM.LargeBinary=p_});var jme=Ae(EM=>{"use strict";m();Object.defineProperty(EM,"__esModule",{value:!0});EM.LargeList=void 0;var k$e=ds(),I$e=k$e.__importStar(Co()),m_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,t){return(t||new m_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,t){return e.setPosition(e.position()+I$e.SIZE_PREFIX_LENGTH),(t||new m_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return m_.startLargeList(e),m_.endLargeList(e)}};EM.LargeList=m_});var qme=Ae(SM=>{"use strict";m();Object.defineProperty(SM,"__esModule",{value:!0});SM.LargeUtf8=void 0;var M$e=ds(),P$e=M$e.__importStar(Co()),x_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,t){return(t||new x_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,t){return e.setPosition(e.position()+P$e.SIZE_PREFIX_LENGTH),(t||new x_).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return x_.startLargeUtf8(e),x_.endLargeUtf8(e)}};SM.LargeUtf8=x_});var pJ=Ae(wM=>{"use strict";m();Object.defineProperty(wM,"__esModule",{value:!0});wM.List=void 0;var B$e=ds(),j$e=B$e.__importStar(Co()),g_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new g_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+j$e.SIZE_PREFIX_LENGTH),(t||new g_).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return g_.startList(e),g_.endList(e)}};wM.List=g_});var AM=Ae(CM=>{"use strict";m();Object.defineProperty(CM,"__esModule",{value:!0});CM.Map=void 0;var q$e=ds(),U$e=q$e.__importStar(Co()),q3=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new q3).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+U$e.SIZE_PREFIX_LENGTH),(t||new q3).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return q3.startMap(e),q3.addKeysSorted(e,t),q3.endMap(e)}};CM.Map=q3});var mJ=Ae(TM=>{"use strict";m();Object.defineProperty(TM,"__esModule",{value:!0});TM.Null=void 0;var z$e=ds(),H$e=z$e.__importStar(Co()),y_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new y_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+H$e.SIZE_PREFIX_LENGTH),(t||new y_).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return y_.startNull(e),y_.endNull(e)}};TM.Null=y_});var xJ=Ae(FM=>{"use strict";m();Object.defineProperty(FM,"__esModule",{value:!0});FM.Struct_=void 0;var $$e=ds(),V$e=$$e.__importStar(Co()),v_=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new v_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+V$e.SIZE_PREFIX_LENGTH),(t||new v_).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return v_.startStruct_(e),v_.endStruct_(e)}};FM.Struct_=v_});var OM=Ae(DM=>{"use strict";m();Object.defineProperty(DM,"__esModule",{value:!0});DM.Time=void 0;var W$e=ds(),Q$e=W$e.__importStar(Co()),Ume=fM(),og=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new og).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+Q$e.SIZE_PREFIX_LENGTH),(t||new og).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ume.TimeUnit.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,Ume.TimeUnit.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,r){return og.startTime(e),og.addUnit(e,t),og.addBitWidth(e,r),og.endTime(e)}};DM.Time=og});var NM=Ae(RM=>{"use strict";m();Object.defineProperty(RM,"__esModule",{value:!0});RM.Timestamp=void 0;var G$e=ds(),Y$e=G$e.__importStar(Co()),zme=fM(),ag=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new ag).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+Y$e.SIZE_PREFIX_LENGTH),(t||new ag).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):zme.TimeUnit.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,zme.TimeUnit.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,r){return ag.startTimestamp(e),ag.addUnit(e,t),ag.addTimezone(e,r),ag.endTimestamp(e)}};RM.Timestamp=ag});var Hme=Ae(XA=>{"use strict";m();Object.defineProperty(XA,"__esModule",{value:!0});XA.UnionMode=void 0;var K$e;(function(n){n[n.Sparse=0]="Sparse",n[n.Dense=1]="Dense"})(K$e=XA.UnionMode||(XA.UnionMode={}))});var kM=Ae(LM=>{"use strict";m();Object.defineProperty(LM,"__esModule",{value:!0});LM.Union=void 0;var J$e=ds(),X$e=J$e.__importStar(Co()),$me=Hme(),ug=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new ug).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+X$e.SIZE_PREFIX_LENGTH),(t||new ug).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):$me.UnionMode.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,$me.UnionMode.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,r){return ug.startUnion(e),ug.addMode(e,t),ug.addTypeIds(e,r),ug.endUnion(e)}};LM.Union=ug});var gJ=Ae(IM=>{"use strict";m();Object.defineProperty(IM,"__esModule",{value:!0});IM.Utf8=void 0;var Z$e=ds(),eVe=Z$e.__importStar(Co()),__=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new __).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+eVe.SIZE_PREFIX_LENGTH),(t||new __).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return __.startUtf8(e),__.endUtf8(e)}};IM.Utf8=__});var E7=Ae(lg=>{"use strict";m();Object.defineProperty(lg,"__esModule",{value:!0});lg.unionListToType=lg.unionToType=lg.Type=void 0;var Vme=dJ(),Wme=hJ(),Qme=uM(),Gme=cM(),Yme=Lme(),Kme=pM(),Jme=xM(),Xme=yM(),Zme=L3(),e2e=_M(),t2e=Bme(),n2e=jme(),r2e=qme(),i2e=pJ(),s2e=AM(),o2e=mJ(),a2e=xJ(),u2e=OM(),l2e=NM(),c2e=kM(),f2e=gJ(),yJ;(function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.FloatingPoint=3]="FloatingPoint",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct_=13]="Struct_",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Duration=18]="Duration",n[n.LargeBinary=19]="LargeBinary",n[n.LargeUtf8=20]="LargeUtf8",n[n.LargeList=21]="LargeList"})(yJ=lg.Type||(lg.Type={}));function tVe(n,e){switch(yJ[n]){case"NONE":return null;case"Null":return e(new o2e.Null);case"Int":return e(new Zme.Int);case"FloatingPoint":return e(new Xme.FloatingPoint);case"Binary":return e(new Vme.Binary);case"Utf8":return e(new f2e.Utf8);case"Bool":return e(new Wme.Bool);case"Decimal":return e(new Gme.Decimal);case"Date":return e(new Qme.Date);case"Time":return e(new u2e.Time);case"Timestamp":return e(new l2e.Timestamp);case"Interval":return e(new e2e.Interval);case"List":return e(new i2e.List);case"Struct_":return e(new a2e.Struct_);case"Union":return e(new c2e.Union);case"FixedSizeBinary":return e(new Kme.FixedSizeBinary);case"FixedSizeList":return e(new Jme.FixedSizeList);case"Map":return e(new s2e.Map);case"Duration":return e(new Yme.Duration);case"LargeBinary":return e(new t2e.LargeBinary);case"LargeUtf8":return e(new r2e.LargeUtf8);case"LargeList":return e(new n2e.LargeList);default:return null}}lg.unionToType=tVe;function nVe(n,e,t){switch(yJ[n]){case"NONE":return null;case"Null":return e(t,new o2e.Null);case"Int":return e(t,new Zme.Int);case"FloatingPoint":return e(t,new Xme.FloatingPoint);case"Binary":return e(t,new Vme.Binary);case"Utf8":return e(t,new f2e.Utf8);case"Bool":return e(t,new Wme.Bool);case"Decimal":return e(t,new Gme.Decimal);case"Date":return e(t,new Qme.Date);case"Time":return e(t,new u2e.Time);case"Timestamp":return e(t,new l2e.Timestamp);case"Interval":return e(t,new e2e.Interval);case"List":return e(t,new i2e.List);case"Struct_":return e(t,new a2e.Struct_);case"Union":return e(t,new c2e.Union);case"FixedSizeBinary":return e(t,new Kme.FixedSizeBinary);case"FixedSizeList":return e(t,new Jme.FixedSizeList);case"Map":return e(t,new s2e.Map);case"Duration":return e(t,new Yme.Duration);case"LargeBinary":return e(t,new t2e.LargeBinary);case"LargeUtf8":return e(t,new r2e.LargeUtf8);case"LargeList":return e(t,new n2e.LargeList);default:return null}}lg.unionListToType=nVe});var vJ=Ae(MM=>{"use strict";m();Object.defineProperty(MM,"__esModule",{value:!0});MM.Field=void 0;var rVe=ds(),iVe=rVe.__importStar(Co()),sVe=fJ(),oVe=b7(),d2e=E7(),S7=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new S7).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+iVe.SIZE_PREFIX_LENGTH),(t||new S7).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):d2e.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new sVe.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let r=this.bb.__offset(this.bb_pos,14);return r?(t||new S7).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,16);return r?(t||new oVe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,d2e.Type.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}};MM.Field=S7});var BM=Ae(PM=>{"use strict";m();Object.defineProperty(PM,"__esModule",{value:!0});PM.Schema=void 0;var aVe=ds(),uVe=aVe.__importStar(Co()),h2e=cJ(),lVe=vJ(),cVe=b7(),Z1=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new Z1).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+uVe.SIZE_PREFIX_LENGTH),(t||new Z1).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):h2e.Endianness.Little}fields(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new lVe.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new cVe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,h2e.Endianness.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,r,i,s){return Z1.startSchema(e),Z1.addEndianness(e,t),Z1.addFields(e,r),Z1.addCustomMetadata(e,i),Z1.addFeatures(e,s),Z1.endSchema(e)}};PM.Schema=Z1});var x2e=Ae(jM=>{"use strict";m();Object.defineProperty(jM,"__esModule",{value:!0});jM.Footer=void 0;var fVe=ds(),dVe=fVe.__importStar(Co()),p2e=iJ(),hVe=b7(),m2e=lJ(),pVe=BM(),ZA=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new ZA).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+dVe.SIZE_PREFIX_LENGTH),(t||new ZA).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):m2e.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new pVe.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new p2e.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new p2e.Block).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new hVe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,m2e.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}};jM.Footer=ZA});var th=Ae(w7=>{"use strict";m();Object.defineProperty(w7,"__esModule",{value:!0});w7.Field=w7.Schema=void 0;var mVe=ru(),Np=class{constructor(e=[],t,r){this.fields=e||[],this.metadata=t||new Map,r||(r=_J(e)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(e){let t=new Set(e),r=this.fields.filter(i=>t.has(i.name));return new Np(r,this.metadata)}selectAt(e){let t=e.map(r=>this.fields[r]).filter(Boolean);return new Np(t,this.metadata)}assign(...e){let t=e[0]instanceof Np?e[0]:Array.isArray(e[0])?new Np(e[0]):new Np(e),r=[...this.fields],i=qM(qM(new Map,this.metadata),t.metadata),s=t.fields.filter(a=>{let c=r.findIndex(d=>d.name===a.name);return~c?(r[c]=a.clone({metadata:qM(qM(new Map,r[c].metadata),a.metadata)}))&&!1:!0}),o=_J(s,new Map);return new Np([...r,...s],i,new Map([...this.dictionaries,...o]))}};w7.Schema=Np;Np.prototype.fields=null;Np.prototype.metadata=null;Np.prototype.dictionaries=null;var cg=class{constructor(e,t,r=!1,i){this.name=e,this.type=t,this.nullable=r,this.metadata=i||new Map}static new(...e){let[t,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new cg(`${t}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:t=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],cg.new(t,r,i,s)}};w7.Field=cg;cg.prototype.type=null;cg.prototype.name=null;cg.prototype.nullable=null;cg.prototype.metadata=null;function qM(n,e){return new Map([...n||new Map,...e||new Map])}function _J(n,e=new Map){for(let t=-1,r=n.length;++t<r;){let s=n[t].type;if(mVe.DataType.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&_J(s.children,e)}return e}});var SJ=Ae(C7=>{"use strict";m();Object.defineProperty(C7,"__esModule",{value:!0});C7.FileBlock=C7.Footer=void 0;var xVe=ds(),gVe=iJ(),g2=x2e(),bJ=xVe.__importStar(Co()),g2e=bJ.Long,yVe=bJ.Builder,vVe=bJ.ByteBuffer,y2e=th(),v2e=Tl(),_Ve=Bf(),EJ=class{constructor(e,t=v2e.MetadataVersion.V4,r,i){this.schema=e,this.version=t,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(e){e=new vVe((0,_Ve.toUint8Array)(e));let t=g2.Footer.getRootAsFooter(e),r=y2e.Schema.decode(t.schema());return new _2e(r,t)}static encode(e){let t=new yVe,r=y2e.Schema.encode(t,e.schema);g2.Footer.startRecordBatchesVector(t,e.numRecordBatches);for(let o of[...e.recordBatches()].slice().reverse())U3.encode(t,o);let i=t.endVector();g2.Footer.startDictionariesVector(t,e.numDictionaries);for(let o of[...e.dictionaryBatches()].slice().reverse())U3.encode(t,o);let s=t.endVector();return g2.Footer.startFooter(t),g2.Footer.addSchema(t,r),g2.Footer.addVersion(t,v2e.MetadataVersion.V4),g2.Footer.addRecordBatches(t,i),g2.Footer.addDictionaries(t,s),g2.Footer.finishFooterBuffer(t,g2.Footer.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,r=this.numRecordBatches;++t<r;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,r=this.numDictionaries;++t<r;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};C7.Footer=EJ;var _2e=class extends EJ{constructor(e,t){super(e,t.version());this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return U3.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return U3.decode(t)}return null}},U3=class{constructor(e,t,r){this.metaDataLength=e,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new U3(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){let{metaDataLength:r}=t,i=new g2e(t.offset,0),s=new g2e(t.bodyLength,0);return gVe.Block.createBlock(e,i,r,s)}};C7.FileBlock=U3});var eT=Ae(nh=>{"use strict";m();Object.defineProperty(nh,"__esModule",{value:!0});nh.AsyncQueue=nh.ReadableInterop=nh.ArrowJSON=nh.ITERATOR_DONE=void 0;var A7=ds(),b2e=A7.__importDefault(MA());nh.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var E2e=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};nh.ArrowJSON=E2e;var wJ=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};nh.ReadableInterop=wJ;var S2e=class extends wJ{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return A7.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(nh.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return b2e.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return b2e.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return A7.__awaiter(this,void 0,void 0,function*(){return yield this.abort(e),nh.ITERATOR_DONE})}return(e){return A7.__awaiter(this,void 0,void 0,function*(){return yield this.close(),nh.ITERATOR_DONE})}read(e){return A7.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return A7.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,r)=>{this.resolvers.push({resolve:t,reject:r})}):Promise.resolve(nh.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};nh.AsyncQueue=S2e});var V3=Ae($3=>{"use strict";m();Object.defineProperty($3,"__esModule",{value:!0});$3.AsyncByteStream=$3.ByteStream=$3.AsyncByteQueue=void 0;var fg=ds(),z3=fg.__importDefault(MA()),w2e=o_(),tT=eT(),CJ=Bf(),T7=o2(),AJ=class extends tT.AsyncQueue{write(e){if((e=(0,CJ.toUint8Array)(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?(0,w2e.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(w2e.decodeUtf8)}toUint8Array(e=!1){return e?(0,CJ.joinUint8Arrays)(this._values)[0]:(()=>fg.__awaiter(this,void 0,void 0,function*(){var t,r;let i=[],s=0;try{for(var o=fg.__asyncValues(this),a;a=yield o.next(),!a.done;){let c=a.value;i.push(c),s+=c.byteLength}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return(0,CJ.joinUint8Arrays)(i,s)[0]}))()}};$3.AsyncByteQueue=AJ;var C2e=class{constructor(e){e&&(this.source=new A2e(z3.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};$3.ByteStream=C2e;var UM=class{constructor(e){e instanceof UM?this.source=e.source:e instanceof AJ?this.source=new H3(z3.default.fromAsyncIterable(e)):(0,T7.isReadableNodeStream)(e)?this.source=new H3(z3.default.fromNodeStream(e)):(0,T7.isReadableDOMStream)(e)?this.source=new H3(z3.default.fromDOMStream(e)):(0,T7.isFetchResponse)(e)?this.source=new H3(z3.default.fromDOMStream(e.body)):(0,T7.isIterable)(e)?this.source=new H3(z3.default.fromIterable(e)):(0,T7.isPromise)(e)?this.source=new H3(z3.default.fromAsyncIterable(e)):(0,T7.isAsyncIterable)(e)&&(this.source=new H3(z3.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};$3.AsyncByteStream=UM;var A2e=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||tT.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||tT.ITERATOR_DONE)}},H3=class{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return fg.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return fg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return fg.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return fg.__awaiter(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return fg.__awaiter(this,void 0,void 0,function*(){let t=this.source.throw&&(yield this.source.throw(e))||tT.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return fg.__awaiter(this,void 0,void 0,function*(){let t=this.source.return&&(yield this.source.return(e))||tT.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}});var TJ=Ae(F7=>{"use strict";m();Object.defineProperty(F7,"__esModule",{value:!0});F7.AsyncRandomAccessFile=F7.RandomAccessFile=void 0;var W3=ds(),T2e=V3(),bVe=Bf(),F2e=class extends T2e.ByteStream{constructor(e,t){super();this.position=0,this.buffer=(0,bVe.toUint8Array)(e),this.size=typeof t=="undefined"?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:r}=this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:r,position:i}=this;return t&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),t.subarray(i,this.position)):null}readAt(e,t){let r=this.buffer,i=Math.min(this.size,e+t);return r?r.subarray(e,i):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};F7.RandomAccessFile=F2e;var D2e=class extends T2e.AsyncByteStream{constructor(e,t){super();this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=(()=>W3.__awaiter(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return W3.__awaiter(this,void 0,void 0,function*(){let{buffer:t,byteOffset:r}=yield this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)})}seek(e){return W3.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return W3.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:t,size:r,position:i}=this;if(t&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0,c=Math.min(r,s+Math.min(r-s,e)),d=new Uint8Array(Math.max(0,(this.position=c)-s));for(;(s+=a)<c&&(o+=a)<d.byteLength;)({bytesRead:a}=yield t.read(d,o,d.byteLength-o,s));return d}return null})}readAt(e,t){return W3.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:r,size:i}=this;if(r&&e+t<i){let s=Math.min(i,e+t),o=new Uint8Array(s-e);return(yield r.read(o,0,t,e)).buffer}return new Uint8Array(t)})}close(){return W3.__awaiter(this,void 0,void 0,function*(){let e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return W3.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return W3.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}};F7.AsyncRandomAccessFile=D2e});var DJ=Ae(y2=>{"use strict";m();Object.defineProperty(y2,"__esModule",{value:!0});y2.Int128=y2.Int64=y2.Uint64=y2.BaseInt64=void 0;var EVe=1<<16;function D7(n){return n<0&&(n=4294967295+n+1),`0x${n.toString(16)}`}var O7=8,FJ=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],zM=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),i=t[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=t[2]*r[3],s+=i,i=t[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?EVe:0,this.buffer[1]+=s>>>16,this.buffer[1]+=t[1]*r[3]+t[2]*r[2]+t[3]*r[1],this.buffer[1]+=t[0]*r[3]+t[1]*r[2]+t[2]*r[1]+t[3]*r[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${D7(this.buffer[1])} ${D7(this.buffer[0])}`}};y2.BaseInt64=zM;var ha=class extends zM{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return ha.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return ha.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.length,i=new ha(t);for(let s=0;s<r;){let o=O7<r-s?O7:r-s,a=new ha(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),c=new ha(new Uint32Array([FJ[o],0]));i.times(c),i.plus(a),s+=o}return i}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)ha.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new ha(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new ha(new Uint32Array(e.buffer)).plus(t)}};y2.Uint64=ha;var Ph=class extends zM{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,r=e.buffer[1]<<0;return t<r||t===r&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return Ph.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Ph.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let r=e.startsWith("-"),i=e.length,s=new Ph(t);for(let o=r?1:0;o<i;){let a=O7<i-o?O7:i-o,c=new Ph(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),d=new Ph(new Uint32Array([FJ[a],0]));s.times(d),s.plus(c),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)Ph.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new Ph(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Ph(new Uint32Array(e.buffer)).plus(t)}};y2.Int64=Ph;var em=class{constructor(e){this.buffer=e}high(){return new Ph(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Ph(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let t=new ha(new Uint32Array([this.buffer[3],0])),r=new ha(new Uint32Array([this.buffer[2],0])),i=new ha(new Uint32Array([this.buffer[1],0])),s=new ha(new Uint32Array([this.buffer[0],0])),o=new ha(new Uint32Array([e.buffer[3],0])),a=new ha(new Uint32Array([e.buffer[2],0])),c=new ha(new Uint32Array([e.buffer[1],0])),d=new ha(new Uint32Array([e.buffer[0],0])),p=ha.multiply(s,d);this.buffer[0]=p.low();let E=new ha(new Uint32Array([p.high(),0]));return p=ha.multiply(i,d),E.plus(p),p=ha.multiply(s,c),E.plus(p),this.buffer[1]=E.low(),this.buffer[3]=E.lessThan(p)?1:0,this.buffer[2]=E.high(),new ha(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ha.multiply(r,d)).plus(ha.multiply(i,c)).plus(ha.multiply(s,a)),this.buffer[3]+=ha.multiply(t,d).plus(ha.multiply(r,c)).plus(ha.multiply(i,a)).plus(ha.multiply(s,o)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${D7(this.buffer[3])} ${D7(this.buffer[2])} ${D7(this.buffer[1])} ${D7(this.buffer[0])}`}static multiply(e,t){return new em(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new em(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return em.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return em.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let r=e.startsWith("-"),i=e.length,s=new em(t);for(let o=r?1:0;o<i;){let a=O7<i-o?O7:i-o,c=new em(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),d=new em(new Uint32Array([FJ[a],0,0,0]));s.times(d),s.plus(c),o+=a}return r?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)em.from(e[r],new Uint32Array(t.buffer,t.byteOffset+4*4*r,4));return t}};y2.Int128=em});var L2e=Ae(R7=>{"use strict";m();Object.defineProperty(R7,"__esModule",{value:!0});R7.JSONVectorLoader=R7.VectorLoader=void 0;var Mc=u2(),SVe=th(),dg=ru(),wVe=cd(),O2e=l_(),CVe=o_(),HM=DJ(),R2e=Tl(),v2=Bf(),OJ=class extends wVe.Visitor{constructor(e,t,r,i){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=r,this.dictionaries=i}visit(e){return super.visit(e instanceof SVe.Field?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t})}visitBool(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===R2e.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:t,nullCount:r}=this.nextFieldNode()){return(0,Mc.makeData)({type:e,length:t,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,r=this.nextBufferRange()){return t>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+t)}readDictionary(e){return this.dictionaries.get(e.id)}};R7.VectorLoader=OJ;var N2e=class extends OJ{constructor(e,t,r,i){super(new Uint8Array(0),t,r,i);this.sources=e}readNullBitmap(e,t,{offset:r}=this.nextBufferRange()){return t<=0?new Uint8Array(0):(0,O2e.packBools)(this.sources[r])}readOffsets(e,{offset:t}=this.nextBufferRange()){return(0,v2.toArrayBufferView)(Uint8Array,(0,v2.toArrayBufferView)(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return(0,v2.toArrayBufferView)(Uint8Array,(0,v2.toArrayBufferView)(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:r}=this;return dg.DataType.isTimestamp(e)||(dg.DataType.isInt(e)||dg.DataType.isTime(e))&&e.bitWidth===64||dg.DataType.isDate(e)&&e.unit===R2e.DateUnit.MILLISECOND?(0,v2.toArrayBufferView)(Uint8Array,HM.Int64.convertArray(r[t])):dg.DataType.isDecimal(e)?(0,v2.toArrayBufferView)(Uint8Array,HM.Int128.convertArray(r[t])):dg.DataType.isBinary(e)||dg.DataType.isFixedSizeBinary(e)?AVe(r[t]):dg.DataType.isBool(e)?(0,O2e.packBools)(r[t]):dg.DataType.isUtf8(e)?(0,CVe.encodeUtf8)(r[t].join("")):(0,v2.toArrayBufferView)(Uint8Array,(0,v2.toArrayBufferView)(e.ArrayType,r[t].map(i=>+i)))}};R7.JSONVectorLoader=N2e;function AVe(n){let e=n.join(""),t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r>>1]=Number.parseInt(e.slice(r,r+2),16);return t}});var VM=Ae($M=>{"use strict";m();Object.defineProperty($M,"__esModule",{value:!0});$M.BinaryBuilder=void 0;var TVe=Bf(),FVe=c_(),DVe=Hl(),k2e=class extends DVe.VariableWidthBuilder{constructor(e){super(e);this._values=new FVe.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,TVe.toUint8Array)(t))}_flushPending(e,t){let r=this._offsets,i=this._values.reserve(t).buffer,s=0;for(let[o,a]of e)if(a===void 0)r.set(o,0);else{let c=a.length;i.set(a,s),r.set(o,c),s+=c}}};$M.BinaryBuilder=k2e});var RJ=Ae(WM=>{"use strict";m();Object.defineProperty(WM,"__esModule",{value:!0});WM.BoolBuilder=void 0;var OVe=c_(),RVe=Hl(),I2e=class extends RVe.Builder{constructor(e){super(e);this._values=new OVe.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};WM.BoolBuilder=I2e});var IJ=Ae(Q3=>{"use strict";m();Object.defineProperty(Q3,"__esModule",{value:!0});Q3.DateMillisecondBuilder=Q3.DateDayBuilder=Q3.DateBuilder=void 0;var NVe=Hl(),NJ=Fp(),nT=class extends NVe.FixedWidthBuilder{};Q3.DateBuilder=nT;nT.prototype._setValue=NJ.setDate;var LJ=class extends nT{};Q3.DateDayBuilder=LJ;LJ.prototype._setValue=NJ.setDateDay;var kJ=class extends nT{};Q3.DateMillisecondBuilder=kJ;kJ.prototype._setValue=NJ.setDateMillisecond});var PJ=Ae(QM=>{"use strict";m();Object.defineProperty(QM,"__esModule",{value:!0});QM.DecimalBuilder=void 0;var LVe=Hl(),kVe=Fp(),MJ=class extends LVe.FixedWidthBuilder{};QM.DecimalBuilder=MJ;MJ.prototype._setValue=kVe.setDecimal});var BJ=Ae(GM=>{"use strict";m();Object.defineProperty(GM,"__esModule",{value:!0});GM.DictionaryBuilder=void 0;var IVe=ru(),MVe=Hl(),M2e=rT(),P2e=class extends MVe.Builder{constructor({type:e,nullValues:t,dictionaryHashFunction:r}){super({type:new IVe.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)});this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,M2e.makeBuilder)({type:this.type.indices,nullValues:t}),this.dictionary=(0,M2e.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let r=this.indices;return t=r.setValid(e,t),this.length=r.length,t}setValue(e,t){let r=this._keysToIndices,i=this.valueToKey(t),s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,s)}flush(){let e=this.type,t=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=t?t.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}};GM.DictionaryBuilder=P2e});var qJ=Ae(YM=>{"use strict";m();Object.defineProperty(YM,"__esModule",{value:!0});YM.FixedSizeBinaryBuilder=void 0;var PVe=Hl(),BVe=Fp(),jJ=class extends PVe.FixedWidthBuilder{};YM.FixedSizeBinaryBuilder=jJ;jJ.prototype._setValue=BVe.setFixedSizeBinary});var UJ=Ae(KM=>{"use strict";m();Object.defineProperty(KM,"__esModule",{value:!0});KM.FixedSizeListBuilder=void 0;var jVe=th(),qVe=Hl(),UVe=ru(),B2e=class extends qVe.Builder{setValue(e,t){let[r]=this.children,i=e*this.stride;for(let s=-1,o=t.length;++s<o;)r.set(i+s,t[s])}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let r=this.children.push(e);return this.type=new UVe.FixedSizeList(this.type.listSize,new jVe.Field(t,e.type,!0)),r}};KM.FixedSizeListBuilder=B2e});var zJ=Ae(_2=>{"use strict";m();Object.defineProperty(_2,"__esModule",{value:!0});_2.Float64Builder=_2.Float32Builder=_2.Float16Builder=_2.FloatBuilder=void 0;var zVe=BA(),HVe=Hl(),iT=class extends HVe.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};_2.FloatBuilder=iT;var j2e=class extends iT{setValue(e,t){super.setValue(e,(0,zVe.float64ToUint16)(t))}};_2.Float16Builder=j2e;var q2e=class extends iT{};_2.Float32Builder=q2e;var U2e=class extends iT{};_2.Float64Builder=U2e});var WJ=Ae(G3=>{"use strict";m();Object.defineProperty(G3,"__esModule",{value:!0});G3.IntervalYearMonthBuilder=G3.IntervalDayTimeBuilder=G3.IntervalBuilder=void 0;var $Ve=Hl(),HJ=Fp(),sT=class extends $Ve.FixedWidthBuilder{};G3.IntervalBuilder=sT;sT.prototype._setValue=HJ.setIntervalValue;var $J=class extends sT{};G3.IntervalDayTimeBuilder=$J;$J.prototype._setValue=HJ.setIntervalDayTime;var VJ=class extends sT{};G3.IntervalYearMonthBuilder=VJ;VJ.prototype._setValue=HJ.setIntervalYearMonth});var QJ=Ae(hc=>{"use strict";m();Object.defineProperty(hc,"__esModule",{value:!0});hc.Uint64Builder=hc.Uint32Builder=hc.Uint16Builder=hc.Uint8Builder=hc.Int64Builder=hc.Int32Builder=hc.Int16Builder=hc.Int8Builder=hc.IntBuilder=void 0;var VVe=Hl(),b2=class extends VVe.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};hc.IntBuilder=b2;var z2e=class extends b2{};hc.Int8Builder=z2e;var H2e=class extends b2{};hc.Int16Builder=H2e;var $2e=class extends b2{};hc.Int32Builder=$2e;var V2e=class extends b2{};hc.Int64Builder=V2e;var W2e=class extends b2{};hc.Uint8Builder=W2e;var Q2e=class extends b2{};hc.Uint16Builder=Q2e;var G2e=class extends b2{};hc.Uint32Builder=G2e;var Y2e=class extends b2{};hc.Uint64Builder=Y2e});var GJ=Ae(JM=>{"use strict";m();Object.defineProperty(JM,"__esModule",{value:!0});JM.ListBuilder=void 0;var WVe=th(),QVe=ru(),GVe=c_(),YVe=Hl(),K2e=class extends YVe.VariableWidthBuilder{constructor(e){super(e);this._offsets=new GVe.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new QVe.List(new WVe.Field(t,e.type,!0)),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let o=s.length,a=t.set(i,o).buffer[i];for(let c=-1;++c<o;)r.set(a+c,s[c])}}};JM.ListBuilder=K2e});var YJ=Ae(XM=>{"use strict";m();Object.defineProperty(XM,"__esModule",{value:!0});XM.MapBuilder=void 0;var KVe=th(),JVe=ru(),XVe=Hl(),J2e=class extends XVe.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){let r=t instanceof Map?t:new Map(Object.entries(t)),i=this._pending||(this._pending=new Map),s=i.get(e);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(e,r)}addChild(e,t=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new JVe.Map_(new KVe.Field(t,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,[r]=this.children;for(let[i,s]of e)if(s===void 0)t.set(i,0);else{let{[i]:o,[i+1]:a}=t.set(i,s.size).buffer;for(let c of s.entries())if(r.set(o,c),++o>=a)break}}};XM.MapBuilder=J2e});var KJ=Ae(ZM=>{"use strict";m();Object.defineProperty(ZM,"__esModule",{value:!0});ZM.NullBuilder=void 0;var ZVe=Hl(),X2e=class extends ZVe.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};ZM.NullBuilder=X2e});var JJ=Ae(eP=>{"use strict";m();Object.defineProperty(eP,"__esModule",{value:!0});eP.StructBuilder=void 0;var eWe=th(),tWe=Hl(),nWe=ru(),Z2e=class extends tWe.Builder{setValue(e,t){let{children:r,type:i}=this;switch(Array.isArray(t)||t.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(e,t[o]));case Map:return i.children.forEach((s,o)=>r[o].set(e,t.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(e,t[s.name]))}}setValid(e,t){return super.setValid(e,t)||this.children.forEach(r=>r.setValid(e,t)),t}addChild(e,t=`${this.numChildren}`){let r=this.children.push(e);return this.type=new nWe.Struct([...this.type.children,new eWe.Field(t,e.type,!0)]),r}};eP.StructBuilder=Z2e});var nX=Ae(Lp=>{"use strict";m();Object.defineProperty(Lp,"__esModule",{value:!0});Lp.TimestampNanosecondBuilder=Lp.TimestampMicrosecondBuilder=Lp.TimestampMillisecondBuilder=Lp.TimestampSecondBuilder=Lp.TimestampBuilder=void 0;var rWe=Hl(),oT=Fp(),b_=class extends rWe.FixedWidthBuilder{};Lp.TimestampBuilder=b_;b_.prototype._setValue=oT.setTimestamp;var XJ=class extends b_{};Lp.TimestampSecondBuilder=XJ;XJ.prototype._setValue=oT.setTimestampSecond;var ZJ=class extends b_{};Lp.TimestampMillisecondBuilder=ZJ;ZJ.prototype._setValue=oT.setTimestampMillisecond;var eX=class extends b_{};Lp.TimestampMicrosecondBuilder=eX;eX.prototype._setValue=oT.setTimestampMicrosecond;var tX=class extends b_{};Lp.TimestampNanosecondBuilder=tX;tX.prototype._setValue=oT.setTimestampNanosecond});var aX=Ae(kp=>{"use strict";m();Object.defineProperty(kp,"__esModule",{value:!0});kp.TimeNanosecondBuilder=kp.TimeMicrosecondBuilder=kp.TimeMillisecondBuilder=kp.TimeSecondBuilder=kp.TimeBuilder=void 0;var iWe=Hl(),aT=Fp(),E_=class extends iWe.FixedWidthBuilder{};kp.TimeBuilder=E_;E_.prototype._setValue=aT.setTime;var rX=class extends E_{};kp.TimeSecondBuilder=rX;rX.prototype._setValue=aT.setTimeSecond;var iX=class extends E_{};kp.TimeMillisecondBuilder=iX;iX.prototype._setValue=aT.setTimeMillisecond;var sX=class extends E_{};kp.TimeMicrosecondBuilder=sX;sX.prototype._setValue=aT.setTimeMicrosecond;var oX=class extends E_{};kp.TimeNanosecondBuilder=oX;oX.prototype._setValue=aT.setTimeNanosecond});var uX=Ae(Y3=>{"use strict";m();Object.defineProperty(Y3,"__esModule",{value:!0});Y3.DenseUnionBuilder=Y3.SparseUnionBuilder=Y3.UnionBuilder=void 0;var sWe=th(),exe=c_(),oWe=Hl(),aWe=ru(),tP=class extends oWe.Builder{constructor(e){super(e);this._typeIds=new exe.DataBufferBuilder(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,r){return r===void 0&&(r=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,r),this}setValue(e,t,r){this._typeIds.set(e,r);let i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(e,t)}addChild(e,t=`${this.children.length}`){let r=this.children.push(e),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new sWe.Field(t,e.type)];return this.type=new aWe.Union(s,[...o,r],a),r}_valueToChildTypeId(e,t,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};Y3.UnionBuilder=tP;var txe=class extends tP{};Y3.SparseUnionBuilder=txe;var nxe=class extends tP{constructor(e){super(e);this._offsets=new exe.DataBufferBuilder(new Int32Array(0))}setValue(e,t,r){let i=this._typeIds.set(e,r).buffer[e],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(e,s.length).buffer[e];s==null||s.set(o,t)}};Y3.DenseUnionBuilder=nxe});var cX=Ae(nP=>{"use strict";m();Object.defineProperty(nP,"__esModule",{value:!0});nP.Utf8Builder=void 0;var uWe=o_(),lWe=VM(),cWe=c_(),fWe=Hl(),lX=class extends fWe.VariableWidthBuilder{constructor(e){super(e);this._values=new cWe.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,(0,uWe.encodeUtf8)(t))}_flushPending(e,t){}};nP.Utf8Builder=lX;lX.prototype._flushPending=lWe.BinaryBuilder.prototype._flushPending});var rxe=Ae(N7=>{"use strict";m();Object.defineProperty(N7,"__esModule",{value:!0});N7.instance=N7.GetBuilderCtor=void 0;var dWe=cd(),hWe=VM(),pWe=RJ(),fX=IJ(),mWe=PJ(),xWe=BJ(),gWe=qJ(),yWe=UJ(),rP=zJ(),dX=WJ(),hg=QJ(),vWe=GJ(),_We=YJ(),bWe=KJ(),EWe=JJ(),uT=nX(),lT=aX(),hX=uX(),SWe=cX(),pX=class extends dWe.Visitor{visitNull(){return bWe.NullBuilder}visitBool(){return pWe.BoolBuilder}visitInt(){return hg.IntBuilder}visitInt8(){return hg.Int8Builder}visitInt16(){return hg.Int16Builder}visitInt32(){return hg.Int32Builder}visitInt64(){return hg.Int64Builder}visitUint8(){return hg.Uint8Builder}visitUint16(){return hg.Uint16Builder}visitUint32(){return hg.Uint32Builder}visitUint64(){return hg.Uint64Builder}visitFloat(){return rP.FloatBuilder}visitFloat16(){return rP.Float16Builder}visitFloat32(){return rP.Float32Builder}visitFloat64(){return rP.Float64Builder}visitUtf8(){return SWe.Utf8Builder}visitBinary(){return hWe.BinaryBuilder}visitFixedSizeBinary(){return gWe.FixedSizeBinaryBuilder}visitDate(){return fX.DateBuilder}visitDateDay(){return fX.DateDayBuilder}visitDateMillisecond(){return fX.DateMillisecondBuilder}visitTimestamp(){return uT.TimestampBuilder}visitTimestampSecond(){return uT.TimestampSecondBuilder}visitTimestampMillisecond(){return uT.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return uT.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return uT.TimestampNanosecondBuilder}visitTime(){return lT.TimeBuilder}visitTimeSecond(){return lT.TimeSecondBuilder}visitTimeMillisecond(){return lT.TimeMillisecondBuilder}visitTimeMicrosecond(){return lT.TimeMicrosecondBuilder}visitTimeNanosecond(){return lT.TimeNanosecondBuilder}visitDecimal(){return mWe.DecimalBuilder}visitList(){return vWe.ListBuilder}visitStruct(){return EWe.StructBuilder}visitUnion(){return hX.UnionBuilder}visitDenseUnion(){return hX.DenseUnionBuilder}visitSparseUnion(){return hX.SparseUnionBuilder}visitDictionary(){return xWe.DictionaryBuilder}visitInterval(){return dX.IntervalBuilder}visitIntervalDayTime(){return dX.IntervalDayTimeBuilder}visitIntervalYearMonth(){return dX.IntervalYearMonthBuilder}visitFixedSizeList(){return yWe.FixedSizeListBuilder}visitMap(){return _We.MapBuilder}};N7.GetBuilderCtor=pX;N7.instance=new pX});var hT=Ae(Fl=>{"use strict";m();Object.defineProperty(Fl,"__esModule",{value:!0});Fl.compareTypes=Fl.compareFields=Fl.compareSchemas=Fl.instance=Fl.TypeComparator=void 0;var wWe=cd(),$s=class extends wWe.Visitor{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((r,i)=>this.compareFields(r,t[i]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}};Fl.TypeComparator=$s;function rh(n,e){return e instanceof n.constructor}function cT(n,e){return n===e||rh(n,e)}function pg(n,e){return n===e||rh(n,e)&&n.bitWidth===e.bitWidth&&n.isSigned===e.isSigned}function iP(n,e){return n===e||rh(n,e)&&n.precision===e.precision}function CWe(n,e){return n===e||rh(n,e)&&n.byteWidth===e.byteWidth}function mX(n,e){return n===e||rh(n,e)&&n.unit===e.unit}function fT(n,e){return n===e||rh(n,e)&&n.unit===e.unit&&n.timezone===e.timezone}function dT(n,e){return n===e||rh(n,e)&&n.unit===e.unit&&n.bitWidth===e.bitWidth}function AWe(n,e){return n===e||rh(n,e)&&n.children.length===e.children.length&&Fl.instance.compareManyFields(n.children,e.children)}function TWe(n,e){return n===e||rh(n,e)&&n.children.length===e.children.length&&Fl.instance.compareManyFields(n.children,e.children)}function xX(n,e){return n===e||rh(n,e)&&n.mode===e.mode&&n.typeIds.every((t,r)=>t===e.typeIds[r])&&Fl.instance.compareManyFields(n.children,e.children)}function FWe(n,e){return n===e||rh(n,e)&&n.id===e.id&&n.isOrdered===e.isOrdered&&Fl.instance.visit(n.indices,e.indices)&&Fl.instance.visit(n.dictionary,e.dictionary)}function gX(n,e){return n===e||rh(n,e)&&n.unit===e.unit}function DWe(n,e){return n===e||rh(n,e)&&n.listSize===e.listSize&&n.children.length===e.children.length&&Fl.instance.compareManyFields(n.children,e.children)}function OWe(n,e){return n===e||rh(n,e)&&n.keysSorted===e.keysSorted&&n.children.length===e.children.length&&Fl.instance.compareManyFields(n.children,e.children)}$s.prototype.visitNull=cT;$s.prototype.visitBool=cT;$s.prototype.visitInt=pg;$s.prototype.visitInt8=pg;$s.prototype.visitInt16=pg;$s.prototype.visitInt32=pg;$s.prototype.visitInt64=pg;$s.prototype.visitUint8=pg;$s.prototype.visitUint16=pg;$s.prototype.visitUint32=pg;$s.prototype.visitUint64=pg;$s.prototype.visitFloat=iP;$s.prototype.visitFloat16=iP;$s.prototype.visitFloat32=iP;$s.prototype.visitFloat64=iP;$s.prototype.visitUtf8=cT;$s.prototype.visitBinary=cT;$s.prototype.visitFixedSizeBinary=CWe;$s.prototype.visitDate=mX;$s.prototype.visitDateDay=mX;$s.prototype.visitDateMillisecond=mX;$s.prototype.visitTimestamp=fT;$s.prototype.visitTimestampSecond=fT;$s.prototype.visitTimestampMillisecond=fT;$s.prototype.visitTimestampMicrosecond=fT;$s.prototype.visitTimestampNanosecond=fT;$s.prototype.visitTime=dT;$s.prototype.visitTimeSecond=dT;$s.prototype.visitTimeMillisecond=dT;$s.prototype.visitTimeMicrosecond=dT;$s.prototype.visitTimeNanosecond=dT;$s.prototype.visitDecimal=cT;$s.prototype.visitList=AWe;$s.prototype.visitStruct=TWe;$s.prototype.visitUnion=xX;$s.prototype.visitDenseUnion=xX;$s.prototype.visitSparseUnion=xX;$s.prototype.visitDictionary=FWe;$s.prototype.visitInterval=gX;$s.prototype.visitIntervalDayTime=gX;$s.prototype.visitIntervalYearMonth=gX;$s.prototype.visitFixedSizeList=DWe;$s.prototype.visitMap=OWe;Fl.instance=new $s;function RWe(n,e){return Fl.instance.compareSchemas(n,e)}Fl.compareSchemas=RWe;function NWe(n,e){return Fl.instance.compareFields(n,e)}Fl.compareFields=NWe;function LWe(n,e){return Fl.instance.visit(n,e)}Fl.compareTypes=LWe});var rT=Ae(Mp=>{"use strict";m();Object.defineProperty(Mp,"__esModule",{value:!0});Mp.builderThroughAsyncIterable=Mp.builderThroughIterable=Mp.tableFromJSON=Mp.vectorFromArray=Mp.makeBuilder=void 0;var S_=ds(),yX=th(),Ip=S_.__importStar(ru()),kWe=u2(),ixe=fd(),IWe=rxe(),MWe=L7(),PWe=K3(),BWe=hT();function sP(n){let e=n.type,t=new(IWe.instance.getVisitFn(e)())(n);if(e.children&&e.children.length>0){let r=n.children||[],i={nullValues:n.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(let[o,a]of e.children.entries()){let{type:c}=a,d=s(a,o);t.children.push(sP(Object.assign(Object.assign({},d),{type:c})))}}return t}Mp.makeBuilder=sP;function sxe(n,e){if(n instanceof kWe.Data||n instanceof ixe.Vector||n.type instanceof Ip.DataType||ArrayBuffer.isView(n))return(0,ixe.makeVector)(n);let t={type:e??oP(n),nullValues:[null]},r=[...oxe(t)(n)],i=r.length===1?r[0]:r.reduce((s,o)=>s.concat(o));return Ip.DataType.isDictionary(i.type)?i.memoize():i}Mp.vectorFromArray=sxe;function jWe(n){let e=sxe(n),t=new PWe.RecordBatch(new yX.Schema(e.type.children),e.data[0]);return new MWe.Table(t)}Mp.tableFromJSON=jWe;function oP(n){if(n.length===0)return new Ip.Null;let e=0,t=0,r=0,i=0,s=0,o=0,a=0,c=0;for(let d of n){if(d==null){++e;continue}switch(typeof d){case"bigint":++o;continue;case"boolean":++a;continue;case"number":++i;continue;case"string":++s;continue;case"object":Array.isArray(d)?++t:Object.prototype.toString.call(d)==="[object Date]"?++c:++r;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}if(i+e===n.length)return new Ip.Float64;if(s+e===n.length)return new Ip.Dictionary(new Ip.Utf8,new Ip.Int32);if(o+e===n.length)return new Ip.Int64;if(a+e===n.length)return new Ip.Bool;if(c+e===n.length)return new Ip.DateMillisecond;if(t+e===n.length){let d=n,p=oP(d[d.findIndex(E=>E!=null)]);if(d.every(E=>E==null||(0,BWe.compareTypes)(p,oP(E))))return new Ip.List(new yX.Field("",p,!0))}else if(r+e===n.length){let d=new Map;for(let p of n)for(let E of Object.keys(p))!d.has(E)&&p[E]!=null&&d.set(E,new yX.Field(E,oP([p[E]]),!0));return new Ip.Struct([...d.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}function oxe(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function*(i){let s=0,o=sP(n);for(let a of i)o.append(a)[r]>=t&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}Mp.builderThroughIterable=oxe;function qWe(n){let{["queueingStrategy"]:e="count"}=n,{["highWaterMark"]:t=e!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=n,r=e!=="bytes"?"length":"byteLength";return function(i){return S_.__asyncGenerator(this,arguments,function*(){var s,o;let a=0,c=sP(n);try{for(var d=S_.__asyncValues(i),p;p=yield S_.__await(d.next()),!p.done;){let E=p.value;c.append(E)[r]>=t&&++a&&(yield yield S_.__await(c.toVector()))}}catch(E){s={error:E}}finally{try{p&&!p.done&&(o=d.return)&&(yield S_.__await(o.call(d)))}finally{if(s)throw s.error}}(c.finish().length>0||a===0)&&(yield yield S_.__await(c.toVector()))})}}Mp.builderThroughAsyncIterable=qWe});var uxe=Ae(aP=>{"use strict";m();Object.defineProperty(aP,"__esModule",{value:!0});aP.distributeVectorsIntoRecordBatches=void 0;var axe=u2(),UWe=ru(),zWe=K3();function HWe(n,e){return $We(n,e.map(t=>t.data.concat()))}aP.distributeVectorsIntoRecordBatches=HWe;function $We(n,e){let t=[...n.fields],r=[],i={numBatches:e.reduce((E,w)=>Math.max(E,w.length),0)},s=0,o=0,a=-1,c=e.length,d,p=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<c;)p[a]=d=e[a].shift(),o=Math.min(o,d?d.length:o);Number.isFinite(o)&&(p=VWe(t,o,p,e,i),o>0&&(r[s++]=(0,axe.makeData)({type:new UWe.Struct(t),length:o,nullCount:0,children:p.slice()})))}return[n=n.assign(t),r.map(E=>new zWe.RecordBatch(n,E))]}function VWe(n,e,t,r,i){var s;let o=(e+63&~63)>>3;for(let a=-1,c=r.length;++a<c;){let d=t[a],p=d==null?void 0:d.length;if(p>=e)p===e?t[a]=d:(t[a]=d.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(d.slice(e,p-e))));else{let E=n[a];n[a]=E.clone({nullable:!0}),t[a]=(s=d==null?void 0:d._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:(0,axe.makeData)({type:E.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return t}});var L7=Ae(J3=>{"use strict";m();var lxe;Object.defineProperty(J3,"__esModule",{value:!0});J3.tableFromArrays=J3.makeTable=J3.Table=void 0;var uP=Tl(),vX=u2(),WWe=rT(),pT=fd(),w_=th(),cxe=ru(),QWe=hT(),_X=uxe(),mg=$I(),GWe=u_(),YWe=Fp(),KWe=VI(),JWe=WI(),XWe=QI(),ZWe=UA(),k7=K3(),Bh=class{constructor(...e){var t,r;if(e.length===0)return this.batches=[],this.schema=new w_.Schema([]),this._offsets=[0],this;let i,s;e[0]instanceof w_.Schema&&(i=e.shift()),e[e.length-1]instanceof Uint32Array&&(s=e.pop());let o=c=>{if(c){if(c instanceof k7.RecordBatch)return[c];if(c instanceof Bh)return c.batches;if(c instanceof vX.Data){if(c.type instanceof cxe.Struct)return[new k7.RecordBatch(new w_.Schema(c.type.children),c)]}else{if(Array.isArray(c))return c.flatMap(d=>o(d));if(typeof c[Symbol.iterator]=="function")return[...c].flatMap(d=>o(d));if(typeof c=="object"){let d=Object.keys(c),p=d.map(N=>new pT.Vector([c[N]])),E=new w_.Schema(d.map((N,R)=>new w_.Field(String(N),p[R].type))),[,w]=(0,_X.distributeVectorsIntoRecordBatches)(E,p);return w.length===0?[new k7.RecordBatch(c)]:w}}}return[]},a=e.flatMap(c=>o(c));if(i=(r=i??((t=a[0])===null||t===void 0?void 0:t.schema))!==null&&r!==void 0?r:new w_.Schema([]),!(i instanceof w_.Schema))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let c of a){if(!(c instanceof k7.RecordBatch))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,QWe.compareSchemas)(i,c.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??(0,mg.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,mg.computeChunkNullCounts)(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?JWe.instance.visit(new pT.Vector(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){let t=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new Bh(t,r.map(i=>new k7.RecordBatch(t,i)))}slice(e,t){let r=this.schema;[e,t]=(0,ZWe.clampRange)({length:this.numRows},e,t);let i=(0,mg.sliceChunks)(this.data,this._offsets,e,t);return new Bh(r,i.map(s=>new k7.RecordBatch(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){let t=this.data.map(r=>r.children[e]);if(t.length===0){let{type:r}=this.schema.fields[e],i=(0,vX.makeData)({type:r,length:0,nullCount:0});t.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new pT.Vector(t)}return null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new pT.Vector([(0,vX.makeData)({type:new cxe.Null,length:this.numRows})]));let s=r.fields.slice(),o=s[e].clone({type:t.type}),a=this.schema.fields.map((c,d)=>this.getChildAt(d));[s[e],a[e]]=[o,t],[r,i]=(0,_X.distributeVectorsIntoRecordBatches)(r,a)}return new Bh(r,i)}select(e){let t=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>t.get(r)).filter(r=>r>-1))}selectAt(e){let t=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new Bh(t,r)}assign(e){let t=this.schema.fields,[r,i]=e.schema.fields.reduce((a,c,d)=>{let[p,E]=a,w=t.findIndex(N=>N.name===c.name);return~w?E[w]=d:p.push(d),a},[[],[]]),s=this.schema.assign(e.schema),o=[...t.map((a,c)=>[c,i[c]]).map(([a,c])=>c===void 0?this.getChildAt(a):e.getChildAt(c)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new Bh(...(0,_X.distributeVectorsIntoRecordBatches)(s,o))}};J3.Table=Bh;lxe=Symbol.toStringTag;Bh[lxe]=(n=>(n.schema=null,n.batches=[],n._offsets=new Uint32Array([0]),n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,n.isValid=(0,mg.wrapChunkedCall1)(mg.isChunkedValid),n.get=(0,mg.wrapChunkedCall1)(GWe.instance.getVisitFn(uP.Type.Struct)),n.set=(0,mg.wrapChunkedCall2)(YWe.instance.getVisitFn(uP.Type.Struct)),n.indexOf=(0,mg.wrapChunkedIndexOf)(KWe.instance.getVisitFn(uP.Type.Struct)),n.getByteLength=(0,mg.wrapChunkedCall1)(XWe.instance.getVisitFn(uP.Type.Struct)),"Table"))(Bh.prototype);function eQe(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,pT.makeVector)(i);return new Bh(e)}J3.makeTable=eQe;function tQe(n){let e={},t=Object.entries(n);for(let[r,i]of t)e[r]=(0,WWe.vectorFromArray)(i);return new Bh(e)}J3.tableFromArrays=tQe});var K3=Ae(I7=>{"use strict";m();var fxe;Object.defineProperty(I7,"__esModule",{value:!0});I7._InternalEmptyPlaceholderRecordBatch=I7.RecordBatch=void 0;var Pp=u2(),nQe=L7(),lP=fd(),cP=th(),xg=ru(),rQe=u_(),iQe=Fp(),sQe=VI(),oQe=WI(),aQe=QI(),E2=class{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof cP.Schema))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,Pp.makeData)({nullCount:0,type:new xg.Struct(this.schema.fields),children:this.schema.fields.map(t=>(0,Pp.makeData)({type:t.type,nullCount:0}))})]=e,!(this.data instanceof Pp.Data))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=dxe(this.schema,this.data.children);break}case 1:{let[t]=e,{fields:r,children:i,length:s}=Object.keys(t).reduce((c,d,p)=>(c.children[p]=t[d],c.length=Math.max(c.length,t[d].length),c.fields[p]=cP.Field.new({name:d,type:t[d].type,nullable:!0}),c),{length:0,fields:new Array,children:new Array}),o=new cP.Schema(r),a=(0,Pp.makeData)({type:new xg.Struct(r),length:s,children:i,nullCount:0});[this.schema,this.data]=dxe(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=hxe(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return rQe.instance.visit(this.data,e)}set(e,t){return iQe.instance.visit(this.data,e,t)}indexOf(e,t){return sQe.instance.visit(this.data,e,t)}getByteLength(e){return aQe.instance.visit(this.data,e)}[Symbol.iterator](){return oQe.instance.visit(new lP.Vector([this.data]))}toArray(){return[...this]}concat(...e){return new nQe.Table(this.schema,[this,...e])}slice(e,t){let[r]=new lP.Vector([this.data]).slice(e,t).data;return new E2(this.schema,r)}getChild(e){var t;return this.getChildAt((t=this.schema.fields)===null||t===void 0?void 0:t.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new lP.Vector([this.data.children[e]]):null}setChild(e,t){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),t)}setChildAt(e,t){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){t||(t=new lP.Vector([(0,Pp.makeData)({type:new xg.Null,length:this.numRows})]));let s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:t.type});[s[e],o[e]]=[a,t.data[0]],r=new cP.Schema(s,new Map(this.schema.metadata)),i=(0,Pp.makeData)({type:new xg.Struct(s),children:o})}return new E2(r,i)}select(e){let t=this.schema.select(e),r=new xg.Struct(t.fields),i=[];for(let s of e){let o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new E2(t,(0,Pp.makeData)({type:r,length:this.numRows,children:i}))}selectAt(e){let t=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=(0,Pp.makeData)({type:new xg.Struct(t.fields),length:this.numRows,children:r});return new E2(t,i)}};I7.RecordBatch=E2;fxe=Symbol.toStringTag;E2[fxe]=(n=>(n._nullCount=-1,n[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(E2.prototype);function dxe(n,e,t=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;let i=[...n.fields],s=[...e],o=(t+63&~63)>>3;for(let[a,c]of n.fields.entries()){let d=e[a];(!d||d.length!==t)&&(i[a]=c.clone({nullable:!0}),s[a]=(r=d==null?void 0:d._changeLengthAndBackfillNullBitmap(t))!==null&&r!==void 0?r:(0,Pp.makeData)({type:c.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)}))}return[n.assign(i),(0,Pp.makeData)({type:new xg.Struct(i),length:t,children:s})]}function hxe(n,e,t=new Map){for(let r=-1,i=n.length;++r<i;){let o=n[r].type,a=e[r];if(xg.DataType.isDictionary(o)){if(!t.has(o.id))a.dictionary&&t.set(o.id,a.dictionary);else if(t.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&hxe(o.children,a.children,t)}return t}var pxe=class extends E2{constructor(e){let t=e.fields.map(i=>(0,Pp.makeData)({type:i.type})),r=(0,Pp.makeData)({type:new xg.Struct(e.fields),nullCount:0,children:t});super(e,r)}};I7._InternalEmptyPlaceholderRecordBatch=pxe});var mxe=Ae(mT=>{"use strict";m();Object.defineProperty(mT,"__esModule",{value:!0});mT.BodyCompressionMethod=void 0;var uQe;(function(n){n[n.BUFFER=0]="BUFFER"})(uQe=mT.BodyCompressionMethod||(mT.BodyCompressionMethod={}))});var xxe=Ae(xT=>{"use strict";m();Object.defineProperty(xT,"__esModule",{value:!0});xT.CompressionType=void 0;var lQe;(function(n){n[n.LZ4_FRAME=0]="LZ4_FRAME",n[n.ZSTD=1]="ZSTD"})(lQe=xT.CompressionType||(xT.CompressionType={}))});var vxe=Ae(fP=>{"use strict";m();Object.defineProperty(fP,"__esModule",{value:!0});fP.BodyCompression=void 0;var cQe=ds(),fQe=cQe.__importStar(Co()),gxe=mxe(),yxe=xxe(),gg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new gg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+fQe.SIZE_PREFIX_LENGTH),(t||new gg).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):yxe.CompressionType.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):gxe.BodyCompressionMethod.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,yxe.CompressionType.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,gxe.BodyCompressionMethod.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,r){return gg.startBodyCompression(e),gg.addCodec(e,t),gg.addMethod(e,r),gg.endBodyCompression(e)}};fP.BodyCompression=gg});var X3=Ae(dP=>{"use strict";m();Object.defineProperty(dP,"__esModule",{value:!0});dP.Buffer=void 0;var _xe=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};dP.Buffer=_xe});var bX=Ae(hP=>{"use strict";m();Object.defineProperty(hP,"__esModule",{value:!0});hP.FieldNode=void 0;var bxe=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}};hP.FieldNode=bxe});var mP=Ae(pP=>{"use strict";m();Object.defineProperty(pP,"__esModule",{value:!0});pP.RecordBatch=void 0;var dQe=ds(),hQe=dQe.__importStar(Co()),pQe=vxe(),mQe=X3(),xQe=bX(),gT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new gT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+hQe.SIZE_PREFIX_LENGTH),(t||new gT).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new xQe.FieldNode).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new mQe.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new pQe.BodyCompression).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}};pP.RecordBatch=gT});var EX=Ae(xP=>{"use strict";m();Object.defineProperty(xP,"__esModule",{value:!0});xP.DictionaryBatch=void 0;var gQe=ds(),yQe=gQe.__importStar(Co()),vQe=mP(),yT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new yT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+yQe.SIZE_PREFIX_LENGTH),(t||new yT).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new vQe.RecordBatch).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}};xP.DictionaryBatch=yT});var Exe=Ae(vT=>{"use strict";m();Object.defineProperty(vT,"__esModule",{value:!0});vT.SparseMatrixCompressedAxis=void 0;var _Qe;(function(n){n[n.Row=0]="Row",n[n.Column=1]="Column"})(_Qe=vT.SparseMatrixCompressedAxis||(vT.SparseMatrixCompressedAxis={}))});var Axe=Ae(gP=>{"use strict";m();Object.defineProperty(gP,"__esModule",{value:!0});gP.SparseMatrixIndexCSX=void 0;var bQe=ds(),EQe=bQe.__importStar(Co()),Sxe=X3(),wxe=L3(),Cxe=Exe(),_T=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseMatrixIndexCSX(e,t){return(t||new _T).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseMatrixIndexCSX(e,t){return e.setPosition(e.position()+EQe.SIZE_PREFIX_LENGTH),(t||new _T).__init(e.readInt32(e.position())+e.position(),e)}compressedAxis(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Cxe.SparseMatrixCompressedAxis.Row}indptrType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new wxe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new Sxe.Buffer).__init(this.bb_pos+t,this.bb):null}indicesType(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new wxe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new Sxe.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseMatrixIndexCSX(e){e.startObject(5)}static addCompressedAxis(e,t){e.addFieldInt16(0,t,Cxe.SparseMatrixCompressedAxis.Row)}static addIndptrType(e,t){e.addFieldOffset(1,t,0)}static addIndptrBuffer(e,t){e.addFieldStruct(2,t,0)}static addIndicesType(e,t){e.addFieldOffset(3,t,0)}static addIndicesBuffer(e,t){e.addFieldStruct(4,t,0)}static endSparseMatrixIndexCSX(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};gP.SparseMatrixIndexCSX=_T});var Txe=Ae(yP=>{"use strict";m();Object.defineProperty(yP,"__esModule",{value:!0});yP.SparseTensorIndexCOO=void 0;var SQe=ds(),wQe=SQe.__importStar(Co()),CQe=X3(),AQe=L3(),bT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCOO(e,t){return(t||new bT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCOO(e,t){return e.setPosition(e.position()+wQe.SIZE_PREFIX_LENGTH),(t||new bT).__init(e.readInt32(e.position())+e.position(),e)}indicesType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new AQe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesStrides(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}indicesStridesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesBuffer(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new CQe.Buffer).__init(this.bb_pos+t,this.bb):null}isCanonical(){let e=this.bb.__offset(this.bb_pos,10);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startSparseTensorIndexCOO(e){e.startObject(4)}static addIndicesType(e,t){e.addFieldOffset(0,t,0)}static addIndicesStrides(e,t){e.addFieldOffset(1,t,0)}static createIndicesStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startIndicesStridesVector(e,t){e.startVector(8,t,8)}static addIndicesBuffer(e,t){e.addFieldStruct(2,t,0)}static addIsCanonical(e,t){e.addFieldInt8(3,+t,0)}static endSparseTensorIndexCOO(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,8),t}};yP.SparseTensorIndexCOO=bT});var Oxe=Ae(vP=>{"use strict";m();Object.defineProperty(vP,"__esModule",{value:!0});vP.SparseTensorIndexCSF=void 0;var TQe=ds(),FQe=TQe.__importStar(Co()),Fxe=X3(),Dxe=L3(),ET=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensorIndexCSF(e,t){return(t||new ET).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCSF(e,t){return e.setPosition(e.position()+FQe.SIZE_PREFIX_LENGTH),(t||new ET).__init(e.readInt32(e.position())+e.position(),e)}indptrType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new Dxe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indptrBuffers(e,t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new Fxe.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indptrBuffersLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesType(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new Dxe.Int).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indicesBuffers(e,t){let r=this.bb.__offset(this.bb_pos,10);return r?(t||new Fxe.Buffer).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}indicesBuffersLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrder(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}axisOrderLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrderArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startSparseTensorIndexCSF(e){e.startObject(5)}static addIndptrType(e,t){e.addFieldOffset(0,t,0)}static addIndptrBuffers(e,t){e.addFieldOffset(1,t,0)}static startIndptrBuffersVector(e,t){e.startVector(16,t,8)}static addIndicesType(e,t){e.addFieldOffset(2,t,0)}static addIndicesBuffers(e,t){e.addFieldOffset(3,t,0)}static startIndicesBuffersVector(e,t){e.startVector(16,t,8)}static addAxisOrder(e,t){e.addFieldOffset(4,t,0)}static createAxisOrderVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startAxisOrderVector(e,t){e.startVector(4,t,4)}static endSparseTensorIndexCSF(e){let t=e.endObject();return e.requiredField(t,4),e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,10),e.requiredField(t,12),t}};vP.SparseTensorIndexCSF=ET});var kxe=Ae(yg=>{"use strict";m();Object.defineProperty(yg,"__esModule",{value:!0});yg.unionListToSparseTensorIndex=yg.unionToSparseTensorIndex=yg.SparseTensorIndex=void 0;var Rxe=Axe(),Nxe=Txe(),Lxe=Oxe(),SX;(function(n){n[n.NONE=0]="NONE",n[n.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",n[n.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",n[n.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(SX=yg.SparseTensorIndex||(yg.SparseTensorIndex={}));function DQe(n,e){switch(SX[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(new Nxe.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(new Rxe.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(new Lxe.SparseTensorIndexCSF);default:return null}}yg.unionToSparseTensorIndex=DQe;function OQe(n,e,t){switch(SX[n]){case"NONE":return null;case"SparseTensorIndexCOO":return e(t,new Nxe.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(t,new Rxe.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(t,new Lxe.SparseTensorIndexCSF);default:return null}}yg.unionListToSparseTensorIndex=OQe});var wX=Ae(_P=>{"use strict";m();Object.defineProperty(_P,"__esModule",{value:!0});_P.TensorDim=void 0;var RQe=ds(),NQe=RQe.__importStar(Co()),vg=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorDim(e,t){return(t||new vg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorDim(e,t){return e.setPosition(e.position()+NQe.SIZE_PREFIX_LENGTH),(t||new vg).__init(e.readInt32(e.position())+e.position(),e)}size(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}name(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTensorDim(e){e.startObject(2)}static addSize(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addName(e,t){e.addFieldOffset(1,t,0)}static endTensorDim(e){return e.endObject()}static createTensorDim(e,t,r){return vg.startTensorDim(e),vg.addSize(e,t),vg.addName(e,r),vg.endTensorDim(e)}};_P.TensorDim=vg});var Pxe=Ae(bP=>{"use strict";m();Object.defineProperty(bP,"__esModule",{value:!0});bP.SparseTensor=void 0;var LQe=ds(),kQe=LQe.__importStar(Co()),IQe=X3(),Ixe=kxe(),MQe=wX(),Mxe=E7(),ST=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new ST).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+kQe.SIZE_PREFIX_LENGTH),(t||new ST).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):Mxe.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new MQe.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}nonZeroLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}sparseIndexType(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb_pos+e):Ixe.SparseTensorIndex.NONE}sparseIndex(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__union(e,this.bb_pos+t):null}data(e){let t=this.bb.__offset(this.bb_pos,16);return t?(e||new IQe.Buffer).__init(this.bb_pos+t,this.bb):null}static startSparseTensor(e){e.startObject(7)}static addTypeType(e,t){e.addFieldInt8(0,t,Mxe.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addNonZeroLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addSparseIndexType(e,t){e.addFieldInt8(4,t,Ixe.SparseTensorIndex.NONE)}static addSparseIndex(e,t){e.addFieldOffset(5,t,0)}static addData(e,t){e.addFieldStruct(6,t,0)}static endSparseTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,14),e.requiredField(t,16),t}static finishSparseTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedSparseTensorBuffer(e,t){e.finish(t,void 0,!0)}};bP.SparseTensor=ST});var jxe=Ae(EP=>{"use strict";m();Object.defineProperty(EP,"__esModule",{value:!0});EP.Tensor=void 0;var PQe=ds(),BQe=PQe.__importStar(Co()),jQe=X3(),qQe=wX(),Bxe=E7(),wT=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new wT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+BQe.SIZE_PREFIX_LENGTH),(t||new wT).__init(e.readInt32(e.position())+e.position(),e)}typeType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):Bxe.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__union(e,this.bb_pos+t):null}shape(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new qQe.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}shapeLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}strides(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}stridesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}data(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new jQe.Buffer).__init(this.bb_pos+t,this.bb):null}static startTensor(e){e.startObject(5)}static addTypeType(e,t){e.addFieldInt8(0,t,Bxe.Type.NONE)}static addType(e,t){e.addFieldOffset(1,t,0)}static addShape(e,t){e.addFieldOffset(2,t,0)}static createShapeVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startShapeVector(e,t){e.startVector(4,t,4)}static addStrides(e,t){e.addFieldOffset(3,t,0)}static createStridesVector(e,t){e.startVector(8,t.length,8);for(let r=t.length-1;r>=0;r--)e.addInt64(t[r]);return e.endVector()}static startStridesVector(e,t){e.startVector(8,t,8)}static addData(e,t){e.addFieldStruct(4,t,0)}static endTensor(e){let t=e.endObject();return e.requiredField(t,6),e.requiredField(t,8),e.requiredField(t,12),t}static finishTensorBuffer(e,t){e.finish(t)}static finishSizePrefixedTensorBuffer(e,t){e.finish(t,void 0,!0)}};EP.Tensor=wT});var AX=Ae(_g=>{"use strict";m();Object.defineProperty(_g,"__esModule",{value:!0});_g.unionListToMessageHeader=_g.unionToMessageHeader=_g.MessageHeader=void 0;var qxe=EX(),Uxe=mP(),zxe=BM(),Hxe=Pxe(),$xe=jxe(),CX;(function(n){n[n.NONE=0]="NONE",n[n.Schema=1]="Schema",n[n.DictionaryBatch=2]="DictionaryBatch",n[n.RecordBatch=3]="RecordBatch",n[n.Tensor=4]="Tensor",n[n.SparseTensor=5]="SparseTensor"})(CX=_g.MessageHeader||(_g.MessageHeader={}));function UQe(n,e){switch(CX[n]){case"NONE":return null;case"Schema":return e(new zxe.Schema);case"DictionaryBatch":return e(new qxe.DictionaryBatch);case"RecordBatch":return e(new Uxe.RecordBatch);case"Tensor":return e(new $xe.Tensor);case"SparseTensor":return e(new Hxe.SparseTensor);default:return null}}_g.unionToMessageHeader=UQe;function zQe(n,e,t){switch(CX[n]){case"NONE":return null;case"Schema":return e(t,new zxe.Schema);case"DictionaryBatch":return e(t,new qxe.DictionaryBatch);case"RecordBatch":return e(t,new Uxe.RecordBatch);case"Tensor":return e(t,new $xe.Tensor);case"SparseTensor":return e(t,new Hxe.SparseTensor);default:return null}}_g.unionListToMessageHeader=zQe});var Qxe=Ae(SP=>{"use strict";m();Object.defineProperty(SP,"__esModule",{value:!0});SP.Message=void 0;var HQe=ds(),$Qe=HQe.__importStar(Co()),VQe=b7(),Vxe=AX(),Wxe=lJ(),Bp=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new Bp).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+$Qe.SIZE_PREFIX_LENGTH),(t||new Bp).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Wxe.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Vxe.MessageHeader.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new VQe.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,Wxe.MetadataVersion.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,Vxe.MessageHeader.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,r,i,s,o){return Bp.startMessage(e),Bp.addVersion(e,t),Bp.addHeaderType(e,r),Bp.addHeader(e,i),Bp.addBodyLength(e,s),Bp.addCustomMetadata(e,o),Bp.endMessage(e)}};SP.Message=Bp});var ege=Ae(P7=>{"use strict";m();Object.defineProperty(P7,"__esModule",{value:!0});P7.instance=P7.TypeAssembler=void 0;var WQe=ds(),QQe=WQe.__importStar(Co()),GQe=QQe.Long,YQe=cd(),Gxe=mJ(),wP=L3(),TX=yM(),Yxe=dJ(),Kxe=hJ(),Jxe=gJ(),CT=cM(),FX=uM(),CP=OM(),AP=NM(),DX=_M(),Xxe=pJ(),Zxe=xJ(),M7=kM(),AT=fJ(),OX=pM(),RX=xM(),NX=AM(),LX=class extends YQe.Visitor{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return Gxe.Null.startNull(t),Gxe.Null.endNull(t)}visitInt(e,t){return wP.Int.startInt(t),wP.Int.addBitWidth(t,e.bitWidth),wP.Int.addIsSigned(t,e.isSigned),wP.Int.endInt(t)}visitFloat(e,t){return TX.FloatingPoint.startFloatingPoint(t),TX.FloatingPoint.addPrecision(t,e.precision),TX.FloatingPoint.endFloatingPoint(t)}visitBinary(e,t){return Yxe.Binary.startBinary(t),Yxe.Binary.endBinary(t)}visitBool(e,t){return Kxe.Bool.startBool(t),Kxe.Bool.endBool(t)}visitUtf8(e,t){return Jxe.Utf8.startUtf8(t),Jxe.Utf8.endUtf8(t)}visitDecimal(e,t){return CT.Decimal.startDecimal(t),CT.Decimal.addScale(t,e.scale),CT.Decimal.addPrecision(t,e.precision),CT.Decimal.addBitWidth(t,e.bitWidth),CT.Decimal.endDecimal(t)}visitDate(e,t){return FX.Date.startDate(t),FX.Date.addUnit(t,e.unit),FX.Date.endDate(t)}visitTime(e,t){return CP.Time.startTime(t),CP.Time.addUnit(t,e.unit),CP.Time.addBitWidth(t,e.bitWidth),CP.Time.endTime(t)}visitTimestamp(e,t){let r=e.timezone&&t.createString(e.timezone)||void 0;return AP.Timestamp.startTimestamp(t),AP.Timestamp.addUnit(t,e.unit),r!==void 0&&AP.Timestamp.addTimezone(t,r),AP.Timestamp.endTimestamp(t)}visitInterval(e,t){return DX.Interval.startInterval(t),DX.Interval.addUnit(t,e.unit),DX.Interval.endInterval(t)}visitList(e,t){return Xxe.List.startList(t),Xxe.List.endList(t)}visitStruct(e,t){return Zxe.Struct_.startStruct_(t),Zxe.Struct_.endStruct_(t)}visitUnion(e,t){M7.Union.startTypeIdsVector(t,e.typeIds.length);let r=M7.Union.createTypeIdsVector(t,e.typeIds);return M7.Union.startUnion(t),M7.Union.addMode(t,e.mode),M7.Union.addTypeIds(t,r),M7.Union.endUnion(t)}visitDictionary(e,t){let r=this.visit(e.indices,t);return AT.DictionaryEncoding.startDictionaryEncoding(t),AT.DictionaryEncoding.addId(t,new GQe(e.id,0)),AT.DictionaryEncoding.addIsOrdered(t,e.isOrdered),r!==void 0&&AT.DictionaryEncoding.addIndexType(t,r),AT.DictionaryEncoding.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return OX.FixedSizeBinary.startFixedSizeBinary(t),OX.FixedSizeBinary.addByteWidth(t,e.byteWidth),OX.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return RX.FixedSizeList.startFixedSizeList(t),RX.FixedSizeList.addListSize(t,e.listSize),RX.FixedSizeList.endFixedSizeList(t)}visitMap(e,t){return NX.Map.startMap(t),NX.Map.addKeysSorted(t,e.keysSorted),NX.Map.endMap(t)}};P7.TypeAssembler=LX;P7.instance=new LX});var age=Ae(S2=>{"use strict";m();Object.defineProperty(S2,"__esModule",{value:!0});S2.fieldFromJSON=S2.dictionaryBatchFromJSON=S2.recordBatchFromJSON=S2.schemaFromJSON=void 0;var B7=th(),$u=ru(),C_=A_(),j7=Tl();function KQe(n,e=new Map){return new B7.Schema(XQe(n,e),TP(n.customMetadata),e)}S2.schemaFromJSON=KQe;function tge(n){return new C_.RecordBatch(n.count,rge(n.columns),ige(n.columns))}S2.recordBatchFromJSON=tge;function JQe(n){return new C_.DictionaryBatch(tge(n.data),n.id,n.isDelta)}S2.dictionaryBatchFromJSON=JQe;function XQe(n,e){return(n.fields||[]).filter(Boolean).map(t=>B7.Field.fromJSON(t,e))}function nge(n,e){return(n.children||[]).filter(Boolean).map(t=>B7.Field.fromJSON(t,e))}function rge(n){return(n||[]).reduce((e,t)=>[...e,new C_.FieldNode(t.count,ZQe(t.VALIDITY)),...rge(t.children)],[])}function ige(n,e=[]){for(let t=-1,r=(n||[]).length;++t<r;){let i=n[t];i.VALIDITY&&e.push(new C_.BufferRegion(e.length,i.VALIDITY.length)),i.TYPE&&e.push(new C_.BufferRegion(e.length,i.TYPE.length)),i.OFFSET&&e.push(new C_.BufferRegion(e.length,i.OFFSET.length)),i.DATA&&e.push(new C_.BufferRegion(e.length,i.DATA.length)),e=ige(i.children,e)}return e}function ZQe(n){return(n||[]).reduce((e,t)=>e+ +(t===0),0)}function eGe(n,e){let t,r,i,s,o,a;return!e||!(s=n.dictionary)?(o=oge(n,nge(n,e)),i=new B7.Field(n.name,o,n.nullable,TP(n.customMetadata))):e.has(t=s.id)?(r=(r=s.indexType)?sge(r):new $u.Int32,a=new $u.Dictionary(e.get(t),r,t,s.isOrdered),i=new B7.Field(n.name,a,n.nullable,TP(n.customMetadata))):(r=(r=s.indexType)?sge(r):new $u.Int32,e.set(t,o=oge(n,nge(n,e))),a=new $u.Dictionary(o,r,t,s.isOrdered),i=new B7.Field(n.name,a,n.nullable,TP(n.customMetadata))),i||null}S2.fieldFromJSON=eGe;function TP(n){return new Map(Object.entries(n||{}))}function sge(n){return new $u.Int(n.isSigned,n.bitWidth)}function oge(n,e){let t=n.type.name;switch(t){case"NONE":return new $u.Null;case"null":return new $u.Null;case"binary":return new $u.Binary;case"utf8":return new $u.Utf8;case"bool":return new $u.Bool;case"list":return new $u.List((e||[])[0]);case"struct":return new $u.Struct(e||[]);case"struct_":return new $u.Struct(e||[])}switch(t){case"int":{let r=n.type;return new $u.Int(r.isSigned,r.bitWidth)}case"floatingpoint":{let r=n.type;return new $u.Float(j7.Precision[r.precision])}case"decimal":{let r=n.type;return new $u.Decimal(r.scale,r.precision,r.bitWidth)}case"date":{let r=n.type;return new $u.Date_(j7.DateUnit[r.unit])}case"time":{let r=n.type;return new $u.Time(j7.TimeUnit[r.unit],r.bitWidth)}case"timestamp":{let r=n.type;return new $u.Timestamp(j7.TimeUnit[r.unit],r.timezone)}case"interval":{let r=n.type;return new $u.Interval(j7.IntervalUnit[r.unit])}case"union":{let r=n.type;return new $u.Union(j7.UnionMode[r.mode],r.typeIds||[],e||[])}case"fixedsizebinary":{let r=n.type;return new $u.FixedSizeBinary(r.byteWidth)}case"fixedsizelist":{let r=n.type;return new $u.FixedSizeList(r.listSize,(e||[])[0])}case"map":{let r=n.type;return new $u.Map_((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}});var A_=Ae(qp=>{"use strict";m();Object.defineProperty(qp,"__esModule",{value:!0});qp.FieldNode=qp.BufferRegion=qp.DictionaryBatch=qp.RecordBatch=qp.Message=void 0;var tGe=ds(),kX=tGe.__importStar(Co()),bg=BM(),nGe=L3(),Z3=mP(),q7=EX(),rGe=X3(),tm=vJ(),iGe=bX(),Pc=E7(),ev=b7(),uge=cJ(),sGe=yM(),oGe=cM(),aGe=uM(),uGe=OM(),lGe=NM(),cGe=_M(),fGe=kM(),dGe=pM(),hGe=xM(),pGe=AM(),tv=Qxe(),lf=th(),mGe=Bf(),Dl=Tl(),IX=ege(),FP=age(),T_=kX.Long,xGe=kX.Builder,gGe=kX.ByteBuffer,Vu=ru(),nv=class{constructor(e,t,r,i){this._version=t,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){let r=new nv(0,Dl.MetadataVersion.V4,t);return r._createHeader=yGe(e,t),r}static decode(e){e=new gGe((0,mGe.toUint8Array)(e));let t=tv.Message.getRootAsMessage(e),r=t.bodyLength(),i=t.version(),s=t.headerType(),o=new nv(r,i,s);return o._createHeader=vGe(t,s),o}static encode(e){let t=new xGe,r=-1;return e.isSchema()?r=lf.Schema.encode(t,e.header()):e.isRecordBatch()?r=jp.encode(t,e.header()):e.isDictionaryBatch()&&(r=w2.encode(t,e.header())),tv.Message.startMessage(t),tv.Message.addVersion(t,Dl.MetadataVersion.V4),tv.Message.addHeader(t,r),tv.Message.addHeaderType(t,e.headerType),tv.Message.addBodyLength(t,new T_(e.bodyLength,0)),tv.Message.finishMessageBuffer(t,tv.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof lf.Schema)return new nv(0,Dl.MetadataVersion.V4,Dl.MessageHeader.Schema,e);if(e instanceof jp)return new nv(t,Dl.MetadataVersion.V4,Dl.MessageHeader.RecordBatch,e);if(e instanceof w2)return new nv(t,Dl.MetadataVersion.V4,Dl.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Dl.MessageHeader.Schema}isRecordBatch(){return this.headerType===Dl.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===Dl.MessageHeader.DictionaryBatch}};qp.Message=nv;var jp=class{constructor(e,t,r){this._nodes=t,this._buffers=r,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};qp.RecordBatch=jp;var w2=class{constructor(e,t,r=!1){this._data=e,this._isDelta=r,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};qp.DictionaryBatch=w2;var F_=class{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}};qp.BufferRegion=F_;var D_=class{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}};qp.FieldNode=D_;function yGe(n,e){return()=>{switch(e){case Dl.MessageHeader.Schema:return lf.Schema.fromJSON(n);case Dl.MessageHeader.RecordBatch:return jp.fromJSON(n);case Dl.MessageHeader.DictionaryBatch:return w2.fromJSON(n)}throw new Error(`Unrecognized Message type: { name: ${Dl.MessageHeader[e]}, type: ${e} }`)}}function vGe(n,e){return()=>{switch(e){case Dl.MessageHeader.Schema:return lf.Schema.decode(n.header(new bg.Schema));case Dl.MessageHeader.RecordBatch:return jp.decode(n.header(new Z3.RecordBatch),n.version());case Dl.MessageHeader.DictionaryBatch:return w2.decode(n.header(new q7.DictionaryBatch),n.version())}throw new Error(`Unrecognized Message type: { name: ${Dl.MessageHeader[e]}, type: ${e} }`)}}lf.Field.encode=OGe;lf.Field.decode=FGe;lf.Field.fromJSON=FP.fieldFromJSON;lf.Schema.encode=DGe;lf.Schema.decode=_Ge;lf.Schema.fromJSON=FP.schemaFromJSON;jp.encode=RGe;jp.decode=bGe;jp.fromJSON=FP.recordBatchFromJSON;w2.encode=NGe;w2.decode=EGe;w2.fromJSON=FP.dictionaryBatchFromJSON;D_.encode=LGe;D_.decode=wGe;F_.encode=kGe;F_.decode=SGe;function _Ge(n,e=new Map){let t=TGe(n,e);return new lf.Schema(t,DP(n),e)}function bGe(n,e=Dl.MetadataVersion.V4){if(n.compression()!==null)throw new Error("Record batch compression not implemented");return new jp(n.length(),CGe(n),AGe(n,e))}function EGe(n,e=Dl.MetadataVersion.V4){return new w2(jp.decode(n.data(),e),n.id(),n.isDelta())}function SGe(n){return new F_(n.offset(),n.length())}function wGe(n){return new D_(n.length(),n.nullCount())}function CGe(n){let e=[];for(let t,r=-1,i=-1,s=n.nodesLength();++r<s;)(t=n.nodes(r))&&(e[++i]=D_.decode(t));return e}function AGe(n,e){let t=[];for(let r,i=-1,s=-1,o=n.buffersLength();++i<o;)(r=n.buffers(i))&&(e<Dl.MetadataVersion.V4&&(r.bb_pos+=8*(i+1)),t[++s]=F_.decode(r));return t}function TGe(n,e){let t=[];for(let r,i=-1,s=-1,o=n.fieldsLength();++i<o;)(r=n.fields(i))&&(t[++s]=lf.Field.decode(r,e));return t}function lge(n,e){let t=[];for(let r,i=-1,s=-1,o=n.childrenLength();++i<o;)(r=n.children(i))&&(t[++s]=lf.Field.decode(r,e));return t}function FGe(n,e){let t,r,i,s,o,a;return!e||!(a=n.dictionary())?(i=fge(n,lge(n,e)),r=new lf.Field(n.name(),i,n.nullable(),DP(n))):e.has(t=a.id().low)?(s=(s=a.indexType())?cge(s):new Vu.Int32,o=new Vu.Dictionary(e.get(t),s,t,a.isOrdered()),r=new lf.Field(n.name(),o,n.nullable(),DP(n))):(s=(s=a.indexType())?cge(s):new Vu.Int32,e.set(t,i=fge(n,lge(n,e))),o=new Vu.Dictionary(i,s,t,a.isOrdered()),r=new lf.Field(n.name(),o,n.nullable(),DP(n))),r||null}function DP(n){let e=new Map;if(n)for(let t,r,i=-1,s=Math.trunc(n.customMetadataLength());++i<s;)(t=n.customMetadata(i))&&(r=t.key())!=null&&e.set(r,t.value());return e}function cge(n){return new Vu.Int(n.isSigned(),n.bitWidth())}function fge(n,e){let t=n.typeType();switch(t){case Pc.Type.NONE:return new Vu.Null;case Pc.Type.Null:return new Vu.Null;case Pc.Type.Binary:return new Vu.Binary;case Pc.Type.Utf8:return new Vu.Utf8;case Pc.Type.Bool:return new Vu.Bool;case Pc.Type.List:return new Vu.List((e||[])[0]);case Pc.Type.Struct_:return new Vu.Struct(e||[])}switch(t){case Pc.Type.Int:{let r=n.type(new nGe.Int);return new Vu.Int(r.isSigned(),r.bitWidth())}case Pc.Type.FloatingPoint:{let r=n.type(new sGe.FloatingPoint);return new Vu.Float(r.precision())}case Pc.Type.Decimal:{let r=n.type(new oGe.Decimal);return new Vu.Decimal(r.scale(),r.precision(),r.bitWidth())}case Pc.Type.Date:{let r=n.type(new aGe.Date);return new Vu.Date_(r.unit())}case Pc.Type.Time:{let r=n.type(new uGe.Time);return new Vu.Time(r.unit(),r.bitWidth())}case Pc.Type.Timestamp:{let r=n.type(new lGe.Timestamp);return new Vu.Timestamp(r.unit(),r.timezone())}case Pc.Type.Interval:{let r=n.type(new cGe.Interval);return new Vu.Interval(r.unit())}case Pc.Type.Union:{let r=n.type(new fGe.Union);return new Vu.Union(r.mode(),r.typeIdsArray()||[],e||[])}case Pc.Type.FixedSizeBinary:{let r=n.type(new dGe.FixedSizeBinary);return new Vu.FixedSizeBinary(r.byteWidth())}case Pc.Type.FixedSizeList:{let r=n.type(new hGe.FixedSizeList);return new Vu.FixedSizeList(r.listSize(),(e||[])[0])}case Pc.Type.Map:{let r=n.type(new pGe.Map);return new Vu.Map_((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${Pc.Type[t]}" (${t})`)}function DGe(n,e){let t=e.fields.map(s=>lf.Field.encode(n,s));bg.Schema.startFieldsVector(n,t.length);let r=bg.Schema.createFieldsVector(n,t),i=e.metadata&&e.metadata.size>0?bg.Schema.createCustomMetadataVector(n,[...e.metadata].map(([s,o])=>{let a=n.createString(`${s}`),c=n.createString(`${o}`);return ev.KeyValue.startKeyValue(n),ev.KeyValue.addKey(n,a),ev.KeyValue.addValue(n,c),ev.KeyValue.endKeyValue(n)})):-1;return bg.Schema.startSchema(n),bg.Schema.addFields(n,r),bg.Schema.addEndianness(n,IGe?uge.Endianness.Little:uge.Endianness.Big),i!==-1&&bg.Schema.addCustomMetadata(n,i),bg.Schema.endSchema(n)}function OGe(n,e){let t=-1,r=-1,i=-1,s=e.type,o=e.typeId;Vu.DataType.isDictionary(s)?(o=s.dictionary.typeId,i=IX.instance.visit(s,n),r=IX.instance.visit(s.dictionary,n)):r=IX.instance.visit(s,n);let a=(s.children||[]).map(p=>lf.Field.encode(n,p)),c=tm.Field.createChildrenVector(n,a),d=e.metadata&&e.metadata.size>0?tm.Field.createCustomMetadataVector(n,[...e.metadata].map(([p,E])=>{let w=n.createString(`${p}`),N=n.createString(`${E}`);return ev.KeyValue.startKeyValue(n),ev.KeyValue.addKey(n,w),ev.KeyValue.addValue(n,N),ev.KeyValue.endKeyValue(n)})):-1;return e.name&&(t=n.createString(e.name)),tm.Field.startField(n),tm.Field.addType(n,r),tm.Field.addTypeType(n,o),tm.Field.addChildren(n,c),tm.Field.addNullable(n,!!e.nullable),t!==-1&&tm.Field.addName(n,t),i!==-1&&tm.Field.addDictionary(n,i),d!==-1&&tm.Field.addCustomMetadata(n,d),tm.Field.endField(n)}function RGe(n,e){let t=e.nodes||[],r=e.buffers||[];Z3.RecordBatch.startNodesVector(n,t.length);for(let o of t.slice().reverse())D_.encode(n,o);let i=n.endVector();Z3.RecordBatch.startBuffersVector(n,r.length);for(let o of r.slice().reverse())F_.encode(n,o);let s=n.endVector();return Z3.RecordBatch.startRecordBatch(n),Z3.RecordBatch.addLength(n,new T_(e.length,0)),Z3.RecordBatch.addNodes(n,i),Z3.RecordBatch.addBuffers(n,s),Z3.RecordBatch.endRecordBatch(n)}function NGe(n,e){let t=jp.encode(n,e.data);return q7.DictionaryBatch.startDictionaryBatch(n),q7.DictionaryBatch.addId(n,new T_(e.id,0)),q7.DictionaryBatch.addIsDelta(n,e.isDelta),q7.DictionaryBatch.addData(n,t),q7.DictionaryBatch.endDictionaryBatch(n)}function LGe(n,e){return iGe.FieldNode.createFieldNode(n,new T_(e.length,0),new T_(e.nullCount,0))}function kGe(n,e){return rGe.Buffer.createBuffer(n,new T_(e.offset,0),new T_(e.length,0))}var IGe=(()=>{let n=new ArrayBuffer(2);return new DataView(n).setInt16(0,256,!0),new Int16Array(n)[0]===256})()});var RP=Ae(Yo=>{"use strict";m();Object.defineProperty(Yo,"__esModule",{value:!0});Yo.magicX2AndPadding=Yo.magicAndPadding=Yo.magicLength=Yo.checkForMagicArrowString=Yo.MAGIC=Yo.MAGIC_STR=Yo.PADDING=Yo.JSONMessageReader=Yo.AsyncMessageReader=Yo.MessageReader=void 0;var rv=ds(),iv=Tl(),dge=Co(),TT=A_(),MGe=o2(),PGe=TJ(),hge=Bf(),OP=V3(),nm=eT(),MX=n=>`Expected ${iv.MessageHeader[n]} Message in stream, but was null or length 0.`,PX=n=>`Header pointer of flatbuffer-encoded ${iv.MessageHeader[n]} Message is null or length 0.`,pge=(n,e)=>`Expected to read ${n} metadata bytes, but only read ${e}.`,mge=(n,e)=>`Expected to read ${n} bytes for message body, but only read ${e}.`,BX=class{constructor(e){this.source=e instanceof OP.ByteStream?e:new OP.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?nm.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(MX(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=(0,hge.toUint8Array)(this.source.read(e));if(t.byteLength<e)throw new Error(mge(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=iv.MessageHeader.Schema,r=this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(PX(t));return i}readMetadataLength(){let e=this.source.read(Yo.PADDING),t=e&&new dge.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}}readMetadata(e){let t=this.source.read(e);if(!t)return nm.ITERATOR_DONE;if(t.byteLength<e)throw new Error(pge(e,t.byteLength));return{done:!1,value:TT.Message.decode(t)}}};Yo.MessageReader=BX;var xge=class{constructor(e,t){this.source=e instanceof OP.AsyncByteStream?e:(0,MGe.isFileHandle)(e)?new PGe.AsyncRandomAccessFile(e,t):new OP.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return rv.__awaiter(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?nm.ITERATOR_DONE:e})}throw(e){return rv.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return rv.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return rv.__awaiter(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(MX(e));return t.value})}readMessageBody(e){return rv.__awaiter(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);let t=(0,hge.toUint8Array)(yield this.source.read(e));if(t.byteLength<e)throw new Error(mge(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return rv.__awaiter(this,void 0,void 0,function*(){let t=iv.MessageHeader.Schema,r=yield this.readMessage(t),i=r==null?void 0:r.header();if(e&&!i)throw new Error(PX(t));return i})}readMetadataLength(){return rv.__awaiter(this,void 0,void 0,function*(){let e=yield this.source.read(Yo.PADDING),t=e&&new dge.ByteBuffer(e),r=(t==null?void 0:t.readInt32(0))||0;return{done:r===0,value:r}})}readMetadata(e){return rv.__awaiter(this,void 0,void 0,function*(){let t=yield this.source.read(e);if(!t)return nm.ITERATOR_DONE;if(t.byteLength<e)throw new Error(pge(e,t.byteLength));return{done:!1,value:TT.Message.decode(t)}})}};Yo.AsyncMessageReader=xge;var gge=class extends BX{constructor(e){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof nm.ArrowJSON?e:new nm.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema){this._schema=!0;let t=TT.Message.fromJSON(e.schema,iv.MessageHeader.Schema);return{done:!1,value:t}}if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];this._body=t.data.columns;let r=TT.Message.fromJSON(t,iv.MessageHeader.DictionaryBatch);return{done:!1,value:r}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];this._body=t.columns;let r=TT.Message.fromJSON(t,iv.MessageHeader.RecordBatch);return{done:!1,value:r}}return this._body=[],nm.ITERATOR_DONE}readMessageBody(e){return t(this._body);function t(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...t(s.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(MX(e));return t.value}readSchema(){let e=iv.MessageHeader.Schema,t=this.readMessage(e),r=t==null?void 0:t.header();if(!t||!r)throw new Error(PX(e));return r}};Yo.JSONMessageReader=gge;Yo.PADDING=4;Yo.MAGIC_STR="ARROW1";Yo.MAGIC=new Uint8Array(Yo.MAGIC_STR.length);for(let n=0;n<Yo.MAGIC_STR.length;n+=1)Yo.MAGIC[n]=Yo.MAGIC_STR.codePointAt(n);function BGe(n,e=0){for(let t=-1,r=Yo.MAGIC.length;++t<r;)if(Yo.MAGIC[t]!==n[e+t])return!1;return!0}Yo.checkForMagicArrowString=BGe;Yo.magicLength=Yo.MAGIC.length;Yo.magicAndPadding=Yo.magicLength+Yo.PADDING;Yo.magicX2AndPadding=Yo.magicLength*2+Yo.PADDING});var RT=Ae(Hp=>{"use strict";m();Object.defineProperty(Hp,"__esModule",{value:!0});Hp.AsyncRecordBatchFileReader=Hp.RecordBatchFileReader=Hp.AsyncRecordBatchStreamReader=Hp.RecordBatchStreamReader=Hp.RecordBatchReader=void 0;var ja=ds(),jGe=u2(),yge=fd(),qGe=ru(),NP=Tl(),vge=SJ(),_ge=ja.__importDefault(MA()),bge=V3(),FT=TJ(),Ege=L2e(),jX=K3(),O_=eT(),Up=RP(),zp=o2(),C2=class extends O_.ReadableInterop{constructor(e){super();this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return(0,zp.isPromise)(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return _ge.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return _ge.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof C2?e:(0,zp.isArrowJSON)(e)?UGe(e):(0,zp.isFileHandle)(e)?$Ge(e):(0,zp.isPromise)(e)?(()=>ja.__awaiter(this,void 0,void 0,function*(){return yield C2.from(yield e)}))():(0,zp.isFetchResponse)(e)||(0,zp.isReadableDOMStream)(e)||(0,zp.isReadableNodeStream)(e)||(0,zp.isAsyncIterable)(e)?HGe(new bge.AsyncByteStream(e)):zGe(new bge.ByteStream(e))}static readAll(e){return e instanceof C2?e.isSync()?Age(e):Tge(e):(0,zp.isArrowJSON)(e)||ArrayBuffer.isView(e)||(0,zp.isIterable)(e)||(0,zp.isIteratorResult)(e)?Age(e):Tge(e)}};Hp.RecordBatchReader=C2;var U7=class extends C2{constructor(e){super(e);this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return ja.__asyncGenerator(this,arguments,function*(){yield ja.__await(yield*ja.__asyncDelegator(ja.__asyncValues(this[Symbol.iterator]())))})}};Hp.RecordBatchStreamReader=U7;var z7=class extends C2{constructor(e){super(e);this._impl=e}readAll(){var e,t;return ja.__awaiter(this,void 0,void 0,function*(){let r=new Array;try{for(var i=ja.__asyncValues(this),s;s=yield i.next(),!s.done;){let o=s.value;r.push(o)}}catch(o){e={error:o}}finally{try{s&&!s.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}return r})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};Hp.AsyncRecordBatchStreamReader=z7;var LP=class extends U7{constructor(e){super(e);this._impl=e}};Hp.RecordBatchFileReader=LP;var qX=class extends z7{constructor(e){super(e);this._impl=e}};Hp.AsyncRecordBatchFileReader=qX;var UX=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){let r=this._loadVectors(e,t,this.schema.fields),i=(0,jGe.makeData)({type:new qGe.Struct(this.schema.fields),length:e.length,children:r});return new jX.RecordBatch(this.schema,i)}_loadDictionaryBatch(e,t){let{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r);if(i||!a){let c=o.dictionaries.get(r),d=this._loadVectors(e.data,t,[c]);return(a&&i?a.concat(new yge.Vector(d)):new yge.Vector(d)).memoize()}return a.memoize()}_loadVectors(e,t,r){return new Ege.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}},DT=class extends UX{constructor(e,t){super(t);this._reader=(0,zp.isArrowJSON)(e)?new Up.JSONMessageReader(this._handle=e):new Up.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=Cge(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):O_.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):O_.ITERATOR_DONE}next(){if(this.closed)return O_.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new jX._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},OT=class extends UX{constructor(e,t){super(t);this._reader=new Up.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return ja.__awaiter(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return ja.__awaiter(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Cge(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return ja.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):O_.ITERATOR_DONE})}return(e){return ja.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):O_.ITERATOR_DONE})}next(){return ja.__awaiter(this,void 0,void 0,function*(){if(this.closed)return O_.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(r,i);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new jX._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return ja.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}},zX=class extends DT{constructor(e,t){super(e instanceof FT.RandomAccessFile?e:new FT.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var t;if(this.closed)return null;this._footer||this.open();let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(NP.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var t;let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){let i=this._reader.readMessage(NP.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){let{_handle:e}=this,t=e.size-Up.magicAndPadding,r=e.readInt32(t),i=e.readAt(t-r,r);return vge.Footer.decode(i)}_readNextMessageAndValidate(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}},Sge=class extends OT{constructor(e,...t){let r=typeof t[0]!="number"?t.shift():void 0,i=t[0]instanceof Map?t.shift():void 0;super(e instanceof FT.AsyncRandomAccessFile?e:new FT.AsyncRandomAccessFile(e,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let t=Object.create(null,{open:{get:()=>super.open}});return ja.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){var t;return ja.__awaiter(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());let r=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(NP.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){var t;return ja.__awaiter(this,void 0,void 0,function*(){let r=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){let i=yield this._reader.readMessage(NP.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return ja.__awaiter(this,void 0,void 0,function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-Up.magicAndPadding,r=yield e.readInt32(t),i=yield e.readAt(t-r,r);return vge.Footer.decode(i)})}_readNextMessageAndValidate(e){return ja.__awaiter(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}},wge=class extends DT{constructor(e,t){super(e,t)}_loadVectors(e,t,r){return new Ege.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}};function Cge(n,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:n.autoDestroy}function*Age(n){let e=C2.from(n);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function Tge(n){return ja.__asyncGenerator(this,arguments,function*(){let t=yield ja.__await(C2.from(n));try{if(!(yield ja.__await(t.open({autoDestroy:!1}))).closed)do yield yield ja.__await(t);while(!(yield ja.__await(t.reset().open())).closed)}finally{yield ja.__await(t.cancel())}})}function UGe(n){return new U7(new wge(n))}function zGe(n){let e=n.peek(Up.magicLength+7&~7);return e&&e.byteLength>=4?(0,Up.checkForMagicArrowString)(e)?new LP(new zX(n.read())):new U7(new DT(n)):new U7(new DT(function*(){}()))}function HGe(n){return ja.__awaiter(this,void 0,void 0,function*(){let e=yield n.peek(Up.magicLength+7&~7);return e&&e.byteLength>=4?(0,Up.checkForMagicArrowString)(e)?new LP(new zX(yield n.read())):new z7(new OT(n)):new z7(new OT(function(){return ja.__asyncGenerator(this,arguments,function*(){})}()))})}function $Ge(n){return ja.__awaiter(this,void 0,void 0,function*(){let{size:e}=yield n.stat(),t=new FT.AsyncRandomAccessFile(n,e);return e>=Up.magicX2AndPadding&&(0,Up.checkForMagicArrowString)(yield t.readAt(0,Up.magicLength+7&~7))?new qX(new Sge(t)):new z7(new OT(t))})}});var Nge=Ae(kP=>{"use strict";m();Object.defineProperty(kP,"__esModule",{value:!0});kP.VectorAssembler=void 0;var VGe=fd(),WGe=cd(),Fge=Tl(),QGe=K3(),HX=Bf(),$X=l_(),Dge=A_(),Oge=ru(),pc=class extends WGe.Visitor{constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=i=>i.flatMap(s=>Array.isArray(s)?t(s):s instanceof QGe.RecordBatch?s.data.children:s.data),r=new pc;return r.visitMany(t(e)),r}visit(e){if(e instanceof VGe.Vector)return this.visitMany(e.data),this;let{type:t}=e;if(!Oge.DataType.isDictionary(t)){let{length:r,nullCount:i}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Oge.DataType.isNull(t)||rm.call(this,i<=0?new Uint8Array(0):(0,$X.truncateBitmap)(e.offset,r,e.nullBitmap)),this.nodes.push(new Dge.FieldNode(r,i))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};kP.VectorAssembler=pc;function rm(n){let e=n.byteLength+7&~7;return this.buffers.push(n),this.bufferRegions.push(new Dge.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function GGe(n){let{type:e,length:t,typeIds:r,valueOffsets:i}=n;if(rm.call(this,r),e.mode===Fge.UnionMode.Sparse)return WX.call(this,n);if(e.mode===Fge.UnionMode.Dense){if(n.offset<=0)return rm.call(this,i),WX.call(this,n);{let s=r.reduce((p,E)=>Math.max(p,E),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),c=new Int32Array(t),d=(0,HX.rebaseValueOffsets)(-i[0],t,i);for(let p,E,w=-1;++w<t;)(E=a[p=r[w]])===-1&&(E=a[p]=d[p]),c[w]=d[w]-E,++o[p];rm.call(this,c);for(let p,E=-1,w=e.children.length;++E<w;)if(p=n.children[E]){let N=e.typeIds[E],R=Math.min(t,o[N]);this.visit(p.slice(a[N],R))}}}return this}function YGe(n){let e;return n.nullCount>=n.length?rm.call(this,new Uint8Array(0)):(e=n.values)instanceof Uint8Array?rm.call(this,(0,$X.truncateBitmap)(n.offset,n.length,e)):rm.call(this,(0,$X.packBools)(n.values))}function sv(n){return rm.call(this,n.values.subarray(0,n.length*n.stride))}function Rge(n){let{length:e,values:t,valueOffsets:r}=n,i=r[0],s=r[e],o=Math.min(s-i,t.byteLength-i);return rm.call(this,(0,HX.rebaseValueOffsets)(-r[0],e,r)),rm.call(this,t.subarray(i,i+o)),this}function VX(n){let{length:e,valueOffsets:t}=n;return t&&rm.call(this,(0,HX.rebaseValueOffsets)(t[0],e,t)),this.visit(n.children[0])}function WX(n){return this.visitMany(n.type.children.map((e,t)=>n.children[t]).filter(Boolean))[0]}pc.prototype.visitBool=YGe;pc.prototype.visitInt=sv;pc.prototype.visitFloat=sv;pc.prototype.visitUtf8=Rge;pc.prototype.visitBinary=Rge;pc.prototype.visitFixedSizeBinary=sv;pc.prototype.visitDate=sv;pc.prototype.visitTimestamp=sv;pc.prototype.visitTime=sv;pc.prototype.visitDecimal=sv;pc.prototype.visitList=VX;pc.prototype.visitStruct=WX;pc.prototype.visitUnion=GGe;pc.prototype.visitInterval=sv;pc.prototype.visitFixedSizeList=VX;pc.prototype.visitMap=VX});var kge=Ae(IP=>{"use strict";m();Object.defineProperty(IP,"__esModule",{value:!0});IP.JSONTypeAssembler=void 0;var KGe=cd(),jf=E7(),H7=Tl(),Lge=class extends KGe.Visitor{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:jf.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:r}){return{name:jf.Type[e].toLowerCase(),bitWidth:t,isSigned:r}}visitFloat({typeId:e,precision:t}){return{name:jf.Type[e].toLowerCase(),precision:H7.Precision[t]}}visitBinary({typeId:e}){return{name:jf.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:jf.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:jf.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:r,bitWidth:i}){return{name:jf.Type[e].toLowerCase(),scale:t,precision:r,bitWidth:i}}visitDate({typeId:e,unit:t}){return{name:jf.Type[e].toLowerCase(),unit:H7.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:r}){return{name:jf.Type[e].toLowerCase(),unit:H7.TimeUnit[t],bitWidth:r}}visitTimestamp({typeId:e,timezone:t,unit:r}){return{name:jf.Type[e].toLowerCase(),unit:H7.TimeUnit[r],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:jf.Type[e].toLowerCase(),unit:H7.IntervalUnit[t]}}visitList({typeId:e}){return{name:jf.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:jf.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:r}){return{name:jf.Type[e].toLowerCase(),mode:H7.UnionMode[t],typeIds:[...r]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:jf.Type[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:jf.Type[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:jf.Type[e].toLowerCase(),keysSorted:t}}};IP.JSONTypeAssembler=Lge});var Pge=Ae(BP=>{"use strict";m();Object.defineProperty(BP,"__esModule",{value:!0});BP.JSONVectorAssembler=void 0;var JGe=CI(),QX=fd(),XGe=cd(),ZGe=Tl(),GX=Tl(),MP=l_(),Ige=ru(),PP=class extends XGe.Visitor{static assemble(...e){let t=new PP;return e.map(({schema:r,data:i})=>t.visitMany(r.fields,i.children))}visit({name:e},t){let{length:r}=t,{offset:i,nullCount:s,nullBitmap:o}=t,a=Ige.DataType.isDictionary(t.type)?t.type.indices:t.type,c=Object.assign([],t.buffers,{[ZGe.BufferType.VALIDITY]:void 0});return Object.assign({name:e,count:r,VALIDITY:Ige.DataType.isNull(a)?void 0:s<=0?Array.from({length:r},()=>1):[...new MP.BitIterator(o,i,r,null,MP.getBit)]},super.visit(t.clone(a,i,r,0,c)))}visitNull(){return{}}visitBool({values:e,offset:t,length:r}){return{DATA:[...new MP.BitIterator(e,t,r,null,MP.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...NT(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...new QX.Vector([e])],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...Mge(new QX.Vector([e]))],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...Mge(new QX.Vector([e]))]}}visitDate(e){return{DATA:e.type.unit===GX.DateUnit.DAY?[...e.values]:[...NT(e.values,2)]}}visitTimestamp(e){return{DATA:[...NT(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<GX.TimeUnit.MICROSECOND?[...e.values]:[...NT(e.values,2)]}}visitDecimal(e){return{DATA:[...NT(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}visitStruct(e){return{children:this.visitMany(e.type.children,e.children)}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===GX.UnionMode.Dense?[...e.valueOffsets]:void 0,children:this.visitMany(e.type.children,e.children)}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:this.visitMany(e.type.children,e.children)}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}};BP.JSONVectorAssembler=PP;function*Mge(n){for(let e of n)yield e.reduce((t,r)=>`${t}${("0"+(r&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*NT(n,e){let t=new Uint32Array(n.buffer);for(let r=-1,i=t.length/e;++r<i;)yield`${JGe.BN.new(t.subarray((r+0)*e,(r+1)*e),!1)}`}});var $P=Ae(T2=>{"use strict";m();Object.defineProperty(T2,"__esModule",{value:!0});T2.RecordBatchJSONWriter=T2.RecordBatchFileWriter=T2.RecordBatchStreamWriter=T2.RecordBatchWriter=void 0;var YX=ds(),KX=L7(),eYe=RP(),tYe=fd(),nYe=ru(),jP=A_(),JX=YX.__importStar(A_()),$7=SJ(),XX=Tl(),Bge=hT(),ZX=V3(),jge=Nge(),rYe=kge(),qge=Pge(),iYe=Bf(),qP=K3(),sYe=eT(),A2=o2(),LT=class extends sYe.ReadableInterop{constructor(e){super();this._position=0,this._started=!1,this._sink=new ZX.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(0,A2.isObject)(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return(0,A2.isPromise)(e)?e.then(t=>this.writeAll(t)):(0,A2.isAsyncIterable)(e)?tZ(this,e):eZ(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof ZX.AsyncByteQueue?this._sink=e:(this._sink=new ZX.AsyncByteQueue,e&&(0,A2.isWritableDOMStream)(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&(0,A2.isWritableNodeStream)(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!(0,Bge.compareSchemas)(t,this._schema))&&(t==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof KX.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof qP.RecordBatch&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!(0,Bge.compareSchemas)(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof qP.RecordBatch?e instanceof qP._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof KX.Table?this.writeAll(e.batches):(0,A2.isIterable)(e)&&this.writeAll(e)}_writeMessage(e,t=8){let r=t-1,i=jP.Message.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,c=a-s-o;return e.headerType===XX.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new $7.FileBlock(a,e.bodyLength,this._position)):e.headerType===XX.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new $7.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(c)}_write(e){if(this._started){let t=(0,iYe.toUint8Array)(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(jP.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(eYe.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:r,bufferRegions:i,buffers:s}=jge.VectorAssembler.assemble(e),o=new JX.RecordBatch(e.numRows,r,i),a=jP.Message.from(o,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,t,r=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=jge.VectorAssembler.assemble(new tYe.Vector([e])),c=new JX.RecordBatch(e.length,s,o),d=new JX.DictionaryBatch(c,t,r),p=jP.Message.from(d,i);return this._writeMessage(p)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,r,i;for(let s=-1,o=e.length;++s<o;)(t=e[s])&&(r=t.byteLength)>0&&(this._write(t),(i=(r+7&~7)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){for(let[t,r]of e.dictionaries){let i=this._dictionaryDeltaOffsets.get(t)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(let s of r.data)this._writeDictionaryBatch(s,t,i>0),i+=s.length}return this}};T2.RecordBatchWriter=LT;var UP=class extends LT{static writeAll(e,t){let r=new UP(t);return(0,A2.isPromise)(e)?e.then(i=>r.writeAll(i)):(0,A2.isAsyncIterable)(e)?tZ(r,e):eZ(r,e)}};T2.RecordBatchStreamWriter=UP;var zP=class extends LT{static writeAll(e){let t=new zP;return(0,A2.isPromise)(e)?e.then(r=>t.writeAll(r)):(0,A2.isAsyncIterable)(e)?tZ(t,e):eZ(t,e)}constructor(){super();this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=$7.Footer.encode(new $7.Footer(e,XX.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};T2.RecordBatchFileWriter=zP;var HP=class extends LT{constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return new HP().writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(t=>Uge(t))},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,r=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${oYe(e,t,r)}`),this._dictionaryBlocks.push(new $7.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,t=this._recordBatches.length;++e<t;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(`${aYe(this._recordBatches[e])}`),this._recordBatchBlocks.push(new $7.FileBlock(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}};T2.RecordBatchJSONWriter=HP;function eZ(n,e){let t=e;e instanceof KX.Table&&(t=e.batches,n.reset(void 0,e.schema));for(let r of t)n.write(r);return n.finish()}function tZ(n,e){var t,r,i,s;return YX.__awaiter(this,void 0,void 0,function*(){try{for(t=YX.__asyncValues(e);r=yield t.next(),!r.done;){let o=r.value;n.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}return n.finish()})}function Uge({name:n,type:e,nullable:t}){let r=new rYe.JSONTypeAssembler;return{name:n,nullable:t,type:r.visit(e),children:(e.children||[]).map(i=>Uge(i)),dictionary:nYe.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:r.visit(e.indices)}:void 0}}function oYe(n,e,t=!1){let[r]=qge.JSONVectorAssembler.assemble(new qP.RecordBatch({[e]:n}));return JSON.stringify({id:e,isDelta:t,data:{count:n.length,columns:r}},null,2)}function aYe(n){let[e]=qge.JSONVectorAssembler.assemble(n);return JSON.stringify({count:n.numRows,columns:e},null,2)}});var $ge=Ae(WP=>{"use strict";m();Object.defineProperty(WP,"__esModule",{value:!0});WP.toDOMStream=void 0;var VP=ds(),zge=Bf(),Hge=o2();function uYe(n,e){if((0,Hge.isAsyncIterable)(n))return cYe(n,e);if((0,Hge.isIterable)(n))return lYe(n,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}WP.toDOMStream=uYe;function lYe(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){s(o,t||(t=n[Symbol.iterator]()))},pull(o){t?s(o,t):o.close()},cancel(){((t==null?void 0:t.return)&&t.return()||!0)&&(t=null)}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){let c,d=null,p=o.desiredSize||null;for(;!(d=a.next(r?p:null)).done;)if(ArrayBuffer.isView(d.value)&&(c=(0,zge.toUint8Array)(d.value))&&(p!=null&&r&&(p=p-c.byteLength+1),d.value=c),o.enqueue(d.value),p!=null&&--p<=0)return;o.close()}}function cYe(n,e){let t=null,r=(e==null?void 0:e.type)==="bytes"||!1,i=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){return VP.__awaiter(this,void 0,void 0,function*(){yield s(o,t||(t=n[Symbol.asyncIterator]()))})},pull(o){return VP.__awaiter(this,void 0,void 0,function*(){t?yield s(o,t):o.close()})},cancel(){return VP.__awaiter(this,void 0,void 0,function*(){((t==null?void 0:t.return)&&(yield t.return())||!0)&&(t=null)})}}),Object.assign({highWaterMark:r?i:void 0},e));function s(o,a){return VP.__awaiter(this,void 0,void 0,function*(){let c,d=null,p=o.desiredSize||null;for(;!(d=yield a.next(r?p:null)).done;)if(ArrayBuffer.isView(d.value)&&(c=(0,zge.toUint8Array)(d.value))&&(p!=null&&r&&(p=p-c.byteLength+1),d.value=c),o.enqueue(d.value),p!=null&&--p<=0)return;o.close()})}}});var Qge=Ae(V7=>{"use strict";m();Object.defineProperty(V7,"__esModule",{value:!0});V7.BuilderTransform=V7.builderThroughDOMStream=void 0;var fYe=ds(),dYe=rT();function hYe(n){return new nZ(n)}V7.builderThroughDOMStream=hYe;var nZ=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:t,["writableStrategy"]:r,["queueingStrategy"]:i="count"}=e,s=fYe.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,dYe.makeBuilder)(s),this._getSize=i!=="bytes"?Vge:Wge;let{["highWaterMark"]:o=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},t),{["highWaterMark"]:a=i==="bytes"?Math.pow(2,14):1e3}=Object.assign({},r);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:c=>{this._maybeFlush(this._builder,this._controller=c)},start:c=>{this._maybeFlush(this._builder,this._controller=c)}},{highWaterMark:o,size:i!=="bytes"?Vge:Wge}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:c=>this._writeValueAndReturnChunkSize(c)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){t!=null&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,t==null?e.close():e.enqueue(t)}};V7.BuilderTransform=nZ;var Vge=n=>{var e;return(e=n==null?void 0:n.length)!==null&&e!==void 0?e:0},Wge=n=>{var e;return(e=n==null?void 0:n.byteLength)!==null&&e!==void 0?e:0}});var Gge=Ae(QP=>{"use strict";m();Object.defineProperty(QP,"__esModule",{value:!0});QP.recordBatchReaderThroughDOMStream=void 0;var kT=ds(),pYe=V3(),mYe=RT();function xYe(n,e){let t=new pYe.AsyncByteQueue,r=null,i=new ReadableStream({cancel(){return kT.__awaiter(this,void 0,void 0,function*(){yield t.close()})},start(a){return kT.__awaiter(this,void 0,void 0,function*(){yield o(a,r||(r=yield s()))})},pull(a){return kT.__awaiter(this,void 0,void 0,function*(){r?yield o(a,r):a.close()})}});return{writable:new WritableStream(t,Object.assign({highWaterMark:Math.pow(2,14)},n)),readable:i};function s(){return kT.__awaiter(this,void 0,void 0,function*(){return yield(yield mYe.RecordBatchReader.from(t)).open(e)})}function o(a,c){return kT.__awaiter(this,void 0,void 0,function*(){let d=a.desiredSize,p=null;for(;!(p=yield c.next()).done;)if(a.enqueue(p.value),d!=null&&--d<=0)return;a.close()})}}QP.recordBatchReaderThroughDOMStream=xYe});var Yge=Ae(YP=>{"use strict";m();Object.defineProperty(YP,"__esModule",{value:!0});YP.recordBatchWriterThroughDOMStream=void 0;var GP=ds(),gYe=V3();function yYe(n,e){let t=new this(n),r=new gYe.AsyncByteStream(t),i=new ReadableStream({cancel(){return GP.__awaiter(this,void 0,void 0,function*(){yield r.cancel()})},pull(o){return GP.__awaiter(this,void 0,void 0,function*(){yield s(o)})},start(o){return GP.__awaiter(this,void 0,void 0,function*(){yield s(o)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(t,n),readable:i};function s(o){return GP.__awaiter(this,void 0,void 0,function*(){let a=null,c=o.desiredSize;for(;a=yield r.read(c||null);)if(o.enqueue(a),c!=null&&(c-=a.byteLength)<=0)return;o.close()})}}YP.recordBatchWriterThroughDOMStream=yYe});var Zge=Ae(W7=>{"use strict";m();Object.defineProperty(W7,"__esModule",{value:!0});W7.tableToIPC=W7.tableFromIPC=void 0;var Kge=L7(),vYe=o2(),_Ye=RT(),Jge=$P();function Xge(n){let e=_Ye.RecordBatchReader.from(n);return(0,vYe.isPromise)(e)?e.then(t=>Xge(t)):e.isAsync()?e.readAll().then(t=>new Kge.Table(t)):new Kge.Table(e.readAll())}W7.tableFromIPC=Xge;function bYe(n,e="stream"){return(e==="stream"?Jge.RecordBatchStreamWriter:Jge.RecordBatchFileWriter).writeAll(n).toUint8Array(!0)}W7.tableToIPC=bYe});var cZ=Ae(an=>{"use strict";m();Object.defineProperty(an,"__esModule",{value:!0});an.Dictionary=an.SparseUnion=an.DenseUnion=an.Union=an.Struct=an.List=an.Decimal=an.TimeNanosecond=an.TimeMicrosecond=an.TimeMillisecond=an.TimeSecond=an.Time=an.TimestampNanosecond=an.TimestampMicrosecond=an.TimestampMillisecond=an.TimestampSecond=an.Timestamp=an.DateMillisecond=an.DateDay=an.Date_=an.FixedSizeBinary=an.Binary=an.Utf8=an.Float64=an.Float32=an.Float16=an.Float=an.Uint64=an.Uint32=an.Uint16=an.Uint8=an.Int64=an.Int32=an.Int16=an.Int8=an.Int=an.Bool=an.Null=an.DataType=an.makeData=an.Data=an.MetadataVersion=an.IntervalUnit=an.UnionMode=an.Precision=an.TimeUnit=an.DateUnit=an.BufferType=an.Type=an.MessageHeader=void 0;an.TimestampMillisecondBuilder=an.TimestampSecondBuilder=an.TimestampBuilder=an.TimeNanosecondBuilder=an.TimeMicrosecondBuilder=an.TimeMillisecondBuilder=an.TimeSecondBuilder=an.TimeBuilder=an.Uint64Builder=an.Uint32Builder=an.Uint16Builder=an.Uint8Builder=an.Int64Builder=an.Int32Builder=an.Int16Builder=an.Int8Builder=an.IntBuilder=an.Float64Builder=an.Float32Builder=an.Float16Builder=an.FloatBuilder=an.FixedSizeBinaryBuilder=an.DictionaryBuilder=an.DecimalBuilder=an.DateMillisecondBuilder=an.DateDayBuilder=an.DateBuilder=an.NullBuilder=an.BoolBuilder=an.builderThroughAsyncIterable=an.builderThroughIterable=an.tableFromJSON=an.vectorFromArray=an.makeBuilder=an.Builder=an.StructRow=an.MapRow=an.Field=an.Schema=an.Visitor=an.makeVector=an.Vector=an.tableFromArrays=an.makeTable=an.Table=an.Map_=an.FixedSizeList=an.IntervalYearMonth=an.IntervalDayTime=an.Interval=void 0;an.util=an.RecordBatch=an.Message=an.JSONMessageReader=an.AsyncMessageReader=an.MessageReader=an.tableFromIPC=an.tableToIPC=an.RecordBatchJSONWriter=an.RecordBatchStreamWriter=an.RecordBatchFileWriter=an.RecordBatchWriter=an.AsyncRecordBatchStreamReader=an.AsyncRecordBatchFileReader=an.RecordBatchStreamReader=an.RecordBatchFileReader=an.RecordBatchReader=an.AsyncByteQueue=an.AsyncByteStream=an.ByteStream=an.DenseUnionBuilder=an.SparseUnionBuilder=an.UnionBuilder=an.StructBuilder=an.MapBuilder=an.FixedSizeListBuilder=an.ListBuilder=an.BinaryBuilder=an.Utf8Builder=an.IntervalYearMonthBuilder=an.IntervalDayTimeBuilder=an.IntervalBuilder=an.TimestampNanosecondBuilder=an.TimestampMicrosecondBuilder=void 0;var Q7=ds(),EYe=AX();Object.defineProperty(an,"MessageHeader",{enumerable:!0,get:function(){return EYe.MessageHeader}});var ov=Tl();Object.defineProperty(an,"Type",{enumerable:!0,get:function(){return ov.Type}});Object.defineProperty(an,"BufferType",{enumerable:!0,get:function(){return ov.BufferType}});Object.defineProperty(an,"DateUnit",{enumerable:!0,get:function(){return ov.DateUnit}});Object.defineProperty(an,"TimeUnit",{enumerable:!0,get:function(){return ov.TimeUnit}});Object.defineProperty(an,"Precision",{enumerable:!0,get:function(){return ov.Precision}});Object.defineProperty(an,"UnionMode",{enumerable:!0,get:function(){return ov.UnionMode}});Object.defineProperty(an,"IntervalUnit",{enumerable:!0,get:function(){return ov.IntervalUnit}});Object.defineProperty(an,"MetadataVersion",{enumerable:!0,get:function(){return ov.MetadataVersion}});var eye=u2();Object.defineProperty(an,"Data",{enumerable:!0,get:function(){return eye.Data}});Object.defineProperty(an,"makeData",{enumerable:!0,get:function(){return eye.makeData}});var eo=ru();Object.defineProperty(an,"DataType",{enumerable:!0,get:function(){return eo.DataType}});Object.defineProperty(an,"Null",{enumerable:!0,get:function(){return eo.Null}});Object.defineProperty(an,"Bool",{enumerable:!0,get:function(){return eo.Bool}});Object.defineProperty(an,"Int",{enumerable:!0,get:function(){return eo.Int}});Object.defineProperty(an,"Int8",{enumerable:!0,get:function(){return eo.Int8}});Object.defineProperty(an,"Int16",{enumerable:!0,get:function(){return eo.Int16}});Object.defineProperty(an,"Int32",{enumerable:!0,get:function(){return eo.Int32}});Object.defineProperty(an,"Int64",{enumerable:!0,get:function(){return eo.Int64}});Object.defineProperty(an,"Uint8",{enumerable:!0,get:function(){return eo.Uint8}});Object.defineProperty(an,"Uint16",{enumerable:!0,get:function(){return eo.Uint16}});Object.defineProperty(an,"Uint32",{enumerable:!0,get:function(){return eo.Uint32}});Object.defineProperty(an,"Uint64",{enumerable:!0,get:function(){return eo.Uint64}});Object.defineProperty(an,"Float",{enumerable:!0,get:function(){return eo.Float}});Object.defineProperty(an,"Float16",{enumerable:!0,get:function(){return eo.Float16}});Object.defineProperty(an,"Float32",{enumerable:!0,get:function(){return eo.Float32}});Object.defineProperty(an,"Float64",{enumerable:!0,get:function(){return eo.Float64}});Object.defineProperty(an,"Utf8",{enumerable:!0,get:function(){return eo.Utf8}});Object.defineProperty(an,"Binary",{enumerable:!0,get:function(){return eo.Binary}});Object.defineProperty(an,"FixedSizeBinary",{enumerable:!0,get:function(){return eo.FixedSizeBinary}});Object.defineProperty(an,"Date_",{enumerable:!0,get:function(){return eo.Date_}});Object.defineProperty(an,"DateDay",{enumerable:!0,get:function(){return eo.DateDay}});Object.defineProperty(an,"DateMillisecond",{enumerable:!0,get:function(){return eo.DateMillisecond}});Object.defineProperty(an,"Timestamp",{enumerable:!0,get:function(){return eo.Timestamp}});Object.defineProperty(an,"TimestampSecond",{enumerable:!0,get:function(){return eo.TimestampSecond}});Object.defineProperty(an,"TimestampMillisecond",{enumerable:!0,get:function(){return eo.TimestampMillisecond}});Object.defineProperty(an,"TimestampMicrosecond",{enumerable:!0,get:function(){return eo.TimestampMicrosecond}});Object.defineProperty(an,"TimestampNanosecond",{enumerable:!0,get:function(){return eo.TimestampNanosecond}});Object.defineProperty(an,"Time",{enumerable:!0,get:function(){return eo.Time}});Object.defineProperty(an,"TimeSecond",{enumerable:!0,get:function(){return eo.TimeSecond}});Object.defineProperty(an,"TimeMillisecond",{enumerable:!0,get:function(){return eo.TimeMillisecond}});Object.defineProperty(an,"TimeMicrosecond",{enumerable:!0,get:function(){return eo.TimeMicrosecond}});Object.defineProperty(an,"TimeNanosecond",{enumerable:!0,get:function(){return eo.TimeNanosecond}});Object.defineProperty(an,"Decimal",{enumerable:!0,get:function(){return eo.Decimal}});Object.defineProperty(an,"List",{enumerable:!0,get:function(){return eo.List}});Object.defineProperty(an,"Struct",{enumerable:!0,get:function(){return eo.Struct}});Object.defineProperty(an,"Union",{enumerable:!0,get:function(){return eo.Union}});Object.defineProperty(an,"DenseUnion",{enumerable:!0,get:function(){return eo.DenseUnion}});Object.defineProperty(an,"SparseUnion",{enumerable:!0,get:function(){return eo.SparseUnion}});Object.defineProperty(an,"Dictionary",{enumerable:!0,get:function(){return eo.Dictionary}});Object.defineProperty(an,"Interval",{enumerable:!0,get:function(){return eo.Interval}});Object.defineProperty(an,"IntervalDayTime",{enumerable:!0,get:function(){return eo.IntervalDayTime}});Object.defineProperty(an,"IntervalYearMonth",{enumerable:!0,get:function(){return eo.IntervalYearMonth}});Object.defineProperty(an,"FixedSizeList",{enumerable:!0,get:function(){return eo.FixedSizeList}});Object.defineProperty(an,"Map_",{enumerable:!0,get:function(){return eo.Map_}});var rZ=L7();Object.defineProperty(an,"Table",{enumerable:!0,get:function(){return rZ.Table}});Object.defineProperty(an,"makeTable",{enumerable:!0,get:function(){return rZ.makeTable}});Object.defineProperty(an,"tableFromArrays",{enumerable:!0,get:function(){return rZ.tableFromArrays}});var tye=fd();Object.defineProperty(an,"Vector",{enumerable:!0,get:function(){return tye.Vector}});Object.defineProperty(an,"makeVector",{enumerable:!0,get:function(){return tye.makeVector}});var SYe=cd();Object.defineProperty(an,"Visitor",{enumerable:!0,get:function(){return SYe.Visitor}});var nye=th();Object.defineProperty(an,"Schema",{enumerable:!0,get:function(){return nye.Schema}});Object.defineProperty(an,"Field",{enumerable:!0,get:function(){return nye.Field}});var wYe=jA();Object.defineProperty(an,"MapRow",{enumerable:!0,get:function(){return wYe.MapRow}});var CYe=jI();Object.defineProperty(an,"StructRow",{enumerable:!0,get:function(){return CYe.StructRow}});var AYe=Hl();Object.defineProperty(an,"Builder",{enumerable:!0,get:function(){return AYe.Builder}});var IT=rT();Object.defineProperty(an,"makeBuilder",{enumerable:!0,get:function(){return IT.makeBuilder}});Object.defineProperty(an,"vectorFromArray",{enumerable:!0,get:function(){return IT.vectorFromArray}});Object.defineProperty(an,"tableFromJSON",{enumerable:!0,get:function(){return IT.tableFromJSON}});Object.defineProperty(an,"builderThroughIterable",{enumerable:!0,get:function(){return IT.builderThroughIterable}});Object.defineProperty(an,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return IT.builderThroughAsyncIterable}});var TYe=RJ();Object.defineProperty(an,"BoolBuilder",{enumerable:!0,get:function(){return TYe.BoolBuilder}});var FYe=KJ();Object.defineProperty(an,"NullBuilder",{enumerable:!0,get:function(){return FYe.NullBuilder}});var iZ=IJ();Object.defineProperty(an,"DateBuilder",{enumerable:!0,get:function(){return iZ.DateBuilder}});Object.defineProperty(an,"DateDayBuilder",{enumerable:!0,get:function(){return iZ.DateDayBuilder}});Object.defineProperty(an,"DateMillisecondBuilder",{enumerable:!0,get:function(){return iZ.DateMillisecondBuilder}});var DYe=PJ();Object.defineProperty(an,"DecimalBuilder",{enumerable:!0,get:function(){return DYe.DecimalBuilder}});var OYe=BJ();Object.defineProperty(an,"DictionaryBuilder",{enumerable:!0,get:function(){return OYe.DictionaryBuilder}});var RYe=qJ();Object.defineProperty(an,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return RYe.FixedSizeBinaryBuilder}});var KP=zJ();Object.defineProperty(an,"FloatBuilder",{enumerable:!0,get:function(){return KP.FloatBuilder}});Object.defineProperty(an,"Float16Builder",{enumerable:!0,get:function(){return KP.Float16Builder}});Object.defineProperty(an,"Float32Builder",{enumerable:!0,get:function(){return KP.Float32Builder}});Object.defineProperty(an,"Float64Builder",{enumerable:!0,get:function(){return KP.Float64Builder}});var Eg=QJ();Object.defineProperty(an,"IntBuilder",{enumerable:!0,get:function(){return Eg.IntBuilder}});Object.defineProperty(an,"Int8Builder",{enumerable:!0,get:function(){return Eg.Int8Builder}});Object.defineProperty(an,"Int16Builder",{enumerable:!0,get:function(){return Eg.Int16Builder}});Object.defineProperty(an,"Int32Builder",{enumerable:!0,get:function(){return Eg.Int32Builder}});Object.defineProperty(an,"Int64Builder",{enumerable:!0,get:function(){return Eg.Int64Builder}});Object.defineProperty(an,"Uint8Builder",{enumerable:!0,get:function(){return Eg.Uint8Builder}});Object.defineProperty(an,"Uint16Builder",{enumerable:!0,get:function(){return Eg.Uint16Builder}});Object.defineProperty(an,"Uint32Builder",{enumerable:!0,get:function(){return Eg.Uint32Builder}});Object.defineProperty(an,"Uint64Builder",{enumerable:!0,get:function(){return Eg.Uint64Builder}});var MT=aX();Object.defineProperty(an,"TimeBuilder",{enumerable:!0,get:function(){return MT.TimeBuilder}});Object.defineProperty(an,"TimeSecondBuilder",{enumerable:!0,get:function(){return MT.TimeSecondBuilder}});Object.defineProperty(an,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return MT.TimeMillisecondBuilder}});Object.defineProperty(an,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return MT.TimeMicrosecondBuilder}});Object.defineProperty(an,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return MT.TimeNanosecondBuilder}});var PT=nX();Object.defineProperty(an,"TimestampBuilder",{enumerable:!0,get:function(){return PT.TimestampBuilder}});Object.defineProperty(an,"TimestampSecondBuilder",{enumerable:!0,get:function(){return PT.TimestampSecondBuilder}});Object.defineProperty(an,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return PT.TimestampMillisecondBuilder}});Object.defineProperty(an,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return PT.TimestampMicrosecondBuilder}});Object.defineProperty(an,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return PT.TimestampNanosecondBuilder}});var sZ=WJ();Object.defineProperty(an,"IntervalBuilder",{enumerable:!0,get:function(){return sZ.IntervalBuilder}});Object.defineProperty(an,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return sZ.IntervalDayTimeBuilder}});Object.defineProperty(an,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return sZ.IntervalYearMonthBuilder}});var NYe=cX();Object.defineProperty(an,"Utf8Builder",{enumerable:!0,get:function(){return NYe.Utf8Builder}});var LYe=VM();Object.defineProperty(an,"BinaryBuilder",{enumerable:!0,get:function(){return LYe.BinaryBuilder}});var kYe=GJ();Object.defineProperty(an,"ListBuilder",{enumerable:!0,get:function(){return kYe.ListBuilder}});var IYe=UJ();Object.defineProperty(an,"FixedSizeListBuilder",{enumerable:!0,get:function(){return IYe.FixedSizeListBuilder}});var MYe=YJ();Object.defineProperty(an,"MapBuilder",{enumerable:!0,get:function(){return MYe.MapBuilder}});var PYe=JJ();Object.defineProperty(an,"StructBuilder",{enumerable:!0,get:function(){return PYe.StructBuilder}});var oZ=uX();Object.defineProperty(an,"UnionBuilder",{enumerable:!0,get:function(){return oZ.UnionBuilder}});Object.defineProperty(an,"SparseUnionBuilder",{enumerable:!0,get:function(){return oZ.SparseUnionBuilder}});Object.defineProperty(an,"DenseUnionBuilder",{enumerable:!0,get:function(){return oZ.DenseUnionBuilder}});var aZ=V3();Object.defineProperty(an,"ByteStream",{enumerable:!0,get:function(){return aZ.ByteStream}});Object.defineProperty(an,"AsyncByteStream",{enumerable:!0,get:function(){return aZ.AsyncByteStream}});Object.defineProperty(an,"AsyncByteQueue",{enumerable:!0,get:function(){return aZ.AsyncByteQueue}});var BT=RT();Object.defineProperty(an,"RecordBatchReader",{enumerable:!0,get:function(){return BT.RecordBatchReader}});Object.defineProperty(an,"RecordBatchFileReader",{enumerable:!0,get:function(){return BT.RecordBatchFileReader}});Object.defineProperty(an,"RecordBatchStreamReader",{enumerable:!0,get:function(){return BT.RecordBatchStreamReader}});Object.defineProperty(an,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return BT.AsyncRecordBatchFileReader}});Object.defineProperty(an,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return BT.AsyncRecordBatchStreamReader}});var JP=$P();Object.defineProperty(an,"RecordBatchWriter",{enumerable:!0,get:function(){return JP.RecordBatchWriter}});Object.defineProperty(an,"RecordBatchFileWriter",{enumerable:!0,get:function(){return JP.RecordBatchFileWriter}});Object.defineProperty(an,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return JP.RecordBatchStreamWriter}});Object.defineProperty(an,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return JP.RecordBatchJSONWriter}});var rye=Zge();Object.defineProperty(an,"tableToIPC",{enumerable:!0,get:function(){return rye.tableToIPC}});Object.defineProperty(an,"tableFromIPC",{enumerable:!0,get:function(){return rye.tableFromIPC}});var uZ=RP();Object.defineProperty(an,"MessageReader",{enumerable:!0,get:function(){return uZ.MessageReader}});Object.defineProperty(an,"AsyncMessageReader",{enumerable:!0,get:function(){return uZ.AsyncMessageReader}});Object.defineProperty(an,"JSONMessageReader",{enumerable:!0,get:function(){return uZ.JSONMessageReader}});var BYe=A_();Object.defineProperty(an,"Message",{enumerable:!0,get:function(){return BYe.Message}});var jYe=K3();Object.defineProperty(an,"RecordBatch",{enumerable:!0,get:function(){return jYe.RecordBatch}});var qYe=Q7.__importStar(CI()),UYe=Q7.__importStar(DJ()),zYe=Q7.__importStar(l_()),HYe=Q7.__importStar(BA()),$Ye=Q7.__importStar(Bf()),VYe=Q7.__importStar(UA()),lZ=hT();an.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qYe),UYe),zYe),HYe),$Ye),VYe),{compareSchemas:lZ.compareSchemas,compareFields:lZ.compareFields,compareTypes:lZ.compareTypes})});var XP=Ae(un=>{"use strict";m();Object.defineProperty(un,"__esModule",{value:!0});un.SparseUnion=un.DenseUnion=un.Union=un.StructRow=un.Struct=un.List=un.Decimal=un.TimeNanosecond=un.TimeMicrosecond=un.TimeMillisecond=un.TimeSecond=un.Time=un.TimestampNanosecond=un.TimestampMicrosecond=un.TimestampMillisecond=un.TimestampSecond=un.Timestamp=un.DateMillisecond=un.DateDay=un.Date_=un.FixedSizeBinary=un.Binary=un.Utf8=un.Float64=un.Float32=un.Float16=un.Float=un.Uint64=un.Uint32=un.Uint16=un.Uint8=un.Int64=un.Int32=un.Int16=un.Int8=un.Int=un.Bool=un.Null=un.DataType=un.makeData=un.Data=un.BufferType=un.UnionMode=un.Type=un.TimeUnit=un.Precision=un.MetadataVersion=un.MessageHeader=un.IntervalUnit=un.DateUnit=void 0;un.FixedSizeListBuilder=un.FixedSizeBinaryBuilder=un.DictionaryBuilder=un.DecimalBuilder=un.DateMillisecondBuilder=un.DateDayBuilder=un.DateBuilder=un.BoolBuilder=un.BinaryBuilder=un.builderThroughAsyncIterable=un.builderThroughIterable=un.makeBuilder=un.Builder=un.util=un.RecordBatch=un.Message=un.JSONMessageReader=un.AsyncMessageReader=un.MessageReader=un.tableToIPC=un.tableFromIPC=un.RecordBatchJSONWriter=un.RecordBatchStreamWriter=un.RecordBatchFileWriter=un.RecordBatchWriter=un.AsyncRecordBatchStreamReader=un.AsyncRecordBatchFileReader=un.RecordBatchStreamReader=un.RecordBatchFileReader=un.RecordBatchReader=un.AsyncByteQueue=un.AsyncByteStream=un.ByteStream=un.tableFromJSON=un.vectorFromArray=un.makeVector=un.Vector=un.Visitor=un.Field=un.Schema=un.tableFromArrays=un.makeTable=un.Table=un.MapRow=un.Map_=un.FixedSizeList=un.IntervalYearMonth=un.IntervalDayTime=un.Interval=un.Dictionary=void 0;un.Utf8Builder=un.SparseUnionBuilder=un.DenseUnionBuilder=un.UnionBuilder=un.TimeNanosecondBuilder=un.TimeMicrosecondBuilder=un.TimeMillisecondBuilder=un.TimeSecondBuilder=un.TimeBuilder=un.TimestampNanosecondBuilder=un.TimestampMicrosecondBuilder=un.TimestampMillisecondBuilder=un.TimestampSecondBuilder=un.TimestampBuilder=un.StructBuilder=un.NullBuilder=un.MapBuilder=un.ListBuilder=un.Uint64Builder=un.Uint32Builder=un.Uint16Builder=un.Uint8Builder=un.Int64Builder=un.Int32Builder=un.Int16Builder=un.Int8Builder=un.IntBuilder=un.IntervalYearMonthBuilder=un.IntervalDayTimeBuilder=un.IntervalBuilder=un.Float64Builder=un.Float32Builder=un.Float16Builder=un.FloatBuilder=void 0;var WYe=ds(),QYe=WYe.__importDefault(MA()),GYe=Hl(),fZ=RT(),dZ=$P(),YYe=$ge(),KYe=Qge(),hZ=Gge(),pZ=Yge();QYe.default.toDOMStream=YYe.toDOMStream;GYe.Builder.throughDOM=KYe.builderThroughDOMStream;fZ.RecordBatchReader.throughDOM=hZ.recordBatchReaderThroughDOMStream;fZ.RecordBatchFileReader.throughDOM=hZ.recordBatchReaderThroughDOMStream;fZ.RecordBatchStreamReader.throughDOM=hZ.recordBatchReaderThroughDOMStream;dZ.RecordBatchWriter.throughDOM=pZ.recordBatchWriterThroughDOMStream;dZ.RecordBatchFileWriter.throughDOM=pZ.recordBatchWriterThroughDOMStream;dZ.RecordBatchStreamWriter.throughDOM=pZ.recordBatchWriterThroughDOMStream;var ri=cZ();Object.defineProperty(un,"DateUnit",{enumerable:!0,get:function(){return ri.DateUnit}});Object.defineProperty(un,"IntervalUnit",{enumerable:!0,get:function(){return ri.IntervalUnit}});Object.defineProperty(un,"MessageHeader",{enumerable:!0,get:function(){return ri.MessageHeader}});Object.defineProperty(un,"MetadataVersion",{enumerable:!0,get:function(){return ri.MetadataVersion}});Object.defineProperty(un,"Precision",{enumerable:!0,get:function(){return ri.Precision}});Object.defineProperty(un,"TimeUnit",{enumerable:!0,get:function(){return ri.TimeUnit}});Object.defineProperty(un,"Type",{enumerable:!0,get:function(){return ri.Type}});Object.defineProperty(un,"UnionMode",{enumerable:!0,get:function(){return ri.UnionMode}});Object.defineProperty(un,"BufferType",{enumerable:!0,get:function(){return ri.BufferType}});Object.defineProperty(un,"Data",{enumerable:!0,get:function(){return ri.Data}});Object.defineProperty(un,"makeData",{enumerable:!0,get:function(){return ri.makeData}});Object.defineProperty(un,"DataType",{enumerable:!0,get:function(){return ri.DataType}});Object.defineProperty(un,"Null",{enumerable:!0,get:function(){return ri.Null}});Object.defineProperty(un,"Bool",{enumerable:!0,get:function(){return ri.Bool}});Object.defineProperty(un,"Int",{enumerable:!0,get:function(){return ri.Int}});Object.defineProperty(un,"Int8",{enumerable:!0,get:function(){return ri.Int8}});Object.defineProperty(un,"Int16",{enumerable:!0,get:function(){return ri.Int16}});Object.defineProperty(un,"Int32",{enumerable:!0,get:function(){return ri.Int32}});Object.defineProperty(un,"Int64",{enumerable:!0,get:function(){return ri.Int64}});Object.defineProperty(un,"Uint8",{enumerable:!0,get:function(){return ri.Uint8}});Object.defineProperty(un,"Uint16",{enumerable:!0,get:function(){return ri.Uint16}});Object.defineProperty(un,"Uint32",{enumerable:!0,get:function(){return ri.Uint32}});Object.defineProperty(un,"Uint64",{enumerable:!0,get:function(){return ri.Uint64}});Object.defineProperty(un,"Float",{enumerable:!0,get:function(){return ri.Float}});Object.defineProperty(un,"Float16",{enumerable:!0,get:function(){return ri.Float16}});Object.defineProperty(un,"Float32",{enumerable:!0,get:function(){return ri.Float32}});Object.defineProperty(un,"Float64",{enumerable:!0,get:function(){return ri.Float64}});Object.defineProperty(un,"Utf8",{enumerable:!0,get:function(){return ri.Utf8}});Object.defineProperty(un,"Binary",{enumerable:!0,get:function(){return ri.Binary}});Object.defineProperty(un,"FixedSizeBinary",{enumerable:!0,get:function(){return ri.FixedSizeBinary}});Object.defineProperty(un,"Date_",{enumerable:!0,get:function(){return ri.Date_}});Object.defineProperty(un,"DateDay",{enumerable:!0,get:function(){return ri.DateDay}});Object.defineProperty(un,"DateMillisecond",{enumerable:!0,get:function(){return ri.DateMillisecond}});Object.defineProperty(un,"Timestamp",{enumerable:!0,get:function(){return ri.Timestamp}});Object.defineProperty(un,"TimestampSecond",{enumerable:!0,get:function(){return ri.TimestampSecond}});Object.defineProperty(un,"TimestampMillisecond",{enumerable:!0,get:function(){return ri.TimestampMillisecond}});Object.defineProperty(un,"TimestampMicrosecond",{enumerable:!0,get:function(){return ri.TimestampMicrosecond}});Object.defineProperty(un,"TimestampNanosecond",{enumerable:!0,get:function(){return ri.TimestampNanosecond}});Object.defineProperty(un,"Time",{enumerable:!0,get:function(){return ri.Time}});Object.defineProperty(un,"TimeSecond",{enumerable:!0,get:function(){return ri.TimeSecond}});Object.defineProperty(un,"TimeMillisecond",{enumerable:!0,get:function(){return ri.TimeMillisecond}});Object.defineProperty(un,"TimeMicrosecond",{enumerable:!0,get:function(){return ri.TimeMicrosecond}});Object.defineProperty(un,"TimeNanosecond",{enumerable:!0,get:function(){return ri.TimeNanosecond}});Object.defineProperty(un,"Decimal",{enumerable:!0,get:function(){return ri.Decimal}});Object.defineProperty(un,"List",{enumerable:!0,get:function(){return ri.List}});Object.defineProperty(un,"Struct",{enumerable:!0,get:function(){return ri.Struct}});Object.defineProperty(un,"StructRow",{enumerable:!0,get:function(){return ri.StructRow}});Object.defineProperty(un,"Union",{enumerable:!0,get:function(){return ri.Union}});Object.defineProperty(un,"DenseUnion",{enumerable:!0,get:function(){return ri.DenseUnion}});Object.defineProperty(un,"SparseUnion",{enumerable:!0,get:function(){return ri.SparseUnion}});Object.defineProperty(un,"Dictionary",{enumerable:!0,get:function(){return ri.Dictionary}});Object.defineProperty(un,"Interval",{enumerable:!0,get:function(){return ri.Interval}});Object.defineProperty(un,"IntervalDayTime",{enumerable:!0,get:function(){return ri.IntervalDayTime}});Object.defineProperty(un,"IntervalYearMonth",{enumerable:!0,get:function(){return ri.IntervalYearMonth}});Object.defineProperty(un,"FixedSizeList",{enumerable:!0,get:function(){return ri.FixedSizeList}});Object.defineProperty(un,"Map_",{enumerable:!0,get:function(){return ri.Map_}});Object.defineProperty(un,"MapRow",{enumerable:!0,get:function(){return ri.MapRow}});Object.defineProperty(un,"Table",{enumerable:!0,get:function(){return ri.Table}});Object.defineProperty(un,"makeTable",{enumerable:!0,get:function(){return ri.makeTable}});Object.defineProperty(un,"tableFromArrays",{enumerable:!0,get:function(){return ri.tableFromArrays}});Object.defineProperty(un,"Schema",{enumerable:!0,get:function(){return ri.Schema}});Object.defineProperty(un,"Field",{enumerable:!0,get:function(){return ri.Field}});Object.defineProperty(un,"Visitor",{enumerable:!0,get:function(){return ri.Visitor}});Object.defineProperty(un,"Vector",{enumerable:!0,get:function(){return ri.Vector}});Object.defineProperty(un,"makeVector",{enumerable:!0,get:function(){return ri.makeVector}});Object.defineProperty(un,"vectorFromArray",{enumerable:!0,get:function(){return ri.vectorFromArray}});Object.defineProperty(un,"tableFromJSON",{enumerable:!0,get:function(){return ri.tableFromJSON}});Object.defineProperty(un,"ByteStream",{enumerable:!0,get:function(){return ri.ByteStream}});Object.defineProperty(un,"AsyncByteStream",{enumerable:!0,get:function(){return ri.AsyncByteStream}});Object.defineProperty(un,"AsyncByteQueue",{enumerable:!0,get:function(){return ri.AsyncByteQueue}});Object.defineProperty(un,"RecordBatchReader",{enumerable:!0,get:function(){return ri.RecordBatchReader}});Object.defineProperty(un,"RecordBatchFileReader",{enumerable:!0,get:function(){return ri.RecordBatchFileReader}});Object.defineProperty(un,"RecordBatchStreamReader",{enumerable:!0,get:function(){return ri.RecordBatchStreamReader}});Object.defineProperty(un,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return ri.AsyncRecordBatchFileReader}});Object.defineProperty(un,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return ri.AsyncRecordBatchStreamReader}});Object.defineProperty(un,"RecordBatchWriter",{enumerable:!0,get:function(){return ri.RecordBatchWriter}});Object.defineProperty(un,"RecordBatchFileWriter",{enumerable:!0,get:function(){return ri.RecordBatchFileWriter}});Object.defineProperty(un,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return ri.RecordBatchStreamWriter}});Object.defineProperty(un,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return ri.RecordBatchJSONWriter}});Object.defineProperty(un,"tableFromIPC",{enumerable:!0,get:function(){return ri.tableFromIPC}});Object.defineProperty(un,"tableToIPC",{enumerable:!0,get:function(){return ri.tableToIPC}});Object.defineProperty(un,"MessageReader",{enumerable:!0,get:function(){return ri.MessageReader}});Object.defineProperty(un,"AsyncMessageReader",{enumerable:!0,get:function(){return ri.AsyncMessageReader}});Object.defineProperty(un,"JSONMessageReader",{enumerable:!0,get:function(){return ri.JSONMessageReader}});Object.defineProperty(un,"Message",{enumerable:!0,get:function(){return ri.Message}});Object.defineProperty(un,"RecordBatch",{enumerable:!0,get:function(){return ri.RecordBatch}});Object.defineProperty(un,"util",{enumerable:!0,get:function(){return ri.util}});Object.defineProperty(un,"Builder",{enumerable:!0,get:function(){return ri.Builder}});Object.defineProperty(un,"makeBuilder",{enumerable:!0,get:function(){return ri.makeBuilder}});Object.defineProperty(un,"builderThroughIterable",{enumerable:!0,get:function(){return ri.builderThroughIterable}});Object.defineProperty(un,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return ri.builderThroughAsyncIterable}});var co=cZ();Object.defineProperty(un,"BinaryBuilder",{enumerable:!0,get:function(){return co.BinaryBuilder}});Object.defineProperty(un,"BoolBuilder",{enumerable:!0,get:function(){return co.BoolBuilder}});Object.defineProperty(un,"DateBuilder",{enumerable:!0,get:function(){return co.DateBuilder}});Object.defineProperty(un,"DateDayBuilder",{enumerable:!0,get:function(){return co.DateDayBuilder}});Object.defineProperty(un,"DateMillisecondBuilder",{enumerable:!0,get:function(){return co.DateMillisecondBuilder}});Object.defineProperty(un,"DecimalBuilder",{enumerable:!0,get:function(){return co.DecimalBuilder}});Object.defineProperty(un,"DictionaryBuilder",{enumerable:!0,get:function(){return co.DictionaryBuilder}});Object.defineProperty(un,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return co.FixedSizeBinaryBuilder}});Object.defineProperty(un,"FixedSizeListBuilder",{enumerable:!0,get:function(){return co.FixedSizeListBuilder}});Object.defineProperty(un,"FloatBuilder",{enumerable:!0,get:function(){return co.FloatBuilder}});Object.defineProperty(un,"Float16Builder",{enumerable:!0,get:function(){return co.Float16Builder}});Object.defineProperty(un,"Float32Builder",{enumerable:!0,get:function(){return co.Float32Builder}});Object.defineProperty(un,"Float64Builder",{enumerable:!0,get:function(){return co.Float64Builder}});Object.defineProperty(un,"IntervalBuilder",{enumerable:!0,get:function(){return co.IntervalBuilder}});Object.defineProperty(un,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return co.IntervalDayTimeBuilder}});Object.defineProperty(un,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return co.IntervalYearMonthBuilder}});Object.defineProperty(un,"IntBuilder",{enumerable:!0,get:function(){return co.IntBuilder}});Object.defineProperty(un,"Int8Builder",{enumerable:!0,get:function(){return co.Int8Builder}});Object.defineProperty(un,"Int16Builder",{enumerable:!0,get:function(){return co.Int16Builder}});Object.defineProperty(un,"Int32Builder",{enumerable:!0,get:function(){return co.Int32Builder}});Object.defineProperty(un,"Int64Builder",{enumerable:!0,get:function(){return co.Int64Builder}});Object.defineProperty(un,"Uint8Builder",{enumerable:!0,get:function(){return co.Uint8Builder}});Object.defineProperty(un,"Uint16Builder",{enumerable:!0,get:function(){return co.Uint16Builder}});Object.defineProperty(un,"Uint32Builder",{enumerable:!0,get:function(){return co.Uint32Builder}});Object.defineProperty(un,"Uint64Builder",{enumerable:!0,get:function(){return co.Uint64Builder}});Object.defineProperty(un,"ListBuilder",{enumerable:!0,get:function(){return co.ListBuilder}});Object.defineProperty(un,"MapBuilder",{enumerable:!0,get:function(){return co.MapBuilder}});Object.defineProperty(un,"NullBuilder",{enumerable:!0,get:function(){return co.NullBuilder}});Object.defineProperty(un,"StructBuilder",{enumerable:!0,get:function(){return co.StructBuilder}});Object.defineProperty(un,"TimestampBuilder",{enumerable:!0,get:function(){return co.TimestampBuilder}});Object.defineProperty(un,"TimestampSecondBuilder",{enumerable:!0,get:function(){return co.TimestampSecondBuilder}});Object.defineProperty(un,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return co.TimestampMillisecondBuilder}});Object.defineProperty(un,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return co.TimestampMicrosecondBuilder}});Object.defineProperty(un,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return co.TimestampNanosecondBuilder}});Object.defineProperty(un,"TimeBuilder",{enumerable:!0,get:function(){return co.TimeBuilder}});Object.defineProperty(un,"TimeSecondBuilder",{enumerable:!0,get:function(){return co.TimeSecondBuilder}});Object.defineProperty(un,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return co.TimeMillisecondBuilder}});Object.defineProperty(un,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return co.TimeMicrosecondBuilder}});Object.defineProperty(un,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return co.TimeNanosecondBuilder}});Object.defineProperty(un,"UnionBuilder",{enumerable:!0,get:function(){return co.UnionBuilder}});Object.defineProperty(un,"DenseUnionBuilder",{enumerable:!0,get:function(){return co.DenseUnionBuilder}});Object.defineProperty(un,"SparseUnionBuilder",{enumerable:!0,get:function(){return co.SparseUnionBuilder}});Object.defineProperty(un,"Utf8Builder",{enumerable:!0,get:function(){return co.Utf8Builder}})});var _ye=Ae((S7t,vye)=>{"use strict";m();var JYe=Object.create,ZP=Object.defineProperty,XYe=Object.getOwnPropertyDescriptor,ZYe=Object.getOwnPropertyNames,eKe=Object.getPrototypeOf,tKe=Object.prototype.hasOwnProperty,nKe=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),rKe=(n,e)=>{for(var t in e)ZP(n,t,{get:e[t],enumerable:!0})},iye=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ZYe(e))!tKe.call(n,i)&&i!==t&&ZP(n,i,{get:()=>e[i],enumerable:!(r=XYe(e,i))||r.enumerable});return n},mZ=(n,e,t)=>(t=n!=null?JYe(eKe(n)):{},iye(e||!n||!n.__esModule?ZP(t,"default",{value:n,enumerable:!0}):t,n)),iKe=n=>iye(ZP({},"__esModule",{value:!0}),n),sKe=nKe((n,e)=>{e.exports=Worker}),sye={};rKe(sye,{AsyncDuckDB:()=>hKe,AsyncDuckDBConnection:()=>fye,AsyncDuckDBDispatcher:()=>pKe,AsyncPreparedStatement:()=>dye,AsyncResultStreamIterator:()=>xZ,ConsoleLogger:()=>aKe,LogEvent:()=>uye,LogLevel:()=>oye,LogOrigin:()=>lye,LogTopic:()=>aye,PACKAGE_NAME:()=>mye,PACKAGE_VERSION:()=>xye,PACKAGE_VERSION_MAJOR:()=>vKe,PACKAGE_VERSION_MINOR:()=>_Ke,PACKAGE_VERSION_PATCH:()=>bKe,StatusCode:()=>cye,VoidLogger:()=>oKe,WorkerRequestType:()=>hye,WorkerResponseType:()=>pye,WorkerTask:()=>Ko,createWorker:()=>TKe,getJsDelivrBundles:()=>wKe,getLogEventLabel:()=>lKe,getLogLevelLabel:()=>uKe,getLogOriginLabel:()=>fKe,getLogTopicLabel:()=>cKe,getPlatformFeatures:()=>yye,isFirefox:()=>EKe,isNode:()=>_Z,isSafari:()=>SKe,selectBundle:()=>CKe});vye.exports=iKe(sye);var oye=(n=>(n[n.NONE=0]="NONE",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR",n))(oye||{}),aye=(n=>(n[n.NONE=0]="NONE",n[n.CONNECT=1]="CONNECT",n[n.DISCONNECT=2]="DISCONNECT",n[n.OPEN=3]="OPEN",n[n.QUERY=4]="QUERY",n[n.INSTANTIATE=5]="INSTANTIATE",n))(aye||{}),uye=(n=>(n[n.NONE=0]="NONE",n[n.OK=1]="OK",n[n.ERROR=2]="ERROR",n[n.START=3]="START",n[n.RUN=4]="RUN",n[n.CAPTURE=5]="CAPTURE",n))(uye||{}),lye=(n=>(n[n.NONE=0]="NONE",n[n.WEB_WORKER=1]="WEB_WORKER",n[n.NODE_WORKER=2]="NODE_WORKER",n[n.BINDINGS=3]="BINDINGS",n[n.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",n))(lye||{}),oKe=class{log(n){}},aKe=class{constructor(n=2){this.level=n}log(n){n.level>=this.level&&console.log(n)}};function uKe(n){switch(n){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function lKe(n){switch(n){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function cKe(n){switch(n){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function fKe(n){switch(n){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var cye=(n=>(n[n.SUCCESS=0]="SUCCESS",n))(cye||{}),R_=mZ(XP()),fye=class{constructor(n,e){this._bindings=n,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(n){return n(this._bindings,this._conn)}async query(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.runQuery(this._conn,n),t=R_.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new R_.Table(t)}async send(n){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:n});let e=await this._bindings.startPendingQuery(this._conn,n);for(;e==null;)e=await this._bindings.pollPendingQuery(this._conn);let t=new xZ(this._bindings,this._conn,e),r=await R_.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(n){return await this._bindings.getTableNames(this._conn,n)}async prepare(n){let e=await this._bindings.createPrepared(this._conn,n);return new dye(this._bindings,this._conn,e)}async insertArrowTable(n,e){let t=R_.tableToIPC(n,"stream");await this.insertArrowFromIPCStream(t,e)}async insertArrowFromIPCStream(n,e){await this._bindings.insertArrowFromIPCStream(this._conn,n,e)}async insertCSVFromPath(n,e){await this._bindings.insertCSVFromPath(this._conn,n,e)}async insertJSONFromPath(n,e){await this._bindings.insertJSONFromPath(this._conn,n,e)}},xZ=class{constructor(n,e,t){this.db=n,this.conn=e,this.header=t,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let n;return this._inFlight!=null?(n=await this._inFlight,this._inFlight=null):n=await this.db.fetchQueryResults(this.conn),this._depleted=n.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:n}}[Symbol.asyncIterator](){return this}},dye=class{constructor(n,e,t){this.bindings=n,this.connectionId=e,this.statementId=t}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...n){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,n),t=R_.RecordBatchReader.from(e);return console.assert(t.isSync()),console.assert(t.isFile()),new R_.Table(t)}async send(...n){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,n),t=new xZ(this.bindings,this.connectionId,e),r=await R_.RecordBatchReader.from(t);return console.assert(r.isAsync()),console.assert(r.isStream()),r}},hye=(n=>(n.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",n.CLOSE_PREPARED="CLOSE_PREPARED",n.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",n.CONNECT="CONNECT",n.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",n.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",n.CREATE_PREPARED="CREATE_PREPARED",n.DISCONNECT="DISCONNECT",n.DROP_FILE="DROP_FILE",n.DROP_FILES="DROP_FILES",n.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",n.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",n.FLUSH_FILES="FLUSH_FILES",n.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",n.GET_TABLE_NAMES="GET_TABLE_NAMES",n.GET_VERSION="GET_VERSION",n.GLOB_FILE_INFOS="GLOB_FILE_INFOS",n.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",n.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",n.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",n.INSTANTIATE="INSTANTIATE",n.OPEN="OPEN",n.PING="PING",n.POLL_PENDING_QUERY="POLL_PENDING_QUERY",n.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",n.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",n.REGISTER_FILE_URL="REGISTER_FILE_URL",n.RESET="RESET",n.RUN_PREPARED="RUN_PREPARED",n.RUN_QUERY="RUN_QUERY",n.SEND_PREPARED="SEND_PREPARED",n.START_PENDING_QUERY="START_PENDING_QUERY",n.TOKENIZE="TOKENIZE",n))(hye||{}),pye=(n=>(n.CONNECTION_INFO="CONNECTION_INFO",n.ERROR="ERROR",n.FEATURE_FLAGS="FEATURE_FLAGS",n.FILE_BUFFER="FILE_BUFFER",n.FILE_INFOS="FILE_INFOS",n.FILE_SIZE="FILE_SIZE",n.FILE_STATISTICS="FILE_STATISTICS",n.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",n.LOG="LOG",n.OK="OK",n.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",n.QUERY_PLAN="QUERY_PLAN",n.QUERY_RESULT="QUERY_RESULT",n.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",n.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",n.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",n.REGISTERED_FILE="REGISTERED_FILE",n.SCRIPT_TOKENS="SCRIPT_TOKENS",n.SUCCESS="SUCCESS",n.TABLE_NAMES="TABLE_NAMES",n.VERSION_STRING="VERSION_STRING",n))(pye||{}),Ko=class{constructor(n,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=n,this.data=e,this.promise=new Promise((t,r)=>{this.promiseResolver=t,this.promiseRejecter=r})}},Ho=mZ(XP());function eB(n){switch(n.typeId){case Ho.Type.Binary:return{sqlType:"binary"};case Ho.Type.Bool:return{sqlType:"bool"};case Ho.Type.Date:return{sqlType:"date"};case Ho.Type.DateDay:return{sqlType:"date32[d]"};case Ho.Type.DateMillisecond:return{sqlType:"date64[ms]"};case Ho.Type.Decimal:{let e=n;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case Ho.Type.Float:return{sqlType:"float"};case Ho.Type.Float16:return{sqlType:"float16"};case Ho.Type.Float32:return{sqlType:"float32"};case Ho.Type.Float64:return{sqlType:"float64"};case Ho.Type.Int:return{sqlType:"int32"};case Ho.Type.Int16:return{sqlType:"int16"};case Ho.Type.Int32:return{sqlType:"int32"};case Ho.Type.Int64:return{sqlType:"int64"};case Ho.Type.Uint16:return{sqlType:"uint16"};case Ho.Type.Uint32:return{sqlType:"uint32"};case Ho.Type.Uint64:return{sqlType:"uint64"};case Ho.Type.Uint8:return{sqlType:"uint8"};case Ho.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case Ho.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case Ho.Type.List:return{sqlType:"list",valueType:eB(n.valueType)};case Ho.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:n.byteWidth};case Ho.Type.Null:return{sqlType:"null"};case Ho.Type.Utf8:return{sqlType:"utf8"};case Ho.Type.Struct:return{sqlType:"struct",fields:n.children.map(e=>gZ(e.name,e.type))};case Ho.Type.Map:{let e=n;return{sqlType:"map",keyType:eB(e.keyType),valueType:eB(e.valueType)}}case Ho.Type.Time:return{sqlType:"time[s]"};case Ho.Type.TimeMicrosecond:return{sqlType:"time[us]"};case Ho.Type.TimeMillisecond:return{sqlType:"time[ms]"};case Ho.Type.TimeNanosecond:return{sqlType:"time[ns]"};case Ho.Type.TimeSecond:return{sqlType:"time[s]"};case Ho.Type.Timestamp:return{sqlType:"timestamp",timezone:n.timezone||void 0};case Ho.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:n.timezone||void 0};case Ho.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:n.timezone||void 0};case Ho.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:n.timezone||void 0};case Ho.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:n.timezone||void 0}}throw new Error(`unsupported arrow type: ${n.toString()}`)}function gZ(n,e){let t=eB(e);return t.name=n,t}var dKe=new TextEncoder,hKe=class{constructor(n,e=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=n,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(n){this._worker=n,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,t)=>{this._workerShutdownResolver=e})}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(n,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let t=this._nextMessageId++;return this._pendingRequests.set(t,n),this._worker.postMessage({messageId:t,type:n.type,data:n.data},e),await n.promise}onMessage(n){let e=n.data;switch(e.type){case"LOG":{this._logger.log(e.data);return}case"INSTANTIATE_PROGRESS":{for(let r of this._onInstantiationProgress)r(e.data);return}}let t=this._pendingRequests.get(e.requestId);if(!t){console.warn(`unassociated response: [${e.requestId}, ${e.type.toString()}]`);return}if(this._pendingRequests.delete(e.requestId),e.type=="ERROR"){let r=new Error(e.data.message);r.name=e.data.name,r.stack=e.data.stack,t.promiseRejecter(r);return}switch(t.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(e.type=="OK"){t.promiseResolver(e.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],e.type=="OK"){t.promiseResolver(e.data);return}break;case"GLOB_FILE_INFOS":if(e.type=="FILE_INFOS"){t.promiseResolver(e.data);return}break;case"GET_VERSION":if(e.type=="VERSION_STRING"){t.promiseResolver(e.data);return}break;case"GET_FEATURE_FLAGS":if(e.type=="FEATURE_FLAGS"){t.promiseResolver(e.data);return}break;case"GET_TABLE_NAMES":if(e.type=="TABLE_NAMES"){t.promiseResolver(e.data);return}break;case"TOKENIZE":if(e.type=="SCRIPT_TOKENS"){t.promiseResolver(e.data);return}break;case"COPY_FILE_TO_BUFFER":if(e.type=="FILE_BUFFER"){t.promiseResolver(e.data);return}break;case"EXPORT_FILE_STATISTICS":if(e.type=="FILE_STATISTICS"){t.promiseResolver(e.data);return}break;case"CONNECT":if(e.type=="CONNECTION_INFO"){t.promiseResolver(e.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(e.type=="QUERY_RESULT"){t.promiseResolver(e.data);return}break;case"SEND_PREPARED":if(e.type=="QUERY_RESULT_HEADER"){t.promiseResolver(e.data);return}break;case"START_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"POLL_PENDING_QUERY":if(e.type=="QUERY_RESULT_HEADER_OR_NULL"){t.promiseResolver(e.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],e.type=="SUCCESS"){t.promiseResolver(e.data);return}break;case"FETCH_QUERY_RESULTS":if(e.type=="QUERY_RESULT_CHUNK"){t.promiseResolver(e.data);return}break;case"CREATE_PREPARED":if(e.type=="PREPARED_STATEMENT_ID"){t.promiseResolver(e.data);return}break}t.promiseRejecter(new Error(`unexpected response type: ${e.type.toString()}`))}onError(n){console.error(n),console.error(`error in duckdb worker: ${n.message}`),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`);return}this._pendingRequests.clear()}async reset(){let n=new Ko("RESET",null);return await this.postTask(n)}async ping(){let n=new Ko("PING",null);await this.postTask(n)}async dropFile(n){let e=new Ko("DROP_FILE",n);return await this.postTask(e)}async dropFiles(){let n=new Ko("DROP_FILES",null);return await this.postTask(n)}async flushFiles(){let n=new Ko("FLUSH_FILES",null);return await this.postTask(n)}async instantiate(n,e=null,t=r=>{}){this._onInstantiationProgress.push(t);let r=new Ko("INSTANTIATE",[n,e]);return await this.postTask(r)}async getVersion(){let n=new Ko("GET_VERSION",null);return await this.postTask(n)}async getFeatureFlags(){let n=new Ko("GET_FEATURE_FLAGS",null);return await this.postTask(n)}async open(n){let e=new Ko("OPEN",n);await this.postTask(e)}async tokenize(n){let e=new Ko("TOKENIZE",n);return await this.postTask(e)}async connectInternal(){let n=new Ko("CONNECT",null);return await this.postTask(n)}async connect(){let n=await this.connectInternal();return new fye(this,n)}async disconnect(n){let e=new Ko("DISCONNECT",n);await this.postTask(e)}async runQuery(n,e){let t=new Ko("RUN_QUERY",[n,e]);return await this.postTask(t)}async startPendingQuery(n,e){let t=new Ko("START_PENDING_QUERY",[n,e]);return await this.postTask(t)}async pollPendingQuery(n){let e=new Ko("POLL_PENDING_QUERY",n);return await this.postTask(e)}async cancelPendingQuery(n){let e=new Ko("CANCEL_PENDING_QUERY",n);return await this.postTask(e)}async fetchQueryResults(n){let e=new Ko("FETCH_QUERY_RESULTS",n);return await this.postTask(e)}async getTableNames(n,e){let t=new Ko("GET_TABLE_NAMES",[n,e]);return await this.postTask(t)}async createPrepared(n,e){let t=new Ko("CREATE_PREPARED",[n,e]);return await this.postTask(t)}async closePrepared(n,e){let t=new Ko("CLOSE_PREPARED",[n,e]);await this.postTask(t)}async runPrepared(n,e,t){let r=new Ko("RUN_PREPARED",[n,e,t]);return await this.postTask(r)}async sendPrepared(n,e,t){let r=new Ko("SEND_PREPARED",[n,e,t]);return await this.postTask(r)}async globFiles(n){let e=new Ko("GLOB_FILE_INFOS",n);return await this.postTask(e)}async registerFileText(n,e){let t=dKe.encode(e);await this.registerFileBuffer(n,t)}async registerFileURL(n,e){e===void 0&&(e=n);let t=new Ko("REGISTER_FILE_URL",[n,e]);await this.postTask(t)}async registerEmptyFileBuffer(n){let e=new Ko("REGISTER_FILE_BUFFER",[n,new Uint8Array]);await this.postTask(e)}async registerFileBuffer(n,e){let t=new Ko("REGISTER_FILE_BUFFER",[n,e]);await this.postTask(t,[e.buffer])}async registerFileHandle(n,e){let t=new Ko("REGISTER_FILE_HANDLE",[n,e]);await this.postTask(t,[])}async collectFileStatistics(n,e){let t=new Ko("COLLECT_FILE_STATISTICS",[n,e]);await this.postTask(t,[])}async exportFileStatistics(n){let e=new Ko("EXPORT_FILE_STATISTICS",n);return await this.postTask(e,[])}async copyFileToBuffer(n){let e=new Ko("COPY_FILE_TO_BUFFER",n);return await this.postTask(e)}async copyFileToPath(n,e){let t=new Ko("COPY_FILE_TO_PATH",[n,e]);await this.postTask(t)}async insertArrowFromIPCStream(n,e,t){if(e.length==0)return;let r=new Ko("INSERT_ARROW_FROM_IPC_STREAM",[n,e,t]);await this.postTask(r,[e.buffer])}async insertCSVFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(gZ(s,o))}t.columnsFlat=i,delete t.columns}let r=new Ko("IMPORT_CSV_FROM_PATH",[n,e,t]);await this.postTask(r)}async insertJSONFromPath(n,e,t){if(t.columns!==void 0){let i=[];for(let s in t.columns){let o=t.columns[s];i.push(gZ(s,o))}t.columnsFlat=i,delete t.columns}let r=new Ko("IMPORT_JSON_FROM_PATH",[n,e,t]);await this.postTask(r)}},pKe=class{constructor(){this._bindings=null,this._nextMessageId=0}log(n){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:n},[])}sendOK(n){this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"OK",data:null},[])}failWith(n,e){let t={name:e.name,message:e.message,stack:e.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"ERROR",data:t},[])}async onMessage(n){switch(n.type){case"PING":this.sendOK(n);return;case"INSTANTIATE":this._bindings!=null&&this.failWith(n,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(n.data[0],n.data[1],e=>{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"INSTANTIATE_PROGRESS",data:e},[])}),this.sendOK(n)}catch(e){this._bindings=null,this.failWith(n,e)}return;default:break}if(!this._bindings)return this.failWith(n,new Error("duckdb is not initialized"));try{switch(n.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(n);break;case"OPEN":this._bindings.open(n.data),this.sendOK(n);break;case"DROP_FILE":this._bindings.dropFile(n.data),this.sendOK(n);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(n);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(n);break;case"CONNECT":{let e=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"CONNECTION_INFO",data:e.useUnsafe((t,r)=>r)},[]);break}case"DISCONNECT":this._bindings.disconnect(n.data),this.sendOK(n);break;case"CREATE_PREPARED":{let e=this._bindings.createPrepared(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"PREPARED_STATEMENT_ID",data:e},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared(n.data[0],n.data[1]),this.sendOK(n);break}case"RUN_PREPARED":{let e=this._bindings.runPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"RUN_QUERY":{let e=this._bindings.runQuery(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"SEND_PREPARED":{let e=this._bindings.sendPrepared(n.data[0],n.data[1],n.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER",data:e},[e.buffer]);break}case"START_PENDING_QUERY":{let e=this._bindings.startPendingQuery(n.data[0],n.data[1]),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"POLL_PENDING_QUERY":{let e=this._bindings.pollPendingQuery(n.data),t=[];e&&t.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},t);break}case"CANCEL_PENDING_QUERY":{let e=this._bindings.cancelPendingQuery(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SUCCESS",data:e},[]);break}case"FETCH_QUERY_RESULTS":{let e=this._bindings.fetchQueryResults(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"QUERY_RESULT_CHUNK",data:e},[e.buffer]);break}case"GET_TABLE_NAMES":{let e=this._bindings.getTableNames(n.data[0],n.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"TABLE_NAMES",data:e},[]);break}case"GLOB_FILE_INFOS":{let e=this._bindings.globFiles(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_INFOS",data:e},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(n.data[0],n.data[1]),this.sendOK(n);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(n.data[0],n.data[1]),this.sendOK(n);break;case"REGISTER_FILE_HANDLE":this._bindings.registerFileHandle(n.data[0],n.data[1]),this.sendOK(n);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(n.data[0],n.data[1]),this.sendOK(n);break;case"COPY_FILE_TO_BUFFER":{let e=this._bindings.copyFileToBuffer(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_BUFFER",data:e},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(n.data[0],n.data[1]),this.sendOK(n);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(n.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath(n.data[0],n.data[1],n.data[2]),this.sendOK(n);break}case"TOKENIZE":{let e=this._bindings.tokenize(n.data);this.postMessage({messageId:this._nextMessageId++,requestId:n.messageId,type:"SCRIPT_TOKENS",data:e},[]);break}}}catch(e){return this.failWith(n,e)}}},mKe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),xKe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),gKe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),yKe=()=>(async n=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(n)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),yZ={name:"@duckdb/duckdb-wasm",version:"1.17.0",description:"DuckDB powered by WebAssembly",license:"MPL-2.0",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^9.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.3.0","@typescript-eslint/eslint-plugin":"^5.36.1","@typescript-eslint/parser":"^5.36.1",esbuild:"^0.15.6",eslint:"^8.23.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.31.1","fast-glob":"^3.2.11",jasmine:"^4.4.0","jasmine-core":"^4.3.0","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.4.0","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.0.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.34","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.7.1",puppeteer:"^17.1.3",rimraf:"^3.0.2",s3rver:"^3.7.1",typedoc:"^0.23.14",typescript:"^4.7.4","wasm-feature-detect":"^1.2.11","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},mye=yZ.name,xye=yZ.version,vZ=yZ.version.split("."),vKe=vZ[0],_Ke=vZ[1],bKe=vZ[2],_Z=()=>typeof navigator>"u",gye=()=>_Z()?"node":navigator.userAgent,EKe=()=>gye().includes("Firefox"),SKe=()=>/^((?!chrome|android).)*safari/i.test(gye());function wKe(){let n=`https://cdn.jsdelivr.net/npm/${mye}@${xye}/dist/`;return{mvp:{mainModule:`${n}duckdb-mvp.wasm`,mainWorker:`${n}duckdb-browser-mvp.worker.js`},eh:{mainModule:`${n}duckdb-eh.wasm`,mainWorker:`${n}duckdb-browser-eh.worker.js`}}}var bZ=null,EZ=null,SZ=null,wZ=null,CZ=null;async function yye(){return bZ==null&&(bZ=typeof BigInt64Array<"u"),EZ==null&&(EZ=await xKe()),SZ==null&&(SZ=await yKe()),wZ==null&&(wZ=await gKe()),CZ==null&&(CZ=await mKe()),{bigInt64Array:bZ,crossOriginIsolated:_Z()||globalThis.crossOriginIsolated||!1,wasmExceptions:EZ,wasmSIMD:wZ,wasmThreads:SZ,wasmBulkMemory:CZ}}async function CKe(n){let e=await yye();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&n.coi)return{mainModule:n.coi.mainModule,mainWorker:n.coi.mainWorker,pthreadWorker:n.coi.pthreadWorker};if(n.eh)return{mainModule:n.eh.mainModule,mainWorker:n.eh.mainWorker,pthreadWorker:null}}return{mainModule:n.mvp.mainModule,mainWorker:n.mvp.mainWorker,pthreadWorker:null}}var AKe=mZ(sKe());async function TKe(n){let e=new Request(n),t=await fetch(e),r=URL.createObjectURL(await t.blob());return new AKe.default(r)}});var im=Ae(Qr=>{"use strict";m();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.isValueDate=Qr.isValueTimestamp=Qr.isValueBoolean=Qr.isValueNumber=Qr.isValueString=Qr.isMeasureLike=Qr.getPhysicalFields=Qr.getDimensions=Qr.isPhysical=Qr.isDimensional=Qr.isTurtleDef=Qr.getIdentifier=Qr.isFieldStructDef=Qr.isFieldTimeBased=Qr.isFieldTypeDef=Qr.isJoinOn=Qr.isIndexSegment=Qr.isSamplingEnable=Qr.isSamplingPercent=Qr.isSamplingRows=Qr.isQuerySegment=Qr.isProjectSegment=Qr.isReduceSegment=Qr.refIsStructDef=Qr.isByExpression=Qr.isByName=Qr.ValueType=Qr.isExtractUnit=Qr.isTimestampUnit=Qr.isDateUnit=Qr.FieldIsIntrinsic=Qr.isAtomicFieldType=Qr.isTimeFieldType=Qr.hasExpression=Qr.mkExpr=Qr.isApplyFragment=Qr.isApplyValue=Qr.isParameterFragment=Qr.isFieldFragment=Qr.isUngroupFragment=Qr.isAsymmetricFragment=Qr.isAggregateFragment=Qr.isDialectFragment=Qr.isFilterFragment=Qr.isFilteredAliasedName=Qr.paramHasValue=Qr.isConditionParameter=Qr.isValueParameter=void 0;function bye(n){return n.value!==void 0}Qr.isValueParameter=bye;function FKe(n){return n.condition!==void 0}Qr.isConditionParameter=FKe;function DKe(n){return bye(n)||n.condition!==null}Qr.paramHasValue=DKe;function OKe(n){for(let e of Object.keys(n))if(!["name","as","filterList"].includes(e))return!1;return!0}Qr.isFilteredAliasedName=OKe;function RKe(n){return(n==null?void 0:n.type)==="filterExpression"}Qr.isFilterFragment=RKe;function NKe(n){return(n==null?void 0:n.type)==="dialect"}Qr.isDialectFragment=NKe;function Eye(n){return(n==null?void 0:n.type)==="aggregate"}Qr.isAggregateFragment=Eye;function LKe(n){return Eye(n)&&["sum","avg","count"].includes(n.function)}Qr.isAsymmetricFragment=LKe;function kKe(n){let e=n==null?void 0:n.type;return e=="all"||e=="exclude"}Qr.isUngroupFragment=kKe;function IKe(n){return(n==null?void 0:n.type)==="field"}Qr.isFieldFragment=IKe;function MKe(n){return(n==null?void 0:n.type)==="parameter"}Qr.isParameterFragment=MKe;function PKe(n){return(n==null?void 0:n.type)==="applyVal"}Qr.isApplyValue=PKe;function BKe(n){return(n==null?void 0:n.type)==="apply"}Qr.isApplyFragment=BKe;function jKe(n,...e){let t=[],r;for(r=0;r<e.length;r++){let i=e[r];n[r].length>0&&t.push(n[r]),typeof i=="string"?t.push(i):t.push(...i)}return n[r].length>0&&t.push(n[r]),t}Qr.mkExpr=jKe;function Sye(n){return n.e!==void 0}Qr.hasExpression=Sye;function qKe(n){return n=="date"||n=="timestamp"}Qr.isTimeFieldType=qKe;function wye(n){return["string","number","date","timestamp","boolean"].includes(n)}Qr.isAtomicFieldType=wye;function UKe(n){return wye(n.type)&&!Sye(n)?!0:n.type==="struct"&&(n.structSource.type==="inline"||n.structSource.type==="nested")}Qr.FieldIsIntrinsic=UKe;function Cye(n){return["day","week","month","quarter","year"].includes(n)}Qr.isDateUnit=Cye;function Aye(n){return Cye(n)||["hour","minute","second"].includes(n)}Qr.isTimestampUnit=Aye;function zKe(n){return Aye(n)||n=="day_of_week"||n=="day_of_year"}Qr.isExtractUnit=zKe;var HKe;(function(n){n.Date="date",n.Timestamp="timestamp",n.Number="number",n.String="string"})(HKe=Qr.ValueType||(Qr.ValueType={}));function $Ke(n){return n===void 0?!1:n.by==="name"}Qr.isByName=$Ke;function VKe(n){return n===void 0?!1:n.by==="name"}Qr.isByExpression=VKe;function WKe(n){return typeof n!="string"&&n.type==="struct"}Qr.refIsStructDef=WKe;function Tye(n){return n.type==="reduce"}Qr.isReduceSegment=Tye;function Fye(n){return n.type==="project"}Qr.isProjectSegment=Fye;function QKe(n){return Fye(n)||Tye(n)}Qr.isQuerySegment=QKe;function GKe(n){return n.rows!==void 0}Qr.isSamplingRows=GKe;function YKe(n){return n.percent!==void 0}Qr.isSamplingPercent=YKe;function KKe(n){return n.enable!==void 0}Qr.isSamplingEnable=KKe;function JKe(n){return n.type==="index"}Qr.isIndexSegment=JKe;function XKe(n){return["one","many","cross"].includes(n.type)}Qr.isJoinOn=XKe;function Dye(n){return n.type==="string"||n.type==="date"||n.type==="number"||n.type==="timestamp"||n.type==="boolean"}Qr.isFieldTypeDef=Dye;function ZKe(n){return n.type==="date"||n.type==="timestamp"}Qr.isFieldTimeBased=ZKe;function Oye(n){return n.type==="struct"}Qr.isFieldStructDef=Oye;function eJe(n){return n.as!==void 0?n.as:n.name}Qr.getIdentifier=eJe;function tJe(n){return n.type==="turtle"}Qr.isTurtleDef=tJe;function Rye(n){var e;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension":!1}Qr.isDimensional=Rye;function Nye(n){return Dye(n)&&n.e===void 0||Oye(n)&&(n.structSource.type==="nested"||n.structSource.type=="inline")}Qr.isPhysical=Nye;function nJe(n){return n.fields.filter(Rye)}Qr.getDimensions=nJe;function rJe(n){return n.fields.filter(Nye)}Qr.getPhysicalFields=rJe;function iJe(n){var e,t;return"resultMetadata"in n?((e=n.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=n.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct":!1}Qr.isMeasureLike=iJe;function sJe(n,e){return e.type==="string"}Qr.isValueString=sJe;function oJe(n,e){return e.type==="number"}Qr.isValueNumber=oJe;function aJe(n,e){return e.type==="boolean"}Qr.isValueBoolean=aJe;function uJe(n,e){return e.type==="timestamp"}Qr.isValueTimestamp=uJe;function lJe(n,e){return e.type==="date"}Qr.isValueDate=lJe});var qT=Ae((G7,jT)=>{m();(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",s="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",a=500,c="__lodash_placeholder__",d=1,p=2,E=4,w=1,N=2,R=1,U=2,Q=4,P=8,j=16,I=32,K=64,de=128,M=256,Z=512,me=30,_e="...",Ve=800,at=16,lt=1,Ke=2,St=3,Ft=1/0,je=9007199254740991,te=17976931348623157e292,Xe=0/0,ye=4294967295,ke=ye-1,Ce=ye>>>1,xe=[["ary",de],["bind",R],["bindKey",U],["curry",P],["curryRight",j],["flip",Z],["partial",I],["partialRight",K],["rearg",M]],Je="[object Arguments]",ut="[object Array]",Qt="[object AsyncFunction]",wt="[object Boolean]",mn="[object Date]",Lt="[object DOMException]",It="[object Error]",cn="[object Function]",it="[object GeneratorFunction]",ue="[object Map]",De="[object Number]",ve="[object Null]",le="[object Object]",st="[object Promise]",Ze="[object Proxy]",Le="[object RegExp]",vt="[object Set]",$t="[object String]",Mt="[object Symbol]",Vt="[object Undefined]",tn="[object WeakMap]",en="[object WeakSet]",En="[object ArrayBuffer]",Fn="[object DataView]",On="[object Float32Array]",qt="[object Float64Array]",pn="[object Int8Array]",qn="[object Int16Array]",or="[object Int32Array]",In="[object Uint8Array]",Ne="[object Uint8ClampedArray]",$e="[object Uint16Array]",Oe="[object Uint32Array]",jt=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nn=/&(?:amp|lt|gt|quot|#39);/g,Wt=/[&<>"']/g,Dn=RegExp(nn.source),Qn=RegExp(Wt.source),Zn=/<%-([\s\S]+?)%>/g,Pn=/<%([\s\S]+?)%>/g,ar=/<%=([\s\S]+?)%>/g,Ye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gt=/^\w*$/,se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qe=/[\\^$.*+?()[\]{}|]/g,et=RegExp(qe.source),Tt=/^\s+/,fn=/\s/,on=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ie=/,? & /,Te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,_t=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,ne=/^[-+]0x[0-9a-f]+$/i,we=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,nt=/^0o[0-7]+$/i,Pt=/^(?:0|[1-9]\d*)$/,sn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wn=/($^)/,yn=/['\n\r\u2028\u2029\\]/g,xn="\\ud800-\\udfff",zn="\\u0300-\\u036f",Re="\\ufe20-\\ufe2f",He="\\u20d0-\\u20ff",At=zn+Re+He,L="\\u2700-\\u27bf",V="a-z\\xdf-\\xf6\\xf8-\\xff",be="\\xac\\xb1\\xd7\\xf7",pe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Y="\\u2000-\\u206f",oe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Qe="\\ufe0e\\ufe0f",Rt=be+pe+Y+oe,Et="['\u2019]",ln="["+xn+"]",S="["+Rt+"]",B="["+At+"]",ee="\\d+",Ee="["+L+"]",ft="["+V+"]",Ct="[^"+xn+Rt+ee+L+V+ce+"]",Jt="\\ud83c[\\udffb-\\udfff]",Kt="(?:"+B+"|"+Jt+")",hn="[^"+xn+"]",Bn="(?:\\ud83c[\\udde6-\\uddff]){2}",jn="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="["+ce+"]",Xr="\\u200d",Wr="(?:"+ft+"|"+Ct+")",yr="(?:"+Vn+"|"+Ct+")",Pr="(?:"+Et+"(?:d|ll|m|re|s|t|ve))?",vi="(?:"+Et+"(?:D|LL|M|RE|S|T|VE))?",li=Kt+"?",Xi="["+Qe+"]?",ws="(?:"+Xr+"(?:"+[hn,Bn,jn].join("|")+")"+Xi+li+")*",ts="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ca="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pa=Xi+li+ws,hl="(?:"+[Ee,Bn,jn].join("|")+")"+pa,Sc="(?:"+[hn+B+"?",B,Bn,jn,ln].join("|")+")",cu=RegExp(Et,"g"),fu=RegExp(B,"g"),Xu=RegExp(Jt+"(?="+Jt+")|"+Sc+pa,"g"),Fu=RegExp([Vn+"?"+ft+"+"+Pr+"(?="+[S,Vn,"$"].join("|")+")",yr+"+"+vi+"(?="+[S,Vn+Wr,"$"].join("|")+")",Vn+"?"+Wr+"+"+Pr,Vn+"+"+vi,Ca,ts,ee,hl].join("|"),"g"),wc=RegExp("["+Xr+xn+At+Qe+"]"),ta=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qc=-1,Ge={};Ge[On]=Ge[qt]=Ge[pn]=Ge[qn]=Ge[or]=Ge[In]=Ge[Ne]=Ge[$e]=Ge[Oe]=!0,Ge[Je]=Ge[ut]=Ge[En]=Ge[wt]=Ge[Fn]=Ge[mn]=Ge[It]=Ge[cn]=Ge[ue]=Ge[De]=Ge[le]=Ge[Le]=Ge[vt]=Ge[$t]=Ge[tn]=!1;var Gt={};Gt[Je]=Gt[ut]=Gt[En]=Gt[Fn]=Gt[wt]=Gt[mn]=Gt[On]=Gt[qt]=Gt[pn]=Gt[qn]=Gt[or]=Gt[ue]=Gt[De]=Gt[le]=Gt[Le]=Gt[vt]=Gt[$t]=Gt[Mt]=Gt[In]=Gt[Ne]=Gt[$e]=Gt[Oe]=!0,Gt[It]=Gt[cn]=Gt[tn]=!1;var Mn={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Yn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},si={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zr=parseFloat,Cs=parseInt,fo=typeof global=="object"&&global&&global.Object===Object&&global,ro=typeof self=="object"&&self&&self.Object===Object&&self,hs=fo||ro||Function("return this")(),io=typeof G7=="object"&&G7&&!G7.nodeType&&G7,ho=io&&typeof jT=="object"&&jT&&!jT.nodeType&&jT,xi=ho&&ho.exports===io,Ci=xi&&fo.process,Wi=function(){try{var Zt=ho&&ho.require&&ho.require("util").types;return Zt||Ci&&Ci.binding&&Ci.binding("util")}catch{}}(),Xo=Wi&&Wi.isArrayBuffer,fa=Wi&&Wi.isDate,da=Wi&&Wi.isMap,po=Wi&&Wi.isRegExp,us=Wi&&Wi.isSet,ps=Wi&&Wi.isTypedArray;function Zi(Zt,Jn,vn){switch(vn.length){case 0:return Zt.call(Jn);case 1:return Zt.call(Jn,vn[0]);case 2:return Zt.call(Jn,vn[0],vn[1]);case 3:return Zt.call(Jn,vn[0],vn[1],vn[2])}return Zt.apply(Jn,vn)}function du(Zt,Jn,vn,Kr){for(var Oi=-1,ns=Zt==null?0:Zt.length;++Oi<ns;){var ms=Zt[Oi];Jn(Kr,ms,vn(ms),Zt)}return Kr}function Is(Zt,Jn){for(var vn=-1,Kr=Zt==null?0:Zt.length;++vn<Kr&&Jn(Zt[vn],vn,Zt)!==!1;);return Zt}function ma(Zt,Jn){for(var vn=Zt==null?0:Zt.length;vn--&&Jn(Zt[vn],vn,Zt)!==!1;);return Zt}function oa(Zt,Jn){for(var vn=-1,Kr=Zt==null?0:Zt.length;++vn<Kr;)if(!Jn(Zt[vn],vn,Zt))return!1;return!0}function ki(Zt,Jn){for(var vn=-1,Kr=Zt==null?0:Zt.length,Oi=0,ns=[];++vn<Kr;){var ms=Zt[vn];Jn(ms,vn,Zt)&&(ns[Oi++]=ms)}return ns}function Vo(Zt,Jn){var vn=Zt==null?0:Zt.length;return!!vn&&ua(Zt,Jn,0)>-1}function vs(Zt,Jn,vn){for(var Kr=-1,Oi=Zt==null?0:Zt.length;++Kr<Oi;)if(vn(Jn,Zt[Kr]))return!0;return!1}function Bi(Zt,Jn){for(var vn=-1,Kr=Zt==null?0:Zt.length,Oi=Array(Kr);++vn<Kr;)Oi[vn]=Jn(Zt[vn],vn,Zt);return Oi}function Oo(Zt,Jn){for(var vn=-1,Kr=Jn.length,Oi=Zt.length;++vn<Kr;)Zt[Oi+vn]=Jn[vn];return Zt}function Na(Zt,Jn,vn,Kr){var Oi=-1,ns=Zt==null?0:Zt.length;for(Kr&&ns&&(vn=Zt[++Oi]);++Oi<ns;)vn=Jn(vn,Zt[Oi],Oi,Zt);return vn}function Ja(Zt,Jn,vn,Kr){var Oi=Zt==null?0:Zt.length;for(Kr&&Oi&&(vn=Zt[--Oi]);Oi--;)vn=Jn(vn,Zt[Oi],Oi,Zt);return vn}function Ro(Zt,Jn){for(var vn=-1,Kr=Zt==null?0:Zt.length;++vn<Kr;)if(Jn(Zt[vn],vn,Zt))return!0;return!1}var To=el("length");function qa(Zt){return Zt.split("")}function hu(Zt){return Zt.match(Te)||[]}function Ua(Zt,Jn,vn){var Kr;return vn(Zt,function(Oi,ns,ms){if(Jn(Oi,ns,ms))return Kr=ns,!1}),Kr}function aa(Zt,Jn,vn,Kr){for(var Oi=Zt.length,ns=vn+(Kr?1:-1);Kr?ns--:++ns<Oi;)if(Jn(Zt[ns],ns,Zt))return ns;return-1}function ua(Zt,Jn,vn){return Jn===Jn?Ir(Zt,Jn,vn):aa(Zt,Pl,vn)}function pl(Zt,Jn,vn,Kr){for(var Oi=vn-1,ns=Zt.length;++Oi<ns;)if(Kr(Zt[Oi],Jn))return Oi;return-1}function Pl(Zt){return Zt!==Zt}function na(Zt,Jn){var vn=Zt==null?0:Zt.length;return vn?pr(Zt,Jn)/vn:Xe}function el(Zt){return function(Jn){return Jn==null?n:Jn[Zt]}}function ci(Zt){return function(Jn){return Zt==null?n:Zt[Jn]}}function rs(Zt,Jn,vn,Kr,Oi){return Oi(Zt,function(ns,ms,$i){vn=Kr?(Kr=!1,ns):Jn(vn,ns,ms,$i)}),vn}function ls(Zt,Jn){var vn=Zt.length;for(Zt.sort(Jn);vn--;)Zt[vn]=Zt[vn].value;return Zt}function pr(Zt,Jn){for(var vn,Kr=-1,Oi=Zt.length;++Kr<Oi;){var ns=Jn(Zt[Kr]);ns!==n&&(vn=vn===n?ns:vn+ns)}return vn}function as(Zt,Jn){for(var vn=-1,Kr=Array(Zt);++vn<Zt;)Kr[vn]=Jn(vn);return Kr}function Me(Zt,Jn){return Bi(Jn,function(vn){return[vn,Zt[vn]]})}function pt(Zt){return Zt&&Zt.slice(0,gs(Zt)+1).replace(Tt,"")}function Yt(Zt){return function(Jn){return Zt(Jn)}}function Bt(Zt,Jn){return Bi(Jn,function(vn){return Zt[vn]})}function dn(Zt,Jn){return Zt.has(Jn)}function Nn(Zt,Jn){for(var vn=-1,Kr=Zt.length;++vn<Kr&&ua(Jn,Zt[vn],0)>-1;);return vn}function Kn(Zt,Jn){for(var vn=Zt.length;vn--&&ua(Jn,Zt[vn],0)>-1;);return vn}function Un(Zt,Jn){for(var vn=Zt.length,Kr=0;vn--;)Zt[vn]===Jn&&++Kr;return Kr}var br=ci(Mn),wr=ci(Yn);function Gn(Zt){return"\\"+jr[Zt]}function ur(Zt,Jn){return Zt==null?n:Zt[Jn]}function tr(Zt){return wc.test(Zt)}function gr(Zt){return ta.test(Zt)}function Or(Zt){for(var Jn,vn=[];!(Jn=Zt.next()).done;)vn.push(Jn.value);return vn}function mi(Zt){var Jn=-1,vn=Array(Zt.size);return Zt.forEach(function(Kr,Oi){vn[++Jn]=[Oi,Kr]}),vn}function ii(Zt,Jn){return function(vn){return Zt(Jn(vn))}}function gi(Zt,Jn){for(var vn=-1,Kr=Zt.length,Oi=0,ns=[];++vn<Kr;){var ms=Zt[vn];(ms===Jn||ms===c)&&(Zt[vn]=c,ns[Oi++]=vn)}return ns}function oi(Zt){var Jn=-1,vn=Array(Zt.size);return Zt.forEach(function(Kr){vn[++Jn]=Kr}),vn}function Ur(Zt){var Jn=-1,vn=Array(Zt.size);return Zt.forEach(function(Kr){vn[++Jn]=[Kr,Kr]}),vn}function Ir(Zt,Jn,vn){for(var Kr=vn-1,Oi=Zt.length;++Kr<Oi;)if(Zt[Kr]===Jn)return Kr;return-1}function bi(Zt,Jn,vn){for(var Kr=vn+1;Kr--;)if(Zt[Kr]===Jn)return Kr;return Kr}function _i(Zt){return tr(Zt)?Ms(Zt):To(Zt)}function os(Zt){return tr(Zt)?is(Zt):qa(Zt)}function gs(Zt){for(var Jn=Zt.length;Jn--&&fn.test(Zt.charAt(Jn)););return Jn}var Ei=ci(si);function Ms(Zt){for(var Jn=Xu.lastIndex=0;Xu.test(Zt);)++Jn;return Jn}function is(Zt){return Zt.match(Xu)||[]}function xa(Zt){return Zt.match(Fu)||[]}var No=function Zt(Jn){Jn=Jn==null?hs:As.defaults(hs.Object(),Jn,As.pick(hs,Zu));var vn=Jn.Array,Kr=Jn.Date,Oi=Jn.Error,ns=Jn.Function,ms=Jn.Math,$i=Jn.Object,cs=Jn.RegExp,pu=Jn.String,ae=Jn.TypeError,ot=vn.prototype,Xt=ns.prototype,Tn=$i.prototype,rr=Jn["__core-js_shared__"],vr=Xt.toString,dr=Tn.hasOwnProperty,es=0,_s=function(){var h=/[^.]+$/.exec(rr&&rr.keys&&rr.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Rs=Tn.toString,so=vr.call($i),Xa=hs._,Xl=cs("^"+vr.call(dr).replace(qe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gc=xi?Jn.Buffer:n,Cc=Jn.Symbol,e0=Jn.Uint8Array,U0=Gc?Gc.allocUnsafe:n,Zl=ii($i.getPrototypeOf,$i),Yc=$i.create,t0=Tn.propertyIsEnumerable,ml=ot.splice,Ac=Cc?Cc.isConcatSpreadable:n,n0=Cc?Cc.iterator:n,ec=Cc?Cc.toStringTag:n,Bl=function(){try{var h=zr($i,"defineProperty");return h({},"",{}),h}catch{}}(),z0=Jn.clearTimeout!==hs.clearTimeout&&Jn.clearTimeout,yh=Kr&&Kr.now!==hs.Date.now&&Kr.now,H0=Jn.setTimeout!==hs.setTimeout&&Jn.setTimeout,$0=ms.ceil,Kc=ms.floor,V0=$i.getOwnPropertySymbols,Tc=Gc?Gc.isBuffer:n,r0=Jn.isFinite,i0=ot.join,s0=ii($i.keys,$i),Uo=ms.max,Zo=ms.min,o0=Kr.now,xl=Jn.parseInt,Jc=ms.random,Ld=ot.reverse,Du=zr(Jn,"DataView"),_o=zr(Jn,"Map"),vh=zr(Jn,"Promise"),gl=zr(Jn,"Set"),Ls=zr(Jn,"WeakMap"),yl=zr($i,"create"),k=Ls&&new Ls,X={},Ue=Ux(Du),Ot=Ux(_o),zt=Ux(vh),Cn=Ux(gl),Ln=Ux(Ls),ir=Cc?Cc.prototype:n,hr=ir?ir.valueOf:n,Nr=ir?ir.toString:n;function tt(h){if(Pu(h)&&!Bs(h)&&!(h instanceof Gr)){if(h instanceof Mi)return h;if(dr.call(h,"__wrapped__"))return RR(h)}return new Mi(h)}var Ri=function(){function h(){}return function(b){if(!gu(b))return{};if(Yc)return Yc(b);h.prototype=b;var q=new h;return h.prototype=n,q}}();function Qi(){}function Mi(h,b){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=n}tt.templateSettings={escape:Zn,evaluate:Pn,interpolate:ar,variable:"",imports:{_:tt}},tt.prototype=Qi.prototype,tt.prototype.constructor=tt,Mi.prototype=Ri(Qi.prototype),Mi.prototype.constructor=Mi;function Gr(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ye,this.__views__=[]}function Qs(){var h=new Gr(this.__wrapped__);return h.__actions__=Fe(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Fe(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Fe(this.__views__),h}function zo(){if(this.__filtered__){var h=new Gr(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function ga(){var h=this.__wrapped__.value(),b=this.__dir__,q=Bs(h),he=b<0,dt=q?h.length:0,Ht=ac(0,dt,this.__views__),gn=Ht.start,Rn=Ht.end,Wn=Rn-gn,Er=he?Rn:gn-1,Ar=this.__iteratees__,Br=Ar.length,Ti=0,Ji=Zo(Wn,this.__takeCount__);if(!q||!he&&dt==Wn&&Ji==Wn)return P1(h,this.__actions__);var ys=[];e:for(;Wn--&&Ti<Ji;){Er+=b;for(var xo=-1,Es=h[Er];++xo<Br;){var wo=Ar[xo],Mo=wo.iteratee,rd=wo.type,kf=Mo(Es);if(rd==Ke)Es=kf;else if(!kf){if(rd==lt)continue e;break e}}ys[Ti++]=Es}return ys}Gr.prototype=Ri(Qi.prototype),Gr.prototype.constructor=Gr;function mo(h){var b=-1,q=h==null?0:h.length;for(this.clear();++b<q;){var he=h[b];this.set(he[0],he[1])}}function La(){this.__data__=yl?yl(null):{},this.size=0}function tc(h){var b=this.has(h)&&delete this.__data__[h];return this.size-=b?1:0,b}function jl(h){var b=this.__data__;if(yl){var q=b[h];return q===o?n:q}return dr.call(b,h)?b[h]:n}function ka(h){var b=this.__data__;return yl?b[h]!==n:dr.call(b,h)}function nc(h,b){var q=this.__data__;return this.size+=this.has(h)?0:1,q[h]=yl&&b===n?o:b,this}mo.prototype.clear=La,mo.prototype.delete=tc,mo.prototype.get=jl,mo.prototype.has=ka,mo.prototype.set=nc;function ya(h){var b=-1,q=h==null?0:h.length;for(this.clear();++b<q;){var he=h[b];this.set(he[0],he[1])}}function Xc(){this.__data__=[],this.size=0}function Zc(h){var b=this.__data__,q=nl(b,h);if(q<0)return!1;var he=b.length-1;return q==he?b.pop():ml.call(b,q,1),--this.size,!0}function tl(h){var b=this.__data__,q=nl(b,h);return q<0?n:b[q][1]}function rc(h){return nl(this.__data__,h)>-1}function O1(h,b){var q=this.__data__,he=nl(q,h);return he<0?(++this.size,q.push([h,b])):q[he][1]=b,this}ya.prototype.clear=Xc,ya.prototype.delete=Zc,ya.prototype.get=tl,ya.prototype.has=rc,ya.prototype.set=O1;function Fc(h){var b=-1,q=h==null?0:h.length;for(this.clear();++b<q;){var he=h[b];this.set(he[0],he[1])}}function jm(){this.size=0,this.__data__={hash:new mo,map:new(_o||ya),string:new mo}}function ql(h){var b=Ps(this,h).delete(h);return this.size-=b?1:0,b}function Sf(h){return Ps(this,h).get(h)}function Dc(h){return Ps(this,h).has(h)}function qr(h,b){var q=Ps(this,h),he=q.size;return q.set(h,b),this.size+=q.size==he?0:1,this}Fc.prototype.clear=jm,Fc.prototype.delete=ql,Fc.prototype.get=Sf,Fc.prototype.has=Dc,Fc.prototype.set=qr;function W0(h){var b=-1,q=h==null?0:h.length;for(this.__data__=new Fc;++b<q;)this.add(h[b])}function Q0(h){return this.__data__.set(h,o),this}function Hr(h){return this.__data__.has(h)}W0.prototype.add=W0.prototype.push=Q0,W0.prototype.has=Hr;function vl(h){var b=this.__data__=new ya(h);this.size=b.size}function R1(){this.__data__=new ya,this.size=0}function ep(h){var b=this.__data__,q=b.delete(h);return this.size=b.size,q}function bo(h){return this.__data__.get(h)}function G0(h){return this.__data__.has(h)}function kd(h,b){var q=this.__data__;if(q instanceof ya){var he=q.__data__;if(!_o||he.length<t-1)return he.push([h,b]),this.size=++q.size,this;q=this.__data__=new Fc(he)}return q.set(h,b),this.size=q.size,this}vl.prototype.clear=R1,vl.prototype.delete=ep,vl.prototype.get=bo,vl.prototype.has=G0,vl.prototype.set=kd;function Y0(h,b){var q=Bs(h),he=!q&&zm(h),dt=!q&&!he&&dp(h),Ht=!q&&!he&&!dt&&Hm(h),gn=q||he||dt||Ht,Rn=gn?as(h.length,pu):[],Wn=Rn.length;for(var Er in h)(b||dr.call(h,Er))&&!(gn&&(Er=="length"||dt&&(Er=="offset"||Er=="parent")||Ht&&(Er=="buffer"||Er=="byteLength"||Er=="byteOffset")||cp(Er,Wn)))&&Rn.push(Er);return Rn}function ef(h){var b=h.length;return b?h[Lu(0,b-1)]:n}function kx(h,b){return Py(Fe(h),wf(b,0,h.length))}function Ix(h){return Py(Fe(h))}function _h(h,b,q){(q!==n&&!nd(h[b],q)||q===n&&!(b in h))&&rl(h,b,q)}function tf(h,b,q){var he=h[b];(!(dr.call(h,b)&&nd(he,q))||q===n&&!(b in h))&&rl(h,b,q)}function nl(h,b){for(var q=h.length;q--;)if(nd(h[q][0],b))return q;return-1}function Id(h,b,q,he){return Oc(h,function(dt,Ht,gn){b(he,dt,q(dt),gn)}),he}function tp(h,b){return h&&rt(b,Bu(b),h)}function N1(h,b){return h&&rt(b,p0(b),h)}function rl(h,b,q){b=="__proto__"&&Bl?Bl(h,b,{configurable:!0,enumerable:!0,value:q,writable:!0}):h[b]=q}function K0(h,b){for(var q=-1,he=b.length,dt=vn(he),Ht=h==null;++q<he;)dt[q]=Ht?n:o9(h,b[q]);return dt}function wf(h,b,q){return h===h&&(q!==n&&(h=h<=q?h:q),b!==n&&(h=h>=b?h:b)),h}function _l(h,b,q,he,dt,Ht){var gn,Rn=b&d,Wn=b&p,Er=b&E;if(q&&(gn=dt?q(h,he,dt,Ht):q(h)),gn!==n)return gn;if(!gu(h))return h;var Ar=Bs(h);if(Ar){if(gn=zd(h),!Rn)return Fe(h,gn)}else{var Br=So(h),Ti=Br==cn||Br==it;if(dp(h))return F(h,Rn);if(Br==le||Br==Je||Ti&&!dt){if(gn=Wn||Ti?{}:Hd(h),!Rn)return Wn?Sn(h,N1(gn,h)):Ut(h,tp(gn,h))}else{if(!Gt[Br])return dt?h:{};gn=qx(h,Br,Rn)}}Ht||(Ht=new vl);var Ji=Ht.get(h);if(Ji)return Ji;Ht.set(h,gn),i9(h)?h.forEach(function(Es){gn.add(_l(Es,b,q,Es,h,Ht))}):bN(h)&&h.forEach(function(Es,wo){gn.set(wo,_l(Es,b,q,wo,h,Ht))});var ys=Er?Wn?Ly:Um:Wn?p0:Bu,xo=Ar?n:ys(h);return Is(xo||h,function(Es,wo){xo&&(wo=Es,Es=h[wo]),tf(gn,wo,_l(Es,b,q,wo,h,Ht))}),gn}function np(h){var b=Bu(h);return function(q){return Ou(q,h,b)}}function Ou(h,b,q){var he=q.length;if(h==null)return!he;for(h=$i(h);he--;){var dt=q[he],Ht=b[dt],gn=h[dt];if(gn===n&&!(dt in h)||!Ht(gn))return!1}return!0}function L1(h,b,q){if(typeof h!="function")throw new ae(i);return xu(function(){h.apply(n,q)},b)}function il(h,b,q,he){var dt=-1,Ht=Vo,gn=!0,Rn=h.length,Wn=[],Er=b.length;if(!Rn)return Wn;q&&(b=Bi(b,Yt(q))),he?(Ht=vs,gn=!1):b.length>=t&&(Ht=dn,gn=!1,b=new W0(b));e:for(;++dt<Rn;){var Ar=h[dt],Br=q==null?Ar:q(Ar);if(Ar=he||Ar!==0?Ar:0,gn&&Br===Br){for(var Ti=Er;Ti--;)if(b[Ti]===Br)continue e;Wn.push(Ar)}else Ht(b,Br,he)||Wn.push(Ar)}return Wn}var Oc=$n(Ia),bh=$n(wh,!0);function Md(h,b){var q=!0;return Oc(h,function(he,dt,Ht){return q=!!b(he,dt,Ht),q}),q}function nf(h,b,q){for(var he=-1,dt=h.length;++he<dt;){var Ht=h[he],gn=b(Ht);if(gn!=null&&(Rn===n?gn===gn&&!Rf(gn):q(gn,Rn)))var Rn=gn,Wn=Ht}return Wn}function Eh(h,b,q,he){var dt=h.length;for(q=ao(q),q<0&&(q=-q>dt?0:dt+q),he=he===n||he>dt?dt:ao(he),he<0&&(he+=dt),he=q>he?0:pp(he);q<he;)h[q++]=b;return h}function rp(h,b){var q=[];return Oc(h,function(he,dt,Ht){b(he,dt,Ht)&&q.push(he)}),q}function za(h,b,q,he,dt){var Ht=-1,gn=h.length;for(q||(q=AR),dt||(dt=[]);++Ht<gn;){var Rn=h[Ht];b>0&&q(Rn)?b>1?za(Rn,b-1,q,he,dt):Oo(dt,Rn):he||(dt[dt.length]=Rn)}return dt}var Sh=sr(),J0=sr(!0);function Ia(h,b){return h&&Sh(h,b,Bu)}function wh(h,b){return h&&J0(h,b,Bu)}function Ru(h,b){return ki(b,function(q){return U1(h[q])})}function Za(h,b){b=l0(b,h);for(var q=0,he=b.length;h!=null&&q<he;)h=h[Of(b[q++])];return q&&q==he?h:n}function Ch(h,b,q){var he=b(h);return Bs(h)?he:Oo(he,q(h))}function va(h){return h==null?h===n?Vt:ve:ec&&ec in $i(h)?of(h):My(h)}function Ah(h,b){return h>b}function ip(h,b){return h!=null&&dr.call(h,b)}function a0(h,b){return h!=null&&b in $i(h)}function X0(h,b,q){return h>=Zo(b,q)&&h<Uo(b,q)}function rf(h,b,q){for(var he=q?vs:Vo,dt=h[0].length,Ht=h.length,gn=Ht,Rn=vn(Ht),Wn=1/0,Er=[];gn--;){var Ar=h[gn];gn&&b&&(Ar=Bi(Ar,Yt(b))),Wn=Zo(Ar.length,Wn),Rn[gn]=!q&&(b||dt>=120&&Ar.length>=120)?new W0(gn&&Ar):n}Ar=h[0];var Br=-1,Ti=Rn[0];e:for(;++Br<dt&&Er.length<Wn;){var Ji=Ar[Br],ys=b?b(Ji):Ji;if(Ji=q||Ji!==0?Ji:0,!(Ti?dn(Ti,ys):he(Er,ys,q))){for(gn=Ht;--gn;){var xo=Rn[gn];if(!(xo?dn(xo,ys):he(h[gn],ys,q)))continue e}Ti&&Ti.push(ys),Er.push(Ji)}}return Er}function Ul(h,b,q,he){return Ia(h,function(dt,Ht,gn){b(he,q(dt),Ht,gn)}),he}function Nu(h,b,q){b=l0(b,h),h=Mb(h,b);var he=h==null?h:h[Of($d(b))];return he==null?n:Zi(he,h,q)}function sp(h){return Pu(h)&&va(h)==Je}function sl(h){return Pu(h)&&va(h)==En}function Th(h){return Pu(h)&&va(h)==mn}function Pd(h,b,q,he,dt){return h===b?!0:h==null||b==null||!Pu(h)&&!Pu(b)?h!==h&&b!==b:qm(h,b,q,he,Pd,dt)}function qm(h,b,q,he,dt,Ht){var gn=Bs(h),Rn=Bs(b),Wn=gn?ut:So(h),Er=Rn?ut:So(b);Wn=Wn==Je?le:Wn,Er=Er==Je?le:Er;var Ar=Wn==le,Br=Er==le,Ti=Wn==Er;if(Ti&&dp(h)){if(!dp(b))return!1;gn=!0,Ar=!1}if(Ti&&!Ar)return Ht||(Ht=new vl),gn||Hm(h)?Ud(h,b,q,he,dt,Ht):B1(h,b,Wn,q,he,dt,Ht);if(!(q&w)){var Ji=Ar&&dr.call(h,"__wrapped__"),ys=Br&&dr.call(b,"__wrapped__");if(Ji||ys){var xo=Ji?h.value():h,Es=ys?b.value():b;return Ht||(Ht=new vl),dt(xo,Es,q,he,Ht)}}return Ti?(Ht||(Ht=new vl),lp(h,b,q,he,dt,Ht)):!1}function op(h){return Pu(h)&&So(h)==ue}function Cf(h,b,q,he){var dt=q.length,Ht=dt,gn=!he;if(h==null)return!Ht;for(h=$i(h);dt--;){var Rn=q[dt];if(gn&&Rn[2]?Rn[1]!==h[Rn[0]]:!(Rn[0]in h))return!1}for(;++dt<Ht;){Rn=q[dt];var Wn=Rn[0],Er=h[Wn],Ar=Rn[1];if(gn&&Rn[2]){if(Er===n&&!(Wn in h))return!1}else{var Br=new vl;if(he)var Ti=he(Er,Ar,Wn,h,b,Br);if(!(Ti===n?Pd(Ar,Er,w|N,he,Br):Ti))return!1}}return!0}function Z0(h){if(!gu(h)||vV(h))return!1;var b=U1(h)?Xl:We;return b.test(Ux(h))}function Js(h){return Pu(h)&&va(h)==Le}function A(h){return Pu(h)&&So(h)==vt}function W(h){return Pu(h)&&tE(h.length)&&!!Ge[va(h)]}function fe(h){return typeof h=="function"?h:h==null?Lf:typeof h=="object"?Bs(h)?qi(h[0],h[1]):zi(h):lE(h)}function Be(h){if(!b4(h))return s0(h);var b=[];for(var q in $i(h))dr.call(h,q)&&q!="constructor"&&b.push(q);return b}function bt(h){if(!gu(h))return bV(h);var b=b4(h),q=[];for(var he in h)he=="constructor"&&(b||!dr.call(h,he))||q.push(he);return q}function An(h,b){return h<b}function lr(h,b){var q=-1,he=d0(h)?vn(h.length):[];return Oc(h,function(dt,Ht,gn){he[++q]=b(dt,Ht,gn)}),he}function zi(h){var b=Eo(h);return b.length==1&&b[0][2]?LC(b[0][0],b[0][1]):function(q){return q===h||Cf(q,h,b)}}function qi(h,b){return NC(h)&&TR(b)?LC(Of(h),b):function(q){var he=o9(q,h);return he===n&&he===b?N4(q,h):Pd(b,he,w|N)}}function oo(h,b,q,he,dt){h!==b&&Sh(b,function(Ht,gn){if(dt||(dt=new vl),gu(Ht))mu(h,b,gn,q,oo,he,dt);else{var Rn=he?he(kC(h,gn),Ht,gn+"",h,b,dt):n;Rn===n&&(Rn=Ht),_h(h,gn,Rn)}},p0)}function mu(h,b,q,he,dt,Ht,gn){var Rn=kC(h,q),Wn=kC(b,q),Er=gn.get(Wn);if(Er){_h(h,q,Er);return}var Ar=Ht?Ht(Rn,Wn,q+"",h,b,gn):n,Br=Ar===n;if(Br){var Ti=Bs(Wn),Ji=!Ti&&dp(Wn),ys=!Ti&&!Ji&&Hm(Wn);Ar=Wn,Ti||Ji||ys?Bs(Rn)?Ar=Rn:Mu(Rn)?Ar=Fe(Rn):Ji?(Br=!1,Ar=F(Wn,!0)):ys?(Br=!1,Ar=x(Wn,!0)):Ar=[]:D4(Wn)||zm(Wn)?(Ar=Rn,zm(Rn)?Ar=h0(Rn):(!gu(Rn)||U1(Rn))&&(Ar=Hd(Wn))):Br=!1}Br&&(gn.set(Wn,Ar),dt(Ar,Wn,he,Ht,gn),gn.delete(Wn)),_h(h,q,Ar)}function Rc(h,b){var q=h.length;if(!!q)return b+=b<0?q:0,cp(b,q)?h[b]:n}function Af(h,b,q){b.length?b=Bi(b,function(Ht){return Bs(Ht)?function(gn){return Za(gn,Ht.length===1?Ht[0]:Ht)}:Ht}):b=[Lf];var he=-1;b=Bi(b,Yt(Tr()));var dt=lr(h,function(Ht,gn,Rn){var Wn=Bi(b,function(Er){return Er(Ht)});return{criteria:Wn,index:++he,value:Ht}});return ls(dt,function(Ht,gn){return z(Ht,gn,q)})}function kb(h,b){return Dy(h,b,function(q,he){return N4(h,he)})}function Dy(h,b,q){for(var he=-1,dt=b.length,Ht={};++he<dt;){var gn=b[he],Rn=Za(h,gn);q(Rn,gn)&&ap(Ht,l0(gn,h),Rn)}return Ht}function y4(h){return function(b){return Za(b,h)}}function Oy(h,b,q,he){var dt=he?pl:ua,Ht=-1,gn=b.length,Rn=h;for(h===b&&(b=Fe(b)),q&&(Rn=Bi(h,Yt(q)));++Ht<gn;)for(var Wn=0,Er=b[Ht],Ar=q?q(Er):Er;(Wn=dt(Rn,Ar,Wn,he))>-1;)Rn!==h&&ml.call(Rn,Wn,1),ml.call(h,Wn,1);return h}function ed(h,b){for(var q=h?b.length:0,he=q-1;q--;){var dt=b[q];if(q==he||dt!==Ht){var Ht=dt;cp(dt)?ml.call(h,dt,1):M1(h,dt)}}return h}function Lu(h,b){return h+Kc(Jc()*(b-h+1))}function v4(h,b,q,he){for(var dt=-1,Ht=Uo($0((b-h)/(q||1)),0),gn=vn(Ht);Ht--;)gn[he?Ht:++dt]=h,h+=q;return gn}function Fh(h,b){var q="";if(!h||b<1||b>je)return q;do b%2&&(q+=h),b=Kc(b/2),b&&(h+=h);while(b);return q}function Ts(h,b){return Bb(Ib(h,b,Lf),h+"")}function u0(h){return ef(Hy(h))}function bl(h,b){var q=Hy(h);return Py(q,wf(b,0,q.length))}function ap(h,b,q,he){if(!gu(h))return h;b=l0(b,h);for(var dt=-1,Ht=b.length,gn=Ht-1,Rn=h;Rn!=null&&++dt<Ht;){var Wn=Of(b[dt]),Er=q;if(Wn==="__proto__"||Wn==="constructor"||Wn==="prototype")return h;if(dt!=gn){var Ar=Rn[Wn];Er=he?he(Ar,Wn,Rn):n,Er===n&&(Er=gu(Ar)?Ar:cp(b[dt+1])?[]:{})}tf(Rn,Wn,Er),Rn=Rn[Wn]}return h}var ku=k?function(h,b){return k.set(h,b),h}:Lf,k1=Bl?function(h,b){return Bl(h,"toString",{configurable:!0,enumerable:!1,value:aE(b),writable:!0})}:Lf;function I1(h){return Py(Hy(h))}function El(h,b,q){var he=-1,dt=h.length;b<0&&(b=-b>dt?0:dt+b),q=q>dt?dt:q,q<0&&(q+=dt),dt=b>q?0:q-b>>>0,b>>>=0;for(var Ht=vn(dt);++he<dt;)Ht[he]=h[he+b];return Ht}function Ry(h,b){var q;return Oc(h,function(he,dt,Ht){return q=b(he,dt,Ht),!q}),!!q}function Bd(h,b,q){var he=0,dt=h==null?he:h.length;if(typeof b=="number"&&b===b&&dt<=Ce){for(;he<dt;){var Ht=he+dt>>>1,gn=h[Ht];gn!==null&&!Rf(gn)&&(q?gn<=b:gn<b)?he=Ht+1:dt=Ht}return dt}return Dh(h,b,Lf,q)}function Dh(h,b,q,he){var dt=0,Ht=h==null?0:h.length;if(Ht===0)return 0;b=q(b);for(var gn=b!==b,Rn=b===null,Wn=Rf(b),Er=b===n;dt<Ht;){var Ar=Kc((dt+Ht)/2),Br=q(h[Ar]),Ti=Br!==n,Ji=Br===null,ys=Br===Br,xo=Rf(Br);if(gn)var Es=he||ys;else Er?Es=ys&&(he||Ti):Rn?Es=ys&&Ti&&(he||!Ji):Wn?Es=ys&&Ti&&!Ji&&(he||!xo):Ji||xo?Es=!1:Es=he?Br<=b:Br<b;Es?dt=Ar+1:Ht=Ar}return Zo(Ht,ke)}function Ny(h,b){for(var q=-1,he=h.length,dt=0,Ht=[];++q<he;){var gn=h[q],Rn=b?b(gn):gn;if(!q||!nd(Rn,Wn)){var Wn=Rn;Ht[dt++]=gn===0?0:gn}}return Ht}function Tf(h){return typeof h=="number"?h:Rf(h)?Xe:+h}function Sl(h){if(typeof h=="string")return h;if(Bs(h))return Bi(h,Sl)+"";if(Rf(h))return Nr?Nr.call(h):"";var b=h+"";return b=="0"&&1/h==-Ft?"-0":b}function Ff(h,b,q){var he=-1,dt=Vo,Ht=h.length,gn=!0,Rn=[],Wn=Rn;if(q)gn=!1,dt=vs;else if(Ht>=t){var Er=b?null:wl(h);if(Er)return oi(Er);gn=!1,dt=dn,Wn=new W0}else Wn=b?[]:Rn;e:for(;++he<Ht;){var Ar=h[he],Br=b?b(Ar):Ar;if(Ar=q||Ar!==0?Ar:0,gn&&Br===Br){for(var Ti=Wn.length;Ti--;)if(Wn[Ti]===Br)continue e;b&&Wn.push(Br),Rn.push(Ar)}else dt(Wn,Br,q)||(Wn!==Rn&&Wn.push(Br),Rn.push(Ar))}return Rn}function M1(h,b){return b=l0(b,h),h=Mb(h,b),h==null||delete h[Of($d(b))]}function up(h,b,q,he){return ap(h,b,q(Za(h,b)),he)}function jd(h,b,q,he){for(var dt=h.length,Ht=he?dt:-1;(he?Ht--:++Ht<dt)&&b(h[Ht],Ht,h););return q?El(h,he?0:Ht,he?Ht+1:dt):El(h,he?Ht+1:0,he?dt:Ht)}function P1(h,b){var q=h;return q instanceof Gr&&(q=q.value()),Na(b,function(he,dt){return dt.func.apply(dt.thisArg,Oo([he],dt.args))},q)}function sf(h,b,q){var he=h.length;if(he<2)return he?Ff(h[0]):[];for(var dt=-1,Ht=vn(he);++dt<he;)for(var gn=h[dt],Rn=-1;++Rn<he;)Rn!=dt&&(Ht[dt]=il(Ht[dt]||gn,h[Rn],b,q));return Ff(za(Ht,1),b,q)}function Mx(h,b,q){for(var he=-1,dt=h.length,Ht=b.length,gn={};++he<dt;){var Rn=he<Ht?b[he]:n;q(gn,h[he],Rn)}return gn}function Px(h){return Mu(h)?h:[]}function ic(h){return typeof h=="function"?h:Lf}function l0(h,b){return Bs(h)?h:NC(h,b)?[h]:S4(Wo(h))}var _4=Ts;function td(h,b,q){var he=h.length;return q=q===n?he:q,!b&&q>=he?h:El(h,b,q)}var y=z0||function(h){return hs.clearTimeout(h)};function F(h,b){if(b)return h.slice();var q=h.length,he=U0?U0(q):new h.constructor(q);return h.copy(he),he}function H(h){var b=new h.constructor(h.byteLength);return new e0(b).set(new e0(h)),b}function G(h,b){var q=b?H(h.buffer):h.buffer;return new h.constructor(q,h.byteOffset,h.byteLength)}function Pe(h){var b=new h.constructor(h.source,Dt.exec(h));return b.lastIndex=h.lastIndex,b}function xt(h){return hr?$i(hr.call(h)):{}}function x(h,b){var q=b?H(h.buffer):h.buffer;return new h.constructor(q,h.byteOffset,h.length)}function T(h,b){if(h!==b){var q=h!==n,he=h===null,dt=h===h,Ht=Rf(h),gn=b!==n,Rn=b===null,Wn=b===b,Er=Rf(b);if(!Rn&&!Er&&!Ht&&h>b||Ht&&gn&&Wn&&!Rn&&!Er||he&&gn&&Wn||!q&&Wn||!dt)return 1;if(!he&&!Ht&&!Er&&h<b||Er&&q&&dt&&!he&&!Ht||Rn&&q&&dt||!gn&&dt||!Wn)return-1}return 0}function z(h,b,q){for(var he=-1,dt=h.criteria,Ht=b.criteria,gn=dt.length,Rn=q.length;++he<gn;){var Wn=T(dt[he],Ht[he]);if(Wn){if(he>=Rn)return Wn;var Er=q[he];return Wn*(Er=="desc"?-1:1)}}return h.index-b.index}function J(h,b,q,he){for(var dt=-1,Ht=h.length,gn=q.length,Rn=-1,Wn=b.length,Er=Uo(Ht-gn,0),Ar=vn(Wn+Er),Br=!he;++Rn<Wn;)Ar[Rn]=b[Rn];for(;++dt<gn;)(Br||dt<Ht)&&(Ar[q[dt]]=h[dt]);for(;Er--;)Ar[Rn++]=h[dt++];return Ar}function ge(h,b,q,he){for(var dt=-1,Ht=h.length,gn=-1,Rn=q.length,Wn=-1,Er=b.length,Ar=Uo(Ht-Rn,0),Br=vn(Ar+Er),Ti=!he;++dt<Ar;)Br[dt]=h[dt];for(var Ji=dt;++Wn<Er;)Br[Ji+Wn]=b[Wn];for(;++gn<Rn;)(Ti||dt<Ht)&&(Br[Ji+q[gn]]=h[dt++]);return Br}function Fe(h,b){var q=-1,he=h.length;for(b||(b=vn(he));++q<he;)b[q]=h[q];return b}function rt(h,b,q,he){var dt=!q;q||(q={});for(var Ht=-1,gn=b.length;++Ht<gn;){var Rn=b[Ht],Wn=he?he(q[Rn],h[Rn],Rn,q,h):n;Wn===n&&(Wn=h[Rn]),dt?rl(q,Rn,Wn):tf(q,Rn,Wn)}return q}function Ut(h,b){return rt(h,Dr(h),b)}function Sn(h,b){return rt(h,oc(h),b)}function bn(h,b){return function(q,he){var dt=Bs(q)?du:Id,Ht=b?b():{};return dt(q,h,Tr(he,2),Ht)}}function kn(h){return Ts(function(b,q){var he=-1,dt=q.length,Ht=dt>1?q[dt-1]:n,gn=dt>2?q[2]:n;for(Ht=h.length>3&&typeof Ht=="function"?(dt--,Ht):n,gn&&Df(q[0],q[1],gn)&&(Ht=dt<3?n:Ht,dt=1),b=$i(b);++he<dt;){var Rn=q[he];Rn&&h(b,Rn,he,Ht)}return b})}function $n(h,b){return function(q,he){if(q==null)return q;if(!d0(q))return h(q,he);for(var dt=q.length,Ht=b?dt:-1,gn=$i(q);(b?Ht--:++Ht<dt)&&he(gn[Ht],Ht,gn)!==!1;);return q}}function sr(h){return function(b,q,he){for(var dt=-1,Ht=$i(b),gn=he(b),Rn=gn.length;Rn--;){var Wn=gn[h?Rn:++dt];if(q(Ht[Wn],Wn,Ht)===!1)break}return b}}function Fr(h,b,q){var he=b&R,dt=wi(h);function Ht(){var gn=this&&this!==hs&&this instanceof Ht?dt:h;return gn.apply(he?q:this,arguments)}return Ht}function Jr(h){return function(b){b=Wo(b);var q=tr(b)?os(b):n,he=q?q[0]:b.charAt(0),dt=q?td(q,1).join(""):b.slice(1);return he[h]()+dt}}function kr(h){return function(b){return Na(M4(qN(b).replace(cu,"")),h,"")}}function wi(h){return function(){var b=arguments;switch(b.length){case 0:return new h;case 1:return new h(b[0]);case 2:return new h(b[0],b[1]);case 3:return new h(b[0],b[1],b[2]);case 4:return new h(b[0],b[1],b[2],b[3]);case 5:return new h(b[0],b[1],b[2],b[3],b[4]);case 6:return new h(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new h(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var q=Ri(h.prototype),he=h.apply(q,b);return gu(he)?he:q}}function Pi(h,b,q){var he=wi(h);function dt(){for(var Ht=arguments.length,gn=vn(Ht),Rn=Ht,Wn=j1(dt);Rn--;)gn[Rn]=arguments[Rn];var Er=Ht<3&&gn[0]!==Wn&&gn[Ht-1]!==Wn?[]:gi(gn,Wn);if(Ht-=Er.length,Ht<q)return Ma(h,b,Xs,dt.placeholder,n,gn,Er,n,n,q-Ht);var Ar=this&&this!==hs&&this instanceof dt?he:h;return Zi(Ar,this,gn)}return dt}function Ds(h){return function(b,q,he){var dt=$i(b);if(!d0(b)){var Ht=Tr(q,3);b=Bu(b),q=function(Rn){return Ht(dt[Rn],Rn,dt)}}var gn=h(b,q,he);return gn>-1?dt[Ht?b[gn]:gn]:n}}function fs(h){return f0(function(b){var q=b.length,he=q,dt=Mi.prototype.thru;for(h&&b.reverse();he--;){var Ht=b[he];if(typeof Ht!="function")throw new ae(i);if(dt&&!gn&&jx(Ht)=="wrapper")var gn=new Mi([],!0)}for(he=gn?he:q;++he<q;){Ht=b[he];var Rn=jx(Ht),Wn=Rn=="wrapper"?Bx(Ht):n;Wn&&Iy(Wn[0])&&Wn[1]==(de|P|I|M)&&!Wn[4].length&&Wn[9]==1?gn=gn[jx(Wn[0])].apply(gn,Wn[3]):gn=Ht.length==1&&Iy(Ht)?gn[Rn]():gn.thru(Ht)}return function(){var Er=arguments,Ar=Er[0];if(gn&&Er.length==1&&Bs(Ar))return gn.plant(Ar).value();for(var Br=0,Ti=q?b[Br].apply(this,Er):Ar;++Br<q;)Ti=b[Br].call(this,Ti);return Ti}})}function Xs(h,b,q,he,dt,Ht,gn,Rn,Wn,Er){var Ar=b&de,Br=b&R,Ti=b&U,Ji=b&(P|j),ys=b&Z,xo=Ti?n:wi(h);function Es(){for(var wo=arguments.length,Mo=vn(wo),rd=wo;rd--;)Mo[rd]=arguments[rd];if(Ji)var kf=j1(Es),id=Un(Mo,kf);if(he&&(Mo=J(Mo,he,dt,Ji)),Ht&&(Mo=ge(Mo,Ht,gn,Ji)),wo-=id,Ji&&wo<Er){var ju=gi(Mo,kf);return Ma(h,b,Xs,Es.placeholder,q,Mo,ju,Rn,Wn,Er-wo)}var sd=Br?q:this,Wd=Ti?sd[h]:h;return wo=Mo.length,Rn?Mo=Pb(Mo,Rn):ys&&wo>1&&Mo.reverse(),Ar&&Wn<wo&&(Mo.length=Wn),this&&this!==hs&&this instanceof Es&&(Wd=xo||wi(Wd)),Wd.apply(sd,Mo)}return Es}function Gs(h,b){return function(q,he){return Ul(q,h,b(he),{})}}function Yr(h,b){return function(q,he){var dt;if(q===n&&he===n)return b;if(q!==n&&(dt=q),he!==n){if(dt===n)return he;typeof q=="string"||typeof he=="string"?(q=Sl(q),he=Sl(he)):(q=Tf(q),he=Tf(he)),dt=h(q,he)}return dt}}function Ki(h){return f0(function(b){return b=Bi(b,Yt(Tr())),Ts(function(q){var he=this;return h(b,function(dt){return Zi(dt,he,q)})})})}function Ha(h,b){b=b===n?" ":Sl(b);var q=b.length;if(q<2)return q?Fh(b,h):b;var he=Fh(b,$0(h/_i(b)));return tr(b)?td(os(he),0,h).join(""):he.slice(0,h)}function eu(h,b,q,he){var dt=b&R,Ht=wi(h);function gn(){for(var Rn=-1,Wn=arguments.length,Er=-1,Ar=he.length,Br=vn(Ar+Wn),Ti=this&&this!==hs&&this instanceof gn?Ht:h;++Er<Ar;)Br[Er]=he[Er];for(;Wn--;)Br[Er++]=arguments[++Rn];return Zi(Ti,dt?q:this,Br)}return gn}function Iu(h){return function(b,q,he){return he&&typeof he!="number"&&Df(b,q,he)&&(q=he=n),b=hp(b),q===n?(q=b,b=0):q=hp(q),he=he===n?b<q?1:-1:hp(he),v4(b,q,he,h)}}function bs(h){return function(b,q){return typeof b=="string"&&typeof q=="string"||(b=al(b),q=al(q)),h(b,q)}}function Ma(h,b,q,he,dt,Ht,gn,Rn,Wn,Er){var Ar=b&P,Br=Ar?gn:n,Ti=Ar?n:gn,Ji=Ar?Ht:n,ys=Ar?n:Ht;b|=Ar?I:K,b&=~(Ar?K:I),b&Q||(b&=~(R|U));var xo=[h,b,dt,Ji,Br,ys,Ti,Rn,Wn,Er],Es=q.apply(n,xo);return Iy(h)&&Oh(Es,xo),Es.placeholder=he,E4(Es,h,b)}function $a(h){var b=ms[h];return function(q,he){if(q=al(q),he=he==null?0:Zo(ao(he),292),he&&r0(q)){var dt=(Wo(q)+"e").split("e"),Ht=b(dt[0]+"e"+(+dt[1]+he));return dt=(Wo(Ht)+"e").split("e"),+(dt[0]+"e"+(+dt[1]-he))}return b(q)}}var wl=gl&&1/oi(new gl([,-0]))[1]==Ft?function(h){return new gl(h)}:$y;function qd(h){return function(b){var q=So(b);return q==ue?mi(b):q==vt?Ur(b):Me(b,h(b))}}function ol(h,b,q,he,dt,Ht,gn,Rn){var Wn=b&U;if(!Wn&&typeof h!="function")throw new ae(i);var Er=he?he.length:0;if(Er||(b&=~(I|K),he=dt=n),gn=gn===n?gn:Uo(ao(gn),0),Rn=Rn===n?Rn:ao(Rn),Er-=dt?dt.length:0,b&K){var Ar=he,Br=dt;he=dt=n}var Ti=Wn?n:Bx(h),Ji=[h,b,q,he,dt,Ar,Br,Ht,gn,Rn];if(Ti&&DR(Ji,Ti),h=Ji[0],b=Ji[1],q=Ji[2],he=Ji[3],dt=Ji[4],Rn=Ji[9]=Ji[9]===n?Wn?0:h.length:Uo(Ji[9]-Er,0),!Rn&&b&(P|j)&&(b&=~(P|j)),!b||b==R)var ys=Fr(h,b,q);else b==P||b==j?ys=Pi(h,b,Rn):(b==I||b==(R|I))&&!dt.length?ys=eu(h,b,q,he):ys=Xs.apply(n,Ji);var xo=Ti?ku:Oh;return E4(xo(ys,Ji),h,b)}function c0(h,b,q,he){return h===n||nd(h,Tn[q])&&!dr.call(he,q)?b:h}function _a(h,b,q,he,dt,Ht){return gu(h)&&gu(b)&&(Ht.set(b,h),oo(h,b,n,_a,Ht),Ht.delete(b)),h}function sc(h){return D4(h)?n:h}function Ud(h,b,q,he,dt,Ht){var gn=q&w,Rn=h.length,Wn=b.length;if(Rn!=Wn&&!(gn&&Wn>Rn))return!1;var Er=Ht.get(h),Ar=Ht.get(b);if(Er&&Ar)return Er==b&&Ar==h;var Br=-1,Ti=!0,Ji=q&N?new W0:n;for(Ht.set(h,b),Ht.set(b,h);++Br<Rn;){var ys=h[Br],xo=b[Br];if(he)var Es=gn?he(xo,ys,Br,b,h,Ht):he(ys,xo,Br,h,b,Ht);if(Es!==n){if(Es)continue;Ti=!1;break}if(Ji){if(!Ro(b,function(wo,Mo){if(!dn(Ji,Mo)&&(ys===wo||dt(ys,wo,q,he,Ht)))return Ji.push(Mo)})){Ti=!1;break}}else if(!(ys===xo||dt(ys,xo,q,he,Ht))){Ti=!1;break}}return Ht.delete(h),Ht.delete(b),Ti}function B1(h,b,q,he,dt,Ht,gn){switch(q){case Fn:if(h.byteLength!=b.byteLength||h.byteOffset!=b.byteOffset)return!1;h=h.buffer,b=b.buffer;case En:return!(h.byteLength!=b.byteLength||!Ht(new e0(h),new e0(b)));case wt:case mn:case De:return nd(+h,+b);case It:return h.name==b.name&&h.message==b.message;case Le:case $t:return h==b+"";case ue:var Rn=mi;case vt:var Wn=he&w;if(Rn||(Rn=oi),h.size!=b.size&&!Wn)return!1;var Er=gn.get(h);if(Er)return Er==b;he|=N,gn.set(h,b);var Ar=Ud(Rn(h),Rn(b),he,dt,Ht,gn);return gn.delete(h),Ar;case Mt:if(hr)return hr.call(h)==hr.call(b)}return!1}function lp(h,b,q,he,dt,Ht){var gn=q&w,Rn=Um(h),Wn=Rn.length,Er=Um(b),Ar=Er.length;if(Wn!=Ar&&!gn)return!1;for(var Br=Wn;Br--;){var Ti=Rn[Br];if(!(gn?Ti in b:dr.call(b,Ti)))return!1}var Ji=Ht.get(h),ys=Ht.get(b);if(Ji&&ys)return Ji==b&&ys==h;var xo=!0;Ht.set(h,b),Ht.set(b,h);for(var Es=gn;++Br<Wn;){Ti=Rn[Br];var wo=h[Ti],Mo=b[Ti];if(he)var rd=gn?he(Mo,wo,Ti,b,h,Ht):he(wo,Mo,Ti,h,b,Ht);if(!(rd===n?wo===Mo||dt(wo,Mo,q,he,Ht):rd)){xo=!1;break}Es||(Es=Ti=="constructor")}if(xo&&!Es){var kf=h.constructor,id=b.constructor;kf!=id&&"constructor"in h&&"constructor"in b&&!(typeof kf=="function"&&kf instanceof kf&&typeof id=="function"&&id instanceof id)&&(xo=!1)}return Ht.delete(h),Ht.delete(b),xo}function f0(h){return Bb(Ib(h,n,A4),h+"")}function Um(h){return Ch(h,Bu,Dr)}function Ly(h){return Ch(h,p0,oc)}var Bx=k?function(h){return k.get(h)}:$y;function jx(h){for(var b=h.name+"",q=X[b],he=dr.call(X,b)?q.length:0;he--;){var dt=q[he],Ht=dt.func;if(Ht==null||Ht==h)return dt.name}return b}function j1(h){var b=dr.call(tt,"placeholder")?tt:h;return b.placeholder}function Tr(){var h=tt.iteratee||uE;return h=h===uE?fe:h,arguments.length?h(arguments[0],arguments[1]):h}function Ps(h,b){var q=h.__data__;return pi(b)?q[typeof b=="string"?"string":"hash"]:q.map}function Eo(h){for(var b=Bu(h),q=b.length;q--;){var he=b[q],dt=h[he];b[q]=[he,dt,TR(dt)]}return b}function zr(h,b){var q=ur(h,b);return Z0(q)?q:n}function of(h){var b=dr.call(h,ec),q=h[ec];try{h[ec]=n;var he=!0}catch{}var dt=Rs.call(h);return he&&(b?h[ec]=q:delete h[ec]),dt}var Dr=V0?function(h){return h==null?[]:(h=$i(h),ki(V0(h),function(b){return t0.call(h,b)}))}:m9,oc=V0?function(h){for(var b=[];h;)Oo(b,Dr(h)),h=Zl(h);return b}:m9,So=va;(Du&&So(new Du(new ArrayBuffer(1)))!=Fn||_o&&So(new _o)!=ue||vh&&So(vh.resolve())!=st||gl&&So(new gl)!=vt||Ls&&So(new Ls)!=tn)&&(So=function(h){var b=va(h),q=b==le?h.constructor:n,he=q?Ux(q):"";if(he)switch(he){case Ue:return Fn;case Ot:return ue;case zt:return st;case Cn:return vt;case Ln:return tn}return b});function ac(h,b,q){for(var he=-1,dt=q.length;++he<dt;){var Ht=q[he],gn=Ht.size;switch(Ht.type){case"drop":h+=gn;break;case"dropRight":b-=gn;break;case"take":b=Zo(b,h+gn);break;case"takeRight":h=Uo(h,b-gn);break}}return{start:h,end:b}}function ky(h){var b=h.match(ct);return b?b[1].split(ie):[]}function Ns(h,b,q){b=l0(b,h);for(var he=-1,dt=b.length,Ht=!1;++he<dt;){var gn=Of(b[he]);if(!(Ht=h!=null&&q(h,gn)))break;h=h[gn]}return Ht||++he!=dt?Ht:(dt=h==null?0:h.length,!!dt&&tE(dt)&&cp(gn,dt)&&(Bs(h)||zm(h)))}function zd(h){var b=h.length,q=new h.constructor(b);return b&&typeof h[0]=="string"&&dr.call(h,"index")&&(q.index=h.index,q.input=h.input),q}function Hd(h){return typeof h.constructor=="function"&&!b4(h)?Ri(Zl(h)):{}}function qx(h,b,q){var he=h.constructor;switch(b){case En:return H(h);case wt:case mn:return new he(+h);case Fn:return G(h,q);case On:case qt:case pn:case qn:case or:case In:case Ne:case $e:case Oe:return x(h,q);case ue:return new he;case De:case $t:return new he(h);case Le:return Pe(h);case vt:return new he;case Mt:return xt(h)}}function RC(h,b){var q=b.length;if(!q)return h;var he=q-1;return b[he]=(q>1?"& ":"")+b[he],b=b.join(q>2?", ":" "),h.replace(on,`{
/* [wrapped with `+b+`] */
`)}function AR(h){return Bs(h)||zm(h)||!!(Ac&&h&&h[Ac])}function cp(h,b){var q=typeof h;return b=b??je,!!b&&(q=="number"||q!="symbol"&&Pt.test(h))&&h>-1&&h%1==0&&h<b}function Df(h,b,q){if(!gu(q))return!1;var he=typeof b;return(he=="number"?d0(q)&&cp(b,q.length):he=="string"&&b in q)?nd(q[b],h):!1}function NC(h,b){if(Bs(h))return!1;var q=typeof h;return q=="number"||q=="symbol"||q=="boolean"||h==null||Rf(h)?!0:gt.test(h)||!Ye.test(h)||b!=null&&h in $i(b)}function pi(h){var b=typeof h;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?h!=="__proto__":h===null}function Iy(h){var b=jx(h),q=tt[b];if(typeof q!="function"||!(b in Gr.prototype))return!1;if(h===q)return!0;var he=Bx(q);return!!he&&h===he[0]}function vV(h){return!!_s&&_s in h}var _V=rr?U1:cE;function b4(h){var b=h&&h.constructor,q=typeof b=="function"&&b.prototype||Tn;return h===q}function TR(h){return h===h&&!gu(h)}function LC(h,b){return function(q){return q==null?!1:q[h]===b&&(b!==n||h in $i(q))}}function FR(h){var b=Zb(h,function(he){return q.size===a&&q.clear(),he}),q=b.cache;return b}function DR(h,b){var q=h[1],he=b[1],dt=q|he,Ht=dt<(R|U|de),gn=he==de&&q==P||he==de&&q==M&&h[7].length<=b[8]||he==(de|M)&&b[7].length<=b[8]&&q==P;if(!(Ht||gn))return h;he&R&&(h[2]=b[2],dt|=q&R?0:Q);var Rn=b[3];if(Rn){var Wn=h[3];h[3]=Wn?J(Wn,Rn,b[4]):Rn,h[4]=Wn?gi(h[3],c):b[4]}return Rn=b[5],Rn&&(Wn=h[5],h[5]=Wn?ge(Wn,Rn,b[6]):Rn,h[6]=Wn?gi(h[5],c):b[6]),Rn=b[7],Rn&&(h[7]=Rn),he&de&&(h[8]=h[8]==null?b[8]:Zo(h[8],b[8])),h[9]==null&&(h[9]=b[9]),h[0]=b[0],h[1]=dt,h}function bV(h){var b=[];if(h!=null)for(var q in $i(h))b.push(q);return b}function My(h){return Rs.call(h)}function Ib(h,b,q){return b=Uo(b===n?h.length-1:b,0),function(){for(var he=arguments,dt=-1,Ht=Uo(he.length-b,0),gn=vn(Ht);++dt<Ht;)gn[dt]=he[b+dt];dt=-1;for(var Rn=vn(b+1);++dt<b;)Rn[dt]=he[dt];return Rn[b]=q(gn),Zi(h,this,Rn)}}function Mb(h,b){return b.length<2?h:Za(h,El(b,0,-1))}function Pb(h,b){for(var q=h.length,he=Zo(b.length,q),dt=Fe(h);he--;){var Ht=b[he];h[he]=cp(Ht,q)?dt[Ht]:n}return h}function kC(h,b){if(!(b==="constructor"&&typeof h[b]=="function")&&b!="__proto__")return h[b]}var Oh=OR(ku),xu=H0||function(h,b){return hs.setTimeout(h,b)},Bb=OR(k1);function E4(h,b,q){var he=b+"";return Bb(h,RC(he,By(ky(he),q)))}function OR(h){var b=0,q=0;return function(){var he=o0(),dt=at-(he-q);if(q=he,dt>0){if(++b>=Ve)return arguments[0]}else b=0;return h.apply(n,arguments)}}function Py(h,b){var q=-1,he=h.length,dt=he-1;for(b=b===n?he:b;++q<b;){var Ht=Lu(q,dt),gn=h[Ht];h[Ht]=h[q],h[q]=gn}return h.length=b,h}var S4=FR(function(h){var b=[];return h.charCodeAt(0)===46&&b.push(""),h.replace(se,function(q,he,dt,Ht){b.push(dt?Ht.replace(ht,"$1"):he||q)}),b});function Of(h){if(typeof h=="string"||Rf(h))return h;var b=h+"";return b=="0"&&1/h==-Ft?"-0":b}function Ux(h){if(h!=null){try{return vr.call(h)}catch{}try{return h+""}catch{}}return""}function By(h,b){return Is(xe,function(q){var he="_."+q[0];b&q[1]&&!Vo(h,he)&&h.push(he)}),h.sort()}function RR(h){if(h instanceof Gr)return h.clone();var b=new Mi(h.__wrapped__,h.__chain__);return b.__actions__=Fe(h.__actions__),b.__index__=h.__index__,b.__values__=h.__values__,b}function jb(h,b,q){(q?Df(h,b,q):b===n)?b=1:b=Uo(ao(b),0);var he=h==null?0:h.length;if(!he||b<1)return[];for(var dt=0,Ht=0,gn=vn($0(he/b));dt<he;)gn[Ht++]=El(h,dt,dt+=b);return gn}function NR(h){for(var b=-1,q=h==null?0:h.length,he=0,dt=[];++b<q;){var Ht=h[b];Ht&&(dt[he++]=Ht)}return dt}function w4(){var h=arguments.length;if(!h)return[];for(var b=vn(h-1),q=arguments[0],he=h;he--;)b[he-1]=arguments[he];return Oo(Bs(q)?Fe(q):[q],za(b,1))}var LR=Ts(function(h,b){return Mu(h)?il(h,za(b,1,Mu,!0)):[]}),C4=Ts(function(h,b){var q=$d(b);return Mu(q)&&(q=n),Mu(h)?il(h,za(b,1,Mu,!0),Tr(q,2)):[]}),kR=Ts(function(h,b){var q=$d(b);return Mu(q)&&(q=n),Mu(h)?il(h,za(b,1,Mu,!0),n,q):[]});function EV(h,b,q){var he=h==null?0:h.length;return he?(b=q||b===n?1:ao(b),El(h,b<0?0:b,he)):[]}function IR(h,b,q){var he=h==null?0:h.length;return he?(b=q||b===n?1:ao(b),b=he-b,El(h,0,b<0?0:b)):[]}function SV(h,b){return h&&h.length?jd(h,Tr(b,3),!0,!0):[]}function MR(h,b){return h&&h.length?jd(h,Tr(b,3),!0):[]}function _le(h,b,q,he){var dt=h==null?0:h.length;return dt?(q&&typeof q!="number"&&Df(h,b,q)&&(q=0,he=dt),Eh(h,b,q,he)):[]}function IC(h,b,q){var he=h==null?0:h.length;if(!he)return-1;var dt=q==null?0:ao(q);return dt<0&&(dt=Uo(he+dt,0)),aa(h,Tr(b,3),dt)}function fp(h,b,q){var he=h==null?0:h.length;if(!he)return-1;var dt=he-1;return q!==n&&(dt=ao(q),dt=q<0?Uo(he+dt,0):Zo(dt,he-1)),aa(h,Tr(b,3),dt,!0)}function A4(h){var b=h==null?0:h.length;return b?za(h,1):[]}function zx(h){var b=h==null?0:h.length;return b?za(h,Ft):[]}function PR(h,b){var q=h==null?0:h.length;return q?(b=b===n?1:ao(b),za(h,b)):[]}function MC(h){for(var b=-1,q=h==null?0:h.length,he={};++b<q;){var dt=h[b];he[dt[0]]=dt[1]}return he}function qb(h){return h&&h.length?h[0]:n}function BR(h,b,q){var he=h==null?0:h.length;if(!he)return-1;var dt=q==null?0:ao(q);return dt<0&&(dt=Uo(he+dt,0)),ua(h,b,dt)}function wV(h){var b=h==null?0:h.length;return b?El(h,0,-1):[]}var CV=Ts(function(h){var b=Bi(h,Px);return b.length&&b[0]===h[0]?rf(b):[]}),Ub=Ts(function(h){var b=$d(h),q=Bi(h,Px);return b===$d(q)?b=n:q.pop(),q.length&&q[0]===h[0]?rf(q,Tr(b,2)):[]}),AV=Ts(function(h){var b=$d(h),q=Bi(h,Px);return b=typeof b=="function"?b:n,b&&q.pop(),q.length&&q[0]===h[0]?rf(q,n,b):[]});function PC(h,b){return h==null?"":i0.call(h,b)}function $d(h){var b=h==null?0:h.length;return b?h[b-1]:n}function jR(h,b,q){var he=h==null?0:h.length;if(!he)return-1;var dt=he;return q!==n&&(dt=ao(q),dt=dt<0?Uo(he+dt,0):Zo(dt,he-1)),b===b?bi(h,b,dt):aa(h,Pl,dt,!0)}function TV(h,b){return h&&h.length?Rc(h,ao(b)):n}var BC=Ts(zb);function zb(h,b){return h&&h.length&&b&&b.length?Oy(h,b):h}function jC(h,b,q){return h&&h.length&&b&&b.length?Oy(h,b,Tr(q,2)):h}function qR(h,b,q){return h&&h.length&&b&&b.length?Oy(h,b,n,q):h}var UR=f0(function(h,b){var q=h==null?0:h.length,he=K0(h,b);return ed(h,Bi(b,function(dt){return cp(dt,q)?+dt:dt}).sort(T)),he});function Hb(h,b){var q=[];if(!(h&&h.length))return q;var he=-1,dt=[],Ht=h.length;for(b=Tr(b,3);++he<Ht;){var gn=h[he];b(gn,he,h)&&(q.push(gn),dt.push(he))}return ed(h,dt),q}function $b(h){return h==null?h:Ld.call(h)}function Vb(h,b,q){var he=h==null?0:h.length;return he?(q&&typeof q!="number"&&Df(h,b,q)?(b=0,q=he):(b=b==null?0:ao(b),q=q===n?he:ao(q)),El(h,b,q)):[]}function FV(h,b){return Bd(h,b)}function DV(h,b,q){return Dh(h,b,Tr(q,2))}function zR(h,b){var q=h==null?0:h.length;if(q){var he=Bd(h,b);if(he<q&&nd(h[he],b))return he}return-1}function HR(h,b){return Bd(h,b,!0)}function $R(h,b,q){return Dh(h,b,Tr(q,2),!0)}function OV(h,b){var q=h==null?0:h.length;if(q){var he=Bd(h,b,!0)-1;if(nd(h[he],b))return he}return-1}function qC(h){return h&&h.length?Ny(h):[]}function RV(h,b){return h&&h.length?Ny(h,Tr(b,2)):[]}function NV(h){var b=h==null?0:h.length;return b?El(h,1,b):[]}function VR(h,b,q){return h&&h.length?(b=q||b===n?1:ao(b),El(h,0,b<0?0:b)):[]}function LV(h,b,q){var he=h==null?0:h.length;return he?(b=q||b===n?1:ao(b),b=he-b,El(h,b<0?0:b,he)):[]}function kV(h,b){return h&&h.length?jd(h,Tr(b,3),!1,!0):[]}function IV(h,b){return h&&h.length?jd(h,Tr(b,3)):[]}var MV=Ts(function(h){return Ff(za(h,1,Mu,!0))}),WR=Ts(function(h){var b=$d(h);return Mu(b)&&(b=n),Ff(za(h,1,Mu,!0),Tr(b,2))}),PV=Ts(function(h){var b=$d(h);return b=typeof b=="function"?b:n,Ff(za(h,1,Mu,!0),n,b)});function QR(h){return h&&h.length?Ff(h):[]}function UC(h,b){return h&&h.length?Ff(h,Tr(b,2)):[]}function BV(h,b){return b=typeof b=="function"?b:n,h&&h.length?Ff(h,n,b):[]}function zC(h){if(!(h&&h.length))return[];var b=0;return h=ki(h,function(q){if(Mu(q))return b=Uo(q.length,b),!0}),as(b,function(q){return Bi(h,el(q))})}function HC(h,b){if(!(h&&h.length))return[];var q=zC(h);return b==null?q:Bi(q,function(he){return Zi(b,n,he)})}var GR=Ts(function(h,b){return Mu(h)?il(h,b):[]}),$C=Ts(function(h){return sf(ki(h,Mu))}),jV=Ts(function(h){var b=$d(h);return Mu(b)&&(b=n),sf(ki(h,Mu),Tr(b,2))}),qV=Ts(function(h){var b=$d(h);return b=typeof b=="function"?b:n,sf(ki(h,Mu),n,b)}),YR=Ts(zC);function KR(h,b){return Mx(h||[],b||[],tf)}function UV(h,b){return Mx(h||[],b||[],ap)}var zV=Ts(function(h){var b=h.length,q=b>1?h[b-1]:n;return q=typeof q=="function"?(h.pop(),q):n,HC(h,q)});function HV(h){var b=tt(h);return b.__chain__=!0,b}function JR(h,b){return b(h),h}function T4(h,b){return b(h)}var $V=f0(function(h){var b=h.length,q=b?h[0]:0,he=this.__wrapped__,dt=function(Ht){return K0(Ht,h)};return b>1||this.__actions__.length||!(he instanceof Gr)||!cp(q)?this.thru(dt):(he=he.slice(q,+q+(b?1:0)),he.__actions__.push({func:T4,args:[dt],thisArg:n}),new Mi(he,this.__chain__).thru(function(Ht){return b&&!Ht.length&&Ht.push(n),Ht}))});function VV(){return HV(this)}function F4(){return new Mi(this.value(),this.__chain__)}function WV(){this.__values__===n&&(this.__values__=TN(this.value()));var h=this.__index__>=this.__values__.length,b=h?n:this.__values__[this.__index__++];return{done:h,value:b}}function VC(){return this}function WC(h){for(var b,q=this;q instanceof Qi;){var he=RR(q);he.__index__=0,he.__values__=n,b?dt.__wrapped__=he:b=he;var dt=he;q=q.__wrapped__}return dt.__wrapped__=h,b}function QC(){var h=this.__wrapped__;if(h instanceof Gr){var b=h;return this.__actions__.length&&(b=new Gr(this)),b=b.reverse(),b.__actions__.push({func:T4,args:[$b],thisArg:n}),new Mi(b,this.__chain__)}return this.thru($b)}function XR(){return P1(this.__wrapped__,this.__actions__)}var QV=bn(function(h,b,q){dr.call(h,q)?++h[q]:rl(h,q,1)});function GC(h,b,q){var he=Bs(h)?oa:Md;return q&&Df(h,b,q)&&(b=n),he(h,Tr(b,3))}function Wb(h,b){var q=Bs(h)?ki:rp;return q(h,Tr(b,3))}var YC=Ds(IC),GV=Ds(fp);function YV(h,b){return za(Qb(h,b),1)}function KV(h,b){return za(Qb(h,b),Ft)}function ZR(h,b,q){return q=q===n?1:ao(q),za(Qb(h,b),q)}function KC(h,b){var q=Bs(h)?Is:Oc;return q(h,Tr(b,3))}function Rh(h,b){var q=Bs(h)?ma:bh;return q(h,Tr(b,3))}var eN=bn(function(h,b,q){dr.call(h,q)?h[q].push(b):rl(h,q,[b])});function tN(h,b,q,he){h=d0(h)?h:Hy(h),q=q&&!he?ao(q):0;var dt=h.length;return q<0&&(q=Uo(dt+q,0)),O4(h)?q<=dt&&h.indexOf(b,q)>-1:!!dt&&ua(h,b,q)>-1}var ble=Ts(function(h,b,q){var he=-1,dt=typeof b=="function",Ht=d0(h)?vn(h.length):[];return Oc(h,function(gn){Ht[++he]=dt?Zi(b,gn,q):Nu(gn,b,q)}),Ht}),JV=bn(function(h,b,q){rl(h,q,b)});function Qb(h,b){var q=Bs(h)?Bi:lr;return q(h,Tr(b,3))}function JC(h,b,q,he){return h==null?[]:(Bs(b)||(b=b==null?[]:[b]),q=he?n:q,Bs(q)||(q=q==null?[]:[q]),Af(h,b,q))}var Gb=bn(function(h,b,q){h[q?0:1].push(b)},function(){return[[],[]]});function Yb(h,b,q){var he=Bs(h)?Na:rs,dt=arguments.length<3;return he(h,Tr(b,4),q,dt,Oc)}function nN(h,b,q){var he=Bs(h)?Ja:rs,dt=arguments.length<3;return he(h,Tr(b,4),q,dt,bh)}function Ele(h,b){var q=Bs(h)?ki:rp;return q(h,eE(Tr(b,3)))}function XV(h){var b=Bs(h)?ef:u0;return b(h)}function q1(h,b,q){(q?Df(h,b,q):b===n)?b=1:b=ao(b);var he=Bs(h)?kx:bl;return he(h,b)}function rN(h){var b=Bs(h)?Ix:I1;return b(h)}function iN(h){if(h==null)return 0;if(d0(h))return O4(h)?_i(h):h.length;var b=So(h);return b==ue||b==vt?h.size:Be(h).length}function ZV(h,b,q){var he=Bs(h)?Ro:Ry;return q&&Df(h,b,q)&&(b=n),he(h,Tr(b,3))}var eW=Ts(function(h,b){if(h==null)return[];var q=b.length;return q>1&&Df(h,b[0],b[1])?b=[]:q>2&&Df(b[0],b[1],b[2])&&(b=[b[0]]),Af(h,za(b,1),[])}),Kb=yh||function(){return hs.Date.now()};function sN(h,b){if(typeof b!="function")throw new ae(i);return h=ao(h),function(){if(--h<1)return b.apply(this,arguments)}}function oN(h,b,q){return b=q?n:b,b=h&&b==null?h.length:b,ol(h,de,n,n,n,n,b)}function aN(h,b){var q;if(typeof b!="function")throw new ae(i);return h=ao(h),function(){return--h>0&&(q=b.apply(this,arguments)),h<=1&&(b=n),q}}var Jb=Ts(function(h,b,q){var he=R;if(q.length){var dt=gi(q,j1(Jb));he|=I}return ol(h,he,b,q,dt)}),uN=Ts(function(h,b,q){var he=R|U;if(q.length){var dt=gi(q,j1(uN));he|=I}return ol(b,he,h,q,dt)});function lN(h,b,q){b=q?n:b;var he=ol(h,P,n,n,n,n,n,b);return he.placeholder=lN.placeholder,he}function cN(h,b,q){b=q?n:b;var he=ol(h,j,n,n,n,n,n,b);return he.placeholder=cN.placeholder,he}function fN(h,b,q){var he,dt,Ht,gn,Rn,Wn,Er=0,Ar=!1,Br=!1,Ti=!0;if(typeof h!="function")throw new ae(i);b=al(b)||0,gu(q)&&(Ar=!!q.leading,Br="maxWait"in q,Ht=Br?Uo(al(q.maxWait)||0,b):Ht,Ti="trailing"in q?!!q.trailing:Ti);function Ji(ju){var sd=he,Wd=dt;return he=dt=n,Er=ju,gn=h.apply(Wd,sd),gn}function ys(ju){return Er=ju,Rn=xu(wo,b),Ar?Ji(ju):gn}function xo(ju){var sd=ju-Wn,Wd=ju-Er,v9=b-sd;return Br?Zo(v9,Ht-Wd):v9}function Es(ju){var sd=ju-Wn,Wd=ju-Er;return Wn===n||sd>=b||sd<0||Br&&Wd>=Ht}function wo(){var ju=Kb();if(Es(ju))return Mo(ju);Rn=xu(wo,xo(ju))}function Mo(ju){return Rn=n,Ti&&he?Ji(ju):(he=dt=n,gn)}function rd(){Rn!==n&&y(Rn),Er=0,he=Wn=dt=Rn=n}function kf(){return Rn===n?gn:Mo(Kb())}function id(){var ju=Kb(),sd=Es(ju);if(he=arguments,dt=this,Wn=ju,sd){if(Rn===n)return ys(Wn);if(Br)return y(Rn),Rn=xu(wo,b),Ji(Wn)}return Rn===n&&(Rn=xu(wo,b)),gn}return id.cancel=rd,id.flush=kf,id}var tW=Ts(function(h,b){return L1(h,1,b)}),nW=Ts(function(h,b,q){return L1(h,al(b)||0,q)});function Xb(h){return ol(h,Z)}function Zb(h,b){if(typeof h!="function"||b!=null&&typeof b!="function")throw new ae(i);var q=function(){var he=arguments,dt=b?b.apply(this,he):he[0],Ht=q.cache;if(Ht.has(dt))return Ht.get(dt);var gn=h.apply(this,he);return q.cache=Ht.set(dt,gn)||Ht,gn};return q.cache=new(Zb.Cache||Fc),q}Zb.Cache=Fc;function eE(h){if(typeof h!="function")throw new ae(i);return function(){var b=arguments;switch(b.length){case 0:return!h.call(this);case 1:return!h.call(this,b[0]);case 2:return!h.call(this,b[0],b[1]);case 3:return!h.call(this,b[0],b[1],b[2])}return!h.apply(this,b)}}function XC(h){return aN(2,h)}var rW=_4(function(h,b){b=b.length==1&&Bs(b[0])?Bi(b[0],Yt(Tr())):Bi(za(b,1),Yt(Tr()));var q=b.length;return Ts(function(he){for(var dt=-1,Ht=Zo(he.length,q);++dt<Ht;)he[dt]=b[dt].call(this,he[dt]);return Zi(h,this,he)})}),ZC=Ts(function(h,b){var q=gi(b,j1(ZC));return ol(h,I,n,b,q)}),dN=Ts(function(h,b){var q=gi(b,j1(dN));return ol(h,K,n,b,q)}),iW=f0(function(h,b){return ol(h,M,n,n,n,b)});function jy(h,b){if(typeof h!="function")throw new ae(i);return b=b===n?b:ao(b),Ts(h,b)}function hN(h,b){if(typeof h!="function")throw new ae(i);return b=b==null?0:Uo(ao(b),0),Ts(function(q){var he=q[b],dt=td(q,0,b);return he&&Oo(dt,he),Zi(h,this,dt)})}function sW(h,b,q){var he=!0,dt=!0;if(typeof h!="function")throw new ae(i);return gu(q)&&(he="leading"in q?!!q.leading:he,dt="trailing"in q?!!q.trailing:dt),fN(h,b,{leading:he,maxWait:b,trailing:dt})}function pN(h){return oN(h,1)}function oW(h,b){return ZC(ic(b),h)}function aW(){if(!arguments.length)return[];var h=arguments[0];return Bs(h)?h:[h]}function e9(h){return _l(h,E)}function mN(h,b){return b=typeof b=="function"?b:n,_l(h,E,b)}function uW(h){return _l(h,d|E)}function lW(h,b){return b=typeof b=="function"?b:n,_l(h,d|E,b)}function t9(h,b){return b==null||Ou(h,b,Bu(b))}function nd(h,b){return h===b||h!==h&&b!==b}var xN=bs(Ah),gN=bs(function(h,b){return h>=b}),zm=sp(function(){return arguments}())?sp:function(h){return Pu(h)&&dr.call(h,"callee")&&!t0.call(h,"callee")},Bs=vn.isArray,cW=Xo?Yt(Xo):sl;function d0(h){return h!=null&&tE(h.length)&&!U1(h)}function Mu(h){return Pu(h)&&d0(h)}function yN(h){return h===!0||h===!1||Pu(h)&&va(h)==wt}var dp=Tc||cE,fW=fa?Yt(fa):Th;function vN(h){return Pu(h)&&h.nodeType===1&&!D4(h)}function dW(h){if(h==null)return!0;if(d0(h)&&(Bs(h)||typeof h=="string"||typeof h.splice=="function"||dp(h)||Hm(h)||zm(h)))return!h.length;var b=So(h);if(b==ue||b==vt)return!h.size;if(b4(h))return!Be(h).length;for(var q in h)if(dr.call(h,q))return!1;return!0}function hW(h,b){return Pd(h,b)}function pW(h,b,q){q=typeof q=="function"?q:n;var he=q?q(h,b):n;return he===n?Pd(h,b,n,q):!!he}function n9(h){if(!Pu(h))return!1;var b=va(h);return b==It||b==Lt||typeof h.message=="string"&&typeof h.name=="string"&&!D4(h)}function mW(h){return typeof h=="number"&&r0(h)}function U1(h){if(!gu(h))return!1;var b=va(h);return b==cn||b==it||b==Qt||b==Ze}function _N(h){return typeof h=="number"&&h==ao(h)}function tE(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=je}function gu(h){var b=typeof h;return h!=null&&(b=="object"||b=="function")}function Pu(h){return h!=null&&typeof h=="object"}var bN=da?Yt(da):op;function xW(h,b){return h===b||Cf(h,b,Eo(b))}function EN(h,b,q){return q=typeof q=="function"?q:n,Cf(h,b,Eo(b),q)}function gW(h){return SN(h)&&h!=+h}function yW(h){if(_V(h))throw new Oi(r);return Z0(h)}function vW(h){return h===null}function _W(h){return h==null}function SN(h){return typeof h=="number"||Pu(h)&&va(h)==De}function D4(h){if(!Pu(h)||va(h)!=le)return!1;var b=Zl(h);if(b===null)return!0;var q=dr.call(b,"constructor")&&b.constructor;return typeof q=="function"&&q instanceof q&&vr.call(q)==so}var r9=po?Yt(po):Js;function wN(h){return _N(h)&&h>=-je&&h<=je}var i9=us?Yt(us):A;function O4(h){return typeof h=="string"||!Bs(h)&&Pu(h)&&va(h)==$t}function Rf(h){return typeof h=="symbol"||Pu(h)&&va(h)==Mt}var Hm=ps?Yt(ps):W;function CN(h){return h===n}function AN(h){return Pu(h)&&So(h)==tn}function bW(h){return Pu(h)&&va(h)==en}var EW=bs(An),SW=bs(function(h,b){return h<=b});function TN(h){if(!h)return[];if(d0(h))return O4(h)?os(h):Fe(h);if(n0&&h[n0])return Or(h[n0]());var b=So(h),q=b==ue?mi:b==vt?oi:Hy;return q(h)}function hp(h){if(!h)return h===0?h:0;if(h=al(h),h===Ft||h===-Ft){var b=h<0?-1:1;return b*te}return h===h?h:0}function ao(h){var b=hp(h),q=b%1;return b===b?q?b-q:b:0}function pp(h){return h?wf(ao(h),0,ye):0}function al(h){if(typeof h=="number")return h;if(Rf(h))return Xe;if(gu(h)){var b=typeof h.valueOf=="function"?h.valueOf():h;h=gu(b)?b+"":b}if(typeof h!="string")return h===0?h:+h;h=pt(h);var q=we.test(h);return q||nt.test(h)?Cs(h.slice(2),q?2:8):ne.test(h)?Xe:+h}function h0(h){return rt(h,p0(h))}function FN(h){return h?wf(ao(h),-je,je):h===0?h:0}function Wo(h){return h==null?"":Sl(h)}var $m=kn(function(h,b){if(b4(b)||d0(b)){rt(b,Bu(b),h);return}for(var q in b)dr.call(b,q)&&tf(h,q,b[q])}),DN=kn(function(h,b){rt(b,p0(b),h)}),z1=kn(function(h,b,q,he){rt(b,p0(b),h,he)}),R4=kn(function(h,b,q,he){rt(b,Bu(b),h,he)}),ON=f0(K0);function Vm(h,b){var q=Ri(h);return b==null?q:tp(q,b)}var RN=Ts(function(h,b){h=$i(h);var q=-1,he=b.length,dt=he>2?b[2]:n;for(dt&&Df(b[0],b[1],dt)&&(he=1);++q<he;)for(var Ht=b[q],gn=p0(Ht),Rn=-1,Wn=gn.length;++Rn<Wn;){var Er=gn[Rn],Ar=h[Er];(Ar===n||nd(Ar,Tn[Er])&&!dr.call(h,Er))&&(h[Er]=Ht[Er])}return h}),NN=Ts(function(h){return h.push(n,_a),Zi(nE,n,h)});function s9(h,b){return Ua(h,Tr(b,3),Ia)}function Pa(h,b){return Ua(h,Tr(b,3),wh)}function qy(h,b){return h==null?h:Sh(h,Tr(b,3),p0)}function wW(h,b){return h==null?h:J0(h,Tr(b,3),p0)}function CW(h,b){return h&&Ia(h,Tr(b,3))}function AW(h,b){return h&&wh(h,Tr(b,3))}function TW(h){return h==null?[]:Ru(h,Bu(h))}function LN(h){return h==null?[]:Ru(h,p0(h))}function o9(h,b,q){var he=h==null?n:Za(h,b);return he===n?q:he}function FW(h,b){return h!=null&&Ns(h,b,ip)}function N4(h,b){return h!=null&&Ns(h,b,a0)}var ba=Gs(function(h,b,q){b!=null&&typeof b.toString!="function"&&(b=Rs.call(b)),h[b]=q},aE(Lf)),Nf=Gs(function(h,b,q){b!=null&&typeof b.toString!="function"&&(b=Rs.call(b)),dr.call(h,b)?h[b].push(q):h[b]=[q]},Tr),mp=Ts(Nu);function Bu(h){return d0(h)?Y0(h):Be(h)}function p0(h){return d0(h)?Y0(h,!0):bt(h)}function DW(h,b){var q={};return b=Tr(b,3),Ia(h,function(he,dt,Ht){rl(q,b(he,dt,Ht),he)}),q}function Wm(h,b){var q={};return b=Tr(b,3),Ia(h,function(he,dt,Ht){rl(q,dt,b(he,dt,Ht))}),q}var a9=kn(function(h,b,q){oo(h,b,q)}),nE=kn(function(h,b,q,he){oo(h,b,q,he)}),Uy=f0(function(h,b){var q={};if(h==null)return q;var he=!1;b=Bi(b,function(Ht){return Ht=l0(Ht,h),he||(he=Ht.length>1),Ht}),rt(h,Ly(h),q),he&&(q=_l(q,d|p|E,sc));for(var dt=b.length;dt--;)M1(q,b[dt]);return q});function u9(h,b){return kN(h,eE(Tr(b)))}var OW=f0(function(h,b){return h==null?{}:kb(h,b)});function kN(h,b){if(h==null)return{};var q=Bi(Ly(h),function(he){return[he]});return b=Tr(b),Dy(h,q,function(he,dt){return b(he,dt[0])})}function IN(h,b,q){b=l0(b,h);var he=-1,dt=b.length;for(dt||(dt=1,h=n);++he<dt;){var Ht=h==null?n:h[Of(b[he])];Ht===n&&(he=dt,Ht=q),h=U1(Ht)?Ht.call(h):Ht}return h}function RW(h,b,q){return h==null?h:ap(h,b,q)}function zy(h,b,q,he){return he=typeof he=="function"?he:n,h==null?h:ap(h,b,q,he)}var rE=qd(Bu),L4=qd(p0);function MN(h,b,q){var he=Bs(h),dt=he||dp(h)||Hm(h);if(b=Tr(b,4),q==null){var Ht=h&&h.constructor;dt?q=he?new Ht:[]:gu(h)?q=U1(Ht)?Ri(Zl(h)):{}:q={}}return(dt?Is:Ia)(h,function(gn,Rn,Wn){return b(q,gn,Rn,Wn)}),q}function PN(h,b){return h==null?!0:M1(h,b)}function BN(h,b,q){return h==null?h:up(h,b,ic(q))}function NW(h,b,q,he){return he=typeof he=="function"?he:n,h==null?h:up(h,b,ic(q),he)}function Hy(h){return h==null?[]:Bt(h,Bu(h))}function LW(h){return h==null?[]:Bt(h,p0(h))}function uc(h,b,q){return q===n&&(q=b,b=n),q!==n&&(q=al(q),q=q===q?q:0),b!==n&&(b=al(b),b=b===b?b:0),wf(al(h),b,q)}function jN(h,b,q){return b=hp(b),q===n?(q=b,b=0):q=hp(q),h=al(h),X0(h,b,q)}function kW(h,b,q){if(q&&typeof q!="boolean"&&Df(h,b,q)&&(b=q=n),q===n&&(typeof b=="boolean"?(q=b,b=n):typeof h=="boolean"&&(q=h,h=n)),h===n&&b===n?(h=0,b=1):(h=hp(h),b===n?(b=h,h=0):b=hp(b)),h>b){var he=h;h=b,b=he}if(q||h%1||b%1){var dt=Jc();return Zo(h+dt*(b-h+Zr("1e-"+((dt+"").length-1))),b)}return Lu(h,b)}var k4=kr(function(h,b,q){return b=b.toLowerCase(),h+(q?Nc(b):b)});function Nc(h){return oE(Wo(h).toLowerCase())}function qN(h){return h=Wo(h),h&&h.replace(sn,br).replace(fu,"")}function l9(h,b,q){h=Wo(h),b=Sl(b);var he=h.length;q=q===n?he:wf(ao(q),0,he);var dt=q;return q-=b.length,q>=0&&h.slice(q,dt)==b}function IW(h){return h=Wo(h),h&&Qn.test(h)?h.replace(Wt,wr):h}function MW(h){return h=Wo(h),h&&et.test(h)?h.replace(qe,"\\$&"):h}var UN=kr(function(h,b,q){return h+(q?"-":"")+b.toLowerCase()}),iE=kr(function(h,b,q){return h+(q?" ":"")+b.toLowerCase()}),zN=Jr("toLowerCase");function PW(h,b,q){h=Wo(h),b=ao(b);var he=b?_i(h):0;if(!b||he>=b)return h;var dt=(b-he)/2;return Ha(Kc(dt),q)+h+Ha($0(dt),q)}function BW(h,b,q){h=Wo(h),b=ao(b);var he=b?_i(h):0;return b&&he<b?h+Ha(b-he,q):h}function sE(h,b,q){h=Wo(h),b=ao(b);var he=b?_i(h):0;return b&&he<b?Ha(b-he,q)+h:h}function Qm(h,b,q){return q||b==null?b=0:b&&(b=+b),xl(Wo(h).replace(Tt,""),b||0)}function jW(h,b,q){return(q?Df(h,b,q):b===n)?b=1:b=ao(b),Fh(Wo(h),b)}function qW(){var h=arguments,b=Wo(h[0]);return h.length<3?b:b.replace(h[1],h[2])}var I4=kr(function(h,b,q){return h+(q?"_":"")+b.toLowerCase()});function UW(h,b,q){return q&&typeof q!="number"&&Df(h,b,q)&&(b=q=n),q=q===n?ye:q>>>0,q?(h=Wo(h),h&&(typeof b=="string"||b!=null&&!r9(b))&&(b=Sl(b),!b&&tr(h))?td(os(h),0,q):h.split(b,q)):[]}var HN=kr(function(h,b,q){return h+(q?" ":"")+oE(b)});function zW(h,b,q){return h=Wo(h),q=q==null?0:wf(ao(q),0,h.length),b=Sl(b),h.slice(q,q+b.length)==b}function Vd(h,b,q){var he=tt.templateSettings;q&&Df(h,b,q)&&(b=n),h=Wo(h),b=z1({},b,he,c0);var dt=z1({},b.imports,he.imports,c0),Ht=Bu(dt),gn=Bt(dt,Ht),Rn,Wn,Er=0,Ar=b.interpolate||wn,Br="__p += '",Ti=cs((b.escape||wn).source+"|"+Ar.source+"|"+(Ar===ar?_t:wn).source+"|"+(b.evaluate||wn).source+"|$","g"),Ji="//# sourceURL="+(dr.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qc+"]")+`
`;h.replace(Ti,function(Es,wo,Mo,rd,kf,id){return Mo||(Mo=rd),Br+=h.slice(Er,id).replace(yn,Gn),wo&&(Rn=!0,Br+=`' +
__e(`+wo+`) +
'`),kf&&(Wn=!0,Br+=`';
`+kf+`;
__p += '`),Mo&&(Br+=`' +
((__t = (`+Mo+`)) == null ? '' : __t) +
'`),Er=id+Es.length,Es}),Br+=`';
`;var ys=dr.call(b,"variable")&&b.variable;if(!ys)Br=`with (obj) {
`+Br+`
}
`;else if(ze.test(ys))throw new Oi(s);Br=(Wn?Br.replace(jt,""):Br).replace(yt,"$1").replace(mt,"$1;"),Br="function("+(ys||"obj")+`) {
`+(ys?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Rn?", __e = _.escape":"")+(Wn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Br+`return __p
}`;var xo=d9(function(){return ns(Ht,Ji+"return "+Br).apply(n,gn)});if(xo.source=Br,n9(xo))throw xo;return xo}function $N(h){return Wo(h).toLowerCase()}function HW(h){return Wo(h).toUpperCase()}function $W(h,b,q){if(h=Wo(h),h&&(q||b===n))return pt(h);if(!h||!(b=Sl(b)))return h;var he=os(h),dt=os(b),Ht=Nn(he,dt),gn=Kn(he,dt)+1;return td(he,Ht,gn).join("")}function c9(h,b,q){if(h=Wo(h),h&&(q||b===n))return h.slice(0,gs(h)+1);if(!h||!(b=Sl(b)))return h;var he=os(h),dt=Kn(he,os(b))+1;return td(he,0,dt).join("")}function VW(h,b,q){if(h=Wo(h),h&&(q||b===n))return h.replace(Tt,"");if(!h||!(b=Sl(b)))return h;var he=os(h),dt=Nn(he,os(b));return td(he,dt).join("")}function VN(h,b){var q=me,he=_e;if(gu(b)){var dt="separator"in b?b.separator:dt;q="length"in b?ao(b.length):q,he="omission"in b?Sl(b.omission):he}h=Wo(h);var Ht=h.length;if(tr(h)){var gn=os(h);Ht=gn.length}if(q>=Ht)return h;var Rn=q-_i(he);if(Rn<1)return he;var Wn=gn?td(gn,0,Rn).join(""):h.slice(0,Rn);if(dt===n)return Wn+he;if(gn&&(Rn+=Wn.length-Rn),r9(dt)){if(h.slice(Rn).search(dt)){var Er,Ar=Wn;for(dt.global||(dt=cs(dt.source,Wo(Dt.exec(dt))+"g")),dt.lastIndex=0;Er=dt.exec(Ar);)var Br=Er.index;Wn=Wn.slice(0,Br===n?Rn:Br)}}else if(h.indexOf(Sl(dt),Rn)!=Rn){var Ti=Wn.lastIndexOf(dt);Ti>-1&&(Wn=Wn.slice(0,Ti))}return Wn+he}function f9(h){return h=Wo(h),h&&Dn.test(h)?h.replace(nn,Ei):h}var WN=kr(function(h,b,q){return h+(q?" ":"")+b.toUpperCase()}),oE=Jr("toUpperCase");function M4(h,b,q){return h=Wo(h),b=q?n:b,b===n?gr(h)?xa(h):hu(h):h.match(b)||[]}var d9=Ts(function(h,b){try{return Zi(h,n,b)}catch(q){return n9(q)?q:new Oi(q)}}),WW=f0(function(h,b){return Is(b,function(q){q=Of(q),rl(h,q,Jb(h[q],h))}),h});function QN(h){var b=h==null?0:h.length,q=Tr();return h=b?Bi(h,function(he){if(typeof he[1]!="function")throw new ae(i);return[q(he[0]),he[1]]}):[],Ts(function(he){for(var dt=-1;++dt<b;){var Ht=h[dt];if(Zi(Ht[0],this,he))return Zi(Ht[1],this,he)}})}function QW(h){return np(_l(h,d))}function aE(h){return function(){return h}}function GN(h,b){return h==null||h!==h?b:h}var GW=fs(),YN=fs(!0);function Lf(h){return h}function uE(h){return fe(typeof h=="function"?h:_l(h,d))}function YW(h){return zi(_l(h,d))}function KN(h,b){return qi(h,_l(b,d))}var Hx=Ts(function(h,b){return function(q){return Nu(q,h,b)}}),Gm=Ts(function(h,b){return function(q){return Nu(h,q,b)}});function h9(h,b,q){var he=Bu(b),dt=Ru(b,he);q==null&&!(gu(b)&&(dt.length||!he.length))&&(q=b,b=h,h=this,dt=Ru(b,Bu(b)));var Ht=!(gu(q)&&"chain"in q)||!!q.chain,gn=U1(h);return Is(dt,function(Rn){var Wn=b[Rn];h[Rn]=Wn,gn&&(h.prototype[Rn]=function(){var Er=this.__chain__;if(Ht||Er){var Ar=h(this.__wrapped__),Br=Ar.__actions__=Fe(this.__actions__);return Br.push({func:Wn,args:arguments,thisArg:h}),Ar.__chain__=Er,Ar}return Wn.apply(h,Oo([this.value()],arguments))})}),h}function JN(){return hs._===this&&(hs._=Xa),this}function $y(){}function KW(h){return h=ao(h),Ts(function(b){return Rc(b,h)})}var Vy=Ki(Bi),p9=Ki(oa),XN=Ki(Ro);function lE(h){return NC(h)?el(Of(h)):y4(h)}function ZN(h){return function(b){return h==null?n:Za(h,b)}}var eL=Iu(),Wy=Iu(!0);function m9(){return[]}function cE(){return!1}function tL(){return{}}function JW(){return""}function fE(){return!0}function XW(h,b){if(h=ao(h),h<1||h>je)return[];var q=ye,he=Zo(h,ye);b=Tr(b),h-=ye;for(var dt=as(he,b);++q<h;)b(q);return dt}function x9(h){return Bs(h)?Bi(h,Of):Rf(h)?[h]:Fe(S4(Wo(h)))}function P4(h){var b=++es;return Wo(h)+b}var nL=Yr(function(h,b){return h+b},0),ZW=$a("ceil"),rL=Yr(function(h,b){return h/b},1),eQ=$a("floor");function tQ(h){return h&&h.length?nf(h,Lf,Ah):n}function g9(h,b){return h&&h.length?nf(h,Tr(b,2),Ah):n}function iL(h){return na(h,Lf)}function nQ(h,b){return na(h,Tr(b,2))}function rQ(h){return h&&h.length?nf(h,Lf,An):n}function iQ(h,b){return h&&h.length?nf(h,Tr(b,2),An):n}var y9=Yr(function(h,b){return h*b},1),sL=$a("round"),oL=Yr(function(h,b){return h-b},0);function sQ(h){return h&&h.length?pr(h,Lf):0}function oQ(h,b){return h&&h.length?pr(h,Tr(b,2)):0}return tt.after=sN,tt.ary=oN,tt.assign=$m,tt.assignIn=DN,tt.assignInWith=z1,tt.assignWith=R4,tt.at=ON,tt.before=aN,tt.bind=Jb,tt.bindAll=WW,tt.bindKey=uN,tt.castArray=aW,tt.chain=HV,tt.chunk=jb,tt.compact=NR,tt.concat=w4,tt.cond=QN,tt.conforms=QW,tt.constant=aE,tt.countBy=QV,tt.create=Vm,tt.curry=lN,tt.curryRight=cN,tt.debounce=fN,tt.defaults=RN,tt.defaultsDeep=NN,tt.defer=tW,tt.delay=nW,tt.difference=LR,tt.differenceBy=C4,tt.differenceWith=kR,tt.drop=EV,tt.dropRight=IR,tt.dropRightWhile=SV,tt.dropWhile=MR,tt.fill=_le,tt.filter=Wb,tt.flatMap=YV,tt.flatMapDeep=KV,tt.flatMapDepth=ZR,tt.flatten=A4,tt.flattenDeep=zx,tt.flattenDepth=PR,tt.flip=Xb,tt.flow=GW,tt.flowRight=YN,tt.fromPairs=MC,tt.functions=TW,tt.functionsIn=LN,tt.groupBy=eN,tt.initial=wV,tt.intersection=CV,tt.intersectionBy=Ub,tt.intersectionWith=AV,tt.invert=ba,tt.invertBy=Nf,tt.invokeMap=ble,tt.iteratee=uE,tt.keyBy=JV,tt.keys=Bu,tt.keysIn=p0,tt.map=Qb,tt.mapKeys=DW,tt.mapValues=Wm,tt.matches=YW,tt.matchesProperty=KN,tt.memoize=Zb,tt.merge=a9,tt.mergeWith=nE,tt.method=Hx,tt.methodOf=Gm,tt.mixin=h9,tt.negate=eE,tt.nthArg=KW,tt.omit=Uy,tt.omitBy=u9,tt.once=XC,tt.orderBy=JC,tt.over=Vy,tt.overArgs=rW,tt.overEvery=p9,tt.overSome=XN,tt.partial=ZC,tt.partialRight=dN,tt.partition=Gb,tt.pick=OW,tt.pickBy=kN,tt.property=lE,tt.propertyOf=ZN,tt.pull=BC,tt.pullAll=zb,tt.pullAllBy=jC,tt.pullAllWith=qR,tt.pullAt=UR,tt.range=eL,tt.rangeRight=Wy,tt.rearg=iW,tt.reject=Ele,tt.remove=Hb,tt.rest=jy,tt.reverse=$b,tt.sampleSize=q1,tt.set=RW,tt.setWith=zy,tt.shuffle=rN,tt.slice=Vb,tt.sortBy=eW,tt.sortedUniq=qC,tt.sortedUniqBy=RV,tt.split=UW,tt.spread=hN,tt.tail=NV,tt.take=VR,tt.takeRight=LV,tt.takeRightWhile=kV,tt.takeWhile=IV,tt.tap=JR,tt.throttle=sW,tt.thru=T4,tt.toArray=TN,tt.toPairs=rE,tt.toPairsIn=L4,tt.toPath=x9,tt.toPlainObject=h0,tt.transform=MN,tt.unary=pN,tt.union=MV,tt.unionBy=WR,tt.unionWith=PV,tt.uniq=QR,tt.uniqBy=UC,tt.uniqWith=BV,tt.unset=PN,tt.unzip=zC,tt.unzipWith=HC,tt.update=BN,tt.updateWith=NW,tt.values=Hy,tt.valuesIn=LW,tt.without=GR,tt.words=M4,tt.wrap=oW,tt.xor=$C,tt.xorBy=jV,tt.xorWith=qV,tt.zip=YR,tt.zipObject=KR,tt.zipObjectDeep=UV,tt.zipWith=zV,tt.entries=rE,tt.entriesIn=L4,tt.extend=DN,tt.extendWith=z1,h9(tt,tt),tt.add=nL,tt.attempt=d9,tt.camelCase=k4,tt.capitalize=Nc,tt.ceil=ZW,tt.clamp=uc,tt.clone=e9,tt.cloneDeep=uW,tt.cloneDeepWith=lW,tt.cloneWith=mN,tt.conformsTo=t9,tt.deburr=qN,tt.defaultTo=GN,tt.divide=rL,tt.endsWith=l9,tt.eq=nd,tt.escape=IW,tt.escapeRegExp=MW,tt.every=GC,tt.find=YC,tt.findIndex=IC,tt.findKey=s9,tt.findLast=GV,tt.findLastIndex=fp,tt.findLastKey=Pa,tt.floor=eQ,tt.forEach=KC,tt.forEachRight=Rh,tt.forIn=qy,tt.forInRight=wW,tt.forOwn=CW,tt.forOwnRight=AW,tt.get=o9,tt.gt=xN,tt.gte=gN,tt.has=FW,tt.hasIn=N4,tt.head=qb,tt.identity=Lf,tt.includes=tN,tt.indexOf=BR,tt.inRange=jN,tt.invoke=mp,tt.isArguments=zm,tt.isArray=Bs,tt.isArrayBuffer=cW,tt.isArrayLike=d0,tt.isArrayLikeObject=Mu,tt.isBoolean=yN,tt.isBuffer=dp,tt.isDate=fW,tt.isElement=vN,tt.isEmpty=dW,tt.isEqual=hW,tt.isEqualWith=pW,tt.isError=n9,tt.isFinite=mW,tt.isFunction=U1,tt.isInteger=_N,tt.isLength=tE,tt.isMap=bN,tt.isMatch=xW,tt.isMatchWith=EN,tt.isNaN=gW,tt.isNative=yW,tt.isNil=_W,tt.isNull=vW,tt.isNumber=SN,tt.isObject=gu,tt.isObjectLike=Pu,tt.isPlainObject=D4,tt.isRegExp=r9,tt.isSafeInteger=wN,tt.isSet=i9,tt.isString=O4,tt.isSymbol=Rf,tt.isTypedArray=Hm,tt.isUndefined=CN,tt.isWeakMap=AN,tt.isWeakSet=bW,tt.join=PC,tt.kebabCase=UN,tt.last=$d,tt.lastIndexOf=jR,tt.lowerCase=iE,tt.lowerFirst=zN,tt.lt=EW,tt.lte=SW,tt.max=tQ,tt.maxBy=g9,tt.mean=iL,tt.meanBy=nQ,tt.min=rQ,tt.minBy=iQ,tt.stubArray=m9,tt.stubFalse=cE,tt.stubObject=tL,tt.stubString=JW,tt.stubTrue=fE,tt.multiply=y9,tt.nth=TV,tt.noConflict=JN,tt.noop=$y,tt.now=Kb,tt.pad=PW,tt.padEnd=BW,tt.padStart=sE,tt.parseInt=Qm,tt.random=kW,tt.reduce=Yb,tt.reduceRight=nN,tt.repeat=jW,tt.replace=qW,tt.result=IN,tt.round=sL,tt.runInContext=Zt,tt.sample=XV,tt.size=iN,tt.snakeCase=I4,tt.some=ZV,tt.sortedIndex=FV,tt.sortedIndexBy=DV,tt.sortedIndexOf=zR,tt.sortedLastIndex=HR,tt.sortedLastIndexBy=$R,tt.sortedLastIndexOf=OV,tt.startCase=HN,tt.startsWith=zW,tt.subtract=oL,tt.sum=sQ,tt.sumBy=oQ,tt.template=Vd,tt.times=XW,tt.toFinite=hp,tt.toInteger=ao,tt.toLength=pp,tt.toLower=$N,tt.toNumber=al,tt.toSafeInteger=FN,tt.toString=Wo,tt.toUpper=HW,tt.trim=$W,tt.trimEnd=c9,tt.trimStart=VW,tt.truncate=VN,tt.unescape=f9,tt.uniqueId=P4,tt.upperCase=WN,tt.upperFirst=oE,tt.each=KC,tt.eachRight=Rh,tt.first=qb,h9(tt,function(){var h={};return Ia(tt,function(b,q){dr.call(tt.prototype,q)||(h[q]=b)}),h}(),{chain:!1}),tt.VERSION=e,Is(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){tt[h].placeholder=tt}),Is(["drop","take"],function(h,b){Gr.prototype[h]=function(q){q=q===n?1:Uo(ao(q),0);var he=this.__filtered__&&!b?new Gr(this):this.clone();return he.__filtered__?he.__takeCount__=Zo(q,he.__takeCount__):he.__views__.push({size:Zo(q,ye),type:h+(he.__dir__<0?"Right":"")}),he},Gr.prototype[h+"Right"]=function(q){return this.reverse()[h](q).reverse()}}),Is(["filter","map","takeWhile"],function(h,b){var q=b+1,he=q==lt||q==St;Gr.prototype[h]=function(dt){var Ht=this.clone();return Ht.__iteratees__.push({iteratee:Tr(dt,3),type:q}),Ht.__filtered__=Ht.__filtered__||he,Ht}}),Is(["head","last"],function(h,b){var q="take"+(b?"Right":"");Gr.prototype[h]=function(){return this[q](1).value()[0]}}),Is(["initial","tail"],function(h,b){var q="drop"+(b?"":"Right");Gr.prototype[h]=function(){return this.__filtered__?new Gr(this):this[q](1)}}),Gr.prototype.compact=function(){return this.filter(Lf)},Gr.prototype.find=function(h){return this.filter(h).head()},Gr.prototype.findLast=function(h){return this.reverse().find(h)},Gr.prototype.invokeMap=Ts(function(h,b){return typeof h=="function"?new Gr(this):this.map(function(q){return Nu(q,h,b)})}),Gr.prototype.reject=function(h){return this.filter(eE(Tr(h)))},Gr.prototype.slice=function(h,b){h=ao(h);var q=this;return q.__filtered__&&(h>0||b<0)?new Gr(q):(h<0?q=q.takeRight(-h):h&&(q=q.drop(h)),b!==n&&(b=ao(b),q=b<0?q.dropRight(-b):q.take(b-h)),q)},Gr.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Gr.prototype.toArray=function(){return this.take(ye)},Ia(Gr.prototype,function(h,b){var q=/^(?:filter|find|map|reject)|While$/.test(b),he=/^(?:head|last)$/.test(b),dt=tt[he?"take"+(b=="last"?"Right":""):b],Ht=he||/^find/.test(b);!dt||(tt.prototype[b]=function(){var gn=this.__wrapped__,Rn=he?[1]:arguments,Wn=gn instanceof Gr,Er=Rn[0],Ar=Wn||Bs(gn),Br=function(wo){var Mo=dt.apply(tt,Oo([wo],Rn));return he&&Ti?Mo[0]:Mo};Ar&&q&&typeof Er=="function"&&Er.length!=1&&(Wn=Ar=!1);var Ti=this.__chain__,Ji=!!this.__actions__.length,ys=Ht&&!Ti,xo=Wn&&!Ji;if(!Ht&&Ar){gn=xo?gn:new Gr(this);var Es=h.apply(gn,Rn);return Es.__actions__.push({func:T4,args:[Br],thisArg:n}),new Mi(Es,Ti)}return ys&&xo?h.apply(this,Rn):(Es=this.thru(Br),ys?he?Es.value()[0]:Es.value():Es)})}),Is(["pop","push","shift","sort","splice","unshift"],function(h){var b=ot[h],q=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",he=/^(?:pop|shift)$/.test(h);tt.prototype[h]=function(){var dt=arguments;if(he&&!this.__chain__){var Ht=this.value();return b.apply(Bs(Ht)?Ht:[],dt)}return this[q](function(gn){return b.apply(Bs(gn)?gn:[],dt)})}}),Ia(Gr.prototype,function(h,b){var q=tt[b];if(q){var he=q.name+"";dr.call(X,he)||(X[he]=[]),X[he].push({name:b,func:q})}}),X[Xs(n,U).name]=[{name:"wrapper",func:n}],Gr.prototype.clone=Qs,Gr.prototype.reverse=zo,Gr.prototype.value=ga,tt.prototype.at=$V,tt.prototype.chain=VV,tt.prototype.commit=F4,tt.prototype.next=WV,tt.prototype.plant=WC,tt.prototype.reverse=QC,tt.prototype.toJSON=tt.prototype.valueOf=tt.prototype.value=XR,tt.prototype.first=tt.prototype.head,n0&&(tt.prototype[n0]=VC),tt},As=No();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(hs._=As,define(function(){return As})):ho?((ho.exports=As)._=As,io._=As):hs._=As}).call(G7)});var UT=Ae(av=>{"use strict";m();Object.defineProperty(av,"__esModule",{value:!0});av.AndChain=av.generateSQLStringLiteral=av.indent=void 0;function cJe(n){let e=/(^|\n)/g,t=/\n {2}$/;return n.replace(e,"$1  ").replace(t,`
`)}av.indent=cJe;function fJe(n){return`'${n.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`}av.generateSQLStringLiteral=fJe;var tB=class{constructor(e){this.clauses=[],e&&this.clauses.push(e)}clone(){let e=new tB;return e.addChain(this),e}add(e){return this.clauses.push(e),this}addChain(e){return this.clauses.push(...e.clauses),this}empty(){return this.clauses.length===0}present(){return this.clauses.length>0}sqlOr(){return this.empty()?"":this.clauses.map(e=>`(${e})`).join("OR ")+`
`}sql(e){if(this.empty())return"";let t="",r="";return e&&(t=e.toUpperCase()+" ",r=`
`),this.clauses.length===1?t+this.clauses[0]+r:t+this.clauses.map(i=>`(${i})`).join(`
AND `)+r}};av.AndChain=tB});var zT=Ae(nB=>{"use strict";m();Object.defineProperty(nB,"__esModule",{value:!0});nB.Dialect=void 0;var Lye=im(),kye=class{sqlFinalStage(e,t){throw new Error("Dialect has no final Stage but called Anyway")}sqlDateToString(e){return`CAST(DATE(${e}) AS ${this.stringTypeName} )`}ignoreInProject(e){return!1}getFunctionInfo(e){return this.functionInfo[e.toLowerCase()]}dialectExpr(e){switch(e.function){case"now":return this.sqlNow();case"timeDiff":return this.sqlMeasureTime(e.left,e.right,e.units);case"delta":return this.sqlAlterTime(e.op,e.base,e.delta,e.units);case"trunc":return this.sqlTrunc(e.expr,e.units);case"extract":return this.sqlExtract(e.expr,e.units);case"cast":return this.sqlCast(e);case"regexpMatch":return this.sqlRegexpMatch(e.expr,e.regexp);case"div":return this.divisionIsInteger?(0,Lye.mkExpr)`${e.numerator}*1.0/${e.denominator}`:(0,Lye.mkExpr)`${e.numerator}/${e.denominator}`;case"timeLiteral":return[this.sqlLiteralTime(e.literal,e.literalType,e.timezone)]}}sqlSumDistinct(e,t){return"sqlSumDistinct called bu not implemented"}sqlSampleTable(e,t){if(t!==void 0)throw new Error(`Sampling is not supported on dialect ${this.name}.`);return e}sqlOrderBy(e){return`ORDER BY ${e.join(",")}`}};nB.Dialect=kye});var iB=Ae(rB=>{"use strict";m();Object.defineProperty(rB,"__esModule",{value:!0});rB.StandardSQLDialect=void 0;var Iye=UT(),ll=Y7(),dJe=zT(),hJe={number:"float64"},pJe=["microsecond","millisecond","second","minute","hour","day"],mJe={day_of_week:"dayofweek",day_of_year:"dayofyear"},Mye=class extends dJe.Dialect{constructor(){super(...arguments);this.name="standardsql",this.defaultNumberType="FLOAT64",this.udfPrefix="__udf",this.hasFinalStage=!1,this.stringTypeName="STRING",this.divisionIsInteger=!1,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={enable:!1},this.supportUnnestArrayAgg=!1,this.supportsCTEinCoorelatedSubQueries=!1,this.functionInfo={timestamp_seconds:{returnType:"timestamp"},concat:{returnType:"string"}},this.keywords=`
  ALL
  AND
  ANY
  ARRAY
  AS
  ASC
  ASSERT_ROWS_MODIFIED
  AT
  BETWEEN
  BY
  CASE
  CAST
  COLLATE
  CONTAINS
  CREATE
  CROSS
  CUBE
  CURRENT
  DEFAULT
  DEFINE
  DESC
  DISTINCT
  ELSE
  END
  ENUM
  ESCAPE
  EXCEPT
  EXCLUDE
  EXISTS
  EXTRACT
  FALSE
  FETCH
  FOLLOWING
  FOR
  FROM
  FULL
  GROUP
  GROUPING
  GROUPS
  HASH
  HAVING
  IF
  IGNORE
  IN
  INNER
  INTERSECT
  INTERVAL
  INTO
  IS
  JOIN
  LATERAL
  LEFT
  LIKE
  LIMIT
  LOOKUP
  MERGE
  NATURAL
  NEW
  NO
  NOT
  NULL
  NULLS
  OF
  ON
  OR
  ORDER
  OUTER
  OVER
  PARTITION
  PRECEDING
  PROTO
  RANGE
  RECURSIVE
  RESPECT
  RIGHT
  ROLLUP
  ROWS
  SELECT
  SET
  SOME
  STRUCT
  TABLESAMPLE
  THEN
  TO
  TREAT
  TRUE
  UNBOUNDED
  UNION
  UNNEST
  USING
  WHEN
  WHERE
  WINDOW
  WITH
  WITHIN`.split(/\s/)}quoteTablePath(e){return`\`${e}\``}sqlGroupSetTable(e){return`CROSS JOIN (SELECT row_number() OVER() -1  group_set FROM UNNEST(GENERATE_ARRAY(0,${e},1)))`}sqlAnyValue(e,t){return`ANY_VALUE(CASE WHEN group_set=${e} THEN ${t} END)`}sqlAggregateTurtle(e,t,r,i){let s="";i!==void 0&&(s+=` LIMIT ${i}`);let o=t.map(a=>`
  ${a.sqlExpression} as ${a.sqlOutputName}`).join(", ");return`ARRAY_AGG(CASE WHEN group_set=${e} THEN STRUCT(${o}
  ) END IGNORE NULLS ${r} ${s})`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`ANY_VALUE(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlExpression} as ${s.sqlOutputName}`).join(", "),i=t.map(s=>`NULL as ${s.sqlOutputName}`).join(", ");return`COALESCE(ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}) END), STRUCT(${i}))`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, value FROM UNNEST(${e}) value))) as ${t}`:`LEFT JOIN UNNEST(ARRAY((SELECT AS STRUCT value FROM unnest(${e}) value))) as ${t}`:i?`LEFT JOIN UNNEST(ARRAY(( SELECT AS STRUCT row_number() over() as __row_id, * FROM UNNEST(${e})))) as ${t}`:`LEFT JOIN UNNEST(${e}) as ${t}`}sqlSumDistinctHashedKey(e){e=`CAST(${e} AS STRING)`;let t=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 1, 15)) as int64) as numeric) * 4294967296`,r=`cast(cast(concat('0x', substr(to_hex(md5(${e})), 16, 8)) as int64) as numeric)`;return`(${t} + ${r}) * 0.000000001`}sqlGenerateUUID(){return"GENERATE_UUID()"}sqlFieldReference(e,t,r,i,s){return`${e}.${t}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`UNNEST(${r})`}sqlCreateFunction(e,t){return`CREATE TEMPORARY FUNCTION ${e}(__param ANY TYPE) AS ((
${(0,Iye.indent)(t)}));
`}sqlCreateTableAsSelect(e,t){return`
CREATE TABLE IF NOT EXISTS \`${e}\`
OPTIONS (
    expiration_timestamp=TIMESTAMP_ADD(current_timestamp(),  INTERVAL 1 hour)
)
AS (
${(0,Iye.indent)(t)}
);
`}sqlCreateFunctionCombineLastStage(e){return`SELECT ARRAY((SELECT AS STRUCT * FROM ${e}))
`}sqlSelectAliasAsStruct(e){return`(SELECT AS STRUCT ${e}.*)`}sqlMaybeQuoteIdentifier(e){return this.keywords.indexOf(e.toUpperCase())>0?"`"+e+"`":e}sqlNow(){return(0,ll.mkExpr)`CURRENT_TIMESTAMP()`}sqlTrunc(e,t){return e.valueType=="date"?(0,ll.isDateUnit)(t)?(0,ll.mkExpr)`DATE_TRUNC(${e.value},${t})`:(0,ll.mkExpr)`TIMESTAMP(${e.value})`:(0,ll.mkExpr)`TIMESTAMP_TRUNC(${e.value},${t})`}sqlExtract(e,t){let r=mJe[t]||t;return(0,ll.mkExpr)`EXTRACT(${r} FROM ${e.value})`}sqlAlterTime(e,t,r,i){let s=t.value,o=t.valueType;i!="day"&&pJe.includes(i)?(o="timestamp",t.valueType!="timestamp"&&(s=(0,ll.mkExpr)`TIMESTAMP(${s})`)):t.valueType=="timestamp"&&(s=(0,ll.mkExpr)`DATETIME(${s})`,o="datetime");let a=o.toUpperCase()+(e=="+"?"_ADD":"_SUB"),c=(0,ll.mkExpr)`${a}(${s}, INTERVAL ${r} ${i})`;return o=="datetime"?(0,ll.mkExpr)`TIMESTAMP(${c})`:c}ignoreInProject(e){return e==="_PARTITIONTIME"}sqlCast(e){if(e.srcType!==e.dstType){let t=hJe[e.dstType]||e.dstType;if(!e.safe&&e.srcType&&(0,ll.isTimeFieldType)(e.srcType))return t=="date"?(0,ll.mkExpr)`DATE(${e.expr})`:(0,ll.mkExpr)`TIMESTAMP(${e.expr})`;let r=e.safe?"SAFE_CAST":"CAST";return(0,ll.mkExpr)`${r}(${e.expr}  AS ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,ll.mkExpr)`REGEXP_CONTAINS(${e}, r${t})`}sqlLiteralTime(e,t,r){if(t==="date")return`DATE('${e}')`;if(t==="timestamp")return`TIMESTAMP('${e}', '${r}')`;throw new Error(`Unknown Liternal time format ${t}`)}sqlMeasureTime(e,t,r){let i=e.value,s=t.value,o="TIMESTAMP_DIFF";return r=="second"||r=="minute"||r=="hour"?(e.valueType!="timestamp"&&(i=(0,ll.mkExpr)`TIMESTAMP(${i})`),t.valueType!="timestamp"&&(s=(0,ll.mkExpr)`TIMESTAMP(${s})`)):(o="DATE_DIFF",e.valueType!="date"&&(i=(0,ll.mkExpr)`DATE(${i})`),t.valueType!="date"&&(s=(0,ll.mkExpr)`DATE(${s})`)),(0,ll.mkExpr)`${o}(${s}, ${i}, ${r})`}sqlSampleTable(e,t){if(t!==void 0){if((0,ll.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,ll.isSamplingRows)(t))throw new Error("StandardSQL doesn't support sampling by rows only percent");if((0,ll.isSamplingPercent)(t))return`(SELECT * FROM ${e}  TABLESAMPLE SYSTEM (${t.percent} PERCENT))`}return e}};rB.StandardSQLDialect=Mye});var AZ=Ae(sB=>{"use strict";m();Object.defineProperty(sB,"__esModule",{value:!0});sB.PostgresDialect=void 0;var xJe=UT(),iu=Y7(),gJe=zT(),yJe={number:"double precision",string:"varchar"},vJe={day_of_week:"dow",day_of_year:"doy"},_Je={year:"years",month:"months",week:"weeks",day:"days",hour:"hours",minute:"mins",second:"secs"},Pye={second:1,minute:60,hour:3600},Bye=class extends gJe.Dialect{constructor(){super(...arguments);this.name="postgres",this.defaultNumberType="DOUBLE PRECISION",this.udfPrefix="pg_temp.__udf",this.hasFinalStage=!0,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!1,this.unnestWithNumbers=!1,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.functionInfo={concat:{returnType:"string"}}}quoteTablePath(e){return e.split(".").map(t=>`"${t}"`).join(".")}sqlGroupSetTable(e){return`CROSS JOIN GENERATE_SERIES(0,${e},1) as group_set`}sqlAnyValue(e,t){return`MAX(${t})`}mapFields(e){return e.map(t=>`
  ${t.sqlExpression}${t.type=="number"?`::${this.defaultNumberType}`:""} as ${t.sqlOutputName}`).join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(TO_JSONB((ARRAY_AGG((SELECT TO_JSONB(__x) FROM (SELECT ${this.mapFields(t)}
  ) as __x) ${r} ) FILTER (WHERE group_set=${e}))${s}),'[]'::JSONB)`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN STRUCT(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`(ARRAY_AGG(${e}__${t}) FILTER (WHERE group_set=${t} AND ${e}__${t} IS NOT NULL))[1] as ${r}`}sqlCoaleseMeasuresInline(e,t){return`TO_JSONB((ARRAY_AGG((SELECT __x FROM (SELECT ${this.mapFields(t)}) as __x)) FILTER (WHERE group_set=${e}))[1])`}sqlUnnestAlias(e,t,r,i,s){return s?i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_id', row_number() over (), 'value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('value', v) FROM UNNEST(${e}) as v))) as ${t} ON true`:i?`LEFT JOIN UNNEST(ARRAY((SELECT jsonb_build_object('__row_number', row_number() over())|| __xx::jsonb as b FROM  JSONB_ARRAY_ELEMENTS(${e}) __xx ))) as ${t} ON true`:`LEFT JOIN JSONB_ARRAY_ELEMENTS(${e}) as ${t} ON true`}sqlSumDistinctHashedKey(e){return`('x' || MD5(${e}::varchar))::bit(64)::bigint::DECIMAL(65,0)  *18446744073709551616 + ('x' || SUBSTR(MD5(${e}::varchar),17))::bit(64)::bigint::DECIMAL(65,0)`}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlFieldReference(e,t,r,i,s){let o=`${e}->>'${t}'`;if(i){switch(r){case"string":break;case"number":o=`(${o})::double precision`;break;case"struct":o=`(${o})::jsonb`;break}return o}else return`${e}."${t}"`}sqlUnnestPipelineHead(e,t){return e?`UNNEST(ARRAY((SELECT ${t})))`:`JSONB_ARRAY_ELEMENTS(${t})`}sqlCreateFunction(e,t){return`CREATE FUNCTION ${e}(JSONB) RETURNS JSONB AS $$
${(0,xJe.indent)(t)}
$$ LANGUAGE SQL;
`}sqlCreateFunctionCombineLastStage(e){return`SELECT JSONB_AGG(__stage0) FROM ${e}
`}sqlFinalStage(e,t){return`SELECT row_to_json(finalStage) as row FROM ${e} AS finalStage`}sqlSelectAliasAsStruct(e){return`ROW(${e})`}sqlMaybeQuoteIdentifier(e){return`"${e}"`}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}sqlNow(){return(0,iu.mkExpr)`CURRENT_TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,iu.mkExpr)`${e.value}+interval'1'day`:e.value,s=(0,iu.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,iu.mkExpr)`(${s}-interval'1'day)`:s}sqlExtract(e,t){let r=vJe[t]||t,i=(0,iu.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,iu.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,iu.mkExpr)`${r}*3`);let s=(0,iu.mkExpr)`make_interval(${_Je[i]}=>${r})`;return(0,iu.mkExpr)`((${t.value})${e}${s})`}sqlCast(e){if(e.dstType!==e.srcType){let t=yJe[e.dstType]||e.dstType;return(0,iu.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,iu.mkExpr)`(${e} ~ ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE('${e}')`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(Pye[r]){i=(0,iu.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,iu.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let a=(0,iu.mkExpr)`(${s} - ${i})`;return r=="second"?a:(0,iu.mkExpr)`TRUNC(${a}/${Pye[r].toString()})`}if(r==="day")return(0,iu.mkExpr)`${s}::date - ${i}::date`;let o=(0,iu.mkExpr)`(DATE_PART('year', ${s}) - DATE_PART('year', ${i}))`;if(r=="year")return o;if(r=="week"){let a=(0,iu.mkExpr)`(DATE_TRUNC('week', ${s} + '1 day'::interval)::date - DATE_TRUNC('week', ${i} + '1 day'::interval)::date)`;return(0,iu.mkExpr)`${a} / 7`}if(r=="month"){let a=(0,iu.mkExpr)`DATE_PART('month', ${s}) - DATE_PART('month', ${i})`;return(0,iu.mkExpr)`${o} * 12 + ${a}`}if(r=="quarter"){let a=(0,iu.mkExpr)`DATE_PART('quarter', ${s}) - DATE_PART('quarter', ${i})`;return(0,iu.mkExpr)`${o} * 4 + ${a}`}throw new Error(`Unknown or unhandled postgres time unit: ${r}`)}sqlSumDistinct(e,t){return`(
      SELECT sum((a::json->>'f2')::DOUBLE PRECISION) as value
      FROM (
        SELECT UNNEST(array_agg(distinct row_to_json(row(${e},${t}))::text)) a
      ) a
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,iu.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,iu.isSamplingRows)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM_ROWS(${t.rows}))`;if((0,iu.isSamplingPercent)(t))return`(SELECT * FROM ${e} TABLESAMPLE SYSTEM (${t.percent}))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}};sB.PostgresDialect=Bye});var zye=Ae(oB=>{"use strict";m();Object.defineProperty(oB,"__esModule",{value:!0});oB.DuckDBDialect=void 0;var Eu=Y7(),bJe=UT(),EJe=zT(),jye="-- hack: split on this",D7t=`
ALL
ANALYSE
ANALYZE
AND
ANY
ARRAY
AS
ASC_P
ASYMMETRIC
BOTH
CASE
CAST
CHECK_P
COLLATE
COLUMN
CONSTRAINT
CREATE_P
CURRENT_CATALOG
CURRENT_DATE
CURRENT_ROLE
CURRENT_TIME
CURRENT_TIMESTAMP
CURRENT_USER
DEFAULT
DEFERRABLE
DESC_P
DISTINCT
DO
ELSE
END_P
EXCEPT
FALSE_P
FETCH
FOR
FOREIGN
FROM
GRANT
GROUP_P
HAVING
IN_P
INITIALLY
INTERSECT
INTO
LATERAL_P
LEADING
LIMIT
LOCALTIME
LOCALTIMESTAMP
NOT
NULL_P
OFFSET
ON
ONLY
OR
ORDER
PLACING
PRIMARY
REFERENCES
RETURNING
SELECT
SESSION_USER
SOME
SYMMETRIC
TABLE
THEN
TO
TRAILING
TRUE_P
UNION
UNIQUE
USER
USING
VARIADIC
WHEN
WHERE
WINDOW
WITH
`.split(/\s/),SJe={number:"double precision",string:"varchar"},wJe={day_of_week:"dow",day_of_year:"doy"},qye={second:1,minute:60,hour:3600},Uye=class extends EJe.Dialect{constructor(){super(...arguments);this.name="duckdb",this.defaultNumberType="DOUBLE",this.hasFinalStage=!1,this.stringTypeName="VARCHAR",this.divisionIsInteger=!0,this.supportsSumDistinctFunction=!0,this.unnestWithNumbers=!0,this.defaultSampling={rows:5e4},this.supportUnnestArrayAgg=!0,this.supportsCTEinCoorelatedSubQueries=!0,this.functionInfo={concat:{returnType:"string"}}}get udfPrefix(){return`__udf${Math.floor(Math.random()*1e5)}`}quoteTablePath(e){return e.match(/\//)?`'${e}'`:e}sqlGroupSetTable(e){return`CROSS JOIN (SELECT UNNEST(GENERATE_SERIES(0,${e},1)) as group_set  ) as group_set`}sqlAnyValue(e,t){return`FIRST(${t}) FILTER (WHERE ${t} IS NOT NULL)`}mapFields(e){return e.join(", ")}sqlAggregateTurtle(e,t,r,i){let s="";return i!==void 0&&(s+=`[1:${i}]`),`COALESCE(LIST({${t.map(a=>`
  ${a.sqlOutputName}: ${a.sqlExpression}`).join(", ")}} ${r}) FILTER (WHERE group_set=${e})${s},[])`}sqlAnyValueTurtle(e,t){let r=t.map(i=>`${i.sqlExpression} as ${i.sqlOutputName}`).join(", ");return`ANY_VALUE(CASE WHEN group_set=${e} THEN ROW(${r}))`}sqlAnyValueLastTurtle(e,t,r){return`MAX(CASE WHEN group_set=${t} THEN ${e}__${t} END) as ${r}`}sqlCoaleseMeasuresInline(e,t){let r=t.map(s=>`${s.sqlOutputName}: ${s.sqlExpression} `).join(", "),i=t.map(s=>`${s.sqlOutputName}: NULL`).join(", ");return`COALESCE(FIRST({${r}}) FILTER(WHERE group_set=${e}), {${i}})`}sqlUnnestAlias(e,t,r,i){return`LEFT JOIN (select UNNEST(generate_series(1,
        100000, --
        -- (SELECT genres_length FROM movies limit 1),
        1)) as __row_id) as ${t} ON  ${t}.__row_id <= array_length(${e})`}sqlSumDistinctHashedKey(e){return"uses sumDistinctFunction, should not be called"}sqlGenerateUUID(){return"GEN_RANDOM_UUID()"}sqlDateToString(e){return`(${e})::date::varchar`}sqlFieldReference(e,t,r,i,s){return s?e:`${e}.${this.sqlMaybeQuoteIdentifier(t)}`}sqlUnnestPipelineHead(e,t){let r=t;return e&&(r=`[${r}]`),`(SELECT UNNEST(${r}) as base)`}sqlCreateFunction(e,t){return`DROP MACRO IF EXISTS ${e}; 
${jye}
 CREATE MACRO ${e}(_param) AS (
${(0,bJe.indent)(t)}
);
${jye}
`}sqlCreateFunctionCombineLastStage(e,t){return`SELECT LIST(ROW(${t.fields.map(r=>this.sqlMaybeQuoteIdentifier((0,Eu.getIdentifier)(r))).join(",")})) FROM ${e}
`}sqlSelectAliasAsStruct(e,t){return`ROW(${t.map(r=>`${e}.${r}`).join(", ")})`}sqlMaybeQuoteIdentifier(e){return'"'+e+'"'}sqlCreateTableAsSelect(e,t){throw new Error("Not implemented Yet")}getFunctionInfo(e){return this.functionInfo[e]}sqlMeasureTime(e,t,r){let i=e.value,s=t.value;if(qye[r]){i=(0,Eu.mkExpr)`EXTRACT(EPOCH FROM ${i})`,s=(0,Eu.mkExpr)`EXTRACT(EPOCH FROM ${s})`;let o=(0,Eu.mkExpr)`(${s} - ${i})`;return r=="second"?o:(0,Eu.mkExpr)`FLOOR(${o}/${qye[r].toString()})`}return e.valueType!="date"&&(i=(0,Eu.mkExpr)`CAST((${i}) AS DATE)`),t.valueType!="date"&&(s=(0,Eu.mkExpr)`CAST((${s}) AS DATE)`),r=="week"&&(i=(0,Eu.mkExpr)`(${i} + INTERVAL 1 DAY)`,s=(0,Eu.mkExpr)`(${s} + INTERVAL 1 DAY)`),(0,Eu.mkExpr)`DATE_DIFF('${r}', ${i}, ${s})`}sqlNow(){return(0,Eu.mkExpr)`CURRENT_TIMESTAMP`}sqlTrunc(e,t){let r=t=="week",i=r?(0,Eu.mkExpr)`${e.value} + INTERVAL 1 DAY`:e.value,s=(0,Eu.mkExpr)`DATE_TRUNC('${t}', ${i})`;return r?(0,Eu.mkExpr)`(${s} - INTERVAL 1 DAY)`:s}sqlExtract(e,t){let r=wJe[t]||t,i=(0,Eu.mkExpr)`EXTRACT(${r} FROM ${e.value})`;return t=="day_of_week"?(0,Eu.mkExpr)`(${i}+1)`:i}sqlAlterTime(e,t,r,i){i=="quarter"&&(i="month",r=(0,Eu.mkExpr)`${r}*3`),i=="week"&&(i="day",r=(0,Eu.mkExpr)`${r}*7`);let s=(0,Eu.mkExpr)`INTERVAL (${r}) ${i}`;return(0,Eu.mkExpr)`((${t.value})) ${e} ${s}`}sqlCast(e){if(e.dstType!==e.srcType){let t=SJe[e.dstType]||e.dstType;return(0,Eu.mkExpr)`cast(${e.expr} as ${t})`}return e.expr}sqlRegexpMatch(e,t){return(0,Eu.mkExpr)`REGEXP_MATCHES(${e}, ${t})`}sqlLiteralTime(e,t,r){if(t=="date")return`DATE '${e}'`;if(t=="timestamp")return`TIMESTAMP '${e}'`;throw new Error(`Unknown Literal time format ${t}`)}sqlSumDistinct(e,t){return`(
      SELECT sum(a.val) as value
      FROM (
        SELECT UNNEST(list(distinct {key:${e}, val: ${t}})) a
      )
    )`}sqlSampleTable(e,t){if(t!==void 0){if((0,Eu.isSamplingEnable)(t)&&t.enable&&(t=this.defaultSampling),(0,Eu.isSamplingRows)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.rows})`;if((0,Eu.isSamplingPercent)(t))return`(SELECT * FROM ${e} USING SAMPLE ${t.percent} PERCENT (bernoulli))`}return e}sqlOrderBy(e){return`ORDER BY ${e.map(t=>`${t} NULLS LAST`).join(",")}`}};oB.DuckDBDialect=Uye});var $ye=Ae(K7=>{"use strict";m();Object.defineProperty(K7,"__esModule",{value:!0});K7.registerDialect=K7.getDialect=void 0;var CJe=uB(),AJe=AZ(),TJe=iB(),Hye=new Map;function FJe(n){let e=Hye.get(n);if(e===void 0)throw new Error(`Unknown Dialect ${n}`);return e}K7.getDialect=FJe;function aB(n){Hye.set(n.name,n)}K7.registerDialect=aB;aB(new AJe.PostgresDialect);aB(new TJe.StandardSQLDialect);aB(new CJe.DuckDBDialect)});var uB=Ae(ih=>{"use strict";m();Object.defineProperty(ih,"__esModule",{value:!0});ih.registerDialect=ih.getDialect=ih.DuckDBDialect=ih.PostgresDialect=ih.StandardSQLDialect=ih.Dialect=void 0;var DJe=zT();Object.defineProperty(ih,"Dialect",{enumerable:!0,get:function(){return DJe.Dialect}});var OJe=iB();Object.defineProperty(ih,"StandardSQLDialect",{enumerable:!0,get:function(){return OJe.StandardSQLDialect}});var RJe=AZ();Object.defineProperty(ih,"PostgresDialect",{enumerable:!0,get:function(){return RJe.PostgresDialect}});var NJe=zye();Object.defineProperty(ih,"DuckDBDialect",{enumerable:!0,get:function(){return NJe.DuckDBDialect}});var Vye=$ye();Object.defineProperty(ih,"getDialect",{enumerable:!0,get:function(){return Vye.getDialect}});Object.defineProperty(ih,"registerDialect",{enumerable:!0,get:function(){return Vye.registerDialect}})});var Qye=Ae((L7t,Wye)=>{m();(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,r){return t<<r|t>>>32-r},rotr:function(t,r){return t<<32-r|t>>>r},endian:function(t){if(t.constructor==Number)return e.rotl(t,8)&16711935|e.rotl(t,24)&4278255360;for(var r=0;r<t.length;r++)t[r]=e.endian(t[r]);return t},randomBytes:function(t){for(var r=[];t>0;t--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(t){for(var r=[],i=0,s=0;i<t.length;i++,s+=8)r[s>>>5]|=t[i]<<24-s%32;return r},wordsToBytes:function(t){for(var r=[],i=0;i<t.length*32;i+=8)r.push(t[i>>>5]>>>24-i%32&255);return r},bytesToHex:function(t){for(var r=[],i=0;i<t.length;i++)r.push((t[i]>>>4).toString(16)),r.push((t[i]&15).toString(16));return r.join("")},hexToBytes:function(t){for(var r=[],i=0;i<t.length;i+=2)r.push(parseInt(t.substr(i,2),16));return r},bytesToBase64:function(t){for(var r=[],i=0;i<t.length;i+=3)for(var s=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)i*8+o*6<=t.length*8?r.push(n.charAt(s>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],i=0,s=0;i<t.length;s=++i%4)s!=0&&r.push((n.indexOf(t.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<s*2|n.indexOf(t.charAt(i))>>>6-s*2);return r}};Wye.exports=e})()});var FZ=Ae((k7t,Gye)=>{m();var TZ={utf8:{stringToBytes:function(n){return TZ.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(TZ.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var e=[],t=0;t<n.length;t++)e.push(n.charCodeAt(t)&255);return e},bytesToString:function(n){for(var e=[],t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}}};Gye.exports=TZ});var Jye=Ae((I7t,Kye)=>{m();Kye.exports=function(n){return n!=null&&(Yye(n)||LJe(n)||!!n._isBuffer)};function Yye(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function LJe(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&Yye(n.slice(0,0))}});var DZ=Ae((M7t,Xye)=>{m();(function(){var n=Qye(),e=FZ().utf8,t=Jye(),r=FZ().bin,i=function(s,o){s.constructor==String?o&&o.encoding==="binary"?s=r.stringToBytes(s):s=e.stringToBytes(s):t(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var a=n.bytesToWords(s),c=s.length*8,d=1732584193,p=-271733879,E=-1732584194,w=271733878,N=0;N<a.length;N++)a[N]=(a[N]<<8|a[N]>>>24)&16711935|(a[N]<<24|a[N]>>>8)&4278255360;a[c>>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;for(var R=i._ff,U=i._gg,Q=i._hh,P=i._ii,N=0;N<a.length;N+=16){var j=d,I=p,K=E,de=w;d=R(d,p,E,w,a[N+0],7,-680876936),w=R(w,d,p,E,a[N+1],12,-389564586),E=R(E,w,d,p,a[N+2],17,606105819),p=R(p,E,w,d,a[N+3],22,-1044525330),d=R(d,p,E,w,a[N+4],7,-176418897),w=R(w,d,p,E,a[N+5],12,1200080426),E=R(E,w,d,p,a[N+6],17,-1473231341),p=R(p,E,w,d,a[N+7],22,-45705983),d=R(d,p,E,w,a[N+8],7,1770035416),w=R(w,d,p,E,a[N+9],12,-1958414417),E=R(E,w,d,p,a[N+10],17,-42063),p=R(p,E,w,d,a[N+11],22,-1990404162),d=R(d,p,E,w,a[N+12],7,1804603682),w=R(w,d,p,E,a[N+13],12,-40341101),E=R(E,w,d,p,a[N+14],17,-1502002290),p=R(p,E,w,d,a[N+15],22,1236535329),d=U(d,p,E,w,a[N+1],5,-165796510),w=U(w,d,p,E,a[N+6],9,-1069501632),E=U(E,w,d,p,a[N+11],14,643717713),p=U(p,E,w,d,a[N+0],20,-373897302),d=U(d,p,E,w,a[N+5],5,-701558691),w=U(w,d,p,E,a[N+10],9,38016083),E=U(E,w,d,p,a[N+15],14,-660478335),p=U(p,E,w,d,a[N+4],20,-405537848),d=U(d,p,E,w,a[N+9],5,568446438),w=U(w,d,p,E,a[N+14],9,-1019803690),E=U(E,w,d,p,a[N+3],14,-187363961),p=U(p,E,w,d,a[N+8],20,1163531501),d=U(d,p,E,w,a[N+13],5,-1444681467),w=U(w,d,p,E,a[N+2],9,-51403784),E=U(E,w,d,p,a[N+7],14,1735328473),p=U(p,E,w,d,a[N+12],20,-1926607734),d=Q(d,p,E,w,a[N+5],4,-378558),w=Q(w,d,p,E,a[N+8],11,-2022574463),E=Q(E,w,d,p,a[N+11],16,1839030562),p=Q(p,E,w,d,a[N+14],23,-35309556),d=Q(d,p,E,w,a[N+1],4,-1530992060),w=Q(w,d,p,E,a[N+4],11,1272893353),E=Q(E,w,d,p,a[N+7],16,-155497632),p=Q(p,E,w,d,a[N+10],23,-1094730640),d=Q(d,p,E,w,a[N+13],4,681279174),w=Q(w,d,p,E,a[N+0],11,-358537222),E=Q(E,w,d,p,a[N+3],16,-722521979),p=Q(p,E,w,d,a[N+6],23,76029189),d=Q(d,p,E,w,a[N+9],4,-640364487),w=Q(w,d,p,E,a[N+12],11,-421815835),E=Q(E,w,d,p,a[N+15],16,530742520),p=Q(p,E,w,d,a[N+2],23,-995338651),d=P(d,p,E,w,a[N+0],6,-198630844),w=P(w,d,p,E,a[N+7],10,1126891415),E=P(E,w,d,p,a[N+14],15,-1416354905),p=P(p,E,w,d,a[N+5],21,-57434055),d=P(d,p,E,w,a[N+12],6,1700485571),w=P(w,d,p,E,a[N+3],10,-1894986606),E=P(E,w,d,p,a[N+10],15,-1051523),p=P(p,E,w,d,a[N+1],21,-2054922799),d=P(d,p,E,w,a[N+8],6,1873313359),w=P(w,d,p,E,a[N+15],10,-30611744),E=P(E,w,d,p,a[N+6],15,-1560198380),p=P(p,E,w,d,a[N+13],21,1309151649),d=P(d,p,E,w,a[N+4],6,-145523070),w=P(w,d,p,E,a[N+11],10,-1120210379),E=P(E,w,d,p,a[N+2],15,718787259),p=P(p,E,w,d,a[N+9],21,-343485551),d=d+j>>>0,p=p+I>>>0,E=E+K>>>0,w=w+de>>>0}return n.endian([d,p,E,w])};i._ff=function(s,o,a,c,d,p,E){var w=s+(o&a|~o&c)+(d>>>0)+E;return(w<<p|w>>>32-p)+o},i._gg=function(s,o,a,c,d,p,E){var w=s+(o&c|a&~c)+(d>>>0)+E;return(w<<p|w>>>32-p)+o},i._hh=function(s,o,a,c,d,p,E){var w=s+(o^a^c)+(d>>>0)+E;return(w<<p|w>>>32-p)+o},i._ii=function(s,o,a,c,d,p,E){var w=s+(a^(o|~c))+(d>>>0)+E;return(w<<p|w>>>32-p)+o},i._blocksize=16,i._digestsize=16,Xye.exports=function(s,o){if(s==null)throw new Error("Illegal argument "+s);var a=n.wordsToBytes(i(s,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):n.bytesToHex(a)}})()});var kZ=Ae(F2=>{"use strict";m();var kJe=F2&&F2.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(F2,"__esModule",{value:!0});F2.QueryModel=F2.QueryStruct=F2.Segment=void 0;var Zye=qT(),IJe=iB(),MJe=uB(),Lo=im(),$p=UT(),PJe=kJe(DZ());function OZ(n){return`'${n}'`}var J7=class{constructor(e=!0,t){this.withs=[],this.udfs=[],this.pdts=[],this.stagePrefix="__stage",this.parent=t,this.useCTE=e}getName(e){return`${this.stagePrefix}${e}`}root(){return this.parent===void 0?this:this.parent.root()}addStage(e){return this.useCTE?(this.withs.push(e),this.getName(this.withs.length-1)):(this.withs[0]=e,(0,$p.indent)(`
(${e})
`))}addUDF(e,t,r){let{sql:i,lastStageName:s}=e.combineStages(!0);if(s===void 0)throw new Error("Internal Error: no stage to combine");i+=t.sqlCreateFunctionCombineLastStage(s,r);let o=`${t.udfPrefix}${this.root().udfs.length}`;return i=t.sqlCreateFunction(o,i),this.root().udfs.push(i),o}addPDT(e,t){let r=this.combineStages(!1).sql+this.withs[this.withs.length-1],i="scratch."+e+(0,PJe.default)(r);return this.root().pdts.push(t.sqlCreateTableAsSelect(i,r)),i}combineStages(e){if(!this.useCTE)return{sql:this.withs[0],lastStageName:this.withs[0]};let t=this.getName(0),r="WITH ",i="";for(let s=0;s<this.withs.length-(e?0:1);s++){let o=this.withs[s];if(t=this.getName(s),o===void 0)throw new Error(`Expected sql WITH to be present for stage ${t}.`);i+=`${r}${t} AS (
${(0,$p.indent)(o)})
`,r=", "}return{sql:i,lastStageName:t}}generateSQLStages(){let e=this.withs.length-1;if(e<0)throw new Error("No SQL generated");let t=this.udfs.join(`
`),r=this.pdts.join(`
`),i=this.combineStages(!1).sql;return t+r+i+this.withs[e]}generateCoorelatedSubQuery(e,t){return this.useCTE?this.combineStages(!0).sql+e.sqlCreateFunctionCombineLastStage(this.getName(this.withs.length-1),t):e.sqlCreateFunctionCombineLastStage(`(${this.withs[0]})`,t)}},X7=class{constructor(){this.totalGroupSet=-1}withWhere(e){let t=new X7;return t.whereSQL=e,t.applyValue=this.applyValue,t.totalGroupSet=this.totalGroupSet,t}withApply(e){let t=new X7;return t.whereSQL=this.whereSQL,t.applyValue=e,t.totalGroupSet=this.totalGroupSet,t}withTotal(e){let t=new X7;return t.whereSQL=this.whereSQL,t.applyValue=this.applyValue,t.totalGroupSet=e,t}},RZ=class{constructor(e){this.fieldDef=e}getIdentifier(){return(0,Lo.getIdentifier)(this.fieldDef)}getChildByName(e){}},HT=class extends RZ{constructor(e,t){super(e);this.parent=t,this.fieldDef=e}mayNeedUniqueKey(){return!1}getJoinableParent(){let e=this.parent;if(e.fieldDef.structRelationship.type==="inline"){if(e)return e.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return e}caseGroup(e,t){return e.length===0?t:`CASE WHEN group_set${e.length===1?`=${e[0]}`:` IN (${e.join(",")})`} THEN
  ${t}
  END`}getFullOutputName(){return this.parent.getFullOutputName()+this.getIdentifier()}generateFieldFragment(e,t,r,i){let s=t.getFieldByName(r.path);if((0,Lo.hasExpression)(s.fieldDef)){let o=this.generateExpressionFromExpr(e,s.parent,s.fieldDef.e,i);return o.match(/^\(.*\)$/)||(o=`(${o})`),o}else return s.generateExpression(e)}generateParameterFragment(e,t,r,i){let s=t.parameters()[r.path];if((0,Lo.isValueParameter)(s)){if(s.value)return this.generateExpressionFromExpr(e,t,s.value,i)}else if(s.condition)return this.generateExpressionFromExpr(e,t,s.condition,i);throw new Error(`Can't generate SQL, no value for ${r.path}`)}generateFilterFragment(e,t,r,i){let s=new $p.AndChain(i.whereSQL);for(let o of r.filterList)s.add(this.generateExpressionFromExpr(e,t,o.expression,i.withWhere()));return this.generateExpressionFromExpr(e,t,r.e,i.withWhere(s.sql()))}generateDimFragment(e,t,r,i){let s=this.generateExpressionFromExpr(e,t,r.e,i);return i.whereSQL&&(s=`CASE WHEN ${i.whereSQL} THEN ${s} END`),s}generateUngroupedFragment(e,t,r,i){if(i.totalGroupSet!==-1)throw new Error("Already in ALL.  Cannot nest within an all calcuation.");let s,o;if(r.fields&&r.fields.length>0){let E=r.fields.sort().join("|")+r.type;if(o=e.ungroupedSets.get(E),o===void 0)throw new Error(`Internal Error, cannot find groupset with key ${E}`);s=o.groupSet}else s=e.parent?e.parent.groupSet:0;let a=this.generateExpressionFromExpr(e,t,r.e,i.withTotal(s)),c=e.getUngroupPartitions(o),d="",p=c.map(E=>E.getPartitionSQL()).join(", ");return p.length>0&&(d=`PARTITION BY ${p}`),`MAX(${a}) OVER (${d})`}generateDistinctKeyIfNecessary(e,t,r){let i=t;if(r&&(i=this.parent.root().getStructByName(r)),i.needsSymetricCalculation(e))return i.getDistinctKey().generateExpression(e)}generateSumFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath),a;return o?this.parent.dialect.supportsSumDistinctFunction?a=this.parent.dialect.sqlSumDistinct(o,s):a=i3e(this.parent.dialect,s,o):a=`SUM(${s})`,`COALESCE(${a},0)`}generateSymmetricFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i);return`${r.function==="count_distinct"?"count(distinct ":r.function+"("}${s})`}generateAvgFragment(e,t,r,i){let s=this.generateDimFragment(e,t,r,i),o=this.generateDistinctKeyIfNecessary(e,t,r.structPath);if(o){let a=o;i.whereSQL&&(a=`CASE WHEN ${i.whereSQL} THEN ${o} END`);let c;return this.parent.dialect.supportsSumDistinctFunction?c=this.parent.dialect.sqlSumDistinct(o,s):c=i3e(this.parent.dialect,s,o),`(${c})/NULLIF(COUNT(DISTINCT ${a}),0)`}else return`AVG(${s})`}generateCountFragment(e,t,r,i){let s="COUNT(",o="1",a=this.generateDistinctKeyIfNecessary(e,t,r.structPath);return a&&(s="COUNT(DISTINCT",o=a),i.whereSQL?`${s} CASE WHEN ${i.whereSQL} THEN ${o} END)`:`${s} ${o})`}generateDialect(e,t,r,i){return this.generateExpressionFromExpr(e,t,t.dialect.dialectExpr(r),i)}generateExpressionFromExpr(e,t,r,i=new X7){let s="";for(let o of r)if(typeof o=="string")s+=o;else if((0,Lo.isFieldFragment)(o))s+=this.generateFieldFragment(e,t,o,i);else if((0,Lo.isParameterFragment)(o))s+=this.generateParameterFragment(e,t,o,i);else if((0,Lo.isFilterFragment)(o))s+=this.generateFilterFragment(e,t,o,i);else if((0,Lo.isUngroupFragment)(o))s+=this.generateUngroupedFragment(e,t,o,i);else if((0,Lo.isAggregateFragment)(o)){let a;if(o.function==="sum")a=this.generateSumFragment(e,t,o,i);else if(o.function==="avg")a=this.generateAvgFragment(e,t,o,i);else if(o.function==="count")a=this.generateCountFragment(e,t,o,i);else if(["count_distinct","min","max"].includes(o.function))a=this.generateSymmetricFragment(e,t,o,i);else throw new Error(`Internal Error: Unknown aggregate function ${o.function}`);if(e.root().isComplexQuery){let c=e.groupSet;i.totalGroupSet!==-1&&(c=i.totalGroupSet),s+=this.caseGroup([c],a)}else s+=a}else if((0,Lo.isApplyFragment)(o)){let a=this.generateExpressionFromExpr(e,t,o.value,i);s+=this.generateExpressionFromExpr(e,t,o.to,i.withApply(a))}else if((0,Lo.isApplyValue)(o))if(i.applyValue)s+=i.applyValue;else throw new Error("Internal Error: Partial application value referenced but not provided");else if(o.type=="dialect")s+=this.generateDialect(e,t,o,i);else throw new Error(`Internal Error: Unknown expression fragment ${JSON.stringify(o,void 0,2)}`);return s}getExpr(){return(0,Lo.hasExpression)(this.fieldDef)?this.fieldDef.e:[this.parent.dialect.sqlFieldReference(this.parent.getSQLIdentifier(),this.fieldDef.name,this.fieldDef.type,this.parent.fieldDef.structSource.type==="nested"||this.parent.fieldDef.structSource.type==="inline"||this.parent.fieldDef.structSource.type==="sql"&&this.parent.fieldDef.structSource.method==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray)]}generateExpression(e){return this.generateExpressionFromExpr(e,this.parent,this.getExpr())}};function N_(n){return n instanceof S0&&n.isAggregate()}function E0(n){return n instanceof S0&&!n.isAggregate()}var S0=class extends HT{includeInWildcard(){return!0}isAggregate(){return this.fieldDef.aggregate!==void 0&&this.fieldDef.aggregate===!0}getFilterList(){return[]}hasExpression(){return(0,Lo.hasExpression)(this.fieldDef)}},e3e=class extends S0{},t3e=class extends S0{},lB=class extends S0{},cB=class extends S0{constructor(e,t,r){super(e,t);this.primaryKey=r}getName(){return(0,Lo.getIdentifier)(this.fieldDef)}getAsJoinedStructDef(e){return{...this.parent.fieldDef,structRelationship:{type:"one",onExpression:[{type:"field",path:this.primaryKey},"=",{type:"field",path:e}]}}}},$T=class extends S0{generateExpression(e){let t=this.fieldDef;if(t.timeframe){let r=this.parent.dialect.sqlTrunc({value:this.getExpr(),valueType:"date"},t.timeframe);return this.generateExpressionFromExpr(e,this.parent,r)}else return super.generateExpression(e)}getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new $T(t,this.parent)}},VT=class extends S0{getChildByName(e){let t={...this.fieldDef,as:`${this.getIdentifier()}_${e}`,timeframe:e};return new VT(t,this.parent)}},n3e=class extends S0{generateExpression(e){var t;return this.parent.primaryKey()?this.parent.getPrimaryKeyField(this.fieldDef).generateExpression(e):this.parent.fieldDef.structSource.type==="nested"?`CONCAT(${(t=this.parent.parent)===null||t===void 0?void 0:t.getDistinctKey().generateExpression(e)}, 'x', ${this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__row_id","string",!0,!1)})`:this.parent.dialect.sqlFieldReference(this.parent.getIdentifier(),"__distinct_key","string",this.parent.fieldDef.structRelationship.type==="nested",!1)}includeInWildcard(){return!1}},r3e=9;function i3e(n,e,t){let r=9,i=n.sqlSumDistinctHashedKey(t),s=10**(r-r3e),a=`(${`
  (
    SUM(DISTINCT
      (CAST(ROUND(COALESCE(${e},0)*(${s}*1.0), ${r3e}) AS NUMERIC) +
      ${i}
    ))
    -
     SUM(DISTINCT ${i})
  )`}/(${s}*1.0))`;return a=`CAST(${a} as ${n.defaultNumberType})`,a}var w0=class{constructor(e,t,r){this.type="field",this.additionalGroupSets=[],this.f=e,this.fieldUsage=t,this.parent=r}root(){return this.parent.root()}getSQL(){let e=this.f.generateExpression(this.parent);return E0(this.f)&&(e=this.f.caseGroup(this.parent.childGroups.concat(this.additionalGroupSets),e)),e}getPartitionSQL(){return this.partitionSQL===void 0?this.getSQL():this.partitionSQL}},sm=class{constructor(e,t){this.type="query",this.allFields=new Map,this.groupSet=0,this.depth=0,this.childGroups=[],this.hasHaving=!1,this.ungroupedSets=new Map,this.resultUsesUngrouped=!1,this.parent=t,this.turtleDef=e,this.firstSegment=e.pipeline[0]}addField(e,t,r){let i;if(i=this.allFields.get(e)){if(i.type==="query")throw new Error(`Redefinition of field ${t.fieldDef.name} as struct`);if(i.fieldUsage.type==="result"){if(r.type!=="result")return;throw new Error(`Ambiguous output field name '${t.fieldDef.name}'.`)}}this.add(e,new w0(t,r,this))}parentGroupSet(){return this.parent?this.parent.groupSet:0}add(e,t){this.allFields.set(e,t)}hasField(e){let t=this.allFields.get(e);return t!==void 0&&t instanceof w0}getField(e){let t=this.allFields.get(e);if(t===void 0)throw new Error(`Internal Error, field Not defined ${e}`);if(t instanceof w0)return t;throw new Error(`can't use a query here ${e}`)}getFieldByNumber(e){for(let[t,r]of this.allFields)if(r instanceof w0&&r.fieldUsage.type==="result"&&r.fieldUsage.resultIndex===e)return{name:t,fif:r};throw new Error(`Invalid Order By index '${e}`)}computeGroups(e,t){e===0&&this.resultUsesUngrouped&&this.root().computeOnlyGroups.push(e++);for(let[o,a]of this.ungroupedSets){let c=e++;a.groupSet=c,this.root().computeOnlyGroups.push(c)}this.groupSet=e++,this.depth=t;let r=t,i=!1,s=[this.groupSet];for(let[o,a]of this.allFields)if(a.type==="query"){let c=a;if(i=!0,c.firstSegment.type==="reduce"){let d=c.computeGroups(e,t+1);s=s.concat(d.children),e=d.nextGroupSetNumber,d.maxDepth>r&&(r=d.maxDepth)}}return this.childGroups=s,{nextGroupSetNumber:e,maxDepth:r,children:s,isComplex:i}}fields(e=void 0){let t=[];for(let r of this.allFields.values())r instanceof w0&&(e===void 0||e(r))&&t.push(r);return t}fieldNames(e){let t=[];for(let[r,i]of this.allFields)i instanceof w0&&(e===void 0||e(i))&&t.push(r);return t}getRepeatedResultType(){let e="inline_all_numbers";for(let t of this.fields())if(t.fieldUsage.type==="result"){if(E0(t.f))return"nested";t.f instanceof Bc&&(e="inline")}return e}structs(){let e=[];for(let t of this.allFields.values())t instanceof sm&&e.push(t);return e}selectStructs(e,t){t(this)&&e.push(this);for(let r of this.structs())r.selectStructs(e,t);return e}calculateDefaultOrderBy(){let e;for(let[t,r]of this.allFields)if(r instanceof w0&&r.fieldUsage.type==="result"){if(e||(e=r.fieldUsage.resultIndex),["date","timestamp"].indexOf(r.f.fieldDef.type)>-1)return[{dir:"desc",field:r.fieldUsage.resultIndex}];if(N_(r.f))return[{dir:"desc",field:r.fieldUsage.resultIndex}]}return e?[{dir:"asc",field:e}]:[]}addStructToJoin(e,t,r,i){var s;let o=e.getIdentifier();if(i.indexOf(o)!==-1)return;let a;if(a=this.root().joins.get(o)){a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r);return}let c,d=(s=e.parent)===null||s===void 0?void 0:s.getJoinableParent();d&&(this.addStructToJoin(d,t,!1,i),c=this.root().joins.get(d.getIdentifier()));let p=e.fieldDef.structRelationship;(0,Lo.isJoinOn)(p)&&e.parent&&p.onExpression!==void 0&&i.indexOf(o)===-1&&t.addDependantExpr(this,e.parent,p.onExpression,[...i,o]),(a=this.root().joins.get(o))||(a=new o3e(e,o,c),this.root().joins.set(o,a)),a.mayNeedUniqueKey||(a.mayNeedUniqueKey=r)}findJoins(e){for(let t of this.fields())this.addStructToJoin(t.f.getJoinableParent(),e,t.f.mayNeedUniqueKey(),[]);for(let t of this.structs())t.findJoins(e)}root(){if(this.parent)return this.parent.root();throw new Error("Internal Error, Null parent FieldInstanceResult")}getUngroupPartitions(e){let t=[],r=this,i=[],s=[];if(e===void 0||e.type==="all"){let a=(e==null?void 0:e.fields)||[];i=this.fields(c=>E0(c.f)&&c.fieldUsage.type==="result"&&a.indexOf(c.f.getIdentifier())===-1).map(c=>c.f.getIdentifier())}else i=e.fields;let o=!0;for(;r!==void 0;)(o||(e==null?void 0:e.type)==="exclude")&&(s=s.concat(r.fields(a=>E0(a.f)&&a.fieldUsage.type==="result").map(a=>a.f.getIdentifier()))),t=t.concat(r.fields(a=>E0(a.f)&&a.fieldUsage.type==="result"&&i.indexOf(a.f.getIdentifier())===-1)),r=r.parent,o=!1;for(let a of(e==null?void 0:e.fields)||[])if(s.indexOf(a)===-1)throw new Error(`${e==null?void 0:e.type}(): unknown field name "${a}" or name not in scope.`);return t}assignFieldsToGroups(){for(let[e,t]of this.ungroupedSets)for(let r of this.getUngroupPartitions(t))r.additionalGroupSets.push(t.groupSet);for(let e of this.structs())e.assignFieldsToGroups()}},s3e=class extends sm{constructor(e){super(e,void 0);this.joins=new Map,this.havings=new $p.AndChain,this.isComplexQuery=!1,this.queryUsesUngrouped=!1,this.computeOnlyGroups=[],this.elimatedComputeGroups=!1}root(){return this}eliminateComputeGroupsSQL(){return this.elimatedComputeGroups||this.computeOnlyGroups.length==0?"":(this.elimatedComputeGroups=!0,`group_set NOT IN (${this.computeOnlyGroups.join(",")})`)}calculateSymmetricAggregates(){let e;for(let[t,r]of this.joins)if(r.parentRelationship()==="many_to_many")e="0never";else if(e===void 0)e=t;else if(r.parentRelationship()==="one_to_many"){let s=r.queryStruct;s.parent&&s.parent.getIdentifier()===e?e=t:e="0never"}for(let[t,r]of this.joins)r.leafiest=t===e;for(let[t,r]of this.joins)if(!r.leafiest&&r.mayNeedUniqueKey){let i=r;for(;i;)i.queryStruct.primaryKey()||(i.makeUniqueKey=!0),i.queryStruct.fieldDef.structRelationship.type==="nested"?i=i.parent:i=void 0}}},o3e=class{constructor(e,t,r){if(this.mayNeedUniqueKey=!1,this.makeUniqueKey=!1,this.leafiest=!1,this.children=[],this.queryStruct=e,this.parent=r,this.alias=t,r&&r.children.push(this),this.queryStruct.fieldDef.filterList)for(let i of this.queryStruct.fieldDef.filterList){this.joinFilterConditions=[];let s=new lB({type:"boolean",name:"ignoreme",e:i.expression},this.queryStruct);this.joinFilterConditions.push(s)}}parentRelationship(){if(this.queryStruct.parent===void 0)return"root";switch(this.queryStruct.fieldDef.structRelationship.type){case"one":return"many_to_one";case"cross":return"many_to_many";case"many":return"one_to_many";case"nested":return"one_to_many";case"inline":return"one_to_one";default:throw new Error(`Internal error unknown relationship type to parent for ${this.queryStruct.fieldDef.name}`)}}getDialectFieldList(){let e=[];for(let t of this.queryStruct.fieldDef.fields.filter(Lo.isPhysical))e.push({type:t.type,sqlExpression:(0,Lo.getIdentifier)(t),sqlOutputName:(0,Lo.getIdentifier)(t)});return e}},NZ=class extends HT{},a3e=class{static nextStructDef(e,t){let r=new Bc(e,{model:new LZ(void 0)}),i={type:"turtle",name:"ignoreme",pipeline:[t]};return sh.makeQuery(i,r,new J7(!0,void 0)).getResultStructDef()}};F2.Segment=a3e;var sh=class extends HT{constructor(e,t,r){super(e,t);this.prepared=!1,this.maxDepth=0,this.maxGroupSet=0,this.fieldDef=e,this.rootResult=new s3e(e),this.stageWriter=r,this.firstSegment=e.pipeline[0]}static makeQuery(e,t,r=void 0){let i=t.flattenTurtleDef(e),s=t,o=i.pipeline[0];switch(r!==void 0&&(0,Lo.isQuerySegment)(o)&&o.extendSource!==void 0&&(s=new Bc({...t.fieldDef,fields:[...t.fieldDef.fields,...o.extendSource]},s.parent?{struct:s}:{model:s.model}),i={...i,pipeline:[{...o,extendSource:void 0},...i.pipeline.slice(1)]}),o.type){case"reduce":return new u3e(i,s,r);case"project":return new l3e(i,s,r);case"index":return new c3e(i,s,r)}}getFieldList(){switch(this.firstSegment.type){case"reduce":return this.firstSegment.fields;case"project":return this.firstSegment.fields;default:throw new Error(`Query contains no fields ${JSON.stringify(this.fieldDef)}`)}}expandField(e){let t,r;if(typeof e=="string")r=this.parent.getQueryFieldByName(e);else if("type"in e)r=this.parent.makeQueryField(e);else if("name"in e&&"as"in e){if(r=this.parent.getQueryFieldByName(e.name),t=r.fieldDef.as||e.as,r instanceof cB)throw new Error("Syntax currently disallowed. Semantics up for discussion");let i;if(r instanceof sh){let s=(0,Zye.cloneDeep)(r.fieldDef);s.as=e.name,s.filterList=e.filterList,r=sh.makeQuery(s,this.parent)}else if(!(r instanceof VT||r instanceof $T)){i=[{type:"field",path:r.getFullOutputName()}],"filterList"in e&&e.filterList&&(i=[{type:"filterExpression",filterList:e.filterList,e:i}]);let s={type:r.fieldDef.type,name:e.as,e:i,aggregate:N_(r)};r=this.parent.makeQueryField(s)}}else throw new Error(`Unrecognized field definition ${JSON.stringify(e,void 0,2)}`);return t||(t=r.getIdentifier()),{as:t,field:r}}expandDependantField(e,t){this.expandField(t)}expandWildCardStruct(e,t,r=void 0){let i=[],s=[];for(let[o,a]of e.nameMap)a instanceof S0&&E0(a)&&a.includeInWildcard()&&!this.parent.dialect.ignoreInProject(a.fieldDef.name)&&(!r||r(a))?i.push(a.getFullOutputName()):a instanceof Bc&&t&&s.push(a);for(let o of s)i=i.concat(this.expandWildCardStruct(o,t,r));return i}expandWildCards(e,t=void 0){let r=[];for(let i of e)if(typeof i!="string")r.push(i);else{let o=i.split(".");if(!o[o.length-1].startsWith("*"))r.push(i);else{let a=o.pop()==="**",c=this.parent,d;for(;o.length>0&&(d=o.shift());){let p=c.getChildByName(d);if(p===void 0)throw new Error(`Nested explore not found '${d}'`);if(p instanceof Bc)c=p;else throw new Error(`'${d}' is not an explore object`)}r=r.concat(this.expandWildCardStruct(c,a,t))}}return r}addDependantPath(e,t,r,i,s){let o=t.getFieldByName(r),a;if(o instanceof HT)a=o.parent;else if(o instanceof Bc)a=o;else throw new Error("Internal Error:  Unknown object type");e.root().addStructToJoin(a.getJoinableParent(),this,i,s)}addDependantExpr(e,t,r,i){for(let s of r)if((0,Lo.isUngroupFragment)(s)){if(e.resultUsesUngrouped=!0,e.root().isComplexQuery=!0,e.root().queryUsesUngrouped=!0,s.fields&&s.fields.length>0){let o=s.fields.sort().join("|")+s.type;e.ungroupedSets.get(o)===void 0&&e.ungroupedSets.set(o,{type:s.type,fields:s.fields,groupSet:-1})}this.addDependantExpr(e,t,s.e,i)}else if((0,Lo.isFieldFragment)(s)){let o=t.getDimensionOrMeasureByName(s.path);(0,Lo.hasExpression)(o.fieldDef)?this.addDependantExpr(e,o.parent,o.fieldDef.e,i):e.root().addStructToJoin(o.parent.getJoinableParent(),this,!1,i)}else if((0,Lo.isFilterFragment)(s))for(let o of s.filterList)this.addDependantExpr(e,t,o.expression,i);else if((0,Lo.isDialectFragment)(s)){let o=[];switch(s.function){case"now":break;case"div":o.push(s.denominator),o.push(s.numerator);break;case"timeLiteral":break;case"timeDiff":o.push(s.left.value,s.right.value);break;case"delta":o.push(s.base.value,s.delta);break;case"trunc":case"extract":o.push(s.expr.value);break;case"regexpMatch":case"cast":o.push(s.expr);break;default:throw new Error("Unknown dialect Fragment type.  Can't generate dependancies")}for(let a of o)this.addDependantExpr(e,t,a,i)}else(0,Lo.isAggregateFragment)(s)&&((0,Lo.isAsymmetricFragment)(s)&&(s.structPath?this.addDependantPath(e,t,s.structPath,!0,i):e.addStructToJoin(t,this,!0,i)),this.addDependantExpr(e,t,s.e,i))}addDependancies(e,t){(0,Lo.hasExpression)(t.fieldDef)&&this.addDependantExpr(e,t.parent,t.fieldDef.e,[])}expandFields(e){let t=1;for(let r of this.expandWildCards(e.firstSegment.fields)){let{as:i,field:s}=this.expandField(r);if(s instanceof NZ||s instanceof sh){if(this.firstSegment.type==="project")throw new Error(`Turtled Queries cannot be used in PROJECT - '${s.fieldDef.name}'`);let o=new sm(s.fieldDef,e);this.expandFields(o),e.add(i,o)}else if(s instanceof S0&&(e.addField(i,s,{resultIndex:t,type:"result"}),this.addDependancies(e,s),N_(s)&&this.firstSegment.type==="project"))throw new Error(`Aggregate Fields cannot be used in PROJECT - '${s.fieldDef.name}'`);t++}this.expandFilters(e)}expandFilters(e){if(e.firstSegment.filterList!==void 0){for(let t of e.firstSegment.filterList||[]){let r=this.parent;this.addDependantExpr(e,r,t.expression,[])}for(let t of e.root().joins.values()||[])for(let r of t.joinFilterConditions||[])r.fieldDef.type==="boolean"&&r.fieldDef.e&&this.addDependantExpr(e,r.parent,r.fieldDef.e,[])}}generateSQLFilters(e,t,r=void 0){let i=new $p.AndChain,s=r||e.firstSegment.filterList;if(s===void 0)return i;for(let o of s||[]){let a=this.parent;if(t==="having"&&o.aggregate||t==="where"&&!o.aggregate){let c=this.generateExpressionFromExpr(e,a,o.expression,void 0);i.add(c)}}return i}prepare(e){this.prepared||(this.expandFields(this.rootResult),this.rootResult.findJoins(this),this.rootResult.calculateSymmetricAggregates(),this.prepared=!0)}getResultMetadata(e){if(e instanceof w0){if(e.fieldUsage.type==="result"){let t=e.f.fieldDef,r,i=e.f.parent.getFullOutputName()+(t.name||t.as),s=t.code,o=[i];return N_(e.f)?(r=e.f.getFilterList(),{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"measure"}):E0(e.f)?{sourceField:i,sourceExpression:s,filterList:r,sourceClasses:o,fieldKind:"dimension"}:void 0}return}else if(e instanceof sm){let t=e.turtleDef.name||e.turtleDef.as,r=t?[t]:[],i=e.firstSegment.filterList,s=e.turtleDef.pipeline[e.turtleDef.pipeline.length-1].limit;if(t)return{sourceField:t,filterList:i,sourceClasses:r,fieldKind:"struct",limit:s}}}getResultStructDef(e=this.rootResult,t=!0){let r=[],i;this.prepare(void 0);let s=0;for(let[o,a]of e.allFields){let c=this.getResultMetadata(a);if(a instanceof sm){let{structDef:d}=this.generateTurtlePipelineSQL(a,new J7(!0,void 0),"<nosource>"),p=a.getRepeatedResultType()==="nested"?"nested":"inline";d.name=o,d.structRelationship={field:o,type:p,isArray:!1},d.structSource={type:p},d.resultMetadata=c,r.push(d)}else if(a instanceof w0&&a.fieldUsage.type==="result"){a.f instanceof cB&&r.push(a.f.getAsJoinedStructDef(o)),E0(a.f)&&(s===0&&t?i=o:i=void 0,s++);let d=a.f.fieldDef.location;switch(a.f.fieldDef.type){case"boolean":case"string":r.push({name:o,type:a.f.fieldDef.type,resultMetadata:c,location:d});break;case"timestamp":{let p=a.f.fieldDef.timeframe;switch(p){case"year":case"month":case"week":case"quarter":case"day":r.push({name:o,type:"date",timeframe:p,resultMetadata:c,location:d});break;case"second":case"minute":case"hour":r.push({name:o,type:"timestamp",timeframe:p,resultMetadata:c,location:d});break;default:r.push({name:o,type:"timestamp",resultMetadata:c,location:d});break}break}case"date":{r.push({name:o,type:a.f.fieldDef.type,timeframe:a.f.fieldDef.timeframe,resultMetadata:c,location:d});break}case"number":r.push({name:o,numberType:a.f.fieldDef.numberType,type:"number",resultMetadata:c,location:d});break;default:throw new Error(`unknown Field Type in query ${JSON.stringify(a.f.fieldDef)}`)}}}return{fields:r,name:this.resultStage||"result",dialect:this.parent.dialect.name,primaryKey:i,structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"},resultMetadata:this.getResultMetadata(this.rootResult),type:"struct"}}generateSQLJoinBlock(e,t){let r="",i=t.queryStruct,s=i.fieldDef.structRelationship,o=i.structSourceSQL(e);if((0,Lo.isJoinOn)(s)){t.makeUniqueKey&&(o=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${o})`);let a="";if(i.parent===void 0)throw new Error("Expected joined struct to have a parent.");s.onExpression?a=new lB({type:"boolean",name:"ignoreme",e:s.onExpression},i.parent).generateExpression(this.rootResult):a="1=1";let c="",d;if(t.joinFilterConditions&&(d=t.joinFilterConditions.map(p=>p.generateExpression(this.rootResult))),t.children.length===0||d===void 0)d!==void 0&&d.length>=1&&(c=` AND (${d.join(" AND ")})`),r+=`LEFT JOIN ${o} AS ${t.alias}
  ON ${a}${c}
`;else{let p=`SELECT ${t.alias}.*`,E="";for(let w of t.children){E+=this.generateSQLJoinBlock(e,w);let N=(0,Lo.getPhysicalFields)(w.queryStruct.fieldDef).map(R=>this.parent.dialect.sqlMaybeQuoteIdentifier(R.name));p+=`, ${this.parent.dialect.sqlSelectAliasAsStruct(w.alias,N)} AS ${w.alias}`}return p+=`
FROM ${o} AS ${t.alias}
${E}
WHERE ${d==null?void 0:d.join(" AND ")}
`,r+=`LEFT JOIN (
${(0,$p.indent)(p)}) AS ${t.alias}
  ON ${a}
`,r}}else if(s.type==="nested"){if(i.parent===void 0||t.parent===void 0)throw new Error("Internal Error, nested structure with no parent.");let a=this.parent.dialect.sqlFieldReference(i.parent.getSQLIdentifier(),s.field,"struct",i.parent.fieldDef.structRelationship.type==="nested",this.parent.fieldDef.structRelationship.type==="nested"&&this.parent.fieldDef.structRelationship.isArray);r+=`${this.parent.dialect.sqlUnnestAlias(a,t.alias,t.getDialectFieldList(),t.makeUniqueKey,s.isArray)}
`}else throw s.type==="inline"?new Error("Internal Error: inline structs should never appear in join trees"):new Error(`Join type not implemented ${JSON.stringify(i.fieldDef.structRelationship)}`);for(let a of t.children)r+=this.generateSQLJoinBlock(e,a);return r}generateSQLJoins(e){let t="",[[,r]]=this.rootResult.joins,i=r.queryStruct,s=i.structSourceSQL(e);if((0,Lo.isIndexSegment)(this.firstSegment)&&(s=this.parent.dialect.sqlSampleTable(s,this.firstSegment.sample)),i.fieldDef.structRelationship.type==="basetable")r.makeUniqueKey&&(s=`(SELECT ${i.dialect.sqlGenerateUUID()} as __distinct_key, * FROM ${s} as x)`),t+=`FROM ${s} as ${this.parent.getIdentifier()}
`;else throw new Error("Internal Error, queries must start from a basetable");for(let a of r.children)t+=this.generateSQLJoinBlock(e,a);return t}genereateSQLOrderBy(e,t){let r="";if(this.firstSegment.type==="project"&&!e.orderBy)return"";let i=e.orderBy||t.calculateDefaultOrderBy(),s=[];for(let o of i)if(typeof o.field=="string"){let a=t.getField(o.field);if(a&&a.fieldUsage.type==="result")s.push(`${a.fieldUsage.resultIndex} ${o.dir||"ASC"}`);else throw new Error(`Unknown field in ORDER BY ${o.field}`)}else s.push(`${o.field} ${o.dir||"ASC"}`);return s.length>0&&(r=this.parent.dialect.sqlOrderBy(s)+`
`),r}generateSimpleSQL(e){let t="";t+=`SELECT 
`;let r=[];for(let[i,s]of this.rootResult.allFields){let o=s,a=this.parent.dialect.sqlMaybeQuoteIdentifier(i);o.fieldUsage.type==="result"&&r.push(` ${o.f.generateExpression(this.rootResult)} as ${a}`)}if(t+=(0,$p.indent)(r.join(`,
`))+`
`,t+=this.generateSQLJoins(e),t+=this.generateSQLFilters(this.rootResult,"where").sql("where"),this.firstSegment.type==="reduce"){let i=[];for(let s of this.rootResult.fields()){let o=s;o.fieldUsage.type==="result"&&E0(o.f)&&i.push(o.fieldUsage.resultIndex.toString())}i.length>0&&(t+=`GROUP BY ${i.join(",")}
`)}return t+=this.generateSQLFilters(this.rootResult,"having").sql("having"),t+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(t+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(t),this.resultStage}generatePipelinedStages(e,t,r){if(e.length===0)return t;let i=e.map(s=>`${s.pipelineSQL} as ${s.sqlFieldName}
      `).join(`,
`);return r.addStage(`SELECT * replace (${i}) FROM ${t}
      `)}generateStage0Fields(e,t,r){for(let[s,o]of e.allFields){let a=this.parent.dialect.sqlMaybeQuoteIdentifier(`${s}__${e.groupSet}`);if(o instanceof w0){if(o.fieldUsage.type==="result"){let c=o.getSQL();if(E0(o.f)){if(this.parent.dialect.name==="standardsql"&&this.rootResult.queryUsesUngrouped)if(o.f.fieldDef.type==="number"){t.sql.push(`${c} as ${a}`);let d=`__lateral_join_bag.${a}_string`;t.sql.push(d),t.dimensionIndexes.push(t.fieldIndex++),t.lateralJoinSQLExpressions.push(`CAST(${c} as STRING) as ${a}_string`),o.partitionSQL=d}else{let d=`__lateral_join_bag.${a}`;o.partitionSQL=d,t.lateralJoinSQLExpressions.push(`${c} as ${a}`),t.sql.push(d)}else t.sql.push(`${c} as ${a}`);t.dimensionIndexes.push(t.fieldIndex++)}else N_(o.f)&&(t.sql.push(`${c} as ${a}`),t.fieldIndex++)}}else if(o instanceof sm){if(o.firstSegment.type==="reduce")this.generateStage0Fields(o,t,r);else if(o.firstSegment.type==="project"){let c=this.generateTurtleSQL(o,r,a,t.outputPipelinedSQL);t.sql.push(`${c} as ${a}`),t.fieldIndex++}}}let i=this.generateSQLFilters(e,"having");i.empty()||(e.childGroups.length===1?e.root().havings.add(`(group_set<>${e.groupSet} OR (group_set=${e.groupSet} AND ${i.sql()}))`):(e.hasHaving=!0,t.sql.push(`CASE WHEN group_set=${e.groupSet} THEN CASE WHEN ${i.sql()} THEN 0 ELSE 1 END END as __delete__${e.groupSet}`),t.fieldIndex++))}generateSQLWhereChildren(e){let t=new $p.AndChain;for(let[,r]of e.allFields)if(r.type==="query"){let i=r,s=this.generateSQLFilters(i,"where");if(s.present()){let o=i.childGroups.join(",");t.add(`(group_set NOT IN (${o}) OR (group_set IN (${o}) AND ${s.sql()}))`)}t.addChain(this.generateSQLWhereChildren(i))}return t}generateSQLWhereTurtled(){let e=this.generateSQLFilters(this.rootResult,"where");return e.addChain(this.generateSQLWhereChildren(this.rootResult)),e.sql("where")}generateSQLHavingLimit(e,t){let r=[],i=this.rootResult.selectStructs([],s=>s.hasHaving);if(i.length>0)for(let s of i){let o=[],a=s;for(;a;){for(let c of a.fieldNames(d=>E0(d.f)))o.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${c}__${a.groupSet}`));a=a.parent}r.push(`MAX(CASE WHEN group_set IN (${s.childGroups.join(",")}) THEN __delete__${s.groupSet} END) OVER(partition by ${o.map(c=>`CAST(${c} AS ${this.parent.dialect.stringTypeName}) `).join(",")}) as __shaving__${s.groupSet}`)}if(i.length>0){t=e.addStage(`SELECT
  *,
  ${r.join(`,
  `)} 
FROM ${t}`);let s=new $p.AndChain;for(let o of i)s.add(`group_set IN (${o.childGroups.join(",")}) AND __shaving__${o.groupSet}=1`);t=e.addStage(`SELECT *
FROM ${t}
WHERE NOT (${s.sqlOr()})`)}return t}generateSQLStage0(e){let t=`SELECT
`,r=this.generateSQLJoins(e),i=this.generateSQLWhereTurtled(),s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};if(this.generateStage0Fields(this.rootResult,s,e),this.firstSegment.type==="project")throw new Error("PROJECT cannot be used on queries with turtles");let o="GROUP BY "+s.dimensionIndexes.join(",")+`
`;r+=this.parent.dialect.sqlGroupSetTable(this.maxGroupSet)+`
`,t+=(0,$p.indent)(s.sql.join(`,
`))+`
`,s.lateralJoinSQLExpressions.length>0&&(r+=`LEFT JOIN UNNEST([STRUCT(${s.lateralJoinSQLExpressions.join(`,
`)})]) as __lateral_join_bag
`),t+=r+i+o+this.rootResult.havings.sql("having");let a=e.addStage(t);return this.resultStage=this.generateSQLHavingLimit(e,a),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,e),this.resultStage}generateDepthNFields(e,t,r,i){let s=[];for(let[o,a]of t.allFields){let c=this.parent.dialect.sqlMaybeQuoteIdentifier(`${o}__${t.groupSet}`);if(a instanceof w0){if(a.fieldUsage.type==="result"){if(E0(a.f)){let d=this.caseGroup(t.groupSet>0?t.childGroups:[],c);r.sql.push(`${d} as ${c}`),r.dimensionIndexes.push(r.fieldIndex++)}else if(N_(a.f)){let d=this.parent.dialect.sqlAnyValue(t.groupSet,c);r.sql.push(`${d} as ${c}`),r.fieldIndex++}}}else if(a instanceof sm&&!(a.depth>e))if(a.depth===e){let d=this.generateTurtleSQL(a,i,c,r.outputPipelinedSQL);r.groupsAggregated.push({fromGroup:a.groupSet,toGroup:t.groupSet}),s.push(a.groupSet),r.sql.push(`${d} as ${c}`),r.fieldIndex++}else this.generateDepthNFields(e,a,r,i)}if(r.groupsAggregated.length>0){r.sql[0]="CASE ";for(let o of r.groupsAggregated)r.sql[0]+=`WHEN group_set=${o.fromGroup} THEN ${o.toGroup} `;r.sql[0]+=" ELSE group_set END as group_set"}}generateSQLDepthN(e,t,r){let i=`SELECT 
`,s={dimensionIndexes:[1],fieldIndex:2,sql:["group_set"],lateralJoinSQLExpressions:[],groupsAggregated:[],outputPipelinedSQL:[]};this.generateDepthNFields(e,this.rootResult,s,t),i+=(0,$p.indent)(s.sql.join(`,
`))+`
`,i+=`FROM ${r}
`;let o=this.rootResult.eliminateComputeGroupsSQL();return o.length>0&&(i+=`WHERE ${o}
`),s.dimensionIndexes.length>0&&(i+=`GROUP BY ${s.dimensionIndexes.join(",")}
`),this.resultStage=t.addStage(i),this.resultStage=this.generatePipelinedStages(s.outputPipelinedSQL,this.resultStage,t),this.resultStage}genereateSQLCombineTurtles(e,t){let r=`SELECT
`,i=[],s=1,o=[],a=[];for(let[d,p]of this.rootResult.allFields){let E=this.parent.dialect.sqlMaybeQuoteIdentifier(d);p instanceof w0?p.fieldUsage.type==="result"&&(E0(p.f)?(i.push(this.parent.dialect.sqlMaybeQuoteIdentifier(`${d}__${this.rootResult.groupSet}`)+` as ${E}`),a.push(s++)):N_(p.f)&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(d,this.rootResult.groupSet,E)),s++)):p instanceof sm&&(p.firstSegment.type==="reduce"?(i.push(`${this.generateTurtleSQL(p,e,E,o)} as ${E}`),s++):p.firstSegment.type==="project"&&(i.push(this.parent.dialect.sqlAnyValueLastTurtle(d,this.rootResult.groupSet,E)),s++))}r+=(0,$p.indent)(i.join(`,
`))+`
FROM ${t}
`;let c=this.rootResult.eliminateComputeGroupsSQL();return c.length>0&&(r+=`WHERE ${c}
`),a.length>0&&(r+=`GROUP BY ${a.join(",")}
`),r+=this.genereateSQLOrderBy(this.firstSegment,this.rootResult),this.firstSegment.limit&&(r+=`LIMIT ${this.firstSegment.limit}
`),this.resultStage=e.addStage(r),this.resultStage=this.generatePipelinedStages(o,this.resultStage,e),this.resultStage}generateTurtleSQL(e,t,r,i){let s=[],o="",a=e.firstSegment.limit,c=[],d,p=e.firstSegment.orderBy||e.calculateDefaultOrderBy();for(let Q of p)typeof Q.field=="string"?d={name:Q.field,fif:e.getField(Q.field)}:d=e.getFieldByNumber(Q.field),e.firstSegment.type==="reduce"?c.push(" "+this.parent.dialect.sqlMaybeQuoteIdentifier(`${d.name}__${e.groupSet}`)+` ${Q.dir||"ASC"}`):e.firstSegment.type==="project"&&c.push(` ${d.fif.f.generateExpression(e)} ${Q.dir||"ASC"}`);c.length>0&&(o=" "+this.parent.dialect.sqlOrderBy(c));for(let[Q,P]of e.allFields){let j=this.parent.dialect.sqlMaybeQuoteIdentifier(Q);e.firstSegment.type==="reduce"&&(P instanceof sm||P instanceof w0&&P.fieldUsage.type==="result")?s.push({type:P instanceof w0?P.f.fieldDef.type:"struct",sqlExpression:this.parent.dialect.sqlMaybeQuoteIdentifier(`${Q}__${e.groupSet}`),sqlOutputName:j}):e.firstSegment.type==="project"&&P instanceof w0&&P.fieldUsage.type==="result"&&s.push({type:P.type,sqlExpression:P.f.generateExpression(e),sqlOutputName:j})}let E,w;(E=e.getRepeatedResultType())!=="nested"?E==="inline_all_numbers"?w=this.parent.dialect.sqlCoaleseMeasuresInline(e.groupSet,s):w=this.parent.dialect.sqlAnyValueTurtle(e.groupSet,s):w=this.parent.dialect.sqlAggregateTurtle(e.groupSet,s,o,a);let N=new J7(this.parent.dialect.supportsCTEinCoorelatedSubQueries,t),{structDef:R,pipeOut:U}=this.generateTurtlePipelineSQL(e,N,this.parent.dialect.supportUnnestArrayAgg?w:r);if(U!==void 0){let Q=N.generateCoorelatedSubQuery(this.parent.dialect,R);this.parent.dialect.supportUnnestArrayAgg?w=`(${Q})`:i.push({sqlFieldName:r,pipelineSQL:`(${Q})`})}return w}generateTurtlePipelineSQL(e,t,r){let i=this.getResultStructDef(e,!1),s=e.getRepeatedResultType(),o=e.turtleDef.pipeline.length>1,a;if(o){let c=[...e.turtleDef.pipeline];c.shift();let d={type:"turtle",name:"starthere",pipeline:c};i.name=this.parent.dialect.sqlUnnestPipelineHead(s==="inline_all_numbers",r),i.structSource={type:"sql",method:"nested"};let p=new Bc(i,{model:this.parent.getModel()});a=sh.makeQuery(d,p,t).generateSQLFromPipeline(t),i=a.outputStruct}return{structDef:i,pipeOut:a}}generateComplexSQL(e){let t=this.generateSQLStage0(e);if(this.maxDepth>1){let r=this.maxDepth;for(;r>1;)t=this.generateSQLDepthN(r,e,t),r--}return this.genereateSQLCombineTurtles(e,t)}generateSQL(e){var t;let r=this.rootResult.computeGroups(0,0);return this.maxDepth=r.maxDepth,this.maxGroupSet=r.nextGroupSetNumber-1,this.rootResult.assignFieldsToGroups(),(t=this.rootResult).isComplexQuery||(t.isComplexQuery=this.maxDepth>0||r.isComplex),this.rootResult.isComplexQuery?this.generateComplexSQL(e):this.generateSimpleSQL(e)}toMalloy(){let e=`EXPLORE ${(0,Lo.getIdentifier)(this.parent.fieldDef)} | `;return e+=this.fieldDef.type.toUpperCase()+" ",e}generateSQLFromPipeline(e){this.prepare(e);let t=this.generateSQL(e),r=this.getResultStructDef();if(this.fieldDef.pipeline.length>1){let i=[...this.fieldDef.pipeline],s={...r,structSource:{type:"sql",method:"lastStage"}};i.shift();for(let o of i){let a=new Bc(s,{model:this.parent.getModel()}),c=sh.makeQuery({type:"turtle",name:"ignoreme",pipeline:[o]},a,e);c.prepare(e),t=c.generateSQL(e),r=c.getResultStructDef(),s={...r,structSource:{type:"sql",method:"lastStage"}}}}return{lastStageName:t,outputStruct:r}}},u3e=class extends sh{},l3e=class extends sh{},c3e=class extends sh{constructor(e,t,r){super(e,t,r);this.fanPrefixes=[],this.fieldDef=e,this.findFanPrefexes(t)}findFanPrefexes(e){for(let[t,r]of e.nameMap)r instanceof Bc&&(r.fieldDef.structRelationship.type==="many"||r.fieldDef.structRelationship.type==="nested")&&this.fanPrefixes.push(r.getFullOutputName())}expandField(e){let t=this.parent.getFieldByName(e);return{as:e,field:t}}expandFields(e){let t=1,r=e.groupSet;this.maxGroupSet=r;let i=this.firstSegment.fields||[];i.length===0&&i.push("**"),i=this.expandWildCards(i,o=>["string","number","timestamp","date"].indexOf(o.fieldDef.type)!==-1);for(let o of i){let{as:a,field:c}=this.expandField(o);e.addField(a,c,{resultIndex:t,type:"result"}),c instanceof S0&&this.addDependancies(e,c),t++}let s=this.firstSegment.weightMeasure;if(s!==void 0){let o=this.parent.getFieldByName(s);e.addField(s,o,{resultIndex:t,type:"result"}),this.addDependancies(e,o)}this.expandFilters(e)}generateSQL(e){let t="COUNT(*)",r=this.parent.dialect,i=r.sqlMaybeQuoteIdentifier("fieldName"),s=r.sqlMaybeQuoteIdentifier("fieldValue"),o=r.sqlMaybeQuoteIdentifier("fieldType"),a=r.sqlMaybeQuoteIdentifier("fieldRange"),c=this.firstSegment.weightMeasure;c&&(t=this.rootResult.getField(c).f.generateExpression(this.rootResult));let d=[];for(let[w,N]of this.rootResult.allFields){let R=N;if(R.fieldUsage.type==="result"&&E0(R.f)){let U=R.f.generateExpression(this.rootResult);d.push({name:w,type:R.f.fieldDef.type,expression:U})}}let p=`SELECT
  group_set,
`;p+=`  CASE group_set
`;for(let w=0;w<d.length;w++)p+=`    WHEN ${w} THEN '${d[w].name}'
`;p+=`  END as ${i},`,p+=`  CASE group_set
`;for(let w=0;w<d.length;w++)p+=`    WHEN ${w} THEN '${d[w].type}'
`;p+=`  END as ${o},`,p+=`  CASE group_set
`;for(let w=0;w<d.length;w++)d[w].type==="string"&&(p+=`    WHEN ${w} THEN ${d[w].expression}
`);p+=`  END as ${s},
`,p+=` ${t} as weight,
`,p+=`  CASE group_set
    WHEN 99999 THEN ''`;for(let w=0;w<d.length;w++)d[w].type==="number"&&(p+=`    WHEN ${w} THEN CAST(MIN(${d[w].expression}) AS ${r.stringTypeName}) || ' to ' || CAST(MAX(${d[w].expression}) AS ${r.stringTypeName})
`),(d[w].type==="timestamp"||d[w].type==="date")&&(p+=`    WHEN ${w} THEN MIN(${r.sqlDateToString(d[w].expression)}) || ' to ' || MAX(${r.sqlDateToString(d[w].expression)})
`);p+=`  END as ${a}
`,p+=this.generateSQLJoins(e),p+=r.sqlGroupSetTable(d.length)+`
`,p+=this.generateSQLFilters(this.rootResult,"where").sql("where"),p+=`GROUP BY 1,2,3,4
`,this.firstSegment.limit&&(p+=`LIMIT ${this.firstSegment.limit}
`);let E=e.addStage(p);return this.resultStage=e.addStage(`SELECT
  ${i},
  ${o},
  COALESCE(${s}, ${a}) as ${s},
  weight
FROM ${E}
`),this.resultStage}getResultStructDef(){return{type:"struct",name:this.resultStage||"result",dialect:this.parent.fieldDef.dialect,fields:[{type:"string",name:"fieldName"},{type:"string",name:"fieldValue"},{type:"string",name:"fieldType"},{type:"number",name:"weight",numberType:"integer"}],structRelationship:{type:"basetable",connectionName:this.parent.connectionName},structSource:{type:"query_result"}}}},Bc=class extends RZ{constructor(e,t){super(e);if(this.nameMap=new Map,this.setParent(t),"model"in t)if(this.model=t.model,this.pathAliasMap=new Map,e.structRelationship.type==="basetable")this.connectionName=e.structRelationship.connectionName;else throw new Error("All root StructDefs should be a baseTable");else this.model=this.getModel(),this.pathAliasMap=this.root().pathAliasMap,this.connectionName=this.root().connectionName;this.fieldDef=e,this.dialect=(0,MJe.getDialect)(this.fieldDef.dialect),this.addFieldsFromFieldList(this.fieldDef.fields)}parameters(){return this.fieldDef.parameters||{}}addFieldsFromFieldList(e){for(let t of e){let r=(0,Lo.getIdentifier)(t);switch(t.type){case"struct":{this.addFieldToNameMap(r,new Bc(t,{struct:this}));break}case"turtle":{this.addFieldToNameMap(r,sh.makeQuery(t,this));break}default:this.addFieldToNameMap(r,this.makeQueryField(t))}}this.nameMap.has("__distinct_key")||this.addFieldToNameMap("__distinct_key",new n3e({type:"string",name:"__distinct_key"},this))}getAliasIdentifier(){let e=this.getFullOutputName(),t=this.pathAliasMap.get(e);if(t===void 0){let r=Array.from(this.pathAliasMap.values()),i=(0,Lo.getIdentifier)(this.fieldDef),s=`${i}_0`,o=1;for(;r.includes(s)&&o<1e3;)o++,s=`${i}_${o}`;if(o<1e3)return this.pathAliasMap.set(e,s),s;throw new Error("Internal Error: cannot create unique alias name")}else return t}getAsQueryField(){if(this.fieldDef.primaryKey===void 0)throw new Error(`Joined explores can only be included in queries if a primary key is defined: '${this.getFullOutputName()}' has no primary key`);let e=this.getPrimaryKeyField(this.fieldDef),t=e.fieldDef.type;if(t!=="string"&&t!=="number")throw new Error(`Unknown Primary key data type for ${name}`);let r=(0,Lo.getIdentifier)(this.fieldDef),i=this.fieldDef.primaryKey,s={type:t,name:`${r}_id`,e:[{type:"field",path:e.getIdentifier()}]};return new cB(s,this,`${r}.${i}`)}getSQLIdentifier(){return this.unnestWithNumbers()&&this.parent!==void 0?this.parent.getSQLIdentifier()+"."+(0,Lo.getIdentifier)(this.fieldDef)+`[${this.getIdentifier()}.__row_id]`:this.getIdentifier()}getIdentifier(){return this.fieldDef.structRelationship.type==="basetable"?this.fieldDef.as===void 0?"base":super.getIdentifier():this.fieldDef.structRelationship.type==="inline"&&this.parent?this.parent.getIdentifier()+"."+super.getIdentifier():this.getAliasIdentifier()}getFullOutputName(){return this.parent?this.parent.getFullOutputName()+(0,Lo.getIdentifier)(this.fieldDef)+".":""}needsSymetricCalculation(e){let t=this.getJoinableParent().getIdentifier(),r=e.root().joins.get(t);if(r)return!r.leafiest;throw new Error(`Join ${t} not found in result set`)}unnestWithNumbers(){return this.dialect.unnestWithNumbers&&this.fieldDef.structRelationship.type==="nested"}getJoinableParent(){if(this.fieldDef.structRelationship.type==="inline"){if(this.parent)return this.parent.getJoinableParent();throw new Error("Internal Error: inline struct cannot be root")}return this}addFieldToNameMap(e,t){if(this.nameMap.has(e))throw new Error(`Redefinition of ${e}`);this.nameMap.set(e,t)}getPrimaryKeyField(e){let t;if(t=this.primaryKey())return t;throw new Error(`Missing primary key for ${e}`)}resolveQueryFields(){if(this.fieldDef.structSource.type==="query"){let e=this.model.loadQuery(this.fieldDef.structSource.query,void 0).structs.pop();if(!e)throw new Error("Internal Error, query didn't produce a struct");let t={...this.fieldDef};for(let r of e.fields){let i;this.nameMap.has(i=(0,Lo.getIdentifier)(r))||(t.fields.push(r),this.nameMap.set(i,this.makeQueryField(r)))}this.fieldDef=t,!this.fieldDef.primaryKey&&e.primaryKey&&(this.fieldDef.primaryKey=e.primaryKey)}for(let[,e]of this.nameMap)e instanceof Bc&&e.resolveQueryFields()}getModel(){if(this.model)return this.model;if(this.parent===void 0)throw new Error("Expected this query struct to have a parent, as no model was present.");return this.parent.getModel()}setParent(e){"struct"in e&&(this.parent=e.struct),"model"in e?this.model=e.model:this.model=this.getModel()}makeQueryField(e){switch(e.type){case"string":return new e3e(e,this);case"date":return new $T(e,this);case"timestamp":return new VT(e,this);case"number":return new t3e(e,this);case"boolean":return new lB(e,this);case"turtle":return new NZ(e,this);default:throw new Error(`unknown field definition ${JSON.stringify(e)}`)}}getOrMakeField(e){return typeof e=="string"?this.getFieldByName(e):this.makeQueryField(e)}getOrMakeDimension(e){let t=this.getOrMakeField(e);if(t instanceof S0&&E0(t))return t;throw new Error(`${e} is not of type a scalar'`)}structSourceSQL(e){switch(this.fieldDef.structSource.type){case"table":{let t=this.fieldDef.structSource.tablePath;return this.dialect.quoteTablePath(t)}case"sql":if(this.fieldDef.structSource.method==="nested"||this.fieldDef.structSource.method==="lastStage")return this.fieldDef.name;if(this.fieldDef.structSource.method==="subquery")return`(${this.fieldDef.structSource.sqlBlock.select})`;throw new Error("Internal Error: Unknown structSource type 'sql' method");case"nested":return"UNNEST(this.fieldDef.name)";case"inline":return"";case"query":{let t=(0,Lo.getIdentifier)(this.fieldDef);if(t.includes("cache")){let r=new J7(!0,e);return this.model.loadQuery(this.fieldDef.structSource.query,r),r.addPDT(t,this.dialect)}else return this.model.loadQuery(this.fieldDef.structSource.query,e).lastStageName}default:throw new Error(`unknown structSource ${this.fieldDef}`)}}root(){return this.parent===void 0?this:this.parent.root()}primaryKey(){if(this.fieldDef.primaryKey)return this.getDimensionByName(this.fieldDef.primaryKey)}static resolvePath(e){return e.split(".")}getChildByName(e){return this.nameMap.get(e)}getFieldByName(e){let t=Bc.resolvePath(e),r=this;for(let i of t){let s=r.getChildByName(i);if(s===void 0)throw new Error(`Path not found ${e}`);r=s}return r}getQueryFieldByName(e){let t=this.getFieldByName(e);return t instanceof Bc&&(t=t.getAsQueryField()),t}getDimensionOrMeasureByName(e){let t=this.getFieldByName(e);if(t instanceof S0)return t;throw new Error(`${e} is not of type a scalar'`)}getDimensionByName(e){let t=this.getFieldByName(e);if(t instanceof S0&&E0(t))return t;throw new Error(`${e} is not of type a scalar'`)}getStructByName(e){let t=this.getFieldByName(e);if(t instanceof Bc)return t;throw new Error(`Error: Path to structure not found '${e}'`)}getDistinctKey(){if(this.fieldDef.structRelationship.type!=="inline")return this.getDimensionByName("__distinct_key");if(this.parent)return this.parent.getDistinctKey();throw new Error("Internal Error.  inline struct can not be top level")}flattenTurtleDef(e){let t=e.pipeline,r=e.pipeHead;for(;r;){let o=this.getFieldByName(r.name);if(o instanceof sh)r=o.fieldDef.pipeHead,t=o.fieldDef.pipeline.concat(t);else throw new Error(`Only Turtles can be used in a pipeline ${r.name}`)}let i=e.filterList||[];return t=(0,Zye.cloneDeep)(t),t[0].filterList=i.concat(t[0].filterList||[],this.fieldDef.filterList||[]),{type:"turtle",name:e.name,pipeline:t,location:e.location}}};F2.QueryStruct=Bc;var LZ=class{constructor(e){this.dialect=new IJe.StandardSQLDialect,this.modelDef=void 0,this.structs=new Map,this.exploreSearchSQLMap=new Map,e&&this.loadModelFromDef(e)}loadModelFromDef(e){this.modelDef=e;for(let t of Object.values(this.modelDef.contents)){let r;if(t.type==="struct")r=new Bc(t,{model:this}),this.structs.set((0,Lo.getIdentifier)(t),r),r.resolveQueryFields();else if(t.type!=="query")throw new Error("Internal Error: Unknown structure type")}}parseQueryPath(e){let t=e.split("."),r;if(r=this.structs.get(t[0])){if(t.length>1)t.shift();else throw new Error(`No query specified in Struct '${t[0]}'`);return{queryName:t.join("."),struct:r}}else throw new Error(`Cannot find Struct '${t[0]}' Model`)}getStructByName(e){let t;if(t=this.structs.get(e))return t;throw new Error(`Struct ${e} not found in model.`)}getStructFromRef(e){let t;if(typeof e=="string")return this.getStructByName(e);if(e.type==="struct")t=e;else throw new Error("Broken for now");return new Bc(t,{model:this})}loadQuery(e,t,r=!1){let i="";t||(t=new J7(!0,void 0));let s={type:"turtle",name:"ignoreme",pipeHead:e.pipeHead,pipeline:e.pipeline,filterList:e.filterList},o=sh.makeQuery(s,this.getStructFromRef(e.structRef),t),a=o.generateSQLFromPipeline(t);if(r&&o.parent.dialect.hasFinalStage){let c=(0,Lo.getPhysicalFields)(a.outputStruct).map(d=>o.parent.dialect.sqlMaybeQuoteIdentifier(d.name));a.lastStageName=t.addStage(o.parent.dialect.sqlFinalStage(a.lastStageName,c))}return{lastStageName:a.lastStageName,malloy:i,stageWriter:t,structs:[a.outputStruct],connectionName:o.parent.connectionName}}compileQuery(e,t=!0){let r,s=(r||this).loadQuery(e,void 0,t),o=typeof e.structRef=="string"?e.structRef:e.structRef.type==="struct"?e.structRef.as||e.structRef.name:"(need to figure this out)";return t&&this.dialect.hasFinalStage&&(s.lastStageName=s.stageWriter.addStage(this.dialect.sqlFinalStage(s.lastStageName,[]))),{lastStageName:s.lastStageName,malloy:s.malloy,sql:s.stageWriter.generateSQLStages(),structs:s.structs,sourceExplore:o,sourceFilters:e.filterList,queryName:e.pipeHead&&e.pipeline.length===0?e.pipeHead.name:void 0,connectionName:s.connectionName}}async searchIndex(e,t,r,i=1e3,s=void 0){if(!e.canPersist())return;let o=this.getStructByName(t),a;o.nameMap.get("search_index")?a={structRef:t,pipeHead:{name:"search_index"},pipeline:[]}:a={structRef:t,pipeline:[{type:"index",fields:["*"],sample:o.dialect.defaultSampling}]};let c=o.dialect.sqlMaybeQuoteIdentifier("fieldName"),d=o.dialect.sqlMaybeQuoteIdentifier("fieldValue"),p=o.dialect.sqlMaybeQuoteIdentifier("fieldType"),E=this.exploreSearchSQLMap.get(t);E===void 0&&(E=(await this.compileQuery(a,!1)).sql,this.exploreSearchSQLMap.set(t,E));let w=`SELECT
              ${c},
              ${d},
              ${p},
              weight,
              CASE WHEN lower(${d}) LIKE  lower(${OZ(r+"%")}) THEN 1 ELSE 0 END as match_first
            FROM  ${await e.manifestTemporaryTable(E)}
            WHERE lower(${d}) LIKE lower(${OZ("%"+r+"%")}) ${s!==void 0?` AND ${c} = '`+s+`' 
`:""}
            ORDER BY CASE WHEN lower(${d}) LIKE  lower(${OZ(r+"%")}) THEN 1 ELSE 0 END DESC, weight DESC
            LIMIT ${i}
          `;return o.dialect.hasFinalStage&&(w=`WITH __stage0 AS(
${w}
)
${o.dialect.sqlFinalStage("__stage0",[c,d,p,"weight","match_first"])}`),(await e.runSQL(w,{rowLimit:1e3})).rows}};F2.QueryModel=LZ});var Y7=Ae(om=>{"use strict";m();var BJe=om&&om.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),jJe=om&&om.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&BJe(e,n,t)};Object.defineProperty(om,"__esModule",{value:!0});om.QueryModel=om.Segment=void 0;jJe(im(),om);var f3e=kZ();Object.defineProperty(om,"Segment",{enumerable:!0,get:function(){return f3e.Segment}});Object.defineProperty(om,"QueryModel",{enumerable:!0,get:function(){return f3e.QueryModel}})});var h3e=Ae(d3e=>{"use strict";m();Object.defineProperty(d3e,"__esModule",{value:!0})});var m3e=Ae(p3e=>{"use strict";m();Object.defineProperty(p3e,"__esModule",{value:!0})});var IZ=Ae((U7t,x3e)=>{"use strict";m();x3e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var WT=Ae((z7t,g3e)=>{"use strict";m();var qJe=IZ();g3e.exports=function(){return qJe()&&!!Symbol.toStringTag}});var _3e=Ae((H7t,v3e)=>{"use strict";m();var y3e=typeof Symbol!="undefined"&&Symbol,UJe=IZ();v3e.exports=function(){return typeof y3e!="function"||typeof Symbol!="function"||typeof y3e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:UJe()}});var E3e=Ae(($7t,b3e)=>{"use strict";m();var zJe="Function.prototype.bind called on incompatible ",MZ=Array.prototype.slice,HJe=Object.prototype.toString,$Je="[object Function]";b3e.exports=function(e){var t=this;if(typeof t!="function"||HJe.call(t)!==$Je)throw new TypeError(zJe+t);for(var r=MZ.call(arguments,1),i,s=function(){if(this instanceof i){var p=t.apply(this,r.concat(MZ.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,r.concat(MZ.call(arguments)))},o=Math.max(0,t.length-r.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var d=function(){};d.prototype=t.prototype,i.prototype=new d,d.prototype=null}return i}});var fB=Ae((V7t,S3e)=>{"use strict";m();var VJe=E3e();S3e.exports=Function.prototype.bind||VJe});var C3e=Ae((W7t,w3e)=>{"use strict";m();var WJe=fB();w3e.exports=WJe.call(Function.call,Object.prototype.hasOwnProperty)});var GT=Ae((Q7t,D3e)=>{"use strict";m();var ea,Z7=SyntaxError,A3e=Function,e8=TypeError,PZ=function(n){try{return A3e('"use strict"; return ('+n+").constructor;")()}catch{}},L_=Object.getOwnPropertyDescriptor;if(L_)try{L_({},"")}catch{L_=null}var BZ=function(){throw new e8},QJe=L_?function(){try{return arguments.callee,BZ}catch{try{return L_(arguments,"callee").get}catch{return BZ}}}():BZ,t8=_3e()(),uv=Object.getPrototypeOf||function(n){return n.__proto__},n8={},GJe=typeof Uint8Array=="undefined"?ea:uv(Uint8Array),r8={"%AggregateError%":typeof AggregateError=="undefined"?ea:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?ea:ArrayBuffer,"%ArrayIteratorPrototype%":t8?uv([][Symbol.iterator]()):ea,"%AsyncFromSyncIteratorPrototype%":ea,"%AsyncFunction%":n8,"%AsyncGenerator%":n8,"%AsyncGeneratorFunction%":n8,"%AsyncIteratorPrototype%":n8,"%Atomics%":typeof Atomics=="undefined"?ea:Atomics,"%BigInt%":typeof BigInt=="undefined"?ea:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?ea:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?ea:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?ea:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?ea:FinalizationRegistry,"%Function%":A3e,"%GeneratorFunction%":n8,"%Int8Array%":typeof Int8Array=="undefined"?ea:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?ea:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?ea:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t8?uv(uv([][Symbol.iterator]())):ea,"%JSON%":typeof JSON=="object"?JSON:ea,"%Map%":typeof Map=="undefined"?ea:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!t8?ea:uv(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?ea:Promise,"%Proxy%":typeof Proxy=="undefined"?ea:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?ea:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?ea:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!t8?ea:uv(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?ea:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t8?uv(""[Symbol.iterator]()):ea,"%Symbol%":t8?Symbol:ea,"%SyntaxError%":Z7,"%ThrowTypeError%":QJe,"%TypedArray%":GJe,"%TypeError%":e8,"%Uint8Array%":typeof Uint8Array=="undefined"?ea:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?ea:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?ea:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?ea:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?ea:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?ea:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?ea:WeakSet},YJe=function n(e){var t;if(e==="%AsyncFunction%")t=PZ("async function () {}");else if(e==="%GeneratorFunction%")t=PZ("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=PZ("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&(t=uv(i.prototype))}return r8[e]=t,t},T3e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},QT=fB(),dB=C3e(),KJe=QT.call(Function.call,Array.prototype.concat),JJe=QT.call(Function.apply,Array.prototype.splice),F3e=QT.call(Function.call,String.prototype.replace),hB=QT.call(Function.call,String.prototype.slice),XJe=QT.call(Function.call,RegExp.prototype.exec),ZJe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,eXe=/\\(\\)?/g,tXe=function(e){var t=hB(e,0,1),r=hB(e,-1);if(t==="%"&&r!=="%")throw new Z7("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new Z7("invalid intrinsic syntax, expected opening `%`");var i=[];return F3e(e,ZJe,function(s,o,a,c){i[i.length]=a?F3e(c,eXe,"$1"):o||s}),i},nXe=function(e,t){var r=e,i;if(dB(T3e,r)&&(i=T3e[r],r="%"+i[0]+"%"),dB(r8,r)){var s=r8[r];if(s===n8&&(s=YJe(r)),typeof s=="undefined"&&!t)throw new e8("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new Z7("intrinsic "+e+" does not exist!")};D3e.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new e8("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new e8('"allowMissing" argument must be a boolean');if(XJe(/^%?[^%]*%?$/g,e)===null)throw new Z7("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=tXe(e),i=r.length>0?r[0]:"",s=nXe("%"+i+"%",t),o=s.name,a=s.value,c=!1,d=s.alias;d&&(i=d[0],JJe(r,KJe([0,1],d)));for(var p=1,E=!0;p<r.length;p+=1){var w=r[p],N=hB(w,0,1),R=hB(w,-1);if((N==='"'||N==="'"||N==="`"||R==='"'||R==="'"||R==="`")&&N!==R)throw new Z7("property names with quotes must have matching quotes");if((w==="constructor"||!E)&&(c=!0),i+="."+w,o="%"+i+"%",dB(r8,o))a=r8[o];else if(a!=null){if(!(w in a)){if(!t)throw new e8("base intrinsic for "+e+" exists, but the property is not available.");return}if(L_&&p+1>=r.length){var U=L_(a,w);E=!!U,E&&"get"in U&&!("originalValue"in U.get)?a=U.get:a=a[w]}else E=dB(a,w),a=a[w];E&&!c&&(r8[o]=a)}}return a}});var mB=Ae((G7t,pB)=>{"use strict";m();var jZ=fB(),i8=GT(),O3e=i8("%Function.prototype.apply%"),R3e=i8("%Function.prototype.call%"),N3e=i8("%Reflect.apply%",!0)||jZ.call(R3e,O3e),L3e=i8("%Object.getOwnPropertyDescriptor%",!0),k_=i8("%Object.defineProperty%",!0),rXe=i8("%Math.max%");if(k_)try{k_({},"a",{value:1})}catch{k_=null}pB.exports=function(e){var t=N3e(jZ,R3e,arguments);if(L3e&&k_){var r=L3e(t,"length");r.configurable&&k_(t,"length",{value:1+rXe(0,e.length-(arguments.length-1))})}return t};var k3e=function(){return N3e(jZ,O3e,arguments)};k_?k_(pB.exports,"apply",{value:k3e}):pB.exports.apply=k3e});var xB=Ae((Y7t,P3e)=>{"use strict";m();var I3e=GT(),M3e=mB(),iXe=M3e(I3e("String.prototype.indexOf"));P3e.exports=function(e,t){var r=I3e(e,!!t);return typeof r=="function"&&iXe(e,".prototype.")>-1?M3e(r):r}});var q3e=Ae((K7t,j3e)=>{"use strict";m();var sXe=WT()(),oXe=xB(),qZ=oXe("Object.prototype.toString"),gB=function(e){return sXe&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:qZ(e)==="[object Arguments]"},B3e=function(e){return gB(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&qZ(e)!=="[object Array]"&&qZ(e.callee)==="[object Function]"},aXe=function(){return gB(arguments)}();gB.isLegacyArguments=B3e;j3e.exports=aXe?gB:B3e});var H3e=Ae((J7t,z3e)=>{"use strict";m();var uXe=Object.prototype.toString,lXe=Function.prototype.toString,cXe=/^\s*(?:function)?\*/,U3e=WT()(),UZ=Object.getPrototypeOf,fXe=function(){if(!U3e)return!1;try{return Function("return function*() {}")()}catch{}},zZ;z3e.exports=function(e){if(typeof e!="function")return!1;if(cXe.test(lXe.call(e)))return!0;if(!U3e){var t=uXe.call(e);return t==="[object GeneratorFunction]"}if(!UZ)return!1;if(typeof zZ=="undefined"){var r=fXe();zZ=r?UZ(r):!1}return UZ(e)===zZ}});var Q3e=Ae((X7t,W3e)=>{"use strict";m();var $3e=Function.prototype.toString,s8=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,HZ,yB;if(typeof s8=="function"&&typeof Object.defineProperty=="function")try{HZ=Object.defineProperty({},"length",{get:function(){throw yB}}),yB={},s8(function(){throw 42},null,HZ)}catch(n){n!==yB&&(s8=null)}else s8=null;var dXe=/^\s*class\b/,$Z=function(e){try{var t=$3e.call(e);return dXe.test(t)}catch{return!1}},hXe=function(e){try{return $Z(e)?!1:($3e.call(e),!0)}catch{return!1}},pXe=Object.prototype.toString,mXe="[object Function]",xXe="[object GeneratorFunction]",gXe=typeof Symbol=="function"&&!!Symbol.toStringTag,V3e=typeof document=="object"&&typeof document.all=="undefined"&&document.all!==void 0?document.all:{};W3e.exports=s8?function(e){if(e===V3e)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{s8(e,null,HZ)}catch(t){if(t!==yB)return!1}return!$Z(e)}:function(e){if(e===V3e)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;if(gXe)return hXe(e);if($Z(e))return!1;var t=pXe.call(e);return t===mXe||t===xXe}});var VZ=Ae((Z7t,Y3e)=>{"use strict";m();var yXe=Q3e(),vXe=Object.prototype.toString,G3e=Object.prototype.hasOwnProperty,_Xe=function(e,t,r){for(var i=0,s=e.length;i<s;i++)G3e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},bXe=function(e,t,r){for(var i=0,s=e.length;i<s;i++)r==null?t(e.charAt(i),i,e):t.call(r,e.charAt(i),i,e)},EXe=function(e,t,r){for(var i in e)G3e.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},SXe=function(e,t,r){if(!yXe(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),vXe.call(e)==="[object Array]"?_Xe(e,t,i):typeof e=="string"?bXe(e,t,i):EXe(e,t,i)};Y3e.exports=SXe});var QZ=Ae((e8t,K3e)=>{"use strict";m();var WZ=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],wXe=typeof globalThis=="undefined"?global:globalThis;K3e.exports=function(){for(var e=[],t=0;t<WZ.length;t++)typeof wXe[WZ[t]]=="function"&&(e[e.length]=WZ[t]);return e}});var GZ=Ae((t8t,J3e)=>{"use strict";m();var CXe=GT(),vB=CXe("%Object.getOwnPropertyDescriptor%",!0);if(vB)try{vB([],"length")}catch{vB=null}J3e.exports=vB});var JZ=Ae((n8t,nve)=>{"use strict";m();var X3e=VZ(),AXe=QZ(),YZ=xB(),TXe=YZ("Object.prototype.toString"),Z3e=WT()(),FXe=typeof globalThis=="undefined"?global:globalThis,eve=AXe(),DXe=YZ("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},OXe=YZ("String.prototype.slice"),tve={},_B=GZ(),KZ=Object.getPrototypeOf;Z3e&&_B&&KZ&&X3e(eve,function(n){var e=new FXe[n];if(Symbol.toStringTag in e){var t=KZ(e),r=_B(t,Symbol.toStringTag);if(!r){var i=KZ(t);r=_B(i,Symbol.toStringTag)}tve[n]=r.get}});var RXe=function(e){var t=!1;return X3e(tve,function(r,i){if(!t)try{t=r.call(e)===i}catch{}}),t};nve.exports=function(e){if(!e||typeof e!="object")return!1;if(!Z3e||!(Symbol.toStringTag in e)){var t=OXe(TXe(e),8,-1);return DXe(eve,t)>-1}return _B?RXe(e):!1}});var lve=Ae((r8t,uve)=>{"use strict";m();var rve=VZ(),NXe=QZ(),ive=xB(),LXe=ive("Object.prototype.toString"),sve=WT()(),ove=typeof globalThis=="undefined"?global:globalThis,kXe=NXe(),IXe=ive("String.prototype.slice"),ave={},XZ=GZ(),ZZ=Object.getPrototypeOf;sve&&XZ&&ZZ&&rve(kXe,function(n){if(typeof ove[n]=="function"){var e=new ove[n];if(Symbol.toStringTag in e){var t=ZZ(e),r=XZ(t,Symbol.toStringTag);if(!r){var i=ZZ(t);r=XZ(i,Symbol.toStringTag)}ave[n]=r.get}}});var MXe=function(e){var t=!1;return rve(ave,function(r,i){if(!t)try{var s=r.call(e);s===i&&(t=s)}catch{}}),t},PXe=JZ();uve.exports=function(e){return PXe(e)?!sve||!(Symbol.toStringTag in e)?IXe(LXe(e),8,-1):MXe(e):!1}});var Sve=Ae(Po=>{"use strict";m();var BXe=q3e(),jXe=H3e(),am=lve(),cve=JZ();function o8(n){return n.call.bind(n)}var fve=typeof BigInt!="undefined",dve=typeof Symbol!="undefined",Vp=o8(Object.prototype.toString),qXe=o8(Number.prototype.valueOf),UXe=o8(String.prototype.valueOf),zXe=o8(Boolean.prototype.valueOf);fve&&(hve=o8(BigInt.prototype.valueOf));var hve;dve&&(pve=o8(Symbol.prototype.valueOf));var pve;function YT(n,e){if(typeof n!="object")return!1;try{return e(n),!0}catch{return!1}}Po.isArgumentsObject=BXe;Po.isGeneratorFunction=jXe;Po.isTypedArray=cve;function HXe(n){return typeof Promise!="undefined"&&n instanceof Promise||n!==null&&typeof n=="object"&&typeof n.then=="function"&&typeof n.catch=="function"}Po.isPromise=HXe;function $Xe(n){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(n):cve(n)||xve(n)}Po.isArrayBufferView=$Xe;function VXe(n){return am(n)==="Uint8Array"}Po.isUint8Array=VXe;function WXe(n){return am(n)==="Uint8ClampedArray"}Po.isUint8ClampedArray=WXe;function QXe(n){return am(n)==="Uint16Array"}Po.isUint16Array=QXe;function GXe(n){return am(n)==="Uint32Array"}Po.isUint32Array=GXe;function YXe(n){return am(n)==="Int8Array"}Po.isInt8Array=YXe;function KXe(n){return am(n)==="Int16Array"}Po.isInt16Array=KXe;function JXe(n){return am(n)==="Int32Array"}Po.isInt32Array=JXe;function XXe(n){return am(n)==="Float32Array"}Po.isFloat32Array=XXe;function ZXe(n){return am(n)==="Float64Array"}Po.isFloat64Array=ZXe;function eZe(n){return am(n)==="BigInt64Array"}Po.isBigInt64Array=eZe;function tZe(n){return am(n)==="BigUint64Array"}Po.isBigUint64Array=tZe;function bB(n){return Vp(n)==="[object Map]"}bB.working=typeof Map!="undefined"&&bB(new Map);function nZe(n){return typeof Map=="undefined"?!1:bB.working?bB(n):n instanceof Map}Po.isMap=nZe;function EB(n){return Vp(n)==="[object Set]"}EB.working=typeof Set!="undefined"&&EB(new Set);function rZe(n){return typeof Set=="undefined"?!1:EB.working?EB(n):n instanceof Set}Po.isSet=rZe;function SB(n){return Vp(n)==="[object WeakMap]"}SB.working=typeof WeakMap!="undefined"&&SB(new WeakMap);function iZe(n){return typeof WeakMap=="undefined"?!1:SB.working?SB(n):n instanceof WeakMap}Po.isWeakMap=iZe;function eee(n){return Vp(n)==="[object WeakSet]"}eee.working=typeof WeakSet!="undefined"&&eee(new WeakSet);function sZe(n){return eee(n)}Po.isWeakSet=sZe;function wB(n){return Vp(n)==="[object ArrayBuffer]"}wB.working=typeof ArrayBuffer!="undefined"&&wB(new ArrayBuffer);function mve(n){return typeof ArrayBuffer=="undefined"?!1:wB.working?wB(n):n instanceof ArrayBuffer}Po.isArrayBuffer=mve;function CB(n){return Vp(n)==="[object DataView]"}CB.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&CB(new DataView(new ArrayBuffer(1),0,1));function xve(n){return typeof DataView=="undefined"?!1:CB.working?CB(n):n instanceof DataView}Po.isDataView=xve;var tee=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function KT(n){return Vp(n)==="[object SharedArrayBuffer]"}function gve(n){return typeof tee=="undefined"?!1:(typeof KT.working=="undefined"&&(KT.working=KT(new tee)),KT.working?KT(n):n instanceof tee)}Po.isSharedArrayBuffer=gve;function oZe(n){return Vp(n)==="[object AsyncFunction]"}Po.isAsyncFunction=oZe;function aZe(n){return Vp(n)==="[object Map Iterator]"}Po.isMapIterator=aZe;function uZe(n){return Vp(n)==="[object Set Iterator]"}Po.isSetIterator=uZe;function lZe(n){return Vp(n)==="[object Generator]"}Po.isGeneratorObject=lZe;function cZe(n){return Vp(n)==="[object WebAssembly.Module]"}Po.isWebAssemblyCompiledModule=cZe;function yve(n){return YT(n,qXe)}Po.isNumberObject=yve;function vve(n){return YT(n,UXe)}Po.isStringObject=vve;function _ve(n){return YT(n,zXe)}Po.isBooleanObject=_ve;function bve(n){return fve&&YT(n,hve)}Po.isBigIntObject=bve;function Eve(n){return dve&&YT(n,pve)}Po.isSymbolObject=Eve;function fZe(n){return yve(n)||vve(n)||_ve(n)||bve(n)||Eve(n)}Po.isBoxedPrimitive=fZe;function dZe(n){return typeof Uint8Array!="undefined"&&(mve(n)||gve(n))}Po.isAnyArrayBuffer=dZe;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(n){Object.defineProperty(Po,n,{enumerable:!1,value:function(){throw new Error(n+" is not supported in userland")}})})});var Cve=Ae((s8t,wve)=>{m();wve.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var Ave=Ae((o8t,nee)=>{m();typeof Object.create=="function"?nee.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:nee.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}});var cv=Ae(Bo=>{m();var Tve=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},hZe=/%[sdj%]/g;Bo.format=function(n){if(!DB(n)){for(var e=[],t=0;t<arguments.length;t++)e.push(lv(arguments[t]));return e.join(" ")}for(var t=1,r=arguments,i=r.length,s=String(n).replace(hZe,function(a){if(a==="%%")return"%";if(t>=i)return a;switch(a){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":try{return JSON.stringify(r[t++])}catch{return"[Circular]"}default:return a}}),o=r[t];t<i;o=r[++t])FB(o)||!a8(o)?s+=" "+o:s+=" "+lv(o);return s};Bo.deprecate=function(n,e){if(typeof process!="undefined"&&process.noDeprecation===!0)return n;if(typeof process=="undefined")return function(){return Bo.deprecate(n,e).apply(this,arguments)};var t=!1;function r(){if(!t){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),t=!0}return n.apply(this,arguments)}return r};var AB={},pZe=/^$/;Bo.debuglog=function(n){if(n=n.toUpperCase(),!AB[n])if(pZe.test(n)){var e=process.pid;AB[n]=function(){var t=Bo.format.apply(Bo,arguments);console.error("%s %d: %s",n,e,t)}}else AB[n]=function(){};return AB[n]};function lv(n,e){var t={seen:[],stylize:xZe};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),see(e)?t.showHidden=e:e&&Bo._extend(t,e),I_(t.showHidden)&&(t.showHidden=!1),I_(t.depth)&&(t.depth=2),I_(t.colors)&&(t.colors=!1),I_(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=mZe),TB(t,n,t.depth)}Bo.inspect=lv;lv.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};lv.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function mZe(n,e){var t=lv.styles[e];return t?"\x1B["+lv.colors[t][0]+"m"+n+"\x1B["+lv.colors[t][1]+"m":n}function xZe(n,e){return n}function gZe(n){var e={};return n.forEach(function(t,r){e[t]=!0}),e}function TB(n,e,t){if(n.customInspect&&e&&RB(e.inspect)&&e.inspect!==Bo.inspect&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(t,n);return DB(r)||(r=TB(n,r,t)),r}var i=yZe(n,e);if(i)return i;var s=Object.keys(e),o=gZe(s);if(n.showHidden&&(s=Object.getOwnPropertyNames(e)),XT(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return ree(e);if(s.length===0){if(RB(e)){var a=e.name?": "+e.name:"";return n.stylize("[Function"+a+"]","special")}if(JT(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(OB(e))return n.stylize(Date.prototype.toString.call(e),"date");if(XT(e))return ree(e)}var c="",d=!1,p=["{","}"];if(Fve(e)&&(d=!0,p=["[","]"]),RB(e)){var E=e.name?": "+e.name:"";c=" [Function"+E+"]"}if(JT(e)&&(c=" "+RegExp.prototype.toString.call(e)),OB(e)&&(c=" "+Date.prototype.toUTCString.call(e)),XT(e)&&(c=" "+ree(e)),s.length===0&&(!d||e.length==0))return p[0]+c+p[1];if(t<0)return JT(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);var w;return d?w=vZe(n,e,t,o,s):w=s.map(function(N){return iee(n,e,t,o,N,d)}),n.seen.pop(),_Ze(w,c,p)}function yZe(n,e){if(I_(e))return n.stylize("undefined","undefined");if(DB(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}if(Dve(e))return n.stylize(""+e,"number");if(see(e))return n.stylize(""+e,"boolean");if(FB(e))return n.stylize("null","null")}function ree(n){return"["+Error.prototype.toString.call(n)+"]"}function vZe(n,e,t,r,i){for(var s=[],o=0,a=e.length;o<a;++o)Ove(e,String(o))?s.push(iee(n,e,t,r,String(o),!0)):s.push("");return i.forEach(function(c){c.match(/^\d+$/)||s.push(iee(n,e,t,r,c,!0))}),s}function iee(n,e,t,r,i,s){var o,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?c.set?a=n.stylize("[Getter/Setter]","special"):a=n.stylize("[Getter]","special"):c.set&&(a=n.stylize("[Setter]","special")),Ove(r,i)||(o="["+i+"]"),a||(n.seen.indexOf(c.value)<0?(FB(t)?a=TB(n,c.value,null):a=TB(n,c.value,t-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(d){return"  "+d}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(d){return"   "+d}).join(`
`))):a=n.stylize("[Circular]","special")),I_(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=n.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=n.stylize(o,"string"))}return o+": "+a}function _Ze(n,e,t){var r=0,i=n.reduce(function(s,o){return r++,o.indexOf(`
`)>=0&&r++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(e===""?"":e+`
 `)+" "+n.join(`,
  `)+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}Bo.types=Sve();function Fve(n){return Array.isArray(n)}Bo.isArray=Fve;function see(n){return typeof n=="boolean"}Bo.isBoolean=see;function FB(n){return n===null}Bo.isNull=FB;function bZe(n){return n==null}Bo.isNullOrUndefined=bZe;function Dve(n){return typeof n=="number"}Bo.isNumber=Dve;function DB(n){return typeof n=="string"}Bo.isString=DB;function EZe(n){return typeof n=="symbol"}Bo.isSymbol=EZe;function I_(n){return n===void 0}Bo.isUndefined=I_;function JT(n){return a8(n)&&oee(n)==="[object RegExp]"}Bo.isRegExp=JT;Bo.types.isRegExp=JT;function a8(n){return typeof n=="object"&&n!==null}Bo.isObject=a8;function OB(n){return a8(n)&&oee(n)==="[object Date]"}Bo.isDate=OB;Bo.types.isDate=OB;function XT(n){return a8(n)&&(oee(n)==="[object Error]"||n instanceof Error)}Bo.isError=XT;Bo.types.isNativeError=XT;function RB(n){return typeof n=="function"}Bo.isFunction=RB;function SZe(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n=="undefined"}Bo.isPrimitive=SZe;Bo.isBuffer=Cve();function oee(n){return Object.prototype.toString.call(n)}function aee(n){return n<10?"0"+n.toString(10):n.toString(10)}var wZe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function CZe(){var n=new Date,e=[aee(n.getHours()),aee(n.getMinutes()),aee(n.getSeconds())].join(":");return[n.getDate(),wZe[n.getMonth()],e].join(" ")}Bo.log=function(){console.log("%s - %s",CZe(),Bo.format.apply(Bo,arguments))};Bo.inherits=Ave();Bo._extend=function(n,e){if(!e||!a8(e))return n;for(var t=Object.keys(e),r=t.length;r--;)n[t[r]]=e[t[r]];return n};function Ove(n,e){return Object.prototype.hasOwnProperty.call(n,e)}var M_=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;Bo.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(M_&&e[M_]){var t=e[M_];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,M_,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,i,s=new Promise(function(c,d){r=c,i=d}),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push(function(c,d){c?i(c):r(d)});try{e.apply(this,o)}catch(c){i(c)}return s}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),M_&&Object.defineProperty(t,M_,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,Tve(e))};Bo.promisify.custom=M_;function AZe(n,e){if(!n){var t=new Error("Promise was rejected with a falsy value");t.reason=n,n=t}return e(n)}function TZe(n){if(typeof n!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};n.apply(this,t).then(function(a){process.nextTick(o.bind(null,null,a))},function(a){process.nextTick(AZe.bind(null,a,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(n)),Object.defineProperties(e,Tve(n)),e}Bo.callbackify=TZe});var fee=Ae((u8t,Lve)=>{"use strict";m();function u8(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u8=function(t){return typeof t}:u8=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u8(n)}function FZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function DZe(n,e){return e&&(u8(e)==="object"||typeof e=="function")?e:OZe(n)}function OZe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function uee(n){return uee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uee(n)}function RZe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&lee(n,e)}function lee(n,e){return lee=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lee(n,e)}var Rve={},l8,cee;function ZT(n,e,t){t||(t=Error);function r(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){RZe(o,s);function o(a,c,d){var p;return FZe(this,o),p=DZe(this,uee(o).call(this,r(a,c,d))),p.code=n,p}return o}(t);Rve[n]=i}function Nve(n,e){if(Array.isArray(n)){var t=n.length;return n=n.map(function(r){return String(r)}),t>2?"one of ".concat(e," ").concat(n.slice(0,t-1).join(", "),", or ")+n[t-1]:t===2?"one of ".concat(e," ").concat(n[0]," or ").concat(n[1]):"of ".concat(e," ").concat(n[0])}else return"of ".concat(e," ").concat(String(n))}function NZe(n,e,t){return n.substr(!t||t<0?0:+t,e.length)===e}function LZe(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function kZe(n,e,t){return typeof t!="number"&&(t=0),t+e.length>n.length?!1:n.indexOf(e,t)!==-1}ZT("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);ZT("ERR_INVALID_ARG_TYPE",function(n,e,t){l8===void 0&&(l8=C0()),l8(typeof n=="string","'name' must be a string");var r;typeof e=="string"&&NZe(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var i;if(LZe(n," argument"))i="The ".concat(n," ").concat(r," ").concat(Nve(e,"type"));else{var s=kZe(n,".")?"property":"argument";i='The "'.concat(n,'" ').concat(s," ").concat(r," ").concat(Nve(e,"type"))}return i+=". Received type ".concat(u8(t)),i},TypeError);ZT("ERR_INVALID_ARG_VALUE",function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";cee===void 0&&(cee=cv());var r=cee.inspect(e);return r.length>128&&(r="".concat(r.slice(0,128),"...")),"The argument '".concat(n,"' ").concat(t,". Received ").concat(r)},TypeError,RangeError);ZT("ERR_INVALID_RETURN_VALUE",function(n,e,t){var r;return t&&t.constructor&&t.constructor.name?r="instance of ".concat(t.constructor.name):r="type ".concat(u8(t)),"Expected ".concat(n,' to be returned from the "').concat(e,'"')+" function but got ".concat(r,".")},TypeError);ZT("ERR_MISSING_ARGS",function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];l8===void 0&&(l8=C0()),l8(e.length>0,"At least one arg needs to be specified");var r="The ",i=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),i){case 1:r+="".concat(e[0]," argument");break;case 2:r+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:r+=e.slice(0,i-1).join(", "),r+=", and ".concat(e[i-1]," arguments");break}return"".concat(r," must be specified")},TypeError);Lve.exports.codes=Rve});var Bve=Ae((l8t,Pve)=>{"use strict";m();function IZe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){MZe(n,i,t[i])})}return n}function MZe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PZe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function kve(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function BZe(n,e,t){return e&&kve(n.prototype,e),t&&kve(n,t),n}function c8(n,e){return e&&(Wp(e)==="object"||typeof e=="function")?e:dee(n)}function dee(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jZe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&eF(n,e)}function hee(n){var e=typeof Map=="function"?new Map:void 0;return hee=function(r){if(r===null||!UZe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return NB(r,arguments,fv(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),eF(i,r)},hee(n)}function qZe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function NB(n,e,t){return qZe()?NB=Reflect.construct:NB=function(i,s,o){var a=[null];a.push.apply(a,s);var c=Function.bind.apply(i,a),d=new c;return o&&eF(d,o.prototype),d},NB.apply(null,arguments)}function UZe(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function eF(n,e){return eF=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},eF(n,e)}function fv(n){return fv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fv(n)}function Wp(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wp=function(t){return typeof t}:Wp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(n)}var zZe=cv(),pee=zZe.inspect,HZe=fee(),$Ze=HZe.codes.ERR_INVALID_ARG_TYPE;function Ive(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function VZe(n,e){if(e=Math.floor(e),n.length==0||e==0)return"";var t=n.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)n+=n,e--;return n+=n.substring(0,t-n.length),n}var um="",tF="",nF="",qf="",P_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},WZe=10;function Mve(n){var e=Object.keys(n),t=Object.create(Object.getPrototypeOf(n));return e.forEach(function(r){t[r]=n[r]}),Object.defineProperty(t,"message",{value:n.message}),t}function rF(n){return pee(n,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function QZe(n,e,t){var r="",i="",s=0,o="",a=!1,c=rF(n),d=c.split(`
`),p=rF(e).split(`
`),E=0,w="";if(t==="strictEqual"&&Wp(n)==="object"&&Wp(e)==="object"&&n!==null&&e!==null&&(t="strictEqualObject"),d.length===1&&p.length===1&&d[0]!==p[0]){var N=d[0].length+p[0].length;if(N<=WZe){if((Wp(n)!=="object"||n===null)&&(Wp(e)!=="object"||e===null)&&(n!==0||e!==0))return"".concat(P_[t],`

`)+"".concat(d[0]," !== ").concat(p[0],`
`)}else if(t!=="strictEqualObject"){var R=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(N<R){for(;d[0][E]===p[0][E];)E++;E>2&&(w=`
  `.concat(VZe(" ",E),"^"),E=0)}}}for(var U=d[d.length-1],Q=p[p.length-1];U===Q&&(E++<2?o=`
  `.concat(U).concat(o):r=U,d.pop(),p.pop(),!(d.length===0||p.length===0));)U=d[d.length-1],Q=p[p.length-1];var P=Math.max(d.length,p.length);if(P===0){var j=c.split(`
`);if(j.length>30)for(j[26]="".concat(um,"...").concat(qf);j.length>27;)j.pop();return"".concat(P_.notIdentical,`

`).concat(j.join(`
`),`
`)}E>3&&(o=`
`.concat(um,"...").concat(qf).concat(o),a=!0),r!==""&&(o=`
  `.concat(r).concat(o),r="");var I=0,K=P_[t]+`
`.concat(tF,"+ actual").concat(qf," ").concat(nF,"- expected").concat(qf),de=" ".concat(um,"...").concat(qf," Lines skipped");for(E=0;E<P;E++){var M=E-s;if(d.length<E+1)M>1&&E>2&&(M>4?(i+=`
`.concat(um,"...").concat(qf),a=!0):M>3&&(i+=`
  `.concat(p[E-2]),I++),i+=`
  `.concat(p[E-1]),I++),s=E,r+=`
`.concat(nF,"-").concat(qf," ").concat(p[E]),I++;else if(p.length<E+1)M>1&&E>2&&(M>4?(i+=`
`.concat(um,"...").concat(qf),a=!0):M>3&&(i+=`
  `.concat(d[E-2]),I++),i+=`
  `.concat(d[E-1]),I++),s=E,i+=`
`.concat(tF,"+").concat(qf," ").concat(d[E]),I++;else{var Z=p[E],me=d[E],_e=me!==Z&&(!Ive(me,",")||me.slice(0,-1)!==Z);_e&&Ive(Z,",")&&Z.slice(0,-1)===me&&(_e=!1,me+=","),_e?(M>1&&E>2&&(M>4?(i+=`
`.concat(um,"...").concat(qf),a=!0):M>3&&(i+=`
  `.concat(d[E-2]),I++),i+=`
  `.concat(d[E-1]),I++),s=E,i+=`
`.concat(tF,"+").concat(qf," ").concat(me),r+=`
`.concat(nF,"-").concat(qf," ").concat(Z),I+=2):(i+=r,r="",(M===1||E===0)&&(i+=`
  `.concat(me),I++))}if(I>20&&E<P-2)return"".concat(K).concat(de,`
`).concat(i,`
`).concat(um,"...").concat(qf).concat(r,`
`)+"".concat(um,"...").concat(qf)}return"".concat(K).concat(a?de:"",`
`).concat(i).concat(r).concat(o).concat(w)}var GZe=function(n){jZe(e,n);function e(t){var r;if(PZe(this,e),Wp(t)!=="object"||t===null)throw new $Ze("options","Object",t);var i=t.message,s=t.operator,o=t.stackStartFn,a=t.actual,c=t.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)r=c8(this,fv(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(um="\x1B[34m",tF="\x1B[32m",qf="\x1B[39m",nF="\x1B[31m"):(um="",tF="",qf="",nF="")),Wp(a)==="object"&&a!==null&&Wp(c)==="object"&&c!==null&&"stack"in a&&a instanceof Error&&"stack"in c&&c instanceof Error&&(a=Mve(a),c=Mve(c)),s==="deepStrictEqual"||s==="strictEqual")r=c8(this,fv(e).call(this,QZe(a,c,s)));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var p=P_[s],E=rF(a).split(`
`);if(s==="notStrictEqual"&&Wp(a)==="object"&&a!==null&&(p=P_.notStrictEqualObject),E.length>30)for(E[26]="".concat(um,"...").concat(qf);E.length>27;)E.pop();E.length===1?r=c8(this,fv(e).call(this,"".concat(p," ").concat(E[0]))):r=c8(this,fv(e).call(this,"".concat(p,`

`).concat(E.join(`
`),`
`)))}else{var w=rF(a),N="",R=P_[s];s==="notDeepEqual"||s==="notEqual"?(w="".concat(P_[s],`

`).concat(w),w.length>1024&&(w="".concat(w.slice(0,1021),"..."))):(N="".concat(rF(c)),w.length>512&&(w="".concat(w.slice(0,509),"...")),N.length>512&&(N="".concat(N.slice(0,509),"...")),s==="deepEqual"||s==="equal"?w="".concat(R,`

`).concat(w,`

should equal

`):N=" ".concat(s," ").concat(N)),r=c8(this,fv(e).call(this,"".concat(w).concat(N)))}return Error.stackTraceLimit=d,r.generatedMessage=!i,Object.defineProperty(dee(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=a,r.expected=c,r.operator=s,Error.captureStackTrace&&Error.captureStackTrace(dee(r),o),r.stack,r.name="AssertionError",c8(r)}return BZe(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:pee.custom,value:function(r,i){return pee(this,IZe({},i,{customInspect:!1,depth:0}))}}]),e}(hee(Error));Pve.exports=GZe});var Uve=Ae((c8t,qve)=>{"use strict";m();function jve(n,e){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(n),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s=Object.keys(Object(i)),o=0,a=s.length;o<a;o++){var c=s[o],d=Object.getOwnPropertyDescriptor(i,c);d!==void 0&&d.enumerable&&(t[c]=i[c])}}return t}function YZe(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:jve})}qve.exports={assign:jve,polyfill:YZe}});var mee=Ae((f8t,Hve)=>{"use strict";m();var zve=Object.prototype.toString;Hve.exports=function(e){var t=zve.call(e),r=t==="[object Arguments]";return r||(r=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&zve.call(e.callee)==="[object Function]"),r}});var Xve=Ae((d8t,Jve)=>{"use strict";m();var $ve;Object.keys||(iF=Object.prototype.hasOwnProperty,xee=Object.prototype.toString,Vve=mee(),gee=Object.prototype.propertyIsEnumerable,Wve=!gee.call({toString:null},"toString"),Qve=gee.call(function(){},"prototype"),sF=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],LB=function(n){var e=n.constructor;return e&&e.prototype===n},Gve={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Yve=function(){if(typeof window=="undefined")return!1;for(var n in window)try{if(!Gve["$"+n]&&iF.call(window,n)&&window[n]!==null&&typeof window[n]=="object")try{LB(window[n])}catch{return!0}}catch{return!0}return!1}(),Kve=function(n){if(typeof window=="undefined"||!Yve)return LB(n);try{return LB(n)}catch{return!1}},$ve=function(e){var t=e!==null&&typeof e=="object",r=xee.call(e)==="[object Function]",i=Vve(e),s=t&&xee.call(e)==="[object String]",o=[];if(!t&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var a=Qve&&r;if(s&&e.length>0&&!iF.call(e,0))for(var c=0;c<e.length;++c)o.push(String(c));if(i&&e.length>0)for(var d=0;d<e.length;++d)o.push(String(d));else for(var p in e)!(a&&p==="prototype")&&iF.call(e,p)&&o.push(String(p));if(Wve)for(var E=Kve(e),w=0;w<sF.length;++w)!(E&&sF[w]==="constructor")&&iF.call(e,sF[w])&&o.push(sF[w]);return o});var iF,xee,Vve,gee,Wve,Qve,sF,LB,Gve,Yve,Kve;Jve.exports=$ve});var n5e=Ae((h8t,t5e)=>{"use strict";m();var KZe=Array.prototype.slice,JZe=mee(),Zve=Object.keys,kB=Zve?function(e){return Zve(e)}:Xve(),e5e=Object.keys;kB.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(r){return JZe(r)?e5e(KZe.call(r)):e5e(r)})}else Object.keys=kB;return Object.keys||kB};t5e.exports=kB});var i5e=Ae((p8t,r5e)=>{"use strict";m();var XZe=GT(),yee=XZe("%Object.defineProperty%",!0),vee=function(){if(yee)try{return yee({},"a",{value:1}),!0}catch{return!1}return!1};vee.hasArrayLengthDefineBug=function(){if(!vee())return null;try{return yee([],"length",{value:1}).length!==1}catch{return!0}};r5e.exports=vee});var oF=Ae((m8t,u5e)=>{"use strict";m();var ZZe=n5e(),eet=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",tet=Object.prototype.toString,net=Array.prototype.concat,s5e=Object.defineProperty,ret=function(n){return typeof n=="function"&&tet.call(n)==="[object Function]"},iet=i5e()(),o5e=s5e&&iet,set=function(n,e,t,r){e in n&&(!ret(r)||!r())||(o5e?s5e(n,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):n[e]=t)},a5e=function(n,e){var t=arguments.length>2?arguments[2]:{},r=ZZe(e);eet&&(r=net.call(r,Object.getOwnPropertySymbols(e)));for(var i=0;i<r.length;i+=1)set(n,r[i],e[r[i]],t[r[i]])};a5e.supportsDescriptors=!!o5e;u5e.exports=a5e});var _ee=Ae((x8t,c5e)=>{"use strict";m();var l5e=function(n){return n!==n};c5e.exports=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||l5e(e)&&l5e(t))}});var bee=Ae((g8t,f5e)=>{"use strict";m();var oet=_ee();f5e.exports=function(){return typeof Object.is=="function"?Object.is:oet}});var h5e=Ae((y8t,d5e)=>{"use strict";m();var aet=bee(),uet=oF();d5e.exports=function(){var e=aet();return uet(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var Eee=Ae((v8t,x5e)=>{"use strict";m();var cet=oF(),fet=mB(),det=_ee(),p5e=bee(),het=h5e(),m5e=fet(p5e(),Object);cet(m5e,{getPolyfill:p5e,implementation:det,shim:het});x5e.exports=m5e});var See=Ae((_8t,g5e)=>{"use strict";m();g5e.exports=function(e){return e!==e}});var wee=Ae((b8t,y5e)=>{"use strict";m();var pet=See();y5e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:pet}});var _5e=Ae((E8t,v5e)=>{"use strict";m();var met=oF(),xet=wee();v5e.exports=function(){var e=xet();return met(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var w5e=Ae((S8t,S5e)=>{"use strict";m();var get=mB(),yet=oF(),vet=See(),b5e=wee(),_et=_5e(),E5e=get(b5e(),Number);yet(E5e,{getPolyfill:b5e,implementation:vet,shim:_et});S5e.exports=E5e});var H5e=Ae((w8t,z5e)=>{"use strict";m();function C5e(n,e){return wet(n)||Eet(n,e)||bet()}function bet(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Eet(n,e){var t=[],r=!0,i=!1,s=void 0;try{for(var o=n[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return t}function wet(n){if(Array.isArray(n))return n}function jh(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jh=function(t){return typeof t}:jh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(n)}var Cet=/a/g.flags!==void 0,IB=function(e){var t=[];return e.forEach(function(r){return t.push(r)}),t},A5e=function(e){var t=[];return e.forEach(function(r,i){return t.push([i,r])}),t},T5e=Object.is?Object.is:Eee(),MB=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},Cee=Number.isNaN?Number.isNaN:w5e();function Aee(n){return n.call.bind(n)}var aF=Aee(Object.prototype.hasOwnProperty),PB=Aee(Object.prototype.propertyIsEnumerable),F5e=Aee(Object.prototype.toString),dd=cv().types,Aet=dd.isAnyArrayBuffer,Tet=dd.isArrayBufferView,D5e=dd.isDate,BB=dd.isMap,O5e=dd.isRegExp,jB=dd.isSet,Fet=dd.isNativeError,Det=dd.isBoxedPrimitive,R5e=dd.isNumberObject,N5e=dd.isStringObject,L5e=dd.isBooleanObject,k5e=dd.isBigIntObject,Oet=dd.isSymbolObject,Ret=dd.isFloat32Array,Net=dd.isFloat64Array;function Let(n){if(n.length===0||n.length>10)return!0;for(var e=0;e<n.length;e++){var t=n.charCodeAt(e);if(t<48||t>57)return!0}return n.length===10&&n>=Math.pow(2,32)}function qB(n){return Object.keys(n).filter(Let).concat(MB(n).filter(Object.prototype.propertyIsEnumerable.bind(n)))}function I5e(n,e){if(n===e)return 0;for(var t=n.length,r=e.length,i=0,s=Math.min(t,r);i<s;++i)if(n[i]!==e[i]){t=n[i],r=e[i];break}return t<r?-1:r<t?1:0}var UB=void 0,ket=!0,Iet=!1,Tee=0,Fee=1,M5e=2,P5e=3;function Met(n,e){return Cet?n.source===e.source&&n.flags===e.flags:RegExp.prototype.toString.call(n)===RegExp.prototype.toString.call(e)}function Pet(n,e){if(n.byteLength!==e.byteLength)return!1;for(var t=0;t<n.byteLength;t++)if(n[t]!==e[t])return!1;return!0}function Bet(n,e){return n.byteLength!==e.byteLength?!1:I5e(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function jet(n,e){return n.byteLength===e.byteLength&&I5e(new Uint8Array(n),new Uint8Array(e))===0}function qet(n,e){return R5e(n)?R5e(e)&&T5e(Number.prototype.valueOf.call(n),Number.prototype.valueOf.call(e)):N5e(n)?N5e(e)&&String.prototype.valueOf.call(n)===String.prototype.valueOf.call(e):L5e(n)?L5e(e)&&Boolean.prototype.valueOf.call(n)===Boolean.prototype.valueOf.call(e):k5e(n)?k5e(e)&&BigInt.prototype.valueOf.call(n)===BigInt.prototype.valueOf.call(e):Oet(e)&&Symbol.prototype.valueOf.call(n)===Symbol.prototype.valueOf.call(e)}function Qp(n,e,t,r){if(n===e)return n!==0?!0:t?T5e(n,e):!0;if(t){if(jh(n)!=="object")return typeof n=="number"&&Cee(n)&&Cee(e);if(jh(e)!=="object"||n===null||e===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1}else{if(n===null||jh(n)!=="object")return e===null||jh(e)!=="object"?n==e:!1;if(e===null||jh(e)!=="object")return!1}var i=F5e(n),s=F5e(e);if(i!==s)return!1;if(Array.isArray(n)){if(n.length!==e.length)return!1;var o=qB(n,UB),a=qB(e,UB);return o.length!==a.length?!1:uF(n,e,t,r,Fee,o)}if(i==="[object Object]"&&(!BB(n)&&BB(e)||!jB(n)&&jB(e)))return!1;if(D5e(n)){if(!D5e(e)||Date.prototype.getTime.call(n)!==Date.prototype.getTime.call(e))return!1}else if(O5e(n)){if(!O5e(e)||!Met(n,e))return!1}else if(Fet(n)||n instanceof Error){if(n.message!==e.message||n.name!==e.name)return!1}else if(Tet(n)){if(!t&&(Ret(n)||Net(n))){if(!Pet(n,e))return!1}else if(!Bet(n,e))return!1;var c=qB(n,UB),d=qB(e,UB);return c.length!==d.length?!1:uF(n,e,t,r,Tee,c)}else{if(jB(n))return!jB(e)||n.size!==e.size?!1:uF(n,e,t,r,M5e);if(BB(n))return!BB(e)||n.size!==e.size?!1:uF(n,e,t,r,P5e);if(Aet(n)){if(!jet(n,e))return!1}else if(Det(n)&&!qet(n,e))return!1}return uF(n,e,t,r,Tee)}function B5e(n,e){return e.filter(function(t){return PB(n,t)})}function uF(n,e,t,r,i,s){if(arguments.length===5){s=Object.keys(n);var o=Object.keys(e);if(s.length!==o.length)return!1}for(var a=0;a<s.length;a++)if(!aF(e,s[a]))return!1;if(t&&arguments.length===5){var c=MB(n);if(c.length!==0){var d=0;for(a=0;a<c.length;a++){var p=c[a];if(PB(n,p)){if(!PB(e,p))return!1;s.push(p),d++}else if(PB(e,p))return!1}var E=MB(e);if(c.length!==E.length&&B5e(e,E).length!==d)return!1}else{var w=MB(e);if(w.length!==0&&B5e(e,w).length!==0)return!1}}if(s.length===0&&(i===Tee||i===Fee&&n.length===0||n.size===0))return!0;if(r===void 0)r={val1:new Map,val2:new Map,position:0};else{var N=r.val1.get(n);if(N!==void 0){var R=r.val2.get(e);if(R!==void 0)return N===R}r.position++}r.val1.set(n,r.position),r.val2.set(e,r.position);var U=Vet(n,e,t,s,r,i);return r.val1.delete(n),r.val2.delete(e),U}function j5e(n,e,t,r){for(var i=IB(n),s=0;s<i.length;s++){var o=i[s];if(Qp(e,o,t,r))return n.delete(o),!0}return!1}function q5e(n){switch(jh(n)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":n=+n;case"number":if(Cee(n))return!1}return!0}function Uet(n,e,t){var r=q5e(t);return r??(e.has(r)&&!n.has(r))}function zet(n,e,t,r,i){var s=q5e(t);if(s!=null)return s;var o=e.get(s);return o===void 0&&!e.has(s)||!Qp(r,o,!1,i)?!1:!n.has(s)&&Qp(r,o,!1,i)}function Het(n,e,t,r){for(var i=null,s=IB(n),o=0;o<s.length;o++){var a=s[o];if(jh(a)==="object"&&a!==null)i===null&&(i=new Set),i.add(a);else if(!e.has(a)){if(t||!Uet(n,e,a))return!1;i===null&&(i=new Set),i.add(a)}}if(i!==null){for(var c=IB(e),d=0;d<c.length;d++){var p=c[d];if(jh(p)==="object"&&p!==null){if(!j5e(i,p,t,r))return!1}else if(!t&&!n.has(p)&&!j5e(i,p,t,r))return!1}return i.size===0}return!0}function U5e(n,e,t,r,i,s){for(var o=IB(n),a=0;a<o.length;a++){var c=o[a];if(Qp(t,c,i,s)&&Qp(r,e.get(c),i,s))return n.delete(c),!0}return!1}function $et(n,e,t,r){for(var i=null,s=A5e(n),o=0;o<s.length;o++){var a=C5e(s[o],2),c=a[0],d=a[1];if(jh(c)==="object"&&c!==null)i===null&&(i=new Set),i.add(c);else{var p=e.get(c);if(p===void 0&&!e.has(c)||!Qp(d,p,t,r)){if(t||!zet(n,e,c,d,r))return!1;i===null&&(i=new Set),i.add(c)}}}if(i!==null){for(var E=A5e(e),w=0;w<E.length;w++){var N=C5e(E[w],2),c=N[0],R=N[1];if(jh(c)==="object"&&c!==null){if(!U5e(i,n,c,R,t,r))return!1}else if(!t&&(!n.has(c)||!Qp(n.get(c),R,!1,r))&&!U5e(i,n,c,R,!1,r))return!1}return i.size===0}return!0}function Vet(n,e,t,r,i,s){var o=0;if(s===M5e){if(!Het(n,e,t,i))return!1}else if(s===P5e){if(!$et(n,e,t,i))return!1}else if(s===Fee)for(;o<n.length;o++)if(aF(n,o)){if(!aF(e,o)||!Qp(n[o],e[o],t,i))return!1}else{if(aF(e,o))return!1;for(var a=Object.keys(n);o<a.length;o++){var c=a[o];if(!aF(e,c)||!Qp(n[c],e[c],t,i))return!1}return a.length===Object.keys(e).length}for(o=0;o<r.length;o++){var d=r[o];if(!Qp(n[d],e[d],t,i))return!1}return!0}function Wet(n,e){return Qp(n,e,Iet)}function Qet(n,e){return Qp(n,e,ket)}z5e.exports={isDeepEqual:Wet,isDeepStrictEqual:Qet}});var C0=Ae((C8t,s4e)=>{"use strict";m();function dv(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dv=function(t){return typeof t}:dv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(n)}function Get(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Yet=fee(),lF=Yet.codes,$5e=lF.ERR_AMBIGUOUS_ARGUMENT,cF=lF.ERR_INVALID_ARG_TYPE,Ket=lF.ERR_INVALID_ARG_VALUE,Jet=lF.ERR_INVALID_RETURN_VALUE,hv=lF.ERR_MISSING_ARGS,B_=Bve(),Xet=cv(),Zet=Xet.inspect,V5e=cv().types,ett=V5e.isPromise,Dee=V5e.isRegExp,ttt=Object.assign?Object.assign:Uve().assign,W5e=Object.is?Object.is:Eee(),pv,zB;function fF(){var n=H5e();pv=n.isDeepEqual,zB=n.isDeepStrictEqual}var Q5e=!1,Wu=s4e.exports=Oee,HB={};function lm(n){throw n.message instanceof Error?n.message:new B_(n)}function G5e(n,e,t,r,i){var s=arguments.length,o;if(s===0)o="Failed";else if(s===1)t=n,n=void 0;else{if(Q5e===!1){Q5e=!0;var a=process.emitWarning?process.emitWarning:console.warn.bind(console);a("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(r="!=")}if(t instanceof Error)throw t;var c={actual:n,expected:e,operator:r===void 0?"fail":r,stackStartFn:i||G5e};t!==void 0&&(c.message=t);var d=new B_(c);throw o&&(d.message=o,d.generatedMessage=!0),d}Wu.fail=G5e;Wu.AssertionError=B_;function Y5e(n,e,t,r){if(!t){var i=!1;if(e===0)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var s=new B_({actual:t,expected:!0,message:r,operator:"==",stackStartFn:n});throw s.generatedMessage=i,s}}function Oee(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];Y5e.apply(void 0,[Oee,e.length].concat(e))}Wu.ok=Oee;Wu.equal=function n(e,t,r){if(arguments.length<2)throw new hv("actual","expected");e!=t&&lm({actual:e,expected:t,message:r,operator:"==",stackStartFn:n})};Wu.notEqual=function n(e,t,r){if(arguments.length<2)throw new hv("actual","expected");e==t&&lm({actual:e,expected:t,message:r,operator:"!=",stackStartFn:n})};Wu.deepEqual=function n(e,t,r){if(arguments.length<2)throw new hv("actual","expected");pv===void 0&&fF(),pv(e,t)||lm({actual:e,expected:t,message:r,operator:"deepEqual",stackStartFn:n})};Wu.notDeepEqual=function n(e,t,r){if(arguments.length<2)throw new hv("actual","expected");pv===void 0&&fF(),pv(e,t)&&lm({actual:e,expected:t,message:r,operator:"notDeepEqual",stackStartFn:n})};Wu.deepStrictEqual=function n(e,t,r){if(arguments.length<2)throw new hv("actual","expected");pv===void 0&&fF(),zB(e,t)||lm({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n})};Wu.notDeepStrictEqual=K5e;function K5e(n,e,t){if(arguments.length<2)throw new hv("actual","expected");pv===void 0&&fF(),zB(n,e)&&lm({actual:n,expected:e,message:t,operator:"notDeepStrictEqual",stackStartFn:K5e})}Wu.strictEqual=function n(e,t,r){if(arguments.length<2)throw new hv("actual","expected");W5e(e,t)||lm({actual:e,expected:t,message:r,operator:"strictEqual",stackStartFn:n})};Wu.notStrictEqual=function n(e,t,r){if(arguments.length<2)throw new hv("actual","expected");W5e(e,t)&&lm({actual:e,expected:t,message:r,operator:"notStrictEqual",stackStartFn:n})};var J5e=function n(e,t,r){var i=this;Get(this,n),t.forEach(function(s){s in e&&(r!==void 0&&typeof r[s]=="string"&&Dee(e[s])&&e[s].test(r[s])?i[s]=r[s]:i[s]=e[s])})};function ntt(n,e,t,r,i,s){if(!(t in n)||!zB(n[t],e[t])){if(!r){var o=new J5e(n,i),a=new J5e(e,i,n),c=new B_({actual:o,expected:a,operator:"deepStrictEqual",stackStartFn:s});throw c.actual=n,c.expected=e,c.operator=s.name,c}lm({actual:n,expected:e,message:r,operator:s.name,stackStartFn:s})}}function X5e(n,e,t,r){if(typeof e!="function"){if(Dee(e))return e.test(n);if(arguments.length===2)throw new cF("expected",["Function","RegExp"],e);if(dv(n)!=="object"||n===null){var i=new B_({actual:n,expected:e,message:t,operator:"deepStrictEqual",stackStartFn:r});throw i.operator=r.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new Ket("error",e,"may not be an empty object");return pv===void 0&&fF(),s.forEach(function(o){typeof n[o]=="string"&&Dee(e[o])&&e[o].test(n[o])||ntt(n,e,o,t,s,r)}),!0}return e.prototype!==void 0&&n instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},n)===!0}function Z5e(n){if(typeof n!="function")throw new cF("fn","Function",n);try{n()}catch(e){return e}return HB}function e4e(n){return ett(n)||n!==null&&dv(n)==="object"&&typeof n.then=="function"&&typeof n.catch=="function"}function t4e(n){return Promise.resolve().then(function(){var e;if(typeof n=="function"){if(e=n(),!e4e(e))throw new Jet("instance of Promise","promiseFn",e)}else if(e4e(n))e=n;else throw new cF("promiseFn",["Function","Promise"],n);return Promise.resolve().then(function(){return e}).then(function(){return HB}).catch(function(t){return t})})}function n4e(n,e,t,r){if(typeof t=="string"){if(arguments.length===4)throw new cF("error",["Object","Error","Function","RegExp"],t);if(dv(e)==="object"&&e!==null){if(e.message===t)throw new $5e("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===t)throw new $5e("error/message",'The error "'.concat(e,'" is identical to the message.'));r=t,t=void 0}else if(t!=null&&dv(t)!=="object"&&typeof t!="function")throw new cF("error",["Object","Error","Function","RegExp"],t);if(e===HB){var i="";t&&t.name&&(i+=" (".concat(t.name,")")),i+=r?": ".concat(r):".";var s=n.name==="rejects"?"rejection":"exception";lm({actual:void 0,expected:t,operator:n.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:n})}if(t&&!X5e(e,t,r,n))throw e}function r4e(n,e,t,r){if(e!==HB){if(typeof t=="string"&&(r=t,t=void 0),!t||X5e(e,t)){var i=r?": ".concat(r):".",s=n.name==="doesNotReject"?"rejection":"exception";lm({actual:e,expected:t,operator:n.name,message:"Got unwanted ".concat(s).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:n})}throw e}}Wu.throws=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n4e.apply(void 0,[n,Z5e(e)].concat(r))};Wu.rejects=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return t4e(e).then(function(s){return n4e.apply(void 0,[n,s].concat(r))})};Wu.doesNotThrow=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];r4e.apply(void 0,[n,Z5e(e)].concat(r))};Wu.doesNotReject=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return t4e(e).then(function(s){return r4e.apply(void 0,[n,s].concat(r))})};Wu.ifError=function n(e){if(e!=null){var t="ifError got unwanted exception: ";dv(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?t+=e.constructor.name:t+=e.message:t+=Zet(e);var r=new B_({actual:e,expected:null,operator:"ifError",message:t,stackStartFn:n}),i=e.stack;if(typeof i=="string"){var s=i.split(`
`);s.shift();for(var o=r.stack.split(`
`),a=0;a<s.length;a++){var c=o.indexOf(s[a]);if(c!==-1){o=o.slice(0,c);break}}r.stack="".concat(o.join(`
`),`
`).concat(s.join(`
`))}throw r}};function i4e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];Y5e.apply(void 0,[i4e,e.length].concat(e))}Wu.strict=ttt(i4e,Wu,{equal:Wu.strictEqual,deepEqual:Wu.deepStrictEqual,notEqual:Wu.notStrictEqual,notDeepEqual:Wu.notDeepStrictEqual});Wu.strict.strict=Wu.strict});var Sr=Ae(D2=>{"use strict";m();Object.defineProperty(D2,"__esModule",{value:!0});D2.SuppressWarnings=D2.Override=D2.Nullable=D2.NotNull=void 0;function rtt(n,e,t){}D2.NotNull=rtt;function itt(n,e,t){}D2.Nullable=itt;function stt(n,e,t){}D2.Override=stt;function ott(n){return(e,t,r)=>{}}D2.SuppressWarnings=ott});var Sg=Ae(dF=>{"use strict";m();Object.defineProperty(dF,"__esModule",{value:!0});dF.IntStream=void 0;var att;(function(n){n.EOF=-1,n.UNKNOWN_SOURCE_NAME="<unknown>"})(att=dF.IntStream||(dF.IntStream={}))});var o4e=Ae(f8=>{"use strict";m();var O2=f8&&f8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(f8,"__esModule",{value:!0});f8.ANTLRInputStream=void 0;var utt=C0(),R2=Sr(),$B=Sg(),Gp=class{constructor(e){this.p=0,this.data=e,this.n=e.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw utt(this.LA(1)===$B.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(e){return e===0?0:e<0&&(e++,this.p+e-1<0)||this.p+e-1>=this.n?$B.IntStream.EOF:this.data.charCodeAt(this.p+e-1)}LT(e){return this.LA(e)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(e){}seek(e){if(e<=this.p){this.p=e;return}for(e=Math.min(e,this.n);this.p<e;)this.consume()}getText(e){let t=e.a,r=e.b;r>=this.n&&(r=this.n-1);let i=r-t+1;return t>=this.n?"":this.data.substr(t,i)}get sourceName(){return this.name?this.name:$B.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}};O2([R2.Override],Gp.prototype,"consume",null);O2([R2.Override],Gp.prototype,"LA",null);O2([R2.Override],Gp.prototype,"index",null);O2([R2.Override],Gp.prototype,"size",null);O2([R2.Override],Gp.prototype,"mark",null);O2([R2.Override],Gp.prototype,"release",null);O2([R2.Override],Gp.prototype,"seek",null);O2([R2.Override],Gp.prototype,"getText",null);O2([R2.Override],Gp.prototype,"sourceName",null);O2([R2.Override],Gp.prototype,"toString",null);f8.ANTLRInputStream=Gp});var N2=Ae(mv=>{"use strict";m();var Ree=mv&&mv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(mv,"__esModule",{value:!0});mv.ATNState=void 0;var Nee=Sr(),wg=class{constructor(){this.stateNumber=wg.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(e){return e instanceof wg?this.stateNumber===e.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(e,t){if(this.transitions.length===0)this.epsilonOnlyTransitions=e.isEpsilon;else if(this.epsilonOnlyTransitions!==e.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(t!==void 0?t:this.transitions.length,0,e)}transition(e){return this.transitions[e]}setTransition(e,t){this.transitions[e]=t}removeTransition(e){return this.transitions.splice(e,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(e){this.ruleIndex=e}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(e){return this.optimizedTransitions[e]}addOptimizedTransition(e){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(e)}setOptimizedTransition(e,t){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[e]=t}removeOptimizedTransition(e){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(e,1)}};Ree([Nee.Override],wg.prototype,"hashCode",null);Ree([Nee.Override],wg.prototype,"equals",null);Ree([Nee.Override],wg.prototype,"toString",null);mv.ATNState=wg;(function(n){n.INVALID_STATE_NUMBER=-1})(wg=mv.ATNState||(mv.ATNState={}))});var cf=Ae(hF=>{"use strict";m();Object.defineProperty(hF,"__esModule",{value:!0});hF.ATNStateType=void 0;var ltt;(function(n){n[n.INVALID_TYPE=0]="INVALID_TYPE",n[n.BASIC=1]="BASIC",n[n.RULE_START=2]="RULE_START",n[n.BLOCK_START=3]="BLOCK_START",n[n.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",n[n.STAR_BLOCK_START=5]="STAR_BLOCK_START",n[n.TOKEN_START=6]="TOKEN_START",n[n.RULE_STOP=7]="RULE_STOP",n[n.BLOCK_END=8]="BLOCK_END",n[n.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",n[n.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",n[n.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",n[n.LOOP_END=12]="LOOP_END"})(ltt=hF.ATNStateType||(hF.ATNStateType={}))});var Cg=Ae(VB=>{"use strict";m();Object.defineProperty(VB,"__esModule",{value:!0});VB.RecognitionException=void 0;var a4e=class extends Error{constructor(e,t,r,i){super(i);this._offendingState=-1,this._recognizer=e,this.input=t,this.ctx=r,e&&(this._offendingState=e.state)}get offendingState(){return this._offendingState}setOffendingState(e){this._offendingState=e}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(e){if(!(e&&e!==this._recognizer))return this.offendingToken}setOffendingToken(e,t){e===this._recognizer&&(this.offendingToken=t)}get recognizer(){return this._recognizer}};VB.RecognitionException=a4e});var Ag=Ae(xv=>{"use strict";m();var u4e=xv&&xv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ctt=xv&&xv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(xv,"__esModule",{value:!0});xv.Transition=void 0;var l4e=Sr(),pF=class{constructor(e){if(e==null)throw new Error("target cannot be null.");this.target=e}get isEpsilon(){return!1}get label(){}};pF.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"];u4e([l4e.NotNull],pF.prototype,"target",void 0);pF=u4e([ctt(0,l4e.NotNull)],pF);xv.Transition=pF});var QB=Ae(WB=>{"use strict";m();Object.defineProperty(WB,"__esModule",{value:!0});WB.AbstractPredicateTransition=void 0;var ftt=Ag(),c4e=class extends ftt.Transition{constructor(e){super(e)}};WB.AbstractPredicateTransition=c4e});var Ol=Ae(mF=>{"use strict";m();Object.defineProperty(mF,"__esModule",{value:!0});mF.MurmurHash=void 0;var dtt;(function(n){let e=0;function t(a=e){return a}n.initialize=t;function r(a,c){let d=3432918353,p=461845907,E=15,w=13,N=5,R=3864292196;c==null?c=0:typeof c=="string"?c=o(c):typeof c=="object"&&(c=c.hashCode());let U=c;return U=Math.imul(U,d),U=U<<E|U>>>32-E,U=Math.imul(U,p),a=a^U,a=a<<w|a>>>32-w,a=Math.imul(a,N)+R,a&4294967295}n.update=r;function i(a,c){return a=a^c*4,a=a^a>>>16,a=Math.imul(a,2246822507),a=a^a>>>13,a=Math.imul(a,3266489909),a=a^a>>>16,a}n.finish=i;function s(a,c=e){let d=t(c),p=0;for(let E of a)d=r(d,E),p++;return d=i(d,p),d}n.hashCode=s;function o(a){let c=a.length;if(c===0)return 0;let d=0;for(let p=0;p<c;p++){let E=a.charCodeAt(p);d=(d<<5>>>0)-d+E,d|=0}return d}})(dtt=mF.MurmurHash||(mF.MurmurHash={}))});var cm=Ae(h8=>{"use strict";m();var f4e=h8&&h8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(h8,"__esModule",{value:!0});h8.ObjectEqualityComparator=void 0;var d4e=Sr(),d8=class{hashCode(e){return e==null?0:e.hashCode()}equals(e,t){return e==null?t==null:e.equals(t)}};d8.INSTANCE=new d8;f4e([d4e.Override],d8.prototype,"hashCode",null);f4e([d4e.Override],d8.prototype,"equals",null);h8.ObjectEqualityComparator=d8});var x4e=Ae(m8=>{"use strict";m();var h4e=m8&&m8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(m8,"__esModule",{value:!0});m8.DefaultEqualityComparator=void 0;var p4e=Sr(),htt=Ol(),m4e=cm(),p8=class{hashCode(e){return e==null?0:typeof e=="string"||typeof e=="number"?htt.MurmurHash.hashCode([e]):m4e.ObjectEqualityComparator.INSTANCE.hashCode(e)}equals(e,t){return e==null?t==null:typeof e=="string"||typeof e=="number"?e===t:m4e.ObjectEqualityComparator.INSTANCE.equals(e,t)}};p8.INSTANCE=new p8;h4e([p4e.Override],p8.prototype,"hashCode",null);h4e([p4e.Override],p8.prototype,"equals",null);m8.DefaultEqualityComparator=p8});var Tg=Ae(gv=>{"use strict";m();var A0=gv&&gv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ptt=gv&&gv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(gv,"__esModule",{value:!0});gv.Array2DHashSet=void 0;var mtt=C0(),xtt=x4e(),T0=Sr(),Lee=Ol(),GB=16,kee=.75,Rl=class{constructor(e,t=GB){if(this.n=0,this.threshold=Math.floor(GB*kee),e instanceof Rl){this.comparator=e.comparator,this.buckets=e.buckets.slice(0);for(let r=0;r<this.buckets.length;r++){let i=this.buckets[r];i&&(this.buckets[r]=i.slice(0))}this.n=e.n,this.threshold=e.threshold}else this.comparator=e||xtt.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(t)}getOrAdd(e){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(e)}getOrAddImpl(e){let t=this.getBucket(e),r=this.buckets[t];if(!r)return r=[e],this.buckets[t]=r,this.n++,e;for(let i of r)if(this.comparator.equals(i,e))return i;return r.push(e),this.n++,e}get(e){if(e==null)return e;let t=this.getBucket(e),r=this.buckets[t];if(!!r){for(let i of r)if(this.comparator.equals(i,e))return i}}getBucket(e){return this.comparator.hashCode(e)&this.buckets.length-1}hashCode(){let e=Lee.MurmurHash.initialize();for(let t of this.buckets)if(t!=null)for(let r of t){if(r==null)break;e=Lee.MurmurHash.update(e,this.comparator.hashCode(r))}return e=Lee.MurmurHash.finish(e,this.size),e}equals(e){return e===this?!0:!(e instanceof Rl)||e.size!==this.size?!1:this.containsAll(e)}expand(){let e=this.buckets,t=this.buckets.length*2,r=this.createBuckets(t);this.buckets=r,this.threshold=Math.floor(t*kee);let i=this.size;for(let s of e)if(!!s)for(let o of s){let a=this.getBucket(o),c=this.buckets[a];c||(c=[],this.buckets[a]=c),c.push(o)}mtt(this.n===i)}add(e){return this.getOrAdd(e)===e}get size(){return this.n}get isEmpty(){return this.n===0}contains(e){return this.containsFast(this.asElementType(e))}containsFast(e){return e==null?!1:this.get(e)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){let e=new Array(this.size),t=0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;e[t++]=i}return e}containsAll(e){if(e instanceof Rl){let t=e;for(let r of t.buckets)if(r!=null)for(let i of r){if(i==null)break;if(!this.containsFast(this.asElementType(i)))return!1}}else for(let t of e)if(!this.containsFast(this.asElementType(t)))return!1;return!0}addAll(e){let t=!1;for(let r of e)this.getOrAdd(r)!==r&&(t=!0);return t}clear(){this.buckets=this.createBuckets(GB),this.n=0,this.threshold=Math.floor(GB*kee)}toString(){if(this.size===0)return"{}";let e="{",t=!0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;t?t=!1:e+=", ",e+=i.toString()}return e+="}",e}toTableString(){let e="";for(let t of this.buckets){if(t==null){e+=`null
`;continue}e+="[";let r=!0;for(let i of t)r?r=!1:e+=" ",i==null?e+="_":e+=i.toString();e+=`]
`}return e}asElementType(e){return e}createBuckets(e){return new Array(e)}};A0([T0.NotNull],Rl.prototype,"comparator",void 0);A0([T0.Override],Rl.prototype,"hashCode",null);A0([T0.Override],Rl.prototype,"equals",null);A0([T0.Override],Rl.prototype,"add",null);A0([T0.Override],Rl.prototype,"size",null);A0([T0.Override],Rl.prototype,"isEmpty",null);A0([T0.Override],Rl.prototype,"contains",null);A0([ptt(0,T0.Nullable)],Rl.prototype,"containsFast",null);A0([T0.Override],Rl.prototype,Symbol.iterator,null);A0([T0.Override],Rl.prototype,"toArray",null);A0([T0.Override],Rl.prototype,"containsAll",null);A0([T0.Override],Rl.prototype,"addAll",null);A0([T0.Override],Rl.prototype,"clear",null);A0([T0.Override],Rl.prototype,"toString",null);A0([T0.SuppressWarnings("unchecked")],Rl.prototype,"asElementType",null);A0([T0.SuppressWarnings("unchecked")],Rl.prototype,"createBuckets",null);gv.Array2DHashSet=Rl});var xF=Ae(g8=>{"use strict";m();var g4e=g8&&g8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(g8,"__esModule",{value:!0});g8.ArrayEqualityComparator=void 0;var y4e=Sr(),gtt=Ol(),ytt=cm(),x8=class{hashCode(e){return e==null?0:gtt.MurmurHash.hashCode(e,0)}equals(e,t){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!ytt.ObjectEqualityComparator.INSTANCE.equals(e[r],t[r]))return!1;return!0}};x8.INSTANCE=new x8;g4e([y4e.Override],x8.prototype,"hashCode",null);g4e([y4e.Override],x8.prototype,"equals",null);g8.ArrayEqualityComparator=x8});var fm=Ae(Yp=>{"use strict";m();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.toCharArray=Yp.toMap=Yp.equals=Yp.join=Yp.escapeWhitespace=void 0;function vtt(n,e){return e?n.replace(/ /,"\xB7"):n.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}Yp.escapeWhitespace=vtt;function _tt(n,e){let t="",r=!0;for(let i of n)r?r=!1:t+=e,t+=i;return t}Yp.join=_tt;function btt(n,e){return n===e?!0:n===void 0||e===void 0?!1:n.equals(e)}Yp.equals=btt;function Ett(n){let e=new Map;for(let t=0;t<n.length;t++)e.set(n[t],t);return e}Yp.toMap=Ett;function Stt(n){if(typeof n=="string"){let e=new Uint16Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}else return n.toCharArray()}Yp.toCharArray=Stt});var q_=Ae(L2=>{"use strict";m();var Qu=L2&&L2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},YB=L2&&L2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(L2,"__esModule",{value:!0});L2.SemanticContext=void 0;var v4e=Tg(),_4e=xF(),j_=Ol(),su=Sr(),b4e=cm(),E4e=fm();function wtt(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)<0&&(e=t)}return e}function Ctt(n){let e;for(let t of n){if(e===void 0){e=t;continue}e.compareTo(t)>0&&(e=t)}return e}var hd=class{static get NONE(){return hd._NONE===void 0&&(hd._NONE=new hd.Predicate),hd._NONE}evalPrecedence(e,t){return this}static and(e,t){if(!e||e===hd.NONE)return t;if(t===hd.NONE)return e;let r=new hd.AND(e,t);return r.opnds.length===1?r.opnds[0]:r}static or(e,t){if(!e)return t;if(e===hd.NONE||t===hd.NONE)return hd.NONE;let r=new hd.OR(e,t);return r.opnds.length===1?r.opnds[0]:r}};L2.SemanticContext=hd;(function(n){let e=40363613,t=486279973;function r(d){let p=[];for(let E=0;E<d.length;E++){let w=d[E];w instanceof n.PrecedencePredicate&&(p.push(w),d.splice(E,1),E--)}return p}class i extends n{constructor(p=-1,E=-1,w=!1){super();this.ruleIndex=p,this.predIndex=E,this.isCtxDependent=w}eval(p,E){let w=this.isCtxDependent?E:void 0;return p.sempred(w,this.ruleIndex,this.predIndex)}hashCode(){let p=j_.MurmurHash.initialize();return p=j_.MurmurHash.update(p,this.ruleIndex),p=j_.MurmurHash.update(p,this.predIndex),p=j_.MurmurHash.update(p,this.isCtxDependent?1:0),p=j_.MurmurHash.finish(p,3),p}equals(p){return p instanceof i?this===p?!0:this.ruleIndex===p.ruleIndex&&this.predIndex===p.predIndex&&this.isCtxDependent===p.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}Qu([su.Override],i.prototype,"eval",null),Qu([su.Override],i.prototype,"hashCode",null),Qu([su.Override],i.prototype,"equals",null),Qu([su.Override],i.prototype,"toString",null),n.Predicate=i;class s extends n{constructor(p){super();this.precedence=p}eval(p,E){return p.precpred(E,this.precedence)}evalPrecedence(p,E){if(p.precpred(E,this.precedence))return n.NONE}compareTo(p){return this.precedence-p.precedence}hashCode(){let p=1;return p=31*p+this.precedence,p}equals(p){return p instanceof s?this===p?!0:this.precedence===p.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}Qu([su.Override],s.prototype,"eval",null),Qu([su.Override],s.prototype,"evalPrecedence",null),Qu([su.Override],s.prototype,"compareTo",null),Qu([su.Override],s.prototype,"hashCode",null),Qu([su.Override],s.prototype,"equals",null),Qu([su.Override],s.prototype,"toString",null),n.PrecedencePredicate=s;class o extends n{}n.Operator=o;let a=class KB extends o{constructor(p,E){super();let w=new v4e.Array2DHashSet(b4e.ObjectEqualityComparator.INSTANCE);p instanceof KB?w.addAll(p.opnds):w.add(p),E instanceof KB?w.addAll(E.opnds):w.add(E),this.opnds=w.toArray();let N=r(this.opnds),R=Ctt(N);R&&this.opnds.push(R)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof KB?_4e.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return j_.MurmurHash.hashCode(this.opnds,e)}eval(p,E){for(let w of this.opnds)if(!w.eval(p,E))return!1;return!0}evalPrecedence(p,E){let w=!1,N=[];for(let U of this.opnds){let Q=U.evalPrecedence(p,E);if(w=w||Q!==U,Q==null)return;Q!==n.NONE&&N.push(Q)}if(!w)return this;if(N.length===0)return n.NONE;let R=N[0];for(let U=1;U<N.length;U++)R=n.and(R,N[U]);return R}toString(){return E4e.join(this.opnds,"&&")}};Qu([su.Override],a.prototype,"operands",null),Qu([su.Override],a.prototype,"equals",null),Qu([su.Override],a.prototype,"hashCode",null),Qu([su.Override],a.prototype,"eval",null),Qu([su.Override],a.prototype,"evalPrecedence",null),Qu([su.Override],a.prototype,"toString",null),a=Qu([YB(0,su.NotNull),YB(1,su.NotNull)],a),n.AND=a;let c=class JB extends o{constructor(p,E){super();let w=new v4e.Array2DHashSet(b4e.ObjectEqualityComparator.INSTANCE);p instanceof JB?w.addAll(p.opnds):w.add(p),E instanceof JB?w.addAll(E.opnds):w.add(E),this.opnds=w.toArray();let N=r(this.opnds),R=wtt(N);R&&this.opnds.push(R)}get operands(){return this.opnds}equals(p){return this===p?!0:p instanceof JB?_4e.ArrayEqualityComparator.INSTANCE.equals(this.opnds,p.opnds):!1}hashCode(){return j_.MurmurHash.hashCode(this.opnds,t)}eval(p,E){for(let w of this.opnds)if(w.eval(p,E))return!0;return!1}evalPrecedence(p,E){let w=!1,N=[];for(let U of this.opnds){let Q=U.evalPrecedence(p,E);if(w=w||Q!==U,Q===n.NONE)return n.NONE;Q&&N.push(Q)}if(!w)return this;if(N.length===0)return;let R=N[0];for(let U=1;U<N.length;U++)R=n.or(R,N[U]);return R}toString(){return E4e.join(this.opnds,"||")}};Qu([su.Override],c.prototype,"operands",null),Qu([su.Override],c.prototype,"equals",null),Qu([su.Override],c.prototype,"hashCode",null),Qu([su.Override],c.prototype,"eval",null),Qu([su.Override],c.prototype,"evalPrecedence",null),Qu([su.Override],c.prototype,"toString",null),c=Qu([YB(0,su.NotNull),YB(1,su.NotNull)],c),n.OR=c})(hd=L2.SemanticContext||(L2.SemanticContext={}))});var Iee=Ae(yv=>{"use strict";m();var gF=yv&&yv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Att=yv&&yv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(yv,"__esModule",{value:!0});yv.PredicateTransition=void 0;var Ttt=QB(),y8=Sr(),Ftt=q_(),U_=class extends Ttt.AbstractPredicateTransition{constructor(e,t,r,i){super(e);this.ruleIndex=t,this.predIndex=r,this.isCtxDependent=i}get serializationType(){return 4}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new Ftt.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};gF([y8.Override],U_.prototype,"serializationType",null);gF([y8.Override],U_.prototype,"isEpsilon",null);gF([y8.Override],U_.prototype,"matches",null);gF([y8.Override,y8.NotNull],U_.prototype,"toString",null);U_=gF([Att(0,y8.NotNull)],U_);yv.PredicateTransition=U_});var yF=Ae(vv=>{"use strict";m();var S4e=vv&&vv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Dtt=vv&&vv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(vv,"__esModule",{value:!0});vv.FailedPredicateException=void 0;var Ott=Cg(),w4e=Sr(),Rtt=Iee(),XB=class C4e extends Ott.RecognitionException{constructor(e,t,r){super(e,e.inputStream,e.context,C4e.formatMessage(t,r));let s=e.interpreter.atn.states[e.state].transition(0);s instanceof Rtt.PredicateTransition?(this._ruleIndex=s.ruleIndex,this._predicateIndex=s.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=t,super.setOffendingToken(e,e.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(e,t){return t||`failed predicate: {${e}}?`}};S4e([w4e.NotNull],XB,"formatMessage",null);XB=S4e([Dtt(0,w4e.NotNull)],XB);vv.FailedPredicateException=XB});var vF=Ae(_v=>{"use strict";m();var Ntt=_v&&_v.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ltt=_v&&_v.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(_v,"__esModule",{value:!0});_v.InputMismatchException=void 0;var ktt=Cg(),Itt=Sr(),Mee=class extends ktt.RecognitionException{constructor(e,t,r){r===void 0&&(r=e.context);super(e,e.inputStream,r);t!==void 0&&this.setOffendingState(t),this.setOffendingToken(e,e.currentToken)}};Mee=Ntt([Ltt(0,Itt.NotNull)],Mee);_v.InputMismatchException=Mee});var ZB=Ae(_F=>{"use strict";m();Object.defineProperty(_F,"__esModule",{value:!0});_F.Arrays=void 0;var Mtt;(function(n){function e(i,s,o,a){return t(i,o!==void 0?o:0,a!==void 0?a:i.length,s)}n.binarySearch=e;function t(i,s,o,a){let c=s,d=o-1;for(;c<=d;){let p=c+d>>>1,E=i[p];if(E<a)c=p+1;else if(E>a)d=p-1;else return p}return-(c+1)}function r(i){let s="[",o=!0;for(let a of i)o?o=!1:s+=", ",a===null?s+="null":a===void 0?s+="undefined":s+=a;return s+="]",s}n.toString=r})(Mtt=_F.Arrays||(_F.Arrays={}))});var nj=Ae(v8=>{"use strict";m();var ej=v8&&v8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(v8,"__esModule",{value:!0});v8.IntegerList=void 0;var Ptt=ZB(),tj=Sr(),Pee=new Int32Array(0),Btt=4,Bee=(1<<31>>>0)-1-8,k2=class{constructor(e){if(!e)this._data=Pee,this._size=0;else if(e instanceof k2)this._data=e._data.slice(0),this._size=e._size;else if(typeof e=="number")e===0?(this._data=Pee,this._size=0):(this._data=new Int32Array(e),this._size=0);else{this._data=Pee,this._size=0;for(let t of e)this.add(t)}}add(e){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=e,this._size++}addAll(e){if(Array.isArray(e))this.ensureCapacity(this._size+e.length),this._data.subarray(this._size,this._size+e.length).set(e),this._size+=e.length;else if(e instanceof k2)this.ensureCapacity(this._size+e._size),this._data.subarray(this._size,this._size+e.size).set(e._data),this._size+=e._size;else{this.ensureCapacity(this._size+e.size);let t=0;for(let r of e)this._data[this._size+t]=r,t++;this._size+=e.size}}get(e){if(e<0||e>=this._size)throw RangeError();return this._data[e]}contains(e){for(let t=0;t<this._size;t++)if(this._data[t]===e)return!0;return!1}set(e,t){if(e<0||e>=this._size)throw RangeError();let r=this._data[e];return this._data[e]=t,r}removeAt(e){let t=this.get(e);return this._data.copyWithin(e,e+1,this._size),this._data[this._size-1]=0,this._size--,t}removeRange(e,t){if(e<0||t<0||e>this._size||t>this._size||e>t)throw RangeError();this._data.copyWithin(t,e,this._size),this._data.fill(0,this._size-(t-e),this._size),this._size-=t-e}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(e){if(e===this)return!0;if(!(e instanceof k2)||this._size!==e._size)return!1;for(let t=0;t<this._size;t++)if(this._data[t]!==e._data[t])return!1;return!0}hashCode(){let e=1;for(let t=0;t<this._size;t++)e=31*e+this._data[t];return e}toString(){return this._data.toString()}binarySearch(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this._size),t<0||r<0||t>this._size||r>this._size)throw new RangeError;if(t>r)throw new RangeError;return Ptt.Arrays.binarySearch(this._data,e,t,r)}ensureCapacity(e){if(e<0||e>Bee)throw new RangeError;let t;for(this._data.length===0?t=Btt:t=this._data.length;t<e;)t=t*2,(t<0||t>Bee)&&(t=Bee);let r=new Int32Array(t);r.set(this._data),this._data=r}toCharArray(){let e=new Uint16Array(this._size),t=0,r=!1;for(let i=0;i<this._size;i++){let s=this._data[i];if(s>=0&&s<65536){e[t]=s,t++;continue}if(!r){let a=new Uint16Array(this.charArraySize());a.set(e,0),e=a,r=!0}let o=String.fromCodePoint(s);e[t]=o.charCodeAt(0),e[t+1]=o.charCodeAt(1),t+=2}return e}charArraySize(){let e=0;for(let t=0;t<this._size;t++)e+=this._data[t]>=65536?2:1;return e}};ej([tj.NotNull],k2.prototype,"_data",void 0);ej([tj.Override],k2.prototype,"equals",null);ej([tj.Override],k2.prototype,"hashCode",null);ej([tj.Override],k2.prototype,"toString",null);v8.IntegerList=k2});var F0=Ae(_8=>{"use strict";m();var jee=_8&&_8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(_8,"__esModule",{value:!0});_8.Interval=void 0;var qee=Sr(),A4e=1e3,mc=class{constructor(e,t){this.a=e,this.b=t}static get INVALID(){return mc._INVALID}static of(e,t){return e!==t||e<0||e>A4e?new mc(e,t):(mc.cache[e]==null&&(mc.cache[e]=new mc(e,e)),mc.cache[e])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(e){return e===this?!0:e instanceof mc?this.a===e.a&&this.b===e.b:!1}hashCode(){let e=23;return e=e*31+this.a,e=e*31+this.b,e}startsBeforeDisjoint(e){return this.a<e.a&&this.b<e.a}startsBeforeNonDisjoint(e){return this.a<=e.a&&this.b>=e.a}startsAfter(e){return this.a>e.a}startsAfterDisjoint(e){return this.a>e.b}startsAfterNonDisjoint(e){return this.a>e.a&&this.a<=e.b}disjoint(e){return this.startsBeforeDisjoint(e)||this.startsAfterDisjoint(e)}adjacent(e){return this.a===e.b+1||this.b===e.a-1}properlyContains(e){return e.a>=this.a&&e.b<=this.b}union(e){return mc.of(Math.min(this.a,e.a),Math.max(this.b,e.b))}intersection(e){return mc.of(Math.max(this.a,e.a),Math.min(this.b,e.b))}differenceNotProperlyContained(e){let t;return e.startsBeforeNonDisjoint(this)?t=mc.of(Math.max(this.a,e.b+1),this.b):e.startsAfterNonDisjoint(this)&&(t=mc.of(this.a,e.a-1)),t}toString(){return this.a+".."+this.b}};mc._INVALID=new mc(-1,-2);mc.cache=new Array(A4e+1);jee([qee.Override],mc.prototype,"equals",null);jee([qee.Override],mc.prototype,"hashCode",null);jee([qee.Override],mc.prototype,"toString",null);_8.Interval=mc});var ou=Ae(bF=>{"use strict";m();Object.defineProperty(bF,"__esModule",{value:!0});bF.Token=void 0;var jtt=Sg(),qtt;(function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=jtt.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2})(qtt=bF.Token||(bF.Token={}))});var b8=Ae(bv=>{"use strict";m();var oh=bv&&bv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},T4e=bv&&bv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(bv,"__esModule",{value:!0});bv.CommonToken=void 0;var Utt=F0(),ah=Sr(),F4e=ou(),Uf=class EF{constructor(e,t,r=EF.EMPTY_SOURCE,i=F4e.Token.DEFAULT_CHANNEL,s=0,o=0){this._line=0,this._charPositionInLine=-1,this._channel=F4e.Token.DEFAULT_CHANNEL,this.index=-1,this._text=t,this._type=e,this.source=r,this._channel=i,this.start=s,this.stop=o,r.source!=null&&(this._line=r.source.line,this._charPositionInLine=r.source.charPositionInLine)}static fromToken(e){let t=new EF(e.type,void 0,EF.EMPTY_SOURCE,e.channel,e.startIndex,e.stopIndex);return t._line=e.line,t.index=e.tokenIndex,t._charPositionInLine=e.charPositionInLine,e instanceof EF?(t._text=e._text,t.source=e.source):(t._text=e.text,t.source={source:e.tokenSource,stream:e.inputStream}),t}get type(){return this._type}set type(e){this._type=e}get line(){return this._line}set line(e){this._line=e}get text(){if(this._text!=null)return this._text;let e=this.inputStream;if(e==null)return;let t=e.size;return this.start<t&&this.stop<t?e.getText(Utt.Interval.of(this.start,this.stop)):"<EOF>"}set text(e){this._text=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}get channel(){return this._channel}set channel(e){this._channel=e}get startIndex(){return this.start}set startIndex(e){this.start=e}get stopIndex(){return this.stop}set stopIndex(e){this.stop=e}get tokenIndex(){return this.index}set tokenIndex(e){this.index=e}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(e){let t="";this._channel>0&&(t=",channel="+this._channel);let r=this.text;r!=null?(r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r=r.replace(/\t/g,"\\t")):r="<no text>";let i=String(this._type);return e&&(i=e.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+r+"',<"+i+">"+t+","+this._line+":"+this.charPositionInLine+"]"}};Uf.EMPTY_SOURCE={source:void 0,stream:void 0};oh([ah.NotNull],Uf.prototype,"source",void 0);oh([ah.Override],Uf.prototype,"type",null);oh([ah.Override],Uf.prototype,"line",null);oh([ah.Override],Uf.prototype,"text",null);oh([ah.Override],Uf.prototype,"charPositionInLine",null);oh([ah.Override],Uf.prototype,"channel",null);oh([ah.Override],Uf.prototype,"startIndex",null);oh([ah.Override],Uf.prototype,"stopIndex",null);oh([ah.Override],Uf.prototype,"tokenIndex",null);oh([ah.Override],Uf.prototype,"tokenSource",null);oh([ah.Override],Uf.prototype,"inputStream",null);oh([ah.Override],Uf.prototype,"toString",null);oh([T4e(0,ah.NotNull)],Uf,"fromToken",null);Uf=oh([T4e(2,ah.NotNull)],Uf);bv.CommonToken=Uf});var rj=Ae(Ev=>{"use strict";m();var D4e=Ev&&Ev.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Ev,"__esModule",{value:!0});Ev.CommonTokenFactory=void 0;var O4e=b8(),ztt=F0(),R4e=Sr(),SF=class{constructor(e=!1){this.copyText=e}create(e,t,r,i,s,o,a,c){let d=new O4e.CommonToken(t,r,e,i,s,o);return d.line=a,d.charPositionInLine=c,r==null&&this.copyText&&e.stream!=null&&(d.text=e.stream.getText(ztt.Interval.of(s,o))),d}createSimple(e,t){return new O4e.CommonToken(e,t)}};D4e([R4e.Override],SF.prototype,"create",null);D4e([R4e.Override],SF.prototype,"createSimple",null);Ev.CommonTokenFactory=SF;(function(n){n.DEFAULT=new n})(SF=Ev.CommonTokenFactory||(Ev.CommonTokenFactory={}))});var Uee=Ae(ij=>{"use strict";m();Object.defineProperty(ij,"__esModule",{value:!0});ij.IntegerStack=void 0;var Htt=nj(),N4e=class extends Htt.IntegerList{constructor(e){super(e)}push(e){this.add(e)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}};ij.IntegerStack=N4e});var zee=Ae(sj=>{"use strict";m();Object.defineProperty(sj,"__esModule",{value:!0});sj.AcceptStateInfo=void 0;var L4e=class{constructor(e,t){this._prediction=e,this._lexerActionExecutor=t}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}};sj.AcceptStateInfo=L4e});var z_=Ae(oj=>{"use strict";m();Object.defineProperty(oj,"__esModule",{value:!0});oj.Array2DHashMap=void 0;var k4e=Tg(),I4e=class{constructor(e){this.keyComparator=e}hashCode(e){return this.keyComparator.hashCode(e.key)}equals(e,t){return this.keyComparator.equals(e.key,t.key)}},wF=class{constructor(e){e instanceof wF?this.backingStore=new k4e.Array2DHashSet(e.backingStore):this.backingStore=new k4e.Array2DHashSet(new I4e(e))}clear(){this.backingStore.clear()}containsKey(e){return this.backingStore.contains({key:e})}get(e){let t=this.backingStore.get({key:e});if(!!t)return t.value}get isEmpty(){return this.backingStore.isEmpty}put(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?(i=r.value,r.value=t):this.backingStore.add({key:e,value:t}),i}putIfAbsent(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?i=r.value:this.backingStore.add({key:e,value:t}),i}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(e){return e instanceof wF?this.backingStore.equals(e.backingStore):!1}};oj.Array2DHashMap=wF});var Sv=Ae(aj=>{"use strict";m();Object.defineProperty(aj,"__esModule",{value:!0});aj.DecisionState=void 0;var $tt=N2(),M4e=class extends $tt.ATNState{constructor(){super(...arguments);this.decision=-1,this.nonGreedy=!1,this.sll=!1}};aj.DecisionState=M4e});var cj=Ae(Cv=>{"use strict";m();var uj=Cv&&Cv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Cv,"__esModule",{value:!0});Cv.PredictionContextCache=void 0;var Hee=z_(),lj=Sr(),$ee=cm(),P4e=Kp(),B4e=C0(),wv=class{constructor(e=!0){this.contexts=new Hee.Array2DHashMap($ee.ObjectEqualityComparator.INSTANCE),this.childContexts=new Hee.Array2DHashMap($ee.ObjectEqualityComparator.INSTANCE),this.joinContexts=new Hee.Array2DHashMap($ee.ObjectEqualityComparator.INSTANCE),this.enableCache=e}getAsCached(e){if(!this.enableCache)return e;let t=this.contexts.get(e);return t||(t=e,this.contexts.put(e,e)),t}getChild(e,t){if(!this.enableCache)return e.getChild(t);let r=new wv.PredictionContextAndInt(e,t),i=this.childContexts.get(r);return i||(i=e.getChild(t),i=this.getAsCached(i),this.childContexts.put(r,i)),i}join(e,t){if(!this.enableCache)return P4e.PredictionContext.join(e,t,this);let r=new wv.IdentityCommutativePredictionContextOperands(e,t),i=this.joinContexts.get(r);return i||(i=P4e.PredictionContext.join(e,t,this),i=this.getAsCached(i),this.joinContexts.put(r,i),i)}};Cv.PredictionContextCache=wv;wv.UNCACHED=new wv(!1);(function(n){class e{constructor(i,s){this.obj=i,this.value=s}equals(i){if(i instanceof e){if(i===this)return!0}else return!1;let s=i;return this.value===s.value&&(this.obj===s.obj||this.obj!=null&&this.obj.equals(s.obj))}hashCode(){let i=5;return i=7*i+(this.obj!=null?this.obj.hashCode():0),i=7*i+this.value,i}}uj([lj.Override],e.prototype,"equals",null),uj([lj.Override],e.prototype,"hashCode",null),n.PredictionContextAndInt=e;class t{constructor(i,s){B4e(i!=null),B4e(s!=null),this._x=i,this._y=s}get x(){return this._x}get y(){return this._y}equals(i){if(i instanceof t){if(this===i)return!0}else return!1;let s=i;return this._x===s._x&&this._y===s._y||this._x===s._y&&this._y===s._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}uj([lj.Override],t.prototype,"equals",null),uj([lj.Override],t.prototype,"hashCode",null),n.IdentityCommutativePredictionContextOperands=t})(wv=Cv.PredictionContextCache||(Cv.PredictionContextCache={}))});var Kp=Ae(Jp=>{"use strict";m();var yo=Jp&&Jp.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Av=Jp&&Jp.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.SingletonPredictionContext=Jp.PredictionContext=void 0;var Vtt=z_(),Wtt=Tg(),Qtt=ZB(),I2=Ol(),Vs=Sr(),j4e=cj(),fj=C0(),Vee=1,Io=class{constructor(e){this.cachedHashCode=e}static calculateEmptyHashCode(){let e=I2.MurmurHash.initialize(Vee);return e=I2.MurmurHash.finish(e,0),e}static calculateSingleHashCode(e,t){let r=I2.MurmurHash.initialize(Vee);return r=I2.MurmurHash.update(r,e),r=I2.MurmurHash.update(r,t),r=I2.MurmurHash.finish(r,2),r}static calculateHashCode(e,t){let r=I2.MurmurHash.initialize(Vee);for(let i of e)r=I2.MurmurHash.update(r,i);for(let i of t)r=I2.MurmurHash.update(r,i);return r=I2.MurmurHash.finish(r,2*e.length),r}static fromRuleContext(e,t,r=!0){if(t.isEmpty)return r?Io.EMPTY_FULL:Io.EMPTY_LOCAL;let i;t._parent?i=Io.fromRuleContext(e,t._parent,r):i=r?Io.EMPTY_FULL:Io.EMPTY_LOCAL;let o=e.states[t.invokingState].transition(0);return i.getChild(o.followState.stateNumber)}static addEmptyContext(e){return e.addEmptyContext()}static removeEmptyContext(e){return e.removeEmptyContext()}static join(e,t,r=j4e.PredictionContextCache.UNCACHED){if(e===t)return e;if(e.isEmpty)return Io.isEmptyLocal(e)?e:Io.addEmptyContext(t);if(t.isEmpty)return Io.isEmptyLocal(t)?t:Io.addEmptyContext(e);let i=e.size,s=t.size;if(i===1&&s===1&&e.getReturnState(0)===t.getReturnState(0)){let N=r.join(e.getParent(0),t.getParent(0));return N===e.getParent(0)?e:N===t.getParent(0)?t:N.getChild(e.getReturnState(0))}let o=0,a=new Array(i+s),c=new Array(a.length),d=0,p=0,E=!0,w=!0;for(;d<i&&p<s;)e.getReturnState(d)===t.getReturnState(p)?(a[o]=r.join(e.getParent(d),t.getParent(p)),c[o]=e.getReturnState(d),E=E&&a[o]===e.getParent(d),w=w&&a[o]===t.getParent(p),d++,p++):e.getReturnState(d)<t.getReturnState(p)?(a[o]=e.getParent(d),c[o]=e.getReturnState(d),w=!1,d++):(fj(t.getReturnState(p)<e.getReturnState(d)),a[o]=t.getParent(p),c[o]=t.getReturnState(p),E=!1,p++),o++;for(;d<i;)a[o]=e.getParent(d),c[o]=e.getReturnState(d),d++,w=!1,o++;for(;p<s;)a[o]=t.getParent(p),c[o]=t.getReturnState(p),p++,E=!1,o++;return E?e:w?t:(o<a.length&&(a=a.slice(0,o),c=c.slice(0,o)),a.length===0?Io.EMPTY_FULL:a.length===1?new jc(a[0],c[0]):new zf(a,c))}static isEmptyLocal(e){return e===Io.EMPTY_LOCAL}static getCachedContext(e,t,r){if(e.isEmpty)return e;let i=r.get(e);if(i)return i;if(i=t.get(e),i)return r.put(e,i),i;let s=!1,o=new Array(e.size);for(let c=0;c<o.length;c++){let d=Io.getCachedContext(e.getParent(c),t,r);if(s||d!==e.getParent(c)){if(!s){o=new Array(e.size);for(let p=0;p<e.size;p++)o[p]=e.getParent(p);s=!0}o[c]=d}}if(!s)return i=t.putIfAbsent(e,e),r.put(e,i??e),e;let a;if(o.length===1)a=new jc(o[0],e.getReturnState(0));else{let c=new Array(e.size);for(let d=0;d<e.size;d++)c[d]=e.getReturnState(d);a=new zf(o,c,e.hashCode())}return i=t.putIfAbsent(a,a),r.put(a,i||a),r.put(e,i||a),a}appendSingleContext(e,t){return this.appendContext(Io.EMPTY_FULL.getChild(e),t)}getChild(e){return new jc(this,e)}hashCode(){return this.cachedHashCode}toStrings(e,t,r=Io.EMPTY_FULL){let i=[];e:for(let s=0;;s++){let o=0,a=!0,c=this,d=t,p="";for(p+="[";!c.isEmpty&&c!==r;){let E=0;if(c.size>0){let w=1;for(;1<<w>>>0<c.size;)w++;let N=(1<<w>>>0)-1;if(E=s>>o&N,a=a&&E>=c.size-1,E>=c.size)continue e;o+=w}if(e){p.length>1&&(p+=" ");let N=e.atn.states[d];p+=e.ruleNames[N.ruleIndex]}else c.getReturnState(E)!==Io.EMPTY_FULL_STATE_KEY&&(c.isEmpty||(p.length>1&&(p+=" "),p+=c.getReturnState(E)));d=c.getReturnState(E),c=c.getParent(E)}if(p+="]",i.push(p),a)break}return i}};yo([Vs.Override],Io.prototype,"hashCode",null);yo([Av(0,Vs.NotNull),Av(1,Vs.NotNull),Av(2,Vs.NotNull)],Io,"join",null);yo([Av(0,Vs.NotNull),Av(1,Vs.NotNull),Av(2,Vs.NotNull)],Io,"getCachedContext",null);Jp.PredictionContext=Io;var pd=class extends Io{constructor(e){super(Io.calculateEmptyHashCode());this.fullContext=e}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(e){throw new Error("index out of bounds")}getReturnState(e){throw new Error("index out of bounds")}findReturnState(e){return-1}get size(){return 0}appendSingleContext(e,t){return t.getChild(this,e)}appendContext(e,t){return e}get isEmpty(){return!0}get hasEmpty(){return!0}equals(e){return this===e}toStrings(e,t,r){return["[]"]}};yo([Vs.Override],pd.prototype,"addEmptyContext",null);yo([Vs.Override],pd.prototype,"removeEmptyContext",null);yo([Vs.Override],pd.prototype,"getParent",null);yo([Vs.Override],pd.prototype,"getReturnState",null);yo([Vs.Override],pd.prototype,"findReturnState",null);yo([Vs.Override],pd.prototype,"size",null);yo([Vs.Override],pd.prototype,"appendSingleContext",null);yo([Vs.Override],pd.prototype,"appendContext",null);yo([Vs.Override],pd.prototype,"isEmpty",null);yo([Vs.Override],pd.prototype,"hasEmpty",null);yo([Vs.Override],pd.prototype,"equals",null);yo([Vs.Override],pd.prototype,"toStrings",null);var zf=class H_ extends Io{constructor(e,t,r){super(r||Io.calculateHashCode(e,t));fj(e.length===t.length),fj(t.length>1||t[0]!==Io.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=e,this.returnStates=t}getParent(e){return this.parents[e]}getReturnState(e){return this.returnStates[e]}findReturnState(e){return Qtt.Arrays.binarySearch(this.returnStates,e)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===Io.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let e=this.parents.slice(0),t=this.returnStates.slice(0);return e.push(Io.EMPTY_FULL),t.push(Io.EMPTY_FULL_STATE_KEY),new H_(e,t)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new jc(this.parents[0],this.returnStates[0]);{let e=this.parents.slice(0,this.parents.length-1),t=this.returnStates.slice(0,this.returnStates.length-1);return new H_(e,t)}}appendContext(e,t){return H_.appendContextImpl(this,e,new Io.IdentityHashMap)}static appendContextImpl(e,t,r){if(t.isEmpty){if(Io.isEmptyLocal(t)){if(e.hasEmpty)return Io.EMPTY_LOCAL;throw new Error("what to do here?")}return e}if(t.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let i=r.get(e);if(!i){if(e.isEmpty)i=t;else{let s=e.size;e.hasEmpty&&s--;let o=new Array(s),a=new Array(s);for(let c=0;c<s;c++)a[c]=e.getReturnState(c);for(let c=0;c<s;c++)o[c]=H_.appendContextImpl(e.getParent(c),t,r);o.length===1?i=new jc(o[0],a[0]):(fj(o.length>1),i=new H_(o,a)),e.hasEmpty&&(i=Io.join(i,t))}r.put(e,i)}return i}equals(e){if(this===e)return!0;if(!(e instanceof H_)||this.hashCode()!==e.hashCode())return!1;let t=e;return this.equalsImpl(t,new Wtt.Array2DHashSet)}equalsImpl(e,t){let r=[],i=[];for(r.push(this),i.push(e);;){let s=r.pop(),o=i.pop();if(!s||!o)break;let a=new j4e.PredictionContextCache.IdentityCommutativePredictionContextOperands(s,o);if(!t.add(a))continue;let c=a.x.size;if(c===0){if(!a.x.equals(a.y))return!1;continue}let d=a.y.size;if(c!==d)return!1;for(let p=0;p<c;p++){if(a.x.getReturnState(p)!==a.y.getReturnState(p))return!1;let E=a.x.getParent(p),w=a.y.getParent(p);if(E.hashCode()!==w.hashCode())return!1;E!==w&&(r.push(E),i.push(w))}}return!0}};yo([Vs.NotNull],zf.prototype,"parents",void 0);yo([Vs.NotNull],zf.prototype,"returnStates",void 0);yo([Vs.Override],zf.prototype,"getParent",null);yo([Vs.Override],zf.prototype,"getReturnState",null);yo([Vs.Override],zf.prototype,"findReturnState",null);yo([Vs.Override],zf.prototype,"size",null);yo([Vs.Override],zf.prototype,"isEmpty",null);yo([Vs.Override],zf.prototype,"hasEmpty",null);yo([Vs.Override],zf.prototype,"addEmptyContext",null);yo([Vs.Override],zf.prototype,"removeEmptyContext",null);yo([Vs.Override],zf.prototype,"appendContext",null);yo([Vs.Override],zf.prototype,"equals",null);zf=yo([Av(0,Vs.NotNull)],zf);var jc=class q4e extends Io{constructor(e,t){super(Io.calculateSingleHashCode(e,t));this.parent=e,this.returnState=t}getParent(e){return this.parent}getReturnState(e){return this.returnState}findReturnState(e){return this.returnState===e?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(e,t){return t.getChild(this.parent.appendContext(e,t),this.returnState)}addEmptyContext(){let e=[this.parent,Io.EMPTY_FULL],t=[this.returnState,Io.EMPTY_FULL_STATE_KEY];return new zf(e,t)}removeEmptyContext(){return this}equals(e){if(e===this)return!0;if(!(e instanceof q4e))return!1;let t=e;return this.hashCode()!==t.hashCode()?!1:this.returnState===t.returnState&&this.parent.equals(t.parent)}};yo([Vs.NotNull],jc.prototype,"parent",void 0);yo([Vs.Override],jc.prototype,"getParent",null);yo([Vs.Override],jc.prototype,"getReturnState",null);yo([Vs.Override],jc.prototype,"findReturnState",null);yo([Vs.Override],jc.prototype,"size",null);yo([Vs.Override],jc.prototype,"isEmpty",null);yo([Vs.Override],jc.prototype,"hasEmpty",null);yo([Vs.Override],jc.prototype,"appendContext",null);yo([Vs.Override],jc.prototype,"addEmptyContext",null);yo([Vs.Override],jc.prototype,"removeEmptyContext",null);yo([Vs.Override],jc.prototype,"equals",null);jc=yo([Av(0,Vs.NotNull)],jc);Jp.SingletonPredictionContext=jc;(function(n){n.EMPTY_LOCAL=new pd(!1),n.EMPTY_FULL=new pd(!0),n.EMPTY_LOCAL_STATE_KEY=-(1<<31>>>0),n.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class e extends Vtt.Array2DHashMap{constructor(){super(t.INSTANCE)}}n.IdentityHashMap=e;class t{IdentityEqualityComparator(){}hashCode(i){return i.hashCode()}equals(i,s){return i===s}}t.INSTANCE=new t,yo([Vs.Override],t.prototype,"hashCode",null),yo([Vs.Override],t.prototype,"equals",null),n.IdentityEqualityComparator=t})(Io=Jp.PredictionContext||(Jp.PredictionContext={}))});var AF=Ae(Tv=>{"use strict";m();var xc=Tv&&Tv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},qh=Tv&&Tv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.ATNConfig=void 0;var Gtt=z_(),Ytt=Sv(),Fg=Ol(),Qa=Sr(),Ktt=cm(),U4e=Kp(),$_=q_(),z4e=C0(),Wee=2147483648,md=class CF{constructor(e,t,r){typeof t=="number"?(z4e((t&16777215)===t),this._state=e,this.altAndOuterContextDepth=t,this._context=r):(this._state=e,this.altAndOuterContextDepth=t.altAndOuterContextDepth,this._context=r)}static create(e,t,r,i=$_.SemanticContext.NONE,s){return i!==$_.SemanticContext.NONE?s!=null?new S8(s,i,e,t,r,!1):new V_(i,e,t,r):s!=null?new E8(s,e,t,r,!1):new CF(e,t,r)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(e){this._context=e}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(e){z4e(e>=0),e=Math.min(e,127),this.altAndOuterContextDepth=e<<24|(this.altAndOuterContextDepth&~2130706432)>>>0}get lexerActionExecutor(){}get semanticContext(){return $_.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(e,t,r){return r==null?this.transformImpl(e,this._context,this.semanticContext,t,this.lexerActionExecutor):r instanceof U4e.PredictionContext?this.transformImpl(e,r,this.semanticContext,t,this.lexerActionExecutor):r instanceof $_.SemanticContext?this.transformImpl(e,this._context,r,t,this.lexerActionExecutor):this.transformImpl(e,this._context,this.semanticContext,t,r)}transformImpl(e,t,r,i,s){let o=i&&CF.checkNonGreedyDecision(this,e);return r!==$_.SemanticContext.NONE?s!=null||o?new S8(s,r,e,this,t,o):new V_(r,e,this,t):s!=null||o?new E8(s,e,this,t,o):new CF(e,this,t)}static checkNonGreedyDecision(e,t){return e.hasPassedThroughNonGreedyDecision||t instanceof Ytt.DecisionState&&t.nonGreedy}appendContext(e,t){if(typeof e=="number"){let r=this.context.appendSingleContext(e,t);return this.transform(this.state,!1,r)}else{let r=this.context.appendContext(e,t);return this.transform(this.state,!1,r)}}contains(e){if(this.state.stateNumber!==e.state.stateNumber||this.alt!==e.alt||!this.semanticContext.equals(e.semanticContext))return!1;let t=[],r=[];for(t.push(this.context),r.push(e.context);;){let i=t.pop(),s=r.pop();if(!i||!s)break;if(i===s)return!0;if(i.size<s.size)return!1;if(s.isEmpty)return i.hasEmpty;for(let o=0;o<s.size;o++){let a=i.findReturnState(s.getReturnState(o));if(a<0)return!1;t.push(i.getParent(a)),r.push(s.getParent(o))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&Wee)!==0}set isPrecedenceFilterSuppressed(e){e?this.altAndOuterContextDepth|=Wee:this.altAndOuterContextDepth&=~Wee}equals(e){return this===e?!0:e instanceof CF?this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.reachesIntoOuterContext===e.reachesIntoOuterContext&&this.context.equals(e.context)&&this.semanticContext.equals(e.semanticContext)&&this.isPrecedenceFilterSuppressed===e.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===e.hasPassedThroughNonGreedyDecision&&Ktt.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,e.lexerActionExecutor):!1}hashCode(){let e=Fg.MurmurHash.initialize(7);return e=Fg.MurmurHash.update(e,this.state.stateNumber),e=Fg.MurmurHash.update(e,this.alt),e=Fg.MurmurHash.update(e,this.reachesIntoOuterContext?1:0),e=Fg.MurmurHash.update(e,this.context),e=Fg.MurmurHash.update(e,this.semanticContext),e=Fg.MurmurHash.update(e,this.hasPassedThroughNonGreedyDecision?1:0),e=Fg.MurmurHash.update(e,this.lexerActionExecutor),e=Fg.MurmurHash.finish(e,7),e}toDotString(){let e="";e+=`digraph G {
`,e+=`rankdir=LR;
`;let t=new Gtt.Array2DHashMap(U4e.PredictionContext.IdentityEqualityComparator.INSTANCE),r=[];function i(s){let o=t.size,a=t.putIfAbsent(s,o);return a??(r.push(s),o)}for(r.push(this.context),t.put(this.context,0);;){let s=r.pop();if(!s)break;for(let o=0;o<s.size;o++)e+="  s"+i(s),e+="->",e+="s"+i(s.getParent(o)),e+='[label="'+s.getReturnState(o)+`"];
`}return e+=`}
`,e.toString()}toString(e,t,r){r==null&&(r=t!=null),t==null&&(t=!0);let i="",s;r?s=this.context.toStrings(e,this.state.stateNumber):s=["?"];let o=!0;for(let a of s)o?o=!1:i+=", ",i+="(",i+=this.state,t&&(i+=",",i+=this.alt),this.context&&(i+=",",i+=a),this.semanticContext!==$_.SemanticContext.NONE&&(i+=",",i+=this.semanticContext),this.reachesIntoOuterContext&&(i+=",up="+this.outerContextDepth),i+=")";return i.toString()}};xc([Qa.NotNull],md.prototype,"_state",void 0);xc([Qa.NotNull],md.prototype,"_context",void 0);xc([Qa.NotNull],md.prototype,"state",null);xc([Qa.NotNull,qh(0,Qa.NotNull)],md.prototype,"context",null);xc([Qa.NotNull],md.prototype,"semanticContext",null);xc([Qa.Override],md.prototype,"clone",null);xc([qh(0,Qa.NotNull),qh(2,Qa.NotNull)],md.prototype,"transformImpl",null);xc([Qa.Override],md.prototype,"equals",null);xc([Qa.Override],md.prototype,"hashCode",null);xc([qh(0,Qa.NotNull),qh(3,Qa.NotNull)],md,"create",null);md=xc([qh(0,Qa.NotNull),qh(2,Qa.NotNull)],md);Tv.ATNConfig=md;var V_=class extends md{constructor(e,t,r,i){typeof r=="number"?super(t,r,i):super(t,r,i),this._semanticContext=e}get semanticContext(){return this._semanticContext}};xc([Qa.NotNull],V_.prototype,"_semanticContext",void 0);xc([Qa.Override],V_.prototype,"semanticContext",null);V_=xc([qh(1,Qa.NotNull),qh(2,Qa.NotNull)],V_);var E8=class extends md{constructor(e,t,r,i,s){if(typeof r=="number")super(t,r,i);else{super(t,r,i);if(r.semanticContext!==$_.SemanticContext.NONE)throw new Error("Not supported")}this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=s}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};xc([Qa.Override],E8.prototype,"lexerActionExecutor",null);xc([Qa.Override],E8.prototype,"hasPassedThroughNonGreedyDecision",null);E8=xc([qh(1,Qa.NotNull),qh(2,Qa.NotNull)],E8);var S8=class extends V_{constructor(e,t,r,i,s,o){typeof i=="number"?super(t,r,i,s):super(t,r,i,s),this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=o}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};xc([Qa.Override],S8.prototype,"lexerActionExecutor",null);xc([Qa.Override],S8.prototype,"hasPassedThroughNonGreedyDecision",null);S8=xc([qh(1,Qa.NotNull),qh(2,Qa.NotNull)],S8)});var Dg=Ae(dj=>{"use strict";m();Object.defineProperty(dj,"__esModule",{value:!0});dj.BitSet=void 0;var Jtt=cv(),Xtt=Ol(),TF=new Uint16Array(0);function Uh(n){return n>>>4}function w8(n){return n*16}function Qee(n){let e=1;for(let t=0;t<16;t++){if((n&e)!==0)return t;e=e<<1>>>0}throw new RangeError("No specified bit found")}function H4e(n){let e=1<<15>>>0;for(let t=15;t>=0;t--){if((n&e)!==0)return t;e=e>>>1}throw new RangeError("No specified bit found")}function Xp(n,e){return n&=15,e&=15,n===e?1<<n>>>0:65535>>>15-e^65535>>>16-n}var Gee=new Uint8Array(65536);for(let n=0;n<16;n++){let e=1<<n>>>0,t=0;for(;t<Gee.length;){t+=e;for(let r=0;r<e;r++)Gee[t]++,t++}}var W_=class{constructor(e){if(!e)this.data=TF;else if(typeof e=="number"){if(e<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(Uh(e-1)+1)}else if(e instanceof W_)this.data=e.data.slice(0);else{let t=-1;for(let r of e)t<r&&(t=r);this.data=new Uint16Array(Uh(t-1)+1);for(let r of e)this.set(r)}}and(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o])!==0&&(s=o);s===-1&&(this.data=TF),s<t.length-1&&(this.data=t.slice(0,s+1))}andNot(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=-1;for(let o=0;o<i;o++)(t[o]&=r[o]^65535)!==0&&(s=o);s===-1&&(this.data=TF),s<t.length-1&&(this.data=t.slice(0,s+1))}cardinality(){if(this.isEmpty)return 0;let e=this.data,t=e.length,r=0;for(let i=0;i<t;i++)r+=Gee[e[i]];return r}clear(e,t){e==null?this.data.fill(0):t==null?this.set(e,!1):this.set(e,t,!1)}flip(e,t){if(t==null&&(t=e),e<0||t<e)throw new RangeError;let r=Uh(e),i=Uh(t);if(r===i)this.data[r]^=Xp(e,t);else{for(this.data[r++]^=Xp(e,15);r<i;)this.data[r++]^=65535;this.data[r++]^=Xp(0,t)}}get(e,t){if(t===void 0)return!!(this.data[Uh(e)]&Xp(e,e));{let r=new W_(t+1);for(let i=e;i<=t;i++)r.set(i,this.get(i));return r}}intersects(e){let t=Math.min(this.length(),e.length());if(t===0)return!1;let r=Uh(t-1);for(let i=0;i<=r;i++)if((this.data[i]&e.data[i])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(w8(this.data.length)-1)+1:0}nextClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Uh(e);if(i>r)return-1;let s=65535^Xp(e,15);if((t[i]|s)===65535){for(i++,s=0;i<r&&t[i]===65535;i++);if(i===r)return-1}return w8(i)+Qee((t[i]|s)^65535)}nextSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Uh(e);if(i>r)return-1;let s=Xp(e,15);if((t[i]&s)===0){for(i++,s=65535;i<r&&t[i]===0;i++);if(i>=r)return-1}return w8(i)+Qee(t[i]&s)}or(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let d=0;d<i;d++)(o[d]=t[d]|r[d])!==0&&(a=d);let c=t.length>r.length?t:r;for(let d=i;d<s;d++)(o[d]=c[d])!==0&&(a=d);a===-1?this.data=TF:o.length===a+1?this.data=o:this.data=o.slice(0,a)}previousClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Uh(e);i>=r&&(i=r-1);let s=65535^Xp(0,e);if((t[i]|s)===65535){for(s=0,i--;i>=0&&t[i]===65535;i--);if(i<0)return-1}return w8(i)+H4e((t[i]|s)^65535)}previousSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");let t=this.data,r=t.length,i=Uh(e);i>=r&&(i=r-1);let s=Xp(0,e);if((t[i]&s)===0){for(i--,s=65535;i>=0&&t[i]===0;i--);if(i<0)return-1}return w8(i)+H4e(t[i]&s)}set(e,t,r){if(t===void 0?(t=e,r=!0):typeof t=="boolean"&&(r=t,t=e),r===void 0&&(r=!0),e<0||e>t)throw new RangeError;let i=Uh(e),s=Uh(t);if(r&&s>=this.data.length){let o=new Uint16Array(s+1);this.data.forEach((a,c)=>o[c]=a),this.data=o}else if(!r){if(i>=this.data.length)return;s>=this.data.length&&(s=this.data.length-1,t=this.data.length*16-1)}if(i===s)this._setBits(i,r,Xp(e,t));else{for(this._setBits(i++,r,Xp(e,15));i<s;)this.data[i++]=r?65535:0;this._setBits(i,r,Xp(0,t))}}_setBits(e,t,r){t?this.data[e]|=r:this.data[e]&=65535^r}get size(){return this.data.byteLength*8}hashCode(){return Xtt.MurmurHash.hashCode(this.data,22)}equals(e){if(e===this)return!0;if(!(e instanceof W_))return!1;let t=this.length();if(t!==e.length())return!1;if(t===0)return!0;let r=Uh(t-1);for(let i=0;i<=r;i++)if(this.data[i]!==e.data[i])return!1;return!0}toString(){let e="{",t=!0;for(let r=this.nextSetBit(0);r>=0;r=this.nextSetBit(r+1))t?t=!1:e+=", ",e+=r;return e+="}",e}xor(e){let t=this.data,r=e.data,i=Math.min(t.length,r.length),s=Math.max(t.length,r.length),o=t.length===s?t:new Uint16Array(s),a=-1;for(let d=0;d<i;d++)(o[d]=t[d]^r[d])!==0&&(a=d);let c=t.length>r.length?t:r;for(let d=i;d<s;d++)(o[d]=c[d])!==0&&(a=d);a===-1?this.data=TF:o.length===a+1?this.data=o:this.data=o.slice(0,a+1)}clone(){return new W_(this)}[Symbol.iterator](){return new $4e(this.data)}[Jtt.inspect.custom](){return"BitSet "+this.toString()}};dj.BitSet=W_;var $4e=class{constructor(e){this.data=e,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){let e=this.data[this.index]&this.mask;if(e!==0){let t=w8(this.index)+Qee(e);return this.mask=Xp(t+1,15),{done:!1,value:t}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}});var A8=Ae(C8=>{"use strict";m();var M2=C8&&C8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(C8,"__esModule",{value:!0});C8.ATNConfigSet=void 0;var V4e=z_(),Ztt=Tg(),W4e=xF(),hj=dm(),Q4e=AF(),ent=Dg(),P2=Sr(),tnt=cm(),G4e=Kp(),nnt=cj(),rnt=q_(),pj=C0(),int=fm(),mj=class{hashCode(e){return e.state^e.alt}equals(e,t){return e.state===t.state&&e.alt===t.alt}};mj.INSTANCE=new mj;function Yee(n){return n?new V4e.Array2DHashMap(n):new V4e.Array2DHashMap(mj.INSTANCE)}var xd=class{constructor(e,t){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,e?(t?(this.mergedConfigs=void 0,this.unmerged=void 0):e.isReadOnly?(this.mergedConfigs=Yee(),this.unmerged=[]):(this.mergedConfigs=Yee(e.mergedConfigs),this.unmerged=e.unmerged.slice(0)),this.configs=e.configs.slice(0),this._dipsIntoOuterContext=e._dipsIntoOuterContext,this._hasSemanticContext=e._hasSemanticContext,this.outermostConfigSet=e.outermostConfigSet,(t||!e.isReadOnly)&&(this._uniqueAlt=e._uniqueAlt,this._conflictInfo=e._conflictInfo)):(this.mergedConfigs=Yee(),this.unmerged=[],this.configs=[],this._uniqueAlt=hj.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let e=new ent.BitSet;for(let t of this)e.set(t.alt);return e}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(e){if(this.outermostConfigSet&&!e)throw new Error("IllegalStateException");pj(!e||!this._dipsIntoOuterContext),this.outermostConfigSet=e}getStates(){let e=new Ztt.Array2DHashSet(tnt.ObjectEqualityComparator.INSTANCE);for(let t of this.configs)e.add(t.state);return e}optimizeConfigs(e){if(this.configs.length!==0)for(let t of this.configs)t.context=e.atn.getCachedContext(t.context)}clone(e){let t=new xd(this,e);return!e&&this.isReadOnly&&t.addAll(this.configs),t}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(e){if(!(e instanceof Q4e.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let t=e,r=this.getKey(t),i=this.mergedConfigs.get(r);if(i!=null&&this.canMerge(t,r,i))return i.contains(t);for(let s of this.unmerged)if(s.contains(e))return!0}else for(let t of this.configs)if(t.contains(e))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(e,t){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");pj(!this.outermostConfigSet||!e.reachesIntoOuterContext),t==null&&(t=nnt.PredictionContextCache.UNCACHED);let r,i=this.getKey(e),s=this.mergedConfigs.get(i);if(r=s==null,s!=null&&this.canMerge(e,i,s)){s.outerContextDepth=Math.max(s.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(s.isPrecedenceFilterSuppressed=!0);let o=G4e.PredictionContext.join(s.context,e.context,t);return this.updatePropertiesForMergedConfig(e),s.context===o?!1:(s.context=o,!0)}for(let o=0;o<this.unmerged.length;o++){let a=this.unmerged[o];if(this.canMerge(e,i,a)){a.outerContextDepth=Math.max(a.outerContextDepth,e.outerContextDepth),e.isPrecedenceFilterSuppressed&&(a.isPrecedenceFilterSuppressed=!0);let c=G4e.PredictionContext.join(a.context,e.context,t);return this.updatePropertiesForMergedConfig(e),a.context===c?!1:(a.context=c,r&&(this.mergedConfigs.put(i,a),this.unmerged.splice(o,1)),!0)}}return this.configs.push(e),r?this.mergedConfigs.put(i,e):this.unmerged.push(e),this.updatePropertiesForAddedConfig(e),!0}updatePropertiesForMergedConfig(e){this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,pj(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(e){this.configs.length===1?this._uniqueAlt=e.alt:this._uniqueAlt!==e.alt&&(this._uniqueAlt=hj.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!rnt.SemanticContext.NONE.equals(e.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||e.reachesIntoOuterContext,pj(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(e,t,r){return e.state.stateNumber!==r.state.stateNumber||t.alt!==r.alt?!1:e.semanticContext.equals(r.semanticContext)}getKey(e){return{state:e.state.stateNumber,alt:e.alt}}containsAll(e){for(let t of e)if(!(t instanceof Q4e.ATNConfig)||!this.contains(t))return!1;return!0}addAll(e,t){this.ensureWritable();let r=!1;for(let i of e)this.add(i,t)&&(r=!0);return r}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=hj.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(e){return this===e?!0:e instanceof xd?this.outermostConfigSet===e.outermostConfigSet&&int.equals(this._conflictInfo,e._conflictInfo)&&W4e.ArrayEqualityComparator.INSTANCE.equals(this.configs,e.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let e=1;return e=5*e^(this.outermostConfigSet?1:0),e=5*e^W4e.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=e),e}toString(e){e==null&&(e=!1);let t="",r=this.configs.slice(0);r.sort((i,s)=>i.alt!==s.alt?i.alt-s.alt:i.state.stateNumber!==s.state.stateNumber?i.state.stateNumber-s.state.stateNumber:i.semanticContext.toString().localeCompare(s.semanticContext.toString())),t+="[";for(let i=0;i<r.length;i++)i>0&&(t+=", "),t+=r[i].toString(void 0,!0,e);return t+="]",this._hasSemanticContext&&(t+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==hj.ATN.INVALID_ALT_NUMBER&&(t+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(t+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(t+="*")),this._dipsIntoOuterContext&&(t+=",dipsIntoOuterContext"),t.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(e){this.ensureWritable(),this._hasSemanticContext=e}get conflictInfo(){return this._conflictInfo}set conflictInfo(e){this.ensureWritable(),this._conflictInfo=e}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(e){return this.configs[e]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};M2([P2.NotNull],xd.prototype,"getRepresentedAlternatives",null);M2([P2.Override],xd.prototype,"size",null);M2([P2.Override],xd.prototype,"isEmpty",null);M2([P2.Override],xd.prototype,"contains",null);M2([P2.Override],xd.prototype,Symbol.iterator,null);M2([P2.Override],xd.prototype,"toArray",null);M2([P2.Override],xd.prototype,"containsAll",null);M2([P2.Override],xd.prototype,"clear",null);M2([P2.Override],xd.prototype,"equals",null);M2([P2.Override],xd.prototype,"hashCode",null);C8.ATNConfigSet=xd});var FF=Ae(B2=>{"use strict";m();var Og=B2&&B2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},snt=B2&&B2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(B2,"__esModule",{value:!0});B2.DFAState=void 0;var ont=dm(),ant=Dg(),Kee=Ol(),Rg=Sr(),xj=Kp(),Y4e=C0(),hm=class{constructor(e){this.stateNumber=-1,this.configs=e,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(e){return this.isContextSensitive?this.contextSymbols.get(e):!1}setContextSymbol(e){Y4e(this.isContextSensitive),this.contextSymbols.set(e)}setContextSensitive(e){Y4e(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new ant.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(e){this._acceptStateInfo=e}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:ont.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(!!this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(e){return this.edges.get(e)}setTarget(e,t){this.edges.set(e,t)}getEdgeMap(){return this.edges}getContextTarget(e){return e===xj.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.get(e)}setContextTarget(e,t){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");e===xj.PredictionContext.EMPTY_FULL_STATE_KEY&&(e=-1),this.contextEdges.set(e,t)}getContextEdgeMap(){let e=new Map(this.contextEdges),t=e.get(-1);if(t!==void 0)if(e.size===1){let r=new Map;return r.set(xj.PredictionContext.EMPTY_FULL_STATE_KEY,t),r}else e.delete(-1),e.set(xj.PredictionContext.EMPTY_FULL_STATE_KEY,t);return e}hashCode(){let e=Kee.MurmurHash.initialize(7);return e=Kee.MurmurHash.update(e,this.configs.hashCode()),e=Kee.MurmurHash.finish(e,1),e}equals(e){if(this===e)return!0;if(!(e instanceof hm))return!1;let t=e;return this.configs.equals(t.configs)}toString(){let e="";return e+=this.stateNumber+":"+this.configs,this.isAcceptState&&(e+="=>",this.predicates?e+=this.predicates:e+=this.prediction),e.toString()}};Og([Rg.NotNull],hm.prototype,"configs",void 0);Og([Rg.NotNull],hm.prototype,"edges",void 0);Og([Rg.NotNull],hm.prototype,"contextEdges",void 0);Og([Rg.Override],hm.prototype,"hashCode",null);Og([Rg.Override],hm.prototype,"equals",null);Og([Rg.Override],hm.prototype,"toString",null);B2.DFAState=hm;(function(n){let e=class{constructor(r,i){this.alt=i,this.pred=r}toString(){return"("+this.pred+", "+this.alt+")"}};Og([Rg.NotNull],e.prototype,"pred",void 0),Og([Rg.Override],e.prototype,"toString",null),e=Og([snt(0,Rg.NotNull)],e),n.PredPrediction=e})(hm=B2.DFAState||(B2.DFAState={}))});var OF=Ae(pm=>{"use strict";m();var Jee=pm&&pm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},unt=pm&&pm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(pm,"__esModule",{value:!0});pm.ATNSimulator=void 0;var lnt=A8(),cnt=FF(),Xee=Sr(),fnt=Kp(),Q_=class DF{constructor(e){this.atn=e}static get ERROR(){return DF._ERROR||(DF._ERROR=new cnt.DFAState(new lnt.ATNConfigSet),DF._ERROR.stateNumber=fnt.PredictionContext.EMPTY_FULL_STATE_KEY),DF._ERROR}clearDFA(){this.atn.clearDFA()}};Jee([Xee.NotNull],Q_.prototype,"atn",void 0);Jee([Xee.NotNull],Q_,"ERROR",null);Q_=Jee([unt(0,Xee.NotNull)],Q_);pm.ATNSimulator=Q_;(function(n){let e="$",t="$lf$",r="$nolf$"})(Q_=pm.ATNSimulator||(pm.ATNSimulator={}));pm.ATNSimulator=Q_});var Zee=Ae(yj=>{"use strict";m();Object.defineProperty(yj,"__esModule",{value:!0});yj.ConsoleErrorListener=void 0;var gj=class{syntaxError(e,t,r,i,s,o){console.error(`line ${r}:${i} ${s}`)}};yj.ConsoleErrorListener=gj;gj.INSTANCE=new gj});var vj=Ae(Fv=>{"use strict";m();var dnt=Fv&&Fv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},K4e=Fv&&Fv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Fv,"__esModule",{value:!0});Fv.ProxyErrorListener=void 0;var ete=Sr(),tte=class{constructor(e){if(this.delegates=e,!e)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(e,t,r,i,s,o){this.delegates.forEach(a=>{a.syntaxError&&a.syntaxError(e,t,r,i,s,o)})}};dnt([ete.Override,K4e(0,ete.NotNull),K4e(4,ete.NotNull)],tte.prototype,"syntaxError",null);Fv.ProxyErrorListener=tte});var T8=Ae(Dv=>{"use strict";m();var j2=Dv&&Dv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},_j=Dv&&Dv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.Recognizer=void 0;var hnt=Zee(),pnt=vj(),zh=Sr(),J4e=ou(),mnt=fm(),gc=class{constructor(){this._listeners=[hnt.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let e=this.vocabulary,t=gc.tokenTypeMapCache.get(e);if(t==null){let r=new Map;for(let i=0;i<=this.atn.maxTokenType;i++){let s=e.getLiteralName(i);s!=null&&r.set(s,i);let o=e.getSymbolicName(i);o!=null&&r.set(o,i)}r.set("EOF",J4e.Token.EOF),t=r,gc.tokenTypeMapCache.set(e,t)}return t}getRuleIndexMap(){let e=this.ruleNames;if(e==null)throw new Error("The current recognizer does not provide a list of rule names.");let t=gc.ruleIndexMapCache.get(e);return t==null&&(t=mnt.toMap(e),gc.ruleIndexMapCache.set(e,t)),t}getTokenType(e){let t=this.getTokenTypeMap().get(e);return t??J4e.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(e){this._interp=e}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(e){let t=e.getOffendingToken();if(!t)return"";let r=t.line,i=t.charPositionInLine;return"line "+r+":"+i}addErrorListener(e){if(!e)throw new TypeError("listener must not be null");this._listeners.push(e)}removeErrorListener(e){let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new pnt.ProxyErrorListener(this.getErrorListeners())}sempred(e,t,r){return!0}precpred(e,t){return!0}action(e,t,r){}get state(){return this._stateNumber}set state(e){this._stateNumber=e}};gc.EOF=-1;gc.tokenTypeMapCache=new WeakMap;gc.ruleIndexMapCache=new WeakMap;j2([zh.SuppressWarnings("serial"),zh.NotNull],gc.prototype,"_listeners",void 0);j2([zh.NotNull],gc.prototype,"getTokenTypeMap",null);j2([zh.NotNull],gc.prototype,"getRuleIndexMap",null);j2([zh.NotNull],gc.prototype,"serializedATN",null);j2([zh.NotNull],gc.prototype,"atn",null);j2([zh.NotNull,_j(0,zh.NotNull)],gc.prototype,"interpreter",null);j2([zh.NotNull,_j(0,zh.NotNull)],gc.prototype,"getErrorHeader",null);j2([_j(0,zh.NotNull)],gc.prototype,"addErrorListener",null);j2([_j(0,zh.NotNull)],gc.prototype,"removeErrorListener",null);j2([zh.NotNull],gc.prototype,"getErrorListeners",null);Dv.Recognizer=gc});var Lg=Ae(F8=>{"use strict";m();var Ov=F8&&F8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(F8,"__esModule",{value:!0});F8.VocabularyImpl=void 0;var Ng=Sr(),xnt=ou(),Zp=class{constructor(e,t,r){this.literalNames=e,this.symbolicNames=t,this.displayNames=r,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(e){if(e>=0&&e<this.literalNames.length)return this.literalNames[e]}getSymbolicName(e){if(e>=0&&e<this.symbolicNames.length)return this.symbolicNames[e];if(e===xnt.Token.EOF)return"EOF"}getDisplayName(e){if(e>=0&&e<this.displayNames.length){let i=this.displayNames[e];if(i)return i}let t=this.getLiteralName(e);if(t)return t;let r=this.getSymbolicName(e);return r||String(e)}};Zp.EMPTY_VOCABULARY=new Zp([],[],[]);Ov([Ng.NotNull],Zp.prototype,"literalNames",void 0);Ov([Ng.NotNull],Zp.prototype,"symbolicNames",void 0);Ov([Ng.NotNull],Zp.prototype,"displayNames",void 0);Ov([Ng.Override],Zp.prototype,"maxTokenType",null);Ov([Ng.Override],Zp.prototype,"getLiteralName",null);Ov([Ng.Override],Zp.prototype,"getSymbolicName",null);Ov([Ng.Override,Ng.NotNull],Zp.prototype,"getDisplayName",null);Ov([Ng.NotNull],Zp,"EMPTY_VOCABULARY",void 0);F8.VocabularyImpl=Zp});var ste=Ae(D8=>{"use strict";m();var nte=D8&&D8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(D8,"__esModule",{value:!0});D8.DFASerializer=void 0;var rte=OF(),ite=Sr(),X4e=Kp(),gnt=T8(),ynt=Lg(),RF=class{constructor(e,t,r,i){t instanceof gnt.Recognizer?(r=t.ruleNames,i=t.atn,t=t.vocabulary):t||(t=ynt.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=e,this.vocabulary=t,this.ruleNames=r,this.atn=i}toString(){if(!this.dfa.s0)return"";let e="";if(this.dfa.states){let r=new Array(...this.dfa.states.toArray());r.sort((i,s)=>i.stateNumber-s.stateNumber);for(let i of r){let s=i.getEdgeMap(),o=[...s.keys()].sort((d,p)=>d-p),a=i.getContextEdgeMap(),c=[...a.keys()].sort((d,p)=>d-p);for(let d of o){let p=s.get(d);if((p==null||p===rte.ATNSimulator.ERROR)&&!i.isContextSymbol(d))continue;let E=!1;e+=this.getStateString(i)+"-"+this.getEdgeLabel(d)+"->",i.isContextSymbol(d)&&(e+="!",E=!0);let w=p;w&&w.stateNumber!==rte.ATNSimulator.ERROR.stateNumber?e+=this.getStateString(w)+`
`:E&&(e+=`ctx
`)}if(i.isContextSensitive)for(let d of c)e+=this.getStateString(i)+"-"+this.getContextLabel(d)+"->"+this.getStateString(a.get(d))+`
`}}let t=e;return t.length===0?"":t}getContextLabel(e){if(e===X4e.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(e===X4e.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&e>0&&e<=this.atn.states.length){let r=this.atn.states[e].ruleIndex;if(this.ruleNames&&r>=0&&r<this.ruleNames.length)return"ctx:"+String(e)+"("+this.ruleNames[r]+")"}return"ctx:"+String(e)}getEdgeLabel(e){return this.vocabulary.getDisplayName(e)}getStateString(e){if(e===rte.ATNSimulator.ERROR)return"ERROR";let t=e.stateNumber,r="s"+t;if(e.isAcceptState&&(e.predicates?r=":s"+t+"=>"+e.predicates:r=":s"+t+"=>"+e.prediction),e.isContextSensitive){r+="*";for(let i of e.configs)if(i.reachesIntoOuterContext){r+="*";break}}return r}};nte([ite.NotNull],RF.prototype,"dfa",void 0);nte([ite.NotNull],RF.prototype,"vocabulary",void 0);nte([ite.Override],RF.prototype,"toString",null);D8.DFASerializer=RF});var e_e=Ae(Rv=>{"use strict";m();var Z4e=Rv&&Rv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},vnt=Rv&&Rv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Rv,"__esModule",{value:!0});Rv.LexerDFASerializer=void 0;var _nt=ste(),ote=Sr(),bnt=Lg(),bj=class extends _nt.DFASerializer{constructor(e){super(e,bnt.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(e){return"'"+String.fromCodePoint(e)+"'"}};Z4e([ote.Override,ote.NotNull],bj.prototype,"getEdgeLabel",null);bj=Z4e([vnt(0,ote.NotNull)],bj);Rv.LexerDFASerializer=bj});var Ej=Ae(O8=>{"use strict";m();var Ent=O8&&O8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(O8,"__esModule",{value:!0});O8.StarLoopEntryState=void 0;var Snt=cf(),wnt=Dg(),Cnt=Sv(),Ant=Sr(),ate=class extends Cnt.DecisionState{constructor(){super(...arguments);this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new wnt.BitSet}get stateType(){return Snt.ATNStateType.STAR_LOOP_ENTRY}};Ent([Ant.Override],ate.prototype,"stateType",null);O8.StarLoopEntryState=ate});var ute=Ae(Nv=>{"use strict";m();var Sj=Nv&&Nv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Tnt=Nv&&Nv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.DFA=void 0;var Fnt=Tg(),t_e=A8(),n_e=ste(),r_e=FF(),Dnt=e_e(),wj=Sr(),Ont=cm(),Rnt=Ej(),Nnt=Lg(),R8=class{constructor(e,t=0){if(this.states=new Fnt.Array2DHashSet(Ont.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!e.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=e,this.atn=e.atn,this.decision=t;let r=!1;e instanceof Rnt.StarLoopEntryState&&e.precedenceRuleDecision&&(r=!0,this.s0=new r_e.DFAState(new t_e.ATNConfigSet),this.s0full=new r_e.DFAState(new t_e.ATNConfigSet)),this.precedenceDfa=r}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(e,t){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return t?this.s0full.getTarget(e):this.s0.getTarget(e)}setPrecedenceStartState(e,t,r){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");e<0||(t?this.s0full.setTarget(e,r):this.s0.setTarget(e,r))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(e){return e.stateNumber=this.nextStateNumber++,this.states.getOrAdd(e)}toString(e,t){if(e||(e=Nnt.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let r;return t?r=new n_e.DFASerializer(this,e,t,this.atnStartState.atn):r=new n_e.DFASerializer(this,e),r.toString()}toLexerString(){return this.s0?new Dnt.LexerDFASerializer(this).toString():""}};Sj([wj.NotNull],R8.prototype,"states",void 0);Sj([wj.NotNull],R8.prototype,"atnStartState",void 0);Sj([wj.NotNull],R8.prototype,"atn",void 0);R8=Sj([Tnt(0,wj.NotNull)],R8);Nv.DFA=R8});var cte=Ae(N8=>{"use strict";m();var Lnt=N8&&N8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(N8,"__esModule",{value:!0});N8.BasicState=void 0;var knt=N2(),Int=cf(),Mnt=Sr(),lte=class extends knt.ATNState{get stateType(){return Int.ATNStateType.BASIC}};Lnt([Mnt.Override],lte.prototype,"stateType",null);N8.BasicState=lte});var dte=Ae(L8=>{"use strict";m();var Pnt=L8&&L8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(L8,"__esModule",{value:!0});L8.InvalidState=void 0;var Bnt=cf(),jnt=cte(),qnt=Sr(),fte=class extends jnt.BasicState{get stateType(){return Bnt.ATNStateType.INVALID_TYPE}};Pnt([qnt.Override],fte.prototype,"stateType",null);L8.InvalidState=fte});var Cj=Ae(kv=>{"use strict";m();var k8=kv&&kv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},i_e=kv&&kv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(kv,"__esModule",{value:!0});kv.SetTransition=void 0;var Unt=Iv(),kg=Sr(),znt=ou(),Hnt=Ag(),Lv=class extends Hnt.Transition{constructor(e,t){super(e);t==null&&(t=Unt.IntervalSet.of(znt.Token.INVALID_TYPE)),this.set=t}get serializationType(){return 7}get label(){return this.set}matches(e,t,r){return this.set.contains(e)}toString(){return this.set.toString()}};k8([kg.NotNull],Lv.prototype,"set",void 0);k8([kg.Override],Lv.prototype,"serializationType",null);k8([kg.Override,kg.NotNull],Lv.prototype,"label",null);k8([kg.Override],Lv.prototype,"matches",null);k8([kg.Override,kg.NotNull],Lv.prototype,"toString",null);Lv=k8([i_e(0,kg.NotNull),i_e(1,kg.Nullable)],Lv);kv.SetTransition=Lv});var Tj=Ae(Mv=>{"use strict";m();var Aj=Mv&&Mv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},s_e=Mv&&Mv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.NotSetTransition=void 0;var NF=Sr(),$nt=Cj(),I8=class extends $nt.SetTransition{constructor(e,t){super(e,t)}get serializationType(){return 8}matches(e,t,r){return e>=t&&e<=r&&!super.matches(e,t,r)}toString(){return"~"+super.toString()}};Aj([NF.Override],I8.prototype,"serializationType",null);Aj([NF.Override],I8.prototype,"matches",null);Aj([NF.Override],I8.prototype,"toString",null);I8=Aj([s_e(0,NF.NotNull),s_e(1,NF.Nullable)],I8);Mv.NotSetTransition=I8});var P8=Ae(M8=>{"use strict";m();var o_e=M8&&M8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(M8,"__esModule",{value:!0});M8.RuleStopState=void 0;var Vnt=N2(),Wnt=cf(),a_e=Sr(),Fj=class extends Vnt.ATNState{get nonStopStateNumber(){return-1}get stateType(){return Wnt.ATNStateType.RULE_STOP}};o_e([a_e.Override],Fj.prototype,"nonStopStateNumber",null);o_e([a_e.Override],Fj.prototype,"stateType",null);M8.RuleStopState=Fj});var Dj=Ae(Pv=>{"use strict";m();var LF=Pv&&Pv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},u_e=Pv&&Pv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.RuleTransition=void 0;var B8=Sr(),Qnt=Ag(),G_=class extends Qnt.Transition{constructor(e,t,r,i){super(e);this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=t,this.precedence=r,this.followState=i}get serializationType(){return 3}get isEpsilon(){return!0}matches(e,t,r){return!1}};LF([B8.NotNull],G_.prototype,"followState",void 0);LF([B8.Override],G_.prototype,"serializationType",null);LF([B8.Override],G_.prototype,"isEpsilon",null);LF([B8.Override],G_.prototype,"matches",null);G_=LF([u_e(0,B8.NotNull),u_e(3,B8.NotNull)],G_);Pv.RuleTransition=G_});var hte=Ae(Bv=>{"use strict";m();var Oj=Bv&&Bv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Gnt=Bv&&Bv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Bv,"__esModule",{value:!0});Bv.WildcardTransition=void 0;var kF=Sr(),Ynt=Ag(),j8=class extends Ynt.Transition{constructor(e){super(e)}get serializationType(){return 9}matches(e,t,r){return e>=t&&e<=r}toString(){return"."}};Oj([kF.Override],j8.prototype,"serializationType",null);Oj([kF.Override],j8.prototype,"matches",null);Oj([kF.Override,kF.NotNull],j8.prototype,"toString",null);j8=Oj([Gnt(0,kF.NotNull)],j8);Bv.WildcardTransition=j8});var f_e=Ae(qv=>{"use strict";m();var Rj=qv&&qv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},jv=qv&&qv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(qv,"__esModule",{value:!0});qv.LL1Analyzer=void 0;var Knt=QB(),l_e=Tg(),Jnt=AF(),c_e=Dg(),Nj=Iv(),q2=Sr(),Xnt=Tj(),Znt=cm(),Lj=Kp(),ert=P8(),trt=Dj(),q8=ou(),nrt=hte(),Y_=class pte{constructor(e){this.atn=e}getDecisionLookahead(e){if(e==null)return;let t=new Array(e.numberOfTransitions);for(let r=0;r<e.numberOfTransitions;r++){let i=new Nj.IntervalSet;t[r]=i;let s=new l_e.Array2DHashSet(Znt.ObjectEqualityComparator.INSTANCE),o=!1;this._LOOK(e.transition(r).target,void 0,Lj.PredictionContext.EMPTY_LOCAL,i,s,new c_e.BitSet,o,!1),(i.size===0||i.contains(pte.HIT_PRED))&&(i=void 0,t[r]=i)}return t}LOOK(e,t,r){if(r===void 0){if(e.atn==null)throw new Error("Illegal state");r=e.atn.ruleToStopState[e.ruleIndex]}else r===null&&(r=void 0);let i=new Nj.IntervalSet,s=!0,o=!0;return this._LOOK(e,r,t,i,new l_e.Array2DHashSet,new c_e.BitSet,s,o),i}_LOOK(e,t,r,i,s,o,a,c){let d=Jnt.ATNConfig.create(e,0,r);if(!s.add(d))return;if(e===t){if(Lj.PredictionContext.isEmptyLocal(r)){i.add(q8.Token.EPSILON);return}else if(r.isEmpty){c&&i.add(q8.Token.EOF);return}}if(e instanceof ert.RuleStopState){if(r.isEmpty&&!Lj.PredictionContext.isEmptyLocal(r)){c&&i.add(q8.Token.EOF);return}let E=o.get(e.ruleIndex);try{o.clear(e.ruleIndex);for(let w=0;w<r.size;w++){if(r.getReturnState(w)===Lj.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let N=this.atn.states[r.getReturnState(w)];this._LOOK(N,t,r.getParent(w),i,s,o,a,c)}}finally{E&&o.set(e.ruleIndex)}}let p=e.numberOfTransitions;for(let E=0;E<p;E++){let w=e.transition(E);if(w instanceof trt.RuleTransition){if(o.get(w.ruleIndex))continue;let N=r.getChild(w.followState.stateNumber);try{o.set(w.ruleIndex),this._LOOK(w.target,t,N,i,s,o,a,c)}finally{o.clear(w.ruleIndex)}}else if(w instanceof Knt.AbstractPredicateTransition)a?this._LOOK(w.target,t,r,i,s,o,a,c):i.add(pte.HIT_PRED);else if(w.isEpsilon)this._LOOK(w.target,t,r,i,s,o,a,c);else if(w instanceof nrt.WildcardTransition)i.addAll(Nj.IntervalSet.of(q8.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let N=w.label;N!=null&&(w instanceof Xnt.NotSetTransition&&(N=N.complement(Nj.IntervalSet.of(q8.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),i.addAll(N))}}}};Y_.HIT_PRED=q8.Token.INVALID_TYPE;Rj([q2.NotNull],Y_.prototype,"atn",void 0);Rj([q2.NotNull,jv(0,q2.NotNull),jv(1,q2.NotNull)],Y_.prototype,"LOOK",null);Rj([jv(0,q2.NotNull),jv(2,q2.NotNull),jv(3,q2.NotNull),jv(4,q2.NotNull),jv(5,q2.NotNull)],Y_.prototype,"_LOOK",null);Y_=Rj([jv(0,q2.NotNull)],Y_);qv.LL1Analyzer=Y_});var dm=Ae(mm=>{"use strict";m();var e1=mm&&mm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},IF=mm&&mm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(mm,"__esModule",{value:!0});mm.ATN=void 0;var rrt=z_(),kj=ute(),irt=Iv(),srt=dte(),ort=f_e(),Hh=Sr(),art=cm(),mte=Kp(),U8=ou(),urt=C0(),D0=class{constructor(e,t){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new rrt.Array2DHashMap(art.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=e,this.maxTokenType=t}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let e=0;e<this.decisionToDFA.length;e++)this.decisionToDFA[e]=new kj.DFA(this.decisionToState[e],e);this.modeToDFA=new Array(this.modeToStartState.length);for(let e=0;e<this.modeToDFA.length;e++)this.modeToDFA[e]=new kj.DFA(this.modeToStartState[e]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(e){return mte.PredictionContext.getCachedContext(e,this.contextCache,new mte.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return urt(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(e,t){return t?new ort.LL1Analyzer(this).LOOK(e,t):(e.nextTokenWithinRule||(e.nextTokenWithinRule=this.nextTokens(e,mte.PredictionContext.EMPTY_LOCAL),e.nextTokenWithinRule.setReadonly(!0)),e.nextTokenWithinRule)}addState(e){e.atn=this,e.stateNumber=this.states.length,this.states.push(e)}removeState(e){let t=new srt.InvalidState;t.atn=this,t.stateNumber=e.stateNumber,this.states[e.stateNumber]=t}defineMode(e,t){this.modeNameToStartState.set(e,t),this.modeToStartState.push(t),this.modeToDFA.push(new kj.DFA(t)),this.defineDecisionState(t)}defineDecisionState(e){return this.decisionToState.push(e),e.decision=this.decisionToState.length-1,this.decisionToDFA.push(new kj.DFA(e,e.decision)),e.decision}getDecisionState(e){if(this.decisionToState.length>0)return this.decisionToState[e]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(e,t){if(e<0||e>=this.states.length)throw new RangeError("Invalid state number.");let r=t,i=this.states[e],s=this.nextTokens(i);if(!s.contains(U8.Token.EPSILON))return s;let o=new irt.IntervalSet;for(o.addAll(s),o.remove(U8.Token.EPSILON);r!=null&&r.invokingState>=0&&s.contains(U8.Token.EPSILON);){let c=this.states[r.invokingState].transition(0);s=this.nextTokens(c.followState),o.addAll(s),o.remove(U8.Token.EPSILON),r=r._parent}return s.contains(U8.Token.EPSILON)&&o.add(U8.Token.EOF),o}};e1([Hh.NotNull],D0.prototype,"states",void 0);e1([Hh.NotNull],D0.prototype,"decisionToState",void 0);e1([Hh.NotNull],D0.prototype,"modeNameToStartState",void 0);e1([Hh.NotNull],D0.prototype,"modeToStartState",void 0);e1([Hh.NotNull],D0.prototype,"decisionToDFA",void 0);e1([Hh.NotNull],D0.prototype,"modeToDFA",void 0);e1([Hh.NotNull],D0.prototype,"nextTokens",null);e1([IF(0,Hh.NotNull)],D0.prototype,"removeState",null);e1([IF(0,Hh.NotNull),IF(1,Hh.NotNull)],D0.prototype,"defineMode",null);e1([IF(0,Hh.NotNull)],D0.prototype,"defineDecisionState",null);e1([Hh.NotNull],D0.prototype,"getExpectedTokens",null);D0=e1([IF(0,Hh.NotNull)],D0);mm.ATN=D0;(function(n){n.INVALID_ALT_NUMBER=0})(D0=mm.ATN||(mm.ATN={}));mm.ATN=D0});var h_e=Ae(Uv=>{"use strict";m();var K_=Uv&&Uv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},lrt=Uv&&Uv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Uv,"__esModule",{value:!0});Uv.LexerIndexedCustomAction=void 0;var Ij=Ol(),J_=Sr(),Ig=class d_e{constructor(e,t){this._offset=e,this._action=t}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(e){this._action.execute(e)}hashCode(){let e=Ij.MurmurHash.initialize();return e=Ij.MurmurHash.update(e,this._offset),e=Ij.MurmurHash.update(e,this._action),Ij.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof d_e?this._offset===e._offset&&this._action.equals(e._action):!1}};K_([J_.NotNull],Ig.prototype,"action",null);K_([J_.Override],Ig.prototype,"actionType",null);K_([J_.Override],Ig.prototype,"isPositionDependent",null);K_([J_.Override],Ig.prototype,"execute",null);K_([J_.Override],Ig.prototype,"hashCode",null);K_([J_.Override],Ig.prototype,"equals",null);Ig=K_([lrt(1,J_.NotNull)],Ig);Uv.LexerIndexedCustomAction=Ig});var p_e=Ae(Hv=>{"use strict";m();var X_=Hv&&Hv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},xte=Hv&&Hv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Hv,"__esModule",{value:!0});Hv.LexerActionExecutor=void 0;var crt=xF(),gte=h_e(),yte=Ol(),zv=Sr(),Mg=class MF{constructor(e){this._lexerActions=e;let t=yte.MurmurHash.initialize();for(let r of e)t=yte.MurmurHash.update(t,r);this.cachedHashCode=yte.MurmurHash.finish(t,e.length)}static append(e,t){if(!e)return new MF([t]);let r=e._lexerActions.slice(0);return r.push(t),new MF(r)}fixOffsetBeforeMatch(e){let t;for(let r=0;r<this._lexerActions.length;r++)this._lexerActions[r].isPositionDependent&&!(this._lexerActions[r]instanceof gte.LexerIndexedCustomAction)&&(t||(t=this._lexerActions.slice(0)),t[r]=new gte.LexerIndexedCustomAction(e,this._lexerActions[r]));return t?new MF(t):this}get lexerActions(){return this._lexerActions}execute(e,t,r){let i=!1,s=t.index;try{for(let o of this._lexerActions){if(o instanceof gte.LexerIndexedCustomAction){let a=o.offset;t.seek(r+a),o=o.action,i=r+a!==s}else o.isPositionDependent&&(t.seek(s),i=!1);o.execute(e)}}finally{i&&t.seek(s)}}hashCode(){return this.cachedHashCode}equals(e){return e===this?!0:e instanceof MF?this.cachedHashCode===e.cachedHashCode&&crt.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,e._lexerActions):!1}};X_([zv.NotNull],Mg.prototype,"_lexerActions",void 0);X_([zv.NotNull],Mg.prototype,"lexerActions",null);X_([xte(0,zv.NotNull)],Mg.prototype,"execute",null);X_([zv.Override],Mg.prototype,"hashCode",null);X_([zv.Override],Mg.prototype,"equals",null);X_([zv.NotNull,xte(1,zv.NotNull)],Mg,"append",null);Mg=X_([xte(0,zv.NotNull)],Mg);Hv.LexerActionExecutor=Mg});var BF=Ae($v=>{"use strict";m();var vte=$v&&$v.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},frt=$v&&$v.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty($v,"__esModule",{value:!0});$v.LexerNoViableAltException=void 0;var drt=Cg(),_te=Sr(),hrt=F0(),prt=fm(),PF=class extends drt.RecognitionException{constructor(e,t,r,i){super(e,t);this._startIndex=r,this._deadEndConfigs=i}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let e="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(e=this.inputStream.getText(hrt.Interval.of(this._startIndex,this._startIndex)),e=prt.escapeWhitespace(e,!1)),`LexerNoViableAltException('${e}')`}};vte([_te.Override],PF.prototype,"inputStream",null);vte([_te.Override],PF.prototype,"toString",null);PF=vte([frt(1,_te.NotNull)],PF);$v.LexerNoViableAltException=PF});var m_e=Ae(z8=>{"use strict";m();var bte=z8&&z8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(z8,"__esModule",{value:!0});z8.OrderedATNConfigSet=void 0;var mrt=A8(),Ete=Sr(),Z_=class extends mrt.ATNConfigSet{constructor(e,t){e!=null&&t!=null?super(e,t):super()}clone(e){let t=new Z_(this,e);return!e&&this.isReadOnly&&t.addAll(this),t}getKey(e){return{state:0,alt:e.hashCode()}}canMerge(e,t,r){return e.equals(r)}};bte([Ete.Override],Z_.prototype,"clone",null);bte([Ete.Override],Z_.prototype,"getKey",null);bte([Ete.Override],Z_.prototype,"canMerge",null);z8.OrderedATNConfigSet=Z_});var qF=Ae(xm=>{"use strict";m();var $l=xm&&xm.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Oa=xm&&xm.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(xm,"__esModule",{value:!0});xm.LexerATNSimulator=void 0;var xrt=zee(),grt=dm(),yrt=AF(),vrt=A8(),Mj=OF(),x_e=FF(),_rt=F0(),jF=Sg(),H8=Pg(),brt=p_e(),Ert=BF(),jo=Sr(),g_e=m_e(),Ste=Kp(),y_e=P8(),Srt=ou(),v_e=C0(),Su=class $h extends Mj.ATNSimulator{constructor(e,t){super(e);this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=H8.Lexer.DEFAULT_MODE,this.prevAccept=new $h.SimState,this.recog=t}copyState(e){this._charPositionInLine=e.charPositionInLine,this._line=e._line,this.mode=e.mode,this.startIndex=e.startIndex}match(e,t){this.mode=t;let r=e.mark();try{this.startIndex=e.index,this.prevAccept.reset();let i=this.atn.modeToDFA[t].s0;return i==null?this.matchATN(e):this.execATN(e,i)}finally{e.release(r)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=H8.Lexer.DEFAULT_MODE}matchATN(e){let t=this.atn.modeToStartState[this.mode];$h.debug&&console.log(`matchATN mode ${this.mode} start: ${t}`);let r=this.mode,i=this.computeStartState(e,t),s=i.hasSemanticContext;s&&(i.hasSemanticContext=!1);let o=this.addDFAState(i);if(!s){let c=this.atn.modeToDFA[this.mode];c.s0?o=c.s0:c.s0=o}let a=this.execATN(e,o);return $h.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[r].toLexerString()}`),a}execATN(e,t){$h.debug&&console.log(`start state closure=${t.configs}`),t.isAcceptState&&this.captureSimState(this.prevAccept,e,t);let r=e.LA(1),i=t;for(;;){$h.debug&&console.log(`execATN loop starting closure: ${i.configs}`);let s=this.getExistingTargetState(i,r);if(s==null&&(s=this.computeTargetState(e,i,r)),s===Mj.ATNSimulator.ERROR||(r!==jF.IntStream.EOF&&this.consume(e),s.isAcceptState&&(this.captureSimState(this.prevAccept,e,s),r===jF.IntStream.EOF)))break;r=e.LA(1),i=s}return this.failOrAccept(this.prevAccept,e,i.configs,r)}getExistingTargetState(e,t){let r=e.getTarget(t);return $h.debug&&r!=null&&console.log("reuse state "+e.stateNumber+" edge to "+r.stateNumber),r}computeTargetState(e,t,r){let i=new g_e.OrderedATNConfigSet;return this.getReachableConfigSet(e,t.configs,i,r),i.isEmpty?(i.hasSemanticContext||this.addDFAEdge(t,r,Mj.ATNSimulator.ERROR),Mj.ATNSimulator.ERROR):this.addDFAEdge(t,r,i)}failOrAccept(e,t,r,i){if(e.dfaState!=null){let s=e.dfaState.lexerActionExecutor;return this.accept(t,s,this.startIndex,e.index,e.line,e.charPos),e.dfaState.prediction}else{if(i===jF.IntStream.EOF&&t.index===this.startIndex)return Srt.Token.EOF;throw new Ert.LexerNoViableAltException(this.recog,t,this.startIndex,r)}}getReachableConfigSet(e,t,r,i){let s=grt.ATN.INVALID_ALT_NUMBER;for(let o of t){let a=o.alt===s;if(a&&o.hasPassedThroughNonGreedyDecision)continue;$h.debug&&console.log(`testing ${this.getTokenName(i)} at ${o.toString(this.recog,!0)}`);let c=o.state.numberOfOptimizedTransitions;for(let d=0;d<c;d++){let p=o.state.getOptimizedTransition(d),E=this.getReachableTarget(p,i);if(E!=null){let w=o.lexerActionExecutor,N;w!=null?(w=w.fixOffsetBeforeMatch(e.index-this.startIndex),N=o.transform(E,!0,w)):(v_e(o.lexerActionExecutor==null),N=o.transform(E,!0));let R=i===jF.IntStream.EOF;if(this.closure(e,N,r,a,!0,R)){s=o.alt;break}}}}}accept(e,t,r,i,s,o){$h.debug&&console.log(`ACTION ${t}`),e.seek(i),this._line=s,this._charPositionInLine=o,t!=null&&this.recog!=null&&t.execute(this.recog,e,r)}getReachableTarget(e,t){if(e.matches(t,H8.Lexer.MIN_CHAR_VALUE,H8.Lexer.MAX_CHAR_VALUE))return e.target}computeStartState(e,t){let r=Ste.PredictionContext.EMPTY_FULL,i=new g_e.OrderedATNConfigSet;for(let s=0;s<t.numberOfTransitions;s++){let o=t.transition(s).target,a=yrt.ATNConfig.create(o,s+1,r);this.closure(e,a,i,!1,!1,!1)}return i}closure(e,t,r,i,s,o){if($h.debug&&console.log("closure("+t.toString(this.recog,!0)+")"),t.state instanceof y_e.RuleStopState){$h.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[t.state.ruleIndex]} rule stop ${t}`):console.log(`closure at rule stop ${t}`));let c=t.context;if(c.isEmpty)return r.add(t),!0;c.hasEmpty&&(r.add(t.transform(t.state,!0,Ste.PredictionContext.EMPTY_FULL)),i=!0);for(let d=0;d<c.size;d++){let p=c.getReturnState(d);if(p===Ste.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let E=c.getParent(d),w=this.atn.states[p],N=t.transform(w,!1,E);i=this.closure(e,N,r,i,s,o)}return i}t.state.onlyHasEpsilonTransitions||(!i||!t.hasPassedThroughNonGreedyDecision)&&r.add(t);let a=t.state;for(let c=0;c<a.numberOfOptimizedTransitions;c++){let d=a.getOptimizedTransition(c),p=this.getEpsilonTarget(e,t,d,r,s,o);p!=null&&(i=this.closure(e,p,r,i,s,o))}return i}getEpsilonTarget(e,t,r,i,s,o){let a;switch(r.serializationType){case 3:let c=r;if(this.optimize_tail_calls&&c.optimizedTailCall&&!t.context.hasEmpty)a=t.transform(r.target,!0);else{let p=t.context.getChild(c.followState.stateNumber);a=t.transform(r.target,!0,p)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let d=r;$h.debug&&console.log("EVAL rule "+d.ruleIndex+":"+d.predIndex),i.hasSemanticContext=!0,this.evaluatePredicate(e,d.ruleIndex,d.predIndex,s)?a=t.transform(r.target,!0):a=void 0;break;case 6:if(t.context.hasEmpty){let p=brt.LexerActionExecutor.append(t.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);a=t.transform(r.target,!0,p);break}else{a=t.transform(r.target,!0);break}case 1:a=t.transform(r.target,!0);break;case 5:case 2:case 7:if(o&&r.matches(jF.IntStream.EOF,H8.Lexer.MIN_CHAR_VALUE,H8.Lexer.MAX_CHAR_VALUE)){a=t.transform(r.target,!1);break}a=void 0;break;default:a=void 0;break}return a}evaluatePredicate(e,t,r,i){if(this.recog==null)return!0;if(!i)return this.recog.sempred(void 0,t,r);let s=this._charPositionInLine,o=this._line,a=e.index,c=e.mark();try{return this.consume(e),this.recog.sempred(void 0,t,r)}finally{this._charPositionInLine=s,this._line=o,e.seek(a),e.release(c)}}captureSimState(e,t,r){e.index=t.index,e.line=this._line,e.charPos=this._charPositionInLine,e.dfaState=r}addDFAEdge(e,t,r){if(r instanceof vrt.ATNConfigSet){let i=r.hasSemanticContext;i&&(r.hasSemanticContext=!1);let s=this.addDFAState(r);return i||this.addDFAEdge(e,t,s),s}else $h.debug&&console.log("EDGE "+e+" -> "+r+" upon "+String.fromCharCode(t)),e!=null&&e.setTarget(t,r)}addDFAState(e){v_e(!e.hasSemanticContext);let t=new x_e.DFAState(e),r=this.atn.modeToDFA[this.mode].states.get(t);if(r!=null)return r;e.optimizeConfigs(this);let i=new x_e.DFAState(e.clone(!0)),s;for(let o of e)if(o.state instanceof y_e.RuleStopState){s=o;break}if(s!=null){let o=this.atn.ruleToTokenType[s.state.ruleIndex],a=s.lexerActionExecutor;i.acceptStateInfo=new xrt.AcceptStateInfo(o,a)}return this.atn.modeToDFA[this.mode].addState(i)}getDFA(e){return this.atn.modeToDFA[e]}getText(e){return e.getText(_rt.Interval.of(this.startIndex,e.index-1))}get line(){return this._line}set line(e){this._line=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}consume(e){e.LA(1)===`
`.charCodeAt(0)?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,e.consume()}getTokenName(e){return e===-1?"EOF":"'"+String.fromCharCode(e)+"'"}};$l([jo.NotNull],Su.prototype,"prevAccept",void 0);$l([Oa(0,jo.NotNull)],Su.prototype,"copyState",null);$l([Oa(0,jo.NotNull)],Su.prototype,"match",null);$l([jo.Override],Su.prototype,"reset",null);$l([Oa(0,jo.NotNull)],Su.prototype,"matchATN",null);$l([Oa(0,jo.NotNull),Oa(1,jo.NotNull)],Su.prototype,"execATN",null);$l([Oa(0,jo.NotNull)],Su.prototype,"getExistingTargetState",null);$l([jo.NotNull,Oa(0,jo.NotNull),Oa(1,jo.NotNull)],Su.prototype,"computeTargetState",null);$l([Oa(0,jo.NotNull),Oa(1,jo.NotNull),Oa(2,jo.NotNull)],Su.prototype,"getReachableConfigSet",null);$l([Oa(0,jo.NotNull)],Su.prototype,"accept",null);$l([jo.NotNull,Oa(0,jo.NotNull),Oa(1,jo.NotNull)],Su.prototype,"computeStartState",null);$l([Oa(0,jo.NotNull),Oa(1,jo.NotNull),Oa(2,jo.NotNull)],Su.prototype,"closure",null);$l([Oa(0,jo.NotNull),Oa(1,jo.NotNull),Oa(2,jo.NotNull),Oa(3,jo.NotNull)],Su.prototype,"getEpsilonTarget",null);$l([Oa(0,jo.NotNull)],Su.prototype,"evaluatePredicate",null);$l([Oa(0,jo.NotNull),Oa(1,jo.NotNull),Oa(2,jo.NotNull)],Su.prototype,"captureSimState",null);$l([jo.NotNull,Oa(0,jo.NotNull)],Su.prototype,"addDFAState",null);$l([jo.NotNull],Su.prototype,"getDFA",null);$l([jo.NotNull,Oa(0,jo.NotNull)],Su.prototype,"getText",null);$l([Oa(0,jo.NotNull)],Su.prototype,"consume",null);$l([jo.NotNull],Su.prototype,"getTokenName",null);Su=$l([Oa(0,jo.NotNull)],Su);xm.LexerATNSimulator=Su;(function(n){n.debug=!1,n.dfa_debug=!1;class e{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}n.SimState=e})(Su=xm.LexerATNSimulator||(xm.LexerATNSimulator={}));xm.LexerATNSimulator=Su});var Pg=Ae(W8=>{"use strict";m();var $8=W8&&W8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(W8,"__esModule",{value:!0});W8.Lexer=void 0;var wrt=rj(),Crt=Uee(),Art=F0(),__e=Sg(),b_e=qF(),E_e=BF(),V8=Sr(),Trt=T8(),gm=ou(),Vl=class extends Trt.Recognizer{constructor(e){super();this._factory=wrt.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new Crt.IntegerStack,this._mode=Vl.DEFAULT_MODE,this._input=e,this._tokenFactorySourcePair={source:this,stream:e}}static get DEFAULT_TOKEN_CHANNEL(){return gm.Token.DEFAULT_CHANNEL}static get HIDDEN(){return gm.Token.HIDDEN_CHANNEL}reset(e){(e===void 0||e)&&this._input.seek(0),this._token=void 0,this._type=gm.Token.INVALID_TYPE,this._channel=gm.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=Vl.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let e=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=gm.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=gm.Token.INVALID_TYPE;let t;try{t=this.interpreter.match(this._input,this._mode)}catch(r){if(r instanceof E_e.LexerNoViableAltException)this.notifyListeners(r),this.recover(r),t=Vl.SKIP;else throw r}if(this._input.LA(1)===__e.IntStream.EOF&&(this._hitEOF=!0),this._type===gm.Token.INVALID_TYPE&&(this._type=t),this._type===Vl.SKIP)continue e}while(this._type===Vl.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(e)}}skip(){this._type=Vl.SKIP}more(){this._type=Vl.MORE}mode(e){this._mode=e}pushMode(e){b_e.LexerATNSimulator.debug&&console.log("pushMode "+e),this._modeStack.push(this._mode),this.mode(e)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return b_e.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(e){this._factory=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(e){return e||(e=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=e,e}emitEOF(){let e=this.charPositionInLine,t=this.line,r=this._factory.create(this._tokenFactorySourcePair,gm.Token.EOF,void 0,gm.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,t,e);return this.emit(r),r}get line(){return this.interpreter.line}set line(e){this.interpreter.line=e}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(e){this.interpreter.charPositionInLine=e}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(e){this._text=e}get token(){return this._token}set token(e){this._token=e}set type(e){this._type=e}get type(){return this._type}set channel(e){this._channel=e}get channel(){return this._channel}getAllTokens(){let e=[],t=this.nextToken();for(;t.type!==gm.Token.EOF;)e.push(t),t=this.nextToken();return e}notifyListeners(e){let t=this._input.getText(Art.Interval.of(this._tokenStartCharIndex,this._input.index)),r="token recognition error at: '"+this.getErrorDisplay(t)+"'",i=this.getErrorListenerDispatch();i.syntaxError&&i.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,r,e)}getErrorDisplay(e){if(typeof e=="number"){switch(e){case gm.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(e)}return e.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(e){let t=this.getErrorDisplay(e);return"'"+t+"'"}recover(e){e instanceof E_e.LexerNoViableAltException?this._input.LA(1)!==__e.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};Vl.DEFAULT_MODE=0;Vl.MORE=-2;Vl.SKIP=-3;Vl.MIN_CHAR_VALUE=0;Vl.MAX_CHAR_VALUE=1114111;$8([V8.Override],Vl.prototype,"nextToken",null);$8([V8.Override],Vl.prototype,"tokenFactory",null);$8([V8.Override],Vl.prototype,"inputStream",null);$8([V8.Override],Vl.prototype,"sourceName",null);$8([V8.Override],Vl.prototype,"line",null);$8([V8.Override],Vl.prototype,"charPositionInLine",null);W8.Lexer=Vl});var Iv=Ae(Vv=>{"use strict";m();var gd=Vv&&Vv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},S_e=Vv&&Vv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Vv,"__esModule",{value:!0});Vv.IntervalSet=void 0;var Frt=xF(),Drt=nj(),Q8=F0(),w_e=Pg(),Pj=Ol(),O0=Sr(),wte=ou(),Os=class{constructor(e){this.readonly=!1,e!=null?this._intervals=e.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return Os._COMPLETE_CHAR_SET===void 0&&(Os._COMPLETE_CHAR_SET=Os.of(w_e.Lexer.MIN_CHAR_VALUE,w_e.Lexer.MAX_CHAR_VALUE),Os._COMPLETE_CHAR_SET.setReadonly(!0)),Os._COMPLETE_CHAR_SET}static get EMPTY_SET(){return Os._EMPTY_SET==null&&(Os._EMPTY_SET=new Os,Os._EMPTY_SET.setReadonly(!0)),Os._EMPTY_SET}static of(e,t=e){let r=new Os;return r.add(e,t),r}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(e,t=e){this.addRange(Q8.Interval.of(e,t))}addRange(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(e.b<e.a)){for(let t=0;t<this._intervals.length;t++){let r=this._intervals[t];if(e.equals(r))return;if(e.adjacent(r)||!e.disjoint(r)){let i=e.union(r);for(this._intervals[t]=i;t<this._intervals.length-1;){t++;let s=this._intervals[t];if(!i.adjacent(s)&&i.disjoint(s))break;this._intervals.splice(t,1),t--,this._intervals[t]=i.union(s)}return}if(e.startsBeforeDisjoint(r)){this._intervals.splice(t,0,e);return}}this._intervals.push(e)}}static or(e){let t=new Os;for(let r of e)t.addAll(r);return t}addAll(e){if(e==null)return this;if(e instanceof Os){let t=e,r=t._intervals.length;for(let i=0;i<r;i++){let s=t._intervals[i];this.add(s.a,s.b)}}else for(let t of e.toArray())this.add(t);return this}complementRange(e,t){return this.complement(Os.of(e,t))}complement(e){if(e.isNil)return Os.EMPTY_SET;let t;return e instanceof Os?t=e:(t=new Os,t.addAll(e)),t.subtract(this)}subtract(e){if(e==null||e.isNil)return new Os(this._intervals);if(e instanceof Os)return Os.subtract(this,e);let t=new Os;return t.addAll(e),Os.subtract(this,t)}static subtract(e,t){if(e.isNil)return new Os;let r=new Os(e._intervals);if(t.isNil)return r;let i=0,s=0;for(;i<r._intervals.length&&s<t._intervals.length;){let o=r._intervals[i],a=t._intervals[s];if(a.b<o.a){s++;continue}if(a.a>o.b){i++;continue}let c,d;if(a.a>o.a&&(c=new Q8.Interval(o.a,a.a-1)),a.b<o.b&&(d=new Q8.Interval(a.b+1,o.b)),c)if(d){r._intervals[i]=c,r._intervals.splice(i+1,0,d),i++,s++;continue}else{r._intervals[i]=c,i++;continue}else if(d){r._intervals[i]=d,s++;continue}else{r._intervals.splice(i,1);continue}}return r}or(e){let t=new Os;return t.addAll(this),t.addAll(e),t}and(e){if(e.isNil)return new Os;let t=this._intervals,r=e._intervals,i,s=t.length,o=r.length,a=0,c=0;for(;a<s&&c<o;){let d=t[a],p=r[c];d.startsBeforeDisjoint(p)?a++:p.startsBeforeDisjoint(d)?c++:d.properlyContains(p)?(i||(i=new Os),i.addRange(d.intersection(p)),c++):p.properlyContains(d)?(i||(i=new Os),i.addRange(d.intersection(p)),a++):d.disjoint(p)||(i||(i=new Os),i.addRange(d.intersection(p)),d.startsAfterNonDisjoint(p)?c++:p.startsAfterNonDisjoint(d)&&a++)}return i||new Os}contains(e){let t=this._intervals.length,r=0,i=t-1;for(;r<=i;){let s=r+i>>1,o=this._intervals[s],a=o.a;if(o.b<e)r=s+1;else if(a>e)i=s-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let e=Pj.MurmurHash.initialize();for(let t of this._intervals)e=Pj.MurmurHash.update(e,t.a),e=Pj.MurmurHash.update(e,t.b);return e=Pj.MurmurHash.finish(e,this._intervals.length*2),e}equals(e){return e==null||!(e instanceof Os)?!1:Frt.ArrayEqualityComparator.INSTANCE.equals(this._intervals,e._intervals)}toString(e=!1){let t="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;s===o?s===wte.Token.EOF?t+="<EOF>":e?t+="'"+String.fromCodePoint(s)+"'":t+=s:e?t+="'"+String.fromCodePoint(s)+"'..'"+String.fromCodePoint(o)+"'":t+=s+".."+o}return this.size>1&&(t+="}"),t}toStringVocabulary(e){if(this._intervals==null||this._intervals.length===0)return"{}";let t="";this.size>1&&(t+="{");let r=!0;for(let i of this._intervals){r?r=!1:t+=", ";let s=i.a,o=i.b;if(s===o)t+=this.elementName(e,s);else for(let a=s;a<=o;a++)a>s&&(t+=", "),t+=this.elementName(e,a)}return this.size>1&&(t+="}"),t}elementName(e,t){return t===wte.Token.EOF?"<EOF>":t===wte.Token.EPSILON?"<EPSILON>":e.getDisplayName(t)}get size(){let e=0,t=this._intervals.length;if(t===1){let r=this._intervals[0];return r.b-r.a+1}for(let r=0;r<t;r++){let i=this._intervals[r];e+=i.b-i.a+1}return e}toIntegerList(){let e=new Drt.IntegerList(this.size),t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.add(a)}return e}toSet(){let e=new Set;for(let t of this._intervals){let r=t.a,i=t.b;for(let s=r;s<=i;s++)e.add(s)}return e}toArray(){let e=new Array,t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;for(let a=s;a<=o;a++)e.push(a)}return e}remove(e){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let t=this._intervals.length;for(let r=0;r<t;r++){let i=this._intervals[r],s=i.a,o=i.b;if(e<s)break;if(e===s&&e===o){this._intervals.splice(r,1);break}if(e===s){this._intervals[r]=Q8.Interval.of(i.a+1,i.b);break}if(e===o){this._intervals[r]=Q8.Interval.of(i.a,i.b-1);break}if(e>s&&e<o){let a=i.b;this._intervals[r]=Q8.Interval.of(i.a,e-1),this.add(e+1,a)}}}get isReadonly(){return this.readonly}setReadonly(e){if(this.readonly&&!e)throw new Error("can't alter readonly IntervalSet");this.readonly=e}};gd([O0.Override],Os.prototype,"addAll",null);gd([O0.Override],Os.prototype,"complement",null);gd([O0.Override],Os.prototype,"subtract",null);gd([O0.Override],Os.prototype,"or",null);gd([O0.Override],Os.prototype,"and",null);gd([O0.Override],Os.prototype,"contains",null);gd([O0.Override],Os.prototype,"isNil",null);gd([O0.Override],Os.prototype,"hashCode",null);gd([O0.Override],Os.prototype,"equals",null);gd([S_e(0,O0.NotNull)],Os.prototype,"toStringVocabulary",null);gd([O0.NotNull,S_e(0,O0.NotNull)],Os.prototype,"elementName",null);gd([O0.Override],Os.prototype,"size",null);gd([O0.Override],Os.prototype,"remove",null);gd([O0.NotNull],Os,"of",null);gd([O0.NotNull],Os,"subtract",null);Vv.IntervalSet=Os});var Cte=Ae(G8=>{"use strict";m();var Ort=G8&&G8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(G8,"__esModule",{value:!0});G8.ATNDeserializationOptions=void 0;var Rrt=Sr(),Bg=class{constructor(e){this.readOnly=!1,e?(this.verifyATN=e.verifyATN,this.generateRuleBypassTransitions=e.generateRuleBypassTransitions,this.optimize=e.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return Bg._defaultOptions==null&&(Bg._defaultOptions=new Bg,Bg._defaultOptions.makeReadOnly()),Bg._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(e){this.throwIfReadOnly(),this.verifyATN=e}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(e){this.throwIfReadOnly(),this.generateRuleBypassTransitions=e}get isOptimize(){return this.optimize}set isOptimize(e){this.throwIfReadOnly(),this.optimize=e}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}};Ort([Rrt.NotNull],Bg,"defaultOptions",null);G8.ATNDeserializationOptions=Bg});var Ate=Ae(Wv=>{"use strict";m();var UF=Wv&&Wv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Nrt=Wv&&Wv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Wv,"__esModule",{value:!0});Wv.ActionTransition=void 0;var zF=Sr(),Lrt=Ag(),e6=class extends Lrt.Transition{constructor(e,t,r=-1,i=!1){super(e);this.ruleIndex=t,this.actionIndex=r,this.isCtxDependent=i}get serializationType(){return 6}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};UF([zF.Override],e6.prototype,"serializationType",null);UF([zF.Override],e6.prototype,"isEpsilon",null);UF([zF.Override],e6.prototype,"matches",null);UF([zF.Override],e6.prototype,"toString",null);e6=UF([Nrt(0,zF.NotNull)],e6);Wv.ActionTransition=e6});var Tte=Ae(Qv=>{"use strict";m();var HF=Qv&&Qv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},krt=Qv&&Qv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Qv,"__esModule",{value:!0});Qv.AtomTransition=void 0;var Irt=Iv(),t6=Sr(),Mrt=Ag(),n6=class extends Mrt.Transition{constructor(e,t){super(e);this._label=t}get serializationType(){return 5}get label(){return Irt.IntervalSet.of(this._label)}matches(e,t,r){return this._label===e}toString(){return String(this.label)}};HF([t6.Override],n6.prototype,"serializationType",null);HF([t6.Override,t6.NotNull],n6.prototype,"label",null);HF([t6.Override],n6.prototype,"matches",null);HF([t6.Override,t6.NotNull],n6.prototype,"toString",null);n6=HF([krt(0,t6.NotNull)],n6);Qv.AtomTransition=n6});var $F=Ae(Bj=>{"use strict";m();Object.defineProperty(Bj,"__esModule",{value:!0});Bj.BlockStartState=void 0;var Prt=Sv(),C_e=class extends Prt.DecisionState{};Bj.BlockStartState=C_e});var A_e=Ae(Y8=>{"use strict";m();var Brt=Y8&&Y8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Y8,"__esModule",{value:!0});Y8.BasicBlockStartState=void 0;var jrt=cf(),qrt=$F(),Urt=Sr(),Fte=class extends qrt.BlockStartState{get stateType(){return jrt.ATNStateType.BLOCK_START}};Brt([Urt.Override],Fte.prototype,"stateType",null);Y8.BasicBlockStartState=Fte});var T_e=Ae(K8=>{"use strict";m();var zrt=K8&&K8.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(K8,"__esModule",{value:!0});K8.BlockEndState=void 0;var Hrt=N2(),$rt=cf(),Vrt=Sr(),Dte=class extends Hrt.ATNState{get stateType(){return $rt.ATNStateType.BLOCK_END}};zrt([Vrt.Override],Dte.prototype,"stateType",null);K8.BlockEndState=Dte});var F_e=Ae(Gv=>{"use strict";m();var VF=Gv&&Gv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Wrt=Gv&&Gv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.EpsilonTransition=void 0;var J8=Sr(),Qrt=Ag(),r6=class extends Qrt.Transition{constructor(e,t=-1){super(e);this._outermostPrecedenceReturn=t}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"epsilon"}};VF([J8.Override],r6.prototype,"serializationType",null);VF([J8.Override],r6.prototype,"isEpsilon",null);VF([J8.Override],r6.prototype,"matches",null);VF([J8.Override,J8.NotNull],r6.prototype,"toString",null);r6=VF([Wrt(0,J8.NotNull)],r6);Gv.EpsilonTransition=r6});var D_e=Ae(Yv=>{"use strict";m();var X8=Yv&&Yv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Grt=Yv&&Yv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Yv,"__esModule",{value:!0});Yv.LexerChannelAction=void 0;var jj=Ol(),i6=Sr(),U2=class{constructor(e){this._channel=e}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(e){e.channel=this._channel}hashCode(){let e=jj.MurmurHash.initialize();return e=jj.MurmurHash.update(e,this.actionType),e=jj.MurmurHash.update(e,this._channel),jj.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof U2?this._channel===e._channel:!1}toString(){return`channel(${this._channel})`}};X8([i6.Override],U2.prototype,"actionType",null);X8([i6.Override],U2.prototype,"isPositionDependent",null);X8([i6.Override,Grt(0,i6.NotNull)],U2.prototype,"execute",null);X8([i6.Override],U2.prototype,"hashCode",null);X8([i6.Override],U2.prototype,"equals",null);X8([i6.Override],U2.prototype,"toString",null);Yv.LexerChannelAction=U2});var O_e=Ae(Kv=>{"use strict";m();var WF=Kv&&Kv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Yrt=Kv&&Kv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Kv,"__esModule",{value:!0});Kv.LexerCustomAction=void 0;var QF=Ol(),Z8=Sr(),jg=class{constructor(e,t){this._ruleIndex=e,this._actionIndex=t}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(e){e.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let e=QF.MurmurHash.initialize();return e=QF.MurmurHash.update(e,this.actionType),e=QF.MurmurHash.update(e,this._ruleIndex),e=QF.MurmurHash.update(e,this._actionIndex),QF.MurmurHash.finish(e,3)}equals(e){return e===this?!0:e instanceof jg?this._ruleIndex===e._ruleIndex&&this._actionIndex===e._actionIndex:!1}};WF([Z8.Override],jg.prototype,"actionType",null);WF([Z8.Override],jg.prototype,"isPositionDependent",null);WF([Z8.Override,Yrt(0,Z8.NotNull)],jg.prototype,"execute",null);WF([Z8.Override],jg.prototype,"hashCode",null);WF([Z8.Override],jg.prototype,"equals",null);Kv.LexerCustomAction=jg});var R_e=Ae(Jv=>{"use strict";m();var eS=Jv&&Jv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Krt=Jv&&Jv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Jv,"__esModule",{value:!0});Jv.LexerModeAction=void 0;var qj=Ol(),s6=Sr(),z2=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(e){e.mode(this._mode)}hashCode(){let e=qj.MurmurHash.initialize();return e=qj.MurmurHash.update(e,this.actionType),e=qj.MurmurHash.update(e,this._mode),qj.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof z2?this._mode===e._mode:!1}toString(){return`mode(${this._mode})`}};eS([s6.Override],z2.prototype,"actionType",null);eS([s6.Override],z2.prototype,"isPositionDependent",null);eS([s6.Override,Krt(0,s6.NotNull)],z2.prototype,"execute",null);eS([s6.Override],z2.prototype,"hashCode",null);eS([s6.Override],z2.prototype,"equals",null);eS([s6.Override],z2.prototype,"toString",null);Jv.LexerModeAction=z2});var N_e=Ae(H2=>{"use strict";m();var tS=H2&&H2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Jrt=H2&&H2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(H2,"__esModule",{value:!0});H2.LexerMoreAction=void 0;var Ote=Ol(),o6=Sr(),qg=class{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(e){e.more()}hashCode(){let e=Ote.MurmurHash.initialize();return e=Ote.MurmurHash.update(e,this.actionType),Ote.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"more"}};tS([o6.Override],qg.prototype,"actionType",null);tS([o6.Override],qg.prototype,"isPositionDependent",null);tS([o6.Override,Jrt(0,o6.NotNull)],qg.prototype,"execute",null);tS([o6.Override],qg.prototype,"hashCode",null);tS([o6.Override],qg.prototype,"equals",null);tS([o6.Override],qg.prototype,"toString",null);H2.LexerMoreAction=qg;(function(n){n.INSTANCE=new n})(qg=H2.LexerMoreAction||(H2.LexerMoreAction={}))});var L_e=Ae($2=>{"use strict";m();var nS=$2&&$2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Xrt=$2&&$2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty($2,"__esModule",{value:!0});$2.LexerPopModeAction=void 0;var Rte=Ol(),a6=Sr(),Ug=class{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(e){e.popMode()}hashCode(){let e=Rte.MurmurHash.initialize();return e=Rte.MurmurHash.update(e,this.actionType),Rte.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"popMode"}};nS([a6.Override],Ug.prototype,"actionType",null);nS([a6.Override],Ug.prototype,"isPositionDependent",null);nS([a6.Override,Xrt(0,a6.NotNull)],Ug.prototype,"execute",null);nS([a6.Override],Ug.prototype,"hashCode",null);nS([a6.Override],Ug.prototype,"equals",null);nS([a6.Override],Ug.prototype,"toString",null);$2.LexerPopModeAction=Ug;(function(n){n.INSTANCE=new n})(Ug=$2.LexerPopModeAction||($2.LexerPopModeAction={}))});var k_e=Ae(Xv=>{"use strict";m();var rS=Xv&&Xv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Zrt=Xv&&Xv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Xv,"__esModule",{value:!0});Xv.LexerPushModeAction=void 0;var Uj=Ol(),u6=Sr(),V2=class{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(e){e.pushMode(this._mode)}hashCode(){let e=Uj.MurmurHash.initialize();return e=Uj.MurmurHash.update(e,this.actionType),e=Uj.MurmurHash.update(e,this._mode),Uj.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof V2?this._mode===e._mode:!1}toString(){return`pushMode(${this._mode})`}};rS([u6.Override],V2.prototype,"actionType",null);rS([u6.Override],V2.prototype,"isPositionDependent",null);rS([u6.Override,Zrt(0,u6.NotNull)],V2.prototype,"execute",null);rS([u6.Override],V2.prototype,"hashCode",null);rS([u6.Override],V2.prototype,"equals",null);rS([u6.Override],V2.prototype,"toString",null);Xv.LexerPushModeAction=V2});var I_e=Ae(W2=>{"use strict";m();var iS=W2&&W2.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},eit=W2&&W2.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(W2,"__esModule",{value:!0});W2.LexerSkipAction=void 0;var Nte=Ol(),l6=Sr(),zg=class{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(e){e.skip()}hashCode(){let e=Nte.MurmurHash.initialize();return e=Nte.MurmurHash.update(e,this.actionType),Nte.MurmurHash.finish(e,1)}equals(e){return e===this}toString(){return"skip"}};iS([l6.Override],zg.prototype,"actionType",null);iS([l6.Override],zg.prototype,"isPositionDependent",null);iS([l6.Override,eit(0,l6.NotNull)],zg.prototype,"execute",null);iS([l6.Override],zg.prototype,"hashCode",null);iS([l6.Override],zg.prototype,"equals",null);iS([l6.Override],zg.prototype,"toString",null);W2.LexerSkipAction=zg;(function(n){n.INSTANCE=new n})(zg=W2.LexerSkipAction||(W2.LexerSkipAction={}))});var M_e=Ae(Zv=>{"use strict";m();var sS=Zv&&Zv.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},tit=Zv&&Zv.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Zv,"__esModule",{value:!0});Zv.LexerTypeAction=void 0;var zj=Ol(),c6=Sr(),Q2=class{constructor(e){this._type=e}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(e){e.type=this._type}hashCode(){let e=zj.MurmurHash.initialize();return e=zj.MurmurHash.update(e,this.actionType),e=zj.MurmurHash.update(e,this._type),zj.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof Q2?this._type===e._type:!1}toString(){return`type(${this._type})`}};sS([c6.Override],Q2.prototype,"actionType",null);sS([c6.Override],Q2.prototype,"isPositionDependent",null);sS([c6.Override,tit(0,c6.NotNull)],Q2.prototype,"execute",null);sS([c6.Override],Q2.prototype,"hashCode",null);sS([c6.Override],Q2.prototype,"equals",null);sS([c6.Override],Q2.prototype,"toString",null);Zv.LexerTypeAction=Q2});var kte=Ae(oS=>{"use strict";m();var nit=oS&&oS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(oS,"__esModule",{value:!0});oS.LoopEndState=void 0;var rit=N2(),iit=cf(),sit=Sr(),Lte=class extends rit.ATNState{get stateType(){return iit.ATNStateType.LOOP_END}};nit([sit.Override],Lte.prototype,"stateType",null);oS.LoopEndState=Lte});var j_e=Ae(uS=>{"use strict";m();var P_e=uS&&uS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(uS,"__esModule",{value:!0});uS.ConflictInfo=void 0;var B_e=Sr(),oit=fm(),aS=class{constructor(e,t){this._conflictedAlts=e,this.exact=t}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(e){return e===this?!0:e instanceof aS?this.isExact===e.isExact&&oit.equals(this.conflictedAlts,e.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}};P_e([B_e.Override],aS.prototype,"equals",null);P_e([B_e.Override],aS.prototype,"hashCode",null);uS.ConflictInfo=aS});var Hg=Ae(lS=>{"use strict";m();var G2=lS&&lS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(lS,"__esModule",{value:!0});lS.TerminalNode=void 0;var ait=F0(),Y2=Sr(),uit=ou(),t1=class{constructor(e){this._symbol=e}getChild(e){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this._symbol}get sourceInterval(){let e=this._symbol.tokenIndex;return new ait.Interval(e,e)}get childCount(){return 0}accept(e){return e.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(e){return this.toString()}toString(){return this._symbol.type===uit.Token.EOF?"<EOF>":this._symbol.text||""}};G2([Y2.Override],t1.prototype,"getChild",null);G2([Y2.Override],t1.prototype,"parent",null);G2([Y2.Override],t1.prototype,"setParent",null);G2([Y2.Override],t1.prototype,"payload",null);G2([Y2.Override],t1.prototype,"sourceInterval",null);G2([Y2.Override],t1.prototype,"childCount",null);G2([Y2.Override],t1.prototype,"accept",null);G2([Y2.Override],t1.prototype,"text",null);G2([Y2.Override],t1.prototype,"toStringTree",null);G2([Y2.Override],t1.prototype,"toString",null);lS.TerminalNode=t1});var fS=Ae(cS=>{"use strict";m();var lit=cS&&cS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(cS,"__esModule",{value:!0});cS.ErrorNode=void 0;var cit=Sr(),fit=Hg(),Ite=class extends fit.TerminalNode{constructor(e){super(e)}accept(e){return e.visitErrorNode(this)}};lit([cit.Override],Ite.prototype,"accept",null);cS.ErrorNode=Ite});var dS=Ae(Hj=>{"use strict";m();Object.defineProperty(Hj,"__esModule",{value:!0});Hj.RuleNode=void 0;var q_e=class{};Hj.RuleNode=q_e});var $g=Ae(e5=>{"use strict";m();var Mte=e5&&e5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Pte=e5&&e5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(e5,"__esModule",{value:!0});e5.Trees=void 0;var dit=dm(),hit=b8(),pit=fS(),$j=Sr(),U_e=hS(),Bte=n1(),mit=dS(),jte=Hg(),xit=ou(),z_e=fm(),Vh=class{static toStringTree(e,t){let r;t instanceof U_e.Parser?r=t.ruleNames:r=t;let i=z_e.escapeWhitespace(this.getNodeText(e,r),!1);if(e.childCount===0)return i;let s="";s+="(",i=z_e.escapeWhitespace(this.getNodeText(e,r),!1),s+=i,s+=" ";for(let o=0;o<e.childCount;o++)o>0&&(s+=" "),s+=this.toStringTree(e.getChild(o),r);return s+=")",s}static getNodeText(e,t){let r;if(t instanceof U_e.Parser)r=t.ruleNames;else if(t)r=t;else{let i=e.payload;return typeof i.text=="string"?i.text:e.payload.toString()}if(e instanceof mit.RuleNode){let i=e.ruleContext,s=i.ruleIndex,o=r[s],a=i.altNumber;return a!==dit.ATN.INVALID_ALT_NUMBER?o+":"+a:o}else{if(e instanceof pit.ErrorNode)return e.toString();if(e instanceof jte.TerminalNode)return e.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(e){let t=[];for(let r=0;r<e.childCount;r++)t.push(e.getChild(r));return t}static getAncestors(e){let t=[],r=e.parent;for(;r;)t.unshift(r),r=r.parent;return t}static isAncestorOf(e,t){if(!e||!t||!e.parent)return!1;let r=t.parent;for(;r;){if(e===r)return!0;r=r.parent}return!1}static findAllTokenNodes(e,t){return Vh.findAllNodes(e,t,!0)}static findAllRuleNodes(e,t){return Vh.findAllNodes(e,t,!1)}static findAllNodes(e,t,r){let i=[];return Vh._findAllNodes(e,t,r,i),i}static _findAllNodes(e,t,r,i){r&&e instanceof jte.TerminalNode?e.symbol.type===t&&i.push(e):!r&&e instanceof Bte.ParserRuleContext&&e.ruleIndex===t&&i.push(e);for(let s=0;s<e.childCount;s++)Vh._findAllNodes(e.getChild(s),t,r,i)}static getDescendants(e){let t=[];function r(i){t.push(i);let s=i.childCount;for(let o=0;o<s;o++)r(i.getChild(o))}return r(e),t}static getRootOfSubtreeEnclosingRegion(e,t,r){let i=e.childCount;for(let s=0;s<i;s++){let o=e.getChild(s),a=Vh.getRootOfSubtreeEnclosingRegion(o,t,r);if(a)return a}if(e instanceof Bte.ParserRuleContext){let s=e.stop;if(t>=e.start.tokenIndex&&(s==null||r<=s.tokenIndex))return e}}static stripChildrenOutOfRange(e,t,r,i){if(!e)return;let s=e.childCount;for(let o=0;o<s;o++){let a=e.getChild(o),c=a.sourceInterval;if(a instanceof Bte.ParserRuleContext&&(c.b<r||c.a>i)&&Vh.isAncestorOf(a,t)){let d=new hit.CommonToken(xit.Token.INVALID_TYPE,"...");e.children[o]=new jte.TerminalNode(d)}}}static findNodeSuchThat(e,t){if(t(e))return e;let r=e.childCount;for(let i=0;i<r;i++){let s=Vh.findNodeSuchThat(e.getChild(i),t);if(s!==void 0)return s}}};Mte([Pte(0,$j.NotNull)],Vh,"toStringTree",null);Mte([$j.NotNull,Pte(0,$j.NotNull)],Vh,"getAncestors",null);Mte([Pte(0,$j.NotNull)],Vh,"getRootOfSubtreeEnclosingRegion",null);e5.Trees=Vh});var qte=Ae(pS=>{"use strict";m();var K2=pS&&pS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(pS,"__esModule",{value:!0});pS.RuleContext=void 0;var git=dm(),yit=T8(),vit=dS(),_it=F0(),J2=Sr(),bit=$g(),Eit=n1(),uh=class extends vit.RuleNode{constructor(e,t){super();this._parent=e,this.invokingState=t??-1}static getChildContext(e,t){return new uh(e,t)}depth(){let e=0,t=this;for(;t;)t=t._parent,e++;return e}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return _it.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this}get text(){if(this.childCount===0)return"";let e="";for(let t=0;t<this.childCount;t++)e+=this.getChild(t).text;return e.toString()}get ruleIndex(){return-1}get altNumber(){return git.ATN.INVALID_ALT_NUMBER}set altNumber(e){}getChild(e){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(e){return e.visitChildren(this)}toStringTree(e){return bit.Trees.toStringTree(this,e)}toString(e,t){let r=e instanceof yit.Recognizer?e.ruleNames:e;t=t||Eit.ParserRuleContext.emptyContext();let i="",s=this;for(i+="[";s&&s!==t;){if(!r)s.isEmpty||(i+=s.invokingState);else{let o=s.ruleIndex;i+=o>=0&&o<r.length?r[o]:o.toString()}s._parent&&(r||!s._parent.isEmpty)&&(i+=" "),s=s._parent}return i+="]",i.toString()}};K2([J2.Override],uh.prototype,"sourceInterval",null);K2([J2.Override],uh.prototype,"ruleContext",null);K2([J2.Override],uh.prototype,"parent",null);K2([J2.Override],uh.prototype,"setParent",null);K2([J2.Override],uh.prototype,"payload",null);K2([J2.Override],uh.prototype,"text",null);K2([J2.Override],uh.prototype,"getChild",null);K2([J2.Override],uh.prototype,"childCount",null);K2([J2.Override],uh.prototype,"accept",null);K2([J2.Override],uh.prototype,"toStringTree",null);pS.RuleContext=uh});var n1=Ae(mS=>{"use strict";m();var Ute=mS&&mS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(mS,"__esModule",{value:!0});mS.ParserRuleContext=void 0;var zte=fS(),Hte=F0(),$te=Sr(),H_e=qte(),Vj=Hg(),X2=class extends H_e.RuleContext{constructor(e,t){t==null?super():super(e,t)}static emptyContext(){return X2.EMPTY}copyFrom(e){if(this._parent=e._parent,this.invokingState=e.invokingState,this._start=e._start,this._stop=e._stop,e.children){this.children=[];for(let t of e.children)t instanceof zte.ErrorNode&&this.addChild(t)}}enterRule(e){}exitRule(e){}addAnyChild(e){return this.children?this.children.push(e):this.children=[e],e}addChild(e){let t;if(e instanceof Vj.TerminalNode){e.setParent(this),this.addAnyChild(e);return}else if(e instanceof H_e.RuleContext){this.addAnyChild(e);return}else return e=new Vj.TerminalNode(e),this.addAnyChild(e),e.setParent(this),e}addErrorNode(e){if(e instanceof zte.ErrorNode){let t=e;return t.setParent(this),this.addAnyChild(t)}else{let t=e,r=new zte.ErrorNode(t);return this.addAnyChild(r),r.setParent(this),r}}removeLastChild(){this.children&&this.children.pop()}get parent(){let e=super.parent;if(e===void 0||e instanceof X2)return e;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(e,t){if(!this.children||e<0||e>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(t==null)return this.children[e];let r=this.tryGetChild(e,t);if(r===void 0)throw new Error("The specified node does not exist");return r}tryGetChild(e,t){if(!this.children||e<0||e>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof t&&(r++,r===e))return i}getToken(e,t){let r=this.tryGetToken(e,t);if(r===void 0)throw new Error("The specified token does not exist");return r}tryGetToken(e,t){if(!this.children||t<0||t>=this.children.length)return;let r=-1;for(let i of this.children)if(i instanceof Vj.TerminalNode&&i.symbol.type===e&&(r++,r===t))return i}getTokens(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof Vj.TerminalNode&&r.symbol.type===e&&t.push(r);return t}get ruleContext(){return this}getRuleContext(e,t){return this.getChild(e,t)}tryGetRuleContext(e,t){return this.tryGetChild(e,t)}getRuleContexts(e){let t=[];if(!this.children)return t;for(let r of this.children)r instanceof e&&t.push(r);return t}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?Hte.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):Hte.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):Hte.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(e){let t=e.getRuleInvocationStack(this).reverse();return"ParserRuleContext"+t+"{start="+this._start+", stop="+this._stop+"}"}};X2.EMPTY=new X2;Ute([$te.Override],X2.prototype,"parent",null);Ute([$te.Override],X2.prototype,"childCount",null);Ute([$te.Override],X2.prototype,"sourceInterval",null);mS.ParserRuleContext=X2});var G_e=Ae(Vg=>{"use strict";m();var $_e=Vg&&Vg.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(Vg,"__esModule",{value:!0});Vg.PredictionMode=void 0;var Sit=z_(),Wj=Ol(),V_e=Sr(),W_e=P8(),Q_e;(function(n){n[n.SLL=0]="SLL",n[n.LL=1]="LL",n[n.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(Q_e=Vg.PredictionMode||(Vg.PredictionMode={}));(function(n){class e extends Sit.Array2DHashMap{constructor(){super(t.INSTANCE)}}class t{AltAndContextConfigEqualityComparator(){}hashCode(o){let a=Wj.MurmurHash.initialize(7);return a=Wj.MurmurHash.update(a,o.state.stateNumber),a=Wj.MurmurHash.update(a,o.context),a=Wj.MurmurHash.finish(a,2),a}equals(o,a){return o===a?!0:o==null||a==null?!1:o.state.stateNumber===a.state.stateNumber&&o.context.equals(a.context)}}t.INSTANCE=new t,$_e([V_e.Override],t.prototype,"hashCode",null),$_e([V_e.Override],t.prototype,"equals",null);function r(s){for(let o of s)if(o.state instanceof W_e.RuleStopState)return!0;return!1}n.hasConfigInRuleStopState=r;function i(s){for(let o of s)if(!(o.state instanceof W_e.RuleStopState))return!1;return!0}n.allConfigsInRuleStopStates=i})(Q_e=Vg.PredictionMode||(Vg.PredictionMode={}))});var Wte=Ae(t5=>{"use strict";m();var wit=t5&&t5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Cit=t5&&t5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(t5,"__esModule",{value:!0});t5.SimulatorState=void 0;var Ait=Sr(),Tit=n1(),Vte=class{constructor(e,t,r,i){this.outerContext=e??Tit.ParserRuleContext.emptyContext(),this.s0=t,this.useContext=r,this.remainingOuterContext=i}};Vte=wit([Cit(1,Ait.NotNull)],Vte);t5.SimulatorState=Vte});var yS=Ae(r5=>{"use strict";m();var Ao=r5&&r5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ui=r5&&r5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(r5,"__esModule",{value:!0});r5.ParserATNSimulator=void 0;var Y_e=zee(),Fit=Ate(),Dit=Tg(),Oit=ZB(),Z2=dm(),K_e=AF(),Wg=A8(),xS=OF(),Rit=cf(),Nit=Tte(),GF=Dg(),Lit=j_e(),kit=Sv(),Qte=FF(),Iit=nj(),Qj=F0(),Gj=Sg(),di=Sr(),Mit=Tj(),Pit=YF(),Bit=cm(),J_e=n1(),ff=Kp(),Gte=cj(),gS=G_e(),f6=P8(),X_e=Dj(),n5=q_(),jit=Cj(),r1=Wte(),Yj=ou(),Z_e=Lg(),cl=C0(),qit=65535,e6e=-(1<<31>>>0),ks=class vo extends xS.ATNSimulator{constructor(e,t){super(e);this.predictionMode=gS.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=t}getPredictionMode(){return this.predictionMode}setPredictionMode(e){this.predictionMode=e}reset(){}adaptivePredict(e,t,r,i){i===void 0&&(i=!1);let s=this.atn.decisionToDFA[t];if(cl(s!=null),this.optimize_ll1&&!s.isPrecedenceDfa&&!s.isEmpty){let d=e.LA(1);if(d>=0&&d<=65535){let p=(t<<16>>>0)+d,E=this.atn.LL1Table.get(p);if(E!=null)return E}}this.dfa=s,this.force_global_context?i=!0:this.always_try_local_context||(i=i||s.isContextSensitive),this.userWantsCtxSensitive=i||this.predictionMode!==gS.PredictionMode.SLL&&r!=null&&!this.atn.decisionToState[t].sll,r==null&&(r=J_e.ParserRuleContext.emptyContext());let o;s.isEmpty||(o=this.getStartState(s,e,r,i)),o==null&&(r==null&&(r=J_e.ParserRuleContext.emptyContext()),vo.debug&&console.log("ATN decision "+s.decision+" exec LA(1)=="+this.getLookaheadName(e)+", outerContext="+r.toString(this._parser)),o=this.computeStartState(s,r,i));let a=e.mark(),c=e.index;try{let d=this.execDFA(s,e,c,o);return vo.debug&&console.log("DFA after predictATN: "+s.toString(this._parser.vocabulary,this._parser.ruleNames)),d}finally{this.dfa=void 0,e.seek(c),e.release(a)}}getStartState(e,t,r,i){if(!i)if(e.isPrecedenceDfa){let a=e.getPrecedenceStartState(this._parser.precedence,!1);return a==null?void 0:new r1.SimulatorState(r,a,!1,r)}else return e.s0==null?void 0:new r1.SimulatorState(r,e.s0,!1,r);if(!this.enable_global_context_dfa)return;let s=r;cl(r!=null);let o;for(e.isPrecedenceDfa?o=e.getPrecedenceStartState(this._parser.precedence,!0):o=e.s0full;s!=null&&o!=null&&o.isContextSensitive;)s=this.skipTailCalls(s),o=o.getContextTarget(this.getReturnState(s)),s.isEmpty?cl(o==null||!o.isContextSensitive):s=s.parent;if(o!=null)return new r1.SimulatorState(r,o,i,s)}execDFA(e,t,r,i){let s=i.outerContext;vo.dfa_debug&&console.log("DFA decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+s.toString(this._parser)),vo.dfa_debug&&console.log(e.toString(this._parser.vocabulary,this._parser.ruleNames));let o=i.s0,a=t.LA(1),c=i.remainingOuterContext;for(;;){if(vo.dfa_debug&&console.log("DFA state "+o.stateNumber+" LA(1)=="+this.getLookaheadName(t)),i.useContext)for(;o.isContextSymbol(a);){let E;if(c!=null&&(c=this.skipTailCalls(c),E=o.getContextTarget(this.getReturnState(c))),E==null){let w=new r1.SimulatorState(i.outerContext,o,i.useContext,c);return this.execATN(e,t,r,w)}cl(c!=null),c=c.parent,o=E}if(this.isAcceptState(o,i.useContext)){o.predicates!=null?vo.dfa_debug&&console.log("accept "+o):vo.dfa_debug&&console.log("accept; predict "+o.prediction+" in state "+o.stateNumber);break}cl(!this.isAcceptState(o,i.useContext));let p=this.getExistingTargetState(o,a);if(p==null){vo.dfa_debug&&a>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(a));let E;if(vo.dfa_debug){let N=Qj.Interval.of(r,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(N)+" at DFA state "+o.stateNumber)}let w=new r1.SimulatorState(s,o,i.useContext,c);return E=this.execATN(e,t,r,w),vo.dfa_debug&&console.log("back from DFA update, alt="+E+`, dfa=
`+e.toString(this._parser.vocabulary,this._parser.ruleNames)),vo.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+E),E}else if(p===xS.ATNSimulator.ERROR){let E=new r1.SimulatorState(s,o,i.useContext,c);return this.handleNoViableAlt(t,r,E)}o=p,!this.isAcceptState(o,i.useContext)&&a!==Gj.IntStream.EOF&&(t.consume(),a=t.LA(1))}if(!i.useContext&&o.configs.conflictInfo!=null&&e.atnStartState instanceof kit.DecisionState&&!(!this.userWantsCtxSensitive||!o.configs.dipsIntoOuterContext&&o.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&t.index===r)){cl(!i.useContext);let p,E=o.predicates;if(E!=null){let w=t.index;if(w!==r&&t.seek(r),p=this.evalSemanticContext(E,s,!0),p.cardinality()===1)return p.nextSetBit(0);w!==r&&t.seek(w)}if(this.reportAmbiguities){let w=new r1.SimulatorState(s,o,i.useContext,c);this.reportAttemptingFullContext(e,p,w,r,t.index)}return t.seek(r),this.adaptivePredict(t,e.decision,s,!0)}let d=o.predicates;if(d!=null){let p=t.index;r!==p&&t.seek(r);let E=this.evalSemanticContext(d,s,this.reportAmbiguities&&this.predictionMode===gS.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(E.cardinality()){case 0:throw this.noViableAlt(t,s,o.configs,r);case 1:return E.nextSetBit(0);default:return r!==p&&t.seek(p),this.reportAmbiguity(e,o,r,p,o.configs.isExactConflict,E,o.configs),E.nextSetBit(0)}}return vo.dfa_debug&&console.log("DFA decision "+e.decision+" predicts "+o.prediction),o.prediction}isAcceptState(e,t){return e.isAcceptState?e.configs.conflictingAlts==null?!0:t&&this.predictionMode===gS.PredictionMode.LL_EXACT_AMBIG_DETECTION?e.configs.isExactConflict:!0:!1}execATN(e,t,r,i){vo.debug&&console.log("execATN decision "+e.decision+" exec LA(1)=="+this.getLookaheadName(t));let s=i.outerContext,o=i.useContext,a=t.LA(1),c=i,d=new Gte.PredictionContextCache;for(;;){let p=this.computeReachSet(e,c,a,d);if(p==null)return this.setDFAEdge(c.s0,t.LA(1),xS.ATNSimulator.ERROR),this.handleNoViableAlt(t,r,c);let E=p.s0;if(cl(E.isAcceptState||E.prediction===Z2.ATN.INVALID_ALT_NUMBER),cl(E.isAcceptState||E.configs.conflictInfo==null),this.isAcceptState(E,o)){let w=E.configs.conflictingAlts,N=w==null?E.prediction:Z2.ATN.INVALID_ALT_NUMBER;if(N!==Z2.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&t.index===r&&!e.isPrecedenceDfa&&p.outerContext===p.remainingOuterContext&&e.decision>=0&&!E.configs.hasSemanticContext&&a>=0&&a<=qit){let U=(e.decision<<16>>>0)+a;this.atn.LL1Table.set(U,N)}o&&this.always_try_local_context&&this.reportContextSensitivity(e,N,p,r,t.index)}N=E.prediction;let R=w!=null&&this.userWantsCtxSensitive;if(R&&(R=!o&&(E.configs.dipsIntoOuterContext||!E.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||t.index!==r)),E.configs.hasSemanticContext){let U=E.predicates;if(U!=null){let Q=t.index;switch(Q!==r&&t.seek(r),w=this.evalSemanticContext(U,s,R||this.reportAmbiguities),w.cardinality()){case 0:throw this.noViableAlt(t,s,E.configs,r);case 1:return w.nextSetBit(0);default:break}Q!==r&&t.seek(Q)}}if(R){cl(!o),cl(this.isAcceptState(E,!1)),vo.debug&&console.log("RETRY with outerContext="+s);let U=this.computeStartState(e,s,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(e,w,p,r,t.index),t.seek(r),this.execATN(e,t,r,U)}else return w!=null&&(this.reportAmbiguities&&w.cardinality()>1&&this.reportAmbiguity(e,E,r,t.index,E.configs.isExactConflict,w,E.configs),N=w.nextSetBit(0)),N}c=p,a!==Gj.IntStream.EOF&&(t.consume(),a=t.LA(1))}}handleNoViableAlt(e,t,r){if(r.s0!=null){let i=new GF.BitSet,s=0;for(let o of r.s0.configs)(o.reachesIntoOuterContext||o.state instanceof f6.RuleStopState)&&(i.set(o.alt),s=Math.max(s,o.alt));switch(i.cardinality()){case 0:break;case 1:return i.nextSetBit(0);default:if(!r.s0.configs.hasSemanticContext)return i.nextSetBit(0);let o=new Wg.ATNConfigSet;for(let c of r.s0.configs)(c.reachesIntoOuterContext||c.state instanceof f6.RuleStopState)&&o.add(c);let a=this.getPredsForAmbigAlts(i,o,s);if(a!=null){let c=this.getPredicatePredictions(i,a);if(c!=null){let d=e.index;try{e.seek(t);let p=this.evalSemanticContext(c,r.outerContext,!1);if(!p.isEmpty)return p.nextSetBit(0)}finally{e.seek(d)}}}return i.nextSetBit(0)}}throw this.noViableAlt(e,r.outerContext,r.s0.configs,t)}computeReachSet(e,t,r,i){let s=t.useContext,o=t.remainingOuterContext,a=t.s0;if(s)for(;a.isContextSymbol(r);){let p;if(o!=null&&(o=this.skipTailCalls(o),p=a.getContextTarget(this.getReturnState(o))),p==null)break;cl(o!=null),o=o.parent,a=p}if(cl(!this.isAcceptState(a,s)),this.isAcceptState(a,s))return new r1.SimulatorState(t.outerContext,a,s,o);let c=a,d=this.getExistingTargetState(c,r);if(d==null){let p=this.computeTargetState(e,c,o,r,s,i);d=p[0],o=p[1]}if(d!==xS.ATNSimulator.ERROR)return cl(!s||!d.configs.dipsIntoOuterContext),new r1.SimulatorState(t.outerContext,d,s,o)}getExistingTargetState(e,t){return e.getTarget(t)}computeTargetState(e,t,r,i,s,o){let a=t.configs.toArray(),c,d=new Wg.ATNConfigSet,p;do{let w=!s||r!=null;w||(d.isOutermostConfigSet=!0);let N=new Wg.ATNConfigSet,R;for(let P of a){if(vo.debug&&console.log("testing "+this.getTokenName(i)+" at "+P.toString()),P.state instanceof f6.RuleStopState){cl(P.context.isEmpty),(s&&!P.reachesIntoOuterContext||i===Gj.IntStream.EOF)&&(R==null&&(R=[]),R.push(P));continue}let j=P.state.numberOfOptimizedTransitions;for(let I=0;I<j;I++){let K=P.state.getOptimizedTransition(I),de=this.getReachableTarget(P,K,i);de!=null&&N.add(P.transform(de,!1),o)}}if(this.optimize_unique_closure&&R==null&&i!==Yj.Token.EOF&&N.uniqueAlt!==Z2.ATN.INVALID_ALT_NUMBER){N.isOutermostConfigSet=d.isOutermostConfigSet,d=N;break}let U=!1,Q=i===Yj.Token.EOF;if(this.closure(N,d,U,w,o,Q),p=d.dipsIntoOuterContext,i===Gj.IntStream.EOF&&(d=this.removeAllConfigsNotInRuleStopState(d,o)),R!=null&&(!s||!gS.PredictionMode.hasConfigInRuleStopState(d))){cl(R.length>0);for(let P of R)d.add(P,o)}if(s&&p){d.clear(),r=r,r=this.skipTailCalls(r);let P=this.getReturnState(r);if(c==null&&(c=new Iit.IntegerList),r.isEmpty?r=void 0:r=r.parent,c.add(P),P!==ff.PredictionContext.EMPTY_FULL_STATE_KEY)for(let j=0;j<a.length;j++)a[j]=a[j].appendContext(P,o)}}while(s&&p);return d.isEmpty?(this.setDFAEdge(t,i,xS.ATNSimulator.ERROR),[xS.ATNSimulator.ERROR,r]):[this.addDFAEdge(e,t,i,c,d,o),r]}removeAllConfigsNotInRuleStopState(e,t){if(gS.PredictionMode.allConfigsInRuleStopStates(e))return e;let r=new Wg.ATNConfigSet;for(let i of e)i.state instanceof f6.RuleStopState&&r.add(i,t);return r}computeStartState(e,t,r){let i=e.isPrecedenceDfa?e.getPrecedenceStartState(this._parser.precedence,r):r?e.s0full:e.s0;if(i!=null){if(!r)return new r1.SimulatorState(t,i,r,t);i.setContextSensitive(this.atn)}let s=e.decision,o=e.atnStartState,a=0,c=t,d=r?ff.PredictionContext.EMPTY_FULL:ff.PredictionContext.EMPTY_LOCAL,p=new Gte.PredictionContextCache;if(r){if(!this.enable_global_context_dfa)for(;c!=null;)c.isEmpty?(a=ff.PredictionContext.EMPTY_FULL_STATE_KEY,c=void 0):(a=this.getReturnState(c),d=d.appendSingleContext(a,p),c=c.parent);for(;i!=null&&i.isContextSensitive&&c!=null;){let w;if(c=this.skipTailCalls(c),c.isEmpty?(w=i.getContextTarget(ff.PredictionContext.EMPTY_FULL_STATE_KEY),a=ff.PredictionContext.EMPTY_FULL_STATE_KEY,c=void 0):(a=this.getReturnState(c),w=i.getContextTarget(a),d=d.appendSingleContext(a,p),c=c.parent),w==null)break;i=w}}if(i!=null&&!i.isContextSensitive)return new r1.SimulatorState(t,i,r,c);let E=new Wg.ATNConfigSet;for(;;){let w=new Wg.ATNConfigSet,N=o.numberOfTransitions;for(let I=0;I<N;I++){let K=o.transition(I).target;w.add(K_e.ATNConfig.create(K,I+1,d))}let R=c!=null;R||(E.isOutermostConfigSet=!0);let U=!0;this.closure(w,E,U,R,p,!1);let Q=E.dipsIntoOuterContext,P;if(r&&!this.enable_global_context_dfa){i=this.addDFAState(e,E,p);break}else i==null?e.isPrecedenceDfa?(E=this.applyPrecedenceFilter(E,t,p),P=this.addDFAState(e,E,p),e.setPrecedenceStartState(this._parser.precedence,r,P)):(P=this.addDFAState(e,E,p),r?e.s0full?P=e.s0full:e.s0full=P:e.s0?P=e.s0:e.s0=P):(e.isPrecedenceDfa&&(E=this.applyPrecedenceFilter(E,t,p)),P=this.addDFAState(e,E,p),i.setContextTarget(a,P));if(i=P,!r||!Q)break;P.setContextSensitive(this.atn),c=c,E.clear(),c=this.skipTailCalls(c);let j=this.getReturnState(c);c.isEmpty?c=void 0:c=c.parent,j!==ff.PredictionContext.EMPTY_FULL_STATE_KEY&&(d=d.appendSingleContext(j,p)),a=j}return new r1.SimulatorState(t,i,r,c)}applyPrecedenceFilter(e,t,r){let i=new Map,s=new Wg.ATNConfigSet;for(let o of e){if(o.alt!==1)continue;let a=o.semanticContext.evalPrecedence(this._parser,t);a!=null&&(i.set(o.state.stateNumber,o.context),a!==o.semanticContext?s.add(o.transform(o.state,!1,a),r):s.add(o,r))}for(let o of e)if(o.alt!==1){if(!o.isPrecedenceFilterSuppressed){let a=i.get(o.state.stateNumber);if(a!=null&&a.equals(o.context))continue}s.add(o,r)}return s}getReachableTarget(e,t,r){if(t.matches(r,0,this.atn.maxTokenType))return t.target}predicateDFAState(e,t,r){let i=this.getConflictingAltsFromConfigSet(t);if(!i)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");vo.debug&&console.log("predicateDFAState "+e);let s=this.getPredsForAmbigAlts(i,t,r),o;return s!=null&&(o=this.getPredicatePredictions(i,s),e.predicates=o),o}getPredsForAmbigAlts(e,t,r){let i=new Array(r+1),s=i.length;for(let c of t)e.get(c.alt)&&(i[c.alt]=n5.SemanticContext.or(i[c.alt],c.semanticContext));let o=0;for(let c=0;c<s;c++)i[c]==null?i[c]=n5.SemanticContext.NONE:i[c]!==n5.SemanticContext.NONE&&o++;let a=i;return o===0&&(a=void 0),vo.debug&&console.log("getPredsForAmbigAlts result "+(a?Oit.Arrays.toString(a):"undefined")),a}getPredicatePredictions(e,t){let r=[],i=!1;for(let s=1;s<t.length;s++){let o=t[s];cl(o!=null),e!=null&&e.get(s)&&o===n5.SemanticContext.NONE?r.push(new Qte.DFAState.PredPrediction(o,s)):o!==n5.SemanticContext.NONE&&(i=!0,r.push(new Qte.DFAState.PredPrediction(o,s)))}if(!!i)return r}evalSemanticContext(e,t,r){let i=new GF.BitSet;for(let s of e){if(s.pred===n5.SemanticContext.NONE){if(i.set(s.alt),!r)break;continue}let o=this.evalSemanticContextImpl(s.pred,t,s.alt);if((vo.debug||vo.dfa_debug)&&console.log("eval pred "+s+"="+o),o&&((vo.debug||vo.dfa_debug)&&console.log("PREDICT "+s.alt),i.set(s.alt),!r))break}return i}evalSemanticContextImpl(e,t,r){return e.eval(this._parser,t)}closure(e,t,r,i,s,o){s==null&&(s=Gte.PredictionContextCache.UNCACHED);let a=e,c=new Dit.Array2DHashSet(Bit.ObjectEqualityComparator.INSTANCE);for(;a.size>0;){let d=new Wg.ATNConfigSet;for(let p of a)this.closureImpl(p,t,d,c,r,i,s,0,o);a=d}}closureImpl(e,t,r,i,s,o,a,c,d){if(vo.debug&&console.log("closure("+e.toString(this._parser,!0)+")"),e.state instanceof f6.RuleStopState)if(e.context.isEmpty)if(o)vo.debug&&console.log("FALLING off rule "+this.getRuleName(e.state.ruleIndex)),e.context===ff.PredictionContext.EMPTY_FULL?e=e.transform(e.state,!1,ff.PredictionContext.EMPTY_LOCAL):!e.reachesIntoOuterContext&&ff.PredictionContext.isEmptyLocal(e.context)&&t.add(e,a);else{t.add(e,a);return}else{let E=e.context.hasEmpty,w=e.context.size-(E?1:0);for(let N=0;N<w;N++){let R=e.context.getParent(N),U=this.atn.states[e.context.getReturnState(N)],Q=K_e.ATNConfig.create(U,e.alt,R,e.semanticContext);Q.outerContextDepth=e.outerContextDepth,Q.isPrecedenceFilterSuppressed=e.isPrecedenceFilterSuppressed,cl(c>e6e),this.closureImpl(Q,t,r,i,s,o,a,c-1,d)}if(!E||!o)return;e=e.transform(e.state,!1,ff.PredictionContext.EMPTY_LOCAL)}let p=e.state;p.onlyHasEpsilonTransitions||(t.add(e,a),vo.debug&&console.log("added config "+t));for(let E=0;E<p.numberOfOptimizedTransitions;E++){if(E===0&&p.stateType===Rit.ATNStateType.STAR_LOOP_ENTRY&&p.precedenceRuleDecision&&!e.context.hasEmpty){let U=p,Q=!0;for(let P=0;P<e.context.size;P++)if(!U.precedenceLoopbackStates.get(e.context.getReturnState(P))){Q=!1;break}if(Q)continue}let w=p.getOptimizedTransition(E),N=!(w instanceof Fit.ActionTransition)&&s,R=this.getEpsilonTarget(e,w,N,c===0,a,d);if(R!=null){if(w instanceof X_e.RuleTransition&&r!=null&&!s){r.add(R,a);continue}let U=c;if(e.state instanceof f6.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&w.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(R.isPrecedenceFilterSuppressed=!0),R.outerContextDepth=R.outerContextDepth+1,!i.add(R))continue;cl(U>e6e),U--,vo.debug&&console.log("dips into outer ctx: "+R)}else if(w instanceof X_e.RuleTransition)this.optimize_tail_calls&&w.optimizedTailCall&&(!this.tail_call_preserves_sll||!ff.PredictionContext.isEmptyLocal(e.context))?(cl(R.context===e.context),U===0&&(U--,!this.tail_call_preserves_sll&&ff.PredictionContext.isEmptyLocal(e.context)&&(R.outerContextDepth=R.outerContextDepth+1))):U>=0&&U++;else if(!w.isEpsilon&&!i.add(R))continue;this.closureImpl(R,t,r,i,N,o,a,U,d)}}}getRuleName(e){return this._parser!=null&&e>=0?this._parser.ruleNames[e]:"<rule "+e+">"}getEpsilonTarget(e,t,r,i,s,o){switch(t.serializationType){case 3:return this.ruleTransition(e,t,s);case 10:return this.precedenceTransition(e,t,r,i);case 4:return this.predTransition(e,t,r,i);case 6:return this.actionTransition(e,t);case 1:return e.transform(t.target,!1);case 5:case 2:case 7:return o&&t.matches(Yj.Token.EOF,0,1)?e.transform(t.target,!1):void 0;default:return}}actionTransition(e,t){return vo.debug&&console.log("ACTION edge "+t.ruleIndex+":"+t.actionIndex),e.transform(t.target,!1)}precedenceTransition(e,t,r,i){vo.debug&&(console.log("PRED (collectPredicates="+r+") "+t.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&i){let o=n5.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return vo.debug&&console.log("config from pred transition="+s),s}predTransition(e,t,r,i){vo.debug&&(console.log("PRED (collectPredicates="+r+") "+t.ruleIndex+":"+t.predIndex+", ctx dependent="+t.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let s;if(r&&(!t.isCtxDependent||t.isCtxDependent&&i)){let o=n5.SemanticContext.and(e.semanticContext,t.predicate);s=e.transform(t.target,!1,o)}else s=e.transform(t.target,!1);return vo.debug&&console.log("config from pred transition="+s),s}ruleTransition(e,t,r){vo.debug&&console.log("CALL rule "+this.getRuleName(t.target.ruleIndex)+", ctx="+e.context);let i=t.followState,s;return this.optimize_tail_calls&&t.optimizedTailCall&&(!this.tail_call_preserves_sll||!ff.PredictionContext.isEmptyLocal(e.context))?s=e.context:r!=null?s=r.getChild(e.context,i.stateNumber):s=e.context.getChild(i.stateNumber),e.transform(t.target,!1,s)}isConflicted(e,t){if(e.uniqueAlt!==Z2.ATN.INVALID_ALT_NUMBER||e.size<=1)return;let r=e.toArray();r.sort(vo.STATE_ALT_SORT_COMPARATOR);let i=!e.dipsIntoOuterContext,s=new GF.BitSet,o=r[0].alt;s.set(o);let a=r[0].state.nonStopStateNumber;for(let w of r){let N=w.state.nonStopStateNumber;if(N!==a){if(w.alt!==o)return;a=N}}let c;if(i){a=r[0].state.nonStopStateNumber,c=new GF.BitSet;let w=o;for(let R of r){if(R.state.nonStopStateNumber!==a)break;let U=R.alt;c.set(U),w=U}a=r[0].state.nonStopStateNumber;let N=o;for(let R of r){let U=R.state.nonStopStateNumber,Q=R.alt;if(U!==a){if(N!==w){i=!1;break}a=U,N=o}else if(Q!==N){if(Q!==c.nextSetBit(N+1)){i=!1;break}N=Q}}}a=r[0].state.nonStopStateNumber;let d=0,p=0,E=r[0].context;for(let w=1;w<r.length;w++){let N=r[w];if(N.alt!==o||N.state.nonStopStateNumber!==a)break;p=w,E=t.join(E,r[w].context)}for(let w=p+1;w<r.length;w++){let N=r[w],R=N.state;if(s.set(N.alt),R.nonStopStateNumber!==a){a=R.nonStopStateNumber,d=w,p=w,E=N.context;for(let I=d+1;I<r.length;I++){let K=r[I];if(K.alt!==o||K.state.nonStopStateNumber!==a)break;p=I,E=t.join(E,K.context)}w=p;continue}let U=N.context,Q=N.alt,P=w;for(let I=P+1;I<r.length;I++){let K=r[I];if(K.alt!==Q||K.state.nonStopStateNumber!==a)break;P=I,U=t.join(U,K.context)}w=P;let j=t.join(E,U);if(!E.equals(j))return;i=i&&E.equals(U)}return new Lit.ConflictInfo(s,i)}getConflictingAltsFromConfigSet(e){let t=e.conflictingAlts;return t==null&&e.uniqueAlt!==Z2.ATN.INVALID_ALT_NUMBER&&(t=new GF.BitSet,t.set(e.uniqueAlt)),t}getTokenName(e){if(e===Yj.Token.EOF)return"EOF";let r=(this._parser!=null?this._parser.vocabulary:Z_e.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(e);return r===String(e)?r:r+"<"+e+">"}getLookaheadName(e){return this.getTokenName(e.LA(1))}dumpDeadEndConfigs(e){console.log("dead end configs: ");let t=e.deadEndConfigs;if(!!t)for(let r of t){let i="no edges";if(r.state.numberOfOptimizedTransitions>0){let s=r.state.getOptimizedTransition(0);s instanceof Nit.AtomTransition?i="Atom "+this.getTokenName(s._label):s instanceof jit.SetTransition&&(i=(s instanceof Mit.NotSetTransition?"~":"")+"Set "+s.set.toString())}console.log(r.toString(this._parser,!0)+":"+i)}}noViableAlt(e,t,r,i){return new Pit.NoViableAltException(this._parser,e,e.get(i),e.LT(1),r,t)}getUniqueAlt(e){let t=Z2.ATN.INVALID_ALT_NUMBER;for(let r of e)if(t===Z2.ATN.INVALID_ALT_NUMBER)t=r.alt;else if(r.alt!==t)return Z2.ATN.INVALID_ALT_NUMBER;return t}configWithAltAtStopState(e,t){for(let r of e)if(r.alt===t&&r.state instanceof f6.RuleStopState)return!0;return!1}addDFAEdge(e,t,r,i,s,o){cl(i==null||i.isEmpty||e.isContextSensitive);let a=t,c=this.addDFAState(e,s,o);if(i!=null)for(let d of i.toArray()){if(d===ff.PredictionContext.EMPTY_FULL_STATE_KEY&&a.configs.isOutermostConfigSet)continue;a.setContextSensitive(this.atn),a.setContextSymbol(r);let p=a.getContextTarget(d);if(p!=null){a=p;continue}p=this.addDFAContextState(e,a.configs,d,o),cl(d!==ff.PredictionContext.EMPTY_FULL_STATE_KEY||p.configs.isOutermostConfigSet),a.setContextTarget(d,p),a=p}return vo.debug&&console.log("EDGE "+a+" -> "+c+" upon "+this.getTokenName(r)),this.setDFAEdge(a,r,c),vo.debug&&console.log(`DFA=
`+e.toString(this._parser!=null?this._parser.vocabulary:Z_e.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),c}setDFAEdge(e,t,r){e!=null&&e.setTarget(t,r)}addDFAContextState(e,t,r,i){if(r!==ff.PredictionContext.EMPTY_FULL_STATE_KEY){let s=new Wg.ATNConfigSet;for(let o of t)s.add(o.appendContext(r,i));return this.addDFAState(e,s,i)}else return cl(!t.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),t=t.clone(!0),t.isOutermostConfigSet=!0,this.addDFAState(e,t,i)}addDFAState(e,t,r){let i=this.enable_global_context_dfa||!t.isOutermostConfigSet;if(i){t.isReadOnly||t.optimizeConfigs(this);let d=this.createDFAState(e,t),p=e.states.get(d);if(p!=null)return p}t.isReadOnly||t.conflictInfo==null&&(t.conflictInfo=this.isConflicted(t,r));let s=this.createDFAState(e,t.clone(!0)),o=this.atn.getDecisionState(e.decision),a=this.getUniqueAlt(t);if(a!==Z2.ATN.INVALID_ALT_NUMBER)s.acceptStateInfo=new Y_e.AcceptStateInfo(a);else if(t.conflictingAlts!=null){let d=t.conflictingAlts;d&&(s.acceptStateInfo=new Y_e.AcceptStateInfo(d.nextSetBit(0)))}if(s.isAcceptState&&t.hasSemanticContext&&this.predicateDFAState(s,t,o.numberOfTransitions),!i)return s;let c=e.addState(s);return vo.debug&&c===s&&console.log("adding new DFA state: "+s),c}createDFAState(e,t){return new Qte.DFAState(t)}reportAttemptingFullContext(e,t,r,i,s){if(vo.debug||vo.retry_debug){let o=Qj.Interval.of(i,s);console.log("reportAttemptingFullContext decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportAttemptingFullContext&&o.reportAttemptingFullContext(this._parser,e,i,s,t,r)}}reportContextSensitivity(e,t,r,i,s){if(vo.debug||vo.retry_debug){let o=Qj.Interval.of(i,s);console.log("reportContextSensitivity decision="+e.decision+":"+r.s0.configs+", input="+this._parser.inputStream.getText(o))}if(this._parser!=null){let o=this._parser.getErrorListenerDispatch();o.reportContextSensitivity&&o.reportContextSensitivity(this._parser,e,i,s,t,r)}}reportAmbiguity(e,t,r,i,s,o,a){if(vo.debug||vo.retry_debug){let c=Qj.Interval.of(r,i);console.log("reportAmbiguity "+o+":"+a+", input="+this._parser.inputStream.getText(c))}if(this._parser!=null){let c=this._parser.getErrorListenerDispatch();c.reportAmbiguity&&c.reportAmbiguity(this._parser,e,r,i,s,o,a)}}getReturnState(e){return e.isEmpty?ff.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[e.invokingState].transition(0).followState.stateNumber}skipTailCalls(e){if(!this.optimize_tail_calls)return e;for(;!e.isEmpty;){let t=this.atn.states[e.invokingState];if(cl(t.numberOfTransitions===1&&t.transition(0).serializationType===3),!t.transition(0).tailCall)break;e=e.parent}return e}get parser(){return this._parser}};ks.debug=!1;ks.dfa_debug=!1;ks.retry_debug=!1;ks.STATE_ALT_SORT_COMPARATOR=(n,e)=>{let t=n.state.nonStopStateNumber-e.state.nonStopStateNumber;return t!==0||(t=n.alt-e.alt,t!==0)?t:0};Ao([di.NotNull],ks.prototype,"predictionMode",void 0);Ao([di.NotNull],ks.prototype,"getPredictionMode",null);Ao([Ui(0,di.NotNull)],ks.prototype,"setPredictionMode",null);Ao([di.Override],ks.prototype,"reset",null);Ao([Ui(0,di.NotNull)],ks.prototype,"adaptivePredict",null);Ao([Ui(0,di.NotNull),Ui(1,di.NotNull),Ui(2,di.NotNull)],ks.prototype,"getStartState",null);Ao([Ui(0,di.NotNull),Ui(1,di.NotNull),Ui(3,di.NotNull)],ks.prototype,"execDFA",null);Ao([Ui(0,di.NotNull),Ui(1,di.NotNull),Ui(3,di.NotNull)],ks.prototype,"execATN",null);Ao([Ui(0,di.NotNull),Ui(2,di.NotNull)],ks.prototype,"handleNoViableAlt",null);Ao([Ui(0,di.NotNull)],ks.prototype,"getExistingTargetState",null);Ao([di.NotNull,Ui(0,di.NotNull),Ui(1,di.NotNull)],ks.prototype,"computeTargetState",null);Ao([di.NotNull,Ui(0,di.NotNull)],ks.prototype,"removeAllConfigsNotInRuleStopState",null);Ao([di.NotNull],ks.prototype,"computeStartState",null);Ao([di.NotNull,Ui(0,di.NotNull)],ks.prototype,"applyPrecedenceFilter",null);Ao([Ui(0,di.NotNull),Ui(1,di.NotNull)],ks.prototype,"getReachableTarget",null);Ao([Ui(0,di.NotNull),Ui(1,di.NotNull)],ks.prototype,"getPredsForAmbigAlts",null);Ao([Ui(0,di.NotNull)],ks.prototype,"evalSemanticContext",null);Ao([Ui(0,di.NotNull)],ks.prototype,"evalSemanticContextImpl",null);Ao([Ui(1,di.NotNull),Ui(4,di.Nullable)],ks.prototype,"closure",null);Ao([Ui(0,di.NotNull),Ui(1,di.NotNull),Ui(2,di.Nullable),Ui(3,di.NotNull),Ui(6,di.NotNull)],ks.prototype,"closureImpl",null);Ao([di.NotNull],ks.prototype,"getRuleName",null);Ao([Ui(0,di.NotNull),Ui(1,di.NotNull)],ks.prototype,"getEpsilonTarget",null);Ao([di.NotNull,Ui(0,di.NotNull),Ui(1,di.NotNull)],ks.prototype,"actionTransition",null);Ao([di.Nullable,Ui(0,di.NotNull),Ui(1,di.NotNull)],ks.prototype,"precedenceTransition",null);Ao([di.Nullable,Ui(0,di.NotNull),Ui(1,di.NotNull)],ks.prototype,"predTransition",null);Ao([di.NotNull,Ui(0,di.NotNull),Ui(1,di.NotNull),Ui(2,di.Nullable)],ks.prototype,"ruleTransition",null);Ao([Ui(0,di.NotNull)],ks.prototype,"isConflicted",null);Ao([di.NotNull],ks.prototype,"getTokenName",null);Ao([Ui(0,di.NotNull)],ks.prototype,"dumpDeadEndConfigs",null);Ao([di.NotNull,Ui(0,di.NotNull),Ui(1,di.NotNull),Ui(2,di.NotNull)],ks.prototype,"noViableAlt",null);Ao([Ui(0,di.NotNull)],ks.prototype,"getUniqueAlt",null);Ao([Ui(0,di.NotNull)],ks.prototype,"configWithAltAtStopState",null);Ao([di.NotNull,Ui(0,di.NotNull),Ui(1,di.NotNull),Ui(4,di.NotNull)],ks.prototype,"addDFAEdge",null);Ao([Ui(0,di.Nullable),Ui(2,di.Nullable)],ks.prototype,"setDFAEdge",null);Ao([di.NotNull,Ui(0,di.NotNull),Ui(1,di.NotNull)],ks.prototype,"addDFAContextState",null);Ao([di.NotNull,Ui(0,di.NotNull),Ui(1,di.NotNull)],ks.prototype,"addDFAState",null);Ao([di.NotNull,Ui(0,di.NotNull),Ui(1,di.NotNull)],ks.prototype,"createDFAState",null);Ao([Ui(0,di.NotNull),Ui(2,di.NotNull)],ks.prototype,"reportAttemptingFullContext",null);Ao([Ui(0,di.NotNull),Ui(2,di.NotNull)],ks.prototype,"reportContextSensitivity",null);Ao([Ui(0,di.NotNull),Ui(5,di.NotNull),Ui(6,di.NotNull)],ks.prototype,"reportAmbiguity",null);ks=Ao([Ui(0,di.NotNull)],ks);r5.ParserATNSimulator=ks});var t6e=Ae(vS=>{"use strict";m();var Uit=vS&&vS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(vS,"__esModule",{value:!0});vS.PlusBlockStartState=void 0;var zit=cf(),Hit=$F(),$it=Sr(),Yte=class extends Hit.BlockStartState{get stateType(){return zit.ATNStateType.PLUS_BLOCK_START}};Uit([$it.Override],Yte.prototype,"stateType",null);vS.PlusBlockStartState=Yte});var n6e=Ae(_S=>{"use strict";m();var Vit=_S&&_S.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(_S,"__esModule",{value:!0});_S.PlusLoopbackState=void 0;var Wit=cf(),Qit=Sv(),Git=Sr(),Kte=class extends Qit.DecisionState{get stateType(){return Wit.ATNStateType.PLUS_LOOP_BACK}};Vit([Git.Override],Kte.prototype,"stateType",null);_S.PlusLoopbackState=Kte});var r6e=Ae(i5=>{"use strict";m();var KF=i5&&i5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Yit=i5&&i5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(i5,"__esModule",{value:!0});i5.PrecedencePredicateTransition=void 0;var Kit=QB(),JF=Sr(),Jit=q_(),d6=class extends Kit.AbstractPredicateTransition{constructor(e,t){super(e);this.precedence=t}get serializationType(){return 10}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new Jit.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};KF([JF.Override],d6.prototype,"serializationType",null);KF([JF.Override],d6.prototype,"isEpsilon",null);KF([JF.Override],d6.prototype,"matches",null);KF([JF.Override],d6.prototype,"toString",null);d6=KF([Yit(0,JF.NotNull)],d6);i5.PrecedencePredicateTransition=d6});var i6e=Ae(s5=>{"use strict";m();var XF=s5&&s5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Xit=s5&&s5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(s5,"__esModule",{value:!0});s5.RangeTransition=void 0;var Zit=Iv(),h6=Sr(),est=Ag(),p6=class extends est.Transition{constructor(e,t,r){super(e);this.from=t,this.to=r}get serializationType(){return 2}get label(){return Zit.IntervalSet.of(this.from,this.to)}matches(e,t,r){return e>=this.from&&e<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};XF([h6.Override],p6.prototype,"serializationType",null);XF([h6.Override,h6.NotNull],p6.prototype,"label",null);XF([h6.Override],p6.prototype,"matches",null);XF([h6.Override,h6.NotNull],p6.prototype,"toString",null);p6=XF([Xit(0,h6.NotNull)],p6);s5.RangeTransition=p6});var s6e=Ae(bS=>{"use strict";m();var tst=bS&&bS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(bS,"__esModule",{value:!0});bS.RuleStartState=void 0;var nst=N2(),rst=cf(),ist=Sr(),Jte=class extends nst.ATNState{constructor(){super(...arguments);this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return rst.ATNStateType.RULE_START}};tst([ist.Override],Jte.prototype,"stateType",null);bS.RuleStartState=Jte});var o6e=Ae(ES=>{"use strict";m();var sst=ES&&ES.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ES,"__esModule",{value:!0});ES.StarBlockStartState=void 0;var ost=cf(),ast=$F(),ust=Sr(),Xte=class extends ast.BlockStartState{get stateType(){return ost.ATNStateType.STAR_BLOCK_START}};sst([ust.Override],Xte.prototype,"stateType",null);ES.StarBlockStartState=Xte});var a6e=Ae(SS=>{"use strict";m();var lst=SS&&SS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(SS,"__esModule",{value:!0});SS.StarLoopbackState=void 0;var cst=N2(),fst=cf(),dst=Sr(),Zte=class extends cst.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return fst.ATNStateType.STAR_LOOP_BACK}};lst([dst.Override],Zte.prototype,"stateType",null);SS.StarLoopbackState=Zte});var u6e=Ae(wS=>{"use strict";m();var hst=wS&&wS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(wS,"__esModule",{value:!0});wS.TokensStartState=void 0;var pst=cf(),mst=Sv(),xst=Sr(),ene=class extends mst.DecisionState{get stateType(){return pst.ATNStateType.TOKEN_START}};hst([xst.Override],ene.prototype,"stateType",null);wS.TokensStartState=ene});var l6e=Ae(Kj=>{"use strict";m();Object.defineProperty(Kj,"__esModule",{value:!0});Kj.UUID=void 0;var gst=Ol(),ZF=class{constructor(e,t,r,i){this.data=new Uint32Array(4),this.data[0]=e,this.data[1]=t,this.data[2]=r,this.data[3]=i}static fromString(e){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(e))throw new Error("Incorrectly formatted UUID");let t=e.split("-"),r=parseInt(t[0],16),i=(parseInt(t[1],16)<<16>>>0)+parseInt(t[2],16),s=(parseInt(t[3],16)<<16>>>0)+parseInt(t[4].substr(0,4),16),o=parseInt(t[4].substr(-8),16);return new ZF(r,i,s,o)}hashCode(){return gst.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(e){return e===this?!0:e instanceof ZF?this.data[0]===e.data[0]&&this.data[1]===e.data[1]&&this.data[2]===e.data[2]&&this.data[3]===e.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}};Kj.UUID=ZF});var rD=Ae(a5=>{"use strict";m();var Jj=a5&&a5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},tne=a5&&a5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(a5,"__esModule",{value:!0});a5.ATNDeserializer=void 0;var nne=Ate(),yst=Tg(),vst=dm(),_st=Cte(),Hf=cf(),CS=Tte(),c6e=A_e(),Xj=cte(),f6e=Dg(),Zj=T_e(),rne=$F(),bst=Sv(),d6e=ute(),Qg=F_e(),ine=Iv(),h6e=dte(),Est=D_e(),p6e=O_e(),Sst=R_e(),wst=N_e(),Cst=L_e(),Ast=k_e(),Tst=I_e(),Fst=M_e(),AS=kte(),eD=Sr(),sne=Tj(),one=yS(),ane=t6e(),m6e=n6e(),Dst=r6e(),Ost=Iee(),tD=i6e(),x6e=s6e(),o5=P8(),nD=Dj(),eq=Cj(),une=o6e(),lne=a6e(),TS=Ej(),cne=ou(),Rst=u6e(),tq=l6e(),Nst=hte(),g6e;(function(n){n[n.UNICODE_BMP=0]="UNICODE_BMP",n[n.UNICODE_SMP=1]="UNICODE_SMP"})(g6e||(g6e={}));var Ai=class{constructor(e){e===void 0&&(e=_st.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=e}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(e,t){let r=Ai.SUPPORTED_UUIDS.findIndex(i=>i.equals(e));return r<0?!1:Ai.SUPPORTED_UUIDS.findIndex(i=>i.equals(t))>=r}static getUnicodeDeserializer(e){return e===0?{readUnicode:(t,r)=>Ai.toInt(t[r]),size:1}:{readUnicode:(t,r)=>Ai.toInt32(t,r),size:2}}deserialize(e){e=e.slice(0);for(let M=1;M<e.length;M++)e[M]=e[M]-2&65535;let t=0,r=Ai.toInt(e[t++]);if(r!==Ai.SERIALIZED_VERSION){let M=`Could not deserialize ATN with version ${r} (expected ${Ai.SERIALIZED_VERSION}).`;throw new Error(M)}let i=Ai.toUUID(e,t);if(t+=8,Ai.SUPPORTED_UUIDS.findIndex(M=>M.equals(i))<0){let M=`Could not deserialize ATN with UUID ${i} (expected ${Ai.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(M)}let s=Ai.isFeatureSupported(Ai.ADDED_LEXER_ACTIONS,i),o=Ai.toInt(e[t++]),a=Ai.toInt(e[t++]),c=new vst.ATN(o,a),d=[],p=[],E=Ai.toInt(e[t++]);for(let M=0;M<E;M++){let Z=Ai.toInt(e[t++]);if(Z===Hf.ATNStateType.INVALID_TYPE){c.addState(new h6e.InvalidState);continue}let me=Ai.toInt(e[t++]);me===65535&&(me=-1);let _e=this.stateFactory(Z,me);if(Z===Hf.ATNStateType.LOOP_END){let Ve=Ai.toInt(e[t++]);d.push([_e,Ve])}else if(_e instanceof rne.BlockStartState){let Ve=Ai.toInt(e[t++]);p.push([_e,Ve])}c.addState(_e)}for(let M of d)M[0].loopBackState=c.states[M[1]];for(let M of p)M[0].endState=c.states[M[1]];let w=Ai.toInt(e[t++]);for(let M=0;M<w;M++){let Z=Ai.toInt(e[t++]);c.states[Z].nonGreedy=!0}let N=Ai.toInt(e[t++]);for(let M=0;M<N;M++){let Z=Ai.toInt(e[t++]);c.states[Z].sll=!0}let R=Ai.toInt(e[t++]);for(let M=0;M<R;M++){let Z=Ai.toInt(e[t++]);c.states[Z].isPrecedenceRule=!0}let U=Ai.toInt(e[t++]);c.grammarType===0&&(c.ruleToTokenType=new Int32Array(U)),c.ruleToStartState=new Array(U);for(let M=0;M<U;M++){let Z=Ai.toInt(e[t++]),me=c.states[Z];if(me.leftFactored=Ai.toInt(e[t++])!==0,c.ruleToStartState[M]=me,c.grammarType===0){let _e=Ai.toInt(e[t++]);if(_e===65535&&(_e=cne.Token.EOF),c.ruleToTokenType[M]=_e,!Ai.isFeatureSupported(Ai.ADDED_LEXER_ACTIONS,i)){let Ve=Ai.toInt(e[t++]);Ve===65535&&(Ve=-1)}}}c.ruleToStopState=new Array(U);for(let M of c.states)M instanceof o5.RuleStopState&&(c.ruleToStopState[M.ruleIndex]=M,c.ruleToStartState[M.ruleIndex].stopState=M);let Q=Ai.toInt(e[t++]);for(let M=0;M<Q;M++){let Z=Ai.toInt(e[t++]);c.modeToStartState.push(c.states[Z])}c.modeToDFA=new Array(Q);for(let M=0;M<Q;M++)c.modeToDFA[M]=new d6e.DFA(c.modeToStartState[M]);let P=[];t=this.deserializeSets(e,t,P,Ai.getUnicodeDeserializer(0)),Ai.isFeatureSupported(Ai.ADDED_UNICODE_SMP,i)&&(t=this.deserializeSets(e,t,P,Ai.getUnicodeDeserializer(1)));let j=Ai.toInt(e[t++]);for(let M=0;M<j;M++){let Z=Ai.toInt(e[t]),me=Ai.toInt(e[t+1]),_e=Ai.toInt(e[t+2]),Ve=Ai.toInt(e[t+3]),at=Ai.toInt(e[t+4]),lt=Ai.toInt(e[t+5]),Ke=this.edgeFactory(c,_e,Z,me,Ve,at,lt,P);c.states[Z].addTransition(Ke),t+=6}let I=new yst.Array2DHashSet({hashCode:M=>M.stopState^M.returnState^M.outermostPrecedenceReturn,equals:(M,Z)=>M.stopState===Z.stopState&&M.returnState===Z.returnState&&M.outermostPrecedenceReturn===Z.outermostPrecedenceReturn}),K=[];for(let M of c.states){let Z=M.ruleIndex>=0&&c.ruleToStartState[M.ruleIndex].leftFactored;for(let me=0;me<M.numberOfTransitions;me++){let _e=M.transition(me);if(!(_e instanceof nD.RuleTransition))continue;let Ve=_e;if(!c.ruleToStartState[Ve.target.ruleIndex].leftFactored&&Z)continue;let lt=-1;c.ruleToStartState[Ve.target.ruleIndex].isPrecedenceRule&&Ve.precedence===0&&(lt=Ve.target.ruleIndex);let Ke={stopState:Ve.target.ruleIndex,returnState:Ve.followState.stateNumber,outermostPrecedenceReturn:lt};I.add(Ke)&&K.push(Ke)}}for(let M of K){let Z=new Qg.EpsilonTransition(c.states[M.returnState],M.outermostPrecedenceReturn);c.ruleToStopState[M.stopState].addTransition(Z)}for(let M of c.states){if(M instanceof rne.BlockStartState){if(M.endState===void 0)throw new Error("IllegalStateException");if(M.endState.startState!==void 0)throw new Error("IllegalStateException");M.endState.startState=M}if(M instanceof m6e.PlusLoopbackState){let Z=M;for(let me=0;me<Z.numberOfTransitions;me++){let _e=Z.transition(me).target;_e instanceof ane.PlusBlockStartState&&(_e.loopBackState=Z)}}else if(M instanceof lne.StarLoopbackState){let Z=M;for(let me=0;me<Z.numberOfTransitions;me++){let _e=Z.transition(me).target;_e instanceof TS.StarLoopEntryState&&(_e.loopBackState=Z)}}}let de=Ai.toInt(e[t++]);for(let M=1;M<=de;M++){let Z=Ai.toInt(e[t++]),me=c.states[Z];c.decisionToState.push(me),me.decision=M-1}if(c.grammarType===0)if(s){c.lexerActions=new Array(Ai.toInt(e[t++]));for(let M=0;M<c.lexerActions.length;M++){let Z=Ai.toInt(e[t++]),me=Ai.toInt(e[t++]);me===65535&&(me=-1);let _e=Ai.toInt(e[t++]);_e===65535&&(_e=-1);let Ve=this.lexerActionFactory(Z,me,_e);c.lexerActions[M]=Ve}}else{let M=[];for(let Z of c.states)for(let me=0;me<Z.numberOfTransitions;me++){let _e=Z.transition(me);if(!(_e instanceof nne.ActionTransition))continue;let Ve=_e.ruleIndex,at=_e.actionIndex,lt=new p6e.LexerCustomAction(Ve,at);Z.setTransition(me,new nne.ActionTransition(_e.target,Ve,M.length,!1)),M.push(lt)}c.lexerActions=M}this.markPrecedenceDecisions(c),c.decisionToDFA=new Array(de);for(let M=0;M<de;M++)c.decisionToDFA[M]=new d6e.DFA(c.decisionToState[M],M);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(c),this.deserializationOptions.isGenerateRuleBypassTransitions&&c.grammarType===1){c.ruleToTokenType=new Int32Array(c.ruleToStartState.length);for(let M=0;M<c.ruleToStartState.length;M++)c.ruleToTokenType[M]=c.maxTokenType+M+1;for(let M=0;M<c.ruleToStartState.length;M++){let Z=new c6e.BasicBlockStartState;Z.ruleIndex=M,c.addState(Z);let me=new Zj.BlockEndState;me.ruleIndex=M,c.addState(me),Z.endState=me,c.defineDecisionState(Z),me.startState=Z;let _e,Ve;if(c.ruleToStartState[M].isPrecedenceRule){_e=void 0;for(let lt of c.states){if(lt.ruleIndex!==M||!(lt instanceof TS.StarLoopEntryState))continue;let Ke=lt.transition(lt.numberOfTransitions-1).target;if(Ke instanceof AS.LoopEndState&&Ke.epsilonOnlyTransitions&&Ke.transition(0).target instanceof o5.RuleStopState){_e=lt;break}}if(!_e)throw new Error("Couldn't identify final state of the precedence rule prefix section.");Ve=_e.loopBackState.transition(0)}else _e=c.ruleToStopState[M];for(let lt of c.states)for(let Ke=0;Ke<lt.numberOfTransitions;Ke++){let St=lt.transition(Ke);St!==Ve&&St.target===_e&&(St.target=me)}for(;c.ruleToStartState[M].numberOfTransitions>0;){let lt=c.ruleToStartState[M].removeTransition(c.ruleToStartState[M].numberOfTransitions-1);Z.addTransition(lt)}c.ruleToStartState[M].addTransition(new Qg.EpsilonTransition(Z)),me.addTransition(new Qg.EpsilonTransition(_e));let at=new Xj.BasicState;c.addState(at),at.addTransition(new CS.AtomTransition(me,c.ruleToTokenType[M])),Z.addTransition(new Qg.EpsilonTransition(at))}this.deserializationOptions.isVerifyATN&&this.verifyATN(c)}if(this.deserializationOptions.isOptimize){for(;;){let M=0;M+=Ai.inlineSetRules(c),M+=Ai.combineChainedEpsilons(c);let Z=c.grammarType===0;if(M+=Ai.optimizeSets(c,Z),M===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(c)}return Ai.identifyTailCalls(c),c}deserializeSets(e,t,r,i){let s=Ai.toInt(e[t++]);for(let o=0;o<s;o++){let a=Ai.toInt(e[t]);t++;let c=new ine.IntervalSet;r.push(c),Ai.toInt(e[t++])!==0&&c.add(-1);for(let p=0;p<a;p++){let E=i.readUnicode(e,t);t+=i.size;let w=i.readUnicode(e,t);t+=i.size,c.add(E,w)}}return t}markPrecedenceDecisions(e){let t=new Map;for(let r of e.states)if(r instanceof TS.StarLoopEntryState&&e.ruleToStartState[r.ruleIndex].isPrecedenceRule){let i=r.transition(r.numberOfTransitions-1).target;i instanceof AS.LoopEndState&&i.epsilonOnlyTransitions&&i.transition(0).target instanceof o5.RuleStopState&&(t.set(r.ruleIndex,r),r.precedenceRuleDecision=!0,r.precedenceLoopbackStates=new f6e.BitSet(e.states.length))}for(let r of t)for(let i of e.ruleToStopState[r[0]].getTransitions())i.serializationType!==1||i.outermostPrecedenceReturn!==-1||r[1].precedenceLoopbackStates.set(i.target.stateNumber)}verifyATN(e){for(let t of e.states)if(this.checkCondition(t!==void 0,"ATN states should not be undefined."),t.stateType!==Hf.ATNStateType.INVALID_TYPE){if(this.checkCondition(t.onlyHasEpsilonTransitions||t.numberOfTransitions<=1),t instanceof ane.PlusBlockStartState&&this.checkCondition(t.loopBackState!==void 0),t instanceof TS.StarLoopEntryState){let r=t;if(this.checkCondition(r.loopBackState!==void 0),this.checkCondition(r.numberOfTransitions===2),r.transition(0).target instanceof une.StarBlockStartState)this.checkCondition(r.transition(1).target instanceof AS.LoopEndState),this.checkCondition(!r.nonGreedy);else if(r.transition(0).target instanceof AS.LoopEndState)this.checkCondition(r.transition(1).target instanceof une.StarBlockStartState),this.checkCondition(r.nonGreedy);else throw new Error("IllegalStateException")}if(t instanceof lne.StarLoopbackState&&(this.checkCondition(t.numberOfTransitions===1),this.checkCondition(t.transition(0).target instanceof TS.StarLoopEntryState)),t instanceof AS.LoopEndState&&this.checkCondition(t.loopBackState!==void 0),t instanceof x6e.RuleStartState&&this.checkCondition(t.stopState!==void 0),t instanceof rne.BlockStartState&&this.checkCondition(t.endState!==void 0),t instanceof Zj.BlockEndState&&this.checkCondition(t.startState!==void 0),t instanceof bst.DecisionState){let r=t;this.checkCondition(r.numberOfTransitions<=1||r.decision>=0)}else this.checkCondition(t.numberOfTransitions<=1||t instanceof o5.RuleStopState)}}checkCondition(e,t){if(!e)throw new Error("IllegalStateException: "+t)}static inlineSetRules(e){let t=0,r=new Array(e.ruleToStartState.length);for(let i=0;i<e.ruleToStartState.length;i++){let o=e.ruleToStartState[i];for(;o.onlyHasEpsilonTransitions&&o.numberOfOptimizedTransitions===1&&o.getOptimizedTransition(0).serializationType===1;)o=o.getOptimizedTransition(0).target;if(o.numberOfOptimizedTransitions!==1)continue;let a=o.getOptimizedTransition(0),c=a.target;if(!(a.isEpsilon||!c.onlyHasEpsilonTransitions||c.numberOfOptimizedTransitions!==1||!(c.getOptimizedTransition(0).target instanceof o5.RuleStopState)))switch(a.serializationType){case 5:case 2:case 7:r[i]=a;break;case 8:case 9:continue;default:continue}}for(let i of e.states){if(i.ruleIndex<0)continue;let s;for(let o=0;o<i.numberOfOptimizedTransitions;o++){let a=i.getOptimizedTransition(o);if(!(a instanceof nD.RuleTransition)){s!==void 0&&s.push(a);continue}let c=a,d=r[c.target.ruleIndex];if(d===void 0){s!==void 0&&s.push(a);continue}if(s===void 0){s=[];for(let w=0;w<o;w++)s.push(i.getOptimizedTransition(o))}t++;let p=c.followState,E=new Xj.BasicState;switch(E.setRuleIndex(p.ruleIndex),e.addState(E),s.push(new Qg.EpsilonTransition(E)),d.serializationType){case 5:E.addTransition(new CS.AtomTransition(p,d._label));break;case 2:E.addTransition(new tD.RangeTransition(p,d.from,d.to));break;case 7:E.addTransition(new eq.SetTransition(p,d.label));break;default:throw new Error("UnsupportedOperationException")}}if(s!==void 0){if(i.isOptimized)for(;i.numberOfOptimizedTransitions>0;)i.removeOptimizedTransition(i.numberOfOptimizedTransitions-1);for(let o of s)i.addOptimizedTransition(o)}}return one.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" rule invocations by inlining sets."),t}static combineChainedEpsilons(e){let t=0;for(let r of e.states){if(!r.onlyHasEpsilonTransitions||r instanceof o5.RuleStopState)continue;let i;e:for(let s=0;s<r.numberOfOptimizedTransitions;s++){let o=r.getOptimizedTransition(s),a=o.target;if(o.serializationType!==1||o.outermostPrecedenceReturn!==-1||a.stateType!==Hf.ATNStateType.BASIC||!a.onlyHasEpsilonTransitions){i!==void 0&&i.push(o);continue e}for(let c=0;c<a.numberOfOptimizedTransitions;c++)if(a.getOptimizedTransition(c).serializationType!==1||a.getOptimizedTransition(c).outermostPrecedenceReturn!==-1){i!==void 0&&i.push(o);continue e}if(t++,i===void 0){i=[];for(let c=0;c<s;c++)i.push(r.getOptimizedTransition(c))}for(let c=0;c<a.numberOfOptimizedTransitions;c++){let d=a.getOptimizedTransition(c).target;i.push(new Qg.EpsilonTransition(d))}}if(i!==void 0){if(r.isOptimized)for(;r.numberOfOptimizedTransitions>0;)r.removeOptimizedTransition(r.numberOfOptimizedTransitions-1);for(let s of i)r.addOptimizedTransition(s)}}return one.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+t+" transitions by combining chained epsilon transitions."),t}static optimizeSets(e,t){if(t)return 0;let r=0,i=e.decisionToState;for(let s of i){let o=new ine.IntervalSet;for(let w=0;w<s.numberOfOptimizedTransitions;w++){let N=s.getOptimizedTransition(w);if(!(N instanceof Qg.EpsilonTransition)||N.target.numberOfOptimizedTransitions!==1)continue;let R=N.target.getOptimizedTransition(0);R.target instanceof Zj.BlockEndState&&(R instanceof sne.NotSetTransition||(R instanceof CS.AtomTransition||R instanceof tD.RangeTransition||R instanceof eq.SetTransition)&&o.add(w))}if(o.size<=1)continue;let a=[];for(let w=0;w<s.numberOfOptimizedTransitions;w++)o.contains(w)||a.push(s.getOptimizedTransition(w));let c=s.getOptimizedTransition(o.minElement).target.getOptimizedTransition(0).target,d=new ine.IntervalSet;for(let w of o.intervals)for(let N=w.a;N<=w.b;N++){let R=s.getOptimizedTransition(N).target.getOptimizedTransition(0);if(R instanceof sne.NotSetTransition)throw new Error("Not yet implemented.");d.addAll(R.label)}let p;if(d.intervals.length===1)if(d.size===1)p=new CS.AtomTransition(c,d.minElement);else{let w=d.intervals[0];p=new tD.RangeTransition(c,w.a,w.b)}else p=new eq.SetTransition(c,d);let E=new Xj.BasicState;if(E.setRuleIndex(s.ruleIndex),e.addState(E),E.addTransition(p),a.push(new Qg.EpsilonTransition(E)),r+=s.numberOfOptimizedTransitions-a.length,s.isOptimized)for(;s.numberOfOptimizedTransitions>0;)s.removeOptimizedTransition(s.numberOfOptimizedTransitions-1);for(let w of a)s.addOptimizedTransition(w)}return one.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+r+" paths by collapsing sets."),r}static identifyTailCalls(e){for(let t of e.states){for(let r=0;r<t.numberOfTransitions;r++){let i=t.transition(r);i instanceof nD.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}if(!!t.isOptimized)for(let r=0;r<t.numberOfOptimizedTransitions;r++){let i=t.getOptimizedTransition(r);i instanceof nD.RuleTransition&&(i.tailCall=this.testTailCall(e,i,!1),i.optimizedTailCall=this.testTailCall(e,i,!0))}}}static testTailCall(e,t,r){if(!r&&t.tailCall||r&&t.optimizedTailCall)return!0;let i=new f6e.BitSet(e.states.length),s=[];for(s.push(t.followState);;){let o=s.pop();if(!o)break;if(i.get(o.stateNumber)||o instanceof o5.RuleStopState)continue;if(!o.onlyHasEpsilonTransitions)return!1;let a=r?o.numberOfOptimizedTransitions:o.numberOfTransitions;for(let c=0;c<a;c++){let d=r?o.getOptimizedTransition(c):o.transition(c);if(d.serializationType!==1)return!1;s.push(d.target)}}return!0}static toInt(e){return e}static toInt32(e,t){return(e[t]|e[t+1]<<16)>>>0}static toUUID(e,t){let r=Ai.toInt32(e,t),i=Ai.toInt32(e,t+2),s=Ai.toInt32(e,t+4),o=Ai.toInt32(e,t+6);return new tq.UUID(o,s,i,r)}edgeFactory(e,t,r,i,s,o,a,c){let d=e.states[i];switch(t){case 1:return new Qg.EpsilonTransition(d);case 2:return a!==0?new tD.RangeTransition(d,cne.Token.EOF,o):new tD.RangeTransition(d,s,o);case 3:return new nD.RuleTransition(e.states[s],o,a,d);case 4:return new Ost.PredicateTransition(d,s,o,a!==0);case 10:return new Dst.PrecedencePredicateTransition(d,s);case 5:return a!==0?new CS.AtomTransition(d,cne.Token.EOF):new CS.AtomTransition(d,s);case 6:return new nne.ActionTransition(d,s,o,a!==0);case 7:return new eq.SetTransition(d,c[s]);case 8:return new sne.NotSetTransition(d,c[s]);case 9:return new Nst.WildcardTransition(d)}throw new Error("The specified transition type is not valid.")}stateFactory(e,t){let r;switch(e){case Hf.ATNStateType.INVALID_TYPE:return new h6e.InvalidState;case Hf.ATNStateType.BASIC:r=new Xj.BasicState;break;case Hf.ATNStateType.RULE_START:r=new x6e.RuleStartState;break;case Hf.ATNStateType.BLOCK_START:r=new c6e.BasicBlockStartState;break;case Hf.ATNStateType.PLUS_BLOCK_START:r=new ane.PlusBlockStartState;break;case Hf.ATNStateType.STAR_BLOCK_START:r=new une.StarBlockStartState;break;case Hf.ATNStateType.TOKEN_START:r=new Rst.TokensStartState;break;case Hf.ATNStateType.RULE_STOP:r=new o5.RuleStopState;break;case Hf.ATNStateType.BLOCK_END:r=new Zj.BlockEndState;break;case Hf.ATNStateType.STAR_LOOP_BACK:r=new lne.StarLoopbackState;break;case Hf.ATNStateType.STAR_LOOP_ENTRY:r=new TS.StarLoopEntryState;break;case Hf.ATNStateType.PLUS_LOOP_BACK:r=new m6e.PlusLoopbackState;break;case Hf.ATNStateType.LOOP_END:r=new AS.LoopEndState;break;default:let i=`The specified state type ${e} is not valid.`;throw new Error(i)}return r.ruleIndex=t,r}lexerActionFactory(e,t,r){switch(e){case 0:return new Est.LexerChannelAction(t);case 1:return new p6e.LexerCustomAction(t,r);case 2:return new Sst.LexerModeAction(t);case 3:return wst.LexerMoreAction.INSTANCE;case 4:return Cst.LexerPopModeAction.INSTANCE;case 5:return new Ast.LexerPushModeAction(t);case 6:return Tst.LexerSkipAction.INSTANCE;case 7:return new Fst.LexerTypeAction(t);default:let i=`The specified lexer action type ${e} is not valid.`;throw new Error(i)}}};Ai.BASE_SERIALIZED_UUID=tq.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3");Ai.ADDED_LEXER_ACTIONS=tq.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D");Ai.ADDED_UNICODE_SMP=tq.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B");Ai.SUPPORTED_UUIDS=[Ai.BASE_SERIALIZED_UUID,Ai.ADDED_LEXER_ACTIONS,Ai.ADDED_UNICODE_SMP];Ai.SERIALIZED_UUID=Ai.ADDED_UNICODE_SMP;Jj([eD.NotNull],Ai.prototype,"deserializationOptions",void 0);Jj([tne(0,eD.NotNull)],Ai.prototype,"deserialize",null);Jj([tne(0,eD.NotNull)],Ai.prototype,"markPrecedenceDecisions",null);Jj([eD.NotNull,tne(0,eD.NotNull)],Ai.prototype,"edgeFactory",null);a5.ATNDeserializer=Ai});var y6e=Ae(u5=>{"use strict";m();var fne=u5&&u5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Lst=u5&&u5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(u5,"__esModule",{value:!0});u5.ParseInfo=void 0;var dne=Sr(),iD=class{constructor(e){this.atnSimulator=e}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let e=this.atnSimulator.getDecisionInfo(),t=[];for(let r=0;r<e.length;r++)e[r].LL_Fallback>0&&t.push(r);return t}getTotalTimeInPrediction(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.timeInPrediction;return t}getTotalSLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_TotalLook;return t}getTotalLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_TotalLook;return t}getTotalSLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions;return t}getTotalLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_ATNTransitions;return t}getTotalATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions,t+=r.LL_ATNTransitions;return t}getDFASize(e){if(e)return this.atnSimulator.atn.decisionToDFA[e].states.size;{let t=0,r=this.atnSimulator.atn.decisionToDFA;for(let i=0;i<r.length;i++)t+=this.getDFASize(i);return t}}};fne([dne.NotNull],iD.prototype,"getDecisionInfo",null);fne([dne.NotNull],iD.prototype,"getLLDecisions",null);iD=fne([Lst(0,dne.NotNull)],iD);u5.ParseInfo=iD});var mne=Ae(FS=>{"use strict";m();var hne=FS&&FS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(FS,"__esModule",{value:!0});FS.ProxyParserErrorListener=void 0;var kst=vj(),pne=Sr(),sD=class extends kst.ProxyErrorListener{constructor(e){super(e)}reportAmbiguity(e,t,r,i,s,o,a){this.getDelegates().forEach(c=>{c.reportAmbiguity&&c.reportAmbiguity(e,t,r,i,s,o,a)})}reportAttemptingFullContext(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportAttemptingFullContext&&a.reportAttemptingFullContext(e,t,r,i,s,o)})}reportContextSensitivity(e,t,r,i,s,o){this.getDelegates().forEach(a=>{a.reportContextSensitivity&&a.reportContextSensitivity(e,t,r,i,s,o)})}};hne([pne.Override],sD.prototype,"reportAmbiguity",null);hne([pne.Override],sD.prototype,"reportAttemptingFullContext",null);hne([pne.Override],sD.prototype,"reportContextSensitivity",null);FS.ProxyParserErrorListener=sD});var v6e=Ae(l5=>{"use strict";m();Object.defineProperty(l5,"__esModule",{value:!0});l5.isSupplementaryCodePoint=l5.isLowSurrogate=l5.isHighSurrogate=void 0;function Ist(n){return n>=55296&&n<=56319}l5.isHighSurrogate=Ist;function Mst(n){return n>=56320&&n<=57343}l5.isLowSurrogate=Mst;function Pst(n){return n>=65536}l5.isSupplementaryCodePoint=Pst});var xne=Ae(OS=>{"use strict";m();Object.defineProperty(OS,"__esModule",{value:!0});OS.CodePointBuffer=void 0;var _6e=C0(),oD=v6e(),DS=class{constructor(e,t){this.buffer=e,this._position=0,this._size=t}static withArray(e){return new DS(e,e.length)}get position(){return this._position}set position(e){if(e<0||e>this._size)throw new RangeError;this._position=e}get remaining(){return this._size-this.position}get(e){return this.buffer[e]}array(){return this.buffer.slice(0,this._size)}static builder(e){return new DS.Builder(e)}};OS.CodePointBuffer=DS;(function(n){let e;(function(r){r[r.BYTE=0]="BYTE",r[r.CHAR=1]="CHAR",r[r.INT=2]="INT"})(e||(e={}));class t{constructor(i){this.type=0,this.buffer=new Uint8Array(i),this.prevHighSurrogate=-1,this.position=0}build(){return new n(this.buffer,this.position)}static roundUpToNextPowerOfTwo(i){let s=32-Math.clz32(i-1);return Math.pow(2,s)}ensureRemaining(i){switch(this.type){case 0:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint8Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 1:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Uint16Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break;case 2:if(this.buffer.length-this.position<i){let s=t.roundUpToNextPowerOfTwo(this.buffer.length+i),o=new Int32Array(s);o.set(this.buffer.subarray(0,this.position),0),this.buffer=o}break}}append(i){this.ensureRemaining(i.length),this.appendArray(i)}appendArray(i){switch(this.type){case 0:this.appendArrayByte(i);break;case 1:this.appendArrayChar(i);break;case 2:this.appendArrayInt(i);break}}appendArrayByte(i){_6e(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,c=this.buffer,d=this.position;for(;o<a;){let p=s[o];if(p<=255)c[d]=p;else if(i=i.subarray(o,a),this.position=d,oD.isHighSurrogate(p)){this.byteToIntBuffer(i.length),this.appendArrayInt(i);return}else{this.byteToCharBuffer(i.length),this.appendArrayChar(i);return}o++,d++}this.position=d}appendArrayChar(i){_6e(this.prevHighSurrogate===-1);let s=i,o=0,a=i.length,c=this.buffer,d=this.position;for(;o<a;){let p=s[o];if(!oD.isHighSurrogate(p))c[d]=p;else{i=i.subarray(o,a),this.position=d,this.charToIntBuffer(i.length),this.appendArrayInt(i);return}o++,d++}this.position=d}appendArrayInt(i){let s=i,o=0,a=i.length,c=this.buffer,d=this.position;for(;o<a;){let p=s[o];o++,this.prevHighSurrogate!==-1?oD.isLowSurrogate(p)?(c[d]=String.fromCharCode(this.prevHighSurrogate,p).codePointAt(0),d++,this.prevHighSurrogate=-1):(c[d]=this.prevHighSurrogate,d++,oD.isHighSurrogate(p)?this.prevHighSurrogate=p:(c[d]=p,d++,this.prevHighSurrogate=-1)):oD.isHighSurrogate(p)?this.prevHighSurrogate=p:(c[d]=p,d++)}this.prevHighSurrogate!==-1&&(c[d]=this.prevHighSurrogate,d++),this.position=d}byteToCharBuffer(i){let s=new Uint16Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=s}byteToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>2));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}charToIntBuffer(i){let s=new Int32Array(Math.max(this.position+i,this.buffer.length>>1));s.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=s}}n.Builder=t})(DS=OS.CodePointBuffer||(OS.CodePointBuffer={}))});var gne=Ae(RS=>{"use strict";m();var ex=RS&&RS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(RS,"__esModule",{value:!0});RS.CodePointCharStream=void 0;var b6e=C0(),nq=Sg(),Bst=F0(),tx=Sr(),lh=class{constructor(e,t,r,i){b6e(t===0),this._array=e,this._size=r,this._name=i,this._position=0}get internalStorage(){return this._array}static fromBuffer(e,t){return(t===void 0||t.length===0)&&(t=nq.IntStream.UNKNOWN_SOURCE_NAME),new lh(e.array(),e.position,e.remaining,t)}consume(){if(this._size-this._position===0)throw b6e(this.LA(1)===nq.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(e){}seek(e){this._position=e}get sourceName(){return this._name}toString(){return this.getText(Bst.Interval.of(0,this.size-1))}LA(e){let t;switch(Math.sign(e)){case-1:return t=this.index+e,t<0?nq.IntStream.EOF:this._array[t];case 0:return 0;case 1:return t=this.index+e-1,t>=this.size?nq.IntStream.EOF:this._array[t]}throw new RangeError("Not reached")}getText(e){let t=Math.min(e.a,this.size),r=Math.min(e.b-e.a+1,this.size-t);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(t,t+r))):String.fromCharCode(...Array.from(this._array.subarray(t,t+r)))}};ex([tx.Override],lh.prototype,"consume",null);ex([tx.Override],lh.prototype,"index",null);ex([tx.Override],lh.prototype,"size",null);ex([tx.Override],lh.prototype,"mark",null);ex([tx.Override],lh.prototype,"release",null);ex([tx.Override],lh.prototype,"seek",null);ex([tx.Override],lh.prototype,"sourceName",null);ex([tx.Override],lh.prototype,"toString",null);ex([tx.Override],lh.prototype,"LA",null);ex([tx.Override],lh.prototype,"getText",null);RS.CodePointCharStream=lh});var rq=Ae(aD=>{"use strict";m();Object.defineProperty(aD,"__esModule",{value:!0});aD.CharStreams=void 0;var jst=xne(),qst=gne(),Ust=Sg(),zst;(function(n){function e(t,r){(r===void 0||r.length===0)&&(r=Ust.IntStream.UNKNOWN_SOURCE_NAME);let i=jst.CodePointBuffer.builder(t.length),s=new Uint16Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return i.append(s),qst.CodePointCharStream.fromBuffer(i.build(),r)}n.fromString=e})(zst=aD.CharStreams||(aD.CharStreams={}))});var _ne=Ae(c5=>{"use strict";m();var yd=c5&&c5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Hst=c5&&c5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(c5,"__esModule",{value:!0});c5.BufferedTokenStream=void 0;var E6e=C0(),S6e=b8(),yne=F0(),vne=Pg(),df=Sr(),m6=ou(),$f=class{constructor(e){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,e==null)throw new Error("tokenSource cannot be null");this._tokenSource=e}get tokenSource(){return this._tokenSource}set tokenSource(e){this._tokenSource=e,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(e){}seek(e){this.lazyInit(),this.p=this.adjustSeekIndex(e)}get size(){return this.tokens.length}consume(){let e;if(this.p>=0?this.fetchedEOF?e=this.p<this.tokens.length-1:e=this.p<this.tokens.length:e=!1,!e&&this.LA(1)===m6.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(e){E6e(e>=0);let t=e-this.tokens.length+1;return t>0?this.fetch(t)>=t:!0}fetch(e){if(this.fetchedEOF)return 0;for(let t=0;t<e;t++){let r=this.tokenSource.nextToken();if(this.isWritableToken(r)&&(r.tokenIndex=this.tokens.length),this.tokens.push(r),r.type===m6.Token.EOF)return this.fetchedEOF=!0,t+1}return e}get(e){if(e<0||e>=this.tokens.length)throw new RangeError("token index "+e+" out of range 0.."+(this.tokens.length-1));return this.tokens[e]}getRange(e,t){if(e<0||t<0)return[];this.lazyInit();let r=new Array;t>=this.tokens.length&&(t=this.tokens.length-1);for(let i=e;i<=t;i++){let s=this.tokens[i];if(s.type===m6.Token.EOF)break;r.push(s)}return r}LA(e){let t=this.LT(e);return t?t.type:m6.Token.INVALID_TYPE}tryLB(e){if(!(this.p-e<0))return this.tokens[this.p-e]}LT(e){let t=this.tryLT(e);if(t===void 0)throw new RangeError("requested lookback index out of range");return t}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p+e-1;return this.sync(t),t>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[t]}adjustSeekIndex(e){return e}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(e,t,r){if(this.lazyInit(),e===void 0)return E6e(t===void 0&&r===void 0),this.tokens;if(t===void 0&&(t=this.tokens.length-1),e<0||t>=this.tokens.length||t<0||e>=this.tokens.length)throw new RangeError("start "+e+" or stop "+t+" not in 0.."+(this.tokens.length-1));if(e>t)return[];if(r===void 0)return this.tokens.slice(e,t+1);typeof r=="number"&&(r=new Set().add(r));let i=r,s=this.tokens.slice(e,t+1);return s=s.filter(o=>i.has(o.type)),s}nextTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;let r=this.tokens[e];for(;r.channel!==t;){if(r.type===m6.Token.EOF)return e;e++,this.sync(e),r=this.tokens[e]}return e}previousTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;for(;e>=0;){let r=this.tokens[e];if(r.type===m6.Token.EOF||r.channel===t)return e;e--}return e}getHiddenTokensToRight(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));let r=this.nextTokenOnChannel(e+1,vne.Lexer.DEFAULT_TOKEN_CHANNEL),i,s=e+1;return r===-1?i=this.size-1:i=r,this.filterForChannel(s,i,t)}getHiddenTokensToLeft(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));if(e===0)return[];let r=this.previousTokenOnChannel(e-1,vne.Lexer.DEFAULT_TOKEN_CHANNEL);if(r===e-1)return[];let i=r+1,s=e-1;return this.filterForChannel(i,s,t)}filterForChannel(e,t,r){let i=new Array;for(let s=e;s<=t;s++){let o=this.tokens[s];r===-1?o.channel!==vne.Lexer.DEFAULT_TOKEN_CHANNEL&&i.push(o):o.channel===r&&i.push(o)}return i}get sourceName(){return this.tokenSource.sourceName}getText(e){e===void 0?e=yne.Interval.of(0,this.size-1):e instanceof yne.Interval||(e=e.sourceInterval);let t=e.a,r=e.b;if(t<0||r<0)return"";this.fill(),r>=this.tokens.length&&(r=this.tokens.length-1);let i="";for(let s=t;s<=r;s++){let o=this.tokens[s];if(o.type===m6.Token.EOF)break;i+=o.text}return i.toString()}getTextFromRange(e,t){return this.isToken(e)&&this.isToken(t)?this.getText(yne.Interval.of(e.tokenIndex,t.tokenIndex)):""}fill(){this.lazyInit();let e=1e3;for(;;)if(this.fetch(e)<e)return}isWritableToken(e){return e instanceof S6e.CommonToken}isToken(e){return e instanceof S6e.CommonToken}};yd([df.NotNull],$f.prototype,"_tokenSource",void 0);yd([df.Override],$f.prototype,"tokenSource",null);yd([df.Override],$f.prototype,"index",null);yd([df.Override],$f.prototype,"mark",null);yd([df.Override],$f.prototype,"release",null);yd([df.Override],$f.prototype,"seek",null);yd([df.Override],$f.prototype,"size",null);yd([df.Override],$f.prototype,"consume",null);yd([df.Override],$f.prototype,"get",null);yd([df.Override],$f.prototype,"LA",null);yd([df.NotNull,df.Override],$f.prototype,"LT",null);yd([df.Override],$f.prototype,"sourceName",null);yd([df.NotNull,df.Override],$f.prototype,"getText",null);yd([df.NotNull,df.Override],$f.prototype,"getTextFromRange",null);$f=yd([Hst(0,df.NotNull)],$f);c5.BufferedTokenStream=$f});var oq=Ae(f5=>{"use strict";m();var iq=f5&&f5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},$st=f5&&f5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(f5,"__esModule",{value:!0});f5.CommonTokenStream=void 0;var Vst=_ne(),sq=Sr(),w6e=ou(),NS=class extends Vst.BufferedTokenStream{constructor(e,t=w6e.Token.DEFAULT_CHANNEL){super(e);this.channel=t}adjustSeekIndex(e){return this.nextTokenOnChannel(e,this.channel)}tryLB(e){if(this.p-e<0)return;let t=this.p,r=1;for(;r<=e&&t>0;)t=this.previousTokenOnChannel(t-1,this.channel),r++;if(!(t<0))return this.tokens[t]}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p,r=1;for(;r<e;)this.sync(t+1)&&(t=this.nextTokenOnChannel(t+1,this.channel)),r++;return this.tokens[t]}getNumberOfOnChannelTokens(){let e=0;this.fill();for(let t of this.tokens)if(t.channel===this.channel&&e++,t.type===w6e.Token.EOF)break;return e}};iq([sq.Override],NS.prototype,"adjustSeekIndex",null);iq([sq.Override],NS.prototype,"tryLB",null);iq([sq.Override],NS.prototype,"tryLT",null);NS=iq([$st(0,sq.NotNull)],NS);f5.CommonTokenStream=NS});var Ene=Ae(d5=>{"use strict";m();var x6=d5&&d5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},C6e=d5&&d5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(d5,"__esModule",{value:!0});d5.ListTokenSource=void 0;var Wst=rj(),Gg=Sr(),bne=ou(),Yg=class{constructor(e,t){if(this.i=0,this._factory=Wst.CommonTokenFactory.DEFAULT,e==null)throw new Error("tokens cannot be null");this.tokens=e,this._sourceName=t}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.text;if(t!=null){let r=t.lastIndexOf(`
`);if(r>=0)return t.length-r-1}return e.charPositionInLine+e.stopIndex-e.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let t=-1;if(this.tokens.length>0){let i=this.tokens[this.tokens.length-1].stopIndex;i!==-1&&(t=i+1)}let r=Math.max(-1,t-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},bne.Token.EOF,"EOF",bne.Token.DEFAULT_CHANNEL,t,r,this.line,this.charPositionInLine)}return this.eofToken}let e=this.tokens[this.i];return this.i===this.tokens.length-1&&e.type===bne.Token.EOF&&(this.eofToken=e),this.i++,e}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.line,r=e.text;if(r!=null)for(let i=0;i<r.length;i++)r.charAt(i)===`
`&&t++;return t}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let e=this.inputStream;return e!=null?e.sourceName:"List"}set tokenFactory(e){this._factory=e}get tokenFactory(){return this._factory}};x6([Gg.Override],Yg.prototype,"charPositionInLine",null);x6([Gg.Override],Yg.prototype,"nextToken",null);x6([Gg.Override],Yg.prototype,"line",null);x6([Gg.Override],Yg.prototype,"inputStream",null);x6([Gg.Override],Yg.prototype,"sourceName",null);x6([Gg.Override,Gg.NotNull,C6e(0,Gg.NotNull)],Yg.prototype,"tokenFactory",null);Yg=x6([C6e(0,Gg.NotNull)],Yg);d5.ListTokenSource=Yg});var T6e=Ae(aq=>{"use strict";m();Object.defineProperty(aq,"__esModule",{value:!0});aq.MultiMap=void 0;var A6e=class extends Map{constructor(){super()}map(e,t){let r=super.get(e);r||(r=[],super.set(e,r)),r.push(t)}getPairs(){let e=[];return this.forEach((t,r)=>{t.forEach(i=>{e.push([r,i])})}),e}};aq.MultiMap=A6e});var Sne=Ae(uq=>{"use strict";m();Object.defineProperty(uq,"__esModule",{value:!0});uq.ParseCancellationException=void 0;var F6e=class extends Error{constructor(e){super(e.message);this.cause=e,this.stack=e.stack}getCause(){return this.cause}};uq.ParseCancellationException=F6e});var Cne=Ae(LS=>{"use strict";m();var Qst=LS&&LS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(LS,"__esModule",{value:!0});LS.InterpreterRuleContext=void 0;var Gst=Sr(),Yst=n1(),wne=class extends Yst.ParserRuleContext{constructor(e,t,r){r!==void 0?super(t,r):super(),this._ruleIndex=e}get ruleIndex(){return this._ruleIndex}};Qst([Gst.Override],wne.prototype,"ruleIndex",null);LS.InterpreterRuleContext=wne});var Tne=Ae(p5=>{"use strict";m();var h5=p5&&p5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Kst=p5&&p5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(p5,"__esModule",{value:!0});p5.ParserInterpreter=void 0;var Jst=N2(),Xst=cf(),Zst=Dg(),D6e=yF(),eot=vF(),tot=Cne(),not=kte(),O6e=Sr(),kS=Sr(),rot=hS(),R6e=yS(),iot=Cg(),sot=Ej(),uD=ou(),nx=class Ane extends rot.Parser{constructor(e,t,r,i,s){super(e instanceof Ane?e.inputStream:s);if(this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,e instanceof Ane){let o=e;this._grammarFileName=o._grammarFileName,this._atn=o._atn,this.pushRecursionContextStates=o.pushRecursionContextStates,this._ruleNames=o._ruleNames,this._vocabulary=o._vocabulary,this.interpreter=new R6e.ParserATNSimulator(this._atn,this)}else{t=t,r=r,i=i,this._grammarFileName=e,this._atn=i,this._ruleNames=r.slice(0),this._vocabulary=t,this.pushRecursionContextStates=new Zst.BitSet(i.states.length);for(let o of i.states)o instanceof sot.StarLoopEntryState&&o.precedenceRuleDecision&&this.pushRecursionContextStates.set(o.stateNumber);this.interpreter=new R6e.ParserATNSimulator(i,this)}}reset(e){e===void 0?super.reset():super.reset(e),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(e){let t=this._atn.ruleToStartState[e];for(this._rootContext=this.createInterpreterRuleContext(void 0,Jst.ATNState.INVALID_STATE_NUMBER,e),t.isPrecedenceRule?this.enterRecursionRule(this._rootContext,t.stateNumber,e,0):this.enterRule(this._rootContext,t.stateNumber,e);;){let r=this.atnState;switch(r.stateType){case Xst.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(t.isPrecedenceRule){let i=this._ctx,s=this._parentContextStack.pop();return this.unrollRecursionContexts(s[0]),i}else return this.exitRule(),this._rootContext;this.visitRuleStopState(r);break;default:try{this.visitState(r)}catch(i){if(i instanceof iot.RecognitionException)this.state=this._atn.ruleToStopState[r.ruleIndex].stateNumber,this.context.exception=i,this.errorHandler.reportError(this,i),this.recover(i);else throw i}break}}}enterRecursionRule(e,t,r,i){this._parentContextStack.push([this._ctx,e.invokingState]),super.enterRecursionRule(e,t,r,i)}get atnState(){return this._atn.states[this.state]}visitState(e){let t=1;e.numberOfTransitions>1&&(t=this.visitDecisionState(e));let r=e.transition(t-1);switch(r.serializationType){case 1:if(this.pushRecursionContextStates.get(e.stateNumber)&&!(r.target instanceof not.LoopEndState)){let d=this._parentContextStack[this._parentContextStack.length-1],p=this.createInterpreterRuleContext(d[0],d[1],this._ctx.ruleIndex);this.pushNewRecursionContext(p,this._atn.ruleToStartState[e.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(r._label);break;case 2:case 7:case 8:r.matches(this._input.LA(1),uD.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let i=r.target,s=i.ruleIndex,o=this.createInterpreterRuleContext(this._ctx,e.stateNumber,s);i.isPrecedenceRule?this.enterRecursionRule(o,i.stateNumber,s,r.precedence):this.enterRule(o,r.target.stateNumber,s);break;case 4:let a=r;if(!this.sempred(this._ctx,a.ruleIndex,a.predIndex))throw new D6e.FailedPredicateException(this);break;case 6:let c=r;this.action(this._ctx,c.ruleIndex,c.actionIndex);break;case 10:if(!this.precpred(this._ctx,r.precedence)){let d=r.precedence;throw new D6e.FailedPredicateException(this,`precpred(_ctx, ${d})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=r.target.stateNumber}visitDecisionState(e){let t;this.errorHandler.sync(this);let r=e.decision;return r===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(t=this.overrideDecisionAlt,this.overrideDecisionReached=!0):t=this.interpreter.adaptivePredict(this._input,r,this._ctx),t}createInterpreterRuleContext(e,t,r){return new tot.InterpreterRuleContext(r,e,t)}visitRuleStopState(e){if(this._atn.ruleToStartState[e.ruleIndex].isPrecedenceRule){let i=this._parentContextStack.pop();this.unrollRecursionContexts(i[0]),this.state=i[1]}else this.exitRule();let r=this._atn.states[this.state].transition(0);this.state=r.followState.stateNumber}addDecisionOverride(e,t,r){this.overrideDecision=e,this.overrideDecisionInputIndex=t,this.overrideDecisionAlt=r}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(e){let t=this._input.index;if(this.errorHandler.recover(this,e),this._input.index===t){let r=e.getOffendingToken();if(!r)throw new Error("Expected exception to have an offending token");let i=r.tokenSource,s=i!==void 0?i.inputStream:void 0,o={source:i,stream:s};if(e instanceof eot.InputMismatchException){let a=e.expectedTokens;if(a===void 0)throw new Error("Expected the exception to provide expected tokens");let c=uD.Token.INVALID_TYPE;a.isNil||(c=a.minElement);let d=this.tokenFactory.create(o,c,r.text,uD.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,d))}else{let a=r.tokenSource,c=this.tokenFactory.create(o,uD.Token.INVALID_TYPE,r.text,uD.Token.DEFAULT_CHANNEL,-1,-1,r.line,r.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,c))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};h5([O6e.NotNull],nx.prototype,"_vocabulary",void 0);h5([kS.Override],nx.prototype,"reset",null);h5([kS.Override],nx.prototype,"atn",null);h5([kS.Override],nx.prototype,"vocabulary",null);h5([kS.Override],nx.prototype,"ruleNames",null);h5([kS.Override],nx.prototype,"grammarFileName",null);h5([kS.Override],nx.prototype,"enterRecursionRule",null);nx=h5([Kst(1,O6e.NotNull)],nx);p5.ParserInterpreter=nx});var N6e=Ae(x5=>{"use strict";m();var IS=x5&&x5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},lq=x5&&x5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(x5,"__esModule",{value:!0});x5.ParseTreeMatch=void 0;var Kg=Sr(),m5=class{constructor(e,t,r,i){if(!e)throw new Error("tree cannot be null");if(!t)throw new Error("pattern cannot be null");if(!r)throw new Error("labels cannot be null");this._tree=e,this._pattern=t,this._labels=r,this._mismatchedNode=i}get(e){let t=this._labels.get(e);if(!(!t||t.length===0))return t[t.length-1]}getAll(e){let t=this._labels.get(e);return t||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};IS([Kg.NotNull,lq(0,Kg.NotNull)],m5.prototype,"getAll",null);IS([Kg.NotNull],m5.prototype,"labels",null);IS([Kg.NotNull],m5.prototype,"pattern",null);IS([Kg.NotNull],m5.prototype,"tree",null);IS([Kg.Override],m5.prototype,"toString",null);m5=IS([lq(0,Kg.NotNull),lq(1,Kg.NotNull),lq(2,Kg.NotNull)],m5);x5.ParseTreeMatch=m5});var k6e=Ae(cq=>{"use strict";m();Object.defineProperty(cq,"__esModule",{value:!0});cq.XPathLexer=void 0;var oot=rD(),aot=Pg(),uot=qF(),lot=Lg(),L6e=fm(),qo=class extends aot.Lexer{constructor(e){super(e);this._interp=new uot.LexerATNSimulator(qo._ATN,this)}get vocabulary(){return qo.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return qo.ruleNames}get serializedATN(){return qo._serializedATN}get channelNames(){return qo.channelNames}get modeNames(){return qo.modeNames}action(e,t,r){switch(t){case 4:this.ID_action(e,r);break}}ID_action(e,t){switch(t){case 0:let r=this.text;r.charAt(0)===r.charAt(0).toUpperCase()?this.type=qo.TOKEN_REF:this.type=qo.RULE_REF;break}}static get _ATN(){return qo.__ATN||(qo.__ATN=new oot.ATNDeserializer().deserialize(L6e.toCharArray(qo._serializedATN))),qo.__ATN}};cq.XPathLexer=qo;qo.TOKEN_REF=1;qo.RULE_REF=2;qo.ANYWHERE=3;qo.ROOT=4;qo.WILDCARD=5;qo.BANG=6;qo.ID=7;qo.STRING=8;qo.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];qo.modeNames=["DEFAULT_MODE"];qo.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"];qo._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"];qo._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"];qo.VOCABULARY=new lot.VocabularyImpl(qo._LITERAL_NAMES,qo._SYMBOLIC_NAMES,[]);qo._serializedATNSegments=2;qo._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r
\u02B6
2;C\\aac|\x81\xA1\xAC\xAC\xAF\xAF\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0302\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u0485\u0489\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u0593\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0602\u0607\u0612\u061C\u061E\u061E\u0622\u066B\u0670\u06D5\u06D7\u06DF\u06E1\u06EA\u06EC\u06FE\u0701\u0701\u0711\u074C\u074F\u07B3\u07C2\u07F7\u07FC\u07FC\u0802\u082F\u0842\u085D\u08A2\u08B6\u08B8\u08BF\u08D6\u0965\u0968\u0971\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BE\u09C6\u09C9\u09CA\u09CD\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09E8\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A3E\u0A3E\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4F\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A68\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABE\u0AC7\u0AC9\u0ACB\u0ACD\u0ACF\u0AD2\u0AD2\u0AE2\u0AE5\u0AE8\u0AF1\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3E\u0B46\u0B49\u0B4A\u0B4D\u0B4F\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B68\u0B71\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCF\u0BD2\u0BD2\u0BD9\u0BD9\u0BE8\u0BF1\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4F\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C68\u0C71\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBE\u0CC6\u0CC8\u0CCA\u0CCC\u0CCF\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CE8\u0CF1\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D50\u0D56\u0D59\u0D61\u0D65\u0D68\u0D71\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DCC\u0DCC\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DE8\u0DF1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E50\u0E52\u0E5B\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECA\u0ECF\u0ED2\u0EDB\u0EDE\u0EE1\u0F02\u0F02\u0F1A\u0F1B\u0F22\u0F2B\u0F37\u0F37\u0F39\u0F39\u0F3B\u0F3B\u0F40\u0F49\u0F4B\u0F6E\u0F73\u0F86\u0F88\u0F99\u0F9B\u0FBE\u0FC8\u0FC8\u1002\u104B\u1052\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u135F\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1716\u1722\u1736\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17D5\u17D9\u17D9\u17DE\u17DF\u17E2\u17EB\u180D\u1810\u1812\u181B\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193D\u1948\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u19D2\u19DB\u1A02\u1A1D\u1A22\u1A60\u1A62\u1A7E\u1A81\u1A8B\u1A92\u1A9B\u1AA9\u1AA9\u1AB2\u1ABF\u1B02\u1B4D\u1B52\u1B5B\u1B6D\u1B75\u1B82\u1BF5\u1C02\u1C39\u1C42\u1C4B\u1C4F\u1C7F\u1C82\u1C8A\u1CD2\u1CD4\u1CD6\u1CF8\u1CFA\u1CFB\u1D02\u1DF7\u1DFD\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u200D\u2011\u202C\u2030\u2041\u2042\u2056\u2056\u2062\u2066\u2068\u2071\u2073\u2073\u2081\u2081\u2092\u209E\u20D2\u20DE\u20E3\u20E3\u20E7\u20F2\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D81\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u3031\u3033\u3037\u303A\u303E\u3043\u3098\u309B\u309C\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA62D\uA642\uA671\uA676\uA67F\uA681\uA6F3\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA829\uA842\uA875\uA882\uA8C7\uA8D2\uA8DB\uA8E2\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA902\uA92F\uA932\uA955\uA962\uA97E\uA982\uA9C2\uA9D1\uA9DB\uA9E2\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA52\uAA5B\uAA62\uAA78\uAA7C\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF8\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uABEE\uABEF\uABF2\uABFB\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE02\uFE11\uFE22\uFE31\uFE35\uFE36\uFE4F\uFE51\uFE72\uFE76\uFE78\uFEFE\uFF01\uFF01\uFF12\uFF1B\uFF23\uFF3C\uFF41\uFF41\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\uFFFB\uFFFD\r(*<>?AOR_\x82\xFC\u0142\u0176\u01FF\u01FF\u0282\u029E\u02A2\u02D2\u02E2\u02E2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04A2\u04AB\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A3A\u0A3C\u0A41\u0A41\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE8\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1048\u1068\u1071\u1081\u10BC\u10BF\u10BF\u10D2\u10EA\u10F2\u10FB\u1102\u1136\u1138\u1141\u1152\u1175\u1178\u1178\u1182\u11C6\u11CC\u11CE\u11D2\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EC\u12F2\u12FB\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133E\u1346\u1349\u134A\u134D\u134F\u1352\u1352\u1359\u1359\u135F\u1365\u1368\u136E\u1372\u1376\u1402\u144C\u1452\u145B\u1482\u14C7\u14C9\u14C9\u14D2\u14DB\u1582\u15B7\u15BA\u15C2\u15DA\u15DF\u1602\u1642\u1646\u1646\u1652\u165B\u1682\u16B9\u16C2\u16CB\u1702\u171B\u171F\u172D\u1732\u173B\u18A2\u18EB\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C42\u1C52\u1C5B\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6A62\u6A6B\u6AD2\u6AEF\u6AF2\u6AF6\u6B02\u6B38\u6B42\u6B45\u6B52\u6B5B\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F91\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBC9F\uBCA0\uBCA2\uBCA5\uD167\uD16B\uD16F\uD184\uD187\uD18D\uD1AC\uD1AF\uD244\uD246\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uD7D0\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE8D2\uE8D8\uE902\uE94C\uE952\uE95B\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F"\x81\u0102\u01F1\u0240C\\c|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05D2\u05EC\u05F2\u05F4\u0622\u064C\u0670\u0671\u0673\u06D5\u06D7\u06D7\u06E7\u06E8\u06F0\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0712\u0714\u0731\u074F\u07A7\u07B3\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0817\u081C\u081C\u0826\u0826\u082A\u082A\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u0906\u093B\u093F\u093F\u0952\u0952\u095A\u0963\u0973\u0982\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09BF\u09D0\u09D0\u09DE\u09DF\u09E1\u09E3\u09F2\u09F3\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A5B\u0A5E\u0A60\u0A60\u0A74\u0A76\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0ABF\u0AD2\u0AD2\u0AE2\u0AE3\u0AFB\u0AFB\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B3F\u0B5E\u0B5F\u0B61\u0B63\u0B73\u0B73\u0B85\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BD2\u0BD2\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C3F\u0C5A\u0C5C\u0C62\u0C63\u0C82\u0C82\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CBF\u0CE0\u0CE0\u0CE2\u0CE3\u0CF3\u0CF4\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D3F\u0D50\u0D50\u0D56\u0D58\u0D61\u0D63\u0D7C\u0D81\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0E03\u0E32\u0E34\u0E35\u0E42\u0E48\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EB2\u0EB4\u0EB5\u0EBF\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F8A\u0F8E\u1002\u102C\u1041\u1041\u1052\u1057\u105C\u105F\u1063\u1063\u1067\u1068\u1070\u1072\u1077\u1083\u1090\u1090\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1713\u1722\u1733\u1742\u1753\u1762\u176E\u1770\u1772\u1782\u17B5\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u1886\u1889\u18AA\u18AC\u18AC\u18B2\u18F7\u1902\u1920\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A18\u1A22\u1A56\u1AA9\u1AA9\u1B07\u1B35\u1B47\u1B4D\u1B85\u1BA2\u1BB0\u1BB1\u1BBC\u1BE7\u1C02\u1C25\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF3\u1CF7\u1CF8\u1D02\u1DC1\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA681\uA69F\uA6A2\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA824\uA842\uA875\uA884\uA8B5\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA927\uA932\uA948\uA962\uA97E\uA986\uA9B4\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA2A\uAA42\uAA44\uAA46\uAA4D\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAB1\uAAB3\uAAB3\uAAB7\uAAB8\uAABB\uAABF\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAEC\uAAF4\uAAF6\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABE4\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB1F\uFB21\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u0377\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A02\u0A12\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1005\u1039\u1085\u10B1\u10D2\u10EA\u1105\u1128\u1152\u1174\u1178\u1178\u1185\u11B4\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u122D\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12E0\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u133F\u1352\u1352\u135F\u1363\u1402\u1436\u1449\u144C\u1482\u14B1\u14C6\u14C7\u14C9\u14C9\u1582\u15B0\u15DA\u15DD\u1602\u1631\u1646\u1646\u1682\u16AC\u1702\u171B\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C30\u1C42\u1C42\u1C74\u1C91\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B31\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F52\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548`;qo._serializedATNSegment1=`\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE802\uE8C6\uE902\uE945\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`;qo._serializedATN=L6e.join([qo._serializedATNSegment0,qo._serializedATNSegment1],"")});var I6e=Ae(MS=>{"use strict";m();var cot=MS&&MS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(MS,"__esModule",{value:!0});MS.XPathLexerErrorListener=void 0;var fot=Sr(),Fne=class{syntaxError(e,t,r,i,s,o){}};cot([fot.Override],Fne.prototype,"syntaxError",null);MS.XPathLexerErrorListener=Fne});var g6=Ae(PS=>{"use strict";m();var dot=PS&&PS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(PS,"__esModule",{value:!0});PS.XPathElement=void 0;var hot=Sr(),Dne=class{constructor(e){this.nodeName=e,this.invert=!1}toString(){let e=this.invert?"!":"";return Object.constructor.name+"["+e+this.nodeName+"]"}};dot([hot.Override],Dne.prototype,"toString",null);PS.XPathElement=Dne});var M6e=Ae(BS=>{"use strict";m();var pot=BS&&BS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(BS,"__esModule",{value:!0});BS.XPathRuleAnywhereElement=void 0;var mot=Sr(),xot=$g(),got=g6(),One=class extends got.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){return xot.Trees.findAllRuleNodes(e,this.ruleIndex)}};pot([mot.Override],One.prototype,"evaluate",null);BS.XPathRuleAnywhereElement=One});var P6e=Ae(jS=>{"use strict";m();var yot=jS&&jS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(jS,"__esModule",{value:!0});jS.XPathRuleElement=void 0;var vot=n1(),_ot=Sr(),bot=$g(),Eot=g6(),Rne=class extends Eot.XPathElement{constructor(e,t){super(e);this.ruleIndex=t}evaluate(e){let t=[];for(let r of bot.Trees.getChildren(e))r instanceof vot.ParserRuleContext&&(r.ruleIndex===this.ruleIndex&&!this.invert||r.ruleIndex!==this.ruleIndex&&this.invert)&&t.push(r);return t}};yot([_ot.Override],Rne.prototype,"evaluate",null);jS.XPathRuleElement=Rne});var B6e=Ae(qS=>{"use strict";m();var Sot=qS&&qS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(qS,"__esModule",{value:!0});qS.XPathTokenAnywhereElement=void 0;var wot=Sr(),Cot=$g(),Aot=g6(),Nne=class extends Aot.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){return Cot.Trees.findAllTokenNodes(e,this.tokenType)}};Sot([wot.Override],Nne.prototype,"evaluate",null);qS.XPathTokenAnywhereElement=Nne});var j6e=Ae(US=>{"use strict";m();var Tot=US&&US.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(US,"__esModule",{value:!0});US.XPathTokenElement=void 0;var Fot=Sr(),Dot=Hg(),Oot=$g(),Rot=g6(),Lne=class extends Rot.XPathElement{constructor(e,t){super(e);this.tokenType=t}evaluate(e){let t=[];for(let r of Oot.Trees.getChildren(e))r instanceof Dot.TerminalNode&&(r.symbol.type===this.tokenType&&!this.invert||r.symbol.type!==this.tokenType&&this.invert)&&t.push(r);return t}};Tot([Fot.Override],Lne.prototype,"evaluate",null);US.XPathTokenElement=Lne});var q6e=Ae(zS=>{"use strict";m();var Not=zS&&zS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(zS,"__esModule",{value:!0});zS.XPathWildcardAnywhereElement=void 0;var Lot=Sr(),kot=$g(),Iot=fq(),Mot=g6(),kne=class extends Mot.XPathElement{constructor(){super(Iot.XPath.WILDCARD)}evaluate(e){return this.invert?[]:kot.Trees.getDescendants(e)}};Not([Lot.Override],kne.prototype,"evaluate",null);zS.XPathWildcardAnywhereElement=kne});var U6e=Ae(HS=>{"use strict";m();var Pot=HS&&HS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(HS,"__esModule",{value:!0});HS.XPathWildcardElement=void 0;var Bot=Sr(),jot=$g(),qot=fq(),Uot=g6(),Ine=class extends Uot.XPathElement{constructor(){super(qot.XPath.WILDCARD)}evaluate(e){let t=[];if(this.invert)return t;for(let r of jot.Trees.getChildren(e))t.push(r);return t}};Pot([Bot.Override],Ine.prototype,"evaluate",null);HS.XPathWildcardElement=Ine});var fq=Ae(dq=>{"use strict";m();Object.defineProperty(dq,"__esModule",{value:!0});dq.XPath=void 0;var zot=rq(),Hot=oq(),$ot=BF(),Vot=n1(),Mne=ou(),ym=k6e(),Wot=I6e(),Qot=M6e(),Got=P6e(),Yot=B6e(),Kot=j6e(),Jot=q6e(),Xot=U6e(),$S=class{constructor(e,t){this.parser=e,this.path=t,this.elements=this.split(t)}split(e){let t=new ym.XPathLexer(zot.CharStreams.fromString(e));t.recover=c=>{throw c},t.removeErrorListeners(),t.addErrorListener(new Wot.XPathLexerErrorListener);let r=new Hot.CommonTokenStream(t);try{r.fill()}catch(c){if(c instanceof $ot.LexerNoViableAltException){let d=t.charPositionInLine,p="Invalid tokens or characters at index "+d+" in path '"+e+"' -- "+c.message;throw new RangeError(p)}throw c}let i=r.getTokens(),s=[],o=i.length,a=0;e:for(;a<o;){let c=i[a],d;switch(c.type){case ym.XPathLexer.ROOT:case ym.XPathLexer.ANYWHERE:let p=c.type===ym.XPathLexer.ANYWHERE;a++,d=i[a];let E=d.type===ym.XPathLexer.BANG;E&&(a++,d=i[a]);let w=this.getXPathElement(d,p);w.invert=E,s.push(w),a++;break;case ym.XPathLexer.TOKEN_REF:case ym.XPathLexer.RULE_REF:case ym.XPathLexer.WILDCARD:s.push(this.getXPathElement(c,!1)),a++;break;case Mne.Token.EOF:break e;default:throw new Error("Unknowth path element "+c)}}return s}getXPathElement(e,t){if(e.type===Mne.Token.EOF)throw new Error("Missing path element at end of path");let r=e.text;if(r==null)throw new Error("Expected wordToken to have text content.");let i=this.parser.getTokenType(r),s=this.parser.getRuleIndex(r);switch(e.type){case ym.XPathLexer.WILDCARD:return t?new Jot.XPathWildcardAnywhereElement:new Xot.XPathWildcardElement;case ym.XPathLexer.TOKEN_REF:case ym.XPathLexer.STRING:if(i===Mne.Token.INVALID_TYPE)throw new Error(r+" at index "+e.startIndex+" isn't a valid token name");return t?new Yot.XPathTokenAnywhereElement(r,i):new Kot.XPathTokenElement(r,i);default:if(s===-1)throw new Error(r+" at index "+e.startIndex+" isn't a valid rule name");return t?new Qot.XPathRuleAnywhereElement(r,s):new Got.XPathRuleElement(r,s)}}static findAll(e,t,r){return new $S(r,t).evaluate(e)}evaluate(e){let t=new Vot.ParserRuleContext;t.addChild(e);let r=new Set([t]),i=0;for(;i<this.elements.length;){let s=new Set;for(let o of r)o.childCount>0&&this.elements[i].evaluate(o).forEach(s.add,s);i++,r=s}return r}};dq.XPath=$S;$S.WILDCARD="*";$S.NOT="!"});var z6e=Ae(g5=>{"use strict";m();var rx=g5&&g5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},y6=g5&&g5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(g5,"__esModule",{value:!0});g5.ParseTreePattern=void 0;var vd=Sr(),Zot=fq(),i1=class{constructor(e,t,r,i){this._matcher=e,this._patternRuleIndex=r,this._pattern=t,this._patternTree=i}match(e){return this._matcher.match(e,this)}matches(e){return this._matcher.match(e,this).succeeded}findAll(e,t){let r=Zot.XPath.findAll(e,t,this._matcher.parser),i=[];for(let s of r){let o=this.match(s);o.succeeded&&i.push(o)}return i}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};rx([vd.NotNull],i1.prototype,"_pattern",void 0);rx([vd.NotNull],i1.prototype,"_patternTree",void 0);rx([vd.NotNull],i1.prototype,"_matcher",void 0);rx([vd.NotNull,y6(0,vd.NotNull)],i1.prototype,"match",null);rx([y6(0,vd.NotNull)],i1.prototype,"matches",null);rx([vd.NotNull,y6(0,vd.NotNull),y6(1,vd.NotNull)],i1.prototype,"findAll",null);rx([vd.NotNull],i1.prototype,"matcher",null);rx([vd.NotNull],i1.prototype,"pattern",null);rx([vd.NotNull],i1.prototype,"patternTree",null);i1=rx([y6(0,vd.NotNull),y6(1,vd.NotNull),y6(3,vd.NotNull)],i1);g5.ParseTreePattern=i1});var H6e=Ae(y5=>{"use strict";m();var Wh=y5&&y5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},eat=y5&&y5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(y5,"__esModule",{value:!0});y5.RuleTagToken=void 0;var Qh=Sr(),tat=ou(),_d=class{constructor(e,t,r){if(e==null||e.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=e,this.bypassTokenType=t,this._label=r}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return tat.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};Wh([Qh.NotNull],_d.prototype,"ruleName",null);Wh([Qh.Override],_d.prototype,"channel",null);Wh([Qh.Override],_d.prototype,"text",null);Wh([Qh.Override],_d.prototype,"type",null);Wh([Qh.Override],_d.prototype,"line",null);Wh([Qh.Override],_d.prototype,"charPositionInLine",null);Wh([Qh.Override],_d.prototype,"tokenIndex",null);Wh([Qh.Override],_d.prototype,"startIndex",null);Wh([Qh.Override],_d.prototype,"stopIndex",null);Wh([Qh.Override],_d.prototype,"tokenSource",null);Wh([Qh.Override],_d.prototype,"inputStream",null);Wh([Qh.Override],_d.prototype,"toString",null);_d=Wh([eat(0,Qh.NotNull)],_d);y5.RuleTagToken=_d});var Pne=Ae(hq=>{"use strict";m();Object.defineProperty(hq,"__esModule",{value:!0});hq.Chunk=void 0;var $6e=class{};hq.Chunk=$6e});var Q6e=Ae(VS=>{"use strict";m();var V6e=VS&&VS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(VS,"__esModule",{value:!0});VS.TagChunk=void 0;var nat=Pne(),W6e=Sr(),pq=class extends nat.Chunk{constructor(e,t){super();if(e==null||e.length===0)throw new Error("tag cannot be null or empty");this._tag=e,this._label=t}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};V6e([W6e.NotNull],pq.prototype,"tag",null);V6e([W6e.Override],pq.prototype,"toString",null);VS.TagChunk=pq});var G6e=Ae(v5=>{"use strict";m();var mq=v5&&v5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},rat=v5&&v5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(v5,"__esModule",{value:!0});v5.TextChunk=void 0;var iat=Pne(),xq=Sr(),WS=class extends iat.Chunk{constructor(e){super();if(e==null)throw new Error("text cannot be null");this._text=e}get text(){return this._text}toString(){return"'"+this._text+"'"}};mq([xq.NotNull],WS.prototype,"_text",void 0);mq([xq.NotNull],WS.prototype,"text",null);mq([xq.Override],WS.prototype,"toString",null);WS=mq([rat(0,xq.NotNull)],WS);v5.TextChunk=WS});var Y6e=Ae(_5=>{"use strict";m();var lD=_5&&_5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},sat=_5&&_5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(_5,"__esModule",{value:!0});_5.TokenTagToken=void 0;var oat=b8(),cD=Sr(),v6=class extends oat.CommonToken{constructor(e,t,r){super(t);this._tokenName=e,this._label=r}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};lD([cD.NotNull],v6.prototype,"_tokenName",void 0);lD([cD.NotNull],v6.prototype,"tokenName",null);lD([cD.Override],v6.prototype,"text",null);lD([cD.Override],v6.prototype,"toString",null);v6=lD([sat(0,cD.NotNull)],v6);_5.TokenTagToken=v6});var tbe=Ae(sx=>{"use strict";m();var gq=sx&&sx.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},yq=sx&&sx.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(sx,"__esModule",{value:!0});sx.ParseTreePatternMatcher=void 0;var aat=qne(),uat=rq(),lat=oq(),cat=Ene(),K6e=T6e(),_6=Sr(),fat=Sne(),dat=Tne(),J6e=n1(),hat=N6e(),pat=z6e(),mat=Cg(),xat=dS(),X6e=H6e(),Z6e=Q6e(),Bne=Hg(),QS=G6e(),jne=ou(),ebe=Y6e(),ix=class{constructor(e,t){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=e,this._parser=t}setDelimiters(e,t,r){if(!e)throw new Error("start cannot be null or empty");if(!t)throw new Error("stop cannot be null or empty");this.start=e,this.stop=t,this.escape=r,this.escapeRE=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.matches(e,i)}else{let i=new K6e.MultiMap;return!this.matchImpl(e,t.patternTree,i)}}match(e,t,r=0){if(typeof t=="string"){let i=this.compile(t,r);return this.match(e,i)}else{let i=new K6e.MultiMap,s=this.matchImpl(e,t.patternTree,i);return new hat.ParseTreeMatch(e,t,i,s)}}compile(e,t){let r=this.tokenize(e),i=new cat.ListTokenSource(r),s=new lat.CommonTokenStream(i),o=this._parser,a=new dat.ParserInterpreter(o.grammarFileName,o.vocabulary,o.ruleNames,o.getATNWithBypassAlts(),s),c;try{a.errorHandler=new aat.BailErrorStrategy,c=a.parse(t)}catch(d){throw d instanceof fat.ParseCancellationException?d.getCause():d instanceof mat.RecognitionException?d:d instanceof Error?new ix.CannotInvokeStartRule(d):d}if(s.LA(1)!==jne.Token.EOF)throw new ix.StartRuleDoesNotConsumeFullPattern;return new pat.ParseTreePattern(this,e,t,c)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(e,t,r){if(!e)throw new TypeError("tree cannot be null");if(!t)throw new TypeError("patternTree cannot be null");if(e instanceof Bne.TerminalNode&&t instanceof Bne.TerminalNode){let i;if(e.symbol.type===t.symbol.type)if(t.symbol instanceof ebe.TokenTagToken){let s=t.symbol;r.map(s.tokenName,e);let o=s.label;o&&r.map(o,e)}else e.text===t.text||i||(i=e);else i||(i=e);return i}if(e instanceof J6e.ParserRuleContext&&t instanceof J6e.ParserRuleContext){let i,s=this.getRuleTagToken(t);if(s){let a;if(e.ruleContext.ruleIndex===t.ruleContext.ruleIndex){r.map(s.ruleName,e);let c=s.label;c&&r.map(c,e)}else i||(i=e);return i}if(e.childCount!==t.childCount)return i||(i=e),i;let o=e.childCount;for(let a=0;a<o;a++){let c=this.matchImpl(e.getChild(a),t.getChild(a),r);if(c)return c}return i}return e}getRuleTagToken(e){if(e instanceof xat.RuleNode&&e.childCount===1&&e.getChild(0)instanceof Bne.TerminalNode){let t=e.getChild(0);if(t.symbol instanceof X6e.RuleTagToken)return t.symbol}}tokenize(e){let t=this.split(e),r=[];for(let i of t)if(i instanceof Z6e.TagChunk){let s=i,o=s.tag.substr(0,1);if(o===o.toUpperCase()){let a=this._parser.getTokenType(s.tag);if(a===jne.Token.INVALID_TYPE)throw new Error("Unknown token "+s.tag+" in pattern: "+e);let c=new ebe.TokenTagToken(s.tag,a,s.label);r.push(c)}else if(o===o.toLowerCase()){let a=this._parser.getRuleIndex(s.tag);if(a===-1)throw new Error("Unknown rule "+s.tag+" in pattern: "+e);let c=this._parser.getATNWithBypassAlts().ruleToTokenType[a];r.push(new X6e.RuleTagToken(s.tag,c,s.label))}else throw new Error("invalid tag: "+s.tag+" in pattern: "+e)}else{let s=i;this._lexer.inputStream=uat.CharStreams.fromString(s.text);let o=this._lexer.nextToken();for(;o.type!==jne.Token.EOF;)r.push(o),o=this._lexer.nextToken()}return r}split(e){let t=0,r=e.length,i=[],s,o=[],a=[];for(;t<r;)t===e.indexOf(this.escape+this.start,t)?t+=this.escape.length+this.start.length:t===e.indexOf(this.escape+this.stop,t)?t+=this.escape.length+this.stop.length:t===e.indexOf(this.start,t)?(o.push(t),t+=this.start.length):t===e.indexOf(this.stop,t)?(a.push(t),t+=this.stop.length):t++;if(o.length>a.length)throw new Error("unterminated tag in pattern: "+e);if(o.length<a.length)throw new Error("missing start tag in pattern: "+e);let c=o.length;for(let d=0;d<c;d++)if(o[d]>=a[d])throw new Error("tag delimiters out of order in pattern: "+e);if(c===0){let d=e.substring(0,r);i.push(new QS.TextChunk(d))}if(c>0&&o[0]>0){let d=e.substring(0,o[0]);i.push(new QS.TextChunk(d))}for(let d=0;d<c;d++){let p=e.substring(o[d]+this.start.length,a[d]),E=p,w,N=p.indexOf(":");if(N>=0&&(w=p.substring(0,N),E=p.substring(N+1,p.length)),i.push(new Z6e.TagChunk(E,w)),d+1<c){let R=e.substring(a[d]+this.stop.length,o[d+1]);i.push(new QS.TextChunk(R))}}if(c>0){let d=a[c-1]+this.stop.length;if(d<r){let p=e.substring(d,r);i.push(new QS.TextChunk(p))}}for(let d=0;d<i.length;d++){let p=i[d];if(p instanceof QS.TextChunk){let E=p.text.replace(this.escapeRE,"");E.length<p.text.length&&(i[d]=new QS.TextChunk(E))}}return i}};gq([_6.NotNull,yq(1,_6.NotNull)],ix.prototype,"match",null);gq([_6.NotNull],ix.prototype,"lexer",null);gq([_6.NotNull],ix.prototype,"parser",null);gq([yq(0,_6.NotNull),yq(1,_6.NotNull),yq(2,_6.NotNull)],ix.prototype,"matchImpl",null);sx.ParseTreePatternMatcher=ix;(function(n){class e extends Error{constructor(i){super(`CannotInvokeStartRule: ${i}`);this.error=i}}n.CannotInvokeStartRule=e;class t extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}n.StartRuleDoesNotConsumeFullPattern=t})(ix=sx.ParseTreePatternMatcher||(sx.ParseTreePatternMatcher={}))});var GS=Ae(b5=>{"use strict";m();var nbe=b5&&b5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},gat=b5&&b5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(b5,"__esModule",{value:!0});b5.DecisionEventInfo=void 0;var rbe=Sr(),vq=class{constructor(e,t,r,i,s,o){this.decision=e,this.fullCtx=o,this.stopIndex=s,this.input=r,this.startIndex=i,this.state=t}};nbe([rbe.NotNull],vq.prototype,"input",void 0);vq=nbe([gat(2,rbe.NotNull)],vq);b5.DecisionEventInfo=vq});var ibe=Ae(E5=>{"use strict";m();var Une=E5&&E5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},zne=E5&&E5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(E5,"__esModule",{value:!0});E5.AmbiguityInfo=void 0;var yat=GS(),fD=Sr(),dD=class extends yat.DecisionEventInfo{constructor(e,t,r,i,s,o){super(e,t,i,s,o,t.useContext);this.ambigAlts=r}get ambiguousAlternatives(){return this.ambigAlts}};Une([fD.NotNull],dD.prototype,"ambigAlts",void 0);Une([fD.NotNull],dD.prototype,"ambiguousAlternatives",null);dD=Une([zne(1,fD.NotNull),zne(2,fD.NotNull),zne(3,fD.NotNull)],dD);E5.AmbiguityInfo=dD});var abe=Ae(S5=>{"use strict";m();var vat=S5&&S5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},sbe=S5&&S5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(S5,"__esModule",{value:!0});S5.ContextSensitivityInfo=void 0;var _at=GS(),obe=Sr(),Hne=class extends _at.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}};Hne=vat([sbe(1,obe.NotNull),sbe(2,obe.NotNull)],Hne);S5.ContextSensitivityInfo=Hne});var ube=Ae(YS=>{"use strict";m();var bat=YS&&YS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(YS,"__esModule",{value:!0});YS.DecisionInfo=void 0;var Eat=Sr(),$ne=class{constructor(e){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=e}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};bat([Eat.Override],$ne.prototype,"toString",null);YS.DecisionInfo=$ne});var fbe=Ae(w5=>{"use strict";m();var Sat=w5&&w5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},lbe=w5&&w5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(w5,"__esModule",{value:!0});w5.ErrorInfo=void 0;var wat=GS(),cbe=Sr(),Vne=class extends wat.DecisionEventInfo{constructor(e,t,r,i,s){super(e,t,r,i,s,t.useContext)}};Vne=Sat([lbe(1,cbe.NotNull),lbe(2,cbe.NotNull)],Vne);w5.ErrorInfo=Vne});var dbe=Ae(C5=>{"use strict";m();var Cat=C5&&C5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Aat=C5&&C5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(C5,"__esModule",{value:!0});C5.LookaheadEventInfo=void 0;var Tat=GS(),Fat=Sr(),Wne=class extends Tat.DecisionEventInfo{constructor(e,t,r,i,s,o,a){super(e,t,i,s,o,a);this.predictedAlt=r}};Wne=Cat([Aat(3,Fat.NotNull)],Wne);C5.LookaheadEventInfo=Wne});var hbe=Ae(A5=>{"use strict";m();var Dat=A5&&A5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Qne=A5&&A5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(A5,"__esModule",{value:!0});A5.PredicateEvalInfo=void 0;var Oat=GS(),Gne=Sr(),Yne=class extends Oat.DecisionEventInfo{constructor(e,t,r,i,s,o,a,c){super(t,e,r,i,s,e.useContext);this.semctx=o,this.evalResult=a,this.predictedAlt=c}};Yne=Dat([Qne(0,Gne.NotNull),Qne(2,Gne.NotNull),Qne(5,Gne.NotNull)],Yne);A5.PredicateEvalInfo=Yne});var Kne=Ae(T5=>{"use strict";m();var ox=T5&&T5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},_q=T5&&T5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(T5,"__esModule",{value:!0});T5.ProfilingATNSimulator=void 0;var Rat=ibe(),pbe=dm(),Nat=OF(),mbe=abe(),Lat=ube(),xbe=fbe(),ch=Sr(),gbe=dbe(),kat=yS(),Iat=hbe(),Mat=q_(),ybe=Wte(),s1=class extends kat.ParserATNSimulator{constructor(e){super(e.interpreter.atn,e);this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let t=0;t<this.numDecisions;t++)this.decisions.push(new Lat.DecisionInfo(t))}adaptivePredict(e,t,r,i){if(i!==void 0)return super.adaptivePredict(e,t,r,i);try{this._input=e,this._startIndex=e.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=t,this.currentState=void 0,this.conflictingAltResolvedBySLL=pbe.ATN.INVALID_ALT_NUMBER;let s=process.hrtime(),o=super.adaptivePredict(e,t,r),a=process.hrtime(),c=(a[0]-s[0])*1e9;c===0?c=a[1]-s[1]:c+=1e9-s[1]+a[1],this.decisions[t].timeInPrediction+=c,this.decisions[t].invocations++;let d=this._sllStopIndex-this._startIndex+1;if(this.decisions[t].SLL_TotalLook+=d,this.decisions[t].SLL_MinLook=this.decisions[t].SLL_MinLook===0?d:Math.min(this.decisions[t].SLL_MinLook,d),d>this.decisions[t].SLL_MaxLook&&(this.decisions[t].SLL_MaxLook=d,this.decisions[t].SLL_MaxLookEvent=new gbe.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let p=this._llStopIndex-this._startIndex+1;this.decisions[t].LL_TotalLook+=p,this.decisions[t].LL_MinLook=this.decisions[t].LL_MinLook===0?p:Math.min(this.decisions[t].LL_MinLook,p),p>this.decisions[t].LL_MaxLook&&(this.decisions[t].LL_MaxLook=p,this.decisions[t].LL_MaxLookEvent=new gbe.LookaheadEventInfo(t,void 0,o,e,this._startIndex,this._llStopIndex,!0))}return o}finally{this._input=void 0,this.currentDecision=-1}}getStartState(e,t,r,i){let s=super.getStartState(e,t,r,i);return this.currentState=s,s}computeStartState(e,t,r){let i=super.computeStartState(e,t,r);return this.currentState=i,i}computeReachSet(e,t,r,i){if(this._input===void 0)throw new Error("Invalid state");let s=super.computeReachSet(e,t,r,i);return s==null&&this.decisions[this.currentDecision].errors.push(new xbe.ErrorInfo(this.currentDecision,t,this._input,this._startIndex,this._input.index)),this.currentState=s,s}getExistingTargetState(e,t){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let r=super.getExistingTargetState(e,t);if(r!=null&&(this.currentState=new ybe.SimulatorState(this.currentState.outerContext,r,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,r===Nat.ATNSimulator.ERROR)){let i=new ybe.SimulatorState(this.currentState.outerContext,e,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new xbe.ErrorInfo(this.currentDecision,i,this._input,this._startIndex,this._input.index))}return r}computeTargetState(e,t,r,i,s,o){let a=super.computeTargetState(e,t,r,i,s,o);return s?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,a}evalSemanticContextImpl(e,t,r){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let i=super.evalSemanticContextImpl(e,t,r);if(!(e instanceof Mat.SemanticContext.PrecedencePredicate)){let o=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new Iat.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,o,e,i,r))}return i}reportContextSensitivity(e,t,r,i,s){if(this._input===void 0)throw new Error("Invalid state");t!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new mbe.ContextSensitivityInfo(this.currentDecision,r,this._input,i,s)),super.reportContextSensitivity(e,t,r,i,s)}reportAttemptingFullContext(e,t,r,i,s){t!=null?this.conflictingAltResolvedBySLL=t.nextSetBit(0):this.conflictingAltResolvedBySLL=r.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(e,t,r,i,s)}reportAmbiguity(e,t,r,i,s,o,a){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let c;o!=null?c=o.nextSetBit(0):c=a.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==pbe.ATN.INVALID_ALT_NUMBER&&c!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new mbe.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,r,i)),this.decisions[this.currentDecision].ambiguities.push(new Rat.AmbiguityInfo(this.currentDecision,this.currentState,o,this._input,r,i)),super.reportAmbiguity(e,t,r,i,s,o,a)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};ox([ch.Override,_q(0,ch.NotNull)],s1.prototype,"adaptivePredict",null);ox([ch.Override],s1.prototype,"getStartState",null);ox([ch.Override],s1.prototype,"computeStartState",null);ox([ch.Override],s1.prototype,"computeReachSet",null);ox([ch.Override],s1.prototype,"getExistingTargetState",null);ox([ch.Override],s1.prototype,"computeTargetState",null);ox([ch.Override],s1.prototype,"evalSemanticContextImpl",null);ox([ch.Override],s1.prototype,"reportContextSensitivity",null);ox([ch.Override],s1.prototype,"reportAttemptingFullContext",null);ox([ch.Override,_q(0,ch.NotNull),_q(5,ch.NotNull),_q(6,ch.NotNull)],s1.prototype,"reportAmbiguity",null);T5.ProfilingATNSimulator=s1});var hS=Ae(ax=>{"use strict";m();var qc=ax&&ax.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},bq=ax&&ax.__param||function(n,e){return function(t,r){e(t,r,n)}},vbe=ax&&ax.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(E){o(E)}}function c(p){try{d(r.throw(p))}catch(E){o(E)}}function d(p){p.done?s(p.value):i(p.value).then(a,c)}d((r=r.apply(n,e||[])).next())})};Object.defineProperty(ax,"__esModule",{value:!0});ax.Parser=void 0;var Pat=fm(),Bat=Cte(),jat=rD(),qat=Eq(),Uat=fS(),zat=Uee(),Hat=Pg(),Wl=Sr(),$at=y6e(),Vat=yS(),Wat=mne(),Qat=T8(),Gat=Hg(),hD=ou(),KS=class{constructor(e,t){this.ruleNames=e,this.tokenStream=t}enterEveryRule(e){console.log("enter   "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(e){console.log("exit    "+this.ruleNames[e.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(e){}visitTerminal(e){let t=e.parent.ruleContext,r=e.symbol;console.log("consume "+r+" rule "+this.ruleNames[t.ruleIndex])}};qc([Wl.Override],KS.prototype,"enterEveryRule",null);qc([Wl.Override],KS.prototype,"exitEveryRule",null);qc([Wl.Override],KS.prototype,"visitErrorNode",null);qc([Wl.Override],KS.prototype,"visitTerminal",null);var Nl=class extends Qat.Recognizer{constructor(e){super();this._errHandler=new qat.DefaultErrorStrategy,this._precedenceStack=new zat.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=e}reset(e){(e===void 0||e)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let t=this.interpreter;t!=null&&t.reset()}match(e){let t=this.currentToken;return t.type===e?(e===hD.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this._buildParseTrees&&t.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,t))),t}matchWildcard(){let e=this.currentToken;return e.type>0?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this._buildParseTrees&&e.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,e))),e}set buildParseTree(e){this._buildParseTrees=e}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(e){if(e==null)throw new TypeError("listener cannot be null");this._parseListeners.push(e)}removeParseListener(e){let t=this._parseListeners.findIndex(r=>r===e);t!==-1&&this._parseListeners.splice(t,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let e of this._parseListeners)e.enterEveryRule&&e.enterEveryRule(this._ctx),this._ctx.enterRule(e)}triggerExitRuleEvent(){for(let e=this._parseListeners.length-1;e>=0;e--){let t=this._parseListeners[e];this._ctx.exitRule(t),t.exitEveryRule&&t.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let e=this.serializedATN;if(e==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let t=Nl.bypassAltsAtnCache.get(e);if(t==null){let r=new Bat.ATNDeserializationOptions;r.isGenerateRuleBypassTransitions=!0,t=new jat.ATNDeserializer(r).deserialize(Pat.toCharArray(e)),Nl.bypassAltsAtnCache.set(e,t)}return t}compileParseTreePattern(e,t,r){return vbe(this,void 0,void 0,function*(){if(!r){if(this.inputStream){let a=this.inputStream.tokenSource;a instanceof Hat.Lexer&&(r=a)}if(!r)throw new Error("Parser can't discover a lexer to use")}let i=r,s=yield Promise.resolve().then(()=>tbe());return new s.ParseTreePatternMatcher(i,this).compile(e,t)})}get errorHandler(){return this._errHandler}set errorHandler(e){this._errHandler=e}get inputStream(){return this._input}set inputStream(e){this.reset(!1),this._input=e}get currentToken(){return this._input.LT(1)}notifyErrorListeners(e,t,r){t===void 0?t=this.currentToken:t===null&&(t=void 0),this._syntaxErrors++;let i=-1,s=-1;t!=null&&(i=t.line,s=t.charPositionInLine);let o=this.getErrorListenerDispatch();o.syntaxError&&o.syntaxError(this,t,i,s,e,r)}consume(){let e=this.currentToken;e.type!==Nl.EOF&&this.inputStream.consume();let t=this._parseListeners.length!==0;if(this._buildParseTrees||t)if(this._errHandler.inErrorRecoveryMode(this)){let r=this._ctx.addErrorNode(this.createErrorNode(this._ctx,e));if(t)for(let i of this._parseListeners)i.visitErrorNode&&i.visitErrorNode(r)}else{let r=this.createTerminalNode(this._ctx,e);if(this._ctx.addChild(r),t)for(let i of this._parseListeners)i.visitTerminal&&i.visitTerminal(r)}return e}createTerminalNode(e,t){return new Gat.TerminalNode(t)}createErrorNode(e,t){return new Uat.ErrorNode(t)}addContextToParseTree(){let e=this._ctx._parent;e!=null&&e.addChild(this._ctx)}enterRule(e,t,r){this.state=t,this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(e,t,r){if(this.state=t,this._buildParseTrees){let i=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),i._parent=e,e.addChild(i)}this._ctx=e,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(e,t){if(e.altNumber=t,this._buildParseTrees&&this._ctx!==e){let r=this._ctx._parent;r!=null&&(r.removeLastChild(),r.addChild(e))}this._ctx=e}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(e,t,r,i){this.state=t,this._precedenceStack.push(i),this._ctx=e,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(e,t,r){let i=this._ctx;i._parent=e,i.invokingState=t,i._stop=this._input.tryLT(-1),this._ctx=e,this._ctx._start=i._start,this._buildParseTrees&&this._ctx.addChild(i),this.triggerEnterRuleEvent()}unrollRecursionContexts(e){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let t=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==e;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=e;t._parent=e,this._buildParseTrees&&e!=null&&e.addChild(t)}getInvokingContext(e){let t=this._ctx;for(;t&&t.ruleIndex!==e;)t=t._parent;return t}get context(){return this._ctx}set context(e){this._ctx=e}precpred(e,t){return t>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new Wat.ProxyParserErrorListener(this.getErrorListeners())}inContext(e){return!1}isExpectedToken(e){let t=this.interpreter.atn,r=this._ctx,i=t.states[this.state],s=t.nextTokens(i);if(s.contains(e))return!0;if(!s.contains(hD.Token.EPSILON))return!1;for(;r!=null&&r.invokingState>=0&&s.contains(hD.Token.EPSILON);){let a=t.states[r.invokingState].transition(0);if(s=t.nextTokens(a.followState),s.contains(e))return!0;r=r._parent}return!!(s.contains(hD.Token.EPSILON)&&e===hD.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let e=this.interpreter.atn,t=e.states[this.state];return e.nextTokens(t)}getRuleIndex(e){let t=this.getRuleIndexMap().get(e);return t??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(e=this._ctx){let t=e,r=this.ruleNames,i=[];for(;t!=null;){let s=t.ruleIndex;s<0?i.push("n/a"):i.push(r[s]),t=t._parent}return i}getDFAStrings(){let e=[];for(let t of this._interp.atn.decisionToDFA)e.push(t.toString(this.vocabulary,this.ruleNames));return e}dumpDFA(){let e=!1;for(let t of this._interp.atn.decisionToDFA)t.isEmpty||(e&&console.log(),console.log("Decision "+t.decision+":"),process.stdout.write(t.toString(this.vocabulary,this.ruleNames)),e=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>Kne()).then(e=>{let t=this.interpreter;if(t instanceof e.ProfilingATNSimulator)return new $at.ParseInfo(t)})}setProfile(e){return vbe(this,void 0,void 0,function*(){let t=yield Promise.resolve().then(()=>Kne()),r=this.interpreter;e?r instanceof t.ProfilingATNSimulator||(this.interpreter=new t.ProfilingATNSimulator(this)):r instanceof t.ProfilingATNSimulator&&(this.interpreter=new Vat.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(r.getPredictionMode())})}set isTrace(e){e?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new KS(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};Nl.bypassAltsAtnCache=new Map;qc([Wl.NotNull],Nl.prototype,"_errHandler",void 0);qc([Wl.NotNull],Nl.prototype,"match",null);qc([Wl.NotNull],Nl.prototype,"matchWildcard",null);qc([Wl.NotNull],Nl.prototype,"getParseListeners",null);qc([bq(0,Wl.NotNull)],Nl.prototype,"addParseListener",null);qc([Wl.NotNull],Nl.prototype,"getATNWithBypassAlts",null);qc([Wl.NotNull,bq(0,Wl.NotNull)],Nl.prototype,"errorHandler",null);qc([Wl.Override],Nl.prototype,"inputStream",null);qc([Wl.NotNull],Nl.prototype,"currentToken",null);qc([bq(0,Wl.NotNull)],Nl.prototype,"enterRule",null);qc([Wl.Override,bq(0,Wl.Nullable)],Nl.prototype,"precpred",null);qc([Wl.Override],Nl.prototype,"getErrorListenerDispatch",null);qc([Wl.NotNull],Nl.prototype,"getExpectedTokens",null);qc([Wl.NotNull],Nl.prototype,"getExpectedTokensWithinCurrentRule",null);qc([Wl.Override],Nl.prototype,"parseInfo",null);ax.Parser=Nl});var YF=Ae(JS=>{"use strict";m();var Yat=JS&&JS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(JS,"__esModule",{value:!0});JS.NoViableAltException=void 0;var Kat=hS(),Jat=Cg(),Xat=Sr(),Jne=class extends Jat.RecognitionException{constructor(e,t,r,i,s,o){e instanceof Kat.Parser&&(t===void 0&&(t=e.inputStream),r===void 0&&(r=e.currentToken),i===void 0&&(i=e.currentToken),o===void 0&&(o=e.context));super(e,t,o);this._deadEndConfigs=s,this._startToken=r,this.setOffendingToken(e,i)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};Yat([Xat.NotNull],Jne.prototype,"_startToken",void 0);JS.NoViableAltException=Jne});var Eq=Ae(F5=>{"use strict";m();var Gu=F5&&F5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ql=F5&&F5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(F5,"__esModule",{value:!0});F5.DefaultErrorStrategy=void 0;var _be=N2(),XS=cf(),Zat=yF(),Sq=vF(),bbe=Iv(),eut=YF(),tut=Kp(),Jg=ou(),la=Sr(),au=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=_be.ATNState.INVALID_STATE_NUMBER}reset(e){this.endErrorCondition(e)}beginErrorCondition(e){this.errorRecoveryMode=!0}inErrorRecoveryMode(e){return this.errorRecoveryMode}endErrorCondition(e){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(e){this.endErrorCondition(e)}reportError(e,t){this.inErrorRecoveryMode(e)||(this.beginErrorCondition(e),t instanceof eut.NoViableAltException?this.reportNoViableAlternative(e,t):t instanceof Sq.InputMismatchException?this.reportInputMismatch(e,t):t instanceof Zat.FailedPredicateException?this.reportFailedPredicate(e,t):(console.error(`unknown recognition error type: ${t}`),this.notifyErrorListeners(e,t.toString(),t)))}notifyErrorListeners(e,t,r){let i=r.getOffendingToken(e);i===void 0&&(i=null),e.notifyErrorListeners(t,i,r)}recover(e,t){this.lastErrorIndex===e.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(e.state)&&e.consume(),this.lastErrorIndex=e.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new bbe.IntervalSet),this.lastErrorStates.add(e.state);let r=this.getErrorRecoverySet(e);this.consumeUntil(e,r)}sync(e){let t=e.interpreter.atn.states[e.state];if(this.inErrorRecoveryMode(e))return;let i=e.inputStream.LA(1),s=e.atn.nextTokens(t);if(s.contains(i)){this.nextTokensContext=void 0,this.nextTokensState=_be.ATNState.INVALID_STATE_NUMBER;return}if(s.contains(Jg.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=e.context,this.nextTokensState=e.state);return}switch(t.stateType){case XS.ATNStateType.BLOCK_START:case XS.ATNStateType.STAR_BLOCK_START:case XS.ATNStateType.PLUS_BLOCK_START:case XS.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(e))return;throw new Sq.InputMismatchException(e);case XS.ATNStateType.PLUS_LOOP_BACK:case XS.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(e);let a=e.getExpectedTokens().or(this.getErrorRecoverySet(e));this.consumeUntil(e,a);break;default:break}}reportNoViableAlternative(e,t){let r=e.inputStream,i;r?t.startToken.type===Jg.Token.EOF?i="<EOF>":i=r.getTextFromRange(t.startToken,t.getOffendingToken()):i="<unknown input>";let s="no viable alternative at input "+this.escapeWSAndQuote(i);this.notifyErrorListeners(e,s,t)}reportInputMismatch(e,t){let r=t.expectedTokens,i=r?r.toStringVocabulary(e.vocabulary):"",s="mismatched input "+this.getTokenErrorDisplay(t.getOffendingToken(e))+" expecting "+i;this.notifyErrorListeners(e,s,t)}reportFailedPredicate(e,t){let r=e.ruleNames[e.context.ruleIndex],i="rule "+r+" "+t.message;this.notifyErrorListeners(e,i,t)}reportUnwantedToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getTokenErrorDisplay(t),i=this.getExpectedTokens(e),s="extraneous input "+r+" expecting "+i.toStringVocabulary(e.vocabulary);e.notifyErrorListeners(s,t,void 0)}reportMissingToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);let t=e.currentToken,r=this.getExpectedTokens(e),i="missing "+r.toStringVocabulary(e.vocabulary)+" at "+this.getTokenErrorDisplay(t);e.notifyErrorListeners(i,t,void 0)}recoverInline(e){let t=this.singleTokenDeletion(e);if(t)return e.consume(),t;if(this.singleTokenInsertion(e))return this.getMissingSymbol(e);throw this.nextTokensContext===void 0?new Sq.InputMismatchException(e):new Sq.InputMismatchException(e,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(e){let t=e.inputStream.LA(1),i=e.interpreter.atn.states[e.state].transition(0).target,s=e.interpreter.atn;return s.nextTokens(i,tut.PredictionContext.fromRuleContext(s,e.context)).contains(t)?(this.reportMissingToken(e),!0):!1}singleTokenDeletion(e){let t=e.inputStream.LA(2);if(this.getExpectedTokens(e).contains(t)){this.reportUnwantedToken(e),e.consume();let i=e.currentToken;return this.reportMatch(e),i}}getMissingSymbol(e){let t=e.currentToken,r=this.getExpectedTokens(e),i=Jg.Token.INVALID_TYPE;r.isNil||(i=r.minElement);let s;i===Jg.Token.EOF?s="<missing EOF>":s="<missing "+e.vocabulary.getDisplayName(i)+">";let o=t,a=e.inputStream.tryLT(-1);return o.type===Jg.Token.EOF&&a!=null&&(o=a),this.constructToken(e.inputStream.tokenSource,i,s,o)}constructToken(e,t,r,i){let s=e.tokenFactory,o=i.tokenSource,a=o?o.inputStream:void 0;return s.create({source:e,stream:a},t,r,Jg.Token.DEFAULT_CHANNEL,-1,-1,i.line,i.charPositionInLine)}getExpectedTokens(e){return e.getExpectedTokens()}getTokenErrorDisplay(e){if(!e)return"<no token>";let t=this.getSymbolText(e);return t||(this.getSymbolType(e)===Jg.Token.EOF?t="<EOF>":t=`<${this.getSymbolType(e)}>`),this.escapeWSAndQuote(t)}getSymbolText(e){return e.text}getSymbolType(e){return e.type}escapeWSAndQuote(e){return e=e.replace(`
`,"\\n"),e=e.replace("\r","\\r"),e=e.replace("	","\\t"),"'"+e+"'"}getErrorRecoverySet(e){let t=e.interpreter.atn,r=e.context,i=new bbe.IntervalSet;for(;r&&r.invokingState>=0;){let o=t.states[r.invokingState].transition(0),a=t.nextTokens(o.followState);i.addAll(a),r=r._parent}return i.remove(Jg.Token.EPSILON),i}consumeUntil(e,t){let r=e.inputStream.LA(1);for(;r!==Jg.Token.EOF&&!t.contains(r);)e.consume(),r=e.inputStream.LA(1)}};Gu([la.Override],au.prototype,"reset",null);Gu([Ql(0,la.NotNull)],au.prototype,"beginErrorCondition",null);Gu([la.Override],au.prototype,"inErrorRecoveryMode",null);Gu([Ql(0,la.NotNull)],au.prototype,"endErrorCondition",null);Gu([la.Override],au.prototype,"reportMatch",null);Gu([la.Override],au.prototype,"reportError",null);Gu([Ql(0,la.NotNull)],au.prototype,"notifyErrorListeners",null);Gu([la.Override],au.prototype,"recover",null);Gu([la.Override],au.prototype,"sync",null);Gu([Ql(0,la.NotNull),Ql(1,la.NotNull)],au.prototype,"reportNoViableAlternative",null);Gu([Ql(0,la.NotNull),Ql(1,la.NotNull)],au.prototype,"reportInputMismatch",null);Gu([Ql(0,la.NotNull),Ql(1,la.NotNull)],au.prototype,"reportFailedPredicate",null);Gu([Ql(0,la.NotNull)],au.prototype,"reportUnwantedToken",null);Gu([Ql(0,la.NotNull)],au.prototype,"reportMissingToken",null);Gu([la.Override],au.prototype,"recoverInline",null);Gu([Ql(0,la.NotNull)],au.prototype,"singleTokenInsertion",null);Gu([Ql(0,la.NotNull)],au.prototype,"singleTokenDeletion",null);Gu([la.NotNull,Ql(0,la.NotNull)],au.prototype,"getMissingSymbol",null);Gu([la.NotNull,Ql(0,la.NotNull)],au.prototype,"getExpectedTokens",null);Gu([Ql(0,la.NotNull)],au.prototype,"getSymbolText",null);Gu([Ql(0,la.NotNull)],au.prototype,"getSymbolType",null);Gu([la.NotNull,Ql(0,la.NotNull)],au.prototype,"escapeWSAndQuote",null);Gu([la.NotNull,Ql(0,la.NotNull)],au.prototype,"getErrorRecoverySet",null);Gu([Ql(0,la.NotNull),Ql(1,la.NotNull)],au.prototype,"consumeUntil",null);F5.DefaultErrorStrategy=au});var qne=Ae(ZS=>{"use strict";m();var Xne=ZS&&ZS.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(ZS,"__esModule",{value:!0});ZS.BailErrorStrategy=void 0;var nut=Eq(),rut=vF(),Zne=Sr(),Ebe=Sne(),pD=class extends nut.DefaultErrorStrategy{recover(e,t){for(let r=e.context;r;r=r.parent)r.exception=t;throw new Ebe.ParseCancellationException(t)}recoverInline(e){let t=new rut.InputMismatchException(e);for(let r=e.context;r;r=r.parent)r.exception=t;throw new Ebe.ParseCancellationException(t)}sync(e){}};Xne([Zne.Override],pD.prototype,"recover",null);Xne([Zne.Override],pD.prototype,"recoverInline",null);Xne([Zne.Override],pD.prototype,"sync",null);ZS.BailErrorStrategy=pD});var wbe=Ae(Sbe=>{"use strict";m();Object.defineProperty(Sbe,"__esModule",{value:!0})});var Cbe=Ae(mD=>{"use strict";m();Object.defineProperty(mD,"__esModule",{value:!0});mD.Dependents=void 0;var iut;(function(n){n[n.SELF=0]="SELF",n[n.PARENTS=1]="PARENTS",n[n.CHILDREN=2]="CHILDREN",n[n.ANCESTORS=3]="ANCESTORS",n[n.DESCENDANTS=4]="DESCENDANTS",n[n.SIBLINGS=5]="SIBLINGS",n[n.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",n[n.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",n[n.PRECEEDING=8]="PRECEEDING",n[n.FOLLOWING=9]="FOLLOWING"})(iut=mD.Dependents||(mD.Dependents={}))});var Abe=Ae(O5=>{"use strict";m();var ew=O5&&O5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},o1=O5&&O5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(O5,"__esModule",{value:!0});O5.DiagnosticErrorListener=void 0;var sut=Dg(),Vf=Sr(),ere=F0(),D5=class{constructor(e=!0){this.exactOnly=e,this.exactOnly=e}syntaxError(e,t,r,i,s,o){}reportAmbiguity(e,t,r,i,s,o,a){if(this.exactOnly&&!s)return;let c=this.getDecisionDescription(e,t),d=this.getConflictingAlts(o,a),p=e.inputStream.getText(ere.Interval.of(r,i)),E=`reportAmbiguity d=${c}: ambigAlts=${d}, input='${p}'`;e.notifyErrorListeners(E)}reportAttemptingFullContext(e,t,r,i,s,o){let a="reportAttemptingFullContext d=%s, input='%s'",c=this.getDecisionDescription(e,t),d=e.inputStream.getText(ere.Interval.of(r,i)),p=`reportAttemptingFullContext d=${c}, input='${d}'`;e.notifyErrorListeners(p)}reportContextSensitivity(e,t,r,i,s,o){let a="reportContextSensitivity d=%s, input='%s'",c=this.getDecisionDescription(e,t),d=e.inputStream.getText(ere.Interval.of(r,i)),p=`reportContextSensitivity d=${c}, input='${d}'`;e.notifyErrorListeners(p)}getDecisionDescription(e,t){let r=t.decision,i=t.atnStartState.ruleIndex,s=e.ruleNames;if(i<0||i>=s.length)return r.toString();let o=s[i];return o?`${r} (${o})`:r.toString()}getConflictingAlts(e,t){if(e!=null)return e;let r=new sut.BitSet;for(let i of t)r.set(i.alt);return r}};ew([Vf.Override],D5.prototype,"syntaxError",null);ew([Vf.Override,o1(0,Vf.NotNull),o1(1,Vf.NotNull),o1(6,Vf.NotNull)],D5.prototype,"reportAmbiguity",null);ew([Vf.Override,o1(0,Vf.NotNull),o1(1,Vf.NotNull),o1(5,Vf.NotNull)],D5.prototype,"reportAttemptingFullContext",null);ew([Vf.Override,o1(0,Vf.NotNull),o1(1,Vf.NotNull),o1(5,Vf.NotNull)],D5.prototype,"reportContextSensitivity",null);ew([o1(0,Vf.NotNull),o1(1,Vf.NotNull)],D5.prototype,"getDecisionDescription",null);ew([Vf.NotNull,o1(1,Vf.NotNull)],D5.prototype,"getConflictingAlts",null);O5.DiagnosticErrorListener=D5});var Fbe=Ae(N5=>{"use strict";m();var R5=N5&&N5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},out=N5&&N5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(N5,"__esModule",{value:!0});N5.LexerInterpreter=void 0;var aut=Pg(),uut=qF(),Tbe=Sr(),tw=Sr(),ux=class extends aut.Lexer{constructor(e,t,r,i,s,o,a){super(a);if(o.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=e,this._atn=o,this._ruleNames=r.slice(0),this._channelNames=i.slice(0),this._modeNames=s.slice(0),this._vocabulary=t,this._interp=new uut.LexerATNSimulator(o,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};R5([Tbe.NotNull],ux.prototype,"_vocabulary",void 0);R5([tw.Override],ux.prototype,"atn",null);R5([tw.Override],ux.prototype,"grammarFileName",null);R5([tw.Override],ux.prototype,"ruleNames",null);R5([tw.Override],ux.prototype,"channelNames",null);R5([tw.Override],ux.prototype,"modeNames",null);R5([tw.Override],ux.prototype,"vocabulary",null);ux=R5([out(1,Tbe.NotNull)],ux);N5.LexerInterpreter=ux});var Obe=Ae(Dbe=>{"use strict";m();Object.defineProperty(Dbe,"__esModule",{value:!0})});var Rbe=Ae(nw=>{"use strict";m();var lut=nw&&nw.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(nw,"__esModule",{value:!0});nw.RuleContextWithAltNum=void 0;var cut=dm(),fut=Sr(),dut=n1(),tre=class extends dut.ParserRuleContext{constructor(e,t){t!==void 0?super(e,t):super(),this._altNumber=cut.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(e){this._altNumber=e}};lut([fut.Override],tre.prototype,"altNumber",null);nw.RuleContextWithAltNum=tre});var Nbe=Ae(wq=>{"use strict";m();Object.defineProperty(wq,"__esModule",{value:!0});wq.RuleDependency=void 0;function hut(n){return(e,t,r)=>{}}wq.RuleDependency=hut});var Lbe=Ae(Cq=>{"use strict";m();Object.defineProperty(Cq,"__esModule",{value:!0});Cq.RuleVersion=void 0;function put(n){return(e,t,r)=>{}}Cq.RuleVersion=put});var Ibe=Ae(kbe=>{"use strict";m();Object.defineProperty(kbe,"__esModule",{value:!0})});var Pbe=Ae(Mbe=>{"use strict";m();Object.defineProperty(Mbe,"__esModule",{value:!0})});var jbe=Ae(Bbe=>{"use strict";m();Object.defineProperty(Bbe,"__esModule",{value:!0})});var zbe=Ae(k5=>{"use strict";m();var Aq=k5&&k5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};Object.defineProperty(k5,"__esModule",{value:!0});k5.RewriteOperation=k5.TokenStreamRewriter=void 0;var qbe=F0(),Tq=Sr(),Ube=ou(),Wf=class{constructor(e){this.tokens=e,this.programs=new Map,this.programs.set(Wf.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(e,t=Wf.DEFAULT_PROGRAM_NAME){let r=this.programs.get(t);r!=null&&this.programs.set(t,r.slice(Wf.MIN_TOKEN_INDEX,e))}deleteProgram(e=Wf.DEFAULT_PROGRAM_NAME){this.rollback(Wf.MIN_TOKEN_INDEX,e)}insertAfter(e,t,r=Wf.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new nre(this.tokens,i,s.length,t);s.push(o)}insertBefore(e,t,r=Wf.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let s=this.getProgram(r),o=new L5(this.tokens,i,s.length,t);s.push(o)}replaceSingle(e,t){typeof e=="number"?this.replace(e,e,t):this.replace(e,e,t)}replace(e,t,r,i=Wf.DEFAULT_PROGRAM_NAME){if(typeof e!="number"&&(e=e.tokenIndex),typeof t!="number"&&(t=t.tokenIndex),e>t||e<0||t<0||t>=this.tokens.size)throw new RangeError(`replace: range invalid: ${e}..${t}(size=${this.tokens.size})`);let s=this.getProgram(i),o=new b6(this.tokens,e,t,s.length,r);s.push(o)}delete(e,t,r=Wf.DEFAULT_PROGRAM_NAME){t===void 0&&(t=e),typeof e=="number"?this.replace(e,t,"",r):this.replace(e,t,"",r)}getLastRewriteTokenIndex(e=Wf.DEFAULT_PROGRAM_NAME){let t=this.lastRewriteTokenIndexes.get(e);return t??-1}setLastRewriteTokenIndex(e,t){this.lastRewriteTokenIndexes.set(e,t)}getProgram(e){let t=this.programs.get(e);return t==null&&(t=this.initializeProgram(e)),t}initializeProgram(e){let t=[];return this.programs.set(e,t),t}getText(e,t=Wf.DEFAULT_PROGRAM_NAME){let r;e instanceof qbe.Interval?r=e:r=qbe.Interval.of(0,this.tokens.size-1),typeof e=="string"&&(t=e);let i=this.programs.get(t),s=r.a,o=r.b;if(o>this.tokens.size-1&&(o=this.tokens.size-1),s<0&&(s=0),i==null||i.length===0)return this.tokens.getText(r);let a=[],c=this.reduceToSingleOperationPerIndex(i),d=s;for(;d<=o&&d<this.tokens.size;){let p=c.get(d);c.delete(d);let E=this.tokens.get(d);p==null?(E.type!==Ube.Token.EOF&&a.push(String(E.text)),d++):d=p.execute(a)}if(o===this.tokens.size-1)for(let p of c.values())p.index>=this.tokens.size-1&&a.push(p.text.toString());return a.join("")}reduceToSingleOperationPerIndex(e){for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof b6))continue;let s=i,o=this.getKindOfOps(e,L5,r);for(let c of o)c.index===s.index?(e[c.instructionIndex]=void 0,s.text=c.text.toString()+(s.text!=null?s.text.toString():"")):c.index>s.index&&c.index<=s.lastIndex&&(e[c.instructionIndex]=void 0);let a=this.getKindOfOps(e,b6,r);for(let c of a){if(c.index>=s.index&&c.lastIndex<=s.lastIndex){e[c.instructionIndex]=void 0;continue}let d=c.lastIndex<s.index||c.index>s.lastIndex;if(c.text==null&&s.text==null&&!d)e[c.instructionIndex]=void 0,s.index=Math.min(c.index,s.index),s.lastIndex=Math.max(c.lastIndex,s.lastIndex);else if(!d)throw new Error(`replace op boundaries of ${s} overlap with previous ${c}`)}}for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof L5))continue;let s=i,o=this.getKindOfOps(e,L5,r);for(let c of o)c.index===s.index&&(c instanceof nre?(s.text=this.catOpText(c.text,s.text),e[c.instructionIndex]=void 0):c instanceof L5&&(s.text=this.catOpText(s.text,c.text),e[c.instructionIndex]=void 0));let a=this.getKindOfOps(e,b6,r);for(let c of a){if(s.index===c.index){c.text=this.catOpText(s.text,c.text),e[r]=void 0;continue}if(s.index>=c.index&&s.index<=c.lastIndex)throw new Error(`insert op ${s} within boundaries of previous ${c}`)}}let t=new Map;for(let r of e)if(r!=null){if(t.get(r.index)!=null)throw new Error("should only be one op per index");t.set(r.index,r)}return t}catOpText(e,t){let r="",i="";return e!=null&&(r=e.toString()),t!=null&&(i=t.toString()),r+i}getKindOfOps(e,t,r){let i=[];for(let s=0;s<r&&s<e.length;s++){let o=e[s];o!=null&&o instanceof t&&i.push(o)}return i}};k5.TokenStreamRewriter=Wf;Wf.DEFAULT_PROGRAM_NAME="default";Wf.PROGRAM_INIT_SIZE=100;Wf.MIN_TOKEN_INDEX=0;var xD=class{constructor(e,t,r,i){this.tokens=e,this.instructionIndex=r,this.index=t,this.text=i===void 0?"":i}execute(e){return this.index}toString(){let e=this.constructor.name,t=e.indexOf("$");return e=e.substring(t+1,e.length),"<"+e+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}};Aq([Tq.Override],xD.prototype,"toString",null);k5.RewriteOperation=xD;var L5=class extends xD{constructor(e,t,r,i){super(e,t,r,i)}execute(e){return e.push(this.text.toString()),this.tokens.get(this.index).type!==Ube.Token.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}};Aq([Tq.Override],L5.prototype,"execute",null);var nre=class extends L5{constructor(e,t,r,i){super(e,t+1,r,i)}},b6=class extends xD{constructor(e,t,r,i,s){super(e,t,i,s);this.lastIndex=r}execute(e){return this.text!=null&&e.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}};Aq([Tq.Override],b6.prototype,"execute",null);Aq([Tq.Override],b6.prototype,"toString",null)});var $be=Ae(Hbe=>{"use strict";m();Object.defineProperty(Hbe,"__esModule",{value:!0})});var Wbe=Ae(Vbe=>{"use strict";m();Object.defineProperty(Vbe,"__esModule",{value:!0})});var Qbe=Ae(Ss=>{"use strict";m();var mut=Ss&&Ss.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ks=Ss&&Ss.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&mut(e,n,t)};Object.defineProperty(Ss,"__esModule",{value:!0});Ks(h3e(),Ss);Ks(m3e(),Ss);Ks(o4e(),Ss);Ks(qne(),Ss);Ks(_ne(),Ss);Ks(wbe(),Ss);Ks(rq(),Ss);Ks(xne(),Ss);Ks(gne(),Ss);Ks(b8(),Ss);Ks(rj(),Ss);Ks(oq(),Ss);Ks(Zee(),Ss);Ks(Eq(),Ss);Ks(Cbe(),Ss);Ks(Abe(),Ss);Ks(yF(),Ss);Ks(vF(),Ss);Ks(Cne(),Ss);Ks(Sg(),Ss);Ks(Pg(),Ss);Ks(Fbe(),Ss);Ks(BF(),Ss);Ks(Ene(),Ss);Ks(YF(),Ss);Ks(hS(),Ss);Ks(Obe(),Ss);Ks(Tne(),Ss);Ks(n1(),Ss);Ks(vj(),Ss);Ks(mne(),Ss);Ks(Cg(),Ss);Ks(T8(),Ss);Ks(qte(),Ss);Ks(Rbe(),Ss);Ks(Nbe(),Ss);Ks(Lbe(),Ss);Ks(ou(),Ss);Ks(Ibe(),Ss);Ks(Pbe(),Ss);Ks(jbe(),Ss);Ks(zbe(),Ss);Ks($be(),Ss);Ks(Lg(),Ss);Ks(Wbe(),Ss)});var Ybe=Ae(lx=>{"use strict";m();var xut=lx&&lx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),gut=lx&&lx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),yut=lx&&lx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&xut(e,n,t);return gut(e,n),e};Object.defineProperty(lx,"__esModule",{value:!0});lx.MalloyLexer=void 0;var vut=rD(),_ut=Pg(),but=qF(),Eut=Lg(),Gbe=yut(fm()),nr=class extends _ut.Lexer{constructor(e){super(e);this._interp=new but.LexerATNSimulator(nr._ATN,this)}get vocabulary(){return nr.VOCABULARY}get grammarFileName(){return"MalloyLexer.g4"}get ruleNames(){return nr.ruleNames}get serializedATN(){return nr._serializedATN}get channelNames(){return nr.channelNames}get modeNames(){return nr.modeNames}static get _ATN(){return nr.__ATN||(nr.__ATN=new vut.ATNDeserializer().deserialize(Gbe.toCharArray(nr._serializedATN))),nr.__ATN}};lx.MalloyLexer=nr;nr.JSON_STRING=1;nr.ACCEPT=2;nr.AGGREGATE=3;nr.DECLARE=4;nr.DIMENSION=5;nr.EXCEPT=6;nr.EXPLORE=7;nr.GROUP_BY=8;nr.HAVING=9;nr.INDEX=10;nr.JOIN_CROSS=11;nr.JOIN_ONE=12;nr.JOIN_MANY=13;nr.LIMIT=14;nr.MEASURE=15;nr.NEST=16;nr.ORDER_BY=17;nr.PRIMARY_KEY=18;nr.PROJECT=19;nr.QUERY=20;nr.RENAME=21;nr.SAMPLE=22;nr.SOURCE=23;nr.SQL=24;nr.FANCYSQL=25;nr.TOP=26;nr.WHERE=27;nr.ALL=28;nr.AND=29;nr.AS=30;nr.ASC=31;nr.AVG=32;nr.BOOLEAN=33;nr.BY=34;nr.CASE=35;nr.CAST=36;nr.CONDITION=37;nr.COUNT=38;nr.DATE=39;nr.DAY=40;nr.DESC=41;nr.DISTINCT=42;nr.ELSE=43;nr.END=44;nr.EXCLUDE=45;nr.FALSE=46;nr.FOR=47;nr.FROM=48;nr.FROM_SQL=49;nr.HAS=50;nr.HOUR=51;nr.IMPORT=52;nr.IS=53;nr.JSON=54;nr.LAST=55;nr.MAX=56;nr.MIN=57;nr.MINUTE=58;nr.MONTH=59;nr.NOT=60;nr.NOW=61;nr.NULL=62;nr.NUMBER=63;nr.ON=64;nr.OR=65;nr.PICK=66;nr.QMARK=67;nr.QUARTER=68;nr.SECOND=69;nr.STRING=70;nr.SUM=71;nr.TABLE=72;nr.THEN=73;nr.THIS=74;nr.TIMESTAMP=75;nr.TO=76;nr.TRUE=77;nr.TURTLE=78;nr.WEEK=79;nr.WHEN=80;nr.WITH=81;nr.YEAR=82;nr.UNGROUPED=83;nr.STRING_ESCAPE=84;nr.HACKY_REGEX=85;nr.STRING_LITERAL=86;nr.AMPER=87;nr.ARROW=88;nr.FAT_ARROW=89;nr.OPAREN=90;nr.CPAREN=91;nr.OBRACK=92;nr.CBRACK=93;nr.OCURLY=94;nr.CCURLY=95;nr.DOUBLECOLON=96;nr.COLON=97;nr.COMMA=98;nr.DOT=99;nr.LT=100;nr.GT=101;nr.EQ=102;nr.NE=103;nr.LTE=104;nr.GTE=105;nr.PLUS=106;nr.MINUS=107;nr.STAR=108;nr.STARSTAR=109;nr.SLASH=110;nr.BAR=111;nr.SEMI=112;nr.NOT_MATCH=113;nr.MATCH=114;nr.LITERAL_TIMESTAMP=115;nr.LITERAL_DAY=116;nr.LITERAL_QUARTER=117;nr.LITERAL_MONTH=118;nr.LITERAL_WEEK=119;nr.LITERAL_YEAR=120;nr.IDENTIFIER=121;nr.PERCENT_LITERAL=122;nr.INTEGER_LITERAL=123;nr.NUMERIC_LITERAL=124;nr.OBJECT_NAME_LITERAL=125;nr.BLOCK_COMMENT=126;nr.COMMENT_TO_EOL=127;nr.WHITE_SPACE=128;nr.SQL_STRING=129;nr.UNWATED_CHARS_TRAILING_NUMBERS=130;nr.UNEXPECTED_CHAR=131;nr.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];nr.modeNames=["DEFAULT_MODE"];nr.ruleNames=["JSON_STRING","ESC","UNICODE","HEX","SAFECODEPOINT","SPACE_CHAR","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","F_YEAR","F_DD","LX","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","ID_CHAR","DIGIT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];nr._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'"];nr._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];nr.VOCABULARY=new Eut.VocabularyImpl(nr._LITERAL_NAMES,nr._SYMBOLIC_NAMES,[]);nr._serializedATNSegments=4;nr._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x85\u0580\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	fg	gh	hi	ij	jk	kl	lm	mn	no	op	pq	qr	rs	st	tu	uv	vw	wx	xy	yz	z{	{|	|}	}~	~\x7F	\x7F\x80	\x80\x81	\x81\x82	\x82\x83	\x83\x84	\x84\x85	\x85\x86	\x86\x87	\x87\x88	\x88\x89	\x89\x8A	\x8A\x8B	\x8B\x8C	\x8C\x8D	\x8D\x8E	\x8E\x8F	\x8F\x90	\x90\x91	\x91\x92	\x92\x93	\x93\x94	\x94\x95	\x95\x96	\x96\x97	\x97\x98	\x98\x99	\x99\x9A	\x9A\x9B	\x9B\x9C	\x9C\x9D	\x9D\x9E	\x9E\x9F	\x9F\xA0	\xA0\xA1	\xA1\xA2	\xA2\xA3	\xA3\xA4	\xA4\xA5	\xA5\xA6	\xA6\xA7	\xA7\xA8	\xA8\x07\u0155
\f\u0158\v\u015F
\x07\x07\b\b\b\b\b\b\b\x07\b\u0174
\b\f\b\b\u0177\v\b\b\b										\x07	\u0185
	\f		\u0188\v			








\v\v\v\v\v\v\v\v\v\v\x07\v\u019F
\v\f\v\v\u01A2\v\v\v\v\f\f\f\f\f\f\f\x07\f\u01AD
\f\f\f\f\u01B0\v\f\f\f\r\r\r\r\r\r\r\r\x07\r\u01BC
\r\f\r\r\u01BF\v\r\r\r\x07\u01CC
\f\u01CF\v\x07\u01DA
\f\u01DD\v\x07\u01E7
\f\u01EA\v\x07\u0203
\f\u0206\v\x07\u0214
\f\u0217\v\x07\u0221
\f\u0224\v\x07\u0230
\f\u0233\v\x07\u023C
\f\u023F\v\x07\u024C
\f\u024F\v\x07\u025F
\f\u0262\v\x07\u026E
\f\u0271\v\x07\u027B
\f\u027E\v\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x07\x1B\u0289
\x1B\f\x1B\x1B\u028C\v\x1B\x1B\x1B\x07\u0297
\f\u029A\v\x07\u02A5
\f\u02A8\v\x07\u02B0
\f\u02B3\v\x07\u02BF
\f\u02C2\v    \x07 \u02CA
 \f  \u02CD\v   !!!!!!\x07!\u02D7
!\f!!\u02DA\v!!!""""####$$$%%%%&&&&''''''''((()))))*****++++++++++,,,,,,-----.....\u031F
./////000000000111112222333333334444445555666667777777778888999999\u0361
9:::::::;;;<<<<<=====>>>>????@@@@@@@@\u0386
@AAAAAAA\u038E
ABBBBCCCCDDDDDEEEEEEEFFFGGGHHHHHIIJJJJJJJJJ\u03B9
JKKKKKKKK\u03C2
KLLLLLLLMMMMNNNNNNOOOOOPPPPPQQQQQQQQQQRRRSSSSSTTTTTTTUUUUUU\u03FD
UVVVVVWWWWWXXXXXX\u040E
XYYYYYYYYYYZZZZZZZ\u0420
Z[[\u0423
[[[[\x07[\u0428
[\f[[\u042B\v[[[\\\\\\\x07\\\u0432
\\\f\\\\\u0435\v\\\\\\]]^^^___\`\`aabbccddeefffgghhiijjkkllmmmnnnoooppqqrrsssttuuvvwwwxxyyyyyzzz{{{{{\u0485
{\r{{\u0486|||||||||||||\u0495
|||\u0498
|}}}}}}}}\u04A1
}~~~~~~~\u04A9
~\x7F\x7F\x7F\x7F\x7F\x7F\u04B0
\x7F\x80\x80\x80\x80\x80\x80\x80\x80\x80\x80\u04BB
\x80\x81\x81\x81\x81\u04C0
\x81\x82\x82\x82\x07\x82\u04C5
\x82\f\x82\x82\u04C8\v\x82\x83\x83\u04CB
\x83\r\x83\x83\u04CC\x83\x83\x84\x84\u04D2
\x84\r\x84\x84\u04D3\x85\x85\u04D7
\x85\r\x85\x85\u04D8\x85\x85\x07\x85\u04DD
\x85\f\x85\x85\u04E0\v\x85\x85\u04E2
\x85\x85\x85\x85\u04E6
\x85\r\x85\x85\u04E7\x85\x85\x85\u04EC
\x85\x85\x85\u04EF
\x85\r\x85\x85\u04F0\x85\u04F3
\x85\x85\u04F5
\x85\x86\x86\x86\x86\x86\x07\x86\u04FC
\x86\f\x86\x86\u04FF\v\x86\x86\x86\x87\x87\x88\x88\x89\x89\x8A\x8A\x8B\x8B\x8C\x8C\x8D\x8D\x8E\x8E\x8F\x8F\x90\x90\x91\x91\x92\x92\x93\x93\x94\x94\x95\x95\x96\x96\x97\x97\x98\x98\x99\x99\x9A\x9A\x9B\x9B\x9C\x9C\x9D\x9D\x9E\x9E\x9F\x9F\xA0\xA0\xA1\xA1\xA2\xA2\xA3\xA3\xA3\xA3\x07\xA3\u053F
\xA3\f\xA3\xA3\u0542\v\xA3\xA3\xA3\xA3\xA3\xA3\xA4\xA4\xA4\xA4\xA4\u054D
\xA4\xA4\x07\xA4\u0550
\xA4\f\xA4\xA4\u0553\v\xA4\xA4\xA4\u0556
\xA4\xA4\xA4\xA4\u055A
\xA4\xA4\xA4\xA5\xA5\xA5\xA5\xA6\xA6\xA6\xA6\x07\xA6\u0566
\xA6\f\xA6\xA6\u0569\v\xA6\xA6\xA6\xA6\xA7\xA7\u056F
\xA7\r\xA7\xA7\u0570\xA7\xA7\u0574
\xA7\r\xA7\xA7\u0575\xA7\xA7\x07\xA7\u057A
\xA7\f\xA7\xA7\u057D\v\xA7\xA8\xA8\u0540\u0567\xA9\x07	\v\r\x07\b	\x1B
\v\f!\r#%')+-/13579;=\x1B?ACEG I!K"M#O$Q%S&U'W(Y)[*]+_,a-c.e/g0i1k2m3o4q5s6u7w8y9{:};\x7F<\x81=\x83>\x85?\x87@\x89A\x8BB\x8DC\x8FD\x91E\x93F\x95G\x97H\x99I\x9BJ\x9DK\x9FL\xA1M\xA3N\xA5O\xA7P\xA9Q\xABR\xADS\xAFT\xB1U\xB3V\xB5W\xB7X\xB9Y\xBBZ\xBD[\xBF\\\xC1]\xC3^\xC5_\xC7\`\xC9a\xCBb\xCDc\xCFd\xD1e\xD3f\xD5g\xD7h\xD9i\xDBj\xDDk\xDFl\xE1m\xE3n\xE5o\xE7p\xE9q\xEBr\xEDs\xEFt\xF1\xF3\xF5\xF7u\xF9v\xFBw\xFDx\xFFy\u0101z\u0103{\u0105|\u0107}\u0109~\u010B\x7F\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0139\u013B\u013D\u013F\u0141\u0143\u0145\x80\u0147\x81\u0149\x82\u014B\x83\u014D\x84\u014F\x85%
$$11^^ddhhppttvv2;CHch!$$^^\v\r""11TTtt))^^--//2;CCccDDddEEeeFFffGGggHHhhIIiiJJjjKKkkLLllMMmmNNnnOOooPPppQQqqRRrrSSssTTttUUuuVVvvWWwwXXxxYYyyZZzz[[{{\\\\||\f\f\u0287C\\aac|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0347\u0347\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05B2\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0612\u061C\u0622\u0659\u065B\u0661\u0670\u06D5\u06D7\u06DE\u06E3\u06EA\u06EF\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0741\u074F\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0819\u081C\u082E\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u08D6\u08E1\u08E5\u08EB\u08F2\u093D\u093F\u094E\u0950\u0952\u0957\u0965\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09C6\u09C9\u09CA\u09CD\u09CE\u09D0\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09F2\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4E\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A72\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0AC7\u0AC9\u0ACB\u0ACD\u0ACE\u0AD2\u0AD2\u0AE2\u0AE5\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B46\u0B49\u0B4A\u0B4D\u0B4E\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCE\u0BD2\u0BD2\u0BD9\u0BD9\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4E\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CC6\u0CC8\u0CCA\u0CCC\u0CCE\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D4E\u0D50\u0D50\u0D56\u0D59\u0D61\u0D65\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E48\u0E4F\u0E4F\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECF\u0ECF\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F73\u0F83\u0F8A\u0F99\u0F9B\u0FBE\u1002\u1038\u103A\u103A\u103D\u1041\u1052\u1064\u1067\u106A\u1070\u1088\u1090\u1090\u109E\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1361\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1715\u1722\u1735\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17B5\u17B8\u17CA\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193A\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A1D\u1A22\u1A60\u1A63\u1A76\u1AA9\u1AA9\u1B02\u1B35\u1B37\u1B45\u1B47\u1B4D\u1B82\u1BAB\u1BAE\u1BB1\u1BBC\u1BE7\u1BE9\u1BF3\u1C02\u1C37\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF5\u1CF7\u1CF8\u1D02\u1DC1\u1DE9\u1DF6\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u24B8\u24EB\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2`;nr._serializedATNSegment1=`\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA676\uA67D\uA681\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA829\uA842\uA875\uA882\uA8C5\uA8C7\uA8C7\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA92C\uA932\uA954\uA962\uA97E\uA982\uA9B4\uA9B6\uA9C1\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAC0\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF7\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1047\u1084\u10BA\u10D2\u10EA\u1102\u1134\u1152\u1174\u1178\u1178\u1182\u11C1\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1236\u1239\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EA\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u1346\u1349\u134A\u134D\u134E\u1352\u1352\u1359\u1359\u135F\u1365\u1402\u1443\u1445\u1447\u1449\u144C\u1482\u14C3\u14C6\u14C7\u14C9\u14C9\u1582\u15B7\u15BA\u15C0\u15DA\u15DF\u1602\u1640\u1642\u1642\u1646\u1646\u1682\u16B7\u1702\u171B\u171F\u172C\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C40\u1C42\u1C42\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B38\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBCA0\uBCA0\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE902\uE945\uE949\uE949\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uF132\uF14B\uF152\uF16B\uF172\uF18B\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F\u05A6\x1B!#%')+-/13579;=?ACEGIKMOQSUWY[]_acegikmoqsuwy{}\x7F\x81\x83\x85\x87\x89\x8B\x8D\x8F\x91\x93\x95\x97\x99\x9B\x9D\x9F\xA1\xA3\xA5\xA7\xA9\xAB\xAD\xAF\xB1\xB3\xB5\xB7\xB9\xBB\xBD\xBF\xC1\xC3\xC5\xC7\xC9\xCB\xCD\xCF\xD1\xD3\xD5\xD7\xD9\xDB\xDD\xDF\xE1\xE3\xE5\xE7\xE9\xEB\xED\xEF\xF7\xF9\xFB\xFD\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u0145\u0147\u0149\u014B\u014D\u014F\u0151\u015B\x07\u0160	\u0166\v\u0168\r\u016A\u016C\u017A\u018B\u0194\u01A5\u01B3\x1B\u01C2\u01D2\u01E0!\u01ED#\u01F9%\u0209'\u021A)\u0227+\u0236-\u0242/\u02521\u02653\u02745\u02817\u028F9\u029D;\u02AB=\u02B6?\u02C5A\u02D0C\u02DDE\u02E1G\u02E5I\u02E8K\u02ECM\u02F0O\u02F8Q\u02FBS\u0300U\u0305W\u030FY\u0315[\u031A]\u0320_\u0325a\u032Ec\u0333e\u0337g\u033Fi\u0345k\u0349m\u034Eo\u0357q\u035Bs\u0362u\u0369w\u036Cy\u0371{\u0376}\u037A\x7F\u037E\x81\u0387\x83\u038F\x85\u0393\x87\u0397\x89\u039C\x8B\u03A3\x8D\u03A6\x8F\u03A9\x91\u03AE\x93\u03B0\x95\u03BA\x97\u03C3\x99\u03CA\x9B\u03CE\x9D\u03D4\x9F\u03D9\xA1\u03DE\xA3\u03E8\xA5\u03EB\xA7\u03F0\xA9\u03F7\xAB\u03FE\xAD\u0403\xAF\u0408\xB1\u040F\xB3\u041F\xB5\u0422\xB7\u042E\xB9\u0438\xBB\u043A\xBD\u043D\xBF\u0440\xC1\u0442\xC3\u0444\xC5\u0446\xC7\u0448\xC9\u044A\xCB\u044C\xCD\u044F\xCF\u0451\xD1\u0453\xD3\u0455\xD5\u0457\xD7\u0459\xD9\u045B\xDB\u045E\xDD\u0461\xDF\u0464\xE1\u0466\xE3\u0468\xE5\u046A\xE7\u046D\xE9\u046F\xEB\u0471\xED\u0473\xEF\u0476\xF1\u0478\xF3\u047D\xF5\u0480\xF7\u0488\xF9\u0499\xFB\u04A2\xFD\u04AA\xFF\u04B1\u0101\u04BC\u0103\u04C1\u0105\u04CA\u0107\u04D1\u0109\u04F4\u010B\u04F6\u010D\u0502\u010F\u0504\u0111\u0506\u0113\u0508\u0115\u050A\u0117\u050C\u0119\u050E\u011B\u0510\u011D\u0512\u011F\u0514\u0121\u0516\u0123\u0518\u0125\u051A\u0127\u051C\u0129\u051E\u012B\u0520\u012D\u0522\u012F\u0524\u0131\u0526\u0133\u0528\u0135\u052A\u0137\u052C\u0139\u052E\u013B\u0530\u013D\u0532\u013F\u0534\u0141\u0536\u0143\u0538\u0145\u053A\u0147\u054C\u0149\u055D\u014B\u0561\u014D\u056E\u014F\u057E\u0151\u0156\x07$\u0152\u0155\u0153\u0155\v\u0154\u0152\u0154\u0153\u0155\u0158\u0156\u0154\u0156\u0157\u0157\u0159\u0158\u0156\u0159\u015A\x07$\u015A\u015B\u015E\x07^\u015C\u015F	\u015D\u015F\x07\u015E\u015C\u015E\u015D\u015F\u0160\u0161\x07w\u0161\u0162	\u0162\u0163	\u0163\u0164	\u0164\u0165	\u0165\b\u0166\u0167	\u0167
\u0168\u0169
\u0169\f\u016A\u016B	\u016B\u016C\u016D\u0111\x89\u016D\u016E\u0115\x8B\u016E\u016F\u0115\x8B\u016F\u0170\u0119\x8D\u0170\u0171\u012F\x98\u0171\u0175\u0137\x9C\u0172\u0174\r\x07\u0173\u0172\u0174\u0177\u0175\u0173\u0175\u0176\u0176\u0178\u0177\u0175\u0178\u0179\x07<\u0179\u017A\u017B\u0111\x89\u017B\u017C\u011D\x8F\u017C\u017D\u011D\x8F\u017D\u017E\u0133\x9A\u017E\u017F\u0119\x8D\u017F\u0180\u011D\x8F\u0180\u0181\u0111\x89\u0181\u0182\u0137\x9C\u0182\u0186\u0119\x8D\u0183\u0185\r\x07\u0184\u0183\u0185\u0188\u0186\u0184\u0186\u0187\u0187\u0189\u0188\u0186\u0189\u018A\x07<\u018A\u018B\u018C\u0117\x8C\u018C\u018D\u0119\x8D\u018D\u018E\u0115\x8B\u018E\u018F\u0127\x94\u018F\u0190\u0111\x89\u0190\u0191\u0133\x9A\u0191\u0192\u0119\x8D\u0192\u0193\x07<\u0193\u0194\u0195\u0117\x8C\u0195\u0196\u0121\x91\u0196\u0197\u0129\x95\u0197\u0198\u0119\x8D\u0198\u0199\u012B\x96\u0199\u019A\u0135\x9B\u019A\u019B\u0121\x91\u019B\u019C\u012D\x97\u019C\u01A0\u012B\x96\u019D\u019F\r\x07\u019E\u019D\u019F\u01A2\u01A0\u019E\u01A0\u01A1\u01A1\u01A3\u01A2\u01A0\u01A3\u01A4\x07<\u01A4\u01A5\u01A6\u0119\x8D\u01A6\u01A7\u013F\xA0\u01A7\u01A8\u0115\x8B\u01A8\u01A9\u0119\x8D\u01A9\u01AA\u012F\x98\u01AA\u01AE\u0137\x9C\u01AB\u01AD\r\x07\u01AC\u01AB\u01AD\u01B0\u01AE\u01AC\u01AE\u01AF\u01AF\u01B1\u01B0\u01AE\u01B1\u01B2\x07<\u01B2\u01B3\u01B4\u0119\x8D\u01B4\u01B5\u013F\xA0\u01B5\u01B6\u012F\x98\u01B6\u01B7\u0127\x94\u01B7\u01B8\u012D\x97\u01B8\u01B9\u0133\x9A\u01B9\u01BD\u0119\x8D\u01BA\u01BC\r\x07\u01BB\u01BA\u01BC\u01BF\u01BD\u01BB\u01BD\u01BE\u01BE\u01C0\u01BF\u01BD\u01C0\u01C1\x07<\u01C1\u01C2\u01C3\u011D\x8F\u01C3\u01C4\u0133\x9A\u01C4\u01C5\u012D\x97\u01C5\u01C6\u0139\x9D\u01C6\u01C7\u012F\x98\u01C7\u01C8\x07a\u01C8\u01C9\u0113\x8A\u01C9\u01CD\u0141\xA1\u01CA\u01CC\r\x07\u01CB\u01CA\u01CC\u01CF\u01CD\u01CB\u01CD\u01CE\u01CE\u01D0\u01CF\u01CD\u01D0\u01D1\x07<\u01D1\u01D2\u01D3\u011F\x90\u01D3\u01D4\u0111\x89\u01D4\u01D5\u013B\x9E\u01D5\u01D6\u0121\x91\u01D6\u01D7\u012B\x96\u01D7\u01DB\u011D\x8F\u01D8\u01DA\r\x07\u01D9\u01D8\u01DA\u01DD\u01DB\u01D9\u01DB\u01DC\u01DC\u01DE\u01DD\u01DB\u01DE\u01DF\x07<\u01DF\u01E0\u01E1\u0121\x91\u01E1\u01E2\u012B\x96\u01E2\u01E3\u0117\x8C\u01E3\u01E4\u0119\x8D\u01E4\u01E8\u013F\xA0\u01E5\u01E7\r\x07\u01E6\u01E5\u01E7\u01EA\u01E8\u01E6\u01E8\u01E9\u01E9\u01EB\u01EA\u01E8\u01EB\u01EC\x07<\u01EC \u01ED\u01EE\u0123\x92\u01EE\u01EF\u012D\x97\u01EF\u01F0\u0121\x91\u01F0\u01F1\u012B\x96\u01F1\u01F2\x07a\u01F2\u01F3\u0115\x8B\u01F3\u01F4\u0133\x9A\u01F4\u01F5\u012D\x97\u01F5\u01F6\u0135\x9B\u01F6\u01F7\u0135\x9B\u01F7\u01F8\x07<\u01F8"\u01F9\u01FA\u0123\x92\u01FA\u01FB\u012D\x97\u01FB\u01FC\u0121\x91\u01FC\u01FD\u012B\x96\u01FD\u01FE\x07a\u01FE\u01FF\u012D\x97\u01FF\u0200\u012B\x96\u0200\u0204\u0119\x8D\u0201\u0203\r\x07\u0202\u0201\u0203\u0206\u0204\u0202\u0204\u0205\u0205\u0207\u0206\u0204\u0207\u0208\x07<\u0208$\u0209\u020A\u0123\x92\u020A\u020B\u012D\x97\u020B\u020C\u0121\x91\u020C\u020D\u012B\x96\u020D\u020E\x07a\u020E\u020F\u0129\x95\u020F\u0210\u0111\x89\u0210\u0211\u012B\x96\u0211\u0215\u0141\xA1\u0212\u0214\r\x07\u0213\u0212\u0214\u0217\u0215\u0213\u0215\u0216\u0216\u0218\u0217\u0215\u0218\u0219\x07<\u0219&\u021A\u021B\u0127\x94\u021B\u021C\u0121\x91\u021C\u021D\u0129\x95\u021D\u021E\u0121\x91\u021E\u0222\u0137\x9C\u021F\u0221\r\x07\u0220\u021F\u0221\u0224\u0222\u0220\u0222\u0223\u0223\u0225\u0224\u0222\u0225\u0226\x07<\u0226(\u0227\u0228\u0129\x95\u0228\u0229\u0119\x8D\u0229\u022A\u0111\x89\u022A\u022B\u0135\x9B\u022B\u022C\u0139\x9D\u022C\u022D\u0133\x9A\u022D\u0231\u0119\x8D\u022E\u0230\r\x07\u022F\u022E\u0230\u0233\u0231\u022F\u0231\u0232\u0232\u0234\u0233\u0231\u0234\u0235\x07<\u0235*\u0236\u0237\u012B\x96\u0237\u0238\u0119\x8D\u0238\u0239\u0135\x9B\u0239\u023D\u0137\x9C\u023A\u023C\r\x07\u023B\u023A\u023C\u023F\u023D\u023B\u023D\u023E\u023E\u0240\u023F\u023D\u0240\u0241\x07<\u0241,\u0242\u0243\u012D\x97\u0243\u0244\u0133\x9A\u0244\u0245\u0117\x8C\u0245\u0246\u0119\x8D\u0246\u0247\u0133\x9A\u0247\u0248\x07a\u0248\u0249\u0113\x8A\u0249\u024D\u0141\xA1\u024A\u024C\r\x07\u024B\u024A\u024C\u024F\u024D\u024B\u024D\u024E\u024E\u0250\u024F\u024D\u0250\u0251\x07<\u0251.\u0252\u0253\u012F\x98\u0253\u0254\u0133\x9A\u0254\u0255\u0121\x91\u0255\u0256\u0129\x95\u0256\u0257\u0111\x89\u0257\u0258\u0133\x9A\u0258\u0259\u0141\xA1\u0259\u025A\x07a\u025A\u025B\u0125\x93\u025B\u025C\u0119\x8D\u025C\u0260\u0141\xA1\u025D\u025F\r\x07\u025E\u025D\u025F\u0262\u0260\u025E\u0260\u0261\u0261\u0263\u0262\u0260\u0263\u0264\x07<\u02640\u0265\u0266\u012F\x98\u0266\u0267\u0133\x9A\u0267\u0268\u012D\x97\u0268\u0269\u0123\x92\u0269\u026A\u0119\x8D\u026A\u026B\u0115\x8B\u026B\u026F\u0137\x9C\u026C\u026E\r\x07\u026D\u026C\u026E\u0271\u026F\u026D\u026F\u0270\u0270\u0272\u0271\u026F\u0272\u0273\x07<\u02732\u0274\u0275\u0131\x99\u0275\u0276\u0139\x9D\u0276\u0277\u0119\x8D\u0277\u0278\u0133\x9A\u0278\u027C\u0141\xA1\u0279\u027B\r\x07\u027A\u0279\u027B\u027E\u027C\u027A\u027C\u027D\u027D\u027F\u027E\u027C\u027F\u0280\x07<\u02804\u0281\u0282\u0133\x9A\u0282\u0283\u0119\x8D\u0283`;nr._serializedATNSegment2=`\u0284\u012B\x96\u0284\u0285\u0111\x89\u0285\u0286\u0129\x95\u0286\u028A\u0119\x8D\u0287\u0289\r\x07\u0288\u0287\u0289\u028C\u028A\u0288\u028A\u028B\u028B\u028D\u028C\u028A\u028D\u028E\x07<\u028E6\u028F\u0290\u0135\x9B\u0290\u0291\u0111\x89\u0291\u0292\u0129\x95\u0292\u0293\u012F\x98\u0293\u0294\u0127\x94\u0294\u0298\u0119\x8D\u0295\u0297\r\x07\u0296\u0295\u0297\u029A\u0298\u0296\u0298\u0299\u0299\u029B\u029A\u0298\u029B\u029C\x07<\u029C8\u029D\u029E\u0135\x9B\u029E\u029F\u012D\x97\u029F\u02A0\u0139\x9D\u02A0\u02A1\u0133\x9A\u02A1\u02A2\u0115\x8B\u02A2\u02A6\u0119\x8D\u02A3\u02A5\r\x07\u02A4\u02A3\u02A5\u02A8\u02A6\u02A4\u02A6\u02A7\u02A7\u02A9\u02A8\u02A6\u02A9\u02AA\x07<\u02AA:\u02AB\u02AC\u0135\x9B\u02AC\u02AD\u0131\x99\u02AD\u02B1\u0127\x94\u02AE\u02B0\r\x07\u02AF\u02AE\u02B0\u02B3\u02B1\u02AF\u02B1\u02B2\u02B2\u02B4\u02B3\u02B1\u02B4\u02B5\x07<\u02B5<\u02B6\u02B7\u0137\x9C\u02B7\u02B8\u0139\x9D\u02B8\u02B9\u0133\x9A\u02B9\u02BA\u0117\x8C\u02BA\u02BB\u0139\x9D\u02BB\u02BC\u0115\x8B\u02BC\u02C0\u0125\x93\u02BD\u02BF\r\x07\u02BE\u02BD\u02BF\u02C2\u02C0\u02BE\u02C0\u02C1\u02C1\u02C3\u02C2\u02C0\u02C3\u02C4\x07<\u02C4>\u02C5\u02C6\u0137\x9C\u02C6\u02C7\u012D\x97\u02C7\u02CB\u012F\x98\u02C8\u02CA\r\x07\u02C9\u02C8\u02CA\u02CD\u02CB\u02C9\u02CB\u02CC\u02CC\u02CE\u02CD\u02CB\u02CE\u02CF\x07<\u02CF@\u02D0\u02D1\u013D\x9F\u02D1\u02D2\u011F\x90\u02D2\u02D3\u0119\x8D\u02D3\u02D4\u0133\x9A\u02D4\u02D8\u0119\x8D\u02D5\u02D7\r\x07\u02D6\u02D5\u02D7\u02DA\u02D8\u02D6\u02D8\u02D9\u02D9\u02DB\u02DA\u02D8\u02DB\u02DC\x07<\u02DCB\u02DD\u02DE\u0111\x89\u02DE\u02DF\u0127\x94\u02DF\u02E0\u0127\x94\u02E0D\u02E1\u02E2\u0111\x89\u02E2\u02E3\u012B\x96\u02E3\u02E4\u0117\x8C\u02E4F\u02E5\u02E6\u0111\x89\u02E6\u02E7\u0135\x9B\u02E7H\u02E8\u02E9\u0111\x89\u02E9\u02EA\u0135\x9B\u02EA\u02EB\u0115\x8B\u02EBJ\u02EC\u02ED\u0111\x89\u02ED\u02EE\u013B\x9E\u02EE\u02EF\u011D\x8F\u02EFL\u02F0\u02F1\u0113\x8A\u02F1\u02F2\u012D\x97\u02F2\u02F3\u012D\x97\u02F3\u02F4\u0127\x94\u02F4\u02F5\u0119\x8D\u02F5\u02F6\u0111\x89\u02F6\u02F7\u012B\x96\u02F7N\u02F8\u02F9\u0113\x8A\u02F9\u02FA\u0141\xA1\u02FAP\u02FB\u02FC\u0115\x8B\u02FC\u02FD\u0111\x89\u02FD\u02FE\u0135\x9B\u02FE\u02FF\u0119\x8D\u02FFR\u0300\u0301\u0115\x8B\u0301\u0302\u0111\x89\u0302\u0303\u0135\x9B\u0303\u0304\u0137\x9C\u0304T\u0305\u0306\u0115\x8B\u0306\u0307\u012D\x97\u0307\u0308\u012B\x96\u0308\u0309\u0117\x8C\u0309\u030A\u0121\x91\u030A\u030B\u0137\x9C\u030B\u030C\u0121\x91\u030C\u030D\u012D\x97\u030D\u030E\u012B\x96\u030EV\u030F\u0310\u0115\x8B\u0310\u0311\u012D\x97\u0311\u0312\u0139\x9D\u0312\u0313\u012B\x96\u0313\u0314\u0137\x9C\u0314X\u0315\u0316\u0117\x8C\u0316\u0317\u0111\x89\u0317\u0318\u0137\x9C\u0318\u0319\u0119\x8D\u0319Z\u031A\u031B\u0117\x8C\u031B\u031C\u0111\x89\u031C\u031E\u0141\xA1\u031D\u031F\u0135\x9B\u031E\u031D\u031E\u031F\u031F\\\u0320\u0321\u0117\x8C\u0321\u0322\u0119\x8D\u0322\u0323\u0135\x9B\u0323\u0324\u0115\x8B\u0324^\u0325\u0326\u0117\x8C\u0326\u0327\u0121\x91\u0327\u0328\u0135\x9B\u0328\u0329\u0137\x9C\u0329\u032A\u0121\x91\u032A\u032B\u012B\x96\u032B\u032C\u0115\x8B\u032C\u032D\u0137\x9C\u032D\`\u032E\u032F\u0119\x8D\u032F\u0330\u0127\x94\u0330\u0331\u0135\x9B\u0331\u0332\u0119\x8D\u0332b\u0333\u0334\u0119\x8D\u0334\u0335\u012B\x96\u0335\u0336\u0117\x8C\u0336d\u0337\u0338\u0119\x8D\u0338\u0339\u013F\xA0\u0339\u033A\u0115\x8B\u033A\u033B\u0127\x94\u033B\u033C\u0139\x9D\u033C\u033D\u0117\x8C\u033D\u033E\u0119\x8D\u033Ef\u033F\u0340\u011B\x8E\u0340\u0341\u0111\x89\u0341\u0342\u0127\x94\u0342\u0343\u0135\x9B\u0343\u0344\u0119\x8D\u0344h\u0345\u0346\u011B\x8E\u0346\u0347\u012D\x97\u0347\u0348\u0133\x9A\u0348j\u0349\u034A\u011B\x8E\u034A\u034B\u0133\x9A\u034B\u034C\u012D\x97\u034C\u034D\u0129\x95\u034Dl\u034E\u034F\u011B\x8E\u034F\u0350\u0133\x9A\u0350\u0351\u012D\x97\u0351\u0352\u0129\x95\u0352\u0353\x07a\u0353\u0354\u0135\x9B\u0354\u0355\u0131\x99\u0355\u0356\u0127\x94\u0356n\u0357\u0358\u011F\x90\u0358\u0359\u0111\x89\u0359\u035A\u0135\x9B\u035Ap\u035B\u035C\u011F\x90\u035C\u035D\u012D\x97\u035D\u035E\u0139\x9D\u035E\u0360\u0133\x9A\u035F\u0361\u0135\x9B\u0360\u035F\u0360\u0361\u0361r\u0362\u0363\u0121\x91\u0363\u0364\u0129\x95\u0364\u0365\u012F\x98\u0365\u0366\u012D\x97\u0366\u0367\u0133\x9A\u0367\u0368\u0137\x9C\u0368t\u0369\u036A\u0121\x91\u036A\u036B\u0135\x9B\u036Bv\u036C\u036D\u0123\x92\u036D\u036E\u0135\x9B\u036E\u036F\u012D\x97\u036F\u0370\u012B\x96\u0370x\u0371\u0372\u0127\x94\u0372\u0373\u0111\x89\u0373\u0374\u0135\x9B\u0374\u0375\u0137\x9C\u0375z\u0376\u0377\u0129\x95\u0377\u0378\u0111\x89\u0378\u0379\u013F\xA0\u0379|\u037A\u037B\u0129\x95\u037B\u037C\u0121\x91\u037C\u037D\u012B\x96\u037D~\u037E\u037F\u0129\x95\u037F\u0380\u0121\x91\u0380\u0381\u012B\x96\u0381\u0382\u0139\x9D\u0382\u0383\u0137\x9C\u0383\u0385\u0119\x8D\u0384\u0386\u0135\x9B\u0385\u0384\u0385\u0386\u0386\x80\u0387\u0388\u0129\x95\u0388\u0389\u012D\x97\u0389\u038A\u012B\x96\u038A\u038B\u0137\x9C\u038B\u038D\u011F\x90\u038C\u038E\u0135\x9B\u038D\u038C\u038D\u038E\u038E\x82\u038F\u0390\u012B\x96\u0390\u0391\u012D\x97\u0391\u0392\u0137\x9C\u0392\x84\u0393\u0394\u012B\x96\u0394\u0395\u012D\x97\u0395\u0396\u013D\x9F\u0396\x86\u0397\u0398\u012B\x96\u0398\u0399\u0139\x9D\u0399\u039A\u0127\x94\u039A\u039B\u0127\x94\u039B\x88\u039C\u039D\u012B\x96\u039D\u039E\u0139\x9D\u039E\u039F\u0129\x95\u039F\u03A0\u0113\x8A\u03A0\u03A1\u0119\x8D\u03A1\u03A2\u0133\x9A\u03A2\x8A\u03A3\u03A4\u012D\x97\u03A4\u03A5\u012B\x96\u03A5\x8C\u03A6\u03A7\u012D\x97\u03A7\u03A8\u0133\x9A\u03A8\x8E\u03A9\u03AA\u012F\x98\u03AA\u03AB\u0121\x91\u03AB\u03AC\u0115\x8B\u03AC\u03AD\u0125\x93\u03AD\x90\u03AE\u03AF\x07A\u03AF\x92\u03B0\u03B1\u0131\x99\u03B1\u03B2\u0139\x9D\u03B2\u03B3\u0111\x89\u03B3\u03B4\u0133\x9A\u03B4\u03B5\u0137\x9C\u03B5\u03B6\u0119\x8D\u03B6\u03B8\u0133\x9A\u03B7\u03B9\u0135\x9B\u03B8\u03B7\u03B8\u03B9\u03B9\x94\u03BA\u03BB\u0135\x9B\u03BB\u03BC\u0119\x8D\u03BC\u03BD\u0115\x8B\u03BD\u03BE\u012D\x97\u03BE\u03BF\u012B\x96\u03BF\u03C1\u0117\x8C\u03C0\u03C2\u0135\x9B\u03C1\u03C0\u03C1\u03C2\u03C2\x96\u03C3\u03C4\u0135\x9B\u03C4\u03C5\u0137\x9C\u03C5\u03C6\u0133\x9A\u03C6\u03C7\u0121\x91\u03C7\u03C8\u012B\x96\u03C8\u03C9\u011D\x8F\u03C9\x98\u03CA\u03CB\u0135\x9B\u03CB\u03CC\u0139\x9D\u03CC\u03CD\u0129\x95\u03CD\x9A\u03CE\u03CF\u0137\x9C\u03CF\u03D0\u0111\x89\u03D0\u03D1\u0113\x8A\u03D1\u03D2\u0127\x94\u03D2\u03D3\u0119\x8D\u03D3\x9C\u03D4\u03D5\u0137\x9C\u03D5\u03D6\u011F\x90\u03D6\u03D7\u0119\x8D\u03D7\u03D8\u012B\x96\u03D8\x9E\u03D9\u03DA\u0137\x9C\u03DA\u03DB\u011F\x90\u03DB\u03DC\u0121\x91\u03DC\u03DD\u0135\x9B\u03DD\xA0\u03DE\u03DF\u0137\x9C\u03DF\u03E0\u0121\x91\u03E0\u03E1\u0129\x95\u03E1\u03E2\u0119\x8D\u03E2\u03E3\u0135\x9B\u03E3\u03E4\u0137\x9C\u03E4\u03E5\u0111\x89\u03E5\u03E6\u0129\x95\u03E6\u03E7\u012F\x98\u03E7\xA2\u03E8\u03E9\u0137\x9C\u03E9\u03EA\u012D\x97\u03EA\xA4\u03EB\u03EC\u0137\x9C\u03EC\u03ED\u0133\x9A\u03ED\u03EE\u0139\x9D\u03EE\u03EF\u0119\x8D\u03EF\xA6\u03F0\u03F1\u0137\x9C\u03F1\u03F2\u0139\x9D\u03F2\u03F3\u0133\x9A\u03F3\u03F4\u0137\x9C\u03F4\u03F5\u0127\x94\u03F5\u03F6\u0119\x8D\u03F6\xA8\u03F7\u03F8\u013D\x9F\u03F8\u03F9\u0119\x8D\u03F9\u03FA\u0119\x8D\u03FA\u03FC\u0125\x93\u03FB\u03FD\u0135\x9B\u03FC\u03FB\u03FC\u03FD\u03FD\xAA\u03FE\u03FF\u013D\x9F\u03FF\u0400\u011F\x90\u0400\u0401\u0119\x8D\u0401\u0402\u012B\x96\u0402\xAC\u0403\u0404\u013D\x9F\u0404\u0405\u0121\x91\u0405\u0406\u0137\x9C\u0406\u0407\u011F\x90\u0407\xAE\u0408\u0409\u0141\xA1\u0409\u040A\u0119\x8D\u040A\u040B\u0111\x89\u040B\u040D\u0133\x9A\u040C\u040E\u0135\x9B\u040D\u040C\u040D\u040E\u040E\xB0\u040F\u0410\u0139\x9D\u0410\u0411\u012B\x96\u0411\u0412\u011D\x8F\u0412\u0413\u0133\x9A\u0413\u0414\u012D\x97\u0414\u0415\u0139\x9D\u0415\u0416\u012F\x98\u0416\u0417\u0119\x8D\u0417\u0418\u0117\x8C\u0418\xB2\u0419\u041A\x07^\u041A\u0420\x07)\u041B\u041C\x07^\u041C\u0420\x07^\u041D\u041E\x07^\u041E\u0420\v\u041F\u0419\u041F\u041B\u041F\u041D\u0420\xB4\u0421\u0423	\u0422\u0421\u0423\u0424\u0424\u0429\x07)\u0425\u0428\xB3Z\u0426\u0428
\x07\u0427\u0425\u0427\u0426\u0428\u042B\u0429\u0427\u0429\u042A\u042A\u042C\u042B\u0429\u042C\u042D\x07)\u042D\xB6\u042E\u0433\x07)\u042F\u0432\xB3Z\u0430\u0432
\x07\u0431\u042F\u0431\u0430\u0432\u0435\u0433\u0431\u0433\u0434\u0434\u0436\u0435\u0433\u0436\u0437\x07)\u0437\xB8\u0438\u0439\x07(\u0439\xBA\u043A\u043B\x07/\u043B\u043C\x07@\u043C\xBC\u043D\u043E\x07?\u043E\u043F\x07@\u043F\xBE\u0440\u0441\x07*\u0441\xC0\u0442\u0443\x07+\u0443\xC2\u0444\u0445\x07]\u0445\xC4\u0446\u0447\x07_\u0447\xC6\u0448\u0449\x07}\u0449\xC8\u044A\u044B\x07\x7F\u044B\xCA\u044C\u044D\x07<\u044D\u044E\x07<\u044E\xCC\u044F\u0450\x07<\u0450\xCE\u0451\u0452\x07.\u0452\xD0\u0453\u0454\x070\u0454\xD2\u0455\u0456\x07>\u0456\xD4\u0457\u0458\x07@\u0458\xD6\u0459\u045A\x07?\u045A\xD8\u045B\u045C\x07#\u045C\u045D\x07?\u045D\xDA\u045E\u045F\x07>\u045F\u0460\x07?\u0460\xDC\u0461\u0462\x07@\u0462\u0463\x07?\u0463\xDE\u0464\u0465\x07-\u0465\xE0\u0466\u0467\x07/\u0467\xE2\u0468\u0469\x07,\u0469\xE4\u046A\u046B\x07,\u046B\u046C\x07,\u046C\xE6\u046D\u046E\x071\u046E\xE8\u046F\u0470\x07~\u0470\xEA\u0471\u0472\x07=\u0472\xEC\u0473\u0474\x07#\u0474\u0475\x07\x80\u0475\xEE\u0476\u0477\x07\x80\u0477\xF0\u0478\u0479\u010F\x88\u0479\u047A\u010F\x88\u047A\u047B\u010F\x88\u047B\u047C\u010F\x88\u047C\xF2\u047D\u047E\u010F\x88\u047E\u047F\u010F\x88\u047F\xF4\u0480\u0481\x07/\u0481\u0484\x07Z\u0482\u0485\u010D\x87\u0483\u0485\u010F\x88\u0484\u0482\u0484\u0483\u0485\u0486\u0486\u0484\u0486\u0487\u0487\xF6\u0488\u0489\x07B\u0489\u048A\xF1y\u048A\u048B\x07/\u048B\u048C\xF3z\u048C\u048D\x07/\u048D\u048E\xF3z\u048E\u048F\x07"\u048F\u0490\xF3z\u0490\u0491\x07<\u0491\u0494\xF3z\u0492\u0493\x07<\u0493\u0495\xF3z\u0494\u0492\u0494\u0495\u0495\u0497\u0496\u0498\xF5{\u0497\u0496\u0497\u0498\u0498\xF8\u0499\u049A\x07B\u049A\u049B\xF1y\u049B\u049C\x07/\u049C\u049D\xF3z\u049D\u049E\x07/\u049E\u04A0\xF3z\u049F\u04A1\xF5{\u04A0\u049F\u04A0\u04A1\u04A1\xFA\u04A2\u04A3\x07B\u04A3\u04A4\xF1y\u04A4\u04A5\x07/\u04A5\u04A6\x07S\u04A6\u04A836\u04A7\u04A9\xF5{\u04A8\u04A7\u04A8\u04A9\u04A9\xFC\u04AA\u04AB\x07B\u04AB\u04AC\xF1y\u04AC\u04AD\x07/\u04AD\u04AF\xF3z\u04AE\u04B0\xF5{\u04AF\u04AE\u04AF\u04B0\u04B0\xFE\u04B1\u04B2\x07B\u04B2\u04B3\u013D\x9F\u04B3\u04B4\u0125\x93\u04B4\u04B5\xF1y\u04B5\u04B6\x07/\u04B6\u04B7\xF3z\u04B7\u04B8\x07/\u04B8\u04BA\xF3z\u04B9\u04BB\xF5{\u04BA\u04B9\u04BA\u04BB\u04BB\u0100\u04BC\u04BD\x07B\u04BD\u04BF\xF1y\u04BE\u04C0\xF5{\u04BF\u04BE\u04BF\u04C0\u04C0\u0102\u04C1\u04C6\u010D\x87\u04C2\u04C5\u010D\x87\u04C3\u04C5\u010F\x88\u04C4\u04C2\u04C4\u04C3\u04C5\u04C8\u04C6\u04C4\u04C6\u04C7\u04C7\u0104\u04C8\u04C6\u04C9\u04CB\u010F\x88\u04CA\u04C9\u04CB\u04CC\u04CC\u04CA\u04CC\u04CD\u04CD\u04CE\u04CE\u04CF\x07'\u04CF\u0106\u04D0\u04D2\u010F\x88\u04D1\u04D0\u04D2\u04D3\u04D3\u04D1\u04D3\u04D4\u04D4\u0108\u04D5\u04D7\u010F\x88\u04D6\u04D5\u04D7\u04D8\u04D8\u04D6\u04D8\u04D9\u04D9\u04E1\u04DA\u04DE\xD1i\u04DB\u04DD\u010F\x88\u04DC\u04DB\u04DD\u04E0\u04DE\u04DC\u04DE\u04DF\u04DF\u04E2\u04E0\u04DE\u04E1\u04DA\u04E1\u04E2\u04E2\u04F5\u04E3\u04E5\xD1i\u04E4\u04E6\u010F\x88\u04E5\u04E4\u04E6\u04E7\u04E7\u04E5\u04E7\u04E8\u04E8\u04F2\u04E9\u04EB\u0119\x8D\u04EA\u04EC	\b\u04EB\u04EA\u04EB\u04EC\u04EC\u04EE\u04ED\u04EF\u010F\x88\u04EE\u04ED\u04EF\u04F0\u04F0\u04EE\u04F0\u04F1\u04F1\u04F3\u04F2\u04E9\u04F2\u04F3\u04F3\u04F5\u04F4\u04D6\u04F4\u04E3\u04F5\u010A\u04F6\u04F7\x07b\u04F7\u04FD\u010D\x87\u04F8\u04FC\u010D\x87\u04F9\u04FC\u010F\x88\u04FA\u04FC\r\x07\u04FB\u04F8\u04FB\u04F9\u04FB\u04FA\u04FC\u04FF\u04FD\u04FB\u04FD\u04FE\u04FE\u0500\u04FF\u04FD\u0500\u0501\x07b\u0501\u010C\u0502\u0503	%\u0503\u010E\u0504\u0505		\u0505\u0110\u0506\u0507	
\u0507\u0112\u0508\u0509	\v\u0509\u0114\u050A\u050B	\f\u050B\u0116\u050C\u050D	\r\u050D\u0118\u050E\u050F	\u050F\u011A\u0510\u0511	\u0511\u011C\u0512\u0513	\u0513\u011E\u0514\u0515	\u0515\u0120\u0516\u0517	\u0517\u0122\u0518\u0519	\u0519\u0124\u051A\u051B	\u051B\u0126\u051C\u051D	\u051D\u0128\u051E\u051F	\u051F\u012A\u0520\u0521	\u0521\u012C\u0522\u0523	\u0523\u012E\u0524\u0525	\u0525\u0130\u0526\u0527	\u0527\u0132\u0528\u0529	\x1B\u0529\u0134\u052A\u052B	\u052B\u0136\u052C\u052D	\u052D\u0138\u052E\u052F	\u052F\u013A\u0530\u0531	\u0531\u013C\u0532\u0533	 \u0533\u013E\u0534\u0535	!\u0535\u0140\u0536\u0537	"\u0537\u0142\u0538\u0539	#\u0539\u0144\u053A\u053B\x071\u053B\u053C\x07,\u053C\u0540\u053D\u053F\v\u053E\u053D\u053F\u0542\u0540\u0541\u0540\u053E\u0541\u0543\u0542\u0540\u0543\u0544\x07,\u0544\u0545\x071\u0545\u0546\u0546\u0547\b\xA3\u0547\u0146\u0548\u0549\x07/\u0549\u054D\x07/\u054A\u054B\x071\u054B\u054D\x071\u054C\u0548\u054C\u054A\u054D\u0551\u054E\u0550
$\u054F\u054E\u0550\u0553\u0551\u054F\u0551\u0552\u0552\u0559\u0553\u0551\u0554\u0556\x07\u0555\u0554\u0555\u0556\u0556\u0557\u0557\u055A\x07\f\u0558\u055A\x07\u0559\u0555\u0559\u0558\u055A\u055B\u055B\u055C\b\xA4\u055C\u0148\u055D\u055E\r\x07\u055E\u055F\u055F\u0560\b\xA5\u0560\u014A\u0561\u0562\x07~\u0562\u0563\x07~\u0563\u0567\u0564\u0566\v\u0565\u0564\u0566\u0569\u0567\u0568\u0567\u0565\u0568\u056A\u0569\u0567\u056A\u056B\x07=\u056B\u056C\x07=\u056C\u014C\u056D\u056F\u010F\x88\u056E\u056D\u056F\u0570\u0570\u056E\u0570\u0571\u0571\u0573\u0572\u0574\u010D\x87\u0573\u0572\u0574\u0575\u0575\u0573\u0575\u0576\u0576\u057B\u0577\u057A\u010D\x87\u0578\u057A\u010F\x88\u0579\u0577\u0579\u0578\u057A\u057D\u057B\u0579\u057B\u057C\u057C\u014E\u057D\u057B\u057E\u057F\v\u057F\u0150M\u0154\u0156\u015E\u0175\u0186\u01A0\u01AE\u01BD\u01CD\u01DB\u01E8\u0204\u0215\u0222\u0231\u023D\u024D\u0260\u026F\u027C\u028A\u0298\u02A6\u02B1\u02C0\u02CB\u02D8\u031E\u0360\u0385\u038D\u03B8\u03C1\u03FC\u040D\u041F\u0422\u0427\u0429\u0431\u0433\u0484\u0486\u0494\u0497\u04A0\u04A8\u04AF\u04BA\u04BF\u04C4\u04C6\u04CC\u04D3\u04D8\u04DE\u04E1\u04E7\u04EB\u04F0\u04F2\u04F4\u04FB\u04FD\u0540\u054C\u0551\u0555\u0559\u0567\u0570\u0575\u0579\u057B\b`;nr._serializedATNSegment3="";nr._serializedATN=Gbe.join([nr._serializedATNSegment0,nr._serializedATNSegment1,nr._serializedATNSegment2,nr._serializedATNSegment3],"")});var Sie=Ae(kt=>{"use strict";m();var Sut=kt&&kt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),wut=kt&&kt.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Cut=kt&&kt.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Sut(e,n,t);return wut(e,n),e};Object.defineProperty(kt,"__esModule",{value:!0});kt.ExploreRenameDefContext=kt.RenameListContext=kt.DefExploreQueryContext=kt.DefExploreEditFieldContext=kt.DefExploreRenameContext=kt.DefExplorePrimaryKeyContext=kt.DefExploreWhereContext=kt.DefJoin_stubContext=kt.DefDeclare_stubContext=kt.DefExploreMeasureContext=kt.DefExploreDimensionContext=kt.ExploreStatementContext=kt.ExplorePropertiesContext=kt.ExploreNameContext=kt.ExploreNameDefContext=kt.SQLSourceContext=kt.QuerySourceContext=kt.TableSourceContext=kt.NamedSourceContext=kt.ExploreSourceContext=kt.ExploreContext=kt.ExploreDefinitionContext=kt.ExploreDefinitionListContext=kt.QueryNameContext=kt.ExploreQueryNameContext=kt.FilterShortcutContext=kt.QueryPropertiesContext=kt.ExploreTableContext=kt.PipeElementContext=kt.FirstSegmentContext=kt.PipelineFromNameContext=kt.ArrowQueryContext=kt.ExploreArrowQueryContext=kt.QueryContext=kt.RefineOperatorContext=kt.TopLevelQueryDefContext=kt.TopLevelQueryDefsContext=kt.ImportURLContext=kt.ImportStatementContext=kt.SqlStatementDefContext=kt.DefineSQLStatementContext=kt.TopLevelAnonQueryDefContext=kt.AnonymousQueryContext=kt.NamedQueries_stubContext=kt.DefineQueryContext=kt.ExploreKeywordContext=kt.DefineExploreStatementContext=kt.MalloyStatementContext=kt.MalloyDocumentContext=kt.MalloyParser=void 0;kt.SampleStatementContext=kt.IndexStatementContext=kt.IndexFieldsContext=kt.IndexElementContext=kt.TopStatementContext=kt.BySpecContext=kt.LimitStatementContext=kt.OrderBySpecContext=kt.OrderingContext=kt.OrderByStatementContext=kt.ProjectStatementContext=kt.AggregateStatementContext=kt.NestDefContext=kt.NestExistingContext=kt.NestEntryContext=kt.NestedQueryListContext=kt.NestStatementContext=kt.QueryFieldDefContext=kt.QueryFieldRefContext=kt.QueryFieldEntryContext=kt.DimensionDefContext=kt.QueryFieldListContext=kt.GroupByStatementContext=kt.QueryStatementContext=kt.ExploreQueryDefContext=kt.ExploreQueryNameDefContext=kt.SubQueryDefListContext=kt.HavingStatementContext=kt.WhereStatementContext=kt.FilterClauseListContext=kt.FilterByWhereContext=kt.FilterByShortcutContext=kt.FilteredByContext=kt.FilterStatementContext=kt.JoinExpressionContext=kt.JoinOnContext=kt.JoinWithContext=kt.JoinDefContext=kt.JoinListContext=kt.DefJoinCrossContext=kt.DefJoinManyContext=kt.DefJoinOneContext=kt.JoinStatementContext=kt.DeclareStatementContext=kt.MeasureDefContext=kt.JoinNameDefContext=kt.FieldNameDefContext=kt.FieldDefContext=kt.MeasureDefListContext=kt.DimensionDefListContext=void 0;kt.ExprNotPartialContext=kt.ExprPartialCompareContext=kt.PartialAllowedFieldExprContext=kt.ExprUngroupContext=kt.ExprPickContext=kt.ExprFuncContext=kt.ExprExprContext=kt.ExprAggregateContext=kt.ExprCountDisinctContext=kt.ExprCastContext=kt.ExprLogicalContext=kt.ExprNotContext=kt.ExprApplyContext=kt.ExprCompareContext=kt.ExprLogicalTreeContext=kt.ExprForRangeContext=kt.ExprRangeContext=kt.ExprAddSubContext=kt.ExprMulDivContext=kt.ExprSafeCastContext=kt.ExprTimeTruncContext=kt.ExprDurationContext=kt.ExprMinusContext=kt.ExprLiteralContext=kt.ExprFilterContext=kt.ExprFieldPathContext=kt.FieldExprContext=kt.UngroupContext=kt.TimeframeContext=kt.IdContext=kt.TableNameContext=kt.LiteralYearContext=kt.LiteralQuarterContext=kt.LiteralMonthContext=kt.LiteralWeekContext=kt.LiteralDayContext=kt.LiteralTimestampContext=kt.DateLiteralContext=kt.ExprNowContext=kt.ExprRegexContext=kt.ExprBoolContext=kt.ExprNULLContext=kt.ExprTimeContext=kt.ExprNumberContext=kt.ExprStringContext=kt.LiteralContext=kt.CompareOpContext=kt.MalloyTypeContext=kt.AggregateContext=kt.SampleSpecContext=void 0;kt.ConnectionNameContext=kt.SqlCommandNameDefContext=kt.SqlExploreNameRefContext=kt.JsonArrayContext=kt.JsonPropertyContext=kt.JsonObjectContext=kt.JsonValueContext=kt.JsonContext=kt.JustExprContext=kt.FieldNameContext=kt.JoinNameContext=kt.FieldPathContext=kt.NewMemberContext=kt.WildMemberContext=kt.NameMemberContext=kt.CollectionMemberContext=kt.FieldCollectionContext=kt.FieldNameListContext=kt.ArgumentListContext=kt.PickContext=kt.PickStatementContext=void 0;var Qf=dm(),Aut=rD(),Tut=yF(),yc=YF(),Fut=hS(),$r=n1(),Dut=yS(),Vr=Cg(),hf=ou(),Out=Lg(),Kbe=Cut(fm()),C=class extends Fut.Parser{constructor(e){super(e);this._interp=new Dut.ParserATNSimulator(C._ATN,this)}get vocabulary(){return C.VOCABULARY}get grammarFileName(){return"MalloyParser.g4"}get ruleNames(){return C.ruleNames}get serializedATN(){return C._serializedATN}createFailedPredicateException(e,t){return new Tut.FailedPredicateException(this,e,t)}malloyDocument(){let e=new rre(this._ctx,this.state);this.enterRule(e,0,C.RULE_malloyDocument);let t;try{this.enterOuterAlt(e,1);{for(this.state=206,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<C.EXPLORE|1<<C.QUERY|1<<C.SOURCE|1<<C.SQL))!==0||t===C.IMPORT||t===C.SEMI;){switch(this.state=204,this._errHandler.sync(this),this._input.LA(1)){case C.EXPLORE:case C.QUERY:case C.SOURCE:case C.SQL:case C.IMPORT:this.state=202,this.malloyStatement();break;case C.SEMI:this.state=203,this.match(C.SEMI);break;default:throw new yc.NoViableAltException(this)}this.state=208,this._errHandler.sync(this),t=this._input.LA(1)}this.state=209,this.match(C.EOF)}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyStatement(){let e=new gD(this._ctx,this.state);this.enterRule(e,2,C.RULE_malloyStatement);try{switch(this.state=215,this._errHandler.sync(this),this._input.LA(1)){case C.EXPLORE:case C.SOURCE:this.enterOuterAlt(e,1),this.state=211,this.defineExploreStatement();break;case C.SQL:this.enterOuterAlt(e,2),this.state=212,this.defineSQLStatement();break;case C.QUERY:this.enterOuterAlt(e,3),this.state=213,this.defineQuery();break;case C.IMPORT:this.enterOuterAlt(e,4),this.state=214,this.importStatement();break;default:throw new yc.NoViableAltException(this)}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineExploreStatement(){let e=new Fq(this._ctx,this.state);this.enterRule(e,4,C.RULE_defineExploreStatement);try{this.enterOuterAlt(e,1),this.state=217,this.exploreKeyword(),this.state=218,this.exploreDefinitionList()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreKeyword(){let e=new Dq(this._ctx,this.state);this.enterRule(e,6,C.RULE_exploreKeyword);let t;try{this.enterOuterAlt(e,1),this.state=220,t=this._input.LA(1),t===C.EXPLORE||t===C.SOURCE?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}defineQuery(){let e=new rw(this._ctx,this.state);this.enterRule(e,8,C.RULE_defineQuery);try{switch(this.state=226,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:e=new ire(e),this.enterOuterAlt(e,1),this.state=222,this.match(C.QUERY),this.state=223,this.topLevelQueryDefs();break;case 2:e=new sre(e),this.enterOuterAlt(e,2),this.state=224,this.match(C.QUERY),this.state=225,this.topLevelAnonQueryDef();break}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelAnonQueryDef(){let e=new Oq(this._ctx,this.state);this.enterRule(e,10,C.RULE_topLevelAnonQueryDef);try{this.enterOuterAlt(e,1),this.state=228,this.query()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}defineSQLStatement(){let e=new Rq(this._ctx,this.state);this.enterRule(e,12,C.RULE_defineSQLStatement);try{this.enterOuterAlt(e,1),this.state=230,this.match(C.SQL),this.state=231,this.sqlStatementDef()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sqlStatementDef(){let e=new Nq(this._ctx,this.state);this.enterRule(e,14,C.RULE_sqlStatementDef);let t;try{this.enterOuterAlt(e,1),this.state=236,this._errHandler.sync(this),t=this._input.LA(1),(t===C.IDENTIFIER||t===C.OBJECT_NAME_LITERAL)&&(this.state=233,this.sqlCommandNameDef(),this.state=234,this.match(C.IS)),this.state=238,this.match(C.SQL_STRING),this.state=241,this._errHandler.sync(this),t=this._input.LA(1),t===C.ON&&(this.state=239,this.match(C.ON),this.state=240,this.connectionName())}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}importStatement(){let e=new Lq(this._ctx,this.state);this.enterRule(e,16,C.RULE_importStatement);try{this.enterOuterAlt(e,1),this.state=243,this.match(C.IMPORT),this.state=244,this.importURL()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}importURL(){let e=new kq(this._ctx,this.state);this.enterRule(e,18,C.RULE_importURL);try{this.enterOuterAlt(e,1),this.state=246,this.match(C.JSON_STRING)}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topLevelQueryDefs(){let e=new Iq(this._ctx,this.state);this.enterRule(e,20,C.RULE_topLevelQueryDefs);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=248,this.topLevelQueryDef(),this.state=255,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,7,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=250,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=249,this.match(C.COMMA)),this.state=252,this.topLevelQueryDef()),this.state=257,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,7,this._ctx);this.state=259,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=258,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}topLevelQueryDef(){let e=new yD(this._ctx,this.state);this.enterRule(e,22,C.RULE_topLevelQueryDef);try{this.enterOuterAlt(e,1),this.state=261,this.queryName(),this.state=262,this.match(C.IS),this.state=263,this.query()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}refineOperator(){let e=new E6(this._ctx,this.state);this.enterRule(e,24,C.RULE_refineOperator);try{this.enterOuterAlt(e,1),this.state=265,this.match(C.PLUS)}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}query(){let e=new I5(this._ctx,this.state);this.enterRule(e,26,C.RULE_query);let t;try{switch(this.state=285,this._errHandler.sync(this),this._input.LA(1)){case C.FROM:case C.FROM_SQL:case C.TABLE:case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:e=new ore(e),this.enterOuterAlt(e,1),this.state=267,this.explore(),this.state=268,this.match(C.ARROW),this.state=269,this.pipelineFromName();break;case C.ARROW:for(e=new are(e),this.enterOuterAlt(e,2),this.state=271,this.match(C.ARROW),this.state=272,this.queryName(),this.state=277,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=274,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=273,this.refineOperator()),this.state=276,this.queryProperties()),this.state=282,this._errHandler.sync(this),t=this._input.LA(1);t===C.ARROW;)this.state=279,this.pipeElement(),this.state=284,this._errHandler.sync(this),t=this._input.LA(1);break;default:throw new yc.NoViableAltException(this)}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipelineFromName(){let e=new iw(this._ctx,this.state);this.enterRule(e,28,C.RULE_pipelineFromName);let t;try{for(this.enterOuterAlt(e,1),this.state=287,this.firstSegment(),this.state=291,this._errHandler.sync(this),t=this._input.LA(1);t===C.ARROW;)this.state=288,this.pipeElement(),this.state=293,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}firstSegment(){let e=new Mq(this._ctx,this.state);this.enterRule(e,30,C.RULE_firstSegment);let t;try{switch(this.state=302,this._errHandler.sync(this),this._input.LA(1)){case C.OCURLY:this.enterOuterAlt(e,1),this.state=294,this.queryProperties();break;case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,2),this.state=295,this.exploreQueryName(),this.state=300,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=297,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=296,this.refineOperator()),this.state=299,this.queryProperties());break;default:throw new yc.NoViableAltException(this)}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}pipeElement(){let e=new S6(this._ctx,this.state);this.enterRule(e,32,C.RULE_pipeElement);try{this.enterOuterAlt(e,1),this.state=304,this.match(C.ARROW),this.state=305,this.queryProperties()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreTable(){let e=new Pq(this._ctx,this.state);this.enterRule(e,34,C.RULE_exploreTable);try{this.enterOuterAlt(e,1),this.state=307,this.match(C.TABLE),this.state=308,this.match(C.OPAREN),this.state=309,this.tableName(),this.state=310,this.match(C.CPAREN)}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryProperties(){let e=new w6(this._ctx,this.state);this.enterRule(e,36,C.RULE_queryProperties);let t;try{switch(this.state=322,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,19,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=312,this.filterShortcut();break;case 2:this.enterOuterAlt(e,2);{for(this.state=313,this.match(C.OCURLY),this.state=318,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<C.AGGREGATE|1<<C.DECLARE|1<<C.GROUP_BY|1<<C.HAVING|1<<C.INDEX|1<<C.JOIN_CROSS|1<<C.JOIN_ONE|1<<C.JOIN_MANY|1<<C.LIMIT|1<<C.NEST|1<<C.ORDER_BY|1<<C.PROJECT|1<<C.SAMPLE|1<<C.TOP|1<<C.WHERE))!==0||t===C.SEMI;){switch(this.state=316,this._errHandler.sync(this),this._input.LA(1)){case C.AGGREGATE:case C.DECLARE:case C.GROUP_BY:case C.HAVING:case C.INDEX:case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:case C.LIMIT:case C.NEST:case C.ORDER_BY:case C.PROJECT:case C.SAMPLE:case C.TOP:case C.WHERE:this.state=314,this.queryStatement();break;case C.SEMI:this.state=315,this.match(C.SEMI);break;default:throw new yc.NoViableAltException(this)}this.state=320,this._errHandler.sync(this),t=this._input.LA(1)}this.state=321,this.match(C.CCURLY)}break}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}filterShortcut(){let e=new vD(this._ctx,this.state);this.enterRule(e,38,C.RULE_filterShortcut);try{this.enterOuterAlt(e,1),this.state=324,this.match(C.OCURLY),this.state=325,this.match(C.QMARK),this.state=326,this.fieldExpr(0),this.state=327,this.match(C.CCURLY)}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryName(){let e=new Bq(this._ctx,this.state);this.enterRule(e,40,C.RULE_exploreQueryName);try{this.enterOuterAlt(e,1),this.state=329,this.id()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryName(){let e=new C6(this._ctx,this.state);this.enterRule(e,42,C.RULE_queryName);try{this.enterOuterAlt(e,1),this.state=331,this.id()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreDefinitionList(){let e=new jq(this._ctx,this.state);this.enterRule(e,44,C.RULE_exploreDefinitionList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=333,this.exploreDefinition(),this.state=340,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,21,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=335,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=334,this.match(C.COMMA)),this.state=337,this.exploreDefinition()),this.state=342,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,21,this._ctx);this.state=344,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=343,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreDefinition(){let e=new _D(this._ctx,this.state);this.enterRule(e,46,C.RULE_exploreDefinition);try{this.enterOuterAlt(e,1),this.state=346,this.exploreNameDef(),this.state=347,this.match(C.IS),this.state=348,this.explore()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}explore(){let e=new A6(this._ctx,this.state);this.enterRule(e,48,C.RULE_explore);let t;try{this.enterOuterAlt(e,1),this.state=350,this.exploreSource(),this.state=355,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=352,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=351,this.refineOperator()),this.state=354,this.exploreProperties())}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreSource(){let e=new M5(this._ctx,this.state);this.enterRule(e,50,C.RULE_exploreSource);try{switch(this.state=369,this._errHandler.sync(this),this._input.LA(1)){case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:e=new ure(e),this.enterOuterAlt(e,1),this.state=357,this.exploreName();break;case C.TABLE:e=new lre(e),this.enterOuterAlt(e,2),this.state=358,this.exploreTable();break;case C.FROM:e=new cre(e),this.enterOuterAlt(e,3),this.state=359,this.match(C.FROM),this.state=360,this.match(C.OPAREN),this.state=361,this.query(),this.state=362,this.match(C.CPAREN);break;case C.FROM_SQL:e=new fre(e),this.enterOuterAlt(e,4),this.state=364,this.match(C.FROM_SQL),this.state=365,this.match(C.OPAREN),this.state=366,this.sqlExploreNameRef(),this.state=367,this.match(C.CPAREN);break;default:throw new yc.NoViableAltException(this)}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreNameDef(){let e=new qq(this._ctx,this.state);this.enterRule(e,52,C.RULE_exploreNameDef);try{this.enterOuterAlt(e,1),this.state=371,this.id()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreName(){let e=new Uq(this._ctx,this.state);this.enterRule(e,54,C.RULE_exploreName);try{this.enterOuterAlt(e,1),this.state=373,this.id()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreProperties(){let e=new zq(this._ctx,this.state);this.enterRule(e,56,C.RULE_exploreProperties);let t;try{switch(this.state=385,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,28,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=375,this.match(C.OCURLY),this.state=380,this._errHandler.sync(this),t=this._input.LA(1);(t&~31)===0&&(1<<t&(1<<C.ACCEPT|1<<C.DECLARE|1<<C.DIMENSION|1<<C.EXCEPT|1<<C.JOIN_CROSS|1<<C.JOIN_ONE|1<<C.JOIN_MANY|1<<C.MEASURE|1<<C.PRIMARY_KEY|1<<C.QUERY|1<<C.RENAME|1<<C.WHERE))!==0||t===C.SEMI;){switch(this.state=378,this._errHandler.sync(this),this._input.LA(1)){case C.ACCEPT:case C.DECLARE:case C.DIMENSION:case C.EXCEPT:case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:case C.MEASURE:case C.PRIMARY_KEY:case C.QUERY:case C.RENAME:case C.WHERE:this.state=376,this.exploreStatement();break;case C.SEMI:this.state=377,this.match(C.SEMI);break;default:throw new yc.NoViableAltException(this)}this.state=382,this._errHandler.sync(this),t=this._input.LA(1)}this.state=383,this.match(C.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=384,this.filterShortcut();break}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreStatement(){let e=new fh(this._ctx,this.state);this.enterRule(e,58,C.RULE_exploreStatement);let t;try{switch(this.state=402,this._errHandler.sync(this),this._input.LA(1)){case C.DIMENSION:e=new dre(e),this.enterOuterAlt(e,1),this.state=387,this.match(C.DIMENSION),this.state=388,this.dimensionDefList();break;case C.MEASURE:e=new hre(e),this.enterOuterAlt(e,2),this.state=389,this.match(C.MEASURE),this.state=390,this.measureDefList();break;case C.DECLARE:e=new pre(e),this.enterOuterAlt(e,3),this.state=391,this.declareStatement();break;case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:e=new mre(e),this.enterOuterAlt(e,4),this.state=392,this.joinStatement();break;case C.WHERE:e=new xre(e),this.enterOuterAlt(e,5),this.state=393,this.whereStatement();break;case C.PRIMARY_KEY:e=new gre(e),this.enterOuterAlt(e,6),this.state=394,this.match(C.PRIMARY_KEY),this.state=395,this.fieldName();break;case C.RENAME:e=new yre(e),this.enterOuterAlt(e,7),this.state=396,this.match(C.RENAME),this.state=397,this.renameList();break;case C.ACCEPT:case C.EXCEPT:e=new vre(e),this.enterOuterAlt(e,8),this.state=398,t=this._input.LA(1),t===C.ACCEPT||t===C.EXCEPT?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=399,this.fieldNameList();break;case C.QUERY:e=new _re(e),this.enterOuterAlt(e,9),this.state=400,this.match(C.QUERY),this.state=401,this.subQueryDefList();break;default:throw new yc.NoViableAltException(this)}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}renameList(){let e=new Hq(this._ctx,this.state);this.enterRule(e,60,C.RULE_renameList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=404,this.exploreRenameDef(),this.state=411,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,31,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=406,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=405,this.match(C.COMMA)),this.state=408,this.exploreRenameDef()),this.state=413,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,31,this._ctx);this.state=415,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=414,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreRenameDef(){let e=new bD(this._ctx,this.state);this.enterRule(e,62,C.RULE_exploreRenameDef);try{this.enterOuterAlt(e,1),this.state=417,this.fieldName(),this.state=418,this.match(C.IS),this.state=419,this.fieldName()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}dimensionDefList(){let e=new $q(this._ctx,this.state);this.enterRule(e,64,C.RULE_dimensionDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=421,this.dimensionDef(),this.state=428,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,34,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=423,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=422,this.match(C.COMMA)),this.state=425,this.dimensionDef()),this.state=430,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,34,this._ctx);this.state=432,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=431,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}measureDefList(){let e=new Vq(this._ctx,this.state);this.enterRule(e,66,C.RULE_measureDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=434,this.measureDef(),this.state=441,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,37,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=436,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=435,this.match(C.COMMA)),this.state=438,this.measureDef()),this.state=443,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,37,this._ctx);this.state=445,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=444,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldDef(){let e=new P5(this._ctx,this.state);this.enterRule(e,68,C.RULE_fieldDef);try{this.enterOuterAlt(e,1),this.state=447,this.fieldNameDef(),this.state=448,this.match(C.IS),this.state=449,this.fieldExpr(0)}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldNameDef(){let e=new Wq(this._ctx,this.state);this.enterRule(e,70,C.RULE_fieldNameDef);try{this.enterOuterAlt(e,1),this.state=451,this.id()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinNameDef(){let e=new ED(this._ctx,this.state);this.enterRule(e,72,C.RULE_joinNameDef);try{this.enterOuterAlt(e,1),this.state=453,this.id()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}measureDef(){let e=new SD(this._ctx,this.state);this.enterRule(e,74,C.RULE_measureDef);try{this.enterOuterAlt(e,1),this.state=455,this.fieldDef()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}declareStatement(){let e=new wD(this._ctx,this.state);this.enterRule(e,76,C.RULE_declareStatement);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=457,this.match(C.DECLARE),this.state=458,this.fieldDef(),this.state=465,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,40,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=460,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=459,this.match(C.COMMA)),this.state=462,this.fieldDef()),this.state=467,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,40,this._ctx);this.state=469,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=468,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinStatement(){let e=new B5(this._ctx,this.state);this.enterRule(e,78,C.RULE_joinStatement);try{switch(this.state=477,this._errHandler.sync(this),this._input.LA(1)){case C.JOIN_ONE:e=new bre(e),this.enterOuterAlt(e,1),this.state=471,this.match(C.JOIN_ONE),this.state=472,this.joinList();break;case C.JOIN_MANY:e=new Ere(e),this.enterOuterAlt(e,2),this.state=473,this.match(C.JOIN_MANY),this.state=474,this.joinList();break;case C.JOIN_CROSS:e=new Sre(e),this.enterOuterAlt(e,3),this.state=475,this.match(C.JOIN_CROSS),this.state=476,this.joinList();break;default:throw new yc.NoViableAltException(this)}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinList(){let e=new sw(this._ctx,this.state);this.enterRule(e,80,C.RULE_joinList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=479,this.joinDef(),this.state=486,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,44,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=481,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=480,this.match(C.COMMA)),this.state=483,this.joinDef()),this.state=488,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,44,this._ctx);this.state=490,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=489,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinDef(){let e=new T6(this._ctx,this.state);this.enterRule(e,82,C.RULE_joinDef);let t;try{switch(this.state=509,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,49,this._ctx)){case 1:e=new wre(e),this.enterOuterAlt(e,1),this.state=492,this.joinNameDef(),this.state=495,this._errHandler.sync(this),t=this._input.LA(1),t===C.IS&&(this.state=493,this.match(C.IS),this.state=494,this.explore()),this.state=497,this.match(C.WITH),this.state=498,this.fieldExpr(0);break;case 2:e=new Cre(e),this.enterOuterAlt(e,2),this.state=500,this.joinNameDef(),this.state=503,this._errHandler.sync(this),t=this._input.LA(1),t===C.IS&&(this.state=501,this.match(C.IS),this.state=502,this.explore()),this.state=507,this._errHandler.sync(this),t=this._input.LA(1),t===C.ON&&(this.state=505,this.match(C.ON),this.state=506,this.joinExpression());break}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}joinExpression(){let e=new Qq(this._ctx,this.state);this.enterRule(e,84,C.RULE_joinExpression);try{this.enterOuterAlt(e,1),this.state=511,this.fieldExpr(0)}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterStatement(){let e=new Are(this._ctx,this.state);this.enterRule(e,86,C.RULE_filterStatement);try{switch(this.state=515,this._errHandler.sync(this),this._input.LA(1)){case C.WHERE:this.enterOuterAlt(e,1),this.state=513,this.whereStatement();break;case C.HAVING:this.enterOuterAlt(e,2),this.state=514,this.havingStatement();break;default:throw new yc.NoViableAltException(this)}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filteredBy(){let e=new ow(this._ctx,this.state);this.enterRule(e,88,C.RULE_filteredBy);try{switch(this.state=520,this._errHandler.sync(this),this._input.LA(1)){case C.QMARK:e=new Tre(e),this.enterOuterAlt(e,1),this.state=517,this.match(C.QMARK),this.state=518,this.fieldExpr(0);break;case C.WHERE:e=new Fre(e),this.enterOuterAlt(e,2),this.state=519,this.whereStatement();break;default:throw new yc.NoViableAltException(this)}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}filterClauseList(){let e=new CD(this._ctx,this.state);this.enterRule(e,90,C.RULE_filterClauseList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=522,this.fieldExpr(0),this.state=527,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,52,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=523,this.match(C.COMMA),this.state=524,this.fieldExpr(0)),this.state=529,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,52,this._ctx);this.state=531,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=530,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}whereStatement(){let e=new F6(this._ctx,this.state);this.enterRule(e,92,C.RULE_whereStatement);try{this.enterOuterAlt(e,1),this.state=533,this.match(C.WHERE),this.state=534,this.filterClauseList()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}havingStatement(){let e=new AD(this._ctx,this.state);this.enterRule(e,94,C.RULE_havingStatement);try{this.enterOuterAlt(e,1),this.state=536,this.match(C.HAVING),this.state=537,this.filterClauseList()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}subQueryDefList(){let e=new Gq(this._ctx,this.state);this.enterRule(e,96,C.RULE_subQueryDefList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=539,this.exploreQueryDef(),this.state=546,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,55,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=541,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=540,this.match(C.COMMA)),this.state=543,this.exploreQueryDef()),this.state=548,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,55,this._ctx);this.state=550,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=549,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}exploreQueryNameDef(){let e=new Yq(this._ctx,this.state);this.enterRule(e,98,C.RULE_exploreQueryNameDef);try{this.enterOuterAlt(e,1),this.state=552,this.id()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}exploreQueryDef(){let e=new TD(this._ctx,this.state);this.enterRule(e,100,C.RULE_exploreQueryDef);try{this.enterOuterAlt(e,1),this.state=554,this.exploreQueryNameDef(),this.state=555,this.match(C.IS),this.state=556,this.pipelineFromName()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryStatement(){let e=new FD(this._ctx,this.state);this.enterRule(e,102,C.RULE_queryStatement);try{switch(this.state=571,this._errHandler.sync(this),this._input.LA(1)){case C.GROUP_BY:this.enterOuterAlt(e,1),this.state=558,this.groupByStatement();break;case C.DECLARE:this.enterOuterAlt(e,2),this.state=559,this.declareStatement();break;case C.JOIN_CROSS:case C.JOIN_ONE:case C.JOIN_MANY:this.enterOuterAlt(e,3),this.state=560,this.joinStatement();break;case C.PROJECT:this.enterOuterAlt(e,4),this.state=561,this.projectStatement();break;case C.INDEX:this.enterOuterAlt(e,5),this.state=562,this.indexStatement();break;case C.AGGREGATE:this.enterOuterAlt(e,6),this.state=563,this.aggregateStatement();break;case C.TOP:this.enterOuterAlt(e,7),this.state=564,this.topStatement();break;case C.LIMIT:this.enterOuterAlt(e,8),this.state=565,this.limitStatement();break;case C.ORDER_BY:this.enterOuterAlt(e,9),this.state=566,this.orderByStatement();break;case C.WHERE:this.enterOuterAlt(e,10),this.state=567,this.whereStatement();break;case C.HAVING:this.enterOuterAlt(e,11),this.state=568,this.havingStatement();break;case C.NEST:this.enterOuterAlt(e,12),this.state=569,this.nestStatement();break;case C.SAMPLE:this.enterOuterAlt(e,13),this.state=570,this.sampleStatement();break;default:throw new yc.NoViableAltException(this)}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}groupByStatement(){let e=new Kq(this._ctx,this.state);this.enterRule(e,104,C.RULE_groupByStatement);try{this.enterOuterAlt(e,1),this.state=573,this.match(C.GROUP_BY),this.state=574,this.queryFieldList()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldList(){let e=new DD(this._ctx,this.state);this.enterRule(e,106,C.RULE_queryFieldList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=576,this.queryFieldEntry(),this.state=583,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,59,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=578,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=577,this.match(C.COMMA)),this.state=580,this.queryFieldEntry()),this.state=585,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,59,this._ctx);this.state=587,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=586,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dimensionDef(){let e=new aw(this._ctx,this.state);this.enterRule(e,108,C.RULE_dimensionDef);try{this.enterOuterAlt(e,1),this.state=589,this.fieldDef()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}queryFieldEntry(){let e=new D6(this._ctx,this.state);this.enterRule(e,110,C.RULE_queryFieldEntry);try{switch(this.state=593,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,61,this._ctx)){case 1:e=new Dre(e),this.enterOuterAlt(e,1),this.state=591,this.fieldPath();break;case 2:e=new Ore(e),this.enterOuterAlt(e,2),this.state=592,this.dimensionDef();break}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestStatement(){let e=new Jq(this._ctx,this.state);this.enterRule(e,112,C.RULE_nestStatement);try{this.enterOuterAlt(e,1),this.state=595,this.match(C.NEST),this.state=596,this.nestedQueryList()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}nestedQueryList(){let e=new Xq(this._ctx,this.state);this.enterRule(e,114,C.RULE_nestedQueryList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=598,this.nestEntry(),this.state=605,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,63,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=600,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=599,this.match(C.COMMA)),this.state=602,this.nestEntry()),this.state=607,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,63,this._ctx);this.state=609,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=608,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}nestEntry(){let e=new O6(this._ctx,this.state);this.enterRule(e,116,C.RULE_nestEntry);let t;try{switch(this.state=622,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,67,this._ctx)){case 1:e=new Rre(e),this.enterOuterAlt(e,1),this.state=611,this.queryName(),this.state=616,this._errHandler.sync(this),t=this._input.LA(1),(t===C.OCURLY||t===C.PLUS)&&(this.state=613,this._errHandler.sync(this),t=this._input.LA(1),t===C.PLUS&&(this.state=612,this.refineOperator()),this.state=615,this.queryProperties());break;case 2:e=new Nre(e),this.enterOuterAlt(e,2),this.state=618,this.queryName(),this.state=619,this.match(C.IS),this.state=620,this.pipelineFromName();break}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregateStatement(){let e=new Zq(this._ctx,this.state);this.enterRule(e,118,C.RULE_aggregateStatement);try{this.enterOuterAlt(e,1),this.state=624,this.match(C.AGGREGATE),this.state=625,this.queryFieldList()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}projectStatement(){let e=new eU(this._ctx,this.state);this.enterRule(e,120,C.RULE_projectStatement);try{this.enterOuterAlt(e,1),this.state=627,this.match(C.PROJECT),this.state=628,this.fieldCollection()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}orderByStatement(){let e=new tU(this._ctx,this.state);this.enterRule(e,122,C.RULE_orderByStatement);try{this.enterOuterAlt(e,1),this.state=630,this.match(C.ORDER_BY),this.state=631,this.ordering()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}ordering(){let e=new nU(this._ctx,this.state);this.enterRule(e,124,C.RULE_ordering);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=633,this.orderBySpec(),this.state=640,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,69,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=635,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=634,this.match(C.COMMA)),this.state=637,this.orderBySpec()),this.state=642,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,69,this._ctx);this.state=644,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=643,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}orderBySpec(){let e=new OD(this._ctx,this.state);this.enterRule(e,126,C.RULE_orderBySpec);let t;try{this.enterOuterAlt(e,1);{switch(this.state=648,this._errHandler.sync(this),this._input.LA(1)){case C.INTEGER_LITERAL:this.state=646,this.match(C.INTEGER_LITERAL);break;case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.state=647,this.fieldName();break;default:throw new yc.NoViableAltException(this)}this.state=651,this._errHandler.sync(this),t=this._input.LA(1),(t===C.ASC||t===C.DESC)&&(this.state=650,t=this._input.LA(1),t===C.ASC||t===C.DESC?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}limitStatement(){let e=new rU(this._ctx,this.state);this.enterRule(e,128,C.RULE_limitStatement);try{this.enterOuterAlt(e,1),this.state=653,this.match(C.LIMIT),this.state=654,this.match(C.INTEGER_LITERAL)}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}bySpec(){let e=new iU(this._ctx,this.state);this.enterRule(e,130,C.RULE_bySpec);try{switch(this.state=660,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,73,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=656,this.match(C.BY),this.state=657,this.fieldName();break;case 2:this.enterOuterAlt(e,2),this.state=658,this.match(C.BY),this.state=659,this.fieldExpr(0);break}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}topStatement(){let e=new sU(this._ctx,this.state);this.enterRule(e,132,C.RULE_topStatement);let t;try{this.enterOuterAlt(e,1),this.state=662,this.match(C.TOP),this.state=663,this.match(C.INTEGER_LITERAL),this.state=665,this._errHandler.sync(this),t=this._input.LA(1),t===C.BY&&(this.state=664,this.bySpec())}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexElement(){let e=new RD(this._ctx,this.state);this.enterRule(e,134,C.RULE_indexElement);let t;try{switch(this.state=673,this._errHandler.sync(this),this._input.LA(1)){case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.enterOuterAlt(e,1),this.state=667,this.fieldPath(),this.state=670,this._errHandler.sync(this),t=this._input.LA(1),t===C.DOT&&(this.state=668,this.match(C.DOT),this.state=669,this.match(C.STAR));break;case C.STAR:this.enterOuterAlt(e,2),this.state=672,this.match(C.STAR);break;default:throw new yc.NoViableAltException(this)}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexFields(){let e=new oU(this._ctx,this.state);this.enterRule(e,136,C.RULE_indexFields);let t;try{for(this.enterOuterAlt(e,1),this.state=675,this.indexElement(),this.state=682,this._errHandler.sync(this),t=this._input.LA(1);(t-98&~31)===0&&(1<<t-98&(1<<C.COMMA-98|1<<C.STAR-98|1<<C.IDENTIFIER-98|1<<C.OBJECT_NAME_LITERAL-98))!==0;)this.state=677,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=676,this.match(C.COMMA)),this.state=679,this.indexElement(),this.state=684,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}indexStatement(){let e=new aU(this._ctx,this.state);this.enterRule(e,138,C.RULE_indexStatement);let t;try{this.enterOuterAlt(e,1),this.state=685,this.match(C.INDEX),this.state=686,this.indexFields(),this.state=689,this._errHandler.sync(this),t=this._input.LA(1),t===C.BY&&(this.state=687,this.match(C.BY),this.state=688,this.fieldName())}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sampleStatement(){let e=new uU(this._ctx,this.state);this.enterRule(e,140,C.RULE_sampleStatement);try{this.enterOuterAlt(e,1),this.state=691,this.match(C.SAMPLE),this.state=692,this.sampleSpec()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sampleSpec(){let e=new lU(this._ctx,this.state);this.enterRule(e,142,C.RULE_sampleSpec);let t;try{this.enterOuterAlt(e,1),this.state=694,t=this._input.LA(1),t===C.FALSE||t===C.TRUE||t===C.PERCENT_LITERAL||t===C.INTEGER_LITERAL?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}aggregate(){let e=new cU(this._ctx,this.state);this.enterRule(e,144,C.RULE_aggregate);let t;try{this.enterOuterAlt(e,1),this.state=696,t=this._input.LA(1),(t-32&~31)===0&&(1<<t-32&(1<<C.AVG-32|1<<C.COUNT-32|1<<C.MAX-32|1<<C.MIN-32))!==0||t===C.SUM?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}malloyType(){let e=new ND(this._ctx,this.state);this.enterRule(e,146,C.RULE_malloyType);let t;try{this.enterOuterAlt(e,1),this.state=698,t=this._input.LA(1),(t-33&~31)===0&&(1<<t-33&(1<<C.BOOLEAN-33|1<<C.DATE-33|1<<C.NUMBER-33))!==0||t===C.STRING||t===C.TIMESTAMP?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}compareOp(){let e=new LD(this._ctx,this.state);this.enterRule(e,148,C.RULE_compareOp);let t;try{this.enterOuterAlt(e,1),this.state=700,t=this._input.LA(1),(t-100&~31)===0&&(1<<t-100&(1<<C.LT-100|1<<C.GT-100|1<<C.EQ-100|1<<C.NE-100|1<<C.LTE-100|1<<C.GTE-100|1<<C.NOT_MATCH-100|1<<C.MATCH-100))!==0?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}literal(){let e=new vm(this._ctx,this.state);this.enterRule(e,150,C.RULE_literal);let t;try{switch(this.state=709,this._errHandler.sync(this),this._input.LA(1)){case C.STRING_LITERAL:e=new Lre(e),this.enterOuterAlt(e,1),this.state=702,this.match(C.STRING_LITERAL);break;case C.INTEGER_LITERAL:case C.NUMERIC_LITERAL:e=new kre(e),this.enterOuterAlt(e,2),this.state=703,t=this._input.LA(1),t===C.INTEGER_LITERAL||t===C.NUMERIC_LITERAL?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case C.LITERAL_TIMESTAMP:case C.LITERAL_DAY:case C.LITERAL_QUARTER:case C.LITERAL_MONTH:case C.LITERAL_WEEK:case C.LITERAL_YEAR:e=new Ire(e),this.enterOuterAlt(e,3),this.state=704,this.dateLiteral();break;case C.NULL:e=new Mre(e),this.enterOuterAlt(e,4),this.state=705,this.match(C.NULL);break;case C.FALSE:case C.TRUE:e=new Pre(e),this.enterOuterAlt(e,5),this.state=706,t=this._input.LA(1),t===C.FALSE||t===C.TRUE?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case C.HACKY_REGEX:e=new Bre(e),this.enterOuterAlt(e,6),this.state=707,this.match(C.HACKY_REGEX);break;case C.NOW:e=new jre(e),this.enterOuterAlt(e,7),this.state=708,this.match(C.NOW);break;default:throw new yc.NoViableAltException(this)}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}dateLiteral(){let e=new cx(this._ctx,this.state);this.enterRule(e,152,C.RULE_dateLiteral);try{switch(this.state=717,this._errHandler.sync(this),this._input.LA(1)){case C.LITERAL_TIMESTAMP:e=new qre(e),this.enterOuterAlt(e,1),this.state=711,this.match(C.LITERAL_TIMESTAMP);break;case C.LITERAL_DAY:e=new Ure(e),this.enterOuterAlt(e,2),this.state=712,this.match(C.LITERAL_DAY);break;case C.LITERAL_WEEK:e=new zre(e),this.enterOuterAlt(e,3),this.state=713,this.match(C.LITERAL_WEEK);break;case C.LITERAL_MONTH:e=new Hre(e),this.enterOuterAlt(e,4),this.state=714,this.match(C.LITERAL_MONTH);break;case C.LITERAL_QUARTER:e=new $re(e),this.enterOuterAlt(e,5),this.state=715,this.match(C.LITERAL_QUARTER);break;case C.LITERAL_YEAR:e=new Vre(e),this.enterOuterAlt(e,6),this.state=716,this.match(C.LITERAL_YEAR);break;default:throw new yc.NoViableAltException(this)}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}tableName(){let e=new fU(this._ctx,this.state);this.enterRule(e,154,C.RULE_tableName);try{this.enterOuterAlt(e,1),this.state=719,this.match(C.STRING_LITERAL)}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}id(){let e=new bd(this._ctx,this.state);this.enterRule(e,156,C.RULE_id);let t;try{this.enterOuterAlt(e,1),this.state=721,t=this._input.LA(1),t===C.IDENTIFIER||t===C.OBJECT_NAME_LITERAL?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}timeframe(){let e=new R6(this._ctx,this.state);this.enterRule(e,158,C.RULE_timeframe);let t;try{this.enterOuterAlt(e,1),this.state=723,t=this._input.LA(1),(t-40&~31)===0&&(1<<t-40&(1<<C.DAY-40|1<<C.HOUR-40|1<<C.MINUTE-40|1<<C.MONTH-40|1<<C.QUARTER-40|1<<C.SECOND-40))!==0||t===C.WEEK||t===C.YEAR?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}ungroup(){let e=new dU(this._ctx,this.state);this.enterRule(e,160,C.RULE_ungroup);let t;try{this.enterOuterAlt(e,1),this.state=725,t=this._input.LA(1),t===C.ALL||t===C.EXCLUDE?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldExpr(e){e===void 0&&(e=0);let t=this._ctx,r=this.state,i=new Fi(this._ctx,r),s=i,o=162;this.enterRecursionRule(i,162,C.RULE_fieldExpr,e);let a;try{let c;this.enterOuterAlt(i,1);{switch(this.state=787,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,87,this._ctx)){case 1:i=new Wre(i),this._ctx=i,s=i,this.state=728,this.fieldPath();break;case 2:i=new Gre(i),this._ctx=i,s=i,this.state=729,this.literal();break;case 3:i=new Yre(i),this._ctx=i,s=i,this.state=730,this.match(C.MINUS),this.state=731,this.fieldExpr(20);break;case 4:i=new oie(i),this._ctx=i,s=i,this.state=732,this.match(C.NOT),this.state=733,this.fieldExpr(9);break;case 5:i=new uie(i),this._ctx=i,s=i,this.state=734,this.match(C.CAST),this.state=735,this.match(C.OPAREN),this.state=736,this.fieldExpr(0),this.state=737,this.match(C.AS),this.state=738,this.malloyType(),this.state=739,this.match(C.CPAREN);break;case 6:i=new lie(i),this._ctx=i,s=i,this.state=741,this.match(C.COUNT),this.state=742,this.match(C.OPAREN),this.state=743,this.match(C.DISTINCT),this.state=744,this.fieldExpr(0),this.state=745,this.match(C.CPAREN);break;case 7:{switch(i=new cie(i),this._ctx=i,s=i,this.state=750,this._errHandler.sync(this),a=this._input.LA(1),(a===C.IDENTIFIER||a===C.OBJECT_NAME_LITERAL)&&(this.state=747,this.fieldPath(),this.state=748,this.match(C.DOT)),this.state=752,this.aggregate(),this.state=753,this.match(C.OPAREN),this.state=756,this._errHandler.sync(this),this._input.LA(1)){case C.ALL:case C.AVG:case C.CAST:case C.COUNT:case C.DAY:case C.EXCLUDE:case C.FALSE:case C.HOUR:case C.MAX:case C.MIN:case C.MINUTE:case C.MONTH:case C.NOT:case C.NOW:case C.NULL:case C.PICK:case C.QUARTER:case C.SECOND:case C.SUM:case C.TRUE:case C.WEEK:case C.YEAR:case C.HACKY_REGEX:case C.STRING_LITERAL:case C.OPAREN:case C.MINUS:case C.LITERAL_TIMESTAMP:case C.LITERAL_DAY:case C.LITERAL_QUARTER:case C.LITERAL_MONTH:case C.LITERAL_WEEK:case C.LITERAL_YEAR:case C.IDENTIFIER:case C.INTEGER_LITERAL:case C.NUMERIC_LITERAL:case C.OBJECT_NAME_LITERAL:this.state=754,this.fieldExpr(0);break;case C.STAR:this.state=755,this.match(C.STAR);break;case C.CPAREN:break;default:break}this.state=758,this.match(C.CPAREN)}break;case 8:i=new fie(i),this._ctx=i,s=i,this.state=760,this.match(C.OPAREN),this.state=761,this.partialAllowedFieldExpr(),this.state=762,this.match(C.CPAREN);break;case 9:{switch(i=new die(i),this._ctx=i,s=i,this.state=766,this._errHandler.sync(this),this._input.LA(1)){case C.IDENTIFIER:case C.OBJECT_NAME_LITERAL:this.state=764,this.id();break;case C.DAY:case C.HOUR:case C.MINUTE:case C.MONTH:case C.QUARTER:case C.SECOND:case C.WEEK:case C.YEAR:this.state=765,this.timeframe();break;default:throw new yc.NoViableAltException(this)}this.state=768,this.match(C.OPAREN),this.state=770,this._errHandler.sync(this),a=this._input.LA(1),((a-28&~31)===0&&(1<<a-28&(1<<C.ALL-28|1<<C.AVG-28|1<<C.CAST-28|1<<C.COUNT-28|1<<C.DAY-28|1<<C.EXCLUDE-28|1<<C.FALSE-28|1<<C.HOUR-28|1<<C.MAX-28|1<<C.MIN-28|1<<C.MINUTE-28|1<<C.MONTH-28))!==0||(a-60&~31)===0&&(1<<a-60&(1<<C.NOT-60|1<<C.NOW-60|1<<C.NULL-60|1<<C.PICK-60|1<<C.QUARTER-60|1<<C.SECOND-60|1<<C.SUM-60|1<<C.TRUE-60|1<<C.WEEK-60|1<<C.YEAR-60|1<<C.HACKY_REGEX-60|1<<C.STRING_LITERAL-60|1<<C.OPAREN-60))!==0||(a-107&~31)===0&&(1<<a-107&(1<<C.MINUS-107|1<<C.LITERAL_TIMESTAMP-107|1<<C.LITERAL_DAY-107|1<<C.LITERAL_QUARTER-107|1<<C.LITERAL_MONTH-107|1<<C.LITERAL_WEEK-107|1<<C.LITERAL_YEAR-107|1<<C.IDENTIFIER-107|1<<C.INTEGER_LITERAL-107|1<<C.NUMERIC_LITERAL-107|1<<C.OBJECT_NAME_LITERAL-107))!==0)&&(this.state=769,this.argumentList()),this.state=772,this.match(C.CPAREN)}break;case 10:i=new hie(i),this._ctx=i,s=i,this.state=774,this.pickStatement();break;case 11:{for(i=new pie(i),this._ctx=i,s=i,this.state=775,this.ungroup(),this.state=776,this.match(C.OPAREN),this.state=777,this.fieldExpr(0),this.state=782,this._errHandler.sync(this),a=this._input.LA(1);a===C.COMMA;)this.state=778,this.match(C.COMMA),this.state=779,this.fieldName(),this.state=784,this._errHandler.sync(this),a=this._input.LA(1);this.state=785,this.match(C.CPAREN)}break}for(this._ctx._stop=this._input.tryLT(-1),this.state=831,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,89,this._ctx);c!==2&&c!==Qf.ATN.INVALID_ALT_NUMBER;){if(c===1)switch(this._parseListeners!=null&&this.triggerExitRuleEvent(),s=i,this.state=829,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,88,this._ctx)){case 1:{if(i=new Zre(new Fi(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=789,!this.precpred(this._ctx,16))throw this.createFailedPredicateException("this.precpred(this._ctx, 16)");this.state=790,a=this._input.LA(1),a===C.STAR||a===C.SLASH?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=791,this.fieldExpr(17)}break;case 2:{if(i=new eie(new Fi(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=792,!this.precpred(this._ctx,15))throw this.createFailedPredicateException("this.precpred(this._ctx, 15)");this.state=793,a=this._input.LA(1),a===C.PLUS||a===C.MINUS?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=794,this.fieldExpr(16)}break;case 3:{if(i=new tie(new Fi(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=795,!this.precpred(this._ctx,14))throw this.createFailedPredicateException("this.precpred(this._ctx, 14)");this.state=796,this.match(C.TO),this.state=797,this.fieldExpr(15)}break;case 4:{if(i=new iie(new Fi(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=798,!this.precpred(this._ctx,11))throw this.createFailedPredicateException("this.precpred(this._ctx, 11)");this.state=799,this.compareOp(),this.state=800,this.fieldExpr(12)}break;case 5:{if(i=new aie(new Fi(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=802,!this.precpred(this._ctx,8))throw this.createFailedPredicateException("this.precpred(this._ctx, 8)");this.state=803,a=this._input.LA(1),a===C.AND||a===C.OR?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=804,this.fieldExpr(9)}break;case 6:{if(i=new Qre(new Fi(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=805,!this.precpred(this._ctx,22))throw this.createFailedPredicateException("this.precpred(this._ctx, 22)");this.state=806,this.match(C.OCURLY),this.state=807,this.filteredBy(),this.state=808,this.match(C.CCURLY)}break;case 7:{if(i=new Kre(new Fi(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=810,!this.precpred(this._ctx,19))throw this.createFailedPredicateException("this.precpred(this._ctx, 19)");this.state=811,this.timeframe()}break;case 8:{if(i=new Jre(new Fi(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=812,!this.precpred(this._ctx,18))throw this.createFailedPredicateException("this.precpred(this._ctx, 18)");this.state=813,this.match(C.DOT),this.state=814,this.timeframe()}break;case 9:{if(i=new Xre(new Fi(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=815,!this.precpred(this._ctx,17))throw this.createFailedPredicateException("this.precpred(this._ctx, 17)");this.state=816,this.match(C.DOUBLECOLON),this.state=817,this.malloyType()}break;case 10:{if(i=new nie(new Fi(t,r)),i._startAt=s,this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=818,!this.precpred(this._ctx,13))throw this.createFailedPredicateException("this.precpred(this._ctx, 13)");this.state=819,this.match(C.FOR),this.state=820,i._duration=this.fieldExpr(0),this.state=821,this.timeframe()}break;case 11:{if(i=new rie(new Fi(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=823,!this.precpred(this._ctx,12))throw this.createFailedPredicateException("this.precpred(this._ctx, 12)");this.state=824,a=this._input.LA(1),a===C.AMPER||a===C.BAR?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=825,this.partialAllowedFieldExpr()}break;case 12:{if(i=new sie(new Fi(t,r)),this.pushNewRecursionContext(i,o,C.RULE_fieldExpr),this.state=826,!this.precpred(this._ctx,10))throw this.createFailedPredicateException("this.precpred(this._ctx, 10)");this.state=827,a=this._input.LA(1),a===C.QMARK||a===C.COLON?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=828,this.partialAllowedFieldExpr()}break}this.state=833,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,89,this._ctx)}}}catch(c){if(c instanceof Vr.RecognitionException)i.exception=c,this._errHandler.reportError(this,c),this._errHandler.recover(this,c);else throw c}finally{this.unrollRecursionContexts(t)}return i}partialAllowedFieldExpr(){let e=new Xg(this._ctx,this.state);this.enterRule(e,164,C.RULE_partialAllowedFieldExpr);try{switch(this.state=838,this._errHandler.sync(this),this._input.LA(1)){case C.LT:case C.GT:case C.EQ:case C.NE:case C.LTE:case C.GTE:case C.NOT_MATCH:case C.MATCH:e=new mie(e),this.enterOuterAlt(e,1),this.state=834,this.compareOp(),this.state=835,this.fieldExpr(0);break;case C.ALL:case C.AVG:case C.CAST:case C.COUNT:case C.DAY:case C.EXCLUDE:case C.FALSE:case C.HOUR:case C.MAX:case C.MIN:case C.MINUTE:case C.MONTH:case C.NOT:case C.NOW:case C.NULL:case C.PICK:case C.QUARTER:case C.SECOND:case C.SUM:case C.TRUE:case C.WEEK:case C.YEAR:case C.HACKY_REGEX:case C.STRING_LITERAL:case C.OPAREN:case C.MINUS:case C.LITERAL_TIMESTAMP:case C.LITERAL_DAY:case C.LITERAL_QUARTER:case C.LITERAL_MONTH:case C.LITERAL_WEEK:case C.LITERAL_YEAR:case C.IDENTIFIER:case C.INTEGER_LITERAL:case C.NUMERIC_LITERAL:case C.OBJECT_NAME_LITERAL:e=new xie(e),this.enterOuterAlt(e,2),this.state=837,this.fieldExpr(0);break;default:throw new yc.NoViableAltException(this)}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}pickStatement(){let e=new hU(this._ctx,this.state);this.enterRule(e,166,C.RULE_pickStatement);try{let t;this.enterOuterAlt(e,1);{this.state=841,this._errHandler.sync(this),t=1;do{switch(t){case 1:this.state=840,this.pick();break;default:throw new yc.NoViableAltException(this)}this.state=843,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,91,this._ctx)}while(t!==2&&t!==Qf.ATN.INVALID_ALT_NUMBER);switch(this.state=847,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,92,this._ctx)){case 1:this.state=845,this.match(C.ELSE),this.state=846,e._pickElse=this.fieldExpr(0);break}}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}pick(){let e=new kD(this._ctx,this.state);this.enterRule(e,168,C.RULE_pick);let t;try{this.enterOuterAlt(e,1),this.state=849,this.match(C.PICK),this.state=851,this._errHandler.sync(this),t=this._input.LA(1),((t-28&~31)===0&&(1<<t-28&(1<<C.ALL-28|1<<C.AVG-28|1<<C.CAST-28|1<<C.COUNT-28|1<<C.DAY-28|1<<C.EXCLUDE-28|1<<C.FALSE-28|1<<C.HOUR-28|1<<C.MAX-28|1<<C.MIN-28|1<<C.MINUTE-28|1<<C.MONTH-28))!==0||(t-60&~31)===0&&(1<<t-60&(1<<C.NOT-60|1<<C.NOW-60|1<<C.NULL-60|1<<C.PICK-60|1<<C.QUARTER-60|1<<C.SECOND-60|1<<C.SUM-60|1<<C.TRUE-60|1<<C.WEEK-60|1<<C.YEAR-60|1<<C.HACKY_REGEX-60|1<<C.STRING_LITERAL-60|1<<C.OPAREN-60))!==0||(t-107&~31)===0&&(1<<t-107&(1<<C.MINUS-107|1<<C.LITERAL_TIMESTAMP-107|1<<C.LITERAL_DAY-107|1<<C.LITERAL_QUARTER-107|1<<C.LITERAL_MONTH-107|1<<C.LITERAL_WEEK-107|1<<C.LITERAL_YEAR-107|1<<C.IDENTIFIER-107|1<<C.INTEGER_LITERAL-107|1<<C.NUMERIC_LITERAL-107|1<<C.OBJECT_NAME_LITERAL-107))!==0)&&(this.state=850,e._pickValue=this.fieldExpr(0)),this.state=853,this.match(C.WHEN),this.state=854,e._pickWhen=this.partialAllowedFieldExpr()}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}argumentList(){let e=new pU(this._ctx,this.state);this.enterRule(e,170,C.RULE_argumentList);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=856,this.fieldExpr(0),this.state=861,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,94,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=857,this.match(C.COMMA),this.state=858,this.fieldExpr(0)),this.state=863,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,94,this._ctx);this.state=865,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=864,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldNameList(){let e=new mU(this._ctx,this.state);this.enterRule(e,172,C.RULE_fieldNameList);let t;try{for(this.enterOuterAlt(e,1),this.state=867,this.fieldName(),this.state=874,this._errHandler.sync(this),t=this._input.LA(1);(t-98&~31)===0&&(1<<t-98&(1<<C.COMMA-98|1<<C.IDENTIFIER-98|1<<C.OBJECT_NAME_LITERAL-98))!==0;)this.state=869,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=868,this.match(C.COMMA)),this.state=871,this.fieldName(),this.state=876,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldCollection(){let e=new xU(this._ctx,this.state);this.enterRule(e,174,C.RULE_fieldCollection);let t;try{let r;this.enterOuterAlt(e,1);{for(this.state=877,this.collectionMember(),this.state=884,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,99,this._ctx);r!==2&&r!==Qf.ATN.INVALID_ALT_NUMBER;)r===1&&(this.state=879,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=878,this.match(C.COMMA)),this.state=881,this.collectionMember()),this.state=886,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,99,this._ctx);this.state=888,this._errHandler.sync(this),t=this._input.LA(1),t===C.COMMA&&(this.state=887,this.match(C.COMMA))}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}collectionMember(){let e=new j5(this._ctx,this.state);this.enterRule(e,176,C.RULE_collectionMember);let t;try{switch(this.state=898,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,102,this._ctx)){case 1:e=new gie(e),this.enterOuterAlt(e,1),this.state=890,this.fieldPath();break;case 2:e=new yie(e),this.enterOuterAlt(e,2),this.state=894,this._errHandler.sync(this),t=this._input.LA(1),(t===C.IDENTIFIER||t===C.OBJECT_NAME_LITERAL)&&(this.state=891,this.fieldPath(),this.state=892,this.match(C.DOT)),this.state=896,t=this._input.LA(1),t===C.STAR||t===C.STARSTAR?(this._input.LA(1)===hf.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this);break;case 3:e=new vie(e),this.enterOuterAlt(e,3),this.state=897,this.fieldDef();break}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}fieldPath(){let e=new Zg(this._ctx,this.state);this.enterRule(e,178,C.RULE_fieldPath);try{let t;for(this.enterOuterAlt(e,1),this.state=900,this.fieldName(),this.state=905,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,103,this._ctx);t!==2&&t!==Qf.ATN.INVALID_ALT_NUMBER;)t===1&&(this.state=901,this.match(C.DOT),this.state=902,this.fieldName()),this.state=907,this._errHandler.sync(this),t=this.interpreter.adaptivePredict(this._input,103,this._ctx)}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}joinName(){let e=new _ie(this._ctx,this.state);this.enterRule(e,180,C.RULE_joinName);try{this.enterOuterAlt(e,1),this.state=908,this.id()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}fieldName(){let e=new Ed(this._ctx,this.state);this.enterRule(e,182,C.RULE_fieldName);try{this.enterOuterAlt(e,1),this.state=910,this.id()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}justExpr(){let e=new bie(this._ctx,this.state);this.enterRule(e,184,C.RULE_justExpr);try{this.enterOuterAlt(e,1),this.state=912,this.fieldExpr(0),this.state=913,this.match(C.EOF)}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}json(){let e=new Eie(this._ctx,this.state);this.enterRule(e,186,C.RULE_json);try{this.enterOuterAlt(e,1),this.state=915,this.jsonValue()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonValue(){let e=new N6(this._ctx,this.state);this.enterRule(e,188,C.RULE_jsonValue);try{switch(this.state=925,this._errHandler.sync(this),this._input.LA(1)){case C.JSON_STRING:this.enterOuterAlt(e,1),this.state=917,this.match(C.JSON_STRING);break;case C.INTEGER_LITERAL:this.enterOuterAlt(e,2),this.state=918,this.match(C.INTEGER_LITERAL);break;case C.NUMERIC_LITERAL:this.enterOuterAlt(e,3),this.state=919,this.match(C.NUMERIC_LITERAL);break;case C.OCURLY:this.enterOuterAlt(e,4),this.state=920,this.jsonObject();break;case C.OBRACK:this.enterOuterAlt(e,5),this.state=921,this.jsonArray();break;case C.TRUE:this.enterOuterAlt(e,6),this.state=922,this.match(C.TRUE);break;case C.FALSE:this.enterOuterAlt(e,7),this.state=923,this.match(C.FALSE);break;case C.NULL:this.enterOuterAlt(e,8),this.state=924,this.match(C.NULL);break;default:throw new yc.NoViableAltException(this)}}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonObject(){let e=new gU(this._ctx,this.state);this.enterRule(e,190,C.RULE_jsonObject);let t;try{switch(this.state=940,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,106,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=927,this.match(C.OCURLY),this.state=928,this.jsonProperty(),this.state=933,this._errHandler.sync(this),t=this._input.LA(1);t===C.COMMA;)this.state=929,this.match(C.COMMA),this.state=930,this.jsonProperty(),this.state=935,this._errHandler.sync(this),t=this._input.LA(1);this.state=936,this.match(C.CCURLY)}break;case 2:this.enterOuterAlt(e,2),this.state=938,this.match(C.OCURLY),this.state=939,this.match(C.CCURLY);break}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}jsonProperty(){let e=new ID(this._ctx,this.state);this.enterRule(e,192,C.RULE_jsonProperty);try{this.enterOuterAlt(e,1),this.state=942,this.match(C.JSON_STRING),this.state=943,this.match(C.COLON),this.state=944,this.jsonValue()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}jsonArray(){let e=new yU(this._ctx,this.state);this.enterRule(e,194,C.RULE_jsonArray);let t;try{switch(this.state=959,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,108,this._ctx)){case 1:this.enterOuterAlt(e,1);{for(this.state=946,this.match(C.OBRACK),this.state=947,this.jsonValue(),this.state=952,this._errHandler.sync(this),t=this._input.LA(1);t===C.COMMA;)this.state=948,this.match(C.COMMA),this.state=949,this.jsonValue(),this.state=954,this._errHandler.sync(this),t=this._input.LA(1);this.state=955,this.match(C.CBRACK)}break;case 2:this.enterOuterAlt(e,2),this.state=957,this.match(C.OBRACK),this.state=958,this.match(C.CBRACK);break}}catch(r){if(r instanceof Vr.RecognitionException)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}sqlExploreNameRef(){let e=new vU(this._ctx,this.state);this.enterRule(e,196,C.RULE_sqlExploreNameRef);try{this.enterOuterAlt(e,1),this.state=961,this.id()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sqlCommandNameDef(){let e=new _U(this._ctx,this.state);this.enterRule(e,198,C.RULE_sqlCommandNameDef);try{this.enterOuterAlt(e,1),this.state=963,this.id()}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}connectionName(){let e=new bU(this._ctx,this.state);this.enterRule(e,200,C.RULE_connectionName);try{this.enterOuterAlt(e,1),this.state=965,this.match(C.JSON_STRING)}catch(t){if(t instanceof Vr.RecognitionException)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}sempred(e,t,r){switch(t){case 81:return this.fieldExpr_sempred(e,r)}return!0}fieldExpr_sempred(e,t){switch(t){case 0:return this.precpred(this._ctx,16);case 1:return this.precpred(this._ctx,15);case 2:return this.precpred(this._ctx,14);case 3:return this.precpred(this._ctx,11);case 4:return this.precpred(this._ctx,8);case 5:return this.precpred(this._ctx,22);case 6:return this.precpred(this._ctx,19);case 7:return this.precpred(this._ctx,18);case 8:return this.precpred(this._ctx,17);case 9:return this.precpred(this._ctx,13);case 10:return this.precpred(this._ctx,12);case 11:return this.precpred(this._ctx,10)}return!0}static get _ATN(){return C.__ATN||(C.__ATN=new Aut.ATNDeserializer().deserialize(Kbe.toCharArray(C._serializedATN))),C.__ATN}};kt.MalloyParser=C;C.JSON_STRING=1;C.ACCEPT=2;C.AGGREGATE=3;C.DECLARE=4;C.DIMENSION=5;C.EXCEPT=6;C.EXPLORE=7;C.GROUP_BY=8;C.HAVING=9;C.INDEX=10;C.JOIN_CROSS=11;C.JOIN_ONE=12;C.JOIN_MANY=13;C.LIMIT=14;C.MEASURE=15;C.NEST=16;C.ORDER_BY=17;C.PRIMARY_KEY=18;C.PROJECT=19;C.QUERY=20;C.RENAME=21;C.SAMPLE=22;C.SOURCE=23;C.SQL=24;C.FANCYSQL=25;C.TOP=26;C.WHERE=27;C.ALL=28;C.AND=29;C.AS=30;C.ASC=31;C.AVG=32;C.BOOLEAN=33;C.BY=34;C.CASE=35;C.CAST=36;C.CONDITION=37;C.COUNT=38;C.DATE=39;C.DAY=40;C.DESC=41;C.DISTINCT=42;C.ELSE=43;C.END=44;C.EXCLUDE=45;C.FALSE=46;C.FOR=47;C.FROM=48;C.FROM_SQL=49;C.HAS=50;C.HOUR=51;C.IMPORT=52;C.IS=53;C.JSON=54;C.LAST=55;C.MAX=56;C.MIN=57;C.MINUTE=58;C.MONTH=59;C.NOT=60;C.NOW=61;C.NULL=62;C.NUMBER=63;C.ON=64;C.OR=65;C.PICK=66;C.QMARK=67;C.QUARTER=68;C.SECOND=69;C.STRING=70;C.SUM=71;C.TABLE=72;C.THEN=73;C.THIS=74;C.TIMESTAMP=75;C.TO=76;C.TRUE=77;C.TURTLE=78;C.WEEK=79;C.WHEN=80;C.WITH=81;C.YEAR=82;C.UNGROUPED=83;C.STRING_ESCAPE=84;C.HACKY_REGEX=85;C.STRING_LITERAL=86;C.AMPER=87;C.ARROW=88;C.FAT_ARROW=89;C.OPAREN=90;C.CPAREN=91;C.OBRACK=92;C.CBRACK=93;C.OCURLY=94;C.CCURLY=95;C.DOUBLECOLON=96;C.COLON=97;C.COMMA=98;C.DOT=99;C.LT=100;C.GT=101;C.EQ=102;C.NE=103;C.LTE=104;C.GTE=105;C.PLUS=106;C.MINUS=107;C.STAR=108;C.STARSTAR=109;C.SLASH=110;C.BAR=111;C.SEMI=112;C.NOT_MATCH=113;C.MATCH=114;C.LITERAL_TIMESTAMP=115;C.LITERAL_DAY=116;C.LITERAL_QUARTER=117;C.LITERAL_MONTH=118;C.LITERAL_WEEK=119;C.LITERAL_YEAR=120;C.IDENTIFIER=121;C.PERCENT_LITERAL=122;C.INTEGER_LITERAL=123;C.NUMERIC_LITERAL=124;C.OBJECT_NAME_LITERAL=125;C.BLOCK_COMMENT=126;C.COMMENT_TO_EOL=127;C.WHITE_SPACE=128;C.SQL_STRING=129;C.UNWATED_CHARS_TRAILING_NUMBERS=130;C.UNEXPECTED_CHAR=131;C.RULE_malloyDocument=0;C.RULE_malloyStatement=1;C.RULE_defineExploreStatement=2;C.RULE_exploreKeyword=3;C.RULE_defineQuery=4;C.RULE_topLevelAnonQueryDef=5;C.RULE_defineSQLStatement=6;C.RULE_sqlStatementDef=7;C.RULE_importStatement=8;C.RULE_importURL=9;C.RULE_topLevelQueryDefs=10;C.RULE_topLevelQueryDef=11;C.RULE_refineOperator=12;C.RULE_query=13;C.RULE_pipelineFromName=14;C.RULE_firstSegment=15;C.RULE_pipeElement=16;C.RULE_exploreTable=17;C.RULE_queryProperties=18;C.RULE_filterShortcut=19;C.RULE_exploreQueryName=20;C.RULE_queryName=21;C.RULE_exploreDefinitionList=22;C.RULE_exploreDefinition=23;C.RULE_explore=24;C.RULE_exploreSource=25;C.RULE_exploreNameDef=26;C.RULE_exploreName=27;C.RULE_exploreProperties=28;C.RULE_exploreStatement=29;C.RULE_renameList=30;C.RULE_exploreRenameDef=31;C.RULE_dimensionDefList=32;C.RULE_measureDefList=33;C.RULE_fieldDef=34;C.RULE_fieldNameDef=35;C.RULE_joinNameDef=36;C.RULE_measureDef=37;C.RULE_declareStatement=38;C.RULE_joinStatement=39;C.RULE_joinList=40;C.RULE_joinDef=41;C.RULE_joinExpression=42;C.RULE_filterStatement=43;C.RULE_filteredBy=44;C.RULE_filterClauseList=45;C.RULE_whereStatement=46;C.RULE_havingStatement=47;C.RULE_subQueryDefList=48;C.RULE_exploreQueryNameDef=49;C.RULE_exploreQueryDef=50;C.RULE_queryStatement=51;C.RULE_groupByStatement=52;C.RULE_queryFieldList=53;C.RULE_dimensionDef=54;C.RULE_queryFieldEntry=55;C.RULE_nestStatement=56;C.RULE_nestedQueryList=57;C.RULE_nestEntry=58;C.RULE_aggregateStatement=59;C.RULE_projectStatement=60;C.RULE_orderByStatement=61;C.RULE_ordering=62;C.RULE_orderBySpec=63;C.RULE_limitStatement=64;C.RULE_bySpec=65;C.RULE_topStatement=66;C.RULE_indexElement=67;C.RULE_indexFields=68;C.RULE_indexStatement=69;C.RULE_sampleStatement=70;C.RULE_sampleSpec=71;C.RULE_aggregate=72;C.RULE_malloyType=73;C.RULE_compareOp=74;C.RULE_literal=75;C.RULE_dateLiteral=76;C.RULE_tableName=77;C.RULE_id=78;C.RULE_timeframe=79;C.RULE_ungroup=80;C.RULE_fieldExpr=81;C.RULE_partialAllowedFieldExpr=82;C.RULE_pickStatement=83;C.RULE_pick=84;C.RULE_argumentList=85;C.RULE_fieldNameList=86;C.RULE_fieldCollection=87;C.RULE_collectionMember=88;C.RULE_fieldPath=89;C.RULE_joinName=90;C.RULE_fieldName=91;C.RULE_justExpr=92;C.RULE_json=93;C.RULE_jsonValue=94;C.RULE_jsonObject=95;C.RULE_jsonProperty=96;C.RULE_jsonArray=97;C.RULE_sqlExploreNameRef=98;C.RULE_sqlCommandNameDef=99;C.RULE_connectionName=100;C.ruleNames=["malloyDocument","malloyStatement","defineExploreStatement","exploreKeyword","defineQuery","topLevelAnonQueryDef","defineSQLStatement","sqlStatementDef","importStatement","importURL","topLevelQueryDefs","topLevelQueryDef","refineOperator","query","pipelineFromName","firstSegment","pipeElement","exploreTable","queryProperties","filterShortcut","exploreQueryName","queryName","exploreDefinitionList","exploreDefinition","explore","exploreSource","exploreNameDef","exploreName","exploreProperties","exploreStatement","renameList","exploreRenameDef","dimensionDefList","measureDefList","fieldDef","fieldNameDef","joinNameDef","measureDef","declareStatement","joinStatement","joinList","joinDef","joinExpression","filterStatement","filteredBy","filterClauseList","whereStatement","havingStatement","subQueryDefList","exploreQueryNameDef","exploreQueryDef","queryStatement","groupByStatement","queryFieldList","dimensionDef","queryFieldEntry","nestStatement","nestedQueryList","nestEntry","aggregateStatement","projectStatement","orderByStatement","ordering","orderBySpec","limitStatement","bySpec","topStatement","indexElement","indexFields","indexStatement","sampleStatement","sampleSpec","aggregate","malloyType","compareOp","literal","dateLiteral","tableName","id","timeframe","ungroup","fieldExpr","partialAllowedFieldExpr","pickStatement","pick","argumentList","fieldNameList","fieldCollection","collectionMember","fieldPath","joinName","fieldName","justExpr","json","jsonValue","jsonObject","jsonProperty","jsonArray","sqlExploreNameRef","sqlCommandNameDef","connectionName"];C._LITERAL_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'?'",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'&'","'->'","'=>'","'('","')'","'['","']'","'{'","'}'","'::'","':'","','","'.'","'<'","'>'","'='","'!='","'<='","'>='","'+'","'-'","'*'","'**'","'/'","'|'","';'","'!~'","'~'"];C._SYMBOLIC_NAMES=[void 0,"JSON_STRING","ACCEPT","AGGREGATE","DECLARE","DIMENSION","EXCEPT","EXPLORE","GROUP_BY","HAVING","INDEX","JOIN_CROSS","JOIN_ONE","JOIN_MANY","LIMIT","MEASURE","NEST","ORDER_BY","PRIMARY_KEY","PROJECT","QUERY","RENAME","SAMPLE","SOURCE","SQL","FANCYSQL","TOP","WHERE","ALL","AND","AS","ASC","AVG","BOOLEAN","BY","CASE","CAST","CONDITION","COUNT","DATE","DAY","DESC","DISTINCT","ELSE","END","EXCLUDE","FALSE","FOR","FROM","FROM_SQL","HAS","HOUR","IMPORT","IS","JSON","LAST","MAX","MIN","MINUTE","MONTH","NOT","NOW","NULL","NUMBER","ON","OR","PICK","QMARK","QUARTER","SECOND","STRING","SUM","TABLE","THEN","THIS","TIMESTAMP","TO","TRUE","TURTLE","WEEK","WHEN","WITH","YEAR","UNGROUPED","STRING_ESCAPE","HACKY_REGEX","STRING_LITERAL","AMPER","ARROW","FAT_ARROW","OPAREN","CPAREN","OBRACK","CBRACK","OCURLY","CCURLY","DOUBLECOLON","COLON","COMMA","DOT","LT","GT","EQ","NE","LTE","GTE","PLUS","MINUS","STAR","STARSTAR","SLASH","BAR","SEMI","NOT_MATCH","MATCH","LITERAL_TIMESTAMP","LITERAL_DAY","LITERAL_QUARTER","LITERAL_MONTH","LITERAL_WEEK","LITERAL_YEAR","IDENTIFIER","PERCENT_LITERAL","INTEGER_LITERAL","NUMERIC_LITERAL","OBJECT_NAME_LITERAL","BLOCK_COMMENT","COMMENT_TO_EOL","WHITE_SPACE","SQL_STRING","UNWATED_CHARS_TRAILING_NUMBERS","UNEXPECTED_CHAR"];C.VOCABULARY=new Out.VocabularyImpl(C._LITERAL_NAMES,C._SYMBOLIC_NAMES,[]);C._serializedATNSegments=2;C._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241\x85\u03CA					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	UV	VW	WX	XY	YZ	Z[	[\\	\\]	]^	^_	_\`	\`a	ab	bc	cd	de	ef	f\x07\xCF
\f\xD2\v\xDA
\xE5
\x07\x07\b\b\b				\xEF
					\xF4
	


\v\v\f\f\f\xFD
\f\f\x07\f\u0100
\f\f\f\f\u0103\v\f\f\f\u0106
\f\r\r\r\r\u0115
\u0118
\x07\u011B
\f\u011E\v\u0120
\x07\u0124
\f\u0127\v\u012C
\u012F
\u0131
\x07\u013F
\f\u0142\v\u0145
\u0152
\x07\u0155
\f\u0158\v\u015B
\u0163
\u0166
\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\u0174
\x1B\x07\u017D
\f\u0180\v\u0184
\u0195
   \u0199
  \x07 \u019C
 \f  \u019F\v   \u01A2
 !!!!"""\u01AA
""\x07"\u01AD
"\f""\u01B0\v"""\u01B3
"###\u01B7
##\x07#\u01BA
#\f##\u01BD\v###\u01C0
#$$$$%%&&''((((\u01CF
((\x07(\u01D2
(\f((\u01D5\v(((\u01D8
()))))))\u01E0
)***\u01E4
**\x07*\u01E7
*\f**\u01EA\v***\u01ED
*++++\u01F2
++++++++\u01FA
++++\u01FE
++\u0200
+,,---\u0206
-....\u020B
.///\x07/\u0210
/\f//\u0213\v///\u0216
/000111222\u0220
22\x072\u0223
2\f22\u0226\v222\u0229
233444455555555555555\u023E
5666777\u0245
77\x077\u0248
7\f77\u024B\v777\u024E
788999\u0254
9:::;;;\u025B
;;\x07;\u025E
;\f;;\u0261\v;;;\u0264
;<<<\u0268
<<<\u026B
<<<<<<\u0271
<===>>>???@@@\u027E
@@\x07@\u0281
@\f@@\u0284\v@@@\u0287
@AAA\u028B
AAA\u028E
ABBBCCCCC\u0297
CDDDD\u029C
DEEEE\u02A1
EEE\u02A4
EFFF\u02A8
FF\x07F\u02AB
F\fFF\u02AE\vFGGGGG\u02B4
GHHHIIJJKKLLMMMMMMMM\u02C8
MNNNNNNN\u02D0
NOOPPQQRRSSSSSSSSSSSSSSSSSSSSSSSS\u02F1
SSSSSS\u02F7
SSSSSSSSSS\u0301
SSSS\u0305
SSSSSSSSS\x07S\u030F
S\fSS\u0312\vSSSS\u0316
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS\x07S\u0340
S\fSS\u0343\vSTTTTT\u0349
TUU\u034C
U\rUU\u034DUUU\u0352
UVVV\u0356
VVVVWWW\x07W\u035E
W\fWW\u0361\vWWW\u0364
WXXX\u0368
XX\x07X\u036B
X\fXX\u036E\vXYYY\u0372
YY\x07Y\u0375
Y\fYY\u0378\vYYY\u037B
YZZZZZ\u0381
ZZZZ\u0385
Z[[[\x07[\u038A
[\f[[\u038D\v[\\\\]]^^^__\`\`\`\`\`\`\`\`\`\u03A0
\`aaaa\x07a\u03A6
a\faa\u03A9\vaaaaaa\u03AF
abbbbcccc\x07c\u03B9
c\fcc\u03BC\vcccccc\u03C2
cddeefff\xA4g\b
\f "$&(*,.02468:<>@BDFHJLNPRTVXZ\\^\`bdfhjlnprtvxz|~\x80\x82\x84\x86\x88\x8A\x8C\x8E\x90\x92\x94\x96\x98\x9A\x9C\x9E\xA0\xA2\xA4\xA6\xA8\xAA\xAC\xAE\xB0\xB2\xB4\xB6\xB8\xBA\xBC\xBE\xC0\xC2\xC4\xC6\xC8\xCA		\b\b!!++00OO|}""((:;II\x07##))AAHHMMfkst}~00OO{{\x7F\x7F\b**55<=FGQQTT//nnpplmCCYYqqEEccno\u040C\xD0\xD9\xDB\b\xDE
\xE4\f\xE6\xE8\xEE\xF5\xF8\xFA\u0107\u010B\u011F\u0121 \u0130"\u0132$\u0135&\u0144(\u0146*\u014B,\u014D.\u014F0\u015C2\u01604\u01736\u01758\u0177:\u0183<\u0194>\u0196@\u01A3B\u01A7D\u01B4F\u01C1H\u01C5J\u01C7L\u01C9N\u01CBP\u01DFR\u01E1T\u01FFV\u0201X\u0205Z\u020A\\\u020C^\u0217\`\u021Ab\u021Dd\u022Af\u022Ch\u023Dj\u023Fl\u0242n\u024Fp\u0253r\u0255t\u0258v\u0270x\u0272z\u0275|\u0278~\u027B\x80\u028A\x82\u028F\x84\u0296\x86\u0298\x88\u02A3\x8A\u02A5\x8C\u02AF\x8E\u02B5\x90\u02B8\x92\u02BA\x94\u02BC\x96\u02BE\x98\u02C7\x9A\u02CF\x9C\u02D1\x9E\u02D3\xA0\u02D5\xA2\u02D7\xA4\u0315\xA6\u0348\xA8\u034B\xAA\u0353\xAC\u035A\xAE\u0365\xB0\u036F\xB2\u0384\xB4\u0386\xB6\u038E\xB8\u0390\xBA\u0392\xBC\u0395\xBE\u039F\xC0\u03AE\xC2\u03B0\xC4\u03C1\xC6\u03C3\xC8\u03C5\xCA\u03C7\xCC\xCF\xCD\xCF\x07r\xCE\xCC\xCE\xCD\xCF\xD2\xD0\xCE\xD0\xD1\xD1\xD3\xD2\xD0\xD3\xD4\x07\xD4\xD5\xDA\xD6\xDA\b\xD7\xDA
\xD8\xDA
\xD9\xD5\xD9\xD6\xD9\xD7\xD9\xD8\xDA\xDB\xDC\b\xDC\xDD.\xDD\x07\xDE\xDF	\xDF	\xE0\xE1\x07\xE1\xE5\f\xE2\xE3\x07\xE3\xE5\f\x07\xE4\xE0\xE4\xE2\xE5\v\xE6\xE7\xE7\r\xE8\xE9\x07\xE9\xEA	\xEA\xEB\xEC\xC8e\xEC\xED\x077\xED\xEF\xEE\xEB\xEE\xEF\xEF\xF0\xF0\xF3\x07\x83\xF1\xF2\x07B\xF2\xF4\xCAf\xF3\xF1\xF3\xF4\xF4\xF5\xF6\x076\xF6\xF7\v\xF7\xF8\xF9\x07\xF9\xFA\u0101\r\xFB\xFD\x07d\xFC\xFB\xFC\xFD\xFD\xFE\xFE\u0100\r\xFF\xFC\u0100\u0103\u0101\xFF\u0101\u0102\u0102\u0105\u0103\u0101\u0104\u0106\x07d\u0105\u0104\u0105\u0106\u0106\u0107\u0108,\u0108\u0109\x077\u0109\u010A\u010A\u010B\u010C\x07l\u010C\x1B\u010D\u010E2\u010E\u010F\x07Z\u010F\u0110\u0110\u0120\u0111\u0112\x07Z\u0112\u0117,\u0113\u0115\u0114\u0113\u0114\u0115\u0115\u0116\u0116\u0118&\u0117\u0114\u0117\u0118\u0118\u011C\u0119\u011B"\u011A\u0119\u011B\u011E\u011C\u011A\u011C\u011D\u011D\u0120\u011E\u011C\u011F\u010D\u011F\u0111\u0120\u0121\u0125 \u0122\u0124"\u0123\u0122\u0124\u0127\u0125\u0123\u0125\u0126\u0126\u0127\u0125\u0128\u0131&\u0129\u012E*\u012A\u012C\u012B\u012A\u012B\u012C\u012C\u012D\u012D\u012F&\u012E\u012B\u012E\u012F\u012F\u0131\u0130\u0128\u0130\u0129\u0131!\u0132\u0133\x07Z\u0133\u0134&\u0134#\u0135\u0136\x07J\u0136\u0137\x07\\\u0137\u0138\x9CO\u0138\u0139\x07]\u0139%\u013A\u0145(\u013B\u0140\x07\`\u013C\u013Fh5\u013D\u013F\x07r\u013E\u013C\u013E\u013D\u013F\u0142\u0140\u013E\u0140\u0141\u0141\u0143\u0142\u0140\u0143\u0145\x07a\u0144\u013A\u0144\u013B\u0145'\u0146\u0147\x07\`\u0147\u0148\x07E\u0148\u0149\xA4S\u0149\u014A\x07a\u014A)\u014B\u014C\x9EP\u014C+\u014D\u014E\x9EP\u014E-\u014F\u01560\u0150\u0152\x07d\u0151\u0150\u0151\u0152\u0152\u0153\u0153\u01550\u0154\u0151\u0155\u0158\u0156\u0154\u0156\u0157\u0157\u015A\u0158\u0156\u0159\u015B\x07d\u015A\u0159\u015A\u015B\u015B/\u015C\u015D6\u015D\u015E\x077\u015E\u015F2\u015F1\u0160\u01654\x1B\u0161\u0163\u0162\u0161\u0162\u0163\u0163\u0164\u0164\u0166:\u0165\u0162\u0165\u0166\u01663\u0167\u01748\u0168\u0174$\u0169\u016A\x072\u016A\u016B\x07\\\u016B\u016C\u016C\u016D\x07]\u016D\u0174\u016E\u016F\x073\u016F\u0170\x07\\\u0170\u0171\xC6d\u0171\u0172\x07]\u0172\u0174\u0173\u0167\u0173\u0168\u0173\u0169\u0173\u016E\u01745\u0175\u0176\x9EP\u01767\u0177\u0178\x9EP\u01789\u0179\u017E\x07\`\u017A\u017D<\u017B\u017D\x07r\u017C\u017A\u017C\u017B\u017D\u0180\u017E\u017C\u017E\u017F\u017F\u0181\u0180\u017E\u0181\u0184\x07a\u0182\u0184(\u0183\u0179\u0183\u0182\u0184;\u0185\u0186\x07\x07\u0186\u0195B"\u0187\u0188\x07\u0188\u0195D#\u0189\u0195N(\u018A\u0195P)\u018B\u0195^0\u018C\u018D\x07\u018D\u0195\xB8]\u018E\u018F\x07\u018F\u0195> \u0190\u0191	\u0191\u0195\xAEX\u0192\u0193\x07\u0193\u0195b2\u0194\u0185\u0194\u0187\u0194\u0189\u0194\u018A\u0194\u018B\u0194\u018C\u0194\u018E\u0194\u0190\u0194\u0192\u0195=\u0196\u019D@!\u0197\u0199\x07d\u0198\u0197\u0198\u0199\u0199\u019A\u019A\u019C@!\u019B\u0198\u019C\u019F\u019D\u019B\u019D\u019E\u019E\u01A1\u019F\u019D\u01A0\u01A2\x07d\u01A1\u01A0\u01A1\u01A2\u01A2?\u01A3\u01A4\xB8]\u01A4\u01A5\x077\u01A5\u01A6\xB8]\u01A6A\u01A7\u01AEn8\u01A8\u01AA\x07d\u01A9\u01A8\u01A9\u01AA\u01AA\u01AB\u01AB\u01ADn8\u01AC\u01A9\u01AD\u01B0\u01AE\u01AC\u01AE\u01AF\u01AF\u01B2\u01B0\u01AE\u01B1\u01B3\x07d\u01B2\u01B1\u01B2\u01B3\u01B3C\u01B4\u01BBL'\u01B5\u01B7\x07d\u01B6\u01B5\u01B6\u01B7\u01B7\u01B8\u01B8\u01BAL'\u01B9\u01B6\u01BA\u01BD\u01BB\u01B9\u01BB\u01BC\u01BC\u01BF\u01BD\u01BB\u01BE\u01C0\x07d\u01BF\u01BE\u01BF\u01C0\u01C0E\u01C1\u01C2H%\u01C2\u01C3\x077\u01C3\u01C4\xA4S\u01C4G\u01C5\u01C6\x9EP\u01C6I\u01C7\u01C8\x9EP\u01C8K\u01C9\u01CAF$\u01CAM\u01CB\u01CC\x07\u01CC\u01D3F$\u01CD\u01CF\x07d\u01CE\u01CD\u01CE\u01CF\u01CF\u01D0\u01D0\u01D2F$\u01D1\u01CE\u01D2\u01D5\u01D3\u01D1\u01D3\u01D4\u01D4\u01D7\u01D5\u01D3\u01D6\u01D8\x07d\u01D7\u01D6\u01D7\u01D8\u01D8O\u01D9\u01DA\x07\u01DA\u01E0R*\u01DB\u01DC\x07\u01DC\u01E0R*\u01DD\u01DE\x07\r\u01DE\u01E0R*\u01DF\u01D9\u01DF\u01DB\u01DF`;C._serializedATNSegment1="\u01DD\u01E0Q\u01E1\u01E8T+\u01E2\u01E4\x07d\u01E3\u01E2\u01E3\u01E4\u01E4\u01E5\u01E5\u01E7T+\u01E6\u01E3\u01E7\u01EA\u01E8\u01E6\u01E8\u01E9\u01E9\u01EC\u01EA\u01E8\u01EB\u01ED\x07d\u01EC\u01EB\u01EC\u01ED\u01EDS\u01EE\u01F1J&\u01EF\u01F0\x077\u01F0\u01F22\u01F1\u01EF\u01F1\u01F2\u01F2\u01F3\u01F3\u01F4\x07S\u01F4\u01F5\xA4S\u01F5\u0200\u01F6\u01F9J&\u01F7\u01F8\x077\u01F8\u01FA2\u01F9\u01F7\u01F9\u01FA\u01FA\u01FD\u01FB\u01FC\x07B\u01FC\u01FEV,\u01FD\u01FB\u01FD\u01FE\u01FE\u0200\u01FF\u01EE\u01FF\u01F6\u0200U\u0201\u0202\xA4S\u0202W\u0203\u0206^0\u0204\u0206`1\u0205\u0203\u0205\u0204\u0206Y\u0207\u0208\x07E\u0208\u020B\xA4S\u0209\u020B^0\u020A\u0207\u020A\u0209\u020B[\u020C\u0211\xA4S\u020D\u020E\x07d\u020E\u0210\xA4S\u020F\u020D\u0210\u0213\u0211\u020F\u0211\u0212\u0212\u0215\u0213\u0211\u0214\u0216\x07d\u0215\u0214\u0215\u0216\u0216]\u0217\u0218\x07\u0218\u0219\\/\u0219_\u021A\u021B\x07\v\u021B\u021C\\/\u021Ca\u021D\u0224f4\u021E\u0220\x07d\u021F\u021E\u021F\u0220\u0220\u0221\u0221\u0223f4\u0222\u021F\u0223\u0226\u0224\u0222\u0224\u0225\u0225\u0228\u0226\u0224\u0227\u0229\x07d\u0228\u0227\u0228\u0229\u0229c\u022A\u022B\x9EP\u022Be\u022C\u022Dd3\u022D\u022E\x077\u022E\u022F\u022Fg\u0230\u023Ej6\u0231\u023EN(\u0232\u023EP)\u0233\u023Ez>\u0234\u023E\x8CG\u0235\u023Ex=\u0236\u023E\x86D\u0237\u023E\x82B\u0238\u023E|?\u0239\u023E^0\u023A\u023E`1\u023B\u023Er:\u023C\u023E\x8EH\u023D\u0230\u023D\u0231\u023D\u0232\u023D\u0233\u023D\u0234\u023D\u0235\u023D\u0236\u023D\u0237\u023D\u0238\u023D\u0239\u023D\u023A\u023D\u023B\u023D\u023C\u023Ei\u023F\u0240\x07\n\u0240\u0241l7\u0241k\u0242\u0249p9\u0243\u0245\x07d\u0244\u0243\u0244\u0245\u0245\u0246\u0246\u0248p9\u0247\u0244\u0248\u024B\u0249\u0247\u0249\u024A\u024A\u024D\u024B\u0249\u024C\u024E\x07d\u024D\u024C\u024D\u024E\u024Em\u024F\u0250F$\u0250o\u0251\u0254\xB4[\u0252\u0254n8\u0253\u0251\u0253\u0252\u0254q\u0255\u0256\x07\u0256\u0257t;\u0257s\u0258\u025Fv<\u0259\u025B\x07d\u025A\u0259\u025A\u025B\u025B\u025C\u025C\u025Ev<\u025D\u025A\u025E\u0261\u025F\u025D\u025F\u0260\u0260\u0263\u0261\u025F\u0262\u0264\x07d\u0263\u0262\u0263\u0264\u0264u\u0265\u026A,\u0266\u0268\u0267\u0266\u0267\u0268\u0268\u0269\u0269\u026B&\u026A\u0267\u026A\u026B\u026B\u0271\u026C\u026D,\u026D\u026E\x077\u026E\u026F\u026F\u0271\u0270\u0265\u0270\u026C\u0271w\u0272\u0273\x07\u0273\u0274l7\u0274y\u0275\u0276\x07\u0276\u0277\xB0Y\u0277{\u0278\u0279\x07\u0279\u027A~@\u027A}\u027B\u0282\x80A\u027C\u027E\x07d\u027D\u027C\u027D\u027E\u027E\u027F\u027F\u0281\x80A\u0280\u027D\u0281\u0284\u0282\u0280\u0282\u0283\u0283\u0286\u0284\u0282\u0285\u0287\x07d\u0286\u0285\u0286\u0287\u0287\x7F\u0288\u028B\x07}\u0289\u028B\xB8]\u028A\u0288\u028A\u0289\u028B\u028D\u028C\u028E	\u028D\u028C\u028D\u028E\u028E\x81\u028F\u0290\x07\u0290\u0291\x07}\u0291\x83\u0292\u0293\x07$\u0293\u0297\xB8]\u0294\u0295\x07$\u0295\u0297\xA4S\u0296\u0292\u0296\u0294\u0297\x85\u0298\u0299\x07\u0299\u029B\x07}\u029A\u029C\x84C\u029B\u029A\u029B\u029C\u029C\x87\u029D\u02A0\xB4[\u029E\u029F\x07e\u029F\u02A1\x07n\u02A0\u029E\u02A0\u02A1\u02A1\u02A4\u02A2\u02A4\x07n\u02A3\u029D\u02A3\u02A2\u02A4\x89\u02A5\u02AC\x88E\u02A6\u02A8\x07d\u02A7\u02A6\u02A7\u02A8\u02A8\u02A9\u02A9\u02AB\x88E\u02AA\u02A7\u02AB\u02AE\u02AC\u02AA\u02AC\u02AD\u02AD\x8B\u02AE\u02AC\u02AF\u02B0\x07\f\u02B0\u02B3\x8AF\u02B1\u02B2\x07$\u02B2\u02B4\xB8]\u02B3\u02B1\u02B3\u02B4\u02B4\x8D\u02B5\u02B6\x07\u02B6\u02B7\x90I\u02B7\x8F\u02B8\u02B9	\u02B9\x91\u02BA\u02BB	\u02BB\x93\u02BC\u02BD	\x07\u02BD\x95\u02BE\u02BF	\b\u02BF\x97\u02C0\u02C8\x07X\u02C1\u02C8		\u02C2\u02C8\x9AN\u02C3\u02C8\x07@\u02C4\u02C8	\n\u02C5\u02C8\x07W\u02C6\u02C8\x07?\u02C7\u02C0\u02C7\u02C1\u02C7\u02C2\u02C7\u02C3\u02C7\u02C4\u02C7\u02C5\u02C7\u02C6\u02C8\x99\u02C9\u02D0\x07u\u02CA\u02D0\x07v\u02CB\u02D0\x07y\u02CC\u02D0\x07x\u02CD\u02D0\x07w\u02CE\u02D0\x07z\u02CF\u02C9\u02CF\u02CA\u02CF\u02CB\u02CF\u02CC\u02CF\u02CD\u02CF\u02CE\u02D0\x9B\u02D1\u02D2\x07X\u02D2\x9D\u02D3\u02D4	\v\u02D4\x9F\u02D5\u02D6	\f\u02D6\xA1\u02D7\u02D8	\r\u02D8\xA3\u02D9\u02DA\bS\u02DA\u0316\xB4[\u02DB\u0316\x98M\u02DC\u02DD\x07m\u02DD\u0316\xA4S\u02DE\u02DF\x07>\u02DF\u0316\xA4S\v\u02E0\u02E1\x07&\u02E1\u02E2\x07\\\u02E2\u02E3\xA4S\u02E3\u02E4\x07 \u02E4\u02E5\x94K\u02E5\u02E6\x07]\u02E6\u0316\u02E7\u02E8\x07(\u02E8\u02E9\x07\\\u02E9\u02EA\x07,\u02EA\u02EB\xA4S\u02EB\u02EC\x07]\u02EC\u0316\u02ED\u02EE\xB4[\u02EE\u02EF\x07e\u02EF\u02F1\u02F0\u02ED\u02F0\u02F1\u02F1\u02F2\u02F2\u02F3\x92J\u02F3\u02F6\x07\\\u02F4\u02F7\xA4S\u02F5\u02F7\x07n\u02F6\u02F4\u02F6\u02F5\u02F6\u02F7\u02F7\u02F8\u02F8\u02F9\x07]\u02F9\u0316\u02FA\u02FB\x07\\\u02FB\u02FC\xA6T\u02FC\u02FD\x07]\u02FD\u0316\u02FE\u0301\x9EP\u02FF\u0301\xA0Q\u0300\u02FE\u0300\u02FF\u0301\u0302\u0302\u0304\x07\\\u0303\u0305\xACW\u0304\u0303\u0304\u0305\u0305\u0306\u0306\u0307\x07]\u0307\u0316\u0308\u0316\xA8U\u0309\u030A\xA2R\u030A\u030B\x07\\\u030B\u0310\xA4S\u030C\u030D\x07d\u030D\u030F\xB8]\u030E\u030C\u030F\u0312\u0310\u030E\u0310\u0311\u0311\u0313\u0312\u0310\u0313\u0314\x07]\u0314\u0316\u0315\u02D9\u0315\u02DB\u0315\u02DC\u0315\u02DE\u0315\u02E0\u0315\u02E7\u0315\u02F0\u0315\u02FA\u0315\u0300\u0315\u0308\u0315\u0309\u0316\u0341\u0317\u0318\f\u0318\u0319	\u0319\u0340\xA4S\u031A\u031B\f\u031B\u031C	\u031C\u0340\xA4S\u031D\u031E\f\u031E\u031F\x07N\u031F\u0340\xA4S\u0320\u0321\f\r\u0321\u0322\x96L\u0322\u0323\xA4S\u0323\u0340\u0324\u0325\f\n\u0325\u0326	\u0326\u0340\xA4S\v\u0327\u0328\f\u0328\u0329\x07`\u0329\u032AZ.\u032A\u032B\x07a\u032B\u0340\u032C\u032D\f\u032D\u0340\xA0Q\u032E\u032F\f\u032F\u0330\x07e\u0330\u0340\xA0Q\u0331\u0332\f\u0332\u0333\x07b\u0333\u0340\x94K\u0334\u0335\f\u0335\u0336\x071\u0336\u0337\xA4S\u0337\u0338\xA0Q\u0338\u0340\u0339\u033A\f\u033A\u033B	\u033B\u0340\xA6T\u033C\u033D\f\f\u033D\u033E	\u033E\u0340\xA6T\u033F\u0317\u033F\u031A\u033F\u031D\u033F\u0320\u033F\u0324\u033F\u0327\u033F\u032C\u033F\u032E\u033F\u0331\u033F\u0334\u033F\u0339\u033F\u033C\u0340\u0343\u0341\u033F\u0341\u0342\u0342\xA5\u0343\u0341\u0344\u0345\x96L\u0345\u0346\xA4S\u0346\u0349\u0347\u0349\xA4S\u0348\u0344\u0348\u0347\u0349\xA7\u034A\u034C\xAAV\u034B\u034A\u034C\u034D\u034D\u034B\u034D\u034E\u034E\u0351\u034F\u0350\x07-\u0350\u0352\xA4S\u0351\u034F\u0351\u0352\u0352\xA9\u0353\u0355\x07D\u0354\u0356\xA4S\u0355\u0354\u0355\u0356\u0356\u0357\u0357\u0358\x07R\u0358\u0359\xA6T\u0359\xAB\u035A\u035F\xA4S\u035B\u035C\x07d\u035C\u035E\xA4S\u035D\u035B\u035E\u0361\u035F\u035D\u035F\u0360\u0360\u0363\u0361\u035F\u0362\u0364\x07d\u0363\u0362\u0363\u0364\u0364\xAD\u0365\u036C\xB8]\u0366\u0368\x07d\u0367\u0366\u0367\u0368\u0368\u0369\u0369\u036B\xB8]\u036A\u0367\u036B\u036E\u036C\u036A\u036C\u036D\u036D\xAF\u036E\u036C\u036F\u0376\xB2Z\u0370\u0372\x07d\u0371\u0370\u0371\u0372\u0372\u0373\u0373\u0375\xB2Z\u0374\u0371\u0375\u0378\u0376\u0374\u0376\u0377\u0377\u037A\u0378\u0376\u0379\u037B\x07d\u037A\u0379\u037A\u037B\u037B\xB1\u037C\u0385\xB4[\u037D\u037E\xB4[\u037E\u037F\x07e\u037F\u0381\u0380\u037D\u0380\u0381\u0381\u0382\u0382\u0385	\u0383\u0385F$\u0384\u037C\u0384\u0380\u0384\u0383\u0385\xB3\u0386\u038B\xB8]\u0387\u0388\x07e\u0388\u038A\xB8]\u0389\u0387\u038A\u038D\u038B\u0389\u038B\u038C\u038C\xB5\u038D\u038B\u038E\u038F\x9EP\u038F\xB7\u0390\u0391\x9EP\u0391\xB9\u0392\u0393\xA4S\u0393\u0394\x07\u0394\xBB\u0395\u0396\xBE`\u0396\xBD\u0397\u03A0\x07\u0398\u03A0\x07}\u0399\u03A0\x07~\u039A\u03A0\xC0a\u039B\u03A0\xC4c\u039C\u03A0\x07O\u039D\u03A0\x070\u039E\u03A0\x07@\u039F\u0397\u039F\u0398\u039F\u0399\u039F\u039A\u039F\u039B\u039F\u039C\u039F\u039D\u039F\u039E\u03A0\xBF\u03A1\u03A2\x07`\u03A2\u03A7\xC2b\u03A3\u03A4\x07d\u03A4\u03A6\xC2b\u03A5\u03A3\u03A6\u03A9\u03A7\u03A5\u03A7\u03A8\u03A8\u03AA\u03A9\u03A7\u03AA\u03AB\x07a\u03AB\u03AF\u03AC\u03AD\x07`\u03AD\u03AF\x07a\u03AE\u03A1\u03AE\u03AC\u03AF\xC1\u03B0\u03B1\x07\u03B1\u03B2\x07c\u03B2\u03B3\xBE`\u03B3\xC3\u03B4\u03B5\x07^\u03B5\u03BA\xBE`\u03B6\u03B7\x07d\u03B7\u03B9\xBE`\u03B8\u03B6\u03B9\u03BC\u03BA\u03B8\u03BA\u03BB\u03BB\u03BD\u03BC\u03BA\u03BD\u03BE\x07_\u03BE\u03C2\u03BF\u03C0\x07^\u03C0\u03C2\x07_\u03C1\u03B4\u03C1\u03BF\u03C2\xC5\u03C3\u03C4\x9EP\u03C4\xC7\u03C5\u03C6\x9EP\u03C6\xC9\u03C7\u03C8\x07\u03C8\xCBo\xCE\xD0\xD9\xE4\xEE\xF3\xFC\u0101\u0105\u0114\u0117\u011C\u011F\u0125\u012B\u012E\u0130\u013E\u0140\u0144\u0151\u0156\u015A\u0162\u0165\u0173\u017C\u017E\u0183\u0194\u0198\u019D\u01A1\u01A9\u01AE\u01B2\u01B6\u01BB\u01BF\u01CE\u01D3\u01D7\u01DF\u01E3\u01E8\u01EC\u01F1\u01F9\u01FD\u01FF\u0205\u020A\u0211\u0215\u021F\u0224\u0228\u023D\u0244\u0249\u024D\u0253\u025A\u025F\u0263\u0267\u026A\u0270\u027D\u0282\u0286\u028A\u028D\u0296\u029B\u02A0\u02A3\u02A7\u02AC\u02B3\u02C7\u02CF\u02F0\u02F6\u0300\u0304\u0310\u0315\u033F\u0341\u0348\u034D\u0351\u0355\u035F\u0363\u0367\u036C\u0371\u0376\u037A\u0380\u0384\u038B\u039F\u03A7\u03AE\u03BA\u03C1";C._serializedATN=Kbe.join([C._serializedATNSegment0,C._serializedATNSegment1],"");var rre=class extends $r.ParserRuleContext{EOF(){return this.getToken(C.EOF,0)}malloyStatement(e){return e===void 0?this.getRuleContexts(gD):this.getRuleContext(e,gD)}SEMI(e){return e===void 0?this.getTokens(C.SEMI):this.getToken(C.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_malloyDocument}enterRule(e){e.enterMalloyDocument&&e.enterMalloyDocument(this)}exitRule(e){e.exitMalloyDocument&&e.exitMalloyDocument(this)}accept(e){return e.visitMalloyDocument?e.visitMalloyDocument(this):e.visitChildren(this)}};kt.MalloyDocumentContext=rre;var gD=class extends $r.ParserRuleContext{defineExploreStatement(){return this.tryGetRuleContext(0,Fq)}defineSQLStatement(){return this.tryGetRuleContext(0,Rq)}defineQuery(){return this.tryGetRuleContext(0,rw)}importStatement(){return this.tryGetRuleContext(0,Lq)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_malloyStatement}enterRule(e){e.enterMalloyStatement&&e.enterMalloyStatement(this)}exitRule(e){e.exitMalloyStatement&&e.exitMalloyStatement(this)}accept(e){return e.visitMalloyStatement?e.visitMalloyStatement(this):e.visitChildren(this)}};kt.MalloyStatementContext=gD;var Fq=class extends $r.ParserRuleContext{exploreKeyword(){return this.getRuleContext(0,Dq)}exploreDefinitionList(){return this.getRuleContext(0,jq)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_defineExploreStatement}enterRule(e){e.enterDefineExploreStatement&&e.enterDefineExploreStatement(this)}exitRule(e){e.exitDefineExploreStatement&&e.exitDefineExploreStatement(this)}accept(e){return e.visitDefineExploreStatement?e.visitDefineExploreStatement(this):e.visitChildren(this)}};kt.DefineExploreStatementContext=Fq;var Dq=class extends $r.ParserRuleContext{EXPLORE(){return this.tryGetToken(C.EXPLORE,0)}SOURCE(){return this.tryGetToken(C.SOURCE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreKeyword}enterRule(e){e.enterExploreKeyword&&e.enterExploreKeyword(this)}exitRule(e){e.exitExploreKeyword&&e.exitExploreKeyword(this)}accept(e){return e.visitExploreKeyword?e.visitExploreKeyword(this):e.visitChildren(this)}};kt.ExploreKeywordContext=Dq;var rw=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_defineQuery}copyFrom(e){super.copyFrom(e)}};kt.DefineQueryContext=rw;var ire=class extends rw{QUERY(){return this.getToken(C.QUERY,0)}topLevelQueryDefs(){return this.getRuleContext(0,Iq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedQueries_stub&&e.enterNamedQueries_stub(this)}exitRule(e){e.exitNamedQueries_stub&&e.exitNamedQueries_stub(this)}accept(e){return e.visitNamedQueries_stub?e.visitNamedQueries_stub(this):e.visitChildren(this)}};kt.NamedQueries_stubContext=ire;var sre=class extends rw{QUERY(){return this.getToken(C.QUERY,0)}topLevelAnonQueryDef(){return this.getRuleContext(0,Oq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterAnonymousQuery&&e.enterAnonymousQuery(this)}exitRule(e){e.exitAnonymousQuery&&e.exitAnonymousQuery(this)}accept(e){return e.visitAnonymousQuery?e.visitAnonymousQuery(this):e.visitChildren(this)}};kt.AnonymousQueryContext=sre;var Oq=class extends $r.ParserRuleContext{query(){return this.getRuleContext(0,I5)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topLevelAnonQueryDef}enterRule(e){e.enterTopLevelAnonQueryDef&&e.enterTopLevelAnonQueryDef(this)}exitRule(e){e.exitTopLevelAnonQueryDef&&e.exitTopLevelAnonQueryDef(this)}accept(e){return e.visitTopLevelAnonQueryDef?e.visitTopLevelAnonQueryDef(this):e.visitChildren(this)}};kt.TopLevelAnonQueryDefContext=Oq;var Rq=class extends $r.ParserRuleContext{SQL(){return this.getToken(C.SQL,0)}sqlStatementDef(){return this.getRuleContext(0,Nq)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_defineSQLStatement}enterRule(e){e.enterDefineSQLStatement&&e.enterDefineSQLStatement(this)}exitRule(e){e.exitDefineSQLStatement&&e.exitDefineSQLStatement(this)}accept(e){return e.visitDefineSQLStatement?e.visitDefineSQLStatement(this):e.visitChildren(this)}};kt.DefineSQLStatementContext=Rq;var Nq=class extends $r.ParserRuleContext{SQL_STRING(){return this.getToken(C.SQL_STRING,0)}sqlCommandNameDef(){return this.tryGetRuleContext(0,_U)}IS(){return this.tryGetToken(C.IS,0)}ON(){return this.tryGetToken(C.ON,0)}connectionName(){return this.tryGetRuleContext(0,bU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sqlStatementDef}enterRule(e){e.enterSqlStatementDef&&e.enterSqlStatementDef(this)}exitRule(e){e.exitSqlStatementDef&&e.exitSqlStatementDef(this)}accept(e){return e.visitSqlStatementDef?e.visitSqlStatementDef(this):e.visitChildren(this)}};kt.SqlStatementDefContext=Nq;var Lq=class extends $r.ParserRuleContext{IMPORT(){return this.getToken(C.IMPORT,0)}importURL(){return this.getRuleContext(0,kq)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_importStatement}enterRule(e){e.enterImportStatement&&e.enterImportStatement(this)}exitRule(e){e.exitImportStatement&&e.exitImportStatement(this)}accept(e){return e.visitImportStatement?e.visitImportStatement(this):e.visitChildren(this)}};kt.ImportStatementContext=Lq;var kq=class extends $r.ParserRuleContext{JSON_STRING(){return this.getToken(C.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_importURL}enterRule(e){e.enterImportURL&&e.enterImportURL(this)}exitRule(e){e.exitImportURL&&e.exitImportURL(this)}accept(e){return e.visitImportURL?e.visitImportURL(this):e.visitChildren(this)}};kt.ImportURLContext=kq;var Iq=class extends $r.ParserRuleContext{topLevelQueryDef(e){return e===void 0?this.getRuleContexts(yD):this.getRuleContext(e,yD)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topLevelQueryDefs}enterRule(e){e.enterTopLevelQueryDefs&&e.enterTopLevelQueryDefs(this)}exitRule(e){e.exitTopLevelQueryDefs&&e.exitTopLevelQueryDefs(this)}accept(e){return e.visitTopLevelQueryDefs?e.visitTopLevelQueryDefs(this):e.visitChildren(this)}};kt.TopLevelQueryDefsContext=Iq;var yD=class extends $r.ParserRuleContext{queryName(){return this.getRuleContext(0,C6)}IS(){return this.getToken(C.IS,0)}query(){return this.getRuleContext(0,I5)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topLevelQueryDef}enterRule(e){e.enterTopLevelQueryDef&&e.enterTopLevelQueryDef(this)}exitRule(e){e.exitTopLevelQueryDef&&e.exitTopLevelQueryDef(this)}accept(e){return e.visitTopLevelQueryDef?e.visitTopLevelQueryDef(this):e.visitChildren(this)}};kt.TopLevelQueryDefContext=yD;var E6=class extends $r.ParserRuleContext{PLUS(){return this.getToken(C.PLUS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_refineOperator}enterRule(e){e.enterRefineOperator&&e.enterRefineOperator(this)}exitRule(e){e.exitRefineOperator&&e.exitRefineOperator(this)}accept(e){return e.visitRefineOperator?e.visitRefineOperator(this):e.visitChildren(this)}};kt.RefineOperatorContext=E6;var I5=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_query}copyFrom(e){super.copyFrom(e)}};kt.QueryContext=I5;var ore=class extends I5{explore(){return this.getRuleContext(0,A6)}ARROW(){return this.getToken(C.ARROW,0)}pipelineFromName(){return this.getRuleContext(0,iw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExploreArrowQuery&&e.enterExploreArrowQuery(this)}exitRule(e){e.exitExploreArrowQuery&&e.exitExploreArrowQuery(this)}accept(e){return e.visitExploreArrowQuery?e.visitExploreArrowQuery(this):e.visitChildren(this)}};kt.ExploreArrowQueryContext=ore;var are=class extends I5{ARROW(){return this.getToken(C.ARROW,0)}queryName(){return this.getRuleContext(0,C6)}queryProperties(){return this.tryGetRuleContext(0,w6)}pipeElement(e){return e===void 0?this.getRuleContexts(S6):this.getRuleContext(e,S6)}refineOperator(){return this.tryGetRuleContext(0,E6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterArrowQuery&&e.enterArrowQuery(this)}exitRule(e){e.exitArrowQuery&&e.exitArrowQuery(this)}accept(e){return e.visitArrowQuery?e.visitArrowQuery(this):e.visitChildren(this)}};kt.ArrowQueryContext=are;var iw=class extends $r.ParserRuleContext{firstSegment(){return this.getRuleContext(0,Mq)}pipeElement(e){return e===void 0?this.getRuleContexts(S6):this.getRuleContext(e,S6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_pipelineFromName}enterRule(e){e.enterPipelineFromName&&e.enterPipelineFromName(this)}exitRule(e){e.exitPipelineFromName&&e.exitPipelineFromName(this)}accept(e){return e.visitPipelineFromName?e.visitPipelineFromName(this):e.visitChildren(this)}};kt.PipelineFromNameContext=iw;var Mq=class extends $r.ParserRuleContext{queryProperties(){return this.tryGetRuleContext(0,w6)}exploreQueryName(){return this.tryGetRuleContext(0,Bq)}refineOperator(){return this.tryGetRuleContext(0,E6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_firstSegment}enterRule(e){e.enterFirstSegment&&e.enterFirstSegment(this)}exitRule(e){e.exitFirstSegment&&e.exitFirstSegment(this)}accept(e){return e.visitFirstSegment?e.visitFirstSegment(this):e.visitChildren(this)}};kt.FirstSegmentContext=Mq;var S6=class extends $r.ParserRuleContext{ARROW(){return this.getToken(C.ARROW,0)}queryProperties(){return this.getRuleContext(0,w6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_pipeElement}enterRule(e){e.enterPipeElement&&e.enterPipeElement(this)}exitRule(e){e.exitPipeElement&&e.exitPipeElement(this)}accept(e){return e.visitPipeElement?e.visitPipeElement(this):e.visitChildren(this)}};kt.PipeElementContext=S6;var Pq=class extends $r.ParserRuleContext{TABLE(){return this.getToken(C.TABLE,0)}OPAREN(){return this.getToken(C.OPAREN,0)}tableName(){return this.getRuleContext(0,fU)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreTable}enterRule(e){e.enterExploreTable&&e.enterExploreTable(this)}exitRule(e){e.exitExploreTable&&e.exitExploreTable(this)}accept(e){return e.visitExploreTable?e.visitExploreTable(this):e.visitChildren(this)}};kt.ExploreTableContext=Pq;var w6=class extends $r.ParserRuleContext{filterShortcut(){return this.tryGetRuleContext(0,vD)}OCURLY(){return this.tryGetToken(C.OCURLY,0)}CCURLY(){return this.tryGetToken(C.CCURLY,0)}queryStatement(e){return e===void 0?this.getRuleContexts(FD):this.getRuleContext(e,FD)}SEMI(e){return e===void 0?this.getTokens(C.SEMI):this.getToken(C.SEMI,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryProperties}enterRule(e){e.enterQueryProperties&&e.enterQueryProperties(this)}exitRule(e){e.exitQueryProperties&&e.exitQueryProperties(this)}accept(e){return e.visitQueryProperties?e.visitQueryProperties(this):e.visitChildren(this)}};kt.QueryPropertiesContext=w6;var vD=class extends $r.ParserRuleContext{OCURLY(){return this.getToken(C.OCURLY,0)}QMARK(){return this.getToken(C.QMARK,0)}fieldExpr(){return this.getRuleContext(0,Fi)}CCURLY(){return this.getToken(C.CCURLY,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filterShortcut}enterRule(e){e.enterFilterShortcut&&e.enterFilterShortcut(this)}exitRule(e){e.exitFilterShortcut&&e.exitFilterShortcut(this)}accept(e){return e.visitFilterShortcut?e.visitFilterShortcut(this):e.visitChildren(this)}};kt.FilterShortcutContext=vD;var Bq=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,bd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreQueryName}enterRule(e){e.enterExploreQueryName&&e.enterExploreQueryName(this)}exitRule(e){e.exitExploreQueryName&&e.exitExploreQueryName(this)}accept(e){return e.visitExploreQueryName?e.visitExploreQueryName(this):e.visitChildren(this)}};kt.ExploreQueryNameContext=Bq;var C6=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,bd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryName}enterRule(e){e.enterQueryName&&e.enterQueryName(this)}exitRule(e){e.exitQueryName&&e.exitQueryName(this)}accept(e){return e.visitQueryName?e.visitQueryName(this):e.visitChildren(this)}};kt.QueryNameContext=C6;var jq=class extends $r.ParserRuleContext{exploreDefinition(e){return e===void 0?this.getRuleContexts(_D):this.getRuleContext(e,_D)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreDefinitionList}enterRule(e){e.enterExploreDefinitionList&&e.enterExploreDefinitionList(this)}exitRule(e){e.exitExploreDefinitionList&&e.exitExploreDefinitionList(this)}accept(e){return e.visitExploreDefinitionList?e.visitExploreDefinitionList(this):e.visitChildren(this)}};kt.ExploreDefinitionListContext=jq;var _D=class extends $r.ParserRuleContext{exploreNameDef(){return this.getRuleContext(0,qq)}IS(){return this.getToken(C.IS,0)}explore(){return this.getRuleContext(0,A6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreDefinition}enterRule(e){e.enterExploreDefinition&&e.enterExploreDefinition(this)}exitRule(e){e.exitExploreDefinition&&e.exitExploreDefinition(this)}accept(e){return e.visitExploreDefinition?e.visitExploreDefinition(this):e.visitChildren(this)}};kt.ExploreDefinitionContext=_D;var A6=class extends $r.ParserRuleContext{exploreSource(){return this.getRuleContext(0,M5)}exploreProperties(){return this.tryGetRuleContext(0,zq)}refineOperator(){return this.tryGetRuleContext(0,E6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_explore}enterRule(e){e.enterExplore&&e.enterExplore(this)}exitRule(e){e.exitExplore&&e.exitExplore(this)}accept(e){return e.visitExplore?e.visitExplore(this):e.visitChildren(this)}};kt.ExploreContext=A6;var M5=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreSource}copyFrom(e){super.copyFrom(e)}};kt.ExploreSourceContext=M5;var ure=class extends M5{exploreName(){return this.getRuleContext(0,Uq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNamedSource&&e.enterNamedSource(this)}exitRule(e){e.exitNamedSource&&e.exitNamedSource(this)}accept(e){return e.visitNamedSource?e.visitNamedSource(this):e.visitChildren(this)}};kt.NamedSourceContext=ure;var lre=class extends M5{exploreTable(){return this.getRuleContext(0,Pq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterTableSource&&e.enterTableSource(this)}exitRule(e){e.exitTableSource&&e.exitTableSource(this)}accept(e){return e.visitTableSource?e.visitTableSource(this):e.visitChildren(this)}};kt.TableSourceContext=lre;var cre=class extends M5{FROM(){return this.getToken(C.FROM,0)}OPAREN(){return this.getToken(C.OPAREN,0)}query(){return this.getRuleContext(0,I5)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQuerySource&&e.enterQuerySource(this)}exitRule(e){e.exitQuerySource&&e.exitQuerySource(this)}accept(e){return e.visitQuerySource?e.visitQuerySource(this):e.visitChildren(this)}};kt.QuerySourceContext=cre;var fre=class extends M5{FROM_SQL(){return this.getToken(C.FROM_SQL,0)}OPAREN(){return this.getToken(C.OPAREN,0)}sqlExploreNameRef(){return this.getRuleContext(0,vU)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterSQLSource&&e.enterSQLSource(this)}exitRule(e){e.exitSQLSource&&e.exitSQLSource(this)}accept(e){return e.visitSQLSource?e.visitSQLSource(this):e.visitChildren(this)}};kt.SQLSourceContext=fre;var qq=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,bd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreNameDef}enterRule(e){e.enterExploreNameDef&&e.enterExploreNameDef(this)}exitRule(e){e.exitExploreNameDef&&e.exitExploreNameDef(this)}accept(e){return e.visitExploreNameDef?e.visitExploreNameDef(this):e.visitChildren(this)}};kt.ExploreNameDefContext=qq;var Uq=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,bd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreName}enterRule(e){e.enterExploreName&&e.enterExploreName(this)}exitRule(e){e.exitExploreName&&e.exitExploreName(this)}accept(e){return e.visitExploreName?e.visitExploreName(this):e.visitChildren(this)}};kt.ExploreNameContext=Uq;var zq=class extends $r.ParserRuleContext{OCURLY(){return this.tryGetToken(C.OCURLY,0)}CCURLY(){return this.tryGetToken(C.CCURLY,0)}exploreStatement(e){return e===void 0?this.getRuleContexts(fh):this.getRuleContext(e,fh)}SEMI(e){return e===void 0?this.getTokens(C.SEMI):this.getToken(C.SEMI,e)}filterShortcut(){return this.tryGetRuleContext(0,vD)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreProperties}enterRule(e){e.enterExploreProperties&&e.enterExploreProperties(this)}exitRule(e){e.exitExploreProperties&&e.exitExploreProperties(this)}accept(e){return e.visitExploreProperties?e.visitExploreProperties(this):e.visitChildren(this)}};kt.ExplorePropertiesContext=zq;var fh=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreStatement}copyFrom(e){super.copyFrom(e)}};kt.ExploreStatementContext=fh;var dre=class extends fh{DIMENSION(){return this.getToken(C.DIMENSION,0)}dimensionDefList(){return this.getRuleContext(0,$q)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreDimension&&e.enterDefExploreDimension(this)}exitRule(e){e.exitDefExploreDimension&&e.exitDefExploreDimension(this)}accept(e){return e.visitDefExploreDimension?e.visitDefExploreDimension(this):e.visitChildren(this)}};kt.DefExploreDimensionContext=dre;var hre=class extends fh{MEASURE(){return this.getToken(C.MEASURE,0)}measureDefList(){return this.getRuleContext(0,Vq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreMeasure&&e.enterDefExploreMeasure(this)}exitRule(e){e.exitDefExploreMeasure&&e.exitDefExploreMeasure(this)}accept(e){return e.visitDefExploreMeasure?e.visitDefExploreMeasure(this):e.visitChildren(this)}};kt.DefExploreMeasureContext=hre;var pre=class extends fh{declareStatement(){return this.getRuleContext(0,wD)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefDeclare_stub&&e.enterDefDeclare_stub(this)}exitRule(e){e.exitDefDeclare_stub&&e.exitDefDeclare_stub(this)}accept(e){return e.visitDefDeclare_stub?e.visitDefDeclare_stub(this):e.visitChildren(this)}};kt.DefDeclare_stubContext=pre;var mre=class extends fh{joinStatement(){return this.getRuleContext(0,B5)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoin_stub&&e.enterDefJoin_stub(this)}exitRule(e){e.exitDefJoin_stub&&e.exitDefJoin_stub(this)}accept(e){return e.visitDefJoin_stub?e.visitDefJoin_stub(this):e.visitChildren(this)}};kt.DefJoin_stubContext=mre;var xre=class extends fh{whereStatement(){return this.getRuleContext(0,F6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreWhere&&e.enterDefExploreWhere(this)}exitRule(e){e.exitDefExploreWhere&&e.exitDefExploreWhere(this)}accept(e){return e.visitDefExploreWhere?e.visitDefExploreWhere(this):e.visitChildren(this)}};kt.DefExploreWhereContext=xre;var gre=class extends fh{PRIMARY_KEY(){return this.getToken(C.PRIMARY_KEY,0)}fieldName(){return this.getRuleContext(0,Ed)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExplorePrimaryKey&&e.enterDefExplorePrimaryKey(this)}exitRule(e){e.exitDefExplorePrimaryKey&&e.exitDefExplorePrimaryKey(this)}accept(e){return e.visitDefExplorePrimaryKey?e.visitDefExplorePrimaryKey(this):e.visitChildren(this)}};kt.DefExplorePrimaryKeyContext=gre;var yre=class extends fh{RENAME(){return this.getToken(C.RENAME,0)}renameList(){return this.getRuleContext(0,Hq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreRename&&e.enterDefExploreRename(this)}exitRule(e){e.exitDefExploreRename&&e.exitDefExploreRename(this)}accept(e){return e.visitDefExploreRename?e.visitDefExploreRename(this):e.visitChildren(this)}};kt.DefExploreRenameContext=yre;var vre=class extends fh{fieldNameList(){return this.getRuleContext(0,mU)}ACCEPT(){return this.tryGetToken(C.ACCEPT,0)}EXCEPT(){return this.tryGetToken(C.EXCEPT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreEditField&&e.enterDefExploreEditField(this)}exitRule(e){e.exitDefExploreEditField&&e.exitDefExploreEditField(this)}accept(e){return e.visitDefExploreEditField?e.visitDefExploreEditField(this):e.visitChildren(this)}};kt.DefExploreEditFieldContext=vre;var _re=class extends fh{QUERY(){return this.getToken(C.QUERY,0)}subQueryDefList(){return this.getRuleContext(0,Gq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefExploreQuery&&e.enterDefExploreQuery(this)}exitRule(e){e.exitDefExploreQuery&&e.exitDefExploreQuery(this)}accept(e){return e.visitDefExploreQuery?e.visitDefExploreQuery(this):e.visitChildren(this)}};kt.DefExploreQueryContext=_re;var Hq=class extends $r.ParserRuleContext{exploreRenameDef(e){return e===void 0?this.getRuleContexts(bD):this.getRuleContext(e,bD)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_renameList}enterRule(e){e.enterRenameList&&e.enterRenameList(this)}exitRule(e){e.exitRenameList&&e.exitRenameList(this)}accept(e){return e.visitRenameList?e.visitRenameList(this):e.visitChildren(this)}};kt.RenameListContext=Hq;var bD=class extends $r.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Ed):this.getRuleContext(e,Ed)}IS(){return this.getToken(C.IS,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreRenameDef}enterRule(e){e.enterExploreRenameDef&&e.enterExploreRenameDef(this)}exitRule(e){e.exitExploreRenameDef&&e.exitExploreRenameDef(this)}accept(e){return e.visitExploreRenameDef?e.visitExploreRenameDef(this):e.visitChildren(this)}};kt.ExploreRenameDefContext=bD;var $q=class extends $r.ParserRuleContext{dimensionDef(e){return e===void 0?this.getRuleContexts(aw):this.getRuleContext(e,aw)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_dimensionDefList}enterRule(e){e.enterDimensionDefList&&e.enterDimensionDefList(this)}exitRule(e){e.exitDimensionDefList&&e.exitDimensionDefList(this)}accept(e){return e.visitDimensionDefList?e.visitDimensionDefList(this):e.visitChildren(this)}};kt.DimensionDefListContext=$q;var Vq=class extends $r.ParserRuleContext{measureDef(e){return e===void 0?this.getRuleContexts(SD):this.getRuleContext(e,SD)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_measureDefList}enterRule(e){e.enterMeasureDefList&&e.enterMeasureDefList(this)}exitRule(e){e.exitMeasureDefList&&e.exitMeasureDefList(this)}accept(e){return e.visitMeasureDefList?e.visitMeasureDefList(this):e.visitChildren(this)}};kt.MeasureDefListContext=Vq;var P5=class extends $r.ParserRuleContext{fieldNameDef(){return this.getRuleContext(0,Wq)}IS(){return this.getToken(C.IS,0)}fieldExpr(){return this.getRuleContext(0,Fi)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldDef}enterRule(e){e.enterFieldDef&&e.enterFieldDef(this)}exitRule(e){e.exitFieldDef&&e.exitFieldDef(this)}accept(e){return e.visitFieldDef?e.visitFieldDef(this):e.visitChildren(this)}};kt.FieldDefContext=P5;var Wq=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,bd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldNameDef}enterRule(e){e.enterFieldNameDef&&e.enterFieldNameDef(this)}exitRule(e){e.exitFieldNameDef&&e.exitFieldNameDef(this)}accept(e){return e.visitFieldNameDef?e.visitFieldNameDef(this):e.visitChildren(this)}};kt.FieldNameDefContext=Wq;var ED=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,bd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinNameDef}enterRule(e){e.enterJoinNameDef&&e.enterJoinNameDef(this)}exitRule(e){e.exitJoinNameDef&&e.exitJoinNameDef(this)}accept(e){return e.visitJoinNameDef?e.visitJoinNameDef(this):e.visitChildren(this)}};kt.JoinNameDefContext=ED;var SD=class extends $r.ParserRuleContext{fieldDef(){return this.getRuleContext(0,P5)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_measureDef}enterRule(e){e.enterMeasureDef&&e.enterMeasureDef(this)}exitRule(e){e.exitMeasureDef&&e.exitMeasureDef(this)}accept(e){return e.visitMeasureDef?e.visitMeasureDef(this):e.visitChildren(this)}};kt.MeasureDefContext=SD;var wD=class extends $r.ParserRuleContext{DECLARE(){return this.getToken(C.DECLARE,0)}fieldDef(e){return e===void 0?this.getRuleContexts(P5):this.getRuleContext(e,P5)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_declareStatement}enterRule(e){e.enterDeclareStatement&&e.enterDeclareStatement(this)}exitRule(e){e.exitDeclareStatement&&e.exitDeclareStatement(this)}accept(e){return e.visitDeclareStatement?e.visitDeclareStatement(this):e.visitChildren(this)}};kt.DeclareStatementContext=wD;var B5=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinStatement}copyFrom(e){super.copyFrom(e)}};kt.JoinStatementContext=B5;var bre=class extends B5{JOIN_ONE(){return this.getToken(C.JOIN_ONE,0)}joinList(){return this.getRuleContext(0,sw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinOne&&e.enterDefJoinOne(this)}exitRule(e){e.exitDefJoinOne&&e.exitDefJoinOne(this)}accept(e){return e.visitDefJoinOne?e.visitDefJoinOne(this):e.visitChildren(this)}};kt.DefJoinOneContext=bre;var Ere=class extends B5{JOIN_MANY(){return this.getToken(C.JOIN_MANY,0)}joinList(){return this.getRuleContext(0,sw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinMany&&e.enterDefJoinMany(this)}exitRule(e){e.exitDefJoinMany&&e.exitDefJoinMany(this)}accept(e){return e.visitDefJoinMany?e.visitDefJoinMany(this):e.visitChildren(this)}};kt.DefJoinManyContext=Ere;var Sre=class extends B5{JOIN_CROSS(){return this.getToken(C.JOIN_CROSS,0)}joinList(){return this.getRuleContext(0,sw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterDefJoinCross&&e.enterDefJoinCross(this)}exitRule(e){e.exitDefJoinCross&&e.exitDefJoinCross(this)}accept(e){return e.visitDefJoinCross?e.visitDefJoinCross(this):e.visitChildren(this)}};kt.DefJoinCrossContext=Sre;var sw=class extends $r.ParserRuleContext{joinDef(e){return e===void 0?this.getRuleContexts(T6):this.getRuleContext(e,T6)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinList}enterRule(e){e.enterJoinList&&e.enterJoinList(this)}exitRule(e){e.exitJoinList&&e.exitJoinList(this)}accept(e){return e.visitJoinList?e.visitJoinList(this):e.visitChildren(this)}};kt.JoinListContext=sw;var T6=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinDef}copyFrom(e){super.copyFrom(e)}};kt.JoinDefContext=T6;var wre=class extends T6{joinNameDef(){return this.getRuleContext(0,ED)}WITH(){return this.getToken(C.WITH,0)}fieldExpr(){return this.getRuleContext(0,Fi)}IS(){return this.tryGetToken(C.IS,0)}explore(){return this.tryGetRuleContext(0,A6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinWith&&e.enterJoinWith(this)}exitRule(e){e.exitJoinWith&&e.exitJoinWith(this)}accept(e){return e.visitJoinWith?e.visitJoinWith(this):e.visitChildren(this)}};kt.JoinWithContext=wre;var Cre=class extends T6{joinNameDef(){return this.getRuleContext(0,ED)}IS(){return this.tryGetToken(C.IS,0)}explore(){return this.tryGetRuleContext(0,A6)}ON(){return this.tryGetToken(C.ON,0)}joinExpression(){return this.tryGetRuleContext(0,Qq)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterJoinOn&&e.enterJoinOn(this)}exitRule(e){e.exitJoinOn&&e.exitJoinOn(this)}accept(e){return e.visitJoinOn?e.visitJoinOn(this):e.visitChildren(this)}};kt.JoinOnContext=Cre;var Qq=class extends $r.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,Fi)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinExpression}enterRule(e){e.enterJoinExpression&&e.enterJoinExpression(this)}exitRule(e){e.exitJoinExpression&&e.exitJoinExpression(this)}accept(e){return e.visitJoinExpression?e.visitJoinExpression(this):e.visitChildren(this)}};kt.JoinExpressionContext=Qq;var Are=class extends $r.ParserRuleContext{whereStatement(){return this.tryGetRuleContext(0,F6)}havingStatement(){return this.tryGetRuleContext(0,AD)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filterStatement}enterRule(e){e.enterFilterStatement&&e.enterFilterStatement(this)}exitRule(e){e.exitFilterStatement&&e.exitFilterStatement(this)}accept(e){return e.visitFilterStatement?e.visitFilterStatement(this):e.visitChildren(this)}};kt.FilterStatementContext=Are;var ow=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filteredBy}copyFrom(e){super.copyFrom(e)}};kt.FilteredByContext=ow;var Tre=class extends ow{QMARK(){return this.getToken(C.QMARK,0)}fieldExpr(){return this.getRuleContext(0,Fi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByShortcut&&e.enterFilterByShortcut(this)}exitRule(e){e.exitFilterByShortcut&&e.exitFilterByShortcut(this)}accept(e){return e.visitFilterByShortcut?e.visitFilterByShortcut(this):e.visitChildren(this)}};kt.FilterByShortcutContext=Tre;var Fre=class extends ow{whereStatement(){return this.getRuleContext(0,F6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterFilterByWhere&&e.enterFilterByWhere(this)}exitRule(e){e.exitFilterByWhere&&e.exitFilterByWhere(this)}accept(e){return e.visitFilterByWhere?e.visitFilterByWhere(this):e.visitChildren(this)}};kt.FilterByWhereContext=Fre;var CD=class extends $r.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(Fi):this.getRuleContext(e,Fi)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_filterClauseList}enterRule(e){e.enterFilterClauseList&&e.enterFilterClauseList(this)}exitRule(e){e.exitFilterClauseList&&e.exitFilterClauseList(this)}accept(e){return e.visitFilterClauseList?e.visitFilterClauseList(this):e.visitChildren(this)}};kt.FilterClauseListContext=CD;var F6=class extends $r.ParserRuleContext{WHERE(){return this.getToken(C.WHERE,0)}filterClauseList(){return this.getRuleContext(0,CD)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_whereStatement}enterRule(e){e.enterWhereStatement&&e.enterWhereStatement(this)}exitRule(e){e.exitWhereStatement&&e.exitWhereStatement(this)}accept(e){return e.visitWhereStatement?e.visitWhereStatement(this):e.visitChildren(this)}};kt.WhereStatementContext=F6;var AD=class extends $r.ParserRuleContext{HAVING(){return this.getToken(C.HAVING,0)}filterClauseList(){return this.getRuleContext(0,CD)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_havingStatement}enterRule(e){e.enterHavingStatement&&e.enterHavingStatement(this)}exitRule(e){e.exitHavingStatement&&e.exitHavingStatement(this)}accept(e){return e.visitHavingStatement?e.visitHavingStatement(this):e.visitChildren(this)}};kt.HavingStatementContext=AD;var Gq=class extends $r.ParserRuleContext{exploreQueryDef(e){return e===void 0?this.getRuleContexts(TD):this.getRuleContext(e,TD)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_subQueryDefList}enterRule(e){e.enterSubQueryDefList&&e.enterSubQueryDefList(this)}exitRule(e){e.exitSubQueryDefList&&e.exitSubQueryDefList(this)}accept(e){return e.visitSubQueryDefList?e.visitSubQueryDefList(this):e.visitChildren(this)}};kt.SubQueryDefListContext=Gq;var Yq=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,bd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreQueryNameDef}enterRule(e){e.enterExploreQueryNameDef&&e.enterExploreQueryNameDef(this)}exitRule(e){e.exitExploreQueryNameDef&&e.exitExploreQueryNameDef(this)}accept(e){return e.visitExploreQueryNameDef?e.visitExploreQueryNameDef(this):e.visitChildren(this)}};kt.ExploreQueryNameDefContext=Yq;var TD=class extends $r.ParserRuleContext{exploreQueryNameDef(){return this.getRuleContext(0,Yq)}IS(){return this.getToken(C.IS,0)}pipelineFromName(){return this.getRuleContext(0,iw)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_exploreQueryDef}enterRule(e){e.enterExploreQueryDef&&e.enterExploreQueryDef(this)}exitRule(e){e.exitExploreQueryDef&&e.exitExploreQueryDef(this)}accept(e){return e.visitExploreQueryDef?e.visitExploreQueryDef(this):e.visitChildren(this)}};kt.ExploreQueryDefContext=TD;var FD=class extends $r.ParserRuleContext{groupByStatement(){return this.tryGetRuleContext(0,Kq)}declareStatement(){return this.tryGetRuleContext(0,wD)}joinStatement(){return this.tryGetRuleContext(0,B5)}projectStatement(){return this.tryGetRuleContext(0,eU)}indexStatement(){return this.tryGetRuleContext(0,aU)}aggregateStatement(){return this.tryGetRuleContext(0,Zq)}topStatement(){return this.tryGetRuleContext(0,sU)}limitStatement(){return this.tryGetRuleContext(0,rU)}orderByStatement(){return this.tryGetRuleContext(0,tU)}whereStatement(){return this.tryGetRuleContext(0,F6)}havingStatement(){return this.tryGetRuleContext(0,AD)}nestStatement(){return this.tryGetRuleContext(0,Jq)}sampleStatement(){return this.tryGetRuleContext(0,uU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryStatement}enterRule(e){e.enterQueryStatement&&e.enterQueryStatement(this)}exitRule(e){e.exitQueryStatement&&e.exitQueryStatement(this)}accept(e){return e.visitQueryStatement?e.visitQueryStatement(this):e.visitChildren(this)}};kt.QueryStatementContext=FD;var Kq=class extends $r.ParserRuleContext{GROUP_BY(){return this.getToken(C.GROUP_BY,0)}queryFieldList(){return this.getRuleContext(0,DD)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_groupByStatement}enterRule(e){e.enterGroupByStatement&&e.enterGroupByStatement(this)}exitRule(e){e.exitGroupByStatement&&e.exitGroupByStatement(this)}accept(e){return e.visitGroupByStatement?e.visitGroupByStatement(this):e.visitChildren(this)}};kt.GroupByStatementContext=Kq;var DD=class extends $r.ParserRuleContext{queryFieldEntry(e){return e===void 0?this.getRuleContexts(D6):this.getRuleContext(e,D6)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryFieldList}enterRule(e){e.enterQueryFieldList&&e.enterQueryFieldList(this)}exitRule(e){e.exitQueryFieldList&&e.exitQueryFieldList(this)}accept(e){return e.visitQueryFieldList?e.visitQueryFieldList(this):e.visitChildren(this)}};kt.QueryFieldListContext=DD;var aw=class extends $r.ParserRuleContext{fieldDef(){return this.getRuleContext(0,P5)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_dimensionDef}enterRule(e){e.enterDimensionDef&&e.enterDimensionDef(this)}exitRule(e){e.exitDimensionDef&&e.exitDimensionDef(this)}accept(e){return e.visitDimensionDef?e.visitDimensionDef(this):e.visitChildren(this)}};kt.DimensionDefContext=aw;var D6=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_queryFieldEntry}copyFrom(e){super.copyFrom(e)}};kt.QueryFieldEntryContext=D6;var Dre=class extends D6{fieldPath(){return this.getRuleContext(0,Zg)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldRef&&e.enterQueryFieldRef(this)}exitRule(e){e.exitQueryFieldRef&&e.exitQueryFieldRef(this)}accept(e){return e.visitQueryFieldRef?e.visitQueryFieldRef(this):e.visitChildren(this)}};kt.QueryFieldRefContext=Dre;var Ore=class extends D6{dimensionDef(){return this.getRuleContext(0,aw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterQueryFieldDef&&e.enterQueryFieldDef(this)}exitRule(e){e.exitQueryFieldDef&&e.exitQueryFieldDef(this)}accept(e){return e.visitQueryFieldDef?e.visitQueryFieldDef(this):e.visitChildren(this)}};kt.QueryFieldDefContext=Ore;var Jq=class extends $r.ParserRuleContext{NEST(){return this.getToken(C.NEST,0)}nestedQueryList(){return this.getRuleContext(0,Xq)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_nestStatement}enterRule(e){e.enterNestStatement&&e.enterNestStatement(this)}exitRule(e){e.exitNestStatement&&e.exitNestStatement(this)}accept(e){return e.visitNestStatement?e.visitNestStatement(this):e.visitChildren(this)}};kt.NestStatementContext=Jq;var Xq=class extends $r.ParserRuleContext{nestEntry(e){return e===void 0?this.getRuleContexts(O6):this.getRuleContext(e,O6)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_nestedQueryList}enterRule(e){e.enterNestedQueryList&&e.enterNestedQueryList(this)}exitRule(e){e.exitNestedQueryList&&e.exitNestedQueryList(this)}accept(e){return e.visitNestedQueryList?e.visitNestedQueryList(this):e.visitChildren(this)}};kt.NestedQueryListContext=Xq;var O6=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_nestEntry}copyFrom(e){super.copyFrom(e)}};kt.NestEntryContext=O6;var Rre=class extends O6{queryName(){return this.getRuleContext(0,C6)}queryProperties(){return this.tryGetRuleContext(0,w6)}refineOperator(){return this.tryGetRuleContext(0,E6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestExisting&&e.enterNestExisting(this)}exitRule(e){e.exitNestExisting&&e.exitNestExisting(this)}accept(e){return e.visitNestExisting?e.visitNestExisting(this):e.visitChildren(this)}};kt.NestExistingContext=Rre;var Nre=class extends O6{queryName(){return this.getRuleContext(0,C6)}IS(){return this.getToken(C.IS,0)}pipelineFromName(){return this.getRuleContext(0,iw)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNestDef&&e.enterNestDef(this)}exitRule(e){e.exitNestDef&&e.exitNestDef(this)}accept(e){return e.visitNestDef?e.visitNestDef(this):e.visitChildren(this)}};kt.NestDefContext=Nre;var Zq=class extends $r.ParserRuleContext{AGGREGATE(){return this.getToken(C.AGGREGATE,0)}queryFieldList(){return this.getRuleContext(0,DD)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_aggregateStatement}enterRule(e){e.enterAggregateStatement&&e.enterAggregateStatement(this)}exitRule(e){e.exitAggregateStatement&&e.exitAggregateStatement(this)}accept(e){return e.visitAggregateStatement?e.visitAggregateStatement(this):e.visitChildren(this)}};kt.AggregateStatementContext=Zq;var eU=class extends $r.ParserRuleContext{PROJECT(){return this.getToken(C.PROJECT,0)}fieldCollection(){return this.getRuleContext(0,xU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_projectStatement}enterRule(e){e.enterProjectStatement&&e.enterProjectStatement(this)}exitRule(e){e.exitProjectStatement&&e.exitProjectStatement(this)}accept(e){return e.visitProjectStatement?e.visitProjectStatement(this):e.visitChildren(this)}};kt.ProjectStatementContext=eU;var tU=class extends $r.ParserRuleContext{ORDER_BY(){return this.getToken(C.ORDER_BY,0)}ordering(){return this.getRuleContext(0,nU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_orderByStatement}enterRule(e){e.enterOrderByStatement&&e.enterOrderByStatement(this)}exitRule(e){e.exitOrderByStatement&&e.exitOrderByStatement(this)}accept(e){return e.visitOrderByStatement?e.visitOrderByStatement(this):e.visitChildren(this)}};kt.OrderByStatementContext=tU;var nU=class extends $r.ParserRuleContext{orderBySpec(e){return e===void 0?this.getRuleContexts(OD):this.getRuleContext(e,OD)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_ordering}enterRule(e){e.enterOrdering&&e.enterOrdering(this)}exitRule(e){e.exitOrdering&&e.exitOrdering(this)}accept(e){return e.visitOrdering?e.visitOrdering(this):e.visitChildren(this)}};kt.OrderingContext=nU;var OD=class extends $r.ParserRuleContext{INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}fieldName(){return this.tryGetRuleContext(0,Ed)}ASC(){return this.tryGetToken(C.ASC,0)}DESC(){return this.tryGetToken(C.DESC,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_orderBySpec}enterRule(e){e.enterOrderBySpec&&e.enterOrderBySpec(this)}exitRule(e){e.exitOrderBySpec&&e.exitOrderBySpec(this)}accept(e){return e.visitOrderBySpec?e.visitOrderBySpec(this):e.visitChildren(this)}};kt.OrderBySpecContext=OD;var rU=class extends $r.ParserRuleContext{LIMIT(){return this.getToken(C.LIMIT,0)}INTEGER_LITERAL(){return this.getToken(C.INTEGER_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_limitStatement}enterRule(e){e.enterLimitStatement&&e.enterLimitStatement(this)}exitRule(e){e.exitLimitStatement&&e.exitLimitStatement(this)}accept(e){return e.visitLimitStatement?e.visitLimitStatement(this):e.visitChildren(this)}};kt.LimitStatementContext=rU;var iU=class extends $r.ParserRuleContext{BY(){return this.getToken(C.BY,0)}fieldName(){return this.tryGetRuleContext(0,Ed)}fieldExpr(){return this.tryGetRuleContext(0,Fi)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_bySpec}enterRule(e){e.enterBySpec&&e.enterBySpec(this)}exitRule(e){e.exitBySpec&&e.exitBySpec(this)}accept(e){return e.visitBySpec?e.visitBySpec(this):e.visitChildren(this)}};kt.BySpecContext=iU;var sU=class extends $r.ParserRuleContext{TOP(){return this.getToken(C.TOP,0)}INTEGER_LITERAL(){return this.getToken(C.INTEGER_LITERAL,0)}bySpec(){return this.tryGetRuleContext(0,iU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_topStatement}enterRule(e){e.enterTopStatement&&e.enterTopStatement(this)}exitRule(e){e.exitTopStatement&&e.exitTopStatement(this)}accept(e){return e.visitTopStatement?e.visitTopStatement(this):e.visitChildren(this)}};kt.TopStatementContext=sU;var RD=class extends $r.ParserRuleContext{fieldPath(){return this.tryGetRuleContext(0,Zg)}DOT(){return this.tryGetToken(C.DOT,0)}STAR(){return this.tryGetToken(C.STAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_indexElement}enterRule(e){e.enterIndexElement&&e.enterIndexElement(this)}exitRule(e){e.exitIndexElement&&e.exitIndexElement(this)}accept(e){return e.visitIndexElement?e.visitIndexElement(this):e.visitChildren(this)}};kt.IndexElementContext=RD;var oU=class extends $r.ParserRuleContext{indexElement(e){return e===void 0?this.getRuleContexts(RD):this.getRuleContext(e,RD)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_indexFields}enterRule(e){e.enterIndexFields&&e.enterIndexFields(this)}exitRule(e){e.exitIndexFields&&e.exitIndexFields(this)}accept(e){return e.visitIndexFields?e.visitIndexFields(this):e.visitChildren(this)}};kt.IndexFieldsContext=oU;var aU=class extends $r.ParserRuleContext{INDEX(){return this.getToken(C.INDEX,0)}indexFields(){return this.getRuleContext(0,oU)}BY(){return this.tryGetToken(C.BY,0)}fieldName(){return this.tryGetRuleContext(0,Ed)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_indexStatement}enterRule(e){e.enterIndexStatement&&e.enterIndexStatement(this)}exitRule(e){e.exitIndexStatement&&e.exitIndexStatement(this)}accept(e){return e.visitIndexStatement?e.visitIndexStatement(this):e.visitChildren(this)}};kt.IndexStatementContext=aU;var uU=class extends $r.ParserRuleContext{SAMPLE(){return this.getToken(C.SAMPLE,0)}sampleSpec(){return this.getRuleContext(0,lU)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sampleStatement}enterRule(e){e.enterSampleStatement&&e.enterSampleStatement(this)}exitRule(e){e.exitSampleStatement&&e.exitSampleStatement(this)}accept(e){return e.visitSampleStatement?e.visitSampleStatement(this):e.visitChildren(this)}};kt.SampleStatementContext=uU;var lU=class extends $r.ParserRuleContext{PERCENT_LITERAL(){return this.tryGetToken(C.PERCENT_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}TRUE(){return this.tryGetToken(C.TRUE,0)}FALSE(){return this.tryGetToken(C.FALSE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sampleSpec}enterRule(e){e.enterSampleSpec&&e.enterSampleSpec(this)}exitRule(e){e.exitSampleSpec&&e.exitSampleSpec(this)}accept(e){return e.visitSampleSpec?e.visitSampleSpec(this):e.visitChildren(this)}};kt.SampleSpecContext=lU;var cU=class extends $r.ParserRuleContext{SUM(){return this.tryGetToken(C.SUM,0)}COUNT(){return this.tryGetToken(C.COUNT,0)}AVG(){return this.tryGetToken(C.AVG,0)}MIN(){return this.tryGetToken(C.MIN,0)}MAX(){return this.tryGetToken(C.MAX,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_aggregate}enterRule(e){e.enterAggregate&&e.enterAggregate(this)}exitRule(e){e.exitAggregate&&e.exitAggregate(this)}accept(e){return e.visitAggregate?e.visitAggregate(this):e.visitChildren(this)}};kt.AggregateContext=cU;var ND=class extends $r.ParserRuleContext{STRING(){return this.tryGetToken(C.STRING,0)}NUMBER(){return this.tryGetToken(C.NUMBER,0)}BOOLEAN(){return this.tryGetToken(C.BOOLEAN,0)}DATE(){return this.tryGetToken(C.DATE,0)}TIMESTAMP(){return this.tryGetToken(C.TIMESTAMP,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_malloyType}enterRule(e){e.enterMalloyType&&e.enterMalloyType(this)}exitRule(e){e.exitMalloyType&&e.exitMalloyType(this)}accept(e){return e.visitMalloyType?e.visitMalloyType(this):e.visitChildren(this)}};kt.MalloyTypeContext=ND;var LD=class extends $r.ParserRuleContext{MATCH(){return this.tryGetToken(C.MATCH,0)}NOT_MATCH(){return this.tryGetToken(C.NOT_MATCH,0)}GT(){return this.tryGetToken(C.GT,0)}LT(){return this.tryGetToken(C.LT,0)}GTE(){return this.tryGetToken(C.GTE,0)}LTE(){return this.tryGetToken(C.LTE,0)}EQ(){return this.tryGetToken(C.EQ,0)}NE(){return this.tryGetToken(C.NE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_compareOp}enterRule(e){e.enterCompareOp&&e.enterCompareOp(this)}exitRule(e){e.exitCompareOp&&e.exitCompareOp(this)}accept(e){return e.visitCompareOp?e.visitCompareOp(this):e.visitChildren(this)}};kt.CompareOpContext=LD;var vm=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_literal}copyFrom(e){super.copyFrom(e)}};kt.LiteralContext=vm;var Lre=class extends vm{STRING_LITERAL(){return this.getToken(C.STRING_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprString&&e.enterExprString(this)}exitRule(e){e.exitExprString&&e.exitExprString(this)}accept(e){return e.visitExprString?e.visitExprString(this):e.visitChildren(this)}};kt.ExprStringContext=Lre;var kre=class extends vm{NUMERIC_LITERAL(){return this.tryGetToken(C.NUMERIC_LITERAL,0)}INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNumber&&e.enterExprNumber(this)}exitRule(e){e.exitExprNumber&&e.exitExprNumber(this)}accept(e){return e.visitExprNumber?e.visitExprNumber(this):e.visitChildren(this)}};kt.ExprNumberContext=kre;var Ire=class extends vm{dateLiteral(){return this.getRuleContext(0,cx)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTime&&e.enterExprTime(this)}exitRule(e){e.exitExprTime&&e.exitExprTime(this)}accept(e){return e.visitExprTime?e.visitExprTime(this):e.visitChildren(this)}};kt.ExprTimeContext=Ire;var Mre=class extends vm{NULL(){return this.getToken(C.NULL,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNULL&&e.enterExprNULL(this)}exitRule(e){e.exitExprNULL&&e.exitExprNULL(this)}accept(e){return e.visitExprNULL?e.visitExprNULL(this):e.visitChildren(this)}};kt.ExprNULLContext=Mre;var Pre=class extends vm{TRUE(){return this.tryGetToken(C.TRUE,0)}FALSE(){return this.tryGetToken(C.FALSE,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprBool&&e.enterExprBool(this)}exitRule(e){e.exitExprBool&&e.exitExprBool(this)}accept(e){return e.visitExprBool?e.visitExprBool(this):e.visitChildren(this)}};kt.ExprBoolContext=Pre;var Bre=class extends vm{HACKY_REGEX(){return this.getToken(C.HACKY_REGEX,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRegex&&e.enterExprRegex(this)}exitRule(e){e.exitExprRegex&&e.exitExprRegex(this)}accept(e){return e.visitExprRegex?e.visitExprRegex(this):e.visitChildren(this)}};kt.ExprRegexContext=Bre;var jre=class extends vm{NOW(){return this.getToken(C.NOW,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNow&&e.enterExprNow(this)}exitRule(e){e.exitExprNow&&e.exitExprNow(this)}accept(e){return e.visitExprNow?e.visitExprNow(this):e.visitChildren(this)}};kt.ExprNowContext=jre;var cx=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_dateLiteral}copyFrom(e){super.copyFrom(e)}};kt.DateLiteralContext=cx;var qre=class extends cx{LITERAL_TIMESTAMP(){return this.getToken(C.LITERAL_TIMESTAMP,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralTimestamp&&e.enterLiteralTimestamp(this)}exitRule(e){e.exitLiteralTimestamp&&e.exitLiteralTimestamp(this)}accept(e){return e.visitLiteralTimestamp?e.visitLiteralTimestamp(this):e.visitChildren(this)}};kt.LiteralTimestampContext=qre;var Ure=class extends cx{LITERAL_DAY(){return this.getToken(C.LITERAL_DAY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralDay&&e.enterLiteralDay(this)}exitRule(e){e.exitLiteralDay&&e.exitLiteralDay(this)}accept(e){return e.visitLiteralDay?e.visitLiteralDay(this):e.visitChildren(this)}};kt.LiteralDayContext=Ure;var zre=class extends cx{LITERAL_WEEK(){return this.getToken(C.LITERAL_WEEK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralWeek&&e.enterLiteralWeek(this)}exitRule(e){e.exitLiteralWeek&&e.exitLiteralWeek(this)}accept(e){return e.visitLiteralWeek?e.visitLiteralWeek(this):e.visitChildren(this)}};kt.LiteralWeekContext=zre;var Hre=class extends cx{LITERAL_MONTH(){return this.getToken(C.LITERAL_MONTH,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralMonth&&e.enterLiteralMonth(this)}exitRule(e){e.exitLiteralMonth&&e.exitLiteralMonth(this)}accept(e){return e.visitLiteralMonth?e.visitLiteralMonth(this):e.visitChildren(this)}};kt.LiteralMonthContext=Hre;var $re=class extends cx{LITERAL_QUARTER(){return this.getToken(C.LITERAL_QUARTER,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralQuarter&&e.enterLiteralQuarter(this)}exitRule(e){e.exitLiteralQuarter&&e.exitLiteralQuarter(this)}accept(e){return e.visitLiteralQuarter?e.visitLiteralQuarter(this):e.visitChildren(this)}};kt.LiteralQuarterContext=$re;var Vre=class extends cx{LITERAL_YEAR(){return this.getToken(C.LITERAL_YEAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterLiteralYear&&e.enterLiteralYear(this)}exitRule(e){e.exitLiteralYear&&e.exitLiteralYear(this)}accept(e){return e.visitLiteralYear?e.visitLiteralYear(this):e.visitChildren(this)}};kt.LiteralYearContext=Vre;var fU=class extends $r.ParserRuleContext{STRING_LITERAL(){return this.getToken(C.STRING_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_tableName}enterRule(e){e.enterTableName&&e.enterTableName(this)}exitRule(e){e.exitTableName&&e.exitTableName(this)}accept(e){return e.visitTableName?e.visitTableName(this):e.visitChildren(this)}};kt.TableNameContext=fU;var bd=class extends $r.ParserRuleContext{IDENTIFIER(){return this.tryGetToken(C.IDENTIFIER,0)}OBJECT_NAME_LITERAL(){return this.tryGetToken(C.OBJECT_NAME_LITERAL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_id}enterRule(e){e.enterId&&e.enterId(this)}exitRule(e){e.exitId&&e.exitId(this)}accept(e){return e.visitId?e.visitId(this):e.visitChildren(this)}};kt.IdContext=bd;var R6=class extends $r.ParserRuleContext{SECOND(){return this.tryGetToken(C.SECOND,0)}MINUTE(){return this.tryGetToken(C.MINUTE,0)}HOUR(){return this.tryGetToken(C.HOUR,0)}DAY(){return this.tryGetToken(C.DAY,0)}WEEK(){return this.tryGetToken(C.WEEK,0)}MONTH(){return this.tryGetToken(C.MONTH,0)}QUARTER(){return this.tryGetToken(C.QUARTER,0)}YEAR(){return this.tryGetToken(C.YEAR,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_timeframe}enterRule(e){e.enterTimeframe&&e.enterTimeframe(this)}exitRule(e){e.exitTimeframe&&e.exitTimeframe(this)}accept(e){return e.visitTimeframe?e.visitTimeframe(this):e.visitChildren(this)}};kt.TimeframeContext=R6;var dU=class extends $r.ParserRuleContext{ALL(){return this.tryGetToken(C.ALL,0)}EXCLUDE(){return this.tryGetToken(C.EXCLUDE,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_ungroup}enterRule(e){e.enterUngroup&&e.enterUngroup(this)}exitRule(e){e.exitUngroup&&e.exitUngroup(this)}accept(e){return e.visitUngroup?e.visitUngroup(this):e.visitChildren(this)}};kt.UngroupContext=dU;var Fi=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldExpr}copyFrom(e){super.copyFrom(e)}};kt.FieldExprContext=Fi;var Wre=class extends Fi{fieldPath(){return this.getRuleContext(0,Zg)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFieldPath&&e.enterExprFieldPath(this)}exitRule(e){e.exitExprFieldPath&&e.exitExprFieldPath(this)}accept(e){return e.visitExprFieldPath?e.visitExprFieldPath(this):e.visitChildren(this)}};kt.ExprFieldPathContext=Wre;var Qre=class extends Fi{fieldExpr(){return this.getRuleContext(0,Fi)}OCURLY(){return this.getToken(C.OCURLY,0)}filteredBy(){return this.getRuleContext(0,ow)}CCURLY(){return this.getToken(C.CCURLY,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFilter&&e.enterExprFilter(this)}exitRule(e){e.exitExprFilter&&e.exitExprFilter(this)}accept(e){return e.visitExprFilter?e.visitExprFilter(this):e.visitChildren(this)}};kt.ExprFilterContext=Qre;var Gre=class extends Fi{literal(){return this.getRuleContext(0,vm)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLiteral&&e.enterExprLiteral(this)}exitRule(e){e.exitExprLiteral&&e.exitExprLiteral(this)}accept(e){return e.visitExprLiteral?e.visitExprLiteral(this):e.visitChildren(this)}};kt.ExprLiteralContext=Gre;var Yre=class extends Fi{MINUS(){return this.getToken(C.MINUS,0)}fieldExpr(){return this.getRuleContext(0,Fi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMinus&&e.enterExprMinus(this)}exitRule(e){e.exitExprMinus&&e.exitExprMinus(this)}accept(e){return e.visitExprMinus?e.visitExprMinus(this):e.visitChildren(this)}};kt.ExprMinusContext=Yre;var Kre=class extends Fi{fieldExpr(){return this.getRuleContext(0,Fi)}timeframe(){return this.getRuleContext(0,R6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprDuration&&e.enterExprDuration(this)}exitRule(e){e.exitExprDuration&&e.exitExprDuration(this)}accept(e){return e.visitExprDuration?e.visitExprDuration(this):e.visitChildren(this)}};kt.ExprDurationContext=Kre;var Jre=class extends Fi{fieldExpr(){return this.getRuleContext(0,Fi)}DOT(){return this.getToken(C.DOT,0)}timeframe(){return this.getRuleContext(0,R6)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprTimeTrunc&&e.enterExprTimeTrunc(this)}exitRule(e){e.exitExprTimeTrunc&&e.exitExprTimeTrunc(this)}accept(e){return e.visitExprTimeTrunc?e.visitExprTimeTrunc(this):e.visitChildren(this)}};kt.ExprTimeTruncContext=Jre;var Xre=class extends Fi{fieldExpr(){return this.getRuleContext(0,Fi)}DOUBLECOLON(){return this.getToken(C.DOUBLECOLON,0)}malloyType(){return this.getRuleContext(0,ND)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprSafeCast&&e.enterExprSafeCast(this)}exitRule(e){e.exitExprSafeCast&&e.exitExprSafeCast(this)}accept(e){return e.visitExprSafeCast?e.visitExprSafeCast(this):e.visitChildren(this)}};kt.ExprSafeCastContext=Xre;var Zre=class extends Fi{fieldExpr(e){return e===void 0?this.getRuleContexts(Fi):this.getRuleContext(e,Fi)}STAR(){return this.tryGetToken(C.STAR,0)}SLASH(){return this.tryGetToken(C.SLASH,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprMulDiv&&e.enterExprMulDiv(this)}exitRule(e){e.exitExprMulDiv&&e.exitExprMulDiv(this)}accept(e){return e.visitExprMulDiv?e.visitExprMulDiv(this):e.visitChildren(this)}};kt.ExprMulDivContext=Zre;var eie=class extends Fi{fieldExpr(e){return e===void 0?this.getRuleContexts(Fi):this.getRuleContext(e,Fi)}PLUS(){return this.tryGetToken(C.PLUS,0)}MINUS(){return this.tryGetToken(C.MINUS,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAddSub&&e.enterExprAddSub(this)}exitRule(e){e.exitExprAddSub&&e.exitExprAddSub(this)}accept(e){return e.visitExprAddSub?e.visitExprAddSub(this):e.visitChildren(this)}};kt.ExprAddSubContext=eie;var tie=class extends Fi{fieldExpr(e){return e===void 0?this.getRuleContexts(Fi):this.getRuleContext(e,Fi)}TO(){return this.getToken(C.TO,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprRange&&e.enterExprRange(this)}exitRule(e){e.exitExprRange&&e.exitExprRange(this)}accept(e){return e.visitExprRange?e.visitExprRange(this):e.visitChildren(this)}};kt.ExprRangeContext=tie;var nie=class extends Fi{constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}FOR(){return this.getToken(C.FOR,0)}timeframe(){return this.getRuleContext(0,R6)}fieldExpr(e){return e===void 0?this.getRuleContexts(Fi):this.getRuleContext(e,Fi)}enterRule(e){e.enterExprForRange&&e.enterExprForRange(this)}exitRule(e){e.exitExprForRange&&e.exitExprForRange(this)}accept(e){return e.visitExprForRange?e.visitExprForRange(this):e.visitChildren(this)}};kt.ExprForRangeContext=nie;var rie=class extends Fi{fieldExpr(){return this.getRuleContext(0,Fi)}partialAllowedFieldExpr(){return this.getRuleContext(0,Xg)}AMPER(){return this.tryGetToken(C.AMPER,0)}BAR(){return this.tryGetToken(C.BAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogicalTree&&e.enterExprLogicalTree(this)}exitRule(e){e.exitExprLogicalTree&&e.exitExprLogicalTree(this)}accept(e){return e.visitExprLogicalTree?e.visitExprLogicalTree(this):e.visitChildren(this)}};kt.ExprLogicalTreeContext=rie;var iie=class extends Fi{fieldExpr(e){return e===void 0?this.getRuleContexts(Fi):this.getRuleContext(e,Fi)}compareOp(){return this.getRuleContext(0,LD)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCompare&&e.enterExprCompare(this)}exitRule(e){e.exitExprCompare&&e.exitExprCompare(this)}accept(e){return e.visitExprCompare?e.visitExprCompare(this):e.visitChildren(this)}};kt.ExprCompareContext=iie;var sie=class extends Fi{fieldExpr(){return this.getRuleContext(0,Fi)}partialAllowedFieldExpr(){return this.getRuleContext(0,Xg)}COLON(){return this.tryGetToken(C.COLON,0)}QMARK(){return this.tryGetToken(C.QMARK,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprApply&&e.enterExprApply(this)}exitRule(e){e.exitExprApply&&e.exitExprApply(this)}accept(e){return e.visitExprApply?e.visitExprApply(this):e.visitChildren(this)}};kt.ExprApplyContext=sie;var oie=class extends Fi{NOT(){return this.getToken(C.NOT,0)}fieldExpr(){return this.getRuleContext(0,Fi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNot&&e.enterExprNot(this)}exitRule(e){e.exitExprNot&&e.exitExprNot(this)}accept(e){return e.visitExprNot?e.visitExprNot(this):e.visitChildren(this)}};kt.ExprNotContext=oie;var aie=class extends Fi{fieldExpr(e){return e===void 0?this.getRuleContexts(Fi):this.getRuleContext(e,Fi)}AND(){return this.tryGetToken(C.AND,0)}OR(){return this.tryGetToken(C.OR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprLogical&&e.enterExprLogical(this)}exitRule(e){e.exitExprLogical&&e.exitExprLogical(this)}accept(e){return e.visitExprLogical?e.visitExprLogical(this):e.visitChildren(this)}};kt.ExprLogicalContext=aie;var uie=class extends Fi{CAST(){return this.getToken(C.CAST,0)}OPAREN(){return this.getToken(C.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,Fi)}AS(){return this.getToken(C.AS,0)}malloyType(){return this.getRuleContext(0,ND)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCast&&e.enterExprCast(this)}exitRule(e){e.exitExprCast&&e.exitExprCast(this)}accept(e){return e.visitExprCast?e.visitExprCast(this):e.visitChildren(this)}};kt.ExprCastContext=uie;var lie=class extends Fi{COUNT(){return this.getToken(C.COUNT,0)}OPAREN(){return this.getToken(C.OPAREN,0)}DISTINCT(){return this.getToken(C.DISTINCT,0)}fieldExpr(){return this.getRuleContext(0,Fi)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprCountDisinct&&e.enterExprCountDisinct(this)}exitRule(e){e.exitExprCountDisinct&&e.exitExprCountDisinct(this)}accept(e){return e.visitExprCountDisinct?e.visitExprCountDisinct(this):e.visitChildren(this)}};kt.ExprCountDisinctContext=lie;var cie=class extends Fi{aggregate(){return this.getRuleContext(0,cU)}OPAREN(){return this.getToken(C.OPAREN,0)}CPAREN(){return this.getToken(C.CPAREN,0)}fieldPath(){return this.tryGetRuleContext(0,Zg)}DOT(){return this.tryGetToken(C.DOT,0)}fieldExpr(){return this.tryGetRuleContext(0,Fi)}STAR(){return this.tryGetToken(C.STAR,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprAggregate&&e.enterExprAggregate(this)}exitRule(e){e.exitExprAggregate&&e.exitExprAggregate(this)}accept(e){return e.visitExprAggregate?e.visitExprAggregate(this):e.visitChildren(this)}};kt.ExprAggregateContext=cie;var fie=class extends Fi{OPAREN(){return this.getToken(C.OPAREN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,Xg)}CPAREN(){return this.getToken(C.CPAREN,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprExpr&&e.enterExprExpr(this)}exitRule(e){e.exitExprExpr&&e.exitExprExpr(this)}accept(e){return e.visitExprExpr?e.visitExprExpr(this):e.visitChildren(this)}};kt.ExprExprContext=fie;var die=class extends Fi{OPAREN(){return this.getToken(C.OPAREN,0)}CPAREN(){return this.getToken(C.CPAREN,0)}id(){return this.tryGetRuleContext(0,bd)}timeframe(){return this.tryGetRuleContext(0,R6)}argumentList(){return this.tryGetRuleContext(0,pU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprFunc&&e.enterExprFunc(this)}exitRule(e){e.exitExprFunc&&e.exitExprFunc(this)}accept(e){return e.visitExprFunc?e.visitExprFunc(this):e.visitChildren(this)}};kt.ExprFuncContext=die;var hie=class extends Fi{pickStatement(){return this.getRuleContext(0,hU)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprPick&&e.enterExprPick(this)}exitRule(e){e.exitExprPick&&e.exitExprPick(this)}accept(e){return e.visitExprPick?e.visitExprPick(this):e.visitChildren(this)}};kt.ExprPickContext=hie;var pie=class extends Fi{ungroup(){return this.getRuleContext(0,dU)}OPAREN(){return this.getToken(C.OPAREN,0)}fieldExpr(){return this.getRuleContext(0,Fi)}CPAREN(){return this.getToken(C.CPAREN,0)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}fieldName(e){return e===void 0?this.getRuleContexts(Ed):this.getRuleContext(e,Ed)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprUngroup&&e.enterExprUngroup(this)}exitRule(e){e.exitExprUngroup&&e.exitExprUngroup(this)}accept(e){return e.visitExprUngroup?e.visitExprUngroup(this):e.visitChildren(this)}};kt.ExprUngroupContext=pie;var Xg=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_partialAllowedFieldExpr}copyFrom(e){super.copyFrom(e)}};kt.PartialAllowedFieldExprContext=Xg;var mie=class extends Xg{compareOp(){return this.getRuleContext(0,LD)}fieldExpr(){return this.getRuleContext(0,Fi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprPartialCompare&&e.enterExprPartialCompare(this)}exitRule(e){e.exitExprPartialCompare&&e.exitExprPartialCompare(this)}accept(e){return e.visitExprPartialCompare?e.visitExprPartialCompare(this):e.visitChildren(this)}};kt.ExprPartialCompareContext=mie;var xie=class extends Xg{fieldExpr(){return this.getRuleContext(0,Fi)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterExprNotPartial&&e.enterExprNotPartial(this)}exitRule(e){e.exitExprNotPartial&&e.exitExprNotPartial(this)}accept(e){return e.visitExprNotPartial?e.visitExprNotPartial(this):e.visitChildren(this)}};kt.ExprNotPartialContext=xie;var hU=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}pick(e){return e===void 0?this.getRuleContexts(kD):this.getRuleContext(e,kD)}ELSE(){return this.tryGetToken(C.ELSE,0)}fieldExpr(){return this.tryGetRuleContext(0,Fi)}get ruleIndex(){return C.RULE_pickStatement}enterRule(e){e.enterPickStatement&&e.enterPickStatement(this)}exitRule(e){e.exitPickStatement&&e.exitPickStatement(this)}accept(e){return e.visitPickStatement?e.visitPickStatement(this):e.visitChildren(this)}};kt.PickStatementContext=hU;var kD=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}PICK(){return this.getToken(C.PICK,0)}WHEN(){return this.getToken(C.WHEN,0)}partialAllowedFieldExpr(){return this.getRuleContext(0,Xg)}fieldExpr(){return this.tryGetRuleContext(0,Fi)}get ruleIndex(){return C.RULE_pick}enterRule(e){e.enterPick&&e.enterPick(this)}exitRule(e){e.exitPick&&e.exitPick(this)}accept(e){return e.visitPick?e.visitPick(this):e.visitChildren(this)}};kt.PickContext=kD;var pU=class extends $r.ParserRuleContext{fieldExpr(e){return e===void 0?this.getRuleContexts(Fi):this.getRuleContext(e,Fi)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_argumentList}enterRule(e){e.enterArgumentList&&e.enterArgumentList(this)}exitRule(e){e.exitArgumentList&&e.exitArgumentList(this)}accept(e){return e.visitArgumentList?e.visitArgumentList(this):e.visitChildren(this)}};kt.ArgumentListContext=pU;var mU=class extends $r.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Ed):this.getRuleContext(e,Ed)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldNameList}enterRule(e){e.enterFieldNameList&&e.enterFieldNameList(this)}exitRule(e){e.exitFieldNameList&&e.exitFieldNameList(this)}accept(e){return e.visitFieldNameList?e.visitFieldNameList(this):e.visitChildren(this)}};kt.FieldNameListContext=mU;var xU=class extends $r.ParserRuleContext{collectionMember(e){return e===void 0?this.getRuleContexts(j5):this.getRuleContext(e,j5)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldCollection}enterRule(e){e.enterFieldCollection&&e.enterFieldCollection(this)}exitRule(e){e.exitFieldCollection&&e.exitFieldCollection(this)}accept(e){return e.visitFieldCollection?e.visitFieldCollection(this):e.visitChildren(this)}};kt.FieldCollectionContext=xU;var j5=class extends $r.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_collectionMember}copyFrom(e){super.copyFrom(e)}};kt.CollectionMemberContext=j5;var gie=class extends j5{fieldPath(){return this.getRuleContext(0,Zg)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNameMember&&e.enterNameMember(this)}exitRule(e){e.exitNameMember&&e.exitNameMember(this)}accept(e){return e.visitNameMember?e.visitNameMember(this):e.visitChildren(this)}};kt.NameMemberContext=gie;var yie=class extends j5{STAR(){return this.tryGetToken(C.STAR,0)}STARSTAR(){return this.tryGetToken(C.STARSTAR,0)}fieldPath(){return this.tryGetRuleContext(0,Zg)}DOT(){return this.tryGetToken(C.DOT,0)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterWildMember&&e.enterWildMember(this)}exitRule(e){e.exitWildMember&&e.exitWildMember(this)}accept(e){return e.visitWildMember?e.visitWildMember(this):e.visitChildren(this)}};kt.WildMemberContext=yie;var vie=class extends j5{fieldDef(){return this.getRuleContext(0,P5)}constructor(e){super(e.parent,e.invokingState);this.copyFrom(e)}enterRule(e){e.enterNewMember&&e.enterNewMember(this)}exitRule(e){e.exitNewMember&&e.exitNewMember(this)}accept(e){return e.visitNewMember?e.visitNewMember(this):e.visitChildren(this)}};kt.NewMemberContext=vie;var Zg=class extends $r.ParserRuleContext{fieldName(e){return e===void 0?this.getRuleContexts(Ed):this.getRuleContext(e,Ed)}DOT(e){return e===void 0?this.getTokens(C.DOT):this.getToken(C.DOT,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldPath}enterRule(e){e.enterFieldPath&&e.enterFieldPath(this)}exitRule(e){e.exitFieldPath&&e.exitFieldPath(this)}accept(e){return e.visitFieldPath?e.visitFieldPath(this):e.visitChildren(this)}};kt.FieldPathContext=Zg;var _ie=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,bd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_joinName}enterRule(e){e.enterJoinName&&e.enterJoinName(this)}exitRule(e){e.exitJoinName&&e.exitJoinName(this)}accept(e){return e.visitJoinName?e.visitJoinName(this):e.visitChildren(this)}};kt.JoinNameContext=_ie;var Ed=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,bd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_fieldName}enterRule(e){e.enterFieldName&&e.enterFieldName(this)}exitRule(e){e.exitFieldName&&e.exitFieldName(this)}accept(e){return e.visitFieldName?e.visitFieldName(this):e.visitChildren(this)}};kt.FieldNameContext=Ed;var bie=class extends $r.ParserRuleContext{fieldExpr(){return this.getRuleContext(0,Fi)}EOF(){return this.getToken(C.EOF,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_justExpr}enterRule(e){e.enterJustExpr&&e.enterJustExpr(this)}exitRule(e){e.exitJustExpr&&e.exitJustExpr(this)}accept(e){return e.visitJustExpr?e.visitJustExpr(this):e.visitChildren(this)}};kt.JustExprContext=bie;var Eie=class extends $r.ParserRuleContext{jsonValue(){return this.getRuleContext(0,N6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_json}enterRule(e){e.enterJson&&e.enterJson(this)}exitRule(e){e.exitJson&&e.exitJson(this)}accept(e){return e.visitJson?e.visitJson(this):e.visitChildren(this)}};kt.JsonContext=Eie;var N6=class extends $r.ParserRuleContext{JSON_STRING(){return this.tryGetToken(C.JSON_STRING,0)}INTEGER_LITERAL(){return this.tryGetToken(C.INTEGER_LITERAL,0)}NUMERIC_LITERAL(){return this.tryGetToken(C.NUMERIC_LITERAL,0)}jsonObject(){return this.tryGetRuleContext(0,gU)}jsonArray(){return this.tryGetRuleContext(0,yU)}TRUE(){return this.tryGetToken(C.TRUE,0)}FALSE(){return this.tryGetToken(C.FALSE,0)}NULL(){return this.tryGetToken(C.NULL,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonValue}enterRule(e){e.enterJsonValue&&e.enterJsonValue(this)}exitRule(e){e.exitJsonValue&&e.exitJsonValue(this)}accept(e){return e.visitJsonValue?e.visitJsonValue(this):e.visitChildren(this)}};kt.JsonValueContext=N6;var gU=class extends $r.ParserRuleContext{OCURLY(){return this.getToken(C.OCURLY,0)}jsonProperty(e){return e===void 0?this.getRuleContexts(ID):this.getRuleContext(e,ID)}CCURLY(){return this.getToken(C.CCURLY,0)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonObject}enterRule(e){e.enterJsonObject&&e.enterJsonObject(this)}exitRule(e){e.exitJsonObject&&e.exitJsonObject(this)}accept(e){return e.visitJsonObject?e.visitJsonObject(this):e.visitChildren(this)}};kt.JsonObjectContext=gU;var ID=class extends $r.ParserRuleContext{JSON_STRING(){return this.getToken(C.JSON_STRING,0)}COLON(){return this.getToken(C.COLON,0)}jsonValue(){return this.getRuleContext(0,N6)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonProperty}enterRule(e){e.enterJsonProperty&&e.enterJsonProperty(this)}exitRule(e){e.exitJsonProperty&&e.exitJsonProperty(this)}accept(e){return e.visitJsonProperty?e.visitJsonProperty(this):e.visitChildren(this)}};kt.JsonPropertyContext=ID;var yU=class extends $r.ParserRuleContext{OBRACK(){return this.getToken(C.OBRACK,0)}jsonValue(e){return e===void 0?this.getRuleContexts(N6):this.getRuleContext(e,N6)}CBRACK(){return this.getToken(C.CBRACK,0)}COMMA(e){return e===void 0?this.getTokens(C.COMMA):this.getToken(C.COMMA,e)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_jsonArray}enterRule(e){e.enterJsonArray&&e.enterJsonArray(this)}exitRule(e){e.exitJsonArray&&e.exitJsonArray(this)}accept(e){return e.visitJsonArray?e.visitJsonArray(this):e.visitChildren(this)}};kt.JsonArrayContext=yU;var vU=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,bd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sqlExploreNameRef}enterRule(e){e.enterSqlExploreNameRef&&e.enterSqlExploreNameRef(this)}exitRule(e){e.exitSqlExploreNameRef&&e.exitSqlExploreNameRef(this)}accept(e){return e.visitSqlExploreNameRef?e.visitSqlExploreNameRef(this):e.visitChildren(this)}};kt.SqlExploreNameRefContext=vU;var _U=class extends $r.ParserRuleContext{id(){return this.getRuleContext(0,bd)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_sqlCommandNameDef}enterRule(e){e.enterSqlCommandNameDef&&e.enterSqlCommandNameDef(this)}exitRule(e){e.exitSqlCommandNameDef&&e.exitSqlCommandNameDef(this)}accept(e){return e.visitSqlCommandNameDef?e.visitSqlCommandNameDef(this):e.visitChildren(this)}};kt.SqlCommandNameDefContext=_U;var bU=class extends $r.ParserRuleContext{JSON_STRING(){return this.getToken(C.JSON_STRING,0)}constructor(e,t){super(e,t)}get ruleIndex(){return C.RULE_connectionName}enterRule(e){e.enterConnectionName&&e.enterConnectionName(this)}exitRule(e){e.exitConnectionName&&e.exitConnectionName(this)}accept(e){return e.visitConnectionName?e.visitConnectionName(this):e.visitChildren(this)}};kt.ConnectionNameContext=bU});var Xbe=Ae(Ll=>{"use strict";m();Object.defineProperty(Ll,"__esModule",{value:!0});Ll.isEquality=Ll.isComparison=Ll.timestampOffset=Ll.dateOffset=Ll.compose=Ll.compressExpr=Ll.errorFor=Ll.isGranularResult=Ll.FT=Ll.isExpressionValueType=void 0;var Rut=im();function Nut(n){return(0,Rut.isAtomicFieldType)(n)||["null","unknown","duration","regular expression"].includes(n)}Ll.isExpressionValueType=Nut;var R0=class{static in(e,t){return e?t.find(i=>R0.eq(i,e))!==void 0:!1}static eq(e,t){return t!==void 0&&e.dataType===t.dataType&&e.aggregate===t.aggregate}static typeEq(e,t,r=!1){let i=e.dataType===t.dataType,s=r&&(e.dataType==="null"||t.dataType==="null");return i||s}static inspect(...e){return e.map(r=>{if(r){let i=r.dataType;return r.aggregate&&(i=`aggregate ${i}`),i}return"undefined"}).join(",")}};Ll.FT=R0;R0.nullT=uw("null");R0.numberT=uw("number");R0.stringT=uw("string");R0.dateT=uw("date");R0.timestampT=uw("timestamp");R0.boolT=uw("boolean");R0.anyAtomicT=[R0.numberT,R0.stringT,R0.dateT,R0.timestampT,R0.boolT];function uw(n){return{dataType:n,aggregate:!1}}function Lut(n){return n.dataType!=="date"&&n.dataType!=="timestamp"?!1:n.timeframe!==void 0}Ll.isGranularResult=Lut;function kut(n){return{dataType:"unknown",aggregate:!1,value:[`_ERROR_${n.replace(/ /g,"_")}`]}}Ll.errorFor=kut;function Jbe(n){return n.length>1?["(",...n,")"]:n.length===0?["__MISSING_VALUE__"]:n}function wie(n){let e=[],t;for(let r of n.flat())typeof r=="string"?t=t?t+r:r:(t&&(e.push(t),t=void 0),e.push(r));return t&&e.push(t),e}Ll.compressExpr=wie;function Iut(n,e,t){let r=e.match(/^[A-Za-z]/),i=n.length===1&&r?" ":"",s=t.length===1&&r?" ":"",o=i+e+s;return[...Jbe(n),o,...Jbe(t)]}Ll.compose=Iut;function Mut(n,e,t,r){let i=e==="+"?"_ADD":"_SUB",s=r.toUpperCase();return wie([`DATE${i}(`,...n,",INTERVAL ",...t,` ${s})`])}Ll.dateOffset=Mut;function Put(n,e,t,r,i=!1){let s=["week","month","quarter","year"].includes(r),o=e==="+"?"_ADD":"_SUB",a=r.toUpperCase();if(s)return[`TIMESTAMP(DATETIME${o}(DATETIME(`,...n,"),INTERVAL ",...t,` ${a}))`];let c=i?["TIMESTAMP(",...n,")"]:n;return wie([`TIMESTAMP${o}(`,...c,",INTERVAL ",...t,` ${a})`])}Ll.timestampOffset=Put;function But(n){return["~","!~","<","<=","=",">",">=","!="].includes(n)}Ll.isComparison=But;function jut(n){return["~","!~","=","!="].includes(n)}Ll.isEquality=jut});var wU=Ae(Do=>{"use strict";m();var qut=Do&&Do.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Uut=Do&&Do.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),zut=Do&&Do.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&qut(e,n,t);return Uut(e,n),e};Object.defineProperty(Do,"__esModule",{value:!0});Do.ExpressionFieldFromAst=Do.ReferenceField=Do.FANSPaceField=Do.QueryFieldStruct=Do.QueryFieldAST=Do.QueryField=Do.ColumnSpaceField=Do.JoinSpaceField=Do.StructSpaceField=Do.WildSpaceField=Do.RenameSpaceField=Do.SpaceField=Do.AbstractParameter=Do.DefinedParameter=Do.SpaceParam=Do.SpaceEntry=void 0;var Zbe=zut(im()),Hut=CU(),EU=class{};Do.SpaceEntry=EU;var MD=class extends EU{constructor(){super(...arguments);this.refType="parameter"}};Do.SpaceParam=MD;var eEe=class extends MD{constructor(e){super();this.paramDef=e}parameter(){return this.paramDef}type(){return{type:this.paramDef.type}}};Do.DefinedParameter=eEe;var tEe=class extends MD{constructor(e){super();this.astParam=e}parameter(){return this.astParam.parameter()}type(){return{type:this.astParam.type||"unknown"}}};Do.AbstractParameter=tEe;var fx=class extends EU{constructor(){super(...arguments);this.refType="field"}fieldTypeFromFieldDef(e){let t={type:e.type};return Zbe.isFieldTypeDef(e)&&e.aggregate&&(t.aggregate=!0),t}getQueryFieldDef(e){}fieldDef(){}};Do.SpaceField=fx;var nEe=class extends fx{constructor(e,t,r){super();this.otherField=e,this.newName=t,this.location=r}fieldDef(){let e=this.otherField.fieldDef();if(e!==void 0)return{...e,as:this.newName,location:this.location}}type(){return this.otherField.type()}};Do.RenameSpaceField=nEe;var rEe=class extends fx{constructor(e){super();this.wildText=e}type(){throw new Error("should never ask a wild field for its type")}getQueryFieldDef(e){return this.wildText}};Do.WildSpaceField=rEe;var Cie=class extends fx{constructor(e){super();this.sourceDef=e}get fieldSpace(){return this.space||(this.space=new Hut.StaticSpace(this.sourceDef)),this.space}fieldDef(){return this.sourceDef}type(){return{type:"struct"}}};Do.StructSpaceField=Cie;var iEe=class extends Cie{constructor(e,t){super(t.structDef());this.intoFS=e,this.join=t}};Do.JoinSpaceField=iEe;var sEe=class extends fx{constructor(e){super();this.def=e}fieldDef(){return this.def}type(){return this.fieldTypeFromFieldDef(this.def)}};Do.ColumnSpaceField=sEe;var SU=class extends fx{constructor(e){super();this.inSpace=e}type(){return{type:"turtle"}}};Do.QueryField=SU;var oEe=class extends SU{constructor(e,t,r){super(e);this.turtle=t,this.name=r}getQueryFieldDef(e){let t=this.turtle.getFieldDef(e,this.nestParent);return this.renameAs&&(t.as=this.renameAs),t}fieldDef(){let e=this.turtle.getFieldDef(this.inSpace,this.nestParent);return this.renameAs&&(e.as=this.renameAs),e}};Do.QueryFieldAST=oEe;var aEe=class extends SU{constructor(e,t){super(e);this.turtleDef=t}rename(e){this.turtleDef={...this.turtleDef,as:e}}fieldDef(){return this.turtleDef}getQueryFieldDef(e){return this.fieldDef()}};Do.QueryFieldStruct=aEe;var uEe=class extends fx{constructor(e,t,r){super();this.ref=e,this.inSpace=t,Object.assign(this,r)}name(){return this.as||this.ref.refString}filtersPresent(){return this.filterList&&this.filterList.length>0}fieldDef(){if(this.as===void 0)return;let e=this.ref.getField(this.inSpace).found;if(e===void 0)return;let t=e.type(),r=t.type;if(Zbe.isAtomicFieldType(r)){if(e instanceof MD)return{type:r,name:this.as,e:[{type:"parameter",path:this.ref.refString}],aggregate:!1};let i=[{type:"field",path:this.ref.refString}];return this.filtersPresent()&&this.filterList&&(i=[{type:"filterExpression",filterList:this.filterList,e:i}]),{type:r,name:this.as,e:i,aggregate:t.aggregate}}}getQueryFieldDef(e){let t={name:this.ref.refString};return this.filtersPresent()&&(t.filterList=this.filterList),this.as&&(t.as=this.as),t.as||t.filterList?t:this.ref.refString}type(){let e=this.ref.getField(this.inSpace).found;return(e==null?void 0:e.type())||{type:"unknown"}}};Do.FANSPaceField=uEe;var lEe=class extends fx{constructor(e){super();this.fieldRef=e}getQueryFieldDef(e){let t=this.fieldRef.getField(e);return t.error&&this.fieldRef.log(t.error),this.fieldRef.refString}type(){return{type:"unknown"}}};Do.ReferenceField=lEe;var cEe=class extends fx{constructor(e,t){super();this.space=e,this.exprDef=t,this.fieldName=t.defineName}get name(){return this.fieldName}fieldDef(){let e=this.exprDef.fieldDef(this.space,this.name);return this.defType=this.fieldTypeFromFieldDef(e),e}getQueryFieldDef(e){let t=this.exprDef.queryFieldDef(e,this.name);return this.defType=this.fieldTypeFromFieldDef(t),t}type(){return this.defType?this.defType:this.fieldTypeFromFieldDef(this.fieldDef())}};Do.ExpressionFieldFromAst=cEe});var fEe=Ae(lw=>{"use strict";m();Object.defineProperty(lw,"__esModule",{value:!0});lw.mergeFields=lw.nameOf=void 0;function Aie(n){return typeof n=="string"?n:n.as||n.name}lw.nameOf=Aie;function $ut(n,e){if(n==null)return e;let t=new Set(e.map(i=>Aie(i))),r=n.filter(i=>!t.has(Aie(i)));return r.push(...e),r}lw.mergeFields=$ut});var CU=Ae(Yu=>{"use strict";m();var Vut=Yu&&Yu.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Wut=Yu&&Yu.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Qut=Yu&&Yu.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Vut(e,n,t);return Wut(e,n),e};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.DefSpace=Yu.IndexFieldSpace=Yu.ProjectFieldSpace=Yu.ReduceFieldSpace=Yu.ResultSpace=Yu.QuerySpace=Yu.DynamicSpace=Yu.StaticSpace=void 0;var Gut=qT(),Yut=uB(),Tie=Qut(im()),a1=q5(),kl=wU(),AU=fEe(),TU=class{constructor(e){this.type="fieldSpace",this.fromStruct=e}whenComplete(e){e()}dialectObj(){try{return(0,Yut.getDialect)(this.fromStruct.dialect)}catch{return}}fromFieldDef(e){return e.type==="struct"?new kl.StructSpaceField(e):Tie.isTurtleDef(e)?new kl.QueryFieldStruct(this,e):new kl.ColumnSpaceField(e)}get map(){if(this.memoMap===void 0){this.memoMap={};for(let e of this.fromStruct.fields){let t=e.as||e.name;this.memoMap[t]=this.fromFieldDef(e)}if(this.fromStruct.parameters)for(let[e,t]of Object.entries(this.fromStruct.parameters)){if(this.memoMap[e])throw new Error(`In struct '${this.fromStruct.as||this.fromStruct.name}':  : Field and parameter name conflict '${e}`);this.memoMap[e]=new kl.DefinedParameter(t)}}return this.memoMap}dropEntries(){this.memoMap={}}dropEntry(e){delete this.map[e]}entry(e){return this.map[e]}setEntry(e,t){this.map[e]=t}entries(){return Object.entries(this.map)}structDef(){return this.fromStruct}emptyStructDef(){return{...this.fromStruct,fields:[]}}lookup(e){let t=e[0],r=e.slice(1),i=this.entry(t.refString);if(!i)return{error:`'${t}' is not defined`,found:i};if(i instanceof kl.SpaceField){let s=i.fieldDef();s&&t.addReference({type:i instanceof kl.StructSpaceField?"joinReference":"fieldReference",definition:s,location:t.location,text:t.refString})}return r.length?i instanceof kl.StructSpaceField?i.fieldSpace.lookup(r):{error:`'${t}' cannot contain a '${r[0]}'`,found:void 0}:{found:i,error:void 0}}};Yu.StaticSpace=TU;function dEe(n){return n.type=="fieldSpace"}var Fie=class{constructor(e){this.sourceSpec=e,this.spaceSpec=e}get structDef(){return dEe(this.spaceSpec)?(this.asStruct||(this.asStruct=this.spaceSpec.structDef()),this.asStruct):this.spaceSpec}get fieldSpace(){return dEe(this.spaceSpec)?this.spaceSpec:(this.asFS||(this.asFS=new TU(this.spaceSpec)),this.asFS)}},cw=class extends TU{constructor(e){let t=new Fie(e);super((0,Gut.cloneDeep)(t.structDef));this.completions=[],this.complete=!1,this.final=void 0,this.source=t}static filteredFrom(e,t){let r=new cw(e);if(t){let i=t.refs.list,s=r.entries();r.dropEntries();for(let[o,a]of s){let c=!!i.find(p=>p.refString===o),d=t.edit==="accept";c===d&&r.setEntry(o,a)}}return r}whenComplete(e){this.complete?e():this.completions.push(e)}isComplete(){this.complete=!0;for(let e of this.completions)e();this.completions=[]}setEntry(e,t){if(this.final)throw new Error("Space already final");super.setEntry(e,t)}addParameters(e){for(let t of e)this.setEntry(t.name,new kl.AbstractParameter(t));return this}newEntry(e,t,r){if(this.entry(e)){t.log(`Cannot redefine '${e}'`);return}this.setEntry(e,r)}addField(...e){for(let t of e){let r=t.log,i=t.elementType;if(t instanceof a1.FieldDeclaration){let s=new kl.ExpressionFieldFromAst(this,t);this.newEntry(s.name,t,s)}else if(t instanceof a1.TurtleDecl){let s=t.name;this.newEntry(s,t,new kl.QueryFieldAST(this,t,s))}else if(t instanceof a1.RenameField){if(t.oldName.refString===t.newName){t.log("Can't rename field to itself");continue}let s=t.oldName.getField(this);s.found?s.found instanceof kl.SpaceField?(this.setEntry(t.newName,new kl.RenameSpaceField(s.found,t.newName,t.location)),this.dropEntry(t.oldName.refString)):t.log(`'${t.oldName}' cannot be renamed`):t.log(`Can't rename '${t.oldName}', no such field`)}else t instanceof a1.Join?this.newEntry(t.name.refString,t,new kl.JoinSpaceField(this,t)):r(`Internal error: Expected expression, query, or rename, got '${i}'`)}}addFieldDef(e){this.setEntry((0,AU.nameOf)(e),this.fromFieldDef(e))}structDef(){let e=this.fromStruct.parameters||{};if(this.final===void 0){this.final={...this.fromStruct,fields:[]};let t=[],r=[],i=[],s=[];for(let[a,c]of this.entries())c instanceof kl.StructSpaceField?r.push([a,c]):c instanceof kl.QueryField?i.push([a,c]):c instanceof kl.SpaceField?t.push([a,c]):c instanceof kl.SpaceParam&&(e[a]=c.parameter());let o=[...t,...r,...i];for(let[a,c]of o)if(c instanceof kl.JoinSpaceField){let d=c.join.structDef();a1.ErrorFactory.isErrorStructDef(d)||(this.final.fields.push(d),s.push([c.join,d]))}else{let d=c.fieldDef();if(d)this.final.fields.push(d);else throw new Error(`'${a}' doesn't have a FieldDef`)}Object.entries(e).length>0&&(this.final.parameters=e);for(let[a,c]of s)a.fixupJoinOn(this,c)}return this.isComplete(),this.final}};Yu.DynamicSpace=cw;var Die=class extends cw{constructor(e,t){let r=new Fie(e);super(r.structDef);this.result=t,this.extendList=[]}extendSource(e){this.addField(e),e instanceof a1.Join?this.extendList.push(e.name.refString):this.extendList.push(e.defineName)}};Yu.QuerySpace=Die;var PD=class extends cw{constructor(e){super(e.emptyStructDef());this.queryInputSpace=e,this.exprSpace=new Die(e,this)}log(e){this.astEl&&this.astEl.log(e)}addMembers(e){for(let t of e)t instanceof a1.FieldReference?this.addReference(t):t instanceof a1.WildcardFieldReference?this.addWild(t):this.addField(t)}addReference(e){let t=e.outputName;this.entry(t)?e.log(`Output already has a field named '${t}'`):this.setEntry(t,new kl.ReferenceField(e))}addWild(e){this.setEntry(e.refString,new kl.WildSpaceField(e.refString))}checkUngroup(e,t){if(!this.entry(e.refString))if(t&&this.exprSpace.nestParent){let r=this.exprSpace.nestParent;r.whenComplete(()=>{r.result.checkUngroup(e,t)})}else{let r=t?"exclude()":"all()";e.log(`${r} '${e.refString}' is missing from query output`)}}addQueryItems(...e){for(let t of e)if(t instanceof a1.FieldReference||t instanceof a1.NestReference)this.addReference(t);else if(t instanceof a1.FieldDeclaration)this.addField(t);else if((0,a1.isNestedQuery)(t)){let r=new kl.QueryFieldAST(this,t,t.name);r.nestParent=this.exprSpace,this.setEntry(t.name,r)}else{let r=t}}canContain(e){return!0}queryFieldDefs(){let e=[];for(let[t,r]of this.entries())if(r instanceof kl.SpaceField){let i=r.getQueryFieldDef(this.exprSpace);if(i)this.canContain(i)?e.push(i):this.log(`'${t}' not legal in ${this.segmentType}`);else throw new Error(`'${t}' does not have a QueryFieldDef`)}return this.isComplete(),e}getQuerySegment(e){let t=this.getPipeSegment(e);if(Tie.isQuerySegment(t))return t;throw new Error("TODO NOT POSSIBLE")}getPipeSegment(e){if(this.segmentType=="index")throw new Error("INDEX FIELD PIPE SEGMENT MIS HANDLED");if(e==null?void 0:e.extendSource)for(let r of e.extendSource)this.exprSpace.addFieldDef(r);let t={type:this.segmentType,fields:this.queryFieldDefs()};if(t.fields=(0,AU.mergeFields)(e==null?void 0:e.fields,t.fields),(e==null?void 0:e.extendSource)&&(t.extendSource=e.extendSource),this.exprSpace.extendList.length>0){let r=[],i=this.exprSpace.structDef();for(let s of this.exprSpace.extendList){let o=i.fields.find(a=>(0,AU.nameOf)(a)==s);o&&r.push(o)}t.extendSource=(0,AU.mergeFields)(t.extendSource,r)}return this.isComplete(),t}};Yu.ResultSpace=PD;var hEe=class extends PD{constructor(){super(...arguments);this.segmentType="reduce"}};Yu.ReduceFieldSpace=hEe;var pEe=class extends PD{constructor(){super(...arguments);this.segmentType="project"}canContain(e){if(typeof e!="string"){if(Tie.isFilteredAliasedName(e))return!0;if(e.type==="turtle")return this.log("Cannot nest queries in project"),!1;if(e.aggregate)return this.log("Cannot add aggregate measures to project"),!1}return!0}};Yu.ProjectFieldSpace=pEe;var mEe=class extends PD{constructor(){super(...arguments);this.segmentType="index",this.fieldList=new Set}addReference(e){e.getField(this.exprSpace).found&&this.fieldList.add(e.refString)}addWild(e){this.fieldList.add(e.refString)}getPipeSegment(e){if(e&&e.fields)for(let t of e.fields)typeof t=="string"&&this.fieldList.add(t);return this.isComplete(),{type:"index",fields:Array.from(this.fieldList.values())}}};Yu.IndexFieldSpace=mEe;var xEe=class{constructor(e,t){this.realFS=e,this.circular=t,this.type="fieldSpace",this.foundCircle=!1}structDef(){return this.realFS.structDef()}emptyStructDef(){return this.realFS.emptyStructDef()}lookup(e){return e[0]&&e[0].refString===this.circular.defineName?(this.foundCircle=!0,{error:`Circular reference to '${this.circular.defineName}' in definition`,found:void 0}):this.realFS.lookup(e)}dialectObj(){return this.realFS.dialectObj()}whenComplete(e){this.realFS.whenComplete(e)}};Yu.DefSpace=xEe});var gEe=Ae(fw=>{"use strict";m();var Kut=fw&&fw.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fw,"__esModule",{value:!0});fw.makeSQLBlock=void 0;var Jut=Kut(DZ());function Xut(n){let e={type:"sqlBlock",name:`md5:/${n.connection||"$default"}//${(0,Jut.default)(n.select)}`,select:n.select};return n.before&&(e.before=n.before),n.after&&(e.after=n.after),n.connection&&(e.connection=n.connection),e}fw.makeSQLBlock=Xut});var FU=Ae(N0=>{"use strict";m();Object.defineProperty(N0,"__esModule",{value:!0});N0.timeLiteral=N0.timeResult=N0.resolution=N0.castDateToTimestamp=N0.castTimestampToDate=N0.castTo=N0.timeOffset=void 0;function Zut(n,e,t,r,i){return[{type:"dialect",function:"delta",base:{valueType:n,value:e},op:t,delta:r,units:i}]}N0.timeOffset=Zut;function elt(n,e,t=!1){return[{type:"dialect",function:"cast",dstType:n,expr:e,safe:t}]}N0.castTo=elt;function tlt(n,e=!1){return[{type:"dialect",function:"cast",dstType:"date",srcType:"timestamp",expr:n,safe:e}]}N0.castTimestampToDate=tlt;function nlt(n,e=!1){return[{type:"dialect",function:"cast",dstType:"timestamp",srcType:"date",expr:n,safe:e}]}N0.castDateToTimestamp=nlt;function rlt(n){switch(n){case"hour":case"minute":case"second":case"microsecond":case"millisecond":return"timestamp"}return"date"}N0.resolution=rlt;function ilt(n,e){return e?{...n,timeframe:e}:n}N0.timeResult=ilt;function slt(n,e,t){return[{type:"dialect",function:"timeLiteral",literal:n,literalType:e,timezone:t}]}N0.timeLiteral=slt});var VEe=Ae(fr=>{"use strict";m();var olt=fr&&fr.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),alt=fr&&fr.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),ult=fr&&fr.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&olt(e,n,t);return alt(e,n),e};Object.defineProperty(fr,"__esModule",{value:!0});fr.FullQuery=fr.TurtleHeadedPipe=fr.ExistingQuery=fr.Index=fr.Turtles=fr.Limit=fr.Ordering=fr.OrderBy=fr.WildcardFieldReference=fr.RenameField=fr.PrimaryKey=fr.Document=fr.QOPDesc=fr.Aggregate=fr.GroupBy=fr.FieldListEdit=fr.ProjectStatement=fr.isFieldCollectionMember=fr.FieldReferences=fr.FieldReference=fr.FieldName=fr.Renames=fr.Dimensions=fr.Measures=fr.DeclareFields=fr.Filter=fr.FilterElement=fr.ExploreDesc=fr.isExploreProperty=fr.isQueryProperty=fr.Joins=fr.ExpressionJoin=fr.KeyJoin=fr.Join=fr.QuerySource=fr.SQLSource=fr.NamedSource=fr.ModelEntryReference=fr.IsValueBlock=fr.TableSource=fr.RefinedExplore=fr.DefineSourceList=fr.DefineExplore=fr.isDocStatement=fr.Mallobj=fr.isExploreField=fr.Unimplemented=fr.ListOf=fr.MalloyElement=fr.ErrorFactory=void 0;fr.SampleProperty=fr.SQLStatement=fr.ConstantParameter=fr.HasParameter=fr.ImportStatement=fr.JSONStructDef=fr.JSONElement=fr.Top=fr.AnonymousQuery=fr.DefineQuery=fr.DefineQueryList=fr.isQueryElement=fr.Nests=fr.isNestedQuery=fr.NestDefinition=fr.NestRefinement=fr.NestReference=fr.TurtleDecl=void 0;var yEe=qT(),ey=ult(im()),llt=kZ(),dx=CU(),L6=q5(),clt=wU(),flt=gEe(),dlt=cv(),hlt=FU(),vEe={type:"struct",name:"~malformed~",dialect:"~malformed~",structSource:{type:"table",tablePath:"//undefined_error_table_path"},structRelationship:{type:"basetable",connectionName:"//undefined_error_connection"},fields:[]},Sd=class{static get structDef(){return{...vEe}}static isErrorStructDef(e){return e.name.includes(vEe.name)}static get query(){return{structRef:Sd.structDef,pipeline:[]}}static get reduceSegment(){return{type:"reduce",fields:[]}}static get projectSegment(){return{type:"project",fields:[]}}static get indexSegment(){return{type:"index",fields:[]}}};fr.ErrorFactory=Sd;function Oie(n,e,t){if(!Sd.isErrorStructDef(e))try{return llt.Segment.nextStructDef(e,t)}catch(i){n.log(`INTERNAL ERROR model/Segment.nextStructDef: ${i.message}
QUERY: ${(0,dlt.inspect)(t,{breakLength:72,depth:1/0})}`)}return{...Sd.structDef,dialect:e.dialect}}var ca=class{constructor(e){this.children={},this.parent=null,this.logged=new Set,e&&this.has(e)}has(e){for(let t in e){let r=e[t];if(r!==void 0)if(this.children[t]=r,r instanceof ca)r.parent=this;else for(let i of r)i.parent=this}}get location(){return this.codeLocation?this.codeLocation:this.parent?this.parent.location:{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}set location(e){this.codeLocation=e}namespace(){if(this instanceof kie)return this;if(this.parent)return this.parent.namespace();throw new Error("INTERNAL ERROR: Translation without document scope")}modelEntry(e){var t;let r=e instanceof k6?e.name:e,i=(t=this.namespace())===null||t===void 0?void 0:t.getEntry(r);return e instanceof k6&&((i==null?void 0:i.entry.type)==="query"?this.addReference({type:"queryReference",text:r,definition:i.entry,location:e.location}):(i==null?void 0:i.entry.type)==="struct"?this.addReference({type:"exploreReference",text:r,definition:i.entry,location:e.location}):(i==null?void 0:i.entry.type)==="sqlBlock"&&this.addReference({type:"sqlBlockReference",text:r,definition:i.entry,location:e.location})),i}translator(){if(this.xlate)return this.xlate;if(this.parent)return this.parent.translator()}setTranslator(e){this.xlate=e}addReference(e){var t;(t=this.translator())===null||t===void 0||t.addReference(e)}get sourceURL(){let e=this.translator();return(e==null?void 0:e.sourceURL)||"(missing)"}errorsExist(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.logger;return t?t.hasErrors():!0}log(e){if(this.codeLocation){if(this.logged.has(e))return;this.logged.add(e)}let t=this.translator(),r={at:this.location,message:e},i=t==null?void 0:t.root.logger;if(i){i.log(r);return}throw new Error(`Translation error (without error reporter):
${JSON.stringify(r,null,2)}`)}toString(){return this.stringify("",0)}stringify(e,t){let r=" ".repeat(t),i=`${r}${e}<${this.elementType}>${this.varInfo()}`;for(let s of Object.keys(this.children)){let o=this.children[s];o instanceof ca?i+=`
`+o.stringify(`${s}: `,t+2):(i+=`
${r}  ${s}: [`,o.length>0&&(i+=`
`+o.map(a=>a.stringify("",t+4)).join(`
`)+`
${r}  `),i+="]")}return i}walk(e){e(this);for(let t of Object.keys(this.children)){let r=this.children[t];if(r instanceof ca)r.walk(e);else for(let i of r)i.walk(e)}}varInfo(){let e="";for(let[t,r]of Object.entries(this))t!=="elementType"&&(typeof r=="boolean"?e+=r?` ${t}`:` !${t}`:(typeof r=="string"||typeof r=="number")&&(e+=` ${t}=${r}`));return e}internalError(e){return this.log(`INTERNAL ERROR IN TRANSLATION: ${e}`),new Error(e)}};fr.MalloyElement=ca;var pf=class extends ca{constructor(e,t){super();this.elementType="genericElementList",this.elements=t,this.elementType==="genericElementList"&&(this.elementType=e),this.newContents()}newContents(){this.has({[this.elementType]:this.elements})}get list(){return this.elements}empty(){return this.elements.length===0}notEmpty(){return this.elements.length>0}push(...e){return this.elements.push(...e),this.newContents(),this.elements}};fr.ListOf=pf;var _Ee=class extends ca{constructor(){super(...arguments);this.elementType="unimplemented",this.reported=!1}};fr.Unimplemented=_Ee;function plt(n,e){return n.fields.find(t=>(t.as||t.name)===e)}function mlt(n){return n instanceof L6.FieldDeclaration||n instanceof BD||n instanceof VD||n instanceof HD}function xlt(n){return mlt(n)||n instanceof Iie}fr.isExploreField=xlt;var U5=class extends ca{structRef(){return this.structDef()}withParameters(e){let t=this.structDef();if(e){let r={...t.parameters||{}};for(let i of e){let s=i.parameter();r[s.name]=s}return{...t,parameters:r}}return t}};fr.Mallobj=U5;var bEe=class extends U5{constructor(e){super();this.fromRef=e,this.elementType="internalOnlyQueryHead"}structRef(){return this.fromRef}structDef(){if(ey.refIsStructDef(this.fromRef))return this.fromRef;let e=new DU(this.fromRef);return this.has({exploreReference:e}),e.structDef()}};function glt(n){return n.execute!==void 0}fr.isDocStatement=glt;var EEe=class extends ca{constructor(e,t,r,i){super({explore:t});if(this.name=e,this.mallobj=t,this.exported=r,this.elementType="defineExplore",i){this.parameters=[];for(let s of i)s instanceof BU?this.parameters.push(s):this.log(`Unexpected element type in define statement: ${s.elementType}`);this.has({parameters:this.parameters})}}execute(e){if(e.modelEntry(this.name))this.log(`Cannot redefine '${this.name}'`);else{let t=this.mallobj.withParameters(this.parameters);if(Sd.isErrorStructDef(t))return;e.setEntry(this.name,{entry:{...t,as:this.name,location:this.location},exported:this.exported})}}};fr.DefineExplore=EEe;var SEe=class extends pf{constructor(e){super("defineSources",e);this.has({sourceList:e})}execute(e){for(let t of this.list)t.execute(e)}};fr.DefineSourceList=SEe;var wEe=class extends U5{constructor(e,t){super({source:e,refinement:t});this.source=e,this.refinement=t,this.elementType="refinedExplore"}structDef(){return this.withParameters([])}withParameters(e){let t,r,i=[],s=[];for(let E of this.refinement.list){let w=E;E instanceof kU?(t&&(t.log("Primary key already defined"),E.log("Primary key redefined")),t=E):E instanceof LU?(r&&(r.log("Too many accept/except statements"),E.log("Too many accept/except statements")),r=E):E instanceof H5||E instanceof dw||E instanceof HD||E instanceof OU?i.push(...E.list):E instanceof z5?s.push(E):w.log(`Unexpected explore property: '${w.elementType}'`)}let o=(0,yEe.cloneDeep)(this.source.structDef());t&&(o.primaryKey=t.field.name);let a=dx.DynamicSpace.filteredFrom(o,r);if(a.addField(...i),e&&a.addParameters(e),t){let E=t.field.getField(a);E.error&&t.log(E.error)}let c=a.structDef(),d=c.filterList||[],p=!1;for(let E of s)for(let w of E.list){let N=w.filterExpression(a);N.aggregate?w.log("Can't use aggregate computations in top level filters"):(d.push(N),p=!0)}return p?{...c,filterList:d}:c}};fr.RefinedExplore=wEe;var CEe=class extends U5{constructor(e){super();this.name=e,this.elementType="tableSource"}structDef(){var e;let t=(e=this.translator())===null||e===void 0?void 0:e.root.schemaZone.getEntry(this.name),r=`Schema read failure for table '${this.name}'`;if(t){if(t.status=="present")return t.value.location=this.location,t.value.fields.forEach(i=>i.location=this.location),{...t.value,fields:t.value.fields.map(i=>({...i,location:this.location})),location:this.location};t.status=="error"&&(r=t.message.includes(this.name)?`'Schema error: ${t.message}`:`Schema error '${this.name}': ${t.message}`)}return this.log(r),Sd.structDef}};fr.TableSource=CEe;var Rie=class extends ca{constructor(e){super();this.isMap=e,this.elementType="isValueBlock",this.has(e)}};fr.IsValueBlock=Rie;var k6=class extends ca{constructor(e){super();this.name=e,this.elementType="modelEntryReference"}get refString(){return this.name}toString(){return this.refString}};fr.ModelEntryReference=k6;var DU=class extends U5{constructor(e,t={}){super();this.ref=e,this.elementType="namedSource",t&&Object.keys(t).length>0&&(this.isBlock=new Rie(t),this.has({parameterValues:this.isBlock})),e instanceof k6&&this.has({ref:e})}get refName(){return this.ref instanceof k6?this.ref.name:this.ref}structRef(){if(this.isBlock)return this.structDef();let e=this.modelEntry(this.ref);return e&&!e.exported?this.structDef():this.refName}modelStruct(){var e;let t=(e=this.modelEntry(this.ref))===null||e===void 0?void 0:e.entry;if(!t){let r=`Undefined source '${this.refName}'`;(this.ref instanceof k6?this.ref:this).log(r);return}if(t.type==="query"){this.log(`Must use 'from()' to explore query '${this.refName}`);return}else if(t.type==="sqlBlock"){this.log(`Must use 'from_sql()' to explore sql query '${this.refName}`);return}return{...t}}structDef(){var e;let t=this.modelStruct();if(!t){let s=Sd.structDef,o=`${this.refName}-undefined`;return s.name=s.name+o,s.dialect=s.dialect+o,s}let r={...t.parameters},i=((e=this.isBlock)===null||e===void 0?void 0:e.isMap)||{};for(let[s,o]of Object.entries(i)){let a=r[s];if(!a)this.log(`Value given for undeclared parameter '${s}`);else if(ey.isValueParameter(a))if(a.constant)o.log(`Cannot override constant parameter ${s}`);else{let c=o.constantValue(),d=c.value;c.dataType!==a.type&&(d=(0,hlt.castTo)(a.type,c.value,!0)),a.value=d}else a.condition=o.constantCondition(a.type).value}for(let s in t.parameters)ey.paramHasValue(r[s])||this.log(`Value not provided for required parameter ${s}`);return t}};fr.NamedSource=DU;var AEe=class extends DU{constructor(){super(...arguments);this.elementType="sqlSource"}structRef(){return this.structDef()}modelStruct(){var e,t;let r=(e=this.modelEntry(this.ref))===null||e===void 0?void 0:e.entry;if(!r){this.log(`Undefined from_sql source '${this.refName}'`);return}if(r.type==="query"){this.log(`Cannot use 'from_sql()' to explore query '${this.refName}'`);return}else if(r.type==="struct"){this.log(`Cannot use 'from_sql()' to explore '${this.refName}'`);return}let i=(t=this.translator())===null||t===void 0?void 0:t.root.sqlQueryZone;if(!i){this.log(`Cant't look up schema for sql block '${this.refName}'`);return}if(r.type=="sqlBlock"){let s=r.name,o=i.getEntry(s),a=`Schema read failure for sql query '${this.refName}'`;if(o){if(o.status=="present"){let c=o.value;return{...c,fields:c.fields.map(d=>({...d,location:r.location}))}}o.status=="error"&&(a=o.message.includes(this.refName)?`'Schema error: ${o.message}`:`Schema error '${this.refName}': ${o.message}`),this.log(a)}}else this.log(`Mis-typed definition for'${this.refName}'`)}};fr.SQLSource=AEe;var TEe=class extends U5{constructor(e){super({query:e});this.query=e,this.elementType="querySource"}structDef(){let e=this.query.queryComp(),t=e.outputStruct;return t.structSource={type:"query",query:e.query},t}};fr.QuerySource=TEe;var BD=class extends ca{};fr.Join=BD;var FEe=class extends BD{constructor(e,t,r){super({name:e,source:t,keyExpr:r});this.name=e,this.source=t,this.keyExpr=r,this.elementType="joinOnKey"}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:"one",onExpression:["('join fixup'='not done yet')"]},location:this.location};return e.structSource.type==="query"?t.name=this.name.refString:t.as=this.name.refString,t}fixupJoinOn(e,t){let r=this.keyExpr.getExpression(e);if(t.primaryKey){let i=t.fields.find(s=>(s.as||s.name)===t.primaryKey);if(i)if(i.type===r.dataType){t.structRelationship={type:"one",onExpression:[{type:"field",path:`${this.name}.${t.primaryKey}`},"=",...r.value]};return}else this.log(`join_one: with type mismatch with primary key: ${r.dataType}/${i.type}`);else this.log(`join_one: Primary key '${i}' not found in source`)}else this.log("join_one: Cannot use with unless source has a primary key")}};fr.KeyJoin=FEe;var DEe=class extends BD{constructor(e,t){super({name:e,source:t});this.name=e,this.source=t,this.elementType="joinOnExpr",this.joinType="one"}set joinOn(e){this.expr=e,this.has({on:e})}get joinOn(){return this.expr}fixupJoinOn(e,t){if(this.expr==null)return;let r=this.expr.getExpression(e);if(r.dataType!=="boolean"){this.log("join conditions must be boolean expressions");return}let i=t.structRelationship;ey.isJoinOn(i)&&(i.onExpression=(0,L6.compressExpr)(r.value))}structDef(){let e=this.source.structDef(),t={...e,structRelationship:{type:this.joinType},location:this.location};return e.structSource.type==="query"?(t.name=this.name.refString,delete t.as):t.as=this.name.refString,t}};fr.ExpressionJoin=DEe;var dw=class extends pf{constructor(e){super("joinList",e)}};fr.Joins=dw;function ylt(n){return n instanceof UD||n instanceof QD||n instanceof zD||n instanceof z5||n instanceof $D||n instanceof jU||n instanceof dw||n instanceof H5||n instanceof jD||n instanceof qD||n instanceof WD||MU(n)||n instanceof hw}fr.isQueryProperty=ylt;function vlt(n){return n instanceof z5||n instanceof dw||n instanceof H5||n instanceof LU||n instanceof OU||n instanceof kU||n instanceof HD}fr.isExploreProperty=vlt;var OEe=class extends pf{constructor(e){super("exploreDesc",e)}};fr.ExploreDesc=OEe;var REe=class extends ca{constructor(e,t){super({expr:e});this.expr=e,this.exprSrc=t,this.elementType="filterElement"}filterExpression(e){let t=this.expr.getExpression(e);if(t.dataType!=="boolean")return this.expr.log("Filter expression must have boolean value"),{code:this.exprSrc,expression:["_FILTER_MUST_RETURN_BOOLEAN_"]};let r={code:this.exprSrc,expression:(0,L6.compressExpr)(t.value)};return t.aggregate&&(r.aggregate=!0),r}};fr.FilterElement=REe;var z5=class extends pf{constructor(e=[]){super("filterElements",e);this.elementType="filter"}set having(e){this.elementType=e?"having":"where"}getFilterList(e){let t=[];for(let r of this.list){let i=r.filterExpression(e);if(this.havingClause!==void 0){if(this.havingClause){if(!i.aggregate){r.log("Aggregate expression expected in HAVING filter");continue}}else if(i.aggregate){r.log("Aggregate expression not allowed in WHERE");continue}}t.push(i)}return t}};fr.Filter=z5;var H5=class extends pf{constructor(e,t="declare"){super(t,e)}};fr.DeclareFields=H5;var Nie=class extends H5{constructor(e){super(e,"measure");for(let t of e)t.isMeasure=!0}};fr.Measures=Nie;var NEe=class extends H5{constructor(e){super(e,"dimension");for(let t of e)t.isMeasure=!1}};fr.Dimensions=NEe;var OU=class extends pf{constructor(e){super("renameField",e)}};fr.Renames=OU;var RU=class extends ca{constructor(e){super();this.name=e,this.elementType="fieldName"}get refString(){return this.name}toString(){return this.refString}getField(e){return e.lookup([this])}};fr.FieldName=RU;var NU=class extends pf{constructor(e){super("fieldReference",e);this.elementType="fieldReference"}get refString(){return this.list.map(e=>e.refString).join(".")}get outputName(){return this.list[this.list.length-1].refString}get sourceString(){if(this.list.length>1)return this.list.slice(0,-1).map(e=>e.refString).join(".")}get nameString(){return this.list[this.list.length-1].refString}getField(e){return e.lookup(this.list)}};fr.FieldReference=NU;var LEe=class extends pf{constructor(e){super("fieldReferenceList",e)}};fr.FieldReferences=LEe;function _lt(n){return n instanceof NU||n instanceof Mie||n instanceof L6.FieldDeclaration}fr.isFieldCollectionMember=_lt;var jD=class extends pf{constructor(e){super("fieldCollection",e)}};fr.ProjectStatement=jD;var LU=class extends ca{constructor(e,t){super({refs:t});this.edit=e,this.refs=t,this.elementType="fieldListEdit"}};fr.FieldListEdit=LU;var hw=class extends pf{constructor(e){super("groupBy",e);for(let t of e)t instanceof L6.FieldDeclaration&&(t.isMeasure=!1)}};fr.GroupBy=hw;var qD=class extends pf{constructor(e){super("aggregate",e);for(let t of e)t instanceof L6.FieldDeclaration&&(t.isMeasure=!0)}};fr.Aggregate=qD;var Lie=class{constructor(e){this.filters=[],this.resultFS=this.getResultSpace(e),this.inputFS=this.resultFS.exprSpace}getResultSpace(e){return new dx.ReduceFieldSpace(e)}execute(e){if(e instanceof hw||e instanceof qD||e instanceof WD)this.resultFS.addQueryItems(...e.list);else if(MU(e))this.resultFS.addQueryItems(e);else if(e instanceof z5)this.filters.push(...e.getFilterList(this.inputFS));else if(e instanceof QD)this.limit?e.log("Query operation already limited"):this.limit=e.limit,e.by&&(this.order?e.log("Query operation is already sorted"):this.order=e);else if(e instanceof zD)this.limit?e.log("Query operation already limited"):this.limit=e.limit;else if(e instanceof UD)this.order?e.log("Query operation already sorted"):this.order=e;else if(e instanceof dw||e instanceof H5)for(let t of e.list)this.inputFS.extendSource(t)}refineFrom(e,t){if(e&&e.type!=="index"&&(this.order||(e.orderBy?t.orderBy=e.orderBy:e.by&&(t.by=e.by)),!this.limit&&e.limit&&(t.limit=e.limit)),this.limit&&(t.limit=this.limit),this.order instanceof QD){let i=this.order.getBy(this.inputFS);i&&(t.by=i)}this.order instanceof UD&&(t.orderBy=this.order.getOrderBy(this.inputFS));let r=(e==null?void 0:e.filterList)||[];this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters])}finalize(e){let t;if(e)if(ey.isReduceSegment(e))t=e;else return this.inputFS.result.log(`Can't refine reduce with ${e.type}`),Sd.reduceSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}},kEe=class extends Lie{getResultSpace(e){return new dx.ProjectFieldSpace(e)}execute(e){e instanceof jD?this.resultFS.addMembers(e.list):e instanceof z5&&e.elementType==="having"||e instanceof Nie||e instanceof hw?e.log("Illegal statement in a project query operation"):super.execute(e)}finalize(e){let t;if(e)if(ey.isProjectSegment(e))t=e;else return this.resultFS.log(`Can't refine project with ${e.type}`),Sd.projectSegment;let r=this.resultFS.getQuerySegment(t);return this.refineFrom(t,r),r}},IEe=class{constructor(e){this.filters=[],this.resultFS=new dx.IndexFieldSpace(e),this.inputFS=this.resultFS.exprSpace}execute(e){e instanceof z5?this.filters.push(...e.getFilterList(this.inputFS)):e instanceof zD?(this.limit&&this.limit.log("Ignored, too many limit: statements"),this.limit=e):e instanceof $D?(this.resultFS.addMembers(e.fields.list),e.weightBy&&(this.indexOn&&this.indexOn.log("Ignoring previous BY"),this.indexOn=e.weightBy)):e instanceof jU?this.sample=e.sampling():e.log("Not legal in an index query operation")}finalize(e){if(e&&e.type!=="index")return this.resultFS.log(`Can't refine index with ${e.type}`),Sd.indexSegment;let t=this.resultFS.getPipeSegment(e),r=(e==null?void 0:e.filterList)||[];return this.filters.length>0&&!r?t.filterList=this.filters:r&&(t.filterList=[...r,...this.filters]),(e==null?void 0:e.limit)&&(t.limit=e.limit),this.limit&&(t.limit=this.limit.limit),this.indexOn&&(t.weightMeasure=this.indexOn.refString),(e==null?void 0:e.sample)&&(t.sample=e.sample),this.sample&&(t.sample=this.sample),t}},MEe=class extends pf{constructor(e){super("queryOperator",e);this.opType="grouping"}computeType(){let e;this.refineThis&&(this.refineThis.type=="reduce"?e="grouping":e=this.refineThis.type);let t=!1;for(let i of this.list)i instanceof $D?(e||(e="index"),e!=="index"&&i.log(`index: not legal in ${e} query`)):i instanceof WD||MU(i)||i instanceof hw?(e||(e="grouping"),t=!0,(e==="project"||e==="index")&&i.log(`group_by: not legal in ${e} query`)):i instanceof qD?(e||(e="aggregate"),(e==="project"||e==="index")&&i.log(`aggregate: not legal in ${e} query`)):i instanceof jD&&(e||(e="project"),e!=="project"&&i.log(`project: not legal in ${e} query`));e==="aggregate"&&t&&(e="grouping"),e||this.log("Can't determine query type (group_by/aggregate/nest,project,index)");let r=e||"grouping";return this.opType=r,r}refineFrom(e){this.refineThis=e}getExecutor(e){switch(this.computeType()){case"aggregate":case"grouping":return new Lie(e);case"project":return new kEe(e);case"index":return new IEe(e)}}getOp(e,t){let r=this.getExecutor(e);(t==null?void 0:t.nestedInQuerySpace)&&(r.inputFS.nestParent=t.nestedInQuerySpace),r.resultFS.astEl=this;for(let s of this.list)r.execute(s);let i=r.finalize(this.refineThis);return{segment:i,outputSpace:()=>new dx.DynamicSpace(Oie(this,e.structDef(),i))}}};fr.QOPDesc=MEe;var kie=class extends ca{constructor(e){super({statements:e});this.statements=e,this.elementType="document",this.documentModel={},this.queryList=[],this.sqlBlocks=[]}getModelDef(e){if(this.documentModel={},this.queryList=[],this.sqlBlocks=[],e)for(let r in e.contents){let i=e.contents[r];if(i.type=="struct"){let s=e.exports.includes(r);this.setEntry(r,{entry:i,exported:s})}}for(let r of this.statements){if(this.errorsExist())break;r.execute(this)}let t={name:"",exports:[],contents:{}};for(let r in this.documentModel){let i=this.documentModel[r].entry;(i.type==="struct"||i.type==="query")&&(this.documentModel[r].exported&&t.exports.push(r),t.contents[r]=(0,yEe.cloneDeep)(i))}return t}defineSQL(e,t){let r={...e,as:`$${this.sqlBlocks.length}`};if(t){if(this.getEntry(t))return!1;r.as=t,this.setEntry(t,{entry:r})}return this.sqlBlocks.push(r),!0}getEntry(e){return this.documentModel[e]}setEntry(e,t){this.documentModel[e]=t}};fr.Document=kie;var kU=class extends ca{constructor(e){super({field:e});this.field=e,this.elementType="primary key"}};fr.PrimaryKey=kU;var Iie=class extends ca{constructor(e,t){super();this.newName=e,this.oldName=t,this.elementType="renameField",this.has({oldName:t})}};fr.RenameField=Iie;var Mie=class extends ca{constructor(e,t){super();this.joinPath=e,this.star=t,this.elementType="wildcardFieldReference",this.has({joinPath:e})}getFieldDef(){throw this.internalError("fielddef request from wildcard reference")}get refString(){return this.joinPath?`${this.joinPath.refString}.${this.star}`:this.star}};fr.WildcardFieldReference=Mie;var PEe=class extends ca{constructor(e,t){super();this.field=e,this.dir=t,this.elementType="orderBy",e instanceof RU&&this.has({field:e})}get modelField(){return typeof this.field=="number"?this.field:this.field.refString}getOrderBy(e){let t={field:this.modelField};return this.dir&&(t.dir=this.dir),t}};fr.OrderBy=PEe;var UD=class extends pf{constructor(e){super("ordering",e)}getOrderBy(e){return this.list.map(t=>t.getOrderBy(e))}};fr.Ordering=UD;var zD=class extends ca{constructor(e){super();this.limit=e,this.elementType="limit"}};fr.Limit=zD;var HD=class extends pf{constructor(e){super("turtleDeclarationList",e)}};fr.Turtles=HD;var $D=class extends ca{constructor(e){super({fields:e});this.fields=e,this.elementType="index"}useWeight(e){this.has({weightBy:e}),this.weightBy=e}};fr.Index=$D;function blt(n){return!!(n&&typeof n!="string"&&n.type==="turtle")}var Pie=class extends ca{constructor(){super(...arguments);this.elementType="pipelineDesc",this.qops=[]}refineHead(e){this.headRefinement=e,this.has({headRefinement:e})}addSegments(...e){this.qops.push(...e),this.has({segments:this.qops})}appendOps(e,t){let r=t,i;for(let s of this.qops){let o=e.length==0,a=s.getOp(r,o?this:null);i==null&&(i=[...e]),i.push(a.segment),r=a.outputSpace()}return{opList:i||e,structDef:r.structDef()}}refinePipeline(e,t){if(!this.headRefinement)return t;let r=[];if(t.pipeHead){let{pipeline:s}=this.expandTurtle(t.pipeHead.name,e.structDef());r.push(...s)}r.push(...t.pipeline);let i=r[0];return i&&this.headRefinement.refineFrom(i),r[0]=this.headRefinement.getOp(e,this).segment,{pipeline:r}}expandTurtle(e,t){let r=plt(t,e);if(!r)this.log(`Query '${e}' is not defined in source`);else if(r.type!=="turtle")this.log(`'${e}' is not a query`);else return{pipeline:r.pipeline,location:r.location};return{pipeline:[],location:void 0}}getOutputStruct(e,t){for(let r of t)e=Oie(this,e,r);return e}},Bie=class extends Pie{set head(e){this._head=e,this.has({head:e})}get head(){return this._head}queryComp(){if(!this.head)throw this.internalError("can't make query from nameless query");let e=this.modelEntry(this.head),t=e==null?void 0:e.entry,r=function(){return{outputStruct:Sd.structDef,query:Sd.query}};if(!t)return this.log(`Reference to undefined query '${this.head}'`),r();if(t.type!=="query")return this.log(`Illegal reference to '${this.head}', query expected`),r();let i=new bEe(t.structRef);this.has({queryHead:i});let s=i.structDef(),o=new dx.DynamicSpace(s),a=this.refinePipeline(o,t),c=this.getOutputStruct(s,a.pipeline),d=this.appendOps(a.pipeline,new dx.DynamicSpace(c)),p={...a,pipeline:d.opList},E={type:"query",...p,structRef:i.structRef(),location:this.location};return{outputStruct:d.structDef,query:E}}query(){return this.queryComp().query}};fr.ExistingQuery=Bie;var IU=class extends Pie{set turtleName(e){this._turtleName=e,this.has({turtleName:e})}get turtleName(){return this._turtleName}};fr.TurtleHeadedPipe=IU;var jie=class extends IU{constructor(e){super({explore:e});this.explore=e}queryComp(){let e=this.explore.structRef(),t={type:"query",structRef:e,pipeline:[],location:this.location},r=ey.refIsStructDef(e)?e:this.explore.structDef(),i=new dx.DynamicSpace(r);if(Sd.isErrorStructDef(r))return{outputStruct:r,query:{structRef:e,pipeline:[]}};if(this.turtleName){let{error:o}=this.turtleName.getField(i);o&&this.log(o);let a=this.turtleName.refString,{pipeline:c,location:d}=this.expandTurtle(a,r);t.location=d;let p=this.refinePipeline(i,{pipeline:c}).pipeline;this.headRefinement?t.pipeline=p:t.pipeHead={name:a};let E=this.getOutputStruct(r,p);i=new dx.DynamicSpace(E)}let s=this.appendOps(t.pipeline,i);return t.pipeline=s.opList,{outputStruct:s.structDef,query:t}}query(){return this.queryComp().query}};fr.FullQuery=jie;var VD=class extends IU{constructor(e){super();this.name=e}getPipeline(e){let t={pipeline:[]};if(this.turtleName){let s=this.turtleName.getField(e),o=!0;if(s.error)this.log(s.error),o=!1;else if(s.found instanceof clt.QueryField){let a=s.found.getQueryFieldDef(e);if(blt(a)){let c=this.refinePipeline(e,a);t.pipeline=[...c.pipeline],o=!1}}o&&this.log(`Expected '${this.turtleName}' to be a query`)}else if(this.headRefinement)throw this.internalError("Can't refine the head of a turtle in its definition");let r=e;if(t.pipeline.length>0){let s=r.structDef();for(let o of t.pipeline)s=Oie(this,s,o);r=new dx.DynamicSpace(s)}let i=this.appendOps(t.pipeline,r);return t.pipeline=i.opList,t}getFieldDef(e,t){t&&(this.nestedInQuerySpace=t);let r=this.getPipeline(e);return{type:"turtle",name:this.name,...r,location:this.location}}};fr.TurtleDecl=VD;var qie=class extends NU{constructor(e){super([e]);this.name=e,this.elementType="nestReference"}};fr.NestReference=qie;var Uie=class extends VD{constructor(e){super(e.refString);this.elementType="nestRefinement",this.turtleName=e}};fr.NestRefinement=Uie;var zie=class extends VD{constructor(e){super(e);this.elementType="nestDefinition"}};fr.NestDefinition=zie;function MU(n){return n instanceof Uie||n instanceof qie||n instanceof zie}fr.isNestedQuery=MU;var WD=class extends pf{constructor(e){super("nestedQueries",e)}};fr.Nests=WD;function Elt(n){return n instanceof jie||n instanceof Bie}fr.isQueryElement=Elt;var BEe=class extends pf{constructor(e){super("defineQueries",e);this.has({queryList:e})}execute(e){for(let t of this.list)t.execute(e)}};fr.DefineQueryList=BEe;var jEe=class extends ca{constructor(e,t){super({queryDetails:t});this.name=e,this.queryDetails=t,this.elementType="defineQuery"}execute(e){let t={...this.queryDetails.query(),type:"query",name:this.name,location:this.location},r=!1;e.setEntry(this.name,{entry:t,exported:r})}};fr.DefineQuery=jEe;var qEe=class extends ca{constructor(e){super();this.theQuery=e,this.elementType="anonymousQuery",this.has({query:e})}execute(e){let t=this.theQuery.query();e.queryList.push(t)}};fr.AnonymousQuery=qEe;var QD=class extends ca{constructor(e,t){super();this.limit=e,this.by=t,this.elementType="top",this.has({by:t})}getBy(e){if(this.by){if(this.by instanceof RU)return{by:"name",name:this.by.refString};{let t=this.by.getExpression(e);return t.aggregate||this.log("top by expression must be an aggregate"),{by:"expression",e:(0,L6.compressExpr)(t.value)}}}}};fr.Top=QD;var UEe=class extends ca{constructor(e){super();this.elementType="jsonElement";try{this.value=JSON.parse(e)}catch{this.log("JSON syntax error"),this.value=void 0}}};fr.JSONElement=UEe;var PU=class extends U5{constructor(e){super();this.struct=e,this.elementType="jsonStructDef"}static fromJSON(e){let t=e.value;if(t&&t.type==="struct"&&t.structRelationship&&t.structSource)return new PU(t)}structDef(){return this.struct}};fr.JSONStructDef=PU;var zEe=class extends ca{constructor(e,t){super();this.url=e,this.elementType="import statement";try{this.fullURL=decodeURI(new URL(e,t).toString())}catch{this.log("Invalid URI in import statement")}}execute(e){let t=this.translator();if(!t)this.log("Cannot import without translation context");else if(this.fullURL){let r=t.root.importZone.getEntry(this.fullURL);if(r.status==="present"){let i=t.getChildExports(this.fullURL);for(let s in i)e.setEntry(s,{entry:i[s],exported:!1})}else r.status==="error"?this.log(`import failed: '${r.message}'`):this.log(`import failed with status: '${r.status}'`)}}};fr.ImportStatement=zEe;var BU=class extends ca{constructor(e){super();this.elementType="hasParameter",this.name=e.name,this.isCondition=e.isCondition,e.type&&ey.isAtomicFieldType(e.type)&&(this.type=e.type),e.default&&(this.default=e.default,this.has({default:this.default}))}parameter(){var e,t;let r=this.name,i=this.type||"string";if(this.isCondition){let o=((e=this.default)===null||e===void 0?void 0:e.constantCondition(i).value)||null;return{type:i,name:r,condition:o}}return{value:((t=this.default)===null||t===void 0?void 0:t.constantValue().value)||null,type:i,name:this.name,constant:!1}}};fr.HasParameter=BU;var HEe=class extends BU{constructor(e,t){super({name:e,isCondition:!1});this.value=t,this.has({value:t})}parameter(){let e=this.value.constantValue();return ey.isAtomicFieldType(e.dataType)?{value:e.value,type:e.dataType,name:this.name,constant:!0}:(this.log(`Unexpected expression type '${e.dataType}'`),{value:["XXX-type-mismatch-error-XXX"],type:"string",name:this.name,constant:!0})}};fr.ConstantParameter=HEe;var $Ee=class extends ca{constructor(e){super();this.blockReq=e,this.elementType="sqlStatement"}sqlBlock(){let e=(0,flt.makeSQLBlock)(this.blockReq);return e.location=this.location,e}execute(e){e.defineSQL(this.sqlBlock(),this.is)||this.log(`${this.is} already defined`)}};fr.SQLStatement=$Ee;var jU=class extends ca{constructor(e){super();this.sample=e,this.elementType="sampleProperty"}sampling(){return this.sample}};fr.SampleProperty=jU});var YEe=Ae(pw=>{"use strict";m();Object.defineProperty(pw,"__esModule",{value:!0});pw.nullsafeNot=pw.applyBinary=void 0;var qU=im(),mf=q5();function Slt(n,e,t,r){if((0,mf.isEquality)(t))return Alt(n,e,t,r);if((0,mf.isComparison)(t))return Tlt(n,e,t,r);if(Hie(t,"+","-"))return Flt(n,e,t,r);if(Hie(t,"*"))return GEe(n,e,t,r);if(Hie(t,"/")){let i=e.getExpression(n),s=r.getExpression(n);if(i.dataType!="number")e.log("Numerator for division must be a number");else if(s.dataType!="number")r.log("Denominator for division must be a number");else{let o={type:"dialect",function:"div",numerator:i.value,denominator:s.value};return{dataType:"number",aggregate:i.aggregate||s.aggregate,value:[o]}}return(0,mf.errorFor)("divide type mismatch")}return e.log(`Canot use ${t} operator here`),(0,mf.errorFor)("applybinary bad operator")}pw.applyBinary=Slt;function Hie(n,...e){return e.includes(n)}function wlt(n,...e){for(let t of e)if(t.dataType!==n)return!1;return!0}function WEe(n,e){if(n.dataType==="string"){if(e.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:n.value,regexp:e.value[0].replace(/^r'/,"'")}]}else if(e.dataType==="string"&&n.dataType==="regular expression")return[{type:"dialect",function:"regexpMatch",expr:e.value,regexp:n.value[0].replace(/^r'/,"'")}]}function Clt(n,e,t){let r=e==="!="||e==="!~";if(n.dataType==="null"||t.dataType==="null"){let i=r?" NOT":"";return n.dataType!=="null"?[...n.value,` IS${i} NULL`]:t.dataType!=="null"?[...t.value,`IS${i} NULL`]:[r?"false":"true"]}}function QEe(n,e,t){if((0,qU.isTimeFieldType)(n.dataType)&&(0,qU.isTimeFieldType)(t.dataType)&&n.dataType!==t.dataType){let r=n.value,i=t.value;return n.dataType==="timestamp"?r=(0,mf.castTimestampToDate)(r):i=(0,mf.castTimestampToDate)(i),(0,mf.compose)(r,e,i)}}function $ie(n,e){return e===void 0||e==="!="||e==="!~"?(0,qU.mkExpr)`COALESCE(NOT(${n}),FALSE)`:n}pw.nullsafeNot=$ie;function Alt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=QEe(i,t,s)||(0,mf.compose)(i.value,t,s.value);if(i.dataType!="unknown"&&s.dataType!="unknown")switch(t){case"~":case"!~":{if(i.dataType==="string"&&s.dataType==="string")o=(0,mf.compose)(i.value,"LIKE",s.value);else{let a=WEe(i,s);if(a===void 0)throw new mf.TypeMistmatch("Incompatible types for match('~') operator");o=a}o=$ie(o,t);break}case"=":case"!=":{let a=Clt(i,t,s);a?o=a:o=$ie(WEe(i,s)||(0,mf.compose)(i.value,"=",s.value),t);break}}return{dataType:"boolean",aggregate:i.aggregate||s.aggregate,value:o}}function Tlt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=i.aggregate||s.aggregate,a=QEe(i,t,s)||(0,mf.compose)(i.value,t,s.value);return{dataType:"boolean",aggregate:o,value:a}}function GEe(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n),o=i.aggregate||s.aggregate;return wlt("number",i,s)?{dataType:"number",aggregate:o,value:(0,mf.compose)(i.value,t,s.value)}:(e.log(`Non numeric('${i.dataType},${s.dataType}') value with '${t}'`),(0,mf.errorFor)("numbers required"))}function Flt(n,e,t,r){let i=e.getExpression(n),s=r.getExpression(n);if((0,qU.isTimeFieldType)(i.dataType)){let o=r;if(s.dataType!=="duration")if((0,mf.isGranularResult)(i))o=new mf.ExprDuration(r,i.timeframe);else if(i.dataType==="date")o=new mf.ExprDuration(r,"day");else return e.log(`Can not offset time by '${s.dataType}'`),(0,mf.errorFor)(`time plus ${s.dataType}`);return o.apply(n,t,e)}return GEe(n,e,t,r)}});var N7e=Ae(Li=>{"use strict";m();Object.defineProperty(Li,"__esModule",{value:!0});Li.Pick=Li.PickWhen=Li.Range=Li.TopBy=Li.ExprCast=Li.isCastType=Li.ExprFilter=Li.ExprCase=Li.WhenClause=Li.ExprUngroup=Li.ExprSum=Li.ExprAvg=Li.ExprCount=Li.ExprCountDistinct=Li.ExprMax=Li.ExprMin=Li.ExprAlternationTree=Li.ExprMulDiv=Li.ExprAddSub=Li.BinaryNumeric=Li.ExprMinus=Li.ExprParens=Li.ExprNULL=Li.ExprIdReference=Li.ExprLogicalOp=Li.BinaryBoolean=Li.Boolean=Li.ExprNot=Li.ExprTime=Li.ExprRegEx=Li.ExprNumber=Li.ExprString=Li.TypeMistmatch=Li.FieldDeclaration=Li.ConstantSubExpression=Li.ExpressionDef=void 0;var UU=im(),zU=CU(),hi=q5(),KEe=YEe(),JEe=wU(),Dlt=FU(),uu=class extends hi.MalloyElement{constructor(){super(...arguments);this.legalChildTypes=hi.FT.anyAtomicT}granular(){return!1}requestExpression(e){return this.getExpression(e)}defaultFieldName(){}typeCheck(e,t){return hi.FT.in(t,this.legalChildTypes)?!0:(e.log(`'${this.elementType}' Can't use type ${hi.FT.inspect(t)}`),!1)}apply(e,t,r){return(0,KEe.applyBinary)(e,r,t,this)}};Li.ExpressionDef=uu;var XEe=class extends uu{constructor(e){super();this.refType=e,this.elementType="$"}getExpression(e){return{dataType:this.refType,value:[{type:"applyVal"}],aggregate:!1}}},ZEe=class{constructor(){this.type="fieldSpace"}structDef(){throw new Error("ConstantFieldSpace cannot generate a structDef")}emptyStructDef(){throw new Error("ConstantFieldSpace cannot generate a structDef")}lookup(e){return{error:"Only constants allowed in parameter expressions",found:void 0}}dialectObj(){}whenComplete(e){e()}},e7e=class extends uu{constructor(e){super({expr:e});this.expr=e,this.elementType="constantExpression"}getExpression(e){return this.constantValue()}get constantFs(){return this.cfs||(this.cfs=new ZEe),this.cfs}constantValue(){return this.expr.getExpression(this.constantFs)}constantCondition(e){let r=new hi.ExprCompare(new XEe(e),"=",this.expr).getExpression(this.constantFs);return{...r,value:(0,hi.compressExpr)(r.value)}}apply(e,t,r){return this.expr.apply(e,t,r)}requestExpression(e){return this.expr.requestExpression(e)}};Li.ConstantSubExpression=e7e;var t7e=class extends hi.MalloyElement{constructor(e,t,r){super({expr:e});this.expr=e,this.defineName=t,this.exprSrc=r,this.elementType="fieldDeclaration"}fieldDef(e,t){return this.queryFieldDef(new zU.DefSpace(e,this),t)}queryFieldDef(e,t){let r;try{r=this.expr.getExpression(e)}catch(a){return this.log(`Cannot define '${t}', ${a.message}`),{name:`error_defining_${t}`,type:"string"}}let i=(0,hi.compressExpr)(r.value),s=r.dataType;if((0,UU.isAtomicFieldType)(s)){let a={name:t,type:s,location:this.location};return i.length>0&&(a.e=i),r.aggregate&&(a.aggregate=!0),this.exprSrc&&(a.code=this.exprSrc),(0,hi.isGranularResult)(r)&&a.type==="timestamp"&&(a.timeframe=r.timeframe),a}if(!(e instanceof zU.DefSpace&&e.foundCircle))if(r.dataType=="unknown")this.log(`Cannot define '${t}', value has unknown type`);else{let a=hi.FT.inspect(r);this.log(`Cannot define '${t}', unexpected type: ${a}`)}return{name:`error_defining_${t}`,type:"string"}}};Li.FieldDeclaration=t7e;var n7e=class extends Error{};Li.TypeMistmatch=n7e;var r7e=class extends uu{constructor(e){super();this.value=e,this.elementType="string literal"}getExpression(e){return{...hi.FT.stringT,value:[this.value]}}};Li.ExprString=r7e;var i7e=class extends uu{constructor(e){super();this.n=e,this.elementType="numeric literal"}getExpression(e){return this.constantExpression()}constantExpression(){return{...hi.FT.numberT,value:[this.n]}}};Li.ExprNumber=i7e;var s7e=class extends uu{constructor(e){super();this.regex=e,this.elementType="regular expression literal"}getExpression(){return{dataType:"regular expression",aggregate:!1,value:[`r'${this.regex}'`]}}};Li.ExprRegEx=s7e;var HU=class extends uu{constructor(e,t,r=!1){super();this.elementType="timestampOrDate",this.elementType=e,this.translationValue={dataType:e,aggregate:r,value:typeof t=="string"?[t]:t}}getExpression(e){return this.translationValue}static fromValue(e,t){let r=t.value;if(e!=t.dataType){let i={type:"dialect",function:"cast",safe:!1,dstType:e,expr:t.value};(0,UU.isTimeFieldType)(t.dataType)&&(i.srcType=t.dataType),r=(0,hi.compressExpr)([i])}return new HU(e,r,t.aggregate)}};Li.ExprTime=HU;var o7e=class extends uu{constructor(e){super({expr:e});this.expr=e}},a7e=class extends o7e{constructor(e){super(e);this.elementType="not",this.legalChildTypes=[hi.FT.boolT,hi.FT.nullT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?{...t,dataType:"boolean",value:(0,KEe.nullsafeNot)(t.value)}:(0,hi.errorFor)("not requires boolean")}};Li.ExprNot=a7e;var u7e=class extends uu{constructor(e){super();this.value=e,this.elementType="boolean literal"}getExpression(){return{...hi.FT.boolT,value:[this.value]}}};Li.Boolean=u7e;var $U=class extends uu{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="abstract boolean binary",this.legalChildTypes=[hi.FT.boolT]}getExpression(e){let t=this.left.getExpression(e),r=this.right.getExpression(e);return this.typeCheck(this.left,t)&&this.typeCheck(this.right,r)?{dataType:"boolean",aggregate:t.aggregate||r.aggregate,value:(0,hi.compose)(t.value,this.op,r.value)}:(0,hi.errorFor)("logial required boolean")}};Li.BinaryBoolean=$U;var l7e=class extends $U{constructor(){super(...arguments);this.elementType="logical operator",this.legalChildTypes=[hi.FT.boolT,{...hi.FT.boolT,aggregate:!0}]}};Li.ExprLogicalOp=l7e;var c7e=class extends uu{constructor(e){super();this.fieldReference=e,this.elementType="ExpressionIdReference",this.has({fieldPath:e})}get refString(){return this.fieldReference.refString}getExpression(e){let t=this.fieldReference.getField(e);if(t.found){let r=t.found.type(),i=r.type,s=!!r.aggregate,o=[{type:t.found.refType,path:this.refString}];return{dataType:i,aggregate:s,value:o}}return this.log(t.error),(0,hi.errorFor)(t.error)}apply(e,t,r){let i=this.fieldReference.getField(e).found;if(i instanceof JEe.SpaceParam){let s=i.parameter();if((0,UU.isConditionParameter)(s)){let o=r.getExpression(e);return{dataType:"boolean",aggregate:o.aggregate,value:[{type:"apply",value:o.value,to:[{type:"parameter",path:this.refString}]}]}}}return super.apply(e,t,r)}};Li.ExprIdReference=c7e;var f7e=class extends uu{constructor(){super(...arguments);this.elementType="NULL"}getExpression(){return{dataType:"null",value:["NULL"],aggregate:!1}}};Li.ExprNULL=f7e;var d7e=class extends uu{constructor(e){super({expr:e});this.expr=e,this.elementType="(expression)"}requestExpression(e){return this.expr.requestExpression(e)}getExpression(e){let t=this.expr.getExpression(e);return{...t,value:["(",...t.value,")"]}}};Li.ExprParens=d7e;var h7e=class extends uu{constructor(e){super({expr:e});this.expr=e,this.elementType="unary minus",this.legalChildTypes=[hi.FT.numberT]}getExpression(e){let t=this.expr.getExpression(e);return this.typeCheck(this.expr,t)?t.value.length>1?{...t,value:["-(",...t.value,")"]}:{...t,value:["-",...t.value]}:(0,hi.errorFor)("negate requires number")}};Li.ExprMinus=h7e;var VU=class extends uu{constructor(e,t,r){super({left:e,right:r});this.left=e,this.op=t,this.right=r,this.elementType="numeric binary abstract",this.legalChildTypes=[hi.FT.numberT]}getExpression(e){return this.right.apply(e,this.op,this.left)}};Li.BinaryNumeric=VU;var p7e=class extends VU{constructor(){super(...arguments);this.elementType="+-"}};Li.ExprAddSub=p7e;var m7e=class extends VU{constructor(){super(...arguments);this.elementType="*/"}};Li.ExprMulDiv=m7e;var x7e=class extends $U{constructor(e,t,r){super(e,t,r);this.elementType="alternation",this.elementType=`${t}alternation${t}`}apply(e,t,r){let i=this.left.apply(e,t,r),s=this.right.apply(e,t,r);return{dataType:"boolean",aggregate:i.aggregate||s.aggregate,value:(0,hi.compose)(i.value,this.op==="&"?"and":"or",s.value)}}requestExpression(e){}getExpression(e){return this.log("Alternation tree has no value"),(0,hi.errorFor)("no value from alternation tree")}};Li.ExprAlternationTree=x7e;var mw=class extends uu{constructor(e,t){super();this.func=e,this.legalChildTypes=[hi.FT.numberT],this.elementType=e,t&&(this.expr=t,this.has({expr:t}))}returns(e){return"number"}getExpression(e){var t,r;let i=(t=this.expr)===null||t===void 0?void 0:t.getExpression(e),s=(r=this.source)===null||r===void 0?void 0:r.refString;if(this.source){let o=this.source.getField(e).found;if(o){let a=o.type();if((0,UU.isAtomicFieldType)(a.type))i={dataType:a.type,aggregate:!!a.aggregate,value:[{type:"field",path:this.source.refString}]},s=this.source.sourceString;else if(!(o instanceof JEe.StructSpaceField))return this.log(`Aggregate source cannot be a ${a.type}`),(0,hi.errorFor)(`Aggregate source cannot be a ${a.type}`)}else return this.log(`Reference to undefined value ${this.source.refString}`),(0,hi.errorFor)(`Reference to undefined value ${this.source.refString}`)}if(i===void 0)return this.log("Missing expression for aggregate function"),(0,hi.errorFor)("agggregate without expression");if(this.typeCheck(this.expr||this,{...i,aggregate:!1})){let o={type:"aggregate",function:this.func,e:i.value};return s&&(o.structPath=s),{dataType:this.returns(i),aggregate:!0,value:[o]}}return(0,hi.errorFor)("aggregate type check")}},g7e=class extends mw{constructor(e){super("min",e);this.legalChildTypes=[hi.FT.numberT,hi.FT.stringT,hi.FT.dateT,hi.FT.timestampT]}returns(e){return e.dataType}};Li.ExprMin=g7e;var y7e=class extends mw{constructor(e){super("max",e);this.legalChildTypes=[hi.FT.numberT,hi.FT.stringT,hi.FT.dateT,hi.FT.timestampT]}returns(e){return e.dataType}};Li.ExprMax=y7e;var v7e=class extends mw{constructor(e){super("count_distinct",e);this.legalChildTypes=[hi.FT.numberT,hi.FT.stringT,hi.FT.dateT,hi.FT.timestampT]}};Li.ExprCountDistinct=v7e;var Vie=class extends mw{constructor(e,t,r){super(e,t);this.func=e,this.expr=t,this.source=r,this.has({source:r})}defaultFieldName(){if(this.source&&this.expr===void 0){let e=this.source.nameString;switch(this.func){case"sum":return`total_${e}`;case"avg":return`avg_${e}`}}}},_7e=class extends mw{constructor(e){super("count");this.source=e,this.elementType="count",this.has({source:e})}defaultFieldName(){if(this.source)return"count_"+this.source.nameString}getExpression(e){let t={type:"aggregate",function:"count",e:[]};return this.source&&(t.structPath=this.source.refString),{dataType:"number",aggregate:!0,value:[t]}}};Li.ExprCount=_7e;var b7e=class extends Vie{constructor(e,t){super("avg",e,t);this.has({source:t})}};Li.ExprAvg=b7e;var E7e=class extends Vie{constructor(e,t){super("sum",e,t);this.has({source:t})}};Li.ExprSum=E7e;var S7e=class extends uu{constructor(e,t,r){super({expr:t,fields:r});this.control=e,this.expr=t,this.fields=r,this.legalChildTypes=hi.FT.anyAtomicT,this.elementType="ungroup"}returns(e){return"number"}getExpression(e){let t=this.expr.getExpression(e);if(!t.aggregate)return this.expr.log(`${this.control}() expression must be an aggregate`),(0,hi.errorFor)("ungrouped scalar");let r={type:this.control,e:t.value};if(this.typeCheck(this.expr,{...t,aggregate:!1})){if(this.fields.length>0){let i=e;if(e instanceof zU.DefSpace&&(i=e.realFS),!(i instanceof zU.QuerySpace))return this.log(`${this.control}() must be in a query -- weird internal error`),(0,hi.errorFor)("ungroup query check");let s=i.result,o=[],a=this.control=="exclude";for(let c of this.fields)s.whenComplete(()=>{s.checkUngroup(c,a)}),o.push(c.refString);r.fields=o}return{dataType:this.returns(t),aggregate:!0,value:[r]}}return this.log(`${this.control}() incompatible type`),(0,hi.errorFor)("ungrouped type check")}};Li.ExprUngroup=S7e;var w7e=class extends uu{constructor(e,t){super({whenThis:e,thenThis:t});this.whenThis=e,this.thenThis=t,this.elementType="when clause"}getExpression(e){throw new Error("expression did something unxpected with 'WHEN'")}};Li.WhenClause=w7e;var C7e=class extends uu{constructor(e,t){super({when:e});this.when=e,this.elseClause=t,this.elementType="case statement",this.has({elseClause:t})}getExpression(e){let t,r=!1,i=["CASE "];for(let s of this.when){let o=s.whenThis.getExpression(e),a=s.thenThis.getExpression(e);if(r||(r=o.aggregate||a.aggregate),a.dataType!=="null"){if(t&&!hi.FT.typeEq(t,a))return this.log(`Mismatched THEN clause types, ${hi.FT.inspect(t,a)}`),(0,hi.errorFor)("then typecheck");t=a}i.push("WHEN ",...o.value," THEN ",...a.value)}if(this.elseClause){let s=this.elseClause.getExpression(e);if(r||(r=s.aggregate),i.push(" ELSE ",...s.value),s.dataType!=="null"){if(t&&!hi.FT.typeEq(t,s))return this.log(`Mismatched ELSE clause type, ${hi.FT.inspect(t,s)}`),(0,hi.errorFor)("else typecheck");t=s}}return t===void 0?(this.log("case statement type not computable"),(0,hi.errorFor)("typeless case")):(i.push(" END"),{dataType:t.dataType,aggregate:r,value:i})}};Li.ExprCase=C7e;var A7e=class extends uu{constructor(e,t){super({expr:e,filter:t});this.expr=e,this.filter=t,this.elementType="filtered expression",this.legalChildTypes=hi.FT.anyAtomicT}getExpression(e){let t=this.filter.getFilterList(e),r=this.expr.getExpression(e);for(let i of t)if(i.aggregate)return this.filter.log("Cannot filter a field with an aggregate computation"),(0,hi.errorFor)("no filter on aggregate");return r.aggregate?this.typeCheck(this.expr,{...r,aggregate:!1})?{...r,value:[{type:"filterExpression",e:r.value,filterList:t}]}:(this.expr.log(`Cannot filter '${r.dataType}' data`),(0,hi.errorFor)("cannot filter type")):r}};Li.ExprFilter=A7e;function Olt(n){return["string","number","boolean","date","timestamp"].includes(n)}Li.isCastType=Olt;var T7e=class extends uu{constructor(e,t,r=!1){super({expr:e});this.expr=e,this.castType=t,this.safe=r,this.elementType="cast"}getExpression(e){let t=this.expr.getExpression(e);return{dataType:this.castType,aggregate:t.aggregate,value:(0,hi.compressExpr)((0,Dlt.castTo)(this.castType,t.value,this.safe))}}};Li.ExprCast=T7e;var F7e=class extends hi.MalloyElement{constructor(e){super();this.by=e,this.elementType="topBy",e instanceof uu&&this.has({by:e})}getBy(e){if(this.by instanceof uu){let t=this.by.getExpression(e);return t.aggregate||this.log("top by expression must be an aggregate"),{by:"expression",e:(0,hi.compressExpr)(t.value)}}return{by:"name",name:this.by}}};Li.TopBy=F7e;var D7e=class extends uu{constructor(e,t){super({first:e,last:t});this.first=e,this.last=t,this.elementType="range"}apply(e,t,r){switch(t){case"=":case"!=":{let i=t==="="?">=":"<",s=t==="="?"and":"or",o=t==="="?"<":">=",a=this.first.apply(e,i,r),c=this.last.apply(e,o,r);return{dataType:"boolean",aggregate:a.aggregate||c.aggregate,value:(0,hi.compose)(a.value,s,c.value)}}case">":return this.last.apply(e,">=",r);case">=":return this.first.apply(e,">=",r);case"<":return this.first.apply(e,"<",r);case"<=":return this.last.apply(e,"<",r)}throw new Error("mysterious error in range computation")}requestExpression(e){}getExpression(e){return(0,hi.errorFor)("a range is not a value")}};Li.Range=D7e;var O7e=class extends hi.MalloyElement{constructor(e,t){super({when:t});this.pick=e,this.when=t,this.elementType="pickWhen",this.has({pick:e})}};Li.PickWhen=O7e;var R7e=class extends uu{constructor(e,t){super({choices:e});this.choices=e,this.elsePick=t,this.elementType="pick",this.has({elsePick:t})}requestExpression(e){if(this.elsePick!==void 0){for(let t of this.choices){if(t.pick==null)return;let r=t.when.requestExpression(e);if(r==null||r.dataType!="boolean")return}return this.getExpression(e)}}apply(e,t,r){let i=["CASE"],s,o=!1;for(let d of this.choices){let p=d.when.apply(e,"=",r),E=d.pick?d.pick.getExpression(e):r.getExpression(e);if(o||(o=p.aggregate||E.aggregate),s){if(!hi.FT.typeEq(s,E,!0)){let w=hi.FT.inspect(E);return this.log(`pick type '${w}', expected '${s.dataType}'`),(0,hi.errorFor)("pick when type")}}else s=E;i.push(" WHEN ",...p.value," THEN ",...E.value)}let c=(this.elsePick||r).getExpression(e);if(s||(s=c),!hi.FT.typeEq(s,c,!0)){let d=this.elsePick?"else":"pick default";return this.log(`${d} type '${hi.FT.inspect(c)}', expected '${s.dataType}'`),(0,hi.errorFor)("pick else type")}return{dataType:s.dataType,aggregate:o||c.aggregate,value:(0,hi.compressExpr)([...i," ELSE ",...c.value," END"])}}getExpression(e){if(this.elsePick===void 0)return this.log("pick incomplete, missing 'else'"),(0,hi.errorFor)("no value for partial pick");let t=[];for(let a of this.choices){if(a.pick===void 0)return this.log("pick with no value can only be used with apply"),(0,hi.errorFor)("no value for partial pick");if(a.when.requestExpression(e)===void 0)return this.log("pick with partial when can only be used with apply"),(0,hi.errorFor)("partial when");t.push({pick:a.pick.getExpression(e),when:a.when.getExpression(e)})}let r=t[0].pick,i=["CASE"],s=r.aggregate;for(let a of t){if(!hi.FT.typeEq(a.when,hi.FT.boolT))return this.log(`when expression must be boolean, not '${hi.FT.inspect(a.when)}`),(0,hi.errorFor)("pick when type");if(!hi.FT.typeEq(r,a.pick,!0)){let c=hi.FT.inspect(a.pick);return this.log(`pick type '${c}', expected '${r.dataType}'`),(0,hi.errorFor)("pick value type")}s||(s=a.pick.aggregate||a.when.aggregate),i.push(" WHEN ",...a.when.value," THEN ",...a.pick.value)}let o=this.elsePick.getExpression(e);return s||(s=o.aggregate),hi.FT.typeEq(r,o,!0)?(i.push(" ELSE ",...o.value," END"),{dataType:r.dataType,aggregate:!!s,value:(0,hi.compressExpr)(i)}):(this.elsePick.log(`else type '${hi.FT.inspect(o)}', expected '${r.dataType}'`),(0,hi.errorFor)("pick value type mismatch"))}};Li.Pick=R7e});var q8e=Ae(Kh=>{"use strict";m();Object.defineProperty(Kh,"__esModule",{value:!0});function L7e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _m(n,e,t){return e&&L7e(n.prototype,e),t&&L7e(n,t),n}function u1(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Wie(n){return Wie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wie(n)}function WU(n,e){return WU=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},WU(n,e)}function Rlt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function QU(n,e,t){return Rlt()?QU=Reflect.construct:QU=function(i,s,o){var a=[null];a.push.apply(a,s);var c=Function.bind.apply(i,a),d=new c;return o&&WU(d,o.prototype),d},QU.apply(null,arguments)}function Nlt(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function Qie(n){var e=typeof Map=="function"?new Map:void 0;return Qie=function(r){if(r===null||!Nlt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return QU(r,arguments,Wie(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),WU(i,r)},Qie(n)}function Llt(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function klt(n,e){if(!!n){if(typeof n=="string")return k7e(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k7e(n,e)}}function k7e(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function $5(n){var e=0;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(n=klt(n)))return function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return e=n[Symbol.iterator](),e.next.bind(e)}var I6=function(n){u1(e,n);function e(){return n.apply(this,arguments)||this}return e}(Qie(Error)),Ilt=function(n){u1(e,n);function e(t){return n.call(this,"Invalid DateTime: "+t.toMessage())||this}return e}(I6),Mlt=function(n){u1(e,n);function e(t){return n.call(this,"Invalid Interval: "+t.toMessage())||this}return e}(I6),Plt=function(n){u1(e,n);function e(t){return n.call(this,"Invalid Duration: "+t.toMessage())||this}return e}(I6),GD=function(n){u1(e,n);function e(){return n.apply(this,arguments)||this}return e}(I6),I7e=function(n){u1(e,n);function e(t){return n.call(this,"Invalid unit "+t)||this}return e}(I6),l1=function(n){u1(e,n);function e(){return n.apply(this,arguments)||this}return e}(I6),V5=function(n){u1(e,n);function e(){return n.call(this,"Zone is an abstract class")||this}return e}(I6),Di="numeric",bm="short",Gh="long",GU={year:Di,month:Di,day:Di},Gie={year:Di,month:bm,day:Di},M7e={year:Di,month:bm,day:Di,weekday:bm},Yie={year:Di,month:Gh,day:Di},Kie={year:Di,month:Gh,day:Di,weekday:Gh},Jie={hour:Di,minute:Di},Xie={hour:Di,minute:Di,second:Di},Zie={hour:Di,minute:Di,second:Di,timeZoneName:bm},ese={hour:Di,minute:Di,second:Di,timeZoneName:Gh},tse={hour:Di,minute:Di,hour12:!1},nse={hour:Di,minute:Di,second:Di,hour12:!1},rse={hour:Di,minute:Di,second:Di,hour12:!1,timeZoneName:bm},ise={hour:Di,minute:Di,second:Di,hour12:!1,timeZoneName:Gh},sse={year:Di,month:Di,day:Di,hour:Di,minute:Di},ose={year:Di,month:Di,day:Di,hour:Di,minute:Di,second:Di},ase={year:Di,month:bm,day:Di,hour:Di,minute:Di},use={year:Di,month:bm,day:Di,hour:Di,minute:Di,second:Di},P7e={year:Di,month:bm,day:Di,weekday:bm,hour:Di,minute:Di},lse={year:Di,month:Gh,day:Di,hour:Di,minute:Di,timeZoneName:bm},cse={year:Di,month:Gh,day:Di,hour:Di,minute:Di,second:Di,timeZoneName:bm},fse={year:Di,month:Gh,day:Di,weekday:Gh,hour:Di,minute:Di,timeZoneName:Gh},dse={year:Di,month:Gh,day:Di,weekday:Gh,hour:Di,minute:Di,second:Di,timeZoneName:Gh};function ia(n){return typeof n=="undefined"}function M6(n){return typeof n=="number"}function YU(n){return typeof n=="number"&&n%1===0}function Blt(n){return typeof n=="string"}function jlt(n){return Object.prototype.toString.call(n)==="[object Date]"}function hx(){try{return typeof Intl!="undefined"&&Intl.DateTimeFormat}catch{return!1}}function YD(){return!ia(Intl.DateTimeFormat.prototype.formatToParts)}function B7e(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function qlt(n){return Array.isArray(n)?n:[n]}function j7e(n,e,t){if(n.length!==0)return n.reduce(function(r,i){var s=[e(i),i];return r&&t(r[0],s[0])===r[0]?r:s},null)[1]}function q7e(n,e){return e.reduce(function(t,r){return t[r]=n[r],t},{})}function xw(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ty(n,e,t){return YU(n)&&n>=e&&n<=t}function Ult(n,e){return n-e*Math.floor(n/e)}function gw(n,e){e===void 0&&(e=2);var t=n<0?"-":"",r=t?n*-1:n,i;return r.toString().length<e?i=("0".repeat(e)+r).slice(-e):i=r.toString(),""+t+i}function wd(n){if(!(ia(n)||n===null||n===""))return parseInt(n,10)}function hse(n){if(!(ia(n)||n===null||n==="")){var e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function pse(n,e,t){t===void 0&&(t=!1);var r=Math.pow(10,e),i=t?Math.trunc:Math.round;return i(n*r)/r}function KD(n){return n%4===0&&(n%100!==0||n%400===0)}function JD(n){return KD(n)?366:365}function KU(n,e){var t=Ult(e-1,12)+1,r=n+(e-t)/12;return t===2?KD(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function mse(n){var e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function JU(n){var e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,r=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||r===3?53:52}function xse(n){return n>99?n:n>60?1900+n:2e3+n}function U7e(n,e,t,r){r===void 0&&(r=null);var i=new Date(n),s={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);var o=Object.assign({timeZoneName:e},s),a=hx();if(a&&YD()){var c=new Intl.DateTimeFormat(t,o).formatToParts(i).find(function(N){return N.type.toLowerCase()==="timezonename"});return c?c.value:null}else if(a){var d=new Intl.DateTimeFormat(t,s).format(i),p=new Intl.DateTimeFormat(t,o).format(i),E=p.substring(d.length),w=E.replace(/^[, \u200e]+/,"");return w}else return null}function XU(n,e){var t=parseInt(n,10);Number.isNaN(t)&&(t=0);var r=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-r:r;return t*60+i}function z7e(n){var e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new l1("Invalid unit value "+n);return e}function ZU(n,e,t){var r={};for(var i in n)if(xw(n,i)){if(t.indexOf(i)>=0)continue;var s=n[i];if(s==null)continue;r[e(i)]=z7e(s)}return r}function ez(n,e){var t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return""+i+gw(t,2)+":"+gw(r,2);case"narrow":return""+i+t+(r>0?":"+r:"");case"techie":return""+i+gw(t,2)+gw(r,2);default:throw new RangeError("Value format "+e+" is out of range for property format")}}function tz(n){return q7e(n,["hour","minute","second","millisecond"])}var H7e=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function fl(n){return JSON.stringify(n,Object.keys(n).sort())}var zlt=["January","February","March","April","May","June","July","August","September","October","November","December"],$7e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Hlt=["J","F","M","A","M","J","J","A","S","O","N","D"];function V7e(n){switch(n){case"narrow":return[].concat(Hlt);case"short":return[].concat($7e);case"long":return[].concat(zlt);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var W7e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Q7e=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],$lt=["M","T","W","T","F","S","S"];function G7e(n){switch(n){case"narrow":return[].concat($lt);case"short":return[].concat(Q7e);case"long":return[].concat(W7e);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Y7e=["AM","PM"],Vlt=["Before Christ","Anno Domini"],Wlt=["BC","AD"],Qlt=["B","A"];function K7e(n){switch(n){case"narrow":return[].concat(Qlt);case"short":return[].concat(Wlt);case"long":return[].concat(Vlt);default:return null}}function Glt(n){return Y7e[n.hour<12?0:1]}function Ylt(n,e){return G7e(e)[n.weekday-1]}function Klt(n,e){return V7e(e)[n.month-1]}function Jlt(n,e){return K7e(e)[n.year<0?0:1]}function Xlt(n,e,t,r){t===void 0&&(t="always"),r===void 0&&(r=!1);var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){var o=n==="days";switch(e){case 1:return o?"tomorrow":"next "+i[n][0];case-1:return o?"yesterday":"last "+i[n][0];case 0:return o?"today":"this "+i[n][0]}}var a=Object.is(e,-0)||e<0,c=Math.abs(e),d=c===1,p=i[n],E=r?d?p[1]:p[2]||p[1]:d?i[n][0]:n;return a?c+" "+E+" ago":"in "+c+" "+E}function Zlt(n){var e=q7e(n,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),t=fl(e),r="EEEE, LLLL d, yyyy, h:mm a";switch(t){case fl(GU):return"M/d/yyyy";case fl(Gie):return"LLL d, yyyy";case fl(M7e):return"EEE, LLL d, yyyy";case fl(Yie):return"LLLL d, yyyy";case fl(Kie):return"EEEE, LLLL d, yyyy";case fl(Jie):return"h:mm a";case fl(Xie):return"h:mm:ss a";case fl(Zie):return"h:mm a";case fl(ese):return"h:mm a";case fl(tse):return"HH:mm";case fl(nse):return"HH:mm:ss";case fl(rse):return"HH:mm";case fl(ise):return"HH:mm";case fl(sse):return"M/d/yyyy, h:mm a";case fl(ase):return"LLL d, yyyy, h:mm a";case fl(lse):return"LLLL d, yyyy, h:mm a";case fl(fse):return r;case fl(ose):return"M/d/yyyy, h:mm:ss a";case fl(use):return"LLL d, yyyy, h:mm:ss a";case fl(P7e):return"EEE, d LLL yyyy, h:mm a";case fl(cse):return"LLLL d, yyyy, h:mm:ss a";case fl(dse):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return r}}function J7e(n,e){for(var t="",r=$5(n),i;!(i=r()).done;){var s=i.value;s.literal?t+=s.val:t+=e(s.val)}return t}var ect={D:GU,DD:Gie,DDD:Yie,DDDD:Kie,t:Jie,tt:Xie,ttt:Zie,tttt:ese,T:tse,TT:nse,TTT:rse,TTTT:ise,f:sse,ff:ase,fff:lse,ffff:fse,F:ose,FF:use,FFF:cse,FFFF:dse},px=function(){n.create=function(r,i){return i===void 0&&(i={}),new n(r,i)},n.parseFormat=function(r){for(var i=null,s="",o=!1,a=[],c=0;c<r.length;c++){var d=r.charAt(c);d==="'"?(s.length>0&&a.push({literal:o,val:s}),i=null,s="",o=!o):o||d===i?s+=d:(s.length>0&&a.push({literal:!1,val:s}),s=d,i=d)}return s.length>0&&a.push({literal:o,val:s}),a},n.macroTokenToFormatOpts=function(r){return ect[r]};function n(t,r){this.opts=r,this.loc=t,this.systemLoc=null}var e=n.prototype;return e.formatWithSystemDefault=function(r,i){this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem());var s=this.systemLoc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTime=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.format()},e.formatDateTimeParts=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.formatToParts()},e.resolvedOptions=function(r,i){i===void 0&&(i={});var s=this.loc.dtFormatter(r,Object.assign({},this.opts,i));return s.resolvedOptions()},e.num=function(r,i){if(i===void 0&&(i=0),this.opts.forceSimple)return gw(r,i);var s=Object.assign({},this.opts);return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(r)},e.formatDateTimeFromString=function(r,i){var s=this,o=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory"&&YD(),c=function(P,j){return s.loc.extract(r,P,j)},d=function(P){return r.isOffsetFixed&&r.offset===0&&P.allowZ?"Z":r.isValid?r.zone.formatOffset(r.ts,P.format):""},p=function(){return o?Glt(r):c({hour:"numeric",hour12:!0},"dayperiod")},E=function(P,j){return o?Klt(r,P):c(j?{month:P}:{month:P,day:"numeric"},"month")},w=function(P,j){return o?Ylt(r,P):c(j?{weekday:P}:{weekday:P,month:"long",day:"numeric"},"weekday")},N=function(P){var j=n.macroTokenToFormatOpts(P);return j?s.formatWithSystemDefault(r,j):P},R=function(P){return o?Jlt(r,P):c({era:P},"era")},U=function(P){switch(P){case"S":return s.num(r.millisecond);case"u":case"SSS":return s.num(r.millisecond,3);case"s":return s.num(r.second);case"ss":return s.num(r.second,2);case"m":return s.num(r.minute);case"mm":return s.num(r.minute,2);case"h":return s.num(r.hour%12===0?12:r.hour%12);case"hh":return s.num(r.hour%12===0?12:r.hour%12,2);case"H":return s.num(r.hour);case"HH":return s.num(r.hour,2);case"Z":return d({format:"narrow",allowZ:s.opts.allowZ});case"ZZ":return d({format:"short",allowZ:s.opts.allowZ});case"ZZZ":return d({format:"techie",allowZ:s.opts.allowZ});case"ZZZZ":return r.zone.offsetName(r.ts,{format:"short",locale:s.loc.locale});case"ZZZZZ":return r.zone.offsetName(r.ts,{format:"long",locale:s.loc.locale});case"z":return r.zoneName;case"a":return p();case"d":return a?c({day:"numeric"},"day"):s.num(r.day);case"dd":return a?c({day:"2-digit"},"day"):s.num(r.day,2);case"c":return s.num(r.weekday);case"ccc":return w("short",!0);case"cccc":return w("long",!0);case"ccccc":return w("narrow",!0);case"E":return s.num(r.weekday);case"EEE":return w("short",!1);case"EEEE":return w("long",!1);case"EEEEE":return w("narrow",!1);case"L":return a?c({month:"numeric",day:"numeric"},"month"):s.num(r.month);case"LL":return a?c({month:"2-digit",day:"numeric"},"month"):s.num(r.month,2);case"LLL":return E("short",!0);case"LLLL":return E("long",!0);case"LLLLL":return E("narrow",!0);case"M":return a?c({month:"numeric"},"month"):s.num(r.month);case"MM":return a?c({month:"2-digit"},"month"):s.num(r.month,2);case"MMM":return E("short",!1);case"MMMM":return E("long",!1);case"MMMMM":return E("narrow",!1);case"y":return a?c({year:"numeric"},"year"):s.num(r.year);case"yy":return a?c({year:"2-digit"},"year"):s.num(r.year.toString().slice(-2),2);case"yyyy":return a?c({year:"numeric"},"year"):s.num(r.year,4);case"yyyyyy":return a?c({year:"numeric"},"year"):s.num(r.year,6);case"G":return R("short");case"GG":return R("long");case"GGGGG":return R("narrow");case"kk":return s.num(r.weekYear.toString().slice(-2),2);case"kkkk":return s.num(r.weekYear,4);case"W":return s.num(r.weekNumber);case"WW":return s.num(r.weekNumber,2);case"o":return s.num(r.ordinal);case"ooo":return s.num(r.ordinal,3);case"q":return s.num(r.quarter);case"qq":return s.num(r.quarter,2);case"X":return s.num(Math.floor(r.ts/1e3));case"x":return s.num(r.ts);default:return N(P)}};return J7e(n.parseFormat(i),U)},e.formatDurationFromString=function(r,i){var s=this,o=function(w){switch(w[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},a=function(w){return function(N){var R=o(N);return R?s.num(w.get(R),N.length):N}},c=n.parseFormat(i),d=c.reduce(function(E,w){var N=w.literal,R=w.val;return N?E:E.concat(R)},[]),p=r.shiftTo.apply(r,d.map(o).filter(function(E){return E}));return J7e(c,a(p))},n}(),Em=function(){function n(t,r){this.reason=t,this.explanation=r}var e=n.prototype;return e.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},n}(),yw=function(){function n(){}var e=n.prototype;return e.offsetName=function(r,i){throw new V5},e.formatOffset=function(r,i){throw new V5},e.offset=function(r){throw new V5},e.equals=function(r){throw new V5},_m(n,[{key:"type",get:function(){throw new V5}},{key:"name",get:function(){throw new V5}},{key:"universal",get:function(){throw new V5}},{key:"isValid",get:function(){throw new V5}}]),n}(),gse=null,X7e=function(n){u1(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return U7e(i,o,a)},t.formatOffset=function(i,s){return ez(this.offset(i),s)},t.offset=function(i){return-new Date(i).getTimezoneOffset()},t.equals=function(i){return i.type==="local"},_m(e,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return hx()?new Intl.DateTimeFormat().resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return gse===null&&(gse=new e),gse}}]),e}(yw),tct=RegExp("^"+H7e.source+"$"),nz={};function nct(n){return nz[n]||(nz[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),nz[n]}var rct={year:0,month:1,day:2,hour:3,minute:4,second:5};function ict(n,e){var t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t),i=r[1],s=r[2],o=r[3],a=r[4],c=r[5],d=r[6];return[o,i,s,a,c,d]}function sct(n,e){for(var t=n.formatToParts(e),r=[],i=0;i<t.length;i++){var s=t[i],o=s.type,a=s.value,c=rct[o];ia(c)||(r[c]=parseInt(a,10))}return r}var rz={},mx=function(n){u1(e,n),e.create=function(i){return rz[i]||(rz[i]=new e(i)),rz[i]},e.resetCache=function(){rz={},nz={}},e.isValidSpecifier=function(i){return!!(i&&i.match(tct))},e.isValidZone=function(i){try{return new Intl.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}},e.parseGMTOffset=function(i){if(i){var s=i.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(s)return-60*parseInt(s[1])}return null};function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i.valid=e.isValidZone(r),i}var t=e.prototype;return t.offsetName=function(i,s){var o=s.format,a=s.locale;return U7e(i,o,a,this.name)},t.formatOffset=function(i,s){return ez(this.offset(i),s)},t.offset=function(i){var s=new Date(i);if(isNaN(s))return NaN;var o=nct(this.name),a=o.formatToParts?sct(o,s):ict(o,s),c=a[0],d=a[1],p=a[2],E=a[3],w=a[4],N=a[5],R=E===24?0:E,U=mse({year:c,month:d,day:p,hour:R,minute:w,second:N,millisecond:0}),Q=+s,P=Q%1e3;return Q-=P>=0?P:1e3+P,(U-Q)/(60*1e3)},t.equals=function(i){return i.type==="iana"&&i.name===this.name},_m(e,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),e}(yw),yse=null,Yh=function(n){u1(e,n),e.instance=function(i){return i===0?e.utcInstance:new e(i)},e.parseSpecifier=function(i){if(i){var s=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(s)return new e(XU(s[1],s[2]))}return null},_m(e,null,[{key:"utcInstance",get:function(){return yse===null&&(yse=new e(0)),yse}}]);function e(r){var i;return i=n.call(this)||this,i.fixed=r,i}var t=e.prototype;return t.offsetName=function(){return this.name},t.formatOffset=function(i,s){return ez(this.fixed,s)},t.offset=function(){return this.fixed},t.equals=function(i){return i.type==="fixed"&&i.fixed===this.fixed},_m(e,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return this.fixed===0?"UTC":"UTC"+ez(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),e}(yw),vse=function(n){u1(e,n);function e(r){var i;return i=n.call(this)||this,i.zoneName=r,i}var t=e.prototype;return t.offsetName=function(){return null},t.formatOffset=function(){return""},t.offset=function(){return NaN},t.equals=function(){return!1},_m(e,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),e}(yw);function P6(n,e){var t;if(ia(n)||n===null)return e;if(n instanceof yw)return n;if(Blt(n)){var r=n.toLowerCase();return r==="local"?e:r==="utc"||r==="gmt"?Yh.utcInstance:(t=mx.parseGMTOffset(n))!=null?Yh.instance(t):mx.isValidSpecifier(r)?mx.create(n):Yh.parseSpecifier(r)||new vse(n)}else return M6(n)?Yh.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new vse(n)}var Z7e=function(){return Date.now()},_se=null,e8e=null,t8e=null,n8e=null,r8e=!1,Gl=function(){function n(){}return n.resetCaches=function(){xf.resetCache(),mx.resetCache()},_m(n,null,[{key:"now",get:function(){return Z7e},set:function(t){Z7e=t}},{key:"defaultZoneName",get:function(){return n.defaultZone.name},set:function(t){t?_se=P6(t):_se=null}},{key:"defaultZone",get:function(){return _se||X7e.instance}},{key:"defaultLocale",get:function(){return e8e},set:function(t){e8e=t}},{key:"defaultNumberingSystem",get:function(){return t8e},set:function(t){t8e=t}},{key:"defaultOutputCalendar",get:function(){return n8e},set:function(t){n8e=t}},{key:"throwOnInvalid",get:function(){return r8e},set:function(t){r8e=t}}]),n}(),bse={};function Ese(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=bse[t];return r||(r=new Intl.DateTimeFormat(n,e),bse[t]=r),r}var Sse={};function oct(n,e){e===void 0&&(e={});var t=JSON.stringify([n,e]),r=Sse[t];return r||(r=new Intl.NumberFormat(n,e),Sse[t]=r),r}var wse={};function act(n,e){e===void 0&&(e={});var t=e,r=t.base,i=Llt(t,["base"]),s=JSON.stringify([n,i]),o=wse[s];return o||(o=new Intl.RelativeTimeFormat(n,e),wse[s]=o),o}var B6=null;function uct(){if(B6)return B6;if(hx()){var n=new Intl.DateTimeFormat().resolvedOptions().locale;return B6=!n||n==="und"?"en-US":n,B6}else return B6="en-US",B6}function lct(n){var e=n.indexOf("-u-");if(e===-1)return[n];var t,r=n.substring(0,e);try{t=Ese(n).resolvedOptions()}catch{t=Ese(r).resolvedOptions()}var i=t,s=i.numberingSystem,o=i.calendar;return[r,s,o]}function cct(n,e,t){return hx()?((t||e)&&(n+="-u",t&&(n+="-ca-"+t),e&&(n+="-nu-"+e)),n):[]}function fct(n){for(var e=[],t=1;t<=12;t++){var r=vc.utc(2016,t,1);e.push(n(r))}return e}function dct(n){for(var e=[],t=1;t<=7;t++){var r=vc.utc(2016,11,13+t);e.push(n(r))}return e}function iz(n,e,t,r,i){var s=n.listingMode(t);return s==="error"?null:s==="en"?r(e):i(e)}function hct(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||hx()&&new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var pct=function(){function n(t,r,i){if(this.padTo=i.padTo||0,this.floor=i.floor||!1,!r&&hx()){var s={useGrouping:!1};i.padTo>0&&(s.minimumIntegerDigits=i.padTo),this.inf=oct(t,s)}}var e=n.prototype;return e.format=function(r){if(this.inf){var i=this.floor?Math.floor(r):r;return this.inf.format(i)}else{var s=this.floor?Math.floor(r):pse(r,3);return gw(s,this.padTo)}},n}(),mct=function(){function n(t,r,i){this.opts=i,this.hasIntl=hx();var s;if(t.zone.universal&&this.hasIntl){var o=-1*(t.offset/60),a=o>=0?"Etc/GMT+"+o:"Etc/GMT"+o,c=mx.isValidZone(a);t.offset!==0&&c?(s=a,this.dt=t):(s="UTC",i.timeZoneName?this.dt=t:this.dt=t.offset===0?t:vc.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="local"?this.dt=t:(this.dt=t,s=t.zone.name);if(this.hasIntl){var d=Object.assign({},this.opts);s&&(d.timeZone=s),this.dtf=Ese(r,d)}}var e=n.prototype;return e.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var r=Zlt(this.opts),i=xf.create("en-US");return px.create(i).formatDateTimeFromString(this.dt,r)},e.formatToParts=function(){return this.hasIntl&&YD()?this.dtf.formatToParts(this.dt.toJSDate()):[]},e.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},n}(),xct=function(){function n(t,r,i){this.opts=Object.assign({style:"long"},i),!r&&B7e()&&(this.rtf=act(t,i))}var e=n.prototype;return e.format=function(r,i){return this.rtf?this.rtf.format(r,i):Xlt(i,r,this.opts.numeric,this.opts.style!=="long")},e.formatToParts=function(r,i){return this.rtf?this.rtf.formatToParts(r,i):[]},n}(),xf=function(){n.fromOpts=function(r){return n.create(r.locale,r.numberingSystem,r.outputCalendar,r.defaultToEN)},n.create=function(r,i,s,o){o===void 0&&(o=!1);var a=r||Gl.defaultLocale,c=a||(o?"en-US":uct()),d=i||Gl.defaultNumberingSystem,p=s||Gl.defaultOutputCalendar;return new n(c,d,p,a)},n.resetCache=function(){B6=null,bse={},Sse={},wse={}},n.fromObject=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar;return n.create(s,o,a)};function n(t,r,i,s){var o=lct(t),a=o[0],c=o[1],d=o[2];this.locale=a,this.numberingSystem=r||c||null,this.outputCalendar=i||d||null,this.intl=cct(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}var e=n.prototype;return e.listingMode=function(r){r===void 0&&(r=!0);var i=hx(),s=i&&YD(),o=this.isEnglish(),a=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return!s&&!(o&&a)&&!r?"error":!s||o&&a?"en":"intl"},e.clone=function(r){return!r||Object.getOwnPropertyNames(r).length===0?this:n.create(r.locale||this.specifiedLocale,r.numberingSystem||this.numberingSystem,r.outputCalendar||this.outputCalendar,r.defaultToEN||!1)},e.redefaultToEN=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!0}))},e.redefaultToSystem=function(r){return r===void 0&&(r={}),this.clone(Object.assign({},r,{defaultToEN:!1}))},e.months=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),iz(this,r,s,V7e,function(){var a=i?{month:r,day:"numeric"}:{month:r},c=i?"format":"standalone";return o.monthsCache[c][r]||(o.monthsCache[c][r]=fct(function(d){return o.extract(d,a,"month")})),o.monthsCache[c][r]})},e.weekdays=function(r,i,s){var o=this;return i===void 0&&(i=!1),s===void 0&&(s=!0),iz(this,r,s,G7e,function(){var a=i?{weekday:r,year:"numeric",month:"long",day:"numeric"}:{weekday:r},c=i?"format":"standalone";return o.weekdaysCache[c][r]||(o.weekdaysCache[c][r]=dct(function(d){return o.extract(d,a,"weekday")})),o.weekdaysCache[c][r]})},e.meridiems=function(r){var i=this;return r===void 0&&(r=!0),iz(this,void 0,r,function(){return Y7e},function(){if(!i.meridiemCache){var s={hour:"numeric",hour12:!0};i.meridiemCache=[vc.utc(2016,11,13,9),vc.utc(2016,11,13,19)].map(function(o){return i.extract(o,s,"dayperiod")})}return i.meridiemCache})},e.eras=function(r,i){var s=this;return i===void 0&&(i=!0),iz(this,r,i,K7e,function(){var o={era:r};return s.eraCache[r]||(s.eraCache[r]=[vc.utc(-40,1,1),vc.utc(2017,1,1)].map(function(a){return s.extract(a,o,"era")})),s.eraCache[r]})},e.extract=function(r,i,s){var o=this.dtFormatter(r,i),a=o.formatToParts(),c=a.find(function(d){return d.type.toLowerCase()===s});return c?c.value:null},e.numberFormatter=function(r){return r===void 0&&(r={}),new pct(this.intl,r.forceSimple||this.fastNumbers,r)},e.dtFormatter=function(r,i){return i===void 0&&(i={}),new mct(r,this.intl,i)},e.relFormatter=function(r){return r===void 0&&(r={}),new xct(this.intl,this.isEnglish(),r)},e.isEnglish=function(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||hx()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},e.equals=function(r){return this.locale===r.locale&&this.numberingSystem===r.numberingSystem&&this.outputCalendar===r.outputCalendar},_m(n,[{key:"fastNumbers",get:function(){return this.fastNumbersCached==null&&(this.fastNumbersCached=hct(this)),this.fastNumbersCached}}]),n}();function vw(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e.reduce(function(i,s){return i+s.source},"");return RegExp("^"+r+"$")}function j6(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduce(function(i,s){var o=i[0],a=i[1],c=i[2],d=s(r,c),p=d[0],E=d[1],w=d[2];return[Object.assign(o,p),a||E,w]},[{},null,1]).slice(0,2)}}function _w(n){if(n==null)return[null,null];for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i],a=o[0],c=o[1],d=a.exec(n);if(d)return c(d)}return[null,null]}function i8e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r,i){var s={},o;for(o=0;o<e.length;o++)s[e[o]]=wd(r[i+o]);return[s,null,i+o]}}var s8e=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Cse=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,o8e=RegExp(""+Cse.source+s8e.source+"?"),Ase=RegExp("(?:T"+o8e.source+")?"),gct=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,yct=/(\d{4})-?W(\d\d)(?:-?(\d))?/,vct=/(\d{4})-?(\d{3})/,_ct=i8e("weekYear","weekNumber","weekDay"),bct=i8e("year","ordinal"),Ect=/(\d{4})-(\d\d)-(\d\d)/,a8e=RegExp(Cse.source+" ?(?:"+s8e.source+"|("+H7e.source+"))?"),Sct=RegExp("(?: "+a8e.source+")?");function bw(n,e,t){var r=n[e];return ia(r)?t:wd(r)}function u8e(n,e){var t={year:bw(n,e),month:bw(n,e+1,1),day:bw(n,e+2,1)};return[t,null,e+3]}function q6(n,e){var t={hours:bw(n,e,0),minutes:bw(n,e+1,0),seconds:bw(n,e+2,0),milliseconds:hse(n[e+3])};return[t,null,e+4]}function Ew(n,e){var t=!n[e]&&!n[e+1],r=XU(n[e+1],n[e+2]),i=t?null:Yh.instance(r);return[{},i,e+3]}function l8e(n,e){var t=n[e]?mx.create(n[e]):null;return[{},t,e+1]}var wct=RegExp("^T?"+Cse.source+"$"),Cct=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Act(n){var e=n[0],t=n[1],r=n[2],i=n[3],s=n[4],o=n[5],a=n[6],c=n[7],d=n[8],p=e[0]==="-",E=c&&c[0]==="-",w=function(R,U){return U===void 0&&(U=!1),R!==void 0&&(U||R&&p)?-R:R};return[{years:w(wd(t)),months:w(wd(r)),weeks:w(wd(i)),days:w(wd(s)),hours:w(wd(o)),minutes:w(wd(a)),seconds:w(wd(c),c==="-0"),milliseconds:w(hse(d),E)}]}var Tct={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Tse(n,e,t,r,i,s,o){var a={year:e.length===2?xse(wd(e)):wd(e),month:$7e.indexOf(t)+1,day:wd(r),hour:wd(i),minute:wd(s)};return o&&(a.second=wd(o)),n&&(a.weekday=n.length>3?W7e.indexOf(n)+1:Q7e.indexOf(n)+1),a}var Fct=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Dct(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],c=n[8],d=n[9],p=n[10],E=n[11],w=Tse(e,i,r,t,s,o,a),N;return c?N=Tct[c]:d?N=0:N=XU(p,E),[w,new Yh(N)]}function Oct(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Rct=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Nct=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Lct=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function c8e(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],c=Tse(e,i,r,t,s,o,a);return[c,Yh.utcInstance]}function kct(n){var e=n[1],t=n[2],r=n[3],i=n[4],s=n[5],o=n[6],a=n[7],c=Tse(e,a,t,r,i,s,o);return[c,Yh.utcInstance]}var Ict=vw(gct,Ase),Mct=vw(yct,Ase),Pct=vw(vct,Ase),Bct=vw(o8e),jct=j6(u8e,q6,Ew),qct=j6(_ct,q6,Ew),Uct=j6(bct,q6,Ew),zct=j6(q6,Ew);function Hct(n){return _w(n,[Ict,jct],[Mct,qct],[Pct,Uct],[Bct,zct])}function $ct(n){return _w(Oct(n),[Fct,Dct])}function Vct(n){return _w(n,[Rct,c8e],[Nct,c8e],[Lct,kct])}function Wct(n){return _w(n,[Cct,Act])}var Qct=j6(q6);function Gct(n){return _w(n,[wct,Qct])}var Yct=vw(Ect,Sct),Kct=vw(a8e),Jct=j6(u8e,q6,Ew,l8e),Xct=j6(q6,Ew,l8e);function Zct(n){return _w(n,[Yct,Jct],[Kct,Xct])}var eft="Invalid Duration",f8e={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},tft=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},f8e),c1=146097/400,Sw=146097/4800,nft=Object.assign({years:{quarters:4,months:12,weeks:c1/7,days:c1,hours:c1*24,minutes:c1*24*60,seconds:c1*24*60*60,milliseconds:c1*24*60*60*1e3},quarters:{months:3,weeks:c1/28,days:c1/4,hours:c1*24/4,minutes:c1*24*60/4,seconds:c1*24*60*60/4,milliseconds:c1*24*60*60*1e3/4},months:{weeks:Sw/7,days:Sw,hours:Sw*24,minutes:Sw*24*60,seconds:Sw*24*60*60,milliseconds:Sw*24*60*60*1e3}},f8e),ww=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],rft=ww.slice(0).reverse();function U6(n,e,t){t===void 0&&(t=!1);var r={values:t?e.values:Object.assign({},n.values,e.values||{}),loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new Cd(r)}function ift(n){return n<0?Math.floor(n):Math.ceil(n)}function d8e(n,e,t,r,i){var s=n[i][t],o=e[t]/s,a=Math.sign(o)===Math.sign(r[i]),c=!a&&r[i]!==0&&Math.abs(o)<=1?ift(o):Math.trunc(o);r[i]+=c,e[t]-=c*s}function sft(n,e){rft.reduce(function(t,r){return ia(e[r])?t:(t&&d8e(n,e,t,e,r),r)},null)}var Cd=function(){function n(t){var r=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||xf.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r?nft:tft,this.isLuxonDuration=!0}n.fromMillis=function(r,i){return n.fromObject(Object.assign({milliseconds:r},i))},n.fromObject=function(r){if(r==null||typeof r!="object")throw new l1("Duration.fromObject: argument expected to be an object, got "+(r===null?"null":typeof r));return new n({values:ZU(r,n.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:xf.fromObject(r),conversionAccuracy:r.conversionAccuracy})},n.fromISO=function(r,i){var s=Wct(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.fromISOTime=function(r,i){var s=Gct(r),o=s[0];if(o){var a=Object.assign(o,i);return n.fromObject(a)}else return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new l1("need to specify a reason the Duration is invalid");var s=r instanceof Em?r:new Em(r,i);if(Gl.throwOnInvalid)throw new Plt(s);return new n({invalid:s})},n.normalizeUnit=function(r){var i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[r&&r.toLowerCase()];if(!i)throw new I7e(r);return i},n.isDuration=function(r){return r&&r.isLuxonDuration||!1};var e=n.prototype;return e.toFormat=function(r,i){i===void 0&&(i={});var s=Object.assign({},i,{floor:i.round!==!1&&i.floor!==!1});return this.isValid?px.create(this.loc,s).formatDurationFromString(this,r):eft},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.values);return r.includeConfig&&(i.conversionAccuracy=this.conversionAccuracy,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toISO=function(){if(!this.isValid)return null;var r="P";return this.years!==0&&(r+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(r+=this.months+this.quarters*3+"M"),this.weeks!==0&&(r+=this.weeks+"W"),this.days!==0&&(r+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(r+="T"),this.hours!==0&&(r+=this.hours+"H"),this.minutes!==0&&(r+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(r+=pse(this.seconds+this.milliseconds/1e3,3)+"S"),r==="P"&&(r+="T0S"),r},e.toISOTime=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=this.toMillis();if(i<0||i>=864e5)return null;r=Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},r);var s=this.shiftTo("hours","minutes","seconds","milliseconds"),o=r.format==="basic"?"hhmm":"hh:mm";(!r.suppressSeconds||s.seconds!==0||s.milliseconds!==0)&&(o+=r.format==="basic"?"ss":":ss",(!r.suppressMilliseconds||s.milliseconds!==0)&&(o+=".SSS"));var a=s.toFormat(o);return r.includePrefix&&(a="T"+a),a},e.toJSON=function(){return this.toISO()},e.toString=function(){return this.toISO()},e.toMillis=function(){return this.as("milliseconds")},e.valueOf=function(){return this.toMillis()},e.plus=function(r){if(!this.isValid)return this;for(var i=z6(r),s={},o=$5(ww),a;!(a=o()).done;){var c=a.value;(xw(i.values,c)||xw(this.values,c))&&(s[c]=i.get(c)+this.get(c))}return U6(this,{values:s},!0)},e.minus=function(r){if(!this.isValid)return this;var i=z6(r);return this.plus(i.negate())},e.mapUnits=function(r){if(!this.isValid)return this;for(var i={},s=0,o=Object.keys(this.values);s<o.length;s++){var a=o[s];i[a]=z7e(r(this.values[a],a))}return U6(this,{values:i},!0)},e.get=function(r){return this[n.normalizeUnit(r)]},e.set=function(r){if(!this.isValid)return this;var i=Object.assign(this.values,ZU(r,n.normalizeUnit,[]));return U6(this,{values:i})},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.conversionAccuracy,c=this.loc.clone({locale:s,numberingSystem:o}),d={loc:c};return a&&(d.conversionAccuracy=a),U6(this,d)},e.as=function(r){return this.isValid?this.shiftTo(r).get(r):NaN},e.normalize=function(){if(!this.isValid)return this;var r=this.toObject();return sft(this.matrix,r),U6(this,{values:r},!0)},e.shiftTo=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!this.isValid)return this;if(i.length===0)return this;i=i.map(function(j){return n.normalizeUnit(j)});for(var o={},a={},c=this.toObject(),d,p=$5(ww),E;!(E=p()).done;){var w=E.value;if(i.indexOf(w)>=0){d=w;var N=0;for(var R in a)N+=this.matrix[R][w]*a[R],a[R]=0;M6(c[w])&&(N+=c[w]);var U=Math.trunc(N);o[w]=U,a[w]=N-U;for(var Q in c)ww.indexOf(Q)>ww.indexOf(w)&&d8e(this.matrix,c,Q,o,w)}else M6(c[w])&&(a[w]=c[w])}for(var P in a)a[P]!==0&&(o[d]+=P===d?a[P]:a[P]/this.matrix[d][P]);return U6(this,{values:o},!0).normalize()},e.negate=function(){if(!this.isValid)return this;for(var r={},i=0,s=Object.keys(this.values);i<s.length;i++){var o=s[i];r[o]=-this.values[o]}return U6(this,{values:r},!0)},e.equals=function(r){if(!this.isValid||!r.isValid||!this.loc.equals(r.loc))return!1;function i(c,d){return c===void 0||c===0?d===void 0||d===0:c===d}for(var s=$5(ww),o;!(o=s()).done;){var a=o.value;if(!i(this.values[a],r.values[a]))return!1}return!0},_m(n,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}();function z6(n){if(M6(n))return Cd.fromMillis(n);if(Cd.isDuration(n))return n;if(typeof n=="object")return Cd.fromObject(n);throw new l1("Unknown duration argument "+n+" of type "+typeof n)}var XD="Invalid Interval";function oft(n,e){return!n||!n.isValid?ZD.invalid("missing or invalid start"):!e||!e.isValid?ZD.invalid("missing or invalid end"):e<n?ZD.invalid("end before start","The end of an interval must be after its start, but you had start="+n.toISO()+" and end="+e.toISO()):null}var ZD=function(){function n(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new l1("need to specify a reason the Interval is invalid");var s=r instanceof Em?r:new Em(r,i);if(Gl.throwOnInvalid)throw new Mlt(s);return new n({invalid:s})},n.fromDateTimes=function(r,i){var s=rO(r),o=rO(i),a=oft(s,o);return a??new n({start:s,end:o})},n.after=function(r,i){var s=z6(i),o=rO(r);return n.fromDateTimes(o,o.plus(s))},n.before=function(r,i){var s=z6(i),o=rO(r);return n.fromDateTimes(o.minus(s),o)},n.fromISO=function(r,i){var s=(r||"").split("/",2),o=s[0],a=s[1];if(o&&a){var c,d;try{c=vc.fromISO(o,i),d=c.isValid}catch{d=!1}var p,E;try{p=vc.fromISO(a,i),E=p.isValid}catch{E=!1}if(d&&E)return n.fromDateTimes(c,p);if(d){var w=Cd.fromISO(a,i);if(w.isValid)return n.after(c,w)}else if(E){var N=Cd.fromISO(o,i);if(N.isValid)return n.before(p,N)}}return n.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},n.isInterval=function(r){return r&&r.isLuxonInterval||!1};var e=n.prototype;return e.length=function(r){return r===void 0&&(r="milliseconds"),this.isValid?this.toDuration.apply(this,[r]).get(r):NaN},e.count=function(r){if(r===void 0&&(r="milliseconds"),!this.isValid)return NaN;var i=this.start.startOf(r),s=this.end.startOf(r);return Math.floor(s.diff(i,r).get(r))+1},e.hasSame=function(r){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,r):!1},e.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},e.isAfter=function(r){return this.isValid?this.s>r:!1},e.isBefore=function(r){return this.isValid?this.e<=r:!1},e.contains=function(r){return this.isValid?this.s<=r&&this.e>r:!1},e.set=function(r){var i=r===void 0?{}:r,s=i.start,o=i.end;return this.isValid?n.fromDateTimes(s||this.s,o||this.e):this},e.splitAt=function(){var r=this;if(!this.isValid)return[];for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];for(var a=s.map(rO).filter(function(N){return r.contains(N)}).sort(),c=[],d=this.s,p=0;d<this.e;){var E=a[p]||this.e,w=+E>+this.e?this.e:E;c.push(n.fromDateTimes(d,w)),d=w,p+=1}return c},e.splitBy=function(r){var i=z6(r);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];for(var s=this.s,o=1,a,c=[];s<this.e;){var d=this.start.plus(i.mapUnits(function(p){return p*o}));a=+d>+this.e?this.e:d,c.push(n.fromDateTimes(s,a)),s=a,o+=1}return c},e.divideEqually=function(r){return this.isValid?this.splitBy(this.length()/r).slice(0,r):[]},e.overlaps=function(r){return this.e>r.s&&this.s<r.e},e.abutsStart=function(r){return this.isValid?+this.e==+r.s:!1},e.abutsEnd=function(r){return this.isValid?+r.e==+this.s:!1},e.engulfs=function(r){return this.isValid?this.s<=r.s&&this.e>=r.e:!1},e.equals=function(r){return!this.isValid||!r.isValid?!1:this.s.equals(r.s)&&this.e.equals(r.e)},e.intersection=function(r){if(!this.isValid)return this;var i=this.s>r.s?this.s:r.s,s=this.e<r.e?this.e:r.e;return i>=s?null:n.fromDateTimes(i,s)},e.union=function(r){if(!this.isValid)return this;var i=this.s<r.s?this.s:r.s,s=this.e>r.e?this.e:r.e;return n.fromDateTimes(i,s)},n.merge=function(r){var i=r.sort(function(a,c){return a.s-c.s}).reduce(function(a,c){var d=a[0],p=a[1];return p?p.overlaps(c)||p.abutsStart(c)?[d,p.union(c)]:[d.concat([p]),c]:[d,c]},[[],null]),s=i[0],o=i[1];return o&&s.push(o),s},n.xor=function(r){for(var i,s=null,o=0,a=[],c=r.map(function(R){return[{time:R.s,type:"s"},{time:R.e,type:"e"}]}),d=(i=Array.prototype).concat.apply(i,c),p=d.sort(function(R,U){return R.time-U.time}),E=$5(p),w;!(w=E()).done;){var N=w.value;o+=N.type==="s"?1:-1,o===1?s=N.time:(s&&+s!=+N.time&&a.push(n.fromDateTimes(s,N.time)),s=null)}return n.merge(a)},e.difference=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.xor([this].concat(s)).map(function(a){return r.intersection(a)}).filter(function(a){return a&&!a.isEmpty()})},e.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":XD},e.toISO=function(r){return this.isValid?this.s.toISO(r)+"/"+this.e.toISO(r):XD},e.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():XD},e.toISOTime=function(r){return this.isValid?this.s.toISOTime(r)+"/"+this.e.toISOTime(r):XD},e.toFormat=function(r,i){var s=i===void 0?{}:i,o=s.separator,a=o===void 0?" \u2013 ":o;return this.isValid?""+this.s.toFormat(r)+a+this.e.toFormat(r):XD},e.toDuration=function(r,i){return this.isValid?this.e.diff(this.s,r,i):Cd.invalid(this.invalidReason)},e.mapEndpoints=function(r){return n.fromDateTimes(r(this.s),r(this.e))},_m(n,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return this.invalidReason===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),n}(),eO=function(){function n(){}return n.hasDST=function(t){t===void 0&&(t=Gl.defaultZone);var r=vc.now().setZone(t).set({month:12});return!t.universal&&r.offset!==r.set({month:6}).offset},n.isValidIANAZone=function(t){return mx.isValidSpecifier(t)&&mx.isValidZone(t)},n.normalizeZone=function(t){return P6(t,Gl.defaultZone)},n.months=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,c=a===void 0?null:a,d=i.locObj,p=d===void 0?null:d,E=i.outputCalendar,w=E===void 0?"gregory":E;return(p||xf.create(o,c,w)).months(t)},n.monthsFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,c=a===void 0?null:a,d=i.locObj,p=d===void 0?null:d,E=i.outputCalendar,w=E===void 0?"gregory":E;return(p||xf.create(o,c,w)).months(t,!0)},n.weekdays=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,c=a===void 0?null:a,d=i.locObj,p=d===void 0?null:d;return(p||xf.create(o,c,null)).weekdays(t)},n.weekdaysFormat=function(t,r){t===void 0&&(t="long");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s,a=i.numberingSystem,c=a===void 0?null:a,d=i.locObj,p=d===void 0?null:d;return(p||xf.create(o,c,null)).weekdays(t,!0)},n.meridiems=function(t){var r=t===void 0?{}:t,i=r.locale,s=i===void 0?null:i;return xf.create(s).meridiems()},n.eras=function(t,r){t===void 0&&(t="short");var i=r===void 0?{}:r,s=i.locale,o=s===void 0?null:s;return xf.create(o,null,"gregory").eras(t)},n.features=function(){var t=!1,r=!1,i=!1,s=!1;if(hx()){t=!0,r=YD(),s=B7e();try{i=new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone==="America/New_York"}catch{i=!1}}return{intl:t,intlTokens:r,zones:i,relative:s}},n}();function h8e(n,e){var t=function(s){return s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=t(e)-t(n);return Math.floor(Cd.fromMillis(r).as("days"))}function aft(n,e,t){for(var r=[["years",function(U,Q){return Q.year-U.year}],["quarters",function(U,Q){return Q.quarter-U.quarter}],["months",function(U,Q){return Q.month-U.month+(Q.year-U.year)*12}],["weeks",function(U,Q){var P=h8e(U,Q);return(P-P%7)/7}],["days",h8e]],i={},s,o,a=0,c=r;a<c.length;a++){var d=c[a],p=d[0],E=d[1];if(t.indexOf(p)>=0){var w;s=p;var N=E(n,e);if(o=n.plus((w={},w[p]=N,w)),o>e){var R;n=n.plus((R={},R[p]=N-1,R)),N-=1}else n=o;i[p]=N}}return[n,i,o,s]}function uft(n,e,t,r){var i=aft(n,e,t),s=i[0],o=i[1],a=i[2],c=i[3],d=e-s,p=t.filter(function(R){return["hours","minutes","seconds","milliseconds"].indexOf(R)>=0});if(p.length===0){if(a<e){var E;a=s.plus((E={},E[c]=1,E))}a!==s&&(o[c]=(o[c]||0)+d/(a-s))}var w=Cd.fromObject(Object.assign(o,r));if(p.length>0){var N;return(N=Cd.fromMillis(d,r)).shiftTo.apply(N,p).plus(w)}else return w}var Fse={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},p8e={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},lft=Fse.hanidec.replace(/[\[|\]]/g,"").split("");function cft(n){var e=parseInt(n,10);if(isNaN(e)){e="";for(var t=0;t<n.length;t++){var r=n.charCodeAt(t);if(n[t].search(Fse.hanidec)!==-1)e+=lft.indexOf(n[t]);else for(var i in p8e){var s=p8e[i],o=s[0],a=s[1];r>=o&&r<=a&&(e+=r-o)}}return parseInt(e,10)}else return e}function Sm(n,e){var t=n.numberingSystem;return e===void 0&&(e=""),new RegExp(""+Fse[t||"latn"]+e)}var fft="missing Intl.DateTimeFormat.formatToParts support";function Sa(n,e){return e===void 0&&(e=function(r){return r}),{regex:n,deser:function(r){var i=r[0];return e(cft(i))}}}var dft=String.fromCharCode(160),m8e="( |"+dft+")",x8e=new RegExp(m8e,"g");function hft(n){return n.replace(/\./g,"\\.?").replace(x8e,m8e)}function g8e(n){return n.replace(/\./g,"").replace(x8e," ").toLowerCase()}function wm(n,e){return n===null?null:{regex:RegExp(n.map(hft).join("|")),deser:function(r){var i=r[0];return n.findIndex(function(s){return g8e(i)===g8e(s)})+e}}}function y8e(n,e){return{regex:n,deser:function(r){var i=r[1],s=r[2];return XU(i,s)},groups:e}}function v8e(n){return{regex:n,deser:function(t){var r=t[0];return r}}}function pft(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function mft(n,e){var t=Sm(e),r=Sm(e,"{2}"),i=Sm(e,"{3}"),s=Sm(e,"{4}"),o=Sm(e,"{6}"),a=Sm(e,"{1,2}"),c=Sm(e,"{1,3}"),d=Sm(e,"{1,6}"),p=Sm(e,"{1,9}"),E=Sm(e,"{2,4}"),w=Sm(e,"{4,6}"),N=function(P){return{regex:RegExp(pft(P.val)),deser:function(I){var K=I[0];return K},literal:!0}},R=function(P){if(n.literal)return N(P);switch(P.val){case"G":return wm(e.eras("short",!1),0);case"GG":return wm(e.eras("long",!1),0);case"y":return Sa(d);case"yy":return Sa(E,xse);case"yyyy":return Sa(s);case"yyyyy":return Sa(w);case"yyyyyy":return Sa(o);case"M":return Sa(a);case"MM":return Sa(r);case"MMM":return wm(e.months("short",!0,!1),1);case"MMMM":return wm(e.months("long",!0,!1),1);case"L":return Sa(a);case"LL":return Sa(r);case"LLL":return wm(e.months("short",!1,!1),1);case"LLLL":return wm(e.months("long",!1,!1),1);case"d":return Sa(a);case"dd":return Sa(r);case"o":return Sa(c);case"ooo":return Sa(i);case"HH":return Sa(r);case"H":return Sa(a);case"hh":return Sa(r);case"h":return Sa(a);case"mm":return Sa(r);case"m":return Sa(a);case"q":return Sa(a);case"qq":return Sa(r);case"s":return Sa(a);case"ss":return Sa(r);case"S":return Sa(c);case"SSS":return Sa(i);case"u":return v8e(p);case"a":return wm(e.meridiems(),0);case"kkkk":return Sa(s);case"kk":return Sa(E,xse);case"W":return Sa(a);case"WW":return Sa(r);case"E":case"c":return Sa(t);case"EEE":return wm(e.weekdays("short",!1,!1),1);case"EEEE":return wm(e.weekdays("long",!1,!1),1);case"ccc":return wm(e.weekdays("short",!0,!1),1);case"cccc":return wm(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return y8e(new RegExp("([+-]"+a.source+")(?::("+r.source+"))?"),2);case"ZZZ":return y8e(new RegExp("([+-]"+a.source+")("+r.source+")?"),2);case"z":return v8e(/[a-z_+-/]{1,256}?/i);default:return N(P)}},U=R(n)||{invalidReason:fft};return U.token=n,U}var xft={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function gft(n,e,t){var r=n.type,i=n.value;if(r==="literal")return{literal:!0,val:i};var s=t[r],o=xft[r];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function yft(n){var e=n.map(function(t){return t.regex}).reduce(function(t,r){return t+"("+r.source+")"},"");return["^"+e+"$",n]}function vft(n,e,t){var r=n.match(e);if(r){var i={},s=1;for(var o in t)if(xw(t,o)){var a=t[o],c=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+c))),s+=c}return[r,i]}else return[r,{}]}function _ft(n){var e=function(s){switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t;ia(n.Z)?ia(n.z)?t=null:t=mx.create(n.z):t=new Yh(n.Z),ia(n.q)||(n.M=(n.q-1)*3+1),ia(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),ia(n.u)||(n.S=hse(n.u));var r=Object.keys(n).reduce(function(i,s){var o=e(s);return o&&(i[o]=n[s]),i},{});return[r,t]}var Dse=null;function bft(){return Dse||(Dse=vc.fromMillis(1555555555555)),Dse}function Eft(n,e){if(n.literal)return n;var t=px.macroTokenToFormatOpts(n.val);if(!t)return n;var r=px.create(e,t),i=r.formatDateTimeParts(bft()),s=i.map(function(o){return gft(o,e,t)});return s.includes(void 0)?n:s}function Sft(n,e){var t;return(t=Array.prototype).concat.apply(t,n.map(function(r){return Eft(r,e)}))}function _8e(n,e,t){var r=Sft(px.parseFormat(t),n),i=r.map(function(Q){return mft(Q,n)}),s=i.find(function(Q){return Q.invalidReason});if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};var o=yft(i),a=o[0],c=o[1],d=RegExp(a,"i"),p=vft(e,d,c),E=p[0],w=p[1],N=w?_ft(w):[null,null],R=N[0],U=N[1];if(xw(w,"a")&&xw(w,"H"))throw new GD("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:d,rawMatches:E,matches:w,result:R,zone:U}}function wft(n,e,t){var r=_8e(n,e,t),i=r.result,s=r.zone,o=r.invalidReason;return[i,s,o]}var b8e=[0,31,59,90,120,151,181,212,243,273,304,334],E8e=[0,31,60,91,121,152,182,213,244,274,305,335];function f1(n,e){return new Em("unit out of range","you specified "+e+" (of type "+typeof e+") as a "+n+", which is invalid")}function S8e(n,e,t){var r=new Date(Date.UTC(n,e-1,t)).getUTCDay();return r===0?7:r}function w8e(n,e,t){return t+(KD(n)?E8e:b8e)[e-1]}function C8e(n,e){var t=KD(n)?E8e:b8e,r=t.findIndex(function(s){return s<e}),i=e-t[r];return{month:r+1,day:i}}function Ose(n){var e=n.year,t=n.month,r=n.day,i=w8e(e,t,r),s=S8e(e,t,r),o=Math.floor((i-s+10)/7),a;return o<1?(a=e-1,o=JU(a)):o>JU(e)?(a=e+1,o=1):a=e,Object.assign({weekYear:a,weekNumber:o,weekday:s},tz(n))}function A8e(n){var e=n.weekYear,t=n.weekNumber,r=n.weekday,i=S8e(e,1,4),s=JD(e),o=t*7+r-i-3,a;o<1?(a=e-1,o+=JD(a)):o>s?(a=e+1,o-=JD(e)):a=e;var c=C8e(a,o),d=c.month,p=c.day;return Object.assign({year:a,month:d,day:p},tz(n))}function Rse(n){var e=n.year,t=n.month,r=n.day,i=w8e(e,t,r);return Object.assign({year:e,ordinal:i},tz(n))}function T8e(n){var e=n.year,t=n.ordinal,r=C8e(e,t),i=r.month,s=r.day;return Object.assign({year:e,month:i,day:s},tz(n))}function Cft(n){var e=YU(n.weekYear),t=ty(n.weekNumber,1,JU(n.weekYear)),r=ty(n.weekday,1,7);return e?t?r?!1:f1("weekday",n.weekday):f1("week",n.week):f1("weekYear",n.weekYear)}function Aft(n){var e=YU(n.year),t=ty(n.ordinal,1,JD(n.year));return e?t?!1:f1("ordinal",n.ordinal):f1("year",n.year)}function F8e(n){var e=YU(n.year),t=ty(n.month,1,12),r=ty(n.day,1,KU(n.year,n.month));return e?t?r?!1:f1("day",n.day):f1("month",n.month):f1("year",n.year)}function D8e(n){var e=n.hour,t=n.minute,r=n.second,i=n.millisecond,s=ty(e,0,23)||e===24&&t===0&&r===0&&i===0,o=ty(t,0,59),a=ty(r,0,59),c=ty(i,0,999);return s?o?a?c?!1:f1("millisecond",i):f1("second",r):f1("minute",t):f1("hour",e)}var Nse="Invalid DateTime",O8e=864e13;function sz(n){return new Em("unsupported zone",'the zone "'+n.name+'" is not supported')}function Lse(n){return n.weekData===null&&(n.weekData=Ose(n.c)),n.weekData}function tO(n,e){var t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new vc(Object.assign({},t,e,{old:t}))}function R8e(n,e,t){var r=n-e*60*1e3,i=t.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;var s=t.offset(r);return i===s?[r,i]:[n-Math.min(i,s)*60*1e3,Math.max(i,s)]}function N8e(n,e){n+=e*60*1e3;var t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function oz(n,e,t){return R8e(mse(n),e,t)}function L8e(n,e){var t=n.o,r=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s=Object.assign({},n.c,{year:r,month:i,day:Math.min(n.c.day,KU(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),o=Cd.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=mse(s),c=R8e(a,t,n.zone),d=c[0],p=c[1];return o!==0&&(d+=o,p=n.zone.offset(d)),{ts:d,o:p}}function nO(n,e,t,r,i){var s=t.setZone,o=t.zone;if(n&&Object.keys(n).length!==0){var a=e||o,c=vc.fromObject(Object.assign(n,t,{zone:a,setZone:void 0}));return s?c:c.setZone(o)}else return vc.invalid(new Em("unparsable",'the input "'+i+`" can't be parsed as `+r))}function Cw(n,e,t){return t===void 0&&(t=!0),n.isValid?px.create(xf.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function k8e(n,e){var t=e.suppressSeconds,r=t===void 0?!1:t,i=e.suppressMilliseconds,s=i===void 0?!1:i,o=e.includeOffset,a=e.includePrefix,c=a===void 0?!1:a,d=e.includeZone,p=d===void 0?!1:d,E=e.spaceZone,w=E===void 0?!1:E,N=e.format,R=N===void 0?"extended":N,U=R==="basic"?"HHmm":"HH:mm";(!r||n.second!==0||n.millisecond!==0)&&(U+=R==="basic"?"ss":":ss",(!s||n.millisecond!==0)&&(U+=".SSS")),(p||o)&&w&&(U+=" "),p?U+="z":o&&(U+=R==="basic"?"ZZZ":"ZZ");var Q=Cw(n,U);return c&&(Q="T"+Q),Q}var I8e={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Tft={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Fft={ordinal:1,hour:0,minute:0,second:0,millisecond:0},M8e=["year","month","day","hour","minute","second","millisecond"],Dft=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Oft=["year","ordinal","hour","minute","second","millisecond"];function P8e(n){var e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new I7e(n);return e}function B8e(n,e){for(var t=$5(M8e),r;!(r=t()).done;){var i=r.value;ia(n[i])&&(n[i]=I8e[i])}var s=F8e(n)||D8e(n);if(s)return vc.invalid(s);var o=Gl.now(),a=e.offset(o),c=oz(n,a,e),d=c[0],p=c[1];return new vc({ts:d,zone:e,o:p})}function j8e(n,e,t){var r=ia(t.round)?!0:t.round,i=function(E,w){E=pse(E,r||t.calendary?0:2,!0);var N=e.loc.clone(t).relFormatter(t);return N.format(E,w)},s=function(E){return t.calendary?e.hasSame(n,E)?0:e.startOf(E).diff(n.startOf(E),E).get(E):e.diff(n,E).get(E)};if(t.unit)return i(s(t.unit),t.unit);for(var o=$5(t.units),a;!(a=o()).done;){var c=a.value,d=s(c);if(Math.abs(d)>=1)return i(d,c)}return i(n>e?-0:0,t.units[t.units.length-1])}var vc=function(){function n(t){var r=t.zone||Gl.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new Em("invalid input"):null)||(r.isValid?null:sz(r));this.ts=ia(t.ts)?Gl.now():t.ts;var s=null,o=null;if(!i){var a=t.old&&t.old.ts===this.ts&&t.old.zone.equals(r);if(a){var c=[t.old.c,t.old.o];s=c[0],o=c[1]}else{var d=r.offset(this.ts);s=N8e(this.ts,d),i=Number.isNaN(s.year)?new Em("invalid input"):null,s=i?null:s,o=i?null:d}}this._zone=r,this.loc=t.loc||xf.create(),this.invalid=i,this.weekData=null,this.c=s,this.o=o,this.isLuxonDateTime=!0}n.now=function(){return new n({})},n.local=function(r,i,s,o,a,c,d){return ia(r)?n.now():B8e({year:r,month:i,day:s,hour:o,minute:a,second:c,millisecond:d},Gl.defaultZone)},n.utc=function(r,i,s,o,a,c,d){return ia(r)?new n({ts:Gl.now(),zone:Yh.utcInstance}):B8e({year:r,month:i,day:s,hour:o,minute:a,second:c,millisecond:d},Yh.utcInstance)},n.fromJSDate=function(r,i){i===void 0&&(i={});var s=jlt(r)?r.valueOf():NaN;if(Number.isNaN(s))return n.invalid("invalid input");var o=P6(i.zone,Gl.defaultZone);return o.isValid?new n({ts:s,zone:o,loc:xf.fromObject(i)}):n.invalid(sz(o))},n.fromMillis=function(r,i){if(i===void 0&&(i={}),M6(r))return r<-O8e||r>O8e?n.invalid("Timestamp out of range"):new n({ts:r,zone:P6(i.zone,Gl.defaultZone),loc:xf.fromObject(i)});throw new l1("fromMillis requires a numerical input, but received a "+typeof r+" with value "+r)},n.fromSeconds=function(r,i){if(i===void 0&&(i={}),M6(r))return new n({ts:r*1e3,zone:P6(i.zone,Gl.defaultZone),loc:xf.fromObject(i)});throw new l1("fromSeconds requires a numerical input")},n.fromObject=function(r){var i=P6(r.zone,Gl.defaultZone);if(!i.isValid)return n.invalid(sz(i));var s=Gl.now(),o=i.offset(s),a=ZU(r,P8e,["zone","locale","outputCalendar","numberingSystem"]),c=!ia(a.ordinal),d=!ia(a.year),p=!ia(a.month)||!ia(a.day),E=d||p,w=a.weekYear||a.weekNumber,N=xf.fromObject(r);if((E||c)&&w)throw new GD("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&c)throw new GD("Can't mix ordinal dates with month/day");var R=w||a.weekday&&!E,U,Q,P=N8e(s,o);R?(U=Dft,Q=Tft,P=Ose(P)):c?(U=Oft,Q=Fft,P=Rse(P)):(U=M8e,Q=I8e);for(var j=!1,I=$5(U),K;!(K=I()).done;){var de=K.value,M=a[de];ia(M)?j?a[de]=Q[de]:a[de]=P[de]:j=!0}var Z=R?Cft(a):c?Aft(a):F8e(a),me=Z||D8e(a);if(me)return n.invalid(me);var _e=R?A8e(a):c?T8e(a):a,Ve=oz(_e,o,i),at=Ve[0],lt=Ve[1],Ke=new n({ts:at,zone:i,o:lt,loc:N});return a.weekday&&E&&r.weekday!==Ke.weekday?n.invalid("mismatched weekday","you can't specify both a weekday of "+a.weekday+" and a date of "+Ke.toISO()):Ke},n.fromISO=function(r,i){i===void 0&&(i={});var s=Hct(r),o=s[0],a=s[1];return nO(o,a,i,"ISO 8601",r)},n.fromRFC2822=function(r,i){i===void 0&&(i={});var s=$ct(r),o=s[0],a=s[1];return nO(o,a,i,"RFC 2822",r)},n.fromHTTP=function(r,i){i===void 0&&(i={});var s=Vct(r),o=s[0],a=s[1];return nO(o,a,i,"HTTP",i)},n.fromFormat=function(r,i,s){if(s===void 0&&(s={}),ia(r)||ia(i))throw new l1("fromFormat requires an input string and a format");var o=s,a=o.locale,c=a===void 0?null:a,d=o.numberingSystem,p=d===void 0?null:d,E=xf.fromOpts({locale:c,numberingSystem:p,defaultToEN:!0}),w=wft(E,r,i),N=w[0],R=w[1],U=w[2];return U?n.invalid(U):nO(N,R,s,"format "+i,r)},n.fromString=function(r,i,s){return s===void 0&&(s={}),n.fromFormat(r,i,s)},n.fromSQL=function(r,i){i===void 0&&(i={});var s=Zct(r),o=s[0],a=s[1];return nO(o,a,i,"SQL",r)},n.invalid=function(r,i){if(i===void 0&&(i=null),!r)throw new l1("need to specify a reason the DateTime is invalid");var s=r instanceof Em?r:new Em(r,i);if(Gl.throwOnInvalid)throw new Ilt(s);return new n({invalid:s})},n.isDateTime=function(r){return r&&r.isLuxonDateTime||!1};var e=n.prototype;return e.get=function(r){return this[r]},e.resolvedLocaleOpts=function(r){r===void 0&&(r={});var i=px.create(this.loc.clone(r),r).resolvedOptions(this),s=i.locale,o=i.numberingSystem,a=i.calendar;return{locale:s,numberingSystem:o,outputCalendar:a}},e.toUTC=function(r,i){return r===void 0&&(r=0),i===void 0&&(i={}),this.setZone(Yh.instance(r),i)},e.toLocal=function(){return this.setZone(Gl.defaultZone)},e.setZone=function(r,i){var s=i===void 0?{}:i,o=s.keepLocalTime,a=o===void 0?!1:o,c=s.keepCalendarTime,d=c===void 0?!1:c;if(r=P6(r,Gl.defaultZone),r.equals(this.zone))return this;if(r.isValid){var p=this.ts;if(a||d){var E=r.offset(this.ts),w=this.toObject(),N=oz(w,E,r);p=N[0]}return tO(this,{ts:p,zone:r})}else return n.invalid(sz(r))},e.reconfigure=function(r){var i=r===void 0?{}:r,s=i.locale,o=i.numberingSystem,a=i.outputCalendar,c=this.loc.clone({locale:s,numberingSystem:o,outputCalendar:a});return tO(this,{loc:c})},e.setLocale=function(r){return this.reconfigure({locale:r})},e.set=function(r){if(!this.isValid)return this;var i=ZU(r,P8e,[]),s=!ia(i.weekYear)||!ia(i.weekNumber)||!ia(i.weekday),o=!ia(i.ordinal),a=!ia(i.year),c=!ia(i.month)||!ia(i.day),d=a||c,p=i.weekYear||i.weekNumber;if((d||o)&&p)throw new GD("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new GD("Can't mix ordinal dates with month/day");var E;s?E=A8e(Object.assign(Ose(this.c),i)):ia(i.ordinal)?(E=Object.assign(this.toObject(),i),ia(i.day)&&(E.day=Math.min(KU(E.year,E.month),E.day))):E=T8e(Object.assign(Rse(this.c),i));var w=oz(E,this.o,this.zone),N=w[0],R=w[1];return tO(this,{ts:N,o:R})},e.plus=function(r){if(!this.isValid)return this;var i=z6(r);return tO(this,L8e(this,i))},e.minus=function(r){if(!this.isValid)return this;var i=z6(r).negate();return tO(this,L8e(this,i))},e.startOf=function(r){if(!this.isValid)return this;var i={},s=Cd.normalizeUnit(r);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(s==="weeks"&&(i.weekday=1),s==="quarters"){var o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)},e.endOf=function(r){var i;return this.isValid?this.plus((i={},i[r]=1,i)).startOf(r).minus(1):this},e.toFormat=function(r,i){return i===void 0&&(i={}),this.isValid?px.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,r):Nse},e.toLocaleString=function(r){return r===void 0&&(r=GU),this.isValid?px.create(this.loc.clone(r),r).formatDateTime(this):Nse},e.toLocaleParts=function(r){return r===void 0&&(r={}),this.isValid?px.create(this.loc.clone(r),r).formatDateTimeParts(this):[]},e.toISO=function(r){return r===void 0&&(r={}),this.isValid?this.toISODate(r)+"T"+this.toISOTime(r):null},e.toISODate=function(r){var i=r===void 0?{}:r,s=i.format,o=s===void 0?"extended":s,a=o==="basic"?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(a="+"+a),Cw(this,a)},e.toISOWeekDate=function(){return Cw(this,"kkkk-'W'WW-c")},e.toISOTime=function(r){var i=r===void 0?{}:r,s=i.suppressMilliseconds,o=s===void 0?!1:s,a=i.suppressSeconds,c=a===void 0?!1:a,d=i.includeOffset,p=d===void 0?!0:d,E=i.includePrefix,w=E===void 0?!1:E,N=i.format,R=N===void 0?"extended":N;return k8e(this,{suppressSeconds:c,suppressMilliseconds:o,includeOffset:p,includePrefix:w,format:R})},e.toRFC2822=function(){return Cw(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},e.toHTTP=function(){return Cw(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},e.toSQLDate=function(){return Cw(this,"yyyy-MM-dd")},e.toSQLTime=function(r){var i=r===void 0?{}:r,s=i.includeOffset,o=s===void 0?!0:s,a=i.includeZone,c=a===void 0?!1:a;return k8e(this,{includeOffset:o,includeZone:c,spaceZone:!0})},e.toSQL=function(r){return r===void 0&&(r={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(r):null},e.toString=function(){return this.isValid?this.toISO():Nse},e.valueOf=function(){return this.toMillis()},e.toMillis=function(){return this.isValid?this.ts:NaN},e.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},e.toJSON=function(){return this.toISO()},e.toBSON=function(){return this.toJSDate()},e.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var i=Object.assign({},this.c);return r.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i},e.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},e.diff=function(r,i,s){if(i===void 0&&(i="milliseconds"),s===void 0&&(s={}),!this.isValid||!r.isValid)return Cd.invalid(this.invalid||r.invalid,"created by diffing an invalid DateTime");var o=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},s),a=qlt(i).map(Cd.normalizeUnit),c=r.valueOf()>this.valueOf(),d=c?this:r,p=c?r:this,E=uft(d,p,a,o);return c?E.negate():E},e.diffNow=function(r,i){return r===void 0&&(r="milliseconds"),i===void 0&&(i={}),this.diff(n.now(),r,i)},e.until=function(r){return this.isValid?ZD.fromDateTimes(this,r):this},e.hasSame=function(r,i){if(!this.isValid)return!1;var s=r.valueOf(),o=this.setZone(r.zone,{keepLocalTime:!0});return o.startOf(i)<=s&&s<=o.endOf(i)},e.equals=function(r){return this.isValid&&r.isValid&&this.valueOf()===r.valueOf()&&this.zone.equals(r.zone)&&this.loc.equals(r.loc)},e.toRelative=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var i=r.base||n.fromObject({zone:this.zone}),s=r.padding?this<i?-r.padding:r.padding:0,o=["years","months","days","hours","minutes","seconds"],a=r.unit;return Array.isArray(r.unit)&&(o=r.unit,a=void 0),j8e(i,this.plus(s),Object.assign(r,{numeric:"always",units:o,unit:a}))},e.toRelativeCalendar=function(r){return r===void 0&&(r={}),this.isValid?j8e(r.base||n.fromObject({zone:this.zone}),this,Object.assign(r,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},n.min=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new l1("min requires all arguments be DateTimes");return j7e(i,function(o){return o.valueOf()},Math.min)},n.max=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!i.every(n.isDateTime))throw new l1("max requires all arguments be DateTimes");return j7e(i,function(o){return o.valueOf()},Math.max)},n.fromFormatExplain=function(r,i,s){s===void 0&&(s={});var o=s,a=o.locale,c=a===void 0?null:a,d=o.numberingSystem,p=d===void 0?null:d,E=xf.fromOpts({locale:c,numberingSystem:p,defaultToEN:!0});return _8e(E,r,i)},n.fromStringExplain=function(r,i,s){return s===void 0&&(s={}),n.fromFormatExplain(r,i,s)},_m(n,[{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Lse(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Lse(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Lse(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Rse(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?eO.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?eO.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?eO.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?eO.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",get:function(){return KD(this.year)}},{key:"daysInMonth",get:function(){return KU(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?JD(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?JU(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return GU}},{key:"DATE_MED",get:function(){return Gie}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return M7e}},{key:"DATE_FULL",get:function(){return Yie}},{key:"DATE_HUGE",get:function(){return Kie}},{key:"TIME_SIMPLE",get:function(){return Jie}},{key:"TIME_WITH_SECONDS",get:function(){return Xie}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Zie}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return ese}},{key:"TIME_24_SIMPLE",get:function(){return tse}},{key:"TIME_24_WITH_SECONDS",get:function(){return nse}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return rse}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return ise}},{key:"DATETIME_SHORT",get:function(){return sse}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return ose}},{key:"DATETIME_MED",get:function(){return ase}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return use}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return P7e}},{key:"DATETIME_FULL",get:function(){return lse}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return cse}},{key:"DATETIME_HUGE",get:function(){return fse}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return dse}}]),n}();function rO(n){if(vc.isDateTime(n))return n;if(n&&n.valueOf&&M6(n.valueOf()))return vc.fromJSDate(n);if(n&&typeof n=="object")return vc.fromObject(n);throw new l1("Unknown datetime argument: "+n+", of type "+typeof n)}var Rft="1.28.0";Kh.DateTime=vc;Kh.Duration=Cd;Kh.FixedOffsetZone=Yh;Kh.IANAZone=mx;Kh.Info=eO;Kh.Interval=ZD;Kh.InvalidZone=vse;Kh.LocalZone=X7e;Kh.Settings=Gl;Kh.VERSION=Rft;Kh.Zone=yw});var G8e=Ae(Ku=>{"use strict";m();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.ExprFunc=Ku.ExprTimeExtract=Ku.ForRange=Ku.PartialCompare=Ku.Apply=Ku.ExprCompare=Ku.ExprDuration=Ku.ExprNow=Ku.GranularLiteral=Ku.ExprGranularTime=Ku.Timeframe=void 0;var H6=q8e(),d1=im(),ai=q5(),U8e=class extends ai.MalloyElement{constructor(e){super();this.elementType="timeframe";let t=e.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1)),this.text=(0,d1.isTimestampUnit)(t)?t:"second"}};Ku.Timeframe=U8e;var kse=class extends ai.ExpressionDef{constructor(e,t,r){super({expr:e});this.expr=e,this.units=t,this.truncate=r,this.elementType="granularTime",this.legalChildTypes=[ai.FT.timestampT,ai.FT.dateT]}granular(){return!0}getExpression(e){let t=this.units,r=this.expr.getExpression(e);if((0,d1.isTimeFieldType)(r.dataType)){let i={...r,dataType:r.dataType,timeframe:t};return this.truncate&&(i.value=[{type:"dialect",function:"trunc",expr:{value:r.value,valueType:r.dataType},units:t}]),i}return this.log(`Cannot do time truncation on type '${r.dataType}'`),(0,ai.errorFor)("granularity typecheck")}apply(e,t,r){let i=this.getExpression(e).dataType,s=r.getExpression(e).dataType,o=(0,d1.isDateUnit)(this.units)?"date":"timestamp";return i=="date"&&o=="date"?this.dateRange(e,t,r):this.timestampRange(e,t,r)}timestampRange(e,t,r){let i=this.getExpression(e),s=ai.ExprTime.fromValue("timestamp",i),o=new ai.ExprTime("timestamp",(0,ai.timeOffset)("timestamp",i.value,"+",(0,d1.mkExpr)`1`,this.units),i.aggregate);return new ai.Range(s,o).apply(e,t,r)}dateRange(e,t,r){let i=this.getExpression(e),s=new ai.ExprTime("date",i.value,i.aggregate),o=(0,ai.timeOffset)("date",i.value,"+",["1"],this.units),a=new ai.ExprTime("date",o,i.aggregate);return new ai.Range(s,a).apply(e,t,r)}};Ku.ExprGranularTime=kse;var xx=class extends ai.ExpressionDef{constructor(e,t,r){super();this.moment=e,this.until=t,this.units=r,this.elementType="timeLiteral"}granular(){return!0}static parse(e){let t=e.slice(1),r="yyyy",i=`${r}-LL`,s=`${i}-dd`,o=`${s} HH:mm`,a=`${o}:ss`,c=H6.DateTime.fromFormat(t,a);if(c.isValid){let R=c.plus({second:1}).toFormat(a),U=new xx(t,R,"second");return U.timeType="timestamp",U}let d=H6.DateTime.fromFormat(t,o);if(d.isValid){let R=t+":00",U=d.plus({minute:1}).toFormat(o)+":00",Q=new xx(R,U,"minute");return Q.timeType="timestamp",Q}let p=t.match(/(\d{4})-[qQ](\d)$/);if(p){let R=Number.parseInt(p[2])-1,U=H6.DateTime.fromFormat(p[1],"yyyy");R>0&&(U=U.plus({quarters:R}));let Q=U.plus({quarter:1});return new xx(`${U.toFormat(s)}`,`${Q.toFormat(s)}`,"quarter")}let E=H6.DateTime.fromFormat(t,s);if(E.isValid){let R=E.plus({days:1});return new xx(`${E.toFormat(s)}`,`${R.toFormat(s)}`,"day")}let w=H6.DateTime.fromFormat(t,i);if(w.isValid){let R=w.plus({months:1});return new xx(`${w.toFormat(s)}`,`${R.toFormat(s)}`,"month")}let N=H6.DateTime.fromFormat(t,r);if(N.isValid){let R=N.toFormat("yyyy-01-01"),U=N.plus({year:1}).toFormat("yyyy-01-01");return new xx(R,U,"year")}if(t.startsWith("WK")){let R=H6.DateTime.fromFormat(t.slice(2),s);if(R.isValid){let U=R;R.weekday!==7&&(U=R.startOf("week").minus({day:1}));let Q=U.plus({days:7});return new xx(`${U.toFormat(s)}`,`${Q.toFormat(s)}`,"week")}}}apply(e,t,r){let i=r.getExpression(e);if((0,d1.isTimeFieldType)(i.dataType)){let s="timestamp";return i.dataType==="date"&&!this.timeType&&(s="date"),new ai.Range(new ai.ExprTime(s,(0,ai.timeLiteral)(this.moment,s,"UTC")),new ai.ExprTime(s,(0,ai.timeLiteral)(this.until,s,"UTC"))).apply(e,t,r)}return super.apply(e,t,r)}getExpression(e){let t=this.timeType||"date",r={dataType:t,aggregate:!1,value:(0,ai.timeLiteral)(this.moment,t,"UTC")};return t=="date"&&(0,d1.isDateUnit)(this.units)&&(r.alsoTimestamp=!0),this.units!="second"?{...r,timeframe:this.units}:r}};Ku.GranularLiteral=xx;var z8e=class extends ai.ExpressionDef{constructor(){super(...arguments);this.elementType="timestamp"}getExpression(e){return{dataType:"timestamp",aggregate:!1,value:[{type:"dialect",function:"now"}]}}};Ku.ExprNow=z8e;var H8e=class extends ai.ExpressionDef{constructor(e,t){super({n:e});this.n=e,this.timeframe=t,this.elementType="duration",this.legalChildTypes=[ai.FT.timestampT,ai.FT.dateT]}apply(e,t,r){let i=r.getExpression(e);if(this.typeCheck(this,i),(0,d1.isTimeFieldType)(i.dataType)&&(t==="+"||t==="-")){let s=this.n.getExpression(e);if(!ai.FT.typeEq(s,ai.FT.numberT))return this.log(`Duration units needs number not '${s.dataType}`),(0,ai.errorFor)("illegal unit expression");let o;if((0,ai.isGranularResult)(i)&&i.timeframe==this.timeframe&&(o=i.timeframe),i.dataType==="timestamp"){let a=(0,ai.timeOffset)("timestamp",i.value,t,s.value,this.timeframe);return(0,ai.timeResult)({dataType:"timestamp",aggregate:i.aggregate||s.aggregate,value:a},o)}return(0,ai.timeResult)({dataType:"date",aggregate:i.aggregate||s.aggregate,value:(0,ai.timeOffset)("date",i.value,t,s.value,this.timeframe)},o)}return super.apply(e,t,r)}getExpression(e){return{dataType:"duration",aggregate:!1,value:["__ERROR_DURATION_IS_NOT_A_VALUE__"]}}};Ku.ExprDuration=H8e;var Ise=class extends ai.BinaryBoolean{constructor(e,t,r){super(e,t,r);this.elementType="a<=>b",this.legalChildTypes=Nft[t]}getExpression(e){if(!this.right.granular()){let t=this.right.requestExpression(e);if(t&&(0,ai.isGranularResult)(t))return new kse(this.right,t.timeframe,!1).apply(e,this.op,this.left)}return this.right.apply(e,this.op,this.left)}};Ku.ExprCompare=Ise;var $8e=class extends Ise{constructor(e,t){super(e,"=",t);this.left=e,this.right=t,this.elementType="apply"}};Ku.Apply=$8e;var Nft={"~":[ai.FT.stringT],"!~":[ai.FT.stringT],"<":[ai.FT.numberT,ai.FT.stringT,ai.FT.dateT,ai.FT.timestampT],"<=":[ai.FT.numberT,ai.FT.stringT,ai.FT.dateT,ai.FT.timestampT],"=":[ai.FT.numberT,ai.FT.stringT,ai.FT.dateT,ai.FT.timestampT],"!=":[ai.FT.numberT,ai.FT.stringT,ai.FT.dateT,ai.FT.timestampT],">=":[ai.FT.numberT,ai.FT.stringT,ai.FT.dateT,ai.FT.timestampT],">":[ai.FT.numberT,ai.FT.stringT,ai.FT.dateT,ai.FT.timestampT]},V8e=class extends ai.ExpressionDef{constructor(e,t){super({right:t});this.op=e,this.right=t,this.elementType="<=> a"}granular(){return this.right.granular()}apply(e,t,r){return this.right.apply(e,this.op,r)}requestExpression(e){}getExpression(e){return this.log("Partial comparison does not have a value"),(0,ai.errorFor)("no value for partial compare")}};Ku.PartialCompare=V8e;var W8e=class extends ai.ExpressionDef{constructor(e,t,r){super({from:e,duration:t,timeframe:r});this.from=e,this.duration=t,this.timeframe=r,this.elementType="forRange",this.legalChildTypes=[ai.FT.timestampT,ai.FT.dateT]}apply(e,t,r){let i=this.from.getExpression(e),s=r.getExpression(e);if(!this.typeCheck(r,s))return(0,ai.errorFor)("no time for range");let o=this.duration.getExpression(e);if(o.dataType!=="number")return this.log(`FOR duration count must be a number, not '${o.dataType}'`),(0,ai.errorFor)("FOR not number");let a=this.timeframe.text,d=(0,ai.resolution)(a);if(i.dataType==="timestamp"&&(d="timestamp"),s.dataType==="date"&&d==="date"){let U=this.from,Q=(0,ai.timeOffset)("date",i.value,"+",o.value,a),P=new ai.ExprTime("date",Q);return new ai.Range(U,P).apply(e,t,r)}let p=ai.ExprTime.fromValue("timestamp",s),E=this.from,w=i.value;i.dataType==="date"&&((0,ai.isGranularResult)(i)&&i.alsoTimestamp||(w=(0,ai.castDateToTimestamp)(w)),E=new ai.ExprTime("timestamp",w,i.aggregate));let N=(0,ai.timeOffset)("timestamp",w,"+",o.value,a),R=new ai.ExprTime("timestamp",N,i.aggregate);return new ai.Range(E,R).apply(e,t,p)}requestExpression(e){}getExpression(e){return this.log("A Range is not a value"),(0,ai.errorFor)("range has no value")}};Ku.ForRange=W8e;var Aw=class extends ai.ExpressionDef{constructor(e,t){super({args:t});this.extractText=e,this.args=t,this.elementType="timeExtract"}static extractor(e){let t=Aw.pluralMap[e];if(t)return t;if((0,d1.isExtractUnit)(e))return e}getExpression(e){let t=Aw.extractor(this.extractText);if(t){if(this.args.length!==1)return this.log(`Extraction function ${t} requires one argument`),(0,ai.errorFor)("{this.name} arg count");let r=this.args[0];if(r instanceof ai.Range){let i=r.first.getExpression(e),s=r.last.getExpression(e);return(0,d1.isTimeFieldType)(i.dataType)?(0,d1.isTimeFieldType)(s.dataType)?(0,d1.isTimestampUnit)(t)?{dataType:"number",aggregate:i.aggregate||s.aggregate,value:[{type:"dialect",function:"timeDiff",units:t,left:{valueType:i.dataType,value:i.value},right:{valueType:s.dataType,value:s.value}}]}:(this.log(`Cannot extract ${t} from a range`),(0,ai.errorFor)(`${t} bad extraction`)):(r.last.log(`Cannot extract ${t} from '${s.dataType}'`),(0,ai.errorFor)(`${t} bad type ${s.dataType}`)):(r.first.log(`Can't extract ${t} from '${i.dataType}'`),(0,ai.errorFor)(`${t} bad type ${i.dataType}`))}else{let i=r.getExpression(e);return(0,d1.isTimeFieldType)(i.dataType)?{dataType:"number",aggregate:i.aggregate,value:[{type:"dialect",function:"extract",expr:{value:i.value,valueType:i.dataType},units:t}]}:(this.log(`${this.extractText}() requires time type, not '${i.dataType}'`),(0,ai.errorFor)(`${this.extractText} bad type ${i.dataType}`))}}throw this.internalError(`Illegal extraction unit '${this.extractText}'`)}};Ku.ExprTimeExtract=Aw;Aw.pluralMap={years:"year",quarters:"quarter",months:"month",weeks:"week",days:"day",hours:"hour",minutes:"minute",seconds:"second"};var Q8e=class extends ai.ExpressionDef{constructor(e,t){super({args:t});this.name=e,this.args=t,this.elementType="function call()"}getExpression(e){var t,r,i;let s=!1,o,a=[`${this.name}(`];for(let p of this.args){let E=p.getExpression(e);E.aggregate&&(s=!0),o?a.push(","):o=E.dataType,a.push(...E.value)}a.push(")");let c=e.dialectObj();return{dataType:(i=(r=(t=c==null?void 0:c.getFunctionInfo(this.name))===null||t===void 0?void 0:t.returnType)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"number",aggregate:s,value:(0,ai.compressExpr)(a)}}};Ku.ExprFunc=Q8e});var q5=Ae(Cm=>{"use strict";m();var Lft=Cm&&Cm.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),iO=Cm&&Cm.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Lft(e,n,t)};Object.defineProperty(Cm,"__esModule",{value:!0});iO(Xbe(),Cm);iO(VEe(),Cm);iO(N7e(),Cm);iO(G8e(),Cm);iO(FU(),Cm)});var Mse=Ae(W5=>{"use strict";m();var sO=W5&&W5.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},oO=W5&&W5.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(W5,"__esModule",{value:!0});W5.AbstractParseTreeVisitor=void 0;var ny=Sr(),$6=class{visit(e){return e.accept(this)}visitChildren(e){let t=this.defaultResult(),r=e.childCount;for(let i=0;i<r&&this.shouldVisitNextChild(e,t);i++){let o=e.getChild(i).accept(this);t=this.aggregateResult(t,o)}return t}visitTerminal(e){return this.defaultResult()}visitErrorNode(e){return this.defaultResult()}aggregateResult(e,t){return t}shouldVisitNextChild(e,t){return!0}};sO([ny.Override,oO(0,ny.NotNull)],$6.prototype,"visit",null);sO([ny.Override,oO(0,ny.NotNull)],$6.prototype,"visitChildren",null);sO([ny.Override,oO(0,ny.NotNull)],$6.prototype,"visitTerminal",null);sO([ny.Override,oO(0,ny.NotNull)],$6.prototype,"visitErrorNode",null);sO([oO(0,ny.NotNull)],$6.prototype,"shouldVisitNextChild",null);W5.AbstractParseTreeVisitor=$6});var K8e=Ae(gx=>{"use strict";m();var kft=gx&&gx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ift=gx&&gx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Mft=gx&&gx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&kft(e,n,t);return Ift(e,n),e};Object.defineProperty(gx,"__esModule",{value:!0});gx.MalloyToAST=void 0;var Pft=Mse(),mr=Mft(q5()),Bft=F0(),Y8e=class extends Pft.AbstractParseTreeVisitor{constructor(e,t){super();this.parse=e,this.msgLog=t}internalError(e,t){let r=`Internal Translator Error: ${t}`;return this.contextError(e,r),new Error(r)}astError(e,t,r="error"){this.msgLog.log({message:t,at:e.location,severity:r})}contextError(e,t,r="error"){this.msgLog.log({message:t,at:{url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(e)},severity:r})}onlyExploreProperties(e){let t=[];for(let r of e)mr.isExploreProperty(r)?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyJoins(e){let t=[];for(let r of e)r instanceof mr.Join?t.push(r):this.astError(r,`Expected explore property, not '${r.elementType}'`);return t}onlyDocStatements(e){let t=[];for(let r of e)mr.isDocStatement(r)?t.push(r):this.astError(r,`Expected statement, not '${r.elementType}'`);return t}onlyNestedQueries(e){let t=[];for(let r of e)mr.isNestedQuery(r)?t.push(r):this.astError(r,`Expected query, not '${r.elementType}'`);return t}onlyQueryRefs(e){let t=[];for(let r of e)r instanceof mr.FieldReference||r instanceof mr.FieldDeclaration?t.push(r):r instanceof mr.Unimplemented&&r.reported||this.astError(r,`Expected query field, not '${r.elementType}'`);return t}getNumber(e){return Number.parseInt(e.text)}getIdText(e){return this.stripQuotes(e.text)}getFieldName(e){return this.astAt(new mr.FieldName(this.getIdText(e)),e)}getModelEntryName(e){return this.astAt(new mr.ModelEntryReference(this.getIdText(e)),e)}stripQuotes(e){return(e[0]==="`"||e[0]==="'"||e[0]==='"')&&e[0]===e[e.length-1]?e.slice(1,-1):e}optionalText(e){if(e)return this.getIdText(e)}defaultResult(){return new mr.Unimplemented}astAt(e,t){return e.location={url:this.parse.subTranslator.sourceURL,range:this.parse.subTranslator.rangeFromContext(t)},e}getSourceCode(e){let t=e.start.startIndex,r=e.stop||e.start,i=new Bft.Interval(t,r.stopIndex);return this.parse.sourceStream.getText(i)}getFilterElement(e){let t=this.getFieldExpr(e),r=new mr.FilterElement(t,this.getSourceCode(e));return this.astAt(r,e)}getFieldDefs(e,t){let r=[];for(let i of e){let s=this.visit(i);s instanceof mr.FieldDeclaration?(this.astAt(s,i),r.push(s),t!==void 0&&(s.isMeasure=t)):this.contextError(i,"Expected field definition")}return r}getFieldExpr(e){let t=this.visit(e);if(t instanceof mr.ExpressionDef)return this.astAt(t,e);throw this.internalError(e,`expression node unknown type '${t.elementType}'`)}getSegments(e){return e.map(t=>this.visitQueryProperties(t.queryProperties()))}getFilterShortcut(e){let t=this.getFilterElement(e.fieldExpr());return new mr.Filter([t])}getExploreSource(e){let t=this.visit(e);if(t instanceof mr.Mallobj)return t;throw this.internalError(e,`'${t.elementType}': illegal explore source`)}visitMalloyDocument(e){let t=this.onlyDocStatements(e.malloyStatement().map(r=>this.visit(r)));return new mr.Document(t)}visitDefineExploreStatement(e){let r=e.exploreDefinitionList().exploreDefinition().map(i=>this.visitExploreDefinition(i));return r.length==1?r[0]:new mr.DefineSourceList(r)}visitExploreDefinition(e){let t=new mr.DefineExplore(this.getIdText(e.exploreNameDef()),this.visitExplore(e.explore()),!0,[]);return this.astAt(t,e)}visitExplore(e){let t=this.getExploreSource(e.exploreSource()),r=e.exploreProperties();return r?this.astAt(new mr.RefinedExplore(t,this.visitExploreProperties(r)),e):t}visitExploreProperties(e){let t=e.filterShortcut(),r=e.exploreStatement().map(s=>this.visit(s)),i=new mr.ExploreDesc(this.onlyExploreProperties(r));return t&&i.push(this.getFilterShortcut(t)),i}visitExploreTable(e){let t=this.stripQuotes(e.tableName().text);return this.astAt(new mr.TableSource(t),e)}visitTableSource(e){return this.visitExploreTable(e.exploreTable())}visitSQLSource(e){let t=this.getModelEntryName(e.sqlExploreNameRef());return this.astAt(new mr.SQLSource(t),e)}visitQuerySource(e){let t=this.visit(e.query());if(mr.isQueryElement(t))return this.astAt(new mr.QuerySource(t),e);throw this.internalError(e,`Expect query definition, got a '${t.elementType}'`)}visitDefJoinMany(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof mr.Join&&(r.push(i),i instanceof mr.ExpressionJoin?(i.joinType="many",i.joinOn==null&&i.log("join_many: requires ON expression")):i instanceof mr.KeyJoin&&i.log("Foreign key join not legal in join_many:"));return new mr.Joins(r)}visitDefJoinOne(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof mr.Join&&(r.push(i),i instanceof mr.ExpressionJoin&&(i.joinType="one"));return new mr.Joins(r)}visitDefJoinCross(e){let t=this.getJoinList(e.joinList()),r=[];for(let i of t)i instanceof mr.Join&&(r.push(i),i instanceof mr.ExpressionJoin?i.joinType="cross":i.log("Foreign key join not legal in join_cross:"));return new mr.Joins(r)}getJoinList(e){return e.joinDef().map(t=>this.visit(t))}getJoinSource(e,t){return t?this.visitExplore(t):new mr.NamedSource(e)}visitJoinOn(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=new mr.ExpressionJoin(t,r),s=e.joinExpression();return s&&(i.joinOn=this.getFieldExpr(s)),this.astAt(i,e)}visitJoinWith(e){let t=this.getModelEntryName(e.joinNameDef()),r=this.getJoinSource(t,e.explore()),i=this.getFieldExpr(e.fieldExpr()),s=new mr.KeyJoin(t,r,i);return this.astAt(s,e)}visitFieldDef(e){let t=e.fieldExpr(),r=this.getIdText(e.fieldNameDef()),i=this.getFieldExpr(t),s=new mr.FieldDeclaration(i,r,this.getSourceCode(t));return this.astAt(s,e)}visitDefExploreDimension(e){let t=this.getFieldDefs(e.dimensionDefList().dimensionDef(),!1),r=new mr.Dimensions(t);return this.astAt(r,e)}visitDefExploreMeasure(e){let t=this.getFieldDefs(e.measureDefList().measureDef(),!0),r=new mr.Measures(t);return this.astAt(r,e)}visitDeclareStatement(e){let t=this.getFieldDefs(e.fieldDef(),!0),r=new mr.DeclareFields(t);return this.astAt(r,e)}visitExploreRenameDef(e){let t=e.fieldName(0).id(),r=e.fieldName(1).id(),i=new mr.RenameField(this.getIdText(t),this.getFieldName(r));return this.astAt(i,e)}visitDefExploreRename(e){let r=e.renameList().exploreRenameDef().map(s=>this.visitExploreRenameDef(s)),i=new mr.Renames(r);return this.astAt(i,e)}visitFilterClauseList(e){return new mr.Filter(e.fieldExpr().map(t=>this.getFilterElement(t)))}visitFilterByShortcut(e){let t=this.getFilterElement(e.fieldExpr());return this.astAt(new mr.Filter([t]),e)}visitWhereStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!1,this.astAt(t,e)}visitHavingStatement(e){let t=this.visitFilterClauseList(e.filterClauseList());return t.having=!0,this.astAt(t,e)}visitSubQueryDefList(e){let t=e.exploreQueryDef().map(r=>this.visitExploreQueryDef(r));return new mr.Turtles(t)}visitDefExplorePrimaryKey(e){let t=new mr.PrimaryKey(this.getFieldName(e.fieldName()));return this.astAt(t,e)}visitFieldNameList(e){let t=e.fieldName().map(r=>new mr.FieldReference([this.getFieldName(r)]));return new mr.FieldReferences(t)}visitDefExploreEditField(e){let t=e.ACCEPT()?"accept":"except";return new mr.FieldListEdit(t,this.visitFieldNameList(e.fieldNameList()))}visitQueryProperties(e){let t=e.queryStatement().map(i=>this.astAt(this.visit(i),i)).filter(function(i){return mr.isQueryProperty(i)?!0:(i.log(`Unexpected statement type '${i.elementType}' in query`),!1)}),r=e.filterShortcut();return r&&t.push(this.getFilterShortcut(r)),new mr.QOPDesc(t)}visitFieldPath(e){let t=e.fieldName().map(r=>this.getFieldName(r));return this.astAt(new mr.FieldReference(t),e)}visitQueryFieldDef(e){let t=e.dimensionDef().fieldDef(),r=this.visitFieldDef(t);return this.astAt(r,t)}visitQueryFieldRef(e){return this.visitFieldPath(e.fieldPath())}getQueryItems(e){let t=e.queryFieldEntry().map(r=>this.visit(r));return this.onlyQueryRefs(t)}visitAggregateStatement(e){return new mr.Aggregate(this.getQueryItems(e.queryFieldList()))}visitGroupByStatement(e){return new mr.GroupBy(this.getQueryItems(e.queryFieldList()))}visitFieldCollection(e){let t=[];for(let r of e.collectionMember()){let i=this.visit(r);if(mr.isFieldCollectionMember(i))t.push(i);else throw this.internalError(r,`${i.elementType} is not a query field`)}return this.astAt(new mr.ProjectStatement(t),e)}visitWildMember(e){let t=e.fieldPath(),r=e.STAR()?"*":"**",i=t?this.visitFieldPath(t):void 0;return new mr.WildcardFieldReference(i,r)}visitIndexFields(e){let t=e.indexElement().map(r=>{let i=r.STAR()!=null,s=r.fieldPath();if(!s)return new mr.WildcardFieldReference(void 0,"*");let o=this.visitFieldPath(s);return i?this.astAt(new mr.WildcardFieldReference(o,"*"),e):this.astAt(o,e)});return new mr.FieldReferences(t)}visitIndexStatement(e){let t=this.visitIndexFields(e.indexFields()),r=new mr.Index(t),i=e.fieldName();return i&&r.useWeight(this.getFieldName(i)),this.astAt(r,e)}visitLimitStatement(e){return new mr.Limit(this.getNumber(e.INTEGER_LITERAL()))}visitOrderBySpec(e){let t=e.ASC()?"asc":e.DESC()?"desc":void 0,r=e.INTEGER_LITERAL();if(r)return new mr.OrderBy(this.getNumber(r),t);let i=e.fieldName();if(i)return new mr.OrderBy(this.getFieldName(i),t);throw this.internalError(e,"can't parse order_by specification")}visitOrdering(e){let t=e.orderBySpec().map(r=>this.visitOrderBySpec(r));return this.astAt(new mr.Ordering(t),e)}visitTopStatement(e){let t=e.bySpec(),r=this.getNumber(e.INTEGER_LITERAL()),i;if(t){let s=t.fieldName();if(s){let a=this.getFieldName(s);i=new mr.Top(r,a)}let o=t.fieldExpr();o&&(i=new mr.Top(r,this.getFieldExpr(o)))}return i||(i=new mr.Top(r,void 0)),this.astAt(i,e)}visitExploreName(e){let t=this.getModelEntryName(e.id());return this.astAt(new mr.NamedSource(t),e)}buildPipelineFromName(e,t){let r=t.firstSegment(),i=r.exploreQueryName();i&&(e.turtleName=this.getFieldName(i));let s=r.queryProperties();if(s){let a=this.visitQueryProperties(s);i?e.refineHead(a):e.addSegments(a)}let o=this.getSegments(t.pipeElement());e.addSegments(...o)}visitExploreArrowQuery(e){let t=this.visitExplore(e.explore()),r=new mr.FullQuery(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitArrowQuery(e){let t=new mr.ExistingQuery;t.head=this.getModelEntryName(e.queryName());let r=e.queryProperties();return r&&t.refineHead(this.visitQueryProperties(r)),t.addSegments(...this.getSegments(e.pipeElement())),this.astAt(t,e)}visitTopLevelQueryDefs(e){let t=e.topLevelQueryDef().map(r=>this.visitTopLevelQueryDef(r));return t.length===1?t[0]:new mr.DefineQueryList(t)}visitTopLevelQueryDef(e){let t=this.getIdText(e.queryName()),r=this.visit(e.query());if(mr.isQueryElement(r))return this.astAt(new mr.DefineQuery(t,r),e);throw this.internalError(e,`Expect query definition, got a '${r.elementType}'`)}visitAnonymousQuery(e){let t=this.visit(e.topLevelAnonQueryDef().query());if(mr.isQueryElement(t))return new mr.AnonymousQuery(t);throw this.internalError(e,`Anonymous query matched, but ${t.elementType} found`)}visitNestedQueryList(e){let t=e.nestEntry().map(r=>this.visit(r));return t.length==1?t[0]:new mr.Nests(this.onlyNestedQueries(t))}visitNestExisting(e){let t=this.getFieldName(e.queryName()),r=e.queryProperties();if(r){let i=new mr.NestRefinement(t),s=this.visitQueryProperties(r);return i.refineHead(s),this.astAt(i,e)}return this.astAt(new mr.NestReference(t),e)}visitNestDef(e){let t=this.getIdText(e.queryName()),r=new mr.NestDefinition(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExploreQueryDef(e){let t=this.getIdText(e.exploreQueryNameDef()),r=new mr.TurtleDecl(t);return this.buildPipelineFromName(r,e.pipelineFromName()),this.astAt(r,e)}visitExprNot(e){return new mr.ExprNot(this.getFieldExpr(e.fieldExpr()))}visitExprBool(e){return new mr.Boolean(e.TRUE()?"true":"false")}allFieldExpressions(e){return e.map(t=>this.getFieldExpr(t))}visitExprLogical(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1));return new mr.ExprLogicalOp(t,e.AND()?"and":"or",r)}visitExprLogicalTree(e){let t=this.getFieldExpr(e.fieldExpr()),r=this.getFieldExpr(e.partialAllowedFieldExpr());return new mr.ExprAlternationTree(t,e.AMPER()?"&":"|",r)}visitExprNotPartial(e){return this.getFieldExpr(e.fieldExpr())}visitExprPartialCompare(e){let t=e.compareOp().text;if(mr.isComparison(t))return new mr.PartialCompare(t,this.getFieldExpr(e.fieldExpr()));throw this.internalError(e,`partial comparison '${t}' not recognized`)}visitExprString(e){return new mr.ExprString(e.STRING_LITERAL().text)}visitExprRegex(e){let t=e.HACKY_REGEX().text;return new mr.ExprRegEx(this.stripQuotes(t.slice(1)))}visitExprNow(e){return new mr.ExprNow}visitExprNumber(e){var t,r;let i=((t=e.INTEGER_LITERAL())===null||t===void 0?void 0:t.text)||((r=e.NUMERIC_LITERAL())===null||r===void 0?void 0:r.text);return i?new mr.ExprNumber(i):(this.contextError(e,`'${e.text}' is not a number`),new mr.ExprNumber("42"))}visitExprFieldPath(e){let t=new mr.ExprIdReference(this.visitFieldPath(e.fieldPath()));return this.astAt(t,e)}visitExprNULL(e){return new mr.ExprNULL}visitExprExpr(e){return new mr.ExprParens(this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprMinus(e){return new mr.ExprMinus(this.getFieldExpr(e.fieldExpr()))}visitExprAddSub(e){let t=this.getFieldExpr(e.fieldExpr(0)),r=this.getFieldExpr(e.fieldExpr(1)),i=e.PLUS()?"+":"-";return new mr.ExprAddSub(t,i,r)}visitExprMulDiv(e){return new mr.ExprMulDiv(this.getFieldExpr(e.fieldExpr(0)),e.STAR()?"*":"/",this.getFieldExpr(e.fieldExpr(1)))}visitExprCompare(e){let t=e.compareOp().text;if(mr.isComparison(t))return new mr.ExprCompare(this.getFieldExpr(e.fieldExpr(0)),t,this.getFieldExpr(e.fieldExpr(1)));throw this.internalError(e,`untranslatable comparison operator '${t}'`)}visitExprCountDisinct(e){return this.astAt(new mr.ExprCountDistinct(this.getFieldExpr(e.fieldExpr())),e)}visitExprUngroup(e){let t=e.fieldName().map(i=>this.getFieldName(i)),r=this.getIdText(e.ungroup()).toLocaleLowerCase();return this.astAt(new mr.ExprUngroup(r=="all"?r:"exclude",this.getFieldExpr(e.fieldExpr()),t),e)}visitExprAggregate(e){let t=e.fieldPath(),r=t?this.visitFieldPath(t):void 0,i=t&&r?this.astAt(r,t):void 0,s=e.fieldExpr();if(e.aggregate().COUNT())return s&&this.contextError(s,"Ignored expression inside COUNT()"),new mr.ExprCount(i);e.STAR()&&this.contextError(e,"'*' is not a valid expression");let a=s?this.getFieldExpr(s):void 0;if(e.aggregate().MIN())if(r)this.contextError(e,"Path not legal for min()");else{if(a)return new mr.ExprMin(a);this.contextError(e,"Missing expression for min")}else if(e.aggregate().MAX())if(r)this.contextError(e,"Path not legal for max()");else{if(a)return new mr.ExprMax(a);this.contextError(e,"Missing expression for max")}else{if(e.aggregate().AVG())return new mr.ExprAvg(a,i);if(e.aggregate().SUM())return new mr.ExprSum(a,i)}return new mr.ExprNULL}visitExprApply(e){return e.COLON()&&this.contextError(e,"':' for apply is deprecated, use '?'","warn"),new mr.Apply(this.getFieldExpr(e.fieldExpr()),this.getFieldExpr(e.partialAllowedFieldExpr()))}visitExprRange(e){return new mr.Range(this.getFieldExpr(e.fieldExpr(0)),this.getFieldExpr(e.fieldExpr(1)))}visitExprCast(e){let t=e.malloyType().text;return mr.isCastType(t)?new mr.ExprCast(this.getFieldExpr(e.fieldExpr()),t):(this.contextError(e,`CAST to unknown type '${t}'`),new mr.ExprNULL)}visitExprSafeCast(e){let t=e.malloyType().text;return mr.isCastType(t)?new mr.ExprCast(this.getFieldExpr(e.fieldExpr()),t,!0):(this.contextError(e,`'::' cast to unknown type '${t}'`),new mr.ExprNULL)}visitExprTimeTrunc(e){return new mr.ExprGranularTime(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text,!0)}visitTimeframe(e){return new mr.Timeframe(e.text)}visitExprForRange(e){let t=this.getFieldExpr(e._startAt),r=this.getFieldExpr(e._duration),i=this.visitTimeframe(e.timeframe());return new mr.ForRange(t,r,i)}visitExprFunc(e){let t=e.argumentList(),r=t?this.allFieldExpressions(t.fieldExpr()):[],i=e.id(),s=e.timeframe(),o;return i?o=this.getIdText(i):s?o=s.text:(this.contextError(e,"Funciton name error"),o="FUNCTION_NAME_ERROR"),mr.ExprTimeExtract.extractor(o)?this.astAt(new mr.ExprTimeExtract(o,r),e):this.astAt(new mr.ExprFunc(o,r),e)}visitExprDuration(e){return new mr.ExprDuration(this.getFieldExpr(e.fieldExpr()),this.visitTimeframe(e.timeframe()).text)}visitPickStatement(e){let t=e.pick().map(r=>{let i;return r._pickValue&&(i=this.getFieldExpr(r._pickValue)),new mr.PickWhen(i,this.getFieldExpr(r._pickWhen))});return e.ELSE()?new mr.Pick(t,this.getFieldExpr(e._pickElse)):new mr.Pick(t)}visitNamedSource(e){let t=this.getModelEntryName(e.exploreName());return this.astAt(new mr.NamedSource(t),e)}visitExprFilter(e){let t=this.visit(e.filteredBy());return new mr.ExprFilter(this.getFieldExpr(e.fieldExpr()),t)}getLiteralTime(e){let t=mr.GranularLiteral.parse(e.text);return t===void 0?(this.contextError(e,`${e.text} is not a legal day specification`),new mr.ExprNow):t}visitLiteralTimestamp(e){return this.getLiteralTime(e)}visitLiteralDay(e){return this.getLiteralTime(e)}visitLiteralWeek(e){return this.getLiteralTime(e)}visitLiteralMonth(e){return this.getLiteralTime(e)}visitLiteralQuarter(e){return this.getLiteralTime(e)}visitLiteralYear(e){return this.getLiteralTime(e)}visitImportStatement(e){let t=this.stripQuotes(e.importURL().text);return this.astAt(new mr.ImportStatement(t,this.parse.subTranslator.sourceURL),e)}visitJustExpr(e){return this.getFieldExpr(e.fieldExpr())}visitDefineSQLStatement(e){return this.visitSQLStatementDef(e.sqlStatementDef())}visitSQLStatementDef(e){let t=e.SQL_STRING().text,r=new mr.SQLStatement({select:t.slice(2,t.length-2),connection:this.optionalText(e.connectionName())}),i=e.sqlCommandNameDef();return i&&(r.is=this.getIdText(i)),this.astAt(r,e)}visitSampleStatement(e){let t=e.sampleSpec().INTEGER_LITERAL();if(t)return new mr.SampleProperty({rows:this.getNumber(t)});let r=e.sampleSpec().PERCENT_LITERAL();if(r)return new mr.SampleProperty({percent:this.getNumber(r)});let i=e.sampleSpec().TRUE()!=null;return new mr.SampleProperty({enable:i})}};gx.MalloyToAST=Y8e});var X8e=Ae(az=>{"use strict";m();Object.defineProperty(az,"__esModule",{value:!0});az.MessageLog=void 0;var J8e=class{constructor(){this.rawLog=[]}getLog(){return this.rawLog}log(e){this.rawLog.push(e)}reset(){this.rawLog.length=0}noErrors(){return!this.hasErrors()}hasErrors(){return this.rawLog.find(t=>t.severity!=="warn")!==void 0}empty(){return this.rawLog.length===0}};az.MessageLog=J8e});var V6=Ae(Tw=>{"use strict";m();Object.defineProperty(Tw,"__esModule",{value:!0});Tw.ParseTreeWalker=void 0;var jft=fS(),qft=Hg(),Uft=dS(),Pse=class{walk(e,t){let r=[],i=[],s=t,o=0;for(;s;){if(s instanceof jft.ErrorNode?e.visitErrorNode&&e.visitErrorNode(s):s instanceof qft.TerminalNode?e.visitTerminal&&e.visitTerminal(s):this.enterRule(e,s),s.childCount>0){r.push(s),i.push(o),o=0,s=s.getChild(0);continue}do{if(s instanceof Uft.RuleNode&&this.exitRule(e,s),r.length===0){s=void 0,o=0;break}let a=r[r.length-1];if(o++,s=o<a.childCount?a.getChild(o):void 0,s)break;s=r.pop(),o=i.pop()}while(s)}}enterRule(e,t){let r=t.ruleContext;e.enterEveryRule&&e.enterEveryRule(r),r.enterRule(e)}exitRule(e,t){let r=t.ruleContext;r.exitRule(e),e.exitEveryRule&&e.exitEveryRule(r)}};Tw.ParseTreeWalker=Pse;(function(n){n.DEFAULT=new n})(Pse=Tw.ParseTreeWalker||(Tw.ParseTreeWalker={}))});var eSe=Ae(uz=>{"use strict";m();Object.defineProperty(uz,"__esModule",{value:!0});uz.findReferences=void 0;var zft=V6(),Z8e=class{constructor(e,t){this.trans=e,this.tokens=t,this.needTables={},this.needImports={}}enterTableName(e){let t=this.tokens.getText(e).slice(1,-1);this.needTables[t]||(this.needTables[t]=this.trans.rangeFromContext(e))}enterImportURL(e){let t=JSON.parse(e.JSON_STRING().text);this.needImports[t]||(this.needImports[t]=this.trans.rangeFromContext(e))}};function Hft(n,e,t){let r=new Z8e(n,e),i=r;zft.ParseTreeWalker.DEFAULT.walk(i,t);let s={};return Object.keys(r.needTables).length>0&&(s={tables:r.needTables}),Object.keys(r.needImports).length>0&&(s={...s,urls:r.needImports}),Object.keys(s).length>0?s:null}uz.findReferences=Hft});var nSe=Ae(lz=>{"use strict";m();Object.defineProperty(lz,"__esModule",{value:!0});lz.Zone=void 0;var tSe=class{constructor(){this.location={},this.zone=new Map}get(e){let t=this.zone.get(e);if((t==null?void 0:t.status)==="present")return t.value}getEntry(e){let t=this.zone.get(e);return t?t.firstReference||!this.location[e]?t:{...t,firstReference:this.location[e]}:{status:"error",message:"import reference failure"}}define(e,t){this.zone.set(e,{status:"present",value:t})}reference(e,t){let r=this.zone.get(e);(r==null?void 0:r.status)==null&&(this.zone.set(e,{status:"reference",firstReference:t}),this.location[e]=t)}getUndefined(){let e=[];for(let[t,r]of this.zone)r.status==="reference"&&e.push(t);return e.length>0?e:void 0}updateFrom(e,t){if(e)for(let[r,i]of Object.entries(e))i!==void 0&&this.define(r,i);if(t)for(let[r,i]of Object.entries(t))this.zone.set(r,{status:"error",message:i})}};lz.Zone=tSe});var iSe=Ae(cz=>{"use strict";m();Object.defineProperty(cz,"__esModule",{value:!0});cz.walkForDocumentSymbols=void 0;var $ft=V6(),rSe=class{constructor(e,t,r,i){this.translator=e,this.tokens=t,this.scopes=r,this.symbols=i}popScope(){return this.scopes.pop()}peekScope(){return this.scopes[this.scopes.length-1]}enterTopLevelQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:e.queryName().text,type:"query",children:[]})}enterTopLevelAnonQueryDef(e){this.symbols.push({range:this.translator.rangeFromContext(e),name:"unnamed_query",type:"unnamed_query",children:[]})}enterExploreDefinition(e){this.scopes.push({range:this.translator.rangeFromContext(e),name:e.exploreNameDef().id().text,type:"explore",children:[]})}exitExploreDefinition(e){let t=this.popScope();t&&this.symbols.push(t)}enterExploreQueryDef(e){let t={range:this.translator.rangeFromContext(e),name:e.exploreQueryNameDef().id().text,type:"query",children:[]},r=this.peekScope();r&&r.children.push(t),this.scopes.push(t)}exitExploreQueryDef(e){this.popScope()}handleNestEntry(e){let t={range:this.translator.rangeFromContext(e),name:e.queryName().id().text,type:"query",children:[]},r=this.peekScope();return r&&r.children.push(t),t}enterNestExisting(e){this.handleNestEntry(e)}enterNestDef(e){let t=this.handleNestEntry(e);this.scopes.push(t)}exitNestDef(e){this.popScope()}enterFieldDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldNameDef().id().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterQueryFieldRef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldPath().text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterExploreRenameDef(e){let t={range:this.translator.rangeFromContext(e),name:e.fieldName()[0].text,type:"field",children:[]},r=this.peekScope();r&&r.children.push(t)}enterJoinWith(e){this.handleJoinDef(e)}enterJoinOn(e){this.handleJoinDef(e)}handleJoinDef(e){let t={range:this.translator.rangeFromContext(e),name:e.joinNameDef().id().text,type:"join",children:[]},r=this.peekScope();r&&r.children.push(t)}enterSqlStatementDef(e){var t;let r=(t=e.sqlCommandNameDef())===null||t===void 0?void 0:t.id().text,i={range:this.translator.rangeFromContext(e),name:r||"unnamed_sql",type:r===void 0?"unnamed_sql":"sql",children:[]};this.symbols.push(i)}};function Vft(n,e,t){let r=new rSe(n,e,[],[]),i=r;return $ft.ParseTreeWalker.DEFAULT.walk(i,t),r.symbols}cz.walkForDocumentSymbols=Vft});var Bse=Ae(Gi=>{"use strict";m();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.sortHighlights=Gi.walkForDocumentHighlights=Gi.passForHighlights=Gi.HighlightType=void 0;var Wft=V6(),Si=Sie();Gi.HighlightType={Identifier:"identifier",Type:"type",Literal:{Date:"literal.date",Number:"literal.number",String:"literal.string",RegularExpression:"literal.regular_expression",Boolean:"literal.boolean",Null:"literal.null"},Call:{Aggregate:"call.aggregate",TimeFrame:"call.time_frame",Cast:"call.cast",Table:"call.table",From:"call.from",Function:"call.function",FromSQL:"call.from_sql"},Keyword:{AggregateModifier:{Distinct:"keyword.aggregate_modifier.distinct"},CastModifier:{As:"keyword.cast_modifier.as"},Is:"keyword.is",On:"keyword.on",Desc:"keyword.desc",Asc:"keyword.asc",Pick:"keyword.pick",When:"keyword.when",Else:"keyword.else",With:"keyword.with",JSON:"keyword.json",Turtle:"keyword.turtle",Import:"keyword.import"},Operator:{Comparison:"operator.comparison",Boolean:"operator.boolean",Date:"operator.date"},Comment:{Line:"comment.line",Block:"comment.block"},Property:{Accept:"property.accept",Aggregate:"property.aggregate",Dimension:"property.dimension",Except:"property.except",Source:"property.source",GroupBy:"property.group_by",Having:"property.having",Index:"property.index",JoinOne:"keyword.join_one",JoinMany:"keyword.join_many",JoinCross:"keyword.join_cross",Limit:"property.limit",Measure:"property.measure",Nest:"property.nest",OrderBy:"property.order_by",PrimaryKey:"property.primary_key",Project:"property.project",Query:"property.query",Rename:"property.rename",Top:"property.top",Where:"property.where",SQL:"property.sql"}};function Qft(n){let e=[],t=(r,i,s=!1)=>{var o;let a=r.startIndex-r.charPositionInLine,c=((o=r.text)===null||o===void 0?void 0:o.split(`
`))||[],d=c.length,p=c.slice(0,-1).reduce((w,N)=>w+N.length,0),E=s?1:0;e.push({type:i,range:{start:{line:r.line-1,character:r.startIndex-a},end:{line:r.line-1+d-1,character:r.stopIndex+2-(d>1?r.startIndex:a)-p-d-E}}})};for(let r=0;r<n.size;r++){let i=n.get(r);switch(i.type){case Si.MalloyParser.ACCEPT:t(i,Gi.HighlightType.Property.Accept,!0);break;case Si.MalloyParser.AGGREGATE:t(i,Gi.HighlightType.Property.Aggregate,!0);break;case Si.MalloyParser.DIMENSION:t(i,Gi.HighlightType.Property.Dimension,!0);break;case Si.MalloyParser.EXCEPT:t(i,Gi.HighlightType.Property.Except,!0);break;case Si.MalloyParser.GROUP_BY:t(i,Gi.HighlightType.Property.GroupBy,!0);break;case Si.MalloyParser.HAVING:t(i,Gi.HighlightType.Property.Having,!0);break;case Si.MalloyParser.INDEX:t(i,Gi.HighlightType.Property.Index,!0);break;case Si.MalloyParser.JOIN_CROSS:t(i,Gi.HighlightType.Property.JoinOne,!0);break;case Si.MalloyParser.JOIN_ONE:t(i,Gi.HighlightType.Property.JoinMany,!0);break;case Si.MalloyParser.JOIN_MANY:t(i,Gi.HighlightType.Property.JoinCross,!0);break;case Si.MalloyParser.LIMIT:t(i,Gi.HighlightType.Property.Limit,!0);break;case Si.MalloyParser.MEASURE:t(i,Gi.HighlightType.Property.Measure,!0);break;case Si.MalloyParser.NEST:t(i,Gi.HighlightType.Property.Nest,!0);break;case Si.MalloyParser.ORDER_BY:t(i,Gi.HighlightType.Property.OrderBy,!0);break;case Si.MalloyParser.PRIMARY_KEY:t(i,Gi.HighlightType.Property.PrimaryKey,!0);break;case Si.MalloyParser.PROJECT:t(i,Gi.HighlightType.Property.Project,!0);break;case Si.MalloyParser.QUERY:t(i,Gi.HighlightType.Property.Query,!0);break;case Si.MalloyParser.RENAME:t(i,Gi.HighlightType.Property.Rename,!0);break;case Si.MalloyParser.SOURCE:t(i,Gi.HighlightType.Property.Source,!0);break;case Si.MalloyParser.TOP:t(i,Gi.HighlightType.Property.Top,!0);break;case Si.MalloyParser.WHERE:t(i,Gi.HighlightType.Property.Where,!0);break;case Si.MalloyParser.SQL:t(i,Gi.HighlightType.Property.SQL,!0);break;case Si.MalloyParser.TABLE:t(i,Gi.HighlightType.Call.Table);break;case Si.MalloyParser.FROM:t(i,Gi.HighlightType.Call.From);break;case Si.MalloyParser.FROM_SQL:t(i,Gi.HighlightType.Call.FromSQL);break;case Si.MalloyParser.STRING_LITERAL:case Si.MalloyParser.JSON_STRING:t(i,Gi.HighlightType.Literal.String);break;case Si.MalloyParser.NUMERIC_LITERAL:case Si.MalloyParser.INTEGER_LITERAL:t(i,Gi.HighlightType.Literal.Number);break;case Si.MalloyParser.HACKY_REGEX:t(i,Gi.HighlightType.Literal.RegularExpression);break;case Si.MalloyParser.IS:t(i,Gi.HighlightType.Keyword.Is);break;case Si.MalloyParser.DISTINCT:t(i,Gi.HighlightType.Keyword.AggregateModifier.Distinct);break;case Si.MalloyParser.ON:t(i,Gi.HighlightType.Keyword.On);break;case Si.MalloyParser.DESC:t(i,Gi.HighlightType.Keyword.Desc);break;case Si.MalloyParser.ASC:t(i,Gi.HighlightType.Keyword.Asc);break;case Si.MalloyParser.CAST:t(i,Gi.HighlightType.Call.Cast);break;case Si.MalloyParser.AS:t(i,Gi.HighlightType.Keyword.CastModifier.As);break;case Si.MalloyParser.PICK:t(i,Gi.HighlightType.Keyword.Pick);break;case Si.MalloyParser.WHEN:t(i,Gi.HighlightType.Keyword.When);break;case Si.MalloyParser.WITH:t(i,Gi.HighlightType.Keyword.With);break;case Si.MalloyParser.ELSE:t(i,Gi.HighlightType.Keyword.Else);break;case Si.MalloyParser.JSON:t(i,Gi.HighlightType.Keyword.JSON);break;case Si.MalloyParser.TURTLE:t(i,Gi.HighlightType.Keyword.Turtle);break;case Si.MalloyParser.TRUE:case Si.MalloyParser.FALSE:t(i,Gi.HighlightType.Literal.Boolean);break;case Si.MalloyParser.NOW:case Si.MalloyParser.LITERAL_TIMESTAMP:case Si.MalloyParser.LITERAL_QUARTER:case Si.MalloyParser.LITERAL_MONTH:case Si.MalloyParser.LITERAL_DAY:case Si.MalloyParser.LITERAL_WEEK:case Si.MalloyParser.LITERAL_YEAR:t(i,Gi.HighlightType.Literal.Date);break;case Si.MalloyParser.NULL:t(i,Gi.HighlightType.Literal.Null);break;case Si.MalloyParser.AND:case Si.MalloyParser.OR:case Si.MalloyParser.NOT:t(i,Gi.HighlightType.Operator.Boolean);break;case Si.MalloyParser.FOR:t(i,Gi.HighlightType.Operator.Date);break;case Si.MalloyParser.COMMENT_TO_EOL:t(i,Gi.HighlightType.Comment.Line);break;case Si.MalloyParser.BLOCK_COMMENT:t(i,Gi.HighlightType.Comment.Block);break;case Si.MalloyParser.SUM:case Si.MalloyParser.COUNT:case Si.MalloyParser.AVG:case Si.MalloyParser.MIN:case Si.MalloyParser.MAX:t(i,Gi.HighlightType.Call.Aggregate);break;case Si.MalloyParser.IDENTIFIER:case Si.MalloyParser.OBJECT_NAME_LITERAL:t(i,Gi.HighlightType.Identifier);break;case Si.MalloyParser.STRING:case Si.MalloyParser.NUMBER:case Si.MalloyParser.BOOLEAN:case Si.MalloyParser.DATE:case Si.MalloyParser.TIMESTAMP:t(i,Gi.HighlightType.Type);break;case Si.MalloyParser.SECOND:case Si.MalloyParser.MINUTE:case Si.MalloyParser.HOUR:case Si.MalloyParser.DAY:case Si.MalloyParser.WEEK:case Si.MalloyParser.MONTH:case Si.MalloyParser.QUARTER:case Si.MalloyParser.YEAR:t(i,Gi.HighlightType.Call.TimeFrame);break;case Si.MalloyParser.IMPORT:t(i,Gi.HighlightType.Keyword.Import);break}}return e}Gi.passForHighlights=Qft;var sSe=class{constructor(e,t){this.tokens=e,this.highlights=t}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}enterExprFunc(e){let t=e.id()||e.timeframe();t&&this.highlights.push({range:this.rangeOf(t),type:Gi.HighlightType.Call.Function})}};function Gft(n,e){let t=new sSe(n,[]),r=t;return Wft.ParseTreeWalker.DEFAULT.walk(r,e),t.highlights}Gi.walkForDocumentHighlights=Gft;function Yft(n){return n.sort((e,t)=>e.range.start.line<t.range.start.line?-1:e.range.start.line>t.range.start.line?1:e.range.start.character<t.range.start.character?-1:e.range.start.character>t.range.start.character?1:0)}Gi.sortHighlights=Yft});var aSe=Ae(fz=>{"use strict";m();Object.defineProperty(fz,"__esModule",{value:!0});fz.walkForDocumentCompletions=void 0;var Kft=V6(),Jft=["dimension","measure","join_one","join_many","join_cross","where","primary_key","rename","accept","except","query","declare"],Xft=["group_by","project","index","aggregate","top","limit","order_by","where","having","nest","declare"],Zft=["source","explore","query","sql"],oSe=class{constructor(e,t,r){this.tokens=e,this.completions=t,this.position=r}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){let{start:t,end:r}=e,i=this.position.line>t.line||this.position.line===t.line&&this.position.character>=t.character,s=this.position.line<r.line||this.position.line===r.line&&this.position.character<=r.character;return i&&s}enterExploreProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.exploreStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of Jft)this.completions.push({type:"explore_property",text:`${r}: `})}}enterQueryProperties(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.queryStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of Xft)this.completions.push({type:"query_property",text:`${r}: `})}}enterMalloyDocument(e){if(this.inRange(this.rangeOf(e))){let t=!1;for(let r of e.malloyStatement())this.inRange(this.rangeOf(r))&&(t=!0);if(!t)for(let r of Zft)this.completions.push({type:"model_property",text:`${r}: `})}}};function e0t(n,e,t){let r=new oSe(n,[],t),i=r;return Kft.ParseTreeWalker.DEFAULT.walk(i,e),r.completions}fz.walkForDocumentCompletions=e0t});var lSe=Ae(uSe=>{"use strict";m();Object.defineProperty(uSe,"__esModule",{value:!0})});var fSe=Ae(cSe=>{"use strict";m();Object.defineProperty(cSe,"__esModule",{value:!0})});var hSe=Ae(dz=>{"use strict";m();Object.defineProperty(dz,"__esModule",{value:!0});dz.ParseTreeProperty=void 0;var dSe=class{constructor(e="ParseTreeProperty"){this._symbol=Symbol(e)}get(e){return e[this._symbol]}set(e,t){e[this._symbol]=t}removeFrom(e){let t=e[this._symbol];return delete e[this._symbol],t}};dz.ParseTreeProperty=dSe});var mSe=Ae(pSe=>{"use strict";m();Object.defineProperty(pSe,"__esModule",{value:!0})});var gSe=Ae(xSe=>{"use strict";m();Object.defineProperty(xSe,"__esModule",{value:!0})});var vSe=Ae(ySe=>{"use strict";m();Object.defineProperty(ySe,"__esModule",{value:!0})});var _Se=Ae(gf=>{"use strict";m();var t0t=gf&&gf.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),h1=gf&&gf.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&t0t(e,n,t)};Object.defineProperty(gf,"__esModule",{value:!0});h1(Mse(),gf);h1(fS(),gf);h1(lSe(),gf);h1(fSe(),gf);h1(hSe(),gf);h1(mSe(),gf);h1(V6(),gf);h1(dS(),gf);h1(gSe(),gf);h1(Hg(),gf);h1(vSe(),gf);h1($g(),gf)});var ESe=Ae(hz=>{"use strict";m();Object.defineProperty(hz,"__esModule",{value:!0});hz.walkForDocumentHelpContext=void 0;var n0t=_Se(),bSe=class extends n0t.AbstractParseTreeVisitor{constructor(e){super();this.position=e,this.type=""}rangeOf(e){let t=e.stop||e.start;return{start:{line:e.start.line-1,character:e.start.charPositionInLine},end:{line:t.line-1,character:t.stopIndex-(t.startIndex-t.charPositionInLine)+1}}}inRange(e){return e.start.line<=this.position.line&&e.end.line>=this.position.line&&(this.position.line!==e.start.line||this.position.character>=e.start.character)&&(this.position.line!==e.end.line||this.position.character<=e.end.character)}defaultResult(){}visitChildren(e){let t=this.defaultResult();if(this.inRange(this.rangeOf(e))){t={type:this.type,token:e.start.text};let r=e.childCount;for(let i=0;i<r;i++){let o=e.getChild(i).accept(this);o&&(t=this.aggregateResult(t,o))}}return t}visitMalloyDocument(e){return this.inRange(this.rangeOf(e))?(this.type="model_property",this.visitChildren(e)):this.defaultResult()}visitExploreProperties(e){return this.inRange(this.rangeOf(e))?(this.type="explore_property",this.visitChildren(e)):this.defaultResult()}visitQueryProperties(e){return this.inRange(this.rangeOf(e))?(this.type="query_property",this.visitChildren(e)):this.defaultResult()}aggregateResult(e,t){return t}};function r0t(n,e){return new bSe(e).visit(n)}hz.walkForDocumentHelpContext=r0t});var wSe=Ae(pz=>{"use strict";m();Object.defineProperty(pz,"__esModule",{value:!0});pz.ReferenceList=void 0;var SSe=class{constructor(e){this.sourceURL=e,this.references=[]}findIndexBefore(e){let t=0,r=this.references.length;for(;t<r;){let i=Math.floor((t+r)/2),s=this.references[i].location.range.end;s.line<e.line||s.line===e.line&&s.character<e.character?t=i+1:r=i}return t}add(e){if(e.location.url!==this.sourceURL)return;let t=this.findIndexBefore(e.location.range.end);t<this.references.length&&this.isPositionEqual(e,this.references[t])||this.references.splice(t,0,e)}isPositionEqual(e,t){let r=e.location.range,i=t.location.range;return r.start.line===i.start.line&&r.start.character===i.start.character&&r.end.line===i.end.line&&r.end.character===i.end.character}find(e){let t=this.findIndexBefore(e);if(t===this.references.length)return;let r=this.references[t];if(r.location.range.start.line<=e.line&&r.location.range.end.line>=e.line&&(e.line!==r.location.range.start.line||e.character>=r.location.range.start.character)&&(e.line!==r.location.range.end.line||e.character<=r.location.range.end.character))return r}};pz.ReferenceList=SSe});var MSe=Ae(dh=>{"use strict";m();var i0t=dh&&dh.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),s0t=dh&&dh.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),o0t=dh&&dh.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&i0t(e,n,t);return s0t(e,n),e};Object.defineProperty(dh,"__esModule",{value:!0});dh.MalloyTranslator=dh.MalloyTranslation=dh.SQLExploreZone=void 0;var CSe=Qbe(),a0t=Ybe(),u0t=Sie(),mz=o0t(q5()),l0t=K8e(),c0t=X8e(),f0t=eSe(),jse=nSe(),d0t=iSe(),qse=Bse(),h0t=aSe(),p0t=ESe(),m0t=wSe(),ASe=class{constructor(e,t){this.translator=e,this.messages=t}syntaxError(e,t,r,i,s,o){let a={line:r-1,character:i},c=t?this.translator.rangeFromToken(t):{start:a,end:a},d={message:s,at:{url:this.translator.sourceURL,range:c}};this.messages.log(d)}},Use=class extends jse.Zone{constructor(){super(...arguments);this.keyed={}}referenceBlock(e,t){let r=e.sqlBlock();this.reference(r.name,t),this.keyed[r.name]=r}getUndefinedBlocks(){let e=this.getUndefined();if(e)return e.map(t=>this.keyed[t])}};dh.SQLExploreZone=Use;function xz(n){return!!n&&(n.tables||n.urls||n.sqlStructs)!=null}var TSe=class{step(e){if(this.response)return this.response;if(e.urlIsFullPath===void 0)try{let s=new URL(e.sourceURL);e.urlIsFullPath=!0}catch(s){let o=s instanceof Error?s.message:"";e.urlIsFullPath=!1,e.root.logger.log({message:`Could not compute full path URL: ${o}`})}if(!e.urlIsFullPath)return e.fatalErrors();let t=e.root.importZone.getEntry(e.sourceURL);if(t.status!=="present"){if(t.status==="error"){let s=t.message.includes(e.sourceURL)?`import error: ${t.message}`:`import '${e.sourceURL}' error: ${t.message}`,o=t.firstReference||e.defaultLocation();return e.root.logger.log({message:s,at:o}),this.response=e.fatalErrors(),this.response}return{urls:[e.sourceURL]}}let r=t.value==""?`
`:t.value;this.sourceInfo=this.getSourceInfo(r);let i=this.runParser(r,e);return e.root.logger.hasErrors()?this.response={parse:i,...e.fatalErrors()}:this.response={parse:i},this.response}getSourceInfo(e){let t=/\r?\n/,r={at:[],lines:[],length:e.length},i=e,s=0;for(;i!=="";){let o=i.match(t);if(o&&o.index!=null){r.lines.push(i.slice(0,o.index));let a=o.index+o[0].length;r.at.push({begin:s,end:s+a}),s+=a,i=i.slice(a)}else{r.lines.push(i),r.at.push({begin:s,end:s+i.length});break}}return r}runParser(e,t){let r=CSe.CharStreams.fromString(e),i=new a0t.MalloyLexer(r),s=new CSe.CommonTokenStream(i),o=new u0t.MalloyParser(s);o.removeErrorListeners(),o.addErrorListener(new ASe(t,t.root.logger));let a=o[t.grammarRule];if(!a)throw new Error(`No such parse rule as ${t.grammarRule}`);return{root:a.call(o),tokenStream:s,sourceStream:r,malloyVersion:"?.?.?-????",subTranslator:t}}},FSe=class{constructor(e){this.parseStep=e,this.alreadyLooked=!1}step(e){let t=this.parseStep.step(e);if(t.parse==null)return t;if(!this.alreadyLooked){this.alreadyLooked=!0;let o=(0,f0t.findReferences)(e,t.parse.tokenStream,t.parse.root);if(o==null?void 0:o.tables)for(let a in o.tables)e.root.schemaZone.reference(a,{url:e.sourceURL,range:o.tables[a]});if(o==null?void 0:o.urls)for(let a in o.urls){let c=o.urls[a];try{let d=decodeURI(new URL(a,e.sourceURL).toString());e.addChild(d),e.root.importZone.reference(d,{url:e.sourceURL,range:c})}catch{e.root.logger.log({message:`Malformed URL '${a}'"`,at:{url:e.sourceURL,range:c}})}}}if(e.root.logger.hasErrors())return null;let r={},i=e.root.schemaZone.getUndefined();i&&(r={tables:i});let s=e.root.importZone.getUndefined();if(s&&(r={...r,urls:s}),xz(r))return r;for(let o of e.childTranslators.values()){let a=o.importsAndTablesStep.step(o);if(xz(a))return a}return null}},DSe=class{constructor(e){this.importStep=e,this.walked=!1}step(e){if(this.response)return this.response;let t=this.importStep.step(e);if(t)return t;let r=e.parseStep.response;if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;let i=r==null?void 0:r.parse;if(!i)throw new Error("TRANSLATOR INTERNAL ERROR: Translator parse response had no errors, but also no parser");let o=new l0t.MalloyToAST(i,e.root.logger).visit(i.root);if(e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;if(o.elementType==="unimplemented")throw new Error("TRANSLATOR INTERNAL ERROR: Unimplemented AST node");let a={};if(this.walked||(o.walk(p=>{p instanceof mz.SQLSource?(a[p.refName]||(a[p.refName]={}),a[p.refName].ref=p):p instanceof mz.SQLStatement&&p.is?(a[p.is]||(a[p.is]={}),a[p.is].def=p):p instanceof mz.Unimplemented&&p.log("INTERNAL COMPILER ERROR: Untranslated parse node")}),this.walked=!0),e.root.logger.hasErrors())return this.response=e.fatalErrors(),this.response;let c=e.root.sqlQueryZone;for(let p in a){let E=a[p];if(E.ref&&E.def){let w={url:e.sourceURL,range:E.def.location.range};e.root.sqlQueryZone.referenceBlock(E.def,w)}}for(let p of e.childTranslators.values()){let E=p.astStep.step(p);if(xz(E))return E}let d=c.getUndefinedBlocks();return d?{sqlStructs:d}:(o.setTranslator(e),this.response={...e.errors(),ast:o,final:!0},this.response)}},OSe=class{constructor(e){this.parseStep=e}step(e){if(!this.response){let t=this.parseStep.step(e);if(t.parse){let r;try{r=(0,d0t.walkForDocumentSymbols)(e,t.parse.tokenStream,t.parse.root)}catch{}let i;try{i=(0,qse.walkForDocumentHighlights)(t.parse.tokenStream,t.parse.root)}catch{i=[]}this.response={symbols:r,highlights:(0,qse.sortHighlights)([...(0,qse.passForHighlights)(t.parse.tokenStream),...i]),final:!0}}else return t}return this.response}},RSe=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i=[];if(t!==void 0)try{i=(0,h0t.walkForDocumentCompletions)(r.parse.tokenStream,r.parse.root,t)}catch{}return{...r,completions:i}}else return r}},NSe=class{constructor(e){this.parseStep=e}step(e,t){let r=this.parseStep.step(e);if(r.parse){let i;if(t!==void 0)try{i=(0,p0t.walkForDocumentHelpContext)(r.parse.root,t)}catch{}return{...r,helpContext:i}}else return r}},LSe=class{constructor(e){this.astStep=e}step(e,t){if(this.response)return this.response;let r=this.astStep.step(e);if(xz(r))return r;if(!r.ast)return this.response=r,this.response;if(e.grammarRule==="malloyDocument")if(r.ast instanceof mz.Document){let i=r.ast;e.modelDef=i.getModelDef(t),e.queryList=i.queryList,e.sqlBlocks=i.sqlBlocks}else e.root.logger.log({message:`'${e.sourceURL}' did not parse to malloy document`,at:e.defaultLocation()});return e.root.logger.hasErrors()?this.response=e.fatalErrors():this.response={translated:{modelDef:e.modelDef,queryList:e.queryList,sqlBlocks:e.sqlBlocks},...e.errors(),final:!0},this.response}},gz=class{constructor(e,t="malloyDocument"){this.sourceURL=e,this.grammarRule=t,this.queryList=[],this.sqlBlocks=[],this.childTranslators=new Map,this.modelDef={name:e,exports:[],contents:{}},this.parseStep=new TSe,this.metadataStep=new OSe(this.parseStep),this.completionsStep=new RSe(this.parseStep),this.helpContextStep=new NSe(this.parseStep),this.importsAndTablesStep=new FSe(this.parseStep),this.astStep=new DSe(this.importsAndTablesStep),this.translateStep=new LSe(this.astStep),this.references=new m0t.ReferenceList(e)}addChild(e){this.childTranslators.get(e)||this.childTranslators.set(e,new kSe(e,this.root))}addReference(e){this.references.add(e)}referenceAt(e){return this.references.find(e)}fatalErrors(){return{final:!0,errors:[...this.root.logger.getLog()]}}errors(){return{errors:[...this.root.logger.getLog()]}}getLineMap(e){var t,r;if(e==this.sourceURL)return(t=this.parseStep.sourceInfo)===null||t===void 0?void 0:t.lines;let i=this.childTranslators.get(e);if(i)return(r=i.parseStep.sourceInfo)===null||r===void 0?void 0:r.lines}prettyErrors(){let e="",t="";for(let r of this.root.logger.getLog()){let i=r.message,s=this.sourceURL;if(r.at){s=r.at.url;let o=r.at.range.start.line,a=r.at.range.start.character,c=this.getLineMap(r.at.url);if(c){let d=c[o];i=`line ${o+1}: ${r.message}
  | ${d}`,a>0&&(i=i+`
  | ${" ".repeat(a)}^`)}else i=`line ${o+1}: char ${a}: ${r.message}`}t!==s&&(i=`FILE: ${s}
`+i,t=s),e!==""?e=`${e}
${i}`:e=i}return e}getChildExports(e){let t={},r=decodeURI(new URL(e,this.sourceURL).toString()),i=this.childTranslators.get(r);if(i&&i.translate().translated)for(let o of i.modelDef.exports){let a=i.modelDef.contents[o];a.type==="struct"&&(t[o]=a)}return t}translate(e){if(this.finalAnswer)return this.finalAnswer;let t=this.translateStep.step(this,e);return t.final&&(this.finalAnswer=t),t}metadata(){return this.metadataStep.step(this)}completions(e){return this.completionsStep.step(this,e)}helpContext(e){return this.helpContextStep.step(this,e)}defaultLocation(){return{url:this.sourceURL,range:{start:{line:0,character:0},end:{line:0,character:0}}}}rangeFromContext(e){return this.rangeFromTokens(e.start,e.stop||e.start)}rangeFromTokens(e,t){let r={line:e.line-1,character:e.charPositionInLine};if(this.parseStep.sourceInfo&&t.stopIndex!=-1){let i=this.parseStep.sourceInfo.lines.length-1;for(let s=e.line-1;s<=i;s++){let o=this.parseStep.sourceInfo.at[s];if(t.stopIndex>=o.begin&&t.stopIndex<=o.end)return{start:r,end:{line:s,character:t.stopIndex-o.begin+1}}}return{start:r,end:{line:i,character:this.parseStep.sourceInfo.lines[i].length}}}return{start:r,end:r}}rangeFromToken(e){return this.rangeFromTokens(e,e)}};dh.MalloyTranslation=gz;var kSe=class extends gz{constructor(e,t){super(e);this.root=t}},ISe=class extends gz{constructor(e,t=null){super(e);this.schemaZone=new jse.Zone,this.importZone=new jse.Zone,this.sqlQueryZone=new Use,this.logger=new c0t.MessageLog,this.root=this,t&&this.update(t)}update(e){var t,r,i;this.schemaZone.updateFrom(e.tables,(t=e.errors)===null||t===void 0?void 0:t.tables),this.importZone.updateFrom(e.urls,(r=e.errors)===null||r===void 0?void 0:r.urls),this.sqlQueryZone.updateFrom(e.sqlStructs,(i=e.errors)===null||i===void 0?void 0:i.sqlStructs)}};dh.MalloyTranslator=ISe});var PSe=Ae(Fw=>{"use strict";m();Object.defineProperty(Fw,"__esModule",{value:!0});Fw.exploreQueryWalkerBuilder=Fw.ExploreQueryWalker=void 0;var x0t=V6(),zse=class{constructor(e){this.inDocument=!1,this.exploreClauseRefs=[],this.tokens=e}exploreQueryAtOffset(e){return this.exploreClauseRefs.find(t=>t.range[0]===void 0||t.range[1]===void 0?!1:t.range[0]<=e&&t.range[1]>=e)}filterAtOffset(e){let t=this.exploreQueryAtOffset(e);if(!!t)return t.filterRefs.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e)}hasFilterListAtOffset(e){let t=this.exploreQueryAtOffset(e);return t?!!t.filterLists.find(r=>r.range[0]===void 0||r.range[1]===void 0?!1:r.range[0]<=e&&r.range[1]>=e):!1}enterMalloyDocument(){this.inDocument=!0}};Fw.ExploreQueryWalker=zse;function g0t(n,e){let t=new zse(n),r=t;return x0t.ParseTreeWalker.DEFAULT.walk(r,e),t}Fw.exploreQueryWalkerBuilder=g0t});var Hse=Ae(Q5=>{"use strict";m();Object.defineProperty(Q5,"__esModule",{value:!0});Q5.HighlightType=Q5.exploreQueryWalkerBuilder=Q5.MalloyTranslator=void 0;var y0t=MSe();Object.defineProperty(Q5,"MalloyTranslator",{enumerable:!0,get:function(){return y0t.MalloyTranslator}});var v0t=PSe();Object.defineProperty(Q5,"exploreQueryWalkerBuilder",{enumerable:!0,get:function(){return v0t.exploreQueryWalkerBuilder}});var _0t=Bse();Object.defineProperty(Q5,"HighlightType",{enumerable:!0,get:function(){return _0t.HighlightType}})});var WSe=Ae(ei=>{"use strict";m();Object.defineProperty(ei,"__esModule",{value:!0});ei.CSVWriter=ei.JSONWriter=ei.DataWriter=ei.DataRecord=ei.DataArray=ei.Result=ei.ExploreMaterializer=ei.SQLBlockMaterializer=ei.PreparedResultMaterializer=ei.QueryMaterializer=ei.ModelMaterializer=ei.SingleConnectionRuntime=ei.ConnectionRuntime=ei.Runtime=ei.ExploreField=ei.JoinRelationship=ei.QueryField=ei.Query=ei.StringField=ei.BooleanField=ei.NumberField=ei.TimestampField=ei.DateField=ei.TimestampTimeframe=ei.DateTimeframe=ei.AtomicField=ei.AtomicFieldType=ei.Explore=ei.SourceRelationship=ei.FixedConnectionMap=ei.InMemoryURLReader=ei.EmptyURLReader=ei.PreparedResult=ei.DocumentCompletion=ei.DocumentSymbol=ei.DocumentPosition=ei.DocumentRange=ei.DocumentHighlight=ei.Parse=ei.parseTableURI=ei.PreparedQuery=ei.Model=ei.MalloyError=ei.Malloy=void 0;var b0t=Hse(),aO=Y7(),Uc=class{static get version(){return"0.0.1"}static get log(){return Uc._log||console}static setLogger(e){Uc._log=e}static _parse(e,t){t===void 0&&(t=new URL("internal://internal.malloy"));let r=new b0t.MalloyTranslator(t.toString(),{urls:{[t.toString()]:e}});return new Vse(r)}static parse({url:e,urlReader:t,source:r}){if(r!==void 0)return Uc._parse(r,e);if(t===void 0)throw new Error("Internal Error: urlReader is required.");if(e===void 0)throw new Error("Internal Error: url is required if source not present.");return t.readURL(e).then(i=>Uc._parse(i,e))}static async compile({urlReader:e,connections:t,parse:r,model:i}){let s=r._translator;for(;;){let o=s.translate(i==null?void 0:i._modelDef);if(o.final){if(o.translated)return new uO(o.translated.modelDef,o.translated.queryList,o.translated.sqlBlocks,a=>s.referenceAt(a));{let a=o.errors||[],c=s.prettyErrors();throw new $se(`Error(s) compiling model:
${c}`,a)}}else{if(o.urls)for(let a of o.urls)try{if(a.startsWith("internal://"))throw new Error("In order to use relative imports, you must compile a file via a URL.");let c=await e.readURL(new URL(a)),d={[a]:c};s.update({urls:d})}catch(c){s.update({errors:{urls:{[a]:c.message}}})}if(o.tables){let a=new Map;for(let c of o.tables){let{connectionName:d}=BSe(c),p=a.get(d);p?p.push(c):p=[c],a.set(d,p)}for(let[c,d]of a)try{let p=await t.lookupConnection(c),{schemas:E,errors:w}=await p.fetchSchemaForTables(d);s.update({tables:E,errors:{tables:w}})}catch(p){let E={},w={};for(let N of d)w[N]=p.toString();s.update({tables:E,errors:{tables:w}})}}if(o.sqlStructs){let a=new Map;for(let c of o.sqlStructs){let d=c.connection,p=a.get(d);p?p.push(c):p=[c],a.set(d,p)}for(let[c,d]of a)try{let p=await t.lookupConnection(c),{schemas:E,errors:w}=await p.fetchSchemaForSQLBlocks(d);s.update({sqlStructs:E}),s.update({sqlStructs:E,errors:{sqlStructs:w}})}catch(p){let E={},w={};for(let N of d)w[N.name]=p.toString();s.update({sqlStructs:E,errors:{sqlStructs:w}})}}}}}static async runSQLBlockAndFetchResultSchema(e,t,r){if(e.canFetchSchemaAndRunSimultaneously())return e.runSQLBlockAndFetchResultSchema(t,r);let[i,s]=await Promise.all([e.fetchSchemaForSQLBlocks([t]).then(o=>o.schemas[t.name]),e.runSQL(t.select)]);return{schema:i,data:s}}static async run({connections:e,preparedResult:t,sqlBlock:r,connection:i,options:s}){if(r===void 0&&t===void 0)throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let o=(r==null?void 0:r.connection)||(t==null?void 0:t.connectionName);if(i===void 0){if(e===void 0)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");i=await e.lookupConnection(o)}if(r!==void 0){let{schema:a,data:c}=await this.runSQLBlockAndFetchResultSchema(i,r,s);if(a.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");return new kw({structs:[a],sql:r.select,result:c.rows,totalRows:c.totalRows,lastStageName:a.name,malloy:"",connectionName:a.structRelationship.connectionName,sourceExplore:"",sourceFilters:[]},{name:"empty_model",exports:[],contents:{}})}else if(t!==void 0){let a=await i.runSQL(t.sql,s);return new kw({...t._rawQuery,result:a.rows,totalRows:a.totalRows},t._modelDef)}else throw new Error("Internal error: sqlBlock or preparedResult must be provided.")}static async*runStream({connections:e,preparedResult:t,sqlBlock:r,connection:i,options:s}){if(r===void 0&&t===void 0)throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let o=(r==null?void 0:r.connection)||(t==null?void 0:t.connectionName);if(i===void 0){if(e===void 0)throw new Error("Internal Error: Connection or LookupConnection<Connection> must be provided.");i=await e.lookupConnection(o)}if(!i.canStream())throw new Error(`Connection '${o}' cannot stream results.`);let a,c;if(r!==void 0){let p=(await i.fetchSchemaForSQLBlocks([r])).schemas[r.name];if(p.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");c=new yx(p),a=r.select}else if(t!==void 0)c=t.resultExplore,a=t.sql;else throw new Error("Internal error: sqlBlock or preparedResult must be provided.");let d=0;for await(let p of i.runSQLStream(a,s))yield new G5(p,d,c,void 0),d+=1}};ei.Malloy=Uc;var $se=class extends Error{constructor(e,t=[]){super(e);this.log=t}};ei.MalloyError=$se;var uO=class{constructor(e,t,r,i=()=>{}){this.modelDef=e,this.queryList=t,this.sqlBlocks=r,this._referenceAt=i}getReference(e){return this._referenceAt(e)}getPreparedQueryByName(e){let t=this.modelDef.contents[e];if(t.type==="query")return new ry(t,this.modelDef,e);throw new Error("Given query name does not refer to a named query.")}getPreparedQueryByIndex(e){if(e<0)throw new Error(`Invalid index ${e}.`);if(e>=this.queryList.length)throw new Error(`Query index ${e} is out of bounds.`);return new ry(this.queryList[e],this.modelDef)}getSQLBlockByName(e){let t=this.sqlBlocks.find(r=>r.as===e);if(t===void 0)throw new Error(`No SQL Block named '${e}'`);return t}getSQLBlockByIndex(e){let t=this.sqlBlocks[e];if(t===void 0)throw new Error(`No SQL Block at index ${e}`);return t}get preparedQuery(){if(this.queryList.length===0)throw new Error("Model has no queries.");return new ry(this.queryList[this.queryList.length-1],this.modelDef)}getExploreByName(e){let t=this.modelDef.contents[e];if(t.type==="struct")return new yx(t);throw new Error("'name' is not an explore")}get explores(){let e=[];for(let t in this.modelDef.contents){let r=this.modelDef.contents[t];r.type==="struct"&&e.push(new yx(r))}return e}get exportedExplores(){return this.explores.filter(e=>this.modelDef.exports.includes(e.name))}get _modelDef(){return this.modelDef}};ei.Model=uO;var ry=class{constructor(e,t,r){this._query=e,this._modelDef=t,this.name=r}get preparedResult(){let t=new aO.QueryModel(this._modelDef).compileQuery(this._query);return new vz({...t,queryName:this.name||t.queryName},this._modelDef)}get dialect(){let e=this._query.structRef,t=typeof e=="string"?this._modelDef.contents[e]:e;if(t.type!=="struct")throw new Error("Invalid source for query");return t.dialect}getFlattenedQuery(e){let t=this._query.structRef;typeof t!="string"&&(t=t.as||t.name);let s=new aO.QueryModel(this._modelDef).getStructByName(t).flattenTurtleDef({name:e,...this._query,type:"turtle"});return new ry({...s,structRef:t,type:"query"},this._modelDef,this.name||s.as||s.name)}};ei.PreparedQuery=ry;function BSe(n){let[e,t]=n.split(":");return t?{connectionName:e,tablePath:t}:{tablePath:e}}ei.parseTableURI=BSe;var Vse=class{constructor(e){this.translator=e}get highlights(){return(this.translator.metadata().highlights||[]).map(e=>new Wse(e))}get symbols(){return(this.translator.metadata().symbols||[]).map(e=>new lO(e))}get _translator(){return this.translator}completions(e){return(this.translator.completions(e).completions||[]).map(t=>new Qse(t))}helpContext(e){return this.translator.helpContext(e).helpContext}};ei.Parse=Vse;var Wse=class{constructor(e){this._range=new yz(new Dw(e.range.start.line,e.range.start.character),new Dw(e.range.end.line,e.range.end.character)),this._type=e.type}get range(){return this._range}get type(){return this._type}};ei.DocumentHighlight=Wse;var yz=class{constructor(e,t){this._start=e,this._end=t}get start(){return this._start}get end(){return this._end}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}};ei.DocumentRange=yz;var Dw=class{constructor(e,t){this._line=e,this._character=t}get line(){return this._line}get character(){return this._character}toJSON(){return{line:this.line,character:this.character}}};ei.DocumentPosition=Dw;var lO=class{constructor(e){this._range=new yz(new Dw(e.range.start.line,e.range.start.character),new Dw(e.range.end.line,e.range.end.character)),this._type=e.type,this._name=e.name,this._children=e.children.map(t=>new lO(t))}get range(){return this._range}get type(){return this._type}get name(){return this._name}get children(){return this._children}};ei.DocumentSymbol=lO;var Qse=class{constructor(e){this.type=e.type,this.text=e.text}};ei.DocumentCompletion=Qse;var vz=class{constructor(e,t){this.inner=e,this.modelDef=t}get connectionName(){return this.inner.connectionName}get _rawQuery(){return this.inner}get _modelDef(){return this.modelDef}get sql(){return this.inner.sql}get resultExplore(){if(this.inner.structs.length===0)throw new Error("Malformed query result.");let e=this.inner.structs[this.inner.structs.length-1],t={...e,name:this.inner.queryName||e.name};try{return new yx(t,this.sourceExplore)}catch{return new yx(t)}}get sourceExplore(){let e=this.inner.sourceExplore,t=this.modelDef.contents[e];if(t===void 0)throw new Error("Malformed query result.");if(t.type==="struct")return new yx(t);throw new Error(`'${e} is not an explore`)}get _sourceExploreName(){return this.inner.sourceExplore}get _sourceFilters(){return this.inner.sourceFilters||[]}};ei.PreparedResult=vz;var Gse=class{async readURL(e){throw new Error("No files.")}};ei.EmptyURLReader=Gse;var jSe=class{constructor(e){this.files=e}async readURL(e){let t=this.files.get(e.toString());if(t!==void 0)return Promise.resolve(t);throw new Error(`File not found '${e}'`)}};ei.InMemoryURLReader=jSe;var Ow=class{constructor(e,t){this.connections=e,this.defaultConnectionName=t}async getConnection(e){if(e===void 0)if(this.defaultConnectionName!==void 0)e=this.defaultConnectionName;else throw new Error("No default connection.");let t=this.connections.get(e);if(t!==void 0)return Promise.resolve(t);throw new Error(`No connection found with name ${e}.`)}async lookupConnection(e){return this.getConnection(e)}static fromArray(e){return new Ow(new Map(e.map(t=>[t.name,t])))}};ei.FixedConnectionMap=Ow;var W6;(function(n){n.Nested="nested",n.BaseTable="base_table",n.Cross="cross",n.One="one",n.Many="many",n.Inline="inline"})(W6=ei.SourceRelationship||(ei.SourceRelationship={}));var _z=class{constructor(e,t,r){this._name=e,this._parent=t,this._source=r}get source(){return this.source}get name(){return this._name}get sourceClasses(){let e=[];return this.source&&e.push(this.source.name),e.push(this.name),e}hasParentExplore(){return this._parent!==void 0}isExplore(){return this instanceof yx}isQuery(){return this instanceof Cz}},yx=class extends _z{constructor(e,t,r){super(e.as||e.name,t,r);this._structDef=e,this._parentExplore=t,this.sourceExplore=r}get source(){return this.sourceExplore}isIntrinsic(){return(0,aO.FieldIsIntrinsic)(this._structDef)}get name(){return this.structDef.as||this.structDef.name}getQueryByName(e){let t={type:"query",structRef:this.structDef,pipeline:[{type:"reduce",fields:[e]}]};return new ry(t,this.modelDef,e)}get modelDef(){return{name:"generated_model",exports:[],contents:{[this.structDef.name]:this.structDef}}}getSingleExploreModel(){return new uO(this.modelDef,[],[])}get fieldMap(){var e;if(this._fieldMap===void 0){let t=((e=this.source)===null||e===void 0?void 0:e.fieldMap)||new Map;this._fieldMap=new Map(this.structDef.fields.map(r=>{let i=r.as||r.name,s=t.get(r.name);if(r.type==="struct")return[i,new Az(r,this,s)];if(r.type==="turtle")return[i,new Cz(r,this,s)];if(r.type==="string")return[i,new wz(r,this,s)];if(r.type==="number")return[i,new cO(r,this,s)];if(r.type==="date")return r.timeframe&&["day_of_month","day_of_week","day_of_year"].includes(r.timeframe)?[i,new cO({...r,type:"number"},this,s)]:[i,new bz(r,this,s)];if(r.type==="timestamp")return[i,new Ez(r,this,s)];if(r.type==="boolean")return[i,new Sz(r,this,s)]}))}return this._fieldMap}get allFields(){return[...this.fieldMap.values()]}get intrinsicFields(){return[...this.fieldMap.values()].filter(e=>e.isIntrinsic())}getFieldByName(e){let t=this.fieldMap.get(e);if(t===void 0)throw new Error(`No such field ${e}.`);return t}getFieldByNameIfExists(e){return this.fieldMap.get(e)}get primaryKey(){return this.structDef.primaryKey}get parentExplore(){return this._parentExplore}get sourceRelationship(){switch(this.structDef.structRelationship.type){case"many":return W6.Many;case"one":return W6.One;case"cross":return W6.Cross;case"inline":return W6.Inline;case"nested":return W6.Nested;case"basetable":return W6.BaseTable}}hasParentExplore(){return this instanceof Az}get filters(){var e;return((e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.filterList)||[]}get limit(){var e;return(e=this.structDef.resultMetadata)===null||e===void 0?void 0:e.limit}get structDef(){return this._structDef}};ei.Explore=yx;var Rw;(function(n){n.String="string",n.Number="number",n.Boolean="boolean",n.Date="date",n.Timestamp="timestamp"})(Rw=ei.AtomicFieldType||(ei.AtomicFieldType={}));var Q6=class extends _z{constructor(e,t,r){super(e.as||e.name,t,r);this.fieldTypeDef=e,this.parent=t}get type(){switch(this.fieldTypeDef.type){case"string":return Rw.String;case"boolean":return Rw.Boolean;case"date":return Rw.Date;case"timestamp":return Rw.Timestamp;case"number":return Rw.Number}}isIntrinsic(){return(0,aO.FieldIsIntrinsic)(this.fieldTypeDef)}isQueryField(){return!1}isExploreField(){return!1}isAtomicField(){return!0}isAggregate(){return!!this.fieldTypeDef.aggregate}get sourceField(){throw new Error}get sourceClasses(){let e=this.fieldTypeDef.name||this.fieldTypeDef.as;return e?[e]:[]}sourceWasMeasure(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"}sourceWasMeasureLike(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="measure"||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.fieldKind)==="struct"}sourceWasDimension(){var e;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.fieldKind)==="dimension"}hasParentExplore(){return!0}isString(){return this instanceof wz}isNumber(){return this instanceof cO}isDate(){return this instanceof bz}isBoolean(){return this instanceof Sz}isTimestamp(){return this instanceof Ez}get parentExplore(){return this.parent}get expression(){var e,t;return((e=this.fieldTypeDef.resultMetadata)===null||e===void 0?void 0:e.sourceExpression)||((t=this.fieldTypeDef.resultMetadata)===null||t===void 0?void 0:t.sourceField)||this.name}};ei.AtomicField=Q6;var Nw;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year"})(Nw=ei.DateTimeframe||(ei.DateTimeframe={}));var iy;(function(n){n.Day="day",n.Week="week",n.Month="month",n.Quarter="quarter",n.Year="year",n.Second="second",n.Hour="hour",n.Minute="minute"})(iy=ei.TimestampTimeframe||(ei.TimestampTimeframe={}));var bz=class extends Q6{constructor(e,t,r){super(e,t,r);this.fieldDateDef=e}get timeframe(){if(this.fieldDateDef.timeframe!==void 0)switch(this.fieldDateDef.timeframe){case"day":return Nw.Day;case"week":return Nw.Week;case"month":return Nw.Month;case"quarter":return Nw.Quarter;case"year":return Nw.Year}}};ei.DateField=bz;var Ez=class extends Q6{constructor(e,t,r){super(e,t,r);this.fieldTimestampDef=e}get timeframe(){if(this.fieldTimestampDef.timeframe!==void 0)switch(this.fieldTimestampDef.timeframe){case"day":return iy.Day;case"week":return iy.Week;case"month":return iy.Month;case"quarter":return iy.Quarter;case"year":return iy.Year;case"second":return iy.Second;case"hour":return iy.Hour;case"minute":return iy.Minute}}};ei.TimestampField=Ez;var cO=class extends Q6{constructor(e,t,r){super(e,t,r);this.fieldNumberDef=e}};ei.NumberField=cO;var Sz=class extends Q6{constructor(e,t,r){super(e,t,r);this.fieldBooleanDef=e}};ei.BooleanField=Sz;var wz=class extends Q6{constructor(e,t,r){super(e,t,r);this.fieldStringDef=e}};ei.StringField=wz;var Yse=class extends _z{constructor(e,t,r){super(e.as||e.name,t,r);this.turtleDef=e}get source(){return this.sourceQuery}isIntrinsic(){return!1}};ei.Query=Yse;var Cz=class extends Yse{constructor(e,t,r){super(e,t,r);this.parent=t}isQueryField(){return!0}isExploreField(){return!1}isAtomicField(){return!1}get sourceClasses(){let e=this.turtleDef.name||this.turtleDef.as;return e?[e]:[]}hasParentExplore(){return!0}get parentExplore(){return this.parent}get expression(){return this.name}};ei.QueryField=Cz;var fO;(function(n){n.OneToOne="one_to_one",n.OneToMany="one_to_many",n.ManyToOne="many_to_one"})(fO=ei.JoinRelationship||(ei.JoinRelationship={}));var Az=class extends yx{constructor(e,t,r){super(e,t,r);this._parentExplore=t}get joinRelationship(){switch(this.structDef.structRelationship.type){case"one":return fO.OneToMany;case"many":case"cross":return fO.ManyToOne;case"inline":return fO.OneToOne;case"nested":return fO.ManyToOne;default:throw new Error("An explore field must have a join relationship.")}}isQueryField(){return!1}isExploreField(){return!0}isAtomicField(){return!1}get parentExplore(){return this._parentExplore}get sourceClasses(){let e=this.structDef.name||this.structDef.as;return e?[e]:[]}};ei.ExploreField=Az;var Tz=class{constructor(...e){let t,r;for(let i of e)E0t(i)?t=i:S0t(i)?r=i:r={lookupConnection:()=>Promise.resolve(i)};if(t===void 0&&(t=new Gse),r===void 0)throw new Error("A LookupConnection<Connection> or Connection is required.");this._urlReader=t,this._connections=r}get urlReader(){return this._urlReader}get connections(){return this._connections}loadModel(e){return new Fz(this,async()=>{let t=e instanceof URL?await Uc.parse({url:e,urlReader:this.urlReader}):Uc.parse({source:e});return Uc.compile({urlReader:this.urlReader,connections:this.connections,parse:t})})}_loadModelFromModelDef(e){return new Fz(this,async function(){return new uO(e,[],[])})}loadQuery(e){return this.loadModel(e).loadFinalQuery()}loadQueryByIndex(e,t){return this.loadModel(e).loadQueryByIndex(t)}loadQueryByName(e,t){return this.loadModel(e).loadQueryByName(t)}loadSQLBlockByName(e,t){return this.loadModel(e).loadSQLBlockByName(t)}loadSQLBlockByIndex(e,t){return this.loadModel(e).loadSQLBlockByIndex(t)}getModel(e){return this.loadModel(e).getModel()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getQueryByIndex(e,t){return this.loadQueryByIndex(e,t).getPreparedQuery()}getQueryByName(e,t){return this.loadQueryByName(e,t).getPreparedQuery()}getSQLBlockByName(e,t){return this.loadSQLBlockByName(e,t).getSQLBlock()}getSQLBlockByIndex(e,t){return this.loadSQLBlockByIndex(e,t).getSQLBlock()}};ei.Runtime=Tz;var qSe=class extends Tz{constructor(e,t){if(t===void 0){let r=e;super(Ow.fromArray(r));this.rawConnections=r}else{let r=t;super(e,Ow.fromArray(r));this.rawConnections=r}}};ei.ConnectionRuntime=qSe;var USe=class extends Tz{constructor(e,t){if(t===void 0){let r=e;super(r);this.connection=r}else{let r=t;super(e,r);this.connection=r}}};ei.SingleConnectionRuntime=USe;var Lw=class{constructor(e,t){this.runtime=e,this._materialize=t}materialize(){return this.materialized===void 0?this.rematerialize():this.materialized}rematerialize(){return this.materialized=this._materialize(),this.materialized}makeQueryMaterializer(e){return new Kse(this.runtime,e)}makeExploreMaterializer(e){return new Zse(this.runtime,e)}makePreparedResultMaterializer(e){return new Jse(this.runtime,e)}makeSQLBlockMaterializer(e){return new Xse(this.runtime,e)}},Fz=class extends Lw{loadFinalQuery(){return this.makeQueryMaterializer(async()=>(await this.materialize()).preparedQuery)}loadQueryByIndex(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByIndex(e))}loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getPreparedQueryByName(e))}loadQuery(e){return this.makeQueryMaterializer(async()=>{let t=this.runtime.urlReader,r=this.runtime.connections,i=e instanceof URL?await Uc.parse({url:e,urlReader:t}):Uc.parse({source:e}),s=await this.getModel();return(await Uc.compile({urlReader:t,connections:r,parse:i,model:s})).preparedQuery})}async search(e,t,r=1e3,i=void 0){let s=await this.materialize(),o=new aO.QueryModel(s._modelDef),a=s.getExploreByName(e).structDef;if(a.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let c=a.structRelationship.connectionName,d=await this.runtime.connections.lookupConnection(c);return await o.searchIndex(d,e,t,r,i)}async searchValueMap(e,t=10){let i=(await this.materialize()).getExploreByName(e);if(i.structDef.structRelationship.type!=="basetable")throw new Error("Expected schema's structRelationship type to be 'basetable'.");let s="{index: *}";i.getFieldByNameIfExists("search_index")&&(s="search_index");let o=`
      query: ${e}
        -> ${s}
        -> {
          where: fieldType = 'string'
          group_by: fieldName
          aggregate: cardinality is count(distinct fieldValue)
          nest: values is {
            project: fieldValue, weight
            order_by: weight desc
            limit: ${t}
          }
          limit: 1000
        }
    `;return(await this.loadQuery(o).run({rowLimit:1e3}))._queryResult.result}loadSQLBlockByName(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByName(e))}loadSQLBlockByIndex(e){return this.makeSQLBlockMaterializer(async()=>(await this.materialize()).getSQLBlockByIndex(e))}getFinalQuery(){return this.loadFinalQuery().getPreparedQuery()}getQueryByIndex(e){return this.loadQueryByIndex(e).getPreparedQuery()}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getQuery(e){return this.loadQuery(e).getPreparedQuery()}getSQLBlockByName(e){return this.loadSQLBlockByName(e).getSQLBlock()}getSQLBlockByIndex(e){return this.loadSQLBlockByIndex(e).getSQLBlock()}_loadQueryFromQueryDef(e){return this.makeQueryMaterializer(async()=>{let t=await this.materialize();return new ry(e,t._modelDef)})}loadExploreByName(e){return this.makeExploreMaterializer(async()=>(await this.materialize()).getExploreByName(e))}getExploreByName(e){return this.loadExploreByName(e).getExplore()}getModel(){return this.materialize()}};ei.ModelMaterializer=Fz;var Kse=class extends Lw{async run(e){let t=this.runtime.connections,r=await this.getPreparedResult();return Uc.run({connections:t,preparedResult:r,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=Uc.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}loadPreparedResult(){return this.makePreparedResultMaterializer(async()=>(await this.materialize()).preparedResult)}getPreparedResult(){return this.loadPreparedResult().getPreparedResult()}async getSQL(){return(await this.getPreparedResult()).sql}getPreparedQuery(){return this.materialize()}};ei.QueryMaterializer=Kse;var Jse=class extends Lw{async run(e){let t=await this.getPreparedResult(),r=this.runtime.connections;return Uc.run({connections:r,preparedResult:t,options:e})}async*runStream(e){let t=await this.getPreparedResult(),r=this.runtime.connections,i=Uc.runStream({connections:r,preparedResult:t,options:e});for await(let s of i)yield s}getPreparedResult(){return this.materialize()}async getSQL(){return(await this.getPreparedResult()).sql}};ei.PreparedResultMaterializer=Jse;var Xse=class extends Lw{async run(e){let t=await this.getSQLBlock(),r=this.runtime.connections;return Uc.run({connections:r,sqlBlock:t,options:e})}async*runStream(e){let t=await this.getSQLBlock(),r=this.runtime.connections,i=Uc.runStream({connections:r,sqlBlock:t,options:e});for await(let s of i)yield s}getSQLBlock(){return this.materialize()}async getSQL(){return(await this.getSQLBlock()).select}};ei.SQLBlockMaterializer=Xse;var Zse=class extends Lw{loadQueryByName(e){return this.makeQueryMaterializer(async()=>(await this.materialize()).getQueryByName(e))}getQueryByName(e){return this.loadQueryByName(e).getPreparedQuery()}getExplore(){return this.materialize()}};ei.ExploreMaterializer=Zse;var kw=class extends vz{constructor(e,t){super(e,t);this.inner=e}get _queryResult(){return this.inner}get data(){return new Iw(this.inner.result,this.resultExplore,void 0)}get totalRows(){return this.inner.totalRows}toJSON(){return{queryResult:this.inner,modelDef:this._modelDef}}static fromJSON({queryResult:e,modelDef:t}){return new kw(e,t)}};ei.Result=kw;var dO=class{constructor(e){this._field=e}get field(){return this._field}isString(){return this instanceof eoe}get string(){if(this.isString())return this;throw new Error("Not a string.")}isBoolean(){return this instanceof toe}get boolean(){if(this.isBoolean())return this;throw new Error("Not a boolean.")}isNumber(){return this instanceof noe}get number(){if(this.isNumber())return this;throw new Error("Not a number.")}isTimestamp(){return this instanceof roe}get timestamp(){if(this.isTimestamp())return this;throw new Error("Not a timestamp.")}isDate(){return this instanceof ioe}get date(){if(this.isDate())return this;throw new Error("Not a date.")}isNull(){return this instanceof soe}isBytes(){return this instanceof zSe}get bytes(){if(this.isBytes())return this;throw new Error("Not bytes.")}isRecord(){return this instanceof G5}get record(){if(this.isRecord())return this;throw new Error("Not a record.")}isArray(){return this instanceof Iw}get array(){if(this.isArray())return this;throw new Error("Not an array.")}isArrayOrRecord(){if(this instanceof Iw||this instanceof G5)return this;throw new Error("No Array or Record")}},G6=class extends dO{constructor(e,t){super(t);this._value=e,this._field=t}get value(){return this._value}get field(){return this._field}},eoe=class extends G6{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},toe=class extends G6{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},noe=class extends G6{constructor(e,t){super(e,t);this._field=t}get field(){return this._field}},roe=class extends G6{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value=="number"?new Date(super.value):typeof this._value!="string"?new Date(this._value.value):new Date(super.value)}get field(){return this._field}},ioe=class extends G6{constructor(e,t){super(e,t);this._field=t}get value(){return this._value instanceof Date?this._value:typeof this._value!="string"?new Date(this._value.value):new Date(super.value)}get field(){return this._field}},zSe=class extends G6{},soe=class extends dO{get value(){return null}},Iw=class extends dO{constructor(e,t,r){super(t);this.parent=r,this.queryData=e,this._field=t}get field(){return this._field}toObject(){return this.queryData}path(...e){return HSe(this,e)}row(e){return new G5(this.queryData[e],e,this.field,this)}get rowCount(){return this.queryData.length}get value(){return this.toObject()}[Symbol.iterator](){let e=0,t=this.queryData,r=i=>this.row(i);return{next(){return e<t.length?{value:r(e++),done:!1}:{value:void 0,done:!0}}}}async*inMemoryStream(){for(let e=0;e<this.queryData.length;e++)yield this.row(e)}};ei.DataArray=Iw;function HSe(n,e){for(let t of e)typeof t=="number"?n=n.array.row(t):n=n.record.cell(t);return n}var G5=class extends dO{constructor(e,t,r,i){super(r);this.parent=i,this.queryDataRow=e,this._field=r,this.index=t}toObject(){return this.queryDataRow}path(...e){return HSe(this,e)}cell(e){let t=typeof e=="string"?e:e.name,r=this._field.getFieldByName(t),i=this.queryDataRow[t];if(i===null)return new soe(r);if(r.isAtomicField()){if(r.isBoolean())return new toe(i,r);if(r.isDate())return new ioe(i,r);if(r.isTimestamp())return new roe(i,r);if(r.isNumber())return new noe(i,r);if(r.isString())return new eoe(i,r)}else if(r.isExploreField())return Array.isArray(i)?new Iw(i,r,this):new G5(i,void 0,r,this);throw new Error(`Internal Error: could not construct data column for field '${t}'.`)}get value(){throw new Error("Not implemented;")}get field(){return this._field}[Symbol.iterator](){let e=!1,t=()=>this;return{next(){return e?{value:void 0,done:!0}:(e=!0,{value:t(),done:!1})}}}};ei.DataRecord=G5;function E0t(n){return"readURL"in n}function S0t(n){return"lookupConnection"in n}var Dz=class{constructor(e){this.stream=e}};ei.DataWriter=Dz;var $Se=class extends Dz{async process(e){this.stream.write(`[
`);for await(let t of e){t.index!==void 0&&t.index>0&&this.stream.write(`,
`);let i=JSON.stringify(t.toObject(),null,2).split(`
`);for(let s=0;s<i.length;s++){let o=i[s];this.stream.write(`  ${o}`),s<i.length-1&&this.stream.write(`
`)}}this.stream.write(`
]
`),this.stream.close()}};ei.JSONWriter=$Se;var VSe=class extends Dz{constructor(){super(...arguments);this.columnSeparator=",",this.rowSeparator=`
`,this.quoteCharacter='"',this.includeHeader=!0}escape(e){let t=e.includes(this.quoteCharacter),r=e.includes(this.columnSeparator),i=e.includes(this.rowSeparator),s=r||t||i;return t&&(e=e.replace(new RegExp(this.quoteCharacter,"g"),this.quoteCharacter+this.quoteCharacter)),s&&(e=this.quoteCharacter+e+this.quoteCharacter),e}stringify(e){return e.isNull()?"":e.isArray()||e.isRecord()||e.isBoolean()||e.isNumber()?JSON.stringify(e.value):e.isDate()||e.isTimestamp()?e.value.toISOString():e.isString()?e.value:`${e.value}`}async process(e){let t;for await(let r of e){if(t===void 0&&(t=r.field.allFields,this.includeHeader)){for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(s.name)),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}for(let i=0;i<t.length;i++){let s=t[i];this.stream.write(this.escape(this.stringify(r.cell(s)))),i!==t.length-1&&this.stream.write(this.columnSeparator)}this.stream.write(this.rowSeparator)}this.stream.close()}};ei.CSVWriter=VSe});var QSe=Ae(Oz=>{"use strict";m();Object.defineProperty(Oz,"__esModule",{value:!0});Oz.toAsyncGenerator=void 0;async function*w0t(n){let e=!1;function t(i){let s,o=new Promise(a=>{s=a});return i(a=>{s({done:!0,isError:!0,error:a})},a=>{s({done:!1,value:a,isError:!1,next:new Promise(c=>{s=c})})},()=>{s({done:!0,isError:!1})}),o}let r=t(n);for(;!e;){let i=await r;if(i.done){if(e=!0,i.isError)throw i.error;break}else r=i.next,yield i.value}}Oz.toAsyncGenerator=w0t});var vx=Ae(Fs=>{"use strict";m();Object.defineProperty(Fs,"__esModule",{value:!0});Fs.toAsyncGenerator=Fs.DataWriter=Fs.JSONWriter=Fs.CSVWriter=Fs.QueryMaterializer=Fs.parseTableURI=Fs.Result=Fs.TimestampTimeframe=Fs.DateTimeframe=Fs.SourceRelationship=Fs.JoinRelationship=Fs.MalloyError=Fs.FixedConnectionMap=Fs.InMemoryURLReader=Fs.EmptyURLReader=Fs.SingleConnectionRuntime=Fs.ConnectionRuntime=Fs.AtomicFieldType=Fs.Runtime=Fs.Malloy=Fs.MalloyTranslator=Fs.HighlightType=Fs.isFilteredAliasedName=Fs.Segment=void 0;var GSe=Y7();Object.defineProperty(Fs,"Segment",{enumerable:!0,get:function(){return GSe.Segment}});Object.defineProperty(Fs,"isFilteredAliasedName",{enumerable:!0,get:function(){return GSe.isFilteredAliasedName}});var YSe=Hse();Object.defineProperty(Fs,"HighlightType",{enumerable:!0,get:function(){return YSe.HighlightType}});Object.defineProperty(Fs,"MalloyTranslator",{enumerable:!0,get:function(){return YSe.MalloyTranslator}});var zc=WSe();Object.defineProperty(Fs,"Malloy",{enumerable:!0,get:function(){return zc.Malloy}});Object.defineProperty(Fs,"Runtime",{enumerable:!0,get:function(){return zc.Runtime}});Object.defineProperty(Fs,"AtomicFieldType",{enumerable:!0,get:function(){return zc.AtomicFieldType}});Object.defineProperty(Fs,"ConnectionRuntime",{enumerable:!0,get:function(){return zc.ConnectionRuntime}});Object.defineProperty(Fs,"SingleConnectionRuntime",{enumerable:!0,get:function(){return zc.SingleConnectionRuntime}});Object.defineProperty(Fs,"EmptyURLReader",{enumerable:!0,get:function(){return zc.EmptyURLReader}});Object.defineProperty(Fs,"InMemoryURLReader",{enumerable:!0,get:function(){return zc.InMemoryURLReader}});Object.defineProperty(Fs,"FixedConnectionMap",{enumerable:!0,get:function(){return zc.FixedConnectionMap}});Object.defineProperty(Fs,"MalloyError",{enumerable:!0,get:function(){return zc.MalloyError}});Object.defineProperty(Fs,"JoinRelationship",{enumerable:!0,get:function(){return zc.JoinRelationship}});Object.defineProperty(Fs,"SourceRelationship",{enumerable:!0,get:function(){return zc.SourceRelationship}});Object.defineProperty(Fs,"DateTimeframe",{enumerable:!0,get:function(){return zc.DateTimeframe}});Object.defineProperty(Fs,"TimestampTimeframe",{enumerable:!0,get:function(){return zc.TimestampTimeframe}});Object.defineProperty(Fs,"Result",{enumerable:!0,get:function(){return zc.Result}});Object.defineProperty(Fs,"parseTableURI",{enumerable:!0,get:function(){return zc.parseTableURI}});Object.defineProperty(Fs,"QueryMaterializer",{enumerable:!0,get:function(){return zc.QueryMaterializer}});Object.defineProperty(Fs,"CSVWriter",{enumerable:!0,get:function(){return zc.CSVWriter}});Object.defineProperty(Fs,"JSONWriter",{enumerable:!0,get:function(){return zc.JSONWriter}});Object.defineProperty(Fs,"DataWriter",{enumerable:!0,get:function(){return zc.DataWriter}});var C0t=QSe();Object.defineProperty(Fs,"toAsyncGenerator",{enumerable:!0,get:function(){return C0t.toAsyncGenerator}})});var JSe=Ae(Rz=>{"use strict";m();Object.defineProperty(Rz,"__esModule",{value:!0});Rz.DuckDBCommon=void 0;var A0t=vx(),KSe={BIGINT:"number",DOUBLE:"number",VARCHAR:"string",DATE:"date",TIMESTAMP:"timestamp",TIME:"string",DECIMAL:"number",BOOLEAN:"boolean",INTEGER:"number"},hO=class{constructor(e){this.queryOptions=e,this.name="duckdb_common"}get dialectName(){return"duckdb"}readQueryOptions(){let e=hO.DEFAULT_QUERY_OPTIONS;return this.queryOptions?this.queryOptions instanceof Function?{...e,...this.queryOptions()}:{...e,...this.queryOptions}:e}isPool(){return!1}canPersist(){return!0}async runRawSQL(e){return await this.setup(),this.runDuckDBQuery(e)}async runSQL(e,t={}){var r;let i=this.readQueryOptions(),s=(r=t.rowLimit)!==null&&r!==void 0?r:i.rowLimit,o=e.split("-- hack: split on this");for(;o.length>1;)await this.runRawSQL(o[0]),o.shift();let c=(await this.runRawSQL(o[0])).rows;return c.length>s&&(c=c.slice(0,s)),{rows:c,totalRows:c.length}}async runSQLBlockAndFetchResultSchema(e){let t=await this.runSQL(e.select),r=(await this.fetchSchemaForSQLBlocks([e])).schemas[e.name];return{data:t,schema:r}}async getSQLBlockSchema(e){let t={type:"struct",dialect:"duckdb",name:e.name,structSource:{type:"sql",method:"subquery",sqlBlock:e},structRelationship:{type:"basetable",connectionName:this.name},fields:[]};return await this.schemaFromQuery(`DESCRIBE SELECT * FROM (${e.select})`,t),t}splitColumns(e){let t=[],r=0,i="",s=!0;for(let o=0;o<e.length;o++){let a=e.charAt(o);s&&a===" "||(s=!1,!r&&a===","?(t.push(i),i="",s=!0):i+=a,a==="("?r+=1:a===")"&&(r-=1))}return t.push(i),t}stringToTypeMap(e){let t={},r=this.splitColumns(e);for(let i of r){let s=i.match(/^(?<name>[^\s]+) (?<type>.*)$/);if(s&&s.groups)t[s.groups.name]=s.groups.type;else throw new Error(`Badly form Structure definition ${e}`)}return t}fillStructDefFromTypeMap(e,t){for(let r in t){let i=t[r];i=i.replace(/^DECIMAL\(\d+,\d+\)/g,"DECIMAL");let s=KSe[i],o=i.match(/(?<duckDBType>.*)\[\]$/);o&&o.groups&&(i=o.groups.duckDBType);let a=i.match(/^STRUCT\((?<fields>.*)\)$/);if(a&&a.groups){let c=this.stringToTypeMap(a.groups.fields),d={type:"struct",name:r,dialect:this.dialectName,structSource:{type:o?"nested":"inline"},structRelationship:{type:o?"nested":"inline",field:r,isArray:!1},fields:[]};this.fillStructDefFromTypeMap(d,c),e.fields.push(d)}else if(o){s=KSe[i];let c={type:"struct",name:r,dialect:this.dialectName,structSource:{type:"nested"},structRelationship:{type:"nested",field:r,isArray:!0},fields:[{type:s,name:"value"}]};e.fields.push(c)}else s!==void 0?e.fields.push({type:s,name:r}):e.fields.push({name:r,type:"string",e:[`'DuckDB type "${i}" not supported by Malloy'`]})}}async schemaFromQuery(e,t){let r={},i=await this.runRawSQL(e);for(let s of i.rows)r[s.column_name]=s.column_type;this.fillStructDefFromTypeMap(t,r)}async fetchSchemaForSQLBlocks(e){let t={},r={};for(let i of e)try{t[i.name]=await this.getSQLBlockSchema(i)}catch(s){r[i.name]=s}return{schemas:t,errors:r}}async fetchSchemaForTables(e){let t={},r={};for(let i of e)try{t[i]=await this.getTableSchema(i)}catch(s){r[i]=s.toString()}return{schemas:t,errors:r}}async getTableSchema(e){let{tablePath:t}=(0,A0t.parseTableURI)(e),r={type:"struct",name:t,dialect:"duckdb",structSource:{type:"table",tablePath:t},structRelationship:{type:"basetable",connectionName:this.name},fields:[]},s=`DESCRIBE SELECT * FROM ${t.match(/\//)?`'${t}'`:t}`;return await this.schemaFromQuery(s,r),r}canFetchSchemaAndRunSimultaneously(){return!1}canStream(){return!0}canFetchSchemaAndRunStreamSimultaneously(){return!1}async test(){await this.runRawSQL("SELECT 1")}async manifestTemporaryTable(e){let r=`tt${await this.createHash(e)}`,i=`CREATE TEMPORARY TABLE IF NOT EXISTS ${r} AS (${e});`;return await this.runRawSQL(i),r}};Rz.DuckDBCommon=hO;hO.DEFAULT_QUERY_OPTIONS={rowLimit:10}});var ewe=Ae(_x=>{"use strict";m();var T0t=_x&&_x.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),F0t=_x&&_x.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),D0t=_x&&_x.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&T0t(e,n,t);return F0t(e,n),e};Object.defineProperty(_x,"__esModule",{value:!0});_x.DuckDBWASMConnection=void 0;var Nz=D0t(_ye()),O0t=XP(),R0t=JSe(),Lz=n=>{if(n===null)return n;if(n instanceof O0t.Vector)return[...n].map(Lz);if(n instanceof Date)return n;if(typeof n=="bigint")return Number(n);if(typeof n=="object"){let e=n;if(e[Symbol.toPrimitive])return Number(e[Symbol.toPrimitive]());if(Array.isArray(n))return n.map(Lz);{let t={};for(let r in e)t[r]=Lz(e[r]);return t}}return n},XSe=n=>Lz(n.toJSON()),N0t=n=>n.toArray().map(XSe),ZSe=class extends R0t.DuckDBCommon{constructor(e,t="test/data/duckdb/duckdb_test.db",r="/",i){super(i);this.name=e,this.workingDirectory=r,this._connection=null,this._database=null,this.isSetup=!1,this.connecting=this.init()}async init(){let e=Nz.getJsDelivrBundles(),t=await Nz.selectBundle(e);if(t.mainWorker){let r=URL.createObjectURL(new Blob([`importScripts("${t.mainWorker}");`],{type:"text/javascript"})),i=new Worker(r),s=new Nz.ConsoleLogger;this._database=new Nz.AsyncDuckDB(s,i),await this._database.instantiate(t.mainModule,t.pthreadWorker),URL.revokeObjectURL(r),this._connection=await this._database.connect()}else throw new Error("Unable to instantiate duckdb-wasm")}get connection(){return this._connection}get database(){return this._database}async setup(){await this.connecting}async runDuckDBQuery(e){var t;let r=await((t=this.connection)===null||t===void 0?void 0:t.query(e));if((r==null?void 0:r.numRows)!=null)return{rows:N0t(r),totalRows:r.numRows};throw new Error("Boom")}async*runSQLStream(e,t={}){if(!this.connection)throw new Error("duckdb-wasm not connected");await this.setup();let r=e.split("-- hack: split on this");for(;r.length>1;)await this.runDuckDBQuery(r[0]),r.shift();for await(let i of await this.connection.send(r[0]))for(let s of i.toArray())yield XSe(s)}async createHash(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}};_x.DuckDBWASMConnection=ZSe});var Ewe=Ae((FAt,bwe)=>{"use strict";m();var M0t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";bwe.exports=M0t});var Awe=Ae((DAt,Cwe)=>{"use strict";m();var P0t=Ewe();function Swe(){}function wwe(){}wwe.resetWarningCache=Swe;Cwe.exports=function(){function n(r,i,s,o,a,c){if(c!==P0t){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wwe,resetWarningCache:Swe};return t.PropTypes=t,t}});var Fwe=Ae((NAt,Twe)=>{m();Twe.exports=Awe()();var OAt,RAt});var sCe={};RQ(sCe,{GlobalHotKeys:()=>wdt,HotKeys:()=>nCe,IgnoreKeys:()=>Adt,ObserveKeys:()=>Fdt,configure:()=>Rdt,getApplicationKeyMap:()=>Ndt,recordKeyCombination:()=>Ldt,withHotKeys:()=>tCe,withIgnoreKeys:()=>Ddt,withObserveKeys:()=>Odt});function qz(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qz=function(e){return typeof e}:qz=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qz(n)}function Ga(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Dwe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ya(n,e,t){return e&&Dwe(n.prototype,e),t&&Dwe(n,t),n}function _f(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Uz(){return Uz=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Uz.apply(this,arguments)}function y1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){_f(n,i,t[i])})}return n}function bx(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&_O(n,e)}function _c(n){return _c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_c(n)}function _O(n,e){return _O=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},_O(n,e)}function B0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function zz(n,e,t){return B0t()?zz=Reflect.construct:zz=function(i,s,o){var a=[null];a.push.apply(a,s);var c=Function.bind.apply(i,a),d=new c;return o&&_O(d,o.prototype),d},zz.apply(null,arguments)}function j0t(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function foe(n){var e=typeof Map=="function"?new Map:void 0;return foe=function(r){if(r===null||!j0t(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return zz(r,arguments,_c(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),_O(i,r)},foe(n)}function q0t(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function bO(n,e){if(n==null)return{};var t=q0t(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function Hc(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ex(n,e){return e&&(typeof e=="object"||typeof e=="function")?e:Hc(n)}function U0t(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&(n=_c(n),n!==null););return n}function oy(n,e,t){return typeof Reflect!="undefined"&&Reflect.get?oy=Reflect.get:oy=function(i,s,o){var a=U0t(i,s);if(!!a){var c=Object.getOwnPropertyDescriptor(a,s);return c.get?c.get.call(o):c.value}},oy(n,e,t||n)}function Ad(n){return z0t(n)||H0t(n)||$0t()}function z0t(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function H0t(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function $0t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Vw(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return n.reduce(function(t,r){return t[r]=e||{value:r},t},{})}function hoe(n){return Rwe[n]||[n.length===1?n.toUpperCase():n]}function v1(n,e){return n.hasOwnProperty(e)}function Hz(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(n).reduce(function(t,r){var i=n[r];return i.forEach(function(s){v1(t,s)||(t[s]=[]),t[s].push(r)}),e.includeOriginal&&(!v1(t,r)&&(t[r]=[]),t[r]=[].concat(Ad(t[r]),Ad(i))),t},{})}function $z(n){return V0t[n]||[n.length===1?n.toLowerCase():n]}function Lwe(n){return typeof n=="string"}function Q0t(n){return Lwe(n)?n.trim().replace(/\s+/g," "):n}function kwe(n){var e=n.toLowerCase();return G0t[e]||Y0t[e]||(n.match(/^f\d+$/)?n.toUpperCase():n)}function Mwe(n){return!!K0t[n]}function J0t(n){return Ka.option("_customKeyNamesDict")[n]}function Pwe(n){return Mwe(n)||String.fromCharCode(n.charCodeAt(0))===n||J0t(n)}function jwe(n){return n.sort().join("+")}function Uwe(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return n.replace(/^\+|(\s|[^+]\+)\+/,"$1plus").split("+").reduce(function(t,r){var i=kwe(r);if(e.ensureValidKeys&&!Pwe(i))throw new Bwe;return t[i]=!0,t},{})}function poe(n){return X0t[n]||[n]}function moe(n){return zwe[n]||[n]}function xoe(n){return Z0t[n]||$z(n)}function goe(n){return Hwe[n]||[n]}function edt(n){return Nwe[n]||[n]}function tdt(n){if(n.Shift)return n.Alt?[goe,xoe]:[hoe,$z];if(n.Alt)return[moe,poe];var e=function(t){return[t]};return[e,e]}function _1(n){return typeof n=="undefined"}function J5(n){return!Array.isArray(n)&&qz(n)==="object"&&n!==null}function SO(n){return J5(n)?Object.keys(n).length===0:!n||n.length===0}function Vwe(n){return J5(n)?Object.keys(n).length:n.length}function ndt(n){return Object.keys(n).reduce(function(e,t){return edt(t).forEach(function(r){tdt(n).forEach(function(i){i(r).forEach(function(s){(s!==t||t!==r)&&(e[s]=t)})})}),e},{})}function wO(n){return Array.isArray(n)?n:n?[n]:[]}function idt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=Vw(wO(e));return Array.isArray(n)?n.reduce(function(i,s){return r[s]&&(t.stringifyFirst||r[s].value===s)||i.push(s),i},[]):J5(n)?Object.keys(n).reduce(function(i,s){return r[s]||(i[s]=n[s]),i},{}):n}function odt(n,e){return[].concat(Ad(n.slice(0,e)),Ad(n.slice(e+1)))}function ldt(n,e){if(J5(n)){var t=n.sequence,r=n.action;return{keySequence:t,keyEventType:_1(r)?to[e.defaultKeyEvent]:to[r]}}return{keySequence:n,keyEventType:to[e.defaultKeyEvent]}}function Qwe(n,e){return n[n.length-(e+1)]}function Gwe(n){return n.length===1||v1(yoe,n)}function fdt(n,e){var t=Vwe(e.keyDictionary);return Ka.option("allowCombinationSubmatches")||ddt(n)?n.getNumberOfKeys()>=t:n.getNumberOfKeys()===t}function ddt(n){return!!n.isKeyStillPressed("Meta")&&n.some(function(e){return Gwe(e)})}function Gz(n,e,t){return t.forEach(function(r){v1(n,r)&&(e[r]=n[r])}),e}function Ywe(n){switch(parseInt(n,10)){case 0:return"keydown";case 1:return"keypress";default:return"keyup"}}function mdt(n){return!Mwe(n)}function K6(n){return n.simulated?ay.simulated:ay.seen}function xdt(n){var e,t=n.keyCode;return"charCode"in n?(e=n.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ydt(n){if(n.key){var e=gdt[n.key]||n.key;if(e!=="Unidentified")return e}if(n.type==="keypress"){var t=xdt(n);return t===13?"Enter":String.fromCharCode(t)}return n.type==="keydown"||n.type==="keyup"?Iwe[n.keyCode]||"Unidentified":""}function Ww(n){var e=function(){var t=Ka.option("customKeyCodes"),r=n.keyCode||n.charCode;return v1(t,r)?t[r]:n.nativeEvent?n.key:ydt(n)}();return e==="+"?"plus":e}function Yz(n){return n==="Meta"}function Kz(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return Array.isArray(n)||Lwe(n)?t.stringifyFirst?!_1(n.find(function(r){return r.toString()===e.toString()})):n.indexOf(e)!==-1:J5(n)?v1(n,e):t.stringifyFirst?n.toString()===e.toString():n===e}function Zwe(n){return n.replace(/\b\w/g,function(e){return e.toUpperCase()})}function bdt(n){return"".concat(Zwe(n.slice(0,3))).concat(Zwe(n.slice(3)))}function voe(n){return!_1(n)}function eCe(n,e){var t=e.deprecatedAPI,r=t.contextTypes,i=t.childContextTypes,s=e.newAPI.contextType;if(typeof Yf.default.createContext=="undefined")n.contextTypes=r,n.childContextTypes=i,n.prototype.getChildContext=function(){return this._childContext};else{var o=Yf.default.createContext(s);n.contextType=o,n.prototype._originalRender=n.prototype.render,n.prototype.render=function(){var a=this._originalRender();return a?Yf.default.createElement(o.Provider,{value:this._childContext},a):null}}return n}function tCe(n){function e(o,a){return y1({},i[o]||{},a[o]||{})}function t(o){return e("handlers",o)}function r(o){return e("keyMap",o)}var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=function(o){function a(c){var d;return Ga(this,a),d=Ex(this,_c(a).call(this,c)),d._handleFocus=d._handleFocus.bind(Hc(Hc(d))),d._handleBlur=d._handleBlur.bind(Hc(Hc(d))),d._handleKeyDown=d._handleKeyDown.bind(Hc(Hc(d))),d._handleKeyPress=d._handleKeyPress.bind(Hc(Hc(d))),d._handleKeyUp=d._handleKeyUp.bind(Hc(Hc(d))),d._componentIsFocused=d._componentIsFocused.bind(Hc(Hc(d))),d._id=k0.getInstance().registerKeyMap(c.keyMap),d._childContext={hotKeysParentId:d._id},d}return bx(a,o),Ya(a,[{key:"render",value:function(){var d=this.props,p=d.keyMap,E=d.handlers,w=d.allowChanges,N=d.root,R=bO(d,["keyMap","handlers","allowChanges","root"]),U={onFocus:this._wrapFunction("onFocus",this._handleFocus),onBlur:this._wrapFunction("onBlur",this._handleBlur),tabIndex:Ka.option("defaultTabIndex")};return this._shouldBindKeyListeners()&&(U.onKeyDown=this._handleKeyDown,U.onKeyPress=this._handleKeyPress,U.onKeyUp=this._handleKeyUp),Yf.default.createElement(n,Uz({hotKeys:U},R))}},{key:"_shouldBindKeyListeners",value:function(){var d=r(this.props);return!SO(d)||this.props.root||Ka.option("enableHardSequences")&&this._handlersIncludeHardSequences(d,t(this.props))}},{key:"_handlersIncludeHardSequences",value:function(d,p){return Object.keys(p).some(function(E){return!d[E]&&Vz.isValidKeySerialization(E)})}},{key:"_wrapFunction",value:function(d,p){var E=this;return typeof this.props[d]=="function"?function(w){E.props[d](w),p(w)}:p}},{key:"_focusTreeIdsPush",value:function(d){this._focusTreeIds||(this._focusTreeIds=[]),this._focusTreeIds.push(d)}},{key:"_focusTreeIdsShift",value:function(){this._focusTreeIds&&this._focusTreeIds.shift()}},{key:"_getFocusTreeId",value:function(){if(this._focusTreeIds)return this._focusTreeIds[0]}},{key:"componentDidUpdate",value:function(){var d=k0.getInstance();if(d.reregisterKeyMap(this._id,this.props.keyMap),this._componentIsFocused()&&(this.props.allowChanges||!Ka.option("ignoreKeymapAndHandlerChangesByDefault"))){var p=this.props,E=p.keyMap,w=p.handlers;d.updateEnabledHotKeys(this._getFocusTreeId(),this._id,E,w,this._getComponentOptions())}}},{key:"_componentIsFocused",value:function(){return this._focused===!0}},{key:"componentDidMount",value:function(){var d=k0.getInstance(),p=this.context.hotKeysParentId;d.registerComponentMount(this._id,p)}},{key:"_handleFocus",value:function(){if(this.props.onFocus){var d;(d=this.props).onFocus.apply(d,arguments)}var p=k0.getInstance().enableHotKeys(this._id,r(this.props),t(this.props),this._getComponentOptions());_1(p)||this._focusTreeIdsPush(p),this._focused=!0}},{key:"componentWillUnmount",value:function(){var d=k0.getInstance();d.deregisterKeyMap(this._id),d.registerComponentUnmount(),this._handleBlur()}},{key:"_handleBlur",value:function(){if(this.props.onBlur){var d;(d=this.props).onBlur.apply(d,arguments)}var p=k0.getInstance().disableHotKeys(this._getFocusTreeId(),this._id);p||this._focusTreeIdsShift(),this._focused=!1}},{key:"_handleKeyDown",value:function(d){var p=k0.getInstance().handleKeydown(d,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyPress",value:function(d){var p=k0.getInstance().handleKeyPress(d,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_handleKeyUp",value:function(d){var p=k0.getInstance().handleKeyUp(d,this._getFocusTreeId(),this._id,this._getEventOptions());p&&this._focusTreeIdsShift()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Ka.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Ka.option("ignoreEventsCondition")}}}]),a}(Yf.PureComponent);return _f(s,"propTypes",{keyMap:wu.default.object,handlers:wu.default.object,onFocus:wu.default.func,onBlur:wu.default.func,allowChanges:wu.default.bool,root:wu.default.bool}),eCe(s,{deprecatedAPI:{contextTypes:{hotKeysParentId:wu.default.number},childContextTypes:{hotKeysParentId:wu.default.number}},newAPI:{contextType:{hotKeysParentId:void 0}}})}function Jz(n){var e,t,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]},i=2<arguments.length?arguments[2]:void 0;return t=e=function(s){function o(a){var c;return Ga(this,o),c=Ex(this,_c(o).call(this,a)),c._handleKeyEvent=c._handleKeyEvent.bind(Hc(Hc(c))),c._reloadDictionaries=c._reloadDictionaries.bind(Hc(Hc(c))),c}return bx(o,s),Ya(o,[{key:"render",value:function(){var c=this.props,d=c.only,p=c.except,E=bO(c,["only","except"]),w={onKeyDown:this._handleKeyEvent,onKeyPress:this._handleKeyEvent,onKeyUp:this._handleKeyEvent,onFocus:this._reloadDictionaries};return Yf.default.createElement(n,Uz({hotKeys:w},E))}},{key:"_reloadDictionaries",value:function(){var c=this.props,d=c.only,p=c.except;this._onlyDict=iCe(d),this._exceptDict=iCe(p)}},{key:"_shouldIgnoreEvent",value:function(c){var d=c.key;return SO(this._onlyDict)?!!SO(this._exceptDict)||!v1(this._exceptDict,d):SO(this._exceptDict)?v1(this._onlyDict,d):v1(this._onlyDict,d)&&!v1(this._exceptDict,d)}},{key:"_handleKeyEvent",value:function(c){this._shouldIgnoreEvent(c)&&k0.getInstance()[i](c)}}]),o}(Yf.PureComponent),_f(e,"propTypes",{only:wu.default.oneOfType([wu.default.string,wu.default.arrayOf(wu.default.string)]),except:wu.default.oneOfType([wu.default.string,wu.default.arrayOf(wu.default.string)])}),_f(e,"defaultProps",r),t}function iCe(n){return wO(n).reduce(function(e,t){var r=kwe(t);if(!Pwe(r))throw new Bwe(t);return[goe,xoe,hoe,$z,moe,poe].forEach(function(i){e[i(r)]=!0}),e},{})}function Ddt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return Jz(n,e,"ignoreEvent")}function Odt(n){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{only:[],except:[]};return Jz(n,e,"observeIgnoredEvents")}function Rdt(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Ka.init(n)}function Ndt(){return k0.getInstance().getApplicationKeyMap()}function Ldt(n){var e=k0.getInstance();return e.addKeyCombinationListener(n)}var wu,Yf,Owe,EO,Ka,Am,to,doe,Rwe,V0t,W0t,Nwe,G0t,Y0t,Iwe,K0t,Bwe,qwe,zwe,X0t,Hwe,Z0t,Vz,$we,ay,K5,Wz,Wwe,rdt,sdt,adt,udt,yoe,Qz,cdt,hdt,pdt,Kwe,Jwe,Xwe,CO,gdt,Ju,vdt,_dt,Edt,k0,Sdt,nCe,rCe,wdt,Cdt,Adt,Tdt,Fdt,oCe=OQ(()=>{m();wu=xr(Fwe()),Yf=xr(Lr());Owe={logLevel:"warn",defaultKeyEvent:"keydown",defaultComponent:"div",defaultTabIndex:"-1",ignoreTags:["input","select","textarea"],enableHardSequences:!1,ignoreKeymapAndHandlerChangesByDefault:!0,ignoreEventsCondition:function(e){var t=e.target;if(t&&t.tagName){var r=t.tagName.toLowerCase();return Ka.option("_ignoreTagsDict")[r]||t.isContentEditable}return!1},ignoreRepeatedEventsWhenKeyHeldDown:!0,simulateMissingKeyPressEvents:!0,stopEventPropagationAfterHandling:!0,stopEventPropagationAfterIgnoring:!0,allowCombinationSubmatches:!1,customKeyCodes:{}},EO=y1({},Owe);EO._ignoreTagsDict=Vw(EO.ignoreTags,!0);Ka=function(){function n(){Ga(this,n)}return Ya(n,null,[{key:"init",value:function(t){var r=this,i=t.ignoreTags,s=t.customKeyCodes;i&&(t._ignoreTagsDict=Vw(t.ignoreTags)),s&&(t._customKeyNamesDict=Vw(Object.values(t.customKeyCodes))),["verbose","debug","info"].indexOf(t.logLevel)!==-1&&console.warn("React HotKeys: You have requested log level '".concat(t.logLevel,"' but for performance reasons, logging below severity level 'warning' is disabled in production. Please use the development build for complete logs.")),Object.keys(t).forEach(function(o){r.set(o,t[o])})}},{key:"set",value:function(t,r){EO[t]=r}},{key:"reset",value:function(t){EO[t]=Owe[t]}},{key:"option",value:function(t){return EO[t]}}]),n}(),Am=function(){function n(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"warn";if(Ga(this,n),_f(this,"verbose",this.noop),_f(this,"debug",this.noop),_f(this,"info",this.noop),_f(this,"warn",this.noop),_f(this,"error",this.noop),this.logLevel=this.constructor.levels[t],this.logLevel>=this.constructor.levels.error)this.error=console.error;else return;if(this.logLevel>=this.constructor.levels.warn)this.warn=console.warn;else return;["info","debug","verbose"].some(function(r){return!(e.logLevel>=e.constructor.levels[r])||(e[r]=console.log,!1)})}return Ya(n,[{key:"noop",value:function(){}}]),n}();_f(Am,"logIcons",["\u{1F4D5}","\u{1F4D7}","\u{1F4D8}","\u{1F4D9}"]),_f(Am,"componentIcons",["\u{1F53A}","\u2B50\uFE0F","\u{1F537}","\u{1F536}","\u2B1B\uFE0F"]),_f(Am,"eventIcons",["\u2764\uFE0F","\u{1F49A}","\u{1F499}","\u{1F49B}","\u{1F49C}","\u{1F9E1}"]),_f(Am,"levels",{none:0,error:1,warn:2,info:3,debug:4,verbose:5});to={keydown:0,keypress:1,keyup:2},doe={Shift:["shiftKey"],Meta:["metaKey"],Control:["ctrlKey"],Alt:["altKey"]},Rwe={"`":["~"],1:["!"],2:["@",'"'],3:["#","\xA3"],4:["$"],5:["%"],6:["^"],7:["&"],8:["*"],9:["("],0:[")"],"-":["_"],"=":["plus"],";":[":"],"'":['"',"@"],",":["<"],".":[">"],"/":["?"],"\\":["|"],"[":["{"],"]":["}"],"#":["~"]};V0t=Hz(Rwe);W0t={},Nwe=Hz(W0t,{includeOriginal:!0});G0t={tab:"Tab",capslock:"CapsLock",shift:"Shift",meta:"Meta",alt:"Alt",ctrl:"Control",space:" ",spacebar:" ",escape:"Escape",esc:"Escape",left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",return:"Enter",del:"Delete",command:"Meta",option:"Alt",enter:"Enter",backspace:"Backspace",ins:"Insert",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",contextmenu:"ContextMenu",numlock:"Clear"},Y0t={cmd:"Meta"};Iwe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K0t=Vw(Object.values(Iwe),!0);Bwe=function(n){function e(){var t,r;Ga(this,e);for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=Ex(this,(t=_c(e)).call.apply(t,[this].concat(s))),_f(Hc(Hc(r)),"name","InvalidKeyNameError"),r}return bx(e,n),e}(foe(Error));qwe=function(){function n(){Ga(this,n)}return Ya(n,null,[{key:"parse",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=Q0t(t),s=i.split(" ");try{var o=s.slice(0,s.length-1),a=s[s.length-1],c=o.map(function(w){var N=Uwe(w,r);return jwe(Object.keys(N))}).join(" "),d=Uwe(a,r),p=jwe(Object.keys(d)),E={id:p,keyDictionary:d,keyEventType:r.keyEventType,size:Object.keys(d).length};return{sequence:{prefix:c,size:o.length+1},combination:E}}catch{return{sequence:null,combination:null}}}}]),n}();zwe={"`":["`"],1:["\xA1"],2:["\u2122"],3:["\xA3"],4:["\xA2"],5:["\u221E"],6:["\xA7"],7:["\xB6"],8:["\u2022"],9:["\xAA"],0:["\xBA"],"-":["\u2013"],"=":["\u2260"],a:["\xE5"],b:["\u222B"],c:["\xE7"],d:["\u2202"],e:["\xB4"],f:["\u0192"],g:["\xA9"],h:["\u02D9"],i:["\u02C6"],j:["\u2206"],k:["\u02DA"],l:["\xAC"],m:["\xB5"],n:["\u02DC"],o:["\xF8"],p:["\u03C0"],q:["\u0153"],r:["\xAE"],s:["\xDF"],t:["\u2020"],u:["\xA8"],v:["\u221A"],w:["\u2211"],x:["\u2248"],y:["\xA5"],z:["\u03A9"],"[":["\u201C"],"]":["\u2018"],"\\":["\xAB"],"'":["\xE6"],";":["\u2026"],",":["\u2264"],".":["\u2265"],"/":["\xF7"]},X0t=Hz(zwe);Hwe={"`":["`"],1:["\u2044"],2:["\u20AC"],3:["\u2039"],4:["\u203A"],5:["\uFB01"],6:["\uFB02"],7:["\u2021"],8:["\xB0"],9:["\xB7"],0:["\u201A"],"-":["\u2014"],"=":["\xB1"],a:["\xC5"],b:["\u0131"],c:["\xC7"],d:["\xCE"],e:["\xB4"],f:["\xCF"],g:["\u02DD"],h:["\xD3"],i:["\u02C6"],j:["\xD4"],k:["\uF8FF"],l:["\xD2"],m:["\xC2"],n:["\u02DC"],o:["\xD8"],p:["\u03C0"],q:["\u0152"],r:["\u2030"],s:["\xCD"],t:["\xCE"],u:["\xA8"],v:["\u25CA"],w:["\u201E"],x:["\u02DB"],y:["\xC1"],z:["\xB8"],"[":["\u201D"],"]":["\u2019"],"\\":["\xBB"],"'":["\xC6"],";":["\xDA"],",":["\xAF"],".":["\u02D8"]},Z0t=Hz(Hwe);Vz=function(){function n(){Ga(this,n)}return Ya(n,null,[{key:"serialize",value:function(t){var r=t.Shift,i=t.Alt,s={},o=Object.keys(t).sort();return o.forEach(function(a){var c=[];if(r)if(i){var d=xoe(a),p=goe(a);c=[].concat(Ad(c),[a],Ad(d),Ad(p))}else{var E=$z(a),w=hoe(a);c=[].concat(Ad(c),[a],Ad(E),Ad(w))}else if(i){var N=poe(a),R=moe(a);c=[].concat(Ad(c),[a],Ad(N),Ad(R))}else{c.push(a);var U=Nwe[a];U&&(c=[].concat(Ad(c),Ad(U)))}var Q=Object.keys(s);0<Q.length?Q.forEach(function(P){c.forEach(function(j){s[P+"+".concat(j)]=y1({},s[P],_f({},j,!0))}),delete s[P]}):c.forEach(function(P){s[P]=_f({},P,!0)})}),Object.values(s).map(function(a){return Object.keys(a).sort().join("+")})}},{key:"isValidKeySerialization",value:function(t){return 0<t.length&&!!qwe.parse(t,{ensureValidKeys:!0}).combination}}]),n}(),$we={previous:0,current:1};ay={unseen:0,seen:1,simulated:2},K5=function(){function n(){Ga(this,n)}return Ya(n,null,[{key:"newRecord",value:function(t,r){var i=[ay.unseen,ay.unseen,ay.unseen];if(!_1(t))for(var s=0;s<=t;s++)i[s]=r;return i}},{key:"setBit",value:function(t,r,i){return t[r]=i,t}},{key:"clone",value:function(t){for(var r=this.newRecord(),i=0;i<t.length;i++)r[i]=t[i];return r}}]),n}();Wz=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Ga(this,n),this._keys=e,this._includesKeyUp=!1,this._update()}return Ya(n,[{key:"getIds",value:function(){return this._ids}},{key:"getKeyAliases",value:function(){return this._keyAliases}},{key:"getNormalizedKeyName",value:function(t){var r=this._keys[t];if(r)return t;var i=this._keyAliases[t];return i||t}},{key:"getNumberOfKeys",value:function(){return Vwe(this._keys)}},{key:"any",value:function(){return 0<Object.keys(this._getKeyStates()).length}},{key:"isEnding",value:function(){return this._includesKeyUp}},{key:"hasEnded",value:function(){return SO(this.keysStillPressedDict())}},{key:"addKey",value:function(t,r){this._setKeyState(t,[K5.newRecord(),K5.newRecord(to.keydown,r)])}},{key:"setKeyState",value:function(t,r,i){var s=this._getKeyState(t);if(this.isKeyIncluded(t)){var o=K5.clone(s[1]),a=K5.clone(o);K5.setBit(a,r,i),this._setKeyState(t,[o,a])}else this.addKey(t,i);r===to.keyup&&(this._includesKeyUp=!0)}},{key:"forEachKey",value:function(t){return Object.keys(this._keys).forEach(t)}},{key:"some",value:function(t){return Object.keys(this._keys).some(t)}},{key:"getKeyDictionary",value:function(){return Vw(Object.keys(this._getKeyStates()),!0)}},{key:"keysStillPressedDict",value:function(){var t=this;return Object.keys(this._keys).reduce(function(r,i){return t.isKeyStillPressed(i)&&(r[i]=t._getKeyState(i)),r},{})}},{key:"isKeyIncluded",value:function(t){return!!this._getKeyState(t)}},{key:"isKeyStillPressed",value:function(t){return this.isEventTriggered(t,to.keypress)&&!this.isKeyReleased(t)}},{key:"isKeyReleased",value:function(t){return this.isEventTriggered(t,to.keyup)}},{key:"isEventTriggered",value:function(t,r){return this._getKeyStateType(t,$we.current,r)}},{key:"wasEventPreviouslyTriggered",value:function(t,r){return this._getKeyStateType(t,$we.previous,r)}},{key:"isKeyPressSimulated",value:function(t){return this._isKeyEventSimulated(t,to.keypress)}},{key:"isKeyUpSimulated",value:function(t){return this._isKeyEventSimulated(t,to.keyup)}},{key:"describe",value:function(){return this.getIds()[0]}},{key:"toJSON",value:function(){return{keys:this._getKeyStates(),ids:this.getIds(),keyAliases:this.getKeyAliases()}}},{key:"_getKeyStateType",value:function(t,r,i){var s=this._getKeyState(t);return s&&s[r][i]}},{key:"_update",value:function(){this._ids=Vz.serialize(this._keys),this._keyAliases=ndt(this._keys)}},{key:"_isKeyEventSimulated",value:function(t,r){return this.isEventTriggered(t,r)===ay.simulated}},{key:"_getKeyStates",value:function(){return this._keys}},{key:"_getKeyState",value:function(t){var r=this._keys[t];if(r)return r;var i=this._keyAliases[t];if(i)return this._keys[i]}},{key:"_setKeyState",value:function(t,r){var i=this.getNormalizedKeyName(t);this._keys[i]=r,this._update()}}]),n}();Wwe=function(){function n(e){var t=e.maxLength,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;Ga(this,n),this._records=[],this._maxLength=t,r?this._push(r):this._push(new Wz)}return Ya(n,[{key:"getMostRecentCombinations",value:function(t){return this._records.slice(-t,-1)}},{key:"any",value:function(){return this._records.some(function(t){return t.any()})}},{key:"getLength",value:function(){return this._records.length}},{key:"getCurrentCombination",value:function(){return this._records[this.getLength()-1]}},{key:"addKeyToCurrentCombination",value:function(t,r,i){this._ensureInitialKeyCombination(),this.getCurrentCombination().setKeyState(t,r,i)}},{key:"setMaxLength",value:function(t){this._maxLength=t,this._trimHistory()}},{key:"startNewKeyCombination",value:function(t,r){this._ensureInitialKeyCombination();var i=new Wz(this.getCurrentCombination().keysStillPressedDict());i.addKey(t,r),this._push(i)}},{key:"toJSON",value:function(){return this._records.map(function(t){return t.toJSON()})}},{key:"_ensureInitialKeyCombination",value:function(){this.getLength()===0&&this._push(new Wz)}},{key:"_push",value:function(t){this._trimHistory(),this._records.push(t)}},{key:"_trimHistory",value:function(){for(;this.getLength()>this._maxLength;)this._shift()}},{key:"_shift",value:function(){this._records.shift()}}]),n}(),rdt=function(){function n(){Ga(this,n),this._registry={}}return Ya(n,[{key:"get",value:function(t){return this._registry[t]}},{key:"set",value:function(t,r){this._registry[t]=r}},{key:"remove",value:function(t){delete this._registry[t]}},{key:"toJSON",value:function(){return this._registry}}]),n}();sdt=function(n){function e(){return Ga(this,e),Ex(this,_c(e).apply(this,arguments))}return bx(e,n),Ya(e,[{key:"add",value:function(r,i){oy(_c(e.prototype),"set",this).call(this,r,{childIds:[],parentId:null,keyMap:i})}},{key:"update",value:function(r,i){var s=oy(_c(e.prototype),"get",this).call(this,r);oy(_c(e.prototype),"set",this).call(this,r,y1({},s,{keyMap:i}))}},{key:"setParent",value:function(r,i){this.get(r).parentId=i,this._addChildId(i,r)}},{key:"remove",value:function(r){var i=this._getParentId(r);this._removeChildId(i,r),oy(_c(e.prototype),"remove",this).call(this,r)}},{key:"_getParentId",value:function(r){var i=this.get(r);return i&&i.parentId}},{key:"_addChildId",value:function(r,i){this.get(r).childIds.push(i)}},{key:"_removeChildId",value:function(r,i){var s=this.get(r);s&&(s.childIds=idt(s.childIds,i))}}]),e}(rdt);adt=function(){function n(e){Ga(this,n),this._list=e,this._position=-1}return Ya(n,[{key:"getPosition",value:function(){return this._position}},{key:"getComponent",value:function(){return this._list.getAtPosition(this.getPosition())}},{key:"next",value:function(){return this.getPosition()+1<this._list.getLength()?(this._position++,this.getComponent()):null}}]),n}(),udt=function(){function n(){Ga(this,n),this._list=[],this._idToIndex={},this._longestSequence=1,this._longestSequenceComponentId=null,this._keyMapEventRecord=K5.newRecord()}return Ya(n,[{key:"getNewIterator",value:function(){return new adt(this)}},{key:"add",value:function(t,r,i,s){if(this.containsId(t))return this.update(t,r,i,s);var o=this._build(t,r,i,s);this._list.push(o);var a=this._getLastIndex();return this._idToIndex[t]=a}},{key:"containsId",value:function(t){return!!this.get(t)}},{key:"get",value:function(t){return this.getAtPosition(this.getIndexById(t))}},{key:"getIndexById",value:function(t){return this._idToIndex[t]}},{key:"update",value:function(t,r,i,s){var o=this._isUpdatingComponentWithLongestSequence(t),a=this.getLongestSequence(),c=this._build(t,r,i,s);o&&c.sequenceLength!==a&&(c.sequenceLength>a?this._longestSequence=c.sequenceLength:this._recalculateLongestSequence()),this._list[this.getIndexById(t)]=c}},{key:"remove",value:function(t){var r=this._isUpdatingComponentWithLongestSequence(t);this.removeAtPosition(this.getIndexById(t)),r&&this._recalculateLongestSequence()}},{key:"any",value:function(){return this.getLength()!==0}},{key:"isRoot",value:function(t){return this.getIndexById(t)>=this.getLength()-1}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"anyActionsForEventType",value:function(t){return!!this._keyMapEventRecord[t]}},{key:"getLength",value:function(){return this._list.length}},{key:"getAtPosition",value:function(t){return this._list[t]}},{key:"removeAtPosition",value:function(t){this._list=odt(this._list,t);for(var r=t;r<this.getLength();)this._idToIndex[this.getAtPosition(r).componentId]=r,r++}},{key:"toJSON",value:function(){return this._list}},{key:"_getLastIndex",value:function(){return this.getLength()-1}},{key:"_build",value:function(t,r,i,s){var o=this._applyHardSequences(r,i),a=o.keyMap,c=o.handlers,d=this._buildActionDictionary(y1({},r,a),s,t);return{actions:d,handlers:c,componentId:t,options:s}}},{key:"_isUpdatingComponentWithLongestSequence",value:function(t){return t===this._getLongestSequenceComponentId()}},{key:"_getLongestSequenceComponentId",value:function(){return this._longestSequenceComponentId}},{key:"_recalculateLongestSequence",value:function(){for(var t=this.getNewIterator();t.next();){var r=t.getComponent(),i=r.longestSequence,s=r.componentId;i>this.getLongestSequence()&&(this._longestSequenceComponentId=s,this._longestSequence=i)}}},{key:"_applyHardSequences",value:function(t,r){return Ka.option("enableHardSequences")?Object.keys(r).reduce(function(i,s){var o=!!t[s];return!o&&Vz.isValidKeySerialization(s)&&(i.keyMap[s]=s),i.handlers[s]=r[s],i},{keyMap:{},handlers:{}}):{keyMap:t,handlers:r}}},{key:"_buildActionDictionary",value:function(t,r,i){var s=this;return Object.keys(t).reduce(function(o,a){var c=t[a],d=function(){return J5(c)&&v1(c,"sequences")?wO(c.sequences):wO(c)}();return d.forEach(function(p){var E=ldt(p,r),w=E.keySequence,N=E.keyEventType;s._addActionOptions(o,i,a,w,N)}),o},{})}},{key:"_addActionOptions",value:function(t,r,i,s,o){var a=qwe.parse(s,{keyEventType:o}),c=a.sequence,d=a.combination;c.size>this.getLongestSequence()&&(this._longestSequence=c.size,this._longestSequenceComponentId=r),this._keyMapEventRecord[o]=ay.seen,t[i]||(t[i]=[]),t[i].push(y1({prefix:c.prefix,actionName:i,sequenceLength:c.size},d))}}]),n}();for(yoe={Enter:!0,Backspace:!0,ArrowRight:!0,ArrowLeft:!0,ArrowUp:!0,ArrowDown:!0,CapsLock:!0},Qz=1;13>Qz;Qz++)yoe["F".concat(Qz)]=!0;cdt=function(){function n(){Ga(this,n),this._actionConfigs={},this._order=null}return Ya(n,[{key:"addMatch",value:function(t,r){if(this._includesMatcherForCombination(t.id)){var i=t.keyEventType,s=t.actionName,o=t.id;this._addHandlerToActionConfig(o,{keyEventType:i,actionName:s,handler:r})}else this._addNewActionConfig(t,r)}},{key:"findMatch",value:function(t,r,i){this._order||this._setOrder();var s=!0,o=!1,a=void 0;try{for(var c,d=this._order[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value,E=this._actionConfigs[p];if(this._matchesActionConfig(t,r,i,E))return E}}catch(w){o=!0,a=w}finally{try{s||d.return==null||d.return()}finally{if(o)throw a}}return null}},{key:"toJSON",value:function(){return{actionConfigs:this._actionConfigs,order:this._order}}},{key:"_matchesActionConfig",value:function(t,r,i,s){if(!fdt(t,s))return!1;var o=s.events[i];if(!o)return!1;var a=!1,c=Object.keys(s.keyDictionary).every(function(d){return!!t.isEventTriggered(d,i)&&(r&&r===t.getNormalizedKeyName(d)&&(a=!t.wasEventPreviouslyTriggered(d,i)),!0)});return c&&a}},{key:"_setOrder",value:function(){var t=Object.values(this._actionConfigs).reduce(function(r,i){var s=i.id,o=i.size;return r[o]||(r[o]=[]),r[o].push(s),r},{});this._order=Object.keys(t).sort(function(r,i){return i-r}).reduce(function(r,i){return r.concat(t[i])},[])}},{key:"_addNewActionConfig",value:function(t,r){var i=t.prefix,s=t.sequenceLength,o=t.id,a=t.keyDictionary,c=t.size,d=t.keyEventType,p=t.actionName;this._setCombinationMatcher(o,{prefix:i,sequenceLength:s,id:o,keyDictionary:a,size:c,events:{}}),this._addHandlerToActionConfig(o,{keyEventType:d,actionName:p,handler:r})}},{key:"_addHandlerToActionConfig",value:function(t,r){var i=r.keyEventType,s=r.actionName,o=r.handler,a=this._getCombinationMatcher(t);this._setCombinationMatcher(t,y1({},a,{events:y1({},a.events,_f({},i,{actionName:s,handler:o}))}))}},{key:"_setCombinationMatcher",value:function(t,r){this._actionConfigs[t]=r}},{key:"_getCombinationMatcher",value:function(t){return this._actionConfigs[t]}},{key:"_includesMatcherForCombination",value:function(t){return!!this._getCombinationMatcher(t)}}]),n}();hdt=function(){function n(){Ga(this,n),this._combinationMatchers={},this._eventRecord=K5.newRecord()}return Ya(n,[{key:"addMatch",value:function(t,r){var i=this._getOrCreateCombinationMatcher(t.prefix);i.addMatch(t,r),K5.setBit(this._eventRecord,t.keyEventType,ay.seen),(!this._longestSequence||this._longestSequence<t.sequenceLength)&&(this._longestSequence=t.sequenceLength)}},{key:"findMatch",value:function(t,r,i){var s=this._findCombinationMatcher(t);return s?s.findMatch(t.getCurrentCombination(),t.getCurrentCombination().getNormalizedKeyName(r),i):null}},{key:"hasMatchesForEventType",value:function(t){return!!this._eventRecord[t]}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"toJSON",value:function(){var t=this;return Object.keys(this._combinationMatchers).reduce(function(r,i){var s=t._combinationMatchers[i];return r[i]=s.toJSON(),r},{})}},{key:"_getOrCreateCombinationMatcher",value:function(t){return this._combinationMatchers[t]||(this._combinationMatchers[t]=new cdt),this._combinationMatchers[t]}},{key:"_findCombinationMatcher",value:function(t){var r=t.getMostRecentCombinations(this.getLongestSequence());if(r.length===0)return this._combinationMatchers[""];for(var i=r.map(function(R){return R.getIds()}),s=i.map(function(R){return R.length}),o=Array(i.length).fill(0),a=!1;!a;){var c=o.map(function(R,U){return i[U][R]}),d=c.join(" ");if(this._combinationMatchers[d])return this._combinationMatchers[d];for(var p=0,E=!0;E&&p<o.length;){var w=Qwe(o,p),N=(w+1)%(Qwe(s,p)||1);o[o.length-(p+1)]=N,E=N==0,E&&p++}a=p===o.length}}}]),n}(),pdt=function(){function n(e){Ga(this,n),this._keyMapMatchers=[],this._unmatchedHandlerStatus=[],this._handlersDictionary={},this._keySequencesDictionary={};for(var t=e.getNewIterator();t.next();){var r=t.getComponent(),i=r.handlers;this._unmatchedHandlerStatus.push([Object.keys(i).length,{}]),this._keyMapMatchers.push(new hdt)}this._componentList=e,this._componentListIterator=e.getNewIterator()}return Ya(n,[{key:"getKeyHistoryMatcher",value:function(t){if(this._componentHasUnmatchedHandlers(t))for(;this._componentListIterator.next();)this._addHandlersFromComponent(),this._addActionsFromComponent();return this._getKeyHistoryMatcher(t)}},{key:"componentHasActionsBoundToEventType",value:function(t,r){return this.getKeyHistoryMatcher(t).hasMatchesForEventType(r)}},{key:"findMatchingKeySequenceInComponent",value:function(t,r,i,s){return this.componentHasActionsBoundToEventType(t,s)?this.getKeyHistoryMatcher(t).findMatch(r,i,s):null}},{key:"_getKeyHistoryMatcher",value:function(t){return this._keyMapMatchers[t]}},{key:"_addActionsFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.actions;Object.keys(i).forEach(function(s){var o=t._getHandlers(s);if(o){var a=o[0],c=t._componentList.getAtPosition(a).handlers[s],d=t._getKeyHistoryMatcher(a),p=i[s];p.forEach(function(E){var w=[E.prefix,E.id].join(" ");t._isClosestHandlerFound(w,E)||(d.addMatch(E,c),t._addKeySequence(w,[a,E.keyEventType]))}),o.forEach(function(E){var w=t._getUnmatchedHandlerStatus(E);w[1][s]||(w[1][s]=!0,w[0]--)})}})}},{key:"_getHandlers",value:function(t){return this._handlersDictionary[t]}},{key:"_addHandlersFromComponent",value:function(){var t=this,r=this._componentListIterator.getComponent(),i=r.handlers;Object.keys(i).forEach(function(s){t._addHandler(s)})}},{key:"_addHandler",value:function(t){this._handlersDictionary[t]||(this._handlersDictionary[t]=[]),this._handlersDictionary[t].push(this._componentListIterator.getPosition())}},{key:"_addKeySequence",value:function(t,r){this._keySequencesDictionary[t]||(this._keySequencesDictionary[t]=[]),this._keySequencesDictionary[t].push(r)}},{key:"_componentHasUnmatchedHandlers",value:function(t){return 0<this._getUnmatchedHandlerStatus(t)[0]}},{key:"_getUnmatchedHandlerStatus",value:function(t){return this._unmatchedHandlerStatus[t]}},{key:"_isClosestHandlerFound",value:function(t,r){return this._keySequencesDictionary[t]&&this._keySequencesDictionary[t].some(function(i){return i[1]===r.keyEventType})}}]),n}();Kwe=["sequence","action"],Jwe=["name","description","group"],Xwe=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;Ga(this,n),this.logger=e.logger||new Am("warn"),this.componentId=-1,this.keyEventManager=t,this._componentTree=new sdt,this.rootComponentId=null,this._reset(),this.resetKeyHistory()}return Ya(n,[{key:"_reset",value:function(){this.componentList=new udt,this._initHandlerResolutionState()}},{key:"_newKeyHistory",value:function(){return new Wwe({maxLength:this.componentList.getLongestSequence()})}},{key:"getKeyHistory",value:function(){return this._keyHistory?this._keyHistory:(this._keyHistory=this._newKeyHistory(),this._keyHistory)}},{key:"_initHandlerResolutionState",value:function(){this._actionResolver=null}},{key:"resetKeyHistory",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this.keypressEventsToSimulate=[],this.keyupEventsToSimulate=[],this._keyHistory=this.getKeyHistory().any()&&!t.force?new Wwe({maxLength:this.componentList.getLongestSequence()},new Wz(this.getCurrentCombination().keysStillPressedDict())):this._newKeyHistory()}},{key:"getApplicationKeyMap",value:function(){return this.rootComponentId===null?{}:this._buildApplicationKeyMap([this.rootComponentId],{})}},{key:"_buildApplicationKeyMap",value:function(t,r){var i=this;return t.forEach(function(s){var o=i._componentTree.get(s),a=o.childIds,c=o.keyMap;c&&Object.keys(c).forEach(function(d){var p=c[d];r[d]={},J5(p)?v1(p,"sequences")?(Gz(p,r[d],Jwe),r[d].sequences=i._createSequenceFromConfig(p.sequences)):(Gz(p,r[d],Jwe),r[d].sequences=[Gz(p,{},Kwe)]):r[d].sequences=i._createSequenceFromConfig(p)}),i._buildApplicationKeyMap(a,r)}),r}},{key:"_createSequenceFromConfig",value:function(t){return wO(t).map(function(r){return J5(r)?Gz(r,{},Kwe):{sequence:r}})}},{key:"registerKeyMap",value:function(t){return this.componentId+=1,this._componentTree.add(this.componentId,t),this.componentId}},{key:"reregisterKeyMap",value:function(t,r){this._componentTree.update(t,r)}},{key:"registerComponentMount",value:function(t,r){_1(r)?this.rootComponentId=t:this._componentTree.setParent(t,r)}},{key:"deregisterKeyMap",value:function(t){this._componentTree.remove(t),t===this.rootComponentId&&(this.rootComponentId=null)}},{key:"_addComponent",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;this.componentList.add(t,r,i,s),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence())}},{key:"_allKeysAreReleased",value:function(){return this.getCurrentCombination().hasEnded()}},{key:"getCurrentCombination",value:function(){return this.getKeyHistory().getCurrentCombination()}},{key:"_shouldSimulate",value:function(t,r){var i=mdt(r),s=this.getCurrentCombination();return t===to.keypress?!i||i&&s.isKeyStillPressed("Meta"):t===to.keyup&&Gwe(r)&&s.isKeyReleased("Meta")}},{key:"_cloneAndMergeEvent",value:function(t,r){var i=Object.keys(doe).reduce(function(s,o){return s[o]=t[o],s},{});return y1({},i,r)}},{key:"_callClosestMatchingHandler",value:function(t,r,i,s,o){for(this._actionResolver||(this._actionResolver=new pdt(this.componentList));o<=s;){var a=this._actionResolver.getKeyHistoryMatcher(o),c=this._actionResolver.findMatchingKeySequenceInComponent(o,this.getKeyHistory(),r,i),d=this.getCurrentCombination();if(c){var p=c.events[i];if(Ka.option("allowCombinationSubmatches"))var E=Vz.serialize(c.keyDictionary);return p.handler(t),this._stopEventPropagationAfterHandlingIfEnabled(t,o),!0}this._actionResolver.componentHasActionsBoundToEventType(o,i),o++}}},{key:"_stopEventPropagationAfterHandlingIfEnabled",value:function(t,r){return!!Ka.option("stopEventPropagationAfterHandling")&&(this._stopEventPropagation(t,r),!0)}},{key:"_stopEventPropagation",value:function(){throw new Error("_stopEventPropagation must be overridden by a subclass")}},{key:"_checkForModifierFlagDiscrepancies",value:function(t,r,i){var s=this;Object.keys(doe).forEach(function(o){if(r!==o||i!==to.keyup){var a=s.getCurrentCombination(),c=a.isKeyStillPressed(o);doe[o].forEach(function(d){t[d]===!1&&c&&a.setKeyState(o,to.keyup,K6(t))})}})}},{key:"_logPrefix",value:function(){}}]),n}(),CO=function(){function n(){Ga(this,n)}return Ya(n,null,[{key:"getId",value:function(){return _1(this._id)&&(this._id=0),this._id}},{key:"incrementId",value:function(){this._id=this.getId()+1}}]),n}();gdt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};Ju={unseen:0,ignored:1,seen:2,recorded:3,handled:4},vdt=function(){function n(e,t){var r=t.logger,i=t.logPrefix;Ga(this,n),this._componentList=e,this._previousPropagation=null,this.logger=r,this._logPrefix=i,this._reset()}return Ya(n,[{key:"_reset",value:function(){this._previousPosition=-1,this._position=-1,this._actionHandled=!1,this._ignoreEvent=!1,this._observeIgnoredEvents=!1,this._stopping=!1,this._componentId=null,this._key=null,this._type=null}},{key:"isFirstPropagationStep",value:function(){var t=this.getPreviousPosition();return t===-1||t>=this._position}},{key:"isForKey",value:function(t){return this._key===t}},{key:"isForEventType",value:function(t){return this._type===t}},{key:"startNewPropagationStep",value:function(t,r,i,s){return this._position=this._componentList.getIndexById(t),this._componentId=t,this.isFirstPropagationStep()&&(CO.incrementId(),this._key=r.key,this._type=s),!(r.repeat&&Ka.option("ignoreRepeatedEventsWhenKeyHeldDown"))||(this.ignoreEvent(r),!1)}},{key:"finishPropagationStep",value:function(){this.isStopped()||this._componentList.isRoot(this._componentId)?(this._previousPropagation=this._clone(),this._reset()):this._previousPosition=this._position}},{key:"getPreviousPropagation",value:function(){return this._previousPropagation||(this._previousPropagation=this._clone({copyState:!1})),this._previousPropagation}},{key:"getPreviousPosition",value:function(){return this._previousPosition}},{key:"observeIgnoredEvents",value:function(){this._observeIgnoredEvents=!0}},{key:"ignoreEvent",value:function(t){return this.setIgnoreEvent(!0),!!(this.isIgnoringEvent()&&Ka.option("stopEventPropagationAfterIgnoring"))&&(this.stop(t),this.finishPropagationStep(),!0)}},{key:"setIgnoreEvent",value:function(t){this._ignoreEvent=t}},{key:"isIgnoringEvent",value:function(){return!this._observeIgnoredEvents&&this._ignoreEvent}},{key:"isStopped",value:function(){return this._stopping}},{key:"stop",value:function(t){return!this.isStopped()&&(this._stopping=!0,t.simulated||t.stopPropagation(),!0)}},{key:"isPendingPropagation",value:function(){var t=this.getPreviousPosition();return t!==-1&&t+1<this._position}},{key:"isHandled",value:function(){return this._actionHandled}},{key:"setHandled",value:function(){this._actionHandled=!0}},{key:"_clone",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},r=t.copyState,i=new n(this._componentList,{logger:this.logger,logPrefix:this._logPrefix});return(r===void 0||r)&&Object.assign(i,this),i}}]),n}(),_dt=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return Ga(this,e),t=Ex(this,_c(e).call(this,r,i)),t.focusTreeId=0,t}return bx(e,n),Ya(e,[{key:"_reset",value:function(){oy(_c(e.prototype),"_reset",this).call(this),this.keypressEventsToSimulate=[],this.focusTreeId+=1,this.eventPropagator=new vdt(this.componentList,{logger:this.logger,logPrefix:this._logPrefix.bind(this)})}},{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0;if(this.resetOnNextFocus&&(this._reset(),this.resetOnNextFocus=!1),!this.componentList.containsId(r))return this._addComponent(r,i,s,o),this.focusTreeId}},{key:"updateEnabledHotKeys",value:function(r,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=4<arguments.length?arguments[4]:void 0;r===this.focusTreeId&&this.componentList.containsId(i)&&(this.componentList.update(i,s,o,a),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._initHandlerResolutionState())}},{key:"disableHotKeys",value:function(r,i){this.resetOnNextFocus||(this.resetOnNextFocus=!0);var s=this.eventPropagator.isPendingPropagation();return s}},{key:"handleKeydown",value:function(r,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},a=Ww(r);if(i!==this.focusTreeId)return this.eventPropagator.ignoreEvent(r),!0;var c=this.eventPropagator.startNewPropagationStep(s,r,a,to.keydown);if(c){var d=this._howToHandleKeyEvent(r,i,s,a,o,to.keydown);if(d===Ju.handled){var p=K6(r),E=this.getCurrentCombination();E.isKeyIncluded(a)||E.isEnding()?this._startAndLogNewKeyCombination(a,i,s,p):this._addToAndLogCurrentKeyCombination(a,to.keydown,i,s,p),this._callHandlerIfActionNotHandled(r,a,to.keydown,s,i)}return this._simulateKeyPressForNonPrintableKeys(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),!1}}},{key:"_howToHandleKeyEvent",value:function(r,i,s,o,a,c){if(this.eventPropagator.isFirstPropagationStep()){if(a.ignoreEventsCondition(r)&&this.eventPropagator.ignoreEvent(r))return this._eventIsToBeIgnored(r,s,o,c);this._checkForModifierFlagDiscrepancies(r,o,c)}else if(this.eventPropagator.isIgnoringEvent())return this._eventIsToBeIgnored(r,s,o,c);return Ju.handled}},{key:"_eventIsToBeIgnored",value:function(r,i,s,o){return Ju.ignored}},{key:"handleKeyPress",value:function(r,i,s,o){var a=Ww(r),c=this.getCurrentCombination();if(c.isKeyPressSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var d=this.eventPropagator.startNewPropagationStep(s,r,a,to.keypress);if(d){var p=i!==this.focusTreeId,E=this._howToHandleKeyEvent(r,i,s,a,o,to.keypress);return this.eventPropagator.isFirstPropagationStep(s)&&c.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,to.keypress,i,s,K6(r)),E===Ju.handled&&this._callHandlerIfActionNotHandled(r,a,to.keypress,s,i),this.eventPropagator.finishPropagationStep(),p}}},{key:"handleKeyUp",value:function(r,i,s,o){var a=Ww(r),c=this.getCurrentCombination();if(c.isKeyUpSimulated(a))return this.eventPropagator.ignoreEvent(r),!0;var d=this.eventPropagator.startNewPropagationStep(s,r,a,to.keyup);if(d){var p=i!==this.focusTreeId,E=this._howToHandleKeyEvent(r,i,s,a,o,to.keyup);return this.eventPropagator.isFirstPropagationStep(s)&&c.isKeyIncluded(a)&&this._addToAndLogCurrentKeyCombination(a,to.keyup,i,s,K6(r)),E===Ju.handled&&this._callHandlerIfActionNotHandled(r,a,to.keyup,s,i),this._simulateKeyUpEventsHiddenByCmd(r,a,i,s,o),this.eventPropagator.finishPropagationStep(),p}}},{key:"closeHangingKeyCombination",value:function(r,i){var s=this.getCurrentCombination();s.isKeyIncluded(r)&&!s.isEventTriggered(r,i)&&s.setKeyState(r,i,ay.simulated)}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i,s,o,a){this._handleEventSimulation("keypressEventsToSimulate","simulatePendingKeyPressEvents",this._shouldSimulate(to.keypress,i),{event:r,key:i,focusTreeId:s,componentId:o,options:a})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i,s,o,a){var c=this;Yz(i)&&this.getCurrentCombination().forEachKey(function(d){Yz(d)||c._handleEventSimulation("keyupEventsToSimulate","simulatePendingKeyUpEvents",c._shouldSimulate(to.keyup,d),{event:r,key:d,focusTreeId:s,componentId:o,options:a})})}},{key:"_stopEventPropagation",value:function(r,i){this.eventPropagator.stop(r)}},{key:"getEventPropagator",value:function(){return this.eventPropagator}},{key:"_startAndLogNewKeyCombination",value:function(r,i,s,o){this.getKeyHistory().startNewKeyCombination(r,o)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s,o,a){this.getKeyHistory().addKeyToCurrentCombination(r,i,a)}},{key:"_handleEventSimulation",value:function(r,i,s,o){var a=o.event,c=o.key,d=o.focusTreeId,p=o.componentId,E=o.options;if(s&&Ka.option("simulateMissingKeyPressEvents")){var w=this._cloneAndMergeEvent(a,{key:c,simulated:!0});this[r].push({event:w,focusTreeId:d,componentId:p,options:E})}(this.componentList.isRoot(p)||this.eventPropagator.isStopped())&&!this.keyEventManager.isGlobalListenersBound()&&this[i]()}},{key:"simulatePendingKeyPressEvents",value:function(){this._simulatePendingKeyEvents("keypressEventsToSimulate","handleKeyPress")}},{key:"simulatePendingKeyUpEvents",value:function(){this._simulatePendingKeyEvents("keyupEventsToSimulate","handleKeyUp")}},{key:"_simulatePendingKeyEvents",value:function(r,i){var s=this;0<this[r].length&&CO.incrementId(),this[r].forEach(function(o){var a=o.event,c=o.focusTreeId,d=o.componentId,p=o.options;s[i](a,c,d,p)}),this[r]=[]}},{key:"_callHandlerIfActionNotHandled",value:function(r,i,s,o,a){var c=this.getCurrentCombination().describe();if(!!this.componentList.anyActionsForEventType(s)&&!this.eventPropagator.isHandled()){var d=this.eventPropagator.getPreviousPosition(),p=this.componentList.getIndexById(o),E=this._callClosestMatchingHandler(r,i,s,p,d===-1?0:d);E&&this.eventPropagator.setHandled()}}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=Am.logIcons,o=Am.eventIcons,a=Am.componentIcons,c="HotKeys (";if(i.focusTreeId!==!1){var d=_1(i.focusTreeId)?this.focusTreeId:i.focusTreeId;c+="F".concat(d).concat(s[d%s.length],"-")}if(i.eventId!==!1){var p=_1(i.eventId)?CO.getId():i.eventId;c+="E".concat(p).concat(o[p%o.length],"-")}c+="C".concat(r).concat(a[r%a.length]);var E=this.componentList.getIndexById(r);return _1(E)||(c+="-P".concat(E).concat(a[E%a.length],":")),"".concat(c,")")}}]),e}(Xwe);Edt=function(n){function e(){var t,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;return Ga(this,e),t=Ex(this,_c(e).call(this,r,i)),t.listenersBound=!1,t.eventOptions={ignoreEventsCondition:Ka.option("ignoreEventsCondition")},t.listeners={},t}return bx(e,n),Ya(e,[{key:"enableHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this._addComponent(r,i,s,o),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"updateEnabledHotKeys",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},o=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0;this.eventOptions=a,this.componentList.update(r,i,s,o),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"disableHotKeys",value:function(r){this.componentList.remove(r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"_updateDocumentHandlers",value:function(){var r=this,i=this._listenersShouldBeBound();!this.listenersBound&&i?(Object.values(to).forEach(function(s){var o=Ywe(s);document["on".concat(o)]=function(a){r.keyEventManager["handleGlobal".concat(bdt(o))](a)}}),this.listenersBound=!0):this.listenersBound&&!i&&(Object.values(to).forEach(function(s){var o=Ywe(s);delete document["on".concat(o)]}),this.listenersBound=!1)}},{key:"_listenersShouldBeBound",value:function(){return this.componentList.any()||this.listeners.keyCombination}},{key:"handleKeydown",value:function(r){var i=Ww(r);if(r.repeat&&Ka.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;this._checkForModifierFlagDiscrepancies(r,i,to.keydown);var s=this._howReactAppRespondedTo(r,i,to.keydown);if(!(s===Ju.unseen&&this.eventOptions.ignoreEventsCondition(r))){if(s!==Ju.ignored){var o=K6(r),a=this.getCurrentCombination();a.isKeyIncluded(i)||a.isEnding()?this._startAndLogNewKeyCombination(i,o):this._addToAndLogCurrentKeyCombination(i,to.keydown,o)}Kz([Ju.ignored,Ju.handled],s)||this._callHandlerIfExists(r,i,to.keydown),this._simulateKeyPressForNonPrintableKeys(r,i)}}},{key:"_howReactAppRespondedTo",value:function(r,i,s){var o=this.keyEventManager.reactAppHistoryWithEvent(i,s);return o===Ju.handled||o===Ju.ignored||o===Ju.seen||CO.incrementId(),o}},{key:"handleKeyPress",value:function(r){var i=Ww(r);if(r.repeat&&Ka.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;var s=this.getCurrentCombination();if(s.isKeyPressSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,to.keypress);return s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,to.keypress,K6(r)),o===Ju.unseen&&(this.keyEventManager.closeHangingKeyCombination(i,to.keypress),this.eventOptions.ignoreEventsCondition(r))?void 0:void(!Kz([Ju.ignored,Ju.handled],o)&&this._callHandlerIfExists(r,i,to.keypress))}},{key:"handleKeyUp",value:function(r){var i=Ww(r),s=this.getCurrentCombination();if(s.isKeyUpSimulated(i))return!0;var o=this._howReactAppRespondedTo(r,i,to.keyup);s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,to.keyup,K6(r)),o===Ju.unseen?(this.keyEventManager.closeHangingKeyCombination(i,to.keyup),this.eventOptions.ignoreEventsCondition(r)||!Kz([Ju.ignored,Ju.handled],o)&&this._callHandlerIfExists(r,i,to.keyup)):!Kz([Ju.ignored,Ju.handled],o)&&this._callHandlerIfExists(r,i,to.keyup),this._simulateKeyUpEventsHiddenByCmd(r,i),this.listeners.keyCombination&&this._allKeysAreReleased()&&this.listeners.keyCombination({keys:s.getKeyDictionary(),id:s.describe()})}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(r,i){this.keyEventManager.simulatePendingKeyPressEvents(),this._handleEventSimulation("handleKeyPress",this._shouldSimulate(to.keypress,i),{event:r,key:i})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(r,i){var s=this;Yz(i)&&(this.keyEventManager.simulatePendingKeyUpEvents(),this.getCurrentCombination().forEachKey(function(o){Yz(o)||s._handleEventSimulation("handleKeyUp",s._shouldSimulate(to.keyup,o),{event:r,key:o})}))}},{key:"_startAndLogNewKeyCombination",value:function(r,i){this.getKeyHistory().startNewKeyCombination(r,i)}},{key:"_addToAndLogCurrentKeyCombination",value:function(r,i,s){this.getKeyHistory().addKeyToCurrentCombination(r,i,s)}},{key:"_handleEventSimulation",value:function(r,i,s){var o=s.event,a=s.key;if(i&&Ka.option("simulateMissingKeyPressEvents")){var c=this._cloneAndMergeEvent(o,{key:a,simulated:!0});this[r](c)}}},{key:"_callHandlerIfExists",value:function(r,i,s){var o=this.getCurrentCombination().describe();return this.componentList.anyActionsForEventType(s)?void this._callClosestMatchingHandler(r,i,s):void 0}},{key:"_callClosestMatchingHandler",value:function(r,i,s){for(var o,a=this.componentList.getNewIterator();a.next();)if(o=oy(_c(e.prototype),"_callClosestMatchingHandler",this).call(this,r,i,s,a.getPosition(),0),o)return}},{key:"_stopEventPropagation",value:function(r,i){r.simulated||r.stopPropagation()}},{key:"addKeyCombinationListener",value:function(r){var i=this,s=function(){delete i.listeners.keyCombination};return this.listeners.keyCombination=function(o){r(o),s()},this._updateDocumentHandlers(),s}},{key:"_logPrefix",value:function(r){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=Am.eventIcons,o=Am.componentIcons,a="HotKeys (GLOBAL";if(i.eventId!==!1){var c=_1(i.eventId)?CO.getId():i.eventId;a="".concat(a,"-E").concat(c).concat(s[c%s.length])}return _1(r)?"".concat(a,"):"):"".concat(a,"-C").concat(r).concat(o[r%o.length],"):")}}]),e}(Xwe);k0=function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Ga(this,n),this.logger=e.logger||new Am(Ka.option("logLevel")),this._focusOnlyEventStrategy=new _dt({configuration:e,logger:this.logger},this),this._globalEventStrategy=new Edt({configuration:e,logger:this.logger},this),this.mountedComponentsCount=0}return Ya(n,null,[{key:"getInstance",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this.instance||(this.instance=new n(t)),this.instance}},{key:"clear",value:function(){delete this.instance}}]),Ya(n,[{key:"getApplicationKeyMap",value:function(){return Object.assign(this._globalEventStrategy.getApplicationKeyMap(),this._focusOnlyEventStrategy.getApplicationKeyMap())}},{key:"registerKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._focusOnlyEventStrategy.registerKeyMap(t)}},{key:"reregisterKeyMap",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this._focusOnlyEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterKeyMap",value:function(t){this._focusOnlyEventStrategy.deregisterKeyMap(t)}},{key:"registerComponentMount",value:function(t,r){return this._incrementComponentCount(),this._focusOnlyEventStrategy.registerComponentMount(t,r)}},{key:"registerComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"_incrementComponentCount",value:function(){var t=this,r=this.mountedComponentsCount;this.mountedComponentsCount+=1,r===0&&this.mountedComponentsCount===1&&(window.onblur=function(){return t._clearKeyHistory()})}},{key:"_decrementComponentCount",value:function(){var t=this.mountedComponentsCount;this.mountedComponentsCount-=1,t===1&&this.mountedComponentsCount===0&&delete window.onblur}},{key:"_clearKeyHistory",value:function(){this._focusOnlyEventStrategy.resetKeyHistory({force:!0}),this._globalEventStrategy.resetKeyHistory({force:!0})}},{key:"registerGlobalKeyMap",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return this._globalEventStrategy.registerKeyMap(t)}},{key:"registerGlobalComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"registerGlobalComponentMount",value:function(t,r){return this._incrementComponentCount(),this._globalEventStrategy.registerComponentMount(t,r)}},{key:"reregisterGlobalKeyMap",value:function(t,r){this._globalEventStrategy.reregisterKeyMap(t,r)}},{key:"deregisterGlobalKeyMap",value:function(t){this._globalEventStrategy.deregisterKeyMap(t)}},{key:"addKeyCombinationListener",value:function(t){return this._globalEventStrategy.addKeyCombinationListener(t)}},{key:"enableHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0;return this._focusOnlyEventStrategy.enableHotKeys(t,r,i,s)}},{key:"updateEnabledHotKeys",value:function(t,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0;return this._focusOnlyEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableHotKeys",value:function(t,r){return this._focusOnlyEventStrategy.disableHotKeys(t,r)}},{key:"handleKeydown",value:function(t,r,i,s){if(voe(r))return this._focusOnlyEventStrategy.handleKeydown(t,r,i,s)}},{key:"handleKeyPress",value:function(t,r,i,s){if(voe(r))return this._focusOnlyEventStrategy.handleKeyPress(t,r,i,s)}},{key:"handleKeyUp",value:function(t,r,i,s){if(voe(r))return this._focusOnlyEventStrategy.handleKeyUp(t,r,i,s)}},{key:"enableGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.enableHotKeys(t,r,i,s,o)}},{key:"updateEnabledGlobalHotKeys",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},s=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.updateEnabledHotKeys(t,r,i,s,o)}},{key:"disableGlobalHotKeys",value:function(t){return this._globalEventStrategy.disableHotKeys(t)}},{key:"handleGlobalKeyDown",value:function(t){return this._globalEventStrategy.handleKeydown(t)}},{key:"handleGlobalKeyPress",value:function(t){return this._globalEventStrategy.handleKeyPress(t)}},{key:"handleGlobalKeyUp",value:function(t){return this._globalEventStrategy.handleKeyUp(t)}},{key:"ignoreEvent",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().ignoreEvent(t)}},{key:"observeIgnoredEvents",value:function(t){this._focusOnlyEventStrategy.getEventPropagator().observeIgnoredEvents(t)}},{key:"closeHangingKeyCombination",value:function(t,r){this._focusOnlyEventStrategy.closeHangingKeyCombination(t,r)}},{key:"reactAppHistoryWithEvent",value:function(t,r){var i=this._focusOnlyEventStrategy.eventPropagator.getPreviousPropagation();return i.isForKey(t)&&i.isForEventType(r)?i.isHandled()?Ju.handled:i.isIgnoringEvent()?Ju.ignored:Ju.seen:Ju.unseen}},{key:"simulatePendingKeyPressEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyPressEvents()}},{key:"simulatePendingKeyUpEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyUpEvents()}},{key:"isGlobalListenersBound",value:function(){return this._globalEventStrategy.listenersBound}}]),n}();Sdt=function(n){function e(){return Ga(this,e),Ex(this,_c(e).apply(this,arguments))}return bx(e,n),Ya(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=r.innerRef,o=r.component,a=bO(r,["hotKeys","innerRef","component"]),c=o||Ka.option("defaultComponent");return Yf.default.createElement(c,y1({},i,{ref:s},a))}}]),e}(Yf.Component),nCe=tCe(Sdt);nCe.propTypes={innerRef:wu.default.oneOfType([wu.default.object,wu.default.func])};rCe=function(n){function e(t){var r;return Ga(this,e),r=Ex(this,_c(e).call(this,t)),r._id=k0.getInstance().registerGlobalKeyMap(t.keyMap),r._childContext={globalHotKeysParentId:r._id},r}return bx(e,n),Ya(e,[{key:"render",value:function(){return this.props.children||null}},{key:"componentDidUpdate",value:function(){var r=k0.getInstance();if(r.reregisterGlobalKeyMap(this._id,this.props.keyMap),this.props.allowChanges||!Ka.option("ignoreKeymapAndHandlerChangesByDefault")){var i=this.props,s=i.keyMap,o=i.handlers;r.updateEnabledGlobalHotKeys(this._id,s,o,this._getComponentOptions(),this._getEventOptions())}}},{key:"componentDidMount",value:function(){var r=this.props,i=r.keyMap,s=r.handlers,o=this.context.globalHotKeysParentId,a=k0.getInstance();a.registerGlobalComponentMount(this._id,o),a.enableGlobalHotKeys(this._id,i,s,this._getComponentOptions(),this._getEventOptions())}},{key:"componentWillUnmount",value:function(){var r=k0.getInstance();r.deregisterGlobalKeyMap(this._id),r.disableGlobalHotKeys(this._id),r.registerGlobalComponentUnmount()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Ka.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Ka.option("ignoreEventsCondition")}}}]),e}(Yf.Component);_f(rCe,"propTypes",{keyMap:wu.default.object,handlers:wu.default.object,allowChanges:wu.default.bool});wdt=eCe(rCe,{deprecatedAPI:{contextTypes:{globalHotKeysParentId:wu.default.number},childContextTypes:{globalHotKeysParentId:wu.default.number}},newAPI:{contextType:{globalHotKeysParentId:void 0}}});Cdt=function(n){function e(){return Ga(this,e),Ex(this,_c(e).apply(this,arguments))}return bx(e,n),Ya(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=bO(r,["hotKeys"]),o=s.component||Ka.option("defaultComponent");return Yf.default.createElement(o,y1({},i,s))}}]),e}(Yf.Component),Adt=Jz(Cdt,{},"ignoreEvent"),Tdt=function(n){function e(){return Ga(this,e),Ex(this,_c(e).apply(this,arguments))}return bx(e,n),Ya(e,[{key:"render",value:function(){var r=this.props,i=r.hotKeys,s=bO(r,["hotKeys"]),o=s.component||Ka.option("defaultComponent");return Yf.default.createElement(o,y1({},i,s))}}]),e}(Yf.Component),Fdt=Jz(Tdt,{},"observeIgnoredEvents")});var uCe=Ae((LAt,aCe)=>{"use strict";m();aCe.exports=(oCe(),qMe(sCe))});var lCe=Ae((AO,_oe)=>{m();(function(n,e){typeof AO=="object"&&typeof _oe=="object"?_oe.exports=e():typeof define=="function"&&define.amd?define([],e):typeof AO=="object"?AO.onig=e():n.onig=e()})(AO,function(){return n={770:function(t,r,i){"use strict";var s=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(r,"__esModule",{value:!0}),r.setDefaultDebugCall=r.createOnigScanner=r.createOnigString=r.loadWASM=r.OnigScanner=r.OnigString=void 0;let o=s(i(418)),a=null,c=!1;class d{constructor(U){let Q=U.length,P=d._utf8ByteLength(U),j=P!==Q,I=j?new Uint32Array(Q+1):null;j&&(I[Q]=P);let K=j?new Uint32Array(P+1):null;j&&(K[P]=Q);let de=new Uint8Array(P),M=0;for(let Z=0;Z<Q;Z++){let me=U.charCodeAt(Z),_e=me,Ve=!1;if(me>=55296&&me<=56319&&Z+1<Q){let at=U.charCodeAt(Z+1);at>=56320&&at<=57343&&(_e=65536+(me-55296<<10)|at-56320,Ve=!0)}j&&(I[Z]=M,Ve&&(I[Z+1]=M),_e<=127?K[M+0]=Z:_e<=2047?(K[M+0]=Z,K[M+1]=Z):_e<=65535?(K[M+0]=Z,K[M+1]=Z,K[M+2]=Z):(K[M+0]=Z,K[M+1]=Z,K[M+2]=Z,K[M+3]=Z)),_e<=127?de[M++]=_e:_e<=2047?(de[M++]=192|(1984&_e)>>>6,de[M++]=128|(63&_e)>>>0):_e<=65535?(de[M++]=224|(61440&_e)>>>12,de[M++]=128|(4032&_e)>>>6,de[M++]=128|(63&_e)>>>0):(de[M++]=240|(1835008&_e)>>>18,de[M++]=128|(258048&_e)>>>12,de[M++]=128|(4032&_e)>>>6,de[M++]=128|(63&_e)>>>0),Ve&&Z++}this.utf16Length=Q,this.utf8Length=P,this.utf16Value=U,this.utf8Value=de,this.utf16OffsetToUtf8=I,this.utf8OffsetToUtf16=K}static _utf8ByteLength(U){let Q=0;for(let P=0,j=U.length;P<j;P++){let I=U.charCodeAt(P),K=I,de=!1;if(I>=55296&&I<=56319&&P+1<j){let M=U.charCodeAt(P+1);M>=56320&&M<=57343&&(K=65536+(I-55296<<10)|M-56320,de=!0)}Q+=K<=127?1:K<=2047?2:K<=65535?3:4,de&&P++}return Q}createString(U){let Q=U._omalloc(this.utf8Length);return U.HEAPU8.set(this.utf8Value,Q),Q}}class p{constructor(U){if(this.id=++p.LAST_ID,!a)throw new Error("Must invoke loadWASM first.");this._onigBinding=a,this.content=U;let Q=new d(U);this.utf16Length=Q.utf16Length,this.utf8Length=Q.utf8Length,this.utf16OffsetToUtf8=Q.utf16OffsetToUtf8,this.utf8OffsetToUtf16=Q.utf8OffsetToUtf16,this.utf8Length<1e4&&!p._sharedPtrInUse?(p._sharedPtr||(p._sharedPtr=a._omalloc(1e4)),p._sharedPtrInUse=!0,a.HEAPU8.set(Q.utf8Value,p._sharedPtr),this.ptr=p._sharedPtr):this.ptr=Q.createString(a)}convertUtf8OffsetToUtf16(U){return this.utf8OffsetToUtf16?U<0?0:U>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[U]:U}convertUtf16OffsetToUtf8(U){return this.utf16OffsetToUtf8?U<0?0:U>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[U]:U}dispose(){this.ptr===p._sharedPtr?p._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}r.OnigString=p,p.LAST_ID=0,p._sharedPtr=0,p._sharedPtrInUse=!1;class E{constructor(U){if(!a)throw new Error("Must invoke loadWASM first.");let Q=[],P=[];for(let de=0,M=U.length;de<M;de++){let Z=new d(U[de]);Q[de]=Z.createString(a),P[de]=Z.utf8Length}let j=a._omalloc(4*U.length);a.HEAPU32.set(Q,j/4);let I=a._omalloc(4*U.length);a.HEAPU32.set(P,I/4);let K=a._createOnigScanner(j,I,U.length);for(let de=0,M=U.length;de<M;de++)a._ofree(Q[de]);a._ofree(I),a._ofree(j),K===0&&function(de){throw new Error(de.UTF8ToString(de._getLastOnigError()))}(a),this._onigBinding=a,this._ptr=K}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(U,Q,P){let j=c,I=0;if(typeof P=="number"?(8&P&&(j=!0),I=P):typeof P=="boolean"&&(j=P),typeof U=="string"){U=new p(U);let K=this._findNextMatchSync(U,Q,j,I);return U.dispose(),K}return this._findNextMatchSync(U,Q,j,I)}_findNextMatchSync(U,Q,P,j){let I=this._onigBinding,K;if(K=P?I._findNextOnigScannerMatchDbg(this._ptr,U.id,U.ptr,U.utf8Length,U.convertUtf16OffsetToUtf8(Q),j):I._findNextOnigScannerMatch(this._ptr,U.id,U.ptr,U.utf8Length,U.convertUtf16OffsetToUtf8(Q),j),K===0)return null;let de=I.HEAPU32,M=K/4,Z=de[M++],me=de[M++],_e=[];for(let Ve=0;Ve<me;Ve++){let at=U.convertUtf8OffsetToUtf16(de[M++]),lt=U.convertUtf8OffsetToUtf16(de[M++]);_e[Ve]={start:at,end:lt,length:lt-at}}return{index:Z,captureIndices:_e}}}r.OnigScanner=E;let w=!1,N=null;r.loadWASM=function(R){if(w)return N;let U,Q,P,j;if(w=!0,function(I){return typeof I.instantiator=="function"}(R))U=R.instantiator,Q=R.print;else{let I;(function(K){return K.data!==void 0})(R)?(I=R.data,Q=R.print):I=R,U=function(K){return typeof Response!="undefined"&&K instanceof Response}(I)?typeof WebAssembly.instantiateStreaming=="function"?function(K){return de=>WebAssembly.instantiateStreaming(K,de)}(I):function(K){return async de=>{let M=await K.arrayBuffer();return WebAssembly.instantiate(M,de)}}(I):function(K){return de=>WebAssembly.instantiate(K,de)}(I)}return N=new Promise((I,K)=>{P=I,j=K}),function(I,K,de,M){o.default({print:K,instantiateWasm:(Z,me)=>{if(typeof performance=="undefined"){let _e=()=>Date.now();Z.env.emscripten_get_now=_e,Z.wasi_snapshot_preview1.emscripten_get_now=_e}return I(Z).then(_e=>me(_e.instance),M),{}}}).then(Z=>{a=Z,de()})}(U,Q,P,j),N},r.createOnigString=function(R){return new p(R)},r.createOnigScanner=function(R){return new E(R)},r.setDefaultDebugCall=function(R){c=R}},418:t=>{var r=(typeof document!="undefined"&&document.currentScript&&document.currentScript.src,function(i){var s,o,a=(i=i||{})!==void 0?i:{};a.ready=new Promise(function(Ne,$e){s=Ne,o=$e});var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);var p,E=[],w=!1,N=!1,R=!0,U="";function Q(Ne){return a.locateFile?a.locateFile(Ne,U):U+Ne}R&&(p=function(Ne){var $e;return typeof readbuffer=="function"?new Uint8Array(readbuffer(Ne)):(Z(typeof($e=read(Ne,"binary"))=="object"),$e)},typeof scriptArgs!="undefined"?E=scriptArgs:arguments!==void 0&&(E=arguments),typeof onig_print!="undefined"&&(typeof console=="undefined"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr!="undefined"?printErr:onig_print));var P=a.print||console.log.bind(console),j=a.printErr||console.warn.bind(console);for(c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);d=null,a.arguments&&(E=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&a.quit;var I,K,de=function(Ne){};a.wasmBinary&&(I=a.wasmBinary),a.noExitRuntime,typeof WebAssembly!="object"&&ue("no native wasm support detected");var M=!1;function Z(Ne,$e){Ne||ue("Assertion failed: "+$e)}var me,_e,Ve,at=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function lt(Ne,$e,Oe){for(var jt=$e+Oe,yt=$e;Ne[yt]&&!(yt>=jt);)++yt;if(yt-$e>16&&Ne.subarray&&at)return at.decode(Ne.subarray($e,yt));for(var mt="";$e<yt;){var nn=Ne[$e++];if(128&nn){var Wt=63&Ne[$e++];if((224&nn)!=192){var Dn=63&Ne[$e++];if((nn=(240&nn)==224?(15&nn)<<12|Wt<<6|Dn:(7&nn)<<18|Wt<<12|Dn<<6|63&Ne[$e++])<65536)mt+=String.fromCharCode(nn);else{var Qn=nn-65536;mt+=String.fromCharCode(55296|Qn>>10,56320|1023&Qn)}}else mt+=String.fromCharCode((31&nn)<<6|Wt)}else mt+=String.fromCharCode(nn)}return mt}function Ke(Ne,$e){return Ne?lt(_e,Ne,$e):""}function St(Ne,$e){return Ne%$e>0&&(Ne+=$e-Ne%$e),Ne}function Ft(Ne){me=Ne,a.HEAP8=new Int8Array(Ne),a.HEAP16=new Int16Array(Ne),a.HEAP32=Ve=new Int32Array(Ne),a.HEAPU8=_e=new Uint8Array(Ne),a.HEAPU16=new Uint16Array(Ne),a.HEAPU32=new Uint32Array(Ne),a.HEAPF32=new Float32Array(Ne),a.HEAPF64=new Float64Array(Ne)}typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le"),a.INITIAL_MEMORY;var je,te=[],Xe=[],ye=[],ke=[];function Ce(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Qt(a.preRun.shift());Mt(te)}function xe(){Mt(Xe)}function Je(){Mt(ye)}function ut(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)wt(a.postRun.shift());Mt(ke)}function Qt(Ne){te.unshift(Ne)}function wt(Ne){ke.unshift(Ne)}Xe.push({func:function(){or()}});var mn=0,Lt=null,It=null;function cn(Ne){mn++,a.monitorRunDependencies&&a.monitorRunDependencies(mn)}function it(Ne){if(mn--,a.monitorRunDependencies&&a.monitorRunDependencies(mn),mn==0&&(Lt!==null&&(clearInterval(Lt),Lt=null),It)){var $e=It;It=null,$e()}}function ue(Ne){a.onAbort&&a.onAbort(Ne),j(Ne+=""),M=!0,Ne="abort("+Ne+"). Build with -s ASSERTIONS=1 for more info.";var $e=new WebAssembly.RuntimeError(Ne);throw o($e),$e}function De(Ne,$e){return String.prototype.startsWith?Ne.startsWith($e):Ne.indexOf($e)===0}a.preloadedImages={},a.preloadedAudios={};var ve="data:application/octet-stream;base64,";function le(Ne){return De(Ne,ve)}var st,Ze="onig.wasm";function Le(Ne){try{if(Ne==Ze&&I)return new Uint8Array(I);if(p)return p(Ne);throw"both async and sync fetching of the wasm failed"}catch($e){ue($e)}}function vt(){return I||!w&&!N||typeof fetch!="function"?Promise.resolve().then(function(){return Le(Ze)}):fetch(Ze,{credentials:"same-origin"}).then(function(Ne){if(!Ne.ok)throw"failed to load wasm binary file at '"+Ze+"'";return Ne.arrayBuffer()}).catch(function(){return Le(Ze)})}function $t(){var Ne={env:qn,wasi_snapshot_preview1:qn};function $e(yt,mt){var nn=yt.exports;a.asm=nn,Ft((K=a.asm.memory).buffer),je=a.asm.__indirect_function_table,it()}function Oe(yt){$e(yt.instance)}function jt(yt){return vt().then(function(mt){return WebAssembly.instantiate(mt,Ne)}).then(yt,function(mt){j("failed to asynchronously prepare wasm: "+mt),ue(mt)})}if(cn(),a.instantiateWasm)try{return a.instantiateWasm(Ne,$e)}catch(yt){return j("Module.instantiateWasm callback failed with error: "+yt),!1}return(I||typeof WebAssembly.instantiateStreaming!="function"||le(Ze)||typeof fetch!="function"?jt(Oe):fetch(Ze,{credentials:"same-origin"}).then(function(yt){return WebAssembly.instantiateStreaming(yt,Ne).then(Oe,function(mt){return j("wasm streaming compile failed: "+mt),j("falling back to ArrayBuffer instantiation"),jt(Oe)})})).catch(o),{}}function Mt(Ne){for(;Ne.length>0;){var $e=Ne.shift();if(typeof $e!="function"){var Oe=$e.func;typeof Oe=="number"?$e.arg===void 0?je.get(Oe)():je.get(Oe)($e.arg):Oe($e.arg===void 0?null:$e.arg)}else $e(a)}}function Vt(Ne,$e,Oe){_e.copyWithin(Ne,$e,$e+Oe)}function tn(){return _e.length}function en(Ne){try{return K.grow(Ne-me.byteLength+65535>>>16),Ft(K.buffer),1}catch{}}function En(Ne){var $e=tn(),Oe=2147483648;if(Ne>Oe)return!1;for(var jt=1;jt<=4;jt*=2){var yt=$e*(1+.2/jt);if(yt=Math.min(yt,Ne+100663296),en(Math.min(Oe,St(Math.max(Ne,yt),65536))))return!0}return!1}le(Ze)||(Ze=Q(Ze)),st=typeof dateNow!="undefined"?dateNow:function(){return performance.now()};var Fn={mappings:{},buffers:[null,[],[]],printChar:function(Ne,$e){var Oe=Fn.buffers[Ne];$e===0||$e===10?((Ne===1?P:j)(lt(Oe,0)),Oe.length=0):Oe.push($e)},varargs:void 0,get:function(){return Fn.varargs+=4,Ve[Fn.varargs-4>>2]},getStr:function(Ne){return Ke(Ne)},get64:function(Ne,$e){return Ne}};function On(Ne,$e,Oe,jt){for(var yt=0,mt=0;mt<Oe;mt++){for(var nn=Ve[$e+8*mt>>2],Wt=Ve[$e+(8*mt+4)>>2],Dn=0;Dn<Wt;Dn++)Fn.printChar(Ne,_e[nn+Dn]);yt+=Wt}return Ve[jt>>2]=yt,0}function qt(Ne){de(0|Ne)}var pn,qn={emscripten_get_now:st,emscripten_memcpy_big:Vt,emscripten_resize_heap:En,fd_write:On,setTempRet0:qt},or=($t(),a.___wasm_call_ctors=function(){return(or=a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)});function In(Ne){function $e(){pn||(pn=!0,a.calledRun=!0,M||(xe(),Je(),s(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),ut()))}Ne=Ne||E,mn>0||(Ce(),mn>0||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),$e()},1)):$e()))}if(a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)},a._omalloc=function(){return(a._omalloc=a.asm.omalloc).apply(null,arguments)},a._ofree=function(){return(a._ofree=a.asm.ofree).apply(null,arguments)},a._getLastOnigError=function(){return(a._getLastOnigError=a.asm.getLastOnigError).apply(null,arguments)},a._createOnigScanner=function(){return(a._createOnigScanner=a.asm.createOnigScanner).apply(null,arguments)},a._freeOnigScanner=function(){return(a._freeOnigScanner=a.asm.freeOnigScanner).apply(null,arguments)},a._findNextOnigScannerMatch=function(){return(a._findNextOnigScannerMatch=a.asm.findNextOnigScannerMatch).apply(null,arguments)},a._findNextOnigScannerMatchDbg=function(){return(a._findNextOnigScannerMatchDbg=a.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},a.stackSave=function(){return(a.stackSave=a.asm.stackSave).apply(null,arguments)},a.stackRestore=function(){return(a.stackRestore=a.asm.stackRestore).apply(null,arguments)},a.stackAlloc=function(){return(a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.dynCall_jiji).apply(null,arguments)},a.UTF8ToString=Ke,It=function Ne(){pn||In(),pn||(It=Ne)},a.run=In,a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return In(),i.ready});t.exports=r}},e={},function t(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={exports:{}};return n[r].call(s.exports,s,s.exports,t),s.exports}(770);var n,e})});var cCe=Ae((TO,boe)=>{m();(function(n,e){typeof TO=="object"&&typeof boe=="object"?boe.exports=e():typeof define=="function"&&define.amd?define([],e):typeof TO=="object"?TO.vscodetextmate=e():n.vscodetextmate=e()})(TO,function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(r,i,s){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},t.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var o in r)t.d(s,o,function(a){return r[a]}.bind(null,o));return s},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="",t(t.s=3)}([function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(1),i=t(5),s=t(6),o=t(2),a=typeof performance=="undefined"?function(){return Date.now()}:function(){return performance.now()};e.createGrammar=function(je,te,Xe,ye,ke,Ce){return new I(je,te,Xe,ye,ke,Ce)};var c=function(je){this.scopeName=je};e.FullScopeDependency=c;var d=function(){function je(te,Xe){this.scopeName=te,this.include=Xe}return je.prototype.toKey=function(){return this.scopeName+"#"+this.include},je}();e.PartialScopeDependency=d;var p=function(){function je(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return je.prototype.add=function(te){te instanceof c?this._seenFull.has(te.scopeName)||(this._seenFull.add(te.scopeName),this.full.push(te)):this._seenPartial.has(te.toKey())||(this._seenPartial.add(te.toKey()),this.partial.push(te))},je}();function E(je,te,Xe,ye,ke){for(var Ce=0,xe=ye;Ce<xe.length;Ce++){var Je=xe[Ce];if(!je.visitedRule.has(Je)){je.visitedRule.add(Je);var ut=Je.repository?r.mergeObjects({},ke,Je.repository):ke;Array.isArray(Je.patterns)&&E(je,te,Xe,Je.patterns,ut);var Qt=Je.include;if(Qt)if(Qt==="$base"||Qt===te.scopeName)N(je,te,te);else if(Qt==="$self"||Qt===Xe.scopeName)N(je,te,Xe);else if(Qt.charAt(0)==="#")w(je,te,Xe,Qt.substring(1),ut);else{var wt=Qt.indexOf("#");if(wt>=0){var mn=Qt.substring(0,wt),Lt=Qt.substring(wt+1);mn===te.scopeName?w(je,te,te,Lt,ut):mn===Xe.scopeName?w(je,te,Xe,Lt,ut):je.add(new d(mn,Qt.substring(wt+1)))}else je.add(new c(Qt))}}}}function w(je,te,Xe,ye,ke){ke===void 0&&(ke=Xe.repository),ke&&ke[ye]&&E(je,te,Xe,[ke[ye]],ke)}function N(je,te,Xe){if(Xe.patterns&&Array.isArray(Xe.patterns)&&E(je,te,Xe,Xe.patterns,Xe.repository),Xe.injections){var ye=[];for(var ke in Xe.injections)ye.push(Xe.injections[ke]);E(je,te,Xe,ye,Xe.repository)}}function R(je,te){if(!je)return!1;if(je===te)return!0;var Xe=te.length;return je.length>Xe&&je.substr(0,Xe)===te&&je[Xe]==="."}function U(je,te){if(te.length<je.length)return!1;var Xe=0;return je.every(function(ye){for(var ke=Xe;ke<te.length;ke++)if(R(te[ke],ye))return Xe=ke+1,!0;return!1})}function Q(je,te,Xe,ye,ke){for(var Ce=s.createMatchers(te,U),xe=i.RuleFactory.getCompiledRuleId(Xe,ye,ke.repository),Je=0,ut=Ce;Je<ut.length;Je++){var Qt=ut[Je];je.push({matcher:Qt.matcher,ruleId:xe,grammar:ke,priority:Qt.priority})}}e.ScopeDependencyCollector=p,e.collectSpecificDependencies=w,e.collectDependencies=N;var P=function(je,te,Xe,ye){this.scopeName=je,this.languageId=te,this.tokenType=Xe,this.themeData=ye};e.ScopeMetadata=P;var j=function(){function je(te,Xe,ye){if(this._initialLanguage=te,this._themeProvider=Xe,this._cache=new Map,this._defaultMetaData=new P("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),ye)for(var ke=Object.keys(ye),Ce=0,xe=ke.length;Ce<xe;Ce++){var Je=ke[Ce],ut=ye[Je];typeof ut=="number"&&ut!==0?this._embeddedLanguages[Je]=ut:console.warn("Invalid embedded language found at scope "+Je+": <<"+ut+">>")}var Qt=Object.keys(this._embeddedLanguages).map(function(wt){return je._escapeRegExpCharacters(wt)});Qt.length===0?this._embeddedLanguagesRegex=null:(Qt.sort(),Qt.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+Qt.join(")|(")+"))($|\\.)",""))}return je.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new P("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},je.prototype.getDefaultMetadata=function(){return this._defaultMetaData},je._escapeRegExpCharacters=function(te){return te.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},je.prototype.getMetadataForScope=function(te){if(te===null)return je._NULL_SCOPE_METADATA;var Xe=this._cache.get(te);return Xe||(Xe=this._doGetMetadataForScope(te),this._cache.set(te,Xe),Xe)},je.prototype._doGetMetadataForScope=function(te){var Xe=this._scopeToLanguage(te),ye=this._toStandardTokenType(te),ke=this._themeProvider.themeMatch(te);return new P(te,Xe,ye,ke)},je.prototype._scopeToLanguage=function(te){if(!te||!this._embeddedLanguagesRegex)return 0;var Xe=te.match(this._embeddedLanguagesRegex);if(!Xe)return 0;var ye=this._embeddedLanguages[Xe[1]]||0;return ye||0},je.prototype._toStandardTokenType=function(te){var Xe=te.match(je.STANDARD_TOKEN_TYPE_REGEXP);if(!Xe)return 0;switch(Xe[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},je._NULL_SCOPE_METADATA=new P("",0,0,null),je.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,je}(),I=function(){function je(te,Xe,ye,ke,Ce,xe){if(this._scopeMetadataProvider=new j(Xe,Ce,ye),this._onigLib=xe,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=Ce,this._grammar=de(te,null),this._injections=null,this._tokenTypeMatchers=[],ke)for(var Je=0,ut=Object.keys(ke);Je<ut.length;Je++)for(var Qt=ut[Je],wt=0,mn=s.createMatchers(Qt,U);wt<mn.length;wt++){var Lt=mn[wt];this._tokenTypeMatchers.push({matcher:Lt.matcher,type:ke[Qt]})}}return je.prototype.dispose=function(){for(var te=0,Xe=this._ruleId2desc;te<Xe.length;te++){var ye=Xe[te];ye&&ye.dispose()}},je.prototype.createOnigScanner=function(te){return this._onigLib.createOnigScanner(te)},je.prototype.createOnigString=function(te){return this._onigLib.createOnigString(te)},je.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},je.prototype.getMetadataForScope=function(te){return this._scopeMetadataProvider.getMetadataForScope(te)},je.prototype.getInjections=function(){var te=this;if(this._injections===null){this._injections=[];var Xe=this._grammar.injections;if(Xe)for(var ye in Xe)Q(this._injections,ye,Xe[ye],this,this._grammar);if(this._grammarRepository){var ke=this._grammarRepository.injections(this._grammar.scopeName);ke&&ke.forEach(function(Ce){var xe=te.getExternalGrammar(Ce);if(xe){var Je=xe.injectionSelector;Je&&Q(te._injections,Je,xe,te,xe)}})}this._injections.sort(function(Ce,xe){return Ce.priority-xe.priority})}return this._injections},je.prototype.registerRule=function(te){var Xe=++this._lastRuleId,ye=te(Xe);return this._ruleId2desc[Xe]=ye,ye},je.prototype.getRule=function(te){return this._ruleId2desc[te]},je.prototype.getExternalGrammar=function(te,Xe){if(this._includedGrammars[te])return this._includedGrammars[te];if(this._grammarRepository){var ye=this._grammarRepository.lookup(te);if(ye)return this._includedGrammars[te]=de(ye,Xe&&Xe.$base),this._includedGrammars[te]}return null},je.prototype.tokenizeLine=function(te,Xe){var ye=this._tokenize(te,Xe,!1);return{tokens:ye.lineTokens.getResult(ye.ruleStack,ye.lineLength),ruleStack:ye.ruleStack}},je.prototype.tokenizeLine2=function(te,Xe){var ye=this._tokenize(te,Xe,!0);return{tokens:ye.lineTokens.getBinaryResult(ye.ruleStack,ye.lineLength),ruleStack:ye.ruleStack}},je.prototype._tokenize=function(te,Xe,ye){var ke;if(this._rootId===-1&&(this._rootId=i.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),Xe&&Xe!==lt.NULL)ke=!1,Xe.reset();else{ke=!0;var Ce=this._scopeMetadataProvider.getDefaultMetadata(),xe=Ce.themeData[0],Je=Ve.set(0,Ce.languageId,Ce.tokenType,xe.fontStyle,xe.foreground,xe.background),ut=this.getRule(this._rootId).getName(null,null),Qt=this._scopeMetadataProvider.getMetadataForScope(ut),wt=at.mergeMetadata(Je,null,Qt),mn=new at(null,ut===null?"unknown":ut,wt);Xe=new lt(null,this._rootId,-1,-1,!1,null,mn,mn)}te+=`
`;var Lt=this.createOnigString(te),It=Lt.content.length,cn=new St(ye,te,this._tokenTypeMatchers),it=_e(this,Lt,ke,0,Xe,cn,!0);return K(Lt),{lineLength:It,lineTokens:cn,ruleStack:it}},je}();function K(je){typeof je.dispose=="function"&&je.dispose()}function de(je,te){return(je=r.clone(je)).repository=je.repository||{},je.repository.$self={$vscodeTextmateLocation:je.$vscodeTextmateLocation,patterns:je.patterns,name:je.scopeName},je.repository.$base=te||je.repository.$self,je}function M(je,te,Xe,ye,ke,Ce,xe){if(Ce.length!==0){for(var Je=te.content,ut=Math.min(Ce.length,xe.length),Qt=[],wt=xe[0].end,mn=0;mn<ut;mn++){var Lt=Ce[mn];if(Lt!==null){var It=xe[mn];if(It.length!==0){if(It.start>wt)break;for(;Qt.length>0&&Qt[Qt.length-1].endPos<=It.start;)ke.produceFromScopes(Qt[Qt.length-1].scopes,Qt[Qt.length-1].endPos),Qt.pop();if(Qt.length>0?ke.produceFromScopes(Qt[Qt.length-1].scopes,It.start):ke.produce(ye,It.start),Lt.retokenizeCapturedWithRuleId){var cn=Lt.getName(Je,xe),it=ye.contentNameScopesList.push(je,cn),ue=Lt.getContentName(Je,xe),De=it.push(je,ue),ve=ye.push(Lt.retokenizeCapturedWithRuleId,It.start,-1,!1,null,it,De),le=je.createOnigString(Je.substring(0,It.end));_e(je,le,Xe&&It.start===0,It.start,ve,ke,!1),K(le)}else{var st=Lt.getName(Je,xe);if(st!==null){var Ze=(Qt.length>0?Qt[Qt.length-1].scopes:ye.contentNameScopesList).push(je,st);Qt.push(new Ke(Ze,It.end))}}}}}for(;Qt.length>0;)ke.produceFromScopes(Qt[Qt.length-1].scopes,Qt[Qt.length-1].endPos),Qt.pop()}}function Z(je){for(var te=[],Xe=0,ye=je.rules.length;Xe<ye;Xe++)te.push("   - "+je.rules[Xe]+": "+je.debugRegExps[Xe]);return te.join(`
`)}function me(je,te,Xe,ye,ke,Ce){var xe=function(mn,Lt,It,cn,it,ue){var De=it.getRule(mn),ve=De.compile(mn,it.endRule,It,cn===ue),le=0;o.DebugFlags.InDebugMode&&(le=a());var st=ve.scanner.findNextMatchSync(Lt,cn);if(o.DebugFlags.InDebugMode){var Ze=a()-le;Ze>5&&console.warn("Rule "+De.debugName+" ("+De.id+") matching took "+Ze+" against '"+Lt+"'"),st&&console.log("matched rule id: "+ve.rules[st.index]+" from "+st.captureIndices[0].start+" to "+st.captureIndices[0].end)}return st?{captureIndices:st.captureIndices,matchedRuleId:ve.rules[st.index]}:null}(je,te,Xe,ye,ke,Ce),Je=je.getInjections();if(Je.length===0)return xe;var ut=function(mn,Lt,It,cn,it,ue,De){for(var ve,le=Number.MAX_VALUE,st=null,Ze=0,Le=ue.contentNameScopesList.generateScopes(),vt=0,$t=mn.length;vt<$t;vt++){var Mt=mn[vt];if(Mt.matcher(Le)){var Vt=Lt.getRule(Mt.ruleId).compile(Lt,null,cn,it===De),tn=Vt.scanner.findNextMatchSync(It,it);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(Z(Vt))),tn){var en=tn.captureIndices[0].start;if(!(en>=le)&&(le=en,st=tn.captureIndices,ve=Vt.rules[tn.index],Ze=Mt.priority,le===it))break}}}return st?{priorityMatch:Ze===-1,captureIndices:st,matchedRuleId:ve}:null}(Je,je,te,Xe,ye,ke,Ce);if(!ut)return xe;if(!xe)return ut;var Qt=xe.captureIndices[0].start,wt=ut.captureIndices[0].start;return wt<Qt||ut.priorityMatch&&wt===Qt?ut:xe}function _e(je,te,Xe,ye,ke,Ce,xe){var Je=te.content.length,ut=!1,Qt=-1;if(xe){var wt=function(Lt,It,cn,it,ue,De){for(var ve=ue.beginRuleCapturedEOL?0:-1,le=[],st=ue;st;st=st.pop()){var Ze=st.getRule(Lt);Ze instanceof i.BeginWhileRule&&le.push({rule:Ze,stack:st})}for(var Le=le.pop();Le;Le=le.pop()){var vt=Le.rule.compileWhile(Lt,Le.stack.endRule,cn,ve===it),$t=vt.scanner.findNextMatchSync(It,it);if(o.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(Z(vt))),!$t){o.DebugFlags.InDebugMode&&console.log("  popping "+Le.rule.debugName+" - "+Le.rule.debugWhileRegExp),ue=Le.stack.pop();break}if(vt.rules[$t.index]!==-2){ue=Le.stack.pop();break}$t.captureIndices&&$t.captureIndices.length&&(De.produce(Le.stack,$t.captureIndices[0].start),M(Lt,It,cn,Le.stack,De,Le.rule.whileCaptures,$t.captureIndices),De.produce(Le.stack,$t.captureIndices[0].end),ve=$t.captureIndices[0].end,$t.captureIndices[0].end>it&&(it=$t.captureIndices[0].end,cn=!1))}return{stack:ue,linePos:it,anchorPosition:ve,isFirstLine:cn}}(je,te,Xe,ye,ke,Ce);ke=wt.stack,ye=wt.linePos,Xe=wt.isFirstLine,Qt=wt.anchorPosition}for(;!ut;)mn();function mn(){o.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+ye+": |"+te.content.substr(ye).replace(/\n$/,"\\n")+"|"));var Lt=me(je,te,Xe,ye,ke,Qt);if(!Lt)return o.DebugFlags.InDebugMode&&console.log("  no more matches."),Ce.produce(ke,Je),void(ut=!0);var It=Lt.captureIndices,cn=Lt.matchedRuleId,it=!!(It&&It.length>0)&&It[0].end>ye;if(cn===-1){var ue=ke.getRule(je);o.DebugFlags.InDebugMode&&console.log("  popping "+ue.debugName+" - "+ue.debugEndRegExp),Ce.produce(ke,It[0].start),ke=ke.setContentNameScopesList(ke.nameScopesList),M(je,te,Xe,ke,Ce,ue.endCaptures,It),Ce.produce(ke,It[0].end);var De=ke;if(ke=ke.pop(),Qt=De.getAnchorPos(),!it&&De.getEnterPos()===ye)return o.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),ke=De,Ce.produce(ke,Je),void(ut=!0)}else{var ve=je.getRule(cn);Ce.produce(ke,It[0].start);var le=ke,st=ve.getName(te.content,It),Ze=ke.contentNameScopesList.push(je,st);if(ke=ke.push(cn,ye,Qt,It[0].end===Je,null,Ze,Ze),ve instanceof i.BeginEndRule){var Le=ve;o.DebugFlags.InDebugMode&&console.log("  pushing "+Le.debugName+" - "+Le.debugBeginRegExp),M(je,te,Xe,ke,Ce,Le.beginCaptures,It),Ce.produce(ke,It[0].end),Qt=It[0].end;var vt=Le.getContentName(te.content,It),$t=Ze.push(je,vt);if(ke=ke.setContentNameScopesList($t),Le.endHasBackReferences&&(ke=ke.setEndRule(Le.getEndWithResolvedBackReferences(te.content,It))),!it&&le.hasSameRuleAs(ke))return o.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),ke=ke.pop(),Ce.produce(ke,Je),void(ut=!0)}else if(ve instanceof i.BeginWhileRule){if(Le=ve,o.DebugFlags.InDebugMode&&console.log("  pushing "+Le.debugName),M(je,te,Xe,ke,Ce,Le.beginCaptures,It),Ce.produce(ke,It[0].end),Qt=It[0].end,vt=Le.getContentName(te.content,It),$t=Ze.push(je,vt),ke=ke.setContentNameScopesList($t),Le.whileHasBackReferences&&(ke=ke.setEndRule(Le.getWhileWithResolvedBackReferences(te.content,It))),!it&&le.hasSameRuleAs(ke))return o.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),ke=ke.pop(),Ce.produce(ke,Je),void(ut=!0)}else{var Mt=ve;if(o.DebugFlags.InDebugMode&&console.log("  matched "+Mt.debugName+" - "+Mt.debugMatchRegExp),M(je,te,Xe,ke,Ce,Mt.captures,It),Ce.produce(ke,It[0].end),ke=ke.pop(),!it)return o.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),ke=ke.safePop(),Ce.produce(ke,Je),void(ut=!0)}}It[0].end>ye&&(ye=It[0].end,Xe=!1)}return ke}e.Grammar=I;var Ve=function(){function je(){}return je.toBinaryStr=function(te){for(var Xe=te.toString(2);Xe.length<32;)Xe="0"+Xe;return Xe},je.printMetadata=function(te){var Xe=je.getLanguageId(te),ye=je.getTokenType(te),ke=je.getFontStyle(te),Ce=je.getForeground(te),xe=je.getBackground(te);console.log({languageId:Xe,tokenType:ye,fontStyle:ke,foreground:Ce,background:xe})},je.getLanguageId=function(te){return(255&te)>>>0},je.getTokenType=function(te){return(1792&te)>>>8},je.getFontStyle=function(te){return(14336&te)>>>11},je.getForeground=function(te){return(8372224&te)>>>14},je.getBackground=function(te){return(4286578688&te)>>>23},je.set=function(te,Xe,ye,ke,Ce,xe){var Je=je.getLanguageId(te),ut=je.getTokenType(te),Qt=je.getFontStyle(te),wt=je.getForeground(te),mn=je.getBackground(te);return Xe!==0&&(Je=Xe),ye!==0&&(ut=ye===8?0:ye),ke!==-1&&(Qt=ke),Ce!==0&&(wt=Ce),xe!==0&&(mn=xe),(Je<<0|ut<<8|Qt<<11|wt<<14|mn<<23)>>>0},je}();e.StackElementMetadata=Ve;var at=function(){function je(te,Xe,ye){this.parent=te,this.scope=Xe,this.metadata=ye}return je._equals=function(te,Xe){for(;;){if(te===Xe||!te&&!Xe)return!0;if(!te||!Xe||te.scope!==Xe.scope||te.metadata!==Xe.metadata)return!1;te=te.parent,Xe=Xe.parent}},je.prototype.equals=function(te){return je._equals(this,te)},je._matchesScope=function(te,Xe,ye){return Xe===te||te.substring(0,ye.length)===ye},je._matches=function(te,Xe){if(Xe===null)return!0;for(var ye=Xe.length,ke=0,Ce=Xe[ke],xe=Ce+".";te;){if(this._matchesScope(te.scope,Ce,xe)){if(++ke===ye)return!0;xe=(Ce=Xe[ke])+"."}te=te.parent}return!1},je.mergeMetadata=function(te,Xe,ye){if(ye===null)return te;var ke=-1,Ce=0,xe=0;if(ye.themeData!==null)for(var Je=0,ut=ye.themeData.length;Je<ut;Je++){var Qt=ye.themeData[Je];if(this._matches(Xe,Qt.parentScopes)){ke=Qt.fontStyle,Ce=Qt.foreground,xe=Qt.background;break}}return Ve.set(te,ye.languageId,ye.tokenType,ke,Ce,xe)},je._push=function(te,Xe,ye){for(var ke=0,Ce=ye.length;ke<Ce;ke++){var xe=ye[ke],Je=Xe.getMetadataForScope(xe),ut=je.mergeMetadata(te.metadata,te,Je);te=new je(te,xe,ut)}return te},je.prototype.push=function(te,Xe){return Xe===null?this:Xe.indexOf(" ")>=0?je._push(this,te,Xe.split(/ /g)):je._push(this,te,[Xe])},je._generateScopes=function(te){for(var Xe=[],ye=0;te;)Xe[ye++]=te.scope,te=te.parent;return Xe.reverse(),Xe},je.prototype.generateScopes=function(){return je._generateScopes(this)},je}();e.ScopeListElement=at;var lt=function(){function je(te,Xe,ye,ke,Ce,xe,Je,ut){this.parent=te,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=Xe,this._enterPos=ye,this._anchorPos=ke,this.beginRuleCapturedEOL=Ce,this.endRule=xe,this.nameScopesList=Je,this.contentNameScopesList=ut}return je._structuralEquals=function(te,Xe){for(;;){if(te===Xe||!te&&!Xe)return!0;if(!te||!Xe||te.depth!==Xe.depth||te.ruleId!==Xe.ruleId||te.endRule!==Xe.endRule)return!1;te=te.parent,Xe=Xe.parent}},je._equals=function(te,Xe){return te===Xe||!!this._structuralEquals(te,Xe)&&te.contentNameScopesList.equals(Xe.contentNameScopesList)},je.prototype.clone=function(){return this},je.prototype.equals=function(te){return te!==null&&je._equals(this,te)},je._reset=function(te){for(;te;)te._enterPos=-1,te._anchorPos=-1,te=te.parent},je.prototype.reset=function(){je._reset(this)},je.prototype.pop=function(){return this.parent},je.prototype.safePop=function(){return this.parent?this.parent:this},je.prototype.push=function(te,Xe,ye,ke,Ce,xe,Je){return new je(this,te,Xe,ye,ke,Ce,xe,Je)},je.prototype.getEnterPos=function(){return this._enterPos},je.prototype.getAnchorPos=function(){return this._anchorPos},je.prototype.getRule=function(te){return te.getRule(this.ruleId)},je.prototype._writeString=function(te,Xe){return this.parent&&(Xe=this.parent._writeString(te,Xe)),te[Xe++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",Xe},je.prototype.toString=function(){var te=[];return this._writeString(te,0),"["+te.join(",")+"]"},je.prototype.setContentNameScopesList=function(te){return this.contentNameScopesList===te?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,te)},je.prototype.setEndRule=function(te){return this.endRule===te?this:new je(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,te,this.nameScopesList,this.contentNameScopesList)},je.prototype.hasSameRuleAs=function(te){return this.ruleId===te.ruleId},je.NULL=new je(null,0,0,0,!1,null,null,null),je}();e.StackElement=lt;var Ke=function(je,te){this.scopes=je,this.endPos=te};e.LocalStackElement=Ke;var St=function(){function je(te,Xe,ye){this._emitBinaryTokens=te,this._tokenTypeOverrides=ye,o.DebugFlags.InDebugMode?this._lineText=Xe:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return je.prototype.produce=function(te,Xe){this.produceFromScopes(te.contentNameScopesList,Xe)},je.prototype.produceFromScopes=function(te,Xe){if(!(this._lastTokenEndIndex>=Xe)){if(this._emitBinaryTokens){for(var ye=te.metadata,ke=0,Ce=this._tokenTypeOverrides;ke<Ce.length;ke++){var xe=Ce[ke];xe.matcher(te.generateScopes())&&(ye=Ve.set(ye,0,Ft(xe.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===ye||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(ye)),void(this._lastTokenEndIndex=Xe)}var Je=te.generateScopes();if(o.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,Xe).replace(/\n$/,"\\n")+"|");for(var ut=0;ut<Je.length;ut++)console.log("      * "+Je[ut])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:Xe,scopes:Je}),this._lastTokenEndIndex=Xe}},je.prototype.getResult=function(te,Xe){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===Xe-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(te,Xe),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},je.prototype.getBinaryResult=function(te,Xe){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===Xe-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(te,Xe),this._binaryTokens[this._binaryTokens.length-2]=0);for(var ye=new Uint32Array(this._binaryTokens.length),ke=0,Ce=this._binaryTokens.length;ke<Ce;ke++)ye[ke]=this._binaryTokens[ke];return ye},je}();function Ft(je){switch(je){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},function(n,e,t){"use strict";function r(o){return Array.isArray(o)?function(a){for(var c=[],d=0,p=a.length;d<p;d++)c[d]=r(a[d]);return c}(o):typeof o=="object"?function(a){var c={};for(var d in a)c[d]=r(a[d]);return c}(o):o}Object.defineProperty(e,"__esModule",{value:!0}),e.clone=function(o){return r(o)},e.mergeObjects=function(o){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];return a.forEach(function(d){for(var p in d)o[p]=d[p]}),o},e.basename=function o(a){var c=~a.lastIndexOf("/")||~a.lastIndexOf("\\");return c===0?a:~c==a.length-1?o(a.substring(0,a.length-1)):a.substr(1+~c)};var i=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,s=function(){function o(){}return o.hasCaptures=function(a){return a!==null&&i.test(a)},o.replaceCaptures=function(a,c,d){return a.replace(i,function(p,E,w,N){var R=d[parseInt(E||w,10)];if(!R)return p;for(var U=c.substring(R.start,R.end);U[0]===".";)U=U.substring(1);switch(N){case"downcase":return U.toLowerCase();case"upcase":return U.toUpperCase();default:return U}})},o}();e.RegexSource=s},function(n,e,t){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0}),e.DebugFlags={InDebugMode:r!==void 0&&!!r.env.VSCODE_TEXTMATE_DEBUG}}).call(this,t(7))},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(p,E,w,N){return new(w||(w=Promise))(function(R,U){function Q(I){try{j(N.next(I))}catch(K){U(K)}}function P(I){try{j(N.throw(I))}catch(K){U(K)}}function j(I){var K;I.done?R(I.value):(K=I.value,K instanceof w?K:new w(function(de){de(K)})).then(Q,P)}j((N=N.apply(p,E||[])).next())})},i=this&&this.__generator||function(p,E){var w,N,R,U,Q={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return U={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function P(j){return function(I){return function(K){if(w)throw new TypeError("Generator is already executing.");for(;Q;)try{if(w=1,N&&(R=2&K[0]?N.return:K[0]?N.throw||((R=N.return)&&R.call(N),0):N.next)&&!(R=R.call(N,K[1])).done)return R;switch(N=0,R&&(K=[2&K[0],R.value]),K[0]){case 0:case 1:R=K;break;case 4:return Q.label++,{value:K[1],done:!1};case 5:Q.label++,N=K[1],K=[0];continue;case 7:K=Q.ops.pop(),Q.trys.pop();continue;default:if(R=Q.trys,!((R=R.length>0&&R[R.length-1])||K[0]!==6&&K[0]!==2)){Q=0;continue}if(K[0]===3&&(!R||K[1]>R[0]&&K[1]<R[3])){Q.label=K[1];break}if(K[0]===6&&Q.label<R[1]){Q.label=R[1],R=K;break}if(R&&Q.label<R[2]){Q.label=R[2],Q.ops.push(K);break}R[2]&&Q.ops.pop(),Q.trys.pop();continue}K=E.call(p,Q)}catch(de){K=[6,de],N=0}finally{w=R=0}if(5&K[0])throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}([j,I])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(4),o=t(8),a=t(11),c=t(0),d=function(){function p(E){this._options=E,this._syncRegistry=new s.SyncRegistry(a.Theme.createFromRawTheme(E.theme,E.colorMap),E.onigLib),this._ensureGrammarCache=new Map}return p.prototype.dispose=function(){this._syncRegistry.dispose()},p.prototype.setTheme=function(E,w){this._syncRegistry.setTheme(a.Theme.createFromRawTheme(E,w))},p.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},p.prototype.loadGrammarWithEmbeddedLanguages=function(E,w,N){return this.loadGrammarWithConfiguration(E,w,{embeddedLanguages:N})},p.prototype.loadGrammarWithConfiguration=function(E,w,N){return this._loadGrammar(E,w,N.embeddedLanguages,N.tokenTypes)},p.prototype.loadGrammar=function(E){return this._loadGrammar(E,0,null,null)},p.prototype._doLoadSingleGrammar=function(E){return r(this,void 0,void 0,function(){var w,N;return i(this,function(R){switch(R.label){case 0:return[4,this._options.loadGrammar(E)];case 1:return(w=R.sent())&&(N=typeof this._options.getInjections=="function"?this._options.getInjections(E):void 0,this._syncRegistry.addGrammar(w,N)),[2]}})})},p.prototype._loadSingleGrammar=function(E){return r(this,void 0,void 0,function(){return i(this,function(w){return this._ensureGrammarCache.has(E)||this._ensureGrammarCache.set(E,this._doLoadSingleGrammar(E)),[2,this._ensureGrammarCache.get(E)]})})},p.prototype._collectDependenciesForDep=function(E,w,N){var R=this._syncRegistry.lookup(N.scopeName);if(R){N instanceof c.FullScopeDependency?c.collectDependencies(w,this._syncRegistry.lookup(E),R):c.collectSpecificDependencies(w,this._syncRegistry.lookup(E),R,N.include);var U=this._syncRegistry.injections(N.scopeName);if(U)for(var Q=0,P=U;Q<P.length;Q++){var j=P[Q];w.add(new c.FullScopeDependency(j))}}else if(N.scopeName===E)throw new Error("No grammar provided for <"+E+">")},p.prototype._loadGrammar=function(E,w,N,R){return r(this,void 0,void 0,function(){var U,Q,P,j,I,K,de,M,Z,me,_e,Ve,at=this;return i(this,function(lt){switch(lt.label){case 0:U=new Set,Q=new Set,U.add(E),P=[new c.FullScopeDependency(E)],lt.label=1;case 1:return P.length>0?(j=P,P=[],[4,Promise.all(j.map(function(Ke){return at._loadSingleGrammar(Ke.scopeName)}))]):[3,3];case 2:for(lt.sent(),I=new c.ScopeDependencyCollector,K=0,de=j;K<de.length;K++)Ve=de[K],this._collectDependenciesForDep(E,I,Ve);for(M=0,Z=I.full;M<Z.length;M++)Ve=Z[M],U.has(Ve.scopeName)||(U.add(Ve.scopeName),P.push(Ve));for(me=0,_e=I.partial;me<_e.length;me++)Ve=_e[me],U.has(Ve.scopeName)||Q.has(Ve.toKey())||(Q.add(Ve.toKey()),P.push(Ve));return[3,1];case 3:return[2,this.grammarForScopeName(E,w,N,R)]}})})},p.prototype.addGrammar=function(E,w,N,R){return w===void 0&&(w=[]),N===void 0&&(N=0),R===void 0&&(R=null),r(this,void 0,void 0,function(){return i(this,function(U){switch(U.label){case 0:return this._syncRegistry.addGrammar(E,w),[4,this.grammarForScopeName(E.scopeName,N,R)];case 1:return[2,U.sent()]}})})},p.prototype.grammarForScopeName=function(E,w,N,R){return w===void 0&&(w=0),N===void 0&&(N=null),R===void 0&&(R=null),this._syncRegistry.grammarForScopeName(E,w,N,R)},p}();e.Registry=d,e.INITIAL=c.StackElement.NULL,e.parseRawGrammar=o.parseRawGrammar},function(n,e,t){"use strict";var r=this&&this.__awaiter||function(a,c,d,p){return new(d||(d=Promise))(function(E,w){function N(Q){try{U(p.next(Q))}catch(P){w(P)}}function R(Q){try{U(p.throw(Q))}catch(P){w(P)}}function U(Q){var P;Q.done?E(Q.value):(P=Q.value,P instanceof d?P:new d(function(j){j(P)})).then(N,R)}U((p=p.apply(a,c||[])).next())})},i=this&&this.__generator||function(a,c){var d,p,E,w,N={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return w={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function R(U){return function(Q){return function(P){if(d)throw new TypeError("Generator is already executing.");for(;N;)try{if(d=1,p&&(E=2&P[0]?p.return:P[0]?p.throw||((E=p.return)&&E.call(p),0):p.next)&&!(E=E.call(p,P[1])).done)return E;switch(p=0,E&&(P=[2&P[0],E.value]),P[0]){case 0:case 1:E=P;break;case 4:return N.label++,{value:P[1],done:!1};case 5:N.label++,p=P[1],P=[0];continue;case 7:P=N.ops.pop(),N.trys.pop();continue;default:if(E=N.trys,!((E=E.length>0&&E[E.length-1])||P[0]!==6&&P[0]!==2)){N=0;continue}if(P[0]===3&&(!E||P[1]>E[0]&&P[1]<E[3])){N.label=P[1];break}if(P[0]===6&&N.label<E[1]){N.label=E[1],E=P;break}if(E&&N.label<E[2]){N.label=E[2],N.ops.push(P);break}E[2]&&N.ops.pop(),N.trys.pop();continue}P=c.call(a,N)}catch(j){P=[6,j],p=0}finally{d=E=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([U,Q])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(0),o=function(){function a(c,d){this._theme=c,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=d}return a.prototype.dispose=function(){for(var c in this._grammars)this._grammars.hasOwnProperty(c)&&this._grammars[c].dispose()},a.prototype.setTheme=function(c){var d=this;this._theme=c,Object.keys(this._grammars).forEach(function(p){d._grammars[p].onDidChangeTheme()})},a.prototype.getColorMap=function(){return this._theme.getColorMap()},a.prototype.addGrammar=function(c,d){this._rawGrammars[c.scopeName]=c,d&&(this._injectionGrammars[c.scopeName]=d)},a.prototype.lookup=function(c){return this._rawGrammars[c]},a.prototype.injections=function(c){return this._injectionGrammars[c]},a.prototype.getDefaults=function(){return this._theme.getDefaults()},a.prototype.themeMatch=function(c){return this._theme.match(c)},a.prototype.grammarForScopeName=function(c,d,p,E){return r(this,void 0,void 0,function(){var w,N,R,U,Q;return i(this,function(P){switch(P.label){case 0:return this._grammars[c]?[3,2]:(w=this._rawGrammars[c])?(N=this._grammars,R=c,U=s.createGrammar,Q=[w,d,p,E,this],[4,this._onigLibPromise]):[2,null];case 1:N[R]=U.apply(void 0,Q.concat([P.sent()])),P.label=2;case 2:return[2,this._grammars[c]]}})})},a}();e.SyncRegistry=o},function(n,e,t){"use strict";var r,i=this&&this.__extends||(r=function(j,I){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,de){K.__proto__=de}||function(K,de){for(var M in de)de.hasOwnProperty(M)&&(K[M]=de[M])})(j,I)},function(j,I){function K(){this.constructor=j}r(j,I),j.prototype=I===null?Object.create(I):(K.prototype=I.prototype,new K)});Object.defineProperty(e,"__esModule",{value:!0});var s=t(1),o=/\\(\d+)/,a=/\\(\d+)/g,c=function(){function j(I,K,de){this.debugRegExps=K,this.rules=de,this.scanner=I.createOnigScanner(K)}return j.prototype.dispose=function(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()},j}();e.CompiledRule=c;var d=function(){function j(I,K,de,M){this.$location=I,this.id=K,this._name=de||null,this._nameIsCapturing=s.RegexSource.hasCaptures(this._name),this._contentName=M||null,this._contentNameIsCapturing=s.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(j.prototype,"debugName",{get:function(){var I=this.$location?s.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+I},enumerable:!0,configurable:!0}),j.prototype.getName=function(I,K){return this._nameIsCapturing&&this._name!==null&&I!==null&&K!==null?s.RegexSource.replaceCaptures(this._name,I,K):this._name},j.prototype.getContentName=function(I,K){return this._contentNameIsCapturing&&this._contentName!==null?s.RegexSource.replaceCaptures(this._contentName,I,K):this._contentName},j}();e.Rule=d;var p=function(j){function I(K,de,M,Z,me){var _e=j.call(this,K,de,M,Z)||this;return _e.retokenizeCapturedWithRuleId=me,_e}return i(I,j),I.prototype.dispose=function(){},I.prototype.collectPatternsRecursive=function(K,de,M){throw new Error("Not supported!")},I.prototype.compile=function(K,de,M,Z){throw new Error("Not supported!")},I}(d);e.CaptureRule=p;var E=function(){function j(I,K,de){if(de===void 0&&(de=!0),de)if(I){for(var M=I.length,Z=0,me=[],_e=!1,Ve=0;Ve<M;Ve++)if(I.charAt(Ve)==="\\"&&Ve+1<M){var at=I.charAt(Ve+1);at==="z"?(me.push(I.substring(Z,Ve)),me.push("$(?!\\n)(?<!\\n)"),Z=Ve+2):at!=="A"&&at!=="G"||(_e=!0),Ve++}this.hasAnchor=_e,Z===0?this.source=I:(me.push(I.substring(Z,M)),this.source=me.join(""))}else this.hasAnchor=!1,this.source=I;else this.hasAnchor=!1,this.source=I;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=K,this.hasBackReferences=o.test(this.source)}return j.prototype.clone=function(){return new j(this.source,this.ruleId,!0)},j.prototype.setSource=function(I){this.source!==I&&(this.source=I,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},j.prototype.resolveBackReferences=function(I,K){var de=K.map(function(M){return I.substring(M.start,M.end)});return a.lastIndex=0,this.source.replace(a,function(M,Z){return(de[parseInt(Z,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")})},j.prototype._buildAnchorCache=function(){var I,K,de,M,Z=[],me=[],_e=[],Ve=[];for(I=0,K=this.source.length;I<K;I++)de=this.source.charAt(I),Z[I]=de,me[I]=de,_e[I]=de,Ve[I]=de,de==="\\"&&I+1<K&&((M=this.source.charAt(I+1))==="A"?(Z[I+1]="\uFFFF",me[I+1]="\uFFFF",_e[I+1]="A",Ve[I+1]="A"):M==="G"?(Z[I+1]="\uFFFF",me[I+1]="G",_e[I+1]="\uFFFF",Ve[I+1]="G"):(Z[I+1]=M,me[I+1]=M,_e[I+1]=M,Ve[I+1]=M),I++);return{A0_G0:Z.join(""),A0_G1:me.join(""),A1_G0:_e.join(""),A1_G1:Ve.join("")}},j.prototype.resolveAnchors=function(I,K){return this.hasAnchor&&this._anchorCache?I?K?this._anchorCache.A1_G1:this._anchorCache.A1_G0:K?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},j}();e.RegExpSource=E;var w=function(){function j(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return j.prototype.dispose=function(){this._disposeCaches()},j.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},j.prototype.push=function(I){this._items.push(I),this._hasAnchors=this._hasAnchors||I.hasAnchor},j.prototype.unshift=function(I){this._items.unshift(I),this._hasAnchors=this._hasAnchors||I.hasAnchor},j.prototype.length=function(){return this._items.length},j.prototype.setSource=function(I,K){this._items[I].source!==K&&(this._disposeCaches(),this._items[I].setSource(K))},j.prototype.compile=function(I,K,de){if(this._hasAnchors)return K?de?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(I,K,de)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(I,K,de)),this._anchorCache.A1_G0):de?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(I,K,de)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(I,K,de)),this._anchorCache.A0_G0);if(!this._cached){var M=this._items.map(function(Z){return Z.source});this._cached=new c(I,M,this._items.map(function(Z){return Z.ruleId}))}return this._cached},j.prototype._resolveAnchors=function(I,K,de){var M=this._items.map(function(Z){return Z.resolveAnchors(K,de)});return new c(I,M,this._items.map(function(Z){return Z.ruleId}))},j}();e.RegExpSourceList=w;var N=function(j){function I(K,de,M,Z,me){var _e=j.call(this,K,de,M,null)||this;return _e._match=new E(Z,_e.id),_e.captures=me,_e._cachedCompiledPatterns=null,_e}return i(I,j),I.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(I.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),I.prototype.collectPatternsRecursive=function(K,de,M){de.push(this._match)},I.prototype.compile=function(K,de,M,Z){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new w,this.collectPatternsRecursive(K,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(K,M,Z)},I}(d);e.MatchRule=N;var R=function(j){function I(K,de,M,Z,me){var _e=j.call(this,K,de,M,Z)||this;return _e.patterns=me.patterns,_e.hasMissingPatterns=me.hasMissingPatterns,_e._cachedCompiledPatterns=null,_e}return i(I,j),I.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},I.prototype.collectPatternsRecursive=function(K,de,M){var Z,me;for(Z=0,me=this.patterns.length;Z<me;Z++)K.getRule(this.patterns[Z]).collectPatternsRecursive(K,de,!1)},I.prototype.compile=function(K,de,M,Z){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new w,this.collectPatternsRecursive(K,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(K,M,Z)},I}(d);e.IncludeOnlyRule=R;var U=function(j){function I(K,de,M,Z,me,_e,Ve,at,lt,Ke){var St=j.call(this,K,de,M,Z)||this;return St._begin=new E(me,St.id),St.beginCaptures=_e,St._end=new E(Ve||"\uFFFF",-1),St.endHasBackReferences=St._end.hasBackReferences,St.endCaptures=at,St.applyEndPatternLast=lt||!1,St.patterns=Ke.patterns,St.hasMissingPatterns=Ke.hasMissingPatterns,St._cachedCompiledPatterns=null,St}return i(I,j),I.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(I.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),I.prototype.getEndWithResolvedBackReferences=function(K,de){return this._end.resolveBackReferences(K,de)},I.prototype.collectPatternsRecursive=function(K,de,M){if(M){var Z,me=void 0;for(me=0,Z=this.patterns.length;me<Z;me++)K.getRule(this.patterns[me]).collectPatternsRecursive(K,de,!1)}else de.push(this._begin)},I.prototype.compile=function(K,de,M,Z){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new w,this.collectPatternsRecursive(K,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,de):this._cachedCompiledPatterns.setSource(0,de)),this._cachedCompiledPatterns.compile(K,M,Z)},I}(d);e.BeginEndRule=U;var Q=function(j){function I(K,de,M,Z,me,_e,Ve,at,lt){var Ke=j.call(this,K,de,M,Z)||this;return Ke._begin=new E(me,Ke.id),Ke.beginCaptures=_e,Ke.whileCaptures=at,Ke._while=new E(Ve,-2),Ke.whileHasBackReferences=Ke._while.hasBackReferences,Ke.patterns=lt.patterns,Ke.hasMissingPatterns=lt.hasMissingPatterns,Ke._cachedCompiledPatterns=null,Ke._cachedCompiledWhilePatterns=null,Ke}return i(I,j),I.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(I.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),I.prototype.getWhileWithResolvedBackReferences=function(K,de){return this._while.resolveBackReferences(K,de)},I.prototype.collectPatternsRecursive=function(K,de,M){if(M){var Z,me=void 0;for(me=0,Z=this.patterns.length;me<Z;me++)K.getRule(this.patterns[me]).collectPatternsRecursive(K,de,!1)}else de.push(this._begin)},I.prototype.compile=function(K,de,M,Z){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new w,this.collectPatternsRecursive(K,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(K,M,Z)},I.prototype.compileWhile=function(K,de,M,Z){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new w,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,de||"\uFFFF"),this._cachedCompiledWhilePatterns.compile(K,M,Z)},I}(d);e.BeginWhileRule=Q;var P=function(){function j(){}return j.createCaptureRule=function(I,K,de,M,Z){return I.registerRule(function(me){return new p(K,me,de,M,Z)})},j.getCompiledRuleId=function(I,K,de){return I.id||K.registerRule(function(M){if(I.id=M,I.match)return new N(I.$vscodeTextmateLocation,I.id,I.name,I.match,j._compileCaptures(I.captures,K,de));if(I.begin===void 0){I.repository&&(de=s.mergeObjects({},de,I.repository));var Z=I.patterns;return Z===void 0&&I.include&&(Z=[{include:I.include}]),new R(I.$vscodeTextmateLocation,I.id,I.name,I.contentName,j._compilePatterns(Z,K,de))}return I.while?new Q(I.$vscodeTextmateLocation,I.id,I.name,I.contentName,I.begin,j._compileCaptures(I.beginCaptures||I.captures,K,de),I.while,j._compileCaptures(I.whileCaptures||I.captures,K,de),j._compilePatterns(I.patterns,K,de)):new U(I.$vscodeTextmateLocation,I.id,I.name,I.contentName,I.begin,j._compileCaptures(I.beginCaptures||I.captures,K,de),I.end,j._compileCaptures(I.endCaptures||I.captures,K,de),I.applyEndPatternLast,j._compilePatterns(I.patterns,K,de))}),I.id},j._compileCaptures=function(I,K,de){var M=[];if(I){var Z=0;for(var me in I)me!=="$vscodeTextmateLocation"&&(Ve=parseInt(me,10))>Z&&(Z=Ve);for(var _e=0;_e<=Z;_e++)M[_e]=null;for(var me in I)if(me!=="$vscodeTextmateLocation"){var Ve=parseInt(me,10),at=0;I[me].patterns&&(at=j.getCompiledRuleId(I[me],K,de)),M[Ve]=j.createCaptureRule(K,I[me].$vscodeTextmateLocation,I[me].name,I[me].contentName,at)}}return M},j._compilePatterns=function(I,K,de){var M=[];if(I)for(var Z=0,me=I.length;Z<me;Z++){var _e=I[Z],Ve=-1;if(_e.include)if(_e.include.charAt(0)==="#"){var at=de[_e.include.substr(1)];at&&(Ve=j.getCompiledRuleId(at,K,de))}else if(_e.include==="$base"||_e.include==="$self")Ve=j.getCompiledRuleId(de[_e.include],K,de);else{var lt=null,Ke=null,St=_e.include.indexOf("#");St>=0?(lt=_e.include.substring(0,St),Ke=_e.include.substring(St+1)):lt=_e.include;var Ft=K.getExternalGrammar(lt,de);if(Ft)if(Ke){var je=Ft.repository[Ke];je&&(Ve=j.getCompiledRuleId(je,K,Ft.repository))}else Ve=j.getCompiledRuleId(Ft.repository.$self,K,Ft.repository)}else Ve=j.getCompiledRuleId(_e,K,de);if(Ve!==-1){var te=K.getRule(Ve),Xe=!1;if((te instanceof R||te instanceof U||te instanceof Q)&&te.hasMissingPatterns&&te.patterns.length===0&&(Xe=!0),Xe)continue;M.push(Ve)}}return{patterns:M,hasMissingPatterns:(I?I.length:0)!==M.length}},j}();e.RuleFactory=P},function(n,e,t){"use strict";function r(i){return!!i&&!!i.match(/[\w\.:]+/)}Object.defineProperty(e,"__esModule",{value:!0}),e.createMatchers=function(i,s){for(var o,a,c,d=[],p=(c=(a=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(o=i),{next:function(){if(!c)return null;var Q=c[0];return c=a.exec(o),Q}}),E=p.next();E!==null;){var w=0;if(E.length===2&&E.charAt(1)===":"){switch(E.charAt(0)){case"R":w=1;break;case"L":w=-1;break;default:console.log("Unknown priority "+E+" in scope selector")}E=p.next()}var N=U();if(d.push({matcher:N,priority:w}),E!==",")break;E=p.next()}return d;function R(){if(E==="-"){E=p.next();var Q=R();return function(I){return!!Q&&!Q(I)}}if(E==="("){E=p.next();var P=function(){for(var I=[],K=U();K&&(I.push(K),E==="|"||E===",");){do E=p.next();while(E==="|"||E===",");K=U()}return function(de){return I.some(function(M){return M(de)})}}();return E===")"&&(E=p.next()),P}if(r(E)){var j=[];do j.push(E),E=p.next();while(r(E));return function(I){return s(j,I)}}return null}function U(){for(var Q=[],P=R();P;)Q.push(P),P=R();return function(j){return Q.every(function(I){return I(j)})}}}},function(n,e){var t,r,i=n.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(Q){if(t===setTimeout)return setTimeout(Q,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(Q,0);try{return t(Q,0)}catch{try{return t.call(null,Q,0)}catch{return t.call(this,Q,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:s}catch{t=s}try{r=typeof clearTimeout=="function"?clearTimeout:o}catch{r=o}})();var c,d=[],p=!1,E=-1;function w(){p&&c&&(p=!1,c.length?d=c.concat(d):E=-1,d.length&&N())}function N(){if(!p){var Q=a(w);p=!0;for(var P=d.length;P;){for(c=d,d=[];++E<P;)c&&c[E].run();E=-1,P=d.length}c=null,p=!1,function(j){if(r===clearTimeout)return clearTimeout(j);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(j);try{r(j)}catch{try{return r.call(null,j)}catch{return r.call(this,j)}}}(Q)}}function R(Q,P){this.fun=Q,this.array=P}function U(){}i.nextTick=function(Q){var P=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)P[j-1]=arguments[j];d.push(new R(Q,P)),d.length!==1||p||a(N)},R.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=U,i.addListener=U,i.once=U,i.off=U,i.removeListener=U,i.removeAllListeners=U,i.emit=U,i.prependListener=U,i.prependOnceListener=U,i.listeners=function(Q){return[]},i.binding=function(Q){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(Q){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(9),i=t(2),s=t(10);e.parseRawGrammar=function(o,a){return a===void 0&&(a=null),a!==null&&/\.json$/.test(a)?function(c,d){return i.DebugFlags.InDebugMode?s.parse(c,d,!0):JSON.parse(c)}(o,a):function(c,d){return i.DebugFlags.InDebugMode?r.parseWithLocation(c,d,"$vscodeTextmateLocation"):r.parse(c)}(o,a)}},function(n,e,t){"use strict";function r(i,s,o){var a=i.length,c=0,d=1,p=0;function E(Lt){if(o===null)c+=Lt;else for(;Lt>0;)i.charCodeAt(c)===10?(c++,d++,p=0):(c++,p++),Lt--}function w(Lt){o===null?c=Lt:E(Lt-c)}function N(){for(;c<a;){var Lt=i.charCodeAt(c);if(Lt!==32&&Lt!==9&&Lt!==13&&Lt!==10)break;E(1)}}function R(Lt){return i.substr(c,Lt.length)===Lt&&(E(Lt.length),!0)}function U(Lt){var It=i.indexOf(Lt,c);w(It!==-1?It+Lt.length:a)}function Q(Lt){var It=i.indexOf(Lt,c);if(It!==-1){var cn=i.substring(c,It);return w(It+Lt.length),cn}return cn=i.substr(c),w(a),cn}a>0&&i.charCodeAt(0)===65279&&(c=1);var P=0,j=null,I=[],K=[],de=null;function M(Lt,It){I.push(P),K.push(j),P=Lt,j=It}function Z(){if(I.length===0)return me("illegal state stack");P=I.pop(),j=K.pop()}function me(Lt){throw new Error("Near offset "+c+": "+Lt+" ~~~"+i.substr(c,50)+"~~~")}var _e,Ve,at,lt=function(){if(de===null)return me("missing <key>");var Lt={};o!==null&&(Lt[o]={filename:s,line:d,char:p}),j[de]=Lt,de=null,M(1,Lt)},Ke=function(){if(de===null)return me("missing <key>");var Lt=[];j[de]=Lt,de=null,M(2,Lt)},St=function(){var Lt={};o!==null&&(Lt[o]={filename:s,line:d,char:p}),j.push(Lt),M(1,Lt)},Ft=function(){var Lt=[];j.push(Lt),M(2,Lt)};function je(){if(P!==1)return me("unexpected </dict>");Z()}function te(){return P===1||P!==2?me("unexpected </array>"):void Z()}function Xe(Lt){if(P===1){if(de===null)return me("missing <key>");j[de]=Lt,de=null}else P===2?j.push(Lt):j=Lt}function ye(Lt){if(isNaN(Lt))return me("cannot parse float");if(P===1){if(de===null)return me("missing <key>");j[de]=Lt,de=null}else P===2?j.push(Lt):j=Lt}function ke(Lt){if(isNaN(Lt))return me("cannot parse integer");if(P===1){if(de===null)return me("missing <key>");j[de]=Lt,de=null}else P===2?j.push(Lt):j=Lt}function Ce(Lt){if(P===1){if(de===null)return me("missing <key>");j[de]=Lt,de=null}else P===2?j.push(Lt):j=Lt}function xe(Lt){if(P===1){if(de===null)return me("missing <key>");j[de]=Lt,de=null}else P===2?j.push(Lt):j=Lt}function Je(Lt){if(P===1){if(de===null)return me("missing <key>");j[de]=Lt,de=null}else P===2?j.push(Lt):j=Lt}function ut(Lt){if(Lt.isClosed)return"";var It=Q("</");return U(">"),It.replace(/&#([0-9]+);/g,function(cn,it){return String.fromCodePoint(parseInt(it,10))}).replace(/&#x([0-9a-f]+);/g,function(cn,it){return String.fromCodePoint(parseInt(it,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(cn){switch(cn){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return cn})}for(;c<a&&(N(),!(c>=a));){var Qt=i.charCodeAt(c);if(E(1),Qt!==60)return me("expected <");if(c>=a)return me("unexpected end of input");var wt=i.charCodeAt(c);if(wt!==63)if(wt!==33){if(wt===47){if(E(1),N(),R("plist")){U(">");continue}if(R("dict")){U(">"),je();continue}if(R("array")){U(">"),te();continue}return me("unexpected closed tag")}var mn=(Ve=void 0,at=void 0,Ve=Q(">"),at=!1,Ve.charCodeAt(Ve.length-1)===47&&(at=!0,Ve=Ve.substring(0,Ve.length-1)),{name:Ve.trim(),isClosed:at});switch(mn.name){case"dict":P===1?lt():P===2?St():(j={},o!==null&&(j[o]={filename:s,line:d,char:p}),M(1,j)),mn.isClosed&&je();continue;case"array":P===1?Ke():P===2?Ft():M(2,j=[]),mn.isClosed&&te();continue;case"key":_e=ut(mn),P!==1?me("unexpected <key>"):de!==null?me("too many <key>"):de=_e;continue;case"string":Xe(ut(mn));continue;case"real":ye(parseFloat(ut(mn)));continue;case"integer":ke(parseInt(ut(mn),10));continue;case"date":Ce(new Date(ut(mn)));continue;case"data":xe(ut(mn));continue;case"true":ut(mn),Je(!0);continue;case"false":ut(mn),Je(!1);continue}if(!/^plist/.test(mn.name))return me("unexpected opened tag "+mn.name)}else{if(E(1),R("--")){U("-->");continue}U(">")}else E(1),U("?>")}return j}Object.defineProperty(e,"__esModule",{value:!0}),e.parseWithLocation=function(i,s,o){return r(i,s,o)},e.parse=function(i){return r(i,null,null)}},function(n,e,t){"use strict";function r(a,c){throw new Error("Near offset "+a.pos+": "+c+" ~~~"+a.source.substr(a.pos,50)+"~~~")}Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(a,c,d){var p=new i(a),E=new s,w=0,N=null,R=[],U=[];function Q(){R.push(w),U.push(N)}function P(){w=R.pop(),N=U.pop()}function j(M){r(p,M)}for(;o(p,E);){if(w===0){if(N!==null&&j("too many constructs in root"),E.type===3){N={},d&&(N.$vscodeTextmateLocation=E.toLocation(c)),Q(),w=1;continue}if(E.type===2){N=[],Q(),w=4;continue}j("unexpected token in root")}if(w===2){if(E.type===5){P();continue}if(E.type===7){w=3;continue}j("expected , or }")}if(w===1||w===3){if(w===1&&E.type===5){P();continue}if(E.type===1){var I=E.value;if(o(p,E)&&E.type===6||j("expected colon"),o(p,E)||j("expected value"),w=2,E.type===1){N[I]=E.value;continue}if(E.type===8){N[I]=null;continue}if(E.type===9){N[I]=!0;continue}if(E.type===10){N[I]=!1;continue}if(E.type===11){N[I]=parseFloat(E.value);continue}if(E.type===2){var K=[];N[I]=K,Q(),w=4,N=K;continue}if(E.type===3){var de={};d&&(de.$vscodeTextmateLocation=E.toLocation(c)),N[I]=de,Q(),w=1,N=de;continue}}j("unexpected token in dict")}if(w===5){if(E.type===4){P();continue}if(E.type===7){w=6;continue}j("expected , or ]")}if(w===4||w===6){if(w===4&&E.type===4){P();continue}if(w=5,E.type===1){N.push(E.value);continue}if(E.type===8){N.push(null);continue}if(E.type===9){N.push(!0);continue}if(E.type===10){N.push(!1);continue}if(E.type===11){N.push(parseFloat(E.value));continue}if(E.type===2){K=[],N.push(K),Q(),w=4,N=K;continue}if(E.type===3){de={},d&&(de.$vscodeTextmateLocation=E.toLocation(c)),N.push(de),Q(),w=1,N=de;continue}j("unexpected token in array")}j("unknown state")}return U.length!==0&&j("unclosed constructs"),N};var i=function(a){this.source=a,this.pos=0,this.len=a.length,this.line=1,this.char=0},s=function(){function a(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return a.prototype.toLocation=function(c){return{filename:c,line:this.line,char:this.char}},a}();function o(a,c){c.value=null,c.type=0,c.offset=-1,c.len=-1,c.line=-1,c.char=-1;for(var d,p=a.source,E=a.pos,w=a.len,N=a.line,R=a.char;;){if(E>=w)return!1;if((d=p.charCodeAt(E))!==32&&d!==9&&d!==13){if(d!==10)break;E++,N++,R=0}else E++,R++}if(c.offset=E,c.line=N,c.char=R,d===34){for(c.type=1,E++,R++;;){if(E>=w)return!1;if(d=p.charCodeAt(E),E++,R++,d!==92){if(d===34)break}else E++,R++}c.value=p.substring(c.offset+1,E-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(U,Q){return String.fromCodePoint(parseInt(Q,16))}).replace(/\\(.)/g,function(U,Q){switch(Q){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:r(a,"invalid escape sequence")}throw new Error("unreachable")})}else if(d===91)c.type=2,E++,R++;else if(d===123)c.type=3,E++,R++;else if(d===93)c.type=4,E++,R++;else if(d===125)c.type=5,E++,R++;else if(d===58)c.type=6,E++,R++;else if(d===44)c.type=7,E++,R++;else if(d===110){if(c.type=8,E++,R++,(d=p.charCodeAt(E))!==117||(E++,R++,(d=p.charCodeAt(E))!==108)||(E++,R++,(d=p.charCodeAt(E))!==108))return!1;E++,R++}else if(d===116){if(c.type=9,E++,R++,(d=p.charCodeAt(E))!==114||(E++,R++,(d=p.charCodeAt(E))!==117)||(E++,R++,(d=p.charCodeAt(E))!==101))return!1;E++,R++}else if(d===102){if(c.type=10,E++,R++,(d=p.charCodeAt(E))!==97||(E++,R++,(d=p.charCodeAt(E))!==108)||(E++,R++,(d=p.charCodeAt(E))!==115)||(E++,R++,(d=p.charCodeAt(E))!==101))return!1;E++,R++}else for(c.type=11;;){if(E>=w)return!1;if(!((d=p.charCodeAt(E))===46||d>=48&&d<=57||d===101||d===69||d===45||d===43))break;E++,R++}return c.len=E-c.offset,c.value===null&&(c.value=p.substr(c.offset,c.len)),a.pos=E,a.line=N,a.char=R,!0}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(N,R,U,Q,P,j){this.scope=N,this.parentScopes=R,this.index=U,this.fontStyle=Q,this.foreground=P,this.background=j};function i(N){return!!/^#[0-9a-f]{6}$/i.test(N)||!!/^#[0-9a-f]{8}$/i.test(N)||!!/^#[0-9a-f]{3}$/i.test(N)||!!/^#[0-9a-f]{4}$/i.test(N)}function s(N){if(!N)return[];if(!N.settings||!Array.isArray(N.settings))return[];for(var R=N.settings,U=[],Q=0,P=0,j=R.length;P<j;P++){var I=R[P];if(I.settings){var K=void 0;typeof I.scope=="string"?K=I.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):K=Array.isArray(I.scope)?I.scope:[""];var de=-1;if(typeof I.settings.fontStyle=="string"){de=0;for(var M=0,Z=(Ve=I.settings.fontStyle.split(" ")).length;M<Z;M++)switch(Ve[M]){case"italic":de|=1;break;case"bold":de|=2;break;case"underline":de|=4}}var me=null;typeof I.settings.foreground=="string"&&i(I.settings.foreground)&&(me=I.settings.foreground);var _e=null;for(typeof I.settings.background=="string"&&i(I.settings.background)&&(_e=I.settings.background),M=0,Z=K.length;M<Z;M++){var Ve,at=(Ve=K[M].trim().split(" "))[Ve.length-1],lt=null;Ve.length>1&&(lt=Ve.slice(0,Ve.length-1)).reverse(),U[Q++]=new r(at,lt,P,de,me,_e)}}}return U}function o(N,R){N.sort(function(_e,Ve){var at=d(_e.scope,Ve.scope);return at!==0||(at=p(_e.parentScopes,Ve.parentScopes))!==0?at:_e.index-Ve.index});for(var U=0,Q="#000000",P="#ffffff";N.length>=1&&N[0].scope==="";){var j=N.shift();j.fontStyle!==-1&&(U=j.fontStyle),j.foreground!==null&&(Q=j.foreground),j.background!==null&&(P=j.background)}for(var I=new a(R),K=new E(0,null,U,I.getId(Q),I.getId(P)),de=new w(new E(0,null,-1,0,0),[]),M=0,Z=N.length;M<Z;M++){var me=N[M];de.insert(0,me.scope,me.parentScopes,me.fontStyle,I.getId(me.foreground),I.getId(me.background))}return new c(I,K,de)}e.ParsedThemeRule=r,e.parseTheme=s;var a=function(){function N(R){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(R)){this._isFrozen=!0;for(var U=0,Q=R.length;U<Q;U++)this._color2id[R[U]]=U,this._id2color[U]=R[U]}else this._isFrozen=!1}return N.prototype.getId=function(R){if(R===null)return 0;R=R.toUpperCase();var U=this._color2id[R];if(U)return U;if(this._isFrozen)throw new Error("Missing color in color map - "+R);return U=++this._lastColorId,this._color2id[R]=U,this._id2color[U]=R,U},N.prototype.getColorMap=function(){return this._id2color.slice(0)},N}();e.ColorMap=a;var c=function(){function N(R,U,Q){this._colorMap=R,this._root=Q,this._defaults=U,this._cache={}}return N.createFromRawTheme=function(R,U){return this.createFromParsedTheme(s(R),U)},N.createFromParsedTheme=function(R,U){return o(R,U)},N.prototype.getColorMap=function(){return this._colorMap.getColorMap()},N.prototype.getDefaults=function(){return this._defaults},N.prototype.match=function(R){return this._cache.hasOwnProperty(R)||(this._cache[R]=this._root.match(R)),this._cache[R]},N}();function d(N,R){return N<R?-1:N>R?1:0}function p(N,R){if(N===null&&R===null)return 0;if(!N)return-1;if(!R)return 1;var U=N.length,Q=R.length;if(U===Q){for(var P=0;P<U;P++){var j=d(N[P],R[P]);if(j!==0)return j}return 0}return U-Q}e.Theme=c,e.strcmp=d,e.strArrCmp=p;var E=function(){function N(R,U,Q,P,j){this.scopeDepth=R,this.parentScopes=U,this.fontStyle=Q,this.foreground=P,this.background=j}return N.prototype.clone=function(){return new N(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},N.cloneArr=function(R){for(var U=[],Q=0,P=R.length;Q<P;Q++)U[Q]=R[Q].clone();return U},N.prototype.acceptOverwrite=function(R,U,Q,P){this.scopeDepth>R?console.log("how did this happen?"):this.scopeDepth=R,U!==-1&&(this.fontStyle=U),Q!==0&&(this.foreground=Q),P!==0&&(this.background=P)},N}();e.ThemeTrieElementRule=E;var w=function(){function N(R,U,Q){U===void 0&&(U=[]),Q===void 0&&(Q={}),this._mainRule=R,this._rulesWithParentScopes=U,this._children=Q}return N._sortBySpecificity=function(R){return R.length===1||R.sort(this._cmpBySpecificity),R},N._cmpBySpecificity=function(R,U){if(R.scopeDepth===U.scopeDepth){var Q=R.parentScopes,P=U.parentScopes,j=Q===null?0:Q.length,I=P===null?0:P.length;if(j===I)for(var K=0;K<j;K++){var de=Q[K].length,M=P[K].length;if(de!==M)return M-de}return I-j}return U.scopeDepth-R.scopeDepth},N.prototype.match=function(R){if(R==="")return N._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var U,Q,P=R.indexOf(".");return P===-1?(U=R,Q=""):(U=R.substring(0,P),Q=R.substring(P+1)),this._children.hasOwnProperty(U)?this._children[U].match(Q):N._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},N.prototype.insert=function(R,U,Q,P,j,I){if(U!==""){var K,de,M,Z=U.indexOf(".");Z===-1?(K=U,de=""):(K=U.substring(0,Z),de=U.substring(Z+1)),this._children.hasOwnProperty(K)?M=this._children[K]:(M=new N(this._mainRule.clone(),E.cloneArr(this._rulesWithParentScopes)),this._children[K]=M),M.insert(R+1,de,Q,P,j,I)}else this._doInsertHere(R,Q,P,j,I)},N.prototype._doInsertHere=function(R,U,Q,P,j){if(U!==null){for(var I=0,K=this._rulesWithParentScopes.length;I<K;I++){var de=this._rulesWithParentScopes[I];if(p(de.parentScopes,U)===0)return void de.acceptOverwrite(R,Q,P,j)}Q===-1&&(Q=this._mainRule.fontStyle),P===0&&(P=this._mainRule.foreground),j===0&&(j=this._mainRule.background),this._rulesWithParentScopes.push(new E(R,U,Q,P,j))}else this._mainRule.acceptOverwrite(R,Q,P,j)},N}();e.ThemeTrieElement=w}])})});var Eoe=Ae(()=>{m()});var Soe=Ae(()=>{m()});var y9e=Ae((xNt,g9e)=>{m();var Wht=typeof Element!="undefined",Qht=typeof Map=="function",Ght=typeof Set=="function",Yht=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function gH(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!gH(n[r],e[r]))return!1;return!0}var s;if(Qht&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!gH(r.value[1],e.get(r.value[0])))return!1;return!0}if(Ght&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(Yht&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Wht&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!gH(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}g9e.exports=function(e,t){try{return gH(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}});var gae=Ae((xae,hC)=>{m();(function(n,e){typeof xae=="object"&&typeof hC!="undefined"?hC.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(xae,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(A){n=A}function r(A){return A instanceof Array||Object.prototype.toString.call(A)==="[object Array]"}function i(A){return A!=null&&Object.prototype.toString.call(A)==="[object Object]"}function s(A,W){return Object.prototype.hasOwnProperty.call(A,W)}function o(A){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(A).length===0;var W;for(W in A)if(s(A,W))return!1;return!0}function a(A){return A===void 0}function c(A){return typeof A=="number"||Object.prototype.toString.call(A)==="[object Number]"}function d(A){return A instanceof Date||Object.prototype.toString.call(A)==="[object Date]"}function p(A,W){var fe=[],Be,bt=A.length;for(Be=0;Be<bt;++Be)fe.push(W(A[Be],Be));return fe}function E(A,W){for(var fe in W)s(W,fe)&&(A[fe]=W[fe]);return s(W,"toString")&&(A.toString=W.toString),s(W,"valueOf")&&(A.valueOf=W.valueOf),A}function w(A,W,fe,Be){return dn(A,W,fe,Be,!0).utc()}function N(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function R(A){return A._pf==null&&(A._pf=N()),A._pf}var U;Array.prototype.some?U=Array.prototype.some:U=function(A){var W=Object(this),fe=W.length>>>0,Be;for(Be=0;Be<fe;Be++)if(Be in W&&A.call(this,W[Be],Be,W))return!0;return!1};function Q(A){if(A._isValid==null){var W=R(A),fe=U.call(W.parsedDateParts,function(bt){return bt!=null}),Be=!isNaN(A._d.getTime())&&W.overflow<0&&!W.empty&&!W.invalidEra&&!W.invalidMonth&&!W.invalidWeekday&&!W.weekdayMismatch&&!W.nullInput&&!W.invalidFormat&&!W.userInvalidated&&(!W.meridiem||W.meridiem&&fe);if(A._strict&&(Be=Be&&W.charsLeftOver===0&&W.unusedTokens.length===0&&W.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(A))A._isValid=Be;else return Be}return A._isValid}function P(A){var W=w(NaN);return A!=null?E(R(W),A):R(W).userInvalidated=!0,W}var j=e.momentProperties=[],I=!1;function K(A,W){var fe,Be,bt,An=j.length;if(a(W._isAMomentObject)||(A._isAMomentObject=W._isAMomentObject),a(W._i)||(A._i=W._i),a(W._f)||(A._f=W._f),a(W._l)||(A._l=W._l),a(W._strict)||(A._strict=W._strict),a(W._tzm)||(A._tzm=W._tzm),a(W._isUTC)||(A._isUTC=W._isUTC),a(W._offset)||(A._offset=W._offset),a(W._pf)||(A._pf=R(W)),a(W._locale)||(A._locale=W._locale),An>0)for(fe=0;fe<An;fe++)Be=j[fe],bt=W[Be],a(bt)||(A[Be]=bt);return A}function de(A){K(this,A),this._d=new Date(A._d!=null?A._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),I===!1&&(I=!0,e.updateOffset(this),I=!1)}function M(A){return A instanceof de||A!=null&&A._isAMomentObject!=null}function Z(A){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+A)}function me(A,W){var fe=!0;return E(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,A),fe){var Be=[],bt,An,lr,zi=arguments.length;for(An=0;An<zi;An++){if(bt="",typeof arguments[An]=="object"){bt+=`
[`+An+"] ";for(lr in arguments[0])s(arguments[0],lr)&&(bt+=lr+": "+arguments[0][lr]+", ");bt=bt.slice(0,-2)}else bt=arguments[An];Be.push(bt)}Z(A+`
Arguments: `+Array.prototype.slice.call(Be).join("")+`
`+new Error().stack),fe=!1}return W.apply(this,arguments)},W)}var _e={};function Ve(A,W){e.deprecationHandler!=null&&e.deprecationHandler(A,W),_e[A]||(Z(W),_e[A]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function at(A){return typeof Function!="undefined"&&A instanceof Function||Object.prototype.toString.call(A)==="[object Function]"}function lt(A){var W,fe;for(fe in A)s(A,fe)&&(W=A[fe],at(W)?this[fe]=W:this["_"+fe]=W);this._config=A,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ke(A,W){var fe=E({},A),Be;for(Be in W)s(W,Be)&&(i(A[Be])&&i(W[Be])?(fe[Be]={},E(fe[Be],A[Be]),E(fe[Be],W[Be])):W[Be]!=null?fe[Be]=W[Be]:delete fe[Be]);for(Be in A)s(A,Be)&&!s(W,Be)&&i(A[Be])&&(fe[Be]=E({},fe[Be]));return fe}function St(A){A!=null&&this.set(A)}var Ft;Object.keys?Ft=Object.keys:Ft=function(A){var W,fe=[];for(W in A)s(A,W)&&fe.push(W);return fe};var je={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function te(A,W,fe){var Be=this._calendar[A]||this._calendar.sameElse;return at(Be)?Be.call(W,fe):Be}function Xe(A,W,fe){var Be=""+Math.abs(A),bt=W-Be.length,An=A>=0;return(An?fe?"+":"":"-")+Math.pow(10,Math.max(0,bt)).toString().substr(1)+Be}var ye=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ke=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ce={},xe={};function Je(A,W,fe,Be){var bt=Be;typeof Be=="string"&&(bt=function(){return this[Be]()}),A&&(xe[A]=bt),W&&(xe[W[0]]=function(){return Xe(bt.apply(this,arguments),W[1],W[2])}),fe&&(xe[fe]=function(){return this.localeData().ordinal(bt.apply(this,arguments),A)})}function ut(A){return A.match(/\[[\s\S]/)?A.replace(/^\[|\]$/g,""):A.replace(/\\/g,"")}function Qt(A){var W=A.match(ye),fe,Be;for(fe=0,Be=W.length;fe<Be;fe++)xe[W[fe]]?W[fe]=xe[W[fe]]:W[fe]=ut(W[fe]);return function(bt){var An="",lr;for(lr=0;lr<Be;lr++)An+=at(W[lr])?W[lr].call(bt,A):W[lr];return An}}function wt(A,W){return A.isValid()?(W=mn(W,A.localeData()),Ce[W]=Ce[W]||Qt(W),Ce[W](A)):A.localeData().invalidDate()}function mn(A,W){var fe=5;function Be(bt){return W.longDateFormat(bt)||bt}for(ke.lastIndex=0;fe>=0&&ke.test(A);)A=A.replace(ke,Be),ke.lastIndex=0,fe-=1;return A}var Lt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function It(A){var W=this._longDateFormat[A],fe=this._longDateFormat[A.toUpperCase()];return W||!fe?W:(this._longDateFormat[A]=fe.match(ye).map(function(Be){return Be==="MMMM"||Be==="MM"||Be==="DD"||Be==="dddd"?Be.slice(1):Be}).join(""),this._longDateFormat[A])}var cn="Invalid date";function it(){return this._invalidDate}var ue="%d",De=/\d{1,2}/;function ve(A){return this._ordinal.replace("%d",A)}var le={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function st(A,W,fe,Be){var bt=this._relativeTime[fe];return at(bt)?bt(A,W,fe,Be):bt.replace(/%d/i,A)}function Ze(A,W){var fe=this._relativeTime[A>0?"future":"past"];return at(fe)?fe(W):fe.replace(/%s/i,W)}var Le={};function vt(A,W){var fe=A.toLowerCase();Le[fe]=Le[fe+"s"]=Le[W]=A}function $t(A){return typeof A=="string"?Le[A]||Le[A.toLowerCase()]:void 0}function Mt(A){var W={},fe,Be;for(Be in A)s(A,Be)&&(fe=$t(Be),fe&&(W[fe]=A[Be]));return W}var Vt={};function tn(A,W){Vt[A]=W}function en(A){var W=[],fe;for(fe in A)s(A,fe)&&W.push({unit:fe,priority:Vt[fe]});return W.sort(function(Be,bt){return Be.priority-bt.priority}),W}function En(A){return A%4===0&&A%100!==0||A%400===0}function Fn(A){return A<0?Math.ceil(A)||0:Math.floor(A)}function On(A){var W=+A,fe=0;return W!==0&&isFinite(W)&&(fe=Fn(W)),fe}function qt(A,W){return function(fe){return fe!=null?(qn(this,A,fe),e.updateOffset(this,W),this):pn(this,A)}}function pn(A,W){return A.isValid()?A._d["get"+(A._isUTC?"UTC":"")+W]():NaN}function qn(A,W,fe){A.isValid()&&!isNaN(fe)&&(W==="FullYear"&&En(A.year())&&A.month()===1&&A.date()===29?(fe=On(fe),A._d["set"+(A._isUTC?"UTC":"")+W](fe,A.month(),zn(fe,A.month()))):A._d["set"+(A._isUTC?"UTC":"")+W](fe))}function or(A){return A=$t(A),at(this[A])?this[A]():this}function In(A,W){if(typeof A=="object"){A=Mt(A);var fe=en(A),Be,bt=fe.length;for(Be=0;Be<bt;Be++)this[fe[Be].unit](A[fe[Be].unit])}else if(A=$t(A),at(this[A]))return this[A](W);return this}var Ne=/\d/,$e=/\d\d/,Oe=/\d{3}/,jt=/\d{4}/,yt=/[+-]?\d{6}/,mt=/\d\d?/,nn=/\d\d\d\d?/,Wt=/\d\d\d\d\d\d?/,Dn=/\d{1,3}/,Qn=/\d{1,4}/,Zn=/[+-]?\d{1,6}/,Pn=/\d+/,ar=/[+-]?\d+/,Ye=/Z|[+-]\d\d:?\d\d/gi,gt=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[+-]?\d+(\.\d{1,3})?/,qe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,et;et={};function Tt(A,W,fe){et[A]=at(W)?W:function(Be,bt){return Be&&fe?fe:W}}function fn(A,W){return s(et,A)?et[A](W._strict,W._locale):new RegExp(on(A))}function on(A){return ct(A.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(W,fe,Be,bt,An){return fe||Be||bt||An}))}function ct(A){return A.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ie={};function Te(A,W){var fe,Be=W,bt;for(typeof A=="string"&&(A=[A]),c(W)&&(Be=function(An,lr){lr[W]=On(An)}),bt=A.length,fe=0;fe<bt;fe++)ie[A[fe]]=Be}function ze(A,W){Te(A,function(fe,Be,bt,An){bt._w=bt._w||{},W(fe,bt._w,bt,An)})}function ht(A,W,fe){W!=null&&s(ie,A)&&ie[A](W,fe._a,fe,A)}var _t=0,Dt=1,ne=2,we=3,We=4,nt=5,Pt=6,sn=7,wn=8;function yn(A,W){return(A%W+W)%W}var xn;Array.prototype.indexOf?xn=Array.prototype.indexOf:xn=function(A){var W;for(W=0;W<this.length;++W)if(this[W]===A)return W;return-1};function zn(A,W){if(isNaN(A)||isNaN(W))return NaN;var fe=yn(W,12);return A+=(W-fe)/12,fe===1?En(A)?29:28:31-fe%7%2}Je("M",["MM",2],"Mo",function(){return this.month()+1}),Je("MMM",0,0,function(A){return this.localeData().monthsShort(this,A)}),Je("MMMM",0,0,function(A){return this.localeData().months(this,A)}),vt("month","M"),tn("month",8),Tt("M",mt),Tt("MM",mt,$e),Tt("MMM",function(A,W){return W.monthsShortRegex(A)}),Tt("MMMM",function(A,W){return W.monthsRegex(A)}),Te(["M","MM"],function(A,W){W[Dt]=On(A)-1}),Te(["MMM","MMMM"],function(A,W,fe,Be){var bt=fe._locale.monthsParse(A,Be,fe._strict);bt!=null?W[Dt]=bt:R(fe).invalidMonth=A});var Re="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),He="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),At=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,L=qe,V=qe;function be(A,W){return A?r(this._months)?this._months[A.month()]:this._months[(this._months.isFormat||At).test(W)?"format":"standalone"][A.month()]:r(this._months)?this._months:this._months.standalone}function pe(A,W){return A?r(this._monthsShort)?this._monthsShort[A.month()]:this._monthsShort[At.test(W)?"format":"standalone"][A.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Y(A,W,fe){var Be,bt,An,lr=A.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Be=0;Be<12;++Be)An=w([2e3,Be]),this._shortMonthsParse[Be]=this.monthsShort(An,"").toLocaleLowerCase(),this._longMonthsParse[Be]=this.months(An,"").toLocaleLowerCase();return fe?W==="MMM"?(bt=xn.call(this._shortMonthsParse,lr),bt!==-1?bt:null):(bt=xn.call(this._longMonthsParse,lr),bt!==-1?bt:null):W==="MMM"?(bt=xn.call(this._shortMonthsParse,lr),bt!==-1?bt:(bt=xn.call(this._longMonthsParse,lr),bt!==-1?bt:null)):(bt=xn.call(this._longMonthsParse,lr),bt!==-1?bt:(bt=xn.call(this._shortMonthsParse,lr),bt!==-1?bt:null))}function oe(A,W,fe){var Be,bt,An;if(this._monthsParseExact)return Y.call(this,A,W,fe);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Be=0;Be<12;Be++){if(bt=w([2e3,Be]),fe&&!this._longMonthsParse[Be]&&(this._longMonthsParse[Be]=new RegExp("^"+this.months(bt,"").replace(".","")+"$","i"),this._shortMonthsParse[Be]=new RegExp("^"+this.monthsShort(bt,"").replace(".","")+"$","i")),!fe&&!this._monthsParse[Be]&&(An="^"+this.months(bt,"")+"|^"+this.monthsShort(bt,""),this._monthsParse[Be]=new RegExp(An.replace(".",""),"i")),fe&&W==="MMMM"&&this._longMonthsParse[Be].test(A))return Be;if(fe&&W==="MMM"&&this._shortMonthsParse[Be].test(A))return Be;if(!fe&&this._monthsParse[Be].test(A))return Be}}function ce(A,W){var fe;if(!A.isValid())return A;if(typeof W=="string"){if(/^\d+$/.test(W))W=On(W);else if(W=A.localeData().monthsParse(W),!c(W))return A}return fe=Math.min(A.date(),zn(A.year(),W)),A._d["set"+(A._isUTC?"UTC":"")+"Month"](W,fe),A}function Qe(A){return A!=null?(ce(this,A),e.updateOffset(this,!0),this):pn(this,"Month")}function Rt(){return zn(this.year(),this.month())}function Et(A){return this._monthsParseExact?(s(this,"_monthsRegex")||S.call(this),A?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=L),this._monthsShortStrictRegex&&A?this._monthsShortStrictRegex:this._monthsShortRegex)}function ln(A){return this._monthsParseExact?(s(this,"_monthsRegex")||S.call(this),A?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=V),this._monthsStrictRegex&&A?this._monthsStrictRegex:this._monthsRegex)}function S(){function A(lr,zi){return zi.length-lr.length}var W=[],fe=[],Be=[],bt,An;for(bt=0;bt<12;bt++)An=w([2e3,bt]),W.push(this.monthsShort(An,"")),fe.push(this.months(An,"")),Be.push(this.months(An,"")),Be.push(this.monthsShort(An,""));for(W.sort(A),fe.sort(A),Be.sort(A),bt=0;bt<12;bt++)W[bt]=ct(W[bt]),fe[bt]=ct(fe[bt]);for(bt=0;bt<24;bt++)Be[bt]=ct(Be[bt]);this._monthsRegex=new RegExp("^("+Be.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+fe.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+W.join("|")+")","i")}Je("Y",0,0,function(){var A=this.year();return A<=9999?Xe(A,4):"+"+A}),Je(0,["YY",2],0,function(){return this.year()%100}),Je(0,["YYYY",4],0,"year"),Je(0,["YYYYY",5],0,"year"),Je(0,["YYYYYY",6,!0],0,"year"),vt("year","y"),tn("year",1),Tt("Y",ar),Tt("YY",mt,$e),Tt("YYYY",Qn,jt),Tt("YYYYY",Zn,yt),Tt("YYYYYY",Zn,yt),Te(["YYYYY","YYYYYY"],_t),Te("YYYY",function(A,W){W[_t]=A.length===2?e.parseTwoDigitYear(A):On(A)}),Te("YY",function(A,W){W[_t]=e.parseTwoDigitYear(A)}),Te("Y",function(A,W){W[_t]=parseInt(A,10)});function B(A){return En(A)?366:365}e.parseTwoDigitYear=function(A){return On(A)+(On(A)>68?1900:2e3)};var ee=qt("FullYear",!0);function Ee(){return En(this.year())}function ft(A,W,fe,Be,bt,An,lr){var zi;return A<100&&A>=0?(zi=new Date(A+400,W,fe,Be,bt,An,lr),isFinite(zi.getFullYear())&&zi.setFullYear(A)):zi=new Date(A,W,fe,Be,bt,An,lr),zi}function Ct(A){var W,fe;return A<100&&A>=0?(fe=Array.prototype.slice.call(arguments),fe[0]=A+400,W=new Date(Date.UTC.apply(null,fe)),isFinite(W.getUTCFullYear())&&W.setUTCFullYear(A)):W=new Date(Date.UTC.apply(null,arguments)),W}function Jt(A,W,fe){var Be=7+W-fe,bt=(7+Ct(A,0,Be).getUTCDay()-W)%7;return-bt+Be-1}function Kt(A,W,fe,Be,bt){var An=(7+fe-Be)%7,lr=Jt(A,Be,bt),zi=1+7*(W-1)+An+lr,qi,oo;return zi<=0?(qi=A-1,oo=B(qi)+zi):zi>B(A)?(qi=A+1,oo=zi-B(A)):(qi=A,oo=zi),{year:qi,dayOfYear:oo}}function hn(A,W,fe){var Be=Jt(A.year(),W,fe),bt=Math.floor((A.dayOfYear()-Be-1)/7)+1,An,lr;return bt<1?(lr=A.year()-1,An=bt+Bn(lr,W,fe)):bt>Bn(A.year(),W,fe)?(An=bt-Bn(A.year(),W,fe),lr=A.year()+1):(lr=A.year(),An=bt),{week:An,year:lr}}function Bn(A,W,fe){var Be=Jt(A,W,fe),bt=Jt(A+1,W,fe);return(B(A)-Be+bt)/7}Je("w",["ww",2],"wo","week"),Je("W",["WW",2],"Wo","isoWeek"),vt("week","w"),vt("isoWeek","W"),tn("week",5),tn("isoWeek",5),Tt("w",mt),Tt("ww",mt,$e),Tt("W",mt),Tt("WW",mt,$e),ze(["w","ww","W","WW"],function(A,W,fe,Be){W[Be.substr(0,1)]=On(A)});function jn(A){return hn(A,this._week.dow,this._week.doy).week}var Vn={dow:0,doy:6};function Xr(){return this._week.dow}function Wr(){return this._week.doy}function yr(A){var W=this.localeData().week(this);return A==null?W:this.add((A-W)*7,"d")}function Pr(A){var W=hn(this,1,4).week;return A==null?W:this.add((A-W)*7,"d")}Je("d",0,"do","day"),Je("dd",0,0,function(A){return this.localeData().weekdaysMin(this,A)}),Je("ddd",0,0,function(A){return this.localeData().weekdaysShort(this,A)}),Je("dddd",0,0,function(A){return this.localeData().weekdays(this,A)}),Je("e",0,0,"weekday"),Je("E",0,0,"isoWeekday"),vt("day","d"),vt("weekday","e"),vt("isoWeekday","E"),tn("day",11),tn("weekday",11),tn("isoWeekday",11),Tt("d",mt),Tt("e",mt),Tt("E",mt),Tt("dd",function(A,W){return W.weekdaysMinRegex(A)}),Tt("ddd",function(A,W){return W.weekdaysShortRegex(A)}),Tt("dddd",function(A,W){return W.weekdaysRegex(A)}),ze(["dd","ddd","dddd"],function(A,W,fe,Be){var bt=fe._locale.weekdaysParse(A,Be,fe._strict);bt!=null?W.d=bt:R(fe).invalidWeekday=A}),ze(["d","e","E"],function(A,W,fe,Be){W[Be]=On(A)});function vi(A,W){return typeof A!="string"?A:isNaN(A)?(A=W.weekdaysParse(A),typeof A=="number"?A:null):parseInt(A,10)}function li(A,W){return typeof A=="string"?W.weekdaysParse(A)%7||7:isNaN(A)?null:A}function Xi(A,W){return A.slice(W,7).concat(A.slice(0,W))}var ws="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ts="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ca="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),pa=qe,hl=qe,Sc=qe;function cu(A,W){var fe=r(this._weekdays)?this._weekdays:this._weekdays[A&&A!==!0&&this._weekdays.isFormat.test(W)?"format":"standalone"];return A===!0?Xi(fe,this._week.dow):A?fe[A.day()]:fe}function fu(A){return A===!0?Xi(this._weekdaysShort,this._week.dow):A?this._weekdaysShort[A.day()]:this._weekdaysShort}function Xu(A){return A===!0?Xi(this._weekdaysMin,this._week.dow):A?this._weekdaysMin[A.day()]:this._weekdaysMin}function Fu(A,W,fe){var Be,bt,An,lr=A.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Be=0;Be<7;++Be)An=w([2e3,1]).day(Be),this._minWeekdaysParse[Be]=this.weekdaysMin(An,"").toLocaleLowerCase(),this._shortWeekdaysParse[Be]=this.weekdaysShort(An,"").toLocaleLowerCase(),this._weekdaysParse[Be]=this.weekdays(An,"").toLocaleLowerCase();return fe?W==="dddd"?(bt=xn.call(this._weekdaysParse,lr),bt!==-1?bt:null):W==="ddd"?(bt=xn.call(this._shortWeekdaysParse,lr),bt!==-1?bt:null):(bt=xn.call(this._minWeekdaysParse,lr),bt!==-1?bt:null):W==="dddd"?(bt=xn.call(this._weekdaysParse,lr),bt!==-1||(bt=xn.call(this._shortWeekdaysParse,lr),bt!==-1)?bt:(bt=xn.call(this._minWeekdaysParse,lr),bt!==-1?bt:null)):W==="ddd"?(bt=xn.call(this._shortWeekdaysParse,lr),bt!==-1||(bt=xn.call(this._weekdaysParse,lr),bt!==-1)?bt:(bt=xn.call(this._minWeekdaysParse,lr),bt!==-1?bt:null)):(bt=xn.call(this._minWeekdaysParse,lr),bt!==-1||(bt=xn.call(this._weekdaysParse,lr),bt!==-1)?bt:(bt=xn.call(this._shortWeekdaysParse,lr),bt!==-1?bt:null))}function wc(A,W,fe){var Be,bt,An;if(this._weekdaysParseExact)return Fu.call(this,A,W,fe);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Be=0;Be<7;Be++){if(bt=w([2e3,1]).day(Be),fe&&!this._fullWeekdaysParse[Be]&&(this._fullWeekdaysParse[Be]=new RegExp("^"+this.weekdays(bt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Be]=new RegExp("^"+this.weekdaysShort(bt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Be]=new RegExp("^"+this.weekdaysMin(bt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Be]||(An="^"+this.weekdays(bt,"")+"|^"+this.weekdaysShort(bt,"")+"|^"+this.weekdaysMin(bt,""),this._weekdaysParse[Be]=new RegExp(An.replace(".",""),"i")),fe&&W==="dddd"&&this._fullWeekdaysParse[Be].test(A))return Be;if(fe&&W==="ddd"&&this._shortWeekdaysParse[Be].test(A))return Be;if(fe&&W==="dd"&&this._minWeekdaysParse[Be].test(A))return Be;if(!fe&&this._weekdaysParse[Be].test(A))return Be}}function ta(A){if(!this.isValid())return A!=null?this:NaN;var W=this._isUTC?this._d.getUTCDay():this._d.getDay();return A!=null?(A=vi(A,this.localeData()),this.add(A-W,"d")):W}function Zu(A){if(!this.isValid())return A!=null?this:NaN;var W=(this.day()+7-this.localeData()._week.dow)%7;return A==null?W:this.add(A-W,"d")}function Qc(A){if(!this.isValid())return A!=null?this:NaN;if(A!=null){var W=li(A,this.localeData());return this.day(this.day()%7?W:W-7)}else return this.day()||7}function Ge(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=pa),this._weekdaysStrictRegex&&A?this._weekdaysStrictRegex:this._weekdaysRegex)}function Gt(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=hl),this._weekdaysShortStrictRegex&&A?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Mn(A){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Yn.call(this),A?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Sc),this._weekdaysMinStrictRegex&&A?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Yn(){function A(mu,Rc){return Rc.length-mu.length}var W=[],fe=[],Be=[],bt=[],An,lr,zi,qi,oo;for(An=0;An<7;An++)lr=w([2e3,1]).day(An),zi=ct(this.weekdaysMin(lr,"")),qi=ct(this.weekdaysShort(lr,"")),oo=ct(this.weekdays(lr,"")),W.push(zi),fe.push(qi),Be.push(oo),bt.push(zi),bt.push(qi),bt.push(oo);W.sort(A),fe.sort(A),Be.sort(A),bt.sort(A),this._weekdaysRegex=new RegExp("^("+bt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Be.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+fe.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+W.join("|")+")","i")}function si(){return this.hours()%12||12}function jr(){return this.hours()||24}Je("H",["HH",2],0,"hour"),Je("h",["hh",2],0,si),Je("k",["kk",2],0,jr),Je("hmm",0,0,function(){return""+si.apply(this)+Xe(this.minutes(),2)}),Je("hmmss",0,0,function(){return""+si.apply(this)+Xe(this.minutes(),2)+Xe(this.seconds(),2)}),Je("Hmm",0,0,function(){return""+this.hours()+Xe(this.minutes(),2)}),Je("Hmmss",0,0,function(){return""+this.hours()+Xe(this.minutes(),2)+Xe(this.seconds(),2)});function Zr(A,W){Je(A,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),W)})}Zr("a",!0),Zr("A",!1),vt("hour","h"),tn("hour",13);function Cs(A,W){return W._meridiemParse}Tt("a",Cs),Tt("A",Cs),Tt("H",mt),Tt("h",mt),Tt("k",mt),Tt("HH",mt,$e),Tt("hh",mt,$e),Tt("kk",mt,$e),Tt("hmm",nn),Tt("hmmss",Wt),Tt("Hmm",nn),Tt("Hmmss",Wt),Te(["H","HH"],we),Te(["k","kk"],function(A,W,fe){var Be=On(A);W[we]=Be===24?0:Be}),Te(["a","A"],function(A,W,fe){fe._isPm=fe._locale.isPM(A),fe._meridiem=A}),Te(["h","hh"],function(A,W,fe){W[we]=On(A),R(fe).bigHour=!0}),Te("hmm",function(A,W,fe){var Be=A.length-2;W[we]=On(A.substr(0,Be)),W[We]=On(A.substr(Be)),R(fe).bigHour=!0}),Te("hmmss",function(A,W,fe){var Be=A.length-4,bt=A.length-2;W[we]=On(A.substr(0,Be)),W[We]=On(A.substr(Be,2)),W[nt]=On(A.substr(bt)),R(fe).bigHour=!0}),Te("Hmm",function(A,W,fe){var Be=A.length-2;W[we]=On(A.substr(0,Be)),W[We]=On(A.substr(Be))}),Te("Hmmss",function(A,W,fe){var Be=A.length-4,bt=A.length-2;W[we]=On(A.substr(0,Be)),W[We]=On(A.substr(Be,2)),W[nt]=On(A.substr(bt))});function fo(A){return(A+"").toLowerCase().charAt(0)==="p"}var ro=/[ap]\.?m?\.?/i,hs=qt("Hours",!0);function io(A,W,fe){return A>11?fe?"pm":"PM":fe?"am":"AM"}var ho={calendar:je,longDateFormat:Lt,invalidDate:cn,ordinal:ue,dayOfMonthOrdinalParse:De,relativeTime:le,months:Re,monthsShort:He,week:Vn,weekdays:ws,weekdaysMin:Ca,weekdaysShort:ts,meridiemParse:ro},xi={},Ci={},Wi;function Xo(A,W){var fe,Be=Math.min(A.length,W.length);for(fe=0;fe<Be;fe+=1)if(A[fe]!==W[fe])return fe;return Be}function fa(A){return A&&A.toLowerCase().replace("_","-")}function da(A){for(var W=0,fe,Be,bt,An;W<A.length;){for(An=fa(A[W]).split("-"),fe=An.length,Be=fa(A[W+1]),Be=Be?Be.split("-"):null;fe>0;){if(bt=us(An.slice(0,fe).join("-")),bt)return bt;if(Be&&Be.length>=fe&&Xo(An,Be)>=fe-1)break;fe--}W++}return Wi}function po(A){return A.match("^[^/\\\\]*$")!=null}function us(A){var W=null,fe;if(xi[A]===void 0&&typeof hC!="undefined"&&hC&&hC.exports&&po(A))try{W=Wi._abbr,fe=wL,fe("./locale/"+A),ps(W)}catch{xi[A]=null}return xi[A]}function ps(A,W){var fe;return A&&(a(W)?fe=Is(A):fe=Zi(A,W),fe?Wi=fe:typeof console!="undefined"&&console.warn&&console.warn("Locale "+A+" not found. Did you forget to load it?")),Wi._abbr}function Zi(A,W){if(W!==null){var fe,Be=ho;if(W.abbr=A,xi[A]!=null)Ve("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Be=xi[A]._config;else if(W.parentLocale!=null)if(xi[W.parentLocale]!=null)Be=xi[W.parentLocale]._config;else if(fe=us(W.parentLocale),fe!=null)Be=fe._config;else return Ci[W.parentLocale]||(Ci[W.parentLocale]=[]),Ci[W.parentLocale].push({name:A,config:W}),null;return xi[A]=new St(Ke(Be,W)),Ci[A]&&Ci[A].forEach(function(bt){Zi(bt.name,bt.config)}),ps(A),xi[A]}else return delete xi[A],null}function du(A,W){if(W!=null){var fe,Be,bt=ho;xi[A]!=null&&xi[A].parentLocale!=null?xi[A].set(Ke(xi[A]._config,W)):(Be=us(A),Be!=null&&(bt=Be._config),W=Ke(bt,W),Be==null&&(W.abbr=A),fe=new St(W),fe.parentLocale=xi[A],xi[A]=fe),ps(A)}else xi[A]!=null&&(xi[A].parentLocale!=null?(xi[A]=xi[A].parentLocale,A===ps()&&ps(A)):xi[A]!=null&&delete xi[A]);return xi[A]}function Is(A){var W;if(A&&A._locale&&A._locale._abbr&&(A=A._locale._abbr),!A)return Wi;if(!r(A)){if(W=us(A),W)return W;A=[A]}return da(A)}function ma(){return Ft(xi)}function oa(A){var W,fe=A._a;return fe&&R(A).overflow===-2&&(W=fe[Dt]<0||fe[Dt]>11?Dt:fe[ne]<1||fe[ne]>zn(fe[_t],fe[Dt])?ne:fe[we]<0||fe[we]>24||fe[we]===24&&(fe[We]!==0||fe[nt]!==0||fe[Pt]!==0)?we:fe[We]<0||fe[We]>59?We:fe[nt]<0||fe[nt]>59?nt:fe[Pt]<0||fe[Pt]>999?Pt:-1,R(A)._overflowDayOfYear&&(W<_t||W>ne)&&(W=ne),R(A)._overflowWeeks&&W===-1&&(W=sn),R(A)._overflowWeekday&&W===-1&&(W=wn),R(A).overflow=W),A}var ki=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vs=/Z|[+-]\d\d(?::?\d\d)?/,Bi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Oo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Na=/^\/?Date\((-?\d+)/i,Ja=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ro={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function To(A){var W,fe,Be=A._i,bt=ki.exec(Be)||Vo.exec(Be),An,lr,zi,qi,oo=Bi.length,mu=Oo.length;if(bt){for(R(A).iso=!0,W=0,fe=oo;W<fe;W++)if(Bi[W][1].exec(bt[1])){lr=Bi[W][0],An=Bi[W][2]!==!1;break}if(lr==null){A._isValid=!1;return}if(bt[3]){for(W=0,fe=mu;W<fe;W++)if(Oo[W][1].exec(bt[3])){zi=(bt[2]||" ")+Oo[W][0];break}if(zi==null){A._isValid=!1;return}}if(!An&&zi!=null){A._isValid=!1;return}if(bt[4])if(vs.exec(bt[4]))qi="Z";else{A._isValid=!1;return}A._f=lr+(zi||"")+(qi||""),ls(A)}else A._isValid=!1}function qa(A,W,fe,Be,bt,An){var lr=[hu(A),He.indexOf(W),parseInt(fe,10),parseInt(Be,10),parseInt(bt,10)];return An&&lr.push(parseInt(An,10)),lr}function hu(A){var W=parseInt(A,10);return W<=49?2e3+W:W<=999?1900+W:W}function Ua(A){return A.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function aa(A,W,fe){if(A){var Be=ts.indexOf(A),bt=new Date(W[0],W[1],W[2]).getDay();if(Be!==bt)return R(fe).weekdayMismatch=!0,fe._isValid=!1,!1}return!0}function ua(A,W,fe){if(A)return Ro[A];if(W)return 0;var Be=parseInt(fe,10),bt=Be%100,An=(Be-bt)/100;return An*60+bt}function pl(A){var W=Ja.exec(Ua(A._i)),fe;if(W){if(fe=qa(W[4],W[3],W[2],W[5],W[6],W[7]),!aa(W[1],fe,A))return;A._a=fe,A._tzm=ua(W[8],W[9],W[10]),A._d=Ct.apply(null,A._a),A._d.setUTCMinutes(A._d.getUTCMinutes()-A._tzm),R(A).rfc2822=!0}else A._isValid=!1}function Pl(A){var W=Na.exec(A._i);if(W!==null){A._d=new Date(+W[1]);return}if(To(A),A._isValid===!1)delete A._isValid;else return;if(pl(A),A._isValid===!1)delete A._isValid;else return;A._strict?A._isValid=!1:e.createFromInputFallback(A)}e.createFromInputFallback=me("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(A){A._d=new Date(A._i+(A._useUTC?" UTC":""))});function na(A,W,fe){return A??W??fe}function el(A){var W=new Date(e.now());return A._useUTC?[W.getUTCFullYear(),W.getUTCMonth(),W.getUTCDate()]:[W.getFullYear(),W.getMonth(),W.getDate()]}function ci(A){var W,fe,Be=[],bt,An,lr;if(!A._d){for(bt=el(A),A._w&&A._a[ne]==null&&A._a[Dt]==null&&rs(A),A._dayOfYear!=null&&(lr=na(A._a[_t],bt[_t]),(A._dayOfYear>B(lr)||A._dayOfYear===0)&&(R(A)._overflowDayOfYear=!0),fe=Ct(lr,0,A._dayOfYear),A._a[Dt]=fe.getUTCMonth(),A._a[ne]=fe.getUTCDate()),W=0;W<3&&A._a[W]==null;++W)A._a[W]=Be[W]=bt[W];for(;W<7;W++)A._a[W]=Be[W]=A._a[W]==null?W===2?1:0:A._a[W];A._a[we]===24&&A._a[We]===0&&A._a[nt]===0&&A._a[Pt]===0&&(A._nextDay=!0,A._a[we]=0),A._d=(A._useUTC?Ct:ft).apply(null,Be),An=A._useUTC?A._d.getUTCDay():A._d.getDay(),A._tzm!=null&&A._d.setUTCMinutes(A._d.getUTCMinutes()-A._tzm),A._nextDay&&(A._a[we]=24),A._w&&typeof A._w.d!="undefined"&&A._w.d!==An&&(R(A).weekdayMismatch=!0)}}function rs(A){var W,fe,Be,bt,An,lr,zi,qi,oo;W=A._w,W.GG!=null||W.W!=null||W.E!=null?(An=1,lr=4,fe=na(W.GG,A._a[_t],hn(Nn(),1,4).year),Be=na(W.W,1),bt=na(W.E,1),(bt<1||bt>7)&&(qi=!0)):(An=A._locale._week.dow,lr=A._locale._week.doy,oo=hn(Nn(),An,lr),fe=na(W.gg,A._a[_t],oo.year),Be=na(W.w,oo.week),W.d!=null?(bt=W.d,(bt<0||bt>6)&&(qi=!0)):W.e!=null?(bt=W.e+An,(W.e<0||W.e>6)&&(qi=!0)):bt=An),Be<1||Be>Bn(fe,An,lr)?R(A)._overflowWeeks=!0:qi!=null?R(A)._overflowWeekday=!0:(zi=Kt(fe,Be,bt,An,lr),A._a[_t]=zi.year,A._dayOfYear=zi.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function ls(A){if(A._f===e.ISO_8601){To(A);return}if(A._f===e.RFC_2822){pl(A);return}A._a=[],R(A).empty=!0;var W=""+A._i,fe,Be,bt,An,lr,zi=W.length,qi=0,oo,mu;for(bt=mn(A._f,A._locale).match(ye)||[],mu=bt.length,fe=0;fe<mu;fe++)An=bt[fe],Be=(W.match(fn(An,A))||[])[0],Be&&(lr=W.substr(0,W.indexOf(Be)),lr.length>0&&R(A).unusedInput.push(lr),W=W.slice(W.indexOf(Be)+Be.length),qi+=Be.length),xe[An]?(Be?R(A).empty=!1:R(A).unusedTokens.push(An),ht(An,Be,A)):A._strict&&!Be&&R(A).unusedTokens.push(An);R(A).charsLeftOver=zi-qi,W.length>0&&R(A).unusedInput.push(W),A._a[we]<=12&&R(A).bigHour===!0&&A._a[we]>0&&(R(A).bigHour=void 0),R(A).parsedDateParts=A._a.slice(0),R(A).meridiem=A._meridiem,A._a[we]=pr(A._locale,A._a[we],A._meridiem),oo=R(A).era,oo!==null&&(A._a[_t]=A._locale.erasConvertYear(oo,A._a[_t])),ci(A),oa(A)}function pr(A,W,fe){var Be;return fe==null?W:A.meridiemHour!=null?A.meridiemHour(W,fe):(A.isPM!=null&&(Be=A.isPM(fe),Be&&W<12&&(W+=12),!Be&&W===12&&(W=0)),W)}function as(A){var W,fe,Be,bt,An,lr,zi=!1,qi=A._f.length;if(qi===0){R(A).invalidFormat=!0,A._d=new Date(NaN);return}for(bt=0;bt<qi;bt++)An=0,lr=!1,W=K({},A),A._useUTC!=null&&(W._useUTC=A._useUTC),W._f=A._f[bt],ls(W),Q(W)&&(lr=!0),An+=R(W).charsLeftOver,An+=R(W).unusedTokens.length*10,R(W).score=An,zi?An<Be&&(Be=An,fe=W):(Be==null||An<Be||lr)&&(Be=An,fe=W,lr&&(zi=!0));E(A,fe||W)}function Me(A){if(!A._d){var W=Mt(A._i),fe=W.day===void 0?W.date:W.day;A._a=p([W.year,W.month,fe,W.hour,W.minute,W.second,W.millisecond],function(Be){return Be&&parseInt(Be,10)}),ci(A)}}function pt(A){var W=new de(oa(Yt(A)));return W._nextDay&&(W.add(1,"d"),W._nextDay=void 0),W}function Yt(A){var W=A._i,fe=A._f;return A._locale=A._locale||Is(A._l),W===null||fe===void 0&&W===""?P({nullInput:!0}):(typeof W=="string"&&(A._i=W=A._locale.preparse(W)),M(W)?new de(oa(W)):(d(W)?A._d=W:r(fe)?as(A):fe?ls(A):Bt(A),Q(A)||(A._d=null),A))}function Bt(A){var W=A._i;a(W)?A._d=new Date(e.now()):d(W)?A._d=new Date(W.valueOf()):typeof W=="string"?Pl(A):r(W)?(A._a=p(W.slice(0),function(fe){return parseInt(fe,10)}),ci(A)):i(W)?Me(A):c(W)?A._d=new Date(W):e.createFromInputFallback(A)}function dn(A,W,fe,Be,bt){var An={};return(W===!0||W===!1)&&(Be=W,W=void 0),(fe===!0||fe===!1)&&(Be=fe,fe=void 0),(i(A)&&o(A)||r(A)&&A.length===0)&&(A=void 0),An._isAMomentObject=!0,An._useUTC=An._isUTC=bt,An._l=fe,An._i=A,An._f=W,An._strict=Be,pt(An)}function Nn(A,W,fe,Be){return dn(A,W,fe,Be,!1)}var Kn=me("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var A=Nn.apply(null,arguments);return this.isValid()&&A.isValid()?A<this?this:A:P()}),Un=me("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var A=Nn.apply(null,arguments);return this.isValid()&&A.isValid()?A>this?this:A:P()});function br(A,W){var fe,Be;if(W.length===1&&r(W[0])&&(W=W[0]),!W.length)return Nn();for(fe=W[0],Be=1;Be<W.length;++Be)(!W[Be].isValid()||W[Be][A](fe))&&(fe=W[Be]);return fe}function wr(){var A=[].slice.call(arguments,0);return br("isBefore",A)}function Gn(){var A=[].slice.call(arguments,0);return br("isAfter",A)}var ur=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function gr(A){var W,fe=!1,Be,bt=tr.length;for(W in A)if(s(A,W)&&!(xn.call(tr,W)!==-1&&(A[W]==null||!isNaN(A[W]))))return!1;for(Be=0;Be<bt;++Be)if(A[tr[Be]]){if(fe)return!1;parseFloat(A[tr[Be]])!==On(A[tr[Be]])&&(fe=!0)}return!0}function Or(){return this._isValid}function mi(){return $i(NaN)}function ii(A){var W=Mt(A),fe=W.year||0,Be=W.quarter||0,bt=W.month||0,An=W.week||W.isoWeek||0,lr=W.day||0,zi=W.hour||0,qi=W.minute||0,oo=W.second||0,mu=W.millisecond||0;this._isValid=gr(W),this._milliseconds=+mu+oo*1e3+qi*6e4+zi*1e3*60*60,this._days=+lr+An*7,this._months=+bt+Be*3+fe*12,this._data={},this._locale=Is(),this._bubble()}function gi(A){return A instanceof ii}function oi(A){return A<0?Math.round(-1*A)*-1:Math.round(A)}function Ur(A,W,fe){var Be=Math.min(A.length,W.length),bt=Math.abs(A.length-W.length),An=0,lr;for(lr=0;lr<Be;lr++)(fe&&A[lr]!==W[lr]||!fe&&On(A[lr])!==On(W[lr]))&&An++;return An+bt}function Ir(A,W){Je(A,0,0,function(){var fe=this.utcOffset(),Be="+";return fe<0&&(fe=-fe,Be="-"),Be+Xe(~~(fe/60),2)+W+Xe(~~fe%60,2)})}Ir("Z",":"),Ir("ZZ",""),Tt("Z",gt),Tt("ZZ",gt),Te(["Z","ZZ"],function(A,W,fe){fe._useUTC=!0,fe._tzm=_i(gt,A)});var bi=/([\+\-]|\d\d)/gi;function _i(A,W){var fe=(W||"").match(A),Be,bt,An;return fe===null?null:(Be=fe[fe.length-1]||[],bt=(Be+"").match(bi)||["-",0,0],An=+(bt[1]*60)+On(bt[2]),An===0?0:bt[0]==="+"?An:-An)}function os(A,W){var fe,Be;return W._isUTC?(fe=W.clone(),Be=(M(A)||d(A)?A.valueOf():Nn(A).valueOf())-fe.valueOf(),fe._d.setTime(fe._d.valueOf()+Be),e.updateOffset(fe,!1),fe):Nn(A).local()}function gs(A){return-Math.round(A._d.getTimezoneOffset())}e.updateOffset=function(){};function Ei(A,W,fe){var Be=this._offset||0,bt;if(!this.isValid())return A!=null?this:NaN;if(A!=null){if(typeof A=="string"){if(A=_i(gt,A),A===null)return this}else Math.abs(A)<16&&!fe&&(A=A*60);return!this._isUTC&&W&&(bt=gs(this)),this._offset=A,this._isUTC=!0,bt!=null&&this.add(bt,"m"),Be!==A&&(!W||this._changeInProgress?Xt(this,$i(A-Be,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Be:gs(this)}function Ms(A,W){return A!=null?(typeof A!="string"&&(A=-A),this.utcOffset(A,W),this):-this.utcOffset()}function is(A){return this.utcOffset(0,A)}function xa(A){return this._isUTC&&(this.utcOffset(0,A),this._isUTC=!1,A&&this.subtract(gs(this),"m")),this}function No(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var A=_i(Ye,this._i);A!=null?this.utcOffset(A):this.utcOffset(0,!0)}return this}function As(A){return this.isValid()?(A=A?Nn(A).utcOffset():0,(this.utcOffset()-A)%60===0):!1}function Zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jn(){if(!a(this._isDSTShifted))return this._isDSTShifted;var A={},W;return K(A,this),A=Yt(A),A._a?(W=A._isUTC?w(A._a):Nn(A._a),this._isDSTShifted=this.isValid()&&Ur(A._a,W.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function vn(){return this.isValid()?!this._isUTC:!1}function Kr(){return this.isValid()?this._isUTC:!1}function Oi(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ns=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ms=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $i(A,W){var fe=A,Be=null,bt,An,lr;return gi(A)?fe={ms:A._milliseconds,d:A._days,M:A._months}:c(A)||!isNaN(+A)?(fe={},W?fe[W]=+A:fe.milliseconds=+A):(Be=ns.exec(A))?(bt=Be[1]==="-"?-1:1,fe={y:0,d:On(Be[ne])*bt,h:On(Be[we])*bt,m:On(Be[We])*bt,s:On(Be[nt])*bt,ms:On(oi(Be[Pt]*1e3))*bt}):(Be=ms.exec(A))?(bt=Be[1]==="-"?-1:1,fe={y:cs(Be[2],bt),M:cs(Be[3],bt),w:cs(Be[4],bt),d:cs(Be[5],bt),h:cs(Be[6],bt),m:cs(Be[7],bt),s:cs(Be[8],bt)}):fe==null?fe={}:typeof fe=="object"&&("from"in fe||"to"in fe)&&(lr=ae(Nn(fe.from),Nn(fe.to)),fe={},fe.ms=lr.milliseconds,fe.M=lr.months),An=new ii(fe),gi(A)&&s(A,"_locale")&&(An._locale=A._locale),gi(A)&&s(A,"_isValid")&&(An._isValid=A._isValid),An}$i.fn=ii.prototype,$i.invalid=mi;function cs(A,W){var fe=A&&parseFloat(A.replace(",","."));return(isNaN(fe)?0:fe)*W}function pu(A,W){var fe={};return fe.months=W.month()-A.month()+(W.year()-A.year())*12,A.clone().add(fe.months,"M").isAfter(W)&&--fe.months,fe.milliseconds=+W-+A.clone().add(fe.months,"M"),fe}function ae(A,W){var fe;return A.isValid()&&W.isValid()?(W=os(W,A),A.isBefore(W)?fe=pu(A,W):(fe=pu(W,A),fe.milliseconds=-fe.milliseconds,fe.months=-fe.months),fe):{milliseconds:0,months:0}}function ot(A,W){return function(fe,Be){var bt,An;return Be!==null&&!isNaN(+Be)&&(Ve(W,"moment()."+W+"(period, number) is deprecated. Please use moment()."+W+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),An=fe,fe=Be,Be=An),bt=$i(fe,Be),Xt(this,bt,A),this}}function Xt(A,W,fe,Be){var bt=W._milliseconds,An=oi(W._days),lr=oi(W._months);!A.isValid()||(Be=Be??!0,lr&&ce(A,pn(A,"Month")+lr*fe),An&&qn(A,"Date",pn(A,"Date")+An*fe),bt&&A._d.setTime(A._d.valueOf()+bt*fe),Be&&e.updateOffset(A,An||lr))}var Tn=ot(1,"add"),rr=ot(-1,"subtract");function vr(A){return typeof A=="string"||A instanceof String}function dr(A){return M(A)||d(A)||vr(A)||c(A)||_s(A)||es(A)||A===null||A===void 0}function es(A){var W=i(A)&&!o(A),fe=!1,Be=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],bt,An,lr=Be.length;for(bt=0;bt<lr;bt+=1)An=Be[bt],fe=fe||s(A,An);return W&&fe}function _s(A){var W=r(A),fe=!1;return W&&(fe=A.filter(function(Be){return!c(Be)&&vr(A)}).length===0),W&&fe}function Rs(A){var W=i(A)&&!o(A),fe=!1,Be=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],bt,An;for(bt=0;bt<Be.length;bt+=1)An=Be[bt],fe=fe||s(A,An);return W&&fe}function so(A,W){var fe=A.diff(W,"days",!0);return fe<-6?"sameElse":fe<-1?"lastWeek":fe<0?"lastDay":fe<1?"sameDay":fe<2?"nextDay":fe<7?"nextWeek":"sameElse"}function Xa(A,W){arguments.length===1&&(arguments[0]?dr(arguments[0])?(A=arguments[0],W=void 0):Rs(arguments[0])&&(W=arguments[0],A=void 0):(A=void 0,W=void 0));var fe=A||Nn(),Be=os(fe,this).startOf("day"),bt=e.calendarFormat(this,Be)||"sameElse",An=W&&(at(W[bt])?W[bt].call(this,fe):W[bt]);return this.format(An||this.localeData().calendar(bt,this,Nn(fe)))}function Xl(){return new de(this)}function Gc(A,W){var fe=M(A)?A:Nn(A);return this.isValid()&&fe.isValid()?(W=$t(W)||"millisecond",W==="millisecond"?this.valueOf()>fe.valueOf():fe.valueOf()<this.clone().startOf(W).valueOf()):!1}function Cc(A,W){var fe=M(A)?A:Nn(A);return this.isValid()&&fe.isValid()?(W=$t(W)||"millisecond",W==="millisecond"?this.valueOf()<fe.valueOf():this.clone().endOf(W).valueOf()<fe.valueOf()):!1}function e0(A,W,fe,Be){var bt=M(A)?A:Nn(A),An=M(W)?W:Nn(W);return this.isValid()&&bt.isValid()&&An.isValid()?(Be=Be||"()",(Be[0]==="("?this.isAfter(bt,fe):!this.isBefore(bt,fe))&&(Be[1]===")"?this.isBefore(An,fe):!this.isAfter(An,fe))):!1}function U0(A,W){var fe=M(A)?A:Nn(A),Be;return this.isValid()&&fe.isValid()?(W=$t(W)||"millisecond",W==="millisecond"?this.valueOf()===fe.valueOf():(Be=fe.valueOf(),this.clone().startOf(W).valueOf()<=Be&&Be<=this.clone().endOf(W).valueOf())):!1}function Zl(A,W){return this.isSame(A,W)||this.isAfter(A,W)}function Yc(A,W){return this.isSame(A,W)||this.isBefore(A,W)}function t0(A,W,fe){var Be,bt,An;if(!this.isValid())return NaN;if(Be=os(A,this),!Be.isValid())return NaN;switch(bt=(Be.utcOffset()-this.utcOffset())*6e4,W=$t(W),W){case"year":An=ml(this,Be)/12;break;case"month":An=ml(this,Be);break;case"quarter":An=ml(this,Be)/3;break;case"second":An=(this-Be)/1e3;break;case"minute":An=(this-Be)/6e4;break;case"hour":An=(this-Be)/36e5;break;case"day":An=(this-Be-bt)/864e5;break;case"week":An=(this-Be-bt)/6048e5;break;default:An=this-Be}return fe?An:Fn(An)}function ml(A,W){if(A.date()<W.date())return-ml(W,A);var fe=(W.year()-A.year())*12+(W.month()-A.month()),Be=A.clone().add(fe,"months"),bt,An;return W-Be<0?(bt=A.clone().add(fe-1,"months"),An=(W-Be)/(Be-bt)):(bt=A.clone().add(fe+1,"months"),An=(W-Be)/(bt-Be)),-(fe+An)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ac(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function n0(A){if(!this.isValid())return null;var W=A!==!0,fe=W?this.clone().utc():this;return fe.year()<0||fe.year()>9999?wt(fe,W?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):at(Date.prototype.toISOString)?W?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",wt(fe,"Z")):wt(fe,W?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ec(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var A="moment",W="",fe,Be,bt,An;return this.isLocal()||(A=this.utcOffset()===0?"moment.utc":"moment.parseZone",W="Z"),fe="["+A+'("]',Be=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",bt="-MM-DD[T]HH:mm:ss.SSS",An=W+'[")]',this.format(fe+Be+bt+An)}function Bl(A){A||(A=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var W=wt(this,A);return this.localeData().postformat(W)}function z0(A,W){return this.isValid()&&(M(A)&&A.isValid()||Nn(A).isValid())?$i({to:this,from:A}).locale(this.locale()).humanize(!W):this.localeData().invalidDate()}function yh(A){return this.from(Nn(),A)}function H0(A,W){return this.isValid()&&(M(A)&&A.isValid()||Nn(A).isValid())?$i({from:this,to:A}).locale(this.locale()).humanize(!W):this.localeData().invalidDate()}function $0(A){return this.to(Nn(),A)}function Kc(A){var W;return A===void 0?this._locale._abbr:(W=Is(A),W!=null&&(this._locale=W),this)}var V0=me("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(A){return A===void 0?this.localeData():this.locale(A)});function Tc(){return this._locale}var r0=1e3,i0=60*r0,s0=60*i0,Uo=(365*400+97)*24*s0;function Zo(A,W){return(A%W+W)%W}function o0(A,W,fe){return A<100&&A>=0?new Date(A+400,W,fe)-Uo:new Date(A,W,fe).valueOf()}function xl(A,W,fe){return A<100&&A>=0?Date.UTC(A+400,W,fe)-Uo:Date.UTC(A,W,fe)}function Jc(A){var W,fe;if(A=$t(A),A===void 0||A==="millisecond"||!this.isValid())return this;switch(fe=this._isUTC?xl:o0,A){case"year":W=fe(this.year(),0,1);break;case"quarter":W=fe(this.year(),this.month()-this.month()%3,1);break;case"month":W=fe(this.year(),this.month(),1);break;case"week":W=fe(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":W=fe(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":W=fe(this.year(),this.month(),this.date());break;case"hour":W=this._d.valueOf(),W-=Zo(W+(this._isUTC?0:this.utcOffset()*i0),s0);break;case"minute":W=this._d.valueOf(),W-=Zo(W,i0);break;case"second":W=this._d.valueOf(),W-=Zo(W,r0);break}return this._d.setTime(W),e.updateOffset(this,!0),this}function Ld(A){var W,fe;if(A=$t(A),A===void 0||A==="millisecond"||!this.isValid())return this;switch(fe=this._isUTC?xl:o0,A){case"year":W=fe(this.year()+1,0,1)-1;break;case"quarter":W=fe(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":W=fe(this.year(),this.month()+1,1)-1;break;case"week":W=fe(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":W=fe(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":W=fe(this.year(),this.month(),this.date()+1)-1;break;case"hour":W=this._d.valueOf(),W+=s0-Zo(W+(this._isUTC?0:this.utcOffset()*i0),s0)-1;break;case"minute":W=this._d.valueOf(),W+=i0-Zo(W,i0)-1;break;case"second":W=this._d.valueOf(),W+=r0-Zo(W,r0)-1;break}return this._d.setTime(W),e.updateOffset(this,!0),this}function Du(){return this._d.valueOf()-(this._offset||0)*6e4}function _o(){return Math.floor(this.valueOf()/1e3)}function vh(){return new Date(this.valueOf())}function gl(){var A=this;return[A.year(),A.month(),A.date(),A.hour(),A.minute(),A.second(),A.millisecond()]}function Ls(){var A=this;return{years:A.year(),months:A.month(),date:A.date(),hours:A.hours(),minutes:A.minutes(),seconds:A.seconds(),milliseconds:A.milliseconds()}}function yl(){return this.isValid()?this.toISOString():null}function k(){return Q(this)}function X(){return E({},R(this))}function Ue(){return R(this).overflow}function Ot(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Je("N",0,0,"eraAbbr"),Je("NN",0,0,"eraAbbr"),Je("NNN",0,0,"eraAbbr"),Je("NNNN",0,0,"eraName"),Je("NNNNN",0,0,"eraNarrow"),Je("y",["y",1],"yo","eraYear"),Je("y",["yy",2],0,"eraYear"),Je("y",["yyy",3],0,"eraYear"),Je("y",["yyyy",4],0,"eraYear"),Tt("N",Gr),Tt("NN",Gr),Tt("NNN",Gr),Tt("NNNN",Qs),Tt("NNNNN",zo),Te(["N","NN","NNN","NNNN","NNNNN"],function(A,W,fe,Be){var bt=fe._locale.erasParse(A,Be,fe._strict);bt?R(fe).era=bt:R(fe).invalidEra=A}),Tt("y",Pn),Tt("yy",Pn),Tt("yyy",Pn),Tt("yyyy",Pn),Tt("yo",ga),Te(["y","yy","yyy","yyyy"],_t),Te(["yo"],function(A,W,fe,Be){var bt;fe._locale._eraYearOrdinalRegex&&(bt=A.match(fe._locale._eraYearOrdinalRegex)),fe._locale.eraYearOrdinalParse?W[_t]=fe._locale.eraYearOrdinalParse(A,bt):W[_t]=parseInt(A,10)});function zt(A,W){var fe,Be,bt,An=this._eras||Is("en")._eras;for(fe=0,Be=An.length;fe<Be;++fe){switch(typeof An[fe].since){case"string":bt=e(An[fe].since).startOf("day"),An[fe].since=bt.valueOf();break}switch(typeof An[fe].until){case"undefined":An[fe].until=1/0;break;case"string":bt=e(An[fe].until).startOf("day").valueOf(),An[fe].until=bt.valueOf();break}}return An}function Cn(A,W,fe){var Be,bt,An=this.eras(),lr,zi,qi;for(A=A.toUpperCase(),Be=0,bt=An.length;Be<bt;++Be)if(lr=An[Be].name.toUpperCase(),zi=An[Be].abbr.toUpperCase(),qi=An[Be].narrow.toUpperCase(),fe)switch(W){case"N":case"NN":case"NNN":if(zi===A)return An[Be];break;case"NNNN":if(lr===A)return An[Be];break;case"NNNNN":if(qi===A)return An[Be];break}else if([lr,zi,qi].indexOf(A)>=0)return An[Be]}function Ln(A,W){var fe=A.since<=A.until?1:-1;return W===void 0?e(A.since).year():e(A.since).year()+(W-A.offset)*fe}function ir(){var A,W,fe,Be=this.localeData().eras();for(A=0,W=Be.length;A<W;++A)if(fe=this.clone().startOf("day").valueOf(),Be[A].since<=fe&&fe<=Be[A].until||Be[A].until<=fe&&fe<=Be[A].since)return Be[A].name;return""}function hr(){var A,W,fe,Be=this.localeData().eras();for(A=0,W=Be.length;A<W;++A)if(fe=this.clone().startOf("day").valueOf(),Be[A].since<=fe&&fe<=Be[A].until||Be[A].until<=fe&&fe<=Be[A].since)return Be[A].narrow;return""}function Nr(){var A,W,fe,Be=this.localeData().eras();for(A=0,W=Be.length;A<W;++A)if(fe=this.clone().startOf("day").valueOf(),Be[A].since<=fe&&fe<=Be[A].until||Be[A].until<=fe&&fe<=Be[A].since)return Be[A].abbr;return""}function tt(){var A,W,fe,Be,bt=this.localeData().eras();for(A=0,W=bt.length;A<W;++A)if(fe=bt[A].since<=bt[A].until?1:-1,Be=this.clone().startOf("day").valueOf(),bt[A].since<=Be&&Be<=bt[A].until||bt[A].until<=Be&&Be<=bt[A].since)return(this.year()-e(bt[A].since).year())*fe+bt[A].offset;return this.year()}function Ri(A){return s(this,"_erasNameRegex")||mo.call(this),A?this._erasNameRegex:this._erasRegex}function Qi(A){return s(this,"_erasAbbrRegex")||mo.call(this),A?this._erasAbbrRegex:this._erasRegex}function Mi(A){return s(this,"_erasNarrowRegex")||mo.call(this),A?this._erasNarrowRegex:this._erasRegex}function Gr(A,W){return W.erasAbbrRegex(A)}function Qs(A,W){return W.erasNameRegex(A)}function zo(A,W){return W.erasNarrowRegex(A)}function ga(A,W){return W._eraYearOrdinalRegex||Pn}function mo(){var A=[],W=[],fe=[],Be=[],bt,An,lr=this.eras();for(bt=0,An=lr.length;bt<An;++bt)W.push(ct(lr[bt].name)),A.push(ct(lr[bt].abbr)),fe.push(ct(lr[bt].narrow)),Be.push(ct(lr[bt].name)),Be.push(ct(lr[bt].abbr)),Be.push(ct(lr[bt].narrow));this._erasRegex=new RegExp("^("+Be.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+W.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+A.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+fe.join("|")+")","i")}Je(0,["gg",2],0,function(){return this.weekYear()%100}),Je(0,["GG",2],0,function(){return this.isoWeekYear()%100});function La(A,W){Je(0,[A,A.length],0,W)}La("gggg","weekYear"),La("ggggg","weekYear"),La("GGGG","isoWeekYear"),La("GGGGG","isoWeekYear"),vt("weekYear","gg"),vt("isoWeekYear","GG"),tn("weekYear",1),tn("isoWeekYear",1),Tt("G",ar),Tt("g",ar),Tt("GG",mt,$e),Tt("gg",mt,$e),Tt("GGGG",Qn,jt),Tt("gggg",Qn,jt),Tt("GGGGG",Zn,yt),Tt("ggggg",Zn,yt),ze(["gggg","ggggg","GGGG","GGGGG"],function(A,W,fe,Be){W[Be.substr(0,2)]=On(A)}),ze(["gg","GG"],function(A,W,fe,Be){W[Be]=e.parseTwoDigitYear(A)});function tc(A){return Zc.call(this,A,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function jl(A){return Zc.call(this,A,this.isoWeek(),this.isoWeekday(),1,4)}function ka(){return Bn(this.year(),1,4)}function nc(){return Bn(this.isoWeekYear(),1,4)}function ya(){var A=this.localeData()._week;return Bn(this.year(),A.dow,A.doy)}function Xc(){var A=this.localeData()._week;return Bn(this.weekYear(),A.dow,A.doy)}function Zc(A,W,fe,Be,bt){var An;return A==null?hn(this,Be,bt).year:(An=Bn(A,Be,bt),W>An&&(W=An),tl.call(this,A,W,fe,Be,bt))}function tl(A,W,fe,Be,bt){var An=Kt(A,W,fe,Be,bt),lr=Ct(An.year,0,An.dayOfYear);return this.year(lr.getUTCFullYear()),this.month(lr.getUTCMonth()),this.date(lr.getUTCDate()),this}Je("Q",0,"Qo","quarter"),vt("quarter","Q"),tn("quarter",7),Tt("Q",Ne),Te("Q",function(A,W){W[Dt]=(On(A)-1)*3});function rc(A){return A==null?Math.ceil((this.month()+1)/3):this.month((A-1)*3+this.month()%3)}Je("D",["DD",2],"Do","date"),vt("date","D"),tn("date",9),Tt("D",mt),Tt("DD",mt,$e),Tt("Do",function(A,W){return A?W._dayOfMonthOrdinalParse||W._ordinalParse:W._dayOfMonthOrdinalParseLenient}),Te(["D","DD"],ne),Te("Do",function(A,W){W[ne]=On(A.match(mt)[0])});var O1=qt("Date",!0);Je("DDD",["DDDD",3],"DDDo","dayOfYear"),vt("dayOfYear","DDD"),tn("dayOfYear",4),Tt("DDD",Dn),Tt("DDDD",Oe),Te(["DDD","DDDD"],function(A,W,fe){fe._dayOfYear=On(A)});function Fc(A){var W=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return A==null?W:this.add(A-W,"d")}Je("m",["mm",2],0,"minute"),vt("minute","m"),tn("minute",14),Tt("m",mt),Tt("mm",mt,$e),Te(["m","mm"],We);var jm=qt("Minutes",!1);Je("s",["ss",2],0,"second"),vt("second","s"),tn("second",15),Tt("s",mt),Tt("ss",mt,$e),Te(["s","ss"],nt);var ql=qt("Seconds",!1);Je("S",0,0,function(){return~~(this.millisecond()/100)}),Je(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Je(0,["SSS",3],0,"millisecond"),Je(0,["SSSS",4],0,function(){return this.millisecond()*10}),Je(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Je(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Je(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Je(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Je(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),vt("millisecond","ms"),tn("millisecond",16),Tt("S",Dn,Ne),Tt("SS",Dn,$e),Tt("SSS",Dn,Oe);var Sf,Dc;for(Sf="SSSS";Sf.length<=9;Sf+="S")Tt(Sf,Pn);function qr(A,W){W[Pt]=On(("0."+A)*1e3)}for(Sf="S";Sf.length<=9;Sf+="S")Te(Sf,qr);Dc=qt("Milliseconds",!1),Je("z",0,0,"zoneAbbr"),Je("zz",0,0,"zoneName");function W0(){return this._isUTC?"UTC":""}function Q0(){return this._isUTC?"Coordinated Universal Time":""}var Hr=de.prototype;Hr.add=Tn,Hr.calendar=Xa,Hr.clone=Xl,Hr.diff=t0,Hr.endOf=Ld,Hr.format=Bl,Hr.from=z0,Hr.fromNow=yh,Hr.to=H0,Hr.toNow=$0,Hr.get=or,Hr.invalidAt=Ue,Hr.isAfter=Gc,Hr.isBefore=Cc,Hr.isBetween=e0,Hr.isSame=U0,Hr.isSameOrAfter=Zl,Hr.isSameOrBefore=Yc,Hr.isValid=k,Hr.lang=V0,Hr.locale=Kc,Hr.localeData=Tc,Hr.max=Un,Hr.min=Kn,Hr.parsingFlags=X,Hr.set=In,Hr.startOf=Jc,Hr.subtract=rr,Hr.toArray=gl,Hr.toObject=Ls,Hr.toDate=vh,Hr.toISOString=n0,Hr.inspect=ec,typeof Symbol!="undefined"&&Symbol.for!=null&&(Hr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Hr.toJSON=yl,Hr.toString=Ac,Hr.unix=_o,Hr.valueOf=Du,Hr.creationData=Ot,Hr.eraName=ir,Hr.eraNarrow=hr,Hr.eraAbbr=Nr,Hr.eraYear=tt,Hr.year=ee,Hr.isLeapYear=Ee,Hr.weekYear=tc,Hr.isoWeekYear=jl,Hr.quarter=Hr.quarters=rc,Hr.month=Qe,Hr.daysInMonth=Rt,Hr.week=Hr.weeks=yr,Hr.isoWeek=Hr.isoWeeks=Pr,Hr.weeksInYear=ya,Hr.weeksInWeekYear=Xc,Hr.isoWeeksInYear=ka,Hr.isoWeeksInISOWeekYear=nc,Hr.date=O1,Hr.day=Hr.days=ta,Hr.weekday=Zu,Hr.isoWeekday=Qc,Hr.dayOfYear=Fc,Hr.hour=Hr.hours=hs,Hr.minute=Hr.minutes=jm,Hr.second=Hr.seconds=ql,Hr.millisecond=Hr.milliseconds=Dc,Hr.utcOffset=Ei,Hr.utc=is,Hr.local=xa,Hr.parseZone=No,Hr.hasAlignedHourOffset=As,Hr.isDST=Zt,Hr.isLocal=vn,Hr.isUtcOffset=Kr,Hr.isUtc=Oi,Hr.isUTC=Oi,Hr.zoneAbbr=W0,Hr.zoneName=Q0,Hr.dates=me("dates accessor is deprecated. Use date instead.",O1),Hr.months=me("months accessor is deprecated. Use month instead",Qe),Hr.years=me("years accessor is deprecated. Use year instead",ee),Hr.zone=me("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ms),Hr.isDSTShifted=me("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Jn);function vl(A){return Nn(A*1e3)}function R1(){return Nn.apply(null,arguments).parseZone()}function ep(A){return A}var bo=St.prototype;bo.calendar=te,bo.longDateFormat=It,bo.invalidDate=it,bo.ordinal=ve,bo.preparse=ep,bo.postformat=ep,bo.relativeTime=st,bo.pastFuture=Ze,bo.set=lt,bo.eras=zt,bo.erasParse=Cn,bo.erasConvertYear=Ln,bo.erasAbbrRegex=Qi,bo.erasNameRegex=Ri,bo.erasNarrowRegex=Mi,bo.months=be,bo.monthsShort=pe,bo.monthsParse=oe,bo.monthsRegex=ln,bo.monthsShortRegex=Et,bo.week=jn,bo.firstDayOfYear=Wr,bo.firstDayOfWeek=Xr,bo.weekdays=cu,bo.weekdaysMin=Xu,bo.weekdaysShort=fu,bo.weekdaysParse=wc,bo.weekdaysRegex=Ge,bo.weekdaysShortRegex=Gt,bo.weekdaysMinRegex=Mn,bo.isPM=fo,bo.meridiem=io;function G0(A,W,fe,Be){var bt=Is(),An=w().set(Be,W);return bt[fe](An,A)}function kd(A,W,fe){if(c(A)&&(W=A,A=void 0),A=A||"",W!=null)return G0(A,W,fe,"month");var Be,bt=[];for(Be=0;Be<12;Be++)bt[Be]=G0(A,Be,fe,"month");return bt}function Y0(A,W,fe,Be){typeof A=="boolean"?(c(W)&&(fe=W,W=void 0),W=W||""):(W=A,fe=W,A=!1,c(W)&&(fe=W,W=void 0),W=W||"");var bt=Is(),An=A?bt._week.dow:0,lr,zi=[];if(fe!=null)return G0(W,(fe+An)%7,Be,"day");for(lr=0;lr<7;lr++)zi[lr]=G0(W,(lr+An)%7,Be,"day");return zi}function ef(A,W){return kd(A,W,"months")}function kx(A,W){return kd(A,W,"monthsShort")}function Ix(A,W,fe){return Y0(A,W,fe,"weekdays")}function _h(A,W,fe){return Y0(A,W,fe,"weekdaysShort")}function tf(A,W,fe){return Y0(A,W,fe,"weekdaysMin")}ps("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(A){var W=A%10,fe=On(A%100/10)===1?"th":W===1?"st":W===2?"nd":W===3?"rd":"th";return A+fe}}),e.lang=me("moment.lang is deprecated. Use moment.locale instead.",ps),e.langData=me("moment.langData is deprecated. Use moment.localeData instead.",Is);var nl=Math.abs;function Id(){var A=this._data;return this._milliseconds=nl(this._milliseconds),this._days=nl(this._days),this._months=nl(this._months),A.milliseconds=nl(A.milliseconds),A.seconds=nl(A.seconds),A.minutes=nl(A.minutes),A.hours=nl(A.hours),A.months=nl(A.months),A.years=nl(A.years),this}function tp(A,W,fe,Be){var bt=$i(W,fe);return A._milliseconds+=Be*bt._milliseconds,A._days+=Be*bt._days,A._months+=Be*bt._months,A._bubble()}function N1(A,W){return tp(this,A,W,1)}function rl(A,W){return tp(this,A,W,-1)}function K0(A){return A<0?Math.floor(A):Math.ceil(A)}function wf(){var A=this._milliseconds,W=this._days,fe=this._months,Be=this._data,bt,An,lr,zi,qi;return A>=0&&W>=0&&fe>=0||A<=0&&W<=0&&fe<=0||(A+=K0(np(fe)+W)*864e5,W=0,fe=0),Be.milliseconds=A%1e3,bt=Fn(A/1e3),Be.seconds=bt%60,An=Fn(bt/60),Be.minutes=An%60,lr=Fn(An/60),Be.hours=lr%24,W+=Fn(lr/24),qi=Fn(_l(W)),fe+=qi,W-=K0(np(qi)),zi=Fn(fe/12),fe%=12,Be.days=W,Be.months=fe,Be.years=zi,this}function _l(A){return A*4800/146097}function np(A){return A*146097/4800}function Ou(A){if(!this.isValid())return NaN;var W,fe,Be=this._milliseconds;if(A=$t(A),A==="month"||A==="quarter"||A==="year")switch(W=this._days+Be/864e5,fe=this._months+_l(W),A){case"month":return fe;case"quarter":return fe/3;case"year":return fe/12}else switch(W=this._days+Math.round(np(this._months)),A){case"week":return W/7+Be/6048e5;case"day":return W+Be/864e5;case"hour":return W*24+Be/36e5;case"minute":return W*1440+Be/6e4;case"second":return W*86400+Be/1e3;case"millisecond":return Math.floor(W*864e5)+Be;default:throw new Error("Unknown unit "+A)}}function L1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+On(this._months/12)*31536e6:NaN}function il(A){return function(){return this.as(A)}}var Oc=il("ms"),bh=il("s"),Md=il("m"),nf=il("h"),Eh=il("d"),rp=il("w"),za=il("M"),Sh=il("Q"),J0=il("y");function Ia(){return $i(this)}function wh(A){return A=$t(A),this.isValid()?this[A+"s"]():NaN}function Ru(A){return function(){return this.isValid()?this._data[A]:NaN}}var Za=Ru("milliseconds"),Ch=Ru("seconds"),va=Ru("minutes"),Ah=Ru("hours"),ip=Ru("days"),a0=Ru("months"),X0=Ru("years");function rf(){return Fn(this.days()/7)}var Ul=Math.round,Nu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function sp(A,W,fe,Be,bt){return bt.relativeTime(W||1,!!fe,A,Be)}function sl(A,W,fe,Be){var bt=$i(A).abs(),An=Ul(bt.as("s")),lr=Ul(bt.as("m")),zi=Ul(bt.as("h")),qi=Ul(bt.as("d")),oo=Ul(bt.as("M")),mu=Ul(bt.as("w")),Rc=Ul(bt.as("y")),Af=An<=fe.ss&&["s",An]||An<fe.s&&["ss",An]||lr<=1&&["m"]||lr<fe.m&&["mm",lr]||zi<=1&&["h"]||zi<fe.h&&["hh",zi]||qi<=1&&["d"]||qi<fe.d&&["dd",qi];return fe.w!=null&&(Af=Af||mu<=1&&["w"]||mu<fe.w&&["ww",mu]),Af=Af||oo<=1&&["M"]||oo<fe.M&&["MM",oo]||Rc<=1&&["y"]||["yy",Rc],Af[2]=W,Af[3]=+A>0,Af[4]=Be,sp.apply(null,Af)}function Th(A){return A===void 0?Ul:typeof A=="function"?(Ul=A,!0):!1}function Pd(A,W){return Nu[A]===void 0?!1:W===void 0?Nu[A]:(Nu[A]=W,A==="s"&&(Nu.ss=W-1),!0)}function qm(A,W){if(!this.isValid())return this.localeData().invalidDate();var fe=!1,Be=Nu,bt,An;return typeof A=="object"&&(W=A,A=!1),typeof A=="boolean"&&(fe=A),typeof W=="object"&&(Be=Object.assign({},Nu,W),W.s!=null&&W.ss==null&&(Be.ss=W.s-1)),bt=this.localeData(),An=sl(this,!fe,Be,bt),fe&&(An=bt.pastFuture(+this,An)),bt.postformat(An)}var op=Math.abs;function Cf(A){return(A>0)-(A<0)||+A}function Z0(){if(!this.isValid())return this.localeData().invalidDate();var A=op(this._milliseconds)/1e3,W=op(this._days),fe=op(this._months),Be,bt,An,lr,zi=this.asSeconds(),qi,oo,mu,Rc;return zi?(Be=Fn(A/60),bt=Fn(Be/60),A%=60,Be%=60,An=Fn(fe/12),fe%=12,lr=A?A.toFixed(3).replace(/\.?0+$/,""):"",qi=zi<0?"-":"",oo=Cf(this._months)!==Cf(zi)?"-":"",mu=Cf(this._days)!==Cf(zi)?"-":"",Rc=Cf(this._milliseconds)!==Cf(zi)?"-":"",qi+"P"+(An?oo+An+"Y":"")+(fe?oo+fe+"M":"")+(W?mu+W+"D":"")+(bt||Be||A?"T":"")+(bt?Rc+bt+"H":"")+(Be?Rc+Be+"M":"")+(A?Rc+lr+"S":"")):"P0D"}var Js=ii.prototype;Js.isValid=Or,Js.abs=Id,Js.add=N1,Js.subtract=rl,Js.as=Ou,Js.asMilliseconds=Oc,Js.asSeconds=bh,Js.asMinutes=Md,Js.asHours=nf,Js.asDays=Eh,Js.asWeeks=rp,Js.asMonths=za,Js.asQuarters=Sh,Js.asYears=J0,Js.valueOf=L1,Js._bubble=wf,Js.clone=Ia,Js.get=wh,Js.milliseconds=Za,Js.seconds=Ch,Js.minutes=va,Js.hours=Ah,Js.days=ip,Js.weeks=rf,Js.months=a0,Js.years=X0,Js.humanize=qm,Js.toISOString=Z0,Js.toString=Z0,Js.toJSON=Z0,Js.locale=Kc,Js.localeData=Tc,Js.toIsoString=me("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Z0),Js.lang=V0,Je("X",0,0,"unix"),Je("x",0,0,"valueOf"),Tt("x",ar),Tt("X",se),Te("X",function(A,W,fe){fe._d=new Date(parseFloat(A)*1e3)}),Te("x",function(A,W,fe){fe._d=new Date(On(A))});return e.version="2.29.4",t(Nn),e.fn=Hr,e.min=wr,e.max=Gn,e.now=ur,e.utc=w,e.unix=vl,e.months=ef,e.isDate=d,e.locale=ps,e.invalid=P,e.duration=$i,e.isMoment=M,e.weekdays=Ix,e.parseZone=R1,e.localeData=Is,e.isDuration=gi,e.monthsShort=kx,e.weekdaysMin=tf,e.defineLocale=Zi,e.updateLocale=du,e.locales=ma,e.weekdaysShort=_h,e.normalizeUnits=$t,e.relativeTimeRounding=Th,e.relativeTimeThreshold=Pd,e.calendarFormat=so,e.prototype=Hr,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Au=Ae((LH,TAe)=>{m();(function(n,e){typeof LH=="object"&&typeof TAe!="undefined"?e(LH):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(LH,function(n){"use strict";function e(ie,Te,ze){return ie.fields=Te||[],ie.fname=ze,ie}function t(ie){return ie==null?null:ie.fname}function r(ie){return ie==null?null:ie.fields}function i(ie){return ie.length===1?s(ie[0]):o(ie)}let s=ie=>function(Te){return Te[ie]},o=ie=>{let Te=ie.length;return function(ze){for(let ht=0;ht<Te;++ht)ze=ze[ie[ht]];return ze}};function a(ie){throw Error(ie)}function c(ie){let Te=[],ze=ie.length,ht=null,_t=0,Dt="",ne,we,We;ie=ie+"";function nt(){Te.push(Dt+ie.substring(ne,we)),Dt="",ne=we+1}for(ne=we=0;we<ze;++we)if(We=ie[we],We==="\\")Dt+=ie.substring(ne,we),Dt+=ie.substring(++we,++we),ne=we;else if(We===ht)nt(),ht=null,_t=-1;else{if(ht)continue;ne===_t&&We==='"'||ne===_t&&We==="'"?(ne=we+1,ht=We):We==="."&&!_t?we>ne?nt():ne=we+1:We==="["?(we>ne&&nt(),_t=ne=we+1):We==="]"&&(_t||a("Access path missing open bracket: "+ie),_t>0&&nt(),_t=0,ne=we+1)}return _t&&a("Access path missing closing bracket: "+ie),ht&&a("Access path missing closing quote: "+ie),we>ne&&(we++,nt()),Te}function d(ie,Te,ze){let ht=c(ie);return ie=ht.length===1?ht[0]:ie,e((ze&&ze.get||i)(ht),[ie],Te||ie)}let p=d("id"),E=e(ie=>ie,[],"identity"),w=e(()=>0,[],"zero"),N=e(()=>1,[],"one"),R=e(()=>!0,[],"true"),U=e(()=>!1,[],"false");function Q(ie,Te,ze){let ht=[Te].concat([].slice.call(ze));console[ie].apply(console,ht)}let P=0,j=1,I=2,K=3,de=4;function M(ie,Te,ze=Q){let ht=ie||P;return{level(_t){return arguments.length?(ht=+_t,this):ht},error(){return ht>=j&&ze(Te||"error","ERROR",arguments),this},warn(){return ht>=I&&ze(Te||"warn","WARN",arguments),this},info(){return ht>=K&&ze(Te||"log","INFO",arguments),this},debug(){return ht>=de&&ze(Te||"log","DEBUG",arguments),this}}}var Z=Array.isArray;function me(ie){return ie===Object(ie)}let _e=ie=>ie!=="__proto__";function Ve(...ie){return ie.reduce((Te,ze)=>{for(let ht in ze)if(ht==="signals")Te.signals=lt(Te.signals,ze.signals);else{let _t=ht==="legend"?{layout:1}:ht==="style"?!0:null;at(Te,ht,ze[ht],_t)}return Te},{})}function at(ie,Te,ze,ht){if(!_e(Te))return;let _t,Dt;if(me(ze)&&!Z(ze)){Dt=me(ie[Te])?ie[Te]:ie[Te]={};for(_t in ze)ht&&(ht===!0||ht[_t])?at(Dt,_t,ze[_t]):_e(_t)&&(Dt[_t]=ze[_t])}else ie[Te]=ze}function lt(ie,Te){if(ie==null)return Te;let ze={},ht=[];function _t(Dt){ze[Dt.name]||(ze[Dt.name]=1,ht.push(Dt))}return Te.forEach(_t),ie.forEach(_t),ht}function Ke(ie){return ie[ie.length-1]}function St(ie){return ie==null||ie===""?null:+ie}let Ft=ie=>Te=>ie*Math.exp(Te),je=ie=>Te=>Math.log(ie*Te),te=ie=>Te=>Math.sign(Te)*Math.log1p(Math.abs(Te/ie)),Xe=ie=>Te=>Math.sign(Te)*Math.expm1(Math.abs(Te))*ie,ye=ie=>Te=>Te<0?-Math.pow(-Te,ie):Math.pow(Te,ie);function ke(ie,Te,ze,ht){let _t=ze(ie[0]),Dt=ze(Ke(ie)),ne=(Dt-_t)*Te;return[ht(_t-ne),ht(Dt-ne)]}function Ce(ie,Te){return ke(ie,Te,St,E)}function xe(ie,Te){var ze=Math.sign(ie[0]);return ke(ie,Te,je(ze),Ft(ze))}function Je(ie,Te,ze){return ke(ie,Te,ye(ze),ye(1/ze))}function ut(ie,Te,ze){return ke(ie,Te,te(ze),Xe(ze))}function Qt(ie,Te,ze,ht,_t){let Dt=ht(ie[0]),ne=ht(Ke(ie)),we=Te!=null?ht(Te):(Dt+ne)/2;return[_t(we+(Dt-we)*ze),_t(we+(ne-we)*ze)]}function wt(ie,Te,ze){return Qt(ie,Te,ze,St,E)}function mn(ie,Te,ze){let ht=Math.sign(ie[0]);return Qt(ie,Te,ze,je(ht),Ft(ht))}function Lt(ie,Te,ze,ht){return Qt(ie,Te,ze,ye(ht),ye(1/ht))}function It(ie,Te,ze,ht){return Qt(ie,Te,ze,te(ht),Xe(ht))}function cn(ie){return 1+~~(new Date(ie).getMonth()/3)}function it(ie){return 1+~~(new Date(ie).getUTCMonth()/3)}function ue(ie){return ie!=null?Z(ie)?ie:[ie]:[]}function De(ie,Te,ze){let ht=ie[0],_t=ie[1],Dt;return _t<ht&&(Dt=_t,_t=ht,ht=Dt),Dt=_t-ht,Dt>=ze-Te?[Te,ze]:[ht=Math.min(Math.max(ht,Te),ze-Dt),ht+Dt]}function ve(ie){return typeof ie=="function"}let le="descending";function st(ie,Te,ze){ze=ze||{},Te=ue(Te)||[];let ht=[],_t=[],Dt={},ne=ze.comparator||Le;return ue(ie).forEach((we,We)=>{we!=null&&(ht.push(Te[We]===le?-1:1),_t.push(we=ve(we)?we:d(we,null,ze)),(r(we)||[]).forEach(nt=>Dt[nt]=1))}),_t.length===0?null:e(ne(_t,ht),Object.keys(Dt))}let Ze=(ie,Te)=>(ie<Te||ie==null)&&Te!=null?-1:(ie>Te||Te==null)&&ie!=null?1:(Te=Te instanceof Date?+Te:Te,(ie=ie instanceof Date?+ie:ie)!==ie&&Te===Te?-1:Te!==Te&&ie===ie?1:0),Le=(ie,Te)=>ie.length===1?vt(ie[0],Te[0]):$t(ie,Te,ie.length),vt=(ie,Te)=>function(ze,ht){return Ze(ie(ze),ie(ht))*Te},$t=(ie,Te,ze)=>(Te.push(0),function(ht,_t){let Dt,ne=0,we=-1;for(;ne===0&&++we<ze;)Dt=ie[we],ne=Ze(Dt(ht),Dt(_t));return ne*Te[we]});function Mt(ie){return ve(ie)?ie:()=>ie}function Vt(ie,Te){let ze;return ht=>{ze&&clearTimeout(ze),ze=setTimeout(()=>(Te(ht),ze=null),ie)}}function tn(ie){for(let Te,ze,ht=1,_t=arguments.length;ht<_t;++ht){Te=arguments[ht];for(ze in Te)ie[ze]=Te[ze]}return ie}function en(ie,Te){let ze=0,ht,_t,Dt,ne;if(ie&&(ht=ie.length))if(Te==null){for(_t=ie[ze];ze<ht&&(_t==null||_t!==_t);_t=ie[++ze]);for(Dt=ne=_t;ze<ht;++ze)_t=ie[ze],_t!=null&&(_t<Dt&&(Dt=_t),_t>ne&&(ne=_t))}else{for(_t=Te(ie[ze]);ze<ht&&(_t==null||_t!==_t);_t=Te(ie[++ze]));for(Dt=ne=_t;ze<ht;++ze)_t=Te(ie[ze]),_t!=null&&(_t<Dt&&(Dt=_t),_t>ne&&(ne=_t))}return[Dt,ne]}function En(ie,Te){let ze=ie.length,ht=-1,_t,Dt,ne,we,We;if(Te==null){for(;++ht<ze;)if(Dt=ie[ht],Dt!=null&&Dt>=Dt){_t=ne=Dt;break}if(ht===ze)return[-1,-1];for(we=We=ht;++ht<ze;)Dt=ie[ht],Dt!=null&&(_t>Dt&&(_t=Dt,we=ht),ne<Dt&&(ne=Dt,We=ht))}else{for(;++ht<ze;)if(Dt=Te(ie[ht],ht,ie),Dt!=null&&Dt>=Dt){_t=ne=Dt;break}if(ht===ze)return[-1,-1];for(we=We=ht;++ht<ze;)Dt=Te(ie[ht],ht,ie),Dt!=null&&(_t>Dt&&(_t=Dt,we=ht),ne<Dt&&(ne=Dt,We=ht))}return[we,We]}let Fn=Object.prototype.hasOwnProperty;function On(ie,Te){return Fn.call(ie,Te)}let qt={};function pn(ie){let Te={},ze;function ht(Dt){return On(Te,Dt)&&Te[Dt]!==qt}let _t={size:0,empty:0,object:Te,has:ht,get(Dt){return ht(Dt)?Te[Dt]:void 0},set(Dt,ne){return ht(Dt)||(++_t.size,Te[Dt]===qt&&--_t.empty),Te[Dt]=ne,this},delete(Dt){return ht(Dt)&&(--_t.size,++_t.empty,Te[Dt]=qt),this},clear(){_t.size=_t.empty=0,_t.object=Te={}},test(Dt){return arguments.length?(ze=Dt,_t):ze},clean(){let Dt={},ne=0;for(let we in Te){let We=Te[we];We!==qt&&(!ze||!ze(We))&&(Dt[we]=We,++ne)}_t.size=ne,_t.empty=0,_t.object=Te=Dt}};return ie&&Object.keys(ie).forEach(Dt=>{_t.set(Dt,ie[Dt])}),_t}function qn(ie,Te,ze,ht,_t,Dt){if(!ze&&ze!==0)return Dt;let ne=+ze,we=ie[0],We=Ke(ie),nt;We<we&&(nt=we,we=We,We=nt),nt=Math.abs(Te-we);let Pt=Math.abs(We-Te);return nt<Pt&&nt<=ne?ht:Pt<=ne?_t:Dt}function or(ie,Te,ze){let ht=ie.prototype=Object.create(Te.prototype);return Object.defineProperty(ht,"constructor",{value:ie,writable:!0,enumerable:!0,configurable:!0}),tn(ht,ze)}function In(ie,Te,ze,ht){let _t=Te[0],Dt=Te[Te.length-1],ne;return _t>Dt&&(ne=_t,_t=Dt,Dt=ne),ze=ze===void 0||ze,ht=ht===void 0||ht,(ze?_t<=ie:_t<ie)&&(ht?ie<=Dt:ie<Dt)}function Ne(ie){return typeof ie=="boolean"}function $e(ie){return Object.prototype.toString.call(ie)==="[object Date]"}function Oe(ie){return ie&&ve(ie[Symbol.iterator])}function jt(ie){return typeof ie=="number"}function yt(ie){return Object.prototype.toString.call(ie)==="[object RegExp]"}function mt(ie){return typeof ie=="string"}function nn(ie,Te,ze){ie&&(ie=Te?ue(ie).map(we=>we.replace(/\\(.)/g,"$1")):ue(ie));let ht=ie&&ie.length,_t=ze&&ze.get||i,Dt=we=>_t(Te?[we]:c(we)),ne;if(!ht)ne=function(){return""};else if(ht===1){let we=Dt(ie[0]);ne=function(We){return""+we(We)}}else{let we=ie.map(Dt);ne=function(We){let nt=""+we[0](We),Pt=0;for(;++Pt<ht;)nt+="|"+we[Pt](We);return nt}}return e(ne,ie,"key")}function Wt(ie,Te){let ze=ie[0],ht=Ke(ie),_t=+Te;return _t?_t===1?ht:ze+_t*(ht-ze):ze}let Dn=1e4;function Qn(ie){ie=+ie||Dn;let Te,ze,ht,_t=()=>{Te={},ze={},ht=0},Dt=(ne,we)=>(++ht>ie&&(ze=Te,Te={},ht=1),Te[ne]=we);return _t(),{clear:_t,has:ne=>On(Te,ne)||On(ze,ne),get:ne=>On(Te,ne)?Te[ne]:On(ze,ne)?Dt(ne,ze[ne]):void 0,set:(ne,we)=>On(Te,ne)?Te[ne]=we:Dt(ne,we)}}function Zn(ie,Te,ze,ht){let _t=Te.length,Dt=ze.length;if(!Dt)return Te;if(!_t)return ze;let ne=ht||new Te.constructor(_t+Dt),we=0,We=0,nt=0;for(;we<_t&&We<Dt;++nt)ne[nt]=ie(Te[we],ze[We])>0?ze[We++]:Te[we++];for(;we<_t;++we,++nt)ne[nt]=Te[we];for(;We<Dt;++We,++nt)ne[nt]=ze[We];return ne}function Pn(ie,Te){let ze="";for(;--Te>=0;)ze+=ie;return ze}function ar(ie,Te,ze,ht){let _t=ze||" ",Dt=ie+"",ne=Te-Dt.length;return ne<=0?Dt:ht==="left"?Pn(_t,ne)+Dt:ht==="center"?Pn(_t,~~(ne/2))+Dt+Pn(_t,Math.ceil(ne/2)):Dt+Pn(_t,ne)}function Ye(ie){return ie&&Ke(ie)-ie[0]||0}function gt(ie){return Z(ie)?"["+ie.map(gt)+"]":me(ie)||mt(ie)?JSON.stringify(ie).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):ie}function se(ie){return ie==null||ie===""?null:!ie||ie==="false"||ie==="0"?!1:!!ie}let qe=ie=>jt(ie)||$e(ie)?ie:Date.parse(ie);function et(ie,Te){return Te=Te||qe,ie==null||ie===""?null:Te(ie)}function Tt(ie){return ie==null||ie===""?null:ie+""}function fn(ie){let Te={},ze=ie.length;for(let ht=0;ht<ze;++ht)Te[ie[ht]]=!0;return Te}function on(ie,Te,ze,ht){let _t=ht??"\u2026",Dt=ie+"",ne=Dt.length,we=Math.max(0,Te-_t.length);return ne<=Te?Dt:ze==="left"?_t+Dt.slice(ne-we):ze==="center"?Dt.slice(0,Math.ceil(we/2))+_t+Dt.slice(ne-~~(we/2)):Dt.slice(0,we)+_t}function ct(ie,Te,ze){if(ie)if(Te){let ht=ie.length;for(let _t=0;_t<ht;++_t){let Dt=Te(ie[_t]);Dt&&ze(Dt,_t,ie)}}else ie.forEach(ze)}n.Debug=de,n.Error=j,n.Info=K,n.None=P,n.Warn=I,n.accessor=e,n.accessorFields=r,n.accessorName=t,n.array=ue,n.ascending=Ze,n.clampRange=De,n.compare=st,n.constant=Mt,n.debounce=Vt,n.error=a,n.extend=tn,n.extent=en,n.extentIndex=En,n.falsy=U,n.fastmap=pn,n.field=d,n.flush=qn,n.hasOwnProperty=On,n.id=p,n.identity=E,n.inherits=or,n.inrange=In,n.isArray=Z,n.isBoolean=Ne,n.isDate=$e,n.isFunction=ve,n.isIterable=Oe,n.isNumber=jt,n.isObject=me,n.isRegExp=yt,n.isString=mt,n.key=nn,n.lerp=Wt,n.logger=M,n.lruCache=Qn,n.merge=Zn,n.mergeConfig=Ve,n.one=N,n.pad=ar,n.panLinear=Ce,n.panLog=xe,n.panPow=Je,n.panSymlog=ut,n.peek=Ke,n.quarter=cn,n.repeat=Pn,n.span=Ye,n.splitAccessPath=c,n.stringValue=gt,n.toBoolean=se,n.toDate=et,n.toNumber=St,n.toSet=fn,n.toString=Tt,n.truncate=on,n.truthy=R,n.utcquarter=it,n.visitArray=ct,n.writeConfig=at,n.zero=w,n.zoomLinear=wt,n.zoomLog=mn,n.zoomPow=Lt,n.zoomSymlog=It,Object.defineProperty(n,"__esModule",{value:!0})})});var DAe=Ae((kH,FAe)=>{m();(function(n,e){typeof kH=="object"&&typeof FAe!="undefined"?e(kH):typeof define=="function"&&define.amd?define(["exports"],e):(n=n||self,e(n.topojson=n.topojson||{}))})(kH,function(n){"use strict";function e(I){return I}function t(I){if(I==null)return e;var K,de,M=I.scale[0],Z=I.scale[1],me=I.translate[0],_e=I.translate[1];return function(Ve,at){at||(K=de=0);var lt=2,Ke=Ve.length,St=new Array(Ke);for(St[0]=(K+=Ve[0])*M+me,St[1]=(de+=Ve[1])*Z+_e;lt<Ke;)St[lt]=Ve[lt],++lt;return St}}function r(I){var K=t(I.transform),de,M=1/0,Z=M,me=-M,_e=-M;function Ve(lt){lt=K(lt),lt[0]<M&&(M=lt[0]),lt[0]>me&&(me=lt[0]),lt[1]<Z&&(Z=lt[1]),lt[1]>_e&&(_e=lt[1])}function at(lt){switch(lt.type){case"GeometryCollection":lt.geometries.forEach(at);break;case"Point":Ve(lt.coordinates);break;case"MultiPoint":lt.coordinates.forEach(Ve);break}}I.arcs.forEach(function(lt){for(var Ke=-1,St=lt.length,Ft;++Ke<St;)Ft=K(lt[Ke],Ke),Ft[0]<M&&(M=Ft[0]),Ft[0]>me&&(me=Ft[0]),Ft[1]<Z&&(Z=Ft[1]),Ft[1]>_e&&(_e=Ft[1])});for(de in I.objects)at(I.objects[de]);return[M,Z,me,_e]}function i(I,K){for(var de,M=I.length,Z=M-K;Z<--M;)de=I[Z],I[Z++]=I[M],I[M]=de}function s(I,K){return typeof K=="string"&&(K=I.objects[K]),K.type==="GeometryCollection"?{type:"FeatureCollection",features:K.geometries.map(function(de){return o(I,de)})}:o(I,K)}function o(I,K){var de=K.id,M=K.bbox,Z=K.properties==null?{}:K.properties,me=a(I,K);return de==null&&M==null?{type:"Feature",properties:Z,geometry:me}:M==null?{type:"Feature",id:de,properties:Z,geometry:me}:{type:"Feature",id:de,bbox:M,properties:Z,geometry:me}}function a(I,K){var de=t(I.transform),M=I.arcs;function Z(Ke,St){St.length&&St.pop();for(var Ft=M[Ke<0?~Ke:Ke],je=0,te=Ft.length;je<te;++je)St.push(de(Ft[je],je));Ke<0&&i(St,te)}function me(Ke){return de(Ke)}function _e(Ke){for(var St=[],Ft=0,je=Ke.length;Ft<je;++Ft)Z(Ke[Ft],St);return St.length<2&&St.push(St[0]),St}function Ve(Ke){for(var St=_e(Ke);St.length<4;)St.push(St[0]);return St}function at(Ke){return Ke.map(Ve)}function lt(Ke){var St=Ke.type,Ft;switch(St){case"GeometryCollection":return{type:St,geometries:Ke.geometries.map(lt)};case"Point":Ft=me(Ke.coordinates);break;case"MultiPoint":Ft=Ke.coordinates.map(me);break;case"LineString":Ft=_e(Ke.arcs);break;case"MultiLineString":Ft=Ke.arcs.map(_e);break;case"Polygon":Ft=at(Ke.arcs);break;case"MultiPolygon":Ft=Ke.arcs.map(at);break;default:return null}return{type:St,coordinates:Ft}}return lt(K)}function c(I,K){var de={},M={},Z={},me=[],_e=-1;K.forEach(function(lt,Ke){var St=I.arcs[lt<0?~lt:lt],Ft;St.length<3&&!St[1][0]&&!St[1][1]&&(Ft=K[++_e],K[_e]=lt,K[Ke]=Ft)}),K.forEach(function(lt){var Ke=Ve(lt),St=Ke[0],Ft=Ke[1],je,te;if(je=Z[St])if(delete Z[je.end],je.push(lt),je.end=Ft,te=M[Ft]){delete M[te.start];var Xe=te===je?je:je.concat(te);M[Xe.start=je.start]=Z[Xe.end=te.end]=Xe}else M[je.start]=Z[je.end]=je;else if(je=M[Ft])if(delete M[je.start],je.unshift(lt),je.start=St,te=Z[St]){delete Z[te.end];var ye=te===je?je:te.concat(je);M[ye.start=te.start]=Z[ye.end=je.end]=ye}else M[je.start]=Z[je.end]=je;else je=[lt],M[je.start=St]=Z[je.end=Ft]=je});function Ve(lt){var Ke=I.arcs[lt<0?~lt:lt],St=Ke[0],Ft;return I.transform?(Ft=[0,0],Ke.forEach(function(je){Ft[0]+=je[0],Ft[1]+=je[1]})):Ft=Ke[Ke.length-1],lt<0?[Ft,St]:[St,Ft]}function at(lt,Ke){for(var St in lt){var Ft=lt[St];delete Ke[Ft.start],delete Ft.start,delete Ft.end,Ft.forEach(function(je){de[je<0?~je:je]=1}),me.push(Ft)}}return at(Z,M),at(M,Z),K.forEach(function(lt){de[lt<0?~lt:lt]||me.push([lt])}),me}function d(I){return a(I,p.apply(this,arguments))}function p(I,K,de){var M,Z,me;if(arguments.length>1)M=E(I,K,de);else for(Z=0,M=new Array(me=I.arcs.length);Z<me;++Z)M[Z]=Z;return{type:"MultiLineString",arcs:c(I,M)}}function E(I,K,de){var M=[],Z=[],me;function _e(St){var Ft=St<0?~St:St;(Z[Ft]||(Z[Ft]=[])).push({i:St,g:me})}function Ve(St){St.forEach(_e)}function at(St){St.forEach(Ve)}function lt(St){St.forEach(at)}function Ke(St){switch(me=St,St.type){case"GeometryCollection":St.geometries.forEach(Ke);break;case"LineString":Ve(St.arcs);break;case"MultiLineString":case"Polygon":at(St.arcs);break;case"MultiPolygon":lt(St.arcs);break}}return Ke(K),Z.forEach(de==null?function(St){M.push(St[0].i)}:function(St){de(St[0].g,St[St.length-1].g)&&M.push(St[0].i)}),M}function w(I){for(var K=-1,de=I.length,M,Z=I[de-1],me=0;++K<de;)M=Z,Z=I[K],me+=M[0]*Z[1]-M[1]*Z[0];return Math.abs(me)}function N(I){return a(I,R.apply(this,arguments))}function R(I,K){var de={},M=[],Z=[];K.forEach(me);function me(at){switch(at.type){case"GeometryCollection":at.geometries.forEach(me);break;case"Polygon":_e(at.arcs);break;case"MultiPolygon":at.arcs.forEach(_e);break}}function _e(at){at.forEach(function(lt){lt.forEach(function(Ke){(de[Ke=Ke<0?~Ke:Ke]||(de[Ke]=[])).push(at)})}),M.push(at)}function Ve(at){return w(a(I,{type:"Polygon",arcs:[at]}).coordinates[0])}return M.forEach(function(at){if(!at._){var lt=[],Ke=[at];for(at._=1,Z.push(lt);at=Ke.pop();)lt.push(at),at.forEach(function(St){St.forEach(function(Ft){de[Ft<0?~Ft:Ft].forEach(function(je){je._||(je._=1,Ke.push(je))})})})}}),M.forEach(function(at){delete at._}),{type:"MultiPolygon",arcs:Z.map(function(at){var lt=[],Ke;if(at.forEach(function(Xe){Xe.forEach(function(ye){ye.forEach(function(ke){de[ke<0?~ke:ke].length<2&&lt.push(ke)})})}),lt=c(I,lt),(Ke=lt.length)>1)for(var St=1,Ft=Ve(lt[0]),je,te;St<Ke;++St)(je=Ve(lt[St]))>Ft&&(te=lt[0],lt[0]=lt[St],lt[St]=te,Ft=je);return lt}).filter(function(at){return at.length>0})}}function U(I,K){for(var de=0,M=I.length;de<M;){var Z=de+M>>>1;I[Z]<K?de=Z+1:M=Z}return de}function Q(I){var K={},de=I.map(function(){return[]});function M(Xe,ye){Xe.forEach(function(ke){ke<0&&(ke=~ke);var Ce=K[ke];Ce?Ce.push(ye):K[ke]=[ye]})}function Z(Xe,ye){Xe.forEach(function(ke){M(ke,ye)})}function me(Xe,ye){Xe.type==="GeometryCollection"?Xe.geometries.forEach(function(ke){me(ke,ye)}):Xe.type in _e&&_e[Xe.type](Xe.arcs,ye)}var _e={LineString:M,MultiLineString:Z,Polygon:Z,MultiPolygon:function(Xe,ye){Xe.forEach(function(ke){Z(ke,ye)})}};I.forEach(me);for(var Ve in K)for(var at=K[Ve],lt=at.length,Ke=0;Ke<lt;++Ke)for(var St=Ke+1;St<lt;++St){var Ft=at[Ke],je=at[St],te;(te=de[Ft])[Ve=U(te,je)]!==je&&te.splice(Ve,0,je),(te=de[je])[Ve=U(te,Ft)]!==Ft&&te.splice(Ve,0,Ft)}return de}function P(I){if(I==null)return e;var K,de,M=I.scale[0],Z=I.scale[1],me=I.translate[0],_e=I.translate[1];return function(Ve,at){at||(K=de=0);var lt=2,Ke=Ve.length,St=new Array(Ke),Ft=Math.round((Ve[0]-me)/M),je=Math.round((Ve[1]-_e)/Z);for(St[0]=Ft-K,K=Ft,St[1]=je-de,de=je;lt<Ke;)St[lt]=Ve[lt],++lt;return St}}function j(I,K){if(I.transform)throw new Error("already quantized");if(!K||!K.scale){if(!((_e=Math.floor(K))>=2))throw new Error("n must be \u22652");at=I.bbox||r(I);var de=at[0],M=at[1],Z=at[2],me=at[3],_e;K={scale:[Z-de?(Z-de)/(_e-1):1,me-M?(me-M)/(_e-1):1],translate:[de,M]}}else at=I.bbox;var Ve=P(K),at,lt,Ke=I.objects,St={};function Ft(Xe){return Ve(Xe)}function je(Xe){var ye;switch(Xe.type){case"GeometryCollection":ye={type:"GeometryCollection",geometries:Xe.geometries.map(je)};break;case"Point":ye={type:"Point",coordinates:Ft(Xe.coordinates)};break;case"MultiPoint":ye={type:"MultiPoint",coordinates:Xe.coordinates.map(Ft)};break;default:return Xe}return Xe.id!=null&&(ye.id=Xe.id),Xe.bbox!=null&&(ye.bbox=Xe.bbox),Xe.properties!=null&&(ye.properties=Xe.properties),ye}function te(Xe){var ye=0,ke=1,Ce=Xe.length,xe,Je=new Array(Ce);for(Je[0]=Ve(Xe[0],0);++ye<Ce;)((xe=Ve(Xe[ye],ye))[0]||xe[1])&&(Je[ke++]=xe);return ke===1&&(Je[ke++]=[0,0]),Je.length=ke,Je}for(lt in Ke)St[lt]=je(Ke[lt]);return{type:"Topology",bbox:at,transform:K,objects:St,arcs:I.arcs.map(te)}}n.bbox=r,n.feature=s,n.merge=N,n.mergeArcs=R,n.mesh=d,n.meshArcs=p,n.neighbors=Q,n.quantize=j,n.transform=t,n.untransform=P,Object.defineProperty(n,"__esModule",{value:!0})})});var gC=Ae((IH,OAe)=>{m();(function(n,e){typeof IH=="object"&&typeof OAe!="undefined"?e(IH,Au()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(IH,function(n,e){"use strict";let t="year",r="quarter",i="month",s="week",o="date",a="day",c="dayofyear",d="hours",p="minutes",E="seconds",w="milliseconds",N=[t,r,i,s,o,a,c,d,p,E,w],R=N.reduce((L,V,be)=>(L[V]=1+be,L),{});function U(L){let V=e.array(L).slice(),be={};return V.length||e.error("Missing time unit."),V.forEach(Y=>{e.hasOwnProperty(R,Y)?be[Y]=1:e.error(`Invalid time unit: ${Y}.`)}),(be[s]||be[a]?1:0)+(be[r]||be[i]||be[o]?1:0)+(be[c]?1:0)>1&&e.error(`Incompatible time units: ${L}`),V.sort((Y,oe)=>R[Y]-R[oe]),V}let Q={[t]:"%Y ",[r]:"Q%q ",[i]:"%b ",[o]:"%d ",[s]:"W%U ",[a]:"%a ",[c]:"%j ",[d]:"%H:00",[p]:"00:%M",[E]:":%S",[w]:".%L",[`${t}-${i}`]:"%Y-%m ",[`${t}-${i}-${o}`]:"%Y-%m-%d ",[`${d}-${p}`]:"%H:%M"};function P(L,V){let be=e.extend({},Q,V),pe=U(L),Y=pe.length,oe="",ce=0,Qe,Rt;for(ce=0;ce<Y;)for(Qe=pe.length;Qe>ce;--Qe)if(Rt=pe.slice(ce,Qe).join("-"),be[Rt]!=null){oe+=be[Rt],ce=Qe;break}return oe.trim()}var j=new Date,I=new Date;function K(L,V,be,pe){function Y(oe){return L(oe=arguments.length===0?new Date:new Date(+oe)),oe}return Y.floor=function(oe){return L(oe=new Date(+oe)),oe},Y.ceil=function(oe){return L(oe=new Date(oe-1)),V(oe,1),L(oe),oe},Y.round=function(oe){var ce=Y(oe),Qe=Y.ceil(oe);return oe-ce<Qe-oe?ce:Qe},Y.offset=function(oe,ce){return V(oe=new Date(+oe),ce==null?1:Math.floor(ce)),oe},Y.range=function(oe,ce,Qe){var Rt=[],Et;if(oe=Y.ceil(oe),Qe=Qe==null?1:Math.floor(Qe),!(oe<ce)||!(Qe>0))return Rt;do Rt.push(Et=new Date(+oe)),V(oe,Qe),L(oe);while(Et<oe&&oe<ce);return Rt},Y.filter=function(oe){return K(function(ce){if(ce>=ce)for(;L(ce),!oe(ce);)ce.setTime(ce-1)},function(ce,Qe){if(ce>=ce)if(Qe<0)for(;++Qe<=0;)for(;V(ce,-1),!oe(ce););else for(;--Qe>=0;)for(;V(ce,1),!oe(ce););})},be&&(Y.count=function(oe,ce){return j.setTime(+oe),I.setTime(+ce),L(j),L(I),Math.floor(be(j,I))},Y.every=function(oe){return oe=Math.floor(oe),!isFinite(oe)||!(oe>0)?null:oe>1?Y.filter(pe?function(ce){return pe(ce)%oe===0}:function(ce){return Y.count(0,ce)%oe===0}):Y}),Y}var de=K(function(){},function(L,V){L.setTime(+L+V)},function(L,V){return V-L});de.every=function(L){return L=Math.floor(L),!isFinite(L)||!(L>0)?null:L>1?K(function(V){V.setTime(Math.floor(V/L)*L)},function(V,be){V.setTime(+V+be*L)},function(V,be){return(be-V)/L}):de};var M=de;let Z=1e3,me=Z*60,_e=me*60,Ve=_e*24,at=Ve*7;var lt=K(function(L){L.setTime(L-L.getMilliseconds())},function(L,V){L.setTime(+L+V*Z)},function(L,V){return(V-L)/Z},function(L){return L.getUTCSeconds()}),Ke=lt,St=K(function(L){L.setTime(L-L.getMilliseconds()-L.getSeconds()*Z)},function(L,V){L.setTime(+L+V*me)},function(L,V){return(V-L)/me},function(L){return L.getMinutes()}),Ft=St,je=K(function(L){L.setTime(L-L.getMilliseconds()-L.getSeconds()*Z-L.getMinutes()*me)},function(L,V){L.setTime(+L+V*_e)},function(L,V){return(V-L)/_e},function(L){return L.getHours()}),te=je,Xe=K(L=>L.setHours(0,0,0,0),(L,V)=>L.setDate(L.getDate()+V),(L,V)=>(V-L-(V.getTimezoneOffset()-L.getTimezoneOffset())*me)/Ve,L=>L.getDate()-1),ye=Xe;function ke(L){return K(function(V){V.setDate(V.getDate()-(V.getDay()+7-L)%7),V.setHours(0,0,0,0)},function(V,be){V.setDate(V.getDate()+be*7)},function(V,be){return(be-V-(be.getTimezoneOffset()-V.getTimezoneOffset())*me)/at})}var Ce=ke(0);ke(1),ke(2),ke(3),ke(4),ke(5),ke(6);var xe=K(function(L){L.setDate(1),L.setHours(0,0,0,0)},function(L,V){L.setMonth(L.getMonth()+V)},function(L,V){return V.getMonth()-L.getMonth()+(V.getFullYear()-L.getFullYear())*12},function(L){return L.getMonth()}),Je=xe,ut=K(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,V){L.setFullYear(L.getFullYear()+V)},function(L,V){return V.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});ut.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:K(function(V){V.setFullYear(Math.floor(V.getFullYear()/L)*L),V.setMonth(0,1),V.setHours(0,0,0,0)},function(V,be){V.setFullYear(V.getFullYear()+be*L)})};var Qt=ut,wt=K(function(L){L.setUTCSeconds(0,0)},function(L,V){L.setTime(+L+V*me)},function(L,V){return(V-L)/me},function(L){return L.getUTCMinutes()}),mn=wt,Lt=K(function(L){L.setUTCMinutes(0,0,0)},function(L,V){L.setTime(+L+V*_e)},function(L,V){return(V-L)/_e},function(L){return L.getUTCHours()}),It=Lt,cn=K(function(L){L.setUTCHours(0,0,0,0)},function(L,V){L.setUTCDate(L.getUTCDate()+V)},function(L,V){return(V-L)/Ve},function(L){return L.getUTCDate()-1}),it=cn;function ue(L){return K(function(V){V.setUTCDate(V.getUTCDate()-(V.getUTCDay()+7-L)%7),V.setUTCHours(0,0,0,0)},function(V,be){V.setUTCDate(V.getUTCDate()+be*7)},function(V,be){return(be-V)/at})}var De=ue(0);ue(1),ue(2),ue(3),ue(4),ue(5),ue(6);var ve=K(function(L){L.setUTCDate(1),L.setUTCHours(0,0,0,0)},function(L,V){L.setUTCMonth(L.getUTCMonth()+V)},function(L,V){return V.getUTCMonth()-L.getUTCMonth()+(V.getUTCFullYear()-L.getUTCFullYear())*12},function(L){return L.getUTCMonth()}),le=ve,st=K(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,V){L.setUTCFullYear(L.getUTCFullYear()+V)},function(L,V){return V.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});st.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:K(function(V){V.setUTCFullYear(Math.floor(V.getUTCFullYear()/L)*L),V.setUTCMonth(0,1),V.setUTCHours(0,0,0,0)},function(V,be){V.setUTCFullYear(V.getUTCFullYear()+be*L)})};var Ze=st;function Le(L,V){return L==null||V==null?NaN:L<V?-1:L>V?1:L>=V?0:NaN}function vt(L){let V=L,be=L,pe=L;L.length!==2&&(V=(Qe,Rt)=>L(Qe)-Rt,be=Le,pe=(Qe,Rt)=>Le(L(Qe),Rt));function Y(Qe,Rt,Et=0,ln=Qe.length){if(Et<ln){if(be(Rt,Rt)!==0)return ln;do{let S=Et+ln>>>1;pe(Qe[S],Rt)<0?Et=S+1:ln=S}while(Et<ln)}return Et}function oe(Qe,Rt,Et=0,ln=Qe.length){if(Et<ln){if(be(Rt,Rt)!==0)return ln;do{let S=Et+ln>>>1;pe(Qe[S],Rt)<=0?Et=S+1:ln=S}while(Et<ln)}return Et}function ce(Qe,Rt,Et=0,ln=Qe.length){let S=Y(Qe,Rt,Et,ln-1);return S>Et&&V(Qe[S-1],Rt)>-V(Qe[S],Rt)?S-1:S}return{left:Y,center:ce,right:oe}}var $t=Math.sqrt(50),Mt=Math.sqrt(10),Vt=Math.sqrt(2);function tn(L,V,be){var pe=Math.abs(V-L)/Math.max(0,be),Y=Math.pow(10,Math.floor(Math.log(pe)/Math.LN10)),oe=pe/Y;return oe>=$t?Y*=10:oe>=Mt?Y*=5:oe>=Vt&&(Y*=2),V<L?-Y:Y}let en=new Date;function En(L){return en.setFullYear(L),en.setMonth(0),en.setDate(1),en.setHours(0,0,0,0),en}function Fn(L){return qt(new Date(L))}function On(L){return pn(new Date(L))}function qt(L){return ye.count(En(L.getFullYear())-1,L)}function pn(L){return Ce.count(En(L.getFullYear())-1,L)}function qn(L){return En(L).getDay()}function or(L,V,be,pe,Y,oe,ce){if(0<=L&&L<100){let Qe=new Date(-1,V,be,pe,Y,oe,ce);return Qe.setFullYear(L),Qe}return new Date(L,V,be,pe,Y,oe,ce)}function In(L){return $e(new Date(L))}function Ne(L){return Oe(new Date(L))}function $e(L){let V=Date.UTC(L.getUTCFullYear(),0,1);return it.count(V-1,L)}function Oe(L){let V=Date.UTC(L.getUTCFullYear(),0,1);return De.count(V-1,L)}function jt(L){return en.setTime(Date.UTC(L,0,1)),en.getUTCDay()}function yt(L,V,be,pe,Y,oe,ce){if(0<=L&&L<100){let Qe=new Date(Date.UTC(-1,V,be,pe,Y,oe,ce));return Qe.setUTCFullYear(be.y),Qe}return new Date(Date.UTC(L,V,be,pe,Y,oe,ce))}function mt(L,V,be,pe,Y){let oe=V||1,ce=e.peek(L),Qe=(Jt,Kt,hn)=>(hn=hn||Jt,nn(be[hn],pe[hn],Jt===ce&&oe,Kt)),Rt=new Date,Et=e.toSet(L),ln=Et[t]?Qe(t):e.constant(2012),S=Et[i]?Qe(i):Et[r]?Qe(r):e.zero,B=Et[s]&&Et[a]?Qe(a,1,s+a):Et[s]?Qe(s,1):Et[a]?Qe(a,1):Et[o]?Qe(o,1):Et[c]?Qe(c,1):e.one,ee=Et[d]?Qe(d):e.zero,Ee=Et[p]?Qe(p):e.zero,ft=Et[E]?Qe(E):e.zero,Ct=Et[w]?Qe(w):e.zero;return function(Jt){Rt.setTime(+Jt);let Kt=ln(Rt);return Y(Kt,S(Rt),B(Rt,Kt),ee(Rt),Ee(Rt),ft(Rt),Ct(Rt))}}function nn(L,V,be,pe){let Y=be<=1?L:pe?(oe,ce)=>pe+be*Math.floor((L(oe,ce)-pe)/be):(oe,ce)=>be*Math.floor(L(oe,ce)/be);return V?(oe,ce)=>V(Y(oe,ce),ce):Y}function Wt(L,V,be){return V+L*7-(be+6)%7}let Dn={[t]:L=>L.getFullYear(),[r]:L=>Math.floor(L.getMonth()/3),[i]:L=>L.getMonth(),[o]:L=>L.getDate(),[d]:L=>L.getHours(),[p]:L=>L.getMinutes(),[E]:L=>L.getSeconds(),[w]:L=>L.getMilliseconds(),[c]:L=>qt(L),[s]:L=>pn(L),[s+a]:(L,V)=>Wt(pn(L),L.getDay(),qn(V)),[a]:(L,V)=>Wt(1,L.getDay(),qn(V))},Qn={[r]:L=>3*L,[s]:(L,V)=>Wt(L,0,qn(V))};function Zn(L,V){return mt(L,V||1,Dn,Qn,or)}let Pn={[t]:L=>L.getUTCFullYear(),[r]:L=>Math.floor(L.getUTCMonth()/3),[i]:L=>L.getUTCMonth(),[o]:L=>L.getUTCDate(),[d]:L=>L.getUTCHours(),[p]:L=>L.getUTCMinutes(),[E]:L=>L.getUTCSeconds(),[w]:L=>L.getUTCMilliseconds(),[c]:L=>$e(L),[s]:L=>Oe(L),[a]:(L,V)=>Wt(1,L.getUTCDay(),jt(V)),[s+a]:(L,V)=>Wt(Oe(L),L.getUTCDay(),jt(V))},ar={[r]:L=>3*L,[s]:(L,V)=>Wt(L,0,jt(V))};function Ye(L,V){return mt(L,V||1,Pn,ar,yt)}let gt={[t]:Qt,[r]:Je.every(3),[i]:Je,[s]:Ce,[o]:ye,[a]:ye,[c]:ye,[d]:te,[p]:Ft,[E]:Ke,[w]:M},se={[t]:Ze,[r]:le.every(3),[i]:le,[s]:De,[o]:it,[a]:it,[c]:it,[d]:It,[p]:mn,[E]:Ke,[w]:M};function qe(L){return gt[L]}function et(L){return se[L]}function Tt(L,V,be){return L?L.offset(V,be):void 0}function fn(L,V,be){return Tt(qe(L),V,be)}function on(L,V,be){return Tt(et(L),V,be)}function ct(L,V,be,pe){return L?L.range(V,be,pe):void 0}function ie(L,V,be,pe){return ct(qe(L),V,be,pe)}function Te(L,V,be,pe){return ct(et(L),V,be,pe)}let ze=1e3,ht=ze*60,_t=ht*60,Dt=_t*24,ne=Dt*7,we=Dt*30,We=Dt*365,nt=[t,i,o,d,p,E,w],Pt=nt.slice(0,-1),sn=Pt.slice(0,-1),wn=sn.slice(0,-1),yn=wn.slice(0,-1),xn=[t,s],zn=[t,i],Re=[t],He=[[Pt,1,ze],[Pt,5,5*ze],[Pt,15,15*ze],[Pt,30,30*ze],[sn,1,ht],[sn,5,5*ht],[sn,15,15*ht],[sn,30,30*ht],[wn,1,_t],[wn,3,3*_t],[wn,6,6*_t],[wn,12,12*_t],[yn,1,Dt],[xn,1,ne],[zn,1,we],[zn,3,3*we],[Re,1,We]];function At(L){let V=L.extent,be=L.maxbins||40,pe=Math.abs(e.span(V))/be,Y=vt(Qe=>Qe[2]).right(He,pe),oe,ce;return Y===He.length?(oe=Re,ce=tn(V[0]/We,V[1]/We,be)):Y?(Y=He[pe/He[Y-1][2]<He[Y][2]/pe?Y-1:Y],oe=Y[0],ce=Y[1]):(oe=nt,ce=Math.max(tn(V[0],V[1],be),1)),{units:oe,step:ce}}n.DATE=o,n.DAY=a,n.DAYOFYEAR=c,n.HOURS=d,n.MILLISECONDS=w,n.MINUTES=p,n.MONTH=i,n.QUARTER=r,n.SECONDS=E,n.TIME_UNITS=N,n.WEEK=s,n.YEAR=t,n.dayofyear=Fn,n.timeBin=At,n.timeFloor=Zn,n.timeInterval=qe,n.timeOffset=fn,n.timeSequence=ie,n.timeUnitSpecifier=P,n.timeUnits=U,n.utcFloor=Ye,n.utcInterval=et,n.utcOffset=on,n.utcSequence=Te,n.utcdayofyear=In,n.utcweek=Ne,n.week=On,Object.defineProperty(n,"__esModule",{value:!0})})});var sR=Ae((MH,RAe)=>{m();(function(n,e){typeof MH=="object"&&typeof RAe!="undefined"?e(MH,gC(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-time","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(MH,function(n,e,t){"use strict";function r(Ge){let Gt={};return Mn=>Gt[Mn]||(Gt[Mn]=Ge(Mn))}var i=Math.sqrt(50),s=Math.sqrt(10),o=Math.sqrt(2);function a(Ge,Gt,Mn){var Yn=Math.abs(Gt-Ge)/Math.max(0,Mn),si=Math.pow(10,Math.floor(Math.log(Yn)/Math.LN10)),jr=Yn/si;return jr>=i?si*=10:jr>=s?si*=5:jr>=o&&(si*=2),Gt<Ge?-si:si}function c(Ge){return Math.abs(Ge=Math.round(Ge))>=1e21?Ge.toLocaleString("en").replace(/,/g,""):Ge.toString(10)}function d(Ge,Gt){if((Mn=(Ge=Gt?Ge.toExponential(Gt-1):Ge.toExponential()).indexOf("e"))<0)return null;var Mn,Yn=Ge.slice(0,Mn);return[Yn.length>1?Yn[0]+Yn.slice(2):Yn,+Ge.slice(Mn+1)]}function p(Ge){return Ge=d(Math.abs(Ge)),Ge?Ge[1]:NaN}function E(Ge,Gt){return function(Mn,Yn){for(var si=Mn.length,jr=[],Zr=0,Cs=Ge[0],fo=0;si>0&&Cs>0&&(fo+Cs+1>Yn&&(Cs=Math.max(1,Yn-fo)),jr.push(Mn.substring(si-=Cs,si+Cs)),!((fo+=Cs+1)>Yn));)Cs=Ge[Zr=(Zr+1)%Ge.length];return jr.reverse().join(Gt)}}function w(Ge){return function(Gt){return Gt.replace(/[0-9]/g,function(Mn){return Ge[+Mn]})}}var N=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function R(Ge){if(!(Gt=N.exec(Ge)))throw new Error("invalid format: "+Ge);var Gt;return new U({fill:Gt[1],align:Gt[2],sign:Gt[3],symbol:Gt[4],zero:Gt[5],width:Gt[6],comma:Gt[7],precision:Gt[8]&&Gt[8].slice(1),trim:Gt[9],type:Gt[10]})}R.prototype=U.prototype;function U(Ge){this.fill=Ge.fill===void 0?" ":Ge.fill+"",this.align=Ge.align===void 0?">":Ge.align+"",this.sign=Ge.sign===void 0?"-":Ge.sign+"",this.symbol=Ge.symbol===void 0?"":Ge.symbol+"",this.zero=!!Ge.zero,this.width=Ge.width===void 0?void 0:+Ge.width,this.comma=!!Ge.comma,this.precision=Ge.precision===void 0?void 0:+Ge.precision,this.trim=!!Ge.trim,this.type=Ge.type===void 0?"":Ge.type+""}U.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q(Ge){e:for(var Gt=Ge.length,Mn=1,Yn=-1,si;Mn<Gt;++Mn)switch(Ge[Mn]){case".":Yn=si=Mn;break;case"0":Yn===0&&(Yn=Mn),si=Mn;break;default:if(!+Ge[Mn])break e;Yn>0&&(Yn=0);break}return Yn>0?Ge.slice(0,Yn)+Ge.slice(si+1):Ge}var P;function j(Ge,Gt){var Mn=d(Ge,Gt);if(!Mn)return Ge+"";var Yn=Mn[0],si=Mn[1],jr=si-(P=Math.max(-8,Math.min(8,Math.floor(si/3)))*3)+1,Zr=Yn.length;return jr===Zr?Yn:jr>Zr?Yn+new Array(jr-Zr+1).join("0"):jr>0?Yn.slice(0,jr)+"."+Yn.slice(jr):"0."+new Array(1-jr).join("0")+d(Ge,Math.max(0,Gt+jr-1))[0]}function I(Ge,Gt){var Mn=d(Ge,Gt);if(!Mn)return Ge+"";var Yn=Mn[0],si=Mn[1];return si<0?"0."+new Array(-si).join("0")+Yn:Yn.length>si+1?Yn.slice(0,si+1)+"."+Yn.slice(si+1):Yn+new Array(si-Yn.length+2).join("0")}var K={"%":(Ge,Gt)=>(Ge*100).toFixed(Gt),b:Ge=>Math.round(Ge).toString(2),c:Ge=>Ge+"",d:c,e:(Ge,Gt)=>Ge.toExponential(Gt),f:(Ge,Gt)=>Ge.toFixed(Gt),g:(Ge,Gt)=>Ge.toPrecision(Gt),o:Ge=>Math.round(Ge).toString(8),p:(Ge,Gt)=>I(Ge*100,Gt),r:I,s:j,X:Ge=>Math.round(Ge).toString(16).toUpperCase(),x:Ge=>Math.round(Ge).toString(16)};function de(Ge){return Ge}var M=Array.prototype.map,Z=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function me(Ge){var Gt=Ge.grouping===void 0||Ge.thousands===void 0?de:E(M.call(Ge.grouping,Number),Ge.thousands+""),Mn=Ge.currency===void 0?"":Ge.currency[0]+"",Yn=Ge.currency===void 0?"":Ge.currency[1]+"",si=Ge.decimal===void 0?".":Ge.decimal+"",jr=Ge.numerals===void 0?de:w(M.call(Ge.numerals,String)),Zr=Ge.percent===void 0?"%":Ge.percent+"",Cs=Ge.minus===void 0?"\u2212":Ge.minus+"",fo=Ge.nan===void 0?"NaN":Ge.nan+"";function ro(io){io=R(io);var ho=io.fill,xi=io.align,Ci=io.sign,Wi=io.symbol,Xo=io.zero,fa=io.width,da=io.comma,po=io.precision,us=io.trim,ps=io.type;ps==="n"?(da=!0,ps="g"):K[ps]||(po===void 0&&(po=12),us=!0,ps="g"),(Xo||ho==="0"&&xi==="=")&&(Xo=!0,ho="0",xi="=");var Zi=Wi==="$"?Mn:Wi==="#"&&/[boxX]/.test(ps)?"0"+ps.toLowerCase():"",du=Wi==="$"?Yn:/[%p]/.test(ps)?Zr:"",Is=K[ps],ma=/[defgprs%]/.test(ps);po=po===void 0?6:/[gprs]/.test(ps)?Math.max(1,Math.min(21,po)):Math.max(0,Math.min(20,po));function oa(ki){var Vo=Zi,vs=du,Bi,Oo,Na;if(ps==="c")vs=Is(ki)+vs,ki="";else{ki=+ki;var Ja=ki<0||1/ki<0;if(ki=isNaN(ki)?fo:Is(Math.abs(ki),po),us&&(ki=Q(ki)),Ja&&+ki==0&&Ci!=="+"&&(Ja=!1),Vo=(Ja?Ci==="("?Ci:Cs:Ci==="-"||Ci==="("?"":Ci)+Vo,vs=(ps==="s"?Z[8+P/3]:"")+vs+(Ja&&Ci==="("?")":""),ma){for(Bi=-1,Oo=ki.length;++Bi<Oo;)if(Na=ki.charCodeAt(Bi),48>Na||Na>57){vs=(Na===46?si+ki.slice(Bi+1):ki.slice(Bi))+vs,ki=ki.slice(0,Bi);break}}}da&&!Xo&&(ki=Gt(ki,1/0));var Ro=Vo.length+ki.length+vs.length,To=Ro<fa?new Array(fa-Ro+1).join(ho):"";switch(da&&Xo&&(ki=Gt(To+ki,To.length?fa-vs.length:1/0),To=""),xi){case"<":ki=Vo+ki+vs+To;break;case"=":ki=Vo+To+ki+vs;break;case"^":ki=To.slice(0,Ro=To.length>>1)+Vo+ki+vs+To.slice(Ro);break;default:ki=To+Vo+ki+vs;break}return jr(ki)}return oa.toString=function(){return io+""},oa}function hs(io,ho){var xi=ro((io=R(io),io.type="f",io)),Ci=Math.max(-8,Math.min(8,Math.floor(p(ho)/3)))*3,Wi=Math.pow(10,-Ci),Xo=Z[8+Ci/3];return function(fa){return xi(Wi*fa)+Xo}}return{format:ro,formatPrefix:hs}}var _e,Ve,at;lt({thousands:",",grouping:[3],currency:["$",""]});function lt(Ge){return _e=me(Ge),Ve=_e.format,at=_e.formatPrefix,_e}function Ke(Ge){return Math.max(0,-p(Math.abs(Ge)))}function St(Ge,Gt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(p(Gt)/3)))*3-p(Math.abs(Ge)))}function Ft(Ge,Gt){return Ge=Math.abs(Ge),Gt=Math.abs(Gt)-Ge,Math.max(0,p(Gt)-p(Ge))+1}function je(Ge,Gt){return Mn=>{let Yn=Ge(Mn),si=Yn.indexOf(Gt);if(si<0)return Yn;let jr=te(Yn,si),Zr=jr<Yn.length?Yn.slice(jr):"";for(;--jr>si;)if(Yn[jr]!=="0"){++jr;break}return Yn.slice(0,jr)+Zr}}function te(Ge,Gt){let Mn=Ge.lastIndexOf("e"),Yn;if(Mn>0)return Mn;for(Mn=Ge.length;--Mn>Gt;)if(Yn=Ge.charCodeAt(Mn),Yn>=48&&Yn<=57)return Mn+1}function Xe(Ge){let Gt=r(Ge.format),Mn=Ge.formatPrefix;return{format:Gt,formatPrefix:Mn,formatFloat(Yn){let si=R(Yn||",");if(si.precision==null){switch(si.precision=12,si.type){case"%":si.precision-=2;break;case"e":si.precision-=1;break}return je(Gt(si),Gt(".1f")(1)[1])}else return Gt(si)},formatSpan(Yn,si,jr,Zr){Zr=R(Zr??",f");let Cs=a(Yn,si,jr),fo=Math.max(Math.abs(Yn),Math.abs(si)),ro;if(Zr.precision==null)switch(Zr.type){case"s":return isNaN(ro=St(Cs,fo))||(Zr.precision=ro),Mn(Zr,fo);case"":case"e":case"g":case"p":case"r":{isNaN(ro=Ft(Cs,fo))||(Zr.precision=ro-(Zr.type==="e"));break}case"f":case"%":{isNaN(ro=Ke(Cs))||(Zr.precision=ro-(Zr.type==="%")*2);break}}return Gt(Zr)}}}let ye;ke();function ke(){return ye=Xe({format:Ve,formatPrefix:at})}function Ce(Ge){return Xe(me(Ge))}function xe(Ge){return arguments.length?ye=Ce(Ge):ye}var Je=new Date,ut=new Date;function Qt(Ge,Gt,Mn,Yn){function si(jr){return Ge(jr=arguments.length===0?new Date:new Date(+jr)),jr}return si.floor=function(jr){return Ge(jr=new Date(+jr)),jr},si.ceil=function(jr){return Ge(jr=new Date(jr-1)),Gt(jr,1),Ge(jr),jr},si.round=function(jr){var Zr=si(jr),Cs=si.ceil(jr);return jr-Zr<Cs-jr?Zr:Cs},si.offset=function(jr,Zr){return Gt(jr=new Date(+jr),Zr==null?1:Math.floor(Zr)),jr},si.range=function(jr,Zr,Cs){var fo=[],ro;if(jr=si.ceil(jr),Cs=Cs==null?1:Math.floor(Cs),!(jr<Zr)||!(Cs>0))return fo;do fo.push(ro=new Date(+jr)),Gt(jr,Cs),Ge(jr);while(ro<jr&&jr<Zr);return fo},si.filter=function(jr){return Qt(function(Zr){if(Zr>=Zr)for(;Ge(Zr),!jr(Zr);)Zr.setTime(Zr-1)},function(Zr,Cs){if(Zr>=Zr)if(Cs<0)for(;++Cs<=0;)for(;Gt(Zr,-1),!jr(Zr););else for(;--Cs>=0;)for(;Gt(Zr,1),!jr(Zr););})},Mn&&(si.count=function(jr,Zr){return Je.setTime(+jr),ut.setTime(+Zr),Ge(Je),Ge(ut),Math.floor(Mn(Je,ut))},si.every=function(jr){return jr=Math.floor(jr),!isFinite(jr)||!(jr>0)?null:jr>1?si.filter(Yn?function(Zr){return Yn(Zr)%jr===0}:function(Zr){return si.count(0,Zr)%jr===0}):si}),si}let mn=1e3*60,It=mn*60*24,cn=It*7;var it=Qt(Ge=>Ge.setHours(0,0,0,0),(Ge,Gt)=>Ge.setDate(Ge.getDate()+Gt),(Ge,Gt)=>(Gt-Ge-(Gt.getTimezoneOffset()-Ge.getTimezoneOffset())*mn)/It,Ge=>Ge.getDate()-1),ue=it;function De(Ge){return Qt(function(Gt){Gt.setDate(Gt.getDate()-(Gt.getDay()+7-Ge)%7),Gt.setHours(0,0,0,0)},function(Gt,Mn){Gt.setDate(Gt.getDate()+Mn*7)},function(Gt,Mn){return(Mn-Gt-(Mn.getTimezoneOffset()-Gt.getTimezoneOffset())*mn)/cn})}var ve=De(0),le=De(1);De(2),De(3);var st=De(4);De(5),De(6);var Ze=Qt(function(Ge){Ge.setMonth(0,1),Ge.setHours(0,0,0,0)},function(Ge,Gt){Ge.setFullYear(Ge.getFullYear()+Gt)},function(Ge,Gt){return Gt.getFullYear()-Ge.getFullYear()},function(Ge){return Ge.getFullYear()});Ze.every=function(Ge){return!isFinite(Ge=Math.floor(Ge))||!(Ge>0)?null:Qt(function(Gt){Gt.setFullYear(Math.floor(Gt.getFullYear()/Ge)*Ge),Gt.setMonth(0,1),Gt.setHours(0,0,0,0)},function(Gt,Mn){Gt.setFullYear(Gt.getFullYear()+Mn*Ge)})};var Le=Ze,vt=Qt(function(Ge){Ge.setUTCHours(0,0,0,0)},function(Ge,Gt){Ge.setUTCDate(Ge.getUTCDate()+Gt)},function(Ge,Gt){return(Gt-Ge)/It},function(Ge){return Ge.getUTCDate()-1}),$t=vt;function Mt(Ge){return Qt(function(Gt){Gt.setUTCDate(Gt.getUTCDate()-(Gt.getUTCDay()+7-Ge)%7),Gt.setUTCHours(0,0,0,0)},function(Gt,Mn){Gt.setUTCDate(Gt.getUTCDate()+Mn*7)},function(Gt,Mn){return(Mn-Gt)/cn})}var Vt=Mt(0),tn=Mt(1);Mt(2),Mt(3);var en=Mt(4);Mt(5),Mt(6);var En=Qt(function(Ge){Ge.setUTCMonth(0,1),Ge.setUTCHours(0,0,0,0)},function(Ge,Gt){Ge.setUTCFullYear(Ge.getUTCFullYear()+Gt)},function(Ge,Gt){return Gt.getUTCFullYear()-Ge.getUTCFullYear()},function(Ge){return Ge.getUTCFullYear()});En.every=function(Ge){return!isFinite(Ge=Math.floor(Ge))||!(Ge>0)?null:Qt(function(Gt){Gt.setUTCFullYear(Math.floor(Gt.getUTCFullYear()/Ge)*Ge),Gt.setUTCMonth(0,1),Gt.setUTCHours(0,0,0,0)},function(Gt,Mn){Gt.setUTCFullYear(Gt.getUTCFullYear()+Mn*Ge)})};var Fn=En;function On(Ge){if(0<=Ge.y&&Ge.y<100){var Gt=new Date(-1,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L);return Gt.setFullYear(Ge.y),Gt}return new Date(Ge.y,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L)}function qt(Ge){if(0<=Ge.y&&Ge.y<100){var Gt=new Date(Date.UTC(-1,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L));return Gt.setUTCFullYear(Ge.y),Gt}return new Date(Date.UTC(Ge.y,Ge.m,Ge.d,Ge.H,Ge.M,Ge.S,Ge.L))}function pn(Ge,Gt,Mn){return{y:Ge,m:Gt,d:Mn,H:0,M:0,S:0,L:0}}function qn(Ge){var Gt=Ge.dateTime,Mn=Ge.date,Yn=Ge.time,si=Ge.periods,jr=Ge.days,Zr=Ge.shortDays,Cs=Ge.months,fo=Ge.shortMonths,ro=yt(si),hs=mt(si),io=yt(jr),ho=mt(jr),xi=yt(Zr),Ci=mt(Zr),Wi=yt(Cs),Xo=mt(Cs),fa=yt(fo),da=mt(fo),po={a:Ja,A:Ro,b:To,B:qa,c:null,d:_t,e:_t,f:nt,g:V,G:pe,H:Dt,I:ne,j:we,L:We,m:Pt,M:sn,p:hu,q:Ua,Q:Pr,s:vi,S:wn,u:yn,U:xn,V:Re,w:He,W:At,x:null,X:null,y:L,Y:be,Z:Y,"%":yr},us={a:aa,A:ua,b:pl,B:Pl,c:null,d:oe,e:oe,f:ln,g:jn,G:Xr,H:ce,I:Qe,j:Rt,L:Et,m:S,M:B,p:na,q:el,Q:Pr,s:vi,S:ee,u:Ee,U:ft,V:Jt,w:Kt,W:hn,x:null,X:null,y:Bn,Y:Vn,Z:Wr,"%":yr},ps={a:oa,A:ki,b:Vo,B:vs,c:Bi,d:qe,e:qe,f:ie,g:ar,G:Pn,H:Tt,I:Tt,j:et,L:ct,m:se,M:fn,p:ma,q:gt,Q:ze,s:ht,S:on,u:Wt,U:Dn,V:Qn,w:nn,W:Zn,x:Oo,X:Na,y:ar,Y:Pn,Z:Ye,"%":Te};po.x=Zi(Mn,po),po.X=Zi(Yn,po),po.c=Zi(Gt,po),us.x=Zi(Mn,us),us.X=Zi(Yn,us),us.c=Zi(Gt,us);function Zi(ci,rs){return function(ls){var pr=[],as=-1,Me=0,pt=ci.length,Yt,Bt,dn;for(ls instanceof Date||(ls=new Date(+ls));++as<pt;)ci.charCodeAt(as)===37&&(pr.push(ci.slice(Me,as)),(Bt=or[Yt=ci.charAt(++as)])!=null?Yt=ci.charAt(++as):Bt=Yt==="e"?" ":"0",(dn=rs[Yt])&&(Yt=dn(ls,Bt)),pr.push(Yt),Me=as+1);return pr.push(ci.slice(Me,as)),pr.join("")}}function du(ci,rs){return function(ls){var pr=pn(1900,void 0,1),as=Is(pr,ci,ls+="",0),Me,pt;if(as!=ls.length)return null;if("Q"in pr)return new Date(pr.Q);if("s"in pr)return new Date(pr.s*1e3+("L"in pr?pr.L:0));if(rs&&!("Z"in pr)&&(pr.Z=0),"p"in pr&&(pr.H=pr.H%12+pr.p*12),pr.m===void 0&&(pr.m="q"in pr?pr.q:0),"V"in pr){if(pr.V<1||pr.V>53)return null;"w"in pr||(pr.w=1),"Z"in pr?(Me=qt(pn(pr.y,0,1)),pt=Me.getUTCDay(),Me=pt>4||pt===0?tn.ceil(Me):tn(Me),Me=$t.offset(Me,(pr.V-1)*7),pr.y=Me.getUTCFullYear(),pr.m=Me.getUTCMonth(),pr.d=Me.getUTCDate()+(pr.w+6)%7):(Me=On(pn(pr.y,0,1)),pt=Me.getDay(),Me=pt>4||pt===0?le.ceil(Me):le(Me),Me=ue.offset(Me,(pr.V-1)*7),pr.y=Me.getFullYear(),pr.m=Me.getMonth(),pr.d=Me.getDate()+(pr.w+6)%7)}else("W"in pr||"U"in pr)&&("w"in pr||(pr.w="u"in pr?pr.u%7:"W"in pr?1:0),pt="Z"in pr?qt(pn(pr.y,0,1)).getUTCDay():On(pn(pr.y,0,1)).getDay(),pr.m=0,pr.d="W"in pr?(pr.w+6)%7+pr.W*7-(pt+5)%7:pr.w+pr.U*7-(pt+6)%7);return"Z"in pr?(pr.H+=pr.Z/100|0,pr.M+=pr.Z%100,qt(pr)):On(pr)}}function Is(ci,rs,ls,pr){for(var as=0,Me=rs.length,pt=ls.length,Yt,Bt;as<Me;){if(pr>=pt)return-1;if(Yt=rs.charCodeAt(as++),Yt===37){if(Yt=rs.charAt(as++),Bt=ps[Yt in or?rs.charAt(as++):Yt],!Bt||(pr=Bt(ci,ls,pr))<0)return-1}else if(Yt!=ls.charCodeAt(pr++))return-1}return pr}function ma(ci,rs,ls){var pr=ro.exec(rs.slice(ls));return pr?(ci.p=hs.get(pr[0].toLowerCase()),ls+pr[0].length):-1}function oa(ci,rs,ls){var pr=xi.exec(rs.slice(ls));return pr?(ci.w=Ci.get(pr[0].toLowerCase()),ls+pr[0].length):-1}function ki(ci,rs,ls){var pr=io.exec(rs.slice(ls));return pr?(ci.w=ho.get(pr[0].toLowerCase()),ls+pr[0].length):-1}function Vo(ci,rs,ls){var pr=fa.exec(rs.slice(ls));return pr?(ci.m=da.get(pr[0].toLowerCase()),ls+pr[0].length):-1}function vs(ci,rs,ls){var pr=Wi.exec(rs.slice(ls));return pr?(ci.m=Xo.get(pr[0].toLowerCase()),ls+pr[0].length):-1}function Bi(ci,rs,ls){return Is(ci,Gt,rs,ls)}function Oo(ci,rs,ls){return Is(ci,Mn,rs,ls)}function Na(ci,rs,ls){return Is(ci,Yn,rs,ls)}function Ja(ci){return Zr[ci.getDay()]}function Ro(ci){return jr[ci.getDay()]}function To(ci){return fo[ci.getMonth()]}function qa(ci){return Cs[ci.getMonth()]}function hu(ci){return si[+(ci.getHours()>=12)]}function Ua(ci){return 1+~~(ci.getMonth()/3)}function aa(ci){return Zr[ci.getUTCDay()]}function ua(ci){return jr[ci.getUTCDay()]}function pl(ci){return fo[ci.getUTCMonth()]}function Pl(ci){return Cs[ci.getUTCMonth()]}function na(ci){return si[+(ci.getUTCHours()>=12)]}function el(ci){return 1+~~(ci.getUTCMonth()/3)}return{format:function(ci){var rs=Zi(ci+="",po);return rs.toString=function(){return ci},rs},parse:function(ci){var rs=du(ci+="",!1);return rs.toString=function(){return ci},rs},utcFormat:function(ci){var rs=Zi(ci+="",us);return rs.toString=function(){return ci},rs},utcParse:function(ci){var rs=du(ci+="",!0);return rs.toString=function(){return ci},rs}}}var or={"-":"",_:" ","0":"0"},In=/^\s*\d+/,Ne=/^%/,$e=/[\\^$*+?|[\]().{}]/g;function Oe(Ge,Gt,Mn){var Yn=Ge<0?"-":"",si=(Yn?-Ge:Ge)+"",jr=si.length;return Yn+(jr<Mn?new Array(Mn-jr+1).join(Gt)+si:si)}function jt(Ge){return Ge.replace($e,"\\$&")}function yt(Ge){return new RegExp("^(?:"+Ge.map(jt).join("|")+")","i")}function mt(Ge){return new Map(Ge.map((Gt,Mn)=>[Gt.toLowerCase(),Mn]))}function nn(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+1));return Yn?(Ge.w=+Yn[0],Mn+Yn[0].length):-1}function Wt(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+1));return Yn?(Ge.u=+Yn[0],Mn+Yn[0].length):-1}function Dn(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Ge.U=+Yn[0],Mn+Yn[0].length):-1}function Qn(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Ge.V=+Yn[0],Mn+Yn[0].length):-1}function Zn(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Ge.W=+Yn[0],Mn+Yn[0].length):-1}function Pn(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+4));return Yn?(Ge.y=+Yn[0],Mn+Yn[0].length):-1}function ar(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Ge.y=+Yn[0]+(+Yn[0]>68?1900:2e3),Mn+Yn[0].length):-1}function Ye(Ge,Gt,Mn){var Yn=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Gt.slice(Mn,Mn+6));return Yn?(Ge.Z=Yn[1]?0:-(Yn[2]+(Yn[3]||"00")),Mn+Yn[0].length):-1}function gt(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+1));return Yn?(Ge.q=Yn[0]*3-3,Mn+Yn[0].length):-1}function se(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Ge.m=Yn[0]-1,Mn+Yn[0].length):-1}function qe(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Ge.d=+Yn[0],Mn+Yn[0].length):-1}function et(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+3));return Yn?(Ge.m=0,Ge.d=+Yn[0],Mn+Yn[0].length):-1}function Tt(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Ge.H=+Yn[0],Mn+Yn[0].length):-1}function fn(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Ge.M=+Yn[0],Mn+Yn[0].length):-1}function on(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+2));return Yn?(Ge.S=+Yn[0],Mn+Yn[0].length):-1}function ct(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+3));return Yn?(Ge.L=+Yn[0],Mn+Yn[0].length):-1}function ie(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn,Mn+6));return Yn?(Ge.L=Math.floor(Yn[0]/1e3),Mn+Yn[0].length):-1}function Te(Ge,Gt,Mn){var Yn=Ne.exec(Gt.slice(Mn,Mn+1));return Yn?Mn+Yn[0].length:-1}function ze(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn));return Yn?(Ge.Q=+Yn[0],Mn+Yn[0].length):-1}function ht(Ge,Gt,Mn){var Yn=In.exec(Gt.slice(Mn));return Yn?(Ge.s=+Yn[0],Mn+Yn[0].length):-1}function _t(Ge,Gt){return Oe(Ge.getDate(),Gt,2)}function Dt(Ge,Gt){return Oe(Ge.getHours(),Gt,2)}function ne(Ge,Gt){return Oe(Ge.getHours()%12||12,Gt,2)}function we(Ge,Gt){return Oe(1+ue.count(Le(Ge),Ge),Gt,3)}function We(Ge,Gt){return Oe(Ge.getMilliseconds(),Gt,3)}function nt(Ge,Gt){return We(Ge,Gt)+"000"}function Pt(Ge,Gt){return Oe(Ge.getMonth()+1,Gt,2)}function sn(Ge,Gt){return Oe(Ge.getMinutes(),Gt,2)}function wn(Ge,Gt){return Oe(Ge.getSeconds(),Gt,2)}function yn(Ge){var Gt=Ge.getDay();return Gt===0?7:Gt}function xn(Ge,Gt){return Oe(ve.count(Le(Ge)-1,Ge),Gt,2)}function zn(Ge){var Gt=Ge.getDay();return Gt>=4||Gt===0?st(Ge):st.ceil(Ge)}function Re(Ge,Gt){return Ge=zn(Ge),Oe(st.count(Le(Ge),Ge)+(Le(Ge).getDay()===4),Gt,2)}function He(Ge){return Ge.getDay()}function At(Ge,Gt){return Oe(le.count(Le(Ge)-1,Ge),Gt,2)}function L(Ge,Gt){return Oe(Ge.getFullYear()%100,Gt,2)}function V(Ge,Gt){return Ge=zn(Ge),Oe(Ge.getFullYear()%100,Gt,2)}function be(Ge,Gt){return Oe(Ge.getFullYear()%1e4,Gt,4)}function pe(Ge,Gt){var Mn=Ge.getDay();return Ge=Mn>=4||Mn===0?st(Ge):st.ceil(Ge),Oe(Ge.getFullYear()%1e4,Gt,4)}function Y(Ge){var Gt=Ge.getTimezoneOffset();return(Gt>0?"-":(Gt*=-1,"+"))+Oe(Gt/60|0,"0",2)+Oe(Gt%60,"0",2)}function oe(Ge,Gt){return Oe(Ge.getUTCDate(),Gt,2)}function ce(Ge,Gt){return Oe(Ge.getUTCHours(),Gt,2)}function Qe(Ge,Gt){return Oe(Ge.getUTCHours()%12||12,Gt,2)}function Rt(Ge,Gt){return Oe(1+$t.count(Fn(Ge),Ge),Gt,3)}function Et(Ge,Gt){return Oe(Ge.getUTCMilliseconds(),Gt,3)}function ln(Ge,Gt){return Et(Ge,Gt)+"000"}function S(Ge,Gt){return Oe(Ge.getUTCMonth()+1,Gt,2)}function B(Ge,Gt){return Oe(Ge.getUTCMinutes(),Gt,2)}function ee(Ge,Gt){return Oe(Ge.getUTCSeconds(),Gt,2)}function Ee(Ge){var Gt=Ge.getUTCDay();return Gt===0?7:Gt}function ft(Ge,Gt){return Oe(Vt.count(Fn(Ge)-1,Ge),Gt,2)}function Ct(Ge){var Gt=Ge.getUTCDay();return Gt>=4||Gt===0?en(Ge):en.ceil(Ge)}function Jt(Ge,Gt){return Ge=Ct(Ge),Oe(en.count(Fn(Ge),Ge)+(Fn(Ge).getUTCDay()===4),Gt,2)}function Kt(Ge){return Ge.getUTCDay()}function hn(Ge,Gt){return Oe(tn.count(Fn(Ge)-1,Ge),Gt,2)}function Bn(Ge,Gt){return Oe(Ge.getUTCFullYear()%100,Gt,2)}function jn(Ge,Gt){return Ge=Ct(Ge),Oe(Ge.getUTCFullYear()%100,Gt,2)}function Vn(Ge,Gt){return Oe(Ge.getUTCFullYear()%1e4,Gt,4)}function Xr(Ge,Gt){var Mn=Ge.getUTCDay();return Ge=Mn>=4||Mn===0?en(Ge):en.ceil(Ge),Oe(Ge.getUTCFullYear()%1e4,Gt,4)}function Wr(){return"+0000"}function yr(){return"%"}function Pr(Ge){return+Ge}function vi(Ge){return Math.floor(+Ge/1e3)}var li,Xi,ws,ts,Ca;pa({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pa(Ge){return li=qn(Ge),Xi=li.format,ws=li.parse,ts=li.utcFormat,Ca=li.utcParse,li}function hl(Ge,Gt,Mn){Mn=Mn||{},t.isObject(Mn)||t.error(`Invalid time multi-format specifier: ${Mn}`);let Yn=Gt(e.SECONDS),si=Gt(e.MINUTES),jr=Gt(e.HOURS),Zr=Gt(e.DATE),Cs=Gt(e.WEEK),fo=Gt(e.MONTH),ro=Gt(e.QUARTER),hs=Gt(e.YEAR),io=Ge(Mn[e.MILLISECONDS]||".%L"),ho=Ge(Mn[e.SECONDS]||":%S"),xi=Ge(Mn[e.MINUTES]||"%I:%M"),Ci=Ge(Mn[e.HOURS]||"%I %p"),Wi=Ge(Mn[e.DATE]||Mn[e.DAY]||"%a %d"),Xo=Ge(Mn[e.WEEK]||"%b %d"),fa=Ge(Mn[e.MONTH]||"%B"),da=Ge(Mn[e.QUARTER]||"%B"),po=Ge(Mn[e.YEAR]||"%Y");return us=>(Yn(us)<us?io:si(us)<us?ho:jr(us)<us?xi:Zr(us)<us?Ci:fo(us)<us?Cs(us)<us?Wi:Xo:hs(us)<us?ro(us)<us?fa:da:po)(us)}function Sc(Ge){let Gt=r(Ge.format),Mn=r(Ge.utcFormat);return{timeFormat:Yn=>t.isString(Yn)?Gt(Yn):hl(Gt,e.timeInterval,Yn),utcFormat:Yn=>t.isString(Yn)?Mn(Yn):hl(Mn,e.utcInterval,Yn),timeParse:r(Ge.parse),utcParse:r(Ge.utcParse)}}let cu;fu();function fu(){return cu=Sc({format:Xi,parse:ws,utcFormat:ts,utcParse:Ca})}function Xu(Ge){return Sc(qn(Ge))}function Fu(Ge){return arguments.length?cu=Xu(Ge):cu}let wc=(Ge,Gt)=>t.extend({},Ge,Gt);function ta(Ge,Gt){let Mn=Ge?Ce(Ge):xe(),Yn=Gt?Xu(Gt):Fu();return wc(Mn,Yn)}function Zu(Ge,Gt){let Mn=arguments.length;return Mn&&Mn!==2&&t.error("defaultLocale expects either zero or two arguments."),Mn?wc(xe(Ge),Fu(Gt)):wc(xe(),Fu())}function Qc(){return ke(),fu(),Zu()}n.defaultLocale=Zu,n.locale=ta,n.numberFormatDefaultLocale=xe,n.numberFormatLocale=Ce,n.resetDefaultLocale=Qc,n.resetNumberFormatDefaultLocale=ke,n.resetTimeFormatDefaultLocale=fu,n.timeFormatDefaultLocale=Fu,n.timeFormatLocale=Xu,Object.defineProperty(n,"__esModule",{value:!0})})});var BH=Ae((PH,NAe)=>{m();(function(n,e){typeof PH=="object"&&typeof NAe!="undefined"?e(PH,Au(),DAe(),sR()):typeof define=="function"&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.topojson,n.vega))})(PH,function(n,e,t,r){"use strict";let i=/^(data:|([A-Za-z]+:)?\/\/)/,s=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,o=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,a="file://";function c(ve,le){return st=>({options:st||{},sanitize:p,load:d,fileAccess:!!le,file:E(le),http:N(ve)})}async function d(ve,le){let st=await this.sanitize(ve,le),Ze=st.href;return st.localFile?this.file(Ze):this.http(Ze,le)}async function p(ve,le){le=e.extend({},this.options,le);let st=this.fileAccess,Ze={href:null},Le,vt,$t,Mt=s.test(ve.replace(o,""));(ve==null||typeof ve!="string"||!Mt)&&e.error("Sanitize failure, invalid URI: "+e.stringValue(ve));let Vt=i.test(ve);return($t=le.baseURL)&&!Vt&&(!ve.startsWith("/")&&!$t.endsWith("/")&&(ve="/"+ve),ve=$t+ve),vt=(Le=ve.startsWith(a))||le.mode==="file"||le.mode!=="http"&&!Vt&&st,Le?ve=ve.slice(a.length):ve.startsWith("//")&&(le.defaultProtocol==="file"?(ve=ve.slice(2),vt=!0):ve=(le.defaultProtocol||"http")+":"+ve),Object.defineProperty(Ze,"localFile",{value:!!vt}),Ze.href=ve,le.target&&(Ze.target=le.target+""),le.rel&&(Ze.rel=le.rel+""),le.context==="image"&&le.crossOrigin&&(Ze.crossOrigin=le.crossOrigin+""),Ze}function E(ve){return ve?le=>new Promise((st,Ze)=>{ve.readFile(le,(Le,vt)=>{Le?Ze(Le):st(vt)})}):w}async function w(){e.error("No file system access.")}function N(ve){return ve?async function(le,st){let Ze=e.extend({},this.options.http,st),Le=st&&st.response,vt=await ve(le,Ze);return vt.ok?e.isFunction(vt[Le])?vt[Le]():vt.text():e.error(vt.status+""+vt.statusText)}:R}async function R(){e.error("No HTTP fetch method available.")}let U=ve=>ve!=null&&ve===ve,Q=ve=>ve==="true"||ve==="false"||ve===!0||ve===!1,P=ve=>!Number.isNaN(Date.parse(ve)),j=ve=>!Number.isNaN(+ve)&&!(ve instanceof Date),I=ve=>j(ve)&&Number.isInteger(+ve),K={boolean:e.toBoolean,integer:e.toNumber,number:e.toNumber,date:e.toDate,string:e.toString,unknown:e.identity},de=[Q,I,j,P],M=["boolean","integer","number","date"];function Z(ve,le){if(!ve||!ve.length)return"unknown";let st=ve.length,Ze=de.length,Le=de.map((vt,$t)=>$t+1);for(let vt=0,$t=0,Mt,Vt;vt<st;++vt)for(Vt=le?ve[vt][le]:ve[vt],Mt=0;Mt<Ze;++Mt)if(Le[Mt]&&U(Vt)&&!de[Mt](Vt)&&(Le[Mt]=0,++$t,$t===de.length))return"string";return M[Le.reduce((vt,$t)=>vt===0?$t:vt,0)-1]}function me(ve,le){return le.reduce((st,Ze)=>(st[Ze]=Z(ve,Ze),st),{})}var _e={},Ve={},at=34,lt=10,Ke=13;function St(ve){return new Function("d","return {"+ve.map(function(le,st){return JSON.stringify(le)+": d["+st+'] || ""'}).join(",")+"}")}function Ft(ve,le){var st=St(ve);return function(Ze,Le){return le(st(Ze),Le,ve)}}function je(ve){var le=Object.create(null),st=[];return ve.forEach(function(Ze){for(var Le in Ze)Le in le||st.push(le[Le]=Le)}),st}function te(ve,le){var st=ve+"",Ze=st.length;return Ze<le?new Array(le-Ze+1).join(0)+st:st}function Xe(ve){return ve<0?"-"+te(-ve,6):ve>9999?"+"+te(ve,6):te(ve,4)}function ye(ve){var le=ve.getUTCHours(),st=ve.getUTCMinutes(),Ze=ve.getUTCSeconds(),Le=ve.getUTCMilliseconds();return isNaN(ve)?"Invalid Date":Xe(ve.getUTCFullYear())+"-"+te(ve.getUTCMonth()+1,2)+"-"+te(ve.getUTCDate(),2)+(Le?"T"+te(le,2)+":"+te(st,2)+":"+te(Ze,2)+"."+te(Le,3)+"Z":Ze?"T"+te(le,2)+":"+te(st,2)+":"+te(Ze,2)+"Z":st||le?"T"+te(le,2)+":"+te(st,2)+"Z":"")}function ke(ve){var le=new RegExp('["'+ve+`
\r]`),st=ve.charCodeAt(0);function Ze(En,Fn){var On,qt,pn=Le(En,function(qn,or){if(On)return On(qn,or-1);qt=qn,On=Fn?Ft(qn,Fn):St(qn)});return pn.columns=qt||[],pn}function Le(En,Fn){var On=[],qt=En.length,pn=0,qn=0,or,In=qt<=0,Ne=!1;En.charCodeAt(qt-1)===lt&&--qt,En.charCodeAt(qt-1)===Ke&&--qt;function $e(){if(In)return Ve;if(Ne)return Ne=!1,_e;var jt,yt=pn,mt;if(En.charCodeAt(yt)===at){for(;pn++<qt&&En.charCodeAt(pn)!==at||En.charCodeAt(++pn)===at;);return(jt=pn)>=qt?In=!0:(mt=En.charCodeAt(pn++))===lt?Ne=!0:mt===Ke&&(Ne=!0,En.charCodeAt(pn)===lt&&++pn),En.slice(yt+1,jt-1).replace(/""/g,'"')}for(;pn<qt;){if((mt=En.charCodeAt(jt=pn++))===lt)Ne=!0;else if(mt===Ke)Ne=!0,En.charCodeAt(pn)===lt&&++pn;else if(mt!==st)continue;return En.slice(yt,jt)}return In=!0,En.slice(yt,qt)}for(;(or=$e())!==Ve;){for(var Oe=[];or!==_e&&or!==Ve;)Oe.push(or),or=$e();Fn&&(Oe=Fn(Oe,qn++))==null||On.push(Oe)}return On}function vt(En,Fn){return En.map(function(On){return Fn.map(function(qt){return en(On[qt])}).join(ve)})}function $t(En,Fn){return Fn==null&&(Fn=je(En)),[Fn.map(en).join(ve)].concat(vt(En,Fn)).join(`
`)}function Mt(En,Fn){return Fn==null&&(Fn=je(En)),vt(En,Fn).join(`
`)}function Vt(En){return En.map(tn).join(`
`)}function tn(En){return En.map(en).join(ve)}function en(En){return En==null?"":En instanceof Date?ye(En):le.test(En+="")?'"'+En.replace(/"/g,'""')+'"':En}return{parse:Ze,parseRows:Le,format:$t,formatBody:Mt,formatRows:Vt,formatRow:tn,formatValue:en}}function Ce(ve){let le=function(st,Ze){let Le={delimiter:ve};return xe(st,Ze?e.extend(Ze,Le):Le)};return le.responseType="text",le}function xe(ve,le){return le.header&&(ve=le.header.map(e.stringValue).join(le.delimiter)+`
`+ve),ke(le.delimiter).parse(ve+"")}xe.responseType="text";function Je(ve){return typeof Buffer=="function"&&e.isFunction(Buffer.isBuffer)?Buffer.isBuffer(ve):!1}function ut(ve,le){let st=le&&le.property?e.field(le.property):e.identity;return e.isObject(ve)&&!Je(ve)?Qt(st(ve),le):st(JSON.parse(ve))}ut.responseType="json";function Qt(ve,le){return!e.isArray(ve)&&e.isIterable(ve)&&(ve=[...ve]),le&&le.copy?JSON.parse(JSON.stringify(ve)):ve}let wt={interior:(ve,le)=>ve!==le,exterior:(ve,le)=>ve===le};function mn(ve,le){let st,Ze,Le,vt;return ve=ut(ve,le),le&&le.feature?(st=t.feature,Le=le.feature):le&&le.mesh?(st=t.mesh,Le=le.mesh,vt=wt[le.filter]):e.error("Missing TopoJSON feature or mesh parameter."),Ze=(Ze=ve.objects[Le])?st(ve,Ze,vt):e.error("Invalid TopoJSON object: "+Le),Ze&&Ze.features||[Ze]}mn.responseType="json";let Lt={dsv:xe,csv:Ce(","),tsv:Ce("	"),json:ut,topojson:mn};function It(ve,le){return arguments.length>1?(Lt[ve]=le,this):e.hasOwnProperty(Lt,ve)?Lt[ve]:null}function cn(ve){let le=It(ve);return le&&le.responseType||"text"}function it(ve,le,st,Ze){le=le||{};let Le=It(le.type||"json");return Le||e.error("Unknown data format type: "+le.type),ve=Le(ve,le),le.parse&&ue(ve,le.parse,st,Ze),e.hasOwnProperty(ve,"columns")&&delete ve.columns,ve}function ue(ve,le,st,Ze){if(!ve.length)return;let Le=r.timeFormatDefaultLocale();st=st||Le.timeParse,Ze=Ze||Le.utcParse;let vt=ve.columns||Object.keys(ve[0]),$t,Mt,Vt,tn,en,En;le==="auto"&&(le=me(ve,vt)),vt=Object.keys(le);let Fn=vt.map(On=>{let qt=le[On],pn,qn;if(qt&&(qt.startsWith("date:")||qt.startsWith("utc:")))return pn=qt.split(/:(.+)?/,2),qn=pn[1],(qn[0]==="'"&&qn[qn.length-1]==="'"||qn[0]==='"'&&qn[qn.length-1]==='"')&&(qn=qn.slice(1,-1)),(pn[0]==="utc"?Ze:st)(qn);if(!K[qt])throw Error("Illegal format pattern: "+On+":"+qt);return K[qt]});for(Vt=0,en=ve.length,En=vt.length;Vt<en;++Vt)for($t=ve[Vt],tn=0;tn<En;++tn)Mt=vt[tn],$t[Mt]=Fn[tn]($t[Mt])}let De=c(typeof fetch!="undefined"&&fetch,null);n.format=Lt,n.formats=It,n.inferType=Z,n.inferTypes=me,n.loader=De,n.read=it,n.responseType=cn,n.typeParsers=K,Object.defineProperty(n,"__esModule",{value:!0})})});var Xf=Ae((jH,LAe)=>{m();(function(n,e){typeof jH=="object"&&typeof LAe!="undefined"?e(jH,Au(),BH(),sR()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(jH,function(n,e,t,r){"use strict";function i(Ye){let gt=Ye||e.identity,se=[],qe={};return se.add=et=>{let Tt=gt(et);return qe[Tt]||(qe[Tt]=1,se.push(et)),se},se.remove=et=>{let Tt=gt(et);if(qe[Tt]){qe[Tt]=0;let fn=se.indexOf(et);fn>=0&&se.splice(fn,1)}return se},se}async function s(Ye,gt){try{await gt(Ye)}catch(se){Ye.error(se)}}let o=Symbol("vega_id"),a=1;function c(Ye){return!!(Ye&&d(Ye))}function d(Ye){return Ye[o]}function p(Ye,gt){return Ye[o]=gt,Ye}function E(Ye){let gt=Ye===Object(Ye)?Ye:{data:Ye};return d(gt)?gt:p(gt,a++)}function w(Ye){return N(Ye,E({}))}function N(Ye,gt){for(let se in Ye)gt[se]=Ye[se];return gt}function R(Ye,gt){return p(gt,d(Ye))}function U(Ye,gt){return Ye?gt?(se,qe)=>Ye(se,qe)||d(gt(se))-d(gt(qe)):(se,qe)=>Ye(se,qe)||d(se)-d(qe):null}function Q(Ye){return Ye&&Ye.constructor===P}function P(){let Ye=[],gt=[],se=[],qe=[],et=[],Tt=null,fn=!1;return{constructor:P,insert(on){let ct=e.array(on),ie=ct.length;for(let Te=0;Te<ie;++Te)Ye.push(ct[Te]);return this},remove(on){let ct=e.isFunction(on)?qe:gt,ie=e.array(on),Te=ie.length;for(let ze=0;ze<Te;++ze)ct.push(ie[ze]);return this},modify(on,ct,ie){let Te={field:ct,value:e.constant(ie)};return e.isFunction(on)?(Te.filter=on,et.push(Te)):(Te.tuple=on,se.push(Te)),this},encode(on,ct){return e.isFunction(on)?et.push({filter:on,field:ct}):se.push({tuple:on,field:ct}),this},clean(on){return Tt=on,this},reflow(){return fn=!0,this},pulse(on,ct){let ie={},Te={},ze,ht,_t,Dt,ne,we;for(ze=0,ht=ct.length;ze<ht;++ze)ie[d(ct[ze])]=1;for(ze=0,ht=gt.length;ze<ht;++ze)ne=gt[ze],ie[d(ne)]=-1;for(ze=0,ht=qe.length;ze<ht;++ze)Dt=qe[ze],ct.forEach(nt=>{Dt(nt)&&(ie[d(nt)]=-1)});for(ze=0,ht=Ye.length;ze<ht;++ze)ne=Ye[ze],we=d(ne),ie[we]?ie[we]=1:on.add.push(E(Ye[ze]));for(ze=0,ht=ct.length;ze<ht;++ze)ne=ct[ze],ie[d(ne)]<0&&on.rem.push(ne);function We(nt,Pt,sn){sn?nt[Pt]=sn(nt):on.encode=Pt,fn||(Te[d(nt)]=nt)}for(ze=0,ht=se.length;ze<ht;++ze)_t=se[ze],ne=_t.tuple,Dt=_t.field,we=ie[d(ne)],we>0&&(We(ne,Dt,_t.value),on.modifies(Dt));for(ze=0,ht=et.length;ze<ht;++ze)_t=et[ze],Dt=_t.filter,ct.forEach(nt=>{Dt(nt)&&ie[d(nt)]>0&&We(nt,_t.field,_t.value)}),on.modifies(_t.field);if(fn)on.mod=gt.length||qe.length?ct.filter(nt=>ie[d(nt)]>0):ct.slice();else for(we in Te)on.mod.push(Te[we]);return(Tt||Tt==null&&(gt.length||qe.length))&&on.clean(!0),on}}}let j="_:mod:_";function I(){Object.defineProperty(this,j,{writable:!0,value:{}})}I.prototype={set(Ye,gt,se,qe){let et=this,Tt=et[Ye],fn=et[j];return gt!=null&&gt>=0?(Tt[gt]!==se||qe)&&(Tt[gt]=se,fn[gt+":"+Ye]=-1,fn[Ye]=-1):(Tt!==se||qe)&&(et[Ye]=se,fn[Ye]=e.isArray(se)?1+se.length:-1),et},modified(Ye,gt){let se=this[j];if(arguments.length){if(e.isArray(Ye)){for(let qe=0;qe<Ye.length;++qe)if(se[Ye[qe]])return!0;return!1}}else{for(let qe in se)if(se[qe])return!0;return!1}return gt!=null&&gt>=0?gt+1<se[Ye]||!!se[gt+":"+Ye]:!!se[Ye]},clear(){return this[j]={},this}};let K=0,de="pulse",M=new I,Z=1,me=2;function _e(Ye,gt,se,qe){this.id=++K,this.value=Ye,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,gt&&(this._update=gt),se&&this.parameters(se,qe)}function Ve(Ye){return function(gt){let se=this.flags;return arguments.length===0?!!(se&Ye):(this.flags=gt?se|Ye:se&~Ye,this)}}_e.prototype={targets(){return this._targets||(this._targets=i(e.id))},set(Ye){return this.value!==Ye?(this.value=Ye,1):0},skip:Ve(Z),modified:Ve(me),parameters(Ye,gt,se){gt=gt!==!1;let qe=this._argval=this._argval||new I,et=this._argops=this._argops||[],Tt=[],fn,on,ct,ie,Te=(ze,ht,_t)=>{_t instanceof _e?(_t!==this&&(gt&&_t.targets().add(this),Tt.push(_t)),et.push({op:_t,name:ze,index:ht})):qe.set(ze,ht,_t)};for(fn in Ye)if(on=Ye[fn],fn===de)e.array(on).forEach(ze=>{ze instanceof _e?ze!==this&&(ze.targets().add(this),Tt.push(ze)):e.error("Pulse parameters must be operator instances.")}),this.source=on;else if(e.isArray(on))for(qe.set(fn,-1,Array(ct=on.length)),ie=0;ie<ct;++ie)Te(fn,ie,on[ie]);else Te(fn,-1,on);return this.marshall().clear(),se&&(et.initonly=!0),Tt},marshall(Ye){let gt=this._argval||M,se=this._argops,qe,et,Tt,fn;if(se){let on=se.length;for(et=0;et<on;++et)qe=se[et],Tt=qe.op,fn=Tt.modified()&&Tt.stamp===Ye,gt.set(qe.name,qe.index,Tt.value,fn);if(se.initonly){for(et=0;et<on;++et)qe=se[et],qe.op.targets().remove(this);this._argops=null,this._update=null}}return gt},detach(){let Ye=this._argops,gt,se,qe,et;if(Ye)for(gt=0,se=Ye.length;gt<se;++gt)qe=Ye[gt],et=qe.op,et._targets&&et._targets.remove(this);this.pulse=null,this.source=null},evaluate(Ye){let gt=this._update;if(gt){let se=this.marshall(Ye.stamp),qe=gt.call(this,se,Ye);if(se.clear(),qe!==this.value)this.value=qe;else if(!this.modified())return Ye.StopPropagation}},run(Ye){if(Ye.stamp<this.stamp)return Ye.StopPropagation;let gt;return this.skip()?(this.skip(!1),gt=0):gt=this.evaluate(Ye),this.pulse=gt||Ye}};function at(Ye,gt,se,qe){let et=1,Tt;return Ye instanceof _e?Tt=Ye:Ye&&Ye.prototype instanceof _e?Tt=new Ye:e.isFunction(Ye)?Tt=new _e(null,Ye):(et=0,Tt=new _e(Ye,gt)),this.rank(Tt),et&&(qe=se,se=gt),se&&this.connect(Tt,Tt.parameters(se,qe)),this.touch(Tt),Tt}function lt(Ye,gt){let se=Ye.rank,qe=gt.length;for(let et=0;et<qe;++et)if(se<gt[et].rank){this.rerank(Ye);return}}let Ke=0;function St(Ye,gt,se){this.id=++Ke,this.value=null,se&&(this.receive=se),Ye&&(this._filter=Ye),gt&&(this._apply=gt)}function Ft(Ye,gt,se){return new St(Ye,gt,se)}St.prototype={_filter:e.truthy,_apply:e.identity,targets(){return this._targets||(this._targets=i(e.id))},consume(Ye){return arguments.length?(this._consume=!!Ye,this):!!this._consume},receive(Ye){if(this._filter(Ye)){let gt=this.value=this._apply(Ye),se=this._targets,qe=se?se.length:0;for(let et=0;et<qe;++et)se[et].receive(gt);this._consume&&(Ye.preventDefault(),Ye.stopPropagation())}},filter(Ye){let gt=Ft(Ye);return this.targets().add(gt),gt},apply(Ye){let gt=Ft(null,Ye);return this.targets().add(gt),gt},merge(){let Ye=Ft();this.targets().add(Ye);for(let gt=0,se=arguments.length;gt<se;++gt)arguments[gt].targets().add(Ye);return Ye},throttle(Ye){let gt=-1;return this.filter(()=>{let se=Date.now();return se-gt>Ye?(gt=se,1):0})},debounce(Ye){let gt=Ft();return this.targets().add(Ft(null,null,e.debounce(Ye,se=>{let qe=se.dataflow;gt.receive(se),qe&&qe.run&&qe.run()}))),gt},between(Ye,gt){let se=!1;return Ye.targets().add(Ft(null,null,()=>se=!0)),gt.targets().add(Ft(null,null,()=>se=!1)),this.filter(()=>se)},detach(){this._filter=e.truthy,this._targets=null}};function je(Ye,gt,se,qe){let et=this,Tt=Ft(se,qe),fn=function(ie){ie.dataflow=et;try{Tt.receive(ie)}catch(Te){et.error(Te)}finally{et.run()}},on;typeof Ye=="string"&&typeof document!="undefined"?on=document.querySelectorAll(Ye):on=e.array(Ye);let ct=on.length;for(let ie=0;ie<ct;++ie)on[ie].addEventListener(gt,fn);return Tt}function te(Ye,gt){let se=this.locale();return t.read(Ye,gt,se.timeParse,se.utcParse)}function Xe(Ye,gt,se){return gt=this.parse(gt,se),this.pulse(Ye,this.changeset().insert(gt))}async function ye(Ye,gt){let se=this,qe=0,et;try{et=await se.loader().load(Ye,{context:"dataflow",response:t.responseType(gt&&gt.type)});try{et=se.parse(et,gt)}catch(Tt){qe=-2,se.warn("Data ingestion failed",Ye,Tt)}}catch(Tt){qe=-1,se.warn("Loading failed",Ye,Tt)}return{data:et,status:qe}}async function ke(Ye,gt,se){let qe=this,et=qe._pending||Ce(qe);et.requests+=1;let Tt=await qe.request(gt,se);return qe.pulse(Ye,qe.changeset().remove(e.truthy).insert(Tt.data||[])),et.done(),Tt}function Ce(Ye){let gt,se=new Promise(qe=>gt=qe);return se.requests=0,se.done=()=>{--se.requests===0&&(Ye._pending=null,gt(Ye))},Ye._pending=se}let xe={skip:!0};function Je(Ye,gt,se,qe,et){return(Ye instanceof _e?Qt:ut)(this,Ye,gt,se,qe,et),this}function ut(Ye,gt,se,qe,et,Tt){let fn=e.extend({},Tt,xe),on,ct;e.isFunction(se)||(se=e.constant(se)),qe===void 0?on=ie=>Ye.touch(se(ie)):e.isFunction(qe)?(ct=new _e(null,qe,et,!1),on=ie=>{ct.evaluate(ie);let Te=se(ie),ze=ct.value;Q(ze)?Ye.pulse(Te,ze,Tt):Ye.update(Te,ze,fn)}):on=ie=>Ye.update(se(ie),qe,fn),gt.apply(on)}function Qt(Ye,gt,se,qe,et,Tt){if(qe===void 0)gt.targets().add(se);else{let fn=Tt||{},on=new _e(null,wt(se,qe),et,!1);on.modified(fn.force),on.rank=gt.rank,gt.targets().add(on),se&&(on.skip(!0),on.value=se.value,on.targets().add(se),Ye.connect(se,[on]))}}function wt(Ye,gt){return gt=e.isFunction(gt)?gt:e.constant(gt),Ye?function(se,qe){let et=gt(se,qe);return Ye.skip()||(Ye.skip(et!==this.value).value=et),et}:gt}function mn(Ye){Ye.rank=++this._rank}function Lt(Ye){let gt=[Ye],se,qe,et;for(;gt.length;)if(this.rank(se=gt.pop()),qe=se._targets)for(et=qe.length;--et>=0;)gt.push(se=qe[et]),se===Ye&&e.error("Cycle detected in dataflow graph.")}let It={},cn=1<<0,it=1<<1,ue=1<<2,De=cn|it,ve=cn|ue,le=cn|it|ue,st=1<<3,Ze=1<<4,Le=1<<5,vt=1<<6;function $t(Ye,gt,se){this.dataflow=Ye,this.stamp=gt??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=se||null}function Mt(Ye,gt){let se=[];return e.visitArray(Ye,gt,qe=>se.push(qe)),se}function Vt(Ye,gt){let se={};return Ye.visit(gt,qe=>{se[d(qe)]=1}),qe=>se[d(qe)]?null:qe}function tn(Ye,gt){return Ye?(se,qe)=>Ye(se,qe)&&gt(se,qe):gt}$t.prototype={StopPropagation:It,ADD:cn,REM:it,MOD:ue,ADD_REM:De,ADD_MOD:ve,ALL:le,REFLOW:st,SOURCE:Ze,NO_SOURCE:Le,NO_FIELDS:vt,fork(Ye){return new $t(this.dataflow).init(this,Ye)},clone(){let Ye=this.fork(le);return Ye.add=Ye.add.slice(),Ye.rem=Ye.rem.slice(),Ye.mod=Ye.mod.slice(),Ye.source&&(Ye.source=Ye.source.slice()),Ye.materialize(le|Ze)},addAll(){let Ye=this;return!Ye.source||Ye.add===Ye.rem||!Ye.rem.length&&Ye.source.length===Ye.add.length||(Ye=new $t(this.dataflow).init(this),Ye.add=Ye.source,Ye.rem=[]),Ye},init(Ye,gt){let se=this;return se.stamp=Ye.stamp,se.encode=Ye.encode,Ye.fields&&!(gt&vt)&&(se.fields=Ye.fields),gt&cn?(se.addF=Ye.addF,se.add=Ye.add):(se.addF=null,se.add=[]),gt&it?(se.remF=Ye.remF,se.rem=Ye.rem):(se.remF=null,se.rem=[]),gt&ue?(se.modF=Ye.modF,se.mod=Ye.mod):(se.modF=null,se.mod=[]),gt&Le?(se.srcF=null,se.source=null):(se.srcF=Ye.srcF,se.source=Ye.source,Ye.cleans&&(se.cleans=Ye.cleans)),se},runAfter(Ye){this.dataflow.runAfter(Ye)},changed(Ye){let gt=Ye||le;return gt&cn&&this.add.length||gt&it&&this.rem.length||gt&ue&&this.mod.length},reflow(Ye){if(Ye)return this.fork(le).reflow();let gt=this.add.length,se=this.source&&this.source.length;return se&&se!==gt&&(this.mod=this.source,gt&&this.filter(ue,Vt(this,cn))),this},clean(Ye){return arguments.length?(this.cleans=!!Ye,this):this.cleans},modifies(Ye){let gt=this.fields||(this.fields={});return e.isArray(Ye)?Ye.forEach(se=>gt[se]=!0):gt[Ye]=!0,this},modified(Ye,gt){let se=this.fields;return(gt||this.mod.length)&&se?arguments.length?e.isArray(Ye)?Ye.some(qe=>se[qe]):se[Ye]:!!se:!1},filter(Ye,gt){let se=this;return Ye&cn&&(se.addF=tn(se.addF,gt)),Ye&it&&(se.remF=tn(se.remF,gt)),Ye&ue&&(se.modF=tn(se.modF,gt)),Ye&Ze&&(se.srcF=tn(se.srcF,gt)),se},materialize(Ye){Ye=Ye||le;let gt=this;return Ye&cn&&gt.addF&&(gt.add=Mt(gt.add,gt.addF),gt.addF=null),Ye&it&&gt.remF&&(gt.rem=Mt(gt.rem,gt.remF),gt.remF=null),Ye&ue&&gt.modF&&(gt.mod=Mt(gt.mod,gt.modF),gt.modF=null),Ye&Ze&&gt.srcF&&(gt.source=gt.source.filter(gt.srcF),gt.srcF=null),gt},visit(Ye,gt){let se=this,qe=gt;if(Ye&Ze)return e.visitArray(se.source,se.srcF,qe),se;Ye&cn&&e.visitArray(se.add,se.addF,qe),Ye&it&&e.visitArray(se.rem,se.remF,qe),Ye&ue&&e.visitArray(se.mod,se.modF,qe);let et=se.source;if(Ye&st&&et){let Tt=se.add.length+se.mod.length;Tt===et.length||(Tt?e.visitArray(et,Vt(se,ve),qe):e.visitArray(et,se.srcF,qe))}return se}};function en(Ye,gt,se,qe){let et=this,Tt=se.length,fn=0;this.dataflow=Ye,this.stamp=gt,this.fields=null,this.encode=qe||null,this.pulses=se;for(let on=0;on<Tt;++on){let ct=se[on];if(ct.stamp===gt){if(ct.fields){let ie=et.fields||(et.fields={});for(let Te in ct.fields)ie[Te]=1}ct.changed(et.ADD)&&(fn|=et.ADD),ct.changed(et.REM)&&(fn|=et.REM),ct.changed(et.MOD)&&(fn|=et.MOD)}}this.changes=fn}e.inherits(en,$t,{fork(Ye){let gt=new $t(this.dataflow).init(this,Ye&this.NO_FIELDS);return Ye!==void 0&&(Ye&gt.ADD&&this.visit(gt.ADD,se=>gt.add.push(se)),Ye&gt.REM&&this.visit(gt.REM,se=>gt.rem.push(se)),Ye&gt.MOD&&this.visit(gt.MOD,se=>gt.mod.push(se))),gt},changed(Ye){return this.changes&Ye},modified(Ye){let gt=this,se=gt.fields;return se&&gt.changes&gt.MOD?e.isArray(Ye)?Ye.some(qe=>se[qe]):se[Ye]:0},filter(){e.error("MultiPulse does not support filtering.")},materialize(){e.error("MultiPulse does not support materialization.")},visit(Ye,gt){let se=this,qe=se.pulses,et=qe.length,Tt=0;if(Ye&se.SOURCE)for(;Tt<et;++Tt)qe[Tt].visit(Ye,gt);else for(;Tt<et;++Tt)qe[Tt].stamp===se.stamp&&qe[Tt].visit(Ye,gt);return se}});async function En(Ye,gt,se){let qe=this,et=[];if(qe._pulse)return pn(qe);if(qe._pending&&await qe._pending,gt&&await s(qe,gt),!qe._touched.length)return qe.debug("Dataflow invoked, but nothing to do."),qe;let Tt=++qe._clock;qe._pulse=new $t(qe,Tt,Ye),qe._touched.forEach(Te=>qe._enqueue(Te,!0)),qe._touched=i(e.id);let fn=0,on,ct,ie;try{for(;qe._heap.size()>0;){if(on=qe._heap.pop(),on.rank!==on.qrank){qe._enqueue(on,!0);continue}ct=on.run(qe._getPulse(on,Ye)),ct.then?ct=await ct:ct.async&&(et.push(ct.async),ct=It),ct!==It&&on._targets&&on._targets.forEach(Te=>qe._enqueue(Te)),++fn}}catch(Te){qe._heap.clear(),ie=Te}if(qe._input={},qe._pulse=null,qe.debug(`Pulse ${Tt}: ${fn} operators`),ie&&(qe._postrun=[],qe.error(ie)),qe._postrun.length){let Te=qe._postrun.sort((ze,ht)=>ht.priority-ze.priority);qe._postrun=[];for(let ze=0;ze<Te.length;++ze)await s(qe,Te[ze].callback)}return se&&await s(qe,se),et.length&&Promise.all(et).then(Te=>qe.runAsync(null,()=>{Te.forEach(ze=>{try{ze(qe)}catch(ht){qe.error(ht)}})})),qe}async function Fn(Ye,gt,se){for(;this._running;)await this._running;let qe=()=>this._running=null;return(this._running=this.evaluate(Ye,gt,se)).then(qe,qe),this._running}function On(Ye,gt,se){return this._pulse?pn(this):(this.evaluate(Ye,gt,se),this)}function qt(Ye,gt,se){if(this._pulse||gt)this._postrun.push({priority:se||0,callback:Ye});else try{Ye(this)}catch(qe){this.error(qe)}}function pn(Ye){return Ye.error("Dataflow already running. Use runAsync() to chain invocations."),Ye}function qn(Ye,gt){let se=Ye.stamp<this._clock;se&&(Ye.stamp=this._clock),(se||gt)&&(Ye.qrank=Ye.rank,this._heap.push(Ye))}function or(Ye,gt){let se=Ye.source,qe=this._clock;return se&&e.isArray(se)?new en(this,qe,se.map(et=>et.pulse),gt):this._input[Ye.id]||In(this._pulse,se&&se.pulse)}function In(Ye,gt){return gt&&gt.stamp===Ye.stamp?gt:(Ye=Ye.fork(),gt&&gt!==It&&(Ye.source=gt.source),Ye)}let Ne={skip:!1,force:!1};function $e(Ye,gt){let se=gt||Ne;return this._pulse?this._enqueue(Ye):this._touched.add(Ye),se.skip&&Ye.skip(!0),this}function Oe(Ye,gt,se){let qe=se||Ne;return(Ye.set(gt)||qe.force)&&this.touch(Ye,qe),this}function jt(Ye,gt,se){this.touch(Ye,se||Ne);let qe=new $t(this,this._clock+(this._pulse?0:1)),et=Ye.pulse&&Ye.pulse.source||[];return qe.target=Ye,this._input[Ye.id]=gt.pulse(qe,et),this}function yt(Ye){let gt=[];return{clear:()=>gt=[],size:()=>gt.length,peek:()=>gt[0],push:se=>(gt.push(se),mt(gt,0,gt.length-1,Ye)),pop:()=>{let se=gt.pop(),qe;return gt.length?(qe=gt[0],gt[0]=se,nn(gt,0,Ye)):qe=se,qe}}}function mt(Ye,gt,se,qe){let et,Tt,fn=Ye[se];for(;se>gt;){if(Tt=se-1>>1,et=Ye[Tt],qe(fn,et)<0){Ye[se]=et,se=Tt;continue}break}return Ye[se]=fn}function nn(Ye,gt,se){let qe=gt,et=Ye.length,Tt=Ye[gt],fn=(gt<<1)+1,on;for(;fn<et;)on=fn+1,on<et&&se(Ye[fn],Ye[on])>=0&&(fn=on),Ye[gt]=Ye[fn],gt=fn,fn=(gt<<1)+1;return Ye[gt]=Tt,mt(Ye,qe,gt,se)}function Wt(){this.logger(e.logger()),this.logLevel(e.Error),this._clock=0,this._rank=0,this._locale=r.defaultLocale();try{this._loader=t.loader()}catch{}this._touched=i(e.id),this._input={},this._pulse=null,this._heap=yt((Ye,gt)=>Ye.qrank-gt.qrank),this._postrun=[]}function Dn(Ye){return function(){return this._log[Ye].apply(this,arguments)}}Wt.prototype={stamp(){return this._clock},loader(Ye){return arguments.length?(this._loader=Ye,this):this._loader},locale(Ye){return arguments.length?(this._locale=Ye,this):this._locale},logger(Ye){return arguments.length?(this._log=Ye,this):this._log},error:Dn("error"),warn:Dn("warn"),info:Dn("info"),debug:Dn("debug"),logLevel:Dn("level"),cleanThreshold:1e4,add:at,connect:lt,rank:mn,rerank:Lt,pulse:jt,touch:$e,update:Oe,changeset:P,ingest:Xe,parse:te,preload:ke,request:ye,events:je,on:Je,evaluate:En,run:On,runAsync:Fn,runAfter:qt,_enqueue:qn,_getPulse:or};function Qn(Ye,gt){_e.call(this,Ye,null,gt)}e.inherits(Qn,_e,{run(Ye){if(Ye.stamp<this.stamp)return Ye.StopPropagation;let gt;return this.skip()?this.skip(!1):gt=this.evaluate(Ye),gt=gt||Ye,gt.then?gt=gt.then(se=>this.pulse=se):gt!==Ye.StopPropagation&&(this.pulse=gt),gt},evaluate(Ye){let gt=this.marshall(Ye.stamp),se=this.transform(gt,Ye);return gt.clear(),se},transform(){}});let Zn={};function Pn(Ye){let gt=ar(Ye);return gt&&gt.Definition||null}function ar(Ye){return Ye=Ye&&Ye.toLowerCase(),e.hasOwnProperty(Zn,Ye)?Zn[Ye]:null}n.Dataflow=Wt,n.EventStream=St,n.MultiPulse=en,n.Operator=_e,n.Parameters=I,n.Pulse=$t,n.Transform=Qn,n.UniqueList=i,n.asyncCallback=s,n.changeset=P,n.definition=Pn,n.derive=w,n.ingest=E,n.isChangeSet=Q,n.isTuple=c,n.rederive=N,n.replace=R,n.stableCompare=U,n.transform=ar,n.transforms=Zn,n.tupleid=d,Object.defineProperty(n,"__esModule",{value:!0})})});var wb=Ae((qH,kAe)=>{m();(function(n,e){typeof qH=="object"&&typeof kAe!="undefined"?e(qH):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(qH,function(n){"use strict";function*e(Ne,$e){if($e==null)for(let Oe of Ne)Oe!=null&&Oe!==""&&(Oe=+Oe)>=Oe&&(yield Oe);else{let Oe=-1;for(let jt of Ne)jt=$e(jt,++Oe,Ne),jt!=null&&jt!==""&&(jt=+jt)>=jt&&(yield jt)}}function t(Ne,$e){return Ne==null||$e==null?NaN:Ne<$e?-1:Ne>$e?1:Ne>=$e?0:NaN}function r(Ne){return Ne===null?NaN:+Ne}function*i(Ne,$e){if($e===void 0)for(let Oe of Ne)Oe!=null&&(Oe=+Oe)>=Oe&&(yield Oe);else{let Oe=-1;for(let jt of Ne)(jt=$e(jt,++Oe,Ne))!=null&&(jt=+jt)>=jt&&(yield jt)}}function s(Ne,$e){let Oe=0,jt,yt=0,mt=0;if($e===void 0)for(let nn of Ne)nn!=null&&(nn=+nn)>=nn&&(jt=nn-yt,yt+=jt/++Oe,mt+=jt*(nn-yt));else{let nn=-1;for(let Wt of Ne)(Wt=$e(Wt,++nn,Ne))!=null&&(Wt=+Wt)>=Wt&&(jt=Wt-yt,yt+=jt/++Oe,mt+=jt*(Wt-yt))}if(Oe>1)return mt/(Oe-1)}function o(Ne,$e){let Oe=s(Ne,$e);return Oe&&Math.sqrt(Oe)}function a(Ne=t){if(Ne===t)return c;if(typeof Ne!="function")throw new TypeError("compare is not a function");return($e,Oe)=>{let jt=Ne($e,Oe);return jt||jt===0?jt:(Ne(Oe,Oe)===0)-(Ne($e,$e)===0)}}function c(Ne,$e){return(Ne==null||!(Ne>=Ne))-($e==null||!($e>=$e))||(Ne<$e?-1:Ne>$e?1:0)}function d(Ne,$e){let Oe;if($e===void 0)for(let jt of Ne)jt!=null&&(Oe<jt||Oe===void 0&&jt>=jt)&&(Oe=jt);else{let jt=-1;for(let yt of Ne)(yt=$e(yt,++jt,Ne))!=null&&(Oe<yt||Oe===void 0&&yt>=yt)&&(Oe=yt)}return Oe}function p(Ne,$e){let Oe;if($e===void 0)for(let jt of Ne)jt!=null&&(Oe>jt||Oe===void 0&&jt>=jt)&&(Oe=jt);else{let jt=-1;for(let yt of Ne)(yt=$e(yt,++jt,Ne))!=null&&(Oe>yt||Oe===void 0&&yt>=yt)&&(Oe=yt)}return Oe}function E(Ne,$e,Oe=0,jt=Ne.length-1,yt){for(yt=yt===void 0?c:a(yt);jt>Oe;){if(jt-Oe>600){let Dn=jt-Oe+1,Qn=$e-Oe+1,Zn=Math.log(Dn),Pn=.5*Math.exp(2*Zn/3),ar=.5*Math.sqrt(Zn*Pn*(Dn-Pn)/Dn)*(Qn-Dn/2<0?-1:1),Ye=Math.max(Oe,Math.floor($e-Qn*Pn/Dn+ar)),gt=Math.min(jt,Math.floor($e+(Dn-Qn)*Pn/Dn+ar));E(Ne,$e,Ye,gt,yt)}let mt=Ne[$e],nn=Oe,Wt=jt;for(w(Ne,Oe,$e),yt(Ne[jt],mt)>0&&w(Ne,Oe,jt);nn<Wt;){for(w(Ne,nn,Wt),++nn,--Wt;yt(Ne[nn],mt)<0;)++nn;for(;yt(Ne[Wt],mt)>0;)--Wt}yt(Ne[Oe],mt)===0?w(Ne,Oe,Wt):(++Wt,w(Ne,Wt,jt)),Wt<=$e&&(Oe=Wt+1),$e<=Wt&&(jt=Wt-1)}return Ne}function w(Ne,$e,Oe){let jt=Ne[$e];Ne[$e]=Ne[Oe],Ne[Oe]=jt}function N(Ne,$e,Oe){if(Ne=Float64Array.from(i(Ne,Oe)),!!(jt=Ne.length)){if(($e=+$e)<=0||jt<2)return p(Ne);if($e>=1)return d(Ne);var jt,yt=(jt-1)*$e,mt=Math.floor(yt),nn=d(E(Ne,mt).subarray(0,mt+1)),Wt=p(Ne.subarray(mt+1));return nn+(Wt-nn)*(yt-mt)}}function R(Ne,$e,Oe=r){if(!!(jt=Ne.length)){if(($e=+$e)<=0||jt<2)return+Oe(Ne[0],0,Ne);if($e>=1)return+Oe(Ne[jt-1],jt-1,Ne);var jt,yt=(jt-1)*$e,mt=Math.floor(yt),nn=+Oe(Ne[mt],mt,Ne),Wt=+Oe(Ne[mt+1],mt+1,Ne);return nn+(Wt-nn)*(yt-mt)}}function U(Ne,$e){return N(Ne,.5,$e)}function Q(Ne,$e,Oe){let jt=Float64Array.from(e(Ne,Oe));return jt.sort(t),$e.map(yt=>R(jt,yt))}function P(Ne,$e){return Q(Ne,[.25,.5,.75],$e)}function j(Ne,$e){let Oe=Ne.length,jt=o(Ne,$e),yt=P(Ne,$e),mt=(yt[2]-yt[0])/1.34,nn=Math.min(jt,mt)||jt||Math.abs(yt[0])||1;return 1.06*nn*Math.pow(Oe,-.2)}function I(Ne){let $e=Ne.maxbins||20,Oe=Ne.base||10,jt=Math.log(Oe),yt=Ne.divide||[5,2],mt=Ne.extent[0],nn=Ne.extent[1],Wt,Dn,Qn,Zn,Pn,ar,Ye=Ne.span||nn-mt||Math.abs(mt)||1;if(Ne.step)Wt=Ne.step;else if(Ne.steps){for(Zn=Ye/$e,Pn=0,ar=Ne.steps.length;Pn<ar&&Ne.steps[Pn]<Zn;++Pn);Wt=Ne.steps[Math.max(0,Pn-1)]}else{for(Dn=Math.ceil(Math.log($e)/jt),Qn=Ne.minstep||0,Wt=Math.max(Qn,Math.pow(Oe,Math.round(Math.log(Ye)/jt)-Dn));Math.ceil(Ye/Wt)>$e;)Wt*=Oe;for(Pn=0,ar=yt.length;Pn<ar;++Pn)Zn=Wt/yt[Pn],Zn>=Qn&&Ye/Zn<=$e&&(Wt=Zn)}Zn=Math.log(Wt);let gt=Zn>=0?0:~~(-Zn/jt)+1,se=Math.pow(Oe,-gt-1);return(Ne.nice||Ne.nice===void 0)&&(Zn=Math.floor(mt/Wt+se)*Wt,mt=mt<Zn?Zn-Wt:Zn,nn=Math.ceil(nn/Wt)*Wt),{start:mt,stop:nn===mt?mt+Wt:nn,step:Wt}}n.random=Math.random;function K(Ne){n.random=Ne}function de(Ne,$e,Oe,jt){if(!Ne.length)return[void 0,void 0];let yt=Float64Array.from(e(Ne,jt)),mt=yt.length,nn=$e,Wt,Dn,Qn,Zn;for(Qn=0,Zn=Array(nn);Qn<nn;++Qn){for(Wt=0,Dn=0;Dn<mt;++Dn)Wt+=yt[~~(n.random()*mt)];Zn[Qn]=Wt/mt}return Zn.sort(t),[N(Zn,Oe/2),N(Zn,1-Oe/2)]}function M(Ne,$e,Oe,jt){jt=jt||(ar=>ar);let yt=Ne.length,mt=new Float64Array(yt),nn=0,Wt=1,Dn=jt(Ne[0]),Qn=Dn,Zn=Dn+$e,Pn;for(;Wt<yt;++Wt){if(Pn=jt(Ne[Wt]),Pn>=Zn){for(Qn=(Dn+Qn)/2;nn<Wt;++nn)mt[nn]=Qn;Zn=Pn+$e,Dn=Pn}Qn=Pn}for(Qn=(Dn+Qn)/2;nn<Wt;++nn)mt[nn]=Qn;return Oe?Z(mt,$e+$e/4):mt}function Z(Ne,$e){let Oe=Ne.length,jt=0,yt=1,mt,nn;for(;Ne[jt]===Ne[yt];)++yt;for(;yt<Oe;){for(mt=yt+1;Ne[yt]===Ne[mt];)++mt;if(Ne[yt]-Ne[yt-1]<$e){for(nn=yt+(jt+mt-yt-yt>>1);nn<yt;)Ne[nn++]=Ne[yt];for(;nn>yt;)Ne[nn--]=Ne[jt]}jt=yt,yt=mt}return Ne}function me(Ne){return function(){return Ne=(1103515245*Ne+12345)%2147483647,Ne/2147483647}}function _e(Ne,$e){$e==null&&($e=Ne,Ne=0);let Oe,jt,yt,mt={min(nn){return arguments.length?(Oe=nn||0,yt=jt-Oe,mt):Oe},max(nn){return arguments.length?(jt=nn||0,yt=jt-Oe,mt):jt},sample(){return Oe+Math.floor(yt*n.random())},pdf(nn){return nn===Math.floor(nn)&&nn>=Oe&&nn<jt?1/yt:0},cdf(nn){let Wt=Math.floor(nn);return Wt<Oe?0:Wt>=jt?1:(Wt-Oe+1)/yt},icdf(nn){return nn>=0&&nn<=1?Oe-1+Math.floor(nn*yt):NaN}};return mt.min(Ne).max($e)}let Ve=Math.sqrt(2*Math.PI),at=Math.SQRT2,lt=NaN;function Ke(Ne,$e){Ne=Ne||0,$e=$e??1;let Oe=0,jt=0,yt,mt;if(lt===lt)Oe=lt,lt=NaN;else{do Oe=n.random()*2-1,jt=n.random()*2-1,yt=Oe*Oe+jt*jt;while(yt===0||yt>1);mt=Math.sqrt(-2*Math.log(yt)/yt),Oe*=mt,lt=jt*mt}return Ne+Oe*$e}function St(Ne,$e,Oe){Oe=Oe??1;let jt=(Ne-($e||0))/Oe;return Math.exp(-.5*jt*jt)/(Oe*Ve)}function Ft(Ne,$e,Oe){$e=$e||0,Oe=Oe??1;let jt=(Ne-$e)/Oe,yt=Math.abs(jt),mt;if(yt>37)mt=0;else{let nn=Math.exp(-yt*yt/2),Wt;yt<7.07106781186547?(Wt=.0352624965998911*yt+.700383064443688,Wt=Wt*yt+6.37396220353165,Wt=Wt*yt+33.912866078383,Wt=Wt*yt+112.079291497871,Wt=Wt*yt+221.213596169931,Wt=Wt*yt+220.206867912376,mt=nn*Wt,Wt=.0883883476483184*yt+1.75566716318264,Wt=Wt*yt+16.064177579207,Wt=Wt*yt+86.7807322029461,Wt=Wt*yt+296.564248779674,Wt=Wt*yt+637.333633378831,Wt=Wt*yt+793.826512519948,Wt=Wt*yt+440.413735824752,mt=mt/Wt):(Wt=yt+.65,Wt=yt+4/Wt,Wt=yt+3/Wt,Wt=yt+2/Wt,Wt=yt+1/Wt,mt=nn/Wt/2.506628274631)}return jt>0?1-mt:mt}function je(Ne,$e,Oe){return Ne<0||Ne>1?NaN:($e||0)+(Oe??1)*at*te(2*Ne-1)}function te(Ne){let $e=-Math.log((1-Ne)*(1+Ne)),Oe;return $e<6.25?($e-=3.125,Oe=-364441206401782e-35,Oe=-16850591381820166e-35+Oe*$e,Oe=128584807152564e-32+Oe*$e,Oe=11157877678025181e-33+Oe*$e,Oe=-1333171662854621e-31+Oe*$e,Oe=20972767875968562e-33+Oe*$e,Oe=6637638134358324e-30+Oe*$e,Oe=-4054566272975207e-29+Oe*$e,Oe=-8151934197605472e-29+Oe*$e,Oe=26335093153082323e-28+Oe*$e,Oe=-12975133253453532e-27+Oe*$e,Oe=-5415412054294628e-26+Oe*$e,Oe=10512122733215323e-25+Oe*$e,Oe=-4112633980346984e-24+Oe*$e,Oe=-29070369957882005e-24+Oe*$e,Oe=42347877827932404e-23+Oe*$e,Oe=-13654692000834679e-22+Oe*$e,Oe=-13882523362786469e-21+Oe*$e,Oe=.00018673420803405714+Oe*$e,Oe=-.000740702534166267+Oe*$e,Oe=-.006033670871430149+Oe*$e,Oe=.24015818242558962+Oe*$e,Oe=1.6536545626831027+Oe*$e):$e<16?($e=Math.sqrt($e)-3.25,Oe=22137376921775787e-25,Oe=9075656193888539e-23+Oe*$e,Oe=-27517406297064545e-23+Oe*$e,Oe=18239629214389228e-24+Oe*$e,Oe=15027403968909828e-22+Oe*$e,Oe=-4013867526981546e-21+Oe*$e,Oe=29234449089955446e-22+Oe*$e,Oe=12475304481671779e-21+Oe*$e,Oe=-47318229009055734e-21+Oe*$e,Oe=6828485145957318e-20+Oe*$e,Oe=24031110387097894e-21+Oe*$e,Oe=-.0003550375203628475+Oe*$e,Oe=.0009532893797373805+Oe*$e,Oe=-.0016882755560235047+Oe*$e,Oe=.002491442096107851+Oe*$e,Oe=-.003751208507569241+Oe*$e,Oe=.005370914553590064+Oe*$e,Oe=1.0052589676941592+Oe*$e,Oe=3.0838856104922208+Oe*$e):Number.isFinite($e)?($e=Math.sqrt($e)-5,Oe=-27109920616438573e-27,Oe=-2555641816996525e-25+Oe*$e,Oe=15076572693500548e-25+Oe*$e,Oe=-3789465440126737e-24+Oe*$e,Oe=761570120807834e-23+Oe*$e,Oe=-1496002662714924e-23+Oe*$e,Oe=2914795345090108e-23+Oe*$e,Oe=-6771199775845234e-23+Oe*$e,Oe=22900482228026655e-23+Oe*$e,Oe=-99298272942317e-20+Oe*$e,Oe=4526062597223154e-21+Oe*$e,Oe=-1968177810553167e-20+Oe*$e,Oe=7599527703001776e-20+Oe*$e,Oe=-.00021503011930044477+Oe*$e,Oe=-.00013871931833623122+Oe*$e,Oe=1.0103004648645344+Oe*$e,Oe=4.849906401408584+Oe*$e):Oe=1/0,Oe*Ne}function Xe(Ne,$e){let Oe,jt,yt={mean(mt){return arguments.length?(Oe=mt||0,yt):Oe},stdev(mt){return arguments.length?(jt=mt??1,yt):jt},sample:()=>Ke(Oe,jt),pdf:mt=>St(mt,Oe,jt),cdf:mt=>Ft(mt,Oe,jt),icdf:mt=>je(mt,Oe,jt)};return yt.mean(Ne).stdev($e)}function ye(Ne,$e){let Oe=Xe(),jt=0,yt={data(mt){return arguments.length?(Ne=mt,jt=mt?mt.length:0,yt.bandwidth($e)):Ne},bandwidth(mt){return arguments.length?($e=mt,!$e&&Ne&&($e=j(Ne)),yt):$e},sample(){return Ne[~~(n.random()*jt)]+$e*Oe.sample()},pdf(mt){let nn=0,Wt=0;for(;Wt<jt;++Wt)nn+=Oe.pdf((mt-Ne[Wt])/$e);return nn/$e/jt},cdf(mt){let nn=0,Wt=0;for(;Wt<jt;++Wt)nn+=Oe.cdf((mt-Ne[Wt])/$e);return nn/jt},icdf(){throw Error("KDE icdf not supported.")}};return yt.data(Ne)}function ke(Ne,$e){return Ne=Ne||0,$e=$e??1,Math.exp(Ne+Ke()*$e)}function Ce(Ne,$e,Oe){if(Ne<=0)return 0;$e=$e||0,Oe=Oe??1;let jt=(Math.log(Ne)-$e)/Oe;return Math.exp(-.5*jt*jt)/(Oe*Ve*Ne)}function xe(Ne,$e,Oe){return Ft(Math.log(Ne),$e,Oe)}function Je(Ne,$e,Oe){return Math.exp(je(Ne,$e,Oe))}function ut(Ne,$e){let Oe,jt,yt={mean(mt){return arguments.length?(Oe=mt||0,yt):Oe},stdev(mt){return arguments.length?(jt=mt??1,yt):jt},sample:()=>ke(Oe,jt),pdf:mt=>Ce(mt,Oe,jt),cdf:mt=>xe(mt,Oe,jt),icdf:mt=>Je(mt,Oe,jt)};return yt.mean(Ne).stdev($e)}function Qt(Ne,$e){let Oe=0,jt;function yt(nn){let Wt=[],Dn=0,Qn;for(Qn=0;Qn<Oe;++Qn)Dn+=Wt[Qn]=nn[Qn]==null?1:+nn[Qn];for(Qn=0;Qn<Oe;++Qn)Wt[Qn]/=Dn;return Wt}let mt={weights(nn){return arguments.length?(jt=yt($e=nn||[]),mt):$e},distributions(nn){return arguments.length?(nn?(Oe=nn.length,Ne=nn):(Oe=0,Ne=[]),mt.weights($e)):Ne},sample(){let nn=n.random(),Wt=Ne[Oe-1],Dn=jt[0],Qn=0;for(;Qn<Oe-1;Dn+=jt[++Qn])if(nn<Dn){Wt=Ne[Qn];break}return Wt.sample()},pdf(nn){let Wt=0,Dn=0;for(;Dn<Oe;++Dn)Wt+=jt[Dn]*Ne[Dn].pdf(nn);return Wt},cdf(nn){let Wt=0,Dn=0;for(;Dn<Oe;++Dn)Wt+=jt[Dn]*Ne[Dn].cdf(nn);return Wt},icdf(){throw Error("Mixture icdf not supported.")}};return mt.distributions(Ne).weights($e)}function wt(Ne,$e){return $e==null&&($e=Ne??1,Ne=0),Ne+($e-Ne)*n.random()}function mn(Ne,$e,Oe){return Oe==null&&(Oe=$e??1,$e=0),Ne>=$e&&Ne<=Oe?1/(Oe-$e):0}function Lt(Ne,$e,Oe){return Oe==null&&(Oe=$e??1,$e=0),Ne<$e?0:Ne>Oe?1:(Ne-$e)/(Oe-$e)}function It(Ne,$e,Oe){return Oe==null&&(Oe=$e??1,$e=0),Ne>=0&&Ne<=1?$e+Ne*(Oe-$e):NaN}function cn(Ne,$e){let Oe,jt,yt={min(mt){return arguments.length?(Oe=mt||0,yt):Oe},max(mt){return arguments.length?(jt=mt??1,yt):jt},sample:()=>wt(Oe,jt),pdf:mt=>mn(mt,Oe,jt),cdf:mt=>Lt(mt,Oe,jt),icdf:mt=>It(mt,Oe,jt)};return $e==null&&($e=Ne??1,Ne=0),yt.min(Ne).max($e)}function it(Ne,$e,Oe,jt){let yt=jt-Ne*Ne,mt=Math.abs(yt)<1e-24?0:(Oe-Ne*$e)/yt;return[$e-mt*Ne,mt]}function ue(Ne,$e,Oe,jt){Ne=Ne.filter(Ye=>{let gt=$e(Ye),se=Oe(Ye);return gt!=null&&(gt=+gt)>=gt&&se!=null&&(se=+se)>=se}),jt&&Ne.sort((Ye,gt)=>$e(Ye)-$e(gt));let yt=Ne.length,mt=new Float64Array(yt),nn=new Float64Array(yt),Wt=0,Dn=0,Qn=0,Zn,Pn,ar;for(ar of Ne)mt[Wt]=Zn=+$e(ar),nn[Wt]=Pn=+Oe(ar),++Wt,Dn+=(Zn-Dn)/Wt,Qn+=(Pn-Qn)/Wt;for(Wt=0;Wt<yt;++Wt)mt[Wt]-=Dn,nn[Wt]-=Qn;return[mt,nn,Dn,Qn]}function De(Ne,$e,Oe,jt){let yt=-1,mt,nn;for(let Wt of Ne)mt=$e(Wt),nn=Oe(Wt),mt!=null&&(mt=+mt)>=mt&&nn!=null&&(nn=+nn)>=nn&&jt(mt,nn,++yt)}function ve(Ne,$e,Oe,jt,yt){let mt=0,nn=0;return De(Ne,$e,Oe,(Wt,Dn)=>{let Qn=Dn-yt(Wt),Zn=Dn-jt;mt+=Qn*Qn,nn+=Zn*Zn}),1-mt/nn}function le(Ne,$e,Oe){let jt=0,yt=0,mt=0,nn=0,Wt=0;De(Ne,$e,Oe,(Zn,Pn)=>{++Wt,jt+=(Zn-jt)/Wt,yt+=(Pn-yt)/Wt,mt+=(Zn*Pn-mt)/Wt,nn+=(Zn*Zn-nn)/Wt});let Dn=it(jt,yt,mt,nn),Qn=Zn=>Dn[0]+Dn[1]*Zn;return{coef:Dn,predict:Qn,rSquared:ve(Ne,$e,Oe,yt,Qn)}}function st(Ne,$e,Oe){let jt=0,yt=0,mt=0,nn=0,Wt=0;De(Ne,$e,Oe,(Zn,Pn)=>{++Wt,Zn=Math.log(Zn),jt+=(Zn-jt)/Wt,yt+=(Pn-yt)/Wt,mt+=(Zn*Pn-mt)/Wt,nn+=(Zn*Zn-nn)/Wt});let Dn=it(jt,yt,mt,nn),Qn=Zn=>Dn[0]+Dn[1]*Math.log(Zn);return{coef:Dn,predict:Qn,rSquared:ve(Ne,$e,Oe,yt,Qn)}}function Ze(Ne,$e,Oe){let[jt,yt,mt,nn]=ue(Ne,$e,Oe),Wt=0,Dn=0,Qn=0,Zn=0,Pn=0,ar,Ye,gt;De(Ne,$e,Oe,(Tt,fn)=>{ar=jt[Pn++],Ye=Math.log(fn),gt=ar*fn,Wt+=(fn*Ye-Wt)/Pn,Dn+=(gt-Dn)/Pn,Qn+=(gt*Ye-Qn)/Pn,Zn+=(ar*gt-Zn)/Pn});let[se,qe]=it(Dn/nn,Wt/nn,Qn/nn,Zn/nn),et=Tt=>Math.exp(se+qe*(Tt-mt));return{coef:[Math.exp(se-qe*mt),qe],predict:et,rSquared:ve(Ne,$e,Oe,nn,et)}}function Le(Ne,$e,Oe){let jt=0,yt=0,mt=0,nn=0,Wt=0,Dn=0;De(Ne,$e,Oe,(Pn,ar)=>{let Ye=Math.log(Pn),gt=Math.log(ar);++Dn,jt+=(Ye-jt)/Dn,yt+=(gt-yt)/Dn,mt+=(Ye*gt-mt)/Dn,nn+=(Ye*Ye-nn)/Dn,Wt+=(ar-Wt)/Dn});let Qn=it(jt,yt,mt,nn),Zn=Pn=>Qn[0]*Math.pow(Pn,Qn[1]);return Qn[0]=Math.exp(Qn[0]),{coef:Qn,predict:Zn,rSquared:ve(Ne,$e,Oe,Wt,Zn)}}function vt(Ne,$e,Oe){let[jt,yt,mt,nn]=ue(Ne,$e,Oe),Wt=jt.length,Dn=0,Qn=0,Zn=0,Pn=0,ar=0,Ye,gt,se,qe;for(Ye=0;Ye<Wt;)gt=jt[Ye],se=yt[Ye++],qe=gt*gt,Dn+=(qe-Dn)/Ye,Qn+=(qe*gt-Qn)/Ye,Zn+=(qe*qe-Zn)/Ye,Pn+=(gt*se-Pn)/Ye,ar+=(qe*se-ar)/Ye;let et=Zn-Dn*Dn,Tt=Dn*et-Qn*Qn,fn=(ar*Dn-Pn*Qn)/Tt,on=(Pn*et-ar*Qn)/Tt,ct=-fn*Dn,ie=Te=>(Te=Te-mt,fn*Te*Te+on*Te+ct+nn);return{coef:[ct-on*mt+fn*mt*mt+nn,on-2*fn*mt,fn],predict:ie,rSquared:ve(Ne,$e,Oe,nn,ie)}}function $t(Ne,$e,Oe,jt){if(jt===1)return le(Ne,$e,Oe);if(jt===2)return vt(Ne,$e,Oe);let[yt,mt,nn,Wt]=ue(Ne,$e,Oe),Dn=yt.length,Qn=[],Zn=[],Pn=jt+1,ar,Ye,gt,se,qe;for(ar=0;ar<Pn;++ar){for(gt=0,se=0;gt<Dn;++gt)se+=Math.pow(yt[gt],ar)*mt[gt];for(Qn.push(se),qe=new Float64Array(Pn),Ye=0;Ye<Pn;++Ye){for(gt=0,se=0;gt<Dn;++gt)se+=Math.pow(yt[gt],ar+Ye);qe[Ye]=se}Zn.push(qe)}Zn.push(Qn);let et=Vt(Zn),Tt=fn=>{fn-=nn;let on=Wt+et[0]+et[1]*fn+et[2]*fn*fn;for(ar=3;ar<Pn;++ar)on+=et[ar]*Math.pow(fn,ar);return on};return{coef:Mt(Pn,et,-nn,Wt),predict:Tt,rSquared:ve(Ne,$e,Oe,Wt,Tt)}}function Mt(Ne,$e,Oe,jt){let yt=Array(Ne),mt,nn,Wt,Dn;for(mt=0;mt<Ne;++mt)yt[mt]=0;for(mt=Ne-1;mt>=0;--mt)for(Wt=$e[mt],Dn=1,yt[mt]+=Wt,nn=1;nn<=mt;++nn)Dn*=(mt+1-nn)/nn,yt[mt-nn]+=Wt*Math.pow(Oe,nn)*Dn;return yt[0]+=jt,yt}function Vt(Ne){let $e=Ne.length-1,Oe=[],jt,yt,mt,nn,Wt;for(jt=0;jt<$e;++jt){for(nn=jt,yt=jt+1;yt<$e;++yt)Math.abs(Ne[jt][yt])>Math.abs(Ne[jt][nn])&&(nn=yt);for(mt=jt;mt<$e+1;++mt)Wt=Ne[mt][jt],Ne[mt][jt]=Ne[mt][nn],Ne[mt][nn]=Wt;for(yt=jt+1;yt<$e;++yt)for(mt=$e;mt>=jt;mt--)Ne[mt][yt]-=Ne[mt][jt]*Ne[jt][yt]/Ne[jt][jt]}for(yt=$e-1;yt>=0;--yt){for(Wt=0,mt=yt+1;mt<$e;++mt)Wt+=Ne[mt][yt]*Oe[mt];Oe[yt]=(Ne[$e][yt]-Wt)/Ne[yt][yt]}return Oe}let tn=2,en=1e-12;function En(Ne,$e,Oe,jt){let[yt,mt,nn,Wt]=ue(Ne,$e,Oe,!0),Dn=yt.length,Qn=Math.max(2,~~(jt*Dn)),Zn=new Float64Array(Dn),Pn=new Float64Array(Dn),ar=new Float64Array(Dn).fill(1);for(let Ye=-1;++Ye<=tn;){let gt=[0,Qn-1];for(let qe=0;qe<Dn;++qe){let et=yt[qe],Tt=gt[0],fn=gt[1],on=et-yt[Tt]>yt[fn]-et?Tt:fn,ct=0,ie=0,Te=0,ze=0,ht=0,_t=1/Math.abs(yt[on]-et||1);for(let we=Tt;we<=fn;++we){let We=yt[we],nt=mt[we],Pt=Fn(Math.abs(et-We)*_t)*ar[we],sn=We*Pt;ct+=Pt,ie+=sn,Te+=nt*Pt,ze+=nt*sn,ht+=We*sn}let[Dt,ne]=it(ie/ct,Te/ct,ze/ct,ht/ct);Zn[qe]=Dt+ne*et,Pn[qe]=Math.abs(mt[qe]-Zn[qe]),On(yt,qe+1,gt)}if(Ye===tn)break;let se=U(Pn);if(Math.abs(se)<en)break;for(let qe=0,et,Tt;qe<Dn;++qe)et=Pn[qe]/(6*se),ar[qe]=et>=1?en:(Tt=1-et*et)*Tt}return qt(yt,Zn,nn,Wt)}function Fn(Ne){return(Ne=1-Ne*Ne*Ne)*Ne*Ne}function On(Ne,$e,Oe){let jt=Ne[$e],yt=Oe[0],mt=Oe[1]+1;if(!(mt>=Ne.length))for(;$e>yt&&Ne[mt]-jt<=jt-Ne[yt];)Oe[0]=++yt,Oe[1]=mt,++mt}function qt(Ne,$e,Oe,jt){let yt=Ne.length,mt=[],nn=0,Wt=0,Dn=[],Qn;for(;nn<yt;++nn)Qn=Ne[nn]+Oe,Dn[0]===Qn?Dn[1]+=($e[nn]-Dn[1])/++Wt:(Wt=0,Dn[1]+=jt,Dn=[Qn,$e[nn]],mt.push(Dn));return Dn[1]+=jt,mt}let pn=.5*Math.PI/180;function qn(Ne,$e,Oe,jt){Oe=Oe||25,jt=Math.max(Oe,jt||200);let yt=se=>[se,Ne(se)],mt=$e[0],nn=$e[1],Wt=nn-mt,Dn=Wt/jt,Qn=[yt(mt)],Zn=[];if(Oe===jt){for(let se=1;se<jt;++se)Qn.push(yt(mt+se/Oe*Wt));return Qn.push(yt(nn)),Qn}else{Zn.push(yt(nn));for(let se=Oe;--se>0;)Zn.push(yt(mt+se/Oe*Wt))}let Pn=Qn[0],ar=Zn[Zn.length-1],Ye=1/Wt,gt=or(Pn[1],Zn);for(;ar;){let se=yt((Pn[0]+ar[0])/2);se[0]-Pn[0]>=Dn&&In(Pn,se,ar,Ye,gt)>pn?Zn.push(se):(Pn=ar,Qn.push(ar),Zn.pop()),ar=Zn[Zn.length-1]}return Qn}function or(Ne,$e){let Oe=Ne,jt=Ne,yt=$e.length;for(let mt=0;mt<yt;++mt){let nn=$e[mt][1];nn<Oe&&(Oe=nn),nn>jt&&(jt=nn)}return 1/(jt-Oe)}function In(Ne,$e,Oe,jt,yt){let mt=Math.atan2(yt*(Oe[1]-Ne[1]),jt*(Oe[0]-Ne[0])),nn=Math.atan2(yt*($e[1]-Ne[1]),jt*($e[0]-Ne[0]));return Math.abs(mt-nn)}n.bandwidthNRD=j,n.bin=I,n.bootstrapCI=de,n.cumulativeLogNormal=xe,n.cumulativeNormal=Ft,n.cumulativeUniform=Lt,n.densityLogNormal=Ce,n.densityNormal=St,n.densityUniform=mn,n.dotbin=M,n.quantileLogNormal=Je,n.quantileNormal=je,n.quantileUniform=It,n.quantiles=Q,n.quartiles=P,n.randomInteger=_e,n.randomKDE=ye,n.randomLCG=me,n.randomLogNormal=ut,n.randomMixture=Qt,n.randomNormal=Xe,n.randomUniform=cn,n.regressionExp=Ze,n.regressionLinear=le,n.regressionLoess=En,n.regressionLog=st,n.regressionPoly=$t,n.regressionPow=Le,n.regressionQuad=vt,n.sampleCurve=qn,n.sampleLogNormal=ke,n.sampleNormal=Ke,n.sampleUniform=wt,n.setRandom=K,Object.defineProperty(n,"__esModule",{value:!0})})});var MAe=Ae((UH,IAe)=>{m();(function(n,e){typeof UH=="object"&&typeof IAe!="undefined"?e(UH,Au(),Xf(),wb(),gC()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})(UH,function(n,e,t,r,i){"use strict";function s(S){return B=>{let ee=S.length,Ee=1,ft=String(S[0](B));for(;Ee<ee;++Ee)ft+="|"+S[Ee](B);return ft}}function o(S){return!S||!S.length?function(){return""}:S.length===1?S[0]:s(S)}function a(S,B,ee){return ee||S+(B?"_"+B:"")}let c=()=>{},d={init:c,add:c,rem:c,idx:0},p={values:{init:S=>S.cell.store=!0,value:S=>S.cell.data.values(),idx:-1},count:{value:S=>S.cell.num},__count__:{value:S=>S.missing+S.valid},missing:{value:S=>S.missing},valid:{value:S=>S.valid},sum:{init:S=>S.sum=0,value:S=>S.sum,add:(S,B)=>S.sum+=+B,rem:(S,B)=>S.sum-=B},product:{init:S=>S.product=1,value:S=>S.valid?S.product:void 0,add:(S,B)=>S.product*=B,rem:(S,B)=>S.product/=B},mean:{init:S=>S.mean=0,value:S=>S.valid?S.mean:void 0,add:(S,B)=>(S.mean_d=B-S.mean,S.mean+=S.mean_d/S.valid),rem:(S,B)=>(S.mean_d=B-S.mean,S.mean-=S.valid?S.mean_d/S.valid:S.mean)},average:{value:S=>S.valid?S.mean:void 0,req:["mean"],idx:1},variance:{init:S=>S.dev=0,value:S=>S.valid>1?S.dev/(S.valid-1):void 0,add:(S,B)=>S.dev+=S.mean_d*(B-S.mean),rem:(S,B)=>S.dev-=S.mean_d*(B-S.mean),req:["mean"],idx:1},variancep:{value:S=>S.valid>1?S.dev/S.valid:void 0,req:["variance"],idx:2},stdev:{value:S=>S.valid>1?Math.sqrt(S.dev/(S.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:S=>S.valid>1?Math.sqrt(S.dev/S.valid):void 0,req:["variance"],idx:2},stderr:{value:S=>S.valid>1?Math.sqrt(S.dev/(S.valid*(S.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:S=>S.cell.data.distinct(S.get),req:["values"],idx:3},ci0:{value:S=>S.cell.data.ci0(S.get),req:["values"],idx:3},ci1:{value:S=>S.cell.data.ci1(S.get),req:["values"],idx:3},median:{value:S=>S.cell.data.q2(S.get),req:["values"],idx:3},q1:{value:S=>S.cell.data.q1(S.get),req:["values"],idx:3},q3:{value:S=>S.cell.data.q3(S.get),req:["values"],idx:3},min:{init:S=>S.min=void 0,value:S=>S.min=Number.isNaN(S.min)?S.cell.data.min(S.get):S.min,add:(S,B)=>{(B<S.min||S.min===void 0)&&(S.min=B)},rem:(S,B)=>{B<=S.min&&(S.min=NaN)},req:["values"],idx:4},max:{init:S=>S.max=void 0,value:S=>S.max=Number.isNaN(S.max)?S.cell.data.max(S.get):S.max,add:(S,B)=>{(B>S.max||S.max===void 0)&&(S.max=B)},rem:(S,B)=>{B>=S.max&&(S.max=NaN)},req:["values"],idx:4},argmin:{init:S=>S.argmin=void 0,value:S=>S.argmin||S.cell.data.argmin(S.get),add:(S,B,ee)=>{B<S.min&&(S.argmin=ee)},rem:(S,B)=>{B<=S.min&&(S.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:S=>S.argmax=void 0,value:S=>S.argmax||S.cell.data.argmax(S.get),add:(S,B,ee)=>{B>S.max&&(S.argmax=ee)},rem:(S,B)=>{B>=S.max&&(S.argmax=void 0)},req:["max","values"],idx:3}},E=Object.keys(p);function w(S,B){return ee=>e.extend({name:S,out:ee||S},d,B)}E.forEach(S=>{p[S]=w(S,p[S])});function N(S,B){return p[S](B)}function R(S,B){return S.idx-B.idx}function U(S){let B={};S.forEach(Ee=>B[Ee.name]=Ee);let ee=Ee=>{!Ee.req||Ee.req.forEach(ft=>{B[ft]||ee(B[ft]=p[ft]())})};return S.forEach(ee),Object.values(B).sort(R)}function Q(){this.valid=0,this.missing=0,this._ops.forEach(S=>S.init(this))}function P(S,B){if(S==null||S===""){++this.missing;return}S===S&&(++this.valid,this._ops.forEach(ee=>ee.add(this,S,B)))}function j(S,B){if(S==null||S===""){--this.missing;return}S===S&&(--this.valid,this._ops.forEach(ee=>ee.rem(this,S,B)))}function I(S){return this._out.forEach(B=>S[B.out]=B.value(this)),S}function K(S,B){let ee=B||e.identity,Ee=U(S),ft=S.slice().sort(R);function Ct(Jt){this._ops=Ee,this._out=ft,this.cell=Jt,this.init()}return Ct.prototype.init=Q,Ct.prototype.add=P,Ct.prototype.rem=j,Ct.prototype.set=I,Ct.prototype.get=ee,Ct.fields=S.map(Jt=>Jt.out),Ct}function de(S){this._key=S?e.field(S):t.tupleid,this.reset()}let M=de.prototype;M.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},M.add=function(S){this._add.push(S)},M.rem=function(S){this._rem.push(S)},M.values=function(){if(this._get=null,this._rem.length===0)return this._add;let S=this._add,B=this._rem,ee=this._key,Ee=S.length,ft=B.length,Ct=Array(Ee-ft),Jt={},Kt,hn,Bn;for(Kt=0;Kt<ft;++Kt)Jt[ee(B[Kt])]=1;for(Kt=0,hn=0;Kt<Ee;++Kt)Jt[ee(Bn=S[Kt])]?Jt[ee(Bn)]=0:Ct[hn++]=Bn;return this._rem=[],this._add=Ct},M.distinct=function(S){let B=this.values(),ee={},Ee=B.length,ft=0,Ct;for(;--Ee>=0;)Ct=S(B[Ee])+"",e.hasOwnProperty(ee,Ct)||(ee[Ct]=1,++ft);return ft},M.extent=function(S){if(this._get!==S||!this._ext){let B=this.values(),ee=e.extentIndex(B,S);this._ext=[B[ee[0]],B[ee[1]]],this._get=S}return this._ext},M.argmin=function(S){return this.extent(S)[0]||{}},M.argmax=function(S){return this.extent(S)[1]||{}},M.min=function(S){let B=this.extent(S)[0];return B!=null?S(B):void 0},M.max=function(S){let B=this.extent(S)[1];return B!=null?S(B):void 0},M.quartile=function(S){return(this._get!==S||!this._q)&&(this._q=r.quartiles(this.values(),S),this._get=S),this._q},M.q1=function(S){return this.quartile(S)[0]},M.q2=function(S){return this.quartile(S)[1]},M.q3=function(S){return this.quartile(S)[2]},M.ci=function(S){return(this._get!==S||!this._ci)&&(this._ci=r.bootstrapCI(this.values(),1e3,.05,S),this._get=S),this._ci},M.ci0=function(S){return this.ci(S)[0]},M.ci1=function(S){return this.ci(S)[1]};function Z(S){t.Transform.call(this,null,S),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Z.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:E},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},e.inherits(Z,t.Transform,{transform(S,B){let ee=this,Ee=B.fork(B.NO_SOURCE|B.NO_FIELDS),ft=S.modified();return ee.stamp=Ee.stamp,ee.value&&(ft||B.modified(ee._inputs,!0))?(ee._prev=ee.value,ee.value=ft?ee.init(S):{},B.visit(B.SOURCE,Ct=>ee.add(Ct))):(ee.value=ee.value||ee.init(S),B.visit(B.REM,Ct=>ee.rem(Ct)),B.visit(B.ADD,Ct=>ee.add(Ct))),Ee.modifies(ee._outputs),ee._drop=S.drop!==!1,S.cross&&ee._dims.length>1&&(ee._drop=!1,ee.cross()),B.clean()&&ee._drop&&Ee.clean(!0).runAfter(()=>this.clean()),ee.changes(Ee)},cross(){let S=this,B=S.value,ee=S._dnames,Ee=ee.map(()=>({})),ft=ee.length;function Ct(Kt){let hn,Bn,jn,Vn;for(hn in Kt)for(jn=Kt[hn].tuple,Bn=0;Bn<ft;++Bn)Ee[Bn][Vn=jn[ee[Bn]]]=Vn}Ct(S._prev),Ct(B);function Jt(Kt,hn,Bn){let jn=ee[Bn],Vn=Ee[Bn++];for(let Xr in Vn){let Wr=Kt?Kt+"|"+Xr:Xr;hn[jn]=Vn[Xr],Bn<ft?Jt(Wr,hn,Bn):B[Wr]||S.cell(Wr,hn)}}Jt("",{},0)},init(S){let B=this._inputs=[],ee=this._outputs=[],Ee={};function ft(vi){let li=e.array(e.accessorFields(vi)),Xi=li.length,ws=0,ts;for(;ws<Xi;++ws)Ee[ts=li[ws]]||(Ee[ts]=1,B.push(ts))}this._dims=e.array(S.groupby),this._dnames=this._dims.map(vi=>{let li=e.accessorName(vi);return ft(vi),ee.push(li),li}),this.cellkey=S.key?S.key:o(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];let Ct=S.fields||[null],Jt=S.ops||["count"],Kt=S.as||[],hn=Ct.length,Bn={},jn,Vn,Xr,Wr,yr,Pr;for(hn!==Jt.length&&e.error("Unmatched number of fields and aggregate ops."),Pr=0;Pr<hn;++Pr){if(jn=Ct[Pr],Vn=Jt[Pr],jn==null&&Vn!=="count"&&e.error("Null aggregate field specified."),Wr=e.accessorName(jn),yr=a(Vn,Wr,Kt[Pr]),ee.push(yr),Vn==="count"){this._counts.push(yr);continue}Xr=Bn[Wr],Xr||(ft(jn),Xr=Bn[Wr]=[],Xr.field=jn,this._measures.push(Xr)),Vn!=="count"&&(this._countOnly=!1),Xr.push(N(Vn,yr))}return this._measures=this._measures.map(vi=>K(vi,vi.field)),{}},cellkey:o(),cell(S,B){let ee=this.value[S];return ee?ee.num===0&&this._drop&&ee.stamp<this.stamp?(ee.stamp=this.stamp,this._adds[this._alen++]=ee):ee.stamp<this.stamp&&(ee.stamp=this.stamp,this._mods[this._mlen++]=ee):(ee=this.value[S]=this.newcell(S,B),this._adds[this._alen++]=ee),ee},newcell(S,B){let ee={key:S,num:0,agg:null,tuple:this.newtuple(B,this._prev&&this._prev[S]),stamp:this.stamp,store:!1};if(!this._countOnly){let Ee=this._measures,ft=Ee.length;ee.agg=Array(ft);for(let Ct=0;Ct<ft;++Ct)ee.agg[Ct]=new Ee[Ct](ee)}return ee.store&&(ee.data=new de),ee},newtuple(S,B){let ee=this._dnames,Ee=this._dims,ft=Ee.length,Ct={};for(let Jt=0;Jt<ft;++Jt)Ct[ee[Jt]]=Ee[Jt](S);return B?t.replace(B.tuple,Ct):t.ingest(Ct)},clean(){let S=this.value;for(let B in S)S[B].num===0&&delete S[B]},add(S){let B=this.cellkey(S),ee=this.cell(B,S);if(ee.num+=1,this._countOnly)return;ee.store&&ee.data.add(S);let Ee=ee.agg;for(let ft=0,Ct=Ee.length;ft<Ct;++ft)Ee[ft].add(Ee[ft].get(S),S)},rem(S){let B=this.cellkey(S),ee=this.cell(B,S);if(ee.num-=1,this._countOnly)return;ee.store&&ee.data.rem(S);let Ee=ee.agg;for(let ft=0,Ct=Ee.length;ft<Ct;++ft)Ee[ft].rem(Ee[ft].get(S),S)},celltuple(S){let B=S.tuple,ee=this._counts;S.store&&S.data.values();for(let Ee=0,ft=ee.length;Ee<ft;++Ee)B[ee[Ee]]=S.num;if(!this._countOnly){let Ee=S.agg;for(let ft=0,Ct=Ee.length;ft<Ct;++ft)Ee[ft].set(B)}return B},changes(S){let B=this._adds,ee=this._mods,Ee=this._prev,ft=this._drop,Ct=S.add,Jt=S.rem,Kt=S.mod,hn,Bn,jn,Vn;if(Ee)for(Bn in Ee)hn=Ee[Bn],(!ft||hn.num)&&Jt.push(hn.tuple);for(jn=0,Vn=this._alen;jn<Vn;++jn)Ct.push(this.celltuple(B[jn])),B[jn]=null;for(jn=0,Vn=this._mlen;jn<Vn;++jn)hn=ee[jn],(hn.num===0&&ft?Jt:Kt).push(this.celltuple(hn)),ee[jn]=null;return this._alen=this._mlen=0,this._prev=null,S}});let me=1e-14;function _e(S){t.Transform.call(this,null,S)}_e.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},e.inherits(_e,t.Transform,{transform(S,B){let ee=S.interval!==!1,Ee=this._bins(S),ft=Ee.start,Ct=Ee.step,Jt=S.as||["bin0","bin1"],Kt=Jt[0],hn=Jt[1],Bn;return S.modified()?(B=B.reflow(!0),Bn=B.SOURCE):Bn=B.modified(e.accessorFields(S.field))?B.ADD_MOD:B.ADD,B.visit(Bn,ee?jn=>{let Vn=Ee(jn);jn[Kt]=Vn,jn[hn]=Vn==null?null:ft+Ct*(1+(Vn-ft)/Ct)}:jn=>jn[Kt]=Ee(jn)),B.modifies(ee?Jt:Kt)},_bins(S){if(this.value&&!S.modified())return this.value;let B=S.field,ee=r.bin(S),Ee=ee.step,ft=ee.start,Ct=ft+Math.ceil((ee.stop-ft)/Ee)*Ee,Jt,Kt;(Jt=S.anchor)!=null&&(Kt=Jt-(ft+Ee*Math.floor((Jt-ft)/Ee)),ft+=Kt,Ct+=Kt);let hn=function(Bn){let jn=e.toNumber(B(Bn));return jn==null?null:jn<ft?-1/0:jn>Ct?1/0:(jn=Math.max(ft,Math.min(jn,Ct-Ee)),ft+Ee*Math.floor(me+(jn-ft)/Ee))};return hn.start=ft,hn.stop=ee.stop,hn.step=Ee,this.value=e.accessor(hn,e.accessorFields(B),S.name||"bin_"+e.accessorName(B))}});function Ve(S,B,ee){let Ee=S,ft=B||[],Ct=ee||[],Jt={},Kt=0;return{add:hn=>Ct.push(hn),remove:hn=>Jt[Ee(hn)]=++Kt,size:()=>ft.length,data:(hn,Bn)=>(Kt&&(ft=ft.filter(jn=>!Jt[Ee(jn)]),Jt={},Kt=0),Bn&&hn&&ft.sort(hn),Ct.length&&(ft=hn?e.merge(hn,ft,Ct.sort(hn)):ft.concat(Ct),Ct=[]),ft)}}function at(S){t.Transform.call(this,[],S)}at.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},e.inherits(at,t.Transform,{transform(S,B){let ee=B.fork(B.ALL),Ee=Ve(t.tupleid,this.value,ee.materialize(ee.ADD).add),ft=S.sort,Ct=B.changed()||ft&&(S.modified("sort")||B.modified(ft.fields));return ee.visit(ee.REM,Ee.remove),this.modified(Ct),this.value=ee.source=Ee.data(t.stableCompare(ft),Ct),B.source&&B.source.root&&(this.value.root=B.source.root),ee}});function lt(S){t.Operator.call(this,null,Ke,S)}e.inherits(lt,t.Operator);function Ke(S){return this.value&&!S.modified()?this.value:e.compare(S.fields,S.orders)}function St(S){t.Transform.call(this,null,S)}St.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Ft(S,B,ee){switch(B){case"upper":S=S.toUpperCase();break;case"lower":S=S.toLowerCase();break}return S.match(ee)}e.inherits(St,t.Transform,{transform(S,B){let ee=Vn=>Xr=>{for(var Wr=Ft(Kt(Xr),S.case,Ct)||[],yr,Pr=0,vi=Wr.length;Pr<vi;++Pr)Jt.test(yr=Wr[Pr])||Vn(yr)},Ee=this._parameterCheck(S,B),ft=this._counts,Ct=this._match,Jt=this._stop,Kt=S.field,hn=S.as||["text","count"],Bn=ee(Vn=>ft[Vn]=1+(ft[Vn]||0)),jn=ee(Vn=>ft[Vn]-=1);return Ee?B.visit(B.SOURCE,Bn):(B.visit(B.ADD,Bn),B.visit(B.REM,jn)),this._finish(B,hn)},_parameterCheck(S,B){let ee=!1;return(S.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(S.stopwords||"")+"$","i"),ee=!0),(S.modified("pattern")||!this._match)&&(this._match=new RegExp(S.pattern||"[\\w']+","g"),ee=!0),(S.modified("field")||B.modified(S.field.fields))&&(ee=!0),ee&&(this._counts={}),ee},_finish(S,B){let ee=this._counts,Ee=this._tuples||(this._tuples={}),ft=B[0],Ct=B[1],Jt=S.fork(S.NO_SOURCE|S.NO_FIELDS),Kt,hn,Bn;for(Kt in ee)hn=Ee[Kt],Bn=ee[Kt]||0,!hn&&Bn?(Ee[Kt]=hn=t.ingest({}),hn[ft]=Kt,hn[Ct]=Bn,Jt.add.push(hn)):Bn===0?(hn&&Jt.rem.push(hn),ee[Kt]=null,Ee[Kt]=null):hn[Ct]!==Bn&&(hn[Ct]=Bn,Jt.mod.push(hn));return Jt.modifies(B)}});function je(S){t.Transform.call(this,null,S)}je.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},e.inherits(je,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE),Ee=S.as||["a","b"],ft=Ee[0],Ct=Ee[1],Jt=!this.value||B.changed(B.ADD_REM)||S.modified("as")||S.modified("filter"),Kt=this.value;return Jt?(Kt&&(ee.rem=Kt),Kt=B.materialize(B.SOURCE).source,ee.add=this.value=te(Kt,ft,Ct,S.filter||e.truthy)):ee.mod=Kt,ee.source=this.value,ee.modifies(Ee)}});function te(S,B,ee,Ee){for(var ft=[],Ct={},Jt=S.length,Kt=0,hn,Bn;Kt<Jt;++Kt)for(Ct[B]=Bn=S[Kt],hn=0;hn<Jt;++hn)Ct[ee]=S[hn],Ee(Ct)&&(ft.push(t.ingest(Ct)),Ct={},Ct[B]=Bn);return ft}let Xe={kde:r.randomKDE,mixture:r.randomMixture,normal:r.randomNormal,lognormal:r.randomLogNormal,uniform:r.randomUniform},ye="distributions",ke="function",Ce="field";function xe(S,B){let ee=S[ke];e.hasOwnProperty(Xe,ee)||e.error("Unknown distribution function: "+ee);let Ee=Xe[ee]();for(let ft in S)ft===Ce?Ee.data((S.from||B()).map(S[ft])):ft===ye?Ee[ft](S[ft].map(Ct=>xe(Ct,B))):typeof Ee[ft]===ke&&Ee[ft](S[ft]);return Ee}function Je(S){t.Transform.call(this,null,S)}let ut=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Qt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:ut},{name:"weights",type:"number",array:!0}]};Je.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:ut.concat(Qt)},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(Je,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE|B.NO_FIELDS);if(!this.value||B.changed()||S.modified()){let Ee=xe(S.distribution,wt(B)),ft=S.steps||S.minsteps||25,Ct=S.steps||S.maxsteps||200,Jt=S.method||"pdf";Jt!=="pdf"&&Jt!=="cdf"&&e.error("Invalid density method: "+Jt),!S.extent&&!Ee.data&&e.error("Missing density extent parameter."),Jt=Ee[Jt];let Kt=S.as||["value","density"],hn=S.extent||e.extent(Ee.data()),Bn=r.sampleCurve(Jt,hn,ft,Ct).map(jn=>{let Vn={};return Vn[Kt[0]]=jn[0],Vn[Kt[1]]=jn[1],t.ingest(Vn)});this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=Bn}return ee}});function wt(S){return()=>S.materialize(S.SOURCE).source}function mn(S,B){return S?S.map((ee,Ee)=>B[Ee]||e.accessorName(ee)):null}function Lt(S,B,ee){let Ee=[],ft=Vn=>Vn(hn),Ct,Jt,Kt,hn,Bn,jn;if(B==null)Ee.push(S.map(ee));else for(Ct={},Jt=0,Kt=S.length;Jt<Kt;++Jt)hn=S[Jt],Bn=B.map(ft),jn=Ct[Bn],jn||(Ct[Bn]=jn=[],jn.dims=Bn,Ee.push(jn)),jn.push(ee(hn));return Ee}let It="bin";function cn(S){t.Transform.call(this,null,S)}cn.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:It}]};let it=(S,B)=>e.span(e.extent(S,B))/30;e.inherits(cn,t.Transform,{transform(S,B){if(this.value&&!(S.modified()||B.changed()))return B;let ee=B.materialize(B.SOURCE).source,Ee=Lt(B.source,S.groupby,e.identity),ft=S.smooth||!1,Ct=S.field,Jt=S.step||it(ee,Ct),Kt=t.stableCompare((yr,Pr)=>Ct(yr)-Ct(Pr)),hn=S.as||It,Bn=Ee.length,jn=1/0,Vn=-1/0,Xr=0,Wr;for(;Xr<Bn;++Xr){let yr=Ee[Xr].sort(Kt);Wr=-1;for(let Pr of r.dotbin(yr,Jt,ft,Ct))Pr<jn&&(jn=Pr),Pr>Vn&&(Vn=Pr),yr[++Wr][hn]=Pr}return this.value={start:jn,stop:Vn,step:Jt},B.reflow(!0).modifies(hn)}});function ue(S){t.Operator.call(this,null,De,S),this.modified(!0)}e.inherits(ue,t.Operator);function De(S){let B=S.expr;return this.value&&!S.modified("expr")?this.value:e.accessor(ee=>B(ee,S),e.accessorFields(B),e.accessorName(B))}function ve(S){t.Transform.call(this,[void 0,void 0],S)}ve.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},e.inherits(ve,t.Transform,{transform(S,B){let ee=this.value,Ee=S.field,ft=B.changed()||B.modified(Ee.fields)||S.modified("field"),Ct=ee[0],Jt=ee[1];if((ft||Ct==null)&&(Ct=1/0,Jt=-1/0),B.visit(ft?B.SOURCE:B.ADD,Kt=>{let hn=e.toNumber(Ee(Kt));hn!=null&&(hn<Ct&&(Ct=hn),hn>Jt&&(Jt=hn))}),!Number.isFinite(Ct)||!Number.isFinite(Jt)){let Kt=e.accessorName(Ee);Kt&&(Kt=` for field "${Kt}"`),B.dataflow.warn(`Infinite extent${Kt}: [${Ct}, ${Jt}]`),Ct=Jt=void 0}this.value=[Ct,Jt]}});function le(S,B){t.Operator.call(this,S),this.parent=B,this.count=0}e.inherits(le,t.Operator,{connect(S){return this.detachSubflow=S.detachSubflow,this.targets().add(S),S.source=this},add(S){this.count+=1,this.value.add.push(S)},rem(S){this.count-=1,this.value.rem.push(S)},mod(S){this.value.mod.push(S)},init(S){this.value.init(S,S.NO_SOURCE)},evaluate(){return this.value}});function st(S){t.Transform.call(this,{},S),this._keys=e.fastmap();let B=this._targets=[];B.active=0,B.forEach=ee=>{for(let Ee=0,ft=B.active;Ee<ft;++Ee)ee(B[Ee],Ee,B)}}e.inherits(st,t.Transform,{activate(S){this._targets[this._targets.active++]=S},subflow(S,B,ee,Ee){let ft=this.value,Ct=e.hasOwnProperty(ft,S)&&ft[S],Jt,Kt;return Ct?Ct.value.stamp<ee.stamp&&(Ct.init(ee),this.activate(Ct)):(Kt=Ee||(Kt=this._group[S])&&Kt.tuple,Jt=ee.dataflow,Ct=new le(ee.fork(ee.NO_SOURCE),this),Jt.add(Ct).connect(B(Jt,S,Kt)),ft[S]=Ct,this.activate(Ct)),Ct},clean(){let S=this.value,B=0;for(let ee in S)if(S[ee].count===0){let Ee=S[ee].detachSubflow;Ee&&Ee(),delete S[ee],++B}if(B){let ee=this._targets.filter(Ee=>Ee&&Ee.count>0);this.initTargets(ee)}},initTargets(S){let B=this._targets,ee=B.length,Ee=S?S.length:0,ft=0;for(;ft<Ee;++ft)B[ft]=S[ft];for(;ft<ee&&B[ft]!=null;++ft)B[ft]=null;B.active=Ee},transform(S,B){let ee=B.dataflow,Ee=S.key,ft=S.subflow,Ct=this._keys,Jt=S.modified("key"),Kt=hn=>this.subflow(hn,ft,B);return this._group=S.group||{},this.initTargets(),B.visit(B.REM,hn=>{let Bn=t.tupleid(hn),jn=Ct.get(Bn);jn!==void 0&&(Ct.delete(Bn),Kt(jn).rem(hn))}),B.visit(B.ADD,hn=>{let Bn=Ee(hn);Ct.set(t.tupleid(hn),Bn),Kt(Bn).add(hn)}),Jt||B.modified(Ee.fields)?B.visit(B.MOD,hn=>{let Bn=t.tupleid(hn),jn=Ct.get(Bn),Vn=Ee(hn);jn===Vn?Kt(Vn).mod(hn):(Ct.set(Bn,Vn),Kt(jn).rem(hn),Kt(Vn).add(hn))}):B.changed(B.MOD)&&B.visit(B.MOD,hn=>{Kt(Ct.get(t.tupleid(hn))).mod(hn)}),Jt&&B.visit(B.REFLOW,hn=>{let Bn=t.tupleid(hn),jn=Ct.get(Bn),Vn=Ee(hn);jn!==Vn&&(Ct.set(Bn,Vn),Kt(jn).rem(hn),Kt(Vn).add(hn))}),B.clean()?ee.runAfter(()=>{this.clean(),Ct.clean()}):Ct.empty>ee.cleanThreshold&&ee.runAfter(Ct.clean),B}});function Ze(S){t.Operator.call(this,null,Le,S)}e.inherits(Ze,t.Operator);function Le(S){return this.value&&!S.modified()?this.value:e.isArray(S.name)?e.array(S.name).map(B=>e.field(B)):e.field(S.name,S.as)}function vt(S){t.Transform.call(this,e.fastmap(),S)}vt.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},e.inherits(vt,t.Transform,{transform(S,B){let ee=B.dataflow,Ee=this.value,ft=B.fork(),Ct=ft.add,Jt=ft.rem,Kt=ft.mod,hn=S.expr,Bn=!0;B.visit(B.REM,Vn=>{let Xr=t.tupleid(Vn);Ee.has(Xr)?Ee.delete(Xr):Jt.push(Vn)}),B.visit(B.ADD,Vn=>{hn(Vn,S)?Ct.push(Vn):Ee.set(t.tupleid(Vn),1)});function jn(Vn){let Xr=t.tupleid(Vn),Wr=hn(Vn,S),yr=Ee.get(Xr);Wr&&yr?(Ee.delete(Xr),Ct.push(Vn)):!Wr&&!yr?(Ee.set(Xr,1),Jt.push(Vn)):Bn&&Wr&&!yr&&Kt.push(Vn)}return B.visit(B.MOD,jn),S.modified()&&(Bn=!1,B.visit(B.REFLOW,jn)),Ee.empty>ee.cleanThreshold&&ee.runAfter(Ee.clean),ft}});function $t(S){t.Transform.call(this,[],S)}$t.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},e.inherits($t,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE),Ee=S.fields,ft=mn(Ee,S.as||[]),Ct=S.index||null,Jt=ft.length;return ee.rem=this.value,B.visit(B.SOURCE,Kt=>{let hn=Ee.map(yr=>yr(Kt)),Bn=hn.reduce((yr,Pr)=>Math.max(yr,Pr.length),0),jn=0,Vn,Xr,Wr;for(;jn<Bn;++jn){for(Xr=t.derive(Kt),Vn=0;Vn<Jt;++Vn)Xr[ft[Vn]]=(Wr=hn[Vn][jn])==null?null:Wr;Ct&&(Xr[Ct]=jn),ee.add.push(Xr)}}),this.value=ee.source=ee.add,Ct&&ee.modifies(Ct),ee.modifies(ft)}});function Mt(S){t.Transform.call(this,[],S)}Mt.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},e.inherits(Mt,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE),Ee=S.fields,ft=Ee.map(e.accessorName),Ct=S.as||["key","value"],Jt=Ct[0],Kt=Ct[1],hn=Ee.length;return ee.rem=this.value,B.visit(B.SOURCE,Bn=>{for(let jn=0,Vn;jn<hn;++jn)Vn=t.derive(Bn),Vn[Jt]=ft[jn],Vn[Kt]=Ee[jn](Bn),ee.add.push(Vn)}),this.value=ee.source=ee.add,ee.modifies(Ct)}});function Vt(S){t.Transform.call(this,null,S)}Vt.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},e.inherits(Vt,t.Transform,{transform(S,B){let ee=S.expr,Ee=S.as,ft=S.modified(),Ct=S.initonly?B.ADD:ft?B.SOURCE:B.modified(ee.fields)||B.modified(Ee)?B.ADD_MOD:B.ADD;return ft&&(B=B.materialize().reflow(!0)),S.initonly||B.modifies(Ee),B.visit(Ct,Jt=>Jt[Ee]=ee(Jt,S))}});function tn(S){t.Transform.call(this,[],S)}e.inherits(tn,t.Transform,{transform(S,B){let ee=B.fork(B.ALL),Ee=S.generator,ft=this.value,Ct=S.size-ft.length,Jt,Kt,hn;if(Ct>0){for(Jt=[];--Ct>=0;)Jt.push(hn=t.ingest(Ee(S))),ft.push(hn);ee.add=ee.add.length?ee.materialize(ee.ADD).add.concat(Jt):Jt}else Kt=ft.slice(0,-Ct),ee.rem=ee.rem.length?ee.materialize(ee.REM).rem.concat(Kt):Kt,ft=ft.slice(-Ct);return ee.source=this.value=ft,ee}});function en(S,B){return S==null||B==null?NaN:S<B?-1:S>B?1:S>=B?0:NaN}function En(S){let B=S,ee=S,Ee=S;S.length!==2&&(B=(Kt,hn)=>S(Kt)-hn,ee=en,Ee=(Kt,hn)=>en(S(Kt),hn));function ft(Kt,hn,Bn=0,jn=Kt.length){if(Bn<jn){if(ee(hn,hn)!==0)return jn;do{let Vn=Bn+jn>>>1;Ee(Kt[Vn],hn)<0?Bn=Vn+1:jn=Vn}while(Bn<jn)}return Bn}function Ct(Kt,hn,Bn=0,jn=Kt.length){if(Bn<jn){if(ee(hn,hn)!==0)return jn;do{let Vn=Bn+jn>>>1;Ee(Kt[Vn],hn)<=0?Bn=Vn+1:jn=Vn}while(Bn<jn)}return Bn}function Jt(Kt,hn,Bn=0,jn=Kt.length){let Vn=ft(Kt,hn,Bn,jn-1);return Vn>Bn&&B(Kt[Vn-1],hn)>-B(Kt[Vn],hn)?Vn-1:Vn}return{left:ft,center:Jt,right:Ct}}function*Fn(S,B){if(B===void 0)for(let ee of S)ee!=null&&(ee=+ee)>=ee&&(yield ee);else{let ee=-1;for(let Ee of S)(Ee=B(Ee,++ee,S))!=null&&(Ee=+Ee)>=Ee&&(yield Ee)}}function On(S=en){if(S===en)return qt;if(typeof S!="function")throw new TypeError("compare is not a function");return(B,ee)=>{let Ee=S(B,ee);return Ee||Ee===0?Ee:(S(ee,ee)===0)-(S(B,B)===0)}}function qt(S,B){return(S==null||!(S>=S))-(B==null||!(B>=B))||(S<B?-1:S>B?1:0)}function pn(S,B){let ee;if(B===void 0)for(let Ee of S)Ee!=null&&(ee<Ee||ee===void 0&&Ee>=Ee)&&(ee=Ee);else{let Ee=-1;for(let ft of S)(ft=B(ft,++Ee,S))!=null&&(ee<ft||ee===void 0&&ft>=ft)&&(ee=ft)}return ee}function qn(S,B){let ee;if(B===void 0)for(let Ee of S)Ee!=null&&(ee>Ee||ee===void 0&&Ee>=Ee)&&(ee=Ee);else{let Ee=-1;for(let ft of S)(ft=B(ft,++Ee,S))!=null&&(ee>ft||ee===void 0&&ft>=ft)&&(ee=ft)}return ee}function or(S,B,ee=0,Ee=S.length-1,ft){for(ft=ft===void 0?qt:On(ft);Ee>ee;){if(Ee-ee>600){let hn=Ee-ee+1,Bn=B-ee+1,jn=Math.log(hn),Vn=.5*Math.exp(2*jn/3),Xr=.5*Math.sqrt(jn*Vn*(hn-Vn)/hn)*(Bn-hn/2<0?-1:1),Wr=Math.max(ee,Math.floor(B-Bn*Vn/hn+Xr)),yr=Math.min(Ee,Math.floor(B+(hn-Bn)*Vn/hn+Xr));or(S,B,Wr,yr,ft)}let Ct=S[B],Jt=ee,Kt=Ee;for(In(S,ee,B),ft(S[Ee],Ct)>0&&In(S,ee,Ee);Jt<Kt;){for(In(S,Jt,Kt),++Jt,--Kt;ft(S[Jt],Ct)<0;)++Jt;for(;ft(S[Kt],Ct)>0;)--Kt}ft(S[ee],Ct)===0?In(S,ee,Kt):(++Kt,In(S,Kt,Ee)),Kt<=B&&(ee=Kt+1),B<=Kt&&(Ee=Kt-1)}return S}function In(S,B,ee){let Ee=S[B];S[B]=S[ee],S[ee]=Ee}function Ne(S,B,ee){if(S=Float64Array.from(Fn(S,ee)),!!(Ee=S.length)){if((B=+B)<=0||Ee<2)return qn(S);if(B>=1)return pn(S);var Ee,ft=(Ee-1)*B,Ct=Math.floor(ft),Jt=pn(or(S,Ct).subarray(0,Ct+1)),Kt=qn(S.subarray(Ct+1));return Jt+(Kt-Jt)*(ft-Ct)}}function $e(S,B){let ee=0,Ee=0;if(B===void 0)for(let ft of S)ft!=null&&(ft=+ft)>=ft&&(++ee,Ee+=ft);else{let ft=-1;for(let Ct of S)(Ct=B(Ct,++ft,S))!=null&&(Ct=+Ct)>=Ct&&(++ee,Ee+=Ct)}if(ee)return Ee/ee}function Oe(S,B){return Ne(S,.5,B)}function jt(S,B,ee){S=+S,B=+B,ee=(ft=arguments.length)<2?(B=S,S=0,1):ft<3?1:+ee;for(var Ee=-1,ft=Math.max(0,Math.ceil((B-S)/ee))|0,Ct=new Array(ft);++Ee<ft;)Ct[Ee]=S+Ee*ee;return Ct}let yt={value:"value",median:Oe,mean:$e,min:qn,max:pn},mt=[];function nn(S){t.Transform.call(this,[],S)}nn.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Wt(S){var B=S.method||yt.value,ee;if(yt[B]==null)e.error("Unrecognized imputation method: "+B);else return B===yt.value?(ee=S.value!==void 0?S.value:0,()=>ee):yt[B]}function Dn(S){let B=S.field;return ee=>ee?B(ee):NaN}e.inherits(nn,t.Transform,{transform(S,B){var ee=B.fork(B.ALL),Ee=Wt(S),ft=Dn(S),Ct=e.accessorName(S.field),Jt=e.accessorName(S.key),Kt=(S.groupby||[]).map(e.accessorName),hn=Qn(B.source,S.groupby,S.key,S.keyvals),Bn=[],jn=this.value,Vn=hn.domain.length,Xr,Wr,yr,Pr,vi,li,Xi,ws,ts,Ca;for(vi=0,ws=hn.length;vi<ws;++vi)for(Xr=hn[vi],yr=Xr.values,Wr=NaN,Xi=0;Xi<Vn;++Xi)if(Xr[Xi]==null){for(Pr=hn.domain[Xi],Ca={_impute:!0},li=0,ts=yr.length;li<ts;++li)Ca[Kt[li]]=yr[li];Ca[Jt]=Pr,Ca[Ct]=Number.isNaN(Wr)?Wr=Ee(Xr,ft):Wr,Bn.push(t.ingest(Ca))}return Bn.length&&(ee.add=ee.materialize(ee.ADD).add.concat(Bn)),jn.length&&(ee.rem=ee.materialize(ee.REM).rem.concat(jn)),this.value=Bn,ee}});function Qn(S,B,ee,Ee){var ft=li=>li(vi),Ct=[],Jt=Ee?Ee.slice():[],Kt={},hn={},Bn,jn,Vn,Xr,Wr,yr,Pr,vi;for(Jt.forEach((li,Xi)=>Kt[li]=Xi+1),Xr=0,Pr=S.length;Xr<Pr;++Xr)vi=S[Xr],yr=ee(vi),Wr=Kt[yr]||(Kt[yr]=Jt.push(yr)),jn=(Bn=B?B.map(ft):mt)+"",(Vn=hn[jn])||(Vn=hn[jn]=[],Ct.push(Vn),Vn.values=Bn),Vn[Wr-1]=vi;return Ct.domain=Jt,Ct}function Zn(S){Z.call(this,S)}Zn.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:E},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},e.inherits(Zn,Z,{transform(S,B){let ee=this,Ee=S.modified(),ft;return ee.value&&(Ee||B.modified(ee._inputs,!0))?(ft=ee.value=Ee?ee.init(S):{},B.visit(B.SOURCE,Ct=>ee.add(Ct))):(ft=ee.value=ee.value||this.init(S),B.visit(B.REM,Ct=>ee.rem(Ct)),B.visit(B.ADD,Ct=>ee.add(Ct))),ee.changes(),B.visit(B.SOURCE,Ct=>{e.extend(Ct,ft[ee.cellkey(Ct)].tuple)}),B.reflow(Ee).modifies(this._outputs)},changes(){let S=this._adds,B=this._mods,ee,Ee;for(ee=0,Ee=this._alen;ee<Ee;++ee)this.celltuple(S[ee]),S[ee]=null;for(ee=0,Ee=this._mlen;ee<Ee;++ee)this.celltuple(B[ee]),B[ee]=null;this._alen=this._mlen=0}});function Pn(S){t.Transform.call(this,null,S)}Pn.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},e.inherits(Pn,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE|B.NO_FIELDS);if(!this.value||B.changed()||S.modified()){let Ee=B.materialize(B.SOURCE).source,ft=Lt(Ee,S.groupby,S.field),Ct=(S.groupby||[]).map(e.accessorName),Jt=S.bandwidth,Kt=S.cumulative?"cdf":"pdf",hn=S.as||["value","density"],Bn=[],jn=S.extent,Vn=S.steps||S.minsteps||25,Xr=S.steps||S.maxsteps||200;Kt!=="pdf"&&Kt!=="cdf"&&e.error("Invalid density method: "+Kt),S.resolve==="shared"&&(jn||(jn=e.extent(Ee,S.field)),Vn=Xr=S.steps||Xr),ft.forEach(Wr=>{let yr=r.randomKDE(Wr,Jt)[Kt],Pr=S.counts?Wr.length:1,vi=jn||e.extent(Wr);r.sampleCurve(yr,vi,Vn,Xr).forEach(li=>{let Xi={};for(let ws=0;ws<Ct.length;++ws)Xi[Ct[ws]]=Wr.dims[ws];Xi[hn[0]]=li[0],Xi[hn[1]]=li[1]*Pr,Bn.push(t.ingest(Xi))})}),this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=Bn}return ee}});function ar(S){t.Operator.call(this,null,Ye,S)}e.inherits(ar,t.Operator);function Ye(S){return this.value&&!S.modified()?this.value:e.key(S.fields,S.flat)}function gt(S){t.Transform.call(this,[],S),this._pending=null}e.inherits(gt,t.Transform,{transform(S,B){let ee=B.dataflow;return this._pending?qe(this,B,this._pending):se(S)?B.StopPropagation:S.values?qe(this,B,ee.parse(S.values,S.format)):S.async?{async:ee.request(S.url,S.format).then(ft=>(this._pending=e.array(ft.data),Ct=>Ct.touch(this)))}:ee.request(S.url,S.format).then(Ee=>qe(this,B,e.array(Ee.data)))}});function se(S){return S.modified("async")&&!(S.modified("values")||S.modified("url")||S.modified("format"))}function qe(S,B,ee){ee.forEach(t.ingest);let Ee=B.fork(B.NO_FIELDS&B.NO_SOURCE);return Ee.rem=S.value,S.value=Ee.source=Ee.add=ee,S._pending=null,Ee.rem.length&&Ee.clean(!0),Ee}function et(S){t.Transform.call(this,{},S)}et.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},e.inherits(et,t.Transform,{transform(S,B){let ee=S.fields,Ee=S.index,ft=S.values,Ct=S.default==null?null:S.default,Jt=S.modified(),Kt=ee.length,hn=Jt?B.SOURCE:B.ADD,Bn=B,jn=S.as,Vn,Xr,Wr;return ft?(Xr=ft.length,Kt>1&&!jn&&e.error('Multi-field lookup requires explicit "as" parameter.'),jn&&jn.length!==Kt*Xr&&e.error('The "as" parameter has too few output field names.'),jn=jn||ft.map(e.accessorName),Vn=function(yr){for(var Pr=0,vi=0,li,Xi;Pr<Kt;++Pr)if(Xi=Ee.get(ee[Pr](yr)),Xi==null)for(li=0;li<Xr;++li,++vi)yr[jn[vi]]=Ct;else for(li=0;li<Xr;++li,++vi)yr[jn[vi]]=ft[li](Xi)}):(jn||e.error("Missing output field names."),Vn=function(yr){for(var Pr=0,vi;Pr<Kt;++Pr)vi=Ee.get(ee[Pr](yr)),yr[jn[Pr]]=vi??Ct}),Jt?Bn=B.reflow(!0):(Wr=ee.some(yr=>B.modified(yr.fields)),hn|=Wr?B.MOD:0),B.visit(hn,Vn),Bn.modifies(jn)}});function Tt(S){t.Operator.call(this,null,fn,S)}e.inherits(Tt,t.Operator);function fn(S){if(this.value&&!S.modified())return this.value;let B=S.extents,ee=B.length,Ee=1/0,ft=-1/0,Ct,Jt;for(Ct=0;Ct<ee;++Ct)Jt=B[Ct],Jt[0]<Ee&&(Ee=Jt[0]),Jt[1]>ft&&(ft=Jt[1]);return[Ee,ft]}function on(S){t.Operator.call(this,null,ct,S)}e.inherits(on,t.Operator);function ct(S){return this.value&&!S.modified()?this.value:S.values.reduce((B,ee)=>B.concat(ee),[])}function ie(S){t.Transform.call(this,null,S)}e.inherits(ie,t.Transform,{transform(S,B){return this.modified(S.modified()),this.value=S,B.fork(B.NO_SOURCE|B.NO_FIELDS)}});function Te(S){Z.call(this,S)}Te.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:E,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},e.inherits(Te,Z,{_transform:Z.prototype.transform,transform(S,B){return this._transform(ze(S,B),B)}});function ze(S,B){let ee=S.field,Ee=S.value,ft=(S.op==="count"?"__count__":S.op)||"sum",Ct=e.accessorFields(ee).concat(e.accessorFields(Ee)),Jt=_t(ee,S.limit||0,B);return B.changed()&&S.set("__pivot__",null,null,!0),{key:S.key,groupby:S.groupby,ops:Jt.map(()=>ft),fields:Jt.map(Kt=>ht(Kt,ee,Ee,Ct)),as:Jt.map(Kt=>Kt+""),modified:S.modified.bind(S)}}function ht(S,B,ee,Ee){return e.accessor(ft=>B(ft)===S?ee(ft):NaN,Ee,S+"")}function _t(S,B,ee){let Ee={},ft=[];return ee.visit(ee.SOURCE,Ct=>{let Jt=S(Ct);Ee[Jt]||(Ee[Jt]=1,ft.push(Jt))}),ft.sort(e.ascending),B?ft.slice(0,B):ft}function Dt(S){st.call(this,S)}e.inherits(Dt,st,{transform(S,B){let ee=S.subflow,Ee=S.field,ft=Ct=>this.subflow(t.tupleid(Ct),ee,B,Ct);return(S.modified("field")||Ee&&B.modified(e.accessorFields(Ee)))&&e.error("PreFacet does not support field modification."),this.initTargets(),Ee?(B.visit(B.MOD,Ct=>{let Jt=ft(Ct);Ee(Ct).forEach(Kt=>Jt.mod(Kt))}),B.visit(B.ADD,Ct=>{let Jt=ft(Ct);Ee(Ct).forEach(Kt=>Jt.add(t.ingest(Kt)))}),B.visit(B.REM,Ct=>{let Jt=ft(Ct);Ee(Ct).forEach(Kt=>Jt.rem(Kt))})):(B.visit(B.MOD,Ct=>ft(Ct).mod(Ct)),B.visit(B.ADD,Ct=>ft(Ct).add(Ct)),B.visit(B.REM,Ct=>ft(Ct).rem(Ct))),B.clean()&&B.runAfter(()=>this.clean()),B}});function ne(S){t.Transform.call(this,null,S)}ne.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},e.inherits(ne,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE),Ee=S.fields,ft=mn(S.fields,S.as||[]),Ct=Ee?(Kt,hn)=>we(Kt,hn,Ee,ft):t.rederive,Jt;return this.value?Jt=this.value:(B=B.addAll(),Jt=this.value={}),B.visit(B.REM,Kt=>{let hn=t.tupleid(Kt);ee.rem.push(Jt[hn]),Jt[hn]=null}),B.visit(B.ADD,Kt=>{let hn=Ct(Kt,t.ingest({}));Jt[t.tupleid(Kt)]=hn,ee.add.push(hn)}),B.visit(B.MOD,Kt=>{ee.mod.push(Ct(Kt,Jt[t.tupleid(Kt)]))}),ee}});function we(S,B,ee,Ee){for(let ft=0,Ct=ee.length;ft<Ct;++ft)B[Ee[ft]]=ee[ft](S);return B}function We(S){t.Transform.call(this,null,S)}e.inherits(We,t.Transform,{transform(S,B){return this.value=S.value,S.modified("value")?B.fork(B.NO_SOURCE|B.NO_FIELDS):B.StopPropagation}});function nt(S){t.Transform.call(this,null,S)}nt.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};let Pt=1e-14;e.inherits(nt,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE|B.NO_FIELDS),Ee=S.as||["prob","value"];if(this.value&&!S.modified()&&!B.changed())return ee.source=this.value,ee;let ft=B.materialize(B.SOURCE).source,Ct=Lt(ft,S.groupby,S.field),Jt=(S.groupby||[]).map(e.accessorName),Kt=[],hn=S.step||.01,Bn=S.probs||jt(hn/2,1-Pt,hn),jn=Bn.length;return Ct.forEach(Vn=>{let Xr=r.quantiles(Vn,Bn);for(let Wr=0;Wr<jn;++Wr){let yr={};for(let Pr=0;Pr<Jt.length;++Pr)yr[Jt[Pr]]=Vn.dims[Pr];yr[Ee[0]]=Bn[Wr],yr[Ee[1]]=Xr[Wr],Kt.push(t.ingest(yr))}}),this.value&&(ee.rem=this.value),this.value=ee.add=ee.source=Kt,ee}});function sn(S){t.Transform.call(this,null,S)}e.inherits(sn,t.Transform,{transform(S,B){let ee,Ee;return this.value?Ee=this.value:(ee=B=B.addAll(),Ee=this.value={}),S.derive&&(ee=B.fork(B.NO_SOURCE),B.visit(B.REM,ft=>{let Ct=t.tupleid(ft);ee.rem.push(Ee[Ct]),Ee[Ct]=null}),B.visit(B.ADD,ft=>{let Ct=t.derive(ft);Ee[t.tupleid(ft)]=Ct,ee.add.push(Ct)}),B.visit(B.MOD,ft=>{let Ct=Ee[t.tupleid(ft)];for(let Jt in ft)Ct[Jt]=ft[Jt],ee.modifies(Jt);ee.mod.push(Ct)})),ee}});function wn(S){t.Transform.call(this,[],S),this.count=0}wn.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},e.inherits(wn,t.Transform,{transform(S,B){let ee=B.fork(B.NO_SOURCE),Ee=S.modified("size"),ft=S.size,Ct=this.value.reduce((jn,Vn)=>(jn[t.tupleid(Vn)]=1,jn),{}),Jt=this.value,Kt=this.count,hn=0;function Bn(jn){let Vn,Xr;Jt.length<ft?Jt.push(jn):(Xr=~~((Kt+1)*r.random()),Xr<Jt.length&&Xr>=hn&&(Vn=Jt[Xr],Ct[t.tupleid(Vn)]&&ee.rem.push(Vn),Jt[Xr]=jn)),++Kt}if(B.rem.length&&(B.visit(B.REM,jn=>{let Vn=t.tupleid(jn);Ct[Vn]&&(Ct[Vn]=-1,ee.rem.push(jn)),--Kt}),Jt=Jt.filter(jn=>Ct[t.tupleid(jn)]!==-1)),(B.rem.length||Ee)&&Jt.length<ft&&B.source&&(hn=Kt=Jt.length,B.visit(B.SOURCE,jn=>{Ct[t.tupleid(jn)]||Bn(jn)}),hn=-1),Ee&&Jt.length>ft){let jn=Jt.length-ft;for(let Vn=0;Vn<jn;++Vn)Ct[t.tupleid(Jt[Vn])]=-1,ee.rem.push(Jt[Vn]);Jt=Jt.slice(jn)}return B.mod.length&&B.visit(B.MOD,jn=>{Ct[t.tupleid(jn)]&&ee.mod.push(jn)}),B.add.length&&B.visit(B.ADD,Bn),(B.add.length||hn<0)&&(ee.add=Jt.filter(jn=>!Ct[t.tupleid(jn)])),this.count=Kt,this.value=ee.source=Jt,ee}});function yn(S){t.Transform.call(this,null,S)}yn.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},e.inherits(yn,t.Transform,{transform(S,B){if(this.value&&!S.modified())return;let ee=B.materialize().fork(B.MOD),Ee=S.as||"data";return ee.rem=this.value?B.rem.concat(this.value):B.rem,this.value=jt(S.start,S.stop,S.step||1).map(ft=>{let Ct={};return Ct[Ee]=ft,t.ingest(Ct)}),ee.add=B.add.concat(this.value),ee}});function xn(S){t.Transform.call(this,null,S),this.modified(!0)}e.inherits(xn,t.Transform,{transform(S,B){return this.value=B.source,B.changed()?B.fork(B.NO_SOURCE|B.NO_FIELDS):B.StopPropagation}});function zn(S){t.Transform.call(this,null,S)}let Re=["unit0","unit1"];zn.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:i.TIME_UNITS,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Re}]},e.inherits(zn,t.Transform,{transform(S,B){let ee=S.field,Ee=S.interval!==!1,ft=S.timezone==="utc",Ct=this._floor(S,B),Jt=(ft?i.utcInterval:i.timeInterval)(Ct.unit).offset,Kt=S.as||Re,hn=Kt[0],Bn=Kt[1],jn=Ct.step,Vn=Ct.start||1/0,Xr=Ct.stop||-1/0,Wr=B.ADD;return(S.modified()||B.changed(B.REM)||B.modified(e.accessorFields(ee)))&&(B=B.reflow(!0),Wr=B.SOURCE,Vn=1/0,Xr=-1/0),B.visit(Wr,yr=>{let Pr=ee(yr),vi,li;Pr==null?(yr[hn]=null,Ee&&(yr[Bn]=null)):(yr[hn]=vi=li=Ct(Pr),Ee&&(yr[Bn]=li=Jt(vi,jn)),vi<Vn&&(Vn=vi),li>Xr&&(Xr=li))}),Ct.start=Vn,Ct.stop=Xr,B.modifies(Ee?Kt:hn)},_floor(S,B){let ee=S.timezone==="utc",{units:Ee,step:ft}=S.units?{units:S.units,step:S.step||1}:i.timeBin({extent:S.extent||e.extent(B.materialize(B.SOURCE).source,S.field),maxbins:S.maxbins}),Ct=i.timeUnits(Ee),Jt=this.value||{},Kt=(ee?i.utcFloor:i.timeFloor)(Ct,ft);return Kt.unit=e.peek(Ct),Kt.units=Ct,Kt.step=ft,Kt.start=Jt.start,Kt.stop=Jt.stop,this.value=Kt}});function He(S){t.Transform.call(this,e.fastmap(),S)}e.inherits(He,t.Transform,{transform(S,B){let ee=B.dataflow,Ee=S.field,ft=this.value,Ct=Kt=>ft.set(Ee(Kt),Kt),Jt=!0;return S.modified("field")||B.modified(Ee.fields)?(ft.clear(),B.visit(B.SOURCE,Ct)):B.changed()?(B.visit(B.REM,Kt=>ft.delete(Ee(Kt))),B.visit(B.ADD,Ct)):Jt=!1,this.modified(Jt),ft.empty>ee.cleanThreshold&&ee.runAfter(ft.clean),B.fork()}});function At(S){t.Transform.call(this,null,S)}e.inherits(At,t.Transform,{transform(S,B){(!this.value||S.modified("field")||S.modified("sort")||B.changed()||S.sort&&B.modified(S.sort.fields))&&(this.value=(S.sort?B.source.slice().sort(t.stableCompare(S.sort)):B.source).map(S.field))}});function L(S,B,ee,Ee){let ft=V[S](B,ee);return{init:ft.init||e.zero,update:function(Ct,Jt){Jt[Ee]=ft.next(Ct)}}}let V={row_number:function(){return{next:S=>S.index+1}},rank:function(){let S;return{init:()=>S=1,next:B=>{let ee=B.index,Ee=B.data;return ee&&B.compare(Ee[ee-1],Ee[ee])?S=ee+1:S}}},dense_rank:function(){let S;return{init:()=>S=1,next:B=>{let ee=B.index,Ee=B.data;return ee&&B.compare(Ee[ee-1],Ee[ee])?++S:S}}},percent_rank:function(){let S=V.rank(),B=S.next;return{init:S.init,next:ee=>(B(ee)-1)/(ee.data.length-1)}},cume_dist:function(){let S;return{init:()=>S=0,next:B=>{let ee=B.data,Ee=B.compare,ft=B.index;if(S<ft){for(;ft+1<ee.length&&!Ee(ee[ft],ee[ft+1]);)++ft;S=ft}return(1+S)/ee.length}}},ntile:function(S,B){B=+B,B>0||e.error("ntile num must be greater than zero.");let ee=V.cume_dist(),Ee=ee.next;return{init:ee.init,next:ft=>Math.ceil(B*Ee(ft))}},lag:function(S,B){return B=+B||1,{next:ee=>{let Ee=ee.index-B;return Ee>=0?S(ee.data[Ee]):null}}},lead:function(S,B){return B=+B||1,{next:ee=>{let Ee=ee.index+B,ft=ee.data;return Ee<ft.length?S(ft[Ee]):null}}},first_value:function(S){return{next:B=>S(B.data[B.i0])}},last_value:function(S){return{next:B=>S(B.data[B.i1-1])}},nth_value:function(S,B){return B=+B,B>0||e.error("nth_value nth must be greater than zero."),{next:ee=>{let Ee=ee.i0+(B-1);return Ee<ee.i1?S(ee.data[Ee]):null}}},prev_value:function(S){let B;return{init:()=>B=null,next:ee=>{let Ee=S(ee.data[ee.index]);return Ee!=null?B=Ee:B}}},next_value:function(S){let B,ee;return{init:()=>(B=null,ee=-1),next:Ee=>{let ft=Ee.data;return Ee.index<=ee?B:(ee=be(S,ft,Ee.index))<0?(ee=ft.length,B=null):B=S(ft[ee])}}}};function be(S,B,ee){for(let Ee=B.length;ee<Ee;++ee)if(S(B[ee])!=null)return ee;return-1}let pe=Object.keys(V);function Y(S){let B=e.array(S.ops),ee=e.array(S.fields),Ee=e.array(S.params),ft=e.array(S.as),Ct=this.outputs=[],Jt=this.windows=[],Kt={},hn={},Bn=[],jn=[],Vn=!0;function Xr(Wr){e.array(e.accessorFields(Wr)).forEach(yr=>Kt[yr]=1)}Xr(S.sort),B.forEach((Wr,yr)=>{let Pr=ee[yr],vi=e.accessorName(Pr),li=a(Wr,vi,ft[yr]);if(Xr(Pr),Ct.push(li),e.hasOwnProperty(V,Wr))Jt.push(L(Wr,ee[yr],Ee[yr],li));else{if(Pr==null&&Wr!=="count"&&e.error("Null aggregate field specified."),Wr==="count"){Bn.push(li);return}Vn=!1;let Xi=hn[vi];Xi||(Xi=hn[vi]=[],Xi.field=Pr,jn.push(Xi)),Xi.push(N(Wr,li))}}),(Bn.length||jn.length)&&(this.cell=ce(jn,Bn,Vn)),this.inputs=Object.keys(Kt)}let oe=Y.prototype;oe.init=function(){this.windows.forEach(S=>S.init()),this.cell&&this.cell.init()},oe.update=function(S,B){let ee=this.cell,Ee=this.windows,ft=S.data,Ct=Ee&&Ee.length,Jt;if(ee){for(Jt=S.p0;Jt<S.i0;++Jt)ee.rem(ft[Jt]);for(Jt=S.p1;Jt<S.i1;++Jt)ee.add(ft[Jt]);ee.set(B)}for(Jt=0;Jt<Ct;++Jt)Ee[Jt].update(S,B)};function ce(S,B,ee){S=S.map(hn=>K(hn,hn.field));let Ee={num:0,agg:null,store:!1,count:B};if(!ee)for(var ft=S.length,Ct=Ee.agg=Array(ft),Jt=0;Jt<ft;++Jt)Ct[Jt]=new S[Jt](Ee);if(Ee.store)var Kt=Ee.data=new de;return Ee.add=function(hn){if(Ee.num+=1,!ee){Kt&&Kt.add(hn);for(let Bn=0;Bn<ft;++Bn)Ct[Bn].add(Ct[Bn].get(hn),hn)}},Ee.rem=function(hn){if(Ee.num-=1,!ee){Kt&&Kt.rem(hn);for(let Bn=0;Bn<ft;++Bn)Ct[Bn].rem(Ct[Bn].get(hn),hn)}},Ee.set=function(hn){let Bn,jn;for(Kt&&Kt.values(),Bn=0,jn=B.length;Bn<jn;++Bn)hn[B[Bn]]=Ee.num;if(!ee)for(Bn=0,jn=Ct.length;Bn<jn;++Bn)Ct[Bn].set(hn)},Ee.init=function(){Ee.num=0,Kt&&Kt.reset();for(let hn=0;hn<ft;++hn)Ct[hn].init()},Ee}function Qe(S){t.Transform.call(this,{},S),this._mlen=0,this._mods=[]}Qe.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:pe.concat(E)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},e.inherits(Qe,t.Transform,{transform(S,B){this.stamp=B.stamp;let ee=S.modified(),Ee=t.stableCompare(S.sort),ft=o(S.groupby),Ct=Kt=>this.group(ft(Kt)),Jt=this.state;(!Jt||ee)&&(Jt=this.state=new Y(S)),ee||B.modified(Jt.inputs)?(this.value={},B.visit(B.SOURCE,Kt=>Ct(Kt).add(Kt))):(B.visit(B.REM,Kt=>Ct(Kt).remove(Kt)),B.visit(B.ADD,Kt=>Ct(Kt).add(Kt)));for(let Kt=0,hn=this._mlen;Kt<hn;++Kt)Rt(this._mods[Kt],Jt,Ee,S);return this._mlen=0,this._mods=[],B.reflow(ee).modifies(Jt.outputs)},group(S){let B=this.value[S];return B||(B=this.value[S]=Ve(t.tupleid),B.stamp=-1),B.stamp<this.stamp&&(B.stamp=this.stamp,this._mods[this._mlen++]=B),B}});function Rt(S,B,ee,Ee){let ft=Ee.sort,Ct=ft&&!Ee.ignorePeers,Jt=Ee.frame||[null,0],Kt=S.data(ee),hn=Kt.length,Bn=Ct?En(ft):null,jn={i0:0,i1:0,p0:0,p1:0,index:0,data:Kt,compare:ft||e.constant(-1)};B.init();for(let Vn=0;Vn<hn;++Vn)Et(jn,Jt,Vn,hn),Ct&&ln(jn,Bn),B.update(jn,Kt[Vn])}function Et(S,B,ee,Ee){S.p0=S.i0,S.p1=S.i1,S.i0=B[0]==null?0:Math.max(0,ee-Math.abs(B[0])),S.i1=B[1]==null?Ee:Math.min(Ee,ee+Math.abs(B[1])+1),S.index=ee}function ln(S,B){let ee=S.i0,Ee=S.i1-1,ft=S.compare,Ct=S.data,Jt=Ct.length-1;ee>0&&!ft(Ct[ee],Ct[ee-1])&&(S.i0=B.left(Ct,Ct[ee])),Ee<Jt&&!ft(Ct[Ee],Ct[Ee+1])&&(S.i1=B.right(Ct,Ct[Ee]))}n.aggregate=Z,n.bin=_e,n.collect=at,n.compare=lt,n.countpattern=St,n.cross=je,n.density=Je,n.dotbin=cn,n.expression=ue,n.extent=ve,n.facet=st,n.field=Ze,n.filter=vt,n.flatten=$t,n.fold=Mt,n.formula=Vt,n.generate=tn,n.impute=nn,n.joinaggregate=Zn,n.kde=Pn,n.key=ar,n.load=gt,n.lookup=et,n.multiextent=Tt,n.multivalues=on,n.params=ie,n.pivot=Te,n.prefacet=Dt,n.project=ne,n.proxy=We,n.quantile=nt,n.relay=sn,n.sample=wn,n.sequence=yn,n.sieve=xn,n.subflow=le,n.timeunit=zn,n.tupleindex=He,n.values=At,n.window=Qe,Object.defineProperty(n,"__esModule",{value:!0})})});var oR=Ae((zH,PAe)=>{m();(function(n,e){typeof zH=="object"&&typeof PAe!="undefined"?e(zH):typeof define=="function"&&define.amd?define(["exports"],e):e((n=typeof globalThis!="undefined"?globalThis:n||self).vega={})})(zH,function(n){"use strict";function e(t,r){if(typeof document!="undefined"&&document.createElement){let i=document.createElement("canvas");if(i&&i.getContext)return i.width=t,i.height=r,i}return null}n.canvas=e,n.domCanvas=e,n.image=()=>typeof Image!="undefined"?Image:null,Object.defineProperty(n,"__esModule",{value:!0})})});var Cb=Ae((HH,BAe)=>{m();(function(n,e){typeof HH=="object"&&typeof BAe!="undefined"?e(HH,Au(),gC()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(HH,function(n,e,t){"use strict";function r(x,T,z){let J=x-T+z*2;return x?J>0?J:1:0}let i="identity",s="linear",o="log",a="pow",c="sqrt",d="symlog",p="time",E="utc",w="sequential",N="diverging",R="quantile",U="quantize",Q="threshold",P="ordinal",j="point",I="band",K="bin-ordinal",de="continuous",M="discrete",Z="discretizing",me="interpolating",_e="temporal";function Ve(x){return function(T){let z=T[0],J=T[1],ge;return J<z&&(ge=z,z=J,J=ge),[x.invert(z),x.invert(J)]}}function at(x){return function(T){let z=x.range(),J=T[0],ge=T[1],Fe=-1,rt,Ut,Sn,bn;for(ge<J&&(Ut=J,J=ge,ge=Ut),Sn=0,bn=z.length;Sn<bn;++Sn)z[Sn]>=J&&z[Sn]<=ge&&(Fe<0&&(Fe=Sn),rt=Sn);if(!(Fe<0))return J=x.invertExtent(z[Fe]),ge=x.invertExtent(z[rt]),[J[0]===void 0?J[1]:J[0],ge[1]===void 0?ge[0]:ge[1]]}}function lt(x,T){return x==null||T==null?NaN:x<T?-1:x>T?1:x>=T?0:NaN}function Ke(x){let T=x,z=x,J=x;x.length!==2&&(T=(Ut,Sn)=>x(Ut)-Sn,z=lt,J=(Ut,Sn)=>lt(x(Ut),Sn));function ge(Ut,Sn,bn=0,kn=Ut.length){if(bn<kn){if(z(Sn,Sn)!==0)return kn;do{let $n=bn+kn>>>1;J(Ut[$n],Sn)<0?bn=$n+1:kn=$n}while(bn<kn)}return bn}function Fe(Ut,Sn,bn=0,kn=Ut.length){if(bn<kn){if(z(Sn,Sn)!==0)return kn;do{let $n=bn+kn>>>1;J(Ut[$n],Sn)<=0?bn=$n+1:kn=$n}while(bn<kn)}return bn}function rt(Ut,Sn,bn=0,kn=Ut.length){let $n=ge(Ut,Sn,bn,kn-1);return $n>bn&&T(Ut[$n-1],Sn)>-T(Ut[$n],Sn)?$n-1:$n}return{left:ge,center:rt,right:Fe}}function St(x){return x===null?NaN:+x}let je=Ke(lt).right;Ke(St).center;var te=je;class Xe extends Map{constructor(T,z=xe){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:z}}),T!=null)for(let[J,ge]of T)this.set(J,ge)}get(T){return super.get(ye(this,T))}has(T){return super.has(ye(this,T))}set(T,z){return super.set(ke(this,T),z)}delete(T){return super.delete(Ce(this,T))}}function ye({_intern:x,_key:T},z){let J=T(z);return x.has(J)?x.get(J):z}function ke({_intern:x,_key:T},z){let J=T(z);return x.has(J)?x.get(J):(x.set(J,z),z)}function Ce({_intern:x,_key:T},z){let J=T(z);return x.has(J)&&(z=x.get(J),x.delete(J)),z}function xe(x){return x!==null&&typeof x=="object"?x.valueOf():x}var Je=Math.sqrt(50),ut=Math.sqrt(10),Qt=Math.sqrt(2);function wt(x,T,z){var J,ge=-1,Fe,rt,Ut;if(T=+T,x=+x,z=+z,x===T&&z>0)return[x];if((J=T<x)&&(Fe=x,x=T,T=Fe),(Ut=mn(x,T,z))===0||!isFinite(Ut))return[];if(Ut>0){let Sn=Math.round(x/Ut),bn=Math.round(T/Ut);for(Sn*Ut<x&&++Sn,bn*Ut>T&&--bn,rt=new Array(Fe=bn-Sn+1);++ge<Fe;)rt[ge]=(Sn+ge)*Ut}else{Ut=-Ut;let Sn=Math.round(x*Ut),bn=Math.round(T*Ut);for(Sn/Ut<x&&++Sn,bn/Ut>T&&--bn,rt=new Array(Fe=bn-Sn+1);++ge<Fe;)rt[ge]=(Sn+ge)/Ut}return J&&rt.reverse(),rt}function mn(x,T,z){var J=(T-x)/Math.max(0,z),ge=Math.floor(Math.log(J)/Math.LN10),Fe=J/Math.pow(10,ge);return ge>=0?(Fe>=Je?10:Fe>=ut?5:Fe>=Qt?2:1)*Math.pow(10,ge):-Math.pow(10,-ge)/(Fe>=Je?10:Fe>=ut?5:Fe>=Qt?2:1)}function Lt(x,T,z){var J=Math.abs(T-x)/Math.max(0,z),ge=Math.pow(10,Math.floor(Math.log(J)/Math.LN10)),Fe=J/ge;return Fe>=Je?ge*=10:Fe>=ut?ge*=5:Fe>=Qt&&(ge*=2),T<x?-ge:ge}function It(x,T,z=St){if(!!(J=x.length)){if((T=+T)<=0||J<2)return+z(x[0],0,x);if(T>=1)return+z(x[J-1],J-1,x);var J,ge=(J-1)*T,Fe=Math.floor(ge),rt=+z(x[Fe],Fe,x),Ut=+z(x[Fe+1],Fe+1,x);return rt+(Ut-rt)*(ge-Fe)}}function cn(x,T,z){x=+x,T=+T,z=(ge=arguments.length)<2?(T=x,x=0,1):ge<3?1:+z;for(var J=-1,ge=Math.max(0,Math.ceil((T-x)/z))|0,Fe=new Array(ge);++J<ge;)Fe[J]=x+J*z;return Fe}function it(x,T){switch(arguments.length){case 0:break;case 1:this.range(x);break;default:this.range(T).domain(x);break}return this}function ue(x,T){switch(arguments.length){case 0:break;case 1:{typeof x=="function"?this.interpolator(x):this.range(x);break}default:{this.domain(x),typeof T=="function"?this.interpolator(T):this.range(T);break}}return this}let De=Symbol("implicit");function ve(){var x=new Xe,T=[],z=[],J=De;function ge(Fe){let rt=x.get(Fe);if(rt===void 0){if(J!==De)return J;x.set(Fe,rt=T.push(Fe)-1)}return z[rt%z.length]}return ge.domain=function(Fe){if(!arguments.length)return T.slice();T=[],x=new Xe;for(let rt of Fe)x.has(rt)||x.set(rt,T.push(rt)-1);return ge},ge.range=function(Fe){return arguments.length?(z=Array.from(Fe),ge):z.slice()},ge.unknown=function(Fe){return arguments.length?(J=Fe,ge):J},ge.copy=function(){return ve(T,z).unknown(J)},it.apply(ge,arguments),ge}function le(x,T,z){x.prototype=T.prototype=z,z.constructor=x}function st(x,T){var z=Object.create(x.prototype);for(var J in T)z[J]=T[J];return z}function Ze(){}var Le=.7,vt=1/Le,$t="\\s*([+-]?\\d+)\\s*",Mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tn=/^#([0-9a-f]{3,8})$/,en=new RegExp("^rgb\\("+[$t,$t,$t]+"\\)$"),En=new RegExp("^rgb\\("+[Vt,Vt,Vt]+"\\)$"),Fn=new RegExp("^rgba\\("+[$t,$t,$t,Mt]+"\\)$"),On=new RegExp("^rgba\\("+[Vt,Vt,Vt,Mt]+"\\)$"),qt=new RegExp("^hsl\\("+[Mt,Vt,Vt]+"\\)$"),pn=new RegExp("^hsla\\("+[Mt,Vt,Vt,Mt]+"\\)$"),qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};le(Ze,$e,{copy:function(x){return Object.assign(new this.constructor,this,x)},displayable:function(){return this.rgb().displayable()},hex:or,formatHex:or,formatHsl:In,formatRgb:Ne,toString:Ne});function or(){return this.rgb().formatHex()}function In(){return Pn(this).formatHsl()}function Ne(){return this.rgb().formatRgb()}function $e(x){var T,z;return x=(x+"").trim().toLowerCase(),(T=tn.exec(x))?(z=T[1].length,T=parseInt(T[1],16),z===6?Oe(T):z===3?new nn(T>>8&15|T>>4&240,T>>4&15|T&240,(T&15)<<4|T&15,1):z===8?jt(T>>24&255,T>>16&255,T>>8&255,(T&255)/255):z===4?jt(T>>12&15|T>>8&240,T>>8&15|T>>4&240,T>>4&15|T&240,((T&15)<<4|T&15)/255):null):(T=en.exec(x))?new nn(T[1],T[2],T[3],1):(T=En.exec(x))?new nn(T[1]*255/100,T[2]*255/100,T[3]*255/100,1):(T=Fn.exec(x))?jt(T[1],T[2],T[3],T[4]):(T=On.exec(x))?jt(T[1]*255/100,T[2]*255/100,T[3]*255/100,T[4]):(T=qt.exec(x))?Zn(T[1],T[2]/100,T[3]/100,1):(T=pn.exec(x))?Zn(T[1],T[2]/100,T[3]/100,T[4]):qn.hasOwnProperty(x)?Oe(qn[x]):x==="transparent"?new nn(NaN,NaN,NaN,0):null}function Oe(x){return new nn(x>>16&255,x>>8&255,x&255,1)}function jt(x,T,z,J){return J<=0&&(x=T=z=NaN),new nn(x,T,z,J)}function yt(x){return x instanceof Ze||(x=$e(x)),x?(x=x.rgb(),new nn(x.r,x.g,x.b,x.opacity)):new nn}function mt(x,T,z,J){return arguments.length===1?yt(x):new nn(x,T,z,J??1)}function nn(x,T,z,J){this.r=+x,this.g=+T,this.b=+z,this.opacity=+J}le(nn,mt,st(Ze,{brighter:function(x){return x=x==null?vt:Math.pow(vt,x),new nn(this.r*x,this.g*x,this.b*x,this.opacity)},darker:function(x){return x=x==null?Le:Math.pow(Le,x),new nn(this.r*x,this.g*x,this.b*x,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wt,formatHex:Wt,formatRgb:Dn,toString:Dn}));function Wt(){return"#"+Qn(this.r)+Qn(this.g)+Qn(this.b)}function Dn(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(x===1?")":", "+x+")")}function Qn(x){return x=Math.max(0,Math.min(255,Math.round(x)||0)),(x<16?"0":"")+x.toString(16)}function Zn(x,T,z,J){return J<=0?x=T=z=NaN:z<=0||z>=1?x=T=NaN:T<=0&&(x=NaN),new Ye(x,T,z,J)}function Pn(x){if(x instanceof Ye)return new Ye(x.h,x.s,x.l,x.opacity);if(x instanceof Ze||(x=$e(x)),!x)return new Ye;if(x instanceof Ye)return x;x=x.rgb();var T=x.r/255,z=x.g/255,J=x.b/255,ge=Math.min(T,z,J),Fe=Math.max(T,z,J),rt=NaN,Ut=Fe-ge,Sn=(Fe+ge)/2;return Ut?(T===Fe?rt=(z-J)/Ut+(z<J)*6:z===Fe?rt=(J-T)/Ut+2:rt=(T-z)/Ut+4,Ut/=Sn<.5?Fe+ge:2-Fe-ge,rt*=60):Ut=Sn>0&&Sn<1?0:rt,new Ye(rt,Ut,Sn,x.opacity)}function ar(x,T,z,J){return arguments.length===1?Pn(x):new Ye(x,T,z,J??1)}function Ye(x,T,z,J){this.h=+x,this.s=+T,this.l=+z,this.opacity=+J}le(Ye,ar,st(Ze,{brighter:function(x){return x=x==null?vt:Math.pow(vt,x),new Ye(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?Le:Math.pow(Le,x),new Ye(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=this.h%360+(this.h<0)*360,T=isNaN(x)||isNaN(this.s)?0:this.s,z=this.l,J=z+(z<.5?z:1-z)*T,ge=2*z-J;return new nn(gt(x>=240?x-240:x+120,ge,J),gt(x,ge,J),gt(x<120?x+240:x-120,ge,J),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var x=this.opacity;return x=isNaN(x)?1:Math.max(0,Math.min(1,x)),(x===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(x===1?")":", "+x+")")}}));function gt(x,T,z){return(x<60?T+(z-T)*x/60:x<180?z:x<240?T+(z-T)*(240-x)/60:T)*255}let se=Math.PI/180,qe=180/Math.PI,et=18,Tt=.96422,fn=1,on=.82521,ct=4/29,ie=6/29,Te=3*ie*ie,ze=ie*ie*ie;function ht(x){if(x instanceof Dt)return new Dt(x.l,x.a,x.b,x.opacity);if(x instanceof wn)return yn(x);x instanceof nn||(x=yt(x));var T=nt(x.r),z=nt(x.g),J=nt(x.b),ge=ne((.2225045*T+.7168786*z+.0606169*J)/fn),Fe,rt;return T===z&&z===J?Fe=rt=ge:(Fe=ne((.4360747*T+.3850649*z+.1430804*J)/Tt),rt=ne((.0139322*T+.0971045*z+.7141733*J)/on)),new Dt(116*ge-16,500*(Fe-ge),200*(ge-rt),x.opacity)}function _t(x,T,z,J){return arguments.length===1?ht(x):new Dt(x,T,z,J??1)}function Dt(x,T,z,J){this.l=+x,this.a=+T,this.b=+z,this.opacity=+J}le(Dt,_t,st(Ze,{brighter:function(x){return new Dt(this.l+et*(x??1),this.a,this.b,this.opacity)},darker:function(x){return new Dt(this.l-et*(x??1),this.a,this.b,this.opacity)},rgb:function(){var x=(this.l+16)/116,T=isNaN(this.a)?x:x+this.a/500,z=isNaN(this.b)?x:x-this.b/200;return T=Tt*we(T),x=fn*we(x),z=on*we(z),new nn(We(3.1338561*T-1.6168667*x-.4906146*z),We(-.9787684*T+1.9161415*x+.033454*z),We(.0719453*T-.2289914*x+1.4052427*z),this.opacity)}}));function ne(x){return x>ze?Math.pow(x,1/3):x/Te+ct}function we(x){return x>ie?x*x*x:Te*(x-ct)}function We(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function nt(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function Pt(x){if(x instanceof wn)return new wn(x.h,x.c,x.l,x.opacity);if(x instanceof Dt||(x=ht(x)),x.a===0&&x.b===0)return new wn(NaN,0<x.l&&x.l<100?0:NaN,x.l,x.opacity);var T=Math.atan2(x.b,x.a)*qe;return new wn(T<0?T+360:T,Math.sqrt(x.a*x.a+x.b*x.b),x.l,x.opacity)}function sn(x,T,z,J){return arguments.length===1?Pt(x):new wn(x,T,z,J??1)}function wn(x,T,z,J){this.h=+x,this.c=+T,this.l=+z,this.opacity=+J}function yn(x){if(isNaN(x.h))return new Dt(x.l,0,0,x.opacity);var T=x.h*se;return new Dt(x.l,Math.cos(T)*x.c,Math.sin(T)*x.c,x.opacity)}le(wn,sn,st(Ze,{brighter:function(x){return new wn(this.h,this.c,this.l+et*(x??1),this.opacity)},darker:function(x){return new wn(this.h,this.c,this.l-et*(x??1),this.opacity)},rgb:function(){return yn(this).rgb()}}));var xn=-.14861,zn=1.78277,Re=-.29227,He=-.90649,At=1.97294,L=At*He,V=At*zn,be=zn*Re-He*xn;function pe(x){if(x instanceof oe)return new oe(x.h,x.s,x.l,x.opacity);x instanceof nn||(x=yt(x));var T=x.r/255,z=x.g/255,J=x.b/255,ge=(be*J+L*T-V*z)/(be+L-V),Fe=J-ge,rt=(At*(z-ge)-Re*Fe)/He,Ut=Math.sqrt(rt*rt+Fe*Fe)/(At*ge*(1-ge)),Sn=Ut?Math.atan2(rt,Fe)*qe-120:NaN;return new oe(Sn<0?Sn+360:Sn,Ut,ge,x.opacity)}function Y(x,T,z,J){return arguments.length===1?pe(x):new oe(x,T,z,J??1)}function oe(x,T,z,J){this.h=+x,this.s=+T,this.l=+z,this.opacity=+J}le(oe,Y,st(Ze,{brighter:function(x){return x=x==null?vt:Math.pow(vt,x),new oe(this.h,this.s,this.l*x,this.opacity)},darker:function(x){return x=x==null?Le:Math.pow(Le,x),new oe(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=isNaN(this.h)?0:(this.h+120)*se,T=+this.l,z=isNaN(this.s)?0:this.s*T*(1-T),J=Math.cos(x),ge=Math.sin(x);return new nn(255*(T+z*(xn*J+zn*ge)),255*(T+z*(Re*J+He*ge)),255*(T+z*(At*J)),this.opacity)}}));function ce(x,T,z,J,ge){var Fe=x*x,rt=Fe*x;return((1-3*x+3*Fe-rt)*T+(4-6*Fe+3*rt)*z+(1+3*x+3*Fe-3*rt)*J+rt*ge)/6}function Qe(x){var T=x.length-1;return function(z){var J=z<=0?z=0:z>=1?(z=1,T-1):Math.floor(z*T),ge=x[J],Fe=x[J+1],rt=J>0?x[J-1]:2*ge-Fe,Ut=J<T-1?x[J+2]:2*Fe-ge;return ce((z-J/T)*T,rt,ge,Fe,Ut)}}function Rt(x){var T=x.length;return function(z){var J=Math.floor(((z%=1)<0?++z:z)*T),ge=x[(J+T-1)%T],Fe=x[J%T],rt=x[(J+1)%T],Ut=x[(J+2)%T];return ce((z-J/T)*T,ge,Fe,rt,Ut)}}var Et=x=>()=>x;function ln(x,T){return function(z){return x+z*T}}function S(x,T,z){return x=Math.pow(x,z),T=Math.pow(T,z)-x,z=1/z,function(J){return Math.pow(x+J*T,z)}}function B(x,T){var z=T-x;return z?ln(x,z>180||z<-180?z-360*Math.round(z/360):z):Et(isNaN(x)?T:x)}function ee(x){return(x=+x)==1?Ee:function(T,z){return z-T?S(T,z,x):Et(isNaN(T)?z:T)}}function Ee(x,T){var z=T-x;return z?ln(x,z):Et(isNaN(x)?T:x)}var ft=function x(T){var z=ee(T);function J(ge,Fe){var rt=z((ge=mt(ge)).r,(Fe=mt(Fe)).r),Ut=z(ge.g,Fe.g),Sn=z(ge.b,Fe.b),bn=Ee(ge.opacity,Fe.opacity);return function(kn){return ge.r=rt(kn),ge.g=Ut(kn),ge.b=Sn(kn),ge.opacity=bn(kn),ge+""}}return J.gamma=x,J}(1);function Ct(x){return function(T){var z=T.length,J=new Array(z),ge=new Array(z),Fe=new Array(z),rt,Ut;for(rt=0;rt<z;++rt)Ut=mt(T[rt]),J[rt]=Ut.r||0,ge[rt]=Ut.g||0,Fe[rt]=Ut.b||0;return J=x(J),ge=x(ge),Fe=x(Fe),Ut.opacity=1,function(Sn){return Ut.r=J(Sn),Ut.g=ge(Sn),Ut.b=Fe(Sn),Ut+""}}}var Jt=Ct(Qe),Kt=Ct(Rt);function hn(x,T){T||(T=[]);var z=x?Math.min(T.length,x.length):0,J=T.slice(),ge;return function(Fe){for(ge=0;ge<z;++ge)J[ge]=x[ge]*(1-Fe)+T[ge]*Fe;return J}}function Bn(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function jn(x,T){return(Bn(T)?hn:Vn)(x,T)}function Vn(x,T){var z=T?T.length:0,J=x?Math.min(z,x.length):0,ge=new Array(J),Fe=new Array(z),rt;for(rt=0;rt<J;++rt)ge[rt]=ts(x[rt],T[rt]);for(;rt<z;++rt)Fe[rt]=T[rt];return function(Ut){for(rt=0;rt<J;++rt)Fe[rt]=ge[rt](Ut);return Fe}}function Xr(x,T){var z=new Date;return x=+x,T=+T,function(J){return z.setTime(x*(1-J)+T*J),z}}function Wr(x,T){return x=+x,T=+T,function(z){return x*(1-z)+T*z}}function yr(x,T){var z={},J={},ge;(x===null||typeof x!="object")&&(x={}),(T===null||typeof T!="object")&&(T={});for(ge in T)ge in x?z[ge]=ts(x[ge],T[ge]):J[ge]=T[ge];return function(Fe){for(ge in z)J[ge]=z[ge](Fe);return J}}var Pr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vi=new RegExp(Pr.source,"g");function li(x){return function(){return x}}function Xi(x){return function(T){return x(T)+""}}function ws(x,T){var z=Pr.lastIndex=vi.lastIndex=0,J,ge,Fe,rt=-1,Ut=[],Sn=[];for(x=x+"",T=T+"";(J=Pr.exec(x))&&(ge=vi.exec(T));)(Fe=ge.index)>z&&(Fe=T.slice(z,Fe),Ut[rt]?Ut[rt]+=Fe:Ut[++rt]=Fe),(J=J[0])===(ge=ge[0])?Ut[rt]?Ut[rt]+=ge:Ut[++rt]=ge:(Ut[++rt]=null,Sn.push({i:rt,x:Wr(J,ge)})),z=vi.lastIndex;return z<T.length&&(Fe=T.slice(z),Ut[rt]?Ut[rt]+=Fe:Ut[++rt]=Fe),Ut.length<2?Sn[0]?Xi(Sn[0].x):li(T):(T=Sn.length,function(bn){for(var kn=0,$n;kn<T;++kn)Ut[($n=Sn[kn]).i]=$n.x(bn);return Ut.join("")})}function ts(x,T){var z=typeof T,J;return T==null||z==="boolean"?Et(T):(z==="number"?Wr:z==="string"?(J=$e(T))?(T=J,ft):ws:T instanceof $e?ft:T instanceof Date?Xr:Bn(T)?hn:Array.isArray(T)?Vn:typeof T.valueOf!="function"&&typeof T.toString!="function"||isNaN(T)?yr:Wr)(x,T)}function Ca(x){var T=x.length;return function(z){return x[Math.max(0,Math.min(T-1,Math.floor(z*T)))]}}function pa(x,T){var z=B(+x,+T);return function(J){var ge=z(J);return ge-360*Math.floor(ge/360)}}function hl(x,T){return x=+x,T=+T,function(z){return Math.round(x*(1-z)+T*z)}}var Sc=180/Math.PI,cu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fu(x,T,z,J,ge,Fe){var rt,Ut,Sn;return(rt=Math.sqrt(x*x+T*T))&&(x/=rt,T/=rt),(Sn=x*z+T*J)&&(z-=x*Sn,J-=T*Sn),(Ut=Math.sqrt(z*z+J*J))&&(z/=Ut,J/=Ut,Sn/=Ut),x*J<T*z&&(x=-x,T=-T,Sn=-Sn,rt=-rt),{translateX:ge,translateY:Fe,rotate:Math.atan2(T,x)*Sc,skewX:Math.atan(Sn)*Sc,scaleX:rt,scaleY:Ut}}var Xu;function Fu(x){let T=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(x+"");return T.isIdentity?cu:fu(T.a,T.b,T.c,T.d,T.e,T.f)}function wc(x){return x==null||(Xu||(Xu=document.createElementNS("http://www.w3.org/2000/svg","g")),Xu.setAttribute("transform",x),!(x=Xu.transform.baseVal.consolidate()))?cu:(x=x.matrix,fu(x.a,x.b,x.c,x.d,x.e,x.f))}function ta(x,T,z,J){function ge(bn){return bn.length?bn.pop()+" ":""}function Fe(bn,kn,$n,sr,Fr,Jr){if(bn!==$n||kn!==sr){var kr=Fr.push("translate(",null,T,null,z);Jr.push({i:kr-4,x:Wr(bn,$n)},{i:kr-2,x:Wr(kn,sr)})}else($n||sr)&&Fr.push("translate("+$n+T+sr+z)}function rt(bn,kn,$n,sr){bn!==kn?(bn-kn>180?kn+=360:kn-bn>180&&(bn+=360),sr.push({i:$n.push(ge($n)+"rotate(",null,J)-2,x:Wr(bn,kn)})):kn&&$n.push(ge($n)+"rotate("+kn+J)}function Ut(bn,kn,$n,sr){bn!==kn?sr.push({i:$n.push(ge($n)+"skewX(",null,J)-2,x:Wr(bn,kn)}):kn&&$n.push(ge($n)+"skewX("+kn+J)}function Sn(bn,kn,$n,sr,Fr,Jr){if(bn!==$n||kn!==sr){var kr=Fr.push(ge(Fr)+"scale(",null,",",null,")");Jr.push({i:kr-4,x:Wr(bn,$n)},{i:kr-2,x:Wr(kn,sr)})}else($n!==1||sr!==1)&&Fr.push(ge(Fr)+"scale("+$n+","+sr+")")}return function(bn,kn){var $n=[],sr=[];return bn=x(bn),kn=x(kn),Fe(bn.translateX,bn.translateY,kn.translateX,kn.translateY,$n,sr),rt(bn.rotate,kn.rotate,$n,sr),Ut(bn.skewX,kn.skewX,$n,sr),Sn(bn.scaleX,bn.scaleY,kn.scaleX,kn.scaleY,$n,sr),bn=kn=null,function(Fr){for(var Jr=-1,kr=sr.length,wi;++Jr<kr;)$n[(wi=sr[Jr]).i]=wi.x(Fr);return $n.join("")}}}var Zu=ta(Fu,"px, ","px)","deg)"),Qc=ta(wc,", ",")",")"),Ge=1e-12;function Gt(x){return((x=Math.exp(x))+1/x)/2}function Mn(x){return((x=Math.exp(x))-1/x)/2}function Yn(x){return((x=Math.exp(2*x))-1)/(x+1)}var si=function x(T,z,J){function ge(Fe,rt){var Ut=Fe[0],Sn=Fe[1],bn=Fe[2],kn=rt[0],$n=rt[1],sr=rt[2],Fr=kn-Ut,Jr=$n-Sn,kr=Fr*Fr+Jr*Jr,wi,Pi;if(kr<Ge)Pi=Math.log(sr/bn)/T,wi=function(Ki){return[Ut+Ki*Fr,Sn+Ki*Jr,bn*Math.exp(T*Ki*Pi)]};else{var Ds=Math.sqrt(kr),fs=(sr*sr-bn*bn+J*kr)/(2*bn*z*Ds),Xs=(sr*sr-bn*bn-J*kr)/(2*sr*z*Ds),Gs=Math.log(Math.sqrt(fs*fs+1)-fs),Yr=Math.log(Math.sqrt(Xs*Xs+1)-Xs);Pi=(Yr-Gs)/T,wi=function(Ki){var Ha=Ki*Pi,eu=Gt(Gs),Iu=bn/(z*Ds)*(eu*Yn(T*Ha+Gs)-Mn(Gs));return[Ut+Iu*Fr,Sn+Iu*Jr,bn*eu/Gt(T*Ha+Gs)]}}return wi.duration=Pi*1e3*T/Math.SQRT2,wi}return ge.rho=function(Fe){var rt=Math.max(.001,+Fe),Ut=rt*rt,Sn=Ut*Ut;return x(rt,Ut,Sn)},ge}(Math.SQRT2,2,4);function jr(x){return function(T,z){var J=x((T=ar(T)).h,(z=ar(z)).h),ge=Ee(T.s,z.s),Fe=Ee(T.l,z.l),rt=Ee(T.opacity,z.opacity);return function(Ut){return T.h=J(Ut),T.s=ge(Ut),T.l=Fe(Ut),T.opacity=rt(Ut),T+""}}}var Zr=jr(B),Cs=jr(Ee);function fo(x,T){var z=Ee((x=_t(x)).l,(T=_t(T)).l),J=Ee(x.a,T.a),ge=Ee(x.b,T.b),Fe=Ee(x.opacity,T.opacity);return function(rt){return x.l=z(rt),x.a=J(rt),x.b=ge(rt),x.opacity=Fe(rt),x+""}}function ro(x){return function(T,z){var J=x((T=sn(T)).h,(z=sn(z)).h),ge=Ee(T.c,z.c),Fe=Ee(T.l,z.l),rt=Ee(T.opacity,z.opacity);return function(Ut){return T.h=J(Ut),T.c=ge(Ut),T.l=Fe(Ut),T.opacity=rt(Ut),T+""}}}var hs=ro(B),io=ro(Ee);function ho(x){return function T(z){z=+z;function J(ge,Fe){var rt=x((ge=Y(ge)).h,(Fe=Y(Fe)).h),Ut=Ee(ge.s,Fe.s),Sn=Ee(ge.l,Fe.l),bn=Ee(ge.opacity,Fe.opacity);return function(kn){return ge.h=rt(kn),ge.s=Ut(kn),ge.l=Sn(Math.pow(kn,z)),ge.opacity=bn(kn),ge+""}}return J.gamma=T,J}(1)}var xi=ho(B),Ci=ho(Ee);function Wi(x,T){T===void 0&&(T=x,x=ts);for(var z=0,J=T.length-1,ge=T[0],Fe=new Array(J<0?0:J);z<J;)Fe[z]=x(ge,ge=T[++z]);return function(rt){var Ut=Math.max(0,Math.min(J-1,Math.floor(rt*=J)));return Fe[Ut](rt-Ut)}}function Xo(x,T){for(var z=new Array(T),J=0;J<T;++J)z[J]=x(J/(T-1));return z}var fa=Object.freeze({__proto__:null,interpolate:ts,interpolateArray:jn,interpolateBasis:Qe,interpolateBasisClosed:Rt,interpolateDate:Xr,interpolateDiscrete:Ca,interpolateHue:pa,interpolateNumber:Wr,interpolateNumberArray:hn,interpolateObject:yr,interpolateRound:hl,interpolateString:ws,interpolateTransformCss:Zu,interpolateTransformSvg:Qc,interpolateZoom:si,interpolateRgb:ft,interpolateRgbBasis:Jt,interpolateRgbBasisClosed:Kt,interpolateHsl:Zr,interpolateHslLong:Cs,interpolateLab:fo,interpolateHcl:hs,interpolateHclLong:io,interpolateCubehelix:xi,interpolateCubehelixLong:Ci,piecewise:Wi,quantize:Xo});function da(x){return function(){return x}}function po(x){return+x}var us=[0,1];function ps(x){return x}function Zi(x,T){return(T-=x=+x)?function(z){return(z-x)/T}:da(isNaN(T)?NaN:.5)}function du(x,T){var z;return x>T&&(z=x,x=T,T=z),function(J){return Math.max(x,Math.min(T,J))}}function Is(x,T,z){var J=x[0],ge=x[1],Fe=T[0],rt=T[1];return ge<J?(J=Zi(ge,J),Fe=z(rt,Fe)):(J=Zi(J,ge),Fe=z(Fe,rt)),function(Ut){return Fe(J(Ut))}}function ma(x,T,z){var J=Math.min(x.length,T.length)-1,ge=new Array(J),Fe=new Array(J),rt=-1;for(x[J]<x[0]&&(x=x.slice().reverse(),T=T.slice().reverse());++rt<J;)ge[rt]=Zi(x[rt],x[rt+1]),Fe[rt]=z(T[rt],T[rt+1]);return function(Ut){var Sn=te(x,Ut,1,J)-1;return Fe[Sn](ge[Sn](Ut))}}function oa(x,T){return T.domain(x.domain()).range(x.range()).interpolate(x.interpolate()).clamp(x.clamp()).unknown(x.unknown())}function ki(){var x=us,T=us,z=ts,J,ge,Fe,rt=ps,Ut,Sn,bn;function kn(){var sr=Math.min(x.length,T.length);return rt!==ps&&(rt=du(x[0],x[sr-1])),Ut=sr>2?ma:Is,Sn=bn=null,$n}function $n(sr){return sr==null||isNaN(sr=+sr)?Fe:(Sn||(Sn=Ut(x.map(J),T,z)))(J(rt(sr)))}return $n.invert=function(sr){return rt(ge((bn||(bn=Ut(T,x.map(J),Wr)))(sr)))},$n.domain=function(sr){return arguments.length?(x=Array.from(sr,po),kn()):x.slice()},$n.range=function(sr){return arguments.length?(T=Array.from(sr),kn()):T.slice()},$n.rangeRound=function(sr){return T=Array.from(sr),z=hl,kn()},$n.clamp=function(sr){return arguments.length?(rt=sr?!0:ps,kn()):rt!==ps},$n.interpolate=function(sr){return arguments.length?(z=sr,kn()):z},$n.unknown=function(sr){return arguments.length?(Fe=sr,$n):Fe},function(sr,Fr){return J=sr,ge=Fr,kn()}}function Vo(){return ki()(ps,ps)}function vs(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function Bi(x,T){if((z=(x=T?x.toExponential(T-1):x.toExponential()).indexOf("e"))<0)return null;var z,J=x.slice(0,z);return[J.length>1?J[0]+J.slice(2):J,+x.slice(z+1)]}function Oo(x){return x=Bi(Math.abs(x)),x?x[1]:NaN}function Na(x,T){return function(z,J){for(var ge=z.length,Fe=[],rt=0,Ut=x[0],Sn=0;ge>0&&Ut>0&&(Sn+Ut+1>J&&(Ut=Math.max(1,J-Sn)),Fe.push(z.substring(ge-=Ut,ge+Ut)),!((Sn+=Ut+1)>J));)Ut=x[rt=(rt+1)%x.length];return Fe.reverse().join(T)}}function Ja(x){return function(T){return T.replace(/[0-9]/g,function(z){return x[+z]})}}var Ro=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function To(x){if(!(T=Ro.exec(x)))throw new Error("invalid format: "+x);var T;return new qa({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}To.prototype=qa.prototype;function qa(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}qa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hu(x){e:for(var T=x.length,z=1,J=-1,ge;z<T;++z)switch(x[z]){case".":J=ge=z;break;case"0":J===0&&(J=z),ge=z;break;default:if(!+x[z])break e;J>0&&(J=0);break}return J>0?x.slice(0,J)+x.slice(ge+1):x}var Ua;function aa(x,T){var z=Bi(x,T);if(!z)return x+"";var J=z[0],ge=z[1],Fe=ge-(Ua=Math.max(-8,Math.min(8,Math.floor(ge/3)))*3)+1,rt=J.length;return Fe===rt?J:Fe>rt?J+new Array(Fe-rt+1).join("0"):Fe>0?J.slice(0,Fe)+"."+J.slice(Fe):"0."+new Array(1-Fe).join("0")+Bi(x,Math.max(0,T+Fe-1))[0]}function ua(x,T){var z=Bi(x,T);if(!z)return x+"";var J=z[0],ge=z[1];return ge<0?"0."+new Array(-ge).join("0")+J:J.length>ge+1?J.slice(0,ge+1)+"."+J.slice(ge+1):J+new Array(ge-J.length+2).join("0")}var pl={"%":(x,T)=>(x*100).toFixed(T),b:x=>Math.round(x).toString(2),c:x=>x+"",d:vs,e:(x,T)=>x.toExponential(T),f:(x,T)=>x.toFixed(T),g:(x,T)=>x.toPrecision(T),o:x=>Math.round(x).toString(8),p:(x,T)=>ua(x*100,T),r:ua,s:aa,X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function Pl(x){return x}var na=Array.prototype.map,el=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ci(x){var T=x.grouping===void 0||x.thousands===void 0?Pl:Na(na.call(x.grouping,Number),x.thousands+""),z=x.currency===void 0?"":x.currency[0]+"",J=x.currency===void 0?"":x.currency[1]+"",ge=x.decimal===void 0?".":x.decimal+"",Fe=x.numerals===void 0?Pl:Ja(na.call(x.numerals,String)),rt=x.percent===void 0?"%":x.percent+"",Ut=x.minus===void 0?"\u2212":x.minus+"",Sn=x.nan===void 0?"NaN":x.nan+"";function bn($n){$n=To($n);var sr=$n.fill,Fr=$n.align,Jr=$n.sign,kr=$n.symbol,wi=$n.zero,Pi=$n.width,Ds=$n.comma,fs=$n.precision,Xs=$n.trim,Gs=$n.type;Gs==="n"?(Ds=!0,Gs="g"):pl[Gs]||(fs===void 0&&(fs=12),Xs=!0,Gs="g"),(wi||sr==="0"&&Fr==="=")&&(wi=!0,sr="0",Fr="=");var Yr=kr==="$"?z:kr==="#"&&/[boxX]/.test(Gs)?"0"+Gs.toLowerCase():"",Ki=kr==="$"?J:/[%p]/.test(Gs)?rt:"",Ha=pl[Gs],eu=/[defgprs%]/.test(Gs);fs=fs===void 0?6:/[gprs]/.test(Gs)?Math.max(1,Math.min(21,fs)):Math.max(0,Math.min(20,fs));function Iu(bs){var Ma=Yr,$a=Ki,wl,qd,ol;if(Gs==="c")$a=Ha(bs)+$a,bs="";else{bs=+bs;var c0=bs<0||1/bs<0;if(bs=isNaN(bs)?Sn:Ha(Math.abs(bs),fs),Xs&&(bs=hu(bs)),c0&&+bs==0&&Jr!=="+"&&(c0=!1),Ma=(c0?Jr==="("?Jr:Ut:Jr==="-"||Jr==="("?"":Jr)+Ma,$a=(Gs==="s"?el[8+Ua/3]:"")+$a+(c0&&Jr==="("?")":""),eu){for(wl=-1,qd=bs.length;++wl<qd;)if(ol=bs.charCodeAt(wl),48>ol||ol>57){$a=(ol===46?ge+bs.slice(wl+1):bs.slice(wl))+$a,bs=bs.slice(0,wl);break}}}Ds&&!wi&&(bs=T(bs,1/0));var _a=Ma.length+bs.length+$a.length,sc=_a<Pi?new Array(Pi-_a+1).join(sr):"";switch(Ds&&wi&&(bs=T(sc+bs,sc.length?Pi-$a.length:1/0),sc=""),Fr){case"<":bs=Ma+bs+$a+sc;break;case"=":bs=Ma+sc+bs+$a;break;case"^":bs=sc.slice(0,_a=sc.length>>1)+Ma+bs+$a+sc.slice(_a);break;default:bs=sc+Ma+bs+$a;break}return Fe(bs)}return Iu.toString=function(){return $n+""},Iu}function kn($n,sr){var Fr=bn(($n=To($n),$n.type="f",$n)),Jr=Math.max(-8,Math.min(8,Math.floor(Oo(sr)/3)))*3,kr=Math.pow(10,-Jr),wi=el[8+Jr/3];return function(Pi){return Fr(kr*Pi)+wi}}return{format:bn,formatPrefix:kn}}var rs,ls,pr;as({thousands:",",grouping:[3],currency:["$",""]});function as(x){return rs=ci(x),ls=rs.format,pr=rs.formatPrefix,rs}function Me(x){return Math.max(0,-Oo(Math.abs(x)))}function pt(x,T){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oo(T)/3)))*3-Oo(Math.abs(x)))}function Yt(x,T){return x=Math.abs(x),T=Math.abs(T)-x,Math.max(0,Oo(T)-Oo(x))+1}function Bt(x,T,z,J){var ge=Lt(x,T,z),Fe;switch(J=To(J??",f"),J.type){case"s":{var rt=Math.max(Math.abs(x),Math.abs(T));return J.precision==null&&!isNaN(Fe=pt(ge,rt))&&(J.precision=Fe),pr(J,rt)}case"":case"e":case"g":case"p":case"r":{J.precision==null&&!isNaN(Fe=Yt(ge,Math.max(Math.abs(x),Math.abs(T))))&&(J.precision=Fe-(J.type==="e"));break}case"f":case"%":{J.precision==null&&!isNaN(Fe=Me(ge))&&(J.precision=Fe-(J.type==="%")*2);break}}return ls(J)}function dn(x){var T=x.domain;return x.ticks=function(z){var J=T();return wt(J[0],J[J.length-1],z??10)},x.tickFormat=function(z,J){var ge=T();return Bt(ge[0],ge[ge.length-1],z??10,J)},x.nice=function(z){z==null&&(z=10);var J=T(),ge=0,Fe=J.length-1,rt=J[ge],Ut=J[Fe],Sn,bn,kn=10;for(Ut<rt&&(bn=rt,rt=Ut,Ut=bn,bn=ge,ge=Fe,Fe=bn);kn-- >0;){if(bn=mn(rt,Ut,z),bn===Sn)return J[ge]=rt,J[Fe]=Ut,T(J);if(bn>0)rt=Math.floor(rt/bn)*bn,Ut=Math.ceil(Ut/bn)*bn;else if(bn<0)rt=Math.ceil(rt*bn)/bn,Ut=Math.floor(Ut*bn)/bn;else break;Sn=bn}return x},x}function Nn(){var x=Vo();return x.copy=function(){return oa(x,Nn())},it.apply(x,arguments),dn(x)}function Kn(x){var T;function z(J){return J==null||isNaN(J=+J)?T:J}return z.invert=z,z.domain=z.range=function(J){return arguments.length?(x=Array.from(J,po),z):x.slice()},z.unknown=function(J){return arguments.length?(T=J,z):T},z.copy=function(){return Kn(x).unknown(T)},x=arguments.length?Array.from(x,po):[0,1],dn(z)}function Un(x,T){x=x.slice();var z=0,J=x.length-1,ge=x[z],Fe=x[J],rt;return Fe<ge&&(rt=z,z=J,J=rt,rt=ge,ge=Fe,Fe=rt),x[z]=T.floor(ge),x[J]=T.ceil(Fe),x}function br(x){return Math.log(x)}function wr(x){return Math.exp(x)}function Gn(x){return-Math.log(-x)}function ur(x){return-Math.exp(-x)}function tr(x){return isFinite(x)?+("1e"+x):x<0?0:x}function gr(x){return x===10?tr:x===Math.E?Math.exp:T=>Math.pow(x,T)}function Or(x){return x===Math.E?Math.log:x===10&&Math.log10||x===2&&Math.log2||(x=Math.log(x),T=>Math.log(T)/x)}function mi(x){return(T,z)=>-x(-T,z)}function ii(x){let T=x(br,wr),z=T.domain,J=10,ge,Fe;function rt(){return ge=Or(J),Fe=gr(J),z()[0]<0?(ge=mi(ge),Fe=mi(Fe),x(Gn,ur)):x(br,wr),T}return T.base=function(Ut){return arguments.length?(J=+Ut,rt()):J},T.domain=function(Ut){return arguments.length?(z(Ut),rt()):z()},T.ticks=Ut=>{let Sn=z(),bn=Sn[0],kn=Sn[Sn.length-1],$n=kn<bn;$n&&([bn,kn]=[kn,bn]);let sr=ge(bn),Fr=ge(kn),Jr,kr,wi=Ut==null?10:+Ut,Pi=[];if(!(J%1)&&Fr-sr<wi){if(sr=Math.floor(sr),Fr=Math.ceil(Fr),bn>0){for(;sr<=Fr;++sr)for(Jr=1;Jr<J;++Jr)if(kr=sr<0?Jr/Fe(-sr):Jr*Fe(sr),!(kr<bn)){if(kr>kn)break;Pi.push(kr)}}else for(;sr<=Fr;++sr)for(Jr=J-1;Jr>=1;--Jr)if(kr=sr>0?Jr/Fe(-sr):Jr*Fe(sr),!(kr<bn)){if(kr>kn)break;Pi.push(kr)}Pi.length*2<wi&&(Pi=wt(bn,kn,wi))}else Pi=wt(sr,Fr,Math.min(Fr-sr,wi)).map(Fe);return $n?Pi.reverse():Pi},T.tickFormat=(Ut,Sn)=>{if(Ut==null&&(Ut=10),Sn==null&&(Sn=J===10?"s":","),typeof Sn!="function"&&(!(J%1)&&(Sn=To(Sn)).precision==null&&(Sn.trim=!0),Sn=ls(Sn)),Ut===1/0)return Sn;let bn=Math.max(1,J*Ut/T.ticks().length);return kn=>{let $n=kn/Fe(Math.round(ge(kn)));return $n*J<J-.5&&($n*=J),$n<=bn?Sn(kn):""}},T.nice=()=>z(Un(z(),{floor:Ut=>Fe(Math.floor(ge(Ut))),ceil:Ut=>Fe(Math.ceil(ge(Ut)))})),T}function gi(){let x=ii(ki()).domain([1,10]);return x.copy=()=>oa(x,gi()).base(x.base()),it.apply(x,arguments),x}function oi(x){return function(T){return Math.sign(T)*Math.log1p(Math.abs(T/x))}}function Ur(x){return function(T){return Math.sign(T)*Math.expm1(Math.abs(T))*x}}function Ir(x){var T=1,z=x(oi(T),Ur(T));return z.constant=function(J){return arguments.length?x(oi(T=+J),Ur(T)):T},dn(z)}function bi(){var x=Ir(ki());return x.copy=function(){return oa(x,bi()).constant(x.constant())},it.apply(x,arguments)}function _i(x){return function(T){return T<0?-Math.pow(-T,x):Math.pow(T,x)}}function os(x){return x<0?-Math.sqrt(-x):Math.sqrt(x)}function gs(x){return x<0?-x*x:x*x}function Ei(x){var T=x(ps,ps),z=1;function J(){return z===1?x(ps,ps):z===.5?x(os,gs):x(_i(z),_i(1/z))}return T.exponent=function(ge){return arguments.length?(z=+ge,J()):z},dn(T)}function Ms(){var x=Ei(ki());return x.copy=function(){return oa(x,Ms()).exponent(x.exponent())},it.apply(x,arguments),x}function is(){return Ms.apply(null,arguments).exponent(.5)}function xa(){var x=[],T=[],z=[],J;function ge(){var rt=0,Ut=Math.max(1,T.length);for(z=new Array(Ut-1);++rt<Ut;)z[rt-1]=It(x,rt/Ut);return Fe}function Fe(rt){return rt==null||isNaN(rt=+rt)?J:T[te(z,rt)]}return Fe.invertExtent=function(rt){var Ut=T.indexOf(rt);return Ut<0?[NaN,NaN]:[Ut>0?z[Ut-1]:x[0],Ut<z.length?z[Ut]:x[x.length-1]]},Fe.domain=function(rt){if(!arguments.length)return x.slice();x=[];for(let Ut of rt)Ut!=null&&!isNaN(Ut=+Ut)&&x.push(Ut);return x.sort(lt),ge()},Fe.range=function(rt){return arguments.length?(T=Array.from(rt),ge()):T.slice()},Fe.unknown=function(rt){return arguments.length?(J=rt,Fe):J},Fe.quantiles=function(){return z.slice()},Fe.copy=function(){return xa().domain(x).range(T).unknown(J)},it.apply(Fe,arguments)}function No(){var x=0,T=1,z=1,J=[.5],ge=[0,1],Fe;function rt(Sn){return Sn!=null&&Sn<=Sn?ge[te(J,Sn,0,z)]:Fe}function Ut(){var Sn=-1;for(J=new Array(z);++Sn<z;)J[Sn]=((Sn+1)*T-(Sn-z)*x)/(z+1);return rt}return rt.domain=function(Sn){return arguments.length?([x,T]=Sn,x=+x,T=+T,Ut()):[x,T]},rt.range=function(Sn){return arguments.length?(z=(ge=Array.from(Sn)).length-1,Ut()):ge.slice()},rt.invertExtent=function(Sn){var bn=ge.indexOf(Sn);return bn<0?[NaN,NaN]:bn<1?[x,J[0]]:bn>=z?[J[z-1],T]:[J[bn-1],J[bn]]},rt.unknown=function(Sn){return arguments.length&&(Fe=Sn),rt},rt.thresholds=function(){return J.slice()},rt.copy=function(){return No().domain([x,T]).range(ge).unknown(Fe)},it.apply(dn(rt),arguments)}function As(){var x=[.5],T=[0,1],z,J=1;function ge(Fe){return Fe!=null&&Fe<=Fe?T[te(x,Fe,0,J)]:z}return ge.domain=function(Fe){return arguments.length?(x=Array.from(Fe),J=Math.min(x.length,T.length-1),ge):x.slice()},ge.range=function(Fe){return arguments.length?(T=Array.from(Fe),J=Math.min(x.length,T.length-1),ge):T.slice()},ge.invertExtent=function(Fe){var rt=T.indexOf(Fe);return[x[rt-1],x[rt]]},ge.unknown=function(Fe){return arguments.length?(z=Fe,ge):z},ge.copy=function(){return As().domain(x).range(T).unknown(z)},it.apply(ge,arguments)}var Zt=new Date,Jn=new Date;function vn(x,T,z,J){function ge(Fe){return x(Fe=arguments.length===0?new Date:new Date(+Fe)),Fe}return ge.floor=function(Fe){return x(Fe=new Date(+Fe)),Fe},ge.ceil=function(Fe){return x(Fe=new Date(Fe-1)),T(Fe,1),x(Fe),Fe},ge.round=function(Fe){var rt=ge(Fe),Ut=ge.ceil(Fe);return Fe-rt<Ut-Fe?rt:Ut},ge.offset=function(Fe,rt){return T(Fe=new Date(+Fe),rt==null?1:Math.floor(rt)),Fe},ge.range=function(Fe,rt,Ut){var Sn=[],bn;if(Fe=ge.ceil(Fe),Ut=Ut==null?1:Math.floor(Ut),!(Fe<rt)||!(Ut>0))return Sn;do Sn.push(bn=new Date(+Fe)),T(Fe,Ut),x(Fe);while(bn<Fe&&Fe<rt);return Sn},ge.filter=function(Fe){return vn(function(rt){if(rt>=rt)for(;x(rt),!Fe(rt);)rt.setTime(rt-1)},function(rt,Ut){if(rt>=rt)if(Ut<0)for(;++Ut<=0;)for(;T(rt,-1),!Fe(rt););else for(;--Ut>=0;)for(;T(rt,1),!Fe(rt););})},z&&(ge.count=function(Fe,rt){return Zt.setTime(+Fe),Jn.setTime(+rt),x(Zt),x(Jn),Math.floor(z(Zt,Jn))},ge.every=function(Fe){return Fe=Math.floor(Fe),!isFinite(Fe)||!(Fe>0)?null:Fe>1?ge.filter(J?function(rt){return J(rt)%Fe===0}:function(rt){return ge.count(0,rt)%Fe===0}):ge}),ge}var Kr=vn(function(){},function(x,T){x.setTime(+x+T)},function(x,T){return T-x});Kr.every=function(x){return x=Math.floor(x),!isFinite(x)||!(x>0)?null:x>1?vn(function(T){T.setTime(Math.floor(T/x)*x)},function(T,z){T.setTime(+T+z*x)},function(T,z){return(z-T)/x}):Kr};var Oi=Kr;let ns=1e3,ms=ns*60,$i=ms*60,cs=$i*24,pu=cs*7,ae=cs*30,ot=cs*365;var Xt=vn(function(x){x.setTime(x-x.getMilliseconds())},function(x,T){x.setTime(+x+T*ns)},function(x,T){return(T-x)/ns},function(x){return x.getUTCSeconds()}),Tn=Xt,rr=vn(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*ns)},function(x,T){x.setTime(+x+T*ms)},function(x,T){return(T-x)/ms},function(x){return x.getMinutes()}),vr=rr,dr=vn(function(x){x.setTime(x-x.getMilliseconds()-x.getSeconds()*ns-x.getMinutes()*ms)},function(x,T){x.setTime(+x+T*$i)},function(x,T){return(T-x)/$i},function(x){return x.getHours()}),es=dr,_s=vn(x=>x.setHours(0,0,0,0),(x,T)=>x.setDate(x.getDate()+T),(x,T)=>(T-x-(T.getTimezoneOffset()-x.getTimezoneOffset())*ms)/cs,x=>x.getDate()-1),Rs=_s;function so(x){return vn(function(T){T.setDate(T.getDate()-(T.getDay()+7-x)%7),T.setHours(0,0,0,0)},function(T,z){T.setDate(T.getDate()+z*7)},function(T,z){return(z-T-(z.getTimezoneOffset()-T.getTimezoneOffset())*ms)/pu})}var Xa=so(0),Xl=so(1);so(2),so(3);var Gc=so(4);so(5),so(6);var Cc=vn(function(x){x.setDate(1),x.setHours(0,0,0,0)},function(x,T){x.setMonth(x.getMonth()+T)},function(x,T){return T.getMonth()-x.getMonth()+(T.getFullYear()-x.getFullYear())*12},function(x){return x.getMonth()}),e0=Cc,U0=vn(function(x){x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,T){x.setFullYear(x.getFullYear()+T)},function(x,T){return T.getFullYear()-x.getFullYear()},function(x){return x.getFullYear()});U0.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:vn(function(T){T.setFullYear(Math.floor(T.getFullYear()/x)*x),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,z){T.setFullYear(T.getFullYear()+z*x)})};var Zl=U0,Yc=vn(function(x){x.setUTCSeconds(0,0)},function(x,T){x.setTime(+x+T*ms)},function(x,T){return(T-x)/ms},function(x){return x.getUTCMinutes()}),t0=Yc,ml=vn(function(x){x.setUTCMinutes(0,0,0)},function(x,T){x.setTime(+x+T*$i)},function(x,T){return(T-x)/$i},function(x){return x.getUTCHours()}),Ac=ml,n0=vn(function(x){x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCDate(x.getUTCDate()+T)},function(x,T){return(T-x)/cs},function(x){return x.getUTCDate()-1}),ec=n0;function Bl(x){return vn(function(T){T.setUTCDate(T.getUTCDate()-(T.getUTCDay()+7-x)%7),T.setUTCHours(0,0,0,0)},function(T,z){T.setUTCDate(T.getUTCDate()+z*7)},function(T,z){return(z-T)/pu})}var z0=Bl(0),yh=Bl(1);Bl(2),Bl(3);var H0=Bl(4);Bl(5),Bl(6);var $0=vn(function(x){x.setUTCDate(1),x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCMonth(x.getUTCMonth()+T)},function(x,T){return T.getUTCMonth()-x.getUTCMonth()+(T.getUTCFullYear()-x.getUTCFullYear())*12},function(x){return x.getUTCMonth()}),Kc=$0,V0=vn(function(x){x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,T){x.setUTCFullYear(x.getUTCFullYear()+T)},function(x,T){return T.getUTCFullYear()-x.getUTCFullYear()},function(x){return x.getUTCFullYear()});V0.every=function(x){return!isFinite(x=Math.floor(x))||!(x>0)?null:vn(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/x)*x),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,z){T.setUTCFullYear(T.getUTCFullYear()+z*x)})};var Tc=V0;function r0(x,T,z,J,ge,Fe){let rt=[[Tn,1,ns],[Tn,5,5*ns],[Tn,15,15*ns],[Tn,30,30*ns],[Fe,1,ms],[Fe,5,5*ms],[Fe,15,15*ms],[Fe,30,30*ms],[ge,1,$i],[ge,3,3*$i],[ge,6,6*$i],[ge,12,12*$i],[J,1,cs],[J,2,2*cs],[z,1,pu],[T,1,ae],[T,3,3*ae],[x,1,ot]];function Ut(bn,kn,$n){let sr=kn<bn;sr&&([bn,kn]=[kn,bn]);let Fr=$n&&typeof $n.range=="function"?$n:Sn(bn,kn,$n),Jr=Fr?Fr.range(bn,+kn+1):[];return sr?Jr.reverse():Jr}function Sn(bn,kn,$n){let sr=Math.abs(kn-bn)/$n,Fr=Ke(([,,wi])=>wi).right(rt,sr);if(Fr===rt.length)return x.every(Lt(bn/ot,kn/ot,$n));if(Fr===0)return Oi.every(Math.max(Lt(bn,kn,$n),1));let[Jr,kr]=rt[sr/rt[Fr-1][2]<rt[Fr][2]/sr?Fr-1:Fr];return Jr.every(kr)}return[Ut,Sn]}let[i0,s0]=r0(Tc,Kc,z0,ec,Ac,t0),[Uo,Zo]=r0(Zl,e0,Xa,Rs,es,vr);function o0(x){if(0<=x.y&&x.y<100){var T=new Date(-1,x.m,x.d,x.H,x.M,x.S,x.L);return T.setFullYear(x.y),T}return new Date(x.y,x.m,x.d,x.H,x.M,x.S,x.L)}function xl(x){if(0<=x.y&&x.y<100){var T=new Date(Date.UTC(-1,x.m,x.d,x.H,x.M,x.S,x.L));return T.setUTCFullYear(x.y),T}return new Date(Date.UTC(x.y,x.m,x.d,x.H,x.M,x.S,x.L))}function Jc(x,T,z){return{y:x,m:T,d:z,H:0,M:0,S:0,L:0}}function Ld(x){var T=x.dateTime,z=x.date,J=x.time,ge=x.periods,Fe=x.days,rt=x.shortDays,Ut=x.months,Sn=x.shortMonths,bn=k(ge),kn=X(ge),$n=k(Fe),sr=X(Fe),Fr=k(rt),Jr=X(rt),kr=k(Ut),wi=X(Ut),Pi=k(Sn),Ds=X(Sn),fs={a:c0,A:_a,b:sc,B:Ud,c:null,d:ka,e:ka,f:tl,g:Hr,G:R1,H:nc,I:ya,j:Xc,L:Zc,m:rc,M:O1,p:B1,q:lp,Q:Oc,s:bh,S:Fc,u:jm,U:ql,V:Dc,w:qr,W:W0,x:null,X:null,y:Q0,Y:vl,Z:ep,"%":il},Xs={a:f0,A:Um,b:Ly,B:Bx,c:null,d:bo,e:bo,f:kx,g:_l,G:Ou,H:G0,I:kd,j:Y0,L:ef,m:Ix,M:_h,p:jx,q:j1,Q:Oc,s:bh,S:tf,u:nl,U:Id,V:N1,w:rl,W:K0,x:null,X:null,y:wf,Y:np,Z:L1,"%":il},Gs={a:Iu,A:bs,b:Ma,B:$a,c:wl,d:Qi,e:Qi,f:mo,g:hr,G:ir,H:Gr,I:Gr,j:Mi,L:ga,m:Ri,M:Qs,p:eu,q:tt,Q:tc,s:jl,S:zo,u:Ot,U:zt,V:Cn,w:Ue,W:Ln,x:qd,X:ol,y:hr,Y:ir,Z:Nr,"%":La};fs.x=Yr(z,fs),fs.X=Yr(J,fs),fs.c=Yr(T,fs),Xs.x=Yr(z,Xs),Xs.X=Yr(J,Xs),Xs.c=Yr(T,Xs);function Yr(Tr,Ps){return function(Eo){var zr=[],of=-1,Dr=0,oc=Tr.length,So,ac,ky;for(Eo instanceof Date||(Eo=new Date(+Eo));++of<oc;)Tr.charCodeAt(of)===37&&(zr.push(Tr.slice(Dr,of)),(ac=Du[So=Tr.charAt(++of)])!=null?So=Tr.charAt(++of):ac=So==="e"?" ":"0",(ky=Ps[So])&&(So=ky(Eo,ac)),zr.push(So),Dr=of+1);return zr.push(Tr.slice(Dr,of)),zr.join("")}}function Ki(Tr,Ps){return function(Eo){var zr=Jc(1900,void 0,1),of=Ha(zr,Tr,Eo+="",0),Dr,oc;if(of!=Eo.length)return null;if("Q"in zr)return new Date(zr.Q);if("s"in zr)return new Date(zr.s*1e3+("L"in zr?zr.L:0));if(Ps&&!("Z"in zr)&&(zr.Z=0),"p"in zr&&(zr.H=zr.H%12+zr.p*12),zr.m===void 0&&(zr.m="q"in zr?zr.q:0),"V"in zr){if(zr.V<1||zr.V>53)return null;"w"in zr||(zr.w=1),"Z"in zr?(Dr=xl(Jc(zr.y,0,1)),oc=Dr.getUTCDay(),Dr=oc>4||oc===0?yh.ceil(Dr):yh(Dr),Dr=ec.offset(Dr,(zr.V-1)*7),zr.y=Dr.getUTCFullYear(),zr.m=Dr.getUTCMonth(),zr.d=Dr.getUTCDate()+(zr.w+6)%7):(Dr=o0(Jc(zr.y,0,1)),oc=Dr.getDay(),Dr=oc>4||oc===0?Xl.ceil(Dr):Xl(Dr),Dr=Rs.offset(Dr,(zr.V-1)*7),zr.y=Dr.getFullYear(),zr.m=Dr.getMonth(),zr.d=Dr.getDate()+(zr.w+6)%7)}else("W"in zr||"U"in zr)&&("w"in zr||(zr.w="u"in zr?zr.u%7:"W"in zr?1:0),oc="Z"in zr?xl(Jc(zr.y,0,1)).getUTCDay():o0(Jc(zr.y,0,1)).getDay(),zr.m=0,zr.d="W"in zr?(zr.w+6)%7+zr.W*7-(oc+5)%7:zr.w+zr.U*7-(oc+6)%7);return"Z"in zr?(zr.H+=zr.Z/100|0,zr.M+=zr.Z%100,xl(zr)):o0(zr)}}function Ha(Tr,Ps,Eo,zr){for(var of=0,Dr=Ps.length,oc=Eo.length,So,ac;of<Dr;){if(zr>=oc)return-1;if(So=Ps.charCodeAt(of++),So===37){if(So=Ps.charAt(of++),ac=Gs[So in Du?Ps.charAt(of++):So],!ac||(zr=ac(Tr,Eo,zr))<0)return-1}else if(So!=Eo.charCodeAt(zr++))return-1}return zr}function eu(Tr,Ps,Eo){var zr=bn.exec(Ps.slice(Eo));return zr?(Tr.p=kn.get(zr[0].toLowerCase()),Eo+zr[0].length):-1}function Iu(Tr,Ps,Eo){var zr=Fr.exec(Ps.slice(Eo));return zr?(Tr.w=Jr.get(zr[0].toLowerCase()),Eo+zr[0].length):-1}function bs(Tr,Ps,Eo){var zr=$n.exec(Ps.slice(Eo));return zr?(Tr.w=sr.get(zr[0].toLowerCase()),Eo+zr[0].length):-1}function Ma(Tr,Ps,Eo){var zr=Pi.exec(Ps.slice(Eo));return zr?(Tr.m=Ds.get(zr[0].toLowerCase()),Eo+zr[0].length):-1}function $a(Tr,Ps,Eo){var zr=kr.exec(Ps.slice(Eo));return zr?(Tr.m=wi.get(zr[0].toLowerCase()),Eo+zr[0].length):-1}function wl(Tr,Ps,Eo){return Ha(Tr,T,Ps,Eo)}function qd(Tr,Ps,Eo){return Ha(Tr,z,Ps,Eo)}function ol(Tr,Ps,Eo){return Ha(Tr,J,Ps,Eo)}function c0(Tr){return rt[Tr.getDay()]}function _a(Tr){return Fe[Tr.getDay()]}function sc(Tr){return Sn[Tr.getMonth()]}function Ud(Tr){return Ut[Tr.getMonth()]}function B1(Tr){return ge[+(Tr.getHours()>=12)]}function lp(Tr){return 1+~~(Tr.getMonth()/3)}function f0(Tr){return rt[Tr.getUTCDay()]}function Um(Tr){return Fe[Tr.getUTCDay()]}function Ly(Tr){return Sn[Tr.getUTCMonth()]}function Bx(Tr){return Ut[Tr.getUTCMonth()]}function jx(Tr){return ge[+(Tr.getUTCHours()>=12)]}function j1(Tr){return 1+~~(Tr.getUTCMonth()/3)}return{format:function(Tr){var Ps=Yr(Tr+="",fs);return Ps.toString=function(){return Tr},Ps},parse:function(Tr){var Ps=Ki(Tr+="",!1);return Ps.toString=function(){return Tr},Ps},utcFormat:function(Tr){var Ps=Yr(Tr+="",Xs);return Ps.toString=function(){return Tr},Ps},utcParse:function(Tr){var Ps=Ki(Tr+="",!0);return Ps.toString=function(){return Tr},Ps}}}var Du={"-":"",_:" ","0":"0"},_o=/^\s*\d+/,vh=/^%/,gl=/[\\^$*+?|[\]().{}]/g;function Ls(x,T,z){var J=x<0?"-":"",ge=(J?-x:x)+"",Fe=ge.length;return J+(Fe<z?new Array(z-Fe+1).join(T)+ge:ge)}function yl(x){return x.replace(gl,"\\$&")}function k(x){return new RegExp("^(?:"+x.map(yl).join("|")+")","i")}function X(x){return new Map(x.map((T,z)=>[T.toLowerCase(),z]))}function Ue(x,T,z){var J=_o.exec(T.slice(z,z+1));return J?(x.w=+J[0],z+J[0].length):-1}function Ot(x,T,z){var J=_o.exec(T.slice(z,z+1));return J?(x.u=+J[0],z+J[0].length):-1}function zt(x,T,z){var J=_o.exec(T.slice(z,z+2));return J?(x.U=+J[0],z+J[0].length):-1}function Cn(x,T,z){var J=_o.exec(T.slice(z,z+2));return J?(x.V=+J[0],z+J[0].length):-1}function Ln(x,T,z){var J=_o.exec(T.slice(z,z+2));return J?(x.W=+J[0],z+J[0].length):-1}function ir(x,T,z){var J=_o.exec(T.slice(z,z+4));return J?(x.y=+J[0],z+J[0].length):-1}function hr(x,T,z){var J=_o.exec(T.slice(z,z+2));return J?(x.y=+J[0]+(+J[0]>68?1900:2e3),z+J[0].length):-1}function Nr(x,T,z){var J=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(T.slice(z,z+6));return J?(x.Z=J[1]?0:-(J[2]+(J[3]||"00")),z+J[0].length):-1}function tt(x,T,z){var J=_o.exec(T.slice(z,z+1));return J?(x.q=J[0]*3-3,z+J[0].length):-1}function Ri(x,T,z){var J=_o.exec(T.slice(z,z+2));return J?(x.m=J[0]-1,z+J[0].length):-1}function Qi(x,T,z){var J=_o.exec(T.slice(z,z+2));return J?(x.d=+J[0],z+J[0].length):-1}function Mi(x,T,z){var J=_o.exec(T.slice(z,z+3));return J?(x.m=0,x.d=+J[0],z+J[0].length):-1}function Gr(x,T,z){var J=_o.exec(T.slice(z,z+2));return J?(x.H=+J[0],z+J[0].length):-1}function Qs(x,T,z){var J=_o.exec(T.slice(z,z+2));return J?(x.M=+J[0],z+J[0].length):-1}function zo(x,T,z){var J=_o.exec(T.slice(z,z+2));return J?(x.S=+J[0],z+J[0].length):-1}function ga(x,T,z){var J=_o.exec(T.slice(z,z+3));return J?(x.L=+J[0],z+J[0].length):-1}function mo(x,T,z){var J=_o.exec(T.slice(z,z+6));return J?(x.L=Math.floor(J[0]/1e3),z+J[0].length):-1}function La(x,T,z){var J=vh.exec(T.slice(z,z+1));return J?z+J[0].length:-1}function tc(x,T,z){var J=_o.exec(T.slice(z));return J?(x.Q=+J[0],z+J[0].length):-1}function jl(x,T,z){var J=_o.exec(T.slice(z));return J?(x.s=+J[0],z+J[0].length):-1}function ka(x,T){return Ls(x.getDate(),T,2)}function nc(x,T){return Ls(x.getHours(),T,2)}function ya(x,T){return Ls(x.getHours()%12||12,T,2)}function Xc(x,T){return Ls(1+Rs.count(Zl(x),x),T,3)}function Zc(x,T){return Ls(x.getMilliseconds(),T,3)}function tl(x,T){return Zc(x,T)+"000"}function rc(x,T){return Ls(x.getMonth()+1,T,2)}function O1(x,T){return Ls(x.getMinutes(),T,2)}function Fc(x,T){return Ls(x.getSeconds(),T,2)}function jm(x){var T=x.getDay();return T===0?7:T}function ql(x,T){return Ls(Xa.count(Zl(x)-1,x),T,2)}function Sf(x){var T=x.getDay();return T>=4||T===0?Gc(x):Gc.ceil(x)}function Dc(x,T){return x=Sf(x),Ls(Gc.count(Zl(x),x)+(Zl(x).getDay()===4),T,2)}function qr(x){return x.getDay()}function W0(x,T){return Ls(Xl.count(Zl(x)-1,x),T,2)}function Q0(x,T){return Ls(x.getFullYear()%100,T,2)}function Hr(x,T){return x=Sf(x),Ls(x.getFullYear()%100,T,2)}function vl(x,T){return Ls(x.getFullYear()%1e4,T,4)}function R1(x,T){var z=x.getDay();return x=z>=4||z===0?Gc(x):Gc.ceil(x),Ls(x.getFullYear()%1e4,T,4)}function ep(x){var T=x.getTimezoneOffset();return(T>0?"-":(T*=-1,"+"))+Ls(T/60|0,"0",2)+Ls(T%60,"0",2)}function bo(x,T){return Ls(x.getUTCDate(),T,2)}function G0(x,T){return Ls(x.getUTCHours(),T,2)}function kd(x,T){return Ls(x.getUTCHours()%12||12,T,2)}function Y0(x,T){return Ls(1+ec.count(Tc(x),x),T,3)}function ef(x,T){return Ls(x.getUTCMilliseconds(),T,3)}function kx(x,T){return ef(x,T)+"000"}function Ix(x,T){return Ls(x.getUTCMonth()+1,T,2)}function _h(x,T){return Ls(x.getUTCMinutes(),T,2)}function tf(x,T){return Ls(x.getUTCSeconds(),T,2)}function nl(x){var T=x.getUTCDay();return T===0?7:T}function Id(x,T){return Ls(z0.count(Tc(x)-1,x),T,2)}function tp(x){var T=x.getUTCDay();return T>=4||T===0?H0(x):H0.ceil(x)}function N1(x,T){return x=tp(x),Ls(H0.count(Tc(x),x)+(Tc(x).getUTCDay()===4),T,2)}function rl(x){return x.getUTCDay()}function K0(x,T){return Ls(yh.count(Tc(x)-1,x),T,2)}function wf(x,T){return Ls(x.getUTCFullYear()%100,T,2)}function _l(x,T){return x=tp(x),Ls(x.getUTCFullYear()%100,T,2)}function np(x,T){return Ls(x.getUTCFullYear()%1e4,T,4)}function Ou(x,T){var z=x.getUTCDay();return x=z>=4||z===0?H0(x):H0.ceil(x),Ls(x.getUTCFullYear()%1e4,T,4)}function L1(){return"+0000"}function il(){return"%"}function Oc(x){return+x}function bh(x){return Math.floor(+x/1e3)}var Md,nf,Eh;rp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rp(x){return Md=Ld(x),nf=Md.format,Eh=Md.utcFormat,Md}function za(x){return new Date(x)}function Sh(x){return x instanceof Date?+x:+new Date(+x)}function J0(x,T,z,J,ge,Fe,rt,Ut,Sn,bn){var kn=Vo(),$n=kn.invert,sr=kn.domain,Fr=bn(".%L"),Jr=bn(":%S"),kr=bn("%I:%M"),wi=bn("%I %p"),Pi=bn("%a %d"),Ds=bn("%b %d"),fs=bn("%B"),Xs=bn("%Y");function Gs(Yr){return(Sn(Yr)<Yr?Fr:Ut(Yr)<Yr?Jr:rt(Yr)<Yr?kr:Fe(Yr)<Yr?wi:J(Yr)<Yr?ge(Yr)<Yr?Pi:Ds:z(Yr)<Yr?fs:Xs)(Yr)}return kn.invert=function(Yr){return new Date($n(Yr))},kn.domain=function(Yr){return arguments.length?sr(Array.from(Yr,Sh)):sr().map(za)},kn.ticks=function(Yr){var Ki=sr();return x(Ki[0],Ki[Ki.length-1],Yr??10)},kn.tickFormat=function(Yr,Ki){return Ki==null?Gs:bn(Ki)},kn.nice=function(Yr){var Ki=sr();return(!Yr||typeof Yr.range!="function")&&(Yr=T(Ki[0],Ki[Ki.length-1],Yr??10)),Yr?sr(Un(Ki,Yr)):kn},kn.copy=function(){return oa(kn,J0(x,T,z,J,ge,Fe,rt,Ut,Sn,bn))},kn}function Ia(){return it.apply(J0(Uo,Zo,Zl,e0,Xa,Rs,es,vr,Tn,nf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wh(){return it.apply(J0(i0,s0,Tc,Kc,z0,ec,Ac,t0,Tn,Eh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ru(){var x=0,T=1,z,J,ge,Fe,rt=ps,Ut=!1,Sn;function bn($n){return $n==null||isNaN($n=+$n)?Sn:rt(ge===0?.5:($n=(Fe($n)-z)*ge,Ut?Math.max(0,Math.min(1,$n)):$n))}bn.domain=function($n){return arguments.length?([x,T]=$n,z=Fe(x=+x),J=Fe(T=+T),ge=z===J?0:1/(J-z),bn):[x,T]},bn.clamp=function($n){return arguments.length?(Ut=!!$n,bn):Ut},bn.interpolator=function($n){return arguments.length?(rt=$n,bn):rt};function kn($n){return function(sr){var Fr,Jr;return arguments.length?([Fr,Jr]=sr,rt=$n(Fr,Jr),bn):[rt(0),rt(1)]}}return bn.range=kn(ts),bn.rangeRound=kn(hl),bn.unknown=function($n){return arguments.length?(Sn=$n,bn):Sn},function($n){return Fe=$n,z=$n(x),J=$n(T),ge=z===J?0:1/(J-z),bn}}function Za(x,T){return T.domain(x.domain()).interpolator(x.interpolator()).clamp(x.clamp()).unknown(x.unknown())}function Ch(){var x=dn(Ru()(ps));return x.copy=function(){return Za(x,Ch())},ue.apply(x,arguments)}function va(){var x=ii(Ru()).domain([1,10]);return x.copy=function(){return Za(x,va()).base(x.base())},ue.apply(x,arguments)}function Ah(){var x=Ir(Ru());return x.copy=function(){return Za(x,Ah()).constant(x.constant())},ue.apply(x,arguments)}function ip(){var x=Ei(Ru());return x.copy=function(){return Za(x,ip()).exponent(x.exponent())},ue.apply(x,arguments)}function a0(){return ip.apply(null,arguments).exponent(.5)}function X0(){var x=0,T=.5,z=1,J=1,ge,Fe,rt,Ut,Sn,bn=ps,kn,$n=!1,sr;function Fr(kr){return isNaN(kr=+kr)?sr:(kr=.5+((kr=+kn(kr))-Fe)*(J*kr<J*Fe?Ut:Sn),bn($n?Math.max(0,Math.min(1,kr)):kr))}Fr.domain=function(kr){return arguments.length?([x,T,z]=kr,ge=kn(x=+x),Fe=kn(T=+T),rt=kn(z=+z),Ut=ge===Fe?0:.5/(Fe-ge),Sn=Fe===rt?0:.5/(rt-Fe),J=Fe<ge?-1:1,Fr):[x,T,z]},Fr.clamp=function(kr){return arguments.length?($n=!!kr,Fr):$n},Fr.interpolator=function(kr){return arguments.length?(bn=kr,Fr):bn};function Jr(kr){return function(wi){var Pi,Ds,fs;return arguments.length?([Pi,Ds,fs]=wi,bn=Wi(kr,[Pi,Ds,fs]),Fr):[bn(0),bn(.5),bn(1)]}}return Fr.range=Jr(ts),Fr.rangeRound=Jr(hl),Fr.unknown=function(kr){return arguments.length?(sr=kr,Fr):sr},function(kr){return kn=kr,ge=kr(x),Fe=kr(T),rt=kr(z),Ut=ge===Fe?0:.5/(Fe-ge),Sn=Fe===rt?0:.5/(rt-Fe),J=Fe<ge?-1:1,Fr}}function rf(){var x=dn(X0()(ps));return x.copy=function(){return Za(x,rf())},ue.apply(x,arguments)}function Ul(){var x=ii(X0()).domain([.1,1,10]);return x.copy=function(){return Za(x,Ul()).base(x.base())},ue.apply(x,arguments)}function Nu(){var x=Ir(X0());return x.copy=function(){return Za(x,Nu()).constant(x.constant())},ue.apply(x,arguments)}function sp(){var x=Ei(X0());return x.copy=function(){return Za(x,sp()).exponent(x.exponent())},ue.apply(x,arguments)}function sl(){return sp.apply(null,arguments).exponent(.5)}function Th(){let x=ve().unknown(void 0),T=x.domain,z=x.range,J=[0,1],ge,Fe,rt=!1,Ut=0,Sn=0,bn=.5;delete x.unknown;function kn(){let $n=T().length,sr=J[1]<J[0],Fr=J[1-sr],Jr=r($n,Ut,Sn),kr=J[sr-0];ge=(Fr-kr)/(Jr||1),rt&&(ge=Math.floor(ge)),kr+=(Fr-kr-ge*($n-Ut))*bn,Fe=ge*(1-Ut),rt&&(kr=Math.round(kr),Fe=Math.round(Fe));let wi=cn($n).map(Pi=>kr+ge*Pi);return z(sr?wi.reverse():wi)}return x.domain=function($n){return arguments.length?(T($n),kn()):T()},x.range=function($n){return arguments.length?(J=[+$n[0],+$n[1]],kn()):J.slice()},x.rangeRound=function($n){return J=[+$n[0],+$n[1]],rt=!0,kn()},x.bandwidth=function(){return Fe},x.step=function(){return ge},x.round=function($n){return arguments.length?(rt=!!$n,kn()):rt},x.padding=function($n){return arguments.length?(Sn=Math.max(0,Math.min(1,$n)),Ut=Sn,kn()):Ut},x.paddingInner=function($n){return arguments.length?(Ut=Math.max(0,Math.min(1,$n)),kn()):Ut},x.paddingOuter=function($n){return arguments.length?(Sn=Math.max(0,Math.min(1,$n)),kn()):Sn},x.align=function($n){return arguments.length?(bn=Math.max(0,Math.min(1,$n)),kn()):bn},x.invertRange=function($n){if($n[0]==null||$n[1]==null)return;let sr=J[1]<J[0],Fr=sr?z().reverse():z(),Jr=Fr.length-1,kr=+$n[0],wi=+$n[1],Pi,Ds,fs;if(!(kr!==kr||wi!==wi)&&(wi<kr&&(fs=kr,kr=wi,wi=fs),!(wi<Fr[0]||kr>J[1-sr])))return Pi=Math.max(0,je(Fr,kr)-1),Ds=kr===wi?Pi:je(Fr,wi)-1,kr-Fr[Pi]>Fe+1e-10&&++Pi,sr&&(fs=Pi,Pi=Jr-Ds,Ds=Jr-fs),Pi>Ds?void 0:T().slice(Pi,Ds+1)},x.invert=function($n){let sr=x.invertRange([$n,$n]);return sr&&sr[0]},x.copy=function(){return Th().domain(T()).range(J).round(rt).paddingInner(Ut).paddingOuter(Sn).align(bn)},kn()}function Pd(x){let T=x.copy;return x.padding=x.paddingOuter,delete x.paddingInner,x.copy=function(){return Pd(T())},x}function qm(){return Pd(Th().paddingInner(1))}var op=Array.prototype.map;function Cf(x){return op.call(x,e.toNumber)}let Z0=Array.prototype.slice;function Js(){let x=[],T=[];function z(J){return J==null||J!==J?void 0:T[(te(x,J)-1)%T.length]}return z.domain=function(J){return arguments.length?(x=Cf(J),z):x.slice()},z.range=function(J){return arguments.length?(T=Z0.call(J),z):T.slice()},z.tickFormat=function(J,ge){return Bt(x[0],e.peek(x),J??10,ge)},z.copy=function(){return Js().domain(z.domain()).range(z.range())},z}let A={};function W(x,T,z){let J=function(){let Fe=T();return Fe.invertRange||(Fe.invertRange=Fe.invert?Ve(Fe):Fe.invertExtent?at(Fe):void 0),Fe.type=x,Fe};return J.metadata=e.toSet(e.array(z)),J}function fe(x,T,z){return arguments.length>1?(A[x]=W(x,T,z),this):Be(x)?A[x]:void 0}fe(i,Kn),fe(s,Nn,de),fe(o,gi,[de,o]),fe(a,Ms,de),fe(c,is,de),fe(d,bi,de),fe(p,Ia,[de,_e]),fe(E,wh,[de,_e]),fe(w,Ch,[de,me]),fe(`${w}-${s}`,Ch,[de,me]),fe(`${w}-${o}`,va,[de,me,o]),fe(`${w}-${a}`,ip,[de,me]),fe(`${w}-${c}`,a0,[de,me]),fe(`${w}-${d}`,Ah,[de,me]),fe(`${N}-${s}`,rf,[de,me]),fe(`${N}-${o}`,Ul,[de,me,o]),fe(`${N}-${a}`,sp,[de,me]),fe(`${N}-${c}`,sl,[de,me]),fe(`${N}-${d}`,Nu,[de,me]),fe(R,xa,[Z,R]),fe(U,No,Z),fe(Q,As,Z),fe(K,Js,[M,Z]),fe(P,ve,M),fe(I,Th,M),fe(j,qm,M);function Be(x){return e.hasOwnProperty(A,x)}function bt(x,T){let z=A[x];return z&&z.metadata[T]}function An(x){return bt(x,de)}function lr(x){return bt(x,M)}function zi(x){return bt(x,Z)}function qi(x){return bt(x,o)}function oo(x){return bt(x,_e)}function mu(x){return bt(x,me)}function Rc(x){return bt(x,R)}let Af=["clamp","base","constant","exponent"];function kb(x,T){let z=T[0],J=e.peek(T)-z;return function(ge){return x(z+ge*J)}}function Dy(x,T,z){return Wi(Lu(T||"rgb",z),x)}function y4(x,T){let z=new Array(T),J=T+1;for(let ge=0;ge<T;)z[ge]=x(++ge/J);return z}function Oy(x){let T=x.type,z=x.copy();return z.type=T,z}function ed(x,T,z){let J=z-T,ge,Fe,rt;return!J||!Number.isFinite(J)?e.constant(.5):(ge=(Fe=x.type).indexOf("-"),Fe=ge<0?Fe:Fe.slice(ge+1),rt=fe(Fe)().domain([T,z]).range([0,1]),Af.forEach(Ut=>x[Ut]?rt[Ut](x[Ut]()):0),rt)}function Lu(x,T){let z=fa[v4(x)];return T!=null&&z&&z.gamma?z.gamma(T):z}function v4(x){return"interpolate"+x.toLowerCase().split("-").map(T=>T[0].toUpperCase()+T.slice(1)).join("")}let Fh={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Ts={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function u0(x){let T=x.length/6|0,z=new Array(T);for(let J=0;J<T;)z[J]="#"+x.slice(J*6,++J*6);return z}function bl(x,T){for(let z in x)ku(z,T(x[z]))}let ap={};bl(Ts,u0),bl(Fh,x=>Dy(u0(x)));function ku(x,T){return x=x&&x.toLowerCase(),arguments.length>1?(ap[x]=T,this):ap[x]}let k1="symbol",I1="discrete",El="gradient",Ry=x=>e.isArray(x)?x.map(T=>String(T)):String(x),Bd=(x,T)=>x[1]-T[1],Dh=(x,T)=>T[1]-x[1];function Ny(x,T,z){let J;return e.isNumber(T)&&(x.bins&&(T=Math.max(T,x.bins.length)),z!=null&&(T=Math.min(T,Math.floor(e.span(x.domain())/z||1)))),e.isObject(T)&&(J=T.step,T=T.interval),e.isString(T)&&(T=x.type===p?t.timeInterval(T):x.type==E?t.utcInterval(T):e.error("Only time and utc scales accept interval strings."),J&&(T=T.every(J))),T}function Tf(x,T,z){let J=x.range(),ge=J[0],Fe=e.peek(J),rt=Bd;if(ge>Fe&&(J=Fe,Fe=ge,ge=J,rt=Dh),ge=Math.floor(ge),Fe=Math.ceil(Fe),T=T.map(Ut=>[Ut,x(Ut)]).filter(Ut=>ge<=Ut[1]&&Ut[1]<=Fe).sort(rt).map(Ut=>Ut[0]),z>0&&T.length>1){let Ut=[T[0],e.peek(T)];for(;T.length>z&&T.length>=3;)T=T.filter((Sn,bn)=>!(bn%2));T.length<3&&(T=Ut)}return T}function Sl(x,T){return x.bins?Tf(x,x.bins):x.ticks?x.ticks(T):x.domain()}function Ff(x,T,z,J,ge,Fe){let rt=T.type,Ut=Ry;if(rt===p||ge===p)Ut=x.timeFormat(J);else if(rt===E||ge===E)Ut=x.utcFormat(J);else if(qi(rt)){let Sn=x.formatFloat(J);if(Fe||T.bins)Ut=Sn;else{let bn=M1(T,z,!1);Ut=kn=>bn(kn)?Sn(kn):""}}else if(T.tickFormat){let Sn=T.domain();Ut=x.formatSpan(Sn[0],Sn[Sn.length-1],z,J)}else J&&(Ut=x.format(J));return Ut}function M1(x,T,z){let J=Sl(x,T),ge=x.base(),Fe=Math.log(ge),rt=Math.max(1,ge*T/J.length),Ut=Sn=>{let bn=Sn/Math.pow(ge,Math.round(Math.log(Sn)/Fe));return bn*ge<ge-.5&&(bn*=ge),bn<=rt};return z?J.filter(Ut):Ut}let up={[R]:"quantiles",[U]:"thresholds",[Q]:"domain"},jd={[R]:"quantiles",[U]:"domain"};function P1(x,T){return x.bins?Px(x.bins):x.type===o?M1(x,T,!0):up[x.type]?Mx(x[up[x.type]]()):Sl(x,T)}function sf(x,T,z){let J=T[jd[T.type]](),ge=J.length,Fe=ge>1?J[1]-J[0]:J[0],rt;for(rt=1;rt<ge;++rt)Fe=Math.min(Fe,J[rt]-J[rt-1]);return x.formatSpan(0,Fe,3*10,z)}function Mx(x){let T=[-1/0].concat(x);return T.max=1/0,T}function Px(x){let T=x.slice(0,-1);return T.max=e.peek(x),T}let ic=x=>up[x.type]||x.bins;function l0(x,T,z,J,ge,Fe,rt){let Ut=jd[T.type]&&Fe!==p&&Fe!==E?sf(x,T,ge):Ff(x,T,z,ge,Fe,rt);return J===k1&&ic(T)?_4(Ut):J===I1?y(Ut):F(Ut)}let _4=x=>(T,z,J)=>{let ge=td(J[z+1],td(J.max,1/0)),Fe=H(T,x),rt=H(ge,x);return Fe&&rt?Fe+" \u2013 "+rt:rt?"< "+rt:"\u2265 "+Fe},td=(x,T)=>x??T,y=x=>(T,z)=>z?x(T):null,F=x=>T=>x(T),H=(x,T)=>Number.isFinite(x)?T(x):null;function G(x){let T=x.domain(),z=T.length-1,J=+T[0],ge=+e.peek(T),Fe=ge-J;if(x.type===Q){let rt=z?Fe/z:.1;J-=rt,ge+=rt,Fe=ge-J}return rt=>(rt-J)/Fe}function Pe(x,T,z,J){let ge=J||T.type;return e.isString(z)&&oo(ge)&&(z=z.replace(/%a/g,"%A").replace(/%b/g,"%B")),!z&&ge===p?x.timeFormat("%A, %d %B %Y, %X"):!z&&ge===E?x.utcFormat("%A, %d %B %Y, %X UTC"):l0(x,T,5,null,z,J,!0)}function xt(x,T,z){z=z||{};let J=Math.max(3,z.maxlen||7),ge=Pe(x,T,z.format,z.formatType);if(zi(T.type)){let Fe=P1(T).slice(1).map(ge),rt=Fe.length;return`${rt} boundar${rt===1?"y":"ies"}: ${Fe.join(", ")}`}else if(lr(T.type)){let Fe=T.domain(),rt=Fe.length,Ut=rt>J?Fe.slice(0,J-2).map(ge).join(", ")+", ending with "+Fe.slice(-1).map(ge):Fe.map(ge).join(", ");return`${rt} value${rt===1?"":"s"}: ${Ut}`}else{let Fe=T.domain();return`values from ${ge(Fe[0])} to ${ge(e.peek(Fe))}`}}n.Band=I,n.BinOrdinal=K,n.DiscreteLegend=I1,n.Diverging=N,n.GradientLegend=El,n.Identity=i,n.Linear=s,n.Log=o,n.Ordinal=P,n.Point=j,n.Pow=a,n.Quantile=R,n.Quantize=U,n.Sequential=w,n.Sqrt=c,n.SymbolLegend=k1,n.Symlog=d,n.Threshold=Q,n.Time=p,n.UTC=E,n.bandSpace=r,n.domainCaption=xt,n.interpolate=Lu,n.interpolateColors=Dy,n.interpolateRange=kb,n.isContinuous=An,n.isDiscrete=lr,n.isDiscretizing=zi,n.isInterpolating=mu,n.isLogarithmic=qi,n.isQuantile=Rc,n.isTemporal=oo,n.isValidScaleType=Be,n.labelFormat=l0,n.labelFraction=G,n.labelValues=P1,n.quantizeInterpolator=y4,n.scale=fe,n.scaleCopy=Oy,n.scaleFraction=ed,n.scaleImplicit=De,n.scheme=ku,n.tickCount=Ny,n.tickFormat=Ff,n.tickValues=Sl,n.validTicks=Tf,Object.defineProperty(n,"__esModule",{value:!0})})});var yC=Ae(($H,jAe)=>{m();(function(n,e){typeof $H=="object"&&typeof jAe!="undefined"?e($H,Au(),oR(),BH(),Cb()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega))})($H,function(n,e,t,r,i){"use strict";let s=0;function o(){s=0}let a="p_";function c(y){return y&&y.gradient}function d(y,F,H){let G=y.gradient,Pe=y.id,xt=G==="radial"?a:"";return Pe||(Pe=y.id="gradient_"+s++,G==="radial"?(y.x1=p(y.x1,.5),y.y1=p(y.y1,.5),y.r1=p(y.r1,0),y.x2=p(y.x2,.5),y.y2=p(y.y2,.5),y.r2=p(y.r2,.5),xt=a):(y.x1=p(y.x1,0),y.y1=p(y.y1,0),y.x2=p(y.x2,1),y.y2=p(y.y2,0))),F[Pe]=y,"url("+(H||"")+"#"+xt+Pe+")"}function p(y,F){return y??F}function E(y,F){var H=[],G;return G={gradient:"linear",x1:y?y[0]:0,y1:y?y[1]:0,x2:F?F[0]:1,y2:F?F[1]:0,stops:H,stop:function(Pe,xt){return H.push({offset:Pe,color:xt}),G}}}let w=Math.PI,N=2*w,R=1e-6,U=N-R;function Q(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function P(){return new Q}Q.prototype=P.prototype={constructor:Q,moveTo:function(y,F){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+F)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(y,F){this._+="L"+(this._x1=+y)+","+(this._y1=+F)},quadraticCurveTo:function(y,F,H,G){this._+="Q"+ +y+","+ +F+","+(this._x1=+H)+","+(this._y1=+G)},bezierCurveTo:function(y,F,H,G,Pe,xt){this._+="C"+ +y+","+ +F+","+ +H+","+ +G+","+(this._x1=+Pe)+","+(this._y1=+xt)},arcTo:function(y,F,H,G,Pe){y=+y,F=+F,H=+H,G=+G,Pe=+Pe;var xt=this._x1,x=this._y1,T=H-y,z=G-F,J=xt-y,ge=x-F,Fe=J*J+ge*ge;if(Pe<0)throw new Error("negative radius: "+Pe);if(this._x1===null)this._+="M"+(this._x1=y)+","+(this._y1=F);else if(Fe>R)if(!(Math.abs(ge*T-z*J)>R)||!Pe)this._+="L"+(this._x1=y)+","+(this._y1=F);else{var rt=H-xt,Ut=G-x,Sn=T*T+z*z,bn=rt*rt+Ut*Ut,kn=Math.sqrt(Sn),$n=Math.sqrt(Fe),sr=Pe*Math.tan((w-Math.acos((Sn+Fe-bn)/(2*kn*$n)))/2),Fr=sr/$n,Jr=sr/kn;Math.abs(Fr-1)>R&&(this._+="L"+(y+Fr*J)+","+(F+Fr*ge)),this._+="A"+Pe+","+Pe+",0,0,"+ +(ge*rt>J*Ut)+","+(this._x1=y+Jr*T)+","+(this._y1=F+Jr*z)}},arc:function(y,F,H,G,Pe,xt){y=+y,F=+F,H=+H,xt=!!xt;var x=H*Math.cos(G),T=H*Math.sin(G),z=y+x,J=F+T,ge=1^xt,Fe=xt?G-Pe:Pe-G;if(H<0)throw new Error("negative radius: "+H);this._x1===null?this._+="M"+z+","+J:(Math.abs(this._x1-z)>R||Math.abs(this._y1-J)>R)&&(this._+="L"+z+","+J),!!H&&(Fe<0&&(Fe=Fe%N+N),Fe>U?this._+="A"+H+","+H+",0,1,"+ge+","+(y-x)+","+(F-T)+"A"+H+","+H+",0,1,"+ge+","+(this._x1=z)+","+(this._y1=J):Fe>R&&(this._+="A"+H+","+H+",0,"+ +(Fe>=w)+","+ge+","+(this._x1=y+H*Math.cos(Pe))+","+(this._y1=F+H*Math.sin(Pe))))},rect:function(y,F,H,G){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+F)+"h"+ +H+"v"+ +G+"h"+-H+"Z"},toString:function(){return this._}};function j(y){return function(){return y}}let I=Math.abs,K=Math.atan2,de=Math.cos,M=Math.max,Z=Math.min,me=Math.sin,_e=Math.sqrt,Ve=1e-12,at=Math.PI,lt=at/2,Ke=2*at;function St(y){return y>1?0:y<-1?at:Math.acos(y)}function Ft(y){return y>=1?lt:y<=-1?-lt:Math.asin(y)}function je(y){return y.innerRadius}function te(y){return y.outerRadius}function Xe(y){return y.startAngle}function ye(y){return y.endAngle}function ke(y){return y&&y.padAngle}function Ce(y,F,H,G,Pe,xt,x,T){var z=H-y,J=G-F,ge=x-Pe,Fe=T-xt,rt=Fe*z-ge*J;if(!(rt*rt<Ve))return rt=(ge*(F-xt)-Fe*(y-Pe))/rt,[y+rt*z,F+rt*J]}function xe(y,F,H,G,Pe,xt,x){var T=y-H,z=F-G,J=(x?xt:-xt)/_e(T*T+z*z),ge=J*z,Fe=-J*T,rt=y+ge,Ut=F+Fe,Sn=H+ge,bn=G+Fe,kn=(rt+Sn)/2,$n=(Ut+bn)/2,sr=Sn-rt,Fr=bn-Ut,Jr=sr*sr+Fr*Fr,kr=Pe-xt,wi=rt*bn-Sn*Ut,Pi=(Fr<0?-1:1)*_e(M(0,kr*kr*Jr-wi*wi)),Ds=(wi*Fr-sr*Pi)/Jr,fs=(-wi*sr-Fr*Pi)/Jr,Xs=(wi*Fr+sr*Pi)/Jr,Gs=(-wi*sr+Fr*Pi)/Jr,Yr=Ds-kn,Ki=fs-$n,Ha=Xs-kn,eu=Gs-$n;return Yr*Yr+Ki*Ki>Ha*Ha+eu*eu&&(Ds=Xs,fs=Gs),{cx:Ds,cy:fs,x01:-ge,y01:-Fe,x11:Ds*(Pe/kr-1),y11:fs*(Pe/kr-1)}}function Je(){var y=je,F=te,H=j(0),G=null,Pe=Xe,xt=ye,x=ke,T=null;function z(){var J,ge,Fe=+y.apply(this,arguments),rt=+F.apply(this,arguments),Ut=Pe.apply(this,arguments)-lt,Sn=xt.apply(this,arguments)-lt,bn=I(Sn-Ut),kn=Sn>Ut;if(T||(T=J=P()),rt<Fe&&(ge=rt,rt=Fe,Fe=ge),!(rt>Ve))T.moveTo(0,0);else if(bn>Ke-Ve)T.moveTo(rt*de(Ut),rt*me(Ut)),T.arc(0,0,rt,Ut,Sn,!kn),Fe>Ve&&(T.moveTo(Fe*de(Sn),Fe*me(Sn)),T.arc(0,0,Fe,Sn,Ut,kn));else{var $n=Ut,sr=Sn,Fr=Ut,Jr=Sn,kr=bn,wi=bn,Pi=x.apply(this,arguments)/2,Ds=Pi>Ve&&(G?+G.apply(this,arguments):_e(Fe*Fe+rt*rt)),fs=Z(I(rt-Fe)/2,+H.apply(this,arguments)),Xs=fs,Gs=fs,Yr,Ki;if(Ds>Ve){var Ha=Ft(Ds/Fe*me(Pi)),eu=Ft(Ds/rt*me(Pi));(kr-=Ha*2)>Ve?(Ha*=kn?1:-1,Fr+=Ha,Jr-=Ha):(kr=0,Fr=Jr=(Ut+Sn)/2),(wi-=eu*2)>Ve?(eu*=kn?1:-1,$n+=eu,sr-=eu):(wi=0,$n=sr=(Ut+Sn)/2)}var Iu=rt*de($n),bs=rt*me($n),Ma=Fe*de(Jr),$a=Fe*me(Jr);if(fs>Ve){var wl=rt*de(sr),qd=rt*me(sr),ol=Fe*de(Fr),c0=Fe*me(Fr),_a;if(bn<at&&(_a=Ce(Iu,bs,ol,c0,wl,qd,Ma,$a))){var sc=Iu-_a[0],Ud=bs-_a[1],B1=wl-_a[0],lp=qd-_a[1],f0=1/me(St((sc*B1+Ud*lp)/(_e(sc*sc+Ud*Ud)*_e(B1*B1+lp*lp)))/2),Um=_e(_a[0]*_a[0]+_a[1]*_a[1]);Xs=Z(fs,(Fe-Um)/(f0-1)),Gs=Z(fs,(rt-Um)/(f0+1))}}wi>Ve?Gs>Ve?(Yr=xe(ol,c0,Iu,bs,rt,Gs,kn),Ki=xe(wl,qd,Ma,$a,rt,Gs,kn),T.moveTo(Yr.cx+Yr.x01,Yr.cy+Yr.y01),Gs<fs?T.arc(Yr.cx,Yr.cy,Gs,K(Yr.y01,Yr.x01),K(Ki.y01,Ki.x01),!kn):(T.arc(Yr.cx,Yr.cy,Gs,K(Yr.y01,Yr.x01),K(Yr.y11,Yr.x11),!kn),T.arc(0,0,rt,K(Yr.cy+Yr.y11,Yr.cx+Yr.x11),K(Ki.cy+Ki.y11,Ki.cx+Ki.x11),!kn),T.arc(Ki.cx,Ki.cy,Gs,K(Ki.y11,Ki.x11),K(Ki.y01,Ki.x01),!kn))):(T.moveTo(Iu,bs),T.arc(0,0,rt,$n,sr,!kn)):T.moveTo(Iu,bs),!(Fe>Ve)||!(kr>Ve)?T.lineTo(Ma,$a):Xs>Ve?(Yr=xe(Ma,$a,wl,qd,Fe,-Xs,kn),Ki=xe(Iu,bs,ol,c0,Fe,-Xs,kn),T.lineTo(Yr.cx+Yr.x01,Yr.cy+Yr.y01),Xs<fs?T.arc(Yr.cx,Yr.cy,Xs,K(Yr.y01,Yr.x01),K(Ki.y01,Ki.x01),!kn):(T.arc(Yr.cx,Yr.cy,Xs,K(Yr.y01,Yr.x01),K(Yr.y11,Yr.x11),!kn),T.arc(0,0,Fe,K(Yr.cy+Yr.y11,Yr.cx+Yr.x11),K(Ki.cy+Ki.y11,Ki.cx+Ki.x11),kn),T.arc(Ki.cx,Ki.cy,Xs,K(Ki.y11,Ki.x11),K(Ki.y01,Ki.x01),!kn))):T.arc(0,0,Fe,Jr,Fr,kn)}if(T.closePath(),J)return T=null,J+""||null}return z.centroid=function(){var J=(+y.apply(this,arguments)+ +F.apply(this,arguments))/2,ge=(+Pe.apply(this,arguments)+ +xt.apply(this,arguments))/2-at/2;return[de(ge)*J,me(ge)*J]},z.innerRadius=function(J){return arguments.length?(y=typeof J=="function"?J:j(+J),z):y},z.outerRadius=function(J){return arguments.length?(F=typeof J=="function"?J:j(+J),z):F},z.cornerRadius=function(J){return arguments.length?(H=typeof J=="function"?J:j(+J),z):H},z.padRadius=function(J){return arguments.length?(G=J==null?null:typeof J=="function"?J:j(+J),z):G},z.startAngle=function(J){return arguments.length?(Pe=typeof J=="function"?J:j(+J),z):Pe},z.endAngle=function(J){return arguments.length?(xt=typeof J=="function"?J:j(+J),z):xt},z.padAngle=function(J){return arguments.length?(x=typeof J=="function"?J:j(+J),z):x},z.context=function(J){return arguments.length?(T=J??null,z):T},z}function ut(y){return typeof y=="object"&&"length"in y?y:Array.from(y)}function Qt(y){this._context=y}Qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;default:this._context.lineTo(y,F);break}}};function wt(y){return new Qt(y)}function mn(y){return y[0]}function Lt(y){return y[1]}function It(y,F){var H=j(!0),G=null,Pe=wt,xt=null;y=typeof y=="function"?y:y===void 0?mn:j(y),F=typeof F=="function"?F:F===void 0?Lt:j(F);function x(T){var z,J=(T=ut(T)).length,ge,Fe=!1,rt;for(G==null&&(xt=Pe(rt=P())),z=0;z<=J;++z)!(z<J&&H(ge=T[z],z,T))===Fe&&((Fe=!Fe)?xt.lineStart():xt.lineEnd()),Fe&&xt.point(+y(ge,z,T),+F(ge,z,T));if(rt)return xt=null,rt+""||null}return x.x=function(T){return arguments.length?(y=typeof T=="function"?T:j(+T),x):y},x.y=function(T){return arguments.length?(F=typeof T=="function"?T:j(+T),x):F},x.defined=function(T){return arguments.length?(H=typeof T=="function"?T:j(!!T),x):H},x.curve=function(T){return arguments.length?(Pe=T,G!=null&&(xt=Pe(G)),x):Pe},x.context=function(T){return arguments.length?(T==null?G=xt=null:xt=Pe(G=T),x):G},x}function cn(y,F,H){var G=null,Pe=j(!0),xt=null,x=wt,T=null;y=typeof y=="function"?y:y===void 0?mn:j(+y),F=typeof F=="function"?F:j(F===void 0?0:+F),H=typeof H=="function"?H:H===void 0?Lt:j(+H);function z(ge){var Fe,rt,Ut,Sn=(ge=ut(ge)).length,bn,kn=!1,$n,sr=new Array(Sn),Fr=new Array(Sn);for(xt==null&&(T=x($n=P())),Fe=0;Fe<=Sn;++Fe){if(!(Fe<Sn&&Pe(bn=ge[Fe],Fe,ge))===kn)if(kn=!kn)rt=Fe,T.areaStart(),T.lineStart();else{for(T.lineEnd(),T.lineStart(),Ut=Fe-1;Ut>=rt;--Ut)T.point(sr[Ut],Fr[Ut]);T.lineEnd(),T.areaEnd()}kn&&(sr[Fe]=+y(bn,Fe,ge),Fr[Fe]=+F(bn,Fe,ge),T.point(G?+G(bn,Fe,ge):sr[Fe],H?+H(bn,Fe,ge):Fr[Fe]))}if($n)return T=null,$n+""||null}function J(){return It().defined(Pe).curve(x).context(xt)}return z.x=function(ge){return arguments.length?(y=typeof ge=="function"?ge:j(+ge),G=null,z):y},z.x0=function(ge){return arguments.length?(y=typeof ge=="function"?ge:j(+ge),z):y},z.x1=function(ge){return arguments.length?(G=ge==null?null:typeof ge=="function"?ge:j(+ge),z):G},z.y=function(ge){return arguments.length?(F=typeof ge=="function"?ge:j(+ge),H=null,z):F},z.y0=function(ge){return arguments.length?(F=typeof ge=="function"?ge:j(+ge),z):F},z.y1=function(ge){return arguments.length?(H=ge==null?null:typeof ge=="function"?ge:j(+ge),z):H},z.lineX0=z.lineY0=function(){return J().x(y).y(F)},z.lineY1=function(){return J().x(y).y(H)},z.lineX1=function(){return J().x(G).y(F)},z.defined=function(ge){return arguments.length?(Pe=typeof ge=="function"?ge:j(!!ge),z):Pe},z.curve=function(ge){return arguments.length?(x=ge,xt!=null&&(T=x(xt)),z):x},z.context=function(ge){return arguments.length?(ge==null?xt=T=null:T=x(xt=ge),z):xt},z}var it={draw(y,F){let H=_e(F/at);y.moveTo(H,0),y.arc(0,0,H,0,Ke)}};function ue(y,F){let H=null;y=typeof y=="function"?y:j(y||it),F=typeof F=="function"?F:j(F===void 0?64:+F);function G(){let Pe;if(H||(H=Pe=P()),y.apply(this,arguments).draw(H,+F.apply(this,arguments)),Pe)return H=null,Pe+""||null}return G.type=function(Pe){return arguments.length?(y=typeof Pe=="function"?Pe:j(Pe),G):y},G.size=function(Pe){return arguments.length?(F=typeof Pe=="function"?Pe:j(+Pe),G):F},G.context=function(Pe){return arguments.length?(H=Pe??null,G):H},G}function De(){}function ve(y,F,H){y._context.bezierCurveTo((2*y._x0+y._x1)/3,(2*y._y0+y._y1)/3,(y._x0+2*y._x1)/3,(y._y0+2*y._y1)/3,(y._x0+4*y._x1+F)/6,(y._y0+4*y._y1+H)/6)}function le(y){this._context=y}le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ve(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ve(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function st(y){return new le(y)}function Ze(y){this._context=y}Ze.prototype={areaStart:De,areaEnd:De,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._x2=y,this._y2=F;break;case 1:this._point=2,this._x3=y,this._y3=F;break;case 2:this._point=3,this._x4=y,this._y4=F,this._context.moveTo((this._x0+4*this._x1+y)/6,(this._y0+4*this._y1+F)/6);break;default:ve(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function Le(y){return new Ze(y)}function vt(y){this._context=y}vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var H=(this._x0+4*this._x1+y)/6,G=(this._y0+4*this._y1+F)/6;this._line?this._context.lineTo(H,G):this._context.moveTo(H,G);break;case 3:this._point=4;default:ve(this,y,F);break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F}};function $t(y){return new vt(y)}function Mt(y,F){this._basis=new le(y),this._beta=F}Mt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var y=this._x,F=this._y,H=y.length-1;if(H>0)for(var G=y[0],Pe=F[0],xt=y[H]-G,x=F[H]-Pe,T=-1,z;++T<=H;)z=T/H,this._basis.point(this._beta*y[T]+(1-this._beta)*(G+z*xt),this._beta*F[T]+(1-this._beta)*(Pe+z*x));this._x=this._y=null,this._basis.lineEnd()},point:function(y,F){this._x.push(+y),this._y.push(+F)}};var Vt=function y(F){function H(G){return F===1?new le(G):new Mt(G,F)}return H.beta=function(G){return y(+G)},H}(.85);function tn(y,F,H){y._context.bezierCurveTo(y._x1+y._k*(y._x2-y._x0),y._y1+y._k*(y._y2-y._y0),y._x2+y._k*(y._x1-F),y._y2+y._k*(y._y1-H),y._x2,y._y2)}function en(y,F){this._context=y,this._k=(1-F)/6}en.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:tn(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2,this._x1=y,this._y1=F;break;case 2:this._point=3;default:tn(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var En=function y(F){function H(G){return new en(G,F)}return H.tension=function(G){return y(+G)},H}(0);function Fn(y,F){this._context=y,this._k=(1-F)/6}Fn.prototype={areaStart:De,areaEnd:De,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._x3=y,this._y3=F;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=F);break;case 2:this._point=3,this._x5=y,this._y5=F;break;default:tn(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var On=function y(F){function H(G){return new Fn(G,F)}return H.tension=function(G){return y(+G)},H}(0);function qt(y,F){this._context=y,this._k=(1-F)/6}qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:tn(this,y,F);break}this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var pn=function y(F){function H(G){return new qt(G,F)}return H.tension=function(G){return y(+G)},H}(0);function qn(y,F,H){var G=y._x1,Pe=y._y1,xt=y._x2,x=y._y2;if(y._l01_a>Ve){var T=2*y._l01_2a+3*y._l01_a*y._l12_a+y._l12_2a,z=3*y._l01_a*(y._l01_a+y._l12_a);G=(G*T-y._x0*y._l12_2a+y._x2*y._l01_2a)/z,Pe=(Pe*T-y._y0*y._l12_2a+y._y2*y._l01_2a)/z}if(y._l23_a>Ve){var J=2*y._l23_2a+3*y._l23_a*y._l12_a+y._l12_2a,ge=3*y._l23_a*(y._l23_a+y._l12_a);xt=(xt*J+y._x1*y._l23_2a-F*y._l12_2a)/ge,x=(x*J+y._y1*y._l23_2a-H*y._l12_2a)/ge}y._context.bezierCurveTo(G,Pe,xt,x,y._x2,y._y2)}function or(y,F){this._context=y,this._alpha=F}or.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,G=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+G*G,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3;default:qn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var In=function y(F){function H(G){return F?new or(G,F):new en(G,0)}return H.alpha=function(G){return y(+G)},H}(.5);function Ne(y,F){this._context=y,this._alpha=F}Ne.prototype={areaStart:De,areaEnd:De,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,G=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+G*G,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=y,this._y3=F;break;case 1:this._point=2,this._context.moveTo(this._x4=y,this._y4=F);break;case 2:this._point=3,this._x5=y,this._y5=F;break;default:qn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var $e=function y(F){function H(G){return F?new Ne(G,F):new Fn(G,0)}return H.alpha=function(G){return y(+G)},H}(.5);function Oe(y,F){this._context=y,this._alpha=F}Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){if(y=+y,F=+F,this._point){var H=this._x2-y,G=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(H*H+G*G,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qn(this,y,F);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=y,this._y0=this._y1,this._y1=this._y2,this._y2=F}};var jt=function y(F){function H(G){return F?new Oe(G,F):new qt(G,0)}return H.alpha=function(G){return y(+G)},H}(.5);function yt(y){this._context=y}yt.prototype={areaStart:De,areaEnd:De,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(y,F){y=+y,F=+F,this._point?this._context.lineTo(y,F):(this._point=1,this._context.moveTo(y,F))}};function mt(y){return new yt(y)}function nn(y){return y<0?-1:1}function Wt(y,F,H){var G=y._x1-y._x0,Pe=F-y._x1,xt=(y._y1-y._y0)/(G||Pe<0&&-0),x=(H-y._y1)/(Pe||G<0&&-0),T=(xt*Pe+x*G)/(G+Pe);return(nn(xt)+nn(x))*Math.min(Math.abs(xt),Math.abs(x),.5*Math.abs(T))||0}function Dn(y,F){var H=y._x1-y._x0;return H?(3*(y._y1-y._y0)/H-F)/2:F}function Qn(y,F,H){var G=y._x0,Pe=y._y0,xt=y._x1,x=y._y1,T=(xt-G)/3;y._context.bezierCurveTo(G+T,Pe+T*F,xt-T,x-T*H,xt,x)}function Zn(y){this._context=y}Zn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qn(this,this._t0,Dn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(y,F){var H=NaN;if(y=+y,F=+F,!(y===this._x1&&F===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;break;case 2:this._point=3,Qn(this,Dn(this,H=Wt(this,y,F)),H);break;default:Qn(this,this._t0,H=Wt(this,y,F));break}this._x0=this._x1,this._x1=y,this._y0=this._y1,this._y1=F,this._t0=H}}};function Pn(y){this._context=new ar(y)}(Pn.prototype=Object.create(Zn.prototype)).point=function(y,F){Zn.prototype.point.call(this,F,y)};function ar(y){this._context=y}ar.prototype={moveTo:function(y,F){this._context.moveTo(F,y)},closePath:function(){this._context.closePath()},lineTo:function(y,F){this._context.lineTo(F,y)},bezierCurveTo:function(y,F,H,G,Pe,xt){this._context.bezierCurveTo(F,y,G,H,xt,Pe)}};function Ye(y){return new Zn(y)}function gt(y){return new Pn(y)}function se(y){this._context=y}se.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var y=this._x,F=this._y,H=y.length;if(H)if(this._line?this._context.lineTo(y[0],F[0]):this._context.moveTo(y[0],F[0]),H===2)this._context.lineTo(y[1],F[1]);else for(var G=qe(y),Pe=qe(F),xt=0,x=1;x<H;++xt,++x)this._context.bezierCurveTo(G[0][xt],Pe[0][xt],G[1][xt],Pe[1][xt],y[x],F[x]);(this._line||this._line!==0&&H===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(y,F){this._x.push(+y),this._y.push(+F)}};function qe(y){var F,H=y.length-1,G,Pe=new Array(H),xt=new Array(H),x=new Array(H);for(Pe[0]=0,xt[0]=2,x[0]=y[0]+2*y[1],F=1;F<H-1;++F)Pe[F]=1,xt[F]=4,x[F]=4*y[F]+2*y[F+1];for(Pe[H-1]=2,xt[H-1]=7,x[H-1]=8*y[H-1]+y[H],F=1;F<H;++F)G=Pe[F]/xt[F-1],xt[F]-=G,x[F]-=G*x[F-1];for(Pe[H-1]=x[H-1]/xt[H-1],F=H-2;F>=0;--F)Pe[F]=(x[F]-Pe[F+1])/xt[F];for(xt[H-1]=(y[H]+Pe[H-1])/2,F=0;F<H-1;++F)xt[F]=2*y[F+1]-Pe[F+1];return[Pe,xt]}function et(y){return new se(y)}function Tt(y,F){this._context=y,this._t=F}Tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(y,F){switch(y=+y,F=+F,this._point){case 0:this._point=1,this._line?this._context.lineTo(y,F):this._context.moveTo(y,F);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,F),this._context.lineTo(y,F);else{var H=this._x*(1-this._t)+y*this._t;this._context.lineTo(H,this._y),this._context.lineTo(H,F)}break}}this._x=y,this._y=F}};function fn(y){return new Tt(y,.5)}function on(y){return new Tt(y,0)}function ct(y){return new Tt(y,1)}let ie={basis:{curve:st},"basis-closed":{curve:Le},"basis-open":{curve:$t},bundle:{curve:Vt,tension:"beta",value:.85},cardinal:{curve:En,tension:"tension",value:0},"cardinal-open":{curve:pn,tension:"tension",value:0},"cardinal-closed":{curve:On,tension:"tension",value:0},"catmull-rom":{curve:In,tension:"alpha",value:.5},"catmull-rom-closed":{curve:$e,tension:"alpha",value:.5},"catmull-rom-open":{curve:jt,tension:"alpha",value:.5},linear:{curve:wt},"linear-closed":{curve:mt},monotone:{horizontal:gt,vertical:Ye},natural:{curve:et},step:{curve:fn},"step-after":{curve:ct},"step-before":{curve:on}};function Te(y,F,H){var G=e.hasOwnProperty(ie,y)&&ie[y],Pe=null;return G&&(Pe=G.curve||G[F||"vertical"],G.tension&&H!=null&&(Pe=Pe[G.tension](H))),Pe}let ze={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},ht=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,_t=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Dt=/^((\s+,?\s*)|(,\s*))/,ne=/^[01]/;function we(y){let F=[];return(y.match(ht)||[]).forEach(G=>{let Pe=G[0],xt=Pe.toLowerCase(),x=ze[xt],T=We(xt,x,G.slice(1).trim()),z=T.length;if(z<x||z&&z%x!==0)throw Error("Invalid SVG path, incorrect parameter count");if(F.push([Pe,...T.slice(0,x)]),z!==x){xt==="m"&&(Pe=Pe==="M"?"L":"l");for(let J=x;J<z;J+=x)F.push([Pe,...T.slice(J,J+x)])}}),F}function We(y,F,H){let G=[];for(let Pe=0;F&&Pe<H.length;)for(let xt=0;xt<F;++xt){let x=y==="a"&&(xt===3||xt===4)?ne:_t,T=H.slice(Pe).match(x);if(T===null)throw Error("Invalid SVG path, incorrect parameter type");Pe+=T[0].length,G.push(+T[0]);let z=H.slice(Pe).match(Dt);z!==null&&(Pe+=z[0].length)}return G}let nt=Math.PI/180,Pt=1e-14,sn=Math.PI/2,wn=Math.PI*2,yn=Math.sqrt(3)/2;var xn={},zn={},Re=[].join;function He(y,F,H,G,Pe,xt,x,T,z){let J=Re.call(arguments);if(xn[J])return xn[J];let ge=x*nt,Fe=Math.sin(ge),rt=Math.cos(ge);H=Math.abs(H),G=Math.abs(G);let Ut=rt*(T-y)*.5+Fe*(z-F)*.5,Sn=rt*(z-F)*.5-Fe*(T-y)*.5,bn=Ut*Ut/(H*H)+Sn*Sn/(G*G);bn>1&&(bn=Math.sqrt(bn),H*=bn,G*=bn);let kn=rt/H,$n=Fe/H,sr=-Fe/G,Fr=rt/G,Jr=kn*T+$n*z,kr=sr*T+Fr*z,wi=kn*y+$n*F,Pi=sr*y+Fr*F,Ds=(wi-Jr)*(wi-Jr)+(Pi-kr)*(Pi-kr),fs=1/Ds-.25;fs<0&&(fs=0);let Xs=Math.sqrt(fs);xt==Pe&&(Xs=-Xs);let Gs=.5*(Jr+wi)-Xs*(Pi-kr),Yr=.5*(kr+Pi)+Xs*(wi-Jr),Ki=Math.atan2(kr-Yr,Jr-Gs),eu=Math.atan2(Pi-Yr,wi-Gs)-Ki;eu<0&&xt===1?eu+=wn:eu>0&&xt===0&&(eu-=wn);let Iu=Math.ceil(Math.abs(eu/(sn+.001))),bs=[];for(let Ma=0;Ma<Iu;++Ma){let $a=Ki+Ma*eu/Iu,wl=Ki+(Ma+1)*eu/Iu;bs[Ma]=[Gs,Yr,$a,wl,H,G,Fe,rt]}return xn[J]=bs}function At(y){let F=Re.call(y);if(zn[F])return zn[F];var H=y[0],G=y[1],Pe=y[2],xt=y[3],x=y[4],T=y[5],z=y[6],J=y[7];let ge=J*x,Fe=-z*T,rt=z*x,Ut=J*T,Sn=Math.cos(Pe),bn=Math.sin(Pe),kn=Math.cos(xt),$n=Math.sin(xt),sr=.5*(xt-Pe),Fr=Math.sin(sr*.5),Jr=8/3*Fr*Fr/Math.sin(sr),kr=H+Sn-Jr*bn,wi=G+bn+Jr*Sn,Pi=H+kn,Ds=G+$n,fs=Pi+Jr*$n,Xs=Ds-Jr*kn;return zn[F]=[ge*kr+Fe*wi,rt*kr+Ut*wi,ge*fs+Fe*Xs,rt*fs+Ut*Xs,ge*Pi+Fe*Ds,rt*Pi+Ut*Ds]}let L=["l",0,0,0,0,0,0,0];function V(y,F,H){let G=L[0]=y[0];if(G==="a"||G==="A")L[1]=F*y[1],L[2]=H*y[2],L[3]=y[3],L[4]=y[4],L[5]=y[5],L[6]=F*y[6],L[7]=H*y[7];else if(G==="h"||G==="H")L[1]=F*y[1];else if(G==="v"||G==="V")L[1]=H*y[1];else for(var Pe=1,xt=y.length;Pe<xt;++Pe)L[Pe]=(Pe%2==1?F:H)*y[Pe];return L}function be(y,F,H,G,Pe,xt){var x,T=null,z=0,J=0,ge=0,Fe=0,rt,Ut,Sn,bn,kn=0,$n=0;H==null&&(H=0),G==null&&(G=0),Pe==null&&(Pe=1),xt==null&&(xt=Pe),y.beginPath&&y.beginPath();for(var sr=0,Fr=F.length;sr<Fr;++sr){switch(x=F[sr],(Pe!==1||xt!==1)&&(x=V(x,Pe,xt)),x[0]){case"l":z+=x[1],J+=x[2],y.lineTo(z+H,J+G);break;case"L":z=x[1],J=x[2],y.lineTo(z+H,J+G);break;case"h":z+=x[1],y.lineTo(z+H,J+G);break;case"H":z=x[1],y.lineTo(z+H,J+G);break;case"v":J+=x[1],y.lineTo(z+H,J+G);break;case"V":J=x[1],y.lineTo(z+H,J+G);break;case"m":z+=x[1],J+=x[2],kn=z,$n=J,y.moveTo(z+H,J+G);break;case"M":z=x[1],J=x[2],kn=z,$n=J,y.moveTo(z+H,J+G);break;case"c":rt=z+x[5],Ut=J+x[6],ge=z+x[3],Fe=J+x[4],y.bezierCurveTo(z+x[1]+H,J+x[2]+G,ge+H,Fe+G,rt+H,Ut+G),z=rt,J=Ut;break;case"C":z=x[5],J=x[6],ge=x[3],Fe=x[4],y.bezierCurveTo(x[1]+H,x[2]+G,ge+H,Fe+G,z+H,J+G);break;case"s":rt=z+x[3],Ut=J+x[4],ge=2*z-ge,Fe=2*J-Fe,y.bezierCurveTo(ge+H,Fe+G,z+x[1]+H,J+x[2]+G,rt+H,Ut+G),ge=z+x[1],Fe=J+x[2],z=rt,J=Ut;break;case"S":rt=x[3],Ut=x[4],ge=2*z-ge,Fe=2*J-Fe,y.bezierCurveTo(ge+H,Fe+G,x[1]+H,x[2]+G,rt+H,Ut+G),z=rt,J=Ut,ge=x[1],Fe=x[2];break;case"q":rt=z+x[3],Ut=J+x[4],ge=z+x[1],Fe=J+x[2],y.quadraticCurveTo(ge+H,Fe+G,rt+H,Ut+G),z=rt,J=Ut;break;case"Q":rt=x[3],Ut=x[4],y.quadraticCurveTo(x[1]+H,x[2]+G,rt+H,Ut+G),z=rt,J=Ut,ge=x[1],Fe=x[2];break;case"t":rt=z+x[1],Ut=J+x[2],T[0].match(/[QqTt]/)===null?(ge=z,Fe=J):T[0]==="t"?(ge=2*z-Sn,Fe=2*J-bn):T[0]==="q"&&(ge=2*z-ge,Fe=2*J-Fe),Sn=ge,bn=Fe,y.quadraticCurveTo(ge+H,Fe+G,rt+H,Ut+G),z=rt,J=Ut,ge=z+x[1],Fe=J+x[2];break;case"T":rt=x[1],Ut=x[2],ge=2*z-ge,Fe=2*J-Fe,y.quadraticCurveTo(ge+H,Fe+G,rt+H,Ut+G),z=rt,J=Ut;break;case"a":pe(y,z+H,J+G,[x[1],x[2],x[3],x[4],x[5],x[6]+z+H,x[7]+J+G]),z+=x[6],J+=x[7];break;case"A":pe(y,z+H,J+G,[x[1],x[2],x[3],x[4],x[5],x[6]+H,x[7]+G]),z=x[6],J=x[7];break;case"z":case"Z":z=kn,J=$n,y.closePath();break}T=x}}function pe(y,F,H,G){let Pe=He(G[5],G[6],G[0],G[1],G[3],G[4],G[2],F,H);for(let xt=0;xt<Pe.length;++xt){let x=At(Pe[xt]);y.bezierCurveTo(x[0],x[1],x[2],x[3],x[4],x[5])}}let Y=.5773502691896257,oe={circle:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(H,0),y.arc(0,0,H,0,wn)}},cross:{draw:function(y,F){var H=Math.sqrt(F)/2,G=H/2.5;y.moveTo(-H,-G),y.lineTo(-H,G),y.lineTo(-G,G),y.lineTo(-G,H),y.lineTo(G,H),y.lineTo(G,G),y.lineTo(H,G),y.lineTo(H,-G),y.lineTo(G,-G),y.lineTo(G,-H),y.lineTo(-G,-H),y.lineTo(-G,-G),y.closePath()}},diamond:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(-H,0),y.lineTo(0,-H),y.lineTo(H,0),y.lineTo(0,H),y.closePath()}},square:{draw:function(y,F){var H=Math.sqrt(F),G=-H/2;y.rect(G,G,H,H)}},arrow:{draw:function(y,F){var H=Math.sqrt(F)/2,G=H/7,Pe=H/2.5,xt=H/8;y.moveTo(-G,H),y.lineTo(G,H),y.lineTo(G,-xt),y.lineTo(Pe,-xt),y.lineTo(0,-H),y.lineTo(-Pe,-xt),y.lineTo(-G,-xt),y.closePath()}},wedge:{draw:function(y,F){var H=Math.sqrt(F)/2,G=yn*H,Pe=G-H*Y,xt=H/4;y.moveTo(0,-G-Pe),y.lineTo(-xt,G-Pe),y.lineTo(xt,G-Pe),y.closePath()}},triangle:{draw:function(y,F){var H=Math.sqrt(F)/2,G=yn*H,Pe=G-H*Y;y.moveTo(0,-G-Pe),y.lineTo(-H,G-Pe),y.lineTo(H,G-Pe),y.closePath()}},"triangle-up":{draw:function(y,F){var H=Math.sqrt(F)/2,G=yn*H;y.moveTo(0,-G),y.lineTo(-H,G),y.lineTo(H,G),y.closePath()}},"triangle-down":{draw:function(y,F){var H=Math.sqrt(F)/2,G=yn*H;y.moveTo(0,G),y.lineTo(-H,-G),y.lineTo(H,-G),y.closePath()}},"triangle-right":{draw:function(y,F){var H=Math.sqrt(F)/2,G=yn*H;y.moveTo(G,0),y.lineTo(-G,-H),y.lineTo(-G,H),y.closePath()}},"triangle-left":{draw:function(y,F){var H=Math.sqrt(F)/2,G=yn*H;y.moveTo(-G,0),y.lineTo(G,-H),y.lineTo(G,H),y.closePath()}},stroke:{draw:function(y,F){let H=Math.sqrt(F)/2;y.moveTo(-H,0),y.lineTo(H,0)}}};function ce(y){return e.hasOwnProperty(oe,y)?oe[y]:Rt(y)}var Qe={};function Rt(y){if(!e.hasOwnProperty(Qe,y)){let F=we(y);Qe[y]={draw:function(H,G){be(H,F,0,0,Math.sqrt(G)/2)}}}return Qe[y]}let Et=.448084975506;function ln(y){return y.x}function S(y){return y.y}function B(y){return y.width}function ee(y){return y.height}function Ee(y){return typeof y=="function"?y:()=>+y}function ft(y,F,H){return Math.max(F,Math.min(y,H))}function Ct(){var y=ln,F=S,H=B,G=ee,Pe=Ee(0),xt=Pe,x=Pe,T=Pe,z=null;function J(ge,Fe,rt){var Ut,Sn=Fe??+y.call(this,ge),bn=rt??+F.call(this,ge),kn=+H.call(this,ge),$n=+G.call(this,ge),sr=Math.min(kn,$n)/2,Fr=ft(+Pe.call(this,ge),0,sr),Jr=ft(+xt.call(this,ge),0,sr),kr=ft(+x.call(this,ge),0,sr),wi=ft(+T.call(this,ge),0,sr);if(z||(z=Ut=P()),Fr<=0&&Jr<=0&&kr<=0&&wi<=0)z.rect(Sn,bn,kn,$n);else{var Pi=Sn+kn,Ds=bn+$n;z.moveTo(Sn+Fr,bn),z.lineTo(Pi-Jr,bn),z.bezierCurveTo(Pi-Et*Jr,bn,Pi,bn+Et*Jr,Pi,bn+Jr),z.lineTo(Pi,Ds-wi),z.bezierCurveTo(Pi,Ds-Et*wi,Pi-Et*wi,Ds,Pi-wi,Ds),z.lineTo(Sn+kr,Ds),z.bezierCurveTo(Sn+Et*kr,Ds,Sn,Ds-Et*kr,Sn,Ds-kr),z.lineTo(Sn,bn+Fr),z.bezierCurveTo(Sn,bn+Et*Fr,Sn+Et*Fr,bn,Sn+Fr,bn),z.closePath()}if(Ut)return z=null,Ut+""||null}return J.x=function(ge){return arguments.length?(y=Ee(ge),J):y},J.y=function(ge){return arguments.length?(F=Ee(ge),J):F},J.width=function(ge){return arguments.length?(H=Ee(ge),J):H},J.height=function(ge){return arguments.length?(G=Ee(ge),J):G},J.cornerRadius=function(ge,Fe,rt,Ut){return arguments.length?(Pe=Ee(ge),xt=Fe!=null?Ee(Fe):Pe,T=rt!=null?Ee(rt):Pe,x=Ut!=null?Ee(Ut):xt,J):Pe},J.context=function(ge){return arguments.length?(z=ge??null,J):z},J}function Jt(){var y,F,H,G,Pe=null,xt,x,T,z;function J(Fe,rt,Ut){let Sn=Ut/2;if(xt){var bn=T-rt,kn=Fe-x;if(bn||kn){var $n=Math.sqrt(bn*bn+kn*kn),sr=(bn/=$n)*z,Fr=(kn/=$n)*z,Jr=Math.atan2(kn,bn);Pe.moveTo(x-sr,T-Fr),Pe.lineTo(Fe-bn*Sn,rt-kn*Sn),Pe.arc(Fe,rt,Sn,Jr-Math.PI,Jr),Pe.lineTo(x+sr,T+Fr),Pe.arc(x,T,z,Jr,Jr+Math.PI)}else Pe.arc(Fe,rt,Sn,0,wn);Pe.closePath()}else xt=1;x=Fe,T=rt,z=Sn}function ge(Fe){var rt,Ut=Fe.length,Sn,bn=!1,kn;for(Pe==null&&(Pe=kn=P()),rt=0;rt<=Ut;++rt)!(rt<Ut&&G(Sn=Fe[rt],rt,Fe))===bn&&(bn=!bn)&&(xt=0),bn&&J(+y(Sn,rt,Fe),+F(Sn,rt,Fe),+H(Sn,rt,Fe));if(kn)return Pe=null,kn+""||null}return ge.x=function(Fe){return arguments.length?(y=Fe,ge):y},ge.y=function(Fe){return arguments.length?(F=Fe,ge):F},ge.size=function(Fe){return arguments.length?(H=Fe,ge):H},ge.defined=function(Fe){return arguments.length?(G=Fe,ge):G},ge.context=function(Fe){return arguments.length?(Fe==null?Pe=null:Pe=Fe,ge):Pe},ge}function Kt(y,F){return y??F}let hn=y=>y.x||0,Bn=y=>y.y||0,jn=y=>y.width||0,Vn=y=>y.height||0,Xr=y=>(y.x||0)+(y.width||0),Wr=y=>(y.y||0)+(y.height||0),yr=y=>y.startAngle||0,Pr=y=>y.endAngle||0,vi=y=>y.padAngle||0,li=y=>y.innerRadius||0,Xi=y=>y.outerRadius||0,ws=y=>y.cornerRadius||0,ts=y=>Kt(y.cornerRadiusTopLeft,y.cornerRadius)||0,Ca=y=>Kt(y.cornerRadiusTopRight,y.cornerRadius)||0,pa=y=>Kt(y.cornerRadiusBottomRight,y.cornerRadius)||0,hl=y=>Kt(y.cornerRadiusBottomLeft,y.cornerRadius)||0,Sc=y=>Kt(y.size,64),cu=y=>y.size||1,fu=y=>y.defined!==!1,Xu=y=>ce(y.shape||"circle"),Fu=Je().startAngle(yr).endAngle(Pr).padAngle(vi).innerRadius(li).outerRadius(Xi).cornerRadius(ws),wc=cn().x(hn).y1(Bn).y0(Wr).defined(fu),ta=cn().y(Bn).x1(hn).x0(Xr).defined(fu),Zu=It().x(hn).y(Bn).defined(fu),Qc=Ct().x(hn).y(Bn).width(jn).height(Vn).cornerRadius(ts,Ca,pa,hl),Ge=ue().type(Xu).size(Sc),Gt=Jt().x(hn).y(Bn).defined(fu).size(cu);function Mn(y){return y.cornerRadius||y.cornerRadiusTopLeft||y.cornerRadiusTopRight||y.cornerRadiusBottomRight||y.cornerRadiusBottomLeft}function Yn(y,F){return Fu.context(y)(F)}function si(y,F){let H=F[0],G=H.interpolate||"linear";return(H.orient==="horizontal"?ta:wc).curve(Te(G,H.orient,H.tension)).context(y)(F)}function jr(y,F){let H=F[0],G=H.interpolate||"linear";return Zu.curve(Te(G,H.orient,H.tension)).context(y)(F)}function Zr(y,F,H,G){return Qc.context(y)(F,H,G)}function Cs(y,F){return(F.mark.shape||F.shape).context(y)(F)}function fo(y,F){return Ge.context(y)(F)}function ro(y,F){return Gt.context(y)(F)}var hs=1;function io(){hs=1}function ho(y,F,H){var G=F.clip,Pe=y._defs,xt=F.clip_id||(F.clip_id="clip"+hs++),x=Pe.clipping[xt]||(Pe.clipping[xt]={id:xt});return e.isFunction(G)?x.path=G(null):Mn(H)?x.path=Zr(null,H,0,0):(x.width=H.width||0,x.height=H.height||0),"url(#"+xt+")"}function xi(y){this.clear(),y&&this.union(y)}xi.prototype={clone(){return new xi(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(y){return this.x1===y.x1&&this.y1===y.y1&&this.x2===y.x2&&this.y2===y.y2},set(y,F,H,G){return H<y?(this.x2=y,this.x1=H):(this.x1=y,this.x2=H),G<F?(this.y2=F,this.y1=G):(this.y1=F,this.y2=G),this},add(y,F){return y<this.x1&&(this.x1=y),F<this.y1&&(this.y1=F),y>this.x2&&(this.x2=y),F>this.y2&&(this.y2=F),this},expand(y){return this.x1-=y,this.y1-=y,this.x2+=y,this.y2+=y,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(y){return this.x1*=y,this.y1*=y,this.x2*=y,this.y2*=y,this},translate(y,F){return this.x1+=y,this.x2+=y,this.y1+=F,this.y2+=F,this},rotate(y,F,H){let G=this.rotatedPoints(y,F,H);return this.clear().add(G[0],G[1]).add(G[2],G[3]).add(G[4],G[5]).add(G[6],G[7])},rotatedPoints(y,F,H){var{x1:G,y1:Pe,x2:xt,y2:x}=this,T=Math.cos(y),z=Math.sin(y),J=F-F*T+H*z,ge=H-F*z-H*T;return[T*G-z*Pe+J,z*G+T*Pe+ge,T*G-z*x+J,z*G+T*x+ge,T*xt-z*Pe+J,z*xt+T*Pe+ge,T*xt-z*x+J,z*xt+T*x+ge]},union(y){return y.x1<this.x1&&(this.x1=y.x1),y.y1<this.y1&&(this.y1=y.y1),y.x2>this.x2&&(this.x2=y.x2),y.y2>this.y2&&(this.y2=y.y2),this},intersect(y){return y.x1>this.x1&&(this.x1=y.x1),y.y1>this.y1&&(this.y1=y.y1),y.x2<this.x2&&(this.x2=y.x2),y.y2<this.y2&&(this.y2=y.y2),this},encloses(y){return y&&this.x1<=y.x1&&this.x2>=y.x2&&this.y1<=y.y1&&this.y2>=y.y2},alignsWith(y){return y&&(this.x1==y.x1||this.x2==y.x2||this.y1==y.y1||this.y2==y.y2)},intersects(y){return y&&!(this.x2<y.x1||this.x1>y.x2||this.y2<y.y1||this.y1>y.y2)},contains(y,F){return!(y<this.x1||y>this.x2||F<this.y1||F>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Ci(y){this.mark=y,this.bounds=this.bounds||new xi}function Wi(y){Ci.call(this,y),this.items=this.items||[]}e.inherits(Wi,Ci);function Xo(y){this._pending=0,this._loader=y||r.loader()}function fa(y){y._pending+=1}function da(y){y._pending-=1}Xo.prototype={pending(){return this._pending},sanitizeURL(y){let F=this;return fa(F),F._loader.sanitize(y,{context:"href"}).then(H=>(da(F),H)).catch(()=>(da(F),null))},loadImage(y){let F=this,H=t.image();return fa(F),F._loader.sanitize(y,{context:"image"}).then(G=>{let Pe=G.href;if(!Pe||!H)throw{url:Pe};let xt=new H,x=e.hasOwnProperty(G,"crossOrigin")?G.crossOrigin:"anonymous";return x!=null&&(xt.crossOrigin=x),xt.onload=()=>da(F),xt.onerror=()=>da(F),xt.src=Pe,xt}).catch(G=>(da(F),{complete:!1,width:0,height:0,src:G&&G.url||""}))},ready(){let y=this;return new Promise(F=>{function H(G){y.pending()?setTimeout(()=>{H(!0)},10):F(G)}H(!1)})}};function po(y,F,H){if(F.stroke&&F.opacity!==0&&F.strokeOpacity!==0){let G=F.strokeWidth!=null?+F.strokeWidth:1;y.expand(G+(H?us(F,G):0))}return y}function us(y,F){return y.strokeJoin&&y.strokeJoin!=="miter"?0:F}let ps=wn-1e-8,Zi,du,Is,ma,oa,ki,Vo,vs,Bi=(y,F)=>Zi.add(y,F),Oo=(y,F)=>Bi(du=y,Is=F),Na=y=>Bi(y,Zi.y1),Ja=y=>Bi(Zi.x1,y),Ro=(y,F)=>oa*y+Vo*F,To=(y,F)=>ki*y+vs*F,qa=(y,F)=>Bi(Ro(y,F),To(y,F)),hu=(y,F)=>Oo(Ro(y,F),To(y,F));function Ua(y,F){return Zi=y,F?(ma=F*nt,oa=vs=Math.cos(ma),ki=Math.sin(ma),Vo=-ki):(oa=vs=1,ma=ki=Vo=0),aa}let aa={beginPath(){},closePath(){},moveTo:hu,lineTo:hu,rect(y,F,H,G){ma?(qa(y+H,F),qa(y+H,F+G),qa(y,F+G),hu(y,F)):(Bi(y+H,F+G),Oo(y,F))},quadraticCurveTo(y,F,H,G){let Pe=Ro(y,F),xt=To(y,F),x=Ro(H,G),T=To(H,G);ua(du,Pe,x,Na),ua(Is,xt,T,Ja),Oo(x,T)},bezierCurveTo(y,F,H,G,Pe,xt){let x=Ro(y,F),T=To(y,F),z=Ro(H,G),J=To(H,G),ge=Ro(Pe,xt),Fe=To(Pe,xt);pl(du,x,z,ge,Na),pl(Is,T,J,Fe,Ja),Oo(ge,Fe)},arc(y,F,H,G,Pe,xt){if(G+=ma,Pe+=ma,du=H*Math.cos(Pe)+y,Is=H*Math.sin(Pe)+F,Math.abs(Pe-G)>ps)Bi(y-H,F-H),Bi(y+H,F+H);else{let x=J=>Bi(H*Math.cos(J)+y,H*Math.sin(J)+F),T,z;if(x(G),x(Pe),Pe!==G)if(G=G%wn,G<0&&(G+=wn),Pe=Pe%wn,Pe<0&&(Pe+=wn),Pe<G&&(xt=!xt,T=G,G=Pe,Pe=T),xt)for(Pe-=wn,T=G-G%sn,z=0;z<4&&T>Pe;++z,T-=sn)x(T);else for(T=G-G%sn+sn,z=0;z<4&&T<Pe;++z,T=T+sn)x(T)}}};function ua(y,F,H,G){let Pe=(y-F)/(y+H-2*F);0<Pe&&Pe<1&&G(y+(F-y)*Pe)}function pl(y,F,H,G,Pe){let xt=G-y+3*F-3*H,x=y+H-2*F,T=y-F,z=0,J=0,ge;Math.abs(xt)>Pt?(ge=x*x+T*xt,ge>=0&&(ge=Math.sqrt(ge),z=(-x+ge)/xt,J=(-x-ge)/xt)):z=.5*T/x,0<z&&z<1&&Pe(Pl(z,y,F,H,G)),0<J&&J<1&&Pe(Pl(J,y,F,H,G))}function Pl(y,F,H,G,Pe){let xt=1-y,x=xt*xt,T=y*y;return x*xt*F+3*x*y*H+3*xt*T*G+T*y*Pe}var na=(na=t.canvas(1,1))?na.getContext("2d"):null;let el=new xi;function ci(y){return function(F,H){if(!na)return!0;y(na,F),el.clear().union(F.bounds).intersect(H).round();let{x1:G,y1:Pe,x2:xt,y2:x}=el;for(let T=Pe;T<=x;++T)for(let z=G;z<=xt;++z)if(na.isPointInPath(z,T))return!0;return!1}}function rs(y,F){return F.contains(y.x||0,y.y||0)}function ls(y,F){let H=y.x||0,G=y.y||0,Pe=y.width||0,xt=y.height||0;return F.intersects(el.set(H,G,H+Pe,G+xt))}function pr(y,F){let H=y.x||0,G=y.y||0,Pe=y.x2!=null?y.x2:H,xt=y.y2!=null?y.y2:G;return as(F,H,G,Pe,xt)}function as(y,F,H,G,Pe){let{x1:xt,y1:x,x2:T,y2:z}=y,J=G-F,ge=Pe-H,Fe=0,rt=1,Ut,Sn,bn,kn;for(kn=0;kn<4;++kn){if(kn===0&&(Ut=-J,Sn=-(xt-F)),kn===1&&(Ut=J,Sn=T-F),kn===2&&(Ut=-ge,Sn=-(x-H)),kn===3&&(Ut=ge,Sn=z-H),Math.abs(Ut)<1e-10&&Sn<0)return!1;if(bn=Sn/Ut,Ut<0){if(bn>rt)return!1;bn>Fe&&(Fe=bn)}else if(Ut>0){if(bn<Fe)return!1;bn<rt&&(rt=bn)}}return!0}function Me(y,F){y.globalCompositeOperation=F.blend||"source-over"}function pt(y,F){return y??F}function Yt(y,F){let H=F.length;for(let G=0;G<H;++G)y.addColorStop(F[G].offset,F[G].color);return y}function Bt(y,F,H){let G=H.width(),Pe=H.height(),xt;if(F.gradient==="radial")xt=y.createRadialGradient(H.x1+pt(F.x1,.5)*G,H.y1+pt(F.y1,.5)*Pe,Math.max(G,Pe)*pt(F.r1,0),H.x1+pt(F.x2,.5)*G,H.y1+pt(F.y2,.5)*Pe,Math.max(G,Pe)*pt(F.r2,.5));else{let x=pt(F.x1,0),T=pt(F.y1,0),z=pt(F.x2,1),J=pt(F.y2,0);if(x===z||T===J||G===Pe)xt=y.createLinearGradient(H.x1+x*G,H.y1+T*Pe,H.x1+z*G,H.y1+J*Pe);else{let ge=t.canvas(Math.ceil(G),Math.ceil(Pe)),Fe=ge.getContext("2d");return Fe.scale(G,Pe),Fe.fillStyle=Yt(Fe.createLinearGradient(x,T,z,J),F.stops),Fe.fillRect(0,0,G,Pe),y.createPattern(ge,"no-repeat")}}return Yt(xt,F.stops)}function dn(y,F,H){return c(H)?Bt(y,H,F.bounds):H}function Nn(y,F,H){return H*=F.fillOpacity==null?1:F.fillOpacity,H>0?(y.globalAlpha=H,y.fillStyle=dn(y,F,F.fill),!0):!1}var Kn=[];function Un(y,F,H){var G=(G=F.strokeWidth)!=null?G:1;return G<=0?!1:(H*=F.strokeOpacity==null?1:F.strokeOpacity,H>0?(y.globalAlpha=H,y.strokeStyle=dn(y,F,F.stroke),y.lineWidth=G,y.lineCap=F.strokeCap||"butt",y.lineJoin=F.strokeJoin||"miter",y.miterLimit=F.strokeMiterLimit||10,y.setLineDash&&(y.setLineDash(F.strokeDash||Kn),y.lineDashOffset=F.strokeDashOffset||0),!0):!1)}function br(y,F){return y.zindex-F.zindex||y.index-F.index}function wr(y){if(!y.zdirty)return y.zitems;var F=y.items,H=[],G,Pe,xt;for(Pe=0,xt=F.length;Pe<xt;++Pe)G=F[Pe],G.index=Pe,G.zindex&&H.push(G);return y.zdirty=!1,y.zitems=H.sort(br)}function Gn(y,F){var H=y.items,G,Pe;if(!H||!H.length)return;let xt=wr(y);if(xt&&xt.length){for(G=0,Pe=H.length;G<Pe;++G)H[G].zindex||F(H[G]);H=xt}for(G=0,Pe=H.length;G<Pe;++G)F(H[G])}function ur(y,F){var H=y.items,G,Pe;if(!H||!H.length)return null;let xt=wr(y);for(xt&&xt.length&&(H=xt),Pe=H.length;--Pe>=0;)if(G=F(H[Pe]))return G;if(H===xt){for(H=y.items,Pe=H.length;--Pe>=0;)if(!H[Pe].zindex&&(G=F(H[Pe])))return G}return null}function tr(y){return function(F,H,G){Gn(H,Pe=>{(!G||G.intersects(Pe.bounds))&&Or(y,F,Pe,Pe)})}}function gr(y){return function(F,H,G){H.items.length&&(!G||G.intersects(H.bounds))&&Or(y,F,H.items[0],H.items)}}function Or(y,F,H,G){var Pe=H.opacity==null?1:H.opacity;Pe!==0&&(y(F,G)||(Me(F,H),H.fill&&Nn(F,H,Pe)&&F.fill(),H.stroke&&Un(F,H,Pe)&&F.stroke()))}function mi(y){return y=y||e.truthy,function(F,H,G,Pe,xt,x){return G*=F.pixelRatio,Pe*=F.pixelRatio,ur(H,T=>{let z=T.bounds;if(!(z&&!z.contains(xt,x)||!z)&&y(F,T,G,Pe,xt,x))return T})}}function ii(y,F){return function(H,G,Pe,xt){var x=Array.isArray(G)?G[0]:G,T=F??x.fill,z=x.stroke&&H.isPointInStroke,J,ge;return z&&(J=x.strokeWidth,ge=x.strokeCap,H.lineWidth=J??1,H.lineCap=ge??"butt"),y(H,G)?!1:T&&H.isPointInPath(Pe,xt)||z&&H.isPointInStroke(Pe,xt)}}function gi(y){return mi(ii(y))}function oi(y,F){return"translate("+y+","+F+")"}function Ur(y){return"rotate("+y+")"}function Ir(y,F){return"scale("+y+","+F+")"}function bi(y){return oi(y.x||0,y.y||0)}function _i(y){return oi(y.x||0,y.y||0)+(y.angle?" "+Ur(y.angle):"")}function os(y){return oi(y.x||0,y.y||0)+(y.angle?" "+Ur(y.angle):"")+(y.scaleX||y.scaleY?" "+Ir(y.scaleX||1,y.scaleY||1):"")}function gs(y,F,H){function G(x,T){x("transform",_i(T)),x("d",F(null,T))}function Pe(x,T){return F(Ua(x,T.angle),T),po(x,T).translate(T.x||0,T.y||0)}function xt(x,T){var z=T.x||0,J=T.y||0,ge=T.angle||0;x.translate(z,J),ge&&x.rotate(ge*=nt),x.beginPath(),F(x,T),ge&&x.rotate(-ge),x.translate(-z,-J)}return{type:y,tag:"path",nested:!1,attr:G,bound:Pe,draw:tr(xt),pick:gi(xt),isect:H||ci(xt)}}var Ei=gs("arc",Yn);function Ms(y,F){for(var H=y[0].orient==="horizontal"?F[1]:F[0],G=y[0].orient==="horizontal"?"y":"x",Pe=y.length,xt=1/0,x,T;--Pe>=0;)y[Pe].defined!==!1&&(T=Math.abs(y[Pe][G]-H),T<xt&&(xt=T,x=y[Pe]));return x}function is(y,F){for(var H=Math.pow(y[0].strokeWidth||1,2),G=y.length,Pe,xt,x;--G>=0;)if(y[G].defined!==!1&&(Pe=y[G].x-F[0],xt=y[G].y-F[1],x=Pe*Pe+xt*xt,x<H))return y[G];return null}function xa(y,F){for(var H=y.length,G,Pe,xt;--H>=0;)if(y[H].defined!==!1&&(G=y[H].x-F[0],Pe=y[H].y-F[1],xt=G*G+Pe*Pe,G=y[H].size||1,xt<G*G))return y[H];return null}function No(y,F,H){function G(z,J){var ge=J.mark.items;ge.length&&z("d",F(null,ge))}function Pe(z,J){var ge=J.items;return ge.length===0?z:(F(Ua(z),ge),po(z,ge[0]))}function xt(z,J){z.beginPath(),F(z,J)}let x=ii(xt);function T(z,J,ge,Fe,rt,Ut){var Sn=J.items,bn=J.bounds;return!Sn||!Sn.length||bn&&!bn.contains(rt,Ut)?null:(ge*=z.pixelRatio,Fe*=z.pixelRatio,x(z,Sn,ge,Fe)?Sn[0]:null)}return{type:y,tag:"path",nested:!0,attr:G,bound:Pe,draw:gr(xt),pick:T,isect:rs,tip:H}}var As=No("area",si,Ms);function Zt(y,F){var H=F.clip;y.save(),e.isFunction(H)?(y.beginPath(),H(y),y.clip()):Jn(y,F.group)}function Jn(y,F){y.beginPath(),Mn(F)?Zr(y,F,0,0):y.rect(0,0,F.width||0,F.height||0),y.clip()}function vn(y){let F=pt(y.strokeWidth,1);return y.strokeOffset!=null?y.strokeOffset:y.stroke&&F>.5&&F<1.5?.5-Math.abs(F-1):0}function Kr(y,F){y("transform",bi(F))}function Oi(y,F){let H=vn(F);y("d",Zr(null,F,H,H))}function ns(y,F){y("class","background"),y("aria-hidden",!0),Oi(y,F)}function ms(y,F){y("class","foreground"),y("aria-hidden",!0),F.strokeForeground?Oi(y,F):y("d","")}function $i(y,F,H){let G=F.clip?ho(H,F,F):null;y("clip-path",G)}function cs(y,F){if(!F.clip&&F.items){let H=F.items,G=H.length;for(let Pe=0;Pe<G;++Pe)y.union(H[Pe].bounds)}return(F.clip||F.width||F.height)&&!F.noBound&&y.add(0,0).add(F.width||0,F.height||0),po(y,F),y.translate(F.x||0,F.y||0)}function pu(y,F,H,G){let Pe=vn(F);y.beginPath(),Zr(y,F,(H||0)+Pe,(G||0)+Pe)}let ae=ii(pu),ot=ii(pu,!1),Xt=ii(pu,!0);function Tn(y,F,H){Gn(F,G=>{let Pe=G.x||0,xt=G.y||0,x=G.strokeForeground,T=G.opacity==null?1:G.opacity;(G.stroke||G.fill)&&T&&(pu(y,G,Pe,xt),Me(y,G),G.fill&&Nn(y,G,T)&&y.fill(),G.stroke&&!x&&Un(y,G,T)&&y.stroke()),y.save(),y.translate(Pe,xt),G.clip&&Jn(y,G),H&&H.translate(-Pe,-xt),Gn(G,z=>{this.draw(y,z,H)}),H&&H.translate(Pe,xt),y.restore(),x&&G.stroke&&T&&(pu(y,G,Pe,xt),Me(y,G),Un(y,G,T)&&y.stroke())})}function rr(y,F,H,G,Pe,xt){if(F.bounds&&!F.bounds.contains(Pe,xt)||!F.items)return null;let x=H*y.pixelRatio,T=G*y.pixelRatio;return ur(F,z=>{let J,ge,Fe,rt=z.bounds;if(rt&&!rt.contains(Pe,xt))return;ge=z.x||0,Fe=z.y||0;let Ut=ge+(z.width||0),Sn=Fe+(z.height||0),bn=z.clip;if(bn&&(Pe<ge||Pe>Ut||xt<Fe||xt>Sn))return;if(y.save(),y.translate(ge,Fe),ge=Pe-ge,Fe=xt-Fe,bn&&Mn(z)&&!Xt(y,z,x,T))return y.restore(),null;let kn=z.strokeForeground,$n=F.interactive!==!1;return $n&&kn&&z.stroke&&ot(y,z,x,T)?(y.restore(),z):(J=ur(z,sr=>vr(sr,ge,Fe)?this.pick(sr,H,G,ge,Fe):null),!J&&$n&&(z.fill||!kn&&z.stroke)&&ae(y,z,x,T)&&(J=z),y.restore(),J||null)})}function vr(y,F,H){return(y.interactive!==!1||y.marktype==="group")&&y.bounds&&y.bounds.contains(F,H)}var dr={type:"group",tag:"g",nested:!1,attr:Kr,bound:cs,draw:Tn,pick:rr,isect:ls,content:$i,background:ns,foreground:ms},es={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function _s(y,F){var H=y.image;return(!H||y.url&&y.url!==H.url)&&(H={complete:!1,width:0,height:0},F.loadImage(y.url).then(G=>{y.image=G,y.image.url=y.url})),H}function Rs(y,F){return y.width!=null?y.width:!F||!F.width?0:y.aspect!==!1&&y.height?y.height*F.width/F.height:F.width}function so(y,F){return y.height!=null?y.height:!F||!F.height?0:y.aspect!==!1&&y.width?y.width*F.height/F.width:F.height}function Xa(y,F){return y==="center"?F/2:y==="right"?F:0}function Xl(y,F){return y==="middle"?F/2:y==="bottom"?F:0}function Gc(y,F,H){let G=_s(F,H),Pe=Rs(F,G),xt=so(F,G),x=(F.x||0)-Xa(F.align,Pe),T=(F.y||0)-Xl(F.baseline,xt),z=!G.src&&G.toDataURL?G.toDataURL():G.src||"";y("href",z,es["xmlns:xlink"],"xlink:href"),y("transform",oi(x,T)),y("width",Pe),y("height",xt),y("preserveAspectRatio",F.aspect===!1?"none":"xMidYMid")}function Cc(y,F){let H=F.image,G=Rs(F,H),Pe=so(F,H),xt=(F.x||0)-Xa(F.align,G),x=(F.y||0)-Xl(F.baseline,Pe);return y.set(xt,x,xt+G,x+Pe)}function e0(y,F,H){Gn(F,G=>{if(H&&!H.intersects(G.bounds))return;let Pe=_s(G,this),xt=Rs(G,Pe),x=so(G,Pe);if(xt===0||x===0)return;let T=(G.x||0)-Xa(G.align,xt),z=(G.y||0)-Xl(G.baseline,x),J,ge,Fe,rt;G.aspect!==!1&&(ge=Pe.width/Pe.height,Fe=G.width/G.height,ge===ge&&Fe===Fe&&ge!==Fe&&(Fe<ge?(rt=xt/ge,z+=(x-rt)/2,x=rt):(rt=x*ge,T+=(xt-rt)/2,xt=rt))),(Pe.complete||Pe.toDataURL)&&(Me(y,G),y.globalAlpha=(J=G.opacity)!=null?J:1,y.imageSmoothingEnabled=G.smooth!==!1,y.drawImage(Pe,T,z,xt,x))})}var U0={type:"image",tag:"image",nested:!1,attr:Gc,bound:Cc,draw:e0,pick:mi(),isect:e.truthy,get:_s,xOffset:Xa,yOffset:Xl},Zl=No("line",jr,is);function Yc(y,F){var H=F.scaleX||1,G=F.scaleY||1;(H!==1||G!==1)&&y("vector-effect","non-scaling-stroke"),y("transform",os(F)),y("d",F.path)}function t0(y,F){var H=F.path;if(H==null)return!0;var G=F.x||0,Pe=F.y||0,xt=F.scaleX||1,x=F.scaleY||1,T=(F.angle||0)*nt,z=F.pathCache;(!z||z.path!==H)&&((F.pathCache=z=we(H)).path=H),T&&y.rotate&&y.translate?(y.translate(G,Pe),y.rotate(T),be(y,z,0,0,xt,x),y.rotate(-T),y.translate(-G,-Pe)):be(y,z,G,Pe,xt,x)}function ml(y,F){return t0(Ua(y,F.angle),F)?y.set(0,0,0,0):po(y,F,!0)}var Ac={type:"path",tag:"path",nested:!1,attr:Yc,bound:ml,draw:tr(t0),pick:gi(t0),isect:ci(t0)};function n0(y,F){y("d",Zr(null,F))}function ec(y,F){var H,G;return po(y.set(H=F.x||0,G=F.y||0,H+F.width||0,G+F.height||0),F)}function Bl(y,F){y.beginPath(),Zr(y,F)}var z0={type:"rect",tag:"path",nested:!1,attr:n0,bound:ec,draw:tr(Bl),pick:gi(Bl),isect:ls};function yh(y,F){y("transform",bi(F)),y("x2",F.x2!=null?F.x2-(F.x||0):0),y("y2",F.y2!=null?F.y2-(F.y||0):0)}function H0(y,F){var H,G;return po(y.set(H=F.x||0,G=F.y||0,F.x2!=null?F.x2:H,F.y2!=null?F.y2:G),F)}function $0(y,F,H){var G,Pe,xt,x;return F.stroke&&Un(y,F,H)?(G=F.x||0,Pe=F.y||0,xt=F.x2!=null?F.x2:G,x=F.y2!=null?F.y2:Pe,y.beginPath(),y.moveTo(G,Pe),y.lineTo(xt,x),!0):!1}function Kc(y,F,H){Gn(F,G=>{if(!(H&&!H.intersects(G.bounds))){var Pe=G.opacity==null?1:G.opacity;Pe&&$0(y,G,Pe)&&(Me(y,G),y.stroke())}})}function V0(y,F,H,G){return y.isPointInStroke?$0(y,F,1)&&y.isPointInStroke(H,G):!1}var Tc={type:"rule",tag:"line",nested:!1,attr:yh,bound:H0,draw:Kc,pick:mi(V0),isect:pr},r0=gs("shape",Cs),i0=gs("symbol",fo,rs);let s0=e.lruCache();var Uo={height:Du,measureWidth:Jc,estimateWidth:o0,width:o0,canvas:Zo};Zo(!0);function Zo(y){Uo.width=y&&na?Jc:o0}function o0(y,F){return xl(yl(y,F),Du(y))}function xl(y,F){return~~(.8*y.length*F)}function Jc(y,F){return Du(y)<=0||!(F=yl(y,F))?0:Ld(F,Ot(y))}function Ld(y,F){let H=`(${F}) ${y}`,G=s0.get(H);return G===void 0&&(na.font=F,G=na.measureText(y).width,s0.set(H,G)),G}function Du(y){return y.fontSize!=null?+y.fontSize||0:11}function _o(y){return y.lineHeight!=null?y.lineHeight:Du(y)+2}function vh(y){return e.isArray(y)?y.length>1?y:y[0]:y}function gl(y){return vh(y.lineBreak&&y.text&&!e.isArray(y.text)?y.text.split(y.lineBreak):y.text)}function Ls(y){let F=gl(y);return(e.isArray(F)?F.length-1:0)*_o(y)}function yl(y,F){let H=F==null?"":(F+"").trim();return y.limit>0&&H.length?X(y,H):H}function k(y){if(Uo.width===Jc){let F=Ot(y);return H=>Ld(H,F)}else{let F=Du(y);return H=>xl(H,F)}}function X(y,F){var H=+y.limit,G=k(y);if(G(F)<H)return F;var Pe=y.ellipsis||"\u2026",xt=y.dir==="rtl",x=0,T=F.length,z;if(H-=G(Pe),xt){for(;x<T;)z=x+T>>>1,G(F.slice(z))>H?x=z+1:T=z;return Pe+F.slice(x)}else{for(;x<T;)z=1+(x+T>>>1),G(F.slice(0,z))<H?x=z:T=z-1;return F.slice(0,x)+Pe}}function Ue(y,F){var H=y.font;return(F&&H?String(H).replace(/"/g,"'"):H)||"sans-serif"}function Ot(y,F){return(y.fontStyle?y.fontStyle+" ":"")+(y.fontVariant?y.fontVariant+" ":"")+(y.fontWeight?y.fontWeight+" ":"")+Du(y)+"px "+Ue(y,F)}function zt(y){var F=y.baseline,H=Du(y);return Math.round(F==="top"?.79*H:F==="middle"?.3*H:F==="bottom"?-.21*H:F==="line-top"?.29*H+.5*_o(y):F==="line-bottom"?.29*H-.5*_o(y):0)}let Cn={left:"start",center:"middle",right:"end"},Ln=new xi;function ir(y){var F=y.x||0,H=y.y||0,G=y.radius||0,Pe;return G&&(Pe=(y.theta||0)-sn,F+=G*Math.cos(Pe),H+=G*Math.sin(Pe)),Ln.x1=F,Ln.y1=H,Ln}function hr(y,F){var H=F.dx||0,G=(F.dy||0)+zt(F),Pe=ir(F),xt=Pe.x1,x=Pe.y1,T=F.angle||0,z;y("text-anchor",Cn[F.align]||"start"),T?(z=oi(xt,x)+" "+Ur(T),(H||G)&&(z+=" "+oi(H,G))):z=oi(xt+H,x+G),y("transform",z)}function Nr(y,F,H){var G=Uo.height(F),Pe=F.align,xt=ir(F),x=xt.x1,T=xt.y1,z=F.dx||0,J=(F.dy||0)+zt(F)-Math.round(.8*G),ge=gl(F),Fe;if(e.isArray(ge)?(G+=_o(F)*(ge.length-1),Fe=ge.reduce((rt,Ut)=>Math.max(rt,Uo.width(F,Ut)),0)):Fe=Uo.width(F,ge),Pe==="center"?z-=Fe/2:Pe==="right"&&(z-=Fe),y.set(z+=x,J+=T,z+Fe,J+G),F.angle&&!H)y.rotate(F.angle*nt,x,T);else if(H===2)return y.rotatedPoints(F.angle*nt,x,T);return y}function tt(y,F,H){Gn(F,G=>{var Pe=G.opacity==null?1:G.opacity,xt,x,T,z,J,ge,Fe;if(!(H&&!H.intersects(G.bounds)||Pe===0||G.fontSize<=0||G.text==null||G.text.length===0)){if(y.font=Ot(G),y.textAlign=G.align||"left",xt=ir(G),x=xt.x1,T=xt.y1,G.angle&&(y.save(),y.translate(x,T),y.rotate(G.angle*nt),x=T=0),x+=G.dx||0,T+=(G.dy||0)+zt(G),ge=gl(G),Me(y,G),e.isArray(ge))for(J=_o(G),z=0;z<ge.length;++z)Fe=yl(G,ge[z]),G.fill&&Nn(y,G,Pe)&&y.fillText(Fe,x,T),G.stroke&&Un(y,G,Pe)&&y.strokeText(Fe,x,T),T+=J;else Fe=yl(G,ge),G.fill&&Nn(y,G,Pe)&&y.fillText(Fe,x,T),G.stroke&&Un(y,G,Pe)&&y.strokeText(Fe,x,T);G.angle&&y.restore()}})}function Ri(y,F,H,G,Pe,xt){if(F.fontSize<=0)return!1;if(!F.angle)return!0;var x=ir(F),T=x.x1,z=x.y1,J=Nr(Ln,F,1),ge=-F.angle*nt,Fe=Math.cos(ge),rt=Math.sin(ge),Ut=Fe*Pe-rt*xt+(T-Fe*T+rt*z),Sn=rt*Pe+Fe*xt+(z-rt*T-Fe*z);return J.contains(Ut,Sn)}function Qi(y,F){let H=Nr(Ln,y,2);return as(F,H[0],H[1],H[2],H[3])||as(F,H[0],H[1],H[4],H[5])||as(F,H[4],H[5],H[6],H[7])||as(F,H[2],H[3],H[6],H[7])}var Mi={type:"text",tag:"text",nested:!1,attr:hr,bound:Nr,draw:tt,pick:mi(Ri),isect:Qi},Gr=No("trail",ro,xa),Qs={arc:Ei,area:As,group:dr,image:U0,line:Zl,path:Ac,rect:z0,rule:Tc,shape:r0,symbol:i0,text:Mi,trail:Gr};function zo(y,F,H){var G=Qs[y.mark.marktype],Pe=F||G.bound;return G.nested&&(y=y.mark),Pe(y.bounds||(y.bounds=new xi),y,H)}var ga={mark:null};function mo(y,F,H){var G=Qs[y.marktype],Pe=G.bound,xt=y.items,x=xt&&xt.length,T,z,J,ge;if(G.nested)return x?J=xt[0]:(ga.mark=y,J=ga),ge=zo(J,Pe,H),F=F&&F.union(ge)||ge,F;if(F=F||y.bounds&&y.bounds.clear()||new xi,x)for(T=0,z=xt.length;T<z;++T)F.union(zo(xt[T],Pe,H));return y.bounds=F}let La=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function tc(y,F){return JSON.stringify(y,La,F)}function jl(y){let F=typeof y=="string"?JSON.parse(y):y;return ka(F)}function ka(y){var F=y.marktype,H=y.items,G,Pe,xt;if(H)for(Pe=0,xt=H.length;Pe<xt;++Pe)G=F?"mark":"group",H[Pe][G]=y,H[Pe].zindex&&(H[Pe][G].zdirty=!0),(F||G)==="group"&&ka(H[Pe]);return F&&mo(y),y}function nc(y){arguments.length?this.root=jl(y):(this.root=ya({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Wi(this.root)])}nc.prototype={toJSON(y){return tc(this.root,y||0)},mark(y,F,H){F=F||this.root.items[0];let G=ya(y,F);return F.items[H]=G,G.zindex&&(G.group.zdirty=!0),G}};function ya(y,F){let H={bounds:new xi,clip:!!y.clip,group:F,interactive:y.interactive!==!1,items:[],marktype:y.marktype,name:y.name||void 0,role:y.role||void 0,zindex:y.zindex||0};return y.aria!=null&&(H.aria=y.aria),y.description&&(H.description=y.description),H}function Xc(y,F,H){return!y&&typeof document!="undefined"&&document.createElement&&(y=document),y?H?y.createElementNS(H,F):y.createElement(F):null}function Zc(y,F){F=F.toLowerCase();for(var H=y.childNodes,G=0,Pe=H.length;G<Pe;++G)if(H[G].tagName.toLowerCase()===F)return H[G]}function tl(y,F,H,G){var Pe=y.childNodes[F],xt;return(!Pe||Pe.tagName.toLowerCase()!==H.toLowerCase())&&(xt=Pe||null,Pe=Xc(y.ownerDocument,H,G),y.insertBefore(Pe,xt)),Pe}function rc(y,F){for(var H=y.childNodes,G=H.length;G>F;)y.removeChild(H[--G]);return y}function O1(y){return"mark-"+y.marktype+(y.role?" role-"+y.role:"")+(y.name?" "+y.name:"")}function Fc(y,F){let H=F.getBoundingClientRect();return[y.clientX-H.left-(F.clientLeft||0),y.clientY-H.top-(F.clientTop||0)]}function jm(y,F,H,G){var Pe=y&&y.mark,xt,x;if(Pe&&(xt=Qs[Pe.marktype]).tip){for(x=Fc(F,H),x[0]-=G[0],x[1]-=G[1];y=y.mark.group;)x[0]-=y.x||0,x[1]-=y.y||0;y=xt.tip(Pe.items,x)}return y}function ql(y,F){this._active=null,this._handlers={},this._loader=y||r.loader(),this._tooltip=F||Sf}function Sf(y,F,H,G){y.element().setAttribute("title",G||"")}ql.prototype={initialize(y,F,H){return this._el=y,this._obj=H||null,this.origin(F)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(y){return arguments.length?(this._origin=y||[0,0],this):this._origin.slice()},scene(y){return arguments.length?(this._scene=y,this):this._scene},on(){},off(){},_handlerIndex(y,F,H){for(let G=y?y.length:0;--G>=0;)if(y[G].type===F&&(!H||y[G].handler===H))return G;return-1},handlers(y){let F=this._handlers,H=[];if(y)H.push(...F[this.eventName(y)]);else for(let G in F)H.push(...F[G]);return H},eventName(y){let F=y.indexOf(".");return F<0?y:y.slice(0,F)},handleHref(y,F,H){this._loader.sanitize(H,{context:"href"}).then(G=>{let Pe=new MouseEvent(y.type,y),xt=Xc(null,"a");for(let x in G)xt.setAttribute(x,G[x]);xt.dispatchEvent(Pe)}).catch(()=>{})},handleTooltip(y,F,H){if(F&&F.tooltip!=null){F=jm(F,y,this.canvas(),this._origin);let G=H&&F&&F.tooltip||null;this._tooltip.call(this._obj,this,y,F,G)}},getItemBoundingClientRect(y){let F=this.canvas();if(!F)return;let H=F.getBoundingClientRect(),G=this._origin,Pe=y.bounds,xt=Pe.width(),x=Pe.height(),T=Pe.x1+G[0]+H.left,z=Pe.y1+G[1]+H.top;for(;y.mark&&(y=y.mark.group);)T+=y.x||0,z+=y.y||0;return{x:T,y:z,width:xt,height:x,left:T,top:z,right:T+xt,bottom:z+x}}};function Dc(y){this._el=null,this._bgcolor=null,this._loader=new Xo(y)}Dc.prototype={initialize(y,F,H,G,Pe){return this._el=y,this.resize(F,H,G,Pe)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(y){return arguments.length===0?this._bgcolor:(this._bgcolor=y,this)},resize(y,F,H,G){return this._width=y,this._height=F,this._origin=H||[0,0],this._scale=G||1,this},dirty(){},render(y){let F=this;return F._call=function(){F._render(y)},F._call(),F._call=null,F},_render(){},renderAsync(y){let F=this.render(y);return this._ready?this._ready.then(()=>F):Promise.resolve(F)},_load(y,F){var H=this,G=H._loader[y](F);if(!H._ready){let Pe=H._call;H._ready=H._loader.ready().then(xt=>{xt&&Pe(),H._ready=null})}return G},sanitizeURL(y){return this._load("sanitizeURL",y)},loadImage(y){return this._load("loadImage",y)}};let qr="keydown",W0="keypress",Q0="keyup",Hr="dragenter",vl="dragleave",R1="dragover",ep="mousedown",bo="mouseup",G0="mousemove",kd="mouseout",Y0="mouseover",ef="click",kx="dblclick",Ix="wheel",_h="mousewheel",tf="touchstart",nl="touchmove",Id="touchend",tp=[qr,W0,Q0,Hr,vl,R1,ep,bo,G0,kd,Y0,ef,kx,Ix,_h,tf,nl,Id],N1=G0,rl=kd,K0=ef;function wf(y,F){ql.call(this,y,F),this._down=null,this._touch=null,this._first=!0,this._events={}}let _l=y=>y===tf||y===nl||y===Id?[tf,nl,Id]:[y];function np(y,F){_l(F).forEach(H=>Ou(y,H))}function Ou(y,F){let H=y.canvas();H&&!y._events[F]&&(y._events[F]=1,H.addEventListener(F,y[F]?G=>y[F](G):G=>y.fire(F,G)))}function L1(y,F,H){return function(G){let Pe=this._active,xt=this.pickEvent(G);xt===Pe?this.fire(y,G):((!Pe||!Pe.exit)&&this.fire(H,G),this._active=xt,this.fire(F,G),this.fire(y,G))}}function il(y){return function(F){this.fire(y,F),this._active=null}}e.inherits(wf,ql,{initialize(y,F,H){return this._canvas=y&&Zc(y,"canvas"),[ef,ep,G0,kd,vl].forEach(G=>np(this,G)),ql.prototype.initialize.call(this,y,F,H)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:tp,DOMMouseScroll(y){this.fire(_h,y)},mousemove:L1(G0,Y0,kd),dragover:L1(R1,Hr,vl),mouseout:il(kd),dragleave:il(vl),mousedown(y){this._down=this._active,this.fire(ep,y)},click(y){this._down===this._active&&(this.fire(ef,y),this._down=null)},touchstart(y){this._touch=this.pickEvent(y.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(tf,y,!0)},touchmove(y){this.fire(nl,y,!0)},touchend(y){this.fire(Id,y,!0),this._touch=null},fire(y,F,H){let G=H?this._touch:this._active,Pe=this._handlers[y];if(F.vegaType=y,y===K0&&G&&G.href?this.handleHref(F,G,G.href):(y===N1||y===rl)&&this.handleTooltip(F,G,y!==rl),Pe)for(let xt=0,x=Pe.length;xt<x;++xt)Pe[xt].handler.call(this._obj,F,G)},on(y,F){let H=this.eventName(y),G=this._handlers;return this._handlerIndex(G[H],y,F)<0&&(np(this,y),(G[H]||(G[H]=[])).push({type:y,handler:F})),this},off(y,F){let H=this.eventName(y),G=this._handlers[H],Pe=this._handlerIndex(G,y,F);return Pe>=0&&G.splice(Pe,1),this},pickEvent(y){let F=Fc(y,this._canvas),H=this._origin;return this.pick(this._scene,F[0],F[1],F[0]-H[0],F[1]-H[1])},pick(y,F,H,G,Pe){let xt=this.context();return Qs[y.marktype].pick.call(this,xt,y,F,H,G,Pe)}});function Oc(){return typeof window!="undefined"&&window.devicePixelRatio||1}var bh=Oc();function Md(y,F,H,G,Pe,xt){let x=typeof HTMLElement!="undefined"&&y instanceof HTMLElement&&y.parentNode!=null,T=y.getContext("2d"),z=x?bh:Pe;y.width=F*z,y.height=H*z;for(let J in xt)T[J]=xt[J];return x&&z!==1&&(y.style.width=F+"px",y.style.height=H+"px"),T.pixelRatio=z,T.setTransform(z,0,0,z,z*G[0],z*G[1]),y}function nf(y){Dc.call(this,y),this._options={},this._redraw=!1,this._dirty=new xi,this._tempb=new xi}let Eh=Dc.prototype,rp=(y,F,H)=>new xi().set(0,0,F,H).translate(-y[0],-y[1]);function za(y,F,H){return F.expand(1).round(),y.pixelRatio%1&&F.scale(y.pixelRatio).round().scale(1/y.pixelRatio),F.translate(-(H[0]%1),-(H[1]%1)),y.beginPath(),y.rect(F.x1,F.y1,F.width(),F.height()),y.clip(),F}e.inherits(nf,Dc,{initialize(y,F,H,G,Pe,xt){return this._options=xt||{},this._canvas=this._options.externalContext?null:t.canvas(1,1,this._options.type),y&&this._canvas&&(rc(y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Eh.initialize.call(this,y,F,H,G,Pe)},resize(y,F,H,G){if(Eh.resize.call(this,y,F,H,G),this._canvas)Md(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{let Pe=this._options.externalContext;Pe||e.error("CanvasRenderer is missing a valid canvas or context"),Pe.scale(this._scale,this._scale),Pe.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(y){let F=this._tempb.clear().union(y.bounds),H=y.mark.group;for(;H;)F.translate(H.x||0,H.y||0),H=H.mark.group;this._dirty.union(F)},_render(y){let F=this.context(),H=this._origin,G=this._width,Pe=this._height,xt=this._dirty,x=rp(H,G,Pe);F.save();let T=this._redraw||xt.empty()?(this._redraw=!1,x.expand(1)):za(F,x.intersect(xt),H);return this.clear(-H[0],-H[1],G,Pe),this.draw(F,y,T),F.restore(),xt.clear(),this},draw(y,F,H){let G=Qs[F.marktype];F.clip&&Zt(y,F),G.draw.call(this,y,F,H),F.clip&&y.restore()},clear(y,F,H,G){let Pe=this._options,xt=this.context();Pe.type!=="pdf"&&!Pe.externalContext&&xt.clearRect(y,F,H,G),this._bgcolor!=null&&(xt.fillStyle=this._bgcolor,xt.fillRect(y,F,H,G))}});function Sh(y,F){ql.call(this,y,F);let H=this;H._hrefHandler=J0(H,(G,Pe)=>{Pe&&Pe.href&&H.handleHref(G,Pe,Pe.href)}),H._tooltipHandler=J0(H,(G,Pe)=>{H.handleTooltip(G,Pe,G.type!==rl)})}let J0=(y,F)=>H=>{let G=H.target.__data__;G=Array.isArray(G)?G[0]:G,H.vegaType=H.type,F.call(y._obj,H,G)};e.inherits(Sh,ql,{initialize(y,F,H){let G=this._svg;return G&&(G.removeEventListener(K0,this._hrefHandler),G.removeEventListener(N1,this._tooltipHandler),G.removeEventListener(rl,this._tooltipHandler)),this._svg=G=y&&Zc(y,"svg"),G&&(G.addEventListener(K0,this._hrefHandler),G.addEventListener(N1,this._tooltipHandler),G.addEventListener(rl,this._tooltipHandler)),ql.prototype.initialize.call(this,y,F,H)},canvas(){return this._svg},on(y,F){let H=this.eventName(y),G=this._handlers;if(this._handlerIndex(G[H],y,F)<0){let xt={type:y,handler:F,listener:J0(this,F)};(G[H]||(G[H]=[])).push(xt),this._svg&&this._svg.addEventListener(H,xt.listener)}return this},off(y,F){let H=this.eventName(y),G=this._handlers[H],Pe=this._handlerIndex(G,y,F);return Pe>=0&&(this._svg&&this._svg.removeEventListener(H,G[Pe].listener),G.splice(Pe,1)),this}});let Ia="aria-hidden",wh="aria-label",Ru="role",Za="aria-roledescription",Ch="graphics-object",va="graphics-symbol",Ah=(y,F,H)=>({[Ru]:y,[Za]:F,[wh]:H||void 0}),ip=e.toSet(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),a0={axis:{desc:"axis",caption:Th},legend:{desc:"legend",caption:Pd},"title-text":{desc:"title",caption:y=>`Title text '${sl(y)}'`},"title-subtitle":{desc:"subtitle",caption:y=>`Subtitle text '${sl(y)}'`}},X0={ariaRole:Ru,ariaRoleDescription:Za,description:wh};function rf(y,F){let H=F.aria===!1;if(y(Ia,H||void 0),H||F.description==null)for(let G in X0)y(X0[G],void 0);else{let G=F.mark.marktype;y(wh,F.description),y(Ru,F.ariaRole||(G==="group"?Ch:va)),y(Za,F.ariaRoleDescription||`${G} mark`)}}function Ul(y){return y.aria===!1?{[Ia]:!0}:ip[y.role]?null:a0[y.role]?sp(y,a0[y.role]):Nu(y)}function Nu(y){let F=y.marktype,H=F==="group"||F==="text"||y.items.some(G=>G.description!=null&&G.aria!==!1);return Ah(H?Ch:va,`${F} mark container`,y.description)}function sp(y,F){try{let H=y.items[0],G=F.caption||(()=>"");return Ah(F.role||va,F.desc,H.description||G(H))}catch{return null}}function sl(y){return e.array(y.text).join(" ")}function Th(y){let F=y.datum,H=y.orient,G=F.title?qm(y):null,Pe=y.context,xt=Pe.scales[F.scale].value,x=Pe.dataflow.locale(),T=xt.type;return`${H==="left"||H==="right"?"Y":"X"}-axis`+(G?` titled '${G}'`:"")+` for a ${i.isDiscrete(T)?"discrete":T} scale with ${i.domainCaption(x,xt,y)}`}function Pd(y){let F=y.datum,H=F.title?qm(y):null,G=`${F.type||""} legend`.trim(),Pe=F.scales,xt=Object.keys(Pe),x=y.context,T=x.scales[Pe[xt[0]]].value,z=x.dataflow.locale();return Cf(G)+(H?` titled '${H}'`:"")+` for ${op(xt)} with ${i.domainCaption(z,T,y)}`}function qm(y){try{return e.array(e.peek(y.items).items[0].text).join(" ")}catch{return null}}function op(y){return y=y.map(F=>F+(F==="fill"||F==="stroke"?" color":"")),y.length<2?y[0]:y.slice(0,-1).join(", ")+" and "+e.peek(y)}function Cf(y){return y.length?y[0].toUpperCase()+y.slice(1):y}let Z0=y=>(y+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Js=y=>Z0(y).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function A(){let y="",F="",H="",G=[],Pe=()=>F=H="",xt=z=>{F&&(y+=`${F}>${H}`,Pe()),G.push(z)},x=(z,J)=>(J!=null&&(F+=` ${z}="${Js(J)}"`),T),T={open(z,...J){xt(z),F="<"+z;for(let ge of J)for(let Fe in ge)x(Fe,ge[Fe]);return T},close(){let z=G.pop();return F?y+=F+(H?`>${H}</${z}>`:"/>"):y+=`</${z}>`,Pe(),T},attr:x,text:z=>(H+=Z0(z),T),toString:()=>y};return T}let W=y=>fe(A(),y)+"";function fe(y,F){if(y.open(F.tagName),F.hasAttributes()){let H=F.attributes,G=H.length;for(let Pe=0;Pe<G;++Pe)y.attr(H[Pe].name,H[Pe].value)}if(F.hasChildNodes()){let H=F.childNodes;for(let G of H)G.nodeType===3?y.text(G.nodeValue):fe(y,G)}return y.close()}let Be={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},bt={blend:"mix-blend-mode"},An={fill:"none","stroke-miterlimit":10},lr=0,zi="http://www.w3.org/2000/xmlns/",qi=es.xmlns;function oo(y){Dc.call(this,y),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}let mu=Dc.prototype;e.inherits(oo,Dc,{initialize(y,F,H,G,Pe){return this._defs={},this._clearDefs(),y&&(this._svg=tl(y,0,"svg",qi),this._svg.setAttributeNS(zi,"xmlns",qi),this._svg.setAttributeNS(zi,"xmlns:xlink",es["xmlns:xlink"]),this._svg.setAttribute("version",es.version),this._svg.setAttribute("class","marks"),rc(y,1),this._root=tl(this._svg,lr,"g",qi),u0(this._root,An),rc(this._svg,lr+1)),this.background(this._bgcolor),mu.initialize.call(this,y,F,H,G,Pe)},background(y){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",y),mu.background.apply(this,arguments)},resize(y,F,H,G){return mu.resize.call(this,y,F,H,G),this._svg&&(u0(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){let y=this._svg,F=this._bgcolor;if(!y)return null;let H;F&&(y.removeAttribute("style"),H=tl(y,lr,"rect",qi),u0(H,{width:this._width,height:this._height,fill:F}));let G=W(y);return F&&(y.removeChild(H),this._svg.style.setProperty("background-color",F)),G},_render(y){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,y),rc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(y){y.dirty!==this._dirtyID&&(y.dirty=this._dirtyID,this._dirty.push(y))},isDirty(y){return this._dirtyAll||!y._svg||!y._svg.ownerSVGElement||y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;let y=this._dirty;if(!y.length||!this._dirtyID)return!0;let F=++this._dirtyID,H,G,Pe,xt,x,T,z;for(x=0,T=y.length;x<T;++x)if(H=y[x],G=H.mark,G.marktype!==Pe&&(Pe=G.marktype,xt=Qs[Pe]),G.zdirty&&G.dirty!==F&&(this._dirtyAll=!1,Rc(H,F),G.items.forEach(J=>{J.dirty=F})),!G.zdirty){if(H.exit){xt.nested&&G.items.length?(z=G.items[0],z._svg&&this._update(xt,z._svg,z)):H._svg&&(z=H._svg.parentNode,z&&z.removeChild(H._svg)),H._svg=null;continue}H=xt.nested?G.items[0]:H,H._update!==F&&(!H._svg||!H._svg.ownerSVGElement?(this._dirtyAll=!1,Rc(H,F)):this._update(xt,H._svg,H),H._update=F)}return!this._dirtyAll},mark(y,F,H){if(!this.isDirty(F))return F._svg;let G=this._svg,Pe=Qs[F.marktype],xt=F.interactive===!1?"none":null,x=Pe.tag==="g",T=y4(F,y,H,"g",G);T.setAttribute("class",O1(F));let z=Ul(F);for(let rt in z)bl(T,rt,z[rt]);x||bl(T,"pointer-events",xt),bl(T,"clip-path",F.clip?ho(this,F,F.group):null);let J=null,ge=0,Fe=rt=>{let Ut=this.isDirty(rt),Sn=y4(rt,T,J,Pe.tag,G);Ut&&(this._update(Pe,Sn,rt),x&&Dy(this,Sn,rt)),J=Sn,++ge};return Pe.nested?F.items.length&&Fe(F.items[0]):Gn(F,Fe),rc(T,ge),T},_update(y,F,H){ed=F,Lu=F.__values__,rf(Fh,H),y.attr(Fh,H,this);let G=v4[y.type];G&&G.call(this,y,F,H),ed&&this.style(ed,H)},style(y,F){if(F!=null){for(let H in Be){let G=H==="font"?Ue(F):F[H];if(G===Lu[H])continue;let Pe=Be[H];G==null?y.removeAttribute(Pe):(c(G)&&(G=d(G,this._defs.gradient,ku())),y.setAttribute(Pe,G+"")),Lu[H]=G}for(let H in bt)Ts(y,bt[H],F[H])}},defs(){let y=this._svg,F=this._defs,H=F.el,G=0;for(let Pe in F.gradient)H||(F.el=H=tl(y,lr+1,"defs",qi)),G=Af(H,F.gradient[Pe],G);for(let Pe in F.clipping)H||(F.el=H=tl(y,lr+1,"defs",qi)),G=kb(H,F.clipping[Pe],G);H&&(G===0?(y.removeChild(H),F.el=null):rc(H,G))},_clearDefs(){let y=this._defs;y.gradient={},y.clipping={}}});function Rc(y,F){for(;y&&y.dirty!==F;y=y.mark.group)if(y.dirty=F,y.mark&&y.mark.dirty!==F)y.mark.dirty=F;else return}function Af(y,F,H){let G,Pe,xt;if(F.gradient==="radial"){let x=tl(y,H++,"pattern",qi);u0(x,{id:a+F.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),x=tl(x,0,"rect",qi),u0(x,{width:1,height:1,fill:`url(${ku()}#${F.id})`}),y=tl(y,H++,"radialGradient",qi),u0(y,{id:F.id,fx:F.x1,fy:F.y1,fr:F.r1,cx:F.x2,cy:F.y2,r:F.r2})}else y=tl(y,H++,"linearGradient",qi),u0(y,{id:F.id,x1:F.x1,x2:F.x2,y1:F.y1,y2:F.y2});for(G=0,Pe=F.stops.length;G<Pe;++G)xt=tl(y,G,"stop",qi),xt.setAttribute("offset",F.stops[G].offset),xt.setAttribute("stop-color",F.stops[G].color);return rc(y,G),H}function kb(y,F,H){let G;return y=tl(y,H,"clipPath",qi),y.setAttribute("id",F.id),F.path?(G=tl(y,0,"path",qi),G.setAttribute("d",F.path)):(G=tl(y,0,"rect",qi),u0(G,{x:0,y:0,width:F.width,height:F.height})),rc(y,1),H+1}function Dy(y,F,H){F=F.lastChild.previousSibling;let G,Pe=0;Gn(H,xt=>{G=y.mark(F,xt,G),++Pe}),rc(F,1+Pe)}function y4(y,F,H,G,Pe){let xt=y._svg,x;if(!xt&&(x=F.ownerDocument,xt=Xc(x,G,qi),y._svg=xt,y.mark&&(xt.__data__=y,xt.__values__={fill:"default"},G==="g"))){let T=Xc(x,"path",qi);xt.appendChild(T),T.__data__=y;let z=Xc(x,"g",qi);xt.appendChild(z),z.__data__=y;let J=Xc(x,"path",qi);xt.appendChild(J),J.__data__=y,J.__values__={fill:"default"}}return(xt.ownerSVGElement!==Pe||Oy(xt,H))&&F.insertBefore(xt,H?H.nextSibling:F.firstChild),xt}function Oy(y,F){return y.parentNode&&y.parentNode.childNodes.length>1&&y.previousSibling!=F}let ed=null,Lu=null,v4={group(y,F,H){let G=ed=F.childNodes[2];Lu=G.__values__,y.foreground(Fh,H,this),Lu=F.__values__,ed=F.childNodes[1],y.content(Fh,H,this);let Pe=ed=F.childNodes[0];y.background(Fh,H,this);let xt=H.mark.interactive===!1?"none":null;if(xt!==Lu.events&&(bl(G,"pointer-events",xt),bl(Pe,"pointer-events",xt),Lu.events=xt),H.strokeForeground&&H.stroke){let x=H.fill;bl(G,"display",null),this.style(Pe,H),bl(Pe,"stroke",null),x&&(H.fill=null),Lu=G.__values__,this.style(G,H),x&&(H.fill=x),ed=null}else bl(G,"display","none")},image(y,F,H){H.smooth===!1?(Ts(F,"image-rendering","optimizeSpeed"),Ts(F,"image-rendering","pixelated")):Ts(F,"image-rendering",null)},text(y,F,H){let G=gl(H),Pe,xt,x,T;e.isArray(G)?(xt=G.map(z=>yl(H,z)),Pe=xt.join(`
`),Pe!==Lu.text&&(rc(F,0),x=F.ownerDocument,T=_o(H),xt.forEach((z,J)=>{let ge=Xc(x,"tspan",qi);ge.__data__=H,ge.textContent=z,J&&(ge.setAttribute("x",0),ge.setAttribute("dy",T)),F.appendChild(ge)}),Lu.text=Pe)):(xt=yl(H,G),xt!==Lu.text&&(F.textContent=xt,Lu.text=xt)),bl(F,"font-family",Ue(H)),bl(F,"font-size",Du(H)+"px"),bl(F,"font-style",H.fontStyle),bl(F,"font-variant",H.fontVariant),bl(F,"font-weight",H.fontWeight)}};function Fh(y,F,H){F!==Lu[y]&&(H?ap(ed,y,F,H):bl(ed,y,F),Lu[y]=F)}function Ts(y,F,H){H!==Lu[F]&&(H==null?y.style.removeProperty(F):y.style.setProperty(F,H+""),Lu[F]=H)}function u0(y,F){for(let H in F)bl(y,H,F[H])}function bl(y,F,H){H!=null?y.setAttribute(F,H):y.removeAttribute(F)}function ap(y,F,H,G){H!=null?y.setAttributeNS(G,F,H):y.removeAttributeNS(G,F)}function ku(){let y;return typeof window=="undefined"?"":(y=window.location).hash?y.href.slice(0,-y.hash.length):y.href}function k1(y){Dc.call(this,y),this._text=null,this._defs={gradient:{},clipping:{}}}e.inherits(k1,Dc,{svg(){return this._text},_render(y){let F=A();F.open("svg",e.extend({},es,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));let H=this._bgcolor;return H&&H!=="transparent"&&H!=="none"&&F.open("rect",{width:this._width,height:this._height,fill:H}).close(),F.open("g",An,{transform:"translate("+this._origin+")"}),this.mark(F,y),F.close(),this.defs(F),this._text=F.close()+"",this},mark(y,F){let H=Qs[F.marktype],G=H.tag,Pe=[rf,H.attr];y.open("g",{class:O1(F),"clip-path":F.clip?ho(this,F,F.group):null},Ul(F),{"pointer-events":G!=="g"&&F.interactive===!1?"none":null});let xt=x=>{let T=this.href(x);if(T&&y.open("a",T),y.open(G,this.attr(F,x,Pe,G!=="g"?G:null)),G==="text"){let z=gl(x);if(e.isArray(z)){let J={x:0,dy:_o(x)};for(let ge=0;ge<z.length;++ge)y.open("tspan",ge?J:null).text(yl(x,z[ge])).close()}else y.text(yl(x,z))}else if(G==="g"){let z=x.strokeForeground,J=x.fill,ge=x.stroke;z&&ge&&(x.stroke=null),y.open("path",this.attr(F,x,H.background,"bgrect")).close(),y.open("g",this.attr(F,x,H.content)),Gn(x,Fe=>this.mark(y,Fe)),y.close(),z&&ge?(J&&(x.fill=null),x.stroke=ge,y.open("path",this.attr(F,x,H.foreground,"bgrect")).close(),J&&(x.fill=J)):y.open("path",this.attr(F,x,H.foreground,"bgfore")).close()}y.close(),T&&y.close()};return H.nested?F.items&&F.items.length&&xt(F.items[0]):Gn(F,xt),y.close()},href(y){let F=y.href,H;if(F){if(H=this._hrefs&&this._hrefs[F])return H;this.sanitizeURL(F).then(G=>{G["xlink:href"]=G.href,G.href=null,(this._hrefs||(this._hrefs={}))[F]=G})}return null},attr(y,F,H,G){let Pe={},xt=(x,T,z,J)=>{Pe[J||x]=T};return Array.isArray(H)?H.forEach(x=>x(xt,F,this)):H(xt,F,this),G&&I1(Pe,F,y,G,this._defs),Pe},defs(y){let F=this._defs.gradient,H=this._defs.clipping;if(Object.keys(F).length+Object.keys(H).length!==0){y.open("defs");for(let Pe in F){let xt=F[Pe],x=xt.stops;xt.gradient==="radial"?(y.open("pattern",{id:a+Pe,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),y.open("rect",{width:"1",height:"1",fill:"url(#"+Pe+")"}).close(),y.close(),y.open("radialGradient",{id:Pe,fx:xt.x1,fy:xt.y1,fr:xt.r1,cx:xt.x2,cy:xt.y2,r:xt.r2})):y.open("linearGradient",{id:Pe,x1:xt.x1,x2:xt.x2,y1:xt.y1,y2:xt.y2});for(let T=0;T<x.length;++T)y.open("stop",{offset:x[T].offset,"stop-color":x[T].color}).close();y.close()}for(let Pe in H){let xt=H[Pe];y.open("clipPath",{id:Pe}),xt.path?y.open("path",{d:xt.path}).close():y.open("rect",{x:0,y:0,width:xt.width,height:xt.height}).close(),y.close()}y.close()}}});function I1(y,F,H,G,Pe){let xt;if(F==null||(G==="bgrect"&&H.interactive===!1&&(y["pointer-events"]="none"),G==="bgfore"&&(H.interactive===!1&&(y["pointer-events"]="none"),y.display="none",F.fill!==null)))return y;G==="image"&&F.smooth===!1&&(xt=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),G==="text"&&(y["font-family"]=Ue(F),y["font-size"]=Du(F)+"px",y["font-style"]=F.fontStyle,y["font-variant"]=F.fontVariant,y["font-weight"]=F.fontWeight);for(let x in Be){let T=F[x],z=Be[x];T==="transparent"&&(z==="fill"||z==="stroke")||T!=null&&(c(T)&&(T=d(T,Pe.gradient,"")),y[z]=T)}for(let x in bt){let T=F[x];T!=null&&(xt=xt||[],xt.push(`${bt[x]}: ${T};`))}return xt&&(y.style=xt.join(" ")),y}let El="canvas",Ry="png",Bd="svg",Dh="none",Ny={Canvas:El,PNG:Ry,SVG:Bd,None:Dh},Tf={};Tf[El]=Tf[Ry]={renderer:nf,headless:nf,handler:wf},Tf[Bd]={renderer:oo,headless:k1,handler:Sh},Tf[Dh]={};function Sl(y,F){return y=String(y||"").toLowerCase(),arguments.length>1?(Tf[y]=F,this):Tf[y]}function Ff(y,F,H){let G=[],Pe=new xi().union(F),xt=y.marktype;return xt?M1(y,Pe,H,G):xt==="group"?jd(y,Pe,H,G):e.error("Intersect scene must be mark node or group item.")}function M1(y,F,H,G){if(up(y,F,H)){let Pe=y.items,xt=y.marktype,x=Pe.length,T=0;if(xt==="group")for(;T<x;++T)jd(Pe[T],F,H,G);else for(let z=Qs[xt].isect;T<x;++T){let J=Pe[T];P1(J,F,z)&&G.push(J)}}return G}function up(y,F,H){return y.bounds&&F.intersects(y.bounds)&&(y.marktype==="group"||y.interactive!==!1&&(!H||H(y)))}function jd(y,F,H,G){H&&H(y.mark)&&P1(y,F,Qs.group.isect)&&G.push(y);let Pe=y.items,xt=Pe&&Pe.length;if(xt){let x=y.x||0,T=y.y||0;F.translate(-x,-T);for(let z=0;z<xt;++z)M1(Pe[z],F,H,G);F.translate(x,T)}return G}function P1(y,F,H){let G=y.bounds;return F.encloses(G)||F.intersects(G)&&H(y,F)}let sf=new xi;function Mx(y){let F=y.clip;if(e.isFunction(F))F(Ua(sf.clear()));else if(F)sf.set(0,0,y.group.width,y.group.height);else return;y.bounds.intersect(sf)}let Px=1e-9;function ic(y,F,H){return y===F?!0:H==="path"?l0(y,F):y instanceof Date&&F instanceof Date?+y==+F:e.isNumber(y)&&e.isNumber(F)?Math.abs(y-F)<=Px:!y||!F||!e.isObject(y)&&!e.isObject(F)?y==F:_4(y,F)}function l0(y,F){return ic(we(y),we(F))}function _4(y,F){var H=Object.keys(y),G=Object.keys(F),Pe,xt;if(H.length!==G.length)return!1;for(H.sort(),G.sort(),xt=H.length-1;xt>=0;xt--)if(H[xt]!=G[xt])return!1;for(xt=H.length-1;xt>=0;xt--)if(Pe=H[xt],!ic(y[Pe],F[Pe],Pe))return!1;return typeof y==typeof F}function td(){io(),o()}n.Bounds=xi,n.CanvasHandler=wf,n.CanvasRenderer=nf,n.Gradient=E,n.GroupItem=Wi,n.Handler=ql,n.Item=Ci,n.Marks=Qs,n.RenderType=Ny,n.Renderer=Dc,n.ResourceLoader=Xo,n.SVGHandler=Sh,n.SVGRenderer=oo,n.SVGStringRenderer=k1,n.Scenegraph=nc,n.boundClip=Mx,n.boundContext=Ua,n.boundItem=zo,n.boundMark=mo,n.boundStroke=po,n.domChild=tl,n.domClear=rc,n.domCreate=Xc,n.domFind=Zc,n.font=Ot,n.fontFamily=Ue,n.fontSize=Du,n.intersect=Ff,n.intersectBoxLine=as,n.intersectPath=ci,n.intersectPoint=rs,n.intersectRule=pr,n.lineHeight=_o,n.markup=A,n.multiLineOffset=Ls,n.path=P,n.pathCurves=Te,n.pathEqual=l0,n.pathParse=we,n.pathRectangle=Ct,n.pathRender=be,n.pathSymbols=ce,n.pathTrail=Jt,n.point=Fc,n.renderModule=Sl,n.resetSVGClipId=io,n.resetSVGDefIds=td,n.sceneEqual=ic,n.sceneFromJSON=jl,n.scenePickVisit=ur,n.sceneToJSON=tc,n.sceneVisit=Gn,n.sceneZOrder=wr,n.serializeXML=W,n.textMetrics=Uo,Object.defineProperty(n,"__esModule",{value:!0})})});var UAe=Ae((VH,qAe)=>{m();(function(n,e){typeof VH=="object"&&typeof qAe!="undefined"?e(VH,Xf(),yC(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega))})(VH,function(n,e,t,r){"use strict";let i="top",s="left",o="right",a="bottom",c="top-left",d="top-right",p="bottom-left",E="bottom-right",w="start",N="middle",R="end",U="x",Q="y",P="group",j="axis",I="title",K="frame",de="scope",M="legend",Z="row-header",me="row-footer",_e="row-title",Ve="column-header",at="column-footer",lt="column-title",Ke="padding",St="symbol",Ft="fit",je="fit-x",te="fit-y",Xe="pad",ye="none",ke="all",Ce="each",xe="flush",Je="column",ut="row";function Qt(ct){e.Transform.call(this,null,ct)}r.inherits(Qt,e.Transform,{transform(ct,ie){let Te=ie.dataflow,ze=ct.mark,ht=ze.marktype,_t=t.Marks[ht],Dt=_t.bound,ne=ze.bounds,we;if(_t.nested)ze.items.length&&Te.dirty(ze.items[0]),ne=wt(ze,Dt),ze.items.forEach(We=>{We.bounds.clear().union(ne)});else if(ht===P||ct.modified())switch(ie.visit(ie.MOD,We=>Te.dirty(We)),ne.clear(),ze.items.forEach(We=>ne.union(wt(We,Dt))),ze.role){case j:case M:case I:ie.reflow()}else we=ie.changed(ie.REM),ie.visit(ie.ADD,We=>{ne.union(wt(We,Dt))}),ie.visit(ie.MOD,We=>{we=we||ne.alignsWith(We.bounds),Te.dirty(We),ne.union(wt(We,Dt))}),we&&(ne.clear(),ze.items.forEach(We=>ne.union(We.bounds)));return t.boundClip(ze),ie.modifies("bounds")}});function wt(ct,ie,Te){return ie(ct.bounds.clear(),ct,Te)}let mn=":vega_identifier:";function Lt(ct){e.Transform.call(this,0,ct)}Lt.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},r.inherits(Lt,e.Transform,{transform(ct,ie){let Te=It(ie.dataflow),ze=ct.as,ht=Te.value;return ie.visit(ie.ADD,_t=>_t[ze]=_t[ze]||++ht),Te.set(this.value=ht),ie}});function It(ct){return ct._signals[mn]||(ct._signals[mn]=ct.add(0))}function cn(ct){e.Transform.call(this,null,ct)}r.inherits(cn,e.Transform,{transform(ct,ie){let Te=this.value;Te||(Te=ie.dataflow.scenegraph().mark(ct.markdef,it(ct),ct.index),Te.group.context=ct.context,ct.context.group||(ct.context.group=Te.group),Te.source=this.source,Te.clip=ct.clip,Te.interactive=ct.interactive,this.value=Te);let ze=Te.marktype===P?t.GroupItem:t.Item;return ie.visit(ie.ADD,ht=>ze.call(ht,Te)),(ct.modified("clip")||ct.modified("interactive"))&&(Te.clip=ct.clip,Te.interactive=!!ct.interactive,Te.zdirty=!0,ie.reflow()),Te.items=ie.source,ie}});function it(ct){let ie=ct.groups,Te=ct.parent;return ie&&ie.size===1?ie.get(Object.keys(ie.object)[0]):ie&&Te?ie.lookup(Te):null}function ue(ct){e.Transform.call(this,null,ct)}let De={parity:ct=>ct.filter((ie,Te)=>Te%2?ie.opacity=0:1),greedy:(ct,ie)=>{let Te;return ct.filter((ze,ht)=>!ht||!ve(Te.bounds,ze.bounds,ie)?(Te=ze,1):ze.opacity=0)}},ve=(ct,ie,Te)=>Te>Math.max(ie.x1-ct.x2,ct.x1-ie.x2,ie.y1-ct.y2,ct.y1-ie.y2),le=(ct,ie)=>{for(var Te=1,ze=ct.length,ht=ct[0].bounds,_t;Te<ze;ht=_t,++Te)if(ve(ht,_t=ct[Te].bounds,ie))return!0},st=ct=>{let ie=ct.bounds;return ie.width()>1&&ie.height()>1},Ze=(ct,ie,Te)=>{var ze=ct.range(),ht=new t.Bounds;return ie===i||ie===a?ht.set(ze[0],-1/0,ze[1],1/0):ht.set(-1/0,ze[0],1/0,ze[1]),ht.expand(Te||1),_t=>ht.encloses(_t.bounds)},Le=ct=>(ct.forEach(ie=>ie.opacity=1),ct),vt=(ct,ie)=>ct.reflow(ie.modified()).modifies("opacity");r.inherits(ue,e.Transform,{transform(ct,ie){let Te=De[ct.method]||De.parity,ze=ct.separation||0,ht=ie.materialize(ie.SOURCE).source,_t,Dt;if(!ht||!ht.length)return;if(!ct.method)return ct.modified("method")&&(Le(ht),ie=vt(ie,ct)),ie;if(ht=ht.filter(st),!ht.length)return;if(ct.sort&&(ht=ht.slice().sort(ct.sort)),_t=Le(ht),ie=vt(ie,ct),_t.length>=3&&le(_t,ze)){do _t=Te(_t,ze);while(_t.length>=3&&le(_t,ze));_t.length<3&&!r.peek(ht).opacity&&(_t.length>1&&(r.peek(_t).opacity=0),r.peek(ht).opacity=1)}ct.boundScale&&ct.boundTolerance>=0&&(Dt=Ze(ct.boundScale,ct.boundOrient,+ct.boundTolerance),ht.forEach(we=>{Dt(we)||(we.opacity=0)}));let ne=_t[0].mark.bounds.clear();return ht.forEach(we=>{we.opacity&&ne.union(we.bounds)}),ie}});function $t(ct){e.Transform.call(this,null,ct)}r.inherits($t,e.Transform,{transform(ct,ie){let Te=ie.dataflow;if(ie.visit(ie.ALL,ze=>Te.dirty(ze)),ie.fields&&ie.fields.zindex){let ze=ie.source&&ie.source[0];ze&&(ze.mark.zdirty=!0)}}});let Mt=new t.Bounds;function Vt(ct,ie,Te){return ct[ie]===Te?0:(ct[ie]=Te,1)}function tn(ct){var ie=ct.items[0].orient;return ie===s||ie===o}function en(ct){let ie=+ct.grid;return[ct.ticks?ie++:-1,ct.labels?ie++:-1,ie+ +ct.domain]}function En(ct,ie,Te,ze){var ht=ie.items[0],_t=ht.datum,Dt=ht.translate!=null?ht.translate:.5,ne=ht.orient,we=en(_t),We=ht.range,nt=ht.offset,Pt=ht.position,sn=ht.minExtent,wn=ht.maxExtent,yn=_t.title&&ht.items[we[2]].items[0],xn=ht.titlePadding,zn=ht.bounds,Re=yn&&t.multiLineOffset(yn),He=0,At=0,L,V;switch(Mt.clear().union(zn),zn.clear(),(L=we[0])>-1&&zn.union(ht.items[L].bounds),(L=we[1])>-1&&zn.union(ht.items[L].bounds),ne){case i:He=Pt||0,At=-nt,V=Math.max(sn,Math.min(wn,-zn.y1)),zn.add(0,-V).add(We,0),yn&&Fn(ct,yn,V,xn,Re,0,-1,zn);break;case s:He=-nt,At=Pt||0,V=Math.max(sn,Math.min(wn,-zn.x1)),zn.add(-V,0).add(0,We),yn&&Fn(ct,yn,V,xn,Re,1,-1,zn);break;case o:He=Te+nt,At=Pt||0,V=Math.max(sn,Math.min(wn,zn.x2)),zn.add(0,0).add(V,We),yn&&Fn(ct,yn,V,xn,Re,1,1,zn);break;case a:He=Pt||0,At=ze+nt,V=Math.max(sn,Math.min(wn,zn.y2)),zn.add(0,0).add(We,V),yn&&Fn(ct,yn,V,xn,0,0,1,zn);break;default:He=ht.x,At=ht.y}return t.boundStroke(zn.translate(He,At),ht),Vt(ht,"x",He+Dt)|Vt(ht,"y",At+Dt)&&(ht.bounds=Mt,ct.dirty(ht),ht.bounds=zn,ct.dirty(ht)),ht.mark.bounds.clear().union(zn)}function Fn(ct,ie,Te,ze,ht,_t,Dt,ne){let we=ie.bounds;if(ie.auto){let We=Dt*(Te+ht+ze),nt=0,Pt=0;ct.dirty(ie),_t?nt=(ie.x||0)-(ie.x=We):Pt=(ie.y||0)-(ie.y=We),ie.mark.bounds.clear().union(we.translate(-nt,-Pt)),ct.dirty(ie)}ne.union(we)}let On=(ct,ie)=>Math.floor(Math.min(ct,ie)),qt=(ct,ie)=>Math.ceil(Math.max(ct,ie));function pn(ct){var ie=ct.items,Te=ie.length,ze=0,ht,_t;let Dt={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;ze<Te;++ze)if(ht=ie[ze],_t=ht.items,ht.marktype===P)switch(ht.role){case j:case M:case I:break;case Z:Dt.rowheaders.push(..._t);break;case me:Dt.rowfooters.push(..._t);break;case Ve:Dt.colheaders.push(..._t);break;case at:Dt.colfooters.push(..._t);break;case _e:Dt.rowtitle=_t[0];break;case lt:Dt.coltitle=_t[0];break;default:Dt.marks.push(..._t)}return Dt}function qn(ct){return new t.Bounds().set(0,0,ct.width||0,ct.height||0)}function or(ct){let ie=ct.bounds.clone();return ie.empty()?ie.set(0,0,0,0):ie.translate(-(ct.x||0),-(ct.y||0))}function In(ct,ie,Te){let ze=r.isObject(ct)?ct[ie]:ct;return ze??(Te!==void 0?Te:0)}function Ne(ct){return ct<0?Math.ceil(-ct):0}function $e(ct,ie,Te){var ze=!Te.nodirty,ht=Te.bounds===xe?qn:or,_t=Mt.set(0,0,0,0),Dt=In(Te.align,Je),ne=In(Te.align,ut),we=In(Te.padding,Je),We=In(Te.padding,ut),nt=Te.columns||ie.length,Pt=nt<=0?1:Math.ceil(ie.length/nt),sn=ie.length,wn=Array(sn),yn=Array(nt),xn=0,zn=Array(sn),Re=Array(Pt),He=0,At=Array(sn),L=Array(sn),V=Array(sn),be,pe,Y,oe,ce,Qe,Rt,Et,ln,S,B;for(pe=0;pe<nt;++pe)yn[pe]=0;for(pe=0;pe<Pt;++pe)Re[pe]=0;for(pe=0;pe<sn;++pe)Qe=ie[pe],ce=V[pe]=ht(Qe),Qe.x=Qe.x||0,At[pe]=0,Qe.y=Qe.y||0,L[pe]=0,Y=pe%nt,oe=~~(pe/nt),xn=Math.max(xn,Rt=Math.ceil(ce.x2)),He=Math.max(He,Et=Math.ceil(ce.y2)),yn[Y]=Math.max(yn[Y],Rt),Re[oe]=Math.max(Re[oe],Et),wn[pe]=we+Ne(ce.x1),zn[pe]=We+Ne(ce.y1),ze&&ct.dirty(ie[pe]);for(pe=0;pe<sn;++pe)pe%nt===0&&(wn[pe]=0),pe<nt&&(zn[pe]=0);if(Dt===Ce)for(Y=1;Y<nt;++Y){for(B=0,pe=Y;pe<sn;pe+=nt)B<wn[pe]&&(B=wn[pe]);for(pe=Y;pe<sn;pe+=nt)wn[pe]=B+yn[Y-1]}else if(Dt===ke){for(B=0,pe=0;pe<sn;++pe)pe%nt&&B<wn[pe]&&(B=wn[pe]);for(pe=0;pe<sn;++pe)pe%nt&&(wn[pe]=B+xn)}else for(Dt=!1,Y=1;Y<nt;++Y)for(pe=Y;pe<sn;pe+=nt)wn[pe]+=yn[Y-1];if(ne===Ce)for(oe=1;oe<Pt;++oe){for(B=0,pe=oe*nt,be=pe+nt;pe<be;++pe)B<zn[pe]&&(B=zn[pe]);for(pe=oe*nt;pe<be;++pe)zn[pe]=B+Re[oe-1]}else if(ne===ke){for(B=0,pe=nt;pe<sn;++pe)B<zn[pe]&&(B=zn[pe]);for(pe=nt;pe<sn;++pe)zn[pe]=B+He}else for(ne=!1,oe=1;oe<Pt;++oe)for(pe=oe*nt,be=pe+nt;pe<be;++pe)zn[pe]+=Re[oe-1];for(ln=0,pe=0;pe<sn;++pe)ln=wn[pe]+(pe%nt?ln:0),At[pe]+=ln-ie[pe].x;for(Y=0;Y<nt;++Y)for(S=0,pe=Y;pe<sn;pe+=nt)S+=zn[pe],L[pe]+=S-ie[pe].y;if(Dt&&In(Te.center,Je)&&Pt>1)for(pe=0;pe<sn;++pe)ce=Dt===ke?xn:yn[pe%nt],ln=ce-V[pe].x2-ie[pe].x-At[pe],ln>0&&(At[pe]+=ln/2);if(ne&&In(Te.center,ut)&&nt!==1)for(pe=0;pe<sn;++pe)ce=ne===ke?He:Re[~~(pe/nt)],S=ce-V[pe].y2-ie[pe].y-L[pe],S>0&&(L[pe]+=S/2);for(pe=0;pe<sn;++pe)_t.union(V[pe].translate(At[pe],L[pe]));switch(ln=In(Te.anchor,U),S=In(Te.anchor,Q),In(Te.anchor,Je)){case R:ln-=_t.width();break;case N:ln-=_t.width()/2}switch(In(Te.anchor,ut)){case R:S-=_t.height();break;case N:S-=_t.height()/2}for(ln=Math.round(ln),S=Math.round(S),_t.clear(),pe=0;pe<sn;++pe)ie[pe].mark.bounds.clear();for(pe=0;pe<sn;++pe)Qe=ie[pe],Qe.x+=At[pe]+=ln,Qe.y+=L[pe]+=S,_t.union(Qe.mark.bounds.union(Qe.bounds.translate(At[pe],L[pe]))),ze&&ct.dirty(Qe);return _t}function Oe(ct,ie,Te){var ze=pn(ie),ht=ze.marks,_t=Te.bounds===xe?jt:yt,Dt=Te.offset,ne=Te.columns||ht.length,we=ne<=0?1:Math.ceil(ht.length/ne),We=we*ne,nt,Pt,sn,wn,yn,xn,zn;let Re=$e(ct,ht,Te);Re.empty()&&Re.set(0,0,0,0),ze.rowheaders&&(xn=In(Te.headerBand,ut,null),nt=mt(ct,ze.rowheaders,ht,ne,we,-In(Dt,"rowHeader"),On,0,_t,"x1",0,ne,1,xn)),ze.colheaders&&(xn=In(Te.headerBand,Je,null),Pt=mt(ct,ze.colheaders,ht,ne,ne,-In(Dt,"columnHeader"),On,1,_t,"y1",0,1,ne,xn)),ze.rowfooters&&(xn=In(Te.footerBand,ut,null),sn=mt(ct,ze.rowfooters,ht,ne,we,In(Dt,"rowFooter"),qt,0,_t,"x2",ne-1,ne,1,xn)),ze.colfooters&&(xn=In(Te.footerBand,Je,null),wn=mt(ct,ze.colfooters,ht,ne,ne,In(Dt,"columnFooter"),qt,1,_t,"y2",We-ne,1,ne,xn)),ze.rowtitle&&(yn=In(Te.titleAnchor,ut),zn=In(Dt,"rowTitle"),zn=yn===R?sn+zn:nt-zn,xn=In(Te.titleBand,ut,.5),nn(ct,ze.rowtitle,zn,0,Re,xn)),ze.coltitle&&(yn=In(Te.titleAnchor,Je),zn=In(Dt,"columnTitle"),zn=yn===R?wn+zn:Pt-zn,xn=In(Te.titleBand,Je,.5),nn(ct,ze.coltitle,zn,1,Re,xn))}function jt(ct,ie){return ie==="x1"?ct.x||0:ie==="y1"?ct.y||0:ie==="x2"?(ct.x||0)+(ct.width||0):ie==="y2"?(ct.y||0)+(ct.height||0):void 0}function yt(ct,ie){return ct.bounds[ie]}function mt(ct,ie,Te,ze,ht,_t,Dt,ne,we,We,nt,Pt,sn,wn){var yn=Te.length,xn=0,zn=0,Re,He,At,L,V,be,pe,Y,oe;if(!yn)return xn;for(Re=nt;Re<yn;Re+=Pt)Te[Re]&&(xn=Dt(xn,we(Te[Re],We)));if(!ie.length)return xn;for(ie.length>ht&&(ct.warn("Grid headers exceed limit: "+ht),ie=ie.slice(0,ht)),xn+=_t,He=0,L=ie.length;He<L;++He)ct.dirty(ie[He]),ie[He].mark.bounds.clear();for(Re=nt,He=0,L=ie.length;He<L;++He,Re+=Pt){for(be=ie[He],V=be.mark.bounds,At=Re;At>=0&&(pe=Te[At])==null;At-=sn);ne?(Y=wn==null?pe.x:Math.round(pe.bounds.x1+wn*pe.bounds.width()),oe=xn):(Y=xn,oe=wn==null?pe.y:Math.round(pe.bounds.y1+wn*pe.bounds.height())),V.union(be.bounds.translate(Y-(be.x||0),oe-(be.y||0))),be.x=Y,be.y=oe,ct.dirty(be),zn=Dt(zn,V[We])}return zn}function nn(ct,ie,Te,ze,ht,_t){if(!!ie){ct.dirty(ie);var Dt=Te,ne=Te;ze?Dt=Math.round(ht.x1+_t*ht.width()):ne=Math.round(ht.y1+_t*ht.height()),ie.bounds.translate(Dt-(ie.x||0),ne-(ie.y||0)),ie.mark.bounds.clear().union(ie.bounds),ie.x=Dt,ie.y=ne,ct.dirty(ie)}}function Wt(ct,ie){let Te=ct[ie]||{};return(ze,ht)=>Te[ze]!=null?Te[ze]:ct[ze]!=null?ct[ze]:ht}function Dn(ct,ie){let Te=-1/0;return ct.forEach(ze=>{ze.offset!=null&&(Te=Math.max(Te,ze.offset))}),Te>-1/0?Te:ie}function Qn(ct,ie,Te,ze,ht,_t,Dt){let ne=Wt(Te,ie),we=Dn(ct,ne("offset",0)),We=ne("anchor",w),nt=We===R?1:We===N?.5:0,Pt={align:Ce,bounds:ne("bounds",xe),columns:ne("direction")==="vertical"?1:ct.length,padding:ne("margin",8),center:ne("center"),nodirty:!0};switch(ie){case s:Pt.anchor={x:Math.floor(ze.x1)-we,column:R,y:nt*(Dt||ze.height()+2*ze.y1),row:We};break;case o:Pt.anchor={x:Math.ceil(ze.x2)+we,y:nt*(Dt||ze.height()+2*ze.y1),row:We};break;case i:Pt.anchor={y:Math.floor(ht.y1)-we,row:R,x:nt*(_t||ht.width()+2*ht.x1),column:We};break;case a:Pt.anchor={y:Math.ceil(ht.y2)+we,x:nt*(_t||ht.width()+2*ht.x1),column:We};break;case c:Pt.anchor={x:we,y:we};break;case d:Pt.anchor={x:_t-we,y:we,column:R};break;case p:Pt.anchor={x:we,y:Dt-we,row:R};break;case E:Pt.anchor={x:_t-we,y:Dt-we,column:R,row:R};break}return Pt}function Zn(ct,ie){var Te=ie.items[0],ze=Te.datum,ht=Te.orient,_t=Te.bounds,Dt=Te.x,ne=Te.y,we,We;return Te._bounds?Te._bounds.clear().union(_t):Te._bounds=_t.clone(),_t.clear(),ar(ct,Te,Te.items[0].items[0]),_t=Pn(Te,_t),we=2*Te.padding,We=2*Te.padding,_t.empty()||(we=Math.ceil(_t.width()+we),We=Math.ceil(_t.height()+We)),ze.type===St&&se(Te.items[0].items[0].items[0].items),ht!==ye&&(Te.x=Dt=0,Te.y=ne=0),Te.width=we,Te.height=We,t.boundStroke(_t.set(Dt,ne,Dt+we,ne+We),Te),Te.mark.bounds.clear().union(_t),Te}function Pn(ct,ie){return ct.items.forEach(Te=>ie.union(Te.bounds)),ie.x1=ct.padding,ie.y1=ct.padding,ie}function ar(ct,ie,Te){var ze=ie.padding,ht=ze-Te.x,_t=ze-Te.y;if(!ie.datum.title)(ht||_t)&&gt(ct,Te,ht,_t);else{var Dt=ie.items[1].items[0],ne=Dt.anchor,we=ie.titlePadding||0,We=ze-Dt.x,nt=ze-Dt.y;switch(Dt.orient){case s:ht+=Math.ceil(Dt.bounds.width())+we;break;case o:case a:break;default:_t+=Dt.bounds.height()+we}switch((ht||_t)&&gt(ct,Te,ht,_t),Dt.orient){case s:nt+=Ye(ie,Te,Dt,ne,1,1);break;case o:We+=Ye(ie,Te,Dt,R,0,0)+we,nt+=Ye(ie,Te,Dt,ne,1,1);break;case a:We+=Ye(ie,Te,Dt,ne,0,0),nt+=Ye(ie,Te,Dt,R,-1,0,1)+we;break;default:We+=Ye(ie,Te,Dt,ne,0,0)}(We||nt)&&gt(ct,Dt,We,nt),(We=Math.round(Dt.bounds.x1-ze))<0&&(gt(ct,Te,-We,0),gt(ct,Dt,-We,0))}}function Ye(ct,ie,Te,ze,ht,_t,Dt){let ne=ct.datum.type!=="symbol",we=Te.datum.vgrad,We=ne&&(_t||!we)&&!Dt?ie.items[0]:ie,nt=We.bounds[ht?"y2":"x2"]-ct.padding,Pt=we&&_t?nt:0,sn=we&&_t?0:nt,wn=ht<=0?0:t.multiLineOffset(Te);return Math.round(ze===w?Pt:ze===R?sn-wn:.5*(nt-wn))}function gt(ct,ie,Te,ze){ie.x+=Te,ie.y+=ze,ie.bounds.translate(Te,ze),ie.mark.bounds.translate(Te,ze),ct.dirty(ie)}function se(ct){let ie=ct.reduce((Te,ze)=>(Te[ze.column]=Math.max(ze.bounds.x2-ze.x,Te[ze.column]||0),Te),{});ct.forEach(Te=>{Te.width=ie[Te.column],Te.height=Te.bounds.y2-Te.y})}function qe(ct,ie,Te,ze,ht){var _t=ie.items[0],Dt=_t.frame,ne=_t.orient,we=_t.anchor,We=_t.offset,nt=_t.padding,Pt=_t.items[0].items[0],sn=_t.items[1]&&_t.items[1].items[0],wn=ne===s||ne===o?ze:Te,yn=0,xn=0,zn=0,Re=0,He=0,At;if(Dt!==P?ne===s?(yn=ht.y2,wn=ht.y1):ne===o?(yn=ht.y1,wn=ht.y2):(yn=ht.x1,wn=ht.x2):ne===s&&(yn=ze,wn=0),At=we===w?yn:we===R?wn:(yn+wn)/2,sn&&sn.text){switch(ne){case i:case a:He=Pt.bounds.height()+nt;break;case s:Re=Pt.bounds.width()+nt;break;case o:Re=-Pt.bounds.width()-nt;break}Mt.clear().union(sn.bounds),Mt.translate(Re-(sn.x||0),He-(sn.y||0)),Vt(sn,"x",Re)|Vt(sn,"y",He)&&(ct.dirty(sn),sn.bounds.clear().union(Mt),sn.mark.bounds.clear().union(Mt),ct.dirty(sn)),Mt.clear().union(sn.bounds)}else Mt.clear();switch(Mt.union(Pt.bounds),ne){case i:xn=At,zn=ht.y1-Mt.height()-We;break;case s:xn=ht.x1-Mt.width()-We,zn=At;break;case o:xn=ht.x2+Mt.width()+We,zn=At;break;case a:xn=At,zn=ht.y2+We;break;default:xn=_t.x,zn=_t.y}return Vt(_t,"x",xn)|Vt(_t,"y",zn)&&(Mt.translate(xn,zn),ct.dirty(_t),_t.bounds.clear().union(Mt),ie.bounds.clear().union(Mt),ct.dirty(_t)),_t.bounds}function et(ct){e.Transform.call(this,null,ct)}r.inherits(et,e.Transform,{transform(ct,ie){let Te=ie.dataflow;return ct.mark.items.forEach(ze=>{ct.layout&&Oe(Te,ze,ct.layout),fn(Te,ze,ct)}),Tt(ct.mark.group)?ie.reflow():ie}});function Tt(ct){return ct&&ct.mark.role!=="legend-entry"}function fn(ct,ie,Te){var ze=ie.items,ht=Math.max(0,ie.width||0),_t=Math.max(0,ie.height||0),Dt=new t.Bounds().set(0,0,ht,_t),ne=Dt.clone(),we=Dt.clone(),We=[],nt,Pt,sn,wn,yn,xn;for(yn=0,xn=ze.length;yn<xn;++yn)switch(Pt=ze[yn],Pt.role){case j:wn=tn(Pt)?ne:we,wn.union(En(ct,Pt,ht,_t));break;case I:nt=Pt;break;case M:We.push(Zn(ct,Pt));break;case K:case de:case Z:case me:case _e:case Ve:case at:case lt:ne.union(Pt.bounds),we.union(Pt.bounds);break;default:Dt.union(Pt.bounds)}if(We.length){let zn={};We.forEach(Re=>{sn=Re.orient||o,sn!==ye&&(zn[sn]||(zn[sn]=[])).push(Re)});for(let Re in zn){let He=zn[Re];$e(ct,He,Qn(He,Re,Te.legends,ne,we,ht,_t))}We.forEach(Re=>{let He=Re.bounds;if(He.equals(Re._bounds)||(Re.bounds=Re._bounds,ct.dirty(Re),Re.bounds=He,ct.dirty(Re)),Te.autosize&&Te.autosize.type===Ft)switch(Re.orient){case s:case o:Dt.add(He.x1,0).add(He.x2,0);break;case i:case a:Dt.add(0,He.y1).add(0,He.y2)}else Dt.union(He)})}Dt.union(ne).union(we),nt&&Dt.union(qe(ct,nt,ht,_t,Dt)),ie.clip&&Dt.set(0,0,ie.width||0,ie.height||0),on(ct,ie,Dt,Te)}function on(ct,ie,Te,ze){let ht=ze.autosize||{},_t=ht.type;if(ct._autosize<1||!_t)return;let Dt=ct._width,ne=ct._height,we=Math.max(0,ie.width||0),We=Math.max(0,Math.ceil(-Te.x1)),nt=Math.max(0,ie.height||0),Pt=Math.max(0,Math.ceil(-Te.y1)),sn=Math.max(0,Math.ceil(Te.x2-we)),wn=Math.max(0,Math.ceil(Te.y2-nt));if(ht.contains===Ke){let yn=ct.padding();Dt-=yn.left+yn.right,ne-=yn.top+yn.bottom}_t===ye?(We=0,Pt=0,we=Dt,nt=ne):_t===Ft?(we=Math.max(0,Dt-We-sn),nt=Math.max(0,ne-Pt-wn)):_t===je?(we=Math.max(0,Dt-We-sn),ne=nt+Pt+wn):_t===te?(Dt=we+We+sn,nt=Math.max(0,ne-Pt-wn)):_t===Xe&&(Dt=we+We+sn,ne=nt+Pt+wn),ct._resizeView(Dt,ne,we,nt,[We,Pt],ht.resize)}n.bound=Qt,n.identifier=Lt,n.mark=cn,n.overlap=ue,n.render=$t,n.viewlayout=et,Object.defineProperty(n,"__esModule",{value:!0})})});var HAe=Ae((WH,zAe)=>{m();(function(n,e){typeof WH=="object"&&typeof zAe!="undefined"?e(WH,Xf(),Cb(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(WH,function(n,e,t,r){"use strict";function i(L){e.Transform.call(this,null,L)}r.inherits(i,e.Transform,{transform(L,V){if(this.value&&!L.modified())return V.StopPropagation;var be=V.dataflow.locale(),pe=V.fork(V.NO_SOURCE|V.NO_FIELDS),Y=this.value,oe=L.scale,ce=L.count==null?L.values?L.values.length:10:L.count,Qe=t.tickCount(oe,ce,L.minstep),Rt=L.format||t.tickFormat(be,oe,Qe,L.formatSpecifier,L.formatType,!!L.values),Et=L.values?t.validTicks(oe,L.values,Qe):t.tickValues(oe,Qe);return Y&&(pe.rem=Y),Y=Et.map((ln,S)=>e.ingest({index:S/(Et.length-1||1),value:ln,label:Rt(ln)})),L.extra&&Y.length&&Y.push(e.ingest({index:-1,extra:{value:Y[0].value},label:""})),pe.source=Y,pe.add=Y,this.value=Y,pe}});function s(L){e.Transform.call(this,null,L)}function o(){return e.ingest({})}function a(L){let V=r.fastmap().test(be=>be.exit);return V.lookup=be=>V.get(L(be)),V}r.inherits(s,e.Transform,{transform(L,V){var be=V.dataflow,pe=V.fork(V.NO_SOURCE|V.NO_FIELDS),Y=L.item||o,oe=L.key||e.tupleid,ce=this.value;return r.isArray(pe.encode)&&(pe.encode=null),ce&&(L.modified("key")||V.modified(oe))&&r.error("DataJoin does not support modified key function or fields."),ce||(V=V.addAll(),this.value=ce=a(oe)),V.visit(V.ADD,Qe=>{let Rt=oe(Qe),Et=ce.get(Rt);Et?Et.exit?(ce.empty--,pe.add.push(Et)):pe.mod.push(Et):(Et=Y(Qe),ce.set(Rt,Et),pe.add.push(Et)),Et.datum=Qe,Et.exit=!1}),V.visit(V.MOD,Qe=>{let Rt=oe(Qe),Et=ce.get(Rt);Et&&(Et.datum=Qe,pe.mod.push(Et))}),V.visit(V.REM,Qe=>{let Rt=oe(Qe),Et=ce.get(Rt);Qe===Et.datum&&!Et.exit&&(pe.rem.push(Et),Et.exit=!0,++ce.empty)}),V.changed(V.ADD_MOD)&&pe.modifies("datum"),(V.clean()||L.clean&&ce.empty>be.cleanThreshold)&&be.runAfter(ce.clean),pe}});function c(L){e.Transform.call(this,null,L)}r.inherits(c,e.Transform,{transform(L,V){var be=V.fork(V.ADD_REM),pe=L.mod||!1,Y=L.encoders,oe=V.encode;if(r.isArray(oe))if(be.changed()||oe.every(S=>Y[S]))oe=oe[0],be.encode=null;else return V.StopPropagation;var ce=oe==="enter",Qe=Y.update||r.falsy,Rt=Y.enter||r.falsy,Et=Y.exit||r.falsy,ln=(oe&&!ce?Y[oe]:Qe)||r.falsy;if(V.changed(V.ADD)&&(V.visit(V.ADD,S=>{Rt(S,L),Qe(S,L)}),be.modifies(Rt.output),be.modifies(Qe.output),ln!==r.falsy&&ln!==Qe&&(V.visit(V.ADD,S=>{ln(S,L)}),be.modifies(ln.output))),V.changed(V.REM)&&Et!==r.falsy&&(V.visit(V.REM,S=>{Et(S,L)}),be.modifies(Et.output)),ce||ln!==r.falsy){let S=V.MOD|(L.modified()?V.REFLOW:0);ce?(V.visit(S,B=>{let ee=Rt(B,L)||pe;(ln(B,L)||ee)&&be.mod.push(B)}),be.mod.length&&be.modifies(Rt.output)):V.visit(S,B=>{(ln(B,L)||pe)&&be.mod.push(B)}),be.mod.length&&be.modifies(ln.output)}return be.changed()?be:V.StopPropagation}});function d(L){e.Transform.call(this,[],L)}r.inherits(d,e.Transform,{transform(L,V){if(this.value!=null&&!L.modified())return V.StopPropagation;var be=V.dataflow.locale(),pe=V.fork(V.NO_SOURCE|V.NO_FIELDS),Y=this.value,oe=L.type||t.SymbolLegend,ce=L.scale,Qe=+L.limit,Rt=t.tickCount(ce,L.count==null?5:L.count,L.minstep),Et=!!L.values||oe===t.SymbolLegend,ln=L.format||t.labelFormat(be,ce,Rt,oe,L.formatSpecifier,L.formatType,Et),S=L.values||t.labelValues(ce,Rt),B,ee,Ee,ft,Ct;return Y&&(pe.rem=Y),oe===t.SymbolLegend?(Qe&&S.length>Qe?(V.dataflow.warn("Symbol legend count exceeds limit, filtering items."),Y=S.slice(0,Qe-1),Ct=!0):Y=S,r.isFunction(Ee=L.size)?(!L.values&&ce(Y[0])===0&&(Y=Y.slice(1)),ft=Y.reduce((Jt,Kt)=>Math.max(Jt,Ee(Kt,L)),0)):Ee=r.constant(ft=Ee||8),Y=Y.map((Jt,Kt)=>e.ingest({index:Kt,label:ln(Jt,Kt,Y),value:Jt,offset:ft,size:Ee(Jt,L)})),Ct&&(Ct=S[Y.length],Y.push(e.ingest({index:Y.length,label:`\u2026${S.length-Y.length} entries`,value:Ct,offset:ft,size:Ee(Ct,L)})))):oe===t.GradientLegend?(B=ce.domain(),ee=t.scaleFraction(ce,B[0],r.peek(B)),S.length<3&&!L.values&&B[0]!==r.peek(B)&&(S=[B[0],r.peek(B)]),Y=S.map((Jt,Kt)=>e.ingest({index:Kt,label:ln(Jt,Kt,S),value:Jt,perc:ee(Jt)}))):(Ee=S.length-1,ee=t.labelFraction(ce),Y=S.map((Jt,Kt)=>e.ingest({index:Kt,label:ln(Jt,Kt,S),value:Jt,perc:Kt?ee(Jt):0,perc2:Kt===Ee?1:ee(S[Kt+1])}))),pe.source=Y,pe.add=Y,this.value=Y,pe}});let p=L=>L.source.x,E=L=>L.source.y,w=L=>L.target.x,N=L=>L.target.y;function R(L){e.Transform.call(this,{},L)}R.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},r.inherits(R,e.Transform,{transform(L,V){var be=L.sourceX||p,pe=L.sourceY||E,Y=L.targetX||w,oe=L.targetY||N,ce=L.as||"path",Qe=L.orient||"vertical",Rt=L.shape||"line",Et=at.get(Rt+"-"+Qe)||at.get(Rt);return Et||r.error("LinkPath unsupported type: "+L.shape+(L.orient?"-"+L.orient:"")),V.visit(V.SOURCE,ln=>{ln[ce]=Et(be(ln),pe(ln),Y(ln),oe(ln))}),V.reflow(L.modified()).modifies(ce)}});let U=(L,V,be,pe)=>"M"+L+","+V+"L"+be+","+pe,Q=(L,V,be,pe)=>U(V*Math.cos(L),V*Math.sin(L),pe*Math.cos(be),pe*Math.sin(be)),P=(L,V,be,pe)=>{var Y=be-L,oe=pe-V,ce=Math.sqrt(Y*Y+oe*oe)/2,Qe=180*Math.atan2(oe,Y)/Math.PI;return"M"+L+","+V+"A"+ce+","+ce+" "+Qe+" 0 1 "+be+","+pe},j=(L,V,be,pe)=>P(V*Math.cos(L),V*Math.sin(L),pe*Math.cos(be),pe*Math.sin(be)),I=(L,V,be,pe)=>{let Y=be-L,oe=pe-V,ce=.2*(Y+oe),Qe=.2*(oe-Y);return"M"+L+","+V+"C"+(L+ce)+","+(V+Qe)+" "+(be+Qe)+","+(pe-ce)+" "+be+","+pe},K=(L,V,be,pe)=>I(V*Math.cos(L),V*Math.sin(L),pe*Math.cos(be),pe*Math.sin(be)),de=(L,V,be,pe)=>"M"+L+","+V+"V"+pe+"H"+be,M=(L,V,be,pe)=>"M"+L+","+V+"H"+be+"V"+pe,Z=(L,V,be,pe)=>{let Y=Math.cos(L),oe=Math.sin(L),ce=Math.cos(be),Qe=Math.sin(be),Rt=Math.abs(be-L)>Math.PI?be<=L:be>L;return"M"+V*Y+","+V*oe+"A"+V+","+V+" 0 0,"+(Rt?1:0)+" "+V*ce+","+V*Qe+"L"+pe*ce+","+pe*Qe},me=(L,V,be,pe)=>{let Y=(L+be)/2;return"M"+L+","+V+"C"+Y+","+V+" "+Y+","+pe+" "+be+","+pe},_e=(L,V,be,pe)=>{let Y=(V+pe)/2;return"M"+L+","+V+"C"+L+","+Y+" "+be+","+Y+" "+be+","+pe},Ve=(L,V,be,pe)=>{let Y=Math.cos(L),oe=Math.sin(L),ce=Math.cos(be),Qe=Math.sin(be),Rt=(V+pe)/2;return"M"+V*Y+","+V*oe+"C"+Rt*Y+","+Rt*oe+" "+Rt*ce+","+Rt*Qe+" "+pe*ce+","+pe*Qe},at=r.fastmap({line:U,"line-radial":Q,arc:P,"arc-radial":j,curve:I,"curve-radial":K,"orthogonal-horizontal":de,"orthogonal-vertical":M,"orthogonal-radial":Z,"diagonal-horizontal":me,"diagonal-vertical":_e,"diagonal-radial":Ve});function lt(L,V,be){L=+L,V=+V,be=(Y=arguments.length)<2?(V=L,L=0,1):Y<3?1:+be;for(var pe=-1,Y=Math.max(0,Math.ceil((V-L)/be))|0,oe=new Array(Y);++pe<Y;)oe[pe]=L+pe*be;return oe}function Ke(L,V){let be=0;if(V===void 0)for(let pe of L)(pe=+pe)&&(be+=pe);else{let pe=-1;for(let Y of L)(Y=+V(Y,++pe,L))&&(be+=Y)}return be}function St(L){e.Transform.call(this,null,L)}St.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},r.inherits(St,e.Transform,{transform(L,V){var be=L.as||["startAngle","endAngle"],pe=be[0],Y=be[1],oe=L.field||r.one,ce=L.startAngle||0,Qe=L.endAngle!=null?L.endAngle:2*Math.PI,Rt=V.source,Et=Rt.map(oe),ln=Et.length,S=ce,B=(Qe-ce)/Ke(Et),ee=lt(ln),Ee,ft,Ct;for(L.sort&&ee.sort((Jt,Kt)=>Et[Jt]-Et[Kt]),Ee=0;Ee<ln;++Ee)Ct=Et[ee[Ee]],ft=Rt[ee[Ee]],ft[pe]=S,ft[Y]=S+=Ct*B;return this.value=Et,V.reflow(L.modified()).modifies(be)}});function Ft(L,V,be){L.prototype=V.prototype=be,be.constructor=L}function je(L,V){var be=Object.create(L.prototype);for(var pe in V)be[pe]=V[pe];return be}function te(){}var Xe=.7,ye=1/Xe,ke="\\s*([+-]?\\d+)\\s*",Ce="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Je=/^#([0-9a-f]{3,8})$/,ut=new RegExp("^rgb\\("+[ke,ke,ke]+"\\)$"),Qt=new RegExp("^rgb\\("+[xe,xe,xe]+"\\)$"),wt=new RegExp("^rgba\\("+[ke,ke,ke,Ce]+"\\)$"),mn=new RegExp("^rgba\\("+[xe,xe,xe,Ce]+"\\)$"),Lt=new RegExp("^hsl\\("+[Ce,xe,xe]+"\\)$"),It=new RegExp("^hsla\\("+[Ce,xe,xe,Ce]+"\\)$"),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ft(te,ve,{copy:function(L){return Object.assign(new this.constructor,this,L)},displayable:function(){return this.rgb().displayable()},hex:it,formatHex:it,formatHsl:ue,formatRgb:De,toString:De});function it(){return this.rgb().formatHex()}function ue(){return en(this).formatHsl()}function De(){return this.rgb().formatRgb()}function ve(L){var V,be;return L=(L+"").trim().toLowerCase(),(V=Je.exec(L))?(be=V[1].length,V=parseInt(V[1],16),be===6?le(V):be===3?new vt(V>>8&15|V>>4&240,V>>4&15|V&240,(V&15)<<4|V&15,1):be===8?st(V>>24&255,V>>16&255,V>>8&255,(V&255)/255):be===4?st(V>>12&15|V>>8&240,V>>8&15|V>>4&240,V>>4&15|V&240,((V&15)<<4|V&15)/255):null):(V=ut.exec(L))?new vt(V[1],V[2],V[3],1):(V=Qt.exec(L))?new vt(V[1]*255/100,V[2]*255/100,V[3]*255/100,1):(V=wt.exec(L))?st(V[1],V[2],V[3],V[4]):(V=mn.exec(L))?st(V[1]*255/100,V[2]*255/100,V[3]*255/100,V[4]):(V=Lt.exec(L))?tn(V[1],V[2]/100,V[3]/100,1):(V=It.exec(L))?tn(V[1],V[2]/100,V[3]/100,V[4]):cn.hasOwnProperty(L)?le(cn[L]):L==="transparent"?new vt(NaN,NaN,NaN,0):null}function le(L){return new vt(L>>16&255,L>>8&255,L&255,1)}function st(L,V,be,pe){return pe<=0&&(L=V=be=NaN),new vt(L,V,be,pe)}function Ze(L){return L instanceof te||(L=ve(L)),L?(L=L.rgb(),new vt(L.r,L.g,L.b,L.opacity)):new vt}function Le(L,V,be,pe){return arguments.length===1?Ze(L):new vt(L,V,be,pe??1)}function vt(L,V,be,pe){this.r=+L,this.g=+V,this.b=+be,this.opacity=+pe}Ft(vt,Le,je(te,{brighter:function(L){return L=L==null?ye:Math.pow(ye,L),new vt(this.r*L,this.g*L,this.b*L,this.opacity)},darker:function(L){return L=L==null?Xe:Math.pow(Xe,L),new vt(this.r*L,this.g*L,this.b*L,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$t,formatHex:$t,formatRgb:Mt,toString:Mt}));function $t(){return"#"+Vt(this.r)+Vt(this.g)+Vt(this.b)}function Mt(){var L=this.opacity;return L=isNaN(L)?1:Math.max(0,Math.min(1,L)),(L===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(L===1?")":", "+L+")")}function Vt(L){return L=Math.max(0,Math.min(255,Math.round(L)||0)),(L<16?"0":"")+L.toString(16)}function tn(L,V,be,pe){return pe<=0?L=V=be=NaN:be<=0||be>=1?L=V=NaN:V<=0&&(L=NaN),new Fn(L,V,be,pe)}function en(L){if(L instanceof Fn)return new Fn(L.h,L.s,L.l,L.opacity);if(L instanceof te||(L=ve(L)),!L)return new Fn;if(L instanceof Fn)return L;L=L.rgb();var V=L.r/255,be=L.g/255,pe=L.b/255,Y=Math.min(V,be,pe),oe=Math.max(V,be,pe),ce=NaN,Qe=oe-Y,Rt=(oe+Y)/2;return Qe?(V===oe?ce=(be-pe)/Qe+(be<pe)*6:be===oe?ce=(pe-V)/Qe+2:ce=(V-be)/Qe+4,Qe/=Rt<.5?oe+Y:2-oe-Y,ce*=60):Qe=Rt>0&&Rt<1?0:ce,new Fn(ce,Qe,Rt,L.opacity)}function En(L,V,be,pe){return arguments.length===1?en(L):new Fn(L,V,be,pe??1)}function Fn(L,V,be,pe){this.h=+L,this.s=+V,this.l=+be,this.opacity=+pe}Ft(Fn,En,je(te,{brighter:function(L){return L=L==null?ye:Math.pow(ye,L),new Fn(this.h,this.s,this.l*L,this.opacity)},darker:function(L){return L=L==null?Xe:Math.pow(Xe,L),new Fn(this.h,this.s,this.l*L,this.opacity)},rgb:function(){var L=this.h%360+(this.h<0)*360,V=isNaN(L)||isNaN(this.s)?0:this.s,be=this.l,pe=be+(be<.5?be:1-be)*V,Y=2*be-pe;return new vt(On(L>=240?L-240:L+120,Y,pe),On(L,Y,pe),On(L<120?L+240:L-120,Y,pe),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var L=this.opacity;return L=isNaN(L)?1:Math.max(0,Math.min(1,L)),(L===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(L===1?")":", "+L+")")}}));function On(L,V,be){return(L<60?V+(be-V)*L/60:L<180?be:L<240?V+(be-V)*(240-L)/60:V)*255}var qt=L=>()=>L;function pn(L,V){return function(be){return L+be*V}}function qn(L,V,be){return L=Math.pow(L,be),V=Math.pow(V,be)-L,be=1/be,function(pe){return Math.pow(L+pe*V,be)}}function or(L){return(L=+L)==1?In:function(V,be){return be-V?qn(V,be,L):qt(isNaN(V)?be:V)}}function In(L,V){var be=V-L;return be?pn(L,be):qt(isNaN(L)?V:L)}var Ne=function L(V){var be=or(V);function pe(Y,oe){var ce=be((Y=Le(Y)).r,(oe=Le(oe)).r),Qe=be(Y.g,oe.g),Rt=be(Y.b,oe.b),Et=In(Y.opacity,oe.opacity);return function(ln){return Y.r=ce(ln),Y.g=Qe(ln),Y.b=Rt(ln),Y.opacity=Et(ln),Y+""}}return pe.gamma=L,pe}(1);function $e(L,V){V||(V=[]);var be=L?Math.min(V.length,L.length):0,pe=V.slice(),Y;return function(oe){for(Y=0;Y<be;++Y)pe[Y]=L[Y]*(1-oe)+V[Y]*oe;return pe}}function Oe(L){return ArrayBuffer.isView(L)&&!(L instanceof DataView)}function jt(L,V){var be=V?V.length:0,pe=L?Math.min(be,L.length):0,Y=new Array(pe),oe=new Array(be),ce;for(ce=0;ce<pe;++ce)Y[ce]=ar(L[ce],V[ce]);for(;ce<be;++ce)oe[ce]=V[ce];return function(Qe){for(ce=0;ce<pe;++ce)oe[ce]=Y[ce](Qe);return oe}}function yt(L,V){var be=new Date;return L=+L,V=+V,function(pe){return be.setTime(L*(1-pe)+V*pe),be}}function mt(L,V){return L=+L,V=+V,function(be){return L*(1-be)+V*be}}function nn(L,V){var be={},pe={},Y;(L===null||typeof L!="object")&&(L={}),(V===null||typeof V!="object")&&(V={});for(Y in V)Y in L?be[Y]=ar(L[Y],V[Y]):pe[Y]=V[Y];return function(oe){for(Y in be)pe[Y]=be[Y](oe);return pe}}var Wt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dn=new RegExp(Wt.source,"g");function Qn(L){return function(){return L}}function Zn(L){return function(V){return L(V)+""}}function Pn(L,V){var be=Wt.lastIndex=Dn.lastIndex=0,pe,Y,oe,ce=-1,Qe=[],Rt=[];for(L=L+"",V=V+"";(pe=Wt.exec(L))&&(Y=Dn.exec(V));)(oe=Y.index)>be&&(oe=V.slice(be,oe),Qe[ce]?Qe[ce]+=oe:Qe[++ce]=oe),(pe=pe[0])===(Y=Y[0])?Qe[ce]?Qe[ce]+=Y:Qe[++ce]=Y:(Qe[++ce]=null,Rt.push({i:ce,x:mt(pe,Y)})),be=Dn.lastIndex;return be<V.length&&(oe=V.slice(be),Qe[ce]?Qe[ce]+=oe:Qe[++ce]=oe),Qe.length<2?Rt[0]?Zn(Rt[0].x):Qn(V):(V=Rt.length,function(Et){for(var ln=0,S;ln<V;++ln)Qe[(S=Rt[ln]).i]=S.x(Et);return Qe.join("")})}function ar(L,V){var be=typeof V,pe;return V==null||be==="boolean"?qt(V):(be==="number"?mt:be==="string"?(pe=ve(V))?(V=pe,Ne):Pn:V instanceof ve?Ne:V instanceof Date?yt:Oe(V)?$e:Array.isArray(V)?jt:typeof V.valueOf!="function"&&typeof V.toString!="function"||isNaN(V)?nn:mt)(L,V)}function Ye(L,V){return L=+L,V=+V,function(be){return Math.round(L*(1-be)+V*be)}}let gt=5;function se(L){let V=L.type;return!L.bins&&(V===t.Linear||V===t.Pow||V===t.Sqrt)}function qe(L){return t.isContinuous(L)&&L!==t.Sequential}let et=r.toSet(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Tt(L){e.Transform.call(this,null,L),this.modified(!0)}r.inherits(Tt,e.Transform,{transform(L,V){var be=V.dataflow,pe=this.value,Y=fn(L);(!pe||Y!==pe.type)&&(this.value=pe=t.scale(Y)());for(Y in L)if(!et[Y]){if(Y==="padding"&&qe(pe.type))continue;r.isFunction(pe[Y])?pe[Y](L[Y]):be.warn("Unsupported scale property: "+Y)}return _t(pe,L,ht(pe,L,ct(pe,L,be))),V.fork(V.NO_SOURCE|V.NO_FIELDS)}});function fn(L){var V=L.type,be="",pe;return V===t.Sequential?t.Sequential+"-"+t.Linear:(on(L)&&(pe=L.rawDomain?L.rawDomain.length:L.domain?L.domain.length+ +(L.domainMid!=null):0,be=pe===2?t.Sequential+"-":pe===3?t.Diverging+"-":""),(be+V||t.Linear).toLowerCase())}function on(L){let V=L.type;return t.isContinuous(V)&&V!==t.Time&&V!==t.UTC&&(L.scheme||L.range&&L.range.length&&L.range.every(r.isString))}function ct(L,V,be){let pe=ie(L,V.domainRaw,be);if(pe>-1)return pe;var Y=V.domain,oe=L.type,ce=V.zero||V.zero===void 0&&se(L),Qe,Rt;if(!Y)return 0;if(qe(oe)&&V.padding&&Y[0]!==r.peek(Y)&&(Y=Te(oe,Y,V.range,V.padding,V.exponent,V.constant)),(ce||V.domainMin!=null||V.domainMax!=null||V.domainMid!=null)&&(Qe=(Y=Y.slice()).length-1||1,ce&&(Y[0]>0&&(Y[0]=0),Y[Qe]<0&&(Y[Qe]=0)),V.domainMin!=null&&(Y[0]=V.domainMin),V.domainMax!=null&&(Y[Qe]=V.domainMax),V.domainMid!=null)){Rt=V.domainMid;let Et=Rt>Y[Qe]?Qe+1:Rt<Y[0]?0:Qe;Et!==Qe&&be.warn("Scale domainMid exceeds domain min or max.",Rt),Y.splice(Et,0,Rt)}return L.domain(ze(oe,Y,be)),oe===t.Ordinal&&L.unknown(V.domainImplicit?t.scaleImplicit:void 0),V.nice&&L.nice&&L.nice(V.nice!==!0&&t.tickCount(L,V.nice)||null),Y.length}function ie(L,V,be){return V?(L.domain(ze(L.type,V,be)),V.length):-1}function Te(L,V,be,pe,Y,oe){var ce=Math.abs(r.peek(be)-be[0]),Qe=ce/(ce-2*pe),Rt=L===t.Log?r.zoomLog(V,null,Qe):L===t.Sqrt?r.zoomPow(V,null,Qe,.5):L===t.Pow?r.zoomPow(V,null,Qe,Y||1):L===t.Symlog?r.zoomSymlog(V,null,Qe,oe||1):r.zoomLinear(V,null,Qe);return V=V.slice(),V[0]=Rt[0],V[V.length-1]=Rt[1],V}function ze(L,V,be){if(t.isLogarithmic(L)){var pe=Math.abs(V.reduce((Y,oe)=>Y+(oe<0?-1:oe>0?1:0),0));pe!==V.length&&be.warn("Log scale domain includes zero: "+r.stringValue(V))}return V}function ht(L,V,be){let pe=V.bins;if(pe&&!r.isArray(pe)){let Y=L.domain(),oe=Y[0],ce=r.peek(Y),Qe=pe.step,Rt=pe.start==null?oe:pe.start,Et=pe.stop==null?ce:pe.stop;Qe||r.error("Scale bins parameter missing step property."),Rt<oe&&(Rt=Qe*Math.ceil(oe/Qe)),Et>ce&&(Et=Qe*Math.floor(ce/Qe)),pe=lt(Rt,Et+Qe/2,Qe)}return pe?L.bins=pe:L.bins&&delete L.bins,L.type===t.BinOrdinal&&(pe?!V.domain&&!V.domainRaw&&(L.domain(pe),be=pe.length):L.bins=L.domain()),be}function _t(L,V,be){var pe=L.type,Y=V.round||!1,oe=V.range;if(V.rangeStep!=null)oe=Dt(pe,V,be);else if(V.scheme&&(oe=ne(pe,V,be),r.isFunction(oe))){if(L.interpolator)return L.interpolator(oe);r.error(`Scale type ${pe} does not support interpolating color schemes.`)}if(oe&&t.isInterpolating(pe))return L.interpolator(t.interpolateColors(We(oe,V.reverse),V.interpolate,V.interpolateGamma));oe&&V.interpolate&&L.interpolate?L.interpolate(t.interpolate(V.interpolate,V.interpolateGamma)):r.isFunction(L.round)?L.round(Y):r.isFunction(L.rangeRound)&&L.interpolate(Y?Ye:ar),oe&&L.range(We(oe,V.reverse))}function Dt(L,V,be){L!==t.Band&&L!==t.Point&&r.error("Only band and point scales support rangeStep.");var pe=(V.paddingOuter!=null?V.paddingOuter:V.padding)||0,Y=L===t.Point?1:(V.paddingInner!=null?V.paddingInner:V.padding)||0;return[0,V.rangeStep*t.bandSpace(be,Y,pe)]}function ne(L,V,be){var pe=V.schemeExtent,Y,oe;return r.isArray(V.scheme)?oe=t.interpolateColors(V.scheme,V.interpolate,V.interpolateGamma):(Y=V.scheme.toLowerCase(),oe=t.scheme(Y),oe||r.error(`Unrecognized scheme name: ${V.scheme}`)),be=L===t.Threshold?be+1:L===t.BinOrdinal?be-1:L===t.Quantile||L===t.Quantize?+V.schemeCount||gt:be,t.isInterpolating(L)?we(oe,pe,V.reverse):r.isFunction(oe)?t.quantizeInterpolator(we(oe,pe),be):L===t.Ordinal?oe:oe.slice(0,be)}function we(L,V,be){return r.isFunction(L)&&(V||be)?t.interpolateRange(L,We(V||[0,1],be)):L}function We(L,V){return V?L.slice().reverse():L}function nt(L){e.Transform.call(this,null,L)}r.inherits(nt,e.Transform,{transform(L,V){let be=L.modified("sort")||V.changed(V.ADD)||V.modified(L.sort.fields)||V.modified("datum");return be&&V.source.sort(e.stableCompare(L.sort)),this.modified(be),V}});let Pt="zero",sn="center",wn="normalize",yn=["y0","y1"];function xn(L){e.Transform.call(this,null,L)}xn.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Pt,values:[Pt,sn,wn]},{name:"as",type:"string",array:!0,length:2,default:yn}]},r.inherits(xn,e.Transform,{transform(L,V){var be=L.as||yn,pe=be[0],Y=be[1],oe=e.stableCompare(L.sort),ce=L.field||r.one,Qe=L.offset===sn?zn:L.offset===wn?Re:He,Rt,Et,ln,S;for(Rt=At(V.source,L.groupby,oe,ce),Et=0,ln=Rt.length,S=Rt.max;Et<ln;++Et)Qe(Rt[Et],S,ce,pe,Y);return V.reflow(L.modified()).modifies(be)}});function zn(L,V,be,pe,Y){for(var oe=(V-L.sum)/2,ce=L.length,Qe=0,Rt;Qe<ce;++Qe)Rt=L[Qe],Rt[pe]=oe,Rt[Y]=oe+=Math.abs(be(Rt))}function Re(L,V,be,pe,Y){for(var oe=1/L.sum,ce=0,Qe=L.length,Rt=0,Et=0,ln;Rt<Qe;++Rt)ln=L[Rt],ln[pe]=ce,ln[Y]=ce=oe*(Et+=Math.abs(be(ln)))}function He(L,V,be,pe,Y){for(var oe=0,ce=0,Qe=L.length,Rt=0,Et,ln;Rt<Qe;++Rt)ln=L[Rt],Et=+be(ln),Et<0?(ln[pe]=ce,ln[Y]=ce+=Et):(ln[pe]=oe,ln[Y]=oe+=Et)}function At(L,V,be,pe){var Y=[],oe=ft=>ft(ln),ce,Qe,Rt,Et,ln,S,B,ee,Ee;if(V==null)Y.push(L.slice());else for(ce={},Qe=0,Rt=L.length;Qe<Rt;++Qe)ln=L[Qe],S=V.map(oe),B=ce[S],B||(ce[S]=B=[],Y.push(B)),B.push(ln);for(S=0,Ee=0,Et=Y.length;S<Et;++S){for(B=Y[S],Qe=0,ee=0,Rt=B.length;Qe<Rt;++Qe)ee+=Math.abs(pe(B[Qe]));B.sum=ee,ee>Ee&&(Ee=ee),be&&B.sort(be)}return Y.max=Ee,Y}n.axisticks=i,n.datajoin=s,n.encode=c,n.legendentries=d,n.linkpath=R,n.pie=St,n.scale=Tt,n.sortitems=nt,n.stack=xn,Object.defineProperty(n,"__esModule",{value:!0})})});var qae=Ae((QH,$Ae)=>{m();(function(n,e){typeof QH=="object"&&typeof $Ae!="undefined"?e(QH):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(QH,function(n){"use strict";class e{constructor(){this._partials=new Float64Array(32),this._n=0}add(pt){let Yt=this._partials,Bt=0;for(let dn=0;dn<this._n&&dn<32;dn++){let Nn=Yt[dn],Kn=pt+Nn,Un=Math.abs(pt)<Math.abs(Nn)?pt-(Kn-Nn):Nn-(Kn-pt);Un&&(Yt[Bt++]=Un),pt=Kn}return Yt[Bt]=pt,this._n=Bt+1,this}valueOf(){let pt=this._partials,Yt=this._n,Bt,dn,Nn,Kn=0;if(Yt>0){for(Kn=pt[--Yt];Yt>0&&(Bt=Kn,dn=pt[--Yt],Kn=Bt+dn,Nn=dn-(Kn-Bt),!Nn););Yt>0&&(Nn<0&&pt[Yt-1]<0||Nn>0&&pt[Yt-1]>0)&&(dn=Nn*2,Bt=Kn+dn,dn==Bt-Kn&&(Kn=Bt))}return Kn}}function*t(Me){for(let pt of Me)yield*pt}function r(Me){return Array.from(t(Me))}var i=1e-6,s=1e-12,o=Math.PI,a=o/2,c=o/4,d=o*2,p=180/o,E=o/180,w=Math.abs,N=Math.atan,R=Math.atan2,U=Math.cos,Q=Math.exp,P=Math.log,j=Math.pow,I=Math.sin,K=Math.sign||function(Me){return Me>0?1:Me<0?-1:0},de=Math.sqrt,M=Math.tan;function Z(Me){return Me>1?0:Me<-1?o:Math.acos(Me)}function me(Me){return Me>1?a:Me<-1?-a:Math.asin(Me)}function _e(){}function Ve(Me,pt){Me&&lt.hasOwnProperty(Me.type)&&lt[Me.type](Me,pt)}var at={Feature:function(Me,pt){Ve(Me.geometry,pt)},FeatureCollection:function(Me,pt){for(var Yt=Me.features,Bt=-1,dn=Yt.length;++Bt<dn;)Ve(Yt[Bt].geometry,pt)}},lt={Sphere:function(Me,pt){pt.sphere()},Point:function(Me,pt){Me=Me.coordinates,pt.point(Me[0],Me[1],Me[2])},MultiPoint:function(Me,pt){for(var Yt=Me.coordinates,Bt=-1,dn=Yt.length;++Bt<dn;)Me=Yt[Bt],pt.point(Me[0],Me[1],Me[2])},LineString:function(Me,pt){Ke(Me.coordinates,pt,0)},MultiLineString:function(Me,pt){for(var Yt=Me.coordinates,Bt=-1,dn=Yt.length;++Bt<dn;)Ke(Yt[Bt],pt,0)},Polygon:function(Me,pt){St(Me.coordinates,pt)},MultiPolygon:function(Me,pt){for(var Yt=Me.coordinates,Bt=-1,dn=Yt.length;++Bt<dn;)St(Yt[Bt],pt)},GeometryCollection:function(Me,pt){for(var Yt=Me.geometries,Bt=-1,dn=Yt.length;++Bt<dn;)Ve(Yt[Bt],pt)}};function Ke(Me,pt,Yt){var Bt=-1,dn=Me.length-Yt,Nn;for(pt.lineStart();++Bt<dn;)Nn=Me[Bt],pt.point(Nn[0],Nn[1],Nn[2]);pt.lineEnd()}function St(Me,pt){var Yt=-1,Bt=Me.length;for(pt.polygonStart();++Yt<Bt;)Ke(Me[Yt],pt,1);pt.polygonEnd()}function Ft(Me,pt){Me&&at.hasOwnProperty(Me.type)?at[Me.type](Me,pt):Ve(Me,pt)}function je(Me){return[R(Me[1],Me[0]),me(Me[2])]}function te(Me){var pt=Me[0],Yt=Me[1],Bt=U(Yt);return[Bt*U(pt),Bt*I(pt),I(Yt)]}function Xe(Me,pt){return Me[0]*pt[0]+Me[1]*pt[1]+Me[2]*pt[2]}function ye(Me,pt){return[Me[1]*pt[2]-Me[2]*pt[1],Me[2]*pt[0]-Me[0]*pt[2],Me[0]*pt[1]-Me[1]*pt[0]]}function ke(Me,pt){Me[0]+=pt[0],Me[1]+=pt[1],Me[2]+=pt[2]}function Ce(Me,pt){return[Me[0]*pt,Me[1]*pt,Me[2]*pt]}function xe(Me){var pt=de(Me[0]*Me[0]+Me[1]*Me[1]+Me[2]*Me[2]);Me[0]/=pt,Me[1]/=pt,Me[2]/=pt}function Je(Me,pt){function Yt(Bt,dn){return Bt=Me(Bt,dn),pt(Bt[0],Bt[1])}return Me.invert&&pt.invert&&(Yt.invert=function(Bt,dn){return Bt=pt.invert(Bt,dn),Bt&&Me.invert(Bt[0],Bt[1])}),Yt}function ut(Me,pt){return[w(Me)>o?Me+Math.round(-Me/d)*d:Me,pt]}ut.invert=ut;function Qt(Me,pt,Yt){return(Me%=d)?pt||Yt?Je(mn(Me),Lt(pt,Yt)):mn(Me):pt||Yt?Lt(pt,Yt):ut}function wt(Me){return function(pt,Yt){return pt+=Me,[pt>o?pt-d:pt<-o?pt+d:pt,Yt]}}function mn(Me){var pt=wt(Me);return pt.invert=wt(-Me),pt}function Lt(Me,pt){var Yt=U(Me),Bt=I(Me),dn=U(pt),Nn=I(pt);function Kn(Un,br){var wr=U(br),Gn=U(Un)*wr,ur=I(Un)*wr,tr=I(br),gr=tr*Yt+Gn*Bt;return[R(ur*dn-gr*Nn,Gn*Yt-tr*Bt),me(gr*dn+ur*Nn)]}return Kn.invert=function(Un,br){var wr=U(br),Gn=U(Un)*wr,ur=I(Un)*wr,tr=I(br),gr=tr*dn-ur*Nn;return[R(ur*dn+tr*Nn,Gn*Yt+gr*Bt),me(gr*Yt-Gn*Bt)]},Kn}function It(Me){Me=Qt(Me[0]*E,Me[1]*E,Me.length>2?Me[2]*E:0);function pt(Yt){return Yt=Me(Yt[0]*E,Yt[1]*E),Yt[0]*=p,Yt[1]*=p,Yt}return pt.invert=function(Yt){return Yt=Me.invert(Yt[0]*E,Yt[1]*E),Yt[0]*=p,Yt[1]*=p,Yt},pt}function cn(Me,pt,Yt,Bt,dn,Nn){if(!!Yt){var Kn=U(pt),Un=I(pt),br=Bt*Yt;dn==null?(dn=pt+Bt*d,Nn=pt-br/2):(dn=it(Kn,dn),Nn=it(Kn,Nn),(Bt>0?dn<Nn:dn>Nn)&&(dn+=Bt*d));for(var wr,Gn=dn;Bt>0?Gn>Nn:Gn<Nn;Gn-=br)wr=je([Kn,-Un*U(Gn),-Un*I(Gn)]),Me.point(wr[0],wr[1])}}function it(Me,pt){pt=te(pt),pt[0]-=Me,xe(pt);var Yt=Z(-pt[1]);return((-pt[2]<0?-Yt:Yt)+d-i)%d}function ue(){var Me=[],pt;return{point:function(Yt,Bt,dn){pt.push([Yt,Bt,dn])},lineStart:function(){Me.push(pt=[])},lineEnd:_e,rejoin:function(){Me.length>1&&Me.push(Me.pop().concat(Me.shift()))},result:function(){var Yt=Me;return Me=[],pt=null,Yt}}}function De(Me,pt){return w(Me[0]-pt[0])<i&&w(Me[1]-pt[1])<i}function ve(Me,pt,Yt,Bt){this.x=Me,this.z=pt,this.o=Yt,this.e=Bt,this.v=!1,this.n=this.p=null}function le(Me,pt,Yt,Bt,dn){var Nn=[],Kn=[],Un,br;if(Me.forEach(function(Or){if(!((mi=Or.length-1)<=0)){var mi,ii=Or[0],gi=Or[mi],oi;if(De(ii,gi)){if(!ii[2]&&!gi[2]){for(dn.lineStart(),Un=0;Un<mi;++Un)dn.point((ii=Or[Un])[0],ii[1]);dn.lineEnd();return}gi[0]+=2*i}Nn.push(oi=new ve(ii,Or,null,!0)),Kn.push(oi.o=new ve(ii,null,oi,!1)),Nn.push(oi=new ve(gi,Or,null,!1)),Kn.push(oi.o=new ve(gi,null,oi,!0))}}),!!Nn.length){for(Kn.sort(pt),st(Nn),st(Kn),Un=0,br=Kn.length;Un<br;++Un)Kn[Un].e=Yt=!Yt;for(var wr=Nn[0],Gn,ur;;){for(var tr=wr,gr=!0;tr.v;)if((tr=tr.n)===wr)return;Gn=tr.z,dn.lineStart();do{if(tr.v=tr.o.v=!0,tr.e){if(gr)for(Un=0,br=Gn.length;Un<br;++Un)dn.point((ur=Gn[Un])[0],ur[1]);else Bt(tr.x,tr.n.x,1,dn);tr=tr.n}else{if(gr)for(Gn=tr.p.z,Un=Gn.length-1;Un>=0;--Un)dn.point((ur=Gn[Un])[0],ur[1]);else Bt(tr.x,tr.p.x,-1,dn);tr=tr.p}tr=tr.o,Gn=tr.z,gr=!gr}while(!tr.v);dn.lineEnd()}}}function st(Me){if(!!(pt=Me.length)){for(var pt,Yt=0,Bt=Me[0],dn;++Yt<pt;)Bt.n=dn=Me[Yt],dn.p=Bt,Bt=dn;Bt.n=dn=Me[0],dn.p=Bt}}function Ze(Me){return w(Me[0])<=o?Me[0]:K(Me[0])*((w(Me[0])+o)%d-o)}function Le(Me,pt){var Yt=Ze(pt),Bt=pt[1],dn=I(Bt),Nn=[I(Yt),-U(Yt),0],Kn=0,Un=0,br=new e;dn===1?Bt=a+i:dn===-1&&(Bt=-a-i);for(var wr=0,Gn=Me.length;wr<Gn;++wr)if(!!(tr=(ur=Me[wr]).length))for(var ur,tr,gr=ur[tr-1],Or=Ze(gr),mi=gr[1]/2+c,ii=I(mi),gi=U(mi),oi=0;oi<tr;++oi,Or=Ir,ii=_i,gi=os,gr=Ur){var Ur=ur[oi],Ir=Ze(Ur),bi=Ur[1]/2+c,_i=I(bi),os=U(bi),gs=Ir-Or,Ei=gs>=0?1:-1,Ms=Ei*gs,is=Ms>o,xa=ii*_i;if(br.add(R(xa*Ei*I(Ms),gi*os+xa*U(Ms))),Kn+=is?gs+Ei*d:gs,is^Or>=Yt^Ir>=Yt){var No=ye(te(gr),te(Ur));xe(No);var As=ye(Nn,No);xe(As);var Zt=(is^gs>=0?-1:1)*me(As[2]);(Bt>Zt||Bt===Zt&&(No[0]||No[1]))&&(Un+=is^gs>=0?1:-1)}}return(Kn<-i||Kn<i&&br<-s)^Un&1}function vt(Me,pt,Yt,Bt){return function(dn){var Nn=pt(dn),Kn=ue(),Un=pt(Kn),br=!1,wr,Gn,ur,tr={point:gr,lineStart:mi,lineEnd:ii,polygonStart:function(){tr.point=gi,tr.lineStart=oi,tr.lineEnd=Ur,Gn=[],wr=[]},polygonEnd:function(){tr.point=gr,tr.lineStart=mi,tr.lineEnd=ii,Gn=r(Gn);var Ir=Le(wr,Bt);Gn.length?(br||(dn.polygonStart(),br=!0),le(Gn,Mt,Ir,Yt,dn)):Ir&&(br||(dn.polygonStart(),br=!0),dn.lineStart(),Yt(null,null,1,dn),dn.lineEnd()),br&&(dn.polygonEnd(),br=!1),Gn=wr=null},sphere:function(){dn.polygonStart(),dn.lineStart(),Yt(null,null,1,dn),dn.lineEnd(),dn.polygonEnd()}};function gr(Ir,bi){Me(Ir,bi)&&dn.point(Ir,bi)}function Or(Ir,bi){Nn.point(Ir,bi)}function mi(){tr.point=Or,Nn.lineStart()}function ii(){tr.point=gr,Nn.lineEnd()}function gi(Ir,bi){ur.push([Ir,bi]),Un.point(Ir,bi)}function oi(){Un.lineStart(),ur=[]}function Ur(){gi(ur[0][0],ur[0][1]),Un.lineEnd();var Ir=Un.clean(),bi=Kn.result(),_i,os=bi.length,gs,Ei,Ms;if(ur.pop(),wr.push(ur),ur=null,!!os){if(Ir&1){if(Ei=bi[0],(gs=Ei.length-1)>0){for(br||(dn.polygonStart(),br=!0),dn.lineStart(),_i=0;_i<gs;++_i)dn.point((Ms=Ei[_i])[0],Ms[1]);dn.lineEnd()}return}os>1&&Ir&2&&bi.push(bi.pop().concat(bi.shift())),Gn.push(bi.filter($t))}}return tr}}function $t(Me){return Me.length>1}function Mt(Me,pt){return((Me=Me.x)[0]<0?Me[1]-a-i:a-Me[1])-((pt=pt.x)[0]<0?pt[1]-a-i:a-pt[1])}var Vt=vt(function(){return!0},tn,En,[-o,-a]);function tn(Me){var pt=NaN,Yt=NaN,Bt=NaN,dn;return{lineStart:function(){Me.lineStart(),dn=1},point:function(Nn,Kn){var Un=Nn>0?o:-o,br=w(Nn-pt);w(br-o)<i?(Me.point(pt,Yt=(Yt+Kn)/2>0?a:-a),Me.point(Bt,Yt),Me.lineEnd(),Me.lineStart(),Me.point(Un,Yt),Me.point(Nn,Yt),dn=0):Bt!==Un&&br>=o&&(w(pt-Bt)<i&&(pt-=Bt*i),w(Nn-Un)<i&&(Nn-=Un*i),Yt=en(pt,Yt,Nn,Kn),Me.point(Bt,Yt),Me.lineEnd(),Me.lineStart(),Me.point(Un,Yt),dn=0),Me.point(pt=Nn,Yt=Kn),Bt=Un},lineEnd:function(){Me.lineEnd(),pt=Yt=NaN},clean:function(){return 2-dn}}}function en(Me,pt,Yt,Bt){var dn,Nn,Kn=I(Me-Yt);return w(Kn)>i?N((I(pt)*(Nn=U(Bt))*I(Yt)-I(Bt)*(dn=U(pt))*I(Me))/(dn*Nn*Kn)):(pt+Bt)/2}function En(Me,pt,Yt,Bt){var dn;if(Me==null)dn=Yt*a,Bt.point(-o,dn),Bt.point(0,dn),Bt.point(o,dn),Bt.point(o,0),Bt.point(o,-dn),Bt.point(0,-dn),Bt.point(-o,-dn),Bt.point(-o,0),Bt.point(-o,dn);else if(w(Me[0]-pt[0])>i){var Nn=Me[0]<pt[0]?o:-o;dn=Yt*Nn/2,Bt.point(-Nn,dn),Bt.point(0,dn),Bt.point(Nn,dn)}else Bt.point(pt[0],pt[1])}function Fn(Me){var pt=U(Me),Yt=6*E,Bt=pt>0,dn=w(pt)>i;function Nn(Gn,ur,tr,gr){cn(gr,Me,Yt,tr,Gn,ur)}function Kn(Gn,ur){return U(Gn)*U(ur)>pt}function Un(Gn){var ur,tr,gr,Or,mi;return{lineStart:function(){Or=gr=!1,mi=1},point:function(ii,gi){var oi=[ii,gi],Ur,Ir=Kn(ii,gi),bi=Bt?Ir?0:wr(ii,gi):Ir?wr(ii+(ii<0?o:-o),gi):0;if(!ur&&(Or=gr=Ir)&&Gn.lineStart(),Ir!==gr&&(Ur=br(ur,oi),(!Ur||De(ur,Ur)||De(oi,Ur))&&(oi[2]=1)),Ir!==gr)mi=0,Ir?(Gn.lineStart(),Ur=br(oi,ur),Gn.point(Ur[0],Ur[1])):(Ur=br(ur,oi),Gn.point(Ur[0],Ur[1],2),Gn.lineEnd()),ur=Ur;else if(dn&&ur&&Bt^Ir){var _i;!(bi&tr)&&(_i=br(oi,ur,!0))&&(mi=0,Bt?(Gn.lineStart(),Gn.point(_i[0][0],_i[0][1]),Gn.point(_i[1][0],_i[1][1]),Gn.lineEnd()):(Gn.point(_i[1][0],_i[1][1]),Gn.lineEnd(),Gn.lineStart(),Gn.point(_i[0][0],_i[0][1],3)))}Ir&&(!ur||!De(ur,oi))&&Gn.point(oi[0],oi[1]),ur=oi,gr=Ir,tr=bi},lineEnd:function(){gr&&Gn.lineEnd(),ur=null},clean:function(){return mi|(Or&&gr)<<1}}}function br(Gn,ur,tr){var gr=te(Gn),Or=te(ur),mi=[1,0,0],ii=ye(gr,Or),gi=Xe(ii,ii),oi=ii[0],Ur=gi-oi*oi;if(!Ur)return!tr&&Gn;var Ir=pt*gi/Ur,bi=-pt*oi/Ur,_i=ye(mi,ii),os=Ce(mi,Ir),gs=Ce(ii,bi);ke(os,gs);var Ei=_i,Ms=Xe(os,Ei),is=Xe(Ei,Ei),xa=Ms*Ms-is*(Xe(os,os)-1);if(!(xa<0)){var No=de(xa),As=Ce(Ei,(-Ms-No)/is);if(ke(As,os),As=je(As),!tr)return As;var Zt=Gn[0],Jn=ur[0],vn=Gn[1],Kr=ur[1],Oi;Jn<Zt&&(Oi=Zt,Zt=Jn,Jn=Oi);var ns=Jn-Zt,ms=w(ns-o)<i,$i=ms||ns<i;if(!ms&&Kr<vn&&(Oi=vn,vn=Kr,Kr=Oi),$i?ms?vn+Kr>0^As[1]<(w(As[0]-Zt)<i?vn:Kr):vn<=As[1]&&As[1]<=Kr:ns>o^(Zt<=As[0]&&As[0]<=Jn)){var cs=Ce(Ei,(-Ms+No)/is);return ke(cs,os),[As,je(cs)]}}}function wr(Gn,ur){var tr=Bt?Me:o-Me,gr=0;return Gn<-tr?gr|=1:Gn>tr&&(gr|=2),ur<-tr?gr|=4:ur>tr&&(gr|=8),gr}return vt(Kn,Un,Nn,Bt?[0,-Me]:[-o,Me-o])}function On(Me,pt,Yt,Bt,dn,Nn){var Kn=Me[0],Un=Me[1],br=pt[0],wr=pt[1],Gn=0,ur=1,tr=br-Kn,gr=wr-Un,Or;if(Or=Yt-Kn,!(!tr&&Or>0)){if(Or/=tr,tr<0){if(Or<Gn)return;Or<ur&&(ur=Or)}else if(tr>0){if(Or>ur)return;Or>Gn&&(Gn=Or)}if(Or=dn-Kn,!(!tr&&Or<0)){if(Or/=tr,tr<0){if(Or>ur)return;Or>Gn&&(Gn=Or)}else if(tr>0){if(Or<Gn)return;Or<ur&&(ur=Or)}if(Or=Bt-Un,!(!gr&&Or>0)){if(Or/=gr,gr<0){if(Or<Gn)return;Or<ur&&(ur=Or)}else if(gr>0){if(Or>ur)return;Or>Gn&&(Gn=Or)}if(Or=Nn-Un,!(!gr&&Or<0)){if(Or/=gr,gr<0){if(Or>ur)return;Or>Gn&&(Gn=Or)}else if(gr>0){if(Or<Gn)return;Or<ur&&(ur=Or)}return Gn>0&&(Me[0]=Kn+Gn*tr,Me[1]=Un+Gn*gr),ur<1&&(pt[0]=Kn+ur*tr,pt[1]=Un+ur*gr),!0}}}}}var qt=1e9,pn=-qt;function qn(Me,pt,Yt,Bt){function dn(wr,Gn){return Me<=wr&&wr<=Yt&&pt<=Gn&&Gn<=Bt}function Nn(wr,Gn,ur,tr){var gr=0,Or=0;if(wr==null||(gr=Kn(wr,ur))!==(Or=Kn(Gn,ur))||br(wr,Gn)<0^ur>0)do tr.point(gr===0||gr===3?Me:Yt,gr>1?Bt:pt);while((gr=(gr+ur+4)%4)!==Or);else tr.point(Gn[0],Gn[1])}function Kn(wr,Gn){return w(wr[0]-Me)<i?Gn>0?0:3:w(wr[0]-Yt)<i?Gn>0?2:1:w(wr[1]-pt)<i?Gn>0?1:0:Gn>0?3:2}function Un(wr,Gn){return br(wr.x,Gn.x)}function br(wr,Gn){var ur=Kn(wr,1),tr=Kn(Gn,1);return ur!==tr?ur-tr:ur===0?Gn[1]-wr[1]:ur===1?wr[0]-Gn[0]:ur===2?wr[1]-Gn[1]:Gn[0]-wr[0]}return function(wr){var Gn=wr,ur=ue(),tr,gr,Or,mi,ii,gi,oi,Ur,Ir,bi,_i,os={point:gs,lineStart:xa,lineEnd:No,polygonStart:Ms,polygonEnd:is};function gs(Zt,Jn){dn(Zt,Jn)&&Gn.point(Zt,Jn)}function Ei(){for(var Zt=0,Jn=0,vn=gr.length;Jn<vn;++Jn)for(var Kr=gr[Jn],Oi=1,ns=Kr.length,ms=Kr[0],$i,cs,pu=ms[0],ae=ms[1];Oi<ns;++Oi)$i=pu,cs=ae,ms=Kr[Oi],pu=ms[0],ae=ms[1],cs<=Bt?ae>Bt&&(pu-$i)*(Bt-cs)>(ae-cs)*(Me-$i)&&++Zt:ae<=Bt&&(pu-$i)*(Bt-cs)<(ae-cs)*(Me-$i)&&--Zt;return Zt}function Ms(){Gn=ur,tr=[],gr=[],_i=!0}function is(){var Zt=Ei(),Jn=_i&&Zt,vn=(tr=r(tr)).length;(Jn||vn)&&(wr.polygonStart(),Jn&&(wr.lineStart(),Nn(null,null,1,wr),wr.lineEnd()),vn&&le(tr,Un,Zt,Nn,wr),wr.polygonEnd()),Gn=wr,tr=gr=Or=null}function xa(){os.point=As,gr&&gr.push(Or=[]),bi=!0,Ir=!1,oi=Ur=NaN}function No(){tr&&(As(mi,ii),gi&&Ir&&ur.rejoin(),tr.push(ur.result())),os.point=gs,Ir&&Gn.lineEnd()}function As(Zt,Jn){var vn=dn(Zt,Jn);if(gr&&Or.push([Zt,Jn]),bi)mi=Zt,ii=Jn,gi=vn,bi=!1,vn&&(Gn.lineStart(),Gn.point(Zt,Jn));else if(vn&&Ir)Gn.point(Zt,Jn);else{var Kr=[oi=Math.max(pn,Math.min(qt,oi)),Ur=Math.max(pn,Math.min(qt,Ur))],Oi=[Zt=Math.max(pn,Math.min(qt,Zt)),Jn=Math.max(pn,Math.min(qt,Jn))];On(Kr,Oi,Me,pt,Yt,Bt)?(Ir||(Gn.lineStart(),Gn.point(Kr[0],Kr[1])),Gn.point(Oi[0],Oi[1]),vn||Gn.lineEnd(),_i=!1):vn&&(Gn.lineStart(),Gn.point(Zt,Jn),_i=!1)}oi=Zt,Ur=Jn,Ir=vn}return os}}var or=Me=>Me,In=new e,Ne=new e,$e,Oe,jt,yt,mt={point:_e,lineStart:_e,lineEnd:_e,polygonStart:function(){mt.lineStart=nn,mt.lineEnd=Qn},polygonEnd:function(){mt.lineStart=mt.lineEnd=mt.point=_e,In.add(w(Ne)),Ne=new e},result:function(){var Me=In/2;return In=new e,Me}};function nn(){mt.point=Wt}function Wt(Me,pt){mt.point=Dn,$e=jt=Me,Oe=yt=pt}function Dn(Me,pt){Ne.add(yt*Me-jt*pt),jt=Me,yt=pt}function Qn(){Dn($e,Oe)}var Zn=mt,Pn=1/0,ar=Pn,Ye=-Pn,gt=Ye,se={point:qe,lineStart:_e,lineEnd:_e,polygonStart:_e,polygonEnd:_e,result:function(){var Me=[[Pn,ar],[Ye,gt]];return Ye=gt=-(ar=Pn=1/0),Me}};function qe(Me,pt){Me<Pn&&(Pn=Me),Me>Ye&&(Ye=Me),pt<ar&&(ar=pt),pt>gt&&(gt=pt)}var et=se,Tt=0,fn=0,on=0,ct=0,ie=0,Te=0,ze=0,ht=0,_t=0,Dt,ne,we,We,nt={point:Pt,lineStart:sn,lineEnd:xn,polygonStart:function(){nt.lineStart=zn,nt.lineEnd=Re},polygonEnd:function(){nt.point=Pt,nt.lineStart=sn,nt.lineEnd=xn},result:function(){var Me=_t?[ze/_t,ht/_t]:Te?[ct/Te,ie/Te]:on?[Tt/on,fn/on]:[NaN,NaN];return Tt=fn=on=ct=ie=Te=ze=ht=_t=0,Me}};function Pt(Me,pt){Tt+=Me,fn+=pt,++on}function sn(){nt.point=wn}function wn(Me,pt){nt.point=yn,Pt(we=Me,We=pt)}function yn(Me,pt){var Yt=Me-we,Bt=pt-We,dn=de(Yt*Yt+Bt*Bt);ct+=dn*(we+Me)/2,ie+=dn*(We+pt)/2,Te+=dn,Pt(we=Me,We=pt)}function xn(){nt.point=Pt}function zn(){nt.point=He}function Re(){At(Dt,ne)}function He(Me,pt){nt.point=At,Pt(Dt=we=Me,ne=We=pt)}function At(Me,pt){var Yt=Me-we,Bt=pt-We,dn=de(Yt*Yt+Bt*Bt);ct+=dn*(we+Me)/2,ie+=dn*(We+pt)/2,Te+=dn,dn=We*Me-we*pt,ze+=dn*(we+Me),ht+=dn*(We+pt),_t+=dn*3,Pt(we=Me,We=pt)}var L=nt;function V(Me){this._context=Me}V.prototype={_radius:4.5,pointRadius:function(Me){return this._radius=Me,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Me,pt){switch(this._point){case 0:{this._context.moveTo(Me,pt),this._point=1;break}case 1:{this._context.lineTo(Me,pt);break}default:{this._context.moveTo(Me+this._radius,pt),this._context.arc(Me,pt,this._radius,0,d);break}}},result:_e};var be=new e,pe,Y,oe,ce,Qe,Rt={point:_e,lineStart:function(){Rt.point=Et},lineEnd:function(){pe&&ln(Y,oe),Rt.point=_e},polygonStart:function(){pe=!0},polygonEnd:function(){pe=null},result:function(){var Me=+be;return be=new e,Me}};function Et(Me,pt){Rt.point=ln,Y=ce=Me,oe=Qe=pt}function ln(Me,pt){ce-=Me,Qe-=pt,be.add(de(ce*ce+Qe*Qe)),ce=Me,Qe=pt}var S=Rt;function B(){this._string=[]}B.prototype={_radius:4.5,_circle:ee(4.5),pointRadius:function(Me){return(Me=+Me)!==this._radius&&(this._radius=Me,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Me,pt){switch(this._point){case 0:{this._string.push("M",Me,",",pt),this._point=1;break}case 1:{this._string.push("L",Me,",",pt);break}default:{this._circle==null&&(this._circle=ee(this._radius)),this._string.push("M",Me,",",pt,this._circle);break}}},result:function(){if(this._string.length){var Me=this._string.join("");return this._string=[],Me}else return null}};function ee(Me){return"m0,"+Me+"a"+Me+","+Me+" 0 1,1 0,"+-2*Me+"a"+Me+","+Me+" 0 1,1 0,"+2*Me+"z"}function Ee(Me,pt){var Yt=4.5,Bt,dn;function Nn(Kn){return Kn&&(typeof Yt=="function"&&dn.pointRadius(+Yt.apply(this,arguments)),Ft(Kn,Bt(dn))),dn.result()}return Nn.area=function(Kn){return Ft(Kn,Bt(Zn)),Zn.result()},Nn.measure=function(Kn){return Ft(Kn,Bt(S)),S.result()},Nn.bounds=function(Kn){return Ft(Kn,Bt(et)),et.result()},Nn.centroid=function(Kn){return Ft(Kn,Bt(L)),L.result()},Nn.projection=function(Kn){return arguments.length?(Bt=Kn==null?(Me=null,or):(Me=Kn).stream,Nn):Me},Nn.context=function(Kn){return arguments.length?(dn=Kn==null?(pt=null,new B):new V(pt=Kn),typeof Yt!="function"&&dn.pointRadius(Yt),Nn):pt},Nn.pointRadius=function(Kn){return arguments.length?(Yt=typeof Kn=="function"?Kn:(dn.pointRadius(+Kn),+Kn),Nn):Yt},Nn.projection(Me).context(pt)}function ft(Me){return function(pt){var Yt=new Ct;for(var Bt in Me)Yt[Bt]=Me[Bt];return Yt.stream=pt,Yt}}function Ct(){}Ct.prototype={constructor:Ct,point:function(Me,pt){this.stream.point(Me,pt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Jt(Me,pt,Yt){var Bt=Me.clipExtent&&Me.clipExtent();return Me.scale(150).translate([0,0]),Bt!=null&&Me.clipExtent(null),Ft(Yt,Me.stream(et)),pt(et.result()),Bt!=null&&Me.clipExtent(Bt),Me}function Kt(Me,pt,Yt){return Jt(Me,function(Bt){var dn=pt[1][0]-pt[0][0],Nn=pt[1][1]-pt[0][1],Kn=Math.min(dn/(Bt[1][0]-Bt[0][0]),Nn/(Bt[1][1]-Bt[0][1])),Un=+pt[0][0]+(dn-Kn*(Bt[1][0]+Bt[0][0]))/2,br=+pt[0][1]+(Nn-Kn*(Bt[1][1]+Bt[0][1]))/2;Me.scale(150*Kn).translate([Un,br])},Yt)}function hn(Me,pt,Yt){return Kt(Me,[[0,0],pt],Yt)}function Bn(Me,pt,Yt){return Jt(Me,function(Bt){var dn=+pt,Nn=dn/(Bt[1][0]-Bt[0][0]),Kn=(dn-Nn*(Bt[1][0]+Bt[0][0]))/2,Un=-Nn*Bt[0][1];Me.scale(150*Nn).translate([Kn,Un])},Yt)}function jn(Me,pt,Yt){return Jt(Me,function(Bt){var dn=+pt,Nn=dn/(Bt[1][1]-Bt[0][1]),Kn=-Nn*Bt[0][0],Un=(dn-Nn*(Bt[1][1]+Bt[0][1]))/2;Me.scale(150*Nn).translate([Kn,Un])},Yt)}var Vn=16,Xr=U(30*E);function Wr(Me,pt){return+pt?Pr(Me,pt):yr(Me)}function yr(Me){return ft({point:function(pt,Yt){pt=Me(pt,Yt),this.stream.point(pt[0],pt[1])}})}function Pr(Me,pt){function Yt(Bt,dn,Nn,Kn,Un,br,wr,Gn,ur,tr,gr,Or,mi,ii){var gi=wr-Bt,oi=Gn-dn,Ur=gi*gi+oi*oi;if(Ur>4*pt&&mi--){var Ir=Kn+tr,bi=Un+gr,_i=br+Or,os=de(Ir*Ir+bi*bi+_i*_i),gs=me(_i/=os),Ei=w(w(_i)-1)<i||w(Nn-ur)<i?(Nn+ur)/2:R(bi,Ir),Ms=Me(Ei,gs),is=Ms[0],xa=Ms[1],No=is-Bt,As=xa-dn,Zt=oi*No-gi*As;(Zt*Zt/Ur>pt||w((gi*No+oi*As)/Ur-.5)>.3||Kn*tr+Un*gr+br*Or<Xr)&&(Yt(Bt,dn,Nn,Kn,Un,br,is,xa,Ei,Ir/=os,bi/=os,_i,mi,ii),ii.point(is,xa),Yt(is,xa,Ei,Ir,bi,_i,wr,Gn,ur,tr,gr,Or,mi,ii))}}return function(Bt){var dn,Nn,Kn,Un,br,wr,Gn,ur,tr,gr,Or,mi,ii={point:gi,lineStart:oi,lineEnd:Ir,polygonStart:function(){Bt.polygonStart(),ii.lineStart=bi},polygonEnd:function(){Bt.polygonEnd(),ii.lineStart=oi}};function gi(gs,Ei){gs=Me(gs,Ei),Bt.point(gs[0],gs[1])}function oi(){ur=NaN,ii.point=Ur,Bt.lineStart()}function Ur(gs,Ei){var Ms=te([gs,Ei]),is=Me(gs,Ei);Yt(ur,tr,Gn,gr,Or,mi,ur=is[0],tr=is[1],Gn=gs,gr=Ms[0],Or=Ms[1],mi=Ms[2],Vn,Bt),Bt.point(ur,tr)}function Ir(){ii.point=gi,Bt.lineEnd()}function bi(){oi(),ii.point=_i,ii.lineEnd=os}function _i(gs,Ei){Ur(dn=gs,Ei),Nn=ur,Kn=tr,Un=gr,br=Or,wr=mi,ii.point=Ur}function os(){Yt(ur,tr,Gn,gr,Or,mi,Nn,Kn,dn,Un,br,wr,Vn,Bt),ii.lineEnd=Ir,Ir()}return ii}}var vi=ft({point:function(Me,pt){this.stream.point(Me*E,pt*E)}});function li(Me){return ft({point:function(pt,Yt){var Bt=Me(pt,Yt);return this.stream.point(Bt[0],Bt[1])}})}function Xi(Me,pt,Yt,Bt,dn){function Nn(Kn,Un){return Kn*=Bt,Un*=dn,[pt+Me*Kn,Yt-Me*Un]}return Nn.invert=function(Kn,Un){return[(Kn-pt)/Me*Bt,(Yt-Un)/Me*dn]},Nn}function ws(Me,pt,Yt,Bt,dn,Nn){if(!Nn)return Xi(Me,pt,Yt,Bt,dn);var Kn=U(Nn),Un=I(Nn),br=Kn*Me,wr=Un*Me,Gn=Kn/Me,ur=Un/Me,tr=(Un*Yt-Kn*pt)/Me,gr=(Un*pt+Kn*Yt)/Me;function Or(mi,ii){return mi*=Bt,ii*=dn,[br*mi-wr*ii+pt,Yt-wr*mi-br*ii]}return Or.invert=function(mi,ii){return[Bt*(Gn*mi-ur*ii+tr),dn*(gr-ur*mi-Gn*ii)]},Or}function ts(Me){return Ca(function(){return Me})()}function Ca(Me){var pt,Yt=150,Bt=480,dn=250,Nn=0,Kn=0,Un=0,br=0,wr=0,Gn,ur=0,tr=1,gr=1,Or=null,mi=Vt,ii=null,gi,oi,Ur,Ir=or,bi=.5,_i,os,gs,Ei,Ms;function is(Zt){return gs(Zt[0]*E,Zt[1]*E)}function xa(Zt){return Zt=gs.invert(Zt[0],Zt[1]),Zt&&[Zt[0]*p,Zt[1]*p]}is.stream=function(Zt){return Ei&&Ms===Zt?Ei:Ei=vi(li(Gn)(mi(_i(Ir(Ms=Zt)))))},is.preclip=function(Zt){return arguments.length?(mi=Zt,Or=void 0,As()):mi},is.postclip=function(Zt){return arguments.length?(Ir=Zt,ii=gi=oi=Ur=null,As()):Ir},is.clipAngle=function(Zt){return arguments.length?(mi=+Zt?Fn(Or=Zt*E):(Or=null,Vt),As()):Or*p},is.clipExtent=function(Zt){return arguments.length?(Ir=Zt==null?(ii=gi=oi=Ur=null,or):qn(ii=+Zt[0][0],gi=+Zt[0][1],oi=+Zt[1][0],Ur=+Zt[1][1]),As()):ii==null?null:[[ii,gi],[oi,Ur]]},is.scale=function(Zt){return arguments.length?(Yt=+Zt,No()):Yt},is.translate=function(Zt){return arguments.length?(Bt=+Zt[0],dn=+Zt[1],No()):[Bt,dn]},is.center=function(Zt){return arguments.length?(Nn=Zt[0]%360*E,Kn=Zt[1]%360*E,No()):[Nn*p,Kn*p]},is.rotate=function(Zt){return arguments.length?(Un=Zt[0]%360*E,br=Zt[1]%360*E,wr=Zt.length>2?Zt[2]%360*E:0,No()):[Un*p,br*p,wr*p]},is.angle=function(Zt){return arguments.length?(ur=Zt%360*E,No()):ur*p},is.reflectX=function(Zt){return arguments.length?(tr=Zt?-1:1,No()):tr<0},is.reflectY=function(Zt){return arguments.length?(gr=Zt?-1:1,No()):gr<0},is.precision=function(Zt){return arguments.length?(_i=Wr(os,bi=Zt*Zt),As()):de(bi)},is.fitExtent=function(Zt,Jn){return Kt(is,Zt,Jn)},is.fitSize=function(Zt,Jn){return hn(is,Zt,Jn)},is.fitWidth=function(Zt,Jn){return Bn(is,Zt,Jn)},is.fitHeight=function(Zt,Jn){return jn(is,Zt,Jn)};function No(){var Zt=ws(Yt,0,0,tr,gr,ur).apply(null,pt(Nn,Kn)),Jn=ws(Yt,Bt-Zt[0],dn-Zt[1],tr,gr,ur);return Gn=Qt(Un,br,wr),os=Je(pt,Jn),gs=Je(Gn,os),_i=Wr(os,bi),As()}function As(){return Ei=Ms=null,is}return function(){return pt=Me.apply(this,arguments),is.invert=pt.invert&&xa,No()}}function pa(Me){var pt=0,Yt=o/3,Bt=Ca(Me),dn=Bt(pt,Yt);return dn.parallels=function(Nn){return arguments.length?Bt(pt=Nn[0]*E,Yt=Nn[1]*E):[pt*p,Yt*p]},dn}function hl(Me){var pt=U(Me);function Yt(Bt,dn){return[Bt*pt,I(dn)/pt]}return Yt.invert=function(Bt,dn){return[Bt/pt,me(dn*pt)]},Yt}function Sc(Me,pt){var Yt=I(Me),Bt=(Yt+I(pt))/2;if(w(Bt)<i)return hl(Me);var dn=1+Yt*(2*Bt-Yt),Nn=de(dn)/Bt;function Kn(Un,br){var wr=de(dn-2*Bt*I(br))/Bt;return[wr*I(Un*=Bt),Nn-wr*U(Un)]}return Kn.invert=function(Un,br){var wr=Nn-br,Gn=R(Un,w(wr))*K(wr);return wr*Bt<0&&(Gn-=o*K(Un)*K(wr)),[Gn/Bt,me((dn-(Un*Un+wr*wr)*Bt*Bt)/(2*Bt))]},Kn}function cu(){return pa(Sc).scale(155.424).center([0,33.6442])}function fu(){return cu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Xu(Me){var pt=Me.length;return{point:function(Yt,Bt){for(var dn=-1;++dn<pt;)Me[dn].point(Yt,Bt)},sphere:function(){for(var Yt=-1;++Yt<pt;)Me[Yt].sphere()},lineStart:function(){for(var Yt=-1;++Yt<pt;)Me[Yt].lineStart()},lineEnd:function(){for(var Yt=-1;++Yt<pt;)Me[Yt].lineEnd()},polygonStart:function(){for(var Yt=-1;++Yt<pt;)Me[Yt].polygonStart()},polygonEnd:function(){for(var Yt=-1;++Yt<pt;)Me[Yt].polygonEnd()}}}function Fu(){var Me,pt,Yt=fu(),Bt,dn=cu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Nn,Kn=cu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Un,br,wr={point:function(tr,gr){br=[tr,gr]}};function Gn(tr){var gr=tr[0],Or=tr[1];return br=null,Bt.point(gr,Or),br||(Nn.point(gr,Or),br)||(Un.point(gr,Or),br)}Gn.invert=function(tr){var gr=Yt.scale(),Or=Yt.translate(),mi=(tr[0]-Or[0])/gr,ii=(tr[1]-Or[1])/gr;return(ii>=.12&&ii<.234&&mi>=-.425&&mi<-.214?dn:ii>=.166&&ii<.234&&mi>=-.214&&mi<-.115?Kn:Yt).invert(tr)},Gn.stream=function(tr){return Me&&pt===tr?Me:Me=Xu([Yt.stream(pt=tr),dn.stream(tr),Kn.stream(tr)])},Gn.precision=function(tr){return arguments.length?(Yt.precision(tr),dn.precision(tr),Kn.precision(tr),ur()):Yt.precision()},Gn.scale=function(tr){return arguments.length?(Yt.scale(tr),dn.scale(tr*.35),Kn.scale(tr),Gn.translate(Yt.translate())):Yt.scale()},Gn.translate=function(tr){if(!arguments.length)return Yt.translate();var gr=Yt.scale(),Or=+tr[0],mi=+tr[1];return Bt=Yt.translate(tr).clipExtent([[Or-.455*gr,mi-.238*gr],[Or+.455*gr,mi+.238*gr]]).stream(wr),Nn=dn.translate([Or-.307*gr,mi+.201*gr]).clipExtent([[Or-.425*gr+i,mi+.12*gr+i],[Or-.214*gr-i,mi+.234*gr-i]]).stream(wr),Un=Kn.translate([Or-.205*gr,mi+.212*gr]).clipExtent([[Or-.214*gr+i,mi+.166*gr+i],[Or-.115*gr-i,mi+.234*gr-i]]).stream(wr),ur()},Gn.fitExtent=function(tr,gr){return Kt(Gn,tr,gr)},Gn.fitSize=function(tr,gr){return hn(Gn,tr,gr)},Gn.fitWidth=function(tr,gr){return Bn(Gn,tr,gr)},Gn.fitHeight=function(tr,gr){return jn(Gn,tr,gr)};function ur(){return Me=pt=null,Gn}return Gn.scale(1070)}function wc(Me){return function(pt,Yt){var Bt=U(pt),dn=U(Yt),Nn=Me(Bt*dn);return Nn===1/0?[2,0]:[Nn*dn*I(pt),Nn*I(Yt)]}}function ta(Me){return function(pt,Yt){var Bt=de(pt*pt+Yt*Yt),dn=Me(Bt),Nn=I(dn),Kn=U(dn);return[R(pt*Nn,Bt*Kn),me(Bt&&Yt*Nn/Bt)]}}var Zu=wc(function(Me){return de(2/(1+Me))});Zu.invert=ta(function(Me){return 2*me(Me/2)});function Qc(){return ts(Zu).scale(124.75).clipAngle(180-.001)}var Ge=wc(function(Me){return(Me=Z(Me))&&Me/I(Me)});Ge.invert=ta(function(Me){return Me});function Gt(){return ts(Ge).scale(79.4188).clipAngle(180-.001)}function Mn(Me,pt){return[Me,P(M((a+pt)/2))]}Mn.invert=function(Me,pt){return[Me,2*N(Q(pt))-a]};function Yn(){return si(Mn).scale(961/d)}function si(Me){var pt=ts(Me),Yt=pt.center,Bt=pt.scale,dn=pt.translate,Nn=pt.clipExtent,Kn=null,Un,br,wr;pt.scale=function(ur){return arguments.length?(Bt(ur),Gn()):Bt()},pt.translate=function(ur){return arguments.length?(dn(ur),Gn()):dn()},pt.center=function(ur){return arguments.length?(Yt(ur),Gn()):Yt()},pt.clipExtent=function(ur){return arguments.length?(ur==null?Kn=Un=br=wr=null:(Kn=+ur[0][0],Un=+ur[0][1],br=+ur[1][0],wr=+ur[1][1]),Gn()):Kn==null?null:[[Kn,Un],[br,wr]]};function Gn(){var ur=o*Bt(),tr=pt(It(pt.rotate()).invert([0,0]));return Nn(Kn==null?[[tr[0]-ur,tr[1]-ur],[tr[0]+ur,tr[1]+ur]]:Me===Mn?[[Math.max(tr[0]-ur,Kn),Un],[Math.min(tr[0]+ur,br),wr]]:[[Kn,Math.max(tr[1]-ur,Un)],[br,Math.min(tr[1]+ur,wr)]])}return Gn()}function jr(Me){return M((a+Me)/2)}function Zr(Me,pt){var Yt=U(Me),Bt=Me===pt?I(Me):P(Yt/U(pt))/P(jr(pt)/jr(Me)),dn=Yt*j(jr(Me),Bt)/Bt;if(!Bt)return Mn;function Nn(Kn,Un){dn>0?Un<-a+i&&(Un=-a+i):Un>a-i&&(Un=a-i);var br=dn/j(jr(Un),Bt);return[br*I(Bt*Kn),dn-br*U(Bt*Kn)]}return Nn.invert=function(Kn,Un){var br=dn-Un,wr=K(Bt)*de(Kn*Kn+br*br),Gn=R(Kn,w(br))*K(br);return br*Bt<0&&(Gn-=o*K(Kn)*K(br)),[Gn/Bt,2*N(j(dn/wr,1/Bt))-a]},Nn}function Cs(){return pa(Zr).scale(109.5).parallels([30,30])}function fo(Me,pt){return[Me,pt]}fo.invert=fo;function ro(){return ts(fo).scale(152.63)}function hs(Me,pt){var Yt=U(Me),Bt=Me===pt?I(Me):(Yt-U(pt))/(pt-Me),dn=Yt/Bt+Me;if(w(Bt)<i)return fo;function Nn(Kn,Un){var br=dn-Un,wr=Bt*Kn;return[br*I(wr),dn-br*U(wr)]}return Nn.invert=function(Kn,Un){var br=dn-Un,wr=R(Kn,w(br))*K(br);return br*Bt<0&&(wr-=o*K(Kn)*K(br)),[wr/Bt,dn-K(Bt)*de(Kn*Kn+br*br)]},Nn}function io(){return pa(hs).scale(131.154).center([0,13.9389])}var ho=1.340264,xi=-.081106,Ci=893e-6,Wi=.003796,Xo=de(3)/2,fa=12;function da(Me,pt){var Yt=me(Xo*I(pt)),Bt=Yt*Yt,dn=Bt*Bt*Bt;return[Me*U(Yt)/(Xo*(ho+3*xi*Bt+dn*(7*Ci+9*Wi*Bt))),Yt*(ho+xi*Bt+dn*(Ci+Wi*Bt))]}da.invert=function(Me,pt){for(var Yt=pt,Bt=Yt*Yt,dn=Bt*Bt*Bt,Nn=0,Kn,Un,br;Nn<fa&&(Un=Yt*(ho+xi*Bt+dn*(Ci+Wi*Bt))-pt,br=ho+3*xi*Bt+dn*(7*Ci+9*Wi*Bt),Yt-=Kn=Un/br,Bt=Yt*Yt,dn=Bt*Bt*Bt,!(w(Kn)<s));++Nn);return[Xo*Me*(ho+3*xi*Bt+dn*(7*Ci+9*Wi*Bt))/U(Yt),me(I(Yt)/Xo)]};function po(){return ts(da).scale(177.158)}function us(Me,pt){var Yt=U(pt),Bt=U(Me)*Yt;return[Yt*I(Me)/Bt,I(pt)/Bt]}us.invert=ta(N);function ps(){return ts(us).scale(144.049).clipAngle(60)}function Zi(){var Me=1,pt=0,Yt=0,Bt=1,dn=1,Nn=0,Kn,Un,br=null,wr,Gn,ur,tr=1,gr=1,Or=ft({point:function(Ir,bi){var _i=Ur([Ir,bi]);this.stream.point(_i[0],_i[1])}}),mi=or,ii,gi;function oi(){return tr=Me*Bt,gr=Me*dn,ii=gi=null,Ur}function Ur(Ir){var bi=Ir[0]*tr,_i=Ir[1]*gr;if(Nn){var os=_i*Kn-bi*Un;bi=bi*Kn+_i*Un,_i=os}return[bi+pt,_i+Yt]}return Ur.invert=function(Ir){var bi=Ir[0]-pt,_i=Ir[1]-Yt;if(Nn){var os=_i*Kn+bi*Un;bi=bi*Kn-_i*Un,_i=os}return[bi/tr,_i/gr]},Ur.stream=function(Ir){return ii&&gi===Ir?ii:ii=Or(mi(gi=Ir))},Ur.postclip=function(Ir){return arguments.length?(mi=Ir,br=wr=Gn=ur=null,oi()):mi},Ur.clipExtent=function(Ir){return arguments.length?(mi=Ir==null?(br=wr=Gn=ur=null,or):qn(br=+Ir[0][0],wr=+Ir[0][1],Gn=+Ir[1][0],ur=+Ir[1][1]),oi()):br==null?null:[[br,wr],[Gn,ur]]},Ur.scale=function(Ir){return arguments.length?(Me=+Ir,oi()):Me},Ur.translate=function(Ir){return arguments.length?(pt=+Ir[0],Yt=+Ir[1],oi()):[pt,Yt]},Ur.angle=function(Ir){return arguments.length?(Nn=Ir%360*E,Un=I(Nn),Kn=U(Nn),oi()):Nn*p},Ur.reflectX=function(Ir){return arguments.length?(Bt=Ir?-1:1,oi()):Bt<0},Ur.reflectY=function(Ir){return arguments.length?(dn=Ir?-1:1,oi()):dn<0},Ur.fitExtent=function(Ir,bi){return Kt(Ur,Ir,bi)},Ur.fitSize=function(Ir,bi){return hn(Ur,Ir,bi)},Ur.fitWidth=function(Ir,bi){return Bn(Ur,Ir,bi)},Ur.fitHeight=function(Ir,bi){return jn(Ur,Ir,bi)},Ur}function du(Me,pt){var Yt=pt*pt,Bt=Yt*Yt;return[Me*(.8707-.131979*Yt+Bt*(-.013791+Bt*(.003971*Yt-.001529*Bt))),pt*(1.007226+Yt*(.015085+Bt*(-.044475+.028874*Yt-.005916*Bt)))]}du.invert=function(Me,pt){var Yt=pt,Bt=25,dn;do{var Nn=Yt*Yt,Kn=Nn*Nn;Yt-=dn=(Yt*(1.007226+Nn*(.015085+Kn*(-.044475+.028874*Nn-.005916*Kn)))-pt)/(1.007226+Nn*(.015085*3+Kn*(-.044475*7+.028874*9*Nn-.005916*11*Kn)))}while(w(dn)>i&&--Bt>0);return[Me/(.8707+(Nn=Yt*Yt)*(-.131979+Nn*(-.013791+Nn*Nn*Nn*(.003971-.001529*Nn)))),Yt]};function Is(){return ts(du).scale(175.295)}function ma(Me,pt){return[U(pt)*I(Me),I(pt)]}ma.invert=ta(me);function oa(){return ts(ma).scale(249.5).clipAngle(90+i)}function ki(Me,pt){var Yt=U(pt),Bt=1+U(Me)*Yt;return[Yt*I(Me)/Bt,I(pt)/Bt]}ki.invert=ta(function(Me){return 2*N(Me)});function Vo(){return ts(ki).scale(250).clipAngle(142)}function vs(Me,pt){return[P(M((a+pt)/2)),-Me]}vs.invert=function(Me,pt){return[-pt,2*N(Q(Me))-a]};function Bi(){var Me=si(vs),pt=Me.center,Yt=Me.rotate;return Me.center=function(Bt){return arguments.length?pt([-Bt[1],Bt[0]]):(Bt=pt(),[Bt[1],-Bt[0]])},Me.rotate=function(Bt){return arguments.length?Yt([Bt[0],Bt[1],Bt.length>2?Bt[2]+90:90]):(Bt=Yt(),[Bt[0],Bt[1],Bt[2]-90])},Yt([0,0,90]).scale(159.155)}var Oo=Math.abs,Na=Math.cos,Ja=Math.sin,Ro=1e-6,To=Math.PI,qa=To/2,hu=aa(2);function Ua(Me){return Me>1?qa:Me<-1?-qa:Math.asin(Me)}function aa(Me){return Me>0?Math.sqrt(Me):0}function ua(Me,pt){var Yt=Me*Ja(pt),Bt=30,dn;do pt-=dn=(pt+Ja(pt)-Yt)/(1+Na(pt));while(Oo(dn)>Ro&&--Bt>0);return pt/2}function pl(Me,pt,Yt){function Bt(dn,Nn){return[Me*dn*Na(Nn=ua(Yt,Nn)),pt*Ja(Nn)]}return Bt.invert=function(dn,Nn){return Nn=Ua(Nn/pt),[dn/(Me*Na(Nn)),Ua((2*Nn+Ja(2*Nn))/Yt)]},Bt}var Pl=pl(hu/qa,hu,To);function na(){return ts(Pl).scale(169.529)}let el=Ee(),ci=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function rs(Me,pt){return function Yt(){let Bt=pt();return Bt.type=Me,Bt.path=Ee().projection(Bt),Bt.copy=Bt.copy||function(){let dn=Yt();return ci.forEach(Nn=>{Bt[Nn]&&dn[Nn](Bt[Nn]())}),dn.path.pointRadius(Bt.path.pointRadius()),dn},Bt}}function ls(Me,pt){if(!Me||typeof Me!="string")throw new Error("Projection type must be a name string.");return Me=Me.toLowerCase(),arguments.length>1?(as[Me]=rs(Me,pt),this):as[Me]||null}function pr(Me){return Me&&Me.path||el}let as={albers:fu,albersusa:Fu,azimuthalequalarea:Qc,azimuthalequidistant:Gt,conicconformal:Cs,conicequalarea:cu,conicequidistant:io,equalEarth:po,equirectangular:ro,gnomonic:ps,identity:Zi,mercator:Yn,mollweide:na,naturalEarth1:Is,orthographic:oa,stereographic:Vo,transversemercator:Bi};for(let Me in as)ls(Me,as[Me]);n.getProjectionPath=pr,n.projection=ls,n.projectionProperties=ci,Object.defineProperty(n,"__esModule",{value:!0})})});var WAe=Ae((GH,VAe)=>{m();(function(n,e){typeof GH=="object"&&typeof VAe!="undefined"?e(GH,Xf(),Au(),wb(),qae(),oR()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util","vega-statistics","vega-projection","vega-canvas"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(GH,function(n,e,t,r,i,s){"use strict";var o=Math.sqrt(50),a=Math.sqrt(10),c=Math.sqrt(2);function d(ne,we,We){var nt=Math.abs(we-ne)/Math.max(0,We),Pt=Math.pow(10,Math.floor(Math.log(nt)/Math.LN10)),sn=nt/Pt;return sn>=o?Pt*=10:sn>=a?Pt*=5:sn>=c&&(Pt*=2),we<ne?-Pt:Pt}function p(ne,we){let We;if(we===void 0)for(let nt of ne)nt!=null&&(We<nt||We===void 0&&nt>=nt)&&(We=nt);else{let nt=-1;for(let Pt of ne)(Pt=we(Pt,++nt,ne))!=null&&(We<Pt||We===void 0&&Pt>=Pt)&&(We=Pt)}return We}function E(ne,we,We){ne=+ne,we=+we,We=(Pt=arguments.length)<2?(we=ne,ne=0,1):Pt<3?1:+We;for(var nt=-1,Pt=Math.max(0,Math.ceil((we-ne)/We))|0,sn=new Array(Pt);++nt<Pt;)sn[nt]=ne+nt*We;return sn}function w(ne,we){let We=0;if(we===void 0)for(let nt of ne)(nt=+nt)&&(We+=nt);else{let nt=-1;for(let Pt of ne)(Pt=+we(Pt,++nt,ne))&&(We+=Pt)}return We}function N(){}let R=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function U(){var ne=1,we=1,We=yn;function nt(xn,zn){return zn.map(Re=>Pt(xn,Re))}function Pt(xn,zn){var Re=[],He=[];return sn(xn,zn,At=>{We(At,xn,zn),Q(At)>0?Re.push([At]):He.push(At)}),He.forEach(At=>{for(var L=0,V=Re.length,be;L<V;++L)if(P((be=Re[L])[0],At)!==-1){be.push(At);return}}),{type:"MultiPolygon",value:zn,coordinates:Re}}function sn(xn,zn,Re){var He=new Array,At=new Array,L,V,be,pe,Y,oe;for(L=V=-1,pe=xn[0]>=zn,R[pe<<1].forEach(ce);++L<ne-1;)be=pe,pe=xn[L+1]>=zn,R[be|pe<<1].forEach(ce);for(R[pe<<0].forEach(ce);++V<we-1;){for(L=-1,pe=xn[V*ne+ne]>=zn,Y=xn[V*ne]>=zn,R[pe<<1|Y<<2].forEach(ce);++L<ne-1;)be=pe,pe=xn[V*ne+ne+L+1]>=zn,oe=Y,Y=xn[V*ne+L+1]>=zn,R[be|pe<<1|Y<<2|oe<<3].forEach(ce);R[pe|Y<<3].forEach(ce)}for(L=-1,Y=xn[V*ne]>=zn,R[Y<<2].forEach(ce);++L<ne-1;)oe=Y,Y=xn[V*ne+L+1]>=zn,R[Y<<2|oe<<3].forEach(ce);R[Y<<3].forEach(ce);function ce(Qe){var Rt=[Qe[0][0]+L,Qe[0][1]+V],Et=[Qe[1][0]+L,Qe[1][1]+V],ln=wn(Rt),S=wn(Et),B,ee;(B=At[ln])?(ee=He[S])?(delete At[B.end],delete He[ee.start],B===ee?(B.ring.push(Et),Re(B.ring)):He[B.start]=At[ee.end]={start:B.start,end:ee.end,ring:B.ring.concat(ee.ring)}):(delete At[B.end],B.ring.push(Et),At[B.end=S]=B):(B=He[S])?(ee=At[ln])?(delete He[B.start],delete At[ee.end],B===ee?(B.ring.push(Et),Re(B.ring)):He[ee.start]=At[B.end]={start:ee.start,end:B.end,ring:ee.ring.concat(B.ring)}):(delete He[B.start],B.ring.unshift(Rt),He[B.start=ln]=B):He[ln]=At[S]={start:ln,end:S,ring:[Rt,Et]}}}function wn(xn){return xn[0]*2+xn[1]*(ne+1)*4}function yn(xn,zn,Re){xn.forEach(He=>{var At=He[0],L=He[1],V=At|0,be=L|0,pe,Y=zn[be*ne+V];At>0&&At<ne&&V===At&&(pe=zn[be*ne+V-1],He[0]=At+(Re-pe)/(Y-pe)-.5),L>0&&L<we&&be===L&&(pe=zn[(be-1)*ne+V],He[1]=L+(Re-pe)/(Y-pe)-.5)})}return nt.contour=Pt,nt.size=function(xn){if(!arguments.length)return[ne,we];var zn=Math.floor(xn[0]),Re=Math.floor(xn[1]);return zn>=0&&Re>=0||t.error("invalid size"),ne=zn,we=Re,nt},nt.smooth=function(xn){return arguments.length?(We=xn?yn:N,nt):We===yn},nt}function Q(ne){for(var we=0,We=ne.length,nt=ne[We-1][1]*ne[0][0]-ne[We-1][0]*ne[0][1];++we<We;)nt+=ne[we-1][1]*ne[we][0]-ne[we-1][0]*ne[we][1];return nt}function P(ne,we){for(var We=-1,nt=we.length,Pt;++We<nt;)if(Pt=j(ne,we[We]))return Pt;return 0}function j(ne,we){for(var We=we[0],nt=we[1],Pt=-1,sn=0,wn=ne.length,yn=wn-1;sn<wn;yn=sn++){var xn=ne[sn],zn=xn[0],Re=xn[1],He=ne[yn],At=He[0],L=He[1];if(I(xn,He,we))return 0;Re>nt!=L>nt&&We<(At-zn)*(nt-Re)/(L-Re)+zn&&(Pt=-Pt)}return Pt}function I(ne,we,We){var nt;return K(ne,we,We)&&de(ne[nt=+(ne[0]===we[0])],We[nt],we[nt])}function K(ne,we,We){return(we[0]-ne[0])*(We[1]-ne[1])===(We[0]-ne[0])*(we[1]-ne[1])}function de(ne,we,We){return ne<=we&&we<=We||We<=we&&we<=ne}function M(ne,we,We){return function(nt){var Pt=t.extent(nt),sn=We?Math.min(Pt[0],0):Pt[0],wn=Pt[1],yn=wn-sn,xn=we?d(sn,wn,ne):yn/(ne+1);return E(sn+xn,wn,xn)}}function Z(ne){e.Transform.call(this,null,ne)}Z.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},t.inherits(Z,e.Transform,{transform(ne,we){if(this.value&&!we.changed()&&!ne.modified())return we.StopPropagation;var We=we.fork(we.NO_SOURCE|we.NO_FIELDS),nt=we.materialize(we.SOURCE).source,Pt=ne.field||t.identity,sn=U().smooth(ne.smooth!==!1),wn=ne.thresholds||me(nt,Pt,ne),yn=ne.as===null?null:ne.as||"contour",xn=[];return nt.forEach(zn=>{let Re=Pt(zn),He=sn.size([Re.width,Re.height])(Re.values,t.isArray(wn)?wn:wn(Re.values));_e(He,Re,zn,ne),He.forEach(At=>{xn.push(e.rederive(zn,e.ingest(yn!=null?{[yn]:At}:At)))})}),this.value&&(We.rem=this.value),this.value=We.source=We.add=xn,We}});function me(ne,we,We){let nt=M(We.levels||10,We.nice,We.zero!==!1);return We.resolve!=="shared"?nt:nt(ne.map(Pt=>p(we(Pt).values)))}function _e(ne,we,We,nt){let Pt=nt.scale||we.scale,sn=nt.translate||we.translate;if(t.isFunction(Pt)&&(Pt=Pt(We,nt)),t.isFunction(sn)&&(sn=sn(We,nt)),(Pt===1||Pt==null)&&!sn)return;let wn=(t.isNumber(Pt)?Pt:Pt[0])||1,yn=(t.isNumber(Pt)?Pt:Pt[1])||1,xn=sn&&sn[0]||0,zn=sn&&sn[1]||0;ne.forEach(Ve(we,wn,yn,xn,zn))}function Ve(ne,we,We,nt,Pt){let sn=ne.x1||0,wn=ne.y1||0,yn=we*We<0;function xn(He){He.forEach(zn)}function zn(He){yn&&He.reverse(),He.forEach(Re)}function Re(He){He[0]=(He[0]-sn)*we+nt,He[1]=(He[1]-wn)*We+Pt}return function(He){return He.coordinates.forEach(xn),He}}function at(ne,we,We){let nt=ne>=0?ne:r.bandwidthNRD(we,We);return Math.round((Math.sqrt(4*nt*nt+1)-1)/2)}function lt(ne){return t.isFunction(ne)?ne:t.constant(+ne)}function Ke(){var ne=xn=>xn[0],we=xn=>xn[1],We=t.one,nt=[-1,-1],Pt=960,sn=500,wn=2;function yn(xn,zn){let Re=at(nt[0],xn,ne)>>wn,He=at(nt[1],xn,we)>>wn,At=Re?Re+2:0,L=He?He+2:0,V=2*At+(Pt>>wn),be=2*L+(sn>>wn),pe=new Float32Array(V*be),Y=new Float32Array(V*be),oe=pe;xn.forEach(Qe=>{let Rt=At+(+ne(Qe)>>wn),Et=L+(+we(Qe)>>wn);Rt>=0&&Rt<V&&Et>=0&&Et<be&&(pe[Rt+Et*V]+=+We(Qe))}),Re>0&&He>0?(St(V,be,pe,Y,Re),Ft(V,be,Y,pe,He),St(V,be,pe,Y,Re),Ft(V,be,Y,pe,He),St(V,be,pe,Y,Re),Ft(V,be,Y,pe,He)):Re>0?(St(V,be,pe,Y,Re),St(V,be,Y,pe,Re),St(V,be,pe,Y,Re),oe=Y):He>0&&(Ft(V,be,pe,Y,He),Ft(V,be,Y,pe,He),Ft(V,be,pe,Y,He),oe=Y);let ce=zn?Math.pow(2,-2*wn):1/w(oe);for(let Qe=0,Rt=V*be;Qe<Rt;++Qe)oe[Qe]*=ce;return{values:oe,scale:1<<wn,width:V,height:be,x1:At,y1:L,x2:At+(Pt>>wn),y2:L+(sn>>wn)}}return yn.x=function(xn){return arguments.length?(ne=lt(xn),yn):ne},yn.y=function(xn){return arguments.length?(we=lt(xn),yn):we},yn.weight=function(xn){return arguments.length?(We=lt(xn),yn):We},yn.size=function(xn){if(!arguments.length)return[Pt,sn];var zn=+xn[0],Re=+xn[1];return zn>=0&&Re>=0||t.error("invalid size"),Pt=zn,sn=Re,yn},yn.cellSize=function(xn){return arguments.length?((xn=+xn)>=1||t.error("invalid cell size"),wn=Math.floor(Math.log(xn)/Math.LN2),yn):1<<wn},yn.bandwidth=function(xn){return arguments.length?(xn=t.array(xn),xn.length===1&&(xn=[+xn[0],+xn[0]]),xn.length!==2&&t.error("invalid bandwidth"),nt=xn,yn):nt},yn}function St(ne,we,We,nt,Pt){let sn=(Pt<<1)+1;for(let wn=0;wn<we;++wn)for(let yn=0,xn=0;yn<ne+Pt;++yn)yn<ne&&(xn+=We[yn+wn*ne]),yn>=Pt&&(yn>=sn&&(xn-=We[yn-sn+wn*ne]),nt[yn-Pt+wn*ne]=xn/Math.min(yn+1,ne-1+sn-yn,sn))}function Ft(ne,we,We,nt,Pt){let sn=(Pt<<1)+1;for(let wn=0;wn<ne;++wn)for(let yn=0,xn=0;yn<we+Pt;++yn)yn<we&&(xn+=We[wn+yn*ne]),yn>=Pt&&(yn>=sn&&(xn-=We[wn+(yn-sn)*ne]),nt[wn+(yn-Pt)*ne]=xn/Math.min(yn+1,we-1+sn-yn,sn))}function je(ne){e.Transform.call(this,null,ne)}je.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};let te=["x","y","weight","size","cellSize","bandwidth"];function Xe(ne,we){return te.forEach(We=>we[We]!=null?ne[We](we[We]):0),ne}t.inherits(je,e.Transform,{transform(ne,we){if(this.value&&!we.changed()&&!ne.modified())return we.StopPropagation;var We=we.fork(we.NO_SOURCE|we.NO_FIELDS),nt=we.materialize(we.SOURCE).source,Pt=ye(nt,ne.groupby),sn=(ne.groupby||[]).map(t.accessorName),wn=Xe(Ke(),ne),yn=ne.as||"grid",xn=[];function zn(Re,He){for(let At=0;At<sn.length;++At)Re[sn[At]]=He[At];return Re}return xn=Pt.map(Re=>e.ingest(zn({[yn]:wn(Re,ne.counts)},Re.dims))),this.value&&(We.rem=this.value),this.value=We.source=We.add=xn,We}});function ye(ne,we){var We=[],nt=Re=>Re(yn),Pt,sn,wn,yn,xn,zn;if(we==null)We.push(ne);else for(Pt={},sn=0,wn=ne.length;sn<wn;++sn)yn=ne[sn],xn=we.map(nt),zn=Pt[xn],zn||(Pt[xn]=zn=[],zn.dims=xn,We.push(zn)),zn.push(yn);return We}function ke(ne){e.Transform.call(this,null,ne)}ke.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},t.inherits(ke,e.Transform,{transform(ne,we){if(this.value&&!we.changed()&&!ne.modified())return we.StopPropagation;var We=we.fork(we.NO_SOURCE|we.NO_FIELDS),nt=U().smooth(ne.smooth!==!1),Pt=ne.values,sn=ne.thresholds||M(ne.count||10,ne.nice,!!Pt),wn=ne.size,yn,xn;return Pt||(Pt=we.materialize(we.SOURCE).source,yn=Xe(Ke(),ne)(Pt,!0),xn=Ve(yn,yn.scale||1,yn.scale||1,0,0),wn=[yn.width,yn.height],Pt=yn.values),sn=t.isArray(sn)?sn:sn(Pt),Pt=nt.size(wn)(Pt,sn),xn&&Pt.forEach(xn),this.value&&(We.rem=this.value),this.value=We.source=We.add=(Pt||[]).map(e.ingest),We}});let Ce="Feature",xe="FeatureCollection",Je="MultiPoint";function ut(ne){e.Transform.call(this,null,ne)}ut.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},t.inherits(ut,e.Transform,{transform(ne,we){var We=this._features,nt=this._points,Pt=ne.fields,sn=Pt&&Pt[0],wn=Pt&&Pt[1],yn=ne.geojson||!Pt&&t.identity,xn=we.ADD,zn;zn=ne.modified()||we.changed(we.REM)||we.modified(t.accessorFields(yn))||sn&&we.modified(t.accessorFields(sn))||wn&&we.modified(t.accessorFields(wn)),(!this.value||zn)&&(xn=we.SOURCE,this._features=We=[],this._points=nt=[]),yn&&we.visit(xn,Re=>We.push(yn(Re))),sn&&wn&&(we.visit(xn,Re=>{var He=sn(Re),At=wn(Re);He!=null&&At!=null&&(He=+He)===He&&(At=+At)===At&&nt.push([He,At])}),We=We.concat({type:Ce,geometry:{type:Je,coordinates:nt}})),this.value={type:xe,features:We}}});function Qt(ne){e.Transform.call(this,null,ne)}Qt.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},t.inherits(Qt,e.Transform,{transform(ne,we){var We=we.fork(we.ALL),nt=this.value,Pt=ne.field||t.identity,sn=ne.as||"path",wn=We.SOURCE;!nt||ne.modified()?(this.value=nt=i.getProjectionPath(ne.projection),We.materialize().reflow()):wn=Pt===t.identity||we.modified(Pt.fields)?We.ADD_MOD:We.ADD;let yn=wt(nt,ne.pointRadius);return We.visit(wn,xn=>xn[sn]=nt(Pt(xn))),nt.pointRadius(yn),We.modifies(sn)}});function wt(ne,we){let We=ne.pointRadius();return ne.context(null),we!=null&&ne.pointRadius(we),We}function mn(ne){e.Transform.call(this,null,ne)}mn.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},t.inherits(mn,e.Transform,{transform(ne,we){var We=ne.projection,nt=ne.fields[0],Pt=ne.fields[1],sn=ne.as||["x","y"],wn=sn[0],yn=sn[1],xn;function zn(Re){let He=We([nt(Re),Pt(Re)]);He?(Re[wn]=He[0],Re[yn]=He[1]):(Re[wn]=void 0,Re[yn]=void 0)}return ne.modified()?we=we.materialize().reflow(!0).visit(we.SOURCE,zn):(xn=we.modified(nt.fields)||we.modified(Pt.fields),we.visit(xn?we.ADD_MOD:we.ADD,zn)),we.modifies(sn)}});function Lt(ne){e.Transform.call(this,null,ne)}Lt.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},t.inherits(Lt,e.Transform,{transform(ne,we){var We=we.fork(we.ALL),nt=this.value,Pt=ne.as||"shape",sn=We.ADD;return(!nt||ne.modified())&&(this.value=nt=It(i.getProjectionPath(ne.projection),ne.field||t.field("datum"),ne.pointRadius),We.materialize().reflow(),sn=We.SOURCE),We.visit(sn,wn=>wn[Pt]=nt),We.modifies(Pt)}});function It(ne,we,We){let nt=We==null?Pt=>ne(we(Pt)):Pt=>{var sn=ne.pointRadius(),wn=ne.pointRadius(We)(we(Pt));return ne.pointRadius(sn),wn};return nt.context=Pt=>(ne.context(Pt),nt),nt}var cn=1e-6,it=Math.abs,ue=Math.ceil;function De(ne,we,We){var nt=E(ne,we-cn,We).concat(we);return function(Pt){return nt.map(function(sn){return[Pt,sn]})}}function ve(ne,we,We){var nt=E(ne,we-cn,We).concat(we);return function(Pt){return nt.map(function(sn){return[sn,Pt]})}}function le(){var ne,we,We,nt,Pt,sn,wn,yn,xn=10,zn=xn,Re=90,He=360,At,L,V,be,pe=2.5;function Y(){return{type:"MultiLineString",coordinates:oe()}}function oe(){return E(ue(nt/Re)*Re,We,Re).map(V).concat(E(ue(yn/He)*He,wn,He).map(be)).concat(E(ue(we/xn)*xn,ne,xn).filter(function(ce){return it(ce%Re)>cn}).map(At)).concat(E(ue(sn/zn)*zn,Pt,zn).filter(function(ce){return it(ce%He)>cn}).map(L))}return Y.lines=function(){return oe().map(function(ce){return{type:"LineString",coordinates:ce}})},Y.outline=function(){return{type:"Polygon",coordinates:[V(nt).concat(be(wn).slice(1),V(We).reverse().slice(1),be(yn).reverse().slice(1))]}},Y.extent=function(ce){return arguments.length?Y.extentMajor(ce).extentMinor(ce):Y.extentMinor()},Y.extentMajor=function(ce){return arguments.length?(nt=+ce[0][0],We=+ce[1][0],yn=+ce[0][1],wn=+ce[1][1],nt>We&&(ce=nt,nt=We,We=ce),yn>wn&&(ce=yn,yn=wn,wn=ce),Y.precision(pe)):[[nt,yn],[We,wn]]},Y.extentMinor=function(ce){return arguments.length?(we=+ce[0][0],ne=+ce[1][0],sn=+ce[0][1],Pt=+ce[1][1],we>ne&&(ce=we,we=ne,ne=ce),sn>Pt&&(ce=sn,sn=Pt,Pt=ce),Y.precision(pe)):[[we,sn],[ne,Pt]]},Y.step=function(ce){return arguments.length?Y.stepMajor(ce).stepMinor(ce):Y.stepMinor()},Y.stepMajor=function(ce){return arguments.length?(Re=+ce[0],He=+ce[1],Y):[Re,He]},Y.stepMinor=function(ce){return arguments.length?(xn=+ce[0],zn=+ce[1],Y):[xn,zn]},Y.precision=function(ce){return arguments.length?(pe=+ce,At=De(sn,Pt,90),L=ve(we,ne,pe),V=De(yn,wn,90),be=ve(nt,We,pe),Y):pe},Y.extentMajor([[-180,-90+cn],[180,90-cn]]).extentMinor([[-180,-80-cn],[180,80+cn]])}function st(ne){e.Transform.call(this,[],ne),this.generator=le()}st.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},t.inherits(st,e.Transform,{transform(ne,we){var We=this.value,nt=this.generator,Pt;if(!We.length||ne.modified())for(let sn in ne)t.isFunction(nt[sn])&&nt[sn](ne[sn]);return Pt=nt(),We.length?we.mod.push(e.replace(We[0],Pt)):we.add.push(e.ingest(Pt)),We[0]=Pt,we}});function Ze(ne,we,We){ne.prototype=we.prototype=We,We.constructor=ne}function Le(ne,we){var We=Object.create(ne.prototype);for(var nt in we)We[nt]=we[nt];return We}function vt(){}var $t=.7,Mt=1/$t,Vt="\\s*([+-]?\\d+)\\s*",tn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",en="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",En=/^#([0-9a-f]{3,8})$/,Fn=new RegExp("^rgb\\("+[Vt,Vt,Vt]+"\\)$"),On=new RegExp("^rgb\\("+[en,en,en]+"\\)$"),qt=new RegExp("^rgba\\("+[Vt,Vt,Vt,tn]+"\\)$"),pn=new RegExp("^rgba\\("+[en,en,en,tn]+"\\)$"),qn=new RegExp("^hsl\\("+[tn,en,en]+"\\)$"),or=new RegExp("^hsla\\("+[tn,en,en,tn]+"\\)$"),In={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ze(vt,jt,{copy:function(ne){return Object.assign(new this.constructor,this,ne)},displayable:function(){return this.rgb().displayable()},hex:Ne,formatHex:Ne,formatHsl:$e,formatRgb:Oe,toString:Oe});function Ne(){return this.rgb().formatHex()}function $e(){return Ye(this).formatHsl()}function Oe(){return this.rgb().formatRgb()}function jt(ne){var we,We;return ne=(ne+"").trim().toLowerCase(),(we=En.exec(ne))?(We=we[1].length,we=parseInt(we[1],16),We===6?yt(we):We===3?new Dn(we>>8&15|we>>4&240,we>>4&15|we&240,(we&15)<<4|we&15,1):We===8?mt(we>>24&255,we>>16&255,we>>8&255,(we&255)/255):We===4?mt(we>>12&15|we>>8&240,we>>8&15|we>>4&240,we>>4&15|we&240,((we&15)<<4|we&15)/255):null):(we=Fn.exec(ne))?new Dn(we[1],we[2],we[3],1):(we=On.exec(ne))?new Dn(we[1]*255/100,we[2]*255/100,we[3]*255/100,1):(we=qt.exec(ne))?mt(we[1],we[2],we[3],we[4]):(we=pn.exec(ne))?mt(we[1]*255/100,we[2]*255/100,we[3]*255/100,we[4]):(we=qn.exec(ne))?ar(we[1],we[2]/100,we[3]/100,1):(we=or.exec(ne))?ar(we[1],we[2]/100,we[3]/100,we[4]):In.hasOwnProperty(ne)?yt(In[ne]):ne==="transparent"?new Dn(NaN,NaN,NaN,0):null}function yt(ne){return new Dn(ne>>16&255,ne>>8&255,ne&255,1)}function mt(ne,we,We,nt){return nt<=0&&(ne=we=We=NaN),new Dn(ne,we,We,nt)}function nn(ne){return ne instanceof vt||(ne=jt(ne)),ne?(ne=ne.rgb(),new Dn(ne.r,ne.g,ne.b,ne.opacity)):new Dn}function Wt(ne,we,We,nt){return arguments.length===1?nn(ne):new Dn(ne,we,We,nt??1)}function Dn(ne,we,We,nt){this.r=+ne,this.g=+we,this.b=+We,this.opacity=+nt}Ze(Dn,Wt,Le(vt,{brighter:function(ne){return ne=ne==null?Mt:Math.pow(Mt,ne),new Dn(this.r*ne,this.g*ne,this.b*ne,this.opacity)},darker:function(ne){return ne=ne==null?$t:Math.pow($t,ne),new Dn(this.r*ne,this.g*ne,this.b*ne,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qn,formatHex:Qn,formatRgb:Zn,toString:Zn}));function Qn(){return"#"+Pn(this.r)+Pn(this.g)+Pn(this.b)}function Zn(){var ne=this.opacity;return ne=isNaN(ne)?1:Math.max(0,Math.min(1,ne)),(ne===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ne===1?")":", "+ne+")")}function Pn(ne){return ne=Math.max(0,Math.min(255,Math.round(ne)||0)),(ne<16?"0":"")+ne.toString(16)}function ar(ne,we,We,nt){return nt<=0?ne=we=We=NaN:We<=0||We>=1?ne=we=NaN:we<=0&&(ne=NaN),new se(ne,we,We,nt)}function Ye(ne){if(ne instanceof se)return new se(ne.h,ne.s,ne.l,ne.opacity);if(ne instanceof vt||(ne=jt(ne)),!ne)return new se;if(ne instanceof se)return ne;ne=ne.rgb();var we=ne.r/255,We=ne.g/255,nt=ne.b/255,Pt=Math.min(we,We,nt),sn=Math.max(we,We,nt),wn=NaN,yn=sn-Pt,xn=(sn+Pt)/2;return yn?(we===sn?wn=(We-nt)/yn+(We<nt)*6:We===sn?wn=(nt-we)/yn+2:wn=(we-We)/yn+4,yn/=xn<.5?sn+Pt:2-sn-Pt,wn*=60):yn=xn>0&&xn<1?0:wn,new se(wn,yn,xn,ne.opacity)}function gt(ne,we,We,nt){return arguments.length===1?Ye(ne):new se(ne,we,We,nt??1)}function se(ne,we,We,nt){this.h=+ne,this.s=+we,this.l=+We,this.opacity=+nt}Ze(se,gt,Le(vt,{brighter:function(ne){return ne=ne==null?Mt:Math.pow(Mt,ne),new se(this.h,this.s,this.l*ne,this.opacity)},darker:function(ne){return ne=ne==null?$t:Math.pow($t,ne),new se(this.h,this.s,this.l*ne,this.opacity)},rgb:function(){var ne=this.h%360+(this.h<0)*360,we=isNaN(ne)||isNaN(this.s)?0:this.s,We=this.l,nt=We+(We<.5?We:1-We)*we,Pt=2*We-nt;return new Dn(qe(ne>=240?ne-240:ne+120,Pt,nt),qe(ne,Pt,nt),qe(ne<120?ne+240:ne-120,Pt,nt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ne=this.opacity;return ne=isNaN(ne)?1:Math.max(0,Math.min(1,ne)),(ne===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ne===1?")":", "+ne+")")}}));function qe(ne,we,We){return(ne<60?we+(We-we)*ne/60:ne<180?We:ne<240?we+(We-we)*(240-ne)/60:we)*255}function et(ne){e.Transform.call(this,null,ne)}et.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},t.inherits(et,e.Transform,{transform(ne,we){if(!we.changed()&&!ne.modified())return we.StopPropagation;var We=we.materialize(we.SOURCE).source,nt=ne.resolve==="shared",Pt=ne.field||t.identity,sn=fn(ne.opacity,ne),wn=Tt(ne.color,ne),yn=ne.as||"image",xn={$x:0,$y:0,$value:0,$max:nt?p(We.map(zn=>p(Pt(zn).values))):0};return We.forEach(zn=>{let Re=Pt(zn),He=t.extend({},zn,xn);nt||(He.$max=p(Re.values||[])),zn[yn]=ct(Re,He,wn.dep?wn:t.constant(wn(He)),sn.dep?sn:t.constant(sn(He)))}),we.reflow(!0).modifies(yn)}});function Tt(ne,we){let We;return t.isFunction(ne)?(We=nt=>Wt(ne(nt,we)),We.dep=on(ne)):We=t.constant(Wt(ne||"#888")),We}function fn(ne,we){let We;return t.isFunction(ne)?(We=nt=>ne(nt,we),We.dep=on(ne)):ne?We=t.constant(ne):(We=nt=>nt.$value/nt.$max||0,We.dep=!0),We}function on(ne){if(!t.isFunction(ne))return!1;let we=t.toSet(t.accessorFields(ne));return we.$x||we.$y||we.$value||we.$max}function ct(ne,we,We,nt){let Pt=ne.width,sn=ne.height,wn=ne.x1||0,yn=ne.y1||0,xn=ne.x2||Pt,zn=ne.y2||sn,Re=ne.values,He=Re?pe=>Re[pe]:t.zero,At=s.canvas(xn-wn,zn-yn),L=At.getContext("2d"),V=L.getImageData(0,0,xn-wn,zn-yn),be=V.data;for(let pe=yn,Y=0;pe<zn;++pe){we.$y=pe-yn;for(let oe=wn,ce=pe*Pt;oe<xn;++oe,Y+=4){we.$x=oe-wn,we.$value=He(oe+ce);let Qe=We(we);be[Y+0]=Qe.r,be[Y+1]=Qe.g,be[Y+2]=Qe.b,be[Y+3]=~~(255*nt(we))}}return L.putImageData(V,0,0),At}function ie(ne){e.Transform.call(this,null,ne),this.modified(!0)}t.inherits(ie,e.Transform,{transform(ne,we){let We=this.value;return!We||ne.modified("type")?(this.value=We=ze(ne.type),i.projectionProperties.forEach(nt=>{ne[nt]!=null&&ht(We,nt,ne[nt])})):i.projectionProperties.forEach(nt=>{ne.modified(nt)&&ht(We,nt,ne[nt])}),ne.pointRadius!=null&&We.path.pointRadius(ne.pointRadius),ne.fit&&Te(We,ne),we.fork(we.NO_SOURCE|we.NO_FIELDS)}});function Te(ne,we){let We=_t(we.fit);we.extent?ne.fitExtent(we.extent,We):we.size&&ne.fitSize(we.size,We)}function ze(ne){let we=i.projection((ne||"mercator").toLowerCase());return we||t.error("Unrecognized projection type: "+ne),we()}function ht(ne,we,We){t.isFunction(ne[we])&&ne[we](We)}function _t(ne){return ne=t.array(ne),ne.length===1?ne[0]:{type:xe,features:ne.reduce((we,We)=>we.concat(Dt(We)),[])}}function Dt(ne){return ne.type===xe?ne.features:t.array(ne).filter(we=>we!=null).map(we=>we.type===Ce?we:{type:Ce,geometry:we})}n.contour=ke,n.geojson=ut,n.geopath=Qt,n.geopoint=mn,n.geoshape=Lt,n.graticule=st,n.heatmap=et,n.isocontour=Z,n.kde2d=je,n.projection=ie,Object.defineProperty(n,"__esModule",{value:!0})})});var GAe=Ae((YH,QAe)=>{m();(function(n,e){typeof YH=="object"&&typeof QAe!="undefined"?e(YH,Xf(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(YH,function(n,e,t){"use strict";function r(se,qe){var et,Tt=1;se==null&&(se=0),qe==null&&(qe=0);function fn(){var on,ct=et.length,ie,Te=0,ze=0;for(on=0;on<ct;++on)ie=et[on],Te+=ie.x,ze+=ie.y;for(Te=(Te/ct-se)*Tt,ze=(ze/ct-qe)*Tt,on=0;on<ct;++on)ie=et[on],ie.x-=Te,ie.y-=ze}return fn.initialize=function(on){et=on},fn.x=function(on){return arguments.length?(se=+on,fn):se},fn.y=function(on){return arguments.length?(qe=+on,fn):qe},fn.strength=function(on){return arguments.length?(Tt=+on,fn):Tt},fn}function i(se){let qe=+this._x.call(null,se),et=+this._y.call(null,se);return s(this.cover(qe,et),qe,et,se)}function s(se,qe,et,Tt){if(isNaN(qe)||isNaN(et))return se;var fn,on=se._root,ct={data:Tt},ie=se._x0,Te=se._y0,ze=se._x1,ht=se._y1,_t,Dt,ne,we,We,nt,Pt,sn;if(!on)return se._root=ct,se;for(;on.length;)if((We=qe>=(_t=(ie+ze)/2))?ie=_t:ze=_t,(nt=et>=(Dt=(Te+ht)/2))?Te=Dt:ht=Dt,fn=on,!(on=on[Pt=nt<<1|We]))return fn[Pt]=ct,se;if(ne=+se._x.call(null,on.data),we=+se._y.call(null,on.data),qe===ne&&et===we)return ct.next=on,fn?fn[Pt]=ct:se._root=ct,se;do fn=fn?fn[Pt]=new Array(4):se._root=new Array(4),(We=qe>=(_t=(ie+ze)/2))?ie=_t:ze=_t,(nt=et>=(Dt=(Te+ht)/2))?Te=Dt:ht=Dt;while((Pt=nt<<1|We)===(sn=(we>=Dt)<<1|ne>=_t));return fn[sn]=on,fn[Pt]=ct,se}function o(se){var qe,et,Tt=se.length,fn,on,ct=new Array(Tt),ie=new Array(Tt),Te=1/0,ze=1/0,ht=-1/0,_t=-1/0;for(et=0;et<Tt;++et)isNaN(fn=+this._x.call(null,qe=se[et]))||isNaN(on=+this._y.call(null,qe))||(ct[et]=fn,ie[et]=on,fn<Te&&(Te=fn),fn>ht&&(ht=fn),on<ze&&(ze=on),on>_t&&(_t=on));if(Te>ht||ze>_t)return this;for(this.cover(Te,ze).cover(ht,_t),et=0;et<Tt;++et)s(this,ct[et],ie[et],se[et]);return this}function a(se,qe){if(isNaN(se=+se)||isNaN(qe=+qe))return this;var et=this._x0,Tt=this._y0,fn=this._x1,on=this._y1;if(isNaN(et))fn=(et=Math.floor(se))+1,on=(Tt=Math.floor(qe))+1;else{for(var ct=fn-et||1,ie=this._root,Te,ze;et>se||se>=fn||Tt>qe||qe>=on;)switch(ze=(qe<Tt)<<1|se<et,Te=new Array(4),Te[ze]=ie,ie=Te,ct*=2,ze){case 0:fn=et+ct,on=Tt+ct;break;case 1:et=fn-ct,on=Tt+ct;break;case 2:fn=et+ct,Tt=on-ct;break;case 3:et=fn-ct,Tt=on-ct;break}this._root&&this._root.length&&(this._root=ie)}return this._x0=et,this._y0=Tt,this._x1=fn,this._y1=on,this}function c(){var se=[];return this.visit(function(qe){if(!qe.length)do se.push(qe.data);while(qe=qe.next)}),se}function d(se){return arguments.length?this.cover(+se[0][0],+se[0][1]).cover(+se[1][0],+se[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function p(se,qe,et,Tt,fn){this.node=se,this.x0=qe,this.y0=et,this.x1=Tt,this.y1=fn}function E(se,qe,et){var Tt,fn=this._x0,on=this._y0,ct,ie,Te,ze,ht=this._x1,_t=this._y1,Dt=[],ne=this._root,we,We;for(ne&&Dt.push(new p(ne,fn,on,ht,_t)),et==null?et=1/0:(fn=se-et,on=qe-et,ht=se+et,_t=qe+et,et*=et);we=Dt.pop();)if(!(!(ne=we.node)||(ct=we.x0)>ht||(ie=we.y0)>_t||(Te=we.x1)<fn||(ze=we.y1)<on))if(ne.length){var nt=(ct+Te)/2,Pt=(ie+ze)/2;Dt.push(new p(ne[3],nt,Pt,Te,ze),new p(ne[2],ct,Pt,nt,ze),new p(ne[1],nt,ie,Te,Pt),new p(ne[0],ct,ie,nt,Pt)),(We=(qe>=Pt)<<1|se>=nt)&&(we=Dt[Dt.length-1],Dt[Dt.length-1]=Dt[Dt.length-1-We],Dt[Dt.length-1-We]=we)}else{var sn=se-+this._x.call(null,ne.data),wn=qe-+this._y.call(null,ne.data),yn=sn*sn+wn*wn;if(yn<et){var xn=Math.sqrt(et=yn);fn=se-xn,on=qe-xn,ht=se+xn,_t=qe+xn,Tt=ne.data}}return Tt}function w(se){if(isNaN(ht=+this._x.call(null,se))||isNaN(_t=+this._y.call(null,se)))return this;var qe,et=this._root,Tt,fn,on,ct=this._x0,ie=this._y0,Te=this._x1,ze=this._y1,ht,_t,Dt,ne,we,We,nt,Pt;if(!et)return this;if(et.length)for(;;){if((we=ht>=(Dt=(ct+Te)/2))?ct=Dt:Te=Dt,(We=_t>=(ne=(ie+ze)/2))?ie=ne:ze=ne,qe=et,!(et=et[nt=We<<1|we]))return this;if(!et.length)break;(qe[nt+1&3]||qe[nt+2&3]||qe[nt+3&3])&&(Tt=qe,Pt=nt)}for(;et.data!==se;)if(fn=et,!(et=et.next))return this;return(on=et.next)&&delete et.next,fn?(on?fn.next=on:delete fn.next,this):qe?(on?qe[nt]=on:delete qe[nt],(et=qe[0]||qe[1]||qe[2]||qe[3])&&et===(qe[3]||qe[2]||qe[1]||qe[0])&&!et.length&&(Tt?Tt[Pt]=et:this._root=et),this):(this._root=on,this)}function N(se){for(var qe=0,et=se.length;qe<et;++qe)this.remove(se[qe]);return this}function R(){return this._root}function U(){var se=0;return this.visit(function(qe){if(!qe.length)do++se;while(qe=qe.next)}),se}function Q(se){var qe=[],et,Tt=this._root,fn,on,ct,ie,Te;for(Tt&&qe.push(new p(Tt,this._x0,this._y0,this._x1,this._y1));et=qe.pop();)if(!se(Tt=et.node,on=et.x0,ct=et.y0,ie=et.x1,Te=et.y1)&&Tt.length){var ze=(on+ie)/2,ht=(ct+Te)/2;(fn=Tt[3])&&qe.push(new p(fn,ze,ht,ie,Te)),(fn=Tt[2])&&qe.push(new p(fn,on,ht,ze,Te)),(fn=Tt[1])&&qe.push(new p(fn,ze,ct,ie,ht)),(fn=Tt[0])&&qe.push(new p(fn,on,ct,ze,ht))}return this}function P(se){var qe=[],et=[],Tt;for(this._root&&qe.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));Tt=qe.pop();){var fn=Tt.node;if(fn.length){var on,ct=Tt.x0,ie=Tt.y0,Te=Tt.x1,ze=Tt.y1,ht=(ct+Te)/2,_t=(ie+ze)/2;(on=fn[0])&&qe.push(new p(on,ct,ie,ht,_t)),(on=fn[1])&&qe.push(new p(on,ht,ie,Te,_t)),(on=fn[2])&&qe.push(new p(on,ct,_t,ht,ze)),(on=fn[3])&&qe.push(new p(on,ht,_t,Te,ze))}et.push(Tt)}for(;Tt=et.pop();)se(Tt.node,Tt.x0,Tt.y0,Tt.x1,Tt.y1);return this}function j(se){return se[0]}function I(se){return arguments.length?(this._x=se,this):this._x}function K(se){return se[1]}function de(se){return arguments.length?(this._y=se,this):this._y}function M(se,qe,et){var Tt=new Z(qe??j,et??K,NaN,NaN,NaN,NaN);return se==null?Tt:Tt.addAll(se)}function Z(se,qe,et,Tt,fn,on){this._x=se,this._y=qe,this._x0=et,this._y0=Tt,this._x1=fn,this._y1=on,this._root=void 0}function me(se){for(var qe={data:se.data},et=qe;se=se.next;)et=et.next={data:se.data};return qe}var _e=M.prototype=Z.prototype;_e.copy=function(){var se=new Z(this._x,this._y,this._x0,this._y0,this._x1,this._y1),qe=this._root,et,Tt;if(!qe)return se;if(!qe.length)return se._root=me(qe),se;for(et=[{source:qe,target:se._root=new Array(4)}];qe=et.pop();)for(var fn=0;fn<4;++fn)(Tt=qe.source[fn])&&(Tt.length?et.push({source:Tt,target:qe.target[fn]=new Array(4)}):qe.target[fn]=me(Tt));return se},_e.add=i,_e.addAll=o,_e.cover=a,_e.data=c,_e.extent=d,_e.find=E,_e.remove=w,_e.removeAll=N,_e.root=R,_e.size=U,_e.visit=Q,_e.visitAfter=P,_e.x=I,_e.y=de;function Ve(se){return function(){return se}}function at(se){return(se()-.5)*1e-6}function lt(se){return se.x+se.vx}function Ke(se){return se.y+se.vy}function St(se){var qe,et,Tt,fn=1,on=1;typeof se!="function"&&(se=Ve(se==null?1:+se));function ct(){for(var ze,ht=qe.length,_t,Dt,ne,we,We,nt,Pt=0;Pt<on;++Pt)for(_t=M(qe,lt,Ke).visitAfter(ie),ze=0;ze<ht;++ze)Dt=qe[ze],We=et[Dt.index],nt=We*We,ne=Dt.x+Dt.vx,we=Dt.y+Dt.vy,_t.visit(sn);function sn(wn,yn,xn,zn,Re){var He=wn.data,At=wn.r,L=We+At;if(He){if(He.index>Dt.index){var V=ne-He.x-He.vx,be=we-He.y-He.vy,pe=V*V+be*be;pe<L*L&&(V===0&&(V=at(Tt),pe+=V*V),be===0&&(be=at(Tt),pe+=be*be),pe=(L-(pe=Math.sqrt(pe)))/pe*fn,Dt.vx+=(V*=pe)*(L=(At*=At)/(nt+At)),Dt.vy+=(be*=pe)*L,He.vx-=V*(L=1-L),He.vy-=be*L)}return}return yn>ne+L||zn<ne-L||xn>we+L||Re<we-L}}function ie(ze){if(ze.data)return ze.r=et[ze.data.index];for(var ht=ze.r=0;ht<4;++ht)ze[ht]&&ze[ht].r>ze.r&&(ze.r=ze[ht].r)}function Te(){if(!!qe){var ze,ht=qe.length,_t;for(et=new Array(ht),ze=0;ze<ht;++ze)_t=qe[ze],et[_t.index]=+se(_t,ze,qe)}}return ct.initialize=function(ze,ht){qe=ze,Tt=ht,Te()},ct.iterations=function(ze){return arguments.length?(on=+ze,ct):on},ct.strength=function(ze){return arguments.length?(fn=+ze,ct):fn},ct.radius=function(ze){return arguments.length?(se=typeof ze=="function"?ze:Ve(+ze),Te(),ct):se},ct}function Ft(se){return se.index}function je(se,qe){var et=se.get(qe);if(!et)throw new Error("node not found: "+qe);return et}function te(se){var qe=Ft,et=_t,Tt,fn=Ve(30),on,ct,ie,Te,ze,ht=1;se==null&&(se=[]);function _t(nt){return 1/Math.min(ie[nt.source.index],ie[nt.target.index])}function Dt(nt){for(var Pt=0,sn=se.length;Pt<ht;++Pt)for(var wn=0,yn,xn,zn,Re,He,At,L;wn<sn;++wn)yn=se[wn],xn=yn.source,zn=yn.target,Re=zn.x+zn.vx-xn.x-xn.vx||at(ze),He=zn.y+zn.vy-xn.y-xn.vy||at(ze),At=Math.sqrt(Re*Re+He*He),At=(At-on[wn])/At*nt*Tt[wn],Re*=At,He*=At,zn.vx-=Re*(L=Te[wn]),zn.vy-=He*L,xn.vx+=Re*(L=1-L),xn.vy+=He*L}function ne(){if(!!ct){var nt,Pt=ct.length,sn=se.length,wn=new Map(ct.map((xn,zn)=>[qe(xn,zn,ct),xn])),yn;for(nt=0,ie=new Array(Pt);nt<sn;++nt)yn=se[nt],yn.index=nt,typeof yn.source!="object"&&(yn.source=je(wn,yn.source)),typeof yn.target!="object"&&(yn.target=je(wn,yn.target)),ie[yn.source.index]=(ie[yn.source.index]||0)+1,ie[yn.target.index]=(ie[yn.target.index]||0)+1;for(nt=0,Te=new Array(sn);nt<sn;++nt)yn=se[nt],Te[nt]=ie[yn.source.index]/(ie[yn.source.index]+ie[yn.target.index]);Tt=new Array(sn),we(),on=new Array(sn),We()}}function we(){if(!!ct)for(var nt=0,Pt=se.length;nt<Pt;++nt)Tt[nt]=+et(se[nt],nt,se)}function We(){if(!!ct)for(var nt=0,Pt=se.length;nt<Pt;++nt)on[nt]=+fn(se[nt],nt,se)}return Dt.initialize=function(nt,Pt){ct=nt,ze=Pt,ne()},Dt.links=function(nt){return arguments.length?(se=nt,ne(),Dt):se},Dt.id=function(nt){return arguments.length?(qe=nt,Dt):qe},Dt.iterations=function(nt){return arguments.length?(ht=+nt,Dt):ht},Dt.strength=function(nt){return arguments.length?(et=typeof nt=="function"?nt:Ve(+nt),we(),Dt):et},Dt.distance=function(nt){return arguments.length?(fn=typeof nt=="function"?nt:Ve(+nt),We(),Dt):fn},Dt}var Xe={value:()=>{}};function ye(){for(var se=0,qe=arguments.length,et={},Tt;se<qe;++se){if(!(Tt=arguments[se]+"")||Tt in et||/[\s.]/.test(Tt))throw new Error("illegal type: "+Tt);et[Tt]=[]}return new ke(et)}function ke(se){this._=se}function Ce(se,qe){return se.trim().split(/^|\s+/).map(function(et){var Tt="",fn=et.indexOf(".");if(fn>=0&&(Tt=et.slice(fn+1),et=et.slice(0,fn)),et&&!qe.hasOwnProperty(et))throw new Error("unknown type: "+et);return{type:et,name:Tt}})}ke.prototype=ye.prototype={constructor:ke,on:function(se,qe){var et=this._,Tt=Ce(se+"",et),fn,on=-1,ct=Tt.length;if(arguments.length<2){for(;++on<ct;)if((fn=(se=Tt[on]).type)&&(fn=xe(et[fn],se.name)))return fn;return}if(qe!=null&&typeof qe!="function")throw new Error("invalid callback: "+qe);for(;++on<ct;)if(fn=(se=Tt[on]).type)et[fn]=Je(et[fn],se.name,qe);else if(qe==null)for(fn in et)et[fn]=Je(et[fn],se.name,null);return this},copy:function(){var se={},qe=this._;for(var et in qe)se[et]=qe[et].slice();return new ke(se)},call:function(se,qe){if((fn=arguments.length-2)>0)for(var et=new Array(fn),Tt=0,fn,on;Tt<fn;++Tt)et[Tt]=arguments[Tt+2];if(!this._.hasOwnProperty(se))throw new Error("unknown type: "+se);for(on=this._[se],Tt=0,fn=on.length;Tt<fn;++Tt)on[Tt].value.apply(qe,et)},apply:function(se,qe,et){if(!this._.hasOwnProperty(se))throw new Error("unknown type: "+se);for(var Tt=this._[se],fn=0,on=Tt.length;fn<on;++fn)Tt[fn].value.apply(qe,et)}};function xe(se,qe){for(var et=0,Tt=se.length,fn;et<Tt;++et)if((fn=se[et]).name===qe)return fn.value}function Je(se,qe,et){for(var Tt=0,fn=se.length;Tt<fn;++Tt)if(se[Tt].name===qe){se[Tt]=Xe,se=se.slice(0,Tt).concat(se.slice(Tt+1));break}return et!=null&&se.push({name:qe,value:et}),se}var ut=0,Qt=0,wt=0,mn=1e3,Lt,It,cn=0,it=0,ue=0,De=typeof performance=="object"&&performance.now?performance:Date,ve=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(se){setTimeout(se,17)};function le(){return it||(ve(st),it=De.now()+ue)}function st(){it=0}function Ze(){this._call=this._time=this._next=null}Ze.prototype=Le.prototype={constructor:Ze,restart:function(se,qe,et){if(typeof se!="function")throw new TypeError("callback is not a function");et=(et==null?le():+et)+(qe==null?0:+qe),!this._next&&It!==this&&(It?It._next=this:Lt=this,It=this),this._call=se,this._time=et,tn()},stop:function(){this._call&&(this._call=null,this._time=1/0,tn())}};function Le(se,qe,et){var Tt=new Ze;return Tt.restart(se,qe,et),Tt}function vt(){le(),++ut;for(var se=Lt,qe;se;)(qe=it-se._time)>=0&&se._call.call(void 0,qe),se=se._next;--ut}function $t(){it=(cn=De.now())+ue,ut=Qt=0;try{vt()}finally{ut=0,Vt(),it=0}}function Mt(){var se=De.now(),qe=se-cn;qe>mn&&(ue-=qe,cn=se)}function Vt(){for(var se,qe=Lt,et,Tt=1/0;qe;)qe._call?(Tt>qe._time&&(Tt=qe._time),se=qe,qe=qe._next):(et=qe._next,qe._next=null,qe=se?se._next=et:Lt=et);It=se,tn(Tt)}function tn(se){if(!ut){Qt&&(Qt=clearTimeout(Qt));var qe=se-it;qe>24?(se<1/0&&(Qt=setTimeout($t,se-De.now()-ue)),wt&&(wt=clearInterval(wt))):(wt||(cn=De.now(),wt=setInterval(Mt,mn)),ut=1,ve($t))}}let en=1664525,En=1013904223,Fn=4294967296;function On(){let se=1;return()=>(se=(en*se+En)%Fn)/Fn}function qt(se){return se.x}function pn(se){return se.y}var qn=10,or=Math.PI*(3-Math.sqrt(5));function In(se){var qe,et=1,Tt=.001,fn=1-Math.pow(Tt,1/300),on=0,ct=.6,ie=new Map,Te=Le(_t),ze=ye("tick","end"),ht=On();se==null&&(se=[]);function _t(){Dt(),ze.call("tick",qe),et<Tt&&(Te.stop(),ze.call("end",qe))}function Dt(We){var nt,Pt=se.length,sn;We===void 0&&(We=1);for(var wn=0;wn<We;++wn)for(et+=(on-et)*fn,ie.forEach(function(yn){yn(et)}),nt=0;nt<Pt;++nt)sn=se[nt],sn.fx==null?sn.x+=sn.vx*=ct:(sn.x=sn.fx,sn.vx=0),sn.fy==null?sn.y+=sn.vy*=ct:(sn.y=sn.fy,sn.vy=0);return qe}function ne(){for(var We=0,nt=se.length,Pt;We<nt;++We){if(Pt=se[We],Pt.index=We,Pt.fx!=null&&(Pt.x=Pt.fx),Pt.fy!=null&&(Pt.y=Pt.fy),isNaN(Pt.x)||isNaN(Pt.y)){var sn=qn*Math.sqrt(.5+We),wn=We*or;Pt.x=sn*Math.cos(wn),Pt.y=sn*Math.sin(wn)}(isNaN(Pt.vx)||isNaN(Pt.vy))&&(Pt.vx=Pt.vy=0)}}function we(We){return We.initialize&&We.initialize(se,ht),We}return ne(),qe={tick:Dt,restart:function(){return Te.restart(_t),qe},stop:function(){return Te.stop(),qe},nodes:function(We){return arguments.length?(se=We,ne(),ie.forEach(we),qe):se},alpha:function(We){return arguments.length?(et=+We,qe):et},alphaMin:function(We){return arguments.length?(Tt=+We,qe):Tt},alphaDecay:function(We){return arguments.length?(fn=+We,qe):+fn},alphaTarget:function(We){return arguments.length?(on=+We,qe):on},velocityDecay:function(We){return arguments.length?(ct=1-We,qe):1-ct},randomSource:function(We){return arguments.length?(ht=We,ie.forEach(we),qe):ht},force:function(We,nt){return arguments.length>1?(nt==null?ie.delete(We):ie.set(We,we(nt)),qe):ie.get(We)},find:function(We,nt,Pt){var sn=0,wn=se.length,yn,xn,zn,Re,He;for(Pt==null?Pt=1/0:Pt*=Pt,sn=0;sn<wn;++sn)Re=se[sn],yn=We-Re.x,xn=nt-Re.y,zn=yn*yn+xn*xn,zn<Pt&&(He=Re,Pt=zn);return He},on:function(We,nt){return arguments.length>1?(ze.on(We,nt),qe):ze.on(We)}}}function Ne(){var se,qe,et,Tt,fn=Ve(-30),on,ct=1,ie=1/0,Te=.81;function ze(ne){var we,We=se.length,nt=M(se,qt,pn).visitAfter(_t);for(Tt=ne,we=0;we<We;++we)qe=se[we],nt.visit(Dt)}function ht(){if(!!se){var ne,we=se.length,We;for(on=new Array(we),ne=0;ne<we;++ne)We=se[ne],on[We.index]=+fn(We,ne,se)}}function _t(ne){var we=0,We,nt,Pt=0,sn,wn,yn;if(ne.length){for(sn=wn=yn=0;yn<4;++yn)(We=ne[yn])&&(nt=Math.abs(We.value))&&(we+=We.value,Pt+=nt,sn+=nt*We.x,wn+=nt*We.y);ne.x=sn/Pt,ne.y=wn/Pt}else{We=ne,We.x=We.data.x,We.y=We.data.y;do we+=on[We.data.index];while(We=We.next)}ne.value=we}function Dt(ne,we,We,nt){if(!ne.value)return!0;var Pt=ne.x-qe.x,sn=ne.y-qe.y,wn=nt-we,yn=Pt*Pt+sn*sn;if(wn*wn/Te<yn)return yn<ie&&(Pt===0&&(Pt=at(et),yn+=Pt*Pt),sn===0&&(sn=at(et),yn+=sn*sn),yn<ct&&(yn=Math.sqrt(ct*yn)),qe.vx+=Pt*ne.value*Tt/yn,qe.vy+=sn*ne.value*Tt/yn),!0;if(ne.length||yn>=ie)return;(ne.data!==qe||ne.next)&&(Pt===0&&(Pt=at(et),yn+=Pt*Pt),sn===0&&(sn=at(et),yn+=sn*sn),yn<ct&&(yn=Math.sqrt(ct*yn)));do ne.data!==qe&&(wn=on[ne.data.index]*Tt/yn,qe.vx+=Pt*wn,qe.vy+=sn*wn);while(ne=ne.next)}return ze.initialize=function(ne,we){se=ne,et=we,ht()},ze.strength=function(ne){return arguments.length?(fn=typeof ne=="function"?ne:Ve(+ne),ht(),ze):fn},ze.distanceMin=function(ne){return arguments.length?(ct=ne*ne,ze):Math.sqrt(ct)},ze.distanceMax=function(ne){return arguments.length?(ie=ne*ne,ze):Math.sqrt(ie)},ze.theta=function(ne){return arguments.length?(Te=ne*ne,ze):Math.sqrt(Te)},ze}function $e(se){var qe=Ve(.1),et,Tt,fn;typeof se!="function"&&(se=Ve(se==null?0:+se));function on(ie){for(var Te=0,ze=et.length,ht;Te<ze;++Te)ht=et[Te],ht.vx+=(fn[Te]-ht.x)*Tt[Te]*ie}function ct(){if(!!et){var ie,Te=et.length;for(Tt=new Array(Te),fn=new Array(Te),ie=0;ie<Te;++ie)Tt[ie]=isNaN(fn[ie]=+se(et[ie],ie,et))?0:+qe(et[ie],ie,et)}}return on.initialize=function(ie){et=ie,ct()},on.strength=function(ie){return arguments.length?(qe=typeof ie=="function"?ie:Ve(+ie),ct(),on):qe},on.x=function(ie){return arguments.length?(se=typeof ie=="function"?ie:Ve(+ie),ct(),on):se},on}function Oe(se){var qe=Ve(.1),et,Tt,fn;typeof se!="function"&&(se=Ve(se==null?0:+se));function on(ie){for(var Te=0,ze=et.length,ht;Te<ze;++Te)ht=et[Te],ht.vy+=(fn[Te]-ht.y)*Tt[Te]*ie}function ct(){if(!!et){var ie,Te=et.length;for(Tt=new Array(Te),fn=new Array(Te),ie=0;ie<Te;++ie)Tt[ie]=isNaN(fn[ie]=+se(et[ie],ie,et))?0:+qe(et[ie],ie,et)}}return on.initialize=function(ie){et=ie,ct()},on.strength=function(ie){return arguments.length?(qe=typeof ie=="function"?ie:Ve(+ie),ct(),on):qe},on.y=function(ie){return arguments.length?(se=typeof ie=="function"?ie:Ve(+ie),ct(),on):se},on}let jt={center:r,collide:St,nbody:Ne,link:te,x:$e,y:Oe},yt="forces",mt=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],nn=["static","iterations"],Wt=["x","y","vx","vy"];function Dn(se){e.Transform.call(this,null,se)}Dn.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Wt}]},t.inherits(Dn,e.Transform,{transform(se,qe){var et=this.value,Tt=qe.changed(qe.ADD_REM),fn=se.modified(mt),on=se.iterations||300;if(et?(Tt&&(qe.modifies("index"),et.nodes(qe.source)),(fn||qe.changed(qe.MOD))&&Pn(et,se,0,qe)):(this.value=et=Zn(qe.source,se),et.on("tick",Qn(qe.dataflow,this)),se.static||(Tt=!0,et.tick()),qe.modifies("index")),fn||Tt||se.modified(nn)||qe.changed()&&se.restart){if(et.alpha(Math.max(et.alpha(),se.alpha||1)).alphaDecay(1-Math.pow(et.alphaMin(),1/on)),se.static)for(et.stop();--on>=0;)et.tick();else if(et.stopped()&&et.restart(),!Tt)return qe.StopPropagation}return this.finish(se,qe)},finish(se,qe){let et=qe.dataflow;for(let ie=this._argops,Te=0,ze=ie.length,ht;Te<ze;++Te)if(ht=ie[Te],!(ht.name!==yt||ht.op._argval.force!=="link")){for(var Tt=ht.op._argops,fn=0,on=Tt.length,ct;fn<on;++fn)if(Tt[fn].name==="links"&&(ct=Tt[fn].op.source)){et.pulse(ct,et.changeset().reflow());break}}return qe.reflow(se.modified()).modifies(Wt)}});function Qn(se,qe){return()=>se.touch(qe).run()}function Zn(se,qe){let et=In(se),Tt=et.stop,fn=et.restart,on=!1;return et.stopped=()=>on,et.restart=()=>(on=!1,fn()),et.stop=()=>(on=!0,Tt()),Pn(et,qe,!0).on("end",()=>on=!0)}function Pn(se,qe,et,Tt){var fn=t.array(qe.forces),on,ct,ie,Te;for(on=0,ct=mt.length;on<ct;++on)ie=mt[on],ie!==yt&&qe.modified(ie)&&se[ie](qe[ie]);for(on=0,ct=fn.length;on<ct;++on)Te=yt+on,ie=et||qe.modified(yt,on)?Ye(fn[on]):Tt&&ar(fn[on],Tt)?se.force(Te):null,ie&&se.force(Te,ie);for(ct=se.numForces||0;on<ct;++on)se.force(yt+on,null);return se.numForces=fn.length,se}function ar(se,qe){var et,Tt;for(et in se)if(t.isFunction(Tt=se[et])&&qe.modified(t.accessorFields(Tt)))return 1;return 0}function Ye(se){var qe,et;t.hasOwnProperty(jt,se.force)||t.error("Unrecognized force: "+se.force),qe=jt[se.force]();for(et in se)t.isFunction(qe[et])&&gt(qe[et],se[et],se);return qe}function gt(se,qe,et){se(t.isFunction(qe)?Tt=>qe(Tt,et):qe)}n.force=Dn,Object.defineProperty(n,"__esModule",{value:!0})})});var KAe=Ae((KH,YAe)=>{m();(function(n,e){typeof KH=="object"&&typeof YAe!="undefined"?e(KH,Xf(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(KH,function(n,e,t){"use strict";function r(Re,He,At){let L={};return Re.each(V=>{let be=V.data;At(be)&&(L[He(be)]=V)}),Re.lookup=L,Re}function i(Re,He){return Re.parent===He.parent?1:2}function s(Re){return Re.reduce(o,0)/Re.length}function o(Re,He){return Re+He.x}function a(Re){return 1+Re.reduce(c,0)}function c(Re,He){return Math.max(Re,He.y)}function d(Re){for(var He;He=Re.children;)Re=He[0];return Re}function p(Re){for(var He;He=Re.children;)Re=He[He.length-1];return Re}function E(){var Re=i,He=1,At=1,L=!1;function V(be){var pe,Y=0;be.eachAfter(function(Et){var ln=Et.children;ln?(Et.x=s(ln),Et.y=a(ln)):(Et.x=pe?Y+=Re(Et,pe):0,Et.y=0,pe=Et)});var oe=d(be),ce=p(be),Qe=oe.x-Re(oe,ce)/2,Rt=ce.x+Re(ce,oe)/2;return be.eachAfter(L?function(Et){Et.x=(Et.x-be.x)*He,Et.y=(be.y-Et.y)*At}:function(Et){Et.x=(Et.x-Qe)/(Rt-Qe)*He,Et.y=(1-(be.y?Et.y/be.y:1))*At})}return V.separation=function(be){return arguments.length?(Re=be,V):Re},V.size=function(be){return arguments.length?(L=!1,He=+be[0],At=+be[1],V):L?null:[He,At]},V.nodeSize=function(be){return arguments.length?(L=!0,He=+be[0],At=+be[1],V):L?[He,At]:null},V}function w(Re){var He=0,At=Re.children,L=At&&At.length;if(!L)He=1;else for(;--L>=0;)He+=At[L].value;Re.value=He}function N(){return this.eachAfter(w)}function R(Re,He){let At=-1;for(let L of this)Re.call(He,L,++At,this);return this}function U(Re,He){for(var At=this,L=[At],V,be,pe=-1;At=L.pop();)if(Re.call(He,At,++pe,this),V=At.children)for(be=V.length-1;be>=0;--be)L.push(V[be]);return this}function Q(Re,He){for(var At=this,L=[At],V=[],be,pe,Y,oe=-1;At=L.pop();)if(V.push(At),be=At.children)for(pe=0,Y=be.length;pe<Y;++pe)L.push(be[pe]);for(;At=V.pop();)Re.call(He,At,++oe,this);return this}function P(Re,He){let At=-1;for(let L of this)if(Re.call(He,L,++At,this))return L}function j(Re){return this.eachAfter(function(He){for(var At=+Re(He.data)||0,L=He.children,V=L&&L.length;--V>=0;)At+=L[V].value;He.value=At})}function I(Re){return this.eachBefore(function(He){He.children&&He.children.sort(Re)})}function K(Re){for(var He=this,At=de(He,Re),L=[He];He!==At;)He=He.parent,L.push(He);for(var V=L.length;Re!==At;)L.splice(V,0,Re),Re=Re.parent;return L}function de(Re,He){if(Re===He)return Re;var At=Re.ancestors(),L=He.ancestors(),V=null;for(Re=At.pop(),He=L.pop();Re===He;)V=Re,Re=At.pop(),He=L.pop();return V}function M(){for(var Re=this,He=[Re];Re=Re.parent;)He.push(Re);return He}function Z(){return Array.from(this)}function me(){var Re=[];return this.eachBefore(function(He){He.children||Re.push(He)}),Re}function _e(){var Re=this,He=[];return Re.each(function(At){At!==Re&&He.push({source:At.parent,target:At})}),He}function*Ve(){var Re=this,He,At=[Re],L,V,be;do for(He=At.reverse(),At=[];Re=He.pop();)if(yield Re,L=Re.children)for(V=0,be=L.length;V<be;++V)At.push(L[V]);while(At.length)}function at(Re,He){Re instanceof Map?(Re=[void 0,Re],He===void 0&&(He=St)):He===void 0&&(He=Ke);for(var At=new te(Re),L,V=[At],be,pe,Y,oe;L=V.pop();)if((pe=He(L.data))&&(oe=(pe=Array.from(pe)).length))for(L.children=pe,Y=oe-1;Y>=0;--Y)V.push(be=pe[Y]=new te(pe[Y])),be.parent=L,be.depth=L.depth+1;return At.eachBefore(je)}function lt(){return at(this).eachBefore(Ft)}function Ke(Re){return Re.children}function St(Re){return Array.isArray(Re)?Re[1]:null}function Ft(Re){Re.data.value!==void 0&&(Re.value=Re.data.value),Re.data=Re.data.data}function je(Re){var He=0;do Re.height=He;while((Re=Re.parent)&&Re.height<++He)}function te(Re){this.data=Re,this.depth=this.height=0,this.parent=null}te.prototype=at.prototype={constructor:te,count:N,each:R,eachAfter:Q,eachBefore:U,find:P,sum:j,sort:I,path:K,ancestors:M,descendants:Z,leaves:me,links:_e,copy:lt,[Symbol.iterator]:Ve};function Xe(Re){return typeof Re=="object"&&"length"in Re?Re:Array.from(Re)}function ye(Re){for(var He=Re.length,At,L;He;)L=Math.random()*He--|0,At=Re[He],Re[He]=Re[L],Re[L]=At;return Re}function ke(Re){for(var He=0,At=(Re=ye(Array.from(Re))).length,L=[],V,be;He<At;)V=Re[He],be&&Je(be,V)?++He:(be=Qt(L=Ce(L,V)),He=0);return be}function Ce(Re,He){var At,L;if(ut(He,Re))return[He];for(At=0;At<Re.length;++At)if(xe(He,Re[At])&&ut(mn(Re[At],He),Re))return[Re[At],He];for(At=0;At<Re.length-1;++At)for(L=At+1;L<Re.length;++L)if(xe(mn(Re[At],Re[L]),He)&&xe(mn(Re[At],He),Re[L])&&xe(mn(Re[L],He),Re[At])&&ut(Lt(Re[At],Re[L],He),Re))return[Re[At],Re[L],He];throw new Error}function xe(Re,He){var At=Re.r-He.r,L=He.x-Re.x,V=He.y-Re.y;return At<0||At*At<L*L+V*V}function Je(Re,He){var At=Re.r-He.r+Math.max(Re.r,He.r,1)*1e-9,L=He.x-Re.x,V=He.y-Re.y;return At>0&&At*At>L*L+V*V}function ut(Re,He){for(var At=0;At<He.length;++At)if(!Je(Re,He[At]))return!1;return!0}function Qt(Re){switch(Re.length){case 1:return wt(Re[0]);case 2:return mn(Re[0],Re[1]);case 3:return Lt(Re[0],Re[1],Re[2])}}function wt(Re){return{x:Re.x,y:Re.y,r:Re.r}}function mn(Re,He){var At=Re.x,L=Re.y,V=Re.r,be=He.x,pe=He.y,Y=He.r,oe=be-At,ce=pe-L,Qe=Y-V,Rt=Math.sqrt(oe*oe+ce*ce);return{x:(At+be+oe/Rt*Qe)/2,y:(L+pe+ce/Rt*Qe)/2,r:(Rt+V+Y)/2}}function Lt(Re,He,At){var L=Re.x,V=Re.y,be=Re.r,pe=He.x,Y=He.y,oe=He.r,ce=At.x,Qe=At.y,Rt=At.r,Et=L-pe,ln=L-ce,S=V-Y,B=V-Qe,ee=oe-be,Ee=Rt-be,ft=L*L+V*V-be*be,Ct=ft-pe*pe-Y*Y+oe*oe,Jt=ft-ce*ce-Qe*Qe+Rt*Rt,Kt=ln*S-Et*B,hn=(S*Jt-B*Ct)/(Kt*2)-L,Bn=(B*ee-S*Ee)/Kt,jn=(ln*Ct-Et*Jt)/(Kt*2)-V,Vn=(Et*Ee-ln*ee)/Kt,Xr=Bn*Bn+Vn*Vn-1,Wr=2*(be+hn*Bn+jn*Vn),yr=hn*hn+jn*jn-be*be,Pr=-(Xr?(Wr+Math.sqrt(Wr*Wr-4*Xr*yr))/(2*Xr):yr/Wr);return{x:L+hn+Bn*Pr,y:V+jn+Vn*Pr,r:Pr}}function It(Re,He,At){var L=Re.x-He.x,V,be,pe=Re.y-He.y,Y,oe,ce=L*L+pe*pe;ce?(be=He.r+At.r,be*=be,oe=Re.r+At.r,oe*=oe,be>oe?(V=(ce+oe-be)/(2*ce),Y=Math.sqrt(Math.max(0,oe/ce-V*V)),At.x=Re.x-V*L-Y*pe,At.y=Re.y-V*pe+Y*L):(V=(ce+be-oe)/(2*ce),Y=Math.sqrt(Math.max(0,be/ce-V*V)),At.x=He.x+V*L-Y*pe,At.y=He.y+V*pe+Y*L)):(At.x=He.x+At.r,At.y=He.y)}function cn(Re,He){var At=Re.r+He.r-1e-6,L=He.x-Re.x,V=He.y-Re.y;return At>0&&At*At>L*L+V*V}function it(Re){var He=Re._,At=Re.next._,L=He.r+At.r,V=(He.x*At.r+At.x*He.r)/L,be=(He.y*At.r+At.y*He.r)/L;return V*V+be*be}function ue(Re){this._=Re,this.next=null,this.previous=null}function De(Re){if(!(V=(Re=Xe(Re)).length))return 0;var He,At,L,V,be,pe,Y,oe,ce,Qe,Rt;if(He=Re[0],He.x=0,He.y=0,!(V>1))return He.r;if(At=Re[1],He.x=-At.r,At.x=He.r,At.y=0,!(V>2))return He.r+At.r;It(At,He,L=Re[2]),He=new ue(He),At=new ue(At),L=new ue(L),He.next=L.previous=At,At.next=He.previous=L,L.next=At.previous=He;e:for(Y=3;Y<V;++Y){It(He._,At._,L=Re[Y]),L=new ue(L),oe=At.next,ce=He.previous,Qe=At._.r,Rt=He._.r;do if(Qe<=Rt){if(cn(oe._,L._)){At=oe,He.next=At,At.previous=He,--Y;continue e}Qe+=oe._.r,oe=oe.next}else{if(cn(ce._,L._)){He=ce,He.next=At,At.previous=He,--Y;continue e}Rt+=ce._.r,ce=ce.previous}while(oe!==ce.next);for(L.previous=He,L.next=At,He.next=At.previous=At=L,be=it(He);(L=L.next)!==At;)(pe=it(L))<be&&(He=L,be=pe);At=He.next}for(He=[At._],L=At;(L=L.next)!==At;)He.push(L._);for(L=ke(He),Y=0;Y<V;++Y)He=Re[Y],He.x-=L.x,He.y-=L.y;return L.r}function ve(Re){return Re==null?null:le(Re)}function le(Re){if(typeof Re!="function")throw new Error;return Re}function st(){return 0}function Ze(Re){return function(){return Re}}function Le(Re){return Math.sqrt(Re.value)}function vt(){var Re=null,He=1,At=1,L=st;function V(be){return be.x=He/2,be.y=At/2,Re?be.eachBefore($t(Re)).eachAfter(Mt(L,.5)).eachBefore(Vt(1)):be.eachBefore($t(Le)).eachAfter(Mt(st,1)).eachAfter(Mt(L,be.r/Math.min(He,At))).eachBefore(Vt(Math.min(He,At)/(2*be.r))),be}return V.radius=function(be){return arguments.length?(Re=ve(be),V):Re},V.size=function(be){return arguments.length?(He=+be[0],At=+be[1],V):[He,At]},V.padding=function(be){return arguments.length?(L=typeof be=="function"?be:Ze(+be),V):L},V}function $t(Re){return function(He){He.children||(He.r=Math.max(0,+Re(He)||0))}}function Mt(Re,He){return function(At){if(L=At.children){var L,V,be=L.length,pe=Re(At)*He||0,Y;if(pe)for(V=0;V<be;++V)L[V].r+=pe;if(Y=De(L),pe)for(V=0;V<be;++V)L[V].r-=pe;At.r=Y+pe}}}function Vt(Re){return function(He){var At=He.parent;He.r*=Re,At&&(He.x=At.x+Re*He.x,He.y=At.y+Re*He.y)}}function tn(Re){Re.x0=Math.round(Re.x0),Re.y0=Math.round(Re.y0),Re.x1=Math.round(Re.x1),Re.y1=Math.round(Re.y1)}function en(Re,He,At,L,V){for(var be=Re.children,pe,Y=-1,oe=be.length,ce=Re.value&&(L-He)/Re.value;++Y<oe;)pe=be[Y],pe.y0=At,pe.y1=V,pe.x0=He,pe.x1=He+=pe.value*ce}function En(){var Re=1,He=1,At=0,L=!1;function V(pe){var Y=pe.height+1;return pe.x0=pe.y0=At,pe.x1=Re,pe.y1=He/Y,pe.eachBefore(be(He,Y)),L&&pe.eachBefore(tn),pe}function be(pe,Y){return function(oe){oe.children&&en(oe,oe.x0,pe*(oe.depth+1)/Y,oe.x1,pe*(oe.depth+2)/Y);var ce=oe.x0,Qe=oe.y0,Rt=oe.x1-At,Et=oe.y1-At;Rt<ce&&(ce=Rt=(ce+Rt)/2),Et<Qe&&(Qe=Et=(Qe+Et)/2),oe.x0=ce,oe.y0=Qe,oe.x1=Rt,oe.y1=Et}}return V.round=function(pe){return arguments.length?(L=!!pe,V):L},V.size=function(pe){return arguments.length?(Re=+pe[0],He=+pe[1],V):[Re,He]},V.padding=function(pe){return arguments.length?(At=+pe,V):At},V}var Fn={depth:-1},On={},qt={};function pn(Re){return Re.id}function qn(Re){return Re.parentId}function or(){var Re=pn,He=qn,At;function L(V){var be=Array.from(V),pe=Re,Y=He,oe,ce,Qe,Rt,Et,ln,S,B,ee=new Map;if(At!=null){let Ee=be.map((Jt,Kt)=>In(At(Jt,Kt,V))),ft=Ee.map(Ne),Ct=new Set(Ee).add("");for(let Jt of ft)Ct.has(Jt)||(Ct.add(Jt),Ee.push(Jt),ft.push(Ne(Jt)),be.push(qt));pe=(Jt,Kt)=>Ee[Kt],Y=(Jt,Kt)=>ft[Kt]}for(Qe=0,oe=be.length;Qe<oe;++Qe)ce=be[Qe],ln=be[Qe]=new te(ce),(S=pe(ce,Qe,V))!=null&&(S+="")&&(B=ln.id=S,ee.set(B,ee.has(B)?On:ln)),(S=Y(ce,Qe,V))!=null&&(S+="")&&(ln.parent=S);for(Qe=0;Qe<oe;++Qe)if(ln=be[Qe],S=ln.parent){if(Et=ee.get(S),!Et)throw new Error("missing: "+S);if(Et===On)throw new Error("ambiguous: "+S);Et.children?Et.children.push(ln):Et.children=[ln],ln.parent=Et}else{if(Rt)throw new Error("multiple roots");Rt=ln}if(!Rt)throw new Error("no root");if(At!=null){for(;Rt.data===qt&&Rt.children.length===1;)Rt=Rt.children[0],--oe;for(let Ee=be.length-1;Ee>=0&&(ln=be[Ee],ln.data===qt);--Ee)ln.data=null}if(Rt.parent=Fn,Rt.eachBefore(function(Ee){Ee.depth=Ee.parent.depth+1,--oe}).eachBefore(je),Rt.parent=null,oe>0)throw new Error("cycle");return Rt}return L.id=function(V){return arguments.length?(Re=ve(V),L):Re},L.parentId=function(V){return arguments.length?(He=ve(V),L):He},L.path=function(V){return arguments.length?(At=ve(V),L):At},L}function In(Re){Re=`${Re}`;let He=Re.length;return $e(Re,He-1)&&!$e(Re,He-2)&&(Re=Re.slice(0,-1)),Re[0]==="/"?Re:`/${Re}`}function Ne(Re){let He=Re.length;if(He<2)return"";for(;--He>1&&!$e(Re,He););return Re.slice(0,He)}function $e(Re,He){if(Re[He]==="/"){let At=0;for(;He>0&&Re[--He]==="\\";)++At;if((At&1)===0)return!0}return!1}function Oe(Re,He){return Re.parent===He.parent?1:2}function jt(Re){var He=Re.children;return He?He[0]:Re.t}function yt(Re){var He=Re.children;return He?He[He.length-1]:Re.t}function mt(Re,He,At){var L=At/(He.i-Re.i);He.c-=L,He.s+=At,Re.c+=L,He.z+=At,He.m+=At}function nn(Re){for(var He=0,At=0,L=Re.children,V=L.length,be;--V>=0;)be=L[V],be.z+=He,be.m+=He,He+=be.s+(At+=be.c)}function Wt(Re,He,At){return Re.a.parent===He.parent?Re.a:At}function Dn(Re,He){this._=Re,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=He}Dn.prototype=Object.create(te.prototype);function Qn(Re){for(var He=new Dn(Re,0),At,L=[He],V,be,pe,Y;At=L.pop();)if(be=At._.children)for(At.children=new Array(Y=be.length),pe=Y-1;pe>=0;--pe)L.push(V=At.children[pe]=new Dn(be[pe],pe)),V.parent=At;return(He.parent=new Dn(null,0)).children=[He],He}function Zn(){var Re=Oe,He=1,At=1,L=null;function V(ce){var Qe=Qn(ce);if(Qe.eachAfter(be),Qe.parent.m=-Qe.z,Qe.eachBefore(pe),L)ce.eachBefore(oe);else{var Rt=ce,Et=ce,ln=ce;ce.eachBefore(function(ft){ft.x<Rt.x&&(Rt=ft),ft.x>Et.x&&(Et=ft),ft.depth>ln.depth&&(ln=ft)});var S=Rt===Et?1:Re(Rt,Et)/2,B=S-Rt.x,ee=He/(Et.x+S+B),Ee=At/(ln.depth||1);ce.eachBefore(function(ft){ft.x=(ft.x+B)*ee,ft.y=ft.depth*Ee})}return ce}function be(ce){var Qe=ce.children,Rt=ce.parent.children,Et=ce.i?Rt[ce.i-1]:null;if(Qe){nn(ce);var ln=(Qe[0].z+Qe[Qe.length-1].z)/2;Et?(ce.z=Et.z+Re(ce._,Et._),ce.m=ce.z-ln):ce.z=ln}else Et&&(ce.z=Et.z+Re(ce._,Et._));ce.parent.A=Y(ce,Et,ce.parent.A||Rt[0])}function pe(ce){ce._.x=ce.z+ce.parent.m,ce.m+=ce.parent.m}function Y(ce,Qe,Rt){if(Qe){for(var Et=ce,ln=ce,S=Qe,B=Et.parent.children[0],ee=Et.m,Ee=ln.m,ft=S.m,Ct=B.m,Jt;S=yt(S),Et=jt(Et),S&&Et;)B=jt(B),ln=yt(ln),ln.a=ce,Jt=S.z+ft-Et.z-ee+Re(S._,Et._),Jt>0&&(mt(Wt(S,ce,Rt),ce,Jt),ee+=Jt,Ee+=Jt),ft+=S.m,ee+=Et.m,Ct+=B.m,Ee+=ln.m;S&&!yt(ln)&&(ln.t=S,ln.m+=ft-Ee),Et&&!jt(B)&&(B.t=Et,B.m+=ee-Ct,Rt=ce)}return Rt}function oe(ce){ce.x*=He,ce.y=ce.depth*At}return V.separation=function(ce){return arguments.length?(Re=ce,V):Re},V.size=function(ce){return arguments.length?(L=!1,He=+ce[0],At=+ce[1],V):L?null:[He,At]},V.nodeSize=function(ce){return arguments.length?(L=!0,He=+ce[0],At=+ce[1],V):L?[He,At]:null},V}function Pn(Re,He,At,L,V){for(var be=Re.children,pe,Y=-1,oe=be.length,ce=Re.value&&(V-At)/Re.value;++Y<oe;)pe=be[Y],pe.x0=He,pe.x1=L,pe.y0=At,pe.y1=At+=pe.value*ce}var ar=(1+Math.sqrt(5))/2;function Ye(Re,He,At,L,V,be){for(var pe=[],Y=He.children,oe,ce,Qe=0,Rt=0,Et=Y.length,ln,S,B=He.value,ee,Ee,ft,Ct,Jt,Kt,hn;Qe<Et;){ln=V-At,S=be-L;do ee=Y[Rt++].value;while(!ee&&Rt<Et);for(Ee=ft=ee,Kt=Math.max(S/ln,ln/S)/(B*Re),hn=ee*ee*Kt,Jt=Math.max(ft/hn,hn/Ee);Rt<Et;++Rt){if(ee+=ce=Y[Rt].value,ce<Ee&&(Ee=ce),ce>ft&&(ft=ce),hn=ee*ee*Kt,Ct=Math.max(ft/hn,hn/Ee),Ct>Jt){ee-=ce;break}Jt=Ct}pe.push(oe={value:ee,dice:ln<S,children:Y.slice(Qe,Rt)}),oe.dice?en(oe,At,L,V,B?L+=S*ee/B:be):Pn(oe,At,L,B?At+=ln*ee/B:V,be),B-=ee,Qe=Rt}return pe}var gt=function Re(He){function At(L,V,be,pe,Y){Ye(He,L,V,be,pe,Y)}return At.ratio=function(L){return Re((L=+L)>1?L:1)},At}(ar);function se(){var Re=gt,He=!1,At=1,L=1,V=[0],be=st,pe=st,Y=st,oe=st,ce=st;function Qe(Et){return Et.x0=Et.y0=0,Et.x1=At,Et.y1=L,Et.eachBefore(Rt),V=[0],He&&Et.eachBefore(tn),Et}function Rt(Et){var ln=V[Et.depth],S=Et.x0+ln,B=Et.y0+ln,ee=Et.x1-ln,Ee=Et.y1-ln;ee<S&&(S=ee=(S+ee)/2),Ee<B&&(B=Ee=(B+Ee)/2),Et.x0=S,Et.y0=B,Et.x1=ee,Et.y1=Ee,Et.children&&(ln=V[Et.depth+1]=be(Et)/2,S+=ce(Et)-ln,B+=pe(Et)-ln,ee-=Y(Et)-ln,Ee-=oe(Et)-ln,ee<S&&(S=ee=(S+ee)/2),Ee<B&&(B=Ee=(B+Ee)/2),Re(Et,S,B,ee,Ee))}return Qe.round=function(Et){return arguments.length?(He=!!Et,Qe):He},Qe.size=function(Et){return arguments.length?(At=+Et[0],L=+Et[1],Qe):[At,L]},Qe.tile=function(Et){return arguments.length?(Re=le(Et),Qe):Re},Qe.padding=function(Et){return arguments.length?Qe.paddingInner(Et).paddingOuter(Et):Qe.paddingInner()},Qe.paddingInner=function(Et){return arguments.length?(be=typeof Et=="function"?Et:Ze(+Et),Qe):be},Qe.paddingOuter=function(Et){return arguments.length?Qe.paddingTop(Et).paddingRight(Et).paddingBottom(Et).paddingLeft(Et):Qe.paddingTop()},Qe.paddingTop=function(Et){return arguments.length?(pe=typeof Et=="function"?Et:Ze(+Et),Qe):pe},Qe.paddingRight=function(Et){return arguments.length?(Y=typeof Et=="function"?Et:Ze(+Et),Qe):Y},Qe.paddingBottom=function(Et){return arguments.length?(oe=typeof Et=="function"?Et:Ze(+Et),Qe):oe},Qe.paddingLeft=function(Et){return arguments.length?(ce=typeof Et=="function"?Et:Ze(+Et),Qe):ce},Qe}function qe(Re,He,At,L,V){var be=Re.children,pe,Y=be.length,oe,ce=new Array(Y+1);for(ce[0]=oe=pe=0;pe<Y;++pe)ce[pe+1]=oe+=be[pe].value;Qe(0,Y,Re.value,He,At,L,V);function Qe(Rt,Et,ln,S,B,ee,Ee){if(Rt>=Et-1){var ft=be[Rt];ft.x0=S,ft.y0=B,ft.x1=ee,ft.y1=Ee;return}for(var Ct=ce[Rt],Jt=ln/2+Ct,Kt=Rt+1,hn=Et-1;Kt<hn;){var Bn=Kt+hn>>>1;ce[Bn]<Jt?Kt=Bn+1:hn=Bn}Jt-ce[Kt-1]<ce[Kt]-Jt&&Rt+1<Kt&&--Kt;var jn=ce[Kt]-Ct,Vn=ln-jn;if(ee-S>Ee-B){var Xr=ln?(S*Vn+ee*jn)/ln:ee;Qe(Rt,Kt,jn,S,B,Xr,Ee),Qe(Kt,Et,Vn,Xr,B,ee,Ee)}else{var Wr=ln?(B*Vn+Ee*jn)/ln:Ee;Qe(Rt,Kt,jn,S,B,ee,Wr),Qe(Kt,Et,Vn,S,Wr,ee,Ee)}}}function et(Re,He,At,L,V){(Re.depth&1?Pn:en)(Re,He,At,L,V)}var Tt=function Re(He){function At(L,V,be,pe,Y){if((oe=L._squarify)&&oe.ratio===He)for(var oe,ce,Qe,Rt,Et=-1,ln,S=oe.length,B=L.value;++Et<S;){for(ce=oe[Et],Qe=ce.children,Rt=ce.value=0,ln=Qe.length;Rt<ln;++Rt)ce.value+=Qe[Rt].value;ce.dice?en(ce,V,be,pe,B?be+=(Y-be)*ce.value/B:Y):Pn(ce,V,be,B?V+=(pe-V)*ce.value/B:pe,Y),B-=ce.value}else L._squarify=oe=Ye(He,L,V,be,pe,Y),oe.ratio=He}return At.ratio=function(L){return Re((L=+L)>1?L:1)},At}(ar);function fn(Re){e.Transform.call(this,null,Re)}fn.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};let on=Re=>Re.values;t.inherits(fn,e.Transform,{transform(Re,He){He.source||t.error("Nest transform requires an upstream data source.");var At=Re.generate,L=Re.modified(),V=He.clone(),be=this.value;return(!be||L||He.changed())&&(be&&be.each(pe=>{pe.children&&e.isTuple(pe.data)&&V.rem.push(pe.data)}),this.value=be=at({values:t.array(Re.keys).reduce((pe,Y)=>(pe.key(Y),pe),ct()).entries(V.source)},on),At&&be.each(pe=>{pe.children&&(pe=e.ingest(pe.data),V.add.push(pe),V.source.push(pe))}),r(be,e.tupleid,e.tupleid)),V.source.root=be,V}});function ct(){let Re=[],He={entries:V=>L(At(V,0),0),key:V=>(Re.push(V),He)};function At(V,be){if(be>=Re.length)return V;let pe=V.length,Y=Re[be++],oe={},ce={},Qe=-1,Rt,Et,ln;for(;++Qe<pe;)Rt=Y(Et=V[Qe])+"",(ln=oe[Rt])?ln.push(Et):oe[Rt]=[Et];for(Rt in oe)ce[Rt]=At(oe[Rt],be);return ce}function L(V,be){if(++be>Re.length)return V;let pe=[];for(let Y in V)pe.push({key:Y,values:L(V[Y],be)});return pe}return He}function ie(Re){e.Transform.call(this,null,Re)}let Te=(Re,He)=>Re.parent===He.parent?1:2;t.inherits(ie,e.Transform,{transform(Re,He){(!He.source||!He.source.root)&&t.error(this.constructor.name+" transform requires a backing tree data source.");let At=this.layout(Re.method),L=this.fields,V=He.source.root,be=Re.as||L;Re.field?V.sum(Re.field):V.count(),Re.sort&&V.sort(e.stableCompare(Re.sort,pe=>pe.data)),ze(At,this.params,Re),At.separation&&At.separation(Re.separation!==!1?Te:t.one);try{this.value=At(V)}catch(pe){t.error(pe)}return V.each(pe=>ht(pe,L,be)),He.reflow(Re.modified()).modifies(be).modifies("leaf")}});function ze(Re,He,At){for(let L,V=0,be=He.length;V<be;++V)L=He[V],L in At&&Re[L](At[L])}function ht(Re,He,At){let L=Re.data,V=He.length-1;for(let be=0;be<V;++be)L[At[be]]=Re[He[be]];L[At[V]]=Re.children?Re.children.length:0}let _t=["x","y","r","depth","children"];function Dt(Re){ie.call(this,Re)}Dt.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:_t.length,default:_t}]},t.inherits(Dt,ie,{layout:vt,params:["radius","size","padding"],fields:_t});let ne=["x0","y0","x1","y1","depth","children"];function we(Re){ie.call(this,Re)}we.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ne.length,default:ne}]},t.inherits(we,ie,{layout:En,params:["size","round","padding"],fields:ne});function We(Re){e.Transform.call(this,null,Re)}We.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},t.inherits(We,e.Transform,{transform(Re,He){He.source||t.error("Stratify transform requires an upstream data source.");let At=this.value,L=Re.modified(),V=He.fork(He.ALL).materialize(He.SOURCE),be=!At||L||He.changed(He.ADD_REM)||He.modified(Re.key.fields)||He.modified(Re.parentKey.fields);return V.source=V.source.slice(),be&&(At=V.source.length?r(or().id(Re.key).parentId(Re.parentKey)(V.source),Re.key,t.truthy):r(or()([{}]),Re.key,Re.key)),V.source.root=this.value=At,V}});let nt={tidy:Zn,cluster:E},Pt=["x","y","depth","children"];function sn(Re){ie.call(this,Re)}sn.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Pt.length,default:Pt}]},t.inherits(sn,ie,{layout(Re){let He=Re||"tidy";if(t.hasOwnProperty(nt,He))return nt[He]();t.error("Unrecognized Tree layout method: "+He)},params:["size","nodeSize"],fields:Pt});function wn(Re){e.Transform.call(this,[],Re)}wn.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},t.inherits(wn,e.Transform,{transform(Re,He){let At=this.value,L=He.source&&He.source.root,V=He.fork(He.NO_SOURCE),be={};return L||t.error("TreeLinks transform requires a tree data source."),He.changed(He.ADD_REM)?(V.rem=At,He.visit(He.SOURCE,pe=>be[e.tupleid(pe)]=1),L.each(pe=>{let Y=pe.data,oe=pe.parent&&pe.parent.data;oe&&be[e.tupleid(Y)]&&be[e.tupleid(oe)]&&V.add.push(e.ingest({source:oe,target:Y}))}),this.value=V.add):He.changed(He.MOD)&&(He.visit(He.MOD,pe=>be[e.tupleid(pe)]=1),At.forEach(pe=>{(be[e.tupleid(pe.source)]||be[e.tupleid(pe.target)])&&V.mod.push(pe)})),V}});let yn={binary:qe,dice:en,slice:Pn,slicedice:et,squarify:gt,resquarify:Tt},xn=["x0","y0","x1","y1","depth","children"];function zn(Re){ie.call(this,Re)}zn.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:xn.length,default:xn}]},t.inherits(zn,ie,{layout(){let Re=se();return Re.ratio=He=>{let At=Re.tile();At.ratio&&Re.tile(At.ratio(He))},Re.method=He=>{t.hasOwnProperty(yn,He)?Re.tile(yn[He]):t.error("Unrecognized Treemap layout method: "+He)},Re},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:xn}),n.nest=fn,n.pack=Dt,n.partition=we,n.stratify=We,n.tree=sn,n.treelinks=wn,n.treemap=zn,Object.defineProperty(n,"__esModule",{value:!0})})});var XAe=Ae((JH,JAe)=>{m();(function(n,e){typeof JH=="object"&&typeof JAe!="undefined"?e(JH,yC(),oR(),Xf(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega))})(JH,function(n,e,t,r,i){"use strict";let s=4278190080;function o(It,cn){let it=It.bitmap();return(cn||[]).forEach(ue=>it.set(It(ue.boundary[0]),It(ue.boundary[3]))),[it,void 0]}function a(It,cn,it,ue,De){let ve=It.width,le=It.height,st=ue||De,Ze=t.canvas(ve,le).getContext("2d"),Le=t.canvas(ve,le).getContext("2d"),vt=st&&t.canvas(ve,le).getContext("2d");it.forEach(Ne=>d(Ze,Ne,!1)),d(Le,cn,!1),st&&d(vt,cn,!0);let $t=c(Ze,ve,le),Mt=c(Le,ve,le),Vt=st&&c(vt,ve,le),tn=It.bitmap(),en=st&&It.bitmap(),En,Fn,On,qt,pn,qn,or,In;for(Fn=0;Fn<le;++Fn)for(En=0;En<ve;++En)pn=Fn*ve+En,qn=$t[pn]&s,In=Mt[pn]&s,or=st&&Vt[pn]&s,(qn||or||In)&&(On=It(En),qt=It(Fn),!De&&(qn||In)&&tn.set(On,qt),st&&(qn||or)&&en.set(On,qt));return[tn,en]}function c(It,cn,it){return new Uint32Array(It.getImageData(0,0,cn,it).data.buffer)}function d(It,cn,it){if(!cn.length)return;let ue=cn[0].mark.marktype;ue==="group"?cn.forEach(De=>{De.items.forEach(ve=>d(It,ve.items,it))}):e.Marks[ue].draw(It,{items:it?cn.map(p):cn})}function p(It){let cn=r.rederive(It,{});return cn.stroke&&cn.strokeOpacity!==0||cn.fill&&cn.fillOpacity!==0?{...cn,strokeOpacity:1,stroke:"#000",fillOpacity:0}:cn}let E=5,w=31,N=32,R=new Uint32Array(N+1),U=new Uint32Array(N+1);U[0]=0,R[0]=~U[0];for(let It=1;It<=N;++It)U[It]=U[It-1]<<1|1,R[It]=~U[It];function Q(It,cn){let it=new Uint32Array(~~((It*cn+N)/N));function ue(ve,le){it[ve]|=le}function De(ve,le){it[ve]&=le}return{array:it,get:(ve,le)=>{let st=le*It+ve;return it[st>>>E]&1<<(st&w)},set:(ve,le)=>{let st=le*It+ve;ue(st>>>E,1<<(st&w))},clear:(ve,le)=>{let st=le*It+ve;De(st>>>E,~(1<<(st&w)))},getRange:(ve,le,st,Ze)=>{let Le=Ze,vt,$t,Mt,Vt;for(;Le>=le;--Le)if(vt=Le*It+ve,$t=Le*It+st,Mt=vt>>>E,Vt=$t>>>E,Mt===Vt){if(it[Mt]&R[vt&w]&U[($t&w)+1])return!0}else{if(it[Mt]&R[vt&w]||it[Vt]&U[($t&w)+1])return!0;for(let tn=Mt+1;tn<Vt;++tn)if(it[tn])return!0}return!1},setRange:(ve,le,st,Ze)=>{let Le,vt,$t,Mt,Vt;for(;le<=Ze;++le)if(Le=le*It+ve,vt=le*It+st,$t=Le>>>E,Mt=vt>>>E,$t===Mt)ue($t,R[Le&w]&U[(vt&w)+1]);else for(ue($t,R[Le&w]),ue(Mt,U[(vt&w)+1]),Vt=$t+1;Vt<Mt;++Vt)ue(Vt,4294967295)},clearRange:(ve,le,st,Ze)=>{let Le,vt,$t,Mt,Vt;for(;le<=Ze;++le)if(Le=le*It+ve,vt=le*It+st,$t=Le>>>E,Mt=vt>>>E,$t===Mt)De($t,U[Le&w]|R[(vt&w)+1]);else for(De($t,U[Le&w]),De(Mt,R[(vt&w)+1]),Vt=$t+1;Vt<Mt;++Vt)De(Vt,0)},outOfBounds:(ve,le,st,Ze)=>ve<0||le<0||Ze>=cn||st>=It}}function P(It,cn,it){let ue=Math.max(1,Math.sqrt(It*cn/1e6)),De=~~((It+2*it+ue)/ue),ve=~~((cn+2*it+ue)/ue),le=st=>~~((st+it)/ue);return le.invert=st=>st*ue-it,le.bitmap=()=>Q(De,ve),le.ratio=ue,le.padding=it,le.width=It,le.height=cn,le}function j(It,cn,it,ue){let De=It.width,ve=It.height;return function(le){let st=le.datum.datum.items[ue].items,Ze=st.length,Le=le.datum.fontSize,vt=e.textMetrics.width(le.datum,le.datum.text),$t=0,Mt,Vt,tn,en,En,Fn,On;for(let qt=0;qt<Ze;++qt)Mt=st[qt].x,tn=st[qt].y,Vt=st[qt].x2===void 0?Mt:st[qt].x2,en=st[qt].y2===void 0?tn:st[qt].y2,En=(Mt+Vt)/2,Fn=(tn+en)/2,On=Math.abs(Vt-Mt+en-tn),On>=$t&&($t=On,le.x=En,le.y=Fn);return En=vt/2,Fn=Le/2,Mt=le.x-En,Vt=le.x+En,tn=le.y-Fn,en=le.y+Fn,le.align="center",Mt<0&&Vt<=De?le.align="left":0<=Mt&&De<Vt&&(le.align="right"),le.baseline="middle",tn<0&&en<=ve?le.baseline="top":0<=tn&&ve<en&&(le.baseline="bottom"),!0}}function I(It,cn,it,ue,De,ve){let le=it/2;return It-le<0||It+le>De||cn-(le=ue/2)<0||cn+le>ve}function K(It,cn,it,ue,De,ve,le,st){let Ze=De*ve/(ue*2),Le=It(cn-Ze),vt=It(cn+Ze),$t=It(it-(ve=ve/2)),Mt=It(it+ve);return le.outOfBounds(Le,$t,vt,Mt)||le.getRange(Le,$t,vt,Mt)||st&&st.getRange(Le,$t,vt,Mt)}function de(It,cn,it,ue){let De=It.width,ve=It.height,le=cn[0],st=cn[1];function Ze(Le,vt,$t,Mt,Vt){let tn=It.invert(Le),en=It.invert(vt),En=$t,Fn=ve,On;if(!I(tn,en,Mt,Vt,De,ve)&&!K(It,tn,en,Vt,Mt,En,le,st)&&!K(It,tn,en,Vt,Mt,Vt,le,null)){for(;Fn-En>=1;)On=(En+Fn)/2,K(It,tn,en,Vt,Mt,On,le,st)?Fn=On:En=On;if(En>$t)return[tn,en,En,!0]}}return function(Le){let vt=Le.datum.datum.items[ue].items,$t=vt.length,Mt=Le.datum.fontSize,Vt=e.textMetrics.width(Le.datum,Le.datum.text),tn=it?Mt:0,en=!1,En=!1,Fn=0,On,qt,pn,qn,or,In,Ne,$e,Oe,jt,yt,mt,nn,Wt,Dn,Qn,Zn;for(let Pn=0;Pn<$t;++Pn){for(On=vt[Pn].x,pn=vt[Pn].y,qt=vt[Pn].x2===void 0?On:vt[Pn].x2,qn=vt[Pn].y2===void 0?pn:vt[Pn].y2,On>qt&&(Zn=On,On=qt,qt=Zn),pn>qn&&(Zn=pn,pn=qn,qn=Zn),Oe=It(On),yt=It(qt),jt=~~((Oe+yt)/2),mt=It(pn),Wt=It(qn),nn=~~((mt+Wt)/2),Ne=jt;Ne>=Oe;--Ne)for($e=nn;$e>=mt;--$e)Qn=Ze(Ne,$e,tn,Vt,Mt),Qn&&([Le.x,Le.y,tn,en]=Qn);for(Ne=jt;Ne<=yt;++Ne)for($e=nn;$e<=Wt;++$e)Qn=Ze(Ne,$e,tn,Vt,Mt),Qn&&([Le.x,Le.y,tn,en]=Qn);!en&&!it&&(Dn=Math.abs(qt-On+qn-pn),or=(On+qt)/2,In=(pn+qn)/2,Dn>=Fn&&!I(or,In,Vt,Mt,De,ve)&&!K(It,or,In,Mt,Vt,Mt,le,null)&&(Fn=Dn,Le.x=or,Le.y=In,En=!0))}return en||En?(or=Vt/2,In=Mt/2,le.setRange(It(Le.x-or),It(Le.y-In),It(Le.x+or),It(Le.y+In)),Le.align="center",Le.baseline="middle",!0):!1}}let M=[-1,-1,1,1],Z=[-1,1,-1,1];function me(It,cn,it,ue){let De=It.width,ve=It.height,le=cn[0],st=cn[1],Ze=It.bitmap();return function(Le){let vt=Le.datum.datum.items[ue].items,$t=vt.length,Mt=Le.datum.fontSize,Vt=e.textMetrics.width(Le.datum,Le.datum.text),tn=[],en=it?Mt:0,En=!1,Fn=!1,On=0,qt,pn,qn,or,In,Ne,$e,Oe,jt,yt,mt,nn;for(let Wt=0;Wt<$t;++Wt){for(qt=vt[Wt].x,qn=vt[Wt].y,pn=vt[Wt].x2===void 0?qt:vt[Wt].x2,or=vt[Wt].y2===void 0?qn:vt[Wt].y2,tn.push([It((qt+pn)/2),It((qn+or)/2)]);tn.length;)if([$e,Oe]=tn.pop(),!(le.get($e,Oe)||st.get($e,Oe)||Ze.get($e,Oe))){Ze.set($e,Oe);for(let Dn=0;Dn<4;++Dn)In=$e+M[Dn],Ne=Oe+Z[Dn],Ze.outOfBounds(In,Ne,In,Ne)||tn.push([In,Ne]);if(In=It.invert($e),Ne=It.invert(Oe),jt=en,yt=ve,!I(In,Ne,Vt,Mt,De,ve)&&!K(It,In,Ne,Mt,Vt,jt,le,st)&&!K(It,In,Ne,Mt,Vt,Mt,le,null)){for(;yt-jt>=1;)mt=(jt+yt)/2,K(It,In,Ne,Mt,Vt,mt,le,st)?yt=mt:jt=mt;jt>en&&(Le.x=In,Le.y=Ne,en=jt,En=!0)}}!En&&!it&&(nn=Math.abs(pn-qt+or-qn),In=(qt+pn)/2,Ne=(qn+or)/2,nn>=On&&!I(In,Ne,Vt,Mt,De,ve)&&!K(It,In,Ne,Mt,Vt,Mt,le,null)&&(On=nn,Le.x=In,Le.y=Ne,Fn=!0))}return En||Fn?(In=Vt/2,Ne=Mt/2,le.setRange(It(Le.x-In),It(Le.y-Ne),It(Le.x+In),It(Le.y+Ne)),Le.align="center",Le.baseline="middle",!0):!1}}let _e=["right","center","left"],Ve=["bottom","middle","top"];function at(It,cn,it,ue){let De=It.width,ve=It.height,le=cn[0],st=cn[1],Ze=ue.length;return function(Le){let vt=Le.boundary,$t=Le.datum.fontSize;if(vt[2]<0||vt[5]<0||vt[0]>De||vt[3]>ve)return!1;let Mt=Le.textWidth??0,Vt,tn,en,En,Fn,On,qt,pn,qn,or,In,Ne,$e,Oe,jt;for(let yt=0;yt<Ze;++yt){if(Vt=(it[yt]&3)-1,tn=(it[yt]>>>2&3)-1,en=Vt===0&&tn===0||ue[yt]<0,En=Vt&&tn?Math.SQRT1_2:1,Fn=ue[yt]<0?-1:1,On=vt[1+Vt]+ue[yt]*Vt*En,In=vt[4+tn]+Fn*$t*tn/2+ue[yt]*tn*En,pn=In-$t/2,qn=In+$t/2,Ne=It(On),Oe=It(pn),jt=It(qn),!Mt)if(lt(Ne,Ne,Oe,jt,le,st,On,On,pn,qn,vt,en))Mt=e.textMetrics.width(Le.datum,Le.datum.text);else continue;if(or=On+Fn*Mt*Vt/2,On=or-Mt/2,qt=or+Mt/2,Ne=It(On),$e=It(qt),lt(Ne,$e,Oe,jt,le,st,On,qt,pn,qn,vt,en))return Le.x=Vt?Vt*Fn<0?qt:On:or,Le.y=tn?tn*Fn<0?qn:pn:In,Le.align=_e[Vt*Fn+1],Le.baseline=Ve[tn*Fn+1],le.setRange(Ne,Oe,$e,jt),!0}return!1}}function lt(It,cn,it,ue,De,ve,le,st,Ze,Le,vt,$t){return!(De.outOfBounds(It,it,cn,ue)||($t&&ve||De).getRange(It,it,cn,ue))}let Ke=0,St=4,Ft=8,je=0,te=1,Xe=2,ye={"top-left":Ke+je,top:Ke+te,"top-right":Ke+Xe,left:St+je,middle:St+te,right:St+Xe,"bottom-left":Ft+je,bottom:Ft+te,"bottom-right":Ft+Xe},ke={naive:j,"reduced-search":de,floodfill:me};function Ce(It,cn,it,ue,De,ve,le,st,Ze,Le,vt){if(!It.length)return It;let $t=Math.max(ue.length,De.length),Mt=xe(ue,$t),Vt=Je(De,$t),tn=ut(It[0].datum),en=tn==="group"&&It[0].datum.items[Ze].marktype,En=en==="area",Fn=Qt(tn,en,st,Ze),On=Le===null||Le===1/0,qt=En&&vt==="naive",pn=-1,qn=-1,or=It.map(Oe=>{let jt=On?e.textMetrics.width(Oe,Oe.text):void 0;return pn=Math.max(pn,jt),qn=Math.max(qn,Oe.fontSize),{datum:Oe,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:Fn(Oe),textWidth:jt}});Le=Le===null||Le===1/0?Math.max(pn,qn)+Math.max(...ue):Le;let In=P(cn[0],cn[1],Le),Ne;if(!qt){it&&or.sort((yt,mt)=>it(yt.datum,mt.datum));let Oe=!1;for(let yt=0;yt<Vt.length&&!Oe;++yt)Oe=Vt[yt]===5||Mt[yt]<0;let jt=(tn&&le||En)&&It.map(yt=>yt.datum);Ne=ve.length||jt?a(In,jt||[],ve,Oe,En):o(In,le&&or)}let $e=En?ke[vt](In,Ne,le,Ze):at(In,Ne,Vt,Mt);return or.forEach(Oe=>Oe.opacity=+$e(Oe)),or}function xe(It,cn){let it=new Float64Array(cn),ue=It.length;for(let De=0;De<ue;++De)it[De]=It[De]||0;for(let De=ue;De<cn;++De)it[De]=it[ue-1];return it}function Je(It,cn){let it=new Int8Array(cn),ue=It.length;for(let De=0;De<ue;++De)it[De]|=ye[It[De]];for(let De=ue;De<cn;++De)it[De]=it[ue-1];return it}function ut(It){return It&&It.mark&&It.mark.marktype}function Qt(It,cn,it,ue){let De=ve=>[ve.x,ve.x,ve.x,ve.y,ve.y,ve.y];return It?It==="line"||It==="area"?ve=>De(ve.datum):cn==="line"?ve=>{let le=ve.datum.items[ue].items;return De(le.length?le[it==="start"?0:le.length-1]:{x:NaN,y:NaN})}:ve=>{let le=ve.datum.bounds;return[le.x1,(le.x1+le.x2)/2,le.x2,le.y1,(le.y1+le.y2)/2,le.y2]}:De}let wt=["x","y","opacity","align","baseline"],mn=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Lt(It){r.Transform.call(this,null,It)}Lt.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:mn},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:wt.length,default:wt}]},i.inherits(Lt,r.Transform,{transform(It,cn){function it(ve){let le=It[ve];return i.isFunction(le)&&cn.modified(le.fields)}let ue=It.modified();if(!(ue||cn.changed(cn.ADD_REM)||it("sort")))return;(!It.size||It.size.length!==2)&&i.error("Size parameter should be specified as a [width, height] array.");let De=It.as||wt;return Ce(cn.materialize(cn.SOURCE).source||[],It.size,It.sort,i.array(It.offset==null?1:It.offset),i.array(It.anchor||mn),It.avoidMarks||[],It.avoidBaseMark!==!1,It.lineAnchor||"end",It.markIndex||0,It.padding===void 0?0:It.padding,It.method||"naive").forEach(ve=>{let le=ve.datum;le[De[0]]=ve.x,le[De[1]]=ve.y,le[De[2]]=ve.opacity,le[De[3]]=ve.align,le[De[4]]=ve.baseline}),cn.reflow(ue).modifies(De)}}),n.label=Lt,Object.defineProperty(n,"__esModule",{value:!0})})});var eTe=Ae((XH,ZAe)=>{m();(function(n,e){typeof XH=="object"&&typeof ZAe!="undefined"?e(XH,wb(),Xf(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega))})(XH,function(n,e,t,r){"use strict";function i(d,p){var E=[],w=function(I){return I(Q)},N,R,U,Q,P,j;if(p==null)E.push(d);else for(N={},R=0,U=d.length;R<U;++R)Q=d[R],P=p.map(w),j=N[P],j||(N[P]=j=[],j.dims=P,E.push(j)),j.push(Q);return E}function s(d){t.Transform.call(this,null,d)}s.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},r.inherits(s,t.Transform,{transform(d,p){let E=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||d.modified()){let w=p.materialize(p.SOURCE).source,N=i(w,d.groupby),R=(d.groupby||[]).map(r.accessorName),U=R.length,Q=d.as||[r.accessorName(d.x),r.accessorName(d.y)],P=[];N.forEach(j=>{e.regressionLoess(j,d.x,d.y,d.bandwidth||.3).forEach(I=>{let K={};for(let de=0;de<U;++de)K[R[de]]=j.dims[de];K[Q[0]]=I[0],K[Q[1]]=I[1],P.push(t.ingest(K))})}),this.value&&(E.rem=this.value),this.value=E.add=E.source=P}return E}});let o={linear:e.regressionLinear,log:e.regressionLog,exp:e.regressionExp,pow:e.regressionPow,quad:e.regressionQuad,poly:e.regressionPoly},a=(d,p)=>d==="poly"?p:d==="quad"?2:1;function c(d){t.Transform.call(this,null,d)}c.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(o)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},r.inherits(c,t.Transform,{transform(d,p){let E=p.fork(p.NO_SOURCE|p.NO_FIELDS);if(!this.value||p.changed()||d.modified()){let w=p.materialize(p.SOURCE).source,N=i(w,d.groupby),R=(d.groupby||[]).map(r.accessorName),U=d.method||"linear",Q=d.order||3,P=a(U,Q),j=d.as||[r.accessorName(d.x),r.accessorName(d.y)],I=o[U],K=[],de=d.extent;r.hasOwnProperty(o,U)||r.error("Invalid regression method: "+U),de!=null&&U==="log"&&de[0]<=0&&(p.dataflow.warn("Ignoring extent with values <= 0 for log regression."),de=null),N.forEach(M=>{if(M.length<=P){p.dataflow.warn("Skipping regression with more parameters than data points.");return}let me=I(M,d.x,d.y,Q);if(d.params){K.push(t.ingest({keys:M.dims,coef:me.coef,rSquared:me.rSquared}));return}let _e=de||r.extent(M,d.x),Ve=at=>{let lt={};for(let Ke=0;Ke<R.length;++Ke)lt[R[Ke]]=M.dims[Ke];lt[j[0]]=at[0],lt[j[1]]=at[1],K.push(t.ingest(lt))};U==="linear"?_e.forEach(at=>Ve([at,me.predict(at)])):e.sampleCurve(me.predict,_e,25,200).forEach(Ve)}),this.value&&(E.rem=this.value),this.value=E.add=E.source=K}return E}}),n.loess=s,n.regression=c,Object.defineProperty(n,"__esModule",{value:!0})})});var nTe=Ae((ZH,tTe)=>{m();(function(n,e){typeof ZH=="object"&&typeof tTe!="undefined"?e(ZH,Xf(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(ZH,function(n,e,t){"use strict";let r=11102230246251565e-32,i=134217729,s=(3+8*r)*r;function o(it,ue,De,ve,le){let st,Ze,Le,vt,$t=ue[0],Mt=ve[0],Vt=0,tn=0;Mt>$t==Mt>-$t?(st=$t,$t=ue[++Vt]):(st=Mt,Mt=ve[++tn]);let en=0;if(Vt<it&&tn<De)for(Mt>$t==Mt>-$t?(Ze=$t+st,Le=st-(Ze-$t),$t=ue[++Vt]):(Ze=Mt+st,Le=st-(Ze-Mt),Mt=ve[++tn]),st=Ze,Le!==0&&(le[en++]=Le);Vt<it&&tn<De;)Mt>$t==Mt>-$t?(Ze=st+$t,vt=Ze-st,Le=st-(Ze-vt)+($t-vt),$t=ue[++Vt]):(Ze=st+Mt,vt=Ze-st,Le=st-(Ze-vt)+(Mt-vt),Mt=ve[++tn]),st=Ze,Le!==0&&(le[en++]=Le);for(;Vt<it;)Ze=st+$t,vt=Ze-st,Le=st-(Ze-vt)+($t-vt),$t=ue[++Vt],st=Ze,Le!==0&&(le[en++]=Le);for(;tn<De;)Ze=st+Mt,vt=Ze-st,Le=st-(Ze-vt)+(Mt-vt),Mt=ve[++tn],st=Ze,Le!==0&&(le[en++]=Le);return(st!==0||en===0)&&(le[en++]=st),en}function a(it,ue){let De=ue[0];for(let ve=1;ve<it;ve++)De+=ue[ve];return De}function c(it){return new Float64Array(it)}let d=(3+16*r)*r,p=(2+12*r)*r,E=(9+64*r)*r*r,w=c(4),N=c(8),R=c(12),U=c(16),Q=c(4);function P(it,ue,De,ve,le,st,Ze){let Le,vt,$t,Mt,Vt,tn,en,En,Fn,On,qt,pn,qn,or,In,Ne,$e,Oe,jt=it-le,yt=De-le,mt=ue-st,nn=ve-st;or=jt*nn,tn=i*jt,en=tn-(tn-jt),En=jt-en,tn=i*nn,Fn=tn-(tn-nn),On=nn-Fn,In=En*On-(or-en*Fn-En*Fn-en*On),Ne=mt*yt,tn=i*mt,en=tn-(tn-mt),En=mt-en,tn=i*yt,Fn=tn-(tn-yt),On=yt-Fn,$e=En*On-(Ne-en*Fn-En*Fn-en*On),qt=In-$e,Vt=In-qt,w[0]=In-(qt+Vt)+(Vt-$e),pn=or+qt,Vt=pn-or,qn=or-(pn-Vt)+(qt-Vt),qt=qn-Ne,Vt=qn-qt,w[1]=qn-(qt+Vt)+(Vt-Ne),Oe=pn+qt,Vt=Oe-pn,w[2]=pn-(Oe-Vt)+(qt-Vt),w[3]=Oe;let Wt=a(4,w),Dn=p*Ze;if(Wt>=Dn||-Wt>=Dn||(Vt=it-jt,Le=it-(jt+Vt)+(Vt-le),Vt=De-yt,$t=De-(yt+Vt)+(Vt-le),Vt=ue-mt,vt=ue-(mt+Vt)+(Vt-st),Vt=ve-nn,Mt=ve-(nn+Vt)+(Vt-st),Le===0&&vt===0&&$t===0&&Mt===0)||(Dn=E*Ze+s*Math.abs(Wt),Wt+=jt*Mt+nn*Le-(mt*$t+yt*vt),Wt>=Dn||-Wt>=Dn))return Wt;or=Le*nn,tn=i*Le,en=tn-(tn-Le),En=Le-en,tn=i*nn,Fn=tn-(tn-nn),On=nn-Fn,In=En*On-(or-en*Fn-En*Fn-en*On),Ne=vt*yt,tn=i*vt,en=tn-(tn-vt),En=vt-en,tn=i*yt,Fn=tn-(tn-yt),On=yt-Fn,$e=En*On-(Ne-en*Fn-En*Fn-en*On),qt=In-$e,Vt=In-qt,Q[0]=In-(qt+Vt)+(Vt-$e),pn=or+qt,Vt=pn-or,qn=or-(pn-Vt)+(qt-Vt),qt=qn-Ne,Vt=qn-qt,Q[1]=qn-(qt+Vt)+(Vt-Ne),Oe=pn+qt,Vt=Oe-pn,Q[2]=pn-(Oe-Vt)+(qt-Vt),Q[3]=Oe;let Qn=o(4,w,4,Q,N);or=jt*Mt,tn=i*jt,en=tn-(tn-jt),En=jt-en,tn=i*Mt,Fn=tn-(tn-Mt),On=Mt-Fn,In=En*On-(or-en*Fn-En*Fn-en*On),Ne=mt*$t,tn=i*mt,en=tn-(tn-mt),En=mt-en,tn=i*$t,Fn=tn-(tn-$t),On=$t-Fn,$e=En*On-(Ne-en*Fn-En*Fn-en*On),qt=In-$e,Vt=In-qt,Q[0]=In-(qt+Vt)+(Vt-$e),pn=or+qt,Vt=pn-or,qn=or-(pn-Vt)+(qt-Vt),qt=qn-Ne,Vt=qn-qt,Q[1]=qn-(qt+Vt)+(Vt-Ne),Oe=pn+qt,Vt=Oe-pn,Q[2]=pn-(Oe-Vt)+(qt-Vt),Q[3]=Oe;let Zn=o(Qn,N,4,Q,R);or=Le*Mt,tn=i*Le,en=tn-(tn-Le),En=Le-en,tn=i*Mt,Fn=tn-(tn-Mt),On=Mt-Fn,In=En*On-(or-en*Fn-En*Fn-en*On),Ne=vt*$t,tn=i*vt,en=tn-(tn-vt),En=vt-en,tn=i*$t,Fn=tn-(tn-$t),On=$t-Fn,$e=En*On-(Ne-en*Fn-En*Fn-en*On),qt=In-$e,Vt=In-qt,Q[0]=In-(qt+Vt)+(Vt-$e),pn=or+qt,Vt=pn-or,qn=or-(pn-Vt)+(qt-Vt),qt=qn-Ne,Vt=qn-qt,Q[1]=qn-(qt+Vt)+(Vt-Ne),Oe=pn+qt,Vt=Oe-pn,Q[2]=pn-(Oe-Vt)+(qt-Vt),Q[3]=Oe;let Pn=o(Zn,R,4,Q,U);return U[Pn-1]}function j(it,ue,De,ve,le,st){let Ze=(ue-st)*(De-le),Le=(it-le)*(ve-st),vt=Ze-Le;if(Ze===0||Le===0||Ze>0!=Le>0)return vt;let $t=Math.abs(Ze+Le);return Math.abs(vt)>=d*$t?vt:-P(it,ue,De,ve,le,st,$t)}let I=Math.pow(2,-52),K=new Uint32Array(512);class de{static from(ue,De=Ke,ve=St){let le=ue.length,st=new Float64Array(le*2);for(let Ze=0;Ze<le;Ze++){let Le=ue[Ze];st[2*Ze]=De(Le),st[2*Ze+1]=ve(Le)}return new de(st)}constructor(ue){let De=ue.length>>1;if(De>0&&typeof ue[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=ue;let ve=Math.max(2*De-5,0);this._triangles=new Uint32Array(ve*3),this._halfedges=new Int32Array(ve*3),this._hashSize=Math.ceil(Math.sqrt(De)),this._hullPrev=new Uint32Array(De),this._hullNext=new Uint32Array(De),this._hullTri=new Uint32Array(De),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(De),this._dists=new Float64Array(De),this.update()}update(){let{coords:ue,_hullPrev:De,_hullNext:ve,_hullTri:le,_hullHash:st}=this,Ze=ue.length>>1,Le=1/0,vt=1/0,$t=-1/0,Mt=-1/0;for(let yt=0;yt<Ze;yt++){let mt=ue[2*yt],nn=ue[2*yt+1];mt<Le&&(Le=mt),nn<vt&&(vt=nn),mt>$t&&($t=mt),nn>Mt&&(Mt=nn),this._ids[yt]=yt}let Vt=(Le+$t)/2,tn=(vt+Mt)/2,en=1/0,En,Fn,On;for(let yt=0;yt<Ze;yt++){let mt=Z(Vt,tn,ue[2*yt],ue[2*yt+1]);mt<en&&(En=yt,en=mt)}let qt=ue[2*En],pn=ue[2*En+1];en=1/0;for(let yt=0;yt<Ze;yt++){if(yt===En)continue;let mt=Z(qt,pn,ue[2*yt],ue[2*yt+1]);mt<en&&mt>0&&(Fn=yt,en=mt)}let qn=ue[2*Fn],or=ue[2*Fn+1],In=1/0;for(let yt=0;yt<Ze;yt++){if(yt===En||yt===Fn)continue;let mt=_e(qt,pn,qn,or,ue[2*yt],ue[2*yt+1]);mt<In&&(On=yt,In=mt)}let Ne=ue[2*On],$e=ue[2*On+1];if(In===1/0){for(let nn=0;nn<Ze;nn++)this._dists[nn]=ue[2*nn]-ue[0]||ue[2*nn+1]-ue[1];at(this._ids,this._dists,0,Ze-1);let yt=new Uint32Array(Ze),mt=0;for(let nn=0,Wt=-1/0;nn<Ze;nn++){let Dn=this._ids[nn];this._dists[Dn]>Wt&&(yt[mt++]=Dn,Wt=this._dists[Dn])}this.hull=yt.subarray(0,mt),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(j(qt,pn,qn,or,Ne,$e)<0){let yt=Fn,mt=qn,nn=or;Fn=On,qn=Ne,or=$e,On=yt,Ne=mt,$e=nn}let Oe=Ve(qt,pn,qn,or,Ne,$e);this._cx=Oe.x,this._cy=Oe.y;for(let yt=0;yt<Ze;yt++)this._dists[yt]=Z(ue[2*yt],ue[2*yt+1],Oe.x,Oe.y);at(this._ids,this._dists,0,Ze-1),this._hullStart=En;let jt=3;ve[En]=De[On]=Fn,ve[Fn]=De[En]=On,ve[On]=De[Fn]=En,le[En]=0,le[Fn]=1,le[On]=2,st.fill(-1),st[this._hashKey(qt,pn)]=En,st[this._hashKey(qn,or)]=Fn,st[this._hashKey(Ne,$e)]=On,this.trianglesLen=0,this._addTriangle(En,Fn,On,-1,-1,-1);for(let yt=0,mt,nn;yt<this._ids.length;yt++){let Wt=this._ids[yt],Dn=ue[2*Wt],Qn=ue[2*Wt+1];if(yt>0&&Math.abs(Dn-mt)<=I&&Math.abs(Qn-nn)<=I||(mt=Dn,nn=Qn,Wt===En||Wt===Fn||Wt===On))continue;let Zn=0;for(let se=0,qe=this._hashKey(Dn,Qn);se<this._hashSize&&(Zn=st[(qe+se)%this._hashSize],!(Zn!==-1&&Zn!==ve[Zn]));se++);Zn=De[Zn];let Pn=Zn,ar;for(;ar=ve[Pn],j(Dn,Qn,ue[2*Pn],ue[2*Pn+1],ue[2*ar],ue[2*ar+1])>=0;)if(Pn=ar,Pn===Zn){Pn=-1;break}if(Pn===-1)continue;let Ye=this._addTriangle(Pn,Wt,ve[Pn],-1,-1,le[Pn]);le[Wt]=this._legalize(Ye+2),le[Pn]=Ye,jt++;let gt=ve[Pn];for(;ar=ve[gt],j(Dn,Qn,ue[2*gt],ue[2*gt+1],ue[2*ar],ue[2*ar+1])<0;)Ye=this._addTriangle(gt,Wt,ar,le[Wt],-1,le[gt]),le[Wt]=this._legalize(Ye+2),ve[gt]=gt,jt--,gt=ar;if(Pn===Zn)for(;ar=De[Pn],j(Dn,Qn,ue[2*ar],ue[2*ar+1],ue[2*Pn],ue[2*Pn+1])<0;)Ye=this._addTriangle(ar,Wt,Pn,-1,le[Pn],le[ar]),this._legalize(Ye+2),le[ar]=Ye,ve[Pn]=Pn,jt--,Pn=ar;this._hullStart=De[Wt]=Pn,ve[Pn]=De[gt]=Wt,ve[Wt]=gt,st[this._hashKey(Dn,Qn)]=Wt,st[this._hashKey(ue[2*Pn],ue[2*Pn+1])]=Pn}this.hull=new Uint32Array(jt);for(let yt=0,mt=this._hullStart;yt<jt;yt++)this.hull[yt]=mt,mt=ve[mt];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(ue,De){return Math.floor(M(ue-this._cx,De-this._cy)*this._hashSize)%this._hashSize}_legalize(ue){let{_triangles:De,_halfedges:ve,coords:le}=this,st=0,Ze=0;for(;;){let Le=ve[ue],vt=ue-ue%3;if(Ze=vt+(ue+2)%3,Le===-1){if(st===0)break;ue=K[--st];continue}let $t=Le-Le%3,Mt=vt+(ue+1)%3,Vt=$t+(Le+2)%3,tn=De[Ze],en=De[ue],En=De[Mt],Fn=De[Vt];if(me(le[2*tn],le[2*tn+1],le[2*en],le[2*en+1],le[2*En],le[2*En+1],le[2*Fn],le[2*Fn+1])){De[ue]=Fn,De[Le]=tn;let qt=ve[Vt];if(qt===-1){let qn=this._hullStart;do{if(this._hullTri[qn]===Vt){this._hullTri[qn]=ue;break}qn=this._hullPrev[qn]}while(qn!==this._hullStart)}this._link(ue,qt),this._link(Le,ve[Ze]),this._link(Ze,Vt);let pn=$t+(Le+1)%3;st<K.length&&(K[st++]=pn)}else{if(st===0)break;ue=K[--st]}}return Ze}_link(ue,De){this._halfedges[ue]=De,De!==-1&&(this._halfedges[De]=ue)}_addTriangle(ue,De,ve,le,st,Ze){let Le=this.trianglesLen;return this._triangles[Le]=ue,this._triangles[Le+1]=De,this._triangles[Le+2]=ve,this._link(Le,le),this._link(Le+1,st),this._link(Le+2,Ze),this.trianglesLen+=3,Le}}function M(it,ue){let De=it/(Math.abs(it)+Math.abs(ue));return(ue>0?3-De:1+De)/4}function Z(it,ue,De,ve){let le=it-De,st=ue-ve;return le*le+st*st}function me(it,ue,De,ve,le,st,Ze,Le){let vt=it-Ze,$t=ue-Le,Mt=De-Ze,Vt=ve-Le,tn=le-Ze,en=st-Le,En=vt*vt+$t*$t,Fn=Mt*Mt+Vt*Vt,On=tn*tn+en*en;return vt*(Vt*On-Fn*en)-$t*(Mt*On-Fn*tn)+En*(Mt*en-Vt*tn)<0}function _e(it,ue,De,ve,le,st){let Ze=De-it,Le=ve-ue,vt=le-it,$t=st-ue,Mt=Ze*Ze+Le*Le,Vt=vt*vt+$t*$t,tn=.5/(Ze*$t-Le*vt),en=($t*Mt-Le*Vt)*tn,En=(Ze*Vt-vt*Mt)*tn;return en*en+En*En}function Ve(it,ue,De,ve,le,st){let Ze=De-it,Le=ve-ue,vt=le-it,$t=st-ue,Mt=Ze*Ze+Le*Le,Vt=vt*vt+$t*$t,tn=.5/(Ze*$t-Le*vt),en=it+($t*Mt-Le*Vt)*tn,En=ue+(Ze*Vt-vt*Mt)*tn;return{x:en,y:En}}function at(it,ue,De,ve){if(ve-De<=20)for(let le=De+1;le<=ve;le++){let st=it[le],Ze=ue[st],Le=le-1;for(;Le>=De&&ue[it[Le]]>Ze;)it[Le+1]=it[Le--];it[Le+1]=st}else{let le=De+ve>>1,st=De+1,Ze=ve;lt(it,le,st),ue[it[De]]>ue[it[ve]]&&lt(it,De,ve),ue[it[st]]>ue[it[ve]]&&lt(it,st,ve),ue[it[De]]>ue[it[st]]&&lt(it,De,st);let Le=it[st],vt=ue[Le];for(;;){do st++;while(ue[it[st]]<vt);do Ze--;while(ue[it[Ze]]>vt);if(Ze<st)break;lt(it,st,Ze)}it[De+1]=it[Ze],it[Ze]=Le,ve-st+1>=Ze-De?(at(it,ue,st,ve),at(it,ue,De,Ze-1)):(at(it,ue,De,Ze-1),at(it,ue,st,ve))}}function lt(it,ue,De){let ve=it[ue];it[ue]=it[De],it[De]=ve}function Ke(it){return it[0]}function St(it){return it[1]}let Ft=1e-6;class je{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(ue,De){this._+=`M${this._x0=this._x1=+ue},${this._y0=this._y1=+De}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(ue,De){this._+=`L${this._x1=+ue},${this._y1=+De}`}arc(ue,De,ve){ue=+ue,De=+De,ve=+ve;let le=ue+ve,st=De;if(ve<0)throw new Error("negative radius");this._x1===null?this._+=`M${le},${st}`:(Math.abs(this._x1-le)>Ft||Math.abs(this._y1-st)>Ft)&&(this._+="L"+le+","+st),!!ve&&(this._+=`A${ve},${ve},0,1,1,${ue-ve},${De}A${ve},${ve},0,1,1,${this._x1=le},${this._y1=st}`)}rect(ue,De,ve,le){this._+=`M${this._x0=this._x1=+ue},${this._y0=this._y1=+De}h${+ve}v${+le}h${-ve}Z`}value(){return this._||null}}class te{constructor(){this._=[]}moveTo(ue,De){this._.push([ue,De])}closePath(){this._.push(this._[0].slice())}lineTo(ue,De){this._.push([ue,De])}value(){return this._.length?this._:null}}class Xe{constructor(ue,[De,ve,le,st]=[0,0,960,500]){if(!((le=+le)>=(De=+De))||!((st=+st)>=(ve=+ve)))throw new Error("invalid bounds");this.delaunay=ue,this._circumcenters=new Float64Array(ue.points.length*2),this.vectors=new Float64Array(ue.points.length*2),this.xmax=le,this.xmin=De,this.ymax=st,this.ymin=ve,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:ue,hull:De,triangles:ve},vectors:le}=this,st=this.circumcenters=this._circumcenters.subarray(0,ve.length/3*2);for(let en=0,En=0,Fn=ve.length,On,qt;en<Fn;en+=3,En+=2){let pn=ve[en]*2,qn=ve[en+1]*2,or=ve[en+2]*2,In=ue[pn],Ne=ue[pn+1],$e=ue[qn],Oe=ue[qn+1],jt=ue[or],yt=ue[or+1],mt=$e-In,nn=Oe-Ne,Wt=jt-In,Dn=yt-Ne,Qn=(mt*Dn-nn*Wt)*2;if(Math.abs(Qn)<1e-9){let Zn=1e9,Pn=ve[0]*2;Zn*=Math.sign((ue[Pn]-In)*Dn-(ue[Pn+1]-Ne)*Wt),On=(In+jt)/2-Zn*Dn,qt=(Ne+yt)/2+Zn*Wt}else{let Zn=1/Qn,Pn=mt*mt+nn*nn,ar=Wt*Wt+Dn*Dn;On=In+(Dn*Pn-nn*ar)*Zn,qt=Ne+(mt*ar-Wt*Pn)*Zn}st[En]=On,st[En+1]=qt}let Ze=De[De.length-1],Le,vt=Ze*4,$t,Mt=ue[2*Ze],Vt,tn=ue[2*Ze+1];le.fill(0);for(let en=0;en<De.length;++en)Ze=De[en],Le=vt,$t=Mt,Vt=tn,vt=Ze*4,Mt=ue[2*Ze],tn=ue[2*Ze+1],le[Le+2]=le[vt]=Vt-tn,le[Le+3]=le[vt+1]=Mt-$t}render(ue){let De=ue==null?ue=new je:void 0,{delaunay:{halfedges:ve,inedges:le,hull:st},circumcenters:Ze,vectors:Le}=this;if(st.length<=1)return null;for(let Mt=0,Vt=ve.length;Mt<Vt;++Mt){let tn=ve[Mt];if(tn<Mt)continue;let en=Math.floor(Mt/3)*2,En=Math.floor(tn/3)*2,Fn=Ze[en],On=Ze[en+1],qt=Ze[En],pn=Ze[En+1];this._renderSegment(Fn,On,qt,pn,ue)}let vt,$t=st[st.length-1];for(let Mt=0;Mt<st.length;++Mt){vt=$t,$t=st[Mt];let Vt=Math.floor(le[$t]/3)*2,tn=Ze[Vt],en=Ze[Vt+1],En=vt*4,Fn=this._project(tn,en,Le[En+2],Le[En+3]);Fn&&this._renderSegment(tn,en,Fn[0],Fn[1],ue)}return De&&De.value()}renderBounds(ue){let De=ue==null?ue=new je:void 0;return ue.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),De&&De.value()}renderCell(ue,De){let ve=De==null?De=new je:void 0,le=this._clip(ue);if(le===null||!le.length)return;De.moveTo(le[0],le[1]);let st=le.length;for(;le[0]===le[st-2]&&le[1]===le[st-1]&&st>1;)st-=2;for(let Ze=2;Ze<st;Ze+=2)(le[Ze]!==le[Ze-2]||le[Ze+1]!==le[Ze-1])&&De.lineTo(le[Ze],le[Ze+1]);return De.closePath(),ve&&ve.value()}*cellPolygons(){let{delaunay:{points:ue}}=this;for(let De=0,ve=ue.length/2;De<ve;++De){let le=this.cellPolygon(De);le&&(le.index=De,yield le)}}cellPolygon(ue){let De=new te;return this.renderCell(ue,De),De.value()}_renderSegment(ue,De,ve,le,st){let Ze,Le=this._regioncode(ue,De),vt=this._regioncode(ve,le);Le===0&&vt===0?(st.moveTo(ue,De),st.lineTo(ve,le)):(Ze=this._clipSegment(ue,De,ve,le,Le,vt))&&(st.moveTo(Ze[0],Ze[1]),st.lineTo(Ze[2],Ze[3]))}contains(ue,De,ve){return De=+De,De!==De||(ve=+ve,ve!==ve)?!1:this.delaunay._step(ue,De,ve)===ue}*neighbors(ue){let De=this._clip(ue);if(De)for(let ve of this.delaunay.neighbors(ue)){let le=this._clip(ve);if(le)e:for(let st=0,Ze=De.length;st<Ze;st+=2)for(let Le=0,vt=le.length;Le<vt;Le+=2)if(De[st]==le[Le]&&De[st+1]==le[Le+1]&&De[(st+2)%Ze]==le[(Le+vt-2)%vt]&&De[(st+3)%Ze]==le[(Le+vt-1)%vt]){yield ve;break e}}}_cell(ue){let{circumcenters:De,delaunay:{inedges:ve,halfedges:le,triangles:st}}=this,Ze=ve[ue];if(Ze===-1)return null;let Le=[],vt=Ze;do{let $t=Math.floor(vt/3);if(Le.push(De[$t*2],De[$t*2+1]),vt=vt%3===2?vt-2:vt+1,st[vt]!==ue)break;vt=le[vt]}while(vt!==Ze&&vt!==-1);return Le}_clip(ue){if(ue===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let De=this._cell(ue);if(De===null)return null;let{vectors:ve}=this,le=ue*4;return ve[le]||ve[le+1]?this._clipInfinite(ue,De,ve[le],ve[le+1],ve[le+2],ve[le+3]):this._clipFinite(ue,De)}_clipFinite(ue,De){let ve=De.length,le=null,st,Ze,Le=De[ve-2],vt=De[ve-1],$t,Mt=this._regioncode(Le,vt),Vt,tn=0;for(let en=0;en<ve;en+=2)if(st=Le,Ze=vt,Le=De[en],vt=De[en+1],$t=Mt,Mt=this._regioncode(Le,vt),$t===0&&Mt===0)Vt=tn,tn=0,le?le.push(Le,vt):le=[Le,vt];else{let En,Fn,On,qt,pn;if($t===0){if((En=this._clipSegment(st,Ze,Le,vt,$t,Mt))===null)continue;[Fn,On,qt,pn]=En}else{if((En=this._clipSegment(Le,vt,st,Ze,Mt,$t))===null)continue;[qt,pn,Fn,On]=En,Vt=tn,tn=this._edgecode(Fn,On),Vt&&tn&&this._edge(ue,Vt,tn,le,le.length),le?le.push(Fn,On):le=[Fn,On]}Vt=tn,tn=this._edgecode(qt,pn),Vt&&tn&&this._edge(ue,Vt,tn,le,le.length),le?le.push(qt,pn):le=[qt,pn]}if(le)Vt=tn,tn=this._edgecode(le[0],le[1]),Vt&&tn&&this._edge(ue,Vt,tn,le,le.length);else if(this.contains(ue,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return le}_clipSegment(ue,De,ve,le,st,Ze){for(;;){if(st===0&&Ze===0)return[ue,De,ve,le];if(st&Ze)return null;let Le,vt,$t=st||Ze;$t&8?(Le=ue+(ve-ue)*(this.ymax-De)/(le-De),vt=this.ymax):$t&4?(Le=ue+(ve-ue)*(this.ymin-De)/(le-De),vt=this.ymin):$t&2?(vt=De+(le-De)*(this.xmax-ue)/(ve-ue),Le=this.xmax):(vt=De+(le-De)*(this.xmin-ue)/(ve-ue),Le=this.xmin),st?(ue=Le,De=vt,st=this._regioncode(ue,De)):(ve=Le,le=vt,Ze=this._regioncode(ve,le))}}_clipInfinite(ue,De,ve,le,st,Ze){let Le=Array.from(De),vt;if((vt=this._project(Le[0],Le[1],ve,le))&&Le.unshift(vt[0],vt[1]),(vt=this._project(Le[Le.length-2],Le[Le.length-1],st,Ze))&&Le.push(vt[0],vt[1]),Le=this._clipFinite(ue,Le))for(let $t=0,Mt=Le.length,Vt,tn=this._edgecode(Le[Mt-2],Le[Mt-1]);$t<Mt;$t+=2)Vt=tn,tn=this._edgecode(Le[$t],Le[$t+1]),Vt&&tn&&($t=this._edge(ue,Vt,tn,Le,$t),Mt=Le.length);else this.contains(ue,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(Le=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return Le}_edge(ue,De,ve,le,st){for(;De!==ve;){let Ze,Le;switch(De){case 5:De=4;continue;case 4:De=6,Ze=this.xmax,Le=this.ymin;break;case 6:De=2;continue;case 2:De=10,Ze=this.xmax,Le=this.ymax;break;case 10:De=8;continue;case 8:De=9,Ze=this.xmin,Le=this.ymax;break;case 9:De=1;continue;case 1:De=5,Ze=this.xmin,Le=this.ymin;break}(le[st]!==Ze||le[st+1]!==Le)&&this.contains(ue,Ze,Le)&&(le.splice(st,0,Ze,Le),st+=2)}if(le.length>4)for(let Ze=0;Ze<le.length;Ze+=2){let Le=(Ze+2)%le.length,vt=(Ze+4)%le.length;(le[Ze]===le[Le]&&le[Le]===le[vt]||le[Ze+1]===le[Le+1]&&le[Le+1]===le[vt+1])&&(le.splice(Le,2),Ze-=2)}return st}_project(ue,De,ve,le){let st=1/0,Ze,Le,vt;if(le<0){if(De<=this.ymin)return null;(Ze=(this.ymin-De)/le)<st&&(vt=this.ymin,Le=ue+(st=Ze)*ve)}else if(le>0){if(De>=this.ymax)return null;(Ze=(this.ymax-De)/le)<st&&(vt=this.ymax,Le=ue+(st=Ze)*ve)}if(ve>0){if(ue>=this.xmax)return null;(Ze=(this.xmax-ue)/ve)<st&&(Le=this.xmax,vt=De+(st=Ze)*le)}else if(ve<0){if(ue<=this.xmin)return null;(Ze=(this.xmin-ue)/ve)<st&&(Le=this.xmin,vt=De+(st=Ze)*le)}return[Le,vt]}_edgecode(ue,De){return(ue===this.xmin?1:ue===this.xmax?2:0)|(De===this.ymin?4:De===this.ymax?8:0)}_regioncode(ue,De){return(ue<this.xmin?1:ue>this.xmax?2:0)|(De<this.ymin?4:De>this.ymax?8:0)}}let ye=2*Math.PI,ke=Math.pow;function Ce(it){return it[0]}function xe(it){return it[1]}function Je(it){let{triangles:ue,coords:De}=it;for(let ve=0;ve<ue.length;ve+=3){let le=2*ue[ve],st=2*ue[ve+1],Ze=2*ue[ve+2];if((De[Ze]-De[le])*(De[st+1]-De[le+1])-(De[st]-De[le])*(De[Ze+1]-De[le+1])>1e-10)return!1}return!0}function ut(it,ue,De){return[it+Math.sin(it+ue)*De,ue+Math.cos(it-ue)*De]}class Qt{static from(ue,De=Ce,ve=xe,le){return new Qt("length"in ue?wt(ue,De,ve,le):Float64Array.from(mn(ue,De,ve,le)))}constructor(ue){this._delaunator=new de(ue),this.inedges=new Int32Array(ue.length/2),this._hullIndex=new Int32Array(ue.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let ue=this._delaunator,De=this.points;if(ue.hull&&ue.hull.length>2&&Je(ue)){this.collinear=Int32Array.from({length:De.length/2},(tn,en)=>en).sort((tn,en)=>De[2*tn]-De[2*en]||De[2*tn+1]-De[2*en+1]);let vt=this.collinear[0],$t=this.collinear[this.collinear.length-1],Mt=[De[2*vt],De[2*vt+1],De[2*$t],De[2*$t+1]],Vt=1e-8*Math.hypot(Mt[3]-Mt[1],Mt[2]-Mt[0]);for(let tn=0,en=De.length/2;tn<en;++tn){let En=ut(De[2*tn],De[2*tn+1],Vt);De[2*tn]=En[0],De[2*tn+1]=En[1]}this._delaunator=new de(De)}else delete this.collinear;let ve=this.halfedges=this._delaunator.halfedges,le=this.hull=this._delaunator.hull,st=this.triangles=this._delaunator.triangles,Ze=this.inedges.fill(-1),Le=this._hullIndex.fill(-1);for(let vt=0,$t=ve.length;vt<$t;++vt){let Mt=st[vt%3===2?vt-2:vt+1];(ve[vt]===-1||Ze[Mt]===-1)&&(Ze[Mt]=vt)}for(let vt=0,$t=le.length;vt<$t;++vt)Le[le[vt]]=vt;le.length<=2&&le.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=le[0],Ze[le[0]]=1,le.length===2&&(Ze[le[1]]=0,this.triangles[1]=le[1],this.triangles[2]=le[1]))}voronoi(ue){return new Xe(this,ue)}*neighbors(ue){let{inedges:De,hull:ve,_hullIndex:le,halfedges:st,triangles:Ze,collinear:Le}=this;if(Le){let Vt=Le.indexOf(ue);Vt>0&&(yield Le[Vt-1]),Vt<Le.length-1&&(yield Le[Vt+1]);return}let vt=De[ue];if(vt===-1)return;let $t=vt,Mt=-1;do{if(yield Mt=Ze[$t],$t=$t%3===2?$t-2:$t+1,Ze[$t]!==ue)return;if($t=st[$t],$t===-1){let Vt=ve[(le[ue]+1)%ve.length];Vt!==Mt&&(yield Vt);return}}while($t!==vt)}find(ue,De,ve=0){if(ue=+ue,ue!==ue||(De=+De,De!==De))return-1;let le=ve,st;for(;(st=this._step(ve,ue,De))>=0&&st!==ve&&st!==le;)ve=st;return st}_step(ue,De,ve){let{inedges:le,hull:st,_hullIndex:Ze,halfedges:Le,triangles:vt,points:$t}=this;if(le[ue]===-1||!$t.length)return(ue+1)%($t.length>>1);let Mt=ue,Vt=ke(De-$t[ue*2],2)+ke(ve-$t[ue*2+1],2),tn=le[ue],en=tn;do{let En=vt[en],Fn=ke(De-$t[En*2],2)+ke(ve-$t[En*2+1],2);if(Fn<Vt&&(Vt=Fn,Mt=En),en=en%3===2?en-2:en+1,vt[en]!==ue)break;if(en=Le[en],en===-1){if(en=st[(Ze[ue]+1)%st.length],en!==En&&ke(De-$t[en*2],2)+ke(ve-$t[en*2+1],2)<Vt)return en;break}}while(en!==tn);return Mt}render(ue){let De=ue==null?ue=new je:void 0,{points:ve,halfedges:le,triangles:st}=this;for(let Ze=0,Le=le.length;Ze<Le;++Ze){let vt=le[Ze];if(vt<Ze)continue;let $t=st[Ze]*2,Mt=st[vt]*2;ue.moveTo(ve[$t],ve[$t+1]),ue.lineTo(ve[Mt],ve[Mt+1])}return this.renderHull(ue),De&&De.value()}renderPoints(ue,De){De===void 0&&(!ue||typeof ue.moveTo!="function")&&(De=ue,ue=null),De=De==null?2:+De;let ve=ue==null?ue=new je:void 0,{points:le}=this;for(let st=0,Ze=le.length;st<Ze;st+=2){let Le=le[st],vt=le[st+1];ue.moveTo(Le+De,vt),ue.arc(Le,vt,De,0,ye)}return ve&&ve.value()}renderHull(ue){let De=ue==null?ue=new je:void 0,{hull:ve,points:le}=this,st=ve[0]*2,Ze=ve.length;ue.moveTo(le[st],le[st+1]);for(let Le=1;Le<Ze;++Le){let vt=2*ve[Le];ue.lineTo(le[vt],le[vt+1])}return ue.closePath(),De&&De.value()}hullPolygon(){let ue=new te;return this.renderHull(ue),ue.value()}renderTriangle(ue,De){let ve=De==null?De=new je:void 0,{points:le,triangles:st}=this,Ze=st[ue*=3]*2,Le=st[ue+1]*2,vt=st[ue+2]*2;return De.moveTo(le[Ze],le[Ze+1]),De.lineTo(le[Le],le[Le+1]),De.lineTo(le[vt],le[vt+1]),De.closePath(),ve&&ve.value()}*trianglePolygons(){let{triangles:ue}=this;for(let De=0,ve=ue.length/3;De<ve;++De)yield this.trianglePolygon(De)}trianglePolygon(ue){let De=new te;return this.renderTriangle(ue,De),De.value()}}function wt(it,ue,De,ve){let le=it.length,st=new Float64Array(le*2);for(let Ze=0;Ze<le;++Ze){let Le=it[Ze];st[Ze*2]=ue.call(ve,Le,Ze,it),st[Ze*2+1]=De.call(ve,Le,Ze,it)}return st}function*mn(it,ue,De,ve){let le=0;for(let st of it)yield ue.call(ve,st,le,it),yield De.call(ve,st,le,it),++le}function Lt(it){e.Transform.call(this,null,it)}Lt.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};let It=[-1e5,-1e5,1e5,1e5];t.inherits(Lt,e.Transform,{transform(it,ue){let De=it.as||"path",ve=ue.source;if(!ve||!ve.length)return ue;let le=it.size;le=le?[0,0,le[0],le[1]]:(le=it.extent)?[le[0][0],le[0][1],le[1][0],le[1][1]]:It;let st=this.value=Qt.from(ve,it.x,it.y).voronoi(le);for(let Ze=0,Le=ve.length;Ze<Le;++Ze){let vt=st.cellPolygon(Ze);ve[Ze][De]=vt?cn(vt):null}return ue.reflow(it.modified()).modifies(De)}});function cn(it){let ue=it[0][0],De=it[0][1],ve=it.length-1;for(;it[ve][0]===ue&&it[ve][1]===De;--ve);return"M"+it.slice(0,ve+1).join("L")+"Z"}n.voronoi=Lt,Object.defineProperty(n,"__esModule",{value:!0})})});var iTe=Ae((e$,rTe)=>{m();(function(n,e){typeof e$=="object"&&typeof rTe!="undefined"?e(e$,oR(),Xf(),Au(),Cb(),wb()):typeof define=="function"&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-util","vega-scale","vega-statistics"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(e$,function(n,e,t,r,i,s){"use strict";var o=Math.PI/180,a=1<<11>>5,c=1<<11;function d(){var M=[256,256],Z,me,_e,Ve,at,lt,Ke,St=R,Ft=[],je=Math.random,te={};te.layout=function(){for(var ke=Xe(e.canvas()),Ce=Q((M[0]>>5)*M[1]),xe=null,Je=Ft.length,ut=-1,Qt=[],wt=Ft.map(Lt=>({text:Z(Lt),font:me(Lt),style:Ve(Lt),weight:at(Lt),rotate:lt(Lt),size:~~(_e(Lt)+1e-14),padding:Ke(Lt),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Lt})).sort((Lt,It)=>It.size-Lt.size);++ut<Je;){var mn=wt[ut];mn.x=M[0]*(je()+.5)>>1,mn.y=M[1]*(je()+.5)>>1,p(ke,mn,wt,ut),mn.hasText&&ye(Ce,mn,xe)&&(Qt.push(mn),xe?w(xe,mn):xe=[{x:mn.x+mn.x0,y:mn.y+mn.y0},{x:mn.x+mn.x1,y:mn.y+mn.y1}],mn.x-=M[0]>>1,mn.y-=M[1]>>1)}return Qt};function Xe(ke){ke.width=ke.height=1;var Ce=Math.sqrt(ke.getContext("2d").getImageData(0,0,1,1).data.length>>2);ke.width=(a<<5)/Ce,ke.height=c/Ce;var xe=ke.getContext("2d");return xe.fillStyle=xe.strokeStyle="red",xe.textAlign="center",{context:xe,ratio:Ce}}function ye(ke,Ce,xe){for(var Je=Ce.x,ut=Ce.y,Qt=Math.sqrt(M[0]*M[0]+M[1]*M[1]),wt=St(M),mn=je()<.5?1:-1,Lt=-mn,It,cn,it;(It=wt(Lt+=mn))&&(cn=~~It[0],it=~~It[1],!(Math.min(Math.abs(cn),Math.abs(it))>=Qt));)if(Ce.x=Je+cn,Ce.y=ut+it,!(Ce.x+Ce.x0<0||Ce.y+Ce.y0<0||Ce.x+Ce.x1>M[0]||Ce.y+Ce.y1>M[1])&&(!xe||!E(Ce,ke,M[0]))&&(!xe||N(Ce,xe))){for(var ue=Ce.sprite,De=Ce.width>>5,ve=M[0]>>5,le=Ce.x-(De<<4),st=le&127,Ze=32-st,Le=Ce.y1-Ce.y0,vt=(Ce.y+Ce.y0)*ve+(le>>5),$t,Mt=0;Mt<Le;Mt++){$t=0;for(var Vt=0;Vt<=De;Vt++)ke[vt+Vt]|=$t<<Ze|(Vt<De?($t=ue[Mt*De+Vt])>>>st:0);vt+=ve}return Ce.sprite=null,!0}return!1}return te.words=function(ke){return arguments.length?(Ft=ke,te):Ft},te.size=function(ke){return arguments.length?(M=[+ke[0],+ke[1]],te):M},te.font=function(ke){return arguments.length?(me=P(ke),te):me},te.fontStyle=function(ke){return arguments.length?(Ve=P(ke),te):Ve},te.fontWeight=function(ke){return arguments.length?(at=P(ke),te):at},te.rotate=function(ke){return arguments.length?(lt=P(ke),te):lt},te.text=function(ke){return arguments.length?(Z=P(ke),te):Z},te.spiral=function(ke){return arguments.length?(St=j[ke]||ke,te):St},te.fontSize=function(ke){return arguments.length?(_e=P(ke),te):_e},te.padding=function(ke){return arguments.length?(Ke=P(ke),te):Ke},te.random=function(ke){return arguments.length?(je=ke,te):je},te}function p(M,Z,me,_e){if(!Z.sprite){var Ve=M.context,at=M.ratio;Ve.clearRect(0,0,(a<<5)/at,c/at);var lt=0,Ke=0,St=0,Ft=me.length,je,te,Xe,ye,ke;for(--_e;++_e<Ft;){if(Z=me[_e],Ve.save(),Ve.font=Z.style+" "+Z.weight+" "+~~((Z.size+1)/at)+"px "+Z.font,je=Ve.measureText(Z.text+"m").width*at,Xe=Z.size<<1,Z.rotate){var Ce=Math.sin(Z.rotate*o),xe=Math.cos(Z.rotate*o),Je=je*xe,ut=je*Ce,Qt=Xe*xe,wt=Xe*Ce;je=Math.max(Math.abs(Je+wt),Math.abs(Je-wt))+31>>5<<5,Xe=~~Math.max(Math.abs(ut+Qt),Math.abs(ut-Qt))}else je=je+31>>5<<5;if(Xe>St&&(St=Xe),lt+je>=a<<5&&(lt=0,Ke+=St,St=0),Ke+Xe>=c)break;Ve.translate((lt+(je>>1))/at,(Ke+(Xe>>1))/at),Z.rotate&&Ve.rotate(Z.rotate*o),Ve.fillText(Z.text,0,0),Z.padding&&(Ve.lineWidth=2*Z.padding,Ve.strokeText(Z.text,0,0)),Ve.restore(),Z.width=je,Z.height=Xe,Z.xoff=lt,Z.yoff=Ke,Z.x1=je>>1,Z.y1=Xe>>1,Z.x0=-Z.x1,Z.y0=-Z.y1,Z.hasText=!0,lt+=je}for(var mn=Ve.getImageData(0,0,(a<<5)/at,c/at).data,Lt=[];--_e>=0;)if(Z=me[_e],!!Z.hasText){for(je=Z.width,te=je>>5,Xe=Z.y1-Z.y0,ye=0;ye<Xe*te;ye++)Lt[ye]=0;if(lt=Z.xoff,lt==null)return;Ke=Z.yoff;var It=0,cn=-1;for(ke=0;ke<Xe;ke++){for(ye=0;ye<je;ye++){var it=te*ke+(ye>>5),ue=mn[(Ke+ke)*(a<<5)+(lt+ye)<<2]?1<<31-ye%32:0;Lt[it]|=ue,It|=ue}It?cn=ke:(Z.y0++,Xe--,ke--,Ke++)}Z.y1=Z.y0+cn,Z.sprite=Lt.slice(0,(Z.y1-Z.y0)*te)}}}function E(M,Z,me){me>>=5;for(var _e=M.sprite,Ve=M.width>>5,at=M.x-(Ve<<4),lt=at&127,Ke=32-lt,St=M.y1-M.y0,Ft=(M.y+M.y0)*me+(at>>5),je,te=0;te<St;te++){je=0;for(var Xe=0;Xe<=Ve;Xe++)if((je<<Ke|(Xe<Ve?(je=_e[te*Ve+Xe])>>>lt:0))&Z[Ft+Xe])return!0;Ft+=me}return!1}function w(M,Z){var me=M[0],_e=M[1];Z.x+Z.x0<me.x&&(me.x=Z.x+Z.x0),Z.y+Z.y0<me.y&&(me.y=Z.y+Z.y0),Z.x+Z.x1>_e.x&&(_e.x=Z.x+Z.x1),Z.y+Z.y1>_e.y&&(_e.y=Z.y+Z.y1)}function N(M,Z){return M.x+M.x1>Z[0].x&&M.x+M.x0<Z[1].x&&M.y+M.y1>Z[0].y&&M.y+M.y0<Z[1].y}function R(M){var Z=M[0]/M[1];return function(me){return[Z*(me*=.1)*Math.cos(me),me*Math.sin(me)]}}function U(M){var Z=4,me=Z*M[0]/M[1],_e=0,Ve=0;return function(at){var lt=at<0?-1:1;switch(Math.sqrt(1+4*lt*at)-lt&3){case 0:_e+=me;break;case 1:Ve+=Z;break;case 2:_e-=me;break;default:Ve-=Z;break}return[_e,Ve]}}function Q(M){for(var Z=[],me=-1;++me<M;)Z[me]=0;return Z}function P(M){return typeof M=="function"?M:function(){return M}}var j={archimedean:R,rectangular:U};let I=["x","y","font","fontSize","fontStyle","fontWeight","angle"],K=["text","font","rotate","fontSize","fontStyle","fontWeight"];function de(M){t.Transform.call(this,d(),M)}de.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:I}]},r.inherits(de,t.Transform,{transform(M,Z){M.size&&!(M.size[0]&&M.size[1])&&r.error("Wordcloud size dimensions must be non-zero.");function me(ke){let Ce=M[ke];return r.isFunction(Ce)&&Z.modified(Ce.fields)}let _e=M.modified();if(!(_e||Z.changed(Z.ADD_REM)||K.some(me)))return;let Ve=Z.materialize(Z.SOURCE).source,at=this.value,lt=M.as||I,Ke=M.fontSize||14,St;if(r.isFunction(Ke)?St=M.fontSizeRange:Ke=r.constant(Ke),St){let ke=Ke,Ce=i.scale("sqrt")().domain(r.extent(Ve,ke)).range(St);Ke=xe=>Ce(ke(xe))}Ve.forEach(ke=>{ke[lt[0]]=NaN,ke[lt[1]]=NaN,ke[lt[3]]=0});let Ft=at.words(Ve).text(M.text).size(M.size||[500,500]).padding(M.padding||1).spiral(M.spiral||"archimedean").rotate(M.rotate||0).font(M.font||"sans-serif").fontStyle(M.fontStyle||"normal").fontWeight(M.fontWeight||"normal").fontSize(Ke).random(s.random).layout(),je=at.size(),te=je[0]>>1,Xe=je[1]>>1,ye=Ft.length;for(let ke=0,Ce,xe;ke<ye;++ke)Ce=Ft[ke],xe=Ce.datum,xe[lt[0]]=Ce.x+te,xe[lt[1]]=Ce.y+Xe,xe[lt[2]]=Ce.font,xe[lt[3]]=Ce.size,xe[lt[4]]=Ce.style,xe[lt[5]]=Ce.weight,xe[lt[6]]=Ce.rotate;return Z.reflow(_e).modifies(lt)}}),n.wordcloud=de,Object.defineProperty(n,"__esModule",{value:!0})})});var oTe=Ae((t$,sTe)=>{m();(function(n,e){typeof t$=="object"&&typeof sTe!="undefined"?e(t$,Xf(),Au()):typeof define=="function"&&define.amd?define(["exports","vega-dataflow","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega))})(t$,function(n,e,t){"use strict";let r=M=>new Uint8Array(M),i=M=>new Uint16Array(M),s=M=>new Uint32Array(M);function o(){let M=8,Z=[],me=s(0),_e=c(0,M),Ve=c(0,M);return{data:()=>Z,seen:()=>me=a(me,Z.length),add(at){for(let lt=0,Ke=Z.length,St=at.length,Ft;lt<St;++lt)Ft=at[lt],Ft._index=Ke++,Z.push(Ft)},remove(at,lt){let Ke=Z.length,St=Array(Ke-at),Ft=Z,je,te,Xe;for(te=0;!lt[te]&&te<Ke;++te)St[te]=Z[te],Ft[te]=te;for(Xe=te;te<Ke;++te)je=Z[te],lt[te]?Ft[te]=-1:(Ft[te]=Xe,_e[Xe]=_e[te],Ve[Xe]=Ve[te],St[Xe]=je,je._index=Xe++),_e[te]=0;return Z=St,Ft},size:()=>Z.length,curr:()=>_e,prev:()=>Ve,reset:at=>Ve[at]=_e[at],all:()=>M<257?255:M<65537?65535:4294967295,set(at,lt){_e[at]|=lt},clear(at,lt){_e[at]&=~lt},resize(at,lt){let Ke=_e.length;(at>Ke||lt>M)&&(M=Math.max(lt,M),_e=c(at,M,_e),Ve=c(at,M))}}}function a(M,Z,me){return M.length>=Z?M:(me=me||new M.constructor(Z),me.set(M),me)}function c(M,Z,me){let _e=(Z<257?r:Z<65537?i:s)(M);return me&&_e.set(me),_e}function d(M,Z,me){let _e=1<<Z;return{one:_e,zero:~_e,range:me.slice(),bisect:M.bisect,index:M.index,size:M.size,onAdd(Ve,at){let lt=this,Ke=lt.bisect(lt.range,Ve.value),St=Ve.index,Ft=Ke[0],je=Ke[1],te=St.length,Xe;for(Xe=0;Xe<Ft;++Xe)at[St[Xe]]|=_e;for(Xe=je;Xe<te;++Xe)at[St[Xe]]|=_e;return lt}}}function p(M,Z){return M==null||Z==null?NaN:M<Z?-1:M>Z?1:M>=Z?0:NaN}function E(M){let Z=M,me=M,_e=M;M.length!==2&&(Z=(Ke,St)=>M(Ke)-St,me=p,_e=(Ke,St)=>p(M(Ke),St));function Ve(Ke,St,Ft=0,je=Ke.length){if(Ft<je){if(me(St,St)!==0)return je;do{let te=Ft+je>>>1;_e(Ke[te],St)<0?Ft=te+1:je=te}while(Ft<je)}return Ft}function at(Ke,St,Ft=0,je=Ke.length){if(Ft<je){if(me(St,St)!==0)return je;do{let te=Ft+je>>>1;_e(Ke[te],St)<=0?Ft=te+1:je=te}while(Ft<je)}return Ft}function lt(Ke,St,Ft=0,je=Ke.length){let te=Ve(Ke,St,Ft,je-1);return te>Ft&&Z(Ke[te-1],St)>-Z(Ke[te],St)?te-1:te}return{left:Ve,center:lt,right:at}}function w(M){return M===null?NaN:+M}let N=E(p),R=N.right,U=N.left;E(w).center;function Q(M,Z){return Array.from(Z,me=>M[me])}function P(){let M=s(0),Z=[],me=0;function _e(Ke,St,Ft){if(!St.length)return[];let je=me,te=St.length,Xe=s(te),ye=Array(te),ke,Ce,xe;for(xe=0;xe<te;++xe)ye[xe]=Ke(St[xe]),Xe[xe]=xe;if(ye=j(ye,Xe),je)ke=Z,Ce=M,Z=Array(je+te),M=s(je+te),I(Ft,ke,Ce,je,ye,Xe,te,Z,M);else{if(Ft>0)for(xe=0;xe<te;++xe)Xe[xe]+=Ft;Z=ye,M=Xe}return me=je+te,{index:Xe,value:ye}}function Ve(Ke,St){let Ft=me,je,te,Xe;for(te=0;!St[M[te]]&&te<Ft;++te);for(Xe=te;te<Ft;++te)St[je=M[te]]||(M[Xe]=je,Z[Xe]=Z[te],++Xe);me=Ft-Ke}function at(Ke){for(let St=0,Ft=me;St<Ft;++St)M[St]=Ke[M[St]]}function lt(Ke,St){let Ft;return St?Ft=St.length:(St=Z,Ft=me),[U(St,Ke[0],0,Ft),R(St,Ke[1],0,Ft)]}return{insert:_e,remove:Ve,bisect:lt,reindex:at,index:()=>M,size:()=>me}}function j(M,Z){return M.sort.call(Z,(me,_e)=>{let Ve=M[me],at=M[_e];return Ve<at?-1:Ve>at?1:0}),Q(M,Z)}function I(M,Z,me,_e,Ve,at,lt,Ke,St){let Ft=0,je=0,te;for(te=0;Ft<_e&&je<lt;++te)Z[Ft]<Ve[je]?(Ke[te]=Z[Ft],St[te]=me[Ft++]):(Ke[te]=Ve[je],St[te]=at[je++]+M);for(;Ft<_e;++Ft,++te)Ke[te]=Z[Ft],St[te]=me[Ft];for(;je<lt;++je,++te)Ke[te]=Ve[je],St[te]=at[je]+M}function K(M){e.Transform.call(this,o(),M),this._indices=null,this._dims=null}K.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},t.inherits(K,e.Transform,{transform(M,Z){if(this._dims){var me=M.modified("fields")||M.fields.some(_e=>Z.modified(_e.fields));return me?this.reinit(M,Z):this.eval(M,Z)}else return this.init(M,Z)},init(M,Z){let me=M.fields,_e=M.query,Ve=this._indices={},at=this._dims=[],lt=_e.length,Ke=0,St,Ft;for(;Ke<lt;++Ke)St=me[Ke].fname,Ft=Ve[St]||(Ve[St]=P()),at.push(d(Ft,Ke,_e[Ke]));return this.eval(M,Z)},reinit(M,Z){let me=Z.materialize().fork(),_e=M.fields,Ve=M.query,at=this._indices,lt=this._dims,Ke=this.value,St=Ke.curr(),Ft=Ke.prev(),je=Ke.all(),te=me.rem=me.add,Xe=me.mod,ye=Ve.length,ke={},Ce,xe,Je,ut,Qt,wt,mn,Lt,It;if(Ft.set(St),Z.rem.length&&(Qt=this.remove(M,Z,me)),Z.add.length&&Ke.add(Z.add),Z.mod.length)for(wt={},ut=Z.mod,mn=0,Lt=ut.length;mn<Lt;++mn)wt[ut[mn]._index]=1;for(mn=0;mn<ye;++mn)It=_e[mn],(!lt[mn]||M.modified("fields",mn)||Z.modified(It.fields))&&(Je=It.fname,(Ce=ke[Je])||(at[Je]=xe=P(),ke[Je]=Ce=xe.insert(It,Z.source,0)),lt[mn]=d(xe,mn,Ve[mn]).onAdd(Ce,St));for(mn=0,Lt=Ke.data().length;mn<Lt;++mn)Qt[mn]||(Ft[mn]!==St[mn]?te.push(mn):wt[mn]&&St[mn]!==je&&Xe.push(mn));return Ke.mask=(1<<ye)-1,me},eval(M,Z){let me=Z.materialize().fork(),_e=this._dims.length,Ve=0;return Z.rem.length&&(this.remove(M,Z,me),Ve|=(1<<_e)-1),M.modified("query")&&!M.modified("fields")&&(Ve|=this.update(M,Z,me)),Z.add.length&&(this.insert(M,Z,me),Ve|=(1<<_e)-1),Z.mod.length&&(this.modify(Z,me),Ve|=(1<<_e)-1),this.value.mask=Ve,me},insert(M,Z,me){let _e=Z.add,Ve=this.value,at=this._dims,lt=this._indices,Ke=M.fields,St={},Ft=me.add,je=Ve.size()+_e.length,te=at.length,Xe=Ve.size(),ye,ke,Ce;Ve.resize(je,te),Ve.add(_e);let xe=Ve.curr(),Je=Ve.prev(),ut=Ve.all();for(ye=0;ye<te;++ye)ke=Ke[ye].fname,Ce=St[ke]||(St[ke]=lt[ke].insert(Ke[ye],_e,Xe)),at[ye].onAdd(Ce,xe);for(;Xe<je;++Xe)Je[Xe]=ut,xe[Xe]!==ut&&Ft.push(Xe)},modify(M,Z){let me=Z.mod,_e=this.value,Ve=_e.curr(),at=_e.all(),lt=M.mod,Ke,St,Ft;for(Ke=0,St=lt.length;Ke<St;++Ke)Ft=lt[Ke]._index,Ve[Ft]!==at&&me.push(Ft)},remove(M,Z,me){let _e=this._indices,Ve=this.value,at=Ve.curr(),lt=Ve.prev(),Ke=Ve.all(),St={},Ft=me.rem,je=Z.rem,te,Xe,ye,ke;for(te=0,Xe=je.length;te<Xe;++te)ye=je[te]._index,St[ye]=1,lt[ye]=ke=at[ye],at[ye]=Ke,ke!==Ke&&Ft.push(ye);for(ye in _e)_e[ye].remove(Xe,St);return this.reindex(Z,Xe,St),St},reindex(M,Z,me){let _e=this._indices,Ve=this.value;M.runAfter(()=>{let at=Ve.remove(Z,me);for(let lt in _e)_e[lt].reindex(at)})},update(M,Z,me){let _e=this._dims,Ve=M.query,at=Z.stamp,lt=_e.length,Ke=0,St,Ft;for(me.filters=0,Ft=0;Ft<lt;++Ft)M.modified("query",Ft)&&(St=Ft,++Ke);if(Ke===1)Ke=_e[St].one,this.incrementOne(_e[St],Ve[St],me.add,me.rem);else for(Ft=0,Ke=0;Ft<lt;++Ft)!M.modified("query",Ft)||(Ke|=_e[Ft].one,this.incrementAll(_e[Ft],Ve[Ft],at,me.add),me.rem=me.add);return Ke},incrementAll(M,Z,me,_e){let Ve=this.value,at=Ve.seen(),lt=Ve.curr(),Ke=Ve.prev(),St=M.index(),Ft=M.bisect(M.range),je=M.bisect(Z),te=je[0],Xe=je[1],ye=Ft[0],ke=Ft[1],Ce=M.one,xe,Je,ut;if(te<ye)for(xe=te,Je=Math.min(ye,Xe);xe<Je;++xe)ut=St[xe],at[ut]!==me&&(Ke[ut]=lt[ut],at[ut]=me,_e.push(ut)),lt[ut]^=Ce;else if(te>ye)for(xe=ye,Je=Math.min(te,ke);xe<Je;++xe)ut=St[xe],at[ut]!==me&&(Ke[ut]=lt[ut],at[ut]=me,_e.push(ut)),lt[ut]^=Ce;if(Xe>ke)for(xe=Math.max(te,ke),Je=Xe;xe<Je;++xe)ut=St[xe],at[ut]!==me&&(Ke[ut]=lt[ut],at[ut]=me,_e.push(ut)),lt[ut]^=Ce;else if(Xe<ke)for(xe=Math.max(ye,Xe),Je=ke;xe<Je;++xe)ut=St[xe],at[ut]!==me&&(Ke[ut]=lt[ut],at[ut]=me,_e.push(ut)),lt[ut]^=Ce;M.range=Z.slice()},incrementOne(M,Z,me,_e){let Ve=this.value,at=Ve.curr(),lt=M.index(),Ke=M.bisect(M.range),St=M.bisect(Z),Ft=St[0],je=St[1],te=Ke[0],Xe=Ke[1],ye=M.one,ke,Ce,xe;if(Ft<te)for(ke=Ft,Ce=Math.min(te,je);ke<Ce;++ke)xe=lt[ke],at[xe]^=ye,me.push(xe);else if(Ft>te)for(ke=te,Ce=Math.min(Ft,Xe);ke<Ce;++ke)xe=lt[ke],at[xe]^=ye,_e.push(xe);if(je>Xe)for(ke=Math.max(Ft,Xe),Ce=je;ke<Ce;++ke)xe=lt[ke],at[xe]^=ye,me.push(xe);else if(je<Xe)for(ke=Math.max(te,je),Ce=Xe;ke<Ce;++ke)xe=lt[ke],at[xe]^=ye,_e.push(xe);M.range=Z.slice()}});function de(M){e.Transform.call(this,null,M)}de.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},t.inherits(de,e.Transform,{transform(M,Z){let me=~(M.ignore||0),_e=M.filter,Ve=_e.mask;if((Ve&me)===0)return Z.StopPropagation;let at=Z.fork(Z.ALL),lt=_e.data(),Ke=_e.curr(),St=_e.prev(),Ft=je=>Ke[je]&me?null:lt[je];return at.filter(at.MOD,Ft),Ve&Ve-1?(at.filter(at.ADD,je=>{let te=Ke[je]&me;return!te&&te^St[je]&me?lt[je]:null}),at.filter(at.REM,je=>{let te=Ke[je]&me;return te&&!(te^(te^St[je]&me))?lt[je]:null})):(at.filter(at.ADD,Ft),at.filter(at.REM,je=>(Ke[je]&me)===Ve?lt[je]:null)),at.filter(at.SOURCE,je=>Ft(je._index))}}),n.crossfilter=K,n.resolvefilter=de,Object.defineProperty(n,"__esModule",{value:!0})})});var r$=Ae((n$,aTe)=>{m();(function(n,e){typeof n$=="object"&&typeof aTe!="undefined"?e(n$,Au()):typeof define=="function"&&define.amd?define(["exports","vega-util"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega))})(n$,function(n,e){"use strict";let t="RawCode",r="Literal",i="Property",s="Identifier",o="ArrayExpression",a="BinaryExpression",c="CallExpression",d="ConditionalExpression",p="LogicalExpression",E="MemberExpression",w="ObjectExpression",N="UnaryExpression";function R(S){this.type=S}R.prototype.visit=function(S){let B,ee,Ee;if(S(this))return 1;for(B=U(this),ee=0,Ee=B.length;ee<Ee;++ee)if(B[ee].visit(S))return 1};function U(S){switch(S.type){case o:return S.elements;case a:case p:return[S.left,S.right];case c:return[S.callee].concat(S.arguments);case d:return[S.test,S.consequent,S.alternate];case E:return[S.object,S.property];case w:return S.properties;case i:return[S.key,S.value];case N:return[S.argument];case s:case r:case t:default:return[]}}var Q,P,j,I,K,de=1,M=2,Z=3,me=4,_e=5,Ve=6,at=7,lt=8,Ke=9;Q={},Q[de]="Boolean",Q[M]="<end>",Q[Z]="Identifier",Q[me]="Keyword",Q[_e]="Null",Q[Ve]="Numeric",Q[at]="Punctuator",Q[lt]="String",Q[Ke]="RegularExpression";var St="ArrayExpression",Ft="BinaryExpression",je="CallExpression",te="ConditionalExpression",Xe="Identifier",ye="Literal",ke="LogicalExpression",Ce="MemberExpression",xe="ObjectExpression",Je="Property",ut="UnaryExpression",Qt="Unexpected token %0",wt="Unexpected number",mn="Unexpected string",Lt="Unexpected identifier",It="Unexpected reserved word",cn="Unexpected end of input",it="Invalid regular expression",ue="Invalid regular expression: missing /",De="Octal literals are not allowed in strict mode.",ve="Duplicate data property in object literal not allowed in strict mode",le="ILLEGAL",st="Disabled.",Ze=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Le=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function vt(S,B){if(!S)throw new Error("ASSERT: "+B)}function $t(S){return S>=48&&S<=57}function Mt(S){return"0123456789abcdefABCDEF".indexOf(S)>=0}function Vt(S){return"01234567".indexOf(S)>=0}function tn(S){return S===32||S===9||S===11||S===12||S===160||S>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(S)>=0}function en(S){return S===10||S===13||S===8232||S===8233}function En(S){return S===36||S===95||S>=65&&S<=90||S>=97&&S<=122||S===92||S>=128&&Ze.test(String.fromCharCode(S))}function Fn(S){return S===36||S===95||S>=65&&S<=90||S>=97&&S<=122||S>=48&&S<=57||S===92||S>=128&&Le.test(String.fromCharCode(S))}let On={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function qt(){for(;j<I;){let S=P.charCodeAt(j);if(tn(S)||en(S))++j;else break}}function pn(S){var B,ee,Ee,ft=0;for(ee=S==="u"?4:2,B=0;B<ee;++B)j<I&&Mt(P[j])?(Ee=P[j++],ft=ft*16+"0123456789abcdef".indexOf(Ee.toLowerCase())):ze({},Qt,le);return String.fromCharCode(ft)}function qn(){var S,B,ee,Ee;for(S=P[j],B=0,S==="}"&&ze({},Qt,le);j<I&&(S=P[j++],!!Mt(S));)B=B*16+"0123456789abcdef".indexOf(S.toLowerCase());return(B>1114111||S!=="}")&&ze({},Qt,le),B<=65535?String.fromCharCode(B):(ee=(B-65536>>10)+55296,Ee=(B-65536&1023)+56320,String.fromCharCode(ee,Ee))}function or(){var S,B;for(S=P.charCodeAt(j++),B=String.fromCharCode(S),S===92&&(P.charCodeAt(j)!==117&&ze({},Qt,le),++j,S=pn("u"),(!S||S==="\\"||!En(S.charCodeAt(0)))&&ze({},Qt,le),B=S);j<I&&(S=P.charCodeAt(j),!!Fn(S));)++j,B+=String.fromCharCode(S),S===92&&(B=B.substr(0,B.length-1),P.charCodeAt(j)!==117&&ze({},Qt,le),++j,S=pn("u"),(!S||S==="\\"||!Fn(S.charCodeAt(0)))&&ze({},Qt,le),B+=S);return B}function In(){var S,B;for(S=j++;j<I;){if(B=P.charCodeAt(j),B===92)return j=S,or();if(Fn(B))++j;else break}return P.slice(S,j)}function Ne(){var S,B,ee;return S=j,B=P.charCodeAt(j)===92?or():In(),B.length===1?ee=Z:On.hasOwnProperty(B)?ee=me:B==="null"?ee=_e:B==="true"||B==="false"?ee=de:ee=Z,{type:ee,value:B,start:S,end:j}}function $e(){var S=j,B=P.charCodeAt(j),ee,Ee=P[j],ft,Ct,Jt;switch(B){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++j,{type:at,value:String.fromCharCode(B),start:S,end:j};default:if(ee=P.charCodeAt(j+1),ee===61)switch(B){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return j+=2,{type:at,value:String.fromCharCode(B)+String.fromCharCode(ee),start:S,end:j};case 33:case 61:return j+=2,P.charCodeAt(j)===61&&++j,{type:at,value:P.slice(S,j),start:S,end:j}}}if(Jt=P.substr(j,4),Jt===">>>=")return j+=4,{type:at,value:Jt,start:S,end:j};if(Ct=Jt.substr(0,3),Ct===">>>"||Ct==="<<="||Ct===">>=")return j+=3,{type:at,value:Ct,start:S,end:j};if(ft=Ct.substr(0,2),Ee===ft[1]&&"+-<>&|".indexOf(Ee)>=0||ft==="=>")return j+=2,{type:at,value:ft,start:S,end:j};if(ft==="//"&&ze({},Qt,le),"<>=!+-*%&|^/".indexOf(Ee)>=0)return++j,{type:at,value:Ee,start:S,end:j};ze({},Qt,le)}function Oe(S){let B="";for(;j<I&&Mt(P[j]);)B+=P[j++];return B.length===0&&ze({},Qt,le),En(P.charCodeAt(j))&&ze({},Qt,le),{type:Ve,value:parseInt("0x"+B,16),start:S,end:j}}function jt(S){let B="0"+P[j++];for(;j<I&&Vt(P[j]);)B+=P[j++];return(En(P.charCodeAt(j))||$t(P.charCodeAt(j)))&&ze({},Qt,le),{type:Ve,value:parseInt(B,8),octal:!0,start:S,end:j}}function yt(){var S,B,ee;if(ee=P[j],vt($t(ee.charCodeAt(0))||ee===".","Numeric literal must start with a decimal digit or a decimal point"),B=j,S="",ee!=="."){if(S=P[j++],ee=P[j],S==="0"){if(ee==="x"||ee==="X")return++j,Oe(B);if(Vt(ee))return jt(B);ee&&$t(ee.charCodeAt(0))&&ze({},Qt,le)}for(;$t(P.charCodeAt(j));)S+=P[j++];ee=P[j]}if(ee==="."){for(S+=P[j++];$t(P.charCodeAt(j));)S+=P[j++];ee=P[j]}if(ee==="e"||ee==="E")if(S+=P[j++],ee=P[j],(ee==="+"||ee==="-")&&(S+=P[j++]),$t(P.charCodeAt(j)))for(;$t(P.charCodeAt(j));)S+=P[j++];else ze({},Qt,le);return En(P.charCodeAt(j))&&ze({},Qt,le),{type:Ve,value:parseFloat(S),start:B,end:j}}function mt(){var S="",B,ee,Ee,ft,Ct=!1;for(B=P[j],vt(B==="'"||B==='"',"String literal must starts with a quote"),ee=j,++j;j<I;)if(Ee=P[j++],Ee===B){B="";break}else if(Ee==="\\")if(Ee=P[j++],!Ee||!en(Ee.charCodeAt(0)))switch(Ee){case"u":case"x":P[j]==="{"?(++j,S+=qn()):S+=pn(Ee);break;case"n":S+=`
`;break;case"r":S+="\r";break;case"t":S+="	";break;case"b":S+="\b";break;case"f":S+="\f";break;case"v":S+="\v";break;default:Vt(Ee)?(ft="01234567".indexOf(Ee),ft!==0&&(Ct=!0),j<I&&Vt(P[j])&&(Ct=!0,ft=ft*8+"01234567".indexOf(P[j++]),"0123".indexOf(Ee)>=0&&j<I&&Vt(P[j])&&(ft=ft*8+"01234567".indexOf(P[j++]))),S+=String.fromCharCode(ft)):S+=Ee;break}else Ee==="\r"&&P[j]===`
`&&++j;else{if(en(Ee.charCodeAt(0)))break;S+=Ee}return B!==""&&ze({},Qt,le),{type:lt,value:S,octal:Ct,start:ee,end:j}}function nn(S,B){let ee=S;B.indexOf("u")>=0&&(ee=ee.replace(/\\u\{([0-9a-fA-F]+)\}/g,(Ee,ft)=>{if(parseInt(ft,16)<=1114111)return"x";ze({},it)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(ee)}catch{ze({},it)}try{return new RegExp(S,B)}catch{return null}}function Wt(){var S,B,ee,Ee,ft;for(S=P[j],vt(S==="/","Regular expression literal must start with a slash"),B=P[j++],ee=!1,Ee=!1;j<I;)if(S=P[j++],B+=S,S==="\\")S=P[j++],en(S.charCodeAt(0))&&ze({},ue),B+=S;else if(en(S.charCodeAt(0)))ze({},ue);else if(ee)S==="]"&&(ee=!1);else if(S==="/"){Ee=!0;break}else S==="["&&(ee=!0);return Ee||ze({},ue),ft=B.substr(1,B.length-2),{value:ft,literal:B}}function Dn(){var S,B,ee;for(B="",ee="";j<I&&(S=P[j],!!Fn(S.charCodeAt(0)));)++j,S==="\\"&&j<I?ze({},Qt,le):(ee+=S,B+=S);return ee.search(/[^gimuy]/g)>=0&&ze({},it,ee),{value:ee,literal:B}}function Qn(){var S,B,ee,Ee;return K=null,qt(),S=j,B=Wt(),ee=Dn(),Ee=nn(B.value,ee.value),{literal:B.literal+ee.literal,value:Ee,regex:{pattern:B.value,flags:ee.value},start:S,end:j}}function Zn(S){return S.type===Z||S.type===me||S.type===de||S.type===_e}function Pn(){if(qt(),j>=I)return{type:M,start:j,end:j};let S=P.charCodeAt(j);return En(S)?Ne():S===40||S===41||S===59?$e():S===39||S===34?mt():S===46?$t(P.charCodeAt(j+1))?yt():$e():$t(S)?yt():$e()}function ar(){let S=K;return j=S.end,K=Pn(),j=S.end,S}function Ye(){let S=j;K=Pn(),j=S}function gt(S){let B=new R(St);return B.elements=S,B}function se(S,B,ee){let Ee=new R(S==="||"||S==="&&"?ke:Ft);return Ee.operator=S,Ee.left=B,Ee.right=ee,Ee}function qe(S,B){let ee=new R(je);return ee.callee=S,ee.arguments=B,ee}function et(S,B,ee){let Ee=new R(te);return Ee.test=S,Ee.consequent=B,Ee.alternate=ee,Ee}function Tt(S){let B=new R(Xe);return B.name=S,B}function fn(S){let B=new R(ye);return B.value=S.value,B.raw=P.slice(S.start,S.end),S.regex&&(B.raw==="//"&&(B.raw="/(?:)/"),B.regex=S.regex),B}function on(S,B,ee){let Ee=new R(Ce);return Ee.computed=S==="[",Ee.object=B,Ee.property=ee,Ee.computed||(ee.member=!0),Ee}function ct(S){let B=new R(xe);return B.properties=S,B}function ie(S,B,ee){let Ee=new R(Je);return Ee.key=B,Ee.value=ee,Ee.kind=S,Ee}function Te(S,B){let ee=new R(ut);return ee.operator=S,ee.argument=B,ee.prefix=!0,ee}function ze(S,B){var ee,Ee=Array.prototype.slice.call(arguments,2),ft=B.replace(/%(\d)/g,(Ct,Jt)=>(vt(Jt<Ee.length,"Message reference must be in range"),Ee[Jt]));throw ee=new Error(ft),ee.index=j,ee.description=ft,ee}function ht(S){S.type===M&&ze(S,cn),S.type===Ve&&ze(S,wt),S.type===lt&&ze(S,mn),S.type===Z&&ze(S,Lt),S.type===me&&ze(S,It),ze(S,Qt,S.value)}function _t(S){let B=ar();(B.type!==at||B.value!==S)&&ht(B)}function Dt(S){return K.type===at&&K.value===S}function ne(S){return K.type===me&&K.value===S}function we(){let S=[];for(j=K.start,_t("[");!Dt("]");)Dt(",")?(ar(),S.push(null)):(S.push(Y()),Dt("]")||_t(","));return ar(),gt(S)}function We(){j=K.start;let S=ar();return S.type===lt||S.type===Ve?(S.octal&&ze(S,De),fn(S)):Tt(S.value)}function nt(){var S,B,ee,Ee;if(j=K.start,S=K,S.type===Z)return ee=We(),_t(":"),Ee=Y(),ie("init",ee,Ee);if(S.type===M||S.type===at)ht(S);else return B=We(),_t(":"),Ee=Y(),ie("init",B,Ee)}function Pt(){var S=[],B,ee,Ee,ft={},Ct=String;for(j=K.start,_t("{");!Dt("}");)B=nt(),B.key.type===Xe?ee=B.key.name:ee=Ct(B.key.value),Ee="$"+ee,Object.prototype.hasOwnProperty.call(ft,Ee)?ze({},ve):ft[Ee]=!0,S.push(B),Dt("}")||_t(",");return _t("}"),ct(S)}function sn(){_t("(");let S=oe();return _t(")"),S}let wn={if:1};function yn(){var S,B,ee;if(Dt("("))return sn();if(Dt("["))return we();if(Dt("{"))return Pt();if(S=K.type,j=K.start,S===Z||wn[K.value])ee=Tt(ar().value);else if(S===lt||S===Ve)K.octal&&ze(K,De),ee=fn(ar());else{if(S===me)throw new Error(st);S===de?(B=ar(),B.value=B.value==="true",ee=fn(B)):S===_e?(B=ar(),B.value=null,ee=fn(B)):Dt("/")||Dt("/=")?(ee=fn(Qn()),Ye()):ht(ar())}return ee}function xn(){let S=[];if(_t("("),!Dt(")"))for(;j<I&&(S.push(Y()),!Dt(")"));)_t(",");return _t(")"),S}function zn(){j=K.start;let S=ar();return Zn(S)||ht(S),Tt(S.value)}function Re(){return _t("."),zn()}function He(){_t("[");let S=oe();return _t("]"),S}function At(){var S,B,ee;for(S=yn();;)if(Dt("."))ee=Re(),S=on(".",S,ee);else if(Dt("("))B=xn(),S=qe(S,B);else if(Dt("["))ee=He(),S=on("[",S,ee);else break;return S}function L(){let S=At();if(K.type===at&&(Dt("++")||Dt("--")))throw new Error(st);return S}function V(){var S,B;if(K.type!==at&&K.type!==me)B=L();else{if(Dt("++")||Dt("--"))throw new Error(st);if(Dt("+")||Dt("-")||Dt("~")||Dt("!"))S=ar(),B=V(),B=Te(S.value,B);else{if(ne("delete")||ne("void")||ne("typeof"))throw new Error(st);B=L()}}return B}function be(S){let B=0;if(S.type!==at&&S.type!==me)return 0;switch(S.value){case"||":B=1;break;case"&&":B=2;break;case"|":B=3;break;case"^":B=4;break;case"&":B=5;break;case"==":case"!=":case"===":case"!==":B=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":B=7;break;case"<<":case">>":case">>>":B=8;break;case"+":case"-":B=9;break;case"*":case"/":case"%":B=11;break}return B}function pe(){var S,B,ee,Ee,ft,Ct,Jt,Kt,hn,Bn;if(S=K,hn=V(),Ee=K,ft=be(Ee),ft===0)return hn;for(Ee.prec=ft,ar(),B=[S,K],Jt=V(),Ct=[hn,Ee,Jt];(ft=be(K))>0;){for(;Ct.length>2&&ft<=Ct[Ct.length-2].prec;)Jt=Ct.pop(),Kt=Ct.pop().value,hn=Ct.pop(),B.pop(),ee=se(Kt,hn,Jt),Ct.push(ee);Ee=ar(),Ee.prec=ft,Ct.push(Ee),B.push(K),ee=V(),Ct.push(ee)}for(Bn=Ct.length-1,ee=Ct[Bn],B.pop();Bn>1;)B.pop(),ee=se(Ct[Bn-1].value,Ct[Bn-2],ee),Bn-=2;return ee}function Y(){var S,B,ee;return S=pe(),Dt("?")&&(ar(),B=Y(),_t(":"),ee=Y(),S=et(S,B,ee)),S}function oe(){let S=Y();if(Dt(","))throw new Error(st);return S}function ce(S){P=S,j=0,I=P.length,K=null,Ye();let B=oe();if(K.type!==M)throw new Error("Unexpect token after expression.");return B}var Qe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Rt(S){function B(Jt,Kt,hn,Bn){let jn=S(Kt[0]);return hn&&(jn=hn+"("+jn+")",hn.lastIndexOf("new ",0)===0&&(jn="("+jn+")")),jn+"."+Jt+(Bn<0?"":Bn===0?"()":"("+Kt.slice(1).map(S).join(",")+")")}function ee(Jt,Kt,hn){return Bn=>B(Jt,Bn,Kt,hn)}let Ee="new Date",ft="String",Ct="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(Jt){Jt.length<3&&e.error("Missing arguments to clamp function."),Jt.length>3&&e.error("Too many arguments to clamp function.");let Kt=Jt.map(S);return"Math.max("+Kt[1]+", Math.min("+Kt[2]+","+Kt[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:Ee,date:ee("getDate",Ee,0),day:ee("getDay",Ee,0),year:ee("getFullYear",Ee,0),month:ee("getMonth",Ee,0),hours:ee("getHours",Ee,0),minutes:ee("getMinutes",Ee,0),seconds:ee("getSeconds",Ee,0),milliseconds:ee("getMilliseconds",Ee,0),time:ee("getTime",Ee,0),timezoneoffset:ee("getTimezoneOffset",Ee,0),utcdate:ee("getUTCDate",Ee,0),utcday:ee("getUTCDay",Ee,0),utcyear:ee("getUTCFullYear",Ee,0),utcmonth:ee("getUTCMonth",Ee,0),utchours:ee("getUTCHours",Ee,0),utcminutes:ee("getUTCMinutes",Ee,0),utcseconds:ee("getUTCSeconds",Ee,0),utcmilliseconds:ee("getUTCMilliseconds",Ee,0),length:ee("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:ee("toUpperCase",ft,0),lower:ee("toLowerCase",ft,0),substring:ee("substring",ft),split:ee("split",ft),trim:ee("trim",ft,0),regexp:Ct,test:ee("test",Ct),if:function(Jt){Jt.length<3&&e.error("Missing arguments to if function."),Jt.length>3&&e.error("Too many arguments to if function.");let Kt=Jt.map(S);return"("+Kt[0]+"?"+Kt[1]+":"+Kt[2]+")"}}}function Et(S){let B=S&&S.length-1;return B&&(S[0]==='"'&&S[B]==='"'||S[0]==="'"&&S[B]==="'")?S.slice(1,-1):S}function ln(S){S=S||{};let B=S.allowed?e.toSet(S.allowed):{},ee=S.forbidden?e.toSet(S.forbidden):{},Ee=S.constants||Qe,ft=(S.functions||Rt)(Vn),Ct=S.globalvar,Jt=S.fieldvar,Kt=e.isFunction(Ct)?Ct:yr=>`${Ct}["${yr}"]`,hn={},Bn={},jn=0;function Vn(yr){if(e.isString(yr))return yr;let Pr=Xr[yr.type];return Pr==null&&e.error("Unsupported type: "+yr.type),Pr(yr)}let Xr={Literal:yr=>yr.raw,Identifier:yr=>{let Pr=yr.name;return jn>0?Pr:e.hasOwnProperty(ee,Pr)?e.error("Illegal identifier: "+Pr):e.hasOwnProperty(Ee,Pr)?Ee[Pr]:e.hasOwnProperty(B,Pr)?Pr:(hn[Pr]=1,Kt(Pr))},MemberExpression:yr=>{let Pr=!yr.computed,vi=Vn(yr.object);Pr&&(jn+=1);let li=Vn(yr.property);return vi===Jt&&(Bn[Et(li)]=1),Pr&&(jn-=1),vi+(Pr?"."+li:"["+li+"]")},CallExpression:yr=>{yr.callee.type!=="Identifier"&&e.error("Illegal callee type: "+yr.callee.type);let Pr=yr.callee.name,vi=yr.arguments,li=e.hasOwnProperty(ft,Pr)&&ft[Pr];return li||e.error("Unrecognized function: "+Pr),e.isFunction(li)?li(vi):li+"("+vi.map(Vn).join(",")+")"},ArrayExpression:yr=>"["+yr.elements.map(Vn).join(",")+"]",BinaryExpression:yr=>"("+Vn(yr.left)+" "+yr.operator+" "+Vn(yr.right)+")",UnaryExpression:yr=>"("+yr.operator+Vn(yr.argument)+")",ConditionalExpression:yr=>"("+Vn(yr.test)+"?"+Vn(yr.consequent)+":"+Vn(yr.alternate)+")",LogicalExpression:yr=>"("+Vn(yr.left)+yr.operator+Vn(yr.right)+")",ObjectExpression:yr=>"{"+yr.properties.map(Vn).join(",")+"}",Property:yr=>{jn+=1;let Pr=Vn(yr.key);return jn-=1,Pr+":"+Vn(yr.value)}};function Wr(yr){let Pr={code:Vn(yr),globals:Object.keys(hn),fields:Object.keys(Bn)};return hn={},Bn={},Pr}return Wr.functions=ft,Wr.constants=Ee,Wr}n.ASTNode=R,n.ArrayExpression=o,n.BinaryExpression=a,n.CallExpression=c,n.ConditionalExpression=d,n.Identifier=s,n.Literal=r,n.LogicalExpression=p,n.MemberExpression=E,n.ObjectExpression=w,n.Property=i,n.RawCode=t,n.UnaryExpression=N,n.codegenExpression=ln,n.constants=Qe,n.functions=Rt,n.parseExpression=ce,Object.defineProperty(n,"__esModule",{value:!0})})});var lTe=Ae((i$,uTe)=>{m();(function(n,e){typeof i$=="object"&&typeof uTe!="undefined"?e(i$,Au(),r$()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(i$,function(n,e,t){"use strict";function r(Je,ut){return Je==null||ut==null?NaN:Je<ut?-1:Je>ut?1:Je>=ut?0:NaN}function i(Je){let ut=Je,Qt=Je,wt=Je;Je.length!==2&&(ut=(cn,it)=>Je(cn)-it,Qt=r,wt=(cn,it)=>r(Je(cn),it));function mn(cn,it,ue=0,De=cn.length){if(ue<De){if(Qt(it,it)!==0)return De;do{let ve=ue+De>>>1;wt(cn[ve],it)<0?ue=ve+1:De=ve}while(ue<De)}return ue}function Lt(cn,it,ue=0,De=cn.length){if(ue<De){if(Qt(it,it)!==0)return De;do{let ve=ue+De>>>1;wt(cn[ve],it)<=0?ue=ve+1:De=ve}while(ue<De)}return ue}function It(cn,it,ue=0,De=cn.length){let ve=mn(cn,it,ue,De-1);return ve>ue&&ut(cn[ve-1],it)>-ut(cn[ve],it)?ve-1:ve}return{left:mn,center:It,right:Lt}}class s extends Set{constructor(ut,Qt=d){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Qt}}),ut!=null)for(let wt of ut)this.add(wt)}has(ut){return super.has(o(this,ut))}add(ut){return super.add(a(this,ut))}delete(ut){return super.delete(c(this,ut))}}function o({_intern:Je,_key:ut},Qt){let wt=ut(Qt);return Je.has(wt)?Je.get(wt):Qt}function a({_intern:Je,_key:ut},Qt){let wt=ut(Qt);return Je.has(wt)?Je.get(wt):(Je.set(wt,Qt),Qt)}function c({_intern:Je,_key:ut},Qt){let wt=ut(Qt);return Je.has(wt)&&(Qt=Je.get(wt),Je.delete(wt)),Qt}function d(Je){return Je!==null&&typeof Je=="object"?Je.valueOf():Je}function p(Je,...ut){Je=new s(Je),ut=ut.map(E);e:for(let Qt of Je)for(let wt of ut)if(!wt.has(Qt)){Je.delete(Qt);continue e}return Je}function E(Je){return Je instanceof s?Je:new s(Je)}function w(...Je){let ut=new s;for(let Qt of Je)for(let wt of Qt)ut.add(wt);return ut}let N="intersect",R="union",U="vlMulti",Q="vlPoint",P="or",j="and",I="_vgsid_",K=e.field(I),de="E",M="R",Z="R-E",me="R-LE",_e="R-RE",Ve="index:unit";function at(Je,ut){for(var Qt=ut.fields,wt=ut.values,mn=Qt.length,Lt=0,It,cn;Lt<mn;++Lt)if(cn=Qt[Lt],cn.getter=e.field.getter||e.field(cn.field),It=cn.getter(Je),e.isDate(It)&&(It=e.toNumber(It)),e.isDate(wt[Lt])&&(wt[Lt]=e.toNumber(wt[Lt])),e.isDate(wt[Lt][0])&&(wt[Lt]=wt[Lt].map(e.toNumber)),cn.type===de){if(e.isArray(wt[Lt])?wt[Lt].indexOf(It)<0:It!==wt[Lt])return!1}else if(cn.type===M){if(!e.inrange(It,wt[Lt]))return!1}else if(cn.type===_e){if(!e.inrange(It,wt[Lt],!0,!1))return!1}else if(cn.type===Z){if(!e.inrange(It,wt[Lt],!1,!1))return!1}else if(cn.type===me&&!e.inrange(It,wt[Lt],!1,!0))return!1;return!0}function lt(Je,ut,Qt){for(var wt=this.context.data[Je],mn=wt?wt.values.value:[],Lt=wt?wt[Ve]&&wt[Ve].value:void 0,It=Qt===N,cn=mn.length,it=0,ue,De,ve,le,st;it<cn;++it)if(ue=mn[it],Lt&&It){if(De=De||{},ve=De[le=ue.unit]||0,ve===-1)continue;if(st=at(ut,ue),De[le]=st?-1:++ve,st&&Lt.size===1)return!0;if(!st&&ve===Lt.get(le).count)return!1}else if(st=at(ut,ue),It^st)return st;return cn&&It}let Ke=i(K),St=Ke.left,Ft=Ke.right;function je(Je,ut,Qt){let wt=this.context.data[Je],mn=wt?wt.values.value:[],Lt=wt?wt[Ve]&&wt[Ve].value:void 0,It=Qt===N,cn=K(ut),it=St(mn,cn);if(it===mn.length||K(mn[it])!==cn)return!1;if(Lt&&It){if(Lt.size===1)return!0;if(Ft(mn,cn)-it<Lt.size)return!1}return!0}function te(Je,ut){return Je.map(Qt=>e.extend(ut.fields?{values:ut.fields.map(wt=>(wt.getter||(wt.getter=e.field(wt.field)))(Qt.datum))}:{[I]:K(Qt.datum)},ut))}function Xe(Je,ut,Qt,wt){for(var mn=this.context.data[Je],Lt=mn?mn.values.value:[],It={},cn={},it={},ue,De,ve,le,st,Ze,Le,vt,$t,Mt,Vt=Lt.length,tn=0,en,En;tn<Vt;++tn)if(ue=Lt[tn],le=ue.unit,De=ue.fields,ve=ue.values,De&&ve){for(en=0,En=De.length;en<En;++en)st=De[en],Le=It[st.field]||(It[st.field]={}),vt=Le[le]||(Le[le]=[]),it[st.field]=$t=st.type.charAt(0),Mt=ye[`${$t}_union`],Le[le]=Mt(vt,e.array(ve[en]));Qt&&(vt=cn[le]||(cn[le]=[]),vt.push(e.array(ve).reduce((Fn,On,qt)=>(Fn[De[qt].field]=On,Fn),{})))}else st=I,Ze=K(ue),Le=It[st]||(It[st]={}),vt=Le[le]||(Le[le]=[]),vt.push(Ze),Qt&&(vt=cn[le]||(cn[le]=[]),vt.push({[I]:Ze}));if(ut=ut||R,It[I]?It[I]=ye[`${I}_${ut}`](...Object.values(It[I])):Object.keys(It).forEach(Fn=>{It[Fn]=Object.keys(It[Fn]).map(On=>It[Fn][On]).reduce((On,qt)=>On===void 0?qt:ye[`${it[Fn]}_${ut}`](On,qt))}),Lt=Object.keys(cn),Qt&&Lt.length){let Fn=wt?Q:U;It[Fn]=ut===R?{[P]:Lt.reduce((On,qt)=>(On.push(...cn[qt]),On),[])}:{[j]:Lt.map(On=>({[P]:cn[On]}))}}return It}var ye={[`${I}_union`]:w,[`${I}_intersect`]:p,E_union:function(Je,ut){if(!Je.length)return ut;for(var Qt=0,wt=ut.length;Qt<wt;++Qt)Je.indexOf(ut[Qt])<0&&Je.push(ut[Qt]);return Je},E_intersect:function(Je,ut){return Je.length?Je.filter(Qt=>ut.indexOf(Qt)>=0):ut},R_union:function(Je,ut){var Qt=e.toNumber(ut[0]),wt=e.toNumber(ut[1]);return Qt>wt&&(Qt=ut[1],wt=ut[0]),Je.length?(Je[0]>Qt&&(Je[0]=Qt),Je[1]<wt&&(Je[1]=wt),Je):[Qt,wt]},R_intersect:function(Je,ut){var Qt=e.toNumber(ut[0]),wt=e.toNumber(ut[1]);return Qt>wt&&(Qt=ut[1],wt=ut[0]),Je.length?wt<Je[0]||Je[1]<Qt?[]:(Je[0]<Qt&&(Je[0]=Qt),Je[1]>wt&&(Je[1]=wt),Je):[Qt,wt]}};let ke=":",Ce="@";function xe(Je,ut,Qt,wt){ut[0].type!==t.Literal&&e.error("First argument to selection functions must be a string literal.");let mn=ut[0].value,Lt=ut.length>=2&&e.peek(ut).value,It="unit",cn=Ce+It,it=ke+mn;Lt===N&&!e.hasOwnProperty(wt,cn)&&(wt[cn]=Qt.getData(mn).indataRef(Qt,It)),e.hasOwnProperty(wt,it)||(wt[it]=Qt.getData(mn).tuplesRef())}n.selectionIdTest=je,n.selectionResolve=Xe,n.selectionTest=lt,n.selectionTuples=te,n.selectionVisitor=xe,Object.defineProperty(n,"__esModule",{value:!0})})});var o$=Ae((s$,cTe)=>{m();(function(n,e){typeof s$=="object"&&typeof cTe!="undefined"?e(s$,Au(),r$(),Xf(),Cb(),yC(),lTe(),wb(),gC()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-expression","vega-dataflow","vega-scale","vega-scenegraph","vega-selections","vega-statistics","vega-time"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(s$,function(n,e,t,r,i,s,o,a,c){"use strict";function d(ae){let ot=this.context.data[ae];return ot?ot.values.value:[]}function p(ae,ot,Xt){let Tn=this.context.data[ae]["index:"+ot],rr=Tn?Tn.value.get(Xt):void 0;return rr&&rr.count}function E(ae,ot){let Xt=this.context.dataflow,Tn=this.context.data[ae],rr=Tn.input;return Xt.pulse(rr,Xt.changeset().remove(e.truthy).insert(ot)),1}function w(ae,ot,Xt){if(ae){let Tn=this.context.dataflow,rr=ae.mark.source;Tn.pulse(rr,Tn.changeset().encode(ae,ot))}return Xt!==void 0?Xt:ae}let N=ae=>function(ot,Xt){return this.context.dataflow.locale()[ae](Xt)(ot)},R=N("format"),U=N("timeFormat"),Q=N("utcFormat"),P=N("timeParse"),j=N("utcParse"),I=new Date(2e3,0,1);function K(ae,ot,Xt){return!Number.isInteger(ae)||!Number.isInteger(ot)?"":(I.setYear(2e3),I.setMonth(ae),I.setDate(ot),U.call(this,I,Xt))}function de(ae){return K.call(this,ae,1,"%B")}function M(ae){return K.call(this,ae,1,"%b")}function Z(ae){return K.call(this,0,2+ae,"%A")}function me(ae){return K.call(this,0,2+ae,"%a")}let _e=":",Ve="@",at="%",lt="$";function Ke(ae,ot,Xt,Tn){ot[0].type!==t.Literal&&e.error("First argument to data functions must be a string literal.");let rr=ot[0].value,vr=_e+rr;if(!e.hasOwnProperty(vr,Tn))try{Tn[vr]=Xt.getData(rr).tuplesRef()}catch{}}function St(ae,ot,Xt,Tn){ot[0].type!==t.Literal&&e.error("First argument to indata must be a string literal."),ot[1].type!==t.Literal&&e.error("Second argument to indata must be a string literal.");let rr=ot[0].value,vr=ot[1].value,dr=Ve+vr;e.hasOwnProperty(dr,Tn)||(Tn[dr]=Xt.getData(rr).indataRef(Xt,vr))}function Ft(ae,ot,Xt,Tn){if(ot[0].type===t.Literal)je(Xt,Tn,ot[0].value);else for(ae in Xt.scales)je(Xt,Tn,ae)}function je(ae,ot,Xt){let Tn=at+Xt;if(!e.hasOwnProperty(ot,Tn))try{ot[Tn]=ae.scaleRef(Xt)}catch{}}function te(ae,ot){let Xt;return e.isFunction(ae)?ae:e.isString(ae)?(Xt=ot.scales[ae])&&Xt.value:void 0}function Xe(ae,ot,Xt){ot.__bandwidth=rr=>rr&&rr.bandwidth?rr.bandwidth():0,Xt._bandwidth=Ft,Xt._range=Ft,Xt._scale=Ft;let Tn=rr=>"_["+(rr.type===t.Literal?e.stringValue(at+rr.value):e.stringValue(at)+"+"+ae(rr))+"]";return{_bandwidth:rr=>`this.__bandwidth(${Tn(rr[0])})`,_range:rr=>`${Tn(rr[0])}.range()`,_scale:rr=>`${Tn(rr[0])}(${ae(rr[1])})`}}class ye{constructor(){this._partials=new Float64Array(32),this._n=0}add(ot){let Xt=this._partials,Tn=0;for(let rr=0;rr<this._n&&rr<32;rr++){let vr=Xt[rr],dr=ot+vr,es=Math.abs(ot)<Math.abs(vr)?ot-(dr-vr):vr-(dr-ot);es&&(Xt[Tn++]=es),ot=dr}return Xt[Tn]=ot,this._n=Tn+1,this}valueOf(){let ot=this._partials,Xt=this._n,Tn,rr,vr,dr=0;if(Xt>0){for(dr=ot[--Xt];Xt>0&&(Tn=dr,rr=ot[--Xt],dr=Tn+rr,vr=rr-(dr-Tn),!vr););Xt>0&&(vr<0&&ot[Xt-1]<0||vr>0&&ot[Xt-1]>0)&&(rr=vr*2,Tn=dr+rr,rr==Tn-dr&&(dr=Tn))}return dr}}function ke(ae,ot,Xt){ae=+ae,ot=+ot,Xt=(rr=arguments.length)<2?(ot=ae,ae=0,1):rr<3?1:+Xt;for(var Tn=-1,rr=Math.max(0,Math.ceil((ot-ae)/Xt))|0,vr=new Array(rr);++Tn<rr;)vr[Tn]=ae+Tn*Xt;return vr}var Ce=1e-6,xe=1e-12,Je=Math.PI,ut=Je/2,Qt=Je/4,wt=Je*2,mn=180/Je,Lt=Je/180,It=Math.abs,cn=Math.atan2,it=Math.cos,ue=Math.hypot,De=Math.sin,ve=Math.sqrt;function le(ae){return ae>1?ut:ae<-1?-ut:Math.asin(ae)}function st(){}function Ze(ae,ot){ae&&vt.hasOwnProperty(ae.type)&&vt[ae.type](ae,ot)}var Le={Feature:function(ae,ot){Ze(ae.geometry,ot)},FeatureCollection:function(ae,ot){for(var Xt=ae.features,Tn=-1,rr=Xt.length;++Tn<rr;)Ze(Xt[Tn].geometry,ot)}},vt={Sphere:function(ae,ot){ot.sphere()},Point:function(ae,ot){ae=ae.coordinates,ot.point(ae[0],ae[1],ae[2])},MultiPoint:function(ae,ot){for(var Xt=ae.coordinates,Tn=-1,rr=Xt.length;++Tn<rr;)ae=Xt[Tn],ot.point(ae[0],ae[1],ae[2])},LineString:function(ae,ot){$t(ae.coordinates,ot,0)},MultiLineString:function(ae,ot){for(var Xt=ae.coordinates,Tn=-1,rr=Xt.length;++Tn<rr;)$t(Xt[Tn],ot,0)},Polygon:function(ae,ot){Mt(ae.coordinates,ot)},MultiPolygon:function(ae,ot){for(var Xt=ae.coordinates,Tn=-1,rr=Xt.length;++Tn<rr;)Mt(Xt[Tn],ot)},GeometryCollection:function(ae,ot){for(var Xt=ae.geometries,Tn=-1,rr=Xt.length;++Tn<rr;)Ze(Xt[Tn],ot)}};function $t(ae,ot,Xt){var Tn=-1,rr=ae.length-Xt,vr;for(ot.lineStart();++Tn<rr;)vr=ae[Tn],ot.point(vr[0],vr[1],vr[2]);ot.lineEnd()}function Mt(ae,ot){var Xt=-1,Tn=ae.length;for(ot.polygonStart();++Xt<Tn;)$t(ae[Xt],ot,1);ot.polygonEnd()}function Vt(ae,ot){ae&&Le.hasOwnProperty(ae.type)?Le[ae.type](ae,ot):Ze(ae,ot)}var tn=new ye,en=new ye,En,Fn,On,qt,pn,qn={point:st,lineStart:st,lineEnd:st,polygonStart:function(){tn=new ye,qn.lineStart=or,qn.lineEnd=In},polygonEnd:function(){var ae=+tn;en.add(ae<0?wt+ae:ae),this.lineStart=this.lineEnd=this.point=st},sphere:function(){en.add(wt)}};function or(){qn.point=Ne}function In(){$e(En,Fn)}function Ne(ae,ot){qn.point=$e,En=ae,Fn=ot,ae*=Lt,ot*=Lt,On=ae,qt=it(ot=ot/2+Qt),pn=De(ot)}function $e(ae,ot){ae*=Lt,ot*=Lt,ot=ot/2+Qt;var Xt=ae-On,Tn=Xt>=0?1:-1,rr=Tn*Xt,vr=it(ot),dr=De(ot),es=pn*dr,_s=qt*vr+es*it(rr),Rs=es*Tn*De(rr);tn.add(cn(Rs,_s)),On=ae,qt=vr,pn=dr}function Oe(ae){return en=new ye,Vt(ae,qn),en*2}function jt(ae){return[cn(ae[1],ae[0]),le(ae[2])]}function yt(ae){var ot=ae[0],Xt=ae[1],Tn=it(Xt);return[Tn*it(ot),Tn*De(ot),De(Xt)]}function mt(ae,ot){return[ae[1]*ot[2]-ae[2]*ot[1],ae[2]*ot[0]-ae[0]*ot[2],ae[0]*ot[1]-ae[1]*ot[0]]}function nn(ae){var ot=ve(ae[0]*ae[0]+ae[1]*ae[1]+ae[2]*ae[2]);ae[0]/=ot,ae[1]/=ot,ae[2]/=ot}var Wt,Dn,Qn,Zn,Pn,ar,Ye,gt,se,qe,et,Tt={point:fn,lineStart:ct,lineEnd:ie,polygonStart:function(){Tt.point=Te,Tt.lineStart=ze,Tt.lineEnd=ht,se=new ye,qn.polygonStart()},polygonEnd:function(){qn.polygonEnd(),Tt.point=fn,Tt.lineStart=ct,Tt.lineEnd=ie,tn<0?(Wt=-(Qn=180),Dn=-(Zn=90)):se>Ce?Zn=90:se<-Ce&&(Dn=-90),et[0]=Wt,et[1]=Qn},sphere:function(){Wt=-(Qn=180),Dn=-(Zn=90)}};function fn(ae,ot){qe.push(et=[Wt=ae,Qn=ae]),ot<Dn&&(Dn=ot),ot>Zn&&(Zn=ot)}function on(ae,ot){var Xt=yt([ae*Lt,ot*Lt]);if(gt){var Tn=mt(gt,Xt),rr=[Tn[1],-Tn[0],0],vr=mt(rr,Tn);nn(vr),vr=jt(vr);var dr=ae-Pn,es=dr>0?1:-1,_s=vr[0]*mn*es,Rs,so=It(dr)>180;so^(es*Pn<_s&&_s<es*ae)?(Rs=vr[1]*mn,Rs>Zn&&(Zn=Rs)):(_s=(_s+360)%360-180,so^(es*Pn<_s&&_s<es*ae)?(Rs=-vr[1]*mn,Rs<Dn&&(Dn=Rs)):(ot<Dn&&(Dn=ot),ot>Zn&&(Zn=ot))),so?ae<Pn?_t(Wt,ae)>_t(Wt,Qn)&&(Qn=ae):_t(ae,Qn)>_t(Wt,Qn)&&(Wt=ae):Qn>=Wt?(ae<Wt&&(Wt=ae),ae>Qn&&(Qn=ae)):ae>Pn?_t(Wt,ae)>_t(Wt,Qn)&&(Qn=ae):_t(ae,Qn)>_t(Wt,Qn)&&(Wt=ae)}else qe.push(et=[Wt=ae,Qn=ae]);ot<Dn&&(Dn=ot),ot>Zn&&(Zn=ot),gt=Xt,Pn=ae}function ct(){Tt.point=on}function ie(){et[0]=Wt,et[1]=Qn,Tt.point=fn,gt=null}function Te(ae,ot){if(gt){var Xt=ae-Pn;se.add(It(Xt)>180?Xt+(Xt>0?360:-360):Xt)}else ar=ae,Ye=ot;qn.point(ae,ot),on(ae,ot)}function ze(){qn.lineStart()}function ht(){Te(ar,Ye),qn.lineEnd(),It(se)>Ce&&(Wt=-(Qn=180)),et[0]=Wt,et[1]=Qn,gt=null}function _t(ae,ot){return(ot-=ae)<0?ot+360:ot}function Dt(ae,ot){return ae[0]-ot[0]}function ne(ae,ot){return ae[0]<=ae[1]?ae[0]<=ot&&ot<=ae[1]:ot<ae[0]||ae[1]<ot}function we(ae){var ot,Xt,Tn,rr,vr,dr,es;if(Zn=Qn=-(Wt=Dn=1/0),qe=[],Vt(ae,Tt),Xt=qe.length){for(qe.sort(Dt),ot=1,Tn=qe[0],vr=[Tn];ot<Xt;++ot)rr=qe[ot],ne(Tn,rr[0])||ne(Tn,rr[1])?(_t(Tn[0],rr[1])>_t(Tn[0],Tn[1])&&(Tn[1]=rr[1]),_t(rr[0],Tn[1])>_t(Tn[0],Tn[1])&&(Tn[0]=rr[0])):vr.push(Tn=rr);for(dr=-1/0,Xt=vr.length-1,ot=0,Tn=vr[Xt];ot<=Xt;Tn=rr,++ot)rr=vr[ot],(es=_t(Tn[1],rr[0]))>dr&&(dr=es,Wt=rr[0],Qn=Tn[1])}return qe=et=null,Wt===1/0||Dn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Wt,Dn],[Qn,Zn]]}var We,nt,Pt,sn,wn,yn,xn,zn,Re,He,At,L,V,be,pe,Y,oe={sphere:st,point:ce,lineStart:Rt,lineEnd:S,polygonStart:function(){oe.lineStart=B,oe.lineEnd=ee},polygonEnd:function(){oe.lineStart=Rt,oe.lineEnd=S}};function ce(ae,ot){ae*=Lt,ot*=Lt;var Xt=it(ot);Qe(Xt*it(ae),Xt*De(ae),De(ot))}function Qe(ae,ot,Xt){++We,Pt+=(ae-Pt)/We,sn+=(ot-sn)/We,wn+=(Xt-wn)/We}function Rt(){oe.point=Et}function Et(ae,ot){ae*=Lt,ot*=Lt;var Xt=it(ot);be=Xt*it(ae),pe=Xt*De(ae),Y=De(ot),oe.point=ln,Qe(be,pe,Y)}function ln(ae,ot){ae*=Lt,ot*=Lt;var Xt=it(ot),Tn=Xt*it(ae),rr=Xt*De(ae),vr=De(ot),dr=cn(ve((dr=pe*vr-Y*rr)*dr+(dr=Y*Tn-be*vr)*dr+(dr=be*rr-pe*Tn)*dr),be*Tn+pe*rr+Y*vr);nt+=dr,yn+=dr*(be+(be=Tn)),xn+=dr*(pe+(pe=rr)),zn+=dr*(Y+(Y=vr)),Qe(be,pe,Y)}function S(){oe.point=ce}function B(){oe.point=Ee}function ee(){ft(L,V),oe.point=ce}function Ee(ae,ot){L=ae,V=ot,ae*=Lt,ot*=Lt,oe.point=ft;var Xt=it(ot);be=Xt*it(ae),pe=Xt*De(ae),Y=De(ot),Qe(be,pe,Y)}function ft(ae,ot){ae*=Lt,ot*=Lt;var Xt=it(ot),Tn=Xt*it(ae),rr=Xt*De(ae),vr=De(ot),dr=pe*vr-Y*rr,es=Y*Tn-be*vr,_s=be*rr-pe*Tn,Rs=ue(dr,es,_s),so=le(Rs),Xa=Rs&&-so/Rs;Re.add(Xa*dr),He.add(Xa*es),At.add(Xa*_s),nt+=so,yn+=so*(be+(be=Tn)),xn+=so*(pe+(pe=rr)),zn+=so*(Y+(Y=vr)),Qe(be,pe,Y)}function Ct(ae){We=nt=Pt=sn=wn=yn=xn=zn=0,Re=new ye,He=new ye,At=new ye,Vt(ae,oe);var ot=+Re,Xt=+He,Tn=+At,rr=ue(ot,Xt,Tn);return rr<xe&&(ot=yn,Xt=xn,Tn=zn,nt<Ce&&(ot=Pt,Xt=sn,Tn=wn),rr=ue(ot,Xt,Tn),rr<xe)?[NaN,NaN]:[cn(Xt,ot)*mn,le(Tn/rr)*mn]}function Jt(ae,ot){return function(Xt,Tn,rr){if(Xt){let vr=te(Xt,(rr||this).context);return vr&&vr.path[ae](Tn)}else return ot(Tn)}}let Kt=Jt("area",Oe),hn=Jt("bounds",we),Bn=Jt("centroid",Ct);function jn(ae){let ot=this.context.group,Xt=!1;if(ot)for(;ae;){if(ae===ot){Xt=!0;break}ae=ae.mark.group}return Xt}function Vn(ae,ot,Xt){try{ae[ot].apply(ae,["EXPRESSION"].concat([].slice.call(Xt)))}catch(Tn){ae.warn(Tn)}return Xt[Xt.length-1]}function Xr(){return Vn(this.context.dataflow,"warn",arguments)}function Wr(){return Vn(this.context.dataflow,"info",arguments)}function yr(){return Vn(this.context.dataflow,"debug",arguments)}function Pr(ae,ot,Xt){ae.prototype=ot.prototype=Xt,Xt.constructor=ae}function vi(ae,ot){var Xt=Object.create(ae.prototype);for(var Tn in ot)Xt[Tn]=ot[Tn];return Xt}function li(){}var Xi=.7,ws=1/Xi,ts="\\s*([+-]?\\d+)\\s*",Ca="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hl=/^#([0-9a-f]{3,8})$/,Sc=new RegExp("^rgb\\("+[ts,ts,ts]+"\\)$"),cu=new RegExp("^rgb\\("+[pa,pa,pa]+"\\)$"),fu=new RegExp("^rgba\\("+[ts,ts,ts,Ca]+"\\)$"),Xu=new RegExp("^rgba\\("+[pa,pa,pa,Ca]+"\\)$"),Fu=new RegExp("^hsl\\("+[Ca,pa,pa]+"\\)$"),wc=new RegExp("^hsla\\("+[Ca,pa,pa,Ca]+"\\)$"),ta={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pr(li,Gt,{copy:function(ae){return Object.assign(new this.constructor,this,ae)},displayable:function(){return this.rgb().displayable()},hex:Zu,formatHex:Zu,formatHsl:Qc,formatRgb:Ge,toString:Ge});function Zu(){return this.rgb().formatHex()}function Qc(){return io(this).formatHsl()}function Ge(){return this.rgb().formatRgb()}function Gt(ae){var ot,Xt;return ae=(ae+"").trim().toLowerCase(),(ot=hl.exec(ae))?(Xt=ot[1].length,ot=parseInt(ot[1],16),Xt===6?Mn(ot):Xt===3?new Zr(ot>>8&15|ot>>4&240,ot>>4&15|ot&240,(ot&15)<<4|ot&15,1):Xt===8?Yn(ot>>24&255,ot>>16&255,ot>>8&255,(ot&255)/255):Xt===4?Yn(ot>>12&15|ot>>8&240,ot>>8&15|ot>>4&240,ot>>4&15|ot&240,((ot&15)<<4|ot&15)/255):null):(ot=Sc.exec(ae))?new Zr(ot[1],ot[2],ot[3],1):(ot=cu.exec(ae))?new Zr(ot[1]*255/100,ot[2]*255/100,ot[3]*255/100,1):(ot=fu.exec(ae))?Yn(ot[1],ot[2],ot[3],ot[4]):(ot=Xu.exec(ae))?Yn(ot[1]*255/100,ot[2]*255/100,ot[3]*255/100,ot[4]):(ot=Fu.exec(ae))?hs(ot[1],ot[2]/100,ot[3]/100,1):(ot=wc.exec(ae))?hs(ot[1],ot[2]/100,ot[3]/100,ot[4]):ta.hasOwnProperty(ae)?Mn(ta[ae]):ae==="transparent"?new Zr(NaN,NaN,NaN,0):null}function Mn(ae){return new Zr(ae>>16&255,ae>>8&255,ae&255,1)}function Yn(ae,ot,Xt,Tn){return Tn<=0&&(ae=ot=Xt=NaN),new Zr(ae,ot,Xt,Tn)}function si(ae){return ae instanceof li||(ae=Gt(ae)),ae?(ae=ae.rgb(),new Zr(ae.r,ae.g,ae.b,ae.opacity)):new Zr}function jr(ae,ot,Xt,Tn){return arguments.length===1?si(ae):new Zr(ae,ot,Xt,Tn??1)}function Zr(ae,ot,Xt,Tn){this.r=+ae,this.g=+ot,this.b=+Xt,this.opacity=+Tn}Pr(Zr,jr,vi(li,{brighter:function(ae){return ae=ae==null?ws:Math.pow(ws,ae),new Zr(this.r*ae,this.g*ae,this.b*ae,this.opacity)},darker:function(ae){return ae=ae==null?Xi:Math.pow(Xi,ae),new Zr(this.r*ae,this.g*ae,this.b*ae,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cs,formatHex:Cs,formatRgb:fo,toString:fo}));function Cs(){return"#"+ro(this.r)+ro(this.g)+ro(this.b)}function fo(){var ae=this.opacity;return ae=isNaN(ae)?1:Math.max(0,Math.min(1,ae)),(ae===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ae===1?")":", "+ae+")")}function ro(ae){return ae=Math.max(0,Math.min(255,Math.round(ae)||0)),(ae<16?"0":"")+ae.toString(16)}function hs(ae,ot,Xt,Tn){return Tn<=0?ae=ot=Xt=NaN:Xt<=0||Xt>=1?ae=ot=NaN:ot<=0&&(ae=NaN),new xi(ae,ot,Xt,Tn)}function io(ae){if(ae instanceof xi)return new xi(ae.h,ae.s,ae.l,ae.opacity);if(ae instanceof li||(ae=Gt(ae)),!ae)return new xi;if(ae instanceof xi)return ae;ae=ae.rgb();var ot=ae.r/255,Xt=ae.g/255,Tn=ae.b/255,rr=Math.min(ot,Xt,Tn),vr=Math.max(ot,Xt,Tn),dr=NaN,es=vr-rr,_s=(vr+rr)/2;return es?(ot===vr?dr=(Xt-Tn)/es+(Xt<Tn)*6:Xt===vr?dr=(Tn-ot)/es+2:dr=(ot-Xt)/es+4,es/=_s<.5?vr+rr:2-vr-rr,dr*=60):es=_s>0&&_s<1?0:dr,new xi(dr,es,_s,ae.opacity)}function ho(ae,ot,Xt,Tn){return arguments.length===1?io(ae):new xi(ae,ot,Xt,Tn??1)}function xi(ae,ot,Xt,Tn){this.h=+ae,this.s=+ot,this.l=+Xt,this.opacity=+Tn}Pr(xi,ho,vi(li,{brighter:function(ae){return ae=ae==null?ws:Math.pow(ws,ae),new xi(this.h,this.s,this.l*ae,this.opacity)},darker:function(ae){return ae=ae==null?Xi:Math.pow(Xi,ae),new xi(this.h,this.s,this.l*ae,this.opacity)},rgb:function(){var ae=this.h%360+(this.h<0)*360,ot=isNaN(ae)||isNaN(this.s)?0:this.s,Xt=this.l,Tn=Xt+(Xt<.5?Xt:1-Xt)*ot,rr=2*Xt-Tn;return new Zr(Ci(ae>=240?ae-240:ae+120,rr,Tn),Ci(ae,rr,Tn),Ci(ae<120?ae+240:ae-120,rr,Tn),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ae=this.opacity;return ae=isNaN(ae)?1:Math.max(0,Math.min(1,ae)),(ae===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(ae===1?")":", "+ae+")")}}));function Ci(ae,ot,Xt){return(ae<60?ot+(Xt-ot)*ae/60:ae<180?Xt:ae<240?ot+(Xt-ot)*(240-ae)/60:ot)*255}let Wi=Math.PI/180,Xo=180/Math.PI,fa=18,da=.96422,po=1,us=.82521,ps=4/29,Zi=6/29,du=3*Zi*Zi,Is=Zi*Zi*Zi;function ma(ae){if(ae instanceof ki)return new ki(ae.l,ae.a,ae.b,ae.opacity);if(ae instanceof Ro)return To(ae);ae instanceof Zr||(ae=si(ae));var ot=Oo(ae.r),Xt=Oo(ae.g),Tn=Oo(ae.b),rr=Vo((.2225045*ot+.7168786*Xt+.0606169*Tn)/po),vr,dr;return ot===Xt&&Xt===Tn?vr=dr=rr:(vr=Vo((.4360747*ot+.3850649*Xt+.1430804*Tn)/da),dr=Vo((.0139322*ot+.0971045*Xt+.7141733*Tn)/us)),new ki(116*rr-16,500*(vr-rr),200*(rr-dr),ae.opacity)}function oa(ae,ot,Xt,Tn){return arguments.length===1?ma(ae):new ki(ae,ot,Xt,Tn??1)}function ki(ae,ot,Xt,Tn){this.l=+ae,this.a=+ot,this.b=+Xt,this.opacity=+Tn}Pr(ki,oa,vi(li,{brighter:function(ae){return new ki(this.l+fa*(ae??1),this.a,this.b,this.opacity)},darker:function(ae){return new ki(this.l-fa*(ae??1),this.a,this.b,this.opacity)},rgb:function(){var ae=(this.l+16)/116,ot=isNaN(this.a)?ae:ae+this.a/500,Xt=isNaN(this.b)?ae:ae-this.b/200;return ot=da*vs(ot),ae=po*vs(ae),Xt=us*vs(Xt),new Zr(Bi(3.1338561*ot-1.6168667*ae-.4906146*Xt),Bi(-.9787684*ot+1.9161415*ae+.033454*Xt),Bi(.0719453*ot-.2289914*ae+1.4052427*Xt),this.opacity)}}));function Vo(ae){return ae>Is?Math.pow(ae,1/3):ae/du+ps}function vs(ae){return ae>Zi?ae*ae*ae:du*(ae-ps)}function Bi(ae){return 255*(ae<=.0031308?12.92*ae:1.055*Math.pow(ae,1/2.4)-.055)}function Oo(ae){return(ae/=255)<=.04045?ae/12.92:Math.pow((ae+.055)/1.055,2.4)}function Na(ae){if(ae instanceof Ro)return new Ro(ae.h,ae.c,ae.l,ae.opacity);if(ae instanceof ki||(ae=ma(ae)),ae.a===0&&ae.b===0)return new Ro(NaN,0<ae.l&&ae.l<100?0:NaN,ae.l,ae.opacity);var ot=Math.atan2(ae.b,ae.a)*Xo;return new Ro(ot<0?ot+360:ot,Math.sqrt(ae.a*ae.a+ae.b*ae.b),ae.l,ae.opacity)}function Ja(ae,ot,Xt,Tn){return arguments.length===1?Na(ae):new Ro(ae,ot,Xt,Tn??1)}function Ro(ae,ot,Xt,Tn){this.h=+ae,this.c=+ot,this.l=+Xt,this.opacity=+Tn}function To(ae){if(isNaN(ae.h))return new ki(ae.l,0,0,ae.opacity);var ot=ae.h*Wi;return new ki(ae.l,Math.cos(ot)*ae.c,Math.sin(ot)*ae.c,ae.opacity)}Pr(Ro,Ja,vi(li,{brighter:function(ae){return new Ro(this.h,this.c,this.l+fa*(ae??1),this.opacity)},darker:function(ae){return new Ro(this.h,this.c,this.l-fa*(ae??1),this.opacity)},rgb:function(){return To(this).rgb()}}));function qa(ae){let ot=ae/255;return ot<=.03928?ot/12.92:Math.pow((ot+.055)/1.055,2.4)}function hu(ae){let ot=jr(ae),Xt=qa(ot.r),Tn=qa(ot.g),rr=qa(ot.b);return .2126*Xt+.7152*Tn+.0722*rr}function Ua(ae,ot){let Xt=hu(ae),Tn=hu(ot),rr=Math.max(Xt,Tn),vr=Math.min(Xt,Tn);return(rr+.05)/(vr+.05)}function aa(){let ae=[].slice.call(arguments);return ae.unshift({}),e.extend(...ae)}function ua(ae,ot){return ae===ot||ae!==ae&&ot!==ot?!0:e.isArray(ae)?e.isArray(ot)&&ae.length===ot.length?pl(ae,ot):!1:e.isObject(ae)&&e.isObject(ot)?Pl(ae,ot):!1}function pl(ae,ot){for(let Xt=0,Tn=ae.length;Xt<Tn;++Xt)if(!ua(ae[Xt],ot[Xt]))return!1;return!0}function Pl(ae,ot){for(let Xt in ae)if(!ua(ae[Xt],ot[Xt]))return!1;return!0}function na(ae){return ot=>Pl(ae,ot)}function el(ae,ot,Xt,Tn,rr,vr){let dr=this.context.dataflow,es=this.context.data[ae],_s=es.input,Rs=dr.stamp(),so=es.changes,Xa,Xl;if(dr._trigger===!1||!(_s.value.length||ot||Tn))return 0;if((!so||so.stamp<Rs)&&(es.changes=so=dr.changeset(),so.stamp=Rs,dr.runAfter(()=>{es.modified=!0,dr.pulse(_s,so).run()},!0,1)),Xt&&(Xa=Xt===!0?e.truthy:e.isArray(Xt)||r.isTuple(Xt)?Xt:na(Xt),so.remove(Xa)),ot&&so.insert(ot),Tn&&(Xa=na(Tn),_s.value.some(Xa)?so.remove(Xa):so.insert(Tn)),rr)for(Xl in vr)so.modify(rr,Xl,vr[Xl]);return 1}function ci(ae){let ot=ae.touches,Xt=ot[0].clientX-ot[1].clientX,Tn=ot[0].clientY-ot[1].clientY;return Math.sqrt(Xt*Xt+Tn*Tn)}function rs(ae){let ot=ae.touches;return Math.atan2(ot[0].clientY-ot[1].clientY,ot[0].clientX-ot[1].clientX)}let ls={};function pr(ae,ot){let Xt=ls[ot]||(ls[ot]=e.field(ot));return e.isArray(ae)?ae.map(Xt):Xt(ae)}function as(ae){return e.isArray(ae)||ArrayBuffer.isView(ae)?ae:null}function Me(ae){return as(ae)||(e.isString(ae)?ae:null)}function pt(ae,...ot){return as(ae).join(...ot)}function Yt(ae,...ot){return Me(ae).indexOf(...ot)}function Bt(ae,...ot){return Me(ae).lastIndexOf(...ot)}function dn(ae,...ot){return Me(ae).slice(...ot)}function Nn(ae,ot,Xt){return e.isFunction(Xt)&&e.error("Function argument passed to replace."),String(ae).replace(ot,Xt)}function Kn(ae){return as(ae).slice().reverse()}function Un(ae,ot,Xt){return i.bandSpace(ae||0,ot||0,Xt||0)}function br(ae,ot){let Xt=te(ae,(ot||this).context);return Xt&&Xt.bandwidth?Xt.bandwidth():0}function wr(ae,ot){let Xt=te(ae,(ot||this).context);return Xt?Xt.copy():void 0}function Gn(ae,ot){let Xt=te(ae,(ot||this).context);return Xt?Xt.domain():[]}function ur(ae,ot,Xt){let Tn=te(ae,(Xt||this).context);return Tn?e.isArray(ot)?(Tn.invertRange||Tn.invert)(ot):(Tn.invert||Tn.invertExtent)(ot):void 0}function tr(ae,ot){let Xt=te(ae,(ot||this).context);return Xt&&Xt.range?Xt.range():[]}function gr(ae,ot,Xt){let Tn=te(ae,(Xt||this).context);return Tn?Tn(ot):void 0}function Or(ae,ot,Xt,Tn,rr){ae=te(ae,(rr||this).context);let vr=s.Gradient(ot,Xt),dr=ae.domain(),es=dr[0],_s=e.peek(dr),Rs=e.identity;return _s-es?Rs=i.scaleFraction(ae,es,_s):ae=(ae.interpolator?i.scale("sequential")().interpolator(ae.interpolator()):i.scale("linear")().interpolate(ae.interpolate()).range(ae.range())).domain([es=0,_s=1]),ae.ticks&&(dr=ae.ticks(+Tn||15),es!==dr[0]&&dr.unshift(es),_s!==e.peek(dr)&&dr.push(_s)),dr.forEach(so=>vr.stop(Rs(so),ae(so))),vr}function mi(ae,ot,Xt){let Tn=te(ae,(Xt||this).context);return function(rr){return Tn?Tn.path.context(rr)(ot):""}}function ii(ae){let ot=null;return function(Xt){return Xt?s.pathRender(Xt,ot=ot||s.pathParse(ae)):ae}}let gi=ae=>ae.data;function oi(ae,ot){let Xt=d.call(ot,ae);return Xt.root&&Xt.root.lookup||{}}function Ur(ae,ot,Xt){let Tn=oi(ae,this),rr=Tn[ot],vr=Tn[Xt];return rr&&vr?rr.path(vr).map(gi):void 0}function Ir(ae,ot){let Xt=oi(ae,this)[ot];return Xt?Xt.ancestors().map(gi):void 0}let bi=()=>typeof window!="undefined"&&window||null;function _i(){let ae=bi();return ae?ae.screen:{}}function os(){let ae=bi();return ae?[ae.innerWidth,ae.innerHeight]:[void 0,void 0]}function gs(){let ae=this.context.dataflow,ot=ae.container&&ae.container();return ot?[ot.clientWidth,ot.clientHeight]:[void 0,void 0]}function Ei(ae,ot,Xt){if(!ae)return[];let[Tn,rr]=ae,vr=new s.Bounds().set(Tn[0],Tn[1],rr[0],rr[1]),dr=Xt||this.context.dataflow.scenegraph().root;return s.intersect(dr,vr,Ms(ot))}function Ms(ae){let ot=null;if(ae){let Xt=e.array(ae.marktype),Tn=e.array(ae.markname);ot=rr=>(!Xt.length||Xt.some(vr=>rr.marktype===vr))&&(!Tn.length||Tn.some(vr=>rr.name===vr))}return ot}function is(ae,ot,Xt,Tn=5){let rr=ae[ae.length-1];return rr===void 0||Math.sqrt((rr[0]-ot)**2+(rr[1]-Xt)**2)>Tn?(ae.push([ot,Xt]),[...ae]):ae}function xa(ae){return(ae??[]).reduce((ot,[Xt,Tn],rr)=>ot+=rr==0?`M ${Xt},${Tn} `:rr===ae.length-1?" Z":`L ${Xt},${Tn} `,"")}function No(ae,ot,Xt){let{x:Tn,y:rr,mark:vr}=Xt,dr=new s.Bounds().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let[_s,Rs]of ot)_s<dr.x1&&(dr.x1=_s),_s>dr.x2&&(dr.x2=_s),Rs<dr.y1&&(dr.y1=Rs),Rs>dr.y2&&(dr.y2=Rs);return dr.translate(Tn,rr),Ei([[dr.x1,dr.y1],[dr.x2,dr.y2]],ae,vr).filter(_s=>As(_s.x,_s.y,ot))}function As(ae,ot,Xt){let Tn=0;for(let rr=0,vr=Xt.length-1;rr<Xt.length;vr=rr++){let[dr,es]=Xt[vr],[_s,Rs]=Xt[rr];Rs>ot!=es>ot&&ae<(dr-_s)*(ot-Rs)/(es-Rs)+_s&&Tn++}return Tn&1}let Zt={random(){return a.random()},cumulativeNormal:a.cumulativeNormal,cumulativeLogNormal:a.cumulativeLogNormal,cumulativeUniform:a.cumulativeUniform,densityNormal:a.densityNormal,densityLogNormal:a.densityLogNormal,densityUniform:a.densityUniform,quantileNormal:a.quantileNormal,quantileLogNormal:a.quantileLogNormal,quantileUniform:a.quantileUniform,sampleNormal:a.sampleNormal,sampleLogNormal:a.sampleLogNormal,sampleUniform:a.sampleUniform,isArray:e.isArray,isBoolean:e.isBoolean,isDate:e.isDate,isDefined(ae){return ae!==void 0},isNumber:e.isNumber,isObject:e.isObject,isRegExp:e.isRegExp,isString:e.isString,isTuple:r.isTuple,isValid(ae){return ae!=null&&ae===ae},toBoolean:e.toBoolean,toDate(ae){return e.toDate(ae)},toNumber:e.toNumber,toString:e.toString,indexof:Yt,join:pt,lastindexof:Bt,replace:Nn,reverse:Kn,slice:dn,flush:e.flush,lerp:e.lerp,merge:aa,pad:e.pad,peek:e.peek,pluck:pr,span:e.span,inrange:e.inrange,truncate:e.truncate,rgb:jr,lab:oa,hcl:Ja,hsl:ho,luminance:hu,contrast:Ua,sequence:ke,format:R,utcFormat:Q,utcParse:j,utcOffset:c.utcOffset,utcSequence:c.utcSequence,timeFormat:U,timeParse:P,timeOffset:c.timeOffset,timeSequence:c.timeSequence,timeUnitSpecifier:c.timeUnitSpecifier,monthFormat:de,monthAbbrevFormat:M,dayFormat:Z,dayAbbrevFormat:me,quarter:e.quarter,utcquarter:e.utcquarter,week:c.week,utcweek:c.utcweek,dayofyear:c.dayofyear,utcdayofyear:c.utcdayofyear,warn:Xr,info:Wr,debug:yr,extent(ae){return e.extent(ae)},inScope:jn,intersect:Ei,clampRange:e.clampRange,pinchDistance:ci,pinchAngle:rs,screen:_i,containerSize:gs,windowSize:os,bandspace:Un,setdata:E,pathShape:ii,panLinear:e.panLinear,panLog:e.panLog,panPow:e.panPow,panSymlog:e.panSymlog,zoomLinear:e.zoomLinear,zoomLog:e.zoomLog,zoomPow:e.zoomPow,zoomSymlog:e.zoomSymlog,encode:w,modify:el,lassoAppend:is,lassoPath:xa,intersectLasso:No},Jn=["view","item","group","xy","x","y"],vn="event.vega.",Kr="this.",Oi={},ns={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:ae=>`_[${e.stringValue(lt+ae)}]`,functions:$i,constants:t.constants,visitors:Oi},ms=t.codegenExpression(ns);function $i(ae){let ot=t.functions(ae);Jn.forEach(Xt=>ot[Xt]=vn+Xt);for(let Xt in Zt)ot[Xt]=Kr+Xt;return e.extend(ot,Xe(ae,Zt,Oi)),ot}function cs(ae,ot,Xt){return arguments.length===1?Zt[ae]:(Zt[ae]=ot,Xt&&(Oi[ae]=Xt),ms&&(ms.functions[ae]=Kr+ae),this)}cs("bandwidth",br,Ft),cs("copy",wr,Ft),cs("domain",Gn,Ft),cs("range",tr,Ft),cs("invert",ur,Ft),cs("scale",gr,Ft),cs("gradient",Or,Ft),cs("geoArea",Kt,Ft),cs("geoBounds",hn,Ft),cs("geoCentroid",Bn,Ft),cs("geoShape",mi,Ft),cs("indata",p,St),cs("data",d,Ke),cs("treePath",Ur,Ke),cs("treeAncestors",Ir,Ke),cs("vlSelectionTest",o.selectionTest,o.selectionVisitor),cs("vlSelectionIdTest",o.selectionIdTest,o.selectionVisitor),cs("vlSelectionResolve",o.selectionResolve,o.selectionVisitor),cs("vlSelectionTuples",o.selectionTuples);function pu(ae,ot){let Xt={},Tn;try{ae=e.isString(ae)?ae:e.stringValue(ae)+"",Tn=t.parseExpression(ae)}catch{e.error("Expression parse error: "+ae)}Tn.visit(vr=>{if(vr.type!==t.CallExpression)return;let dr=vr.callee.name,es=ns.visitors[dr];es&&es(dr,vr.arguments,ot,Xt)});let rr=ms(Tn);return rr.globals.forEach(vr=>{let dr=lt+vr;!e.hasOwnProperty(Xt,dr)&&ot.getSignal(vr)&&(Xt[dr]=ot.signalRef(vr))}),{$expr:e.extend({code:rr.code},ot.options.ast?{ast:Tn}:null),$fields:rr.fields,$params:Xt}}n.DataPrefix=_e,n.IndexPrefix=Ve,n.ScalePrefix=at,n.SignalPrefix=lt,n.bandspace=Un,n.bandwidth=br,n.codeGenerator=ms,n.codegenParams=ns,n.containerSize=gs,n.contrast=Ua,n.copy=wr,n.data=d,n.dataVisitor=Ke,n.dayAbbrevFormat=me,n.dayFormat=Z,n.debug=yr,n.domain=Gn,n.encode=w,n.expressionFunction=cs,n.format=R,n.functionContext=Zt,n.geoArea=Kt,n.geoBounds=hn,n.geoCentroid=Bn,n.geoShape=mi,n.inScope=jn,n.indata=p,n.indataVisitor=St,n.indexof=Yt,n.info=Wr,n.invert=ur,n.join=pt,n.lastindexof=Bt,n.luminance=hu,n.merge=aa,n.modify=el,n.monthAbbrevFormat=M,n.monthFormat=de,n.parseExpression=pu,n.pathShape=ii,n.pinchAngle=rs,n.pinchDistance=ci,n.pluck=pr,n.range=tr,n.replace=Nn,n.reverse=Kn,n.scale=gr,n.scaleGradient=Or,n.scaleVisitor=Ft,n.screen=_i,n.setdata=E,n.slice=dn,n.timeFormat=U,n.timeParse=P,n.treeAncestors=Ir,n.treePath=Ur,n.utcFormat=Q,n.utcParse=j,n.warn=Xr,n.windowSize=os,Object.defineProperty(n,"__esModule",{value:!0})})});var Uae=Ae((a$,fTe)=>{m();(function(n,e){typeof a$=="object"&&typeof fTe!="undefined"?e(a$,Au(),Xf()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega))})(a$,function(n,e,t){"use strict";function r(ye){let ke=this,Ce=ye.operators||[];return ye.background&&(ke.background=ye.background),ye.eventConfig&&(ke.eventConfig=ye.eventConfig),ye.locale&&(ke.locale=ye.locale),Ce.forEach(xe=>ke.parseOperator(xe)),Ce.forEach(xe=>ke.parseOperatorParameters(xe)),(ye.streams||[]).forEach(xe=>ke.parseStream(xe)),(ye.updates||[]).forEach(xe=>ke.parseUpdate(xe)),ke.resolve()}let i=e.toSet(["rule"]),s=e.toSet(["group","image","rect"]);function o(ye,ke){let Ce="";return i[ke]||(ye.x2&&(ye.x?(s[ke]&&(Ce+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),Ce+="o.width=o.x2-o.x;"):Ce+="o.x=o.x2-(o.width||0);"),ye.xc&&(Ce+="o.x=o.xc-(o.width||0)/2;"),ye.y2&&(ye.y?(s[ke]&&(Ce+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),Ce+="o.height=o.y2-o.y;"):Ce+="o.y=o.y2-(o.height||0);"),ye.yc&&(Ce+="o.y=o.yc-(o.height||0)/2;")),Ce}function a(ye){return(ye+"").toLowerCase()}function c(ye){return a(ye)==="operator"}function d(ye){return a(ye)==="collect"}function p(ye,ke,Ce){Ce[Ce.length-1]!==";"&&(Ce="return("+Ce+");");let xe=Function(...ke.concat(Ce));return ye&&ye.functions?xe.bind(ye.functions):xe}function E(ye,ke,Ce,xe){return`((u = ${ye}) < (v = ${ke}) || u == null) && v != null ? ${Ce}
  : (u > v || v == null) && u != null ? ${xe}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Ce}
  : v !== v && u === u ? ${xe} : `}var w={operator:(ye,ke)=>p(ye,["_"],ke.code),parameter:(ye,ke)=>p(ye,["datum","_"],ke.code),event:(ye,ke)=>p(ye,["event"],ke.code),handler:(ye,ke)=>{let Ce=`var datum=event.item&&event.item.datum;return ${ke.code};`;return p(ye,["_","event"],Ce)},encode:(ye,ke)=>{let{marktype:Ce,channels:xe}=ke,Je="var o=item,datum=o.datum,m=0,$;";for(let ut in xe){let Qt="o["+e.stringValue(ut)+"]";Je+=`$=${xe[ut].code};if(${Qt}!==$)${Qt}=$,m=1;`}return Je+=o(xe,Ce),Je+="return m;",p(ye,["item","_"],Je)},codegen:{get(ye){let ke=`[${ye.map(e.stringValue).join("][")}]`,Ce=Function("_",`return _${ke};`);return Ce.path=ke,Ce},comparator(ye,ke){let Ce,xe=(ut,Qt)=>{let wt=ke[Qt],mn,Lt;return ut.path?(mn=`a${ut.path}`,Lt=`b${ut.path}`):((Ce=Ce||{})["f"+Qt]=ut,mn=`this.f${Qt}(a)`,Lt=`this.f${Qt}(b)`),E(mn,Lt,-wt,wt)},Je=Function("a","b","var u, v; return "+ye.map(xe).join("")+"0;");return Ce?Je.bind(Ce):Je}}};function N(ye){let ke=this;c(ye.type)||!ye.type?ke.operator(ye,ye.update?ke.operatorExpression(ye.update):null):ke.transform(ye,ye.type)}function R(ye){let ke=this;if(ye.params){let Ce=ke.get(ye.id);Ce||e.error("Invalid operator id: "+ye.id),ke.dataflow.connect(Ce,Ce.parameters(ke.parseParameters(ye.params),ye.react,ye.initonly))}}function U(ye,ke){ke=ke||{};let Ce=this;for(let xe in ye){let Je=ye[xe];ke[xe]=e.isArray(Je)?Je.map(ut=>Q(ut,Ce,ke)):Q(Je,Ce,ke)}return ke}function Q(ye,ke,Ce){if(!ye||!e.isObject(ye))return ye;for(let xe=0,Je=P.length,ut;xe<Je;++xe)if(ut=P[xe],e.hasOwnProperty(ye,ut.key))return ut.parse(ye,ke,Ce);return ye}var P=[{key:"$ref",parse:j},{key:"$key",parse:K},{key:"$expr",parse:I},{key:"$field",parse:de},{key:"$encode",parse:Z},{key:"$compare",parse:M},{key:"$context",parse:me},{key:"$subflow",parse:_e},{key:"$tupleid",parse:Ve}];function j(ye,ke){return ke.get(ye.$ref)||e.error("Operator not defined: "+ye.$ref)}function I(ye,ke,Ce){ye.$params&&ke.parseParameters(ye.$params,Ce);let xe="e:"+ye.$expr.code+"_"+ye.$name;return ke.fn[xe]||(ke.fn[xe]=e.accessor(ke.parameterExpression(ye.$expr),ye.$fields,ye.$name))}function K(ye,ke){let Ce="k:"+ye.$key+"_"+!!ye.$flat;return ke.fn[Ce]||(ke.fn[Ce]=e.key(ye.$key,ye.$flat,ke.expr.codegen))}function de(ye,ke){if(!ye.$field)return null;let Ce="f:"+ye.$field+"_"+ye.$name;return ke.fn[Ce]||(ke.fn[Ce]=e.field(ye.$field,ye.$name,ke.expr.codegen))}function M(ye,ke){let Ce="c:"+ye.$compare+"_"+ye.$order,xe=e.array(ye.$compare).map(Je=>Je&&Je.$tupleid?t.tupleid:Je);return ke.fn[Ce]||(ke.fn[Ce]=e.compare(xe,ye.$order,ke.expr.codegen))}function Z(ye,ke){let Ce=ye.$encode,xe={};for(let Je in Ce){let ut=Ce[Je];xe[Je]=e.accessor(ke.encodeExpression(ut.$expr),ut.$fields),xe[Je].output=ut.$output}return xe}function me(ye,ke){return ke}function _e(ye,ke){let Ce=ye.$subflow;return function(xe,Je,ut){let Qt=ke.fork().parse(Ce),wt=Qt.get(Ce.operators[0].id),mn=Qt.signals.parent;return mn&&mn.set(ut),wt.detachSubflow=()=>ke.detach(Qt),wt}}function Ve(){return t.tupleid}function at(ye){var ke=this,Ce=ye.filter!=null?ke.eventExpression(ye.filter):void 0,xe=ye.stream!=null?ke.get(ye.stream):void 0,Je;ye.source?xe=ke.events(ye.source,ye.type,Ce):ye.merge&&(Je=ye.merge.map(ut=>ke.get(ut)),xe=Je[0].merge.apply(Je[0],Je.slice(1))),ye.between&&(Je=ye.between.map(ut=>ke.get(ut)),xe=xe.between(Je[0],Je[1])),ye.filter&&(xe=xe.filter(Ce)),ye.throttle!=null&&(xe=xe.throttle(+ye.throttle)),ye.debounce!=null&&(xe=xe.debounce(+ye.debounce)),xe==null&&e.error("Invalid stream definition: "+JSON.stringify(ye)),ye.consume&&xe.consume(!0),ke.stream(ye,xe)}function lt(ye){var ke=this,Ce=e.isObject(Ce=ye.source)?Ce.$ref:Ce,xe=ke.get(Ce),Je=null,ut=ye.update,Qt=void 0;xe||e.error("Source not defined: "+ye.source),Je=ye.target&&ye.target.$expr?ke.eventExpression(ye.target.$expr):ke.get(ye.target),ut&&ut.$expr&&(ut.$params&&(Qt=ke.parseParameters(ut.$params)),ut=ke.handlerExpression(ut.$expr)),ke.update(ye,xe,Je,ut,Qt)}let Ke={skip:!0};function St(ye){var ke=this,Ce={};if(ye.signals){var xe=Ce.signals={};Object.keys(ke.signals).forEach(ut=>{let Qt=ke.signals[ut];ye.signals(ut,Qt)&&(xe[ut]=Qt.value)})}if(ye.data){var Je=Ce.data={};Object.keys(ke.data).forEach(ut=>{let Qt=ke.data[ut];ye.data(ut,Qt)&&(Je[ut]=Qt.input.value)})}return ke.subcontext&&ye.recurse!==!1&&(Ce.subcontext=ke.subcontext.map(ut=>ut.getState(ye))),Ce}function Ft(ye){var ke=this,Ce=ke.dataflow,xe=ye.data,Je=ye.signals;Object.keys(Je||{}).forEach(ut=>{Ce.update(ke.signals[ut],Je[ut],Ke)}),Object.keys(xe||{}).forEach(ut=>{Ce.pulse(ke.data[ut].input,Ce.changeset().remove(e.truthy).insert(xe[ut]))}),(ye.subcontext||[]).forEach((ut,Qt)=>{let wt=ke.subcontext[Qt];wt&&wt.setState(ut)})}function je(ye,ke,Ce,xe){return new te(ye,ke,Ce,xe)}function te(ye,ke,Ce,xe){this.dataflow=ye,this.transforms=ke,this.events=ye.events.bind(ye),this.expr=xe||w,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},Ce&&(this.functions=Object.create(Ce),this.functions.context=this)}function Xe(ye){this.dataflow=ye.dataflow,this.transforms=ye.transforms,this.events=ye.events,this.expr=ye.expr,this.signals=Object.create(ye.signals),this.scales=Object.create(ye.scales),this.nodes=Object.create(ye.nodes),this.data=Object.create(ye.data),this.fn=Object.create(ye.fn),ye.functions&&(this.functions=Object.create(ye.functions),this.functions.context=this)}te.prototype=Xe.prototype={fork(){let ye=new Xe(this);return(this.subcontext||(this.subcontext=[])).push(ye),ye},detach(ye){this.subcontext=this.subcontext.filter(Ce=>Ce!==ye);let ke=Object.keys(ye.nodes);for(let Ce of ke)ye.nodes[Ce]._targets=null;for(let Ce of ke)ye.nodes[Ce].detach();ye.nodes=null},get(ye){return this.nodes[ye]},set(ye,ke){return this.nodes[ye]=ke},add(ye,ke){let Ce=this,xe=Ce.dataflow,Je=ye.value;if(Ce.set(ye.id,ke),d(ye.type)&&Je&&(Je.$ingest?xe.ingest(ke,Je.$ingest,Je.$format):Je.$request?xe.preload(ke,Je.$request,Je.$format):xe.pulse(ke,xe.changeset().insert(Je))),ye.root&&(Ce.root=ke),ye.parent){let ut=Ce.get(ye.parent.$ref);ut?(xe.connect(ut,[ke]),ke.targets().add(ut)):(Ce.unresolved=Ce.unresolved||[]).push(()=>{ut=Ce.get(ye.parent.$ref),xe.connect(ut,[ke]),ke.targets().add(ut)})}if(ye.signal&&(Ce.signals[ye.signal]=ke),ye.scale&&(Ce.scales[ye.scale]=ke),ye.data)for(let ut in ye.data){let Qt=Ce.data[ut]||(Ce.data[ut]={});ye.data[ut].forEach(wt=>Qt[wt]=ke)}},resolve(){return(this.unresolved||[]).forEach(ye=>ye()),delete this.unresolved,this},operator(ye,ke){this.add(ye,this.dataflow.add(ye.value,ke))},transform(ye,ke){this.add(ye,this.dataflow.add(this.transforms[a(ke)]))},stream(ye,ke){this.set(ye.id,ke)},update(ye,ke,Ce,xe,Je){this.dataflow.on(ke,Ce,xe,Je,ye.options)},operatorExpression(ye){return this.expr.operator(this,ye)},parameterExpression(ye){return this.expr.parameter(this,ye)},eventExpression(ye){return this.expr.event(this,ye)},handlerExpression(ye){return this.expr.handler(this,ye)},encodeExpression(ye){return this.expr.encode(this,ye)},parse:r,parseOperator:N,parseOperatorParameters:R,parseParameters:U,parseStream:at,parseUpdate:lt,getState:St,setState:Ft},n.context=je,Object.defineProperty(n,"__esModule",{value:!0})})});var hTe=Ae((u$,dTe)=>{m();(function(n,e){typeof u$=="object"&&typeof dTe!="undefined"?e(u$,Au(),Xf(),yC(),o$(),Uae(),sR()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-dataflow","vega-scenegraph","vega-functions","vega-runtime","vega-format"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega,n.vega))})(u$,function(n,e,t,r,i,s,o){"use strict";function a(Y){let oe=Y.container();oe&&(oe.setAttribute("role","graphics-document"),oe.setAttribute("aria-roleDescription","visualization"),c(oe,Y.description()))}function c(Y,oe){Y&&(oe==null?Y.removeAttribute("aria-label"):Y.setAttribute("aria-label",oe))}function d(Y){Y.add(null,oe=>(Y._background=oe.bg,Y._resize=1,oe.bg),{bg:Y._signals.background})}let p="default";function E(Y){let oe=Y._signals.cursor||(Y._signals.cursor=Y.add({user:p,item:null}));Y.on(Y.events("view","mousemove"),oe,(ce,Qe)=>{let Rt=oe.value,Et=Rt?e.isString(Rt)?Rt:Rt.user:p,ln=Qe.item&&Qe.item.cursor||null;return Rt&&Et===Rt.user&&ln==Rt.item?Rt:{user:Et,item:ln}}),Y.add(null,function(ce){let Qe=ce.cursor,Rt=this.value;return e.isString(Qe)||(Rt=Qe.item,Qe=Qe.user),w(Y,Qe&&Qe!==p?Qe:Rt||Qe),Rt},{cursor:oe})}function w(Y,oe){let ce=Y.globalCursor()?typeof document!="undefined"&&document.body:Y.container();if(ce)return oe==null?ce.style.removeProperty("cursor"):ce.style.cursor=oe}function N(Y,oe){var ce=Y._runtime.data;return e.hasOwnProperty(ce,oe)||e.error("Unrecognized data set: "+oe),ce[oe]}function R(Y,oe){return arguments.length<2?N(this,Y).values.value:U.call(this,Y,t.changeset().remove(e.truthy).insert(oe))}function U(Y,oe){t.isChangeSet(oe)||e.error("Second argument to changes must be a changeset.");let ce=N(this,Y);return ce.modified=!0,this.pulse(ce.input,oe)}function Q(Y,oe){return U.call(this,Y,t.changeset().insert(oe))}function P(Y,oe){return U.call(this,Y,t.changeset().remove(oe))}function j(Y){var oe=Y.padding();return Math.max(0,Y._viewWidth+oe.left+oe.right)}function I(Y){var oe=Y.padding();return Math.max(0,Y._viewHeight+oe.top+oe.bottom)}function K(Y){var oe=Y.padding(),ce=Y._origin;return[oe.left+ce[0],oe.top+ce[1]]}function de(Y){var oe=K(Y),ce=j(Y),Qe=I(Y);Y._renderer.background(Y.background()),Y._renderer.resize(ce,Qe,oe),Y._handler.origin(oe),Y._resizeListeners.forEach(Rt=>{try{Rt(ce,Qe)}catch(Et){Y.error(Et)}})}function M(Y,oe,ce){var Qe=Y._renderer,Rt=Qe&&Qe.canvas(),Et,ln,S;return Rt&&(S=K(Y),ln=oe.changedTouches?oe.changedTouches[0]:oe,Et=r.point(ln,Rt),Et[0]-=S[0],Et[1]-=S[1]),oe.dataflow=Y,oe.item=ce,oe.vega=Z(Y,ce,Et),oe}function Z(Y,oe,ce){let Qe=oe?oe.mark.marktype==="group"?oe:oe.mark.group:null;function Rt(ln){var S=Qe,B;if(ln){for(B=oe;B;B=B.mark.group)if(B.mark.name===ln){S=B;break}}return S&&S.mark&&S.mark.interactive?S:{}}function Et(ln){if(!ln)return ce;e.isString(ln)&&(ln=Rt(ln));let S=ce.slice();for(;ln;)S[0]-=ln.x||0,S[1]-=ln.y||0,ln=ln.mark&&ln.mark.group;return S}return{view:e.constant(Y),item:e.constant(oe||{}),group:Rt,xy:Et,x:ln=>Et(ln)[0],y:ln=>Et(ln)[1]}}let me="view",_e="timer",Ve="window",at={trap:!1};function lt(Y){let oe=e.extend({defaults:{}},Y),ce=(Qe,Rt)=>{Rt.forEach(Et=>{e.isArray(Qe[Et])&&(Qe[Et]=e.toSet(Qe[Et]))})};return ce(oe.defaults,["prevent","allow"]),ce(oe,["view","window","selector"]),oe}function Ke(Y,oe,ce,Qe){Y._eventListeners.push({type:ce,sources:e.array(oe),handler:Qe})}function St(Y,oe){var ce=Y._eventConfig.defaults,Qe=ce.prevent,Rt=ce.allow;return Qe===!1||Rt===!0?!1:Qe===!0||Rt===!1?!0:Qe?Qe[oe]:Rt?!Rt[oe]:Y.preventDefault()}function Ft(Y,oe,ce){let Qe=Y._eventConfig&&Y._eventConfig[oe];return Qe===!1||e.isObject(Qe)&&!Qe[ce]?(Y.warn(`Blocked ${oe} ${ce} event listener.`),!1):!0}function je(Y,oe,ce){var Qe=this,Rt=new t.EventStream(ce),Et=function(ee,Ee){Qe.runAsync(null,()=>{Y===me&&St(Qe,oe)&&ee.preventDefault(),Rt.receive(M(Qe,ee,Ee))})},ln;if(Y===_e)Ft(Qe,"timer",oe)&&Qe.timer(Et,oe);else if(Y===me)Ft(Qe,"view",oe)&&Qe.addEventListener(oe,Et,at);else if(Y===Ve?Ft(Qe,"window",oe)&&typeof window!="undefined"&&(ln=[window]):typeof document!="undefined"&&Ft(Qe,"selector",oe)&&(ln=document.querySelectorAll(Y)),!ln)Qe.warn("Can not resolve event source: "+Y);else{for(var S=0,B=ln.length;S<B;++S)ln[S].addEventListener(oe,Et);Ke(Qe,ln,oe,Et)}return Rt}function te(Y){return Y.item}function Xe(Y){return Y.item.mark.source}function ye(Y){return function(oe,ce){return ce.vega.view().changeset().encode(ce.item,Y)}}function ke(Y,oe){return Y=[Y||"hover"],oe=[oe||"update",Y[0]],this.on(this.events("view","mouseover",te),Xe,ye(Y)),this.on(this.events("view","mouseout",te),Xe,ye(oe)),this}function Ce(){var Y=this._tooltip,oe=this._timers,ce=this._eventListeners,Qe,Rt,Et;for(Qe=oe.length;--Qe>=0;)oe[Qe].stop();for(Qe=ce.length;--Qe>=0;)for(Et=ce[Qe],Rt=Et.sources.length;--Rt>=0;)Et.sources[Rt].removeEventListener(Et.type,Et.handler);return Y&&Y.call(this,this._handler,null,null,null),this}function xe(Y,oe,ce){let Qe=document.createElement(Y);for(let Rt in oe)Qe.setAttribute(Rt,oe[Rt]);return ce!=null&&(Qe.textContent=ce),Qe}var Je=Math.sqrt(50),ut=Math.sqrt(10),Qt=Math.sqrt(2);function wt(Y,oe,ce){var Qe=Math.abs(oe-Y)/Math.max(0,ce),Rt=Math.pow(10,Math.floor(Math.log(Qe)/Math.LN10)),Et=Qe/Rt;return Et>=Je?Rt*=10:Et>=ut?Rt*=5:Et>=Qt&&(Rt*=2),oe<Y?-Rt:Rt}let mn="vega-bind",Lt="vega-bind-name",It="vega-bind-radio";function cn(Y,oe,ce){if(!oe)return;let Qe=ce.param,Rt=ce.state;return Rt||(Rt=ce.state={elements:null,active:!1,set:null,update:ln=>{ln!=Y.signal(Qe.signal)&&Y.runAsync(null,()=>{Rt.source=!0,Y.signal(Qe.signal,ln)})}},Qe.debounce&&(Rt.update=e.debounce(Qe.debounce,Rt.update))),(Qe.input==null&&Qe.element?it:De)(Rt,oe,Qe,Y),Rt.active||(Y.on(Y._signals[Qe.signal],null,()=>{Rt.source?Rt.source=!1:Rt.set(Y.signal(Qe.signal))}),Rt.active=!0),Rt}function it(Y,oe,ce,Qe){let Rt=ce.event||"input",Et=()=>Y.update(oe.value);Qe.signal(ce.signal,oe.value),oe.addEventListener(Rt,Et),Ke(Qe,oe,Rt,Et),Y.set=ln=>{oe.value=ln,oe.dispatchEvent(ue(Rt))}}function ue(Y){return typeof Event!="undefined"?new Event(Y):{type:Y}}function De(Y,oe,ce,Qe){let Rt=Qe.signal(ce.signal),Et=xe("div",{class:mn}),ln=ce.input==="radio"?Et:Et.appendChild(xe("label"));ln.appendChild(xe("span",{class:Lt},ce.name||ce.signal)),oe.appendChild(Et);let S=ve;switch(ce.input){case"checkbox":S=le;break;case"select":S=st;break;case"radio":S=Ze;break;case"range":S=Le;break}S(Y,ln,ce,Rt)}function ve(Y,oe,ce,Qe){let Rt=xe("input");for(let Et in ce)Et!=="signal"&&Et!=="element"&&Rt.setAttribute(Et==="input"?"type":Et,ce[Et]);Rt.setAttribute("name",ce.signal),Rt.value=Qe,oe.appendChild(Rt),Rt.addEventListener("input",()=>Y.update(Rt.value)),Y.elements=[Rt],Y.set=Et=>Rt.value=Et}function le(Y,oe,ce,Qe){let Rt={type:"checkbox",name:ce.signal};Qe&&(Rt.checked=!0);let Et=xe("input",Rt);oe.appendChild(Et),Et.addEventListener("change",()=>Y.update(Et.checked)),Y.elements=[Et],Y.set=ln=>Et.checked=!!ln||null}function st(Y,oe,ce,Qe){let Rt=xe("select",{name:ce.signal}),Et=ce.labels||[];ce.options.forEach((ln,S)=>{let B={value:ln};vt(ln,Qe)&&(B.selected=!0),Rt.appendChild(xe("option",B,(Et[S]||ln)+""))}),oe.appendChild(Rt),Rt.addEventListener("change",()=>{Y.update(ce.options[Rt.selectedIndex])}),Y.elements=[Rt],Y.set=ln=>{for(let S=0,B=ce.options.length;S<B;++S)if(vt(ce.options[S],ln)){Rt.selectedIndex=S;return}}}function Ze(Y,oe,ce,Qe){let Rt=xe("span",{class:It}),Et=ce.labels||[];oe.appendChild(Rt),Y.elements=ce.options.map((ln,S)=>{let B={type:"radio",name:ce.signal,value:ln};vt(ln,Qe)&&(B.checked=!0);let ee=xe("input",B);ee.addEventListener("change",()=>Y.update(ln));let Ee=xe("label",{},(Et[S]||ln)+"");return Ee.prepend(ee),Rt.appendChild(Ee),ee}),Y.set=ln=>{let S=Y.elements,B=S.length;for(let ee=0;ee<B;++ee)vt(S[ee].value,ln)&&(S[ee].checked=!0)}}function Le(Y,oe,ce,Qe){Qe=Qe!==void 0?Qe:(+ce.max+ +ce.min)/2;let Rt=ce.max!=null?ce.max:Math.max(100,+Qe)||100,Et=ce.min||Math.min(0,Rt,+Qe)||0,ln=ce.step||wt(Et,Rt,100),S=xe("input",{type:"range",name:ce.signal,min:Et,max:Rt,step:ln});S.value=Qe;let B=xe("span",{},+Qe);oe.appendChild(S),oe.appendChild(B);let ee=()=>{B.textContent=S.value,Y.update(+S.value)};S.addEventListener("input",ee),S.addEventListener("change",ee),Y.elements=[S],Y.set=Ee=>{S.value=Ee,B.textContent=Ee}}function vt(Y,oe){return Y===oe||Y+""==oe+""}function $t(Y,oe,ce,Qe,Rt,Et){return oe=oe||new Qe(Y.loader()),oe.initialize(ce,j(Y),I(Y),K(Y),Rt,Et).background(Y.background())}function Mt(Y,oe){return oe?function(){try{oe.apply(this,arguments)}catch(ce){Y.error(ce)}}:null}function Vt(Y,oe,ce,Qe){let Rt=new Qe(Y.loader(),Mt(Y,Y.tooltip())).scene(Y.scenegraph().root).initialize(ce,K(Y),Y);return oe&&oe.handlers().forEach(Et=>{Rt.on(Et.type,Et.handler)}),Rt}function tn(Y,oe){let ce=this,Qe=ce._renderType,Rt=ce._eventConfig.bind,Et=r.renderModule(Qe);Y=ce._el=Y?en(ce,Y,!0):null,a(ce),Et||ce.error("Unrecognized renderer type: "+Qe);let ln=Et.handler||r.CanvasHandler,S=Y?Et.renderer:Et.headless;return ce._renderer=S?$t(ce,ce._renderer,Y,S):null,ce._handler=Vt(ce,ce._handler,Y,ln),ce._redraw=!0,Y&&Rt!=="none"&&(oe=oe?ce._elBind=en(ce,oe,!0):Y.appendChild(xe("form",{class:"vega-bindings"})),ce._bind.forEach(B=>{B.param.element&&Rt!=="container"&&(B.element=en(ce,B.param.element,!!B.param.input))}),ce._bind.forEach(B=>{cn(ce,B.element||oe,B)})),ce}function en(Y,oe,ce){if(typeof oe=="string")if(typeof document!="undefined"){if(oe=document.querySelector(oe),!oe)return Y.error("Signal bind element not found: "+oe),null}else return Y.error("DOM document instance not found."),null;if(oe&&ce)try{oe.textContent=""}catch(Qe){oe=null,Y.error(Qe)}return oe}let En=Y=>+Y||0,Fn=Y=>({top:Y,bottom:Y,left:Y,right:Y});function On(Y){return e.isObject(Y)?{top:En(Y.top),bottom:En(Y.bottom),left:En(Y.left),right:En(Y.right)}:Fn(En(Y))}async function qt(Y,oe,ce,Qe){let Rt=r.renderModule(oe),Et=Rt&&Rt.headless;return Et||e.error("Unrecognized renderer type: "+oe),await Y.runAsync(),$t(Y,null,null,Et,ce,Qe).renderAsync(Y._scenegraph.root)}async function pn(Y,oe){Y!==r.RenderType.Canvas&&Y!==r.RenderType.SVG&&Y!==r.RenderType.PNG&&e.error("Unrecognized image type: "+Y);let ce=await qt(this,Y,oe);return Y===r.RenderType.SVG?qn(ce.svg(),"image/svg+xml"):ce.canvas().toDataURL("image/png")}function qn(Y,oe){let ce=new Blob([Y],{type:oe});return window.URL.createObjectURL(ce)}async function or(Y,oe){return(await qt(this,r.RenderType.Canvas,Y,oe)).canvas()}async function In(Y){return(await qt(this,r.RenderType.SVG,Y)).svg()}function Ne(Y,oe,ce){return s.context(Y,t.transforms,i.functionContext,ce).parse(oe)}function $e(Y){var oe=this._runtime.scales;return e.hasOwnProperty(oe,Y)||e.error("Unrecognized scale or projection: "+Y),oe[Y].value}var Oe="width",jt="height",yt="padding",mt={skip:!0};function nn(Y,oe){var ce=Y.autosize(),Qe=Y.padding();return oe-(ce&&ce.contains===yt?Qe.left+Qe.right:0)}function Wt(Y,oe){var ce=Y.autosize(),Qe=Y.padding();return oe-(ce&&ce.contains===yt?Qe.top+Qe.bottom:0)}function Dn(Y){var oe=Y._signals,ce=oe[Oe],Qe=oe[jt],Rt=oe[yt];function Et(){Y._autosize=Y._resize=1}Y._resizeWidth=Y.add(null,S=>{Y._width=S.size,Y._viewWidth=nn(Y,S.size),Et()},{size:ce}),Y._resizeHeight=Y.add(null,S=>{Y._height=S.size,Y._viewHeight=Wt(Y,S.size),Et()},{size:Qe});let ln=Y.add(null,Et,{pad:Rt});Y._resizeWidth.rank=ce.rank+1,Y._resizeHeight.rank=Qe.rank+1,ln.rank=Rt.rank+1}function Qn(Y,oe,ce,Qe,Rt,Et){this.runAfter(ln=>{let S=0;ln._autosize=0,ln.width()!==ce&&(S=1,ln.signal(Oe,ce,mt),ln._resizeWidth.skip(!0)),ln.height()!==Qe&&(S=1,ln.signal(jt,Qe,mt),ln._resizeHeight.skip(!0)),ln._viewWidth!==Y&&(ln._resize=1,ln._viewWidth=Y),ln._viewHeight!==oe&&(ln._resize=1,ln._viewHeight=oe),(ln._origin[0]!==Rt[0]||ln._origin[1]!==Rt[1])&&(ln._resize=1,ln._origin=Rt),S&&ln.run("enter"),Et&&ln.runAfter(B=>B.resize())},!1,1)}function Zn(Y){return this._runtime.getState(Y||{data:Pn,signals:ar,recurse:!0})}function Pn(Y,oe){return oe.modified&&e.isArray(oe.input.value)&&Y.indexOf("_:vega:_")}function ar(Y,oe){return!(Y==="parent"||oe instanceof t.transforms.proxy)}function Ye(Y){return this.runAsync(null,oe=>{oe._trigger=!1,oe._runtime.setState(Y)},oe=>{oe._trigger=!0}),this}var gt=0,se=0,qe=0,et=1e3,Tt,fn,on=0,ct=0,ie=0,Te=typeof performance=="object"&&performance.now?performance:Date,ze=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Y){setTimeout(Y,17)};function ht(){return ct||(ze(_t),ct=Te.now()+ie)}function _t(){ct=0}function Dt(){this._call=this._time=this._next=null}Dt.prototype={constructor:Dt,restart:function(Y,oe,ce){if(typeof Y!="function")throw new TypeError("callback is not a function");ce=(ce==null?ht():+ce)+(oe==null?0:+oe),!this._next&&fn!==this&&(fn?fn._next=this:Tt=this,fn=this),this._call=Y,this._time=ce,Pt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pt())}};function ne(){ht(),++gt;for(var Y=Tt,oe;Y;)(oe=ct-Y._time)>=0&&Y._call.call(void 0,oe),Y=Y._next;--gt}function we(){ct=(on=Te.now())+ie,gt=se=0;try{ne()}finally{gt=0,nt(),ct=0}}function We(){var Y=Te.now(),oe=Y-on;oe>et&&(ie-=oe,on=Y)}function nt(){for(var Y,oe=Tt,ce,Qe=1/0;oe;)oe._call?(Qe>oe._time&&(Qe=oe._time),Y=oe,oe=oe._next):(ce=oe._next,oe._next=null,oe=Y?Y._next=ce:Tt=ce);fn=Y,Pt(Qe)}function Pt(Y){if(!gt){se&&(se=clearTimeout(se));var oe=Y-ct;oe>24?(Y<1/0&&(se=setTimeout(we,Y-Te.now()-ie)),qe&&(qe=clearInterval(qe))):(qe||(on=Te.now(),qe=setInterval(We,et)),gt=1,ze(we))}}function sn(Y,oe,ce){var Qe=new Dt,Rt=oe;return oe==null?(Qe.restart(Y,oe,ce),Qe):(Qe._restart=Qe.restart,Qe.restart=function(Et,ln,S){ln=+ln,S=S==null?ht():+S,Qe._restart(function B(ee){ee+=Rt,Qe._restart(B,Rt+=ln,S),Et(ee)},ln,S)},Qe.restart(Y,oe,ce),Qe)}function wn(Y,oe){function ce(Qe){Y({timestamp:Date.now(),elapsed:Qe})}this._timers.push(sn(ce,oe))}function yn(Y,oe,ce,Qe){let Rt=Y.element();Rt&&Rt.setAttribute("title",xn(Qe))}function xn(Y){return Y==null?"":e.isArray(Y)?Re(Y):e.isObject(Y)&&!e.isDate(Y)?zn(Y):Y+""}function zn(Y){return Object.keys(Y).map(oe=>{let ce=Y[oe];return oe+": "+(e.isArray(ce)?Re(ce):He(ce))}).join(`
`)}function Re(Y){return"["+Y.map(He).join(", ")+"]"}function He(Y){return e.isArray(Y)?"[\u2026]":e.isObject(Y)&&!e.isDate(Y)?"{\u2026}":Y}function At(Y,oe){let ce=this;if(oe=oe||{},t.Dataflow.call(ce),oe.loader&&ce.loader(oe.loader),oe.logger&&ce.logger(oe.logger),oe.logLevel!=null&&ce.logLevel(oe.logLevel),oe.locale||Y.locale){let Et=e.extend({},Y.locale,oe.locale);ce.locale(o.locale(Et.number,Et.time))}ce._el=null,ce._elBind=null,ce._renderType=oe.renderer||r.RenderType.Canvas,ce._scenegraph=new r.Scenegraph;let Qe=ce._scenegraph.root;ce._renderer=null,ce._tooltip=oe.tooltip||yn,ce._redraw=!0,ce._handler=new r.CanvasHandler().scene(Qe),ce._globalCursor=!1,ce._preventDefault=!1,ce._timers=[],ce._eventListeners=[],ce._resizeListeners=[],ce._eventConfig=lt(Y.eventConfig),ce.globalCursor(ce._eventConfig.globalCursor);let Rt=Ne(ce,Y,oe.expr);ce._runtime=Rt,ce._signals=Rt.signals,ce._bind=(Y.bindings||[]).map(Et=>({state:null,param:e.extend({},Et)})),Rt.root&&Rt.root.set(Qe),Qe.source=Rt.data.root.input,ce.pulse(Rt.data.root.input,ce.changeset().insert(Qe.items)),ce._width=ce.width(),ce._height=ce.height(),ce._viewWidth=nn(ce,ce._width),ce._viewHeight=Wt(ce,ce._height),ce._origin=[0,0],ce._resize=0,ce._autosize=1,Dn(ce),d(ce),E(ce),ce.description(Y.description),oe.hover&&ce.hover(),oe.container&&ce.initialize(oe.container,oe.bind)}function L(Y,oe){return e.hasOwnProperty(Y._signals,oe)?Y._signals[oe]:e.error("Unrecognized signal name: "+e.stringValue(oe))}function V(Y,oe){let ce=(Y._targets||[]).filter(Qe=>Qe._update&&Qe._update.handler===oe);return ce.length?ce[0]:null}function be(Y,oe,ce,Qe){let Rt=V(ce,Qe);return Rt||(Rt=Mt(Y,()=>Qe(oe,ce.value)),Rt.handler=Qe,Y.on(ce,null,Rt)),Y}function pe(Y,oe,ce){let Qe=V(oe,ce);return Qe&&oe._targets.remove(Qe),Y}e.inherits(At,t.Dataflow,{async evaluate(Y,oe,ce){if(await t.Dataflow.prototype.evaluate.call(this,Y,oe),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,de(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(Qe){this.error(Qe)}return ce&&t.asyncCallback(this,ce),this},dirty(Y){this._redraw=!0,this._renderer&&this._renderer.dirty(Y)},description(Y){if(arguments.length){let oe=Y!=null?Y+"":null;return oe!==this._desc&&c(this._el,this._desc=oe),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Y,oe,ce){let Qe=L(this,Y);return arguments.length===1?Qe.value:this.update(Qe,oe,ce)},width(Y){return arguments.length?this.signal("width",Y):this.signal("width")},height(Y){return arguments.length?this.signal("height",Y):this.signal("height")},padding(Y){return arguments.length?this.signal("padding",On(Y)):On(this.signal("padding"))},autosize(Y){return arguments.length?this.signal("autosize",Y):this.signal("autosize")},background(Y){return arguments.length?this.signal("background",Y):this.signal("background")},renderer(Y){return arguments.length?(r.renderModule(Y)||e.error("Unrecognized renderer type: "+Y),Y!==this._renderType&&(this._renderType=Y,this._resetRenderer()),this):this._renderType},tooltip(Y){return arguments.length?(Y!==this._tooltip&&(this._tooltip=Y,this._resetRenderer()),this):this._tooltip},loader(Y){return arguments.length?(Y!==this._loader&&(t.Dataflow.prototype.loader.call(this,Y),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(L(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:Qn,addEventListener(Y,oe,ce){let Qe=oe;return ce&&ce.trap===!1||(Qe=Mt(this,oe),Qe.raw=oe),this._handler.on(Y,Qe),this},removeEventListener(Y,oe){for(var ce=this._handler.handlers(Y),Qe=ce.length,Rt,Et;--Qe>=0;)if(Et=ce[Qe].type,Rt=ce[Qe].handler,Y===Et&&(oe===Rt||oe===Rt.raw)){this._handler.off(Et,Rt);break}return this},addResizeListener(Y){let oe=this._resizeListeners;return oe.indexOf(Y)<0&&oe.push(Y),this},removeResizeListener(Y){var oe=this._resizeListeners,ce=oe.indexOf(Y);return ce>=0&&oe.splice(ce,1),this},addSignalListener(Y,oe){return be(this,Y,L(this,Y),oe)},removeSignalListener(Y,oe){return pe(this,L(this,Y),oe)},addDataListener(Y,oe){return be(this,Y,N(this,Y).values,oe)},removeDataListener(Y,oe){return pe(this,N(this,Y).values,oe)},globalCursor(Y){if(arguments.length){if(this._globalCursor!==!!Y){let oe=w(this,null);this._globalCursor=!!Y,oe&&w(this,oe)}return this}else return this._globalCursor},preventDefault(Y){return arguments.length?(this._preventDefault=Y,this):this._preventDefault},timer:wn,events:je,finalize:Ce,hover:ke,data:R,change:U,insert:Q,remove:P,scale:$e,initialize:tn,toImageURL:pn,toCanvas:or,toSVG:In,getState:Zn,setState:Ye}),n.View=At,Object.defineProperty(n,"__esModule",{value:!0})})});var zae=Ae((l$,pTe)=>{m();(function(n,e){typeof l$=="object"&&typeof pTe!="undefined"?e(l$):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={}))})(l$,function(n){"use strict";let e="view",t="[",r="]",i="{",s="}",o=":",a=",",c="@",d=">",p=/[[\]{}]/,E={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},w,N;function R(M,Z,me){return w=Z||e,N=me||E,P(M.trim()).map(j)}function U(M){return N[M]}function Q(M,Z,me,_e,Ve){let at=M.length,lt=0,Ke;for(;Z<at;++Z){if(Ke=M[Z],!lt&&Ke===me)return Z;Ve&&Ve.indexOf(Ke)>=0?--lt:_e&&_e.indexOf(Ke)>=0&&++lt}return Z}function P(M){let Z=[],me=M.length,_e=0,Ve=0;for(;Ve<me;)Ve=Q(M,Ve,a,t+i,r+s),Z.push(M.substring(_e,Ve).trim()),_e=++Ve;if(Z.length===0)throw"Empty event selector: "+M;return Z}function j(M){return M[0]==="["?I(M):K(M)}function I(M){let Z=M.length,me=1,_e;if(me=Q(M,me,r,t,r),me===Z)throw"Empty between selector: "+M;if(_e=P(M.substring(1,me)),_e.length!==2)throw"Between selector must have two elements: "+M;if(M=M.slice(me+1).trim(),M[0]!==d)throw"Expected '>' after between selector: "+M;_e=_e.map(j);let Ve=j(M.slice(1).trim());return Ve.between?{between:_e,stream:Ve}:(Ve.between=_e,Ve)}function K(M){let Z={source:w},me=[],_e=[0,0],Ve=0,at=0,lt=M.length,Ke=0,St,Ft;if(M[lt-1]===s){if(Ke=M.lastIndexOf(i),Ke>=0){try{_e=de(M.substring(Ke+1,lt-1))}catch{throw"Invalid throttle specification: "+M}M=M.slice(0,Ke).trim(),lt=M.length}else throw"Unmatched right brace: "+M;Ke=0}if(!lt)throw M;if(M[0]===c&&(Ve=++Ke),St=Q(M,Ke,o),St<lt&&(me.push(M.substring(at,St).trim()),at=Ke=++St),Ke=Q(M,Ke,t),Ke===lt)me.push(M.substring(at,lt).trim());else if(me.push(M.substring(at,Ke).trim()),Ft=[],at=++Ke,at===lt)throw"Unmatched left bracket: "+M;for(;Ke<lt;){if(Ke=Q(M,Ke,r),Ke===lt)throw"Unmatched left bracket: "+M;if(Ft.push(M.substring(at,Ke).trim()),Ke<lt-1&&M[++Ke]!==t)throw"Expected left bracket: "+M;at=++Ke}if(!(lt=me.length)||p.test(me[lt-1]))throw"Invalid event selector: "+M;return lt>1?(Z.type=me[1],Ve?Z.markname=me[0].slice(1):U(me[0])?Z.marktype=me[0]:Z.source=me[0]):Z.type=me[0],Z.type.slice(-1)==="!"&&(Z.consume=!0,Z.type=Z.type.slice(0,-1)),Ft!=null&&(Z.filter=Ft),_e[0]&&(Z.throttle=_e[0]),_e[1]&&(Z.debounce=_e[1]),Z}function de(M){let Z=M.split(a);if(!M.length||Z.length>2)throw M;return Z.map(me=>{let _e=+me;if(_e!==_e)throw M;return _e})}n.parseSelector=R,Object.defineProperty(n,"__esModule",{value:!0})})});var xTe=Ae((c$,mTe)=>{m();(function(n,e){typeof c$=="object"&&typeof mTe!="undefined"?e(c$,Au(),o$(),zae(),Cb(),Xf()):typeof define=="function"&&define.amd?define(["exports","vega-util","vega-functions","vega-event-selector","vega-scale","vega-dataflow"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega))})(c$,function(n,e,t,r,i,s){"use strict";function o(k){return e.isObject(k)?k:{type:k||"pad"}}let a=k=>+k||0,c=k=>({top:k,bottom:k,left:k,right:k});function d(k){return e.isObject(k)?k.signal?k:{top:a(k.top),bottom:a(k.bottom),left:a(k.left),right:a(k.right)}:c(a(k))}let p=k=>e.isObject(k)&&!e.isArray(k)?e.extend({},k):{value:k};function E(k,X,Ue,Ot){return Ue!=null?(e.isObject(Ue)&&!e.isArray(Ue)||e.isArray(Ue)&&Ue.length&&e.isObject(Ue[0])?k.update[X]=Ue:k[Ot||"enter"][X]={value:Ue},1):0}function w(k,X,Ue){for(let Ot in X)E(k,Ot,X[Ot]);for(let Ot in Ue)E(k,Ot,Ue[Ot],"update")}function N(k,X,Ue){for(let Ot in X)Ue&&e.hasOwnProperty(Ue,Ot)||(k[Ot]=e.extend(k[Ot]||{},X[Ot]));return k}function R(k,X){return X&&(X.enter&&X.enter[k]||X.update&&X.update[k])}let U="mark",Q="frame",P="scope",j="axis",I="axis-domain",K="axis-grid",de="axis-label",M="axis-tick",Z="axis-title",me="legend",_e="legend-band",Ve="legend-entry",at="legend-gradient",lt="legend-label",Ke="legend-symbol",St="legend-title",Ft="title",je="title-text",te="title-subtitle";function Xe(k,X,Ue,Ot,zt){let Cn={},Ln={},ir,hr,Nr,tt;hr="lineBreak",X==="text"&&zt[hr]!=null&&!R(hr,k)&&ye(Cn,hr,zt[hr]),(Ue=="legend"||String(Ue).startsWith("axis"))&&(Ue=null),tt=Ue===Q?zt.group:Ue===U?e.extend({},zt.mark,zt[X]):null;for(hr in tt)Nr=R(hr,k)||(hr==="fill"||hr==="stroke")&&(R("fill",k)||R("stroke",k)),Nr||ye(Cn,hr,tt[hr]);e.array(Ot).forEach(Ri=>{let Qi=zt.style&&zt.style[Ri];for(let Mi in Qi)R(Mi,k)||ye(Cn,Mi,Qi[Mi])}),k=e.extend({},k);for(hr in Cn)tt=Cn[hr],tt.signal?(ir=ir||{})[hr]=tt:Ln[hr]=tt;return k.enter=e.extend(Ln,k.enter),ir&&(k.update=e.extend(ir,k.update)),k}function ye(k,X,Ue){k[X]=Ue&&Ue.signal?{signal:Ue.signal}:{value:Ue}}let ke=k=>e.isString(k)?e.stringValue(k):k.signal?`(${k.signal})`:wt(k);function Ce(k){if(k.gradient!=null)return ut(k);let X=k.signal?`(${k.signal})`:k.color?Je(k.color):k.field!=null?wt(k.field):k.value!==void 0?e.stringValue(k.value):void 0;return k.scale!=null&&(X=Lt(k,X)),X===void 0&&(X=null),k.exponent!=null&&(X=`pow(${X},${Qt(k.exponent)})`),k.mult!=null&&(X+=`*${Qt(k.mult)}`),k.offset!=null&&(X+=`+${Qt(k.offset)}`),k.round&&(X=`round(${X})`),X}let xe=(k,X,Ue,Ot)=>`(${k}(${[X,Ue,Ot].map(Ce).join(",")})+'')`;function Je(k){return k.c?xe("hcl",k.h,k.c,k.l):k.h||k.s?xe("hsl",k.h,k.s,k.l):k.l||k.a?xe("lab",k.l,k.a,k.b):k.r||k.g||k.b?xe("rgb",k.r,k.g,k.b):null}function ut(k){let X=[k.start,k.stop,k.count].map(Ue=>Ue==null?null:e.stringValue(Ue));for(;X.length&&e.peek(X)==null;)X.pop();return X.unshift(ke(k.gradient)),`gradient(${X.join(",")})`}function Qt(k){return e.isObject(k)?"("+Ce(k)+")":k}function wt(k){return mn(e.isObject(k)?k:{datum:k})}function mn(k){let X,Ue,Ot;if(k.signal)X="datum",Ot=k.signal;else if(k.group||k.parent){for(Ue=Math.max(1,k.level||1),X="item";Ue-- >0;)X+=".mark.group";k.parent?(Ot=k.parent,X+=".datum"):Ot=k.group}else k.datum?(X="datum",Ot=k.datum):e.error("Invalid field reference: "+e.stringValue(k));return k.signal||(Ot=e.isString(Ot)?e.splitAccessPath(Ot).map(e.stringValue).join("]["):mn(Ot)),X+"["+Ot+"]"}function Lt(k,X){let Ue=ke(k.scale);return k.range!=null?X=`lerp(_range(${Ue}), ${+k.range})`:(X!==void 0&&(X=`_scale(${Ue}, ${X})`),k.band&&(X=(X?X+"+":"")+`_bandwidth(${Ue})`+(+k.band==1?"":"*"+Qt(k.band)),k.extra&&(X=`(datum.extra ? _scale(${Ue}, datum.extra.value) : ${X})`)),X==null&&(X="0")),X}function It(k){let X="";return k.forEach(Ue=>{let Ot=Ce(Ue);X+=Ue.test?`(${Ue.test})?${Ot}:`:Ot}),e.peek(X)===":"&&(X+="null"),X}function cn(k,X,Ue,Ot,zt,Cn){let Ln={};Cn=Cn||{},Cn.encoders={$encode:Ln},k=Xe(k,X,Ue,Ot,zt.config);for(let ir in k)Ln[ir]=it(k[ir],X,Cn,zt);return Cn}function it(k,X,Ue,Ot){let zt={},Cn={};for(let Ln in k)k[Ln]!=null&&(zt[Ln]=De(ue(k[Ln]),Ot,Ue,Cn));return{$expr:{marktype:X,channels:zt},$fields:Object.keys(Cn),$output:Object.keys(k)}}function ue(k){return e.isArray(k)?It(k):Ce(k)}function De(k,X,Ue,Ot){let zt=t.parseExpression(k,X);return zt.$fields.forEach(Cn=>Ot[Cn]=1),e.extend(Ue,zt.$params),zt.$expr}let ve="outer",le=["value","update","init","react","bind"];function st(k,X){e.error(k+' for "outer" push: '+e.stringValue(X))}function Ze(k,X){let Ue=k.name;if(k.push===ve)X.signals[Ue]||st("No prior signal definition",Ue),le.forEach(Ot=>{k[Ot]!==void 0&&st("Invalid property ",Ot)});else{let Ot=X.addSignal(Ue,k.value);k.react===!1&&(Ot.react=!1),k.bind&&X.addBinding(Ue,k.bind)}}function Le(k,X,Ue,Ot){this.id=-1,this.type=k,this.value=X,this.params=Ue,Ot&&(this.parent=Ot)}function vt(k,X,Ue,Ot){return new Le(k,X,Ue,Ot)}function $t(k,X){return vt("operator",k,X)}function Mt(k){let X={$ref:k.id};return k.id<0&&(k.refs=k.refs||[]).push(X),X}function Vt(k,X){return X?{$field:k,$name:X}:{$field:k}}let tn=Vt("key");function en(k,X){return{$compare:k,$order:X}}function En(k,X){let Ue={$key:k};return X&&(Ue.$flat=!0),Ue}let Fn="ascending",On="descending";function qt(k){return e.isObject(k)?(k.order===On?"-":"+")+pn(k.op,k.field):""}function pn(k,X){return(k&&k.signal?"$"+k.signal:k||"")+(k&&X?"_":"")+(X&&X.signal?"$"+X.signal:X||"")}let qn="scope",or="view";function In(k){return k&&k.signal}function Ne(k){return k&&k.expr}function $e(k){if(In(k))return!0;if(e.isObject(k)){for(let X in k)if($e(k[X]))return!0}return!1}function Oe(k,X){return k??X}function jt(k){return k&&k.signal||k}let yt="timer";function mt(k,X){return(k.merge?Wt:k.stream?Dn:k.type?Qn:e.error("Invalid stream specification: "+e.stringValue(k)))(k,X)}function nn(k){return k===qn?or:k||or}function Wt(k,X){let Ue=k.merge.map(zt=>mt(zt,X)),Ot=Zn({merge:Ue},k,X);return X.addStream(Ot).id}function Dn(k,X){let Ue=mt(k.stream,X),Ot=Zn({stream:Ue},k,X);return X.addStream(Ot).id}function Qn(k,X){let Ue;k.type===yt?(Ue=X.event(yt,k.throttle),k={between:k.between,filter:k.filter}):Ue=X.event(nn(k.source),k.type);let Ot=Zn({stream:Ue},k,X);return Object.keys(Ot).length===1?Ue:X.addStream(Ot).id}function Zn(k,X,Ue){let Ot=X.between;return Ot&&(Ot.length!==2&&e.error('Stream "between" parameter must have 2 entries: '+e.stringValue(X)),k.between=[mt(Ot[0],Ue),mt(Ot[1],Ue)]),Ot=X.filter?[].concat(X.filter):[],(X.marktype||X.markname||X.markrole)&&Ot.push(Pn(X.marktype,X.markname,X.markrole)),X.source===qn&&Ot.push("inScope(event.item)"),Ot.length&&(k.filter=t.parseExpression("("+Ot.join(")&&(")+")",Ue).$expr),(Ot=X.throttle)!=null&&(k.throttle=+Ot),(Ot=X.debounce)!=null&&(k.debounce=+Ot),X.consume&&(k.consume=!0),k}function Pn(k,X,Ue){let Ot="event.item";return Ot+(k&&k!=="*"?"&&"+Ot+".mark.marktype==='"+k+"'":"")+(Ue?"&&"+Ot+".mark.role==='"+Ue+"'":"")+(X?"&&"+Ot+".mark.name==='"+X+"'":"")}let ar={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Ye(k,X,Ue){let Ot=k.encode,zt={target:Ue},Cn=k.events,Ln=k.update,ir=[];Cn||e.error("Signal update missing events specification."),e.isString(Cn)&&(Cn=r.parseSelector(Cn,X.isSubscope()?qn:or)),Cn=e.array(Cn).filter(hr=>hr.signal||hr.scale?(ir.push(hr),0):1),ir.length>1&&(ir=[se(ir)]),Cn.length&&ir.push(Cn.length>1?{merge:Cn}:Cn[0]),Ot!=null&&(Ln&&e.error("Signal encode and update are mutually exclusive."),Ln="encode(item(),"+e.stringValue(Ot)+")"),zt.update=e.isString(Ln)?t.parseExpression(Ln,X):Ln.expr!=null?t.parseExpression(Ln.expr,X):Ln.value!=null?Ln.value:Ln.signal!=null?{$expr:ar,$params:{$value:X.signalRef(Ln.signal)}}:e.error("Invalid signal update specification."),k.force&&(zt.options={force:!0}),ir.forEach(hr=>X.addUpdate(e.extend(gt(hr,X),zt)))}function gt(k,X){return{source:k.signal?X.signalRef(k.signal):k.scale?X.scaleRef(k.scale):mt(k,X)}}function se(k){return{signal:"["+k.map(X=>X.scale?'scale("'+X.scale+'")':X.signal)+"]"}}function qe(k,X){let Ue=X.getSignal(k.name),Ot=k.update;k.init&&(Ot?e.error("Signals can not include both init and update expressions."):(Ot=k.init,Ue.initonly=!0)),Ot&&(Ot=t.parseExpression(Ot,X),Ue.update=Ot.$expr,Ue.params=Ot.$params),k.on&&k.on.forEach(zt=>Ye(zt,X,Ue.id))}let et=k=>(X,Ue,Ot)=>vt(k,Ue,X||void 0,Ot),Tt=et("aggregate"),fn=et("axisticks"),on=et("bound"),ct=et("collect"),ie=et("compare"),Te=et("datajoin"),ze=et("encode"),ht=et("expression"),_t=et("facet"),Dt=et("field"),ne=et("key"),we=et("legendentries"),We=et("load"),nt=et("mark"),Pt=et("multiextent"),sn=et("multivalues"),wn=et("overlap"),yn=et("params"),xn=et("prefacet"),zn=et("projection"),Re=et("proxy"),He=et("relay"),At=et("render"),L=et("scale"),V=et("sieve"),be=et("sortitems"),pe=et("viewlayout"),Y=et("values"),oe=0,ce={min:"min",max:"max",count:"sum"};function Qe(k,X){let Ue=k.type||"linear";i.isValidScaleType(Ue)||e.error("Unrecognized scale type: "+e.stringValue(Ue)),X.addScale(k.name,{type:Ue,domain:void 0})}function Rt(k,X){let Ue=X.getScale(k.name).params,Ot;Ue.domain=B(k.domain,k,X),k.range!=null&&(Ue.range=Wr(k,X,Ue)),k.interpolate!=null&&Xr(k.interpolate,Ue),k.nice!=null&&(Ue.nice=Vn(k.nice)),k.bins!=null&&(Ue.bins=jn(k.bins,X));for(Ot in k)e.hasOwnProperty(Ue,Ot)||Ot==="name"||(Ue[Ot]=Et(k[Ot],X))}function Et(k,X){return e.isObject(k)?k.signal?X.signalRef(k.signal):e.error("Unsupported object: "+e.stringValue(k)):k}function ln(k,X){return k.signal?X.signalRef(k.signal):k.map(Ue=>Et(Ue,X))}function S(k){e.error("Can not find data set: "+e.stringValue(k))}function B(k,X,Ue){if(!k){(X.domainMin!=null||X.domainMax!=null)&&e.error("No scale domain defined for domainMin/domainMax to override.");return}return k.signal?Ue.signalRef(k.signal):(e.isArray(k)?ee:k.fields?ft:Ee)(k,X,Ue)}function ee(k,X,Ue){return k.map(Ot=>Et(Ot,Ue))}function Ee(k,X,Ue){let Ot=Ue.getData(k.data);return Ot||S(k.data),i.isDiscrete(X.type)?Ot.valuesRef(Ue,k.field,Kt(k.sort,!1)):i.isQuantile(X.type)?Ot.domainRef(Ue,k.field):Ot.extentRef(Ue,k.field)}function ft(k,X,Ue){let Ot=k.data,zt=k.fields.reduce((Cn,Ln)=>(Ln=e.isString(Ln)?{data:Ot,field:Ln}:e.isArray(Ln)||Ln.signal?Ct(Ln,Ue):Ln,Cn.push(Ln),Cn),[]);return(i.isDiscrete(X.type)?Jt:i.isQuantile(X.type)?hn:Bn)(k,Ue,zt)}function Ct(k,X){let Ue="_:vega:_"+oe++,Ot=ct({});if(e.isArray(k))Ot.value={$ingest:k};else if(k.signal){let zt="setdata("+e.stringValue(Ue)+","+k.signal+")";Ot.params.input=X.signalRef(zt)}return X.addDataPipeline(Ue,[Ot,V({})]),{data:Ue,field:"data"}}function Jt(k,X,Ue){let Ot=Kt(k.sort,!0),zt,Cn,Ln=Ue.map(Nr=>{let tt=X.getData(Nr.data);return tt||S(Nr.data),tt.countsRef(X,Nr.field,Ot)}),ir={groupby:tn,pulse:Ln};Ot&&(zt=Ot.op||"count",Cn=Ot.field?pn(zt,Ot.field):"count",ir.ops=[ce[zt]],ir.fields=[X.fieldRef(Cn)],ir.as=[Cn]),zt=X.add(Tt(ir));let hr=X.add(ct({pulse:Mt(zt)}));return Cn=X.add(Y({field:tn,sort:X.sortRef(Ot),pulse:Mt(hr)})),Mt(Cn)}function Kt(k,X){return k&&(!k.field&&!k.op?e.isObject(k)?k.field="key":k={field:"key"}:!k.field&&k.op!=="count"?e.error("No field provided for sort aggregate op: "+k.op):X&&k.field&&k.op&&!ce[k.op]&&e.error("Multiple domain scales can not be sorted using "+k.op)),k}function hn(k,X,Ue){let Ot=Ue.map(zt=>{let Cn=X.getData(zt.data);return Cn||S(zt.data),Cn.domainRef(X,zt.field)});return Mt(X.add(sn({values:Ot})))}function Bn(k,X,Ue){let Ot=Ue.map(zt=>{let Cn=X.getData(zt.data);return Cn||S(zt.data),Cn.extentRef(X,zt.field)});return Mt(X.add(Pt({extents:Ot})))}function jn(k,X){return k.signal||e.isArray(k)?ln(k,X):X.objectProperty(k)}function Vn(k){return e.isObject(k)?{interval:Et(k.interval),step:Et(k.step)}:Et(k)}function Xr(k,X){X.interpolate=Et(k.type||k),k.gamma!=null&&(X.interpolateGamma=Et(k.gamma))}function Wr(k,X,Ue){let Ot=X.config.range,zt=k.range;if(zt.signal)return X.signalRef(zt.signal);if(e.isString(zt)){if(Ot&&e.hasOwnProperty(Ot,zt))return k=e.extend({},k,{range:Ot[zt]}),Wr(k,X,Ue);zt==="width"?zt=[0,{signal:"width"}]:zt==="height"?zt=i.isDiscrete(k.type)?[0,{signal:"height"}]:[{signal:"height"},0]:e.error("Unrecognized scale range value: "+e.stringValue(zt))}else if(zt.scheme){Ue.scheme=e.isArray(zt.scheme)?ln(zt.scheme,X):Et(zt.scheme,X),zt.extent&&(Ue.schemeExtent=ln(zt.extent,X)),zt.count&&(Ue.schemeCount=Et(zt.count,X));return}else if(zt.step){Ue.rangeStep=Et(zt.step,X);return}else{if(i.isDiscrete(k.type)&&!e.isArray(zt))return B(zt,k,X);e.isArray(zt)||e.error("Unsupported range type: "+e.stringValue(zt))}return zt.map(Cn=>(e.isArray(Cn)?ln:Et)(Cn,X))}function yr(k,X){let Ue=X.config.projection||{},Ot={};for(let zt in k)zt!=="name"&&(Ot[zt]=Pr(k[zt],zt,X));for(let zt in Ue)Ot[zt]==null&&(Ot[zt]=Pr(Ue[zt],zt,X));X.addProjection(k.name,Ot)}function Pr(k,X,Ue){return e.isArray(k)?k.map(Ot=>Pr(Ot,X,Ue)):e.isObject(k)?k.signal?Ue.signalRef(k.signal):X==="fit"?k:e.error("Unsupported parameter object: "+e.stringValue(k)):k}let vi="top",li="left",Xi="right",ws="bottom",ts="center",Ca="vertical",pa="start",hl="middle",Sc="end",cu="index",fu="label",Xu="offset",Fu="perc",wc="perc2",ta="value",Zu="guide-label",Qc="guide-title",Ge="group-title",Gt="group-subtitle",Mn="symbol",Yn="gradient",si="discrete",jr="size",ho=[jr,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],xi={name:1,style:1,interactive:1},Ci={value:0},Wi={value:1},Xo="group",fa="rect",da="rule",po="symbol",us="text";function ps(k){return k.type=Xo,k.interactive=k.interactive||!1,k}function Zi(k,X){let Ue=(Ot,zt)=>Oe(k[Ot],Oe(X[Ot],zt));return Ue.isVertical=Ot=>Ca===Oe(k.direction,X.direction||(Ot?X.symbolDirection:X.gradientDirection)),Ue.gradientLength=()=>Oe(k.gradientLength,X.gradientLength||X.gradientWidth),Ue.gradientThickness=()=>Oe(k.gradientThickness,X.gradientThickness||X.gradientHeight),Ue.entryColumns=()=>Oe(k.columns,Oe(X.columns,+Ue.isVertical(!0))),Ue}function du(k,X){let Ue=X&&(X.update&&X.update[k]||X.enter&&X.enter[k]);return Ue&&Ue.signal?Ue:Ue?Ue.value:null}function Is(k,X,Ue){let Ot=X.config.style[Ue];return Ot&&Ot[k]}function ma(k,X,Ue){return`item.anchor === '${pa}' ? ${k} : item.anchor === '${Sc}' ? ${X} : ${Ue}`}let oa=ma(e.stringValue(li),e.stringValue(Xi),e.stringValue(ts));function ki(k){let X=k("tickBand"),Ue=k("tickOffset"),Ot,zt;return X?X.signal?(Ot={signal:`(${X.signal}) === 'extent' ? 1 : 0.5`},zt={signal:`(${X.signal}) === 'extent'`},e.isObject(Ue)||(Ue={signal:`(${X.signal}) === 'extent' ? 0 : ${Ue}`})):X==="extent"?(Ot=1,zt=!0,Ue=0):(Ot=.5,zt=!1):(Ot=k("bandPosition"),zt=k("tickExtra")),{extra:zt,band:Ot,offset:Ue}}function Vo(k,X){return X?k?e.isObject(k)?Object.assign({},k,{offset:Vo(k.offset,X)}):{value:k,offset:X}:X:k}function vs(k,X){return X?(k.name=X.name,k.style=X.style||k.style,k.interactive=!!X.interactive,k.encode=N(k.encode,X,xi)):k.interactive=!1,k}function Bi(k,X,Ue,Ot){let zt=Zi(k,Ue),Cn=zt.isVertical(),Ln=zt.gradientThickness(),ir=zt.gradientLength(),hr,Nr,tt,Ri,Qi;Cn?(Nr=[0,1],tt=[0,0],Ri=Ln,Qi=ir):(Nr=[0,0],tt=[1,0],Ri=ir,Qi=Ln);let Mi={enter:hr={opacity:Ci,x:Ci,y:Ci,width:p(Ri),height:p(Qi)},update:e.extend({},hr,{opacity:Wi,fill:{gradient:X,start:Nr,stop:tt}}),exit:{opacity:Ci}};return w(Mi,{stroke:zt("gradientStrokeColor"),strokeWidth:zt("gradientStrokeWidth")},{opacity:zt("gradientOpacity")}),vs({type:fa,role:at,encode:Mi},Ot)}function Oo(k,X,Ue,Ot,zt){let Cn=Zi(k,Ue),Ln=Cn.isVertical(),ir=Cn.gradientThickness(),hr=Cn.gradientLength(),Nr,tt,Ri,Qi,Mi="";Ln?(Nr="y",Ri="y2",tt="x",Qi="width",Mi="1-"):(Nr="x",Ri="x2",tt="y",Qi="height");let Gr={opacity:Ci,fill:{scale:X,field:ta}};Gr[Nr]={signal:Mi+"datum."+Fu,mult:hr},Gr[tt]=Ci,Gr[Ri]={signal:Mi+"datum."+wc,mult:hr},Gr[Qi]=p(ir);let Qs={enter:Gr,update:e.extend({},Gr,{opacity:Wi}),exit:{opacity:Ci}};return w(Qs,{stroke:Cn("gradientStrokeColor"),strokeWidth:Cn("gradientStrokeWidth")},{opacity:Cn("gradientOpacity")}),vs({type:fa,role:_e,key:ta,from:zt,encode:Qs},Ot)}let Na=`datum.${Fu}<=0?"${li}":datum.${Fu}>=1?"${Xi}":"${ts}"`,Ja=`datum.${Fu}<=0?"${ws}":datum.${Fu}>=1?"${vi}":"${hl}"`;function Ro(k,X,Ue,Ot){let zt=Zi(k,X),Cn=zt.isVertical(),Ln=p(zt.gradientThickness()),ir=zt.gradientLength(),hr=zt("labelOverlap"),Nr,tt,Ri,Qi,Mi="",Gr={enter:Nr={opacity:Ci},update:tt={opacity:Wi,text:{field:fu}},exit:{opacity:Ci}};return w(Gr,{fill:zt("labelColor"),fillOpacity:zt("labelOpacity"),font:zt("labelFont"),fontSize:zt("labelFontSize"),fontStyle:zt("labelFontStyle"),fontWeight:zt("labelFontWeight"),limit:Oe(k.labelLimit,X.gradientLabelLimit)}),Cn?(Nr.align={value:"left"},Nr.baseline=tt.baseline={signal:Ja},Ri="y",Qi="x",Mi="1-"):(Nr.align=tt.align={signal:Na},Nr.baseline={value:"top"},Ri="x",Qi="y"),Nr[Ri]=tt[Ri]={signal:Mi+"datum."+Fu,mult:ir},Nr[Qi]=tt[Qi]=Ln,Ln.offset=Oe(k.labelOffset,X.gradientLabelOffset)||0,hr=hr?{separation:zt("labelSeparation"),method:hr,order:"datum."+cu}:void 0,vs({type:us,role:lt,style:Zu,key:ta,from:Ot,encode:Gr,overlap:hr},Ue)}function To(k,X,Ue,Ot,zt){let Cn=Zi(k,X),Ln=Ue.entries,ir=!!(Ln&&Ln.interactive),hr=Ln?Ln.name:void 0,Nr=Cn("clipHeight"),tt=Cn("symbolOffset"),Ri={data:"value"},Qi=`(${zt}) ? datum.${Xu} : datum.${jr}`,Mi=Nr?p(Nr):{field:jr},Gr=`datum.${cu}`,Qs=`max(1, ${zt})`,zo,ga,mo,La,tc;Mi.mult=.5,zo={enter:ga={opacity:Ci,x:{signal:Qi,mult:.5,offset:tt},y:Mi},update:mo={opacity:Wi,x:ga.x,y:ga.y},exit:{opacity:Ci}};let jl=null,ka=null;k.fill||(jl=X.symbolBaseFillColor,ka=X.symbolBaseStrokeColor),w(zo,{fill:Cn("symbolFillColor",jl),shape:Cn("symbolType"),size:Cn("symbolSize"),stroke:Cn("symbolStrokeColor",ka),strokeDash:Cn("symbolDash"),strokeDashOffset:Cn("symbolDashOffset"),strokeWidth:Cn("symbolStrokeWidth")},{opacity:Cn("symbolOpacity")}),ho.forEach(Zc=>{k[Zc]&&(mo[Zc]=ga[Zc]={scale:k[Zc],field:ta})});let nc=vs({type:po,role:Ke,key:ta,from:Ri,clip:Nr?!0:void 0,encode:zo},Ue.symbols),ya=p(tt);ya.offset=Cn("labelOffset"),zo={enter:ga={opacity:Ci,x:{signal:Qi,offset:ya},y:Mi},update:mo={opacity:Wi,text:{field:fu},x:ga.x,y:ga.y},exit:{opacity:Ci}},w(zo,{align:Cn("labelAlign"),baseline:Cn("labelBaseline"),fill:Cn("labelColor"),fillOpacity:Cn("labelOpacity"),font:Cn("labelFont"),fontSize:Cn("labelFontSize"),fontStyle:Cn("labelFontStyle"),fontWeight:Cn("labelFontWeight"),limit:Cn("labelLimit")});let Xc=vs({type:us,role:lt,style:Zu,key:ta,from:Ri,encode:zo},Ue.labels);return zo={enter:{noBound:{value:!Nr},width:Ci,height:Nr?p(Nr):Ci,opacity:Ci},exit:{opacity:Ci},update:mo={opacity:Wi,row:{signal:null},column:{signal:null}}},Cn.isVertical(!0)?(La=`ceil(item.mark.items.length / ${Qs})`,mo.row.signal=`${Gr}%${La}`,mo.column.signal=`floor(${Gr} / ${La})`,tc={field:["row",Gr]}):(mo.row.signal=`floor(${Gr} / ${Qs})`,mo.column.signal=`${Gr} % ${Qs}`,tc={field:Gr}),mo.column.signal=`(${zt})?${mo.column.signal}:${Gr}`,Ot={facet:{data:Ot,name:"value",groupby:cu}},ps({role:P,from:Ot,encode:N(zo,Ln,xi),marks:[nc,Xc],name:hr,interactive:ir,sort:tc})}function qa(k,X){let Ue=Zi(k,X);return{align:Ue("gridAlign"),columns:Ue.entryColumns(),center:{row:!0,column:!1},padding:{row:Ue("rowPadding"),column:Ue("columnPadding")}}}let hu='item.orient === "left"',Ua='item.orient === "right"',aa=`(${hu} || ${Ua})`,ua=`datum.vgrad && ${aa}`,pl=ma('"top"','"bottom"','"middle"'),Pl=ma('"right"','"left"','"center"'),na=`datum.vgrad && ${Ua} ? (${Pl}) : (${aa} && !(datum.vgrad && ${hu})) ? "left" : ${oa}`,el=`item._anchor || (${aa} ? "middle" : "start")`,ci=`${ua} ? (${hu} ? -90 : 90) : 0`,rs=`${aa} ? (datum.vgrad ? (${Ua} ? "bottom" : "top") : ${pl}) : "top"`;function ls(k,X,Ue,Ot){let zt=Zi(k,X),Cn={enter:{opacity:Ci},update:{opacity:Wi,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ci}};return w(Cn,{orient:zt("titleOrient"),_anchor:zt("titleAnchor"),anchor:{signal:el},angle:{signal:ci},align:{signal:na},baseline:{signal:rs},text:k.title,fill:zt("titleColor"),fillOpacity:zt("titleOpacity"),font:zt("titleFont"),fontSize:zt("titleFontSize"),fontStyle:zt("titleFontStyle"),fontWeight:zt("titleFontWeight"),limit:zt("titleLimit"),lineHeight:zt("titleLineHeight")},{align:zt("titleAlign"),baseline:zt("titleBaseline")}),vs({type:us,role:St,style:Qc,from:Ot,encode:Cn},Ue)}function pr(k,X){let Ue;return e.isObject(k)&&(k.signal?Ue=k.signal:k.path?Ue="pathShape("+as(k.path)+")":k.sphere&&(Ue="geoShape("+as(k.sphere)+', {type: "Sphere"})')),Ue?X.signalRef(Ue):!!k}function as(k){return e.isObject(k)&&k.signal?k.signal:e.stringValue(k)}function Me(k){let X=k.role||"";return!X.indexOf("axis")||!X.indexOf("legend")||!X.indexOf("title")?X:k.type===Xo?P:X||U}function pt(k){return{marktype:k.type,name:k.name||void 0,role:k.role||Me(k),zindex:+k.zindex||void 0,aria:k.aria,description:k.description}}function Yt(k,X){return k&&k.signal?X.signalRef(k.signal):k!==!1}function Bt(k,X){let Ue=s.definition(k.type);Ue||e.error("Unrecognized transform type: "+e.stringValue(k.type));let Ot=vt(Ue.type.toLowerCase(),null,dn(Ue,k,X));return k.signal&&X.addSignal(k.signal,X.proxy(Ot)),Ot.metadata=Ue.metadata||{},Ot}function dn(k,X,Ue){let Ot={},zt=k.params.length;for(let Cn=0;Cn<zt;++Cn){let Ln=k.params[Cn];Ot[Ln.name]=Nn(Ln,X,Ue)}return Ot}function Nn(k,X,Ue){let Ot=k.type,zt=X[k.name];if(Ot==="index")return Un(k,X,Ue);if(zt===void 0){k.required&&e.error("Missing required "+e.stringValue(X.type)+" parameter: "+e.stringValue(k.name));return}else{if(Ot==="param")return br(k,X,Ue);if(Ot==="projection")return Ue.projectionRef(X[k.name])}return k.array&&!In(zt)?zt.map(Cn=>Kn(k,Cn,Ue)):Kn(k,zt,Ue)}function Kn(k,X,Ue){let Ot=k.type;if(In(X))return gr(Ot)?e.error("Expression references can not be signals."):Or(Ot)?Ue.fieldRef(X):mi(Ot)?Ue.compareRef(X):Ue.signalRef(X.signal);{let zt=k.expr||Or(Ot);return zt&&Gn(X)?Ue.exprRef(X.expr,X.as):zt&&ur(X)?Vt(X.field,X.as):gr(Ot)?t.parseExpression(X,Ue):tr(Ot)?Mt(Ue.getData(X).values):Or(Ot)?Vt(X):mi(Ot)?Ue.compareRef(X):X}}function Un(k,X,Ue){return e.isString(X.from)||e.error('Lookup "from" parameter must be a string literal.'),Ue.getData(X.from).lookupRef(Ue,X.key)}function br(k,X,Ue){let Ot=X[k.name];return k.array?(e.isArray(Ot)||e.error("Expected an array of sub-parameters. Instead: "+e.stringValue(Ot)),Ot.map(zt=>wr(k,zt,Ue))):wr(k,Ot,Ue)}function wr(k,X,Ue){let Ot=k.params.length,zt;for(let Ln=0;Ln<Ot;++Ln){zt=k.params[Ln];for(let ir in zt.key)if(zt.key[ir]!==X[ir]){zt=null;break}if(zt)break}zt||e.error("Unsupported parameter: "+e.stringValue(X));let Cn=e.extend(dn(zt,X,Ue),zt.key);return Mt(Ue.add(yn(Cn)))}let Gn=k=>k&&k.expr,ur=k=>k&&k.field,tr=k=>k==="data",gr=k=>k==="expr",Or=k=>k==="field",mi=k=>k==="compare";function ii(k,X,Ue){let Ot,zt,Cn,Ln,ir;return k?(Ot=k.facet)&&(X||e.error("Only group marks can be faceted."),Ot.field!=null?Ln=ir=gi(Ot,Ue):(k.data?ir=Mt(Ue.getData(k.data).aggregate):(Cn=Bt(e.extend({type:"aggregate",groupby:e.array(Ot.groupby)},Ot.aggregate),Ue),Cn.params.key=Ue.keyRef(Ot.groupby),Cn.params.pulse=gi(Ot,Ue),Ln=ir=Mt(Ue.add(Cn))),zt=Ue.keyRef(Ot.groupby,!0))):Ln=Mt(Ue.add(ct(null,[{}]))),Ln||(Ln=gi(k,Ue)),{key:zt,pulse:Ln,parent:ir}}function gi(k,X){return k.$ref?k:k.data&&k.data.$ref?k.data:Mt(X.getData(k.data).output)}function oi(k,X,Ue,Ot,zt){this.scope=k,this.input=X,this.output=Ue,this.values=Ot,this.aggregate=zt,this.index={}}oi.fromEntries=function(k,X){let Ue=X.length,Ot=X[Ue-1],zt=X[Ue-2],Cn=X[0],Ln=null,ir=1;for(Cn&&Cn.type==="load"&&(Cn=X[1]),k.add(X[0]);ir<Ue;++ir)X[ir].params.pulse=Mt(X[ir-1]),k.add(X[ir]),X[ir].type==="aggregate"&&(Ln=X[ir]);return new oi(k,Cn,zt,Ot,Ln)};function Ur(k){return e.isString(k)?k:null}function Ir(k,X,Ue){let Ot=pn(Ue.op,Ue.field),zt;if(X.ops){for(let Cn=0,Ln=X.as.length;Cn<Ln;++Cn)if(X.as[Cn]===Ot)return}else X.ops=["count"],X.fields=[null],X.as=["count"];Ue.op&&(X.ops.push((zt=Ue.op.signal)?k.signalRef(zt):Ue.op),X.fields.push(k.fieldRef(Ue.field)),X.as.push(Ot))}function bi(k,X,Ue,Ot,zt,Cn,Ln){let ir=X[Ue]||(X[Ue]={}),hr=qt(Cn),Nr=Ur(zt),tt,Ri;if(Nr!=null&&(k=X.scope,Nr=Nr+(hr?"|"+hr:""),tt=ir[Nr]),!tt){let Qi=Cn?{field:tn,pulse:X.countsRef(k,zt,Cn)}:{field:k.fieldRef(zt),pulse:Mt(X.output)};hr&&(Qi.sort=k.sortRef(Cn)),Ri=k.add(vt(Ot,void 0,Qi)),Ln&&(X.index[zt]=Ri),tt=Mt(Ri),Nr!=null&&(ir[Nr]=tt)}return tt}oi.prototype={countsRef(k,X,Ue){let Ot=this,zt=Ot.counts||(Ot.counts={}),Cn=Ur(X),Ln,ir,hr;return Cn!=null&&(k=Ot.scope,Ln=zt[Cn]),Ln?Ue&&Ue.field&&Ir(k,Ln.agg.params,Ue):(hr={groupby:k.fieldRef(X,"key"),pulse:Mt(Ot.output)},Ue&&Ue.field&&Ir(k,hr,Ue),ir=k.add(Tt(hr)),Ln=k.add(ct({pulse:Mt(ir)})),Ln={agg:ir,ref:Mt(Ln)},Cn!=null&&(zt[Cn]=Ln)),Ln.ref},tuplesRef(){return Mt(this.values)},extentRef(k,X){return bi(k,this,"extent","extent",X,!1)},domainRef(k,X){return bi(k,this,"domain","values",X,!1)},valuesRef(k,X,Ue){return bi(k,this,"vals","values",X,Ue||!0)},lookupRef(k,X){return bi(k,this,"lookup","tupleindex",X,!1)},indataRef(k,X){return bi(k,this,"indata","tupleindex",X,!0,!0)}};function _i(k,X,Ue){let Ot=k.from.facet,zt=Ot.name,Cn=gi(Ot,X),Ln;Ot.name||e.error("Facet must have a name: "+e.stringValue(Ot)),Ot.data||e.error("Facet must reference a data set: "+e.stringValue(Ot)),Ot.field?Ln=X.add(xn({field:X.fieldRef(Ot.field),pulse:Cn})):Ot.groupby?Ln=X.add(_t({key:X.keyRef(Ot.groupby),group:Mt(X.proxy(Ue.parent)),pulse:Cn})):e.error("Facet must specify groupby or field: "+e.stringValue(Ot));let ir=X.fork(),hr=ir.add(ct()),Nr=ir.add(V({pulse:Mt(hr)}));ir.addData(zt,new oi(ir,hr,hr,Nr)),ir.addSignal("parent",null),Ln.params.subflow={$subflow:ir.parse(k).toRuntime()}}function os(k,X,Ue){let Ot=X.add(xn({pulse:Ue.pulse})),zt=X.fork();zt.add(V()),zt.addSignal("parent",null),Ot.params.subflow={$subflow:zt.parse(k).toRuntime()}}function gs(k,X,Ue){let Ot=k.remove,zt=k.insert,Cn=k.toggle,Ln=k.modify,ir=k.values,hr=X.add($t()),Nr="if("+k.trigger+',modify("'+Ue+'",'+[zt,Ot,Cn,Ln,ir].map(Ri=>Ri??"null").join(",")+"),0)",tt=t.parseExpression(Nr,X);hr.update=tt.$expr,hr.params=tt.$params}function Ei(k,X){let Ue=Me(k),Ot=k.type===Xo,zt=k.from&&k.from.facet,Cn=k.overlap,Ln=k.layout||Ue===P||Ue===Q,ir,hr,Nr,tt,Ri,Qi,Mi,Gr=Ue===U||Ln||zt,Qs=ii(k.from,Ot,X);hr=X.add(Te({key:Qs.key||(k.key?Vt(k.key):void 0),pulse:Qs.pulse,clean:!Ot}));let zo=Mt(hr);hr=Nr=X.add(ct({pulse:zo})),hr=X.add(nt({markdef:pt(k),interactive:Yt(k.interactive,X),clip:pr(k.clip,X),context:{$context:!0},groups:X.lookup(),parent:X.signals.parent?X.signalRef("parent"):null,index:X.markpath(),pulse:Mt(hr)}));let ga=Mt(hr);hr=tt=X.add(ze(cn(k.encode,k.type,Ue,k.style,X,{mod:!1,pulse:ga}))),hr.params.parent=X.encode(),k.transform&&k.transform.forEach(ka=>{let nc=Bt(ka,X),ya=nc.metadata;(ya.generates||ya.changes)&&e.error("Mark transforms should not generate new data."),ya.nomod||(tt.params.mod=!0),nc.params.pulse=Mt(hr),X.add(hr=nc)}),k.sort&&(hr=X.add(be({sort:X.compareRef(k.sort),pulse:Mt(hr)})));let mo=Mt(hr);(zt||Ln)&&(Ln=X.add(pe({layout:X.objectProperty(k.layout),legends:X.legends,mark:ga,pulse:mo})),Qi=Mt(Ln));let La=X.add(on({mark:ga,pulse:Qi||mo}));Mi=Mt(La),Ot&&(Gr&&(ir=X.operators,ir.pop(),Ln&&ir.pop()),X.pushState(mo,Qi||Mi,zo),zt?_i(k,X,Qs):Gr?os(k,X,Qs):X.parse(k),X.popState(),Gr&&(Ln&&ir.push(Ln),ir.push(La))),Cn&&(Mi=Ms(Cn,Mi,X));let tc=X.add(At({pulse:Mi})),jl=X.add(V({pulse:Mt(tc)},void 0,X.parent()));k.name!=null&&(Ri=k.name,X.addData(Ri,new oi(X,Nr,tc,jl)),k.on&&k.on.forEach(ka=>{(ka.insert||ka.remove||ka.toggle)&&e.error("Marks only support modify triggers."),gs(ka,X,Ri)}))}function Ms(k,X,Ue){let Ot=k.method,zt=k.bound,Cn=k.separation,Ln={separation:In(Cn)?Ue.signalRef(Cn.signal):Cn,method:In(Ot)?Ue.signalRef(Ot.signal):Ot,pulse:X};if(k.order&&(Ln.sort=Ue.compareRef({field:k.order})),zt){let ir=zt.tolerance;Ln.boundTolerance=In(ir)?Ue.signalRef(ir.signal):+ir,Ln.boundScale=Ue.scaleRef(zt.scale),Ln.boundOrient=zt.orient}return Mt(Ue.add(wn(Ln)))}function is(k,X){let Ue=X.config.legend,Ot=k.encode||{},zt=Zi(k,Ue),Cn=Ot.legend||{},Ln=Cn.name||void 0,ir=Cn.interactive,hr=Cn.style,Nr={},tt=0,Ri,Qi,Mi;ho.forEach(La=>k[La]?(Nr[La]=k[La],tt=tt||k[La]):0),tt||e.error("Missing valid scale for legend.");let Gr=xa(k,X.scaleType(tt)),Qs={title:k.title!=null,scales:Nr,type:Gr,vgrad:Gr!=="symbol"&&zt.isVertical()},zo=Mt(X.add(ct(null,[Qs]))),ga={enter:{x:{value:0},y:{value:0}}},mo=Mt(X.add(we(Qi={type:Gr,scale:X.scaleRef(tt),count:X.objectProperty(zt("tickCount")),limit:X.property(zt("symbolLimit")),values:X.objectProperty(k.values),minstep:X.property(k.tickMinStep),formatType:X.property(k.formatType),formatSpecifier:X.property(k.format)})));return Gr===Yn?(Mi=[Bi(k,tt,Ue,Ot.gradient),Ro(k,Ue,Ot.labels,mo)],Qi.count=Qi.count||X.signalRef(`max(2,2*floor((${jt(zt.gradientLength())})/100))`)):Gr===si?Mi=[Oo(k,tt,Ue,Ot.gradient,mo),Ro(k,Ue,Ot.labels,mo)]:(Ri=qa(k,Ue),Mi=[To(k,Ue,Ot,mo,jt(Ri.columns))],Qi.size=Zt(k,X,Mi[0].marks)),Mi=[ps({role:Ve,from:zo,encode:ga,marks:Mi,layout:Ri,interactive:ir})],Qs.title&&Mi.push(ls(k,Ue,Ot.title,zo)),Ei(ps({role:me,from:zo,encode:N(As(zt,k,Ue),Cn,xi),marks:Mi,aria:zt("aria"),description:zt("description"),zindex:zt("zindex"),name:Ln,interactive:ir,style:hr}),X)}function xa(k,X){let Ue=k.type||Mn;return!k.type&&No(k)===1&&(k.fill||k.stroke)&&(Ue=i.isContinuous(X)?Yn:i.isDiscretizing(X)?si:Mn),Ue!==Yn?Ue:i.isDiscretizing(X)?si:Yn}function No(k){return ho.reduce((X,Ue)=>X+(k[Ue]?1:0),0)}function As(k,X,Ue){let Ot={enter:{},update:{}};return w(Ot,{orient:k("orient"),offset:k("offset"),padding:k("padding"),titlePadding:k("titlePadding"),cornerRadius:k("cornerRadius"),fill:k("fillColor"),stroke:k("strokeColor"),strokeWidth:Ue.strokeWidth,strokeDash:Ue.strokeDash,x:k("legendX"),y:k("legendY"),format:X.format,formatType:X.formatType}),Ot}function Zt(k,X,Ue){let Ot=jt(Jn("size",k,Ue)),zt=jt(Jn("strokeWidth",k,Ue)),Cn=jt(vn(Ue[1].encode,X,Zu));return t.parseExpression(`max(ceil(sqrt(${Ot})+${zt}),${Cn})`,X)}function Jn(k,X,Ue){return X[k]?`scale("${X[k]}",datum)`:du(k,Ue[0].encode)}function vn(k,X,Ue){return du("fontSize",k)||Is("fontSize",X,Ue)}let Kr=`item.orient==="${li}"?-90:item.orient==="${Xi}"?90:0`;function Oi(k,X){k=e.isString(k)?{text:k}:k;let Ue=Zi(k,X.config.title),Ot=k.encode||{},zt=Ot.group||{},Cn=zt.name||void 0,Ln=zt.interactive,ir=zt.style,hr=[],Nr={},tt=Mt(X.add(ct(null,[Nr])));return hr.push($i(k,Ue,ns(k),tt)),k.subtitle&&hr.push(cs(k,Ue,Ot.subtitle,tt)),Ei(ps({role:Ft,from:tt,encode:ms(Ue,zt),marks:hr,aria:Ue("aria"),description:Ue("description"),zindex:Ue("zindex"),name:Cn,interactive:Ln,style:ir}),X)}function ns(k){let X=k.encode;return X&&X.title||e.extend({name:k.name,interactive:k.interactive,style:k.style},X)}function ms(k,X){let Ue={enter:{},update:{}};return w(Ue,{orient:k("orient"),anchor:k("anchor"),align:{signal:oa},angle:{signal:Kr},limit:k("limit"),frame:k("frame"),offset:k("offset")||0,padding:k("subtitlePadding")}),N(Ue,X,xi)}function $i(k,X,Ue,Ot){let zt={value:0},Cn=k.text,Ln={enter:{opacity:zt},update:{opacity:{value:1}},exit:{opacity:zt}};return w(Ln,{text:Cn,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:X("dx"),dy:X("dy"),fill:X("color"),font:X("font"),fontSize:X("fontSize"),fontStyle:X("fontStyle"),fontWeight:X("fontWeight"),lineHeight:X("lineHeight")},{align:X("align"),angle:X("angle"),baseline:X("baseline")}),vs({type:us,role:je,style:Ge,from:Ot,encode:Ln},Ue)}function cs(k,X,Ue,Ot){let zt={value:0},Cn=k.subtitle,Ln={enter:{opacity:zt},update:{opacity:{value:1}},exit:{opacity:zt}};return w(Ln,{text:Cn,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:X("dx"),dy:X("dy"),fill:X("subtitleColor"),font:X("subtitleFont"),fontSize:X("subtitleFontSize"),fontStyle:X("subtitleFontStyle"),fontWeight:X("subtitleFontWeight"),lineHeight:X("subtitleLineHeight")},{align:X("align"),angle:X("angle"),baseline:X("baseline")}),vs({type:us,role:te,style:Gt,from:Ot,encode:Ln},Ue)}function pu(k,X){let Ue=[];k.transform&&k.transform.forEach(Ot=>{Ue.push(Bt(Ot,X))}),k.on&&k.on.forEach(Ot=>{gs(Ot,X,k.name)}),X.addDataPipeline(k.name,ae(k,X,Ue))}function ae(k,X,Ue){let Ot=[],zt=null,Cn=!1,Ln=!1,ir,hr,Nr,tt,Ri;for(k.values?In(k.values)||$e(k.format)?(Ot.push(Xt(X,k)),Ot.push(zt=ot())):Ot.push(zt=ot({$ingest:k.values,$format:k.format})):k.url?$e(k.url)||$e(k.format)?(Ot.push(Xt(X,k)),Ot.push(zt=ot())):Ot.push(zt=ot({$request:k.url,$format:k.format})):k.source&&(zt=ir=e.array(k.source).map(Qi=>Mt(X.getData(Qi).output)),Ot.push(null)),hr=0,Nr=Ue.length;hr<Nr;++hr)tt=Ue[hr],Ri=tt.metadata,!zt&&!Ri.source&&Ot.push(zt=ot()),Ot.push(tt),Ri.generates&&(Ln=!0),Ri.modifies&&!Ln&&(Cn=!0),Ri.source?zt=tt:Ri.changes&&(zt=null);return ir&&(Nr=ir.length-1,Ot[0]=He({derive:Cn,pulse:Nr?ir:ir[0]}),(Cn||Nr)&&Ot.splice(1,0,ot())),zt||Ot.push(ot()),Ot.push(V({})),Ot}function ot(k){let X=ct({},k);return X.metadata={source:!0},X}function Xt(k,X){return We({url:X.url?k.property(X.url):void 0,async:X.async?k.property(X.async):void 0,values:X.values?k.property(X.values):void 0,format:k.objectProperty(X.format)})}let Tn=k=>k===ws||k===vi,rr=(k,X,Ue)=>In(k)?Xa(k.signal,X,Ue):k===li||k===vi?X:Ue,vr=(k,X,Ue)=>In(k)?Rs(k.signal,X,Ue):Tn(k)?X:Ue,dr=(k,X,Ue)=>In(k)?so(k.signal,X,Ue):Tn(k)?Ue:X,es=(k,X,Ue)=>In(k)?Xl(k.signal,X,Ue):k===vi?{value:X}:{value:Ue},_s=(k,X,Ue)=>In(k)?Gc(k.signal,X,Ue):k===Xi?{value:X}:{value:Ue},Rs=(k,X,Ue)=>Cc(`${k} === '${vi}' || ${k} === '${ws}'`,X,Ue),so=(k,X,Ue)=>Cc(`${k} !== '${vi}' && ${k} !== '${ws}'`,X,Ue),Xa=(k,X,Ue)=>U0(`${k} === '${li}' || ${k} === '${vi}'`,X,Ue),Xl=(k,X,Ue)=>U0(`${k} === '${vi}'`,X,Ue),Gc=(k,X,Ue)=>U0(`${k} === '${Xi}'`,X,Ue),Cc=(k,X,Ue)=>(X=X!=null?p(X):X,Ue=Ue!=null?p(Ue):Ue,e0(X)&&e0(Ue)?(X=X?X.signal||e.stringValue(X.value):null,Ue=Ue?Ue.signal||e.stringValue(Ue.value):null,{signal:`${k} ? (${X}) : (${Ue})`}):[e.extend({test:k},X)].concat(Ue||[])),e0=k=>k==null||Object.keys(k).length===1,U0=(k,X,Ue)=>({signal:`${k} ? (${Yc(X)}) : (${Yc(Ue)})`}),Zl=(k,X,Ue,Ot,zt)=>({signal:(Ot!=null?`${k} === '${li}' ? (${Yc(Ot)}) : `:"")+(Ue!=null?`${k} === '${ws}' ? (${Yc(Ue)}) : `:"")+(zt!=null?`${k} === '${Xi}' ? (${Yc(zt)}) : `:"")+(X!=null?`${k} === '${vi}' ? (${Yc(X)}) : `:"")+"(null)"}),Yc=k=>In(k)?k.signal:k==null?null:e.stringValue(k),t0=(k,X)=>X===0?0:In(k)?{signal:`(${k.signal}) * ${X}`}:{value:k*X},ml=(k,X)=>{let Ue=k.signal;return Ue&&Ue.endsWith("(null)")?{signal:Ue.slice(0,-6)+X.signal}:k};function Ac(k,X,Ue,Ot){let zt;if(X&&e.hasOwnProperty(X,k))return X[k];if(e.hasOwnProperty(Ue,k))return Ue[k];if(k.startsWith("title")){switch(k){case"titleColor":zt="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":zt=k[5].toLowerCase()+k.slice(6)}return Ot[Qc][zt]}else if(k.startsWith("label")){switch(k){case"labelColor":zt="fill";break;case"labelFont":case"labelFontSize":zt=k[5].toLowerCase()+k.slice(6)}return Ot[Zu][zt]}return null}function n0(k){let X={};for(let Ue of k)if(!!Ue)for(let Ot in Ue)X[Ot]=1;return Object.keys(X)}function ec(k,X){var Ue=X.config,Ot=Ue.style,zt=Ue.axis,Cn=X.scaleType(k.scale)==="band"&&Ue.axisBand,Ln=k.orient,ir,hr,Nr;if(In(Ln)){let Ri=n0([Ue.axisX,Ue.axisY]),Qi=n0([Ue.axisTop,Ue.axisBottom,Ue.axisLeft,Ue.axisRight]);ir={};for(Nr of Ri)ir[Nr]=vr(Ln,Ac(Nr,Ue.axisX,zt,Ot),Ac(Nr,Ue.axisY,zt,Ot));hr={};for(Nr of Qi)hr[Nr]=Zl(Ln.signal,Ac(Nr,Ue.axisTop,zt,Ot),Ac(Nr,Ue.axisBottom,zt,Ot),Ac(Nr,Ue.axisLeft,zt,Ot),Ac(Nr,Ue.axisRight,zt,Ot))}else ir=Ln===vi||Ln===ws?Ue.axisX:Ue.axisY,hr=Ue["axis"+Ln[0].toUpperCase()+Ln.slice(1)];return ir||hr||Cn?e.extend({},zt,ir,hr,Cn):zt}function Bl(k,X,Ue,Ot){let zt=Zi(k,X),Cn=k.orient,Ln,ir,hr={enter:Ln={opacity:Ci},update:ir={opacity:Wi},exit:{opacity:Ci}};w(hr,{stroke:zt("domainColor"),strokeCap:zt("domainCap"),strokeDash:zt("domainDash"),strokeDashOffset:zt("domainDashOffset"),strokeWidth:zt("domainWidth"),strokeOpacity:zt("domainOpacity")});let Nr=z0(k,0),tt=z0(k,1);return Ln.x=ir.x=vr(Cn,Nr,Ci),Ln.x2=ir.x2=vr(Cn,tt),Ln.y=ir.y=dr(Cn,Nr,Ci),Ln.y2=ir.y2=dr(Cn,tt),vs({type:da,role:I,from:Ot,encode:hr},Ue)}function z0(k,X){return{scale:k.scale,range:X}}function yh(k,X,Ue,Ot,zt){let Cn=Zi(k,X),Ln=k.orient,ir=k.gridScale,hr=rr(Ln,1,-1),Nr=H0(k.offset,hr),tt,Ri,Qi,Mi={enter:tt={opacity:Ci},update:Qi={opacity:Wi},exit:Ri={opacity:Ci}};w(Mi,{stroke:Cn("gridColor"),strokeCap:Cn("gridCap"),strokeDash:Cn("gridDash"),strokeDashOffset:Cn("gridDashOffset"),strokeOpacity:Cn("gridOpacity"),strokeWidth:Cn("gridWidth")});let Gr={scale:k.scale,field:ta,band:zt.band,extra:zt.extra,offset:zt.offset,round:Cn("tickRound")},Qs=vr(Ln,{signal:"height"},{signal:"width"}),zo=ir?{scale:ir,range:0,mult:hr,offset:Nr}:{value:0,offset:Nr},ga=ir?{scale:ir,range:1,mult:hr,offset:Nr}:e.extend(Qs,{mult:hr,offset:Nr});return tt.x=Qi.x=vr(Ln,Gr,zo),tt.y=Qi.y=dr(Ln,Gr,zo),tt.x2=Qi.x2=dr(Ln,ga),tt.y2=Qi.y2=vr(Ln,ga),Ri.x=vr(Ln,Gr),Ri.y=dr(Ln,Gr),vs({type:da,role:K,key:ta,from:Ot,encode:Mi},Ue)}function H0(k,X){if(X!==1)if(!e.isObject(k))k=In(X)?{signal:`(${X.signal}) * (${k||0})`}:X*(k||0);else{let Ue=k=e.extend({},k);for(;Ue.mult!=null;)if(e.isObject(Ue.mult))Ue=Ue.mult=e.extend({},Ue.mult);else return Ue.mult=In(X)?{signal:`(${Ue.mult}) * (${X.signal})`}:Ue.mult*X,k;Ue.mult=X}return k}function $0(k,X,Ue,Ot,zt,Cn){let Ln=Zi(k,X),ir=k.orient,hr=rr(ir,-1,1),Nr,tt,Ri,Qi={enter:Nr={opacity:Ci},update:Ri={opacity:Wi},exit:tt={opacity:Ci}};w(Qi,{stroke:Ln("tickColor"),strokeCap:Ln("tickCap"),strokeDash:Ln("tickDash"),strokeDashOffset:Ln("tickDashOffset"),strokeOpacity:Ln("tickOpacity"),strokeWidth:Ln("tickWidth")});let Mi=p(zt);Mi.mult=hr;let Gr={scale:k.scale,field:ta,band:Cn.band,extra:Cn.extra,offset:Cn.offset,round:Ln("tickRound")};return Ri.y=Nr.y=vr(ir,Ci,Gr),Ri.y2=Nr.y2=vr(ir,Mi),tt.x=vr(ir,Gr),Ri.x=Nr.x=dr(ir,Ci,Gr),Ri.x2=Nr.x2=dr(ir,Mi),tt.y=dr(ir,Gr),vs({type:da,role:M,key:ta,from:Ot,encode:Qi},Ue)}function Kc(k,X,Ue,Ot,zt){return{signal:'flush(range("'+k+'"), scale("'+k+'", datum.value), '+X+","+Ue+","+Ot+","+zt+")"}}function V0(k,X,Ue,Ot,zt,Cn){let Ln=Zi(k,X),ir=k.orient,hr=k.scale,Nr=rr(ir,-1,1),tt=jt(Ln("labelFlush")),Ri=jt(Ln("labelFlushOffset")),Qi=Ln("labelAlign"),Mi=Ln("labelBaseline"),Gr=tt===0||!!tt,Qs,zo=p(zt);zo.mult=Nr,zo.offset=p(Ln("labelPadding")||0),zo.offset.mult=Nr;let ga={scale:hr,field:ta,band:.5,offset:Vo(Cn.offset,Ln("labelOffset"))},mo=vr(ir,Gr?Kc(hr,tt,'"left"','"right"','"center"'):{value:"center"},_s(ir,"left","right")),La=vr(ir,es(ir,"bottom","top"),Gr?Kc(hr,tt,'"top"','"bottom"','"middle"'):{value:"middle"}),tc=Kc(hr,tt,`-(${Ri})`,Ri,0);Gr=Gr&&Ri;let jl={opacity:Ci,x:vr(ir,ga,zo),y:dr(ir,ga,zo)},ka={enter:jl,update:Qs={opacity:Wi,text:{field:fu},x:jl.x,y:jl.y,align:mo,baseline:La},exit:{opacity:Ci,x:jl.x,y:jl.y}};w(ka,{dx:!Qi&&Gr?vr(ir,tc):null,dy:!Mi&&Gr?dr(ir,tc):null}),w(ka,{angle:Ln("labelAngle"),fill:Ln("labelColor"),fillOpacity:Ln("labelOpacity"),font:Ln("labelFont"),fontSize:Ln("labelFontSize"),fontWeight:Ln("labelFontWeight"),fontStyle:Ln("labelFontStyle"),limit:Ln("labelLimit"),lineHeight:Ln("labelLineHeight")},{align:Qi,baseline:Mi});let nc=Ln("labelBound"),ya=Ln("labelOverlap");return ya=ya||nc?{separation:Ln("labelSeparation"),method:ya,order:"datum.index",bound:nc?{scale:hr,orient:ir,tolerance:nc}:null}:void 0,Qs.align!==mo&&(Qs.align=ml(Qs.align,mo)),Qs.baseline!==La&&(Qs.baseline=ml(Qs.baseline,La)),vs({type:us,role:de,style:Zu,key:ta,from:Ot,encode:ka,overlap:ya},Ue)}function Tc(k,X,Ue,Ot){let zt=Zi(k,X),Cn=k.orient,Ln=rr(Cn,-1,1),ir,hr,Nr={enter:ir={opacity:Ci,anchor:p(zt("titleAnchor",null)),align:{signal:oa}},update:hr=e.extend({},ir,{opacity:Wi,text:p(k.title)}),exit:{opacity:Ci}},tt={signal:`lerp(range("${k.scale}"), ${ma(0,1,.5)})`};return hr.x=vr(Cn,tt),hr.y=dr(Cn,tt),ir.angle=vr(Cn,Ci,t0(Ln,90)),ir.baseline=vr(Cn,es(Cn,ws,vi),{value:ws}),hr.angle=ir.angle,hr.baseline=ir.baseline,w(Nr,{fill:zt("titleColor"),fillOpacity:zt("titleOpacity"),font:zt("titleFont"),fontSize:zt("titleFontSize"),fontStyle:zt("titleFontStyle"),fontWeight:zt("titleFontWeight"),limit:zt("titleLimit"),lineHeight:zt("titleLineHeight")},{align:zt("titleAlign"),angle:zt("titleAngle"),baseline:zt("titleBaseline")}),r0(zt,Cn,Nr,Ue),Nr.update.align=ml(Nr.update.align,ir.align),Nr.update.angle=ml(Nr.update.angle,ir.angle),Nr.update.baseline=ml(Nr.update.baseline,ir.baseline),vs({type:us,role:Z,style:Qc,from:Ot,encode:Nr},Ue)}function r0(k,X,Ue,Ot){let zt=(ir,hr)=>ir!=null?(Ue.update[hr]=ml(p(ir),Ue.update[hr]),!1):!R(hr,Ot),Cn=zt(k("titleX"),"x"),Ln=zt(k("titleY"),"y");Ue.enter.auto=Ln===Cn?p(Ln):vr(X,p(Ln),p(Cn))}function i0(k,X){let Ue=ec(k,X),Ot=k.encode||{},zt=Ot.axis||{},Cn=zt.name||void 0,Ln=zt.interactive,ir=zt.style,hr=Zi(k,Ue),Nr=ki(hr),tt={scale:k.scale,ticks:!!hr("ticks"),labels:!!hr("labels"),grid:!!hr("grid"),domain:!!hr("domain"),title:k.title!=null},Ri=Mt(X.add(ct({},[tt]))),Qi=Mt(X.add(fn({scale:X.scaleRef(k.scale),extra:X.property(Nr.extra),count:X.objectProperty(k.tickCount),values:X.objectProperty(k.values),minstep:X.property(k.tickMinStep),formatType:X.property(k.formatType),formatSpecifier:X.property(k.format)}))),Mi=[],Gr;return tt.grid&&Mi.push(yh(k,Ue,Ot.grid,Qi,Nr)),tt.ticks&&(Gr=hr("tickSize"),Mi.push($0(k,Ue,Ot.ticks,Qi,Gr,Nr))),tt.labels&&(Gr=tt.ticks?Gr:0,Mi.push(V0(k,Ue,Ot.labels,Qi,Gr,Nr))),tt.domain&&Mi.push(Bl(k,Ue,Ot.domain,Ri)),tt.title&&Mi.push(Tc(k,Ue,Ot.title,Ri)),Ei(ps({role:j,from:Ri,encode:N(s0(hr,k),zt,xi),marks:Mi,aria:hr("aria"),description:hr("description"),zindex:hr("zindex"),name:Cn,interactive:Ln,style:ir}),X)}function s0(k,X){let Ue={enter:{},update:{}};return w(Ue,{orient:k("orient"),offset:k("offset")||0,position:Oe(X.position,0),titlePadding:k("titlePadding"),minExtent:k("minExtent"),maxExtent:k("maxExtent"),range:{signal:`abs(span(range("${X.scale}")))`},translate:k("translate"),format:X.format,formatType:X.formatType}),Ue}function Uo(k,X,Ue){let Ot=e.array(k.signals),zt=e.array(k.scales);return Ue||Ot.forEach(Cn=>Ze(Cn,X)),e.array(k.projections).forEach(Cn=>yr(Cn,X)),zt.forEach(Cn=>Qe(Cn,X)),e.array(k.data).forEach(Cn=>pu(Cn,X)),zt.forEach(Cn=>Rt(Cn,X)),(Ue||Ot).forEach(Cn=>qe(Cn,X)),e.array(k.axes).forEach(Cn=>i0(Cn,X)),e.array(k.marks).forEach(Cn=>Ei(Cn,X)),e.array(k.legends).forEach(Cn=>is(Cn,X)),k.title&&Oi(k.title,X),X.parseLambdas(),X}let Zo=k=>N({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},k);function o0(k,X){let Ue=X.config,Ot=Mt(X.root=X.add($t())),zt=Jc(k,Ue);zt.forEach(Nr=>Ze(Nr,X)),X.description=k.description||Ue.description,X.eventConfig=Ue.events,X.legends=X.objectProperty(Ue.legend&&Ue.legend.layout),X.locale=Ue.locale;let Cn=X.add(ct()),Ln=X.add(ze(cn(Zo(k.encode),Xo,Q,k.style,X,{pulse:Mt(Cn)}))),ir=X.add(pe({layout:X.objectProperty(k.layout),legends:X.legends,autosize:X.signalRef("autosize"),mark:Ot,pulse:Mt(Ln)}));X.operators.pop(),X.pushState(Mt(Ln),Mt(ir),null),Uo(k,X,zt),X.operators.push(ir);let hr=X.add(on({mark:Ot,pulse:Mt(ir)}));return hr=X.add(At({pulse:Mt(hr)})),hr=X.add(V({pulse:Mt(hr)})),X.addData("root",new oi(X,Cn,Cn,hr)),X}function xl(k,X){return X&&X.signal?{name:k,update:X.signal}:{name:k,value:X}}function Jc(k,X){let Ue=Ln=>Oe(k[Ln],X[Ln]),Ot=[xl("background",Ue("background")),xl("autosize",o(Ue("autosize"))),xl("padding",d(Ue("padding"))),xl("width",Ue("width")||0),xl("height",Ue("height")||0)],zt=Ot.reduce((Ln,ir)=>(Ln[ir.name]=ir,Ln),{}),Cn={};return e.array(k.signals).forEach(Ln=>{e.hasOwnProperty(zt,Ln.name)?Ln=e.extend(zt[Ln.name],Ln):Ot.push(Ln),Cn[Ln.name]=Ln}),e.array(X.signals).forEach(Ln=>{!e.hasOwnProperty(Cn,Ln.name)&&!e.hasOwnProperty(zt,Ln.name)&&Ot.push(Ln)}),Ot}function Ld(k,X){this.config=k||{},this.options=X||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Du(k){this.config=k.config,this.options=k.options,this.legends=k.legends,this.field=Object.create(k.field),this.signals=Object.create(k.signals),this.lambdas=Object.create(k.lambdas),this.scales=Object.create(k.scales),this.events=Object.create(k.events),this.data=Object.create(k.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++k._nextsub[0],this._nextsub=k._nextsub,this._parent=k._parent.slice(),this._encode=k._encode.slice(),this._lookup=k._lookup.slice(),this._markpath=k._markpath}Ld.prototype=Du.prototype={parse(k){return Uo(k,this)},fork(){return new Du(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(k){return this.operators.push(k),k.id=this.id(),k.refs&&(k.refs.forEach(X=>{X.$ref=k.id}),k.refs=null),k},proxy(k){let X=k instanceof Le?Mt(k):k;return this.add(Re({value:X}))},addStream(k){return this.streams.push(k),k.id=this.id(),k},addUpdate(k){return this.updates.push(k),k},finish(){let k,X;this.root&&(this.root.root=!0);for(k in this.signals)this.signals[k].signal=k;for(k in this.scales)this.scales[k].scale=k;function Ue(Ot,zt,Cn){let Ln,ir;Ot&&(Ln=Ot.data||(Ot.data={}),ir=Ln[zt]||(Ln[zt]=[]),ir.push(Cn))}for(k in this.data){X=this.data[k],Ue(X.input,k,"input"),Ue(X.output,k,"output"),Ue(X.values,k,"values");for(let Ot in X.index)Ue(X.index[Ot],k,"index:"+Ot)}return this},pushState(k,X,Ue){this._encode.push(Mt(this.add(V({pulse:k})))),this._parent.push(X),this._lookup.push(Ue?Mt(this.proxy(Ue)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return e.peek(this._parent)},encode(){return e.peek(this._encode)},lookup(){return e.peek(this._lookup)},markpath(){let k=this._markpath;return++k[k.length-1]},fieldRef(k,X){if(e.isString(k))return Vt(k,X);k.signal||e.error("Unsupported field reference: "+e.stringValue(k));let Ue=k.signal,Ot=this.field[Ue];if(!Ot){let zt={name:this.signalRef(Ue)};X&&(zt.as=X),this.field[Ue]=Ot=Mt(this.add(Dt(zt)))}return Ot},compareRef(k){let X=!1,Ue=Cn=>In(Cn)?(X=!0,this.signalRef(Cn.signal)):Ne(Cn)?(X=!0,this.exprRef(Cn.expr)):Cn,Ot=e.array(k.field).map(Ue),zt=e.array(k.order).map(Ue);return X?Mt(this.add(ie({fields:Ot,orders:zt}))):en(Ot,zt)},keyRef(k,X){let Ue=!1,Ot=Cn=>In(Cn)?(Ue=!0,Mt(zt[Cn.signal])):Cn,zt=this.signals;return k=e.array(k).map(Ot),Ue?Mt(this.add(ne({fields:k,flat:X}))):En(k,X)},sortRef(k){if(!k)return k;let X=pn(k.op,k.field),Ue=k.order||Fn;return Ue.signal?Mt(this.add(ie({fields:X,orders:this.signalRef(Ue.signal)}))):en(X,Ue)},event(k,X){let Ue=k+":"+X;if(!this.events[Ue]){let Ot=this.id();this.streams.push({id:Ot,source:k,type:X}),this.events[Ue]=Ot}return this.events[Ue]},hasOwnSignal(k){return e.hasOwnProperty(this.signals,k)},addSignal(k,X){this.hasOwnSignal(k)&&e.error("Duplicate signal name: "+e.stringValue(k));let Ue=X instanceof Le?X:this.add($t(X));return this.signals[k]=Ue},getSignal(k){return this.signals[k]||e.error("Unrecognized signal name: "+e.stringValue(k)),this.signals[k]},signalRef(k){return this.signals[k]?Mt(this.signals[k]):(e.hasOwnProperty(this.lambdas,k)||(this.lambdas[k]=this.add($t(null))),Mt(this.lambdas[k]))},parseLambdas(){let k=Object.keys(this.lambdas);for(let X=0,Ue=k.length;X<Ue;++X){let Ot=k[X],zt=t.parseExpression(Ot,this),Cn=this.lambdas[Ot];Cn.params=zt.$params,Cn.update=zt.$expr}},property(k){return k&&k.signal?this.signalRef(k.signal):k},objectProperty(k){return!k||!e.isObject(k)?k:this.signalRef(k.signal||_o(k))},exprRef(k,X){let Ue={expr:t.parseExpression(k,this)};return X&&(Ue.expr.$name=X),Mt(this.add(ht(Ue)))},addBinding(k,X){this.bindings||e.error("Nested signals do not support binding: "+e.stringValue(k)),this.bindings.push(e.extend({signal:k},X))},addScaleProj(k,X){e.hasOwnProperty(this.scales,k)&&e.error("Duplicate scale or projection name: "+e.stringValue(k)),this.scales[k]=this.add(X)},addScale(k,X){this.addScaleProj(k,L(X))},addProjection(k,X){this.addScaleProj(k,zn(X))},getScale(k){return this.scales[k]||e.error("Unrecognized scale name: "+e.stringValue(k)),this.scales[k]},scaleRef(k){return Mt(this.getScale(k))},scaleType(k){return this.getScale(k).params.type},projectionRef(k){return this.scaleRef(k)},projectionType(k){return this.scaleType(k)},addData(k,X){return e.hasOwnProperty(this.data,k)&&e.error("Duplicate data set name: "+e.stringValue(k)),this.data[k]=X},getData(k){return this.data[k]||e.error("Undefined data set name: "+e.stringValue(k)),this.data[k]},addDataPipeline(k,X){return e.hasOwnProperty(this.data,k)&&e.error("Duplicate data set name: "+e.stringValue(k)),this.addData(k,oi.fromEntries(this,X))}};function _o(k){return(e.isArray(k)?vh:gl)(k)}function vh(k){let X=k.length,Ue="[";for(let Ot=0;Ot<X;++Ot){let zt=k[Ot];Ue+=(Ot>0?",":"")+(e.isObject(zt)?zt.signal||_o(zt):e.stringValue(zt))}return Ue+"]"}function gl(k){let X="{",Ue=0,Ot,zt;for(Ot in k)zt=k[Ot],X+=(++Ue>1?",":"")+e.stringValue(Ot)+":"+(e.isObject(zt)?zt.signal||_o(zt):e.stringValue(zt));return X+"}"}function Ls(){let k="sans-serif",X=30,Ue=2,Ot="#4c78a8",zt="#000",Cn="#888",Ln="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:Ot},area:{fill:Ot},image:null,line:{stroke:Ot,strokeWidth:Ue},path:{stroke:Ot},rect:{fill:Ot},rule:{stroke:zt},shape:{stroke:Ot},symbol:{fill:Ot,size:64},text:{fill:zt,font:k,fontSize:11},trail:{fill:Ot,size:Ue},style:{"guide-label":{fill:zt,font:k,fontSize:10},"guide-title":{fill:zt,font:k,fontSize:11,fontWeight:"bold"},"group-title":{fill:zt,font:k,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:zt,font:k,fontSize:12},point:{size:X,strokeWidth:Ue,shape:"circle"},circle:{size:X,strokeWidth:Ue},square:{size:X,strokeWidth:Ue,shape:"square"},cell:{fill:"transparent",stroke:Ln}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:Cn,grid:!1,gridWidth:1,gridColor:Ln,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:Cn,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:Ln,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:Cn,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function yl(k,X,Ue){return e.isObject(k)||e.error("Input Vega specification must be an object."),X=e.mergeConfig(Ls(),X,k.config),o0(k,new Ld(X,Ue)).toRuntime()}n.AxisDomainRole=I,n.AxisGridRole=K,n.AxisLabelRole=de,n.AxisRole=j,n.AxisTickRole=M,n.AxisTitleRole=Z,n.DataScope=oi,n.FrameRole=Q,n.LegendEntryRole=Ve,n.LegendLabelRole=lt,n.LegendRole=me,n.LegendSymbolRole=Ke,n.LegendTitleRole=St,n.MarkRole=U,n.Scope=Ld,n.ScopeRole=P,n.config=Ls,n.parse=yl,n.signal=Ze,n.signalUpdates=qe,n.stream=mt,Object.defineProperty(n,"__esModule",{value:!0})})});var $ae=Ae(Ws=>{"use strict";m();Object.defineProperty(Ws,"__esModule",{value:!0});var Hae=Au(),Od=Xf(),$1t=MAe(),V1t=UAe(),W1t=HAe(),Q1t=WAe(),G1t=GAe(),Y1t=KAe(),K1t=XAe(),J1t=eTe(),X1t=nTe(),Z1t=iTe(),emt=oTe(),gTe=wb(),yTe=gC(),vTe=BH(),_Te=yC(),vC=Cb(),tmt=qae(),nmt=hTe(),aR=sR(),rmt=o$(),imt=xTe(),smt=Uae(),bTe=r$(),omt=zae();function Im(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach(function(t){if(t!=="default"){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}}),e.default=n,Object.freeze(e)}var amt=Im($1t),umt=Im(V1t),lmt=Im(W1t),cmt=Im(Q1t),fmt=Im(G1t),dmt=Im(Y1t),hmt=Im(K1t),pmt=Im(J1t),mmt=Im(X1t),xmt=Im(Z1t),gmt=Im(emt),ymt="5.22.1";Hae.extend(Od.transforms,amt,umt,lmt,cmt,fmt,hmt,dmt,pmt,mmt,xmt,gmt);Object.defineProperty(Ws,"Dataflow",{enumerable:!0,get:function(){return Od.Dataflow}});Object.defineProperty(Ws,"EventStream",{enumerable:!0,get:function(){return Od.EventStream}});Object.defineProperty(Ws,"MultiPulse",{enumerable:!0,get:function(){return Od.MultiPulse}});Object.defineProperty(Ws,"Operator",{enumerable:!0,get:function(){return Od.Operator}});Object.defineProperty(Ws,"Parameters",{enumerable:!0,get:function(){return Od.Parameters}});Object.defineProperty(Ws,"Pulse",{enumerable:!0,get:function(){return Od.Pulse}});Object.defineProperty(Ws,"Transform",{enumerable:!0,get:function(){return Od.Transform}});Object.defineProperty(Ws,"changeset",{enumerable:!0,get:function(){return Od.changeset}});Object.defineProperty(Ws,"definition",{enumerable:!0,get:function(){return Od.definition}});Object.defineProperty(Ws,"ingest",{enumerable:!0,get:function(){return Od.ingest}});Object.defineProperty(Ws,"isTuple",{enumerable:!0,get:function(){return Od.isTuple}});Object.defineProperty(Ws,"transform",{enumerable:!0,get:function(){return Od.transform}});Object.defineProperty(Ws,"transforms",{enumerable:!0,get:function(){return Od.transforms}});Object.defineProperty(Ws,"tupleid",{enumerable:!0,get:function(){return Od.tupleid}});Object.defineProperty(Ws,"interpolate",{enumerable:!0,get:function(){return vC.interpolate}});Object.defineProperty(Ws,"interpolateColors",{enumerable:!0,get:function(){return vC.interpolateColors}});Object.defineProperty(Ws,"interpolateRange",{enumerable:!0,get:function(){return vC.interpolateRange}});Object.defineProperty(Ws,"quantizeInterpolator",{enumerable:!0,get:function(){return vC.quantizeInterpolator}});Object.defineProperty(Ws,"scale",{enumerable:!0,get:function(){return vC.scale}});Object.defineProperty(Ws,"scheme",{enumerable:!0,get:function(){return vC.scheme}});Object.defineProperty(Ws,"projection",{enumerable:!0,get:function(){return tmt.projection}});Object.defineProperty(Ws,"View",{enumerable:!0,get:function(){return nmt.View}});Object.defineProperty(Ws,"defaultLocale",{enumerable:!0,get:function(){return aR.defaultLocale}});Object.defineProperty(Ws,"formatLocale",{enumerable:!0,get:function(){return aR.numberFormatDefaultLocale}});Object.defineProperty(Ws,"locale",{enumerable:!0,get:function(){return aR.locale}});Object.defineProperty(Ws,"resetDefaultLocale",{enumerable:!0,get:function(){return aR.resetDefaultLocale}});Object.defineProperty(Ws,"timeFormatLocale",{enumerable:!0,get:function(){return aR.timeFormatDefaultLocale}});Object.defineProperty(Ws,"expressionFunction",{enumerable:!0,get:function(){return rmt.expressionFunction}});Object.defineProperty(Ws,"parse",{enumerable:!0,get:function(){return imt.parse}});Object.defineProperty(Ws,"runtimeContext",{enumerable:!0,get:function(){return smt.context}});Object.defineProperty(Ws,"codegenExpression",{enumerable:!0,get:function(){return bTe.codegenExpression}});Object.defineProperty(Ws,"parseExpression",{enumerable:!0,get:function(){return bTe.parseExpression}});Object.defineProperty(Ws,"parseSelector",{enumerable:!0,get:function(){return omt.parseSelector}});Ws.version=ymt;Object.keys(Hae).forEach(function(n){n!=="default"&&!Ws.hasOwnProperty(n)&&Object.defineProperty(Ws,n,{enumerable:!0,get:function(){return Hae[n]}})});Object.keys(gTe).forEach(function(n){n!=="default"&&!Ws.hasOwnProperty(n)&&Object.defineProperty(Ws,n,{enumerable:!0,get:function(){return gTe[n]}})});Object.keys(yTe).forEach(function(n){n!=="default"&&!Ws.hasOwnProperty(n)&&Object.defineProperty(Ws,n,{enumerable:!0,get:function(){return yTe[n]}})});Object.keys(vTe).forEach(function(n){n!=="default"&&!Ws.hasOwnProperty(n)&&Object.defineProperty(Ws,n,{enumerable:!0,get:function(){return vTe[n]}})});Object.keys(_Te).forEach(function(n){n!=="default"&&!Ws.hasOwnProperty(n)&&Object.defineProperty(Ws,n,{enumerable:!0,get:function(){return _Te[n]}})})});var STe=Ae((f$,ETe)=>{m();(function(n,e){typeof f$=="object"&&typeof ETe!="undefined"?e(f$,$ae()):typeof define=="function"&&define.amd?define(["exports","vega"],e):(n=typeof globalThis!="undefined"?globalThis:n||self,e(n.vegaLite={},n.vega))})(f$,function(n,e){"use strict";var t="vega-lite",r='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',i="5.2.0",s=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],o="https://vega.github.io/vega-lite/",a="Vega-Lite is a concise high-level language for interactive visualization.",c="build/vega-lite.js",d="build/vega-lite.min.js",p="build/vega-lite.min.js",E="build/src/index",w="build/src/index.d.ts",N={vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2pdf:"./bin/vl2pdf",vl2vg:"./bin/vl2vg"},R={test:"test"},U=["bin","build","src","vega-lite*","tsconfig.json"],Q={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",eslintbase:"eslint .",format:"yarn eslintbase --fix && yarn prettierbase --write",lint:"yarn eslintbase && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/"},P={type:"git",url:"https://github.com/vega/vega-lite.git"},j="BSD-3-Clause",I={url:"https://github.com/vega/vega-lite/issues"},K={"@babel/core":"^7.16.0","@babel/preset-env":"^7.16.0","@babel/preset-typescript":"^7.16.0","@rollup/plugin-alias":"^3.1.8","@rollup/plugin-babel":"^5.3.0","@rollup/plugin-commonjs":"^21.0.1","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^13.0.6","@types/chai":"^4.2.22","@types/d3":"^7.1.0","@types/jest":"^27.0.2","@types/mkdirp":"^1.0.2","@types/pako":"^1.0.2","@typescript-eslint/eslint-plugin":"^5.4.0","@typescript-eslint/parser":"^5.4.0",ajv:"^8.8.0","ajv-formats":"^2.1.1",chai:"^4.3.4",cheerio:"^1.0.0-rc.10","conventional-changelog-cli":"^2.1.1",d3:"^7.1.1","del-cli":"^4.0.1",eslint:"^8.2.0","eslint-config-prettier":"^8.3.0","eslint-plugin-jest":"^25.2.4","eslint-plugin-prettier":"^4.0.0","gh-pages":"^3.2.3","highlight.js":"^11.3.1",jest:"^27.3.1","jest-dev-server":"^6.0.0",mkdirp:"^1.0.4",pako:"^2.0.4",prettier:"^2.4.1",puppeteer:"^11.0.0",rollup:"^2.60.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3","rollup-plugin-terser":"^7.0.2",serve:"^13.0.2",terser:"^5.10.0","ts-jest":"^27.0.7","ts-json-schema-generator":"^0.97.0",typescript:"~4.5.2","vega-cli":"^5.21.0","vega-datasets":"~2.2.0","vega-embed":"^6.20.2","vega-tooltip":"^0.27.0","yaml-front-matter":"^4.1.1"},de={"@types/clone":"~2.1.1","array-flat-polyfill":"^1.0.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.3.1","vega-event-selector":"~3.0.0","vega-expression":"~5.0.0","vega-util":"~1.17.0",yargs:"~17.2.1"},M={vega:"^5.21.0"},Z={node:">=12"},me={name:t,author:r,version:i,collaborators:s,homepage:o,description:a,main:c,unpkg:d,jsdelivr:p,module:E,types:w,bin:N,directories:R,files:U,scripts:Q,repository:P,license:j,bugs:I,devDependencies:K,dependencies:de,peerDependencies:M,engines:Z};Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function u(){var l=isNaN(arguments[0])?1:Number(arguments[0]);return l?Array.prototype.reduce.call(this,function(f,g){return Array.isArray(g)?f.push.apply(f,u.call(g,l-1)):f.push(g),f},[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(u){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var _e={exports:{}};(function(u){var l=function(){function f(rn,_n){return _n!=null&&rn instanceof _n}var g;try{g=Map}catch{g=function(){}}var v;try{v=Set}catch{v=function(){}}var D;try{D=Promise}catch{D=function(){}}function O(rn,_n,Xn,cr,er){typeof _n=="object"&&(Xn=_n.depth,cr=_n.prototype,er=_n.includeNonEnumerable,_n=_n.circular);var Rr=[],Mr=[],Ii=typeof Buffer!="undefined";typeof _n=="undefined"&&(_n=!0),typeof Xn=="undefined"&&(Xn=1/0);function ni(fi,xs){if(fi===null)return null;if(xs===0)return fi;var ss,ko;if(typeof fi!="object")return fi;if(f(fi,g))ss=new g;else if(f(fi,v))ss=new v;else if(f(fi,D))ss=new D(function(xp,Ky){fi.then(function(Jy){xp(ni(Jy,xs-1))},function(Jy){Ky(ni(Jy,xs-1))})});else if(O.__isArray(fi))ss=[];else if(O.__isRegExp(fi))ss=new RegExp(fi.source,Nt(fi)),fi.lastIndex&&(ss.lastIndex=fi.lastIndex);else if(O.__isDate(fi))ss=new Date(fi.getTime());else{if(Ii&&Buffer.isBuffer(fi))return Buffer.allocUnsafe?ss=Buffer.allocUnsafe(fi.length):ss=new Buffer(fi.length),fi.copy(ss),ss;f(fi,Error)?ss=Object.create(fi):typeof cr=="undefined"?(ko=Object.getPrototypeOf(fi),ss=Object.create(ko)):(ss=Object.create(cr),ko=cr)}if(_n){var Zs=Rr.indexOf(fi);if(Zs!=-1)return Mr[Zs];Rr.push(fi),Mr.push(ss)}f(fi,g)&&fi.forEach(function(xp,Ky){var Jy=ni(Ky,xs-1),A9=ni(xp,xs-1);ss.set(Jy,A9)}),f(fi,v)&&fi.forEach(function(xp){var Ky=ni(xp,xs-1);ss.add(Ky)});for(var Va in fi){var x0;ko&&(x0=Object.getOwnPropertyDescriptor(ko,Va)),!(x0&&x0.set==null)&&(ss[Va]=ni(fi[Va],xs-1))}if(Object.getOwnPropertySymbols)for(var Vx=Object.getOwnPropertySymbols(fi),Va=0;Va<Vx.length;Va++){var Yy=Vx[Va],W1=Object.getOwnPropertyDescriptor(fi,Yy);W1&&!W1.enumerable&&!er||(ss[Yy]=ni(fi[Yy],xs-1),W1.enumerable||Object.defineProperty(ss,Yy,{enumerable:!1}))}if(er)for(var Wx=Object.getOwnPropertyNames(fi),Va=0;Va<Wx.length;Va++){var Km=Wx[Va],W1=Object.getOwnPropertyDescriptor(fi,Km);W1&&W1.enumerable||(ss[Km]=ni(fi[Km],xs-1),Object.defineProperty(ss,Km,{enumerable:!1}))}return ss}return ni(rn,Xn)}O.clonePrototype=function(_n){if(_n===null)return null;var Xn=function(){};return Xn.prototype=_n,new Xn};function $(rn){return Object.prototype.toString.call(rn)}O.__objToStr=$;function re(rn){return typeof rn=="object"&&$(rn)==="[object Date]"}O.__isDate=re;function Se(rn){return typeof rn=="object"&&$(rn)==="[object Array]"}O.__isArray=Se;function Ie(rn){return typeof rn=="object"&&$(rn)==="[object RegExp]"}O.__isRegExp=Ie;function Nt(rn){var _n="";return rn.global&&(_n+="g"),rn.ignoreCase&&(_n+="i"),rn.multiline&&(_n+="m"),_n}return O.__getRegExpFlags=Nt,O}();u.exports&&(u.exports=l)})(_e);var Ve=_e.exports,at=function u(l,f){if(l===f)return!0;if(l&&f&&typeof l=="object"&&typeof f=="object"){if(l.constructor!==f.constructor)return!1;var g,v,D;if(Array.isArray(l)){if(g=l.length,g!=f.length)return!1;for(v=g;v--!==0;)if(!u(l[v],f[v]))return!1;return!0}if(l.constructor===RegExp)return l.source===f.source&&l.flags===f.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===f.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===f.toString();if(D=Object.keys(l),g=D.length,g!==Object.keys(f).length)return!1;for(v=g;v--!==0;)if(!Object.prototype.hasOwnProperty.call(f,D[v]))return!1;for(v=g;v--!==0;){var O=D[v];if(!u(l[O],f[O]))return!1}return!0}return l!==l&&f!==f},lt=function(u,l){l||(l={}),typeof l=="function"&&(l={cmp:l});var f=typeof l.cycles=="boolean"?l.cycles:!1,g=l.cmp&&function(D){return function(O){return function($,re){var Se={key:$,value:O[$]},Ie={key:re,value:O[re]};return D(Se,Ie)}}}(l.cmp),v=[];return function D(O){if(O&&O.toJSON&&typeof O.toJSON=="function"&&(O=O.toJSON()),O!==void 0){if(typeof O=="number")return isFinite(O)?""+O:"null";if(typeof O!="object")return JSON.stringify(O);var $,re;if(Array.isArray(O)){for(re="[",$=0;$<O.length;$++)$&&(re+=","),re+=D(O[$])||"null";return re+"]"}if(O===null)return"null";if(v.indexOf(O)!==-1){if(f)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var Se=v.push(O)-1,Ie=Object.keys(O).sort(g&&g(O));for(re="",$=0;$<Ie.length;$++){var Nt=Ie[$],rn=D(O[Nt]);!rn||(re&&(re+=","),re+=JSON.stringify(Nt)+":"+rn)}return v.splice(Se,1),"{"+re+"}"}}(u)};function Ke(u){return!!u.or}function St(u){return!!u.and}function Ft(u){return!!u.not}function je(u,l){if(Ft(u))je(u.not,l);else if(St(u))for(let f of u.and)je(f,l);else if(Ke(u))for(let f of u.or)je(f,l);else l(u)}function te(u,l){return Ft(u)?{not:te(u.not,l)}:St(u)?{and:u.and.map(f=>te(f,l))}:Ke(u)?{or:u.or.map(f=>te(f,l))}:l(u)}let Xe=at,ye=Ve;function ke(u){throw new Error(u)}function Ce(u,l){let f={};for(let g of l)e.hasOwnProperty(u,g)&&(f[g]=u[g]);return f}function xe(u,l){let f={...u};for(let g of l)delete f[g];return f}Set.prototype.toJSON=function(){return"Set(".concat([...this].map(u=>lt(u)).join(","),")")};let Je=lt;function ut(u){if(e.isNumber(u))return u;let l=e.isString(u)?u:lt(u);if(l.length<250)return l;let f=0;for(let g=0;g<l.length;g++){let v=l.charCodeAt(g);f=(f<<5)-f+v,f=f&f}return f}function Qt(u){return u===!1||u===null}function wt(u,l){return u.includes(l)}function mn(u,l){let f=0;for(let[g,v]of u.entries())if(l(v,g,f++))return!0;return!1}function Lt(u,l){let f=0;for(let[g,v]of u.entries())if(!l(v,g,f++))return!1;return!0}function It(u){for(var l=arguments.length,f=new Array(l>1?l-1:0),g=1;g<l;g++)f[g-1]=arguments[g];for(let v of f)cn(u,v??{});return u}function cn(u,l){for(let f of Le(l))e.writeConfig(u,f,l[f],!0)}function it(u,l){let f=[],g={},v;for(let D of u)v=l(D),!(v in g)&&(g[v]=1,f.push(D));return f}function ue(u,l){let f=Le(u),g=Le(l);if(f.length!==g.length)return!1;for(let v of f)if(u[v]!==l[v])return!1;return!0}function De(u,l){if(u.size!==l.size)return!1;for(let f of u)if(!l.has(f))return!1;return!0}function ve(u,l){for(let f of u)if(l.has(f))return!0;return!1}function le(u){let l=new Set;for(let f of u){let v=e.splitAccessPath(f).map((O,$)=>$===0?O:"[".concat(O,"]")),D=v.map((O,$)=>v.slice(0,$+1).join(""));for(let O of D)l.add(O)}return l}function st(u,l){return u===void 0||l===void 0?!0:ve(le(u),le(l))}function Ze(u){return Le(u).length===0}let Le=Object.keys,vt=Object.values,$t=Object.entries;function Mt(u){return u===!0||u===!1}function Vt(u){let l=u.replace(/\W/g,"_");return(u.match(/^\d+/)?"_":"")+l}function tn(u,l){return Ft(u)?"!(".concat(tn(u.not,l),")"):St(u)?"(".concat(u.and.map(f=>tn(f,l)).join(") && ("),")"):Ke(u)?"(".concat(u.or.map(f=>tn(f,l)).join(") || ("),")"):l(u)}function en(u,l){if(l.length===0)return!0;let f=l.shift();return f in u&&en(u[f],l)&&delete u[f],Ze(u)}function En(u){return u.charAt(0).toUpperCase()+u.substr(1)}function Fn(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum",f=e.splitAccessPath(u),g=[];for(let v=1;v<=f.length;v++){let D="[".concat(f.slice(0,v).map(e.stringValue).join("]["),"]");g.push("".concat(l).concat(D))}return g.join(" && ")}function On(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"datum";return"".concat(l,"[").concat(e.stringValue(e.splitAccessPath(u).join(".")),"]")}function qt(u){return u.replace(/(\[|\]|\.|'|")/g,"\\$1")}function pn(u){return"".concat(e.splitAccessPath(u).map(qt).join("\\."))}function qn(u,l,f){return u.replace(new RegExp(l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),f)}function or(u){return"".concat(e.splitAccessPath(u).join("."))}function In(u){return u?e.splitAccessPath(u).length:0}function Ne(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];for(let g of l)if(g!==void 0)return g}let $e=42;function Oe(u){let l=++$e;return u?String(u)+l:l}function jt(){$e=42}function yt(u){return mt(u)?u:"__".concat(u)}function mt(u){return u.startsWith("__")}function nn(u){if(u!==void 0)return(u%360+360)%360}function Wt(u){return e.isNumber(u)?!0:!isNaN(u)&&!isNaN(parseFloat(u))}let Dn="row",Qn="column",Zn="facet",Pn="x",ar="y",Ye="x2",gt="y2",se="xOffset",qe="yOffset",et="radius",Tt="radius2",fn="theta",on="theta2",ct="latitude",ie="longitude",Te="latitude2",ze="longitude2",ht="color",_t="fill",Dt="stroke",ne="shape",we="size",We="angle",nt="opacity",Pt="fillOpacity",sn="strokeOpacity",wn="strokeWidth",yn="strokeDash",xn="text",zn="order",Re="detail",He="key",At="tooltip",L="href",V="url",be="description",pe={x:1,y:1,x2:1,y2:1},Y={theta:1,theta2:1,radius:1,radius2:1};function oe(u){return u in Y}let ce={longitude:1,longitude2:1,latitude:1,latitude2:1};function Qe(u){switch(u){case ct:return"y";case Te:return"y2";case ie:return"x";case ze:return"x2"}}function Rt(u){return u in ce}let Et=Le(ce),ln={...pe,...Y,...ce,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function S(u){return u===ht||u===_t||u===Dt}let B={row:1,column:1,facet:1},ee=Le(B),Ee={...ln,...B},ft=Le(Ee),{order:Ct,detail:Jt,tooltip:Kt,...hn}=Ee,{row:Bn,column:jn,facet:Vn,...Xr}=hn;function Wr(u){return!!Xr[u]}function yr(u){return!!Ee[u]}let Pr=[Ye,gt,Te,ze,on,Tt];function vi(u){return li(u)!==u}function li(u){switch(u){case Ye:return Pn;case gt:return ar;case Te:return ct;case ze:return ie;case on:return fn;case Tt:return et}return u}function Xi(u){if(oe(u))switch(u){case fn:return"startAngle";case on:return"endAngle";case et:return"outerRadius";case Tt:return"innerRadius"}return u}function ws(u){switch(u){case Pn:return Ye;case ar:return gt;case ct:return Te;case ie:return ze;case fn:return on;case et:return Tt}}function ts(u){switch(u){case Pn:case Ye:return"width";case ar:case gt:return"height"}}function Ca(u){switch(u){case Pn:return"xOffset";case ar:return"yOffset";case Ye:return"x2Offset";case gt:return"y2Offset";case fn:return"thetaOffset";case et:return"radiusOffset";case on:return"theta2Offset";case Tt:return"radius2Offset"}}function pa(u){switch(u){case Pn:return"xOffset";case ar:return"yOffset"}}function hl(u){switch(u){case"xOffset":return"x";case"yOffset":return"y"}}let Sc=Le(ln),{x:cu,y:fu,x2:Xu,y2:Fu,xOffset:wc,yOffset:ta,latitude:Zu,longitude:Qc,latitude2:Ge,longitude2:Gt,theta:Mn,theta2:Yn,radius:si,radius2:jr,...Zr}=ln,Cs=Le(Zr),fo={x:1,y:1},ro=Le(fo);function hs(u){return u in fo}let io={theta:1,radius:1},ho=Le(io);function xi(u){return u==="width"?Pn:ar}let Ci={xOffset:1,yOffset:1};function Wi(u){return u in Ci}let{text:Xo,tooltip:fa,href:da,url:po,description:us,detail:ps,key:Zi,order:du,...Is}=Zr,ma=Le(Is);function oa(u){return!!Zr[u]}function ki(u){switch(u){case ht:case _t:case Dt:case we:case ne:case nt:case wn:case yn:return!0;case Pt:case sn:case We:return!1}}let Vo={...fo,...io,...Ci,...Is},vs=Le(Vo);function Bi(u){return!!Vo[u]}function Oo(u,l){return To(u)[l]}let Na={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Ja,...Ro}=Na;function To(u){switch(u){case ht:case _t:case Dt:case be:case Re:case He:case At:case L:case zn:case nt:case Pt:case sn:case wn:case Zn:case Dn:case Qn:return Na;case Pn:case ar:case se:case qe:case ct:case ie:return Ro;case Ye:case gt:case Te:case ze:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case we:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case yn:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ne:return{point:"always",geoshape:"always"};case xn:return{text:"always"};case We:return{point:"always",square:"always",text:"always"};case V:return{image:"always"};case fn:return{text:"always",arc:"always"};case et:return{text:"always",arc:"always"};case on:case Tt:return{arc:"always"}}}function qa(u){switch(u){case Pn:case ar:case fn:case et:case se:case qe:case we:case We:case wn:case nt:case Pt:case sn:case Ye:case gt:case on:case Tt:return;case Zn:case Dn:case Qn:case ne:case yn:case xn:case At:case L:case V:case be:return"discrete";case ht:case _t:case Dt:return"flexible";case ct:case ie:case Te:case ze:case Re:case He:case zn:return}}let hu={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ua={count:1,min:1,max:1};function aa(u){return!!u&&!!u.argmin}function ua(u){return!!u&&!!u.argmax}function pl(u){return e.isString(u)&&!!hu[u]}let Pl=new Set(["count","valid","missing","distinct"]);function na(u){return e.isString(u)&&Pl.has(u)}function el(u){return e.isString(u)&&wt(["min","max"],u)}let ci=new Set(["count","sum","distinct","valid","missing"]),rs=new Set(["mean","average","median","q1","q3","min","max"]);function ls(u){return e.isBoolean(u)&&(u=S4(u,void 0)),"bin"+Le(u).map(l=>pt(u[l])?Vt("_".concat(l,"_").concat($t(u[l]))):Vt("_".concat(l,"_").concat(u[l]))).join("")}function pr(u){return u===!0||Me(u)&&!u.binned}function as(u){return u==="binned"||Me(u)&&u.binned===!0}function Me(u){return e.isObject(u)}function pt(u){return u==null?void 0:u.param}function Yt(u){switch(u){case Dn:case Qn:case we:case ht:case _t:case Dt:case wn:case nt:case Pt:case sn:case ne:return 6;case yn:return 4;default:return 10}}function Bt(u){return u&&!!u.expr}function dn(u){let l=Le(u||{}),f={};for(let g of l)f[g]=gi(u[g]);return f}function Nn(u){let{anchor:l,frame:f,offset:g,orient:v,angle:D,limit:O,color:$,subtitleColor:re,subtitleFont:Se,subtitleFontSize:Ie,subtitleFontStyle:Nt,subtitleFontWeight:rn,subtitleLineHeight:_n,subtitlePadding:Xn,...cr}=u,er={...cr,...$?{fill:$}:{}},Rr={...l?{anchor:l}:{},...f?{frame:f}:{},...g?{offset:g}:{},...v?{orient:v}:{},...D!==void 0?{angle:D}:{},...O!==void 0?{limit:O}:{}},Mr={...re?{subtitleColor:re}:{},...Se?{subtitleFont:Se}:{},...Ie?{subtitleFontSize:Ie}:{},...Nt?{subtitleFontStyle:Nt}:{},...rn?{subtitleFontWeight:rn}:{},..._n?{subtitleLineHeight:_n}:{},...Xn?{subtitlePadding:Xn}:{}},Ii=Ce(u,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:er,subtitleMarkConfig:Ii,nonMarkTitleProperties:Rr,subtitle:Mr}}function Kn(u){return e.isString(u)||e.isArray(u)&&e.isString(u[0])}function Un(u){return u&&!!u.signal}function br(u){return!!u.step}function wr(u){return e.isArray(u)?!1:"fields"in u&&!("data"in u)}function Gn(u){return e.isArray(u)?!1:"fields"in u&&"data"in u}function ur(u){return e.isArray(u)?!1:"field"in u&&"data"in u}let gr=Le({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Or={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},mi=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function ii(u){let l=e.isArray(u.condition)?u.condition.map(oi):oi(u.condition);return{...gi(u),condition:l}}function gi(u){if(Bt(u)){let{expr:l,...f}=u;return{signal:l,...f}}return u}function oi(u){if(Bt(u)){let{expr:l,...f}=u;return{signal:l,...f}}return u}function Ur(u){if(Bt(u)){let{expr:l,...f}=u;return{signal:l,...f}}return Un(u)?u:u!==void 0?{value:u}:void 0}function Ir(u){return Un(u)?u.signal:e.stringValue(u)}function bi(u){return Un(u)?u.signal:e.stringValue(u.value)}function _i(u){return Un(u)?u.signal:u==null?null:e.stringValue(u)}function os(u,l,f){for(let g of f){let v=Ms(g,l.markDef,l.config);v!==void 0&&(u[g]=Ur(v))}return u}function gs(u){var l;return[].concat(u.type,(l=u.style)!==null&&l!==void 0?l:[])}function Ei(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},{vgChannel:v,ignoreVgConfig:D}=g;return v&&l[v]!==void 0?l[v]:l[u]!==void 0?l[u]:D&&(!v||v===u)?void 0:Ms(u,l,f,g)}function Ms(u,l,f){let{vgChannel:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ne(g?is(u,l,f.style):void 0,is(u,l,f.style),g?f[l.type][g]:void 0,f[l.type][u],g?f.mark[g]:f.mark[u])}function is(u,l,f){return xa(u,gs(l),f)}function xa(u,l,f){l=e.array(l);let g;for(let v of l){let D=f[v];D&&D[u]!==void 0&&(g=D[u])}return g}function No(u,l){return e.array(u).reduce((f,g)=>{var v;return f.field.push(pi(g,l)),f.order.push((v=g.sort)!==null&&v!==void 0?v:"ascending"),f},{field:[],order:[]})}function As(u,l){let f=[...u];return l.forEach(g=>{for(let v of f)if(Xe(v,g))return;f.push(g)}),f}function Zt(u,l){return Xe(u,l)||!l?u:u?[...e.array(u),...e.array(l)].join(", "):l}function Jn(u,l){let f=u.value,g=l.value;if(f==null||g===null)return{explicit:u.explicit,value:null};if((Kn(f)||Un(f))&&(Kn(g)||Un(g)))return{explicit:u.explicit,value:Zt(f,g)};if(Kn(f)||Un(f))return{explicit:u.explicit,value:f};if(Kn(g)||Un(g))return{explicit:u.explicit,value:g};if(!Kn(f)&&!Un(f)&&!Kn(g)&&!Un(g))return{explicit:u.explicit,value:As(f,g)};throw new Error("It should never reach here")}function vn(u,l,f){return l in u?Object.defineProperty(u,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[l]=f,u}function Kr(u,l){var f=ns(u,l,"get");return ms(u,f)}function Oi(u,l,f){var g=ns(u,l,"set");return $i(u,g,f),f}function ns(u,l,f){if(!l.has(u))throw new TypeError("attempted to "+f+" private field on non-instance");return l.get(u)}function ms(u,l){return l.get?l.get.call(u):l.value}function $i(u,l,f){if(l.set)l.set.call(u,f);else{if(!l.writable)throw new TypeError("attempted to set read only private field");l.value=f}}function cs(u,l){if(l.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pu(u,l,f){cs(u,l),l.set(u,f)}function ae(u){return"Invalid specification ".concat(Je(u),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}let ot='Autosize "fit" only works for single views and layered views.';function Xt(u){let l=u=="width"?"Width":"Height";return"".concat(l,' "container" only works for single views and layered views.')}function Tn(u){let l=u=="width"?"Width":"Height",f=u=="width"?"x":"y";return"".concat(l,' "container" only works well with autosize "fit" or "fit-').concat(f,'".')}function rr(u){return u?'Dropping "fit-'.concat(u,'" because spec has discrete ').concat(ts(u),"."):'Dropping "fit" because spec has discrete size.'}function vr(u){return"Unknown field for ".concat(u,". Cannot calculate view size.")}function dr(u){return'Cannot project a selection on encoding channel "'.concat(u,'", which has no field.')}function es(u,l){return'Cannot project a selection on encoding channel "'.concat(u,'" as it uses an aggregate function ("').concat(l,'").')}function _s(u){return'The "nearest" transform is not supported for '.concat(u," marks.")}function Rs(u){return"Selection not supported for ".concat(u," yet.")}function so(u){return'Cannot find a selection named "'.concat(u,'".')}let Xa="Scale bindings are currently only supported for scales with unbinned, continuous domains.",Xl="Legend bindings are only supported for selections over an individual field or encoding channel.";function Gc(u){return'Lookups can only be performed on selection parameters. "'.concat(u,'" is a variable parameter.')}function Cc(u){return'Cannot define and lookup the "'.concat(u,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}let e0="The same selection must be used to override scale domains in a layered view.",U0='Interval selections should be initialized using "x" and/or "y" keys.';function Zl(u){return'Unknown repeated value "'.concat(u,'".')}function Yc(u){return'The "columns" property cannot be used when "'.concat(u,'" has nested row/column.')}let t0="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function ml(u){return'Unrecognized parse "'.concat(u,'".')}function Ac(u,l,f){return'An ancestor parsed field "'.concat(u,'" as ').concat(f," but a child wants to parse the field as ").concat(l,".")}let n0="Attempt to add the same child twice.";function ec(u){return"Ignoring an invalid transform: ".concat(Je(u),".")}let Bl='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function z0(u){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(u," are dropped.")}function yh(u){let{parentProjection:l,projection:f}=u;return"Layer's shared projection ".concat(Je(l)," is overridden by a child projection ").concat(Je(f),".")}let H0="Arc marks uses theta channel rather than angle, replacing angle with theta.";function $0(u){return"".concat(u,"Offset dropped because ").concat(u," is continuous")}function Kc(u){return"There is no ".concat(u," encoding. Replacing ").concat(u,"Offset encoding as ").concat(u,".")}function V0(u,l,f){return"Channel ".concat(u," is a ").concat(l,". Converted to {value: ").concat(Je(f),"}.")}function Tc(u){return'Invalid field type "'.concat(u,'".')}function r0(u,l){return'Invalid field type "'.concat(u,'" for aggregate: "').concat(l,'", using "quantitative" instead.')}function i0(u){return'Invalid aggregation operator "'.concat(u,'".')}function s0(u,l){let{fill:f,stroke:g}=l;return"Dropping color ".concat(u," as the plot also has ").concat(f&&g?"fill and stroke":f?"fill":"stroke",".")}function Uo(u){return"Position range does not support relative band size for ".concat(u,".")}function Zo(u,l){return"Dropping ".concat(Je(u),' from channel "').concat(l,'" since it does not contain any data field, datum, value, or signal.')}let o0="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function xl(u,l,f){return"".concat(u,' dropped as it is incompatible with "').concat(l,'"').concat(f?" when ".concat(f):"",".")}function Jc(u){return"".concat(u," encoding has no scale, so specified scale is ignored.")}function Ld(u){return"".concat(u,"-encoding is dropped as ").concat(u," is not a valid encoding channel.")}function Du(u){return"".concat(u," encoding should be discrete (ordinal / nominal / binned).")}function _o(u){return"".concat(u," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}function vh(u){return"Facet encoding dropped as ".concat(u.join(" and ")," ").concat(u.length>1?"are":"is"," also specified.")}function gl(u,l){return'Using discrete channel "'.concat(u,'" to encode "').concat(l,'" field can be misleading as it does not encode ').concat(l==="ordinal"?"order":"magnitude",".")}function Ls(u){return"The ".concat(u," for range marks cannot be an expression")}function yl(u,l){let f=u&&l?"x2 and y2":u?"x2":"y2";return"Line mark is for continuous lines and thus cannot be used with ".concat(f,". We will use the rule mark (line segments) instead.")}function k(u,l){return'Specified orient "'.concat(u,'" overridden with "').concat(l,'".')}function X(u){return'Cannot use the scale property "'.concat(u,'" with non-color channel.')}function Ue(u){return"Cannot use the relative band size with ".concat(u," scale.")}function Ot(u){return"Using unaggregated domain with raw field has no effect (".concat(Je(u),").")}function zt(u){return'Unaggregated domain not applicable for "'.concat(u,'" since it produces values outside the origin domain of the source data.')}function Cn(u){return"Unaggregated domain is currently unsupported for log scale (".concat(Je(u),").")}function Ln(u){return'Cannot apply size to non-oriented mark "'.concat(u,'".')}function ir(u,l,f){return'Channel "'.concat(u,'" does not work with "').concat(l,'" scale. We are using "').concat(f,'" scale instead.')}function hr(u,l){return'FieldDef does not work with "'.concat(u,'" scale. We are using "').concat(l,'" scale instead.')}function Nr(u,l,f){return"".concat(f,`-scale's "`).concat(l,'" is dropped as it does not work with ').concat(u," scale.")}function tt(u){return'The step for "'.concat(u,'" is dropped because the ').concat(u==="width"?"x":"y"," is continuous.")}function Ri(u,l,f,g){return"Conflicting ".concat(l.toString(),' property "').concat(u.toString(),'" (').concat(Je(f)," and ").concat(Je(g),"). Using ").concat(Je(f),".")}function Qi(u,l,f,g){return"Conflicting ".concat(l.toString(),' property "').concat(u.toString(),'" (').concat(Je(f)," and ").concat(Je(g),"). Using the union of the two domains.")}function Mi(u){return'Setting the scale to be independent for "'.concat(u,'" means we also have to set the guide (axis or legend) to be independent.')}function Gr(u){return"Dropping sort property ".concat(Je(u),' as unioned domains only support boolean or op "count", "min", and "max".')}let Qs="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",zo="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",ga="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",mo="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function La(u){return'Cannot stack "'.concat(u,'" if there is already "').concat(u,'2".')}function tc(u){return"Cannot stack non-linear scale (".concat(u,").")}function jl(u){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(u,'").')}function ka(u,l){return"Invalid ".concat(u,": ").concat(Je(l),".")}function nc(u){return"Dropping day from datetime ".concat(Je(u)," as day cannot be combined with other units.")}function ya(u,l){return"".concat(l?"extent ":"").concat(l&&u?"and ":"").concat(u?"center ":"").concat(l&&u?"are ":"is ","not needed when data are aggregated.")}function Xc(u,l,f){return"".concat(u," is not usually used with ").concat(l," for ").concat(f,".")}function Zc(u,l){return"Continuous axis should not have customized aggregation function ".concat(u,"; ").concat(l," already agregates the axis.")}function tl(u){return"1D error band does not support ".concat(u,".")}function rc(u){return"Channel ".concat(u,' is required for "binned" bin.')}function O1(u){return"Channel ".concat(u,' should not be used with "binned" bin.')}function Fc(u){return"Domain for ".concat(u," is required for threshold scale.")}let jm=e.logger(e.Warn),ql=jm;function Sf(u){return ql=u,ql}function Dc(){return ql=jm,ql}function qr(){ql.warn(...arguments)}function W0(){ql.debug(...arguments)}function Q0(u){if(u&&e.isObject(u)){for(let l of tf)if(l in u)return!0}return!1}let Hr=["january","february","march","april","may","june","july","august","september","october","november","december"],vl=Hr.map(u=>u.substr(0,3)),R1=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],ep=R1.map(u=>u.substr(0,3));function bo(u){if(Wt(u)&&(u=+u),e.isNumber(u))return u>4&&qr(ka("quarter",u)),u-1;throw new Error(ka("quarter",u))}function G0(u){if(Wt(u)&&(u=+u),e.isNumber(u))return u-1;{let l=u.toLowerCase(),f=Hr.indexOf(l);if(f!==-1)return f;let g=l.substr(0,3),v=vl.indexOf(g);if(v!==-1)return v;throw new Error(ka("month",u))}}function kd(u){if(Wt(u)&&(u=+u),e.isNumber(u))return u%7;{let l=u.toLowerCase(),f=R1.indexOf(l);if(f!==-1)return f;let g=l.substr(0,3),v=ep.indexOf(g);if(v!==-1)return v;throw new Error(ka("day",u))}}function Y0(u,l){let f=[];if(l&&u.day!==void 0&&Le(u).length>1&&(qr(nc(u)),u=ye(u),delete u.day),u.year!==void 0?f.push(u.year):f.push(2012),u.month!==void 0){let g=l?G0(u.month):u.month;f.push(g)}else if(u.quarter!==void 0){let g=l?bo(u.quarter):u.quarter;f.push(e.isNumber(g)?g*3:"".concat(g,"*3"))}else f.push(0);if(u.date!==void 0)f.push(u.date);else if(u.day!==void 0){let g=l?kd(u.day):u.day;f.push(e.isNumber(g)?g+1:"".concat(g,"+1"))}else f.push(1);for(let g of["hours","minutes","seconds","milliseconds"]){let v=u[g];f.push(typeof v=="undefined"?0:v)}return f}function ef(u){let f=Y0(u,!0).join(", ");return u.utc?"utc(".concat(f,")"):"datetime(".concat(f,")")}function kx(u){let f=Y0(u,!1).join(", ");return u.utc?"utc(".concat(f,")"):"datetime(".concat(f,")")}function Ix(u){let l=Y0(u,!0);return u.utc?+new Date(Date.UTC(...l)):+new Date(...l)}let _h={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},tf=Le(_h);function nl(u){return!!_h[u]}function Id(u){return u.startsWith("utc")}function tp(u){return u.substr(3)}let N1={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function rl(u){return tf.filter(l=>K0(u,l))}function K0(u,l){let f=u.indexOf(l);return!(f<0||f>0&&l==="seconds"&&u.charAt(f-1)==="i"||u.length>f+3&&l==="day"&&u.charAt(f+3)==="o"||f>0&&l==="year"&&u.charAt(f-1)==="f")}function wf(u,l){let{end:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{end:!1},g=Fn(l),v=Id(u)?"utc":"";function D(re){return re==="quarter"?"(".concat(v,"quarter(").concat(g,")-1)"):"".concat(v).concat(re,"(").concat(g,")")}let O,$={};for(let re of tf)K0(u,re)&&($[re]=D(re),O=re);return f&&($[O]+="+1"),kx($)}function _l(u){if(!u)return;let l=rl(u);return"timeUnitSpecifier(".concat(Je(l),", ").concat(Je(N1),")")}function np(u,l,f){if(!u)return;let g=_l(u),v=f||Id(u);return"".concat(v?"utc":"time","Format(").concat(l,", ").concat(g,")")}function Ou(u){if(!u)return;let l;return e.isString(u)?l={unit:u}:e.isObject(u)&&(l={...u,...u.unit?{unit:u.unit}:{}}),Id(l.unit)&&(l.utc=!0,l.unit=tp(l.unit)),l}function L1(u){let{utc:l,...f}=Ou(u);return f.unit?(l?"utc":"")+Le(f).map(g=>Vt("".concat(g==="unit"?"":"_".concat(g,"_")).concat(f[g]))).join(""):(l?"utc":"")+"timeunit"+Le(f).map(g=>Vt("_".concat(g,"_").concat(f[g]))).join("")}function il(u){return u==null?void 0:u.param}function Oc(u){return u&&!!u.field&&u.equal!==void 0}function bh(u){return u&&!!u.field&&u.lt!==void 0}function Md(u){return u&&!!u.field&&u.lte!==void 0}function nf(u){return u&&!!u.field&&u.gt!==void 0}function Eh(u){return u&&!!u.field&&u.gte!==void 0}function rp(u){if(u!=null&&u.field){if(e.isArray(u.range)&&u.range.length===2)return!0;if(Un(u.range))return!0}return!1}function za(u){return u&&!!u.field&&(e.isArray(u.oneOf)||e.isArray(u.in))}function Sh(u){return u&&!!u.field&&u.valid!==void 0}function J0(u){return za(u)||Oc(u)||rp(u)||bh(u)||nf(u)||Md(u)||Eh(u)}function Ia(u,l){return jb(u,{timeUnit:l,wrapTime:!0})}function wh(u,l){return u.map(f=>Ia(f,l))}function Ru(u){var l;let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,{field:g}=u,v=(l=Ou(u.timeUnit))===null||l===void 0?void 0:l.unit,D=v?"time(".concat(wf(v,g),")"):pi(u,{expr:"datum"});if(Oc(u))return"".concat(D,"===").concat(Ia(u.equal,v));if(bh(u)){let O=u.lt;return"".concat(D,"<").concat(Ia(O,v))}else if(nf(u)){let O=u.gt;return"".concat(D,">").concat(Ia(O,v))}else if(Md(u)){let O=u.lte;return"".concat(D,"<=").concat(Ia(O,v))}else if(Eh(u)){let O=u.gte;return"".concat(D,">=").concat(Ia(O,v))}else{if(za(u))return"indexof([".concat(wh(u.oneOf,v).join(","),"], ").concat(D,") !== -1");if(Sh(u))return Za(D,u.valid);if(rp(u)){let{range:O}=u,$=Un(O)?{signal:"".concat(O.signal,"[0]")}:O[0],re=Un(O)?{signal:"".concat(O.signal,"[1]")}:O[1];if($!==null&&re!==null&&f)return"inrange("+D+", ["+Ia($,v)+", "+Ia(re,v)+"])";let Se=[];return $!==null&&Se.push("".concat(D," >= ").concat(Ia($,v))),re!==null&&Se.push("".concat(D," <= ").concat(Ia(re,v))),Se.length>0?Se.join(" && "):"true"}}throw new Error("Invalid field predicate: ".concat(Je(u)))}function Za(u){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?"isValid(".concat(u,") && isFinite(+").concat(u,")"):"!isValid(".concat(u,") || !isFinite(+").concat(u,")")}function Ch(u){if(J0(u)&&u.timeUnit){var l;return{...u,timeUnit:(l=Ou(u.timeUnit))===null||l===void 0?void 0:l.unit}}return u}let va={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Ah(u){return u==="quantitative"||u==="temporal"}function ip(u){return u==="ordinal"||u==="nominal"}let a0=va.quantitative,X0=va.ordinal,rf=va.temporal,Ul=va.nominal,Nu=va.geojson;function sp(u){if(u)switch(u=u.toLowerCase(),u){case"q":case a0:return"quantitative";case"t":case rf:return"temporal";case"o":case X0:return"ordinal";case"n":case Ul:return"nominal";case Nu:return"geojson"}}let sl={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Th={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function Pd(u,l){let f=Th[u],g=Th[l];return f===g||f==="ordinal-position"&&g==="time"||g==="ordinal-position"&&f==="time"}let qm={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function op(u){return qm[u]}let Cf=new Set(["linear","log","pow","sqrt","symlog"]),Z0=new Set([...Cf,"time","utc"]);function Js(u){return Cf.has(u)}let A=new Set(["quantile","quantize","threshold"]),W=new Set([...Z0,...A,"sequential","identity"]),fe=new Set(["ordinal","bin-ordinal","point","band"]);function Be(u){return fe.has(u)}function bt(u){return W.has(u)}function An(u){return Z0.has(u)}function lr(u){return A.has(u)}let zi={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4};function qi(u){return!e.isString(u)&&!!u.name}function oo(u){return u==null?void 0:u.param}function mu(u){return u&&u.unionWith}function Rc(u){return e.isObject(u)&&"field"in u}let Af={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:kb,domain:Dy,range:y4,rangeMax:Oy,rangeMin:ed,scheme:Lu,...v4}=Af,Fh=Le(v4);function Ts(u,l){switch(l){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(u);case"bins":return!["point","band","identity","ordinal"].includes(u);case"round":return An(u)||u==="band"||u==="point";case"padding":case"rangeMin":case"rangeMax":return An(u)||["point","band"].includes(u);case"paddingOuter":case"align":return["point","band"].includes(u);case"paddingInner":return u==="band";case"domainMax":case"domainMid":case"domainMin":case"clamp":return An(u);case"nice":return An(u)||u==="quantize"||u==="threshold";case"exponent":return u==="pow";case"base":return u==="log";case"constant":return u==="symlog";case"zero":return bt(u)&&!wt(["log","time","utc","threshold","quantile"],u)}}function u0(u,l){switch(l){case"interpolate":case"scheme":case"domainMid":return S(u)?void 0:X(u);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function bl(u,l){return wt([X0,Ul],l)?u===void 0||Be(u):l===rf?wt([sl.TIME,sl.UTC,void 0],u):l===a0?Js(u)||lr(u)||u===void 0:!0}function ap(u,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!Bi(u))return!1;switch(u){case Pn:case ar:case se:case qe:case fn:case et:return An(l)||l==="band"?!0:l==="point"?!f:!1;case we:case wn:case nt:case Pt:case sn:case We:return An(l)||lr(l)||wt(["band","point","ordinal"],l);case ht:case _t:case Dt:return l!=="band";case yn:case ne:return l==="ordinal"||lr(l)}}let ku={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},k1=ku.arc,I1=ku.area,El=ku.bar,Ry=ku.image,Bd=ku.line,Dh=ku.point,Ny=ku.rect,Tf=ku.rule,Sl=ku.text,Ff=ku.tick,M1=ku.trail,up=ku.circle,jd=ku.square,P1=ku.geoshape;function sf(u){return["line","area","trail"].includes(u)}function Mx(u){return["rect","bar","image","arc"].includes(u)}let Px=new Set(Le(ku));function ic(u){return u.type}let l0=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],_4=["fill","fillOpacity"],td=[...l0,..._4],F=Le({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),H={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},G={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},xt=Le({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function x(u){return u&&u.band!=null}let T={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},z=5,J={binSpacing:1,continuousBandSize:z,timeUnitBandPosition:.5},ge={binSpacing:0,continuousBandSize:z,timeUnitBandPosition:.5},Fe={thickness:1};function rt(u){return ic(u)?u.type:u}function Ut(u){let{channel:l,channelDef:f,markDef:g,scale:v,config:D}=u,O=Jr(u);return Dr(f)&&!na(f.aggregate)&&v&&An(v.get("type"))?Sn({fieldDef:f,channel:l,markDef:g,ref:O,config:D}):O}function Sn(u){let{fieldDef:l,channel:f,markDef:g,ref:v,config:D}=u;return sf(g.type)?v:Ei("invalid",g,D)===null?[bn(l,f),v]:v}function bn(u,l){let f=kn(u,!0),v=li(l)==="y"?{field:{group:"height"}}:{value:0};return{test:f,...v}}function kn(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Za(e.isString(u)?u:pi(u,{expr:"datum"}),!l)}function $n(u){let{datum:l}=u;return Q0(l)?ef(l):"".concat(Je(l))}function sr(u,l,f,g){let v={};if(l&&(v.scale=l),So(u)){let{datum:D}=u;Q0(D)?v.signal=ef(D):Un(D)?v.signal=D.signal:Bt(D)?v.signal=D.expr:v.value=D}else v.field=pi(u,f);if(g){let{offset:D,band:O}=g;D&&(v.offset=D),O&&(v.band=O)}return v}function Fr(u){let{scaleName:l,fieldOrDatumDef:f,fieldOrDatumDef2:g,offset:v,startSuffix:D,bandPosition:O=.5}=u,$=0<O&&O<1?"datum":void 0,re=pi(f,{expr:$,suffix:D}),Se=g!==void 0?pi(g,{expr:$}):pi(f,{suffix:"end",expr:$}),Ie={};if(O===0||O===1){Ie.scale=l;let Nt=O===0?re:Se;Ie.field=Nt}else{let Nt=Un(O)?"".concat(O.signal," * ").concat(re," + (1-").concat(O.signal,") * ").concat(Se):"".concat(O," * ").concat(re," + ").concat(1-O," * ").concat(Se);Ie.signal='scale("'.concat(l,'", ').concat(Nt,")")}return v&&(Ie.offset=v),Ie}function Jr(u){let{channel:l,channelDef:f,channel2Def:g,markDef:v,config:D,scaleName:O,scale:$,stack:re,offset:Se,defaultRef:Ie,bandPosition:Nt}=u;if(f){if(Ns(f)){var rn,_n;let cr=$==null?void 0:$.get("type");if(zd(f)){var Xn;(Xn=Nt)!==null&&Xn!==void 0||(Nt=jx({fieldDef:f,fieldDef2:g,markDef:v,config:D}));let{bin:er,timeUnit:Rr,type:Mr}=f;if(pr(er)||Nt&&Rr&&Mr===rf)return re!=null&&re.impute?sr(f,O,{binSuffix:"mid"},{offset:Se}):Nt&&!Be(cr)?Fr({scaleName:O,fieldOrDatumDef:f,bandPosition:Nt,offset:Se}):sr(f,O,w4(f,l)?{binSuffix:"range"}:{},{offset:Se});if(as(er)){if(Dr(g))return Fr({scaleName:O,fieldOrDatumDef:f,fieldOrDatumDef2:g,bandPosition:Nt,offset:Se});qr(rc(l===Pn?Ye:gt))}}return sr(f,O,Be(cr)?{binSuffix:"range"}:{},{offset:Se,band:cr==="band"?(rn=(_n=Nt)!==null&&_n!==void 0?_n:f.bandPosition)!==null&&rn!==void 0?rn:.5:void 0})}else if(Hd(f)){let cr=f.value,er=Se?{offset:Se}:{};return{...kr(l,cr),...er}}}return e.isFunction(Ie)&&(Ie=Ie()),Ie&&{...Ie,...Se?{offset:Se}:{}}}function kr(u,l){return wt(["x","x2"],u)&&l==="width"?{field:{group:"width"}}:wt(["y","y2"],u)&&l==="height"?{field:{group:"height"}}:Ur(l)}function wi(u){return u&&u!=="number"&&u!=="time"}function Pi(u,l,f){return"".concat(u,"(").concat(l).concat(f?", ".concat(Je(f)):"",")")}let Ds=" \u2013 ";function fs(u){let{fieldOrDatumDef:l,format:f,formatType:g,expr:v,normalizeStack:D,config:O}=u;if(wi(g))return Gs({fieldOrDatumDef:l,format:f,formatType:g,expr:v,config:O});let $=Xs(l,v,D);if(By(l)){var re,Se;let Ie=$a($,Dr(l)?(re=Ou(l.timeUnit))===null||re===void 0?void 0:re.unit:void 0,f,O.timeFormat,qx(l)&&((Se=l.scale)===null||Se===void 0?void 0:Se.type)===sl.UTC);return Ie?{signal:Ie}:void 0}if(f=Ha(oc(l),f,O),Dr(l)&&pr(l.bin)){let Ie=pi(l,{expr:v,binSuffix:"end"});return{signal:Ma($,Ie,f,g,O)}}else return f||oc(l)==="quantitative"?{signal:"".concat(Iu($,f))}:{signal:"isValid(".concat($,") ? ").concat($,' : ""+').concat($)}}function Xs(u,l,f){return Dr(u)?f?"".concat(pi(u,{expr:l,suffix:"end"}),"-").concat(pi(u,{expr:l,suffix:"start"})):pi(u,{expr:l}):$n(u)}function Gs(u){var l;let{fieldOrDatumDef:f,format:g,formatType:v,expr:D,normalizeStack:O,config:$,field:re}=u;if((l=re)!==null&&l!==void 0||(re=Xs(f,D,O)),Dr(f)&&pr(f.bin)){let Se=pi(f,{expr:D,binSuffix:"end"});return{signal:Ma(re,Se,g,v,$)}}return{signal:Pi(v,re,g)}}function Yr(u,l,f,g,v,D){if(!wi(g)){if(By(u)){var O;let $=Dr(u)?(O=Ou(u.timeUnit))===null||O===void 0?void 0:O.unit:void 0;return eu(f,$,v,D)}return Ha(l,f,v)}}function Ki(u,l,f){if(u&&(Un(u)||u==="number"||u==="time"))return u;if(By(l)&&f!=="time"&&f!=="utc")return"time"}function Ha(u,l,f){if(e.isString(l))return l;if(u===a0)return f.numberFormat}function eu(u,l,f,g){return u||(l?{signal:_l(l)}:g?void 0:f.timeFormat)}function Iu(u,l){return"format(".concat(u,', "').concat(l||"",'")')}function bs(u,l,f,g){var v;return wi(f)?Pi(f,u,l):Iu(u,(v=e.isString(l)?l:void 0)!==null&&v!==void 0?v:g.numberFormat)}function Ma(u,l,f,g,v){let D=bs(u,f,g,v),O=bs(l,f,g,v);return"".concat(Za(u,!1),' ? "null" : ').concat(D,' + "').concat(Ds,'" + ').concat(O)}function $a(u,l,f,g,v){return!l||f?(f=e.isString(f)?f:g,"".concat(v?"utc":"time","Format(").concat(u,", '").concat(f,"')")):np(l,u,v)}let wl="min",qd={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function ol(u){return u in qd}function c0(u){return!!u&&!!u.encoding}function _a(u){return!!u&&(u.op==="count"||!!u.field)}function sc(u){return!!u&&e.isArray(u)}function Ud(u){return"row"in u||"column"in u}function B1(u){return!!u&&"header"in u}function lp(u){return"facet"in u}function f0(u){return u.param}function Um(u){return u&&!e.isString(u)&&"repeat"in u}function Ly(u){let{field:l,timeUnit:f,bin:g,aggregate:v}=u;return{...f?{timeUnit:f}:{},...g?{bin:g}:{},...v?{aggregate:v}:{},field:l}}function Bx(u){return"sort"in u}function jx(u){let{fieldDef:l,fieldDef2:f,markDef:g,config:v}=u;if(Ns(l)&&l.bandPosition!==void 0)return l.bandPosition;if(Dr(l)){let{timeUnit:D,bin:O}=l;if(D&&!f)return Mx(g.type)?0:Ms("timeUnitBandPosition",g,v);if(pr(O))return .5}}function j1(u){let{channel:l,fieldDef:f,fieldDef2:g,markDef:v,config:D,scaleType:O,useVlSizeChannel:$}=u,re=ts(l),Se=Ei($?"size":re,v,D,{vgChannel:re});if(Se!==void 0)return Se;if(Dr(f)){let{timeUnit:_n,bin:Xn}=f;if(_n&&!g)return{band:Ms("timeUnitBandSize",v,D)};if(pr(Xn)&&!Be(O))return{band:1}}if(Mx(v.type)){var Ie;if(O)if(Be(O)){var Nt;return((Nt=D[v.type])===null||Nt===void 0?void 0:Nt.discreteBandSize)||{band:1}}else{var rn;return(rn=D[v.type])===null||rn===void 0?void 0:rn.continuousBandSize}return(Ie=D[v.type])===null||Ie===void 0?void 0:Ie.discreteBandSize}}function Tr(u,l,f,g){return pr(u.bin)||u.timeUnit&&zd(u)&&u.type==="temporal"?jx({fieldDef:u,fieldDef2:l,markDef:f,config:g})!==void 0:!1}function Ps(u){return u&&"condition"in u}function Eo(u){let l=u&&u.condition;return!!l&&!e.isArray(l)&&Dr(l)}function zr(u){let l=u&&u.condition;return!!l&&!e.isArray(l)&&Ns(l)}function of(u){let l=u&&u.condition;return!!l&&(e.isArray(l)||Hd(l))}function Dr(u){return u&&(!!u.field||u.aggregate==="count")}function oc(u){return u&&u.type}function So(u){return u&&"datum"in u}function ac(u){return zd(u)&&!Iy(u)||ky(u)}function ky(u){return So(u)&&e.isNumber(u.datum)}function Ns(u){return Dr(u)||So(u)}function zd(u){return u&&("field"in u||u.aggregate==="count")&&"type"in u}function Hd(u){return u&&"value"in u&&"value"in u}function qx(u){return u&&("scale"in u||"sort"in u)}function RC(u){return u&&("axis"in u||"stack"in u||"impute"in u)}function AR(u){return u&&"legend"in u}function cp(u){return u&&("format"in u||"formatType"in u)}function Df(u){return xe(u,["legend","axis","header","scale"])}function NC(u){return"op"in u}function pi(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=u.field,g=l.prefix,v=l.suffix,D="";if(_V(u))f=yt("count");else{let Se;if(!l.nofn)if(NC(u))Se=u.op;else{let{bin:Ie,aggregate:Nt,timeUnit:rn}=u;if(pr(Ie)){var O,$;Se=ls(Ie),v=((O=l.binSuffix)!==null&&O!==void 0?O:"")+(($=l.suffix)!==null&&$!==void 0?$:"")}else if(Nt)ua(Nt)?(D='["'.concat(f,'"]'),f="argmax_".concat(Nt.argmax)):aa(Nt)?(D='["'.concat(f,'"]'),f="argmin_".concat(Nt.argmin)):Se=String(Nt);else if(rn){var re;Se=L1(rn),v=(!["range","mid"].includes(l.binSuffix)&&l.binSuffix||"")+((re=l.suffix)!==null&&re!==void 0?re:"")}}Se&&(f=f?"".concat(Se,"_").concat(f):Se)}return v&&(f="".concat(f,"_").concat(v)),g&&(f="".concat(g,"_").concat(f)),l.forAs?or(f):l.expr?On(f,l.expr)+D:pn(f)+D}function Iy(u){switch(u.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Dr(u)&&!!u.bin;case"temporal":return!1}throw new Error(Tc(u.type))}function vV(u){var l;return qx(u)&&lr((l=u.scale)===null||l===void 0?void 0:l.type)}function _V(u){return u.aggregate==="count"}function b4(u,l){let{field:f,bin:g,timeUnit:v,aggregate:D}=u;if(D==="count")return l.countTitle;if(pr(g))return"".concat(f," (binned)");if(v){var O;let $=(O=Ou(v))===null||O===void 0?void 0:O.unit;if($)return"".concat(f," (").concat(rl($).join("-"),")")}else if(D)return ua(D)?"".concat(f," for max ").concat(D.argmax):aa(D)?"".concat(f," for min ").concat(D.argmin):"".concat(En(D)," of ").concat(f);return f}function TR(u){let{aggregate:l,bin:f,timeUnit:g,field:v}=u;if(ua(l))return"".concat(v," for argmax(").concat(l.argmax,")");if(aa(l))return"".concat(v," for argmin(").concat(l.argmin,")");let D=Ou(g),O=l||(D==null?void 0:D.unit)||(D==null?void 0:D.maxbins)&&"timeunit"||pr(f)&&"bin";return O?"".concat(O.toUpperCase(),"(").concat(v,")"):v}let LC=(u,l)=>{switch(l.fieldTitle){case"plain":return u.field;case"functional":return TR(u);default:return b4(u,l)}},FR=LC;function DR(u){FR=u}function bV(){DR(LC)}function My(u,l,f){var g;let{allowDisabling:v,includeDefault:D=!0}=f,O=(g=Ib(u))===null||g===void 0?void 0:g.title;if(!Dr(u))return O??u.title;let $=u,re=D?Mb($,l):void 0;if(v)return Ne(O,$.title,re);var Se;return(Se=O??$.title)!==null&&Se!==void 0?Se:re}function Ib(u){if(RC(u)&&u.axis)return u.axis;if(AR(u)&&u.legend)return u.legend;if(B1(u)&&u.header)return u.header}function Mb(u,l){return FR(u,l)}function Pb(u){if(cp(u)){let{format:f,formatType:g}=u;return{format:f,formatType:g}}else{var l;let f=(l=Ib(u))!==null&&l!==void 0?l:{},{format:g,formatType:v}=f;return{format:g,formatType:v}}}function kC(u,l){var f;switch(l){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Bx(u)&&e.isArray(u.sort))return"ordinal";let{aggregate:g,bin:v,timeUnit:D}=u;if(D)return"temporal";if(v||g&&!ua(g)&&!aa(g))return"quantitative";if(qx(u)&&(f=u.scale)!==null&&f!==void 0&&f.type)switch(Th[u.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Oh(u){if(Dr(u))return u;if(Eo(u))return u.condition}function xu(u){if(Ns(u))return u;if(zr(u))return u.condition}function Bb(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e.isString(u)||e.isNumber(u)||e.isBoolean(u)){let v=e.isString(u)?"string":e.isNumber(u)?"number":"boolean";return qr(V0(l,v,u)),{value:u}}return Ns(u)?E4(u,l,f,g):zr(u)?{...u,condition:E4(u.condition,l,f,g)}:u}function E4(u,l,f,g){if(cp(u)){let{format:v,formatType:D,...O}=u;if(wi(D)&&!f.customFormatTypes)return qr(z0(l)),E4(O,l,f,g)}else{let v=RC(u)?"axis":AR(u)?"legend":B1(u)?"header":null;if(v&&u[v]){let{format:D,formatType:O,...$}=u[v];if(wi(O)&&!f.customFormatTypes)return qr(z0(l)),E4({...u,[v]:$},l,f,g)}}return Dr(u)?Py(u,l,g):OR(u)}function OR(u){let l=u.type;if(l)return u;let{datum:f}=u;return l=e.isNumber(f)?"quantitative":e.isString(f)?"nominal":Q0(f)?"temporal":void 0,{...u,type:l}}function Py(u,l){let{compositeMark:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{aggregate:g,timeUnit:v,bin:D,field:O}=u,$={...u};if(!f&&g&&!pl(g)&&!ua(g)&&!aa(g)&&(qr(i0(g)),delete $.aggregate),v&&($.timeUnit=Ou(v)),O&&($.field="".concat(O)),pr(D)&&($.bin=S4(D,l)),as(D)&&!hs(l)&&qr(O1(l)),zd($)){let{type:re}=$,Se=sp(re);re!==Se&&($.type=Se),re!=="quantitative"&&na(g)&&(qr(r0(re,g)),$.type="quantitative")}else if(!vi(l)){let re=kC($,l);$.type=re}if(zd($)){let{compatible:re,warning:Se}=Ux($,l)||{};re===!1&&qr(Se)}if(Bx($)&&e.isString($.sort)){let{sort:re}=$;if(ol(re))return{...$,sort:{encoding:re}};let Se=re.substr(1);if(re.charAt(0)==="-"&&ol(Se))return{...$,sort:{encoding:Se,order:"descending"}}}if(B1($)){let{header:re}=$;if(re){let{orient:Se,...Ie}=re;if(Se)return{...$,header:{...Ie,labelOrient:re.labelOrient||Se,titleOrient:re.titleOrient||Se}}}}return $}function S4(u,l){return e.isBoolean(u)?{maxbins:Yt(l)}:u==="binned"?{binned:!0}:!u.maxbins&&!u.step?{...u,maxbins:Yt(l)}:u}let Of={compatible:!0};function Ux(u,l){let f=u.type;if(f==="geojson"&&l!=="shape")return{compatible:!1,warning:"Channel ".concat(l," should not be used with a geojson data.")};switch(l){case Dn:case Qn:case Zn:return Iy(u)?Of:{compatible:!1,warning:Du(l)};case Pn:case ar:case se:case qe:case ht:case _t:case Dt:case xn:case Re:case He:case At:case L:case V:case We:case fn:case et:case be:return Of;case ie:case ze:case ct:case Te:return f!==a0?{compatible:!1,warning:"Channel ".concat(l," should be used with a quantitative field only, not ").concat(u.type," field.")}:Of;case nt:case Pt:case sn:case wn:case we:case on:case Tt:case Ye:case gt:return f==="nominal"&&!u.sort?{compatible:!1,warning:"Channel ".concat(l," should not be used with an unsorted discrete field.")}:Of;case ne:case yn:return!Iy(u)&&!vV(u)?{compatible:!1,warning:_o(l)}:Of;case zn:return u.type==="nominal"&&!("sort"in u)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Of}}function By(u){let{formatType:l}=Pb(u);return l==="time"||!l&&RR(u)}function RR(u){return u&&(u.type==="temporal"||Dr(u)&&!!u.timeUnit)}function jb(u,l){var f;let{timeUnit:g,type:v,wrapTime:D,undefinedIfExprNotRequired:O}=l,$=g&&((f=Ou(g))===null||f===void 0?void 0:f.unit),re=$||v==="temporal",Se;return Bt(u)?Se=u.expr:Un(u)?Se=u.signal:Q0(u)?(re=!0,Se=ef(u)):(e.isString(u)||e.isNumber(u))&&re&&(Se="datetime(".concat(Je(u),")"),nl($)&&(e.isNumber(u)&&u<1e4||e.isString(u)&&isNaN(Date.parse(u)))&&(Se=ef({[$]:u}))),Se?D&&re?"time(".concat(Se,")"):Se:O?void 0:Je(u)}function NR(u,l){let{type:f}=u;return l.map(g=>{let v=jb(g,{timeUnit:Dr(u)?u.timeUnit:void 0,type:f,undefinedIfExprNotRequired:!0});return v!==void 0?{signal:v}:g})}function w4(u,l){return pr(u.bin)?Bi(l)&&["ordinal","nominal"].includes(u.type):(console.warn("Only call this method for binned field defs."),!1)}let LR={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function C4(u){return u&&u.condition}let kR=["domain","grid","labels","ticks","title"],EV={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},IR={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},SV={...IR,style:1,labelExpr:1,encoding:1};function MR(u){return!!SV[u]}let IC=Le({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function fp(u){return"mark"in u}class A4{constructor(l,f){this.name=l,this.run=f}hasMatchingType(l){return fp(l)?rt(l.mark)===this.name:!1}}function zx(u,l){let f=u&&u[l];return f?e.isArray(f)?mn(f,g=>!!g.field):Dr(f)||Eo(f):!1}function PR(u,l){let f=u&&u[l];return f?e.isArray(f)?mn(f,g=>!!g.field):Dr(f)||So(f)||zr(f):!1}function MC(u,l){if(hs(l)){let f=u[l];if((Dr(f)||So(f))&&ip(f.type)){let g=pa(l);return PR(u,g)}}return!1}function qb(u){return mn(ft,l=>{if(zx(u,l)){let f=u[l];if(e.isArray(f))return mn(f,g=>!!g.aggregate);{let g=Oh(f);return g&&!!g.aggregate}}return!1})}function BR(u,l){let f=[],g=[],v=[],D=[],O={};return PC(u,($,re)=>{if(Dr($)){let{field:Se,aggregate:Ie,bin:Nt,timeUnit:rn,..._n}=$;if(Ie||rn||Nt){let Xn=Ib($),cr=Xn==null?void 0:Xn.title,er=pi($,{forAs:!0}),Rr={...cr?[]:{title:My($,l,{allowDisabling:!0})},..._n,field:er};if(Ie){let Mr;if(ua(Ie)?(Mr="argmax",er=pi({op:"argmax",field:Ie.argmax},{forAs:!0}),Rr.field="".concat(er,".").concat(Se)):aa(Ie)?(Mr="argmin",er=pi({op:"argmin",field:Ie.argmin},{forAs:!0}),Rr.field="".concat(er,".").concat(Se)):Ie!=="boxplot"&&Ie!=="errorbar"&&Ie!=="errorband"&&(Mr=Ie),Mr){let Ii={op:Mr,as:er};Se&&(Ii.field=Se),D.push(Ii)}}else if(f.push(er),zd($)&&pr(Nt)){if(g.push({bin:Nt,field:Se,as:er}),f.push(pi($,{binSuffix:"end"})),w4($,re)&&f.push(pi($,{binSuffix:"range"})),hs(re)){let Mr={field:"".concat(er,"_end")};O["".concat(re,"2")]=Mr}Rr.bin="binned",vi(re)||(Rr.type=a0)}else if(rn){v.push({timeUnit:rn,field:Se,as:er});let Mr=zd($)&&$.type!==rf&&"time";Mr&&(re===xn||re===At?Rr.formatType=Mr:oa(re)?Rr.legend={formatType:Mr,...Rr.legend}:hs(re)&&(Rr.axis={formatType:Mr,...Rr.axis}))}O[re]=Rr}else f.push(Se),O[re]=u[re]}else O[re]=u[re]}),{bins:g,timeUnits:v,aggregate:D,groupby:f,encoding:O}}function wV(u,l,f){let g=Oo(l,f);if(g){if(g==="binned"){let v=u[l===Ye?Pn:ar];return!!(Dr(v)&&Dr(u[l])&&as(v.bin))}}else return!1;return!0}function CV(u,l,f,g){let v={};for(let D of Le(u))yr(D)||qr(Ld(D));for(let D of Sc){if(!u[D])continue;let O=u[D];if(Wi(D)){let $=hl(D),re=v[$];if(Dr(re)){if(Ah(re.type)&&Dr(O)){qr($0($));continue}}else D=$,qr(Kc($))}if(D==="angle"&&l==="arc"&&!u.theta&&(qr(H0),D=fn),!wV(u,D,l)){qr(xl(D,l));continue}if(D===we&&l==="line"){let $=Oh(u[D]);if($!=null&&$.aggregate){qr(o0);continue}}if(D===ht&&(f?"fill"in u:"stroke"in u)){qr(s0("encoding",{fill:"fill"in u,stroke:"stroke"in u}));continue}if(D===Re||D===zn&&!e.isArray(O)&&!Hd(O)||D===At&&e.isArray(O))O&&(v[D]=e.array(O).reduce(($,re)=>(Dr(re)?$.push(Py(re,D)):qr(Zo(re,D)),$),[]));else{if(D===At&&O===null)v[D]=null;else if(!Dr(O)&&!So(O)&&!Hd(O)&&!Ps(O)&&!Un(O)){qr(Zo(O,D));continue}v[D]=Bb(O,D,g)}}return v}function Ub(u,l){let f={};for(let g of Le(u)){let v=Bb(u[g],g,l,{compositeMark:!0});f[g]=v}return f}function AV(u){let l=[];for(let f of Le(u))if(zx(u,f)){let g=u[f],v=e.array(g);for(let D of v)Dr(D)?l.push(D):Eo(D)&&l.push(D.condition)}return l}function PC(u,l,f){if(!!u)for(let g of Le(u)){let v=u[g];if(e.isArray(v))for(let D of v)l.call(f,D,g);else l.call(f,v,g)}}function $d(u,l,f,g){return u?Le(u).reduce((v,D)=>{let O=u[D];return e.isArray(O)?O.reduce(($,re)=>l.call(g,$,re,D),v):l.call(g,v,O,D)},f):f}function jR(u,l){return Le(l).reduce((f,g)=>{switch(g){case Pn:case ar:case L:case be:case V:case Ye:case gt:case se:case qe:case fn:case on:case et:case Tt:case ct:case ie:case Te:case ze:case xn:case ne:case We:case At:return f;case zn:if(u==="line"||u==="trail")return f;case Re:case He:{let v=l[g];if(e.isArray(v)||Dr(v))for(let D of e.array(v))D.aggregate||f.push(pi(D,{}));return f}case we:if(u==="trail")return f;case ht:case _t:case Dt:case nt:case Pt:case sn:case yn:case wn:{let v=Oh(l[g]);return v&&!v.aggregate&&f.push(pi(v,{})),f}}},[])}function TV(u){let{tooltip:l,...f}=u;if(!l)return{filteredEncoding:f};let g,v;if(e.isArray(l)){for(let D of l)D.aggregate?(g||(g=[]),g.push(D)):(v||(v=[]),v.push(D));g&&(f.tooltip=g)}else l.aggregate?f.tooltip=l:v=l;return e.isArray(v)&&v.length===1&&(v=v[0]),{customTooltipWithoutAggregatedField:v,filteredEncoding:f}}function BC(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if("tooltip"in f)return{tooltip:f.tooltip};let v=u.map(O=>{let{fieldPrefix:$,titlePrefix:re}=O,Se=g?" of ".concat(zb(l)):"";return{field:$+l.field,type:l.type,title:Un(re)?{signal:"".concat(re,'"').concat(escape(Se),'"')}:re+Se}}),D=AV(f).map(Df);return{tooltip:[...v,...it(D,ut)]}}function zb(u){let{title:l,field:f}=u;return Ne(l,f)}function jC(u,l,f,g,v){let{scale:D,axis:O}=f;return $=>{let{partName:re,mark:Se,positionPrefix:Ie,endPositionPrefix:Nt=void 0,extraEncoding:rn={}}=$,_n=zb(f);return qR(u,re,v,{mark:Se,encoding:{[l]:{field:"".concat(Ie,"_").concat(f.field),type:f.type,..._n!==void 0?{title:_n}:{},...D!==void 0?{scale:D}:{},...O!==void 0?{axis:O}:{}},...e.isString(Nt)?{["".concat(l,"2")]:{field:"".concat(Nt,"_").concat(f.field)}}:{},...g,...rn}})}}function qR(u,l,f,g){let{clip:v,color:D,opacity:O}=u,$=u.type;return u[l]||u[l]===void 0&&f[l]?[{...g,mark:{...f[l],...v?{clip:v}:{},...D?{color:D}:{},...O?{opacity:O}:{},...ic(g.mark)?g.mark:{type:g.mark},style:"".concat($,"-").concat(l),...e.isBoolean(u[l])?{}:u[l]}}]:[]}function UR(u,l,f){let{encoding:g}=u,v=l==="vertical"?"y":"x",D=g[v],O=g["".concat(v,"2")],$=g["".concat(v,"Error")],re=g["".concat(v,"Error2")];return{continuousAxisChannelDef:Hb(D,f),continuousAxisChannelDef2:Hb(O,f),continuousAxisChannelDefError:Hb($,f),continuousAxisChannelDefError2:Hb(re,f),continuousAxis:v}}function Hb(u,l){if(u!=null&&u.aggregate){let{aggregate:f,...g}=u;return f!==l&&qr(Zc(f,l)),g}else return u}function $b(u,l){let{mark:f,encoding:g}=u,{x:v,y:D}=g;if(ic(f)&&f.orient)return f.orient;if(ac(v)){if(ac(D)){let O=Dr(v)&&v.aggregate,$=Dr(D)&&D.aggregate;if(!O&&$===l)return"vertical";if(!$&&O===l)return"horizontal";if(O===l&&$===l)throw new Error("Both x and y cannot have aggregate");return By(D)&&!By(v)?"horizontal":"vertical"}return"horizontal"}else{if(ac(D))return"vertical";throw new Error("Need a valid continuous axis for ".concat(l,"s"))}}let Vb="boxplot",FV=["box","median","outliers","rule","ticks"],DV=new A4(Vb,HR);function zR(u){return e.isNumber(u)?"tukey":u}function HR(u,l){var f;let{config:g}=l;u={...u,encoding:Ub(u.encoding,g)};let{mark:v,encoding:D,params:O,projection:$,...re}=u,Se=ic(v)?v:{type:v};O&&qr(Rs("boxplot"));let Ie=(f=Se.extent)!==null&&f!==void 0?f:g.boxplot.extent,Nt=Ei("size",Se,g),rn=zR(Ie),{bins:_n,timeUnits:Xn,transform:cr,continuousAxisChannelDef:er,continuousAxis:Rr,groupby:Mr,aggregate:Ii,encodingWithoutContinuousAxis:ni,ticksOrient:fi,boxOrient:xs,customTooltipWithoutAggregatedField:ss}=OV(u,Ie,g),{color:ko,size:Zs,...Va}=ni,x0=kMe=>jC(Se,Rr,er,kMe,g.boxplot),Vx=x0(Va),Yy=x0(ni),W1=x0({...Va,...Zs?{size:Zs}:{}}),Wx=BC([{fieldPrefix:rn==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:rn==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],er,ni),Km={type:"tick",color:"black",opacity:1,orient:fi,invalid:null,aria:!1},xp=rn==="min-max"?Wx:BC([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],er,ni),Ky=[...Vx({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:xp}),...Vx({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:xp}),...Vx({partName:"ticks",mark:Km,positionPrefix:"lower_whisker",extraEncoding:xp}),...Vx({partName:"ticks",mark:Km,positionPrefix:"upper_whisker",extraEncoding:xp})],Jy=[...rn!=="tukey"?Ky:[],...Yy({partName:"box",mark:{type:"bar",...Nt?{size:Nt}:{},orient:xs,invalid:null,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Wx}),...W1({partName:"median",mark:{type:"tick",invalid:null,...e.isObject(g.boxplot.median)&&g.boxplot.median.color?{color:g.boxplot.median.color}:{},...Nt?{size:Nt}:{},orient:fi,aria:!1},positionPrefix:"mid_box",extraEncoding:Wx})];if(rn==="min-max"){var A9;return{...re,transform:((A9=re.transform)!==null&&A9!==void 0?A9:[]).concat(cr),layer:Jy}}let gce='datum["lower_box_'.concat(er.field,'"]'),yce='datum["upper_box_'.concat(er.field,'"]'),vce="(".concat(yce," - ").concat(gce,")"),_ce="".concat(gce," - ").concat(Ie," * ").concat(vce),bce="".concat(yce," + ").concat(Ie," * ").concat(vce),bL='datum["'.concat(er.field,'"]'),RMe={joinaggregate:$R(er.field),groupby:Mr},Ece={transform:[{filter:"(".concat(_ce," <= ").concat(bL,") && (").concat(bL," <= ").concat(bce,")")},{aggregate:[{op:"min",field:er.field,as:"lower_whisker_".concat(er.field)},{op:"max",field:er.field,as:"upper_whisker_".concat(er.field)},{op:"min",field:"lower_box_".concat(er.field),as:"lower_box_".concat(er.field)},{op:"max",field:"upper_box_".concat(er.field),as:"upper_box_".concat(er.field)},...Ii],groupby:Mr}],layer:Ky},{tooltip:h4t,...NMe}=Va,{scale:Sce,axis:LMe}=er,wce=zb(er),Cce=xe(LMe,["title"]),Ace=qR(Se,"outliers",g.boxplot,{transform:[{filter:"(".concat(bL," < ").concat(_ce,") || (").concat(bL," > ").concat(bce,")")}],mark:"point",encoding:{[Rr]:{field:er.field,type:er.type,...wce!==void 0?{title:wce}:{},...Sce!==void 0?{scale:Sce}:{},...Ze(Cce)?{}:{axis:Cce}},...NMe,...ko?{color:ko}:{},...ss?{tooltip:ss}:{}}})[0],EL,Tce=[..._n,...Xn,RMe];return Ace?EL={transform:Tce,layer:[Ace,Ece]}:(EL=Ece,EL.transform.unshift(...Tce)),{...re,layer:[EL,{transform:cr,layer:Jy}]}}function $R(u){return[{op:"q1",field:u,as:"lower_box_".concat(u)},{op:"q3",field:u,as:"upper_box_".concat(u)}]}function OV(u,l,f){let g=$b(u,Vb),{continuousAxisChannelDef:v,continuousAxis:D}=UR(u,g,Vb),O=v.field,$=zR(l),re=[...$R(O),{op:"median",field:O,as:"mid_box_".concat(O)},{op:"min",field:O,as:($==="min-max"?"lower_whisker_":"min_")+O},{op:"max",field:O,as:($==="min-max"?"upper_whisker_":"max_")+O}],Se=$==="min-max"||$==="tukey"?[]:[{calculate:'datum["upper_box_'.concat(O,'"] - datum["lower_box_').concat(O,'"]'),as:"iqr_".concat(O)},{calculate:'min(datum["upper_box_'.concat(O,'"] + datum["iqr_').concat(O,'"] * ').concat(l,', datum["max_').concat(O,'"])'),as:"upper_whisker_".concat(O)},{calculate:'max(datum["lower_box_'.concat(O,'"] - datum["iqr_').concat(O,'"] * ').concat(l,', datum["min_').concat(O,'"])'),as:"lower_whisker_".concat(O)}],{[D]:Ie,...Nt}=u.encoding,{customTooltipWithoutAggregatedField:rn,filteredEncoding:_n}=TV(Nt),{bins:Xn,timeUnits:cr,aggregate:er,groupby:Rr,encoding:Mr}=BR(_n,f),Ii=g==="vertical"?"horizontal":"vertical",ni=g,fi=[...Xn,...cr,{aggregate:[...er,...re],groupby:Rr},...Se];return{bins:Xn,timeUnits:cr,transform:fi,groupby:Rr,aggregate:er,continuousAxisChannelDef:v,continuousAxis:D,encodingWithoutContinuousAxis:Mr,ticksOrient:Ii,boxOrient:ni,customTooltipWithoutAggregatedField:rn}}let qC="errorbar",RV=["ticks","rule"],NV=new A4(qC,VR);function VR(u,l){let{config:f}=l;u={...u,encoding:Ub(u.encoding,f)};let{transform:g,continuousAxisChannelDef:v,continuousAxis:D,encodingWithoutContinuousAxis:O,ticksOrient:$,markDef:re,outerSpec:Se,tooltipEncoding:Ie}=WR(u,qC,f);delete O.size;let Nt=jC(re,D,v,O,f.errorbar),rn=re.thickness,_n=re.size,Xn={type:"tick",orient:$,aria:!1,...rn!==void 0?{thickness:rn}:{},..._n!==void 0?{size:_n}:{}},cr=[...Nt({partName:"ticks",mark:Xn,positionPrefix:"lower",extraEncoding:Ie}),...Nt({partName:"ticks",mark:Xn,positionPrefix:"upper",extraEncoding:Ie}),...Nt({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...rn!==void 0?{size:rn}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ie})];return{...Se,transform:g,...cr.length>1?{layer:cr}:{...cr[0]}}}function LV(u,l){let{encoding:f}=u;if(kV(f))return{orient:$b(u,l),inputType:"raw"};let g=IV(f),v=MV(f),D=f.x,O=f.y;if(g){if(v)throw new Error("".concat(l," cannot be both type aggregated-upper-lower and aggregated-error"));let $=f.x2,re=f.y2;if(Ns($)&&Ns(re))throw new Error("".concat(l," cannot have both x2 and y2"));if(Ns($)){if(ac(D))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(l))}else if(Ns(re)){if(ac(O))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(l))}throw new Error("No ranged axis")}else{let $=f.xError,re=f.xError2,Se=f.yError,Ie=f.yError2;if(Ns(re)&&!Ns($))throw new Error("".concat(l," cannot have xError2 without xError"));if(Ns(Ie)&&!Ns(Se))throw new Error("".concat(l," cannot have yError2 without yError"));if(Ns($)&&Ns(Se))throw new Error("".concat(l," cannot have both xError and yError with both are quantiative"));if(Ns($)){if(ac(D))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Ns(Se)){if(ac(O))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function kV(u){return(Ns(u.x)||Ns(u.y))&&!Ns(u.x2)&&!Ns(u.y2)&&!Ns(u.xError)&&!Ns(u.xError2)&&!Ns(u.yError)&&!Ns(u.yError2)}function IV(u){return Ns(u.x2)||Ns(u.y2)}function MV(u){return Ns(u.xError)||Ns(u.xError2)||Ns(u.yError)||Ns(u.yError2)}function WR(u,l,f){var g;let{mark:v,encoding:D,params:O,projection:$,...re}=u,Se=ic(v)?v:{type:v};O&&qr(Rs(l));let{orient:Ie,inputType:Nt}=LV(u,l),{continuousAxisChannelDef:rn,continuousAxisChannelDef2:_n,continuousAxisChannelDefError:Xn,continuousAxisChannelDefError2:cr,continuousAxis:er}=UR(u,Ie,l),{errorBarSpecificAggregate:Rr,postAggregateCalculates:Mr,tooltipSummary:Ii,tooltipTitleWithFieldName:ni}=PV(Se,rn,_n,Xn,cr,Nt,l,f),{[er]:fi,[er==="x"?"x2":"y2"]:xs,[er==="x"?"xError":"yError"]:ss,[er==="x"?"xError2":"yError2"]:ko,...Zs}=D,{bins:Va,timeUnits:x0,aggregate:Vx,groupby:Yy,encoding:W1}=BR(Zs,f),Wx=[...Vx,...Rr],Km=Nt!=="raw"?[]:Yy,xp=BC(Ii,rn,W1,ni);return{transform:[...(g=re.transform)!==null&&g!==void 0?g:[],...Va,...x0,...Wx.length===0?[]:[{aggregate:Wx,groupby:Km}],...Mr],groupby:Km,continuousAxisChannelDef:rn,continuousAxis:er,encodingWithoutContinuousAxis:W1,ticksOrient:Ie==="vertical"?"horizontal":"vertical",markDef:Se,outerSpec:re,tooltipEncoding:xp}}function PV(u,l,f,g,v,D,O,$){let re=[],Se=[],Ie=l.field,Nt,rn=!1;if(D==="raw"){let _n=u.center?u.center:u.extent?u.extent==="iqr"?"median":"mean":$.errorbar.center,Xn=u.extent?u.extent:_n==="mean"?"stderr":"iqr";if(_n==="median"!=(Xn==="iqr")&&qr(Xc(_n,Xn,O)),Xn==="stderr"||Xn==="stdev")re=[{op:Xn,field:Ie,as:"extent_".concat(Ie)},{op:_n,field:Ie,as:"center_".concat(Ie)}],Se=[{calculate:'datum["center_'.concat(Ie,'"] + datum["extent_').concat(Ie,'"]'),as:"upper_".concat(Ie)},{calculate:'datum["center_'.concat(Ie,'"] - datum["extent_').concat(Ie,'"]'),as:"lower_".concat(Ie)}],Nt=[{fieldPrefix:"center_",titlePrefix:En(_n)},{fieldPrefix:"upper_",titlePrefix:QR(_n,Xn,"+")},{fieldPrefix:"lower_",titlePrefix:QR(_n,Xn,"-")}],rn=!0;else{let cr,er,Rr;Xn==="ci"?(cr="mean",er="ci0",Rr="ci1"):(cr="median",er="q1",Rr="q3"),re=[{op:er,field:Ie,as:"lower_".concat(Ie)},{op:Rr,field:Ie,as:"upper_".concat(Ie)},{op:cr,field:Ie,as:"center_".concat(Ie)}],Nt=[{fieldPrefix:"upper_",titlePrefix:My({field:Ie,aggregate:Rr,type:"quantitative"},$,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:My({field:Ie,aggregate:er,type:"quantitative"},$,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:My({field:Ie,aggregate:cr,type:"quantitative"},$,{allowDisabling:!1})}]}}else{(u.center||u.extent)&&qr(ya(u.center,u.extent)),D==="aggregated-upper-lower"?(Nt=[],Se=[{calculate:'datum["'.concat(f.field,'"]'),as:"upper_".concat(Ie)},{calculate:'datum["'.concat(Ie,'"]'),as:"lower_".concat(Ie)}]):D==="aggregated-error"&&(Nt=[{fieldPrefix:"",titlePrefix:Ie}],Se=[{calculate:'datum["'.concat(Ie,'"] + datum["').concat(g.field,'"]'),as:"upper_".concat(Ie)}],v?Se.push({calculate:'datum["'.concat(Ie,'"] + datum["').concat(v.field,'"]'),as:"lower_".concat(Ie)}):Se.push({calculate:'datum["'.concat(Ie,'"] - datum["').concat(g.field,'"]'),as:"lower_".concat(Ie)}));for(let _n of Se)Nt.push({fieldPrefix:_n.as.substring(0,6),titlePrefix:qn(qn(_n.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:Se,errorBarSpecificAggregate:re,tooltipSummary:Nt,tooltipTitleWithFieldName:rn}}function QR(u,l,f){return"".concat(En(u)," ").concat(f," ").concat(l)}let UC="errorband",BV=["band","borders"],zC=new A4(UC,HC);function HC(u,l){let{config:f}=l;u={...u,encoding:Ub(u.encoding,f)};let{transform:g,continuousAxisChannelDef:v,continuousAxis:D,encodingWithoutContinuousAxis:O,markDef:$,outerSpec:re,tooltipEncoding:Se}=WR(u,UC,f),Ie=$,Nt=jC(Ie,D,v,O,f.errorband),rn=u.encoding.x!==void 0&&u.encoding.y!==void 0,_n={type:rn?"area":"rect"},Xn={type:rn?"line":"rule"},cr={...Ie.interpolate?{interpolate:Ie.interpolate}:{},...Ie.tension&&Ie.interpolate?{tension:Ie.tension}:{}};return rn?(_n={..._n,...cr,ariaRoleDescription:"errorband"},Xn={...Xn,...cr,aria:!1}):Ie.interpolate?qr(tl("interpolate")):Ie.tension&&qr(tl("tension")),{...re,transform:g,layer:[...Nt({partName:"band",mark:_n,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Se}),...Nt({partName:"borders",mark:Xn,positionPrefix:"lower",extraEncoding:Se}),...Nt({partName:"borders",mark:Xn,positionPrefix:"upper",extraEncoding:Se})]}}let GR={};function $C(u,l,f){let g=new A4(u,l);GR[u]={normalizer:g,parts:f}}function jV(){return Le(GR)}$C(Vb,HR,FV),$C(qC,VR,RV),$C(UC,HC,BV);let qV=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],YR={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},KR={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},UV=Le(YR),zV=Le(KR),JR=Le({header:1,headerRow:1,headerColumn:1,headerFacet:1}),T4=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],$V={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},VV={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},F4="_vgsid_",WV={point:{on:"click",fields:[F4],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function VC(u){return!!u&&(u==="legend"||!!u.legend)}function WC(u){return VC(u)&&e.isObject(u)}function QC(u){return!!u.select}function XR(u){let l=[];for(let f of u||[]){if(QC(f))continue;let{expr:g,bind:v,...D}=f;if(v&&g){let O={...D,bind:v,init:g};l.push(O)}else{let O={...D,...g?{update:g}:{},...v?{bind:v}:{}};l.push(O)}}return l}function QV(u){return Wb(u)||YC(u)||GC(u)}function GC(u){return"concat"in u}function Wb(u){return"vconcat"in u}function YC(u){return"hconcat"in u}function GV(u){return u==="fit"||u==="fit-x"||u==="fit-y"}function YV(u){return u?"fit-".concat(xi(u)):"fit"}let KV=["background","padding"];function ZR(u,l){let f={};for(let g of KV)u&&u[g]!==void 0&&(f[g]=gi(u[g]));return l&&(f.params=u.params),f}function KC(u){let{step:l,offsetIsDiscrete:f}=u;if(f){var g;return(g=l.for)!==null&&g!==void 0?g:"offset"}else return"position"}function Rh(u){return e.isObject(u)&&u.step!==void 0}function eN(u){return u.view||u.width||u.height}let tN=20,JV=Le({align:1,bounds:1,center:1,columns:1,spacing:1});function Qb(u,l,f){let g=f[l],v={},{spacing:D,columns:O}=g;D!==void 0&&(v.spacing=D),O!==void 0&&(lp(u)&&!Ud(u.facet)||GC(u))&&(v.columns=O),Wb(u)&&(v.columns=1);for(let Se of JV)if(u[Se]!==void 0)if(Se==="spacing"){var $,re;let Ie=u[Se];v[Se]=e.isNumber(Ie)?Ie:{row:($=Ie.row)!==null&&$!==void 0?$:D,column:(re=Ie.column)!==null&&re!==void 0?re:D}}else v[Se]=u[Se];return v}function JC(u,l){var f;return(f=u[l])!==null&&f!==void 0?f:u[l==="width"?"continuousWidth":"continuousHeight"]}function Gb(u,l){let f=Yb(u,l);return Rh(f)?f.step:nN}function Yb(u,l){var f;let g=(f=u[l])!==null&&f!==void 0?f:u[l==="width"?"discreteWidth":"discreteHeight"];return Ne(g,{step:u.step})}let nN=20,XV={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:nN},mark:G,arc:{},area:{},bar:J,circle:{},geoshape:{},image:{},line:{},point:{},rect:ge,rule:{color:"black"},square:{},text:{color:"black"},tick:Fe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:zi,projection:{},legend:$V,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:WV,style:{},title:{},facet:{spacing:tN},concat:{spacing:tN}},q1=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],rN={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},iN={blue:q1[0],orange:q1[1],red:q1[2],teal:q1[3],green:q1[4],yellow:q1[5],purple:q1[6],pink:q1[7],brown:q1[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function ZV(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{signals:[{name:"color",value:e.isObject(u)?{...iN,...u}:iN}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function eW(u){return{signals:[{name:"fontSize",value:e.isObject(u)?{...rN,...u}:rN}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function Kb(u){return{text:{font:u},style:{"guide-label":{font:u},"guide-title":{font:u},"group-title":{font:u},"group-subtitle":{font:u}}}}function sN(u){let l=Le(u||{}),f={};for(let g of l){let v=u[g];f[g]=C4(v)?ii(v):gi(v)}return f}function oN(u){let l=Le(u),f={};for(let g of l)f[g]=sN(u[g]);return f}let aN=[...xt,...IC,...JR,"background","padding","legend","lineBreak","scale","style","title","view"];function Jb(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{color:l,font:f,fontSize:g,selection:v,...D}=u,O=e.mergeConfig({},ye(XV),f?Kb(f):{},l?ZV(l):{},g?eW(g):{},D||{});v&&e.writeConfig(O,"selection",v,!0);let $=xe(O,aN);for(let re of["background","lineBreak","padding"])O[re]&&($[re]=gi(O[re]));for(let re of xt)O[re]&&($[re]=dn(O[re]));for(let re of IC)O[re]&&($[re]=sN(O[re]));for(let re of JR)O[re]&&($[re]=dn(O[re]));return O.legend&&($.legend=dn(O.legend)),O.scale&&($.scale=dn(O.scale)),O.style&&($.style=oN(O.style)),O.title&&($.title=dn(O.title)),O.view&&($.view=dn(O.view)),$}let uN=new Set(["view",...Px]),lN=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],cN={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...H};function fN(u){u=ye(u);for(let l of lN)delete u[l];if(u.axis)for(let l in u.axis)C4(u.axis[l])&&delete u.axis[l];if(u.legend)for(let l of qV)delete u.legend[l];if(u.mark){for(let l of F)delete u.mark[l];u.mark.tooltip&&e.isObject(u.mark.tooltip)&&delete u.mark.tooltip}u.params&&(u.signals=(u.signals||[]).concat(XR(u.params)),delete u.params);for(let l of uN){for(let g of F)delete u[l][g];let f=cN[l];if(f)for(let g of f)delete u[l][g];nW(u,l)}for(let l of jV())delete u[l];tW(u);for(let l in u)e.isObject(u[l])&&Ze(u[l])&&delete u[l];return Ze(u)?void 0:u}function tW(u){let{titleMarkConfig:l,subtitleMarkConfig:f,subtitle:g}=Nn(u.title);Ze(l)||(u.style["group-title"]={...u.style["group-title"],...l}),Ze(f)||(u.style["group-subtitle"]={...u.style["group-subtitle"],...f}),Ze(g)?delete u.title:u.title=g}function nW(u,l,f,g){var v;let D=g?u[l][g]:u[l];l==="view"&&(f="cell");let O={...D,...u.style[(v=f)!==null&&v!==void 0?v:l]};if(!Ze(O)){var $;u.style[($=f)!==null&&$!==void 0?$:l]=O}g||delete u[l]}function Xb(u){return"layer"in u}function Zb(u){return"repeat"in u}function eE(u){return!e.isArray(u.repeat)&&u.repeat.layer}class XC{map(l,f){return lp(l)?this.mapFacet(l,f):Zb(l)?this.mapRepeat(l,f):YC(l)?this.mapHConcat(l,f):Wb(l)?this.mapVConcat(l,f):GC(l)?this.mapConcat(l,f):this.mapLayerOrUnit(l,f)}mapLayerOrUnit(l,f){if(Xb(l))return this.mapLayer(l,f);if(fp(l))return this.mapUnit(l,f);throw new Error(ae(l))}mapLayer(l,f){return{...l,layer:l.layer.map(g=>this.mapLayerOrUnit(g,f))}}mapHConcat(l,f){return{...l,hconcat:l.hconcat.map(g=>this.map(g,f))}}mapVConcat(l,f){return{...l,vconcat:l.vconcat.map(g=>this.map(g,f))}}mapConcat(l,f){let{concat:g,...v}=l;return{...v,concat:g.map(D=>this.map(D,f))}}mapFacet(l,f){return{...l,spec:this.map(l.spec,f)}}mapRepeat(l,f){return{...l,spec:this.map(l.spec,f)}}}let rW={zero:1,center:1,normalize:1};function ZC(u){return u in rW}let dN=new Set([k1,El,I1,Tf,Dh,up,jd,Bd,Sl,Ff]),iW=new Set([El,I1,k1]);function jy(u){return Dr(u)&&oc(u)==="quantitative"&&!u.bin}function hN(u,l){let f=l==="x"?"y":"radius",g=u[l],v=u[f];if(Dr(g)&&Dr(v))if(jy(g)&&jy(v)){if(g.stack)return l;if(v.stack)return f;let $=Dr(g)&&!!g.aggregate,re=Dr(v)&&!!v.aggregate;if($!==re)return $?l:f;{var D,O;let Se=(D=g.scale)===null||D===void 0?void 0:D.type,Ie=(O=v.scale)===null||O===void 0?void 0:O.type;if(Se&&Se!=="linear")return f;if(Ie&&Ie!=="linear")return l}}else{if(jy(g))return l;if(jy(v))return f}else{if(jy(g))return l;if(jy(v))return f}}function sW(u){switch(u){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function pN(u,l){var f,g;let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=ic(u)?u.type:u;if(!dN.has(D))return null;let O=hN(l,"x")||hN(l,"theta");if(!O)return null;let $=l[O],re=Dr($)?pi($,{}):void 0,Se=sW(O),Ie=[],Nt=new Set;if(l[Se]){let Xn=l[Se],cr=Dr(Xn)?pi(Xn,{}):void 0;cr&&cr!==re&&(Ie.push(Se),Nt.add(cr));let er=Se==="x"?"xOffset":"yOffset",Rr=l[er],Mr=Dr(Rr)?pi(Rr,{}):void 0;Mr&&Mr!==re&&(Ie.push(er),Nt.add(Mr))}let rn=Cs.reduce((Xn,cr)=>{if(cr!=="tooltip"&&zx(l,cr)){let er=l[cr];for(let Rr of e.array(er)){let Mr=Oh(Rr);if(Mr.aggregate)continue;let Ii=pi(Mr,{});(!Ii||!Nt.has(Ii))&&Xn.push({channel:cr,fieldDef:Mr})}}return Xn},[]),_n;if($.stack!==void 0?e.isBoolean($.stack)?_n=$.stack?"zero":null:_n=$.stack:iW.has(D)&&(_n="zero"),!_n||!ZC(_n)||qb(l)&&rn.length===0)return null;if($!=null&&(f=$.scale)!==null&&f!==void 0&&f.type&&($==null||(g=$.scale)===null||g===void 0?void 0:g.type)!==sl.LINEAR){if(v.disallowNonLinearStack)return null;qr(tc($.scale.type))}return Ns(l[ws(O)])?($.stack!==void 0&&qr(La(O)),null):(Dr($)&&$.aggregate&&!ci.has($.aggregate)&&qr(jl($.aggregate)),{groupbyChannels:Ie,groupbyFields:Nt,fieldChannel:O,impute:$.impute===null?!1:sf(D),stackBy:rn,offset:_n})}function oW(u){let{point:l,line:f,...g}=u;return Le(g).length>1?g:g.type}function aW(u){for(let l of["line","area","rule","trail"])u[l]&&(u={...u,[l]:xe(u[l],["point","line"])});return u}function e9(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2?arguments[2]:void 0;return u.point==="transparent"?{opacity:0}:u.point?e.isObject(u.point)?u.point:{}:u.point!==void 0?null:l.point||f.shape?e.isObject(l.point)?l.point:{}:void 0}function mN(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.line?u.line===!0?{}:u.line:u.line!==void 0?null:l.line?l.line===!0?{}:l.line:void 0}class uW{constructor(){vn(this,"name","path-overlay")}hasMatchingType(l,f){if(fp(l)){let{mark:g,encoding:v}=l,D=ic(g)?g:{type:g};switch(D.type){case"line":case"rule":case"trail":return!!e9(D,f[D.type],v);case"area":return!!e9(D,f[D.type],v)||!!mN(D,f[D.type])}}return!1}run(l,f,g){let{config:v}=f,{params:D,projection:O,mark:$,encoding:re,...Se}=l,Ie=Ub(re,v),Nt=ic($)?$:{type:$},rn=e9(Nt,v[Nt.type],Ie),_n=Nt.type==="area"&&mN(Nt,v[Nt.type]),Xn=[{...D?{params:D}:{},mark:oW({...Nt.type==="area"&&Nt.opacity===void 0&&Nt.fillOpacity===void 0?{opacity:.7}:{},...Nt}),encoding:xe(Ie,["shape"])}],cr=pN(Nt,Ie),er=Ie;if(cr){let{fieldChannel:Rr,offset:Mr}=cr;er={...Ie,[Rr]:{...Ie[Rr],...Mr?{stack:Mr}:{}}}}return _n&&Xn.push({...O?{projection:O}:{},mark:{type:"line",...Ce(Nt,["clip","interpolate","tension","tooltip"]),..._n},encoding:er}),rn&&Xn.push({...O?{projection:O}:{},mark:{type:"point",opacity:1,filled:!0,...Ce(Nt,["clip","tooltip"]),...rn},encoding:er}),g({...Se,layer:Xn},{...f,config:aW(v)})}}function lW(u,l){return l?Ud(u)?Bs(u,l):xN(u,l):u}function t9(u,l){return l?Bs(u,l):u}function nd(u,l,f){let g=l[u];if(Um(g)){if(g.repeat in f)return{...l,[u]:f[g.repeat]};qr(Zl(g.repeat));return}return l}function xN(u,l){if(u=nd("field",u,l),u!==void 0){if(u===null)return null;if(Bx(u)&&_a(u.sort)){let f=nd("field",u.sort,l);u={...u,...f?{sort:f}:{}}}return u}}function gN(u,l){if(Dr(u))return xN(u,l);{let f=nd("datum",u,l);return f!==u&&!f.type&&(f.type="nominal"),f}}function zm(u,l){if(Ns(u)){let f=gN(u,l);if(f)return f;if(Ps(u))return{condition:u.condition}}else{if(zr(u)){let f=gN(u.condition,l);if(f)return{...u,condition:f};{let{condition:g,...v}=u;return v}}return u}}function Bs(u,l){let f={};for(let g in u)if(e.hasOwnProperty(u,g)){let v=u[g];if(e.isArray(v))f[g]=v.map(D=>zm(D,l)).filter(D=>D);else{let D=zm(v,l);D!==void 0&&(f[g]=D)}}return f}class cW{constructor(){vn(this,"name","RuleForRangedLine")}hasMatchingType(l){if(fp(l)){let{encoding:f,mark:g}=l;if(g==="line"||ic(g)&&g.type==="line")for(let v of Pr){let D=li(v),O=f[D];if(f[v]&&(Dr(O)&&!as(O.bin)||So(O)))return!0}}return!1}run(l,f,g){let{encoding:v,mark:D}=l;return qr(yl(!!v.x2,!!v.y2)),g({...l,mark:e.isObject(D)?{...D,type:"rule"}:"rule"},f)}}class d0 extends XC{constructor(){super(...arguments);vn(this,"nonFacetUnitNormalizers",[DV,NV,zC,new uW,new cW])}map(l,f){if(fp(l)){let g=zx(l.encoding,Dn),v=zx(l.encoding,Qn),D=zx(l.encoding,Zn);if(g||v||D)return this.mapFacetedUnit(l,f)}return super.map(l,f)}mapUnit(l,f){let{parentEncoding:g,parentProjection:v}=f,D=t9(l.encoding,f.repeater),O={...l,...D?{encoding:D}:{}};if(g||v)return this.mapUnitWithParentEncodingOrProjection(O,f);let $=this.mapLayerOrUnit.bind(this);for(let re of this.nonFacetUnitNormalizers)if(re.hasMatchingType(O,f.config))return re.run(O,f,$);return O}mapRepeat(l,f){return eE(l)?this.mapLayerRepeat(l,f):this.mapNonLayerRepeat(l,f)}mapLayerRepeat(l,f){let{repeat:g,spec:v,...D}=l,{row:O,column:$,layer:re}=g,{repeater:Se={},repeaterPrefix:Ie=""}=f;return O||$?this.mapRepeat({...l,repeat:{...O?{row:O}:{},...$?{column:$}:{}},spec:{repeat:{layer:re},spec:v}},f):{...D,layer:re.map(Nt=>{let rn={...Se,layer:Nt},_n="".concat((v.name||"")+Ie,"child__layer_").concat(Vt(Nt)),Xn=this.mapLayerOrUnit(v,{...f,repeater:rn,repeaterPrefix:_n});return Xn.name=_n,Xn})}}mapNonLayerRepeat(l,f){var g;let{repeat:v,spec:D,data:O,...$}=l;!e.isArray(v)&&l.columns&&(l=xe(l,["columns"]),qr(Yc("repeat")));let re=[],{repeater:Se={},repeaterPrefix:Ie=""}=f,Nt=!e.isArray(v)&&v.row||[Se?Se.row:null],rn=!e.isArray(v)&&v.column||[Se?Se.column:null],_n=e.isArray(v)&&v||[Se?Se.repeat:null];for(let cr of _n)for(let er of Nt)for(let Rr of rn){let Mr={repeat:cr,row:er,column:Rr,layer:Se.layer},Ii=(D.name||"")+Ie+"child__"+(e.isArray(v)?"".concat(Vt(cr)):(v.row?"row_".concat(Vt(er)):"")+(v.column?"column_".concat(Vt(Rr)):"")),ni=this.map(D,{...f,repeater:Mr,repeaterPrefix:Ii});ni.name=Ii,re.push(xe(ni,["data"]))}let Xn=e.isArray(v)?l.columns:v.column?v.column.length:1;return{data:(g=D.data)!==null&&g!==void 0?g:O,align:"all",...$,columns:Xn,concat:re}}mapFacet(l,f){let{facet:g}=l;return Ud(g)&&l.columns&&(l=xe(l,["columns"]),qr(Yc("facet"))),super.mapFacet(l,f)}mapUnitWithParentEncodingOrProjection(l,f){let{encoding:g,projection:v}=l,{parentEncoding:D,parentProjection:O,config:$}=f,re=yN({parentProjection:O,projection:v}),Se=Mu({parentEncoding:D,encoding:t9(g,f.repeater)});return this.mapUnit({...l,...re?{projection:re}:{},...Se?{encoding:Se}:{}},{config:$})}mapFacetedUnit(l,f){let{row:g,column:v,facet:D,...O}=l.encoding,{mark:$,width:re,projection:Se,height:Ie,view:Nt,params:rn,encoding:_n,...Xn}=l,{facetMapping:cr,layout:er}=this.getFacetMappingAndLayout({row:g,column:v,facet:D},f),Rr=t9(O,f.repeater);return this.mapFacet({...Xn,...er,facet:cr,spec:{...re?{width:re}:{},...Ie?{height:Ie}:{},...Nt?{view:Nt}:{},...Se?{projection:Se}:{},mark:$,encoding:Rr,...rn?{params:rn}:{}}},f)}getFacetMappingAndLayout(l,f){let{row:g,column:v,facet:D}=l;if(g||v){D&&qr(vh([...g?[Dn]:[],...v?[Qn]:[]]));let $={},re={};for(let Se of[Dn,Qn]){let Ie=l[Se];if(Ie){let{align:Nt,center:rn,spacing:_n,columns:Xn,...cr}=Ie;$[Se]=cr;for(let er of["align","center","spacing"])if(Ie[er]!==void 0){var O;(O=re[er])!==null&&O!==void 0||(re[er]={}),re[er][Se]=Ie[er]}}}return{facetMapping:$,layout:re}}else{let{align:$,center:re,spacing:Se,columns:Ie,...Nt}=D;return{facetMapping:lW(Nt,f.repeater),layout:{...$?{align:$}:{},...re?{center:re}:{},...Se?{spacing:Se}:{},...Ie?{columns:Ie}:{}}}}}mapLayer(l,f){let{parentEncoding:g,parentProjection:v,...D}=f,{encoding:O,projection:$,...re}=l,Se={...D,parentEncoding:Mu({parentEncoding:g,encoding:O,layer:!0}),parentProjection:yN({parentProjection:v,projection:$})};return super.mapLayer(re,Se)}}function Mu(u){let{parentEncoding:l,encoding:f={},layer:g}=u,v={};if(l){let D=new Set([...Le(l),...Le(f)]);for(let O of D){let $=f[O],re=l[O];if(Ns($)){let Se={...re,...$};v[O]=Se}else zr($)?v[O]={...$,condition:{...re,...$.condition}}:$||$===null?v[O]=$:(g||Hd(re)||Un(re)||Ns(re)||e.isArray(re))&&(v[O]=re)}}else v=f;return!v||Ze(v)?void 0:v}function yN(u){let{parentProjection:l,projection:f}=u;return l&&f&&qr(yh({parentProjection:l,projection:f})),f??l}function dp(u){return"filter"in u}function fW(u){return(u==null?void 0:u.stop)!==void 0}function vN(u){return"lookup"in u}function dW(u){return"data"in u}function hW(u){return"param"in u}function pW(u){return"pivot"in u}function n9(u){return"density"in u}function mW(u){return"quantile"in u}function U1(u){return"regression"in u}function _N(u){return"loess"in u}function tE(u){return"sample"in u}function gu(u){return"window"in u}function Pu(u){return"joinaggregate"in u}function bN(u){return"flatten"in u}function xW(u){return"calculate"in u}function EN(u){return"bin"in u}function gW(u){return"impute"in u}function yW(u){return"timeUnit"in u}function vW(u){return"aggregate"in u}function _W(u){return"stack"in u}function SN(u){return"fold"in u}function D4(u){return u.map(l=>dp(l)?{filter:te(l.filter,Ch)}:l)}class r9 extends XC{map(l,f){var g,v;return(g=f.emptySelections)!==null&&g!==void 0||(f.emptySelections={}),(v=f.selectionPredicates)!==null&&v!==void 0||(f.selectionPredicates={}),l=wN(l,f),super.map(l,f)}mapLayerOrUnit(l,f){if(l=wN(l,f),l.encoding){let g={};for(let[v,D]of $t(l.encoding))g[v]=i9(D,f);l={...l,encoding:g}}return super.mapLayerOrUnit(l,f)}mapUnit(l,f){let{selection:g,...v}=l;return g?{...v,params:$t(g).map(D=>{let[O,$]=D,{init:re,bind:Se,empty:Ie,...Nt}=$;Nt.type==="single"?(Nt.type="point",Nt.toggle=!1):Nt.type==="multi"&&(Nt.type="point"),f.emptySelections[O]=Ie!=="none";for(let _n of vt((rn=f.selectionPredicates[O])!==null&&rn!==void 0?rn:{})){var rn;_n.empty=Ie!=="none"}return{name:O,value:re,select:Nt,bind:Se}})}:l}}function wN(u,l){let{transform:f,...g}=u;if(f){let v=f.map(D=>{if(dp(D))return{filter:Rf(D,l)};if(EN(D)&&Me(D.bin))return{...D,bin:O4(D.bin)};if(vN(D)){let{selection:O,...$}=D.from;return O?{...D,from:{param:O,...$}}:D}return D});return{...g,transform:v}}return u}function i9(u,l){var f,g;let v=ye(u);if(Dr(v)&&Me(v.bin)&&(v.bin=O4(v.bin)),qx(v)&&(f=v.scale)!==null&&f!==void 0&&(g=f.domain)!==null&&g!==void 0&&g.selection){let{selection:D,...O}=v.scale.domain;v.scale.domain={...O,...D?{param:D}:{}}}if(Ps(v))if(e.isArray(v.condition))v.condition=v.condition.map(D=>{let{selection:O,param:$,test:re,...Se}=D;return $?D:{...Se,test:Rf(D,l)}});else{let{selection:D,param:O,test:$,...re}=i9(v.condition,l);v.condition=O?v.condition:{...re,test:Rf(v.condition,l)}}return v}function O4(u){let l=u.extent;if(l!=null&&l.selection){let{selection:f,...g}=l;return{...u,extent:{...g,param:f}}}return u}function Rf(u,l){let f=g=>te(g,v=>{var D,O,$;let re=(D=l.emptySelections[v])!==null&&D!==void 0?D:!0,Se={param:v,empty:re};return($=(O=l.selectionPredicates)[v])!==null&&$!==void 0||(O[v]=[]),l.selectionPredicates[v].push(Se),Se});return u.selection?f(u.selection):te(u.test||u.filter,g=>g.selection?f(g.selection):g)}class Hm extends XC{map(l,f){var g;let v=(g=f.selections)!==null&&g!==void 0?g:[];if(l.params&&!fp(l)){let D=[];for(let O of l.params)QC(O)?v.push(O):D.push(O);l.params=D}return f.selections=v,super.map(l,CN(l,f))}mapUnit(l,f){var g;let v=f.selections;if(!v||!v.length)return l;let D=((g=f.path)!==null&&g!==void 0?g:[]).concat(l.name),O=[];for(let $ of v)if(!$.views||!$.views.length)O.push($);else for(let re of $.views)(e.isString(re)&&(re===l.name||D.indexOf(re)>=0)||e.isArray(re)&&re.map(Se=>D.indexOf(Se)).every((Se,Ie,Nt)=>Se!==-1&&(Ie===0||Se>Nt[Ie-1])))&&O.push($);return O.length&&(l.params=O),l}}for(let u of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){let l=Hm.prototype[u];Hm.prototype[u]=function(f,g){return l.call(this,f,CN(f,g))}}function CN(u,l){var f;return u.name?{...l,path:((f=l.path)!==null&&f!==void 0?f:[]).concat(u.name)}:l}function AN(u,l){l===void 0&&(l=Jb(u.config));let f=TN(u,l),{width:g,height:v}=u,D=ao(f,{width:g,height:v,autosize:u.autosize},l);return{...f,...D?{autosize:D}:{}}}let bW=new d0,EW=new r9,SW=new Hm;function TN(u){let f={config:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}};return SW.map(bW.map(EW.map(u,f),f),f)}function hp(u){return e.isString(u)?{type:u}:u??{}}function ao(u,l,f){let{width:g,height:v}=l,D=fp(u)||Xb(u),O={};D?g=="container"&&v=="container"?(O.type="fit",O.contains="padding"):g=="container"?(O.type="fit-x",O.contains="padding"):v=="container"&&(O.type="fit-y",O.contains="padding"):(g=="container"&&(qr(Xt("width")),g=void 0),v=="container"&&(qr(Xt("height")),v=void 0));let $={type:"pad",...O,...f?hp(f.autosize):{},...hp(u.autosize)};if($.type==="fit"&&!D&&(qr(ot),$.type="pad"),g=="container"&&!($.type=="fit"||$.type=="fit-x")&&qr(Tn("width")),v=="container"&&!($.type=="fit"||$.type=="fit-y")&&qr(Tn("height")),!Xe($,{type:"pad"}))return $}class pp{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.explicit=l,this.implicit=f}clone(){return new pp(ye(this.explicit),ye(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(l){return Ne(this.explicit[l],this.implicit[l])}getWithExplicit(l){return this.explicit[l]!==void 0?{explicit:!0,value:this.explicit[l]}:this.implicit[l]!==void 0?{explicit:!1,value:this.implicit[l]}:{explicit:!1,value:void 0}}setWithExplicit(l,f){let{value:g,explicit:v}=f;g!==void 0&&this.set(l,g,v)}set(l,f,g){return delete this[g?"implicit":"explicit"][l],this[g?"explicit":"implicit"][l]=f,this}copyKeyFromSplit(l,f){let{explicit:g,implicit:v}=f;g[l]!==void 0?this.set(l,g[l],!0):v[l]!==void 0&&this.set(l,v[l],!1)}copyKeyFromObject(l,f){f[l]!==void 0&&this.set(l,f[l],!0)}copyAll(l){for(let f of Le(l.combine())){let g=l.getWithExplicit(f);this.setWithExplicit(f,g)}}}function al(u){return{explicit:!0,value:u}}function h0(u){return{explicit:!1,value:u}}function FN(u){return(l,f,g,v)=>{let D=u(l.value,f.value);return D>0?l:D<0?f:Wo(l,f,g,v)}}function Wo(u,l,f,g){return u.explicit&&l.explicit&&qr(Ri(f,g,u.value,l.value)),u}function $m(u,l,f,g){let v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Wo;return u===void 0||u.value===void 0?l:u.explicit&&!l.explicit?u:l.explicit&&!u.explicit?l:Xe(u.value,l.value)?u:v(u,l,f,g)}class DN extends pp{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super(l,f);this.explicit=l,this.implicit=f,this.parseNothing=g}clone(){let l=super.clone();return l.parseNothing=this.parseNothing,l}}function z1(u){return"url"in u}function R4(u){return"values"in u}function ON(u){return"name"in u&&!z1(u)&&!R4(u)&&!Vm(u)}function Vm(u){return u&&(RN(u)||NN(u)||s9(u))}function RN(u){return"sequence"in u}function NN(u){return"sphere"in u}function s9(u){return"graticule"in u}let Pa;(function(u){u[u.Raw=0]="Raw",u[u.Main=1]="Main",u[u.Row=2]="Row",u[u.Column=3]="Column",u[u.Lookup=4]="Lookup"})(Pa||(Pa={}));function qy(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.identity;if(e.isArray(u)){let g=u.map(v=>qy(v,l,f));return l?"[".concat(g.join(", "),"]"):g}else if(Q0(u))return f(l?ef(u):Ix(u));return l?f(Je(u)):u}function wW(u,l){for(let g of vt((f=u.component.selection)!==null&&f!==void 0?f:{})){var f;let v=g.name,D="".concat(v).concat(Gm,", ").concat(g.resolve==="global"?"true":"{unit: ".concat(Vy(u),"}"));for(let O of $y)!O.defined(g)||(O.signals&&(l=O.signals(u,g,l)),O.modifyExpr&&(D=O.modifyExpr(u,g,D)));l.push({name:v+h9,on:[{events:{signal:g.name+Gm},update:"modify(".concat(e.stringValue(g.name+Hx),", ").concat(D,")")}]})}return N4(l)}function CW(u,l){if(u.component.selection&&Le(u.component.selection).length){let f=e.stringValue(u.getName("cell"));l.unshift({name:"facet",value:{},on:[{events:e.parseSelector("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(f,").datum")}]})}return N4(l)}function AW(u,l){let f=!1;for(let v of vt((g=u.component.selection)!==null&&g!==void 0?g:{})){var g;let D=v.name,O=e.stringValue(D+Hx);if(l.filter(re=>re.name===D).length===0){let re=v.resolve==="global"?"union":v.resolve,Se=v.type==="point"?", true, true)":")";l.push({name:v.name,update:"".concat(JN,"(").concat(O,", ").concat(e.stringValue(re)).concat(Se)})}f=!0;for(let re of $y)re.defined(v)&&re.topLevelSignals&&(l=re.topLevelSignals(u,v,l))}return f&&l.filter(D=>D.name==="unit").length===0&&l.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),N4(l)}function TW(u,l){let f=[...l];for(let v of vt((g=u.component.selection)!==null&&g!==void 0?g:{})){var g;let D={name:v.name+Hx};if(v.init){let $=v.project.items.map(re=>{let{signals:Se,...Ie}=re;return Ie});D.values=v.init.map(re=>({unit:Vy(u,{escape:!1}),fields:$,values:qy(re,!1)}))}f.filter($=>$.name===v.name+Hx).length||f.push(D)}return f}function LN(u,l){for(let g of vt((f=u.component.selection)!==null&&f!==void 0?f:{})){var f;for(let v of $y)v.defined(g)&&v.marks&&(l=v.marks(u,g,l))}return l}function o9(u,l){for(let f of u.children)lc(f)&&(l=LN(f,l));return l}function FW(u,l,f,g){let v=tL(u,l.param,l);return{signal:bt(f.get("type"))&&e.isArray(g)&&g[0]>g[1]?"isValid(".concat(v,") && reverse(").concat(v,")"):v}}function N4(u){return u.map(l=>(l.on&&!l.on.length&&delete l.on,l))}class ba{constructor(l,f){this.debugName=f,vn(this,"_children",[]),vn(this,"_parent",null),vn(this,"_hash",void 0),l&&(this.parent=l)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(l){this._parent=l,l&&l.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(l,f){if(this._children.includes(l)){qr(n0);return}f!==void 0?this._children.splice(f,0,l):this._children.push(l)}removeChild(l){let f=this._children.indexOf(l);return this._children.splice(f,1),f}remove(){let l=this._parent.removeChild(this);for(let f of this._children)f._parent=this._parent,this._parent.addChild(f,l++)}insertAsParentOf(l){let f=l.parent;f.removeChild(this),this.parent=f,l.parent=this}swapWithParent(){let l=this._parent,f=l.parent;for(let g of this._children)g.parent=l;this._children=[],l.removeChild(this),l.parent.removeChild(l),this.parent=f,l.parent=this}}class Nf extends ba{clone(){let l=new this.constructor;return l.debugName="clone_".concat(this.debugName),l._source=this._source,l._name="clone_".concat(this._name),l.type=this.type,l.refCounts=this.refCounts,l.refCounts[l._name]=0,l}constructor(l,f,g,v){super(l,f);this.type=g,this.refCounts=v,vn(this,"_source",void 0),vn(this,"_name",void 0),this._source=this._name=f,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash="Output ".concat(Oe())),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(l){this._source=l}}class mp extends ba{clone(){return new mp(null,ye(this.formula))}constructor(l,f){super(l);this.formula=f}static makeFromEncoding(l,f){let g=f.reduceFieldDef((v,D)=>{let{field:O,timeUnit:$}=D;if($){let re=pi(D,{forAs:!0});v[ut({as:re,field:O,timeUnit:$})]={as:re,field:O,timeUnit:$}}return v},{});return Ze(g)?null:new mp(l,g)}static makeFromTransform(l,f){let{timeUnit:g,...v}={...f},D=Ou(g),O={...v,timeUnit:D};return new mp(l,{[ut(O)]:O})}merge(l){this.formula={...this.formula};for(let f in l.formula)this.formula[f]||(this.formula[f]=l.formula[f]);for(let f of l.children)l.removeChild(f),f.parent=this;l.remove()}removeFormulas(l){let f={};for(let[g,v]of $t(this.formula))l.has(v.as)||(f[g]=v);this.formula=f}producedFields(){return new Set(vt(this.formula).map(l=>l.as))}dependentFields(){return new Set(vt(this.formula).map(l=>l.field))}hash(){return"TimeUnit ".concat(ut(this.formula))}assemble(){let l=[];for(let f of vt(this.formula)){let{field:g,as:v,timeUnit:D}=f,{unit:O,utc:$,...re}=Ou(D);l.push({field:pn(g),type:"timeunit",...O?{units:rl(O)}:{},...$?{timezone:"utc"}:{},...re,as:[v,"".concat(v,"_end")]})}return l}}let Bu="_tuple_fields";class p0{constructor(){vn(this,"hasChannel",void 0),vn(this,"hasField",void 0),vn(this,"timeUnit",void 0),vn(this,"items",void 0);for(var l=arguments.length,f=new Array(l),g=0;g<l;g++)f[g]=arguments[g];this.items=f,this.hasChannel={},this.hasField={}}}let DW={defined:()=>!0,parse:(u,l,f)=>{var g;let v=l.name,D=(g=l.project)!==null&&g!==void 0?g:l.project=new p0,O={},$={},re=new Set,Se=(Rr,Mr)=>{let Ii=Mr==="visual"?Rr.channel:Rr.field,ni=Vt("".concat(v,"_").concat(Ii));for(let fi=1;re.has(ni);fi++)ni=Vt("".concat(v,"_").concat(Ii,"_").concat(fi));return re.add(ni),{[Mr]:ni}},Ie=l.type,Nt=u.config.selection[Ie],rn=f.value!==void 0?e.array(f.value):null,{fields:_n,encodings:Xn}=e.isObject(f.select)?f.select:{};if(!_n&&!Xn&&rn){for(let Rr of rn)if(!!e.isObject(Rr))for(let Mr of Le(Rr))Wr(Mr)?(Xn||(Xn=[])).push(Mr):Ie==="interval"?(qr(U0),Xn=Nt.encodings):(_n||(_n=[])).push(Mr)}!_n&&!Xn&&(Xn=Nt.encodings,"fields"in Nt&&(_n=Nt.fields));for(let Rr of(cr=Xn)!==null&&cr!==void 0?cr:[]){var cr;let Mr=u.fieldDef(Rr);if(Mr){let Ii=Mr.field;if(Mr.aggregate){qr(es(Rr,Mr.aggregate));continue}else if(!Ii){qr(dr(Rr));continue}if(Mr.timeUnit){Ii=u.vgField(Rr);let ni={timeUnit:Mr.timeUnit,as:Ii,field:Mr.field};$[ut(ni)]=ni}if(!O[Ii]){let ni="E";if(Ie==="interval"){let xs=u.getScaleComponent(Rr).get("type");bt(xs)&&(ni="R")}else Mr.bin&&(ni="R-RE");let fi={field:Ii,channel:Rr,type:ni};fi.signals={...Se(fi,"data"),...Se(fi,"visual")},D.items.push(O[Ii]=fi),D.hasField[Ii]=D.hasChannel[Rr]=O[Ii]}}else qr(dr(Rr))}for(let Rr of(er=_n)!==null&&er!==void 0?er:[]){var er;if(D.hasField[Rr])continue;let Mr={type:"E",field:Rr};Mr.signals={...Se(Mr,"data")},D.items.push(Mr),D.hasField[Rr]=Mr}rn&&(l.init=rn.map(Rr=>D.items.map(Mr=>e.isObject(Rr)?Rr[Mr.channel]!==void 0?Rr[Mr.channel]:Rr[Mr.field]:Rr))),Ze($)||(D.timeUnit=new mp(null,$))},signals:(u,l,f)=>{let g=l.name+Bu;return f.filter(D=>D.name===g).length>0?f:f.concat({name:g,value:l.project.items.map(D=>{let{signals:O,hasLegend:$,...re}=D;return re.field=pn(re.field),re})})}},Wm={defined:u=>u.type==="interval"&&u.resolve==="global"&&u.bind&&u.bind==="scales",parse:(u,l)=>{let f=l.scales=[];for(let g of l.project.items){let v=g.channel;if(!Bi(v))continue;let D=u.getScaleComponent(v),O=D?D.get("type"):void 0;if(!D||!bt(O)){qr(Xa);continue}D.set("selectionExtent",{param:l.name,field:g.field},!0),f.push(g)}},topLevelSignals:(u,l,f)=>{let g=l.scales.filter(O=>f.filter($=>$.name===O.signals.data).length===0);if(!u.parent||nE(u)||g.length===0)return f;let v=f.filter(O=>O.name===l.name)[0],D=v.update;if(D.indexOf(JN)>=0)v.update="{".concat(g.map(O=>"".concat(e.stringValue(pn(O.field)),": ").concat(O.signals.data)).join(", "),"}");else{for(let O of g){let $="".concat(e.stringValue(pn(O.field)),": ").concat(O.signals.data);D.includes($)||(D="".concat(D.substring(0,D.length-1),", ").concat($,"}"))}v.update=D}return f.concat(g.map(O=>({name:O.signals.data})))},signals:(u,l,f)=>{if(u.parent&&!nE(u))for(let g of l.scales){let v=f.filter(D=>D.name===g.signals.data)[0];v.push="outer",delete v.value,delete v.update}return f}};function a9(u,l){let f=e.stringValue(u.scaleName(l));return"domain(".concat(f,")")}function nE(u){var l;return u.parent&&pE(u.parent)&&((l=!u.parent.parent)!==null&&l!==void 0?l:nE(u.parent.parent))}let Uy="_brush",u9="_scale_trigger",OW={defined:u=>u.type==="interval",signals:(u,l,f)=>{let g=l.name,v=g+Bu,D=Wm.defined(l),O=l.init?l.init[0]:null,$=[],re=[];if(l.translate&&!D){let Ie="!event.item || event.item.mark.name !== ".concat(e.stringValue(g+Uy));IN(l,(Nt,rn)=>{var _n,Xn;let cr=e.array((Xn=(_n=rn.between[0]).filter)!==null&&Xn!==void 0?Xn:_n.filter=[]);return cr.includes(Ie)||cr.push(Ie),Nt})}l.project.items.forEach((Ie,Nt)=>{let rn=Ie.channel;if(rn!==Pn&&rn!==ar){qr("Interval selections only support x and y encoding channels.");return}let _n=O?O[Nt]:null,Xn=kN(u,l,Ie,_n),cr=Ie.signals.data,er=Ie.signals.visual,Rr=e.stringValue(u.scaleName(rn)),Mr=u.getScaleComponent(rn).get("type"),Ii=bt(Mr)?"+":"";f.push(...Xn),$.push(cr),re.push({scaleName:u.scaleName(rn),expr:"(!isArray(".concat(cr,") || ")+"(".concat(Ii,"invert(").concat(Rr,", ").concat(er,")[0] === ").concat(Ii).concat(cr,"[0] && ")+"".concat(Ii,"invert(").concat(Rr,", ").concat(er,")[1] === ").concat(Ii).concat(cr,"[1]))")})}),!D&&re.length&&f.push({name:g+u9,value:{},on:[{events:re.map(Ie=>({scale:Ie.scaleName})),update:"".concat(re.map(Ie=>Ie.expr).join(" && ")," ? ").concat(g+u9," : {}")}]});let Se="unit: ".concat(Vy(u),", fields: ").concat(v,", values");return f.concat({name:g+Gm,...O?{init:"{".concat(Se,": ").concat(qy(O),"}")}:{},...$.length?{on:[{events:[{signal:$.join(" || ")}],update:"".concat($.join(" && ")," ? {").concat(Se,": [").concat($,"]} : null")}]}:{}})},marks:(u,l,f)=>{let g=l.name,{x:v,y:D}=l.project.hasChannel,O=v==null?void 0:v.signals.visual,$=D==null?void 0:D.signals.visual,re="data(".concat(e.stringValue(l.name+Hx),")");if(Wm.defined(l)||!v&&!D)return f;let Se={x:v!==void 0?{signal:"".concat(O,"[0]")}:{value:0},y:D!==void 0?{signal:"".concat($,"[0]")}:{value:0},x2:v!==void 0?{signal:"".concat(O,"[1]")}:{field:{group:"width"}},y2:D!==void 0?{signal:"".concat($,"[1]")}:{field:{group:"height"}}};if(l.resolve==="global")for(let cr of Le(Se))Se[cr]=[{test:"".concat(re,".length && ").concat(re,"[0].unit === ").concat(Vy(u)),...Se[cr]},{value:0}];let{fill:Ie,fillOpacity:Nt,cursor:rn,..._n}=l.mark,Xn=Le(_n).reduce((cr,er)=>(cr[er]=[{test:[v!==void 0&&"".concat(O,"[0] !== ").concat(O,"[1]"),D!==void 0&&"".concat($,"[0] !== ").concat($,"[1]")].filter(Rr=>Rr).join(" && "),value:_n[er]},{value:null}],cr),{});return[{name:"".concat(g+Uy,"_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:Ie},fillOpacity:{value:Nt}},update:Se}},...f,{name:g+Uy,type:"rect",clip:!0,encode:{enter:{...rn?{cursor:{value:rn}}:{},fill:{value:"transparent"}},update:{...Se,...Xn}}}]}};function kN(u,l,f,g){let v=f.channel,D=f.signals.visual,O=f.signals.data,$=Wm.defined(l),re=e.stringValue(u.scaleName(v)),Se=u.getScaleComponent(v),Ie=Se?Se.get("type"):void 0,Nt=cr=>"scale(".concat(re,", ").concat(cr,")"),rn=u.getSizeSignalRef(v===Pn?"width":"height").signal,_n="".concat(v,"(unit)"),Xn=IN(l,(cr,er)=>[...cr,{events:er.between[0],update:"[".concat(_n,", ").concat(_n,"]")},{events:er,update:"[".concat(D,"[0], clamp(").concat(_n,", 0, ").concat(rn,")]")}]);return Xn.push({events:{signal:l.name+u9},update:bt(Ie)?"[".concat(Nt("".concat(O,"[0]")),", ").concat(Nt("".concat(O,"[1]")),"]"):"[0, 0]"}),$?[{name:O,on:[]}]:[{name:D,...g?{init:qy(g,!0,Nt)}:{value:[]},on:Xn},{name:O,...g?{init:qy(g)}:{},on:[{events:{signal:D},update:"".concat(D,"[0] === ").concat(D,"[1] ? null : invert(").concat(re,", ").concat(D,")")}]}]}function IN(u,l){return u.events.reduce((f,g)=>g.between?l(f,g):(qr("".concat(g," is not an ordered event stream for interval selections.")),f),[])}let RW={defined:u=>u.type==="point",signals:(u,l,f)=>{var g;let v=l.name,D=v+Bu,O=l.project,$="(item().isVoronoi ? datum.datum : datum)",re=O.items.map(_n=>{let Xn=u.fieldDef(_n.channel);return Xn!=null&&Xn.bin?"[".concat($,"[").concat(e.stringValue(u.vgField(_n.channel,{})),"], ")+"".concat($,"[").concat(e.stringValue(u.vgField(_n.channel,{binSuffix:"end"})),"]]"):"".concat($,"[").concat(e.stringValue(_n.field),"]")}).join(", "),Se="unit: ".concat(Vy(u),", fields: ").concat(D,", values"),Ie=l.events,Nt=vt((g=u.component.selection)!==null&&g!==void 0?g:{}).reduce((_n,Xn)=>Xn.type==="interval"?_n.concat(Xn.name+Uy):_n,[]).map(_n=>"indexof(item().mark.name, '".concat(_n,"') < 0")).join(" && "),rn="datum && item().mark.marktype !== 'group'".concat(Nt?" && ".concat(Nt):"");return f.concat([{name:v+Gm,on:Ie?[{events:Ie,update:"".concat(rn," ? {").concat(Se,": [").concat(re,"]} : null"),force:!0}]:[]}])}};function zy(u,l,f,g){let v=Ps(l)&&l.condition,D=g(l);if(v){let $=e.array(v).map(re=>{let Se=g(re);if(f0(re)){let{param:Ie,empty:Nt}=re;return{test:cE(u,{param:Ie,empty:Nt}),...Se}}else return{test:fE(u,re.test),...Se}});return{[f]:[...$,...D!==void 0?[D]:[]]}}else return D!==void 0?{[f]:D}:{}}function rE(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"text",f=u.encoding[l];return zy(u,f,l,g=>L4(g,u.config))}function L4(u,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"datum";if(u){if(Hd(u))return Ur(u.value);if(Ns(u)){let{format:g,formatType:v}=Pb(u);return fs({fieldOrDatumDef:u,format:g,formatType:v,expr:f,config:l})}}}function MN(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{encoding:f,markDef:g,config:v,stack:D}=u,O=f.tooltip;if(e.isArray(O))return{tooltip:BN({tooltip:O},D,v,l)};{let $=l.reactiveGeom?"datum.datum":"datum";return zy(u,O,"tooltip",re=>{let Se=L4(re,v,$);if(Se)return Se;if(re===null)return;let Ie=Ei("tooltip",g,v);if(Ie===!0&&(Ie={content:"encoding"}),e.isString(Ie))return{value:Ie};if(e.isObject(Ie))return Un(Ie)?Ie:Ie.content==="encoding"?BN(f,D,v,l):{signal:$}})}}function PN(u,l,f){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v={},D=g?"datum.datum":"datum",O=[];function $(Se,Ie){var Nt;let rn=li(Ie),_n=zd(Se)?Se:{...Se,type:u[rn].type},Xn=_n.title||Mb(_n,f),cr=e.array(Xn).join(", "),er;if(hs(Ie)){let Rr=Ie==="x"?"x2":"y2",Mr=Oh(u[Rr]);if(as(_n.bin)&&Mr){let Ii=pi(_n,{expr:D}),ni=pi(Mr,{expr:D}),{format:fi,formatType:xs}=Pb(_n);er=Ma(Ii,ni,fi,xs,f),v[Rr]=!0}else if(l&&l.fieldChannel===Ie&&l.offset==="normalize"){let{format:Ii,formatType:ni}=Pb(_n);er=fs({fieldOrDatumDef:_n,format:Ii,formatType:ni,expr:D,config:f,normalizeStack:!0}).signal}}(Nt=er)!==null&&Nt!==void 0||(er=L4(_n,f,D).signal),O.push({channel:Ie,key:cr,value:er})}PC(u,(Se,Ie)=>{Dr(Se)?$(Se,Ie):Eo(Se)&&$(Se.condition,Ie)});let re={};for(let{channel:Se,key:Ie,value:Nt}of O)!v[Se]&&!re[Ie]&&(re[Ie]=Nt);return re}function BN(u,l,f){let{reactiveGeom:g}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=PN(u,l,f,{reactiveGeom:g}),D=$t(v).map(O=>{let[$,re]=O;return'"'.concat($,'": ').concat(re)});return D.length>0?{signal:"{".concat(D.join(", "),"}")}:void 0}function NW(u){let{markDef:l,config:f}=u,g=Ei("aria",l,f);return g===!1?{}:{...g?{aria:g}:{},...Hy(u),...LW(u)}}function Hy(u){let{mark:l,markDef:f,config:g}=u;if(g.aria===!1)return{};let v=Ei("ariaRoleDescription",f,g);return v!=null?{ariaRoleDescription:{value:v}}:l in Or?{}:{ariaRoleDescription:{value:l}}}function LW(u){let{encoding:l,markDef:f,config:g,stack:v}=u,D=l.description;if(D)return zy(u,D,"description",re=>L4(re,u.config));let O=Ei("description",f,g);if(O!=null)return{description:Ur(O)};if(g.aria===!1)return{};let $=PN(l,v,g);if(!Ze($))return{description:{signal:$t($).map((re,Se)=>{let[Ie,Nt]=re;return'"'.concat(Se>0?"; ":"").concat(Ie,': " + (').concat(Nt,")")}).join(" + ")}}}function uc(u,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{markDef:g,encoding:v,config:D}=l,{vgChannel:O}=f,{defaultRef:$,defaultValue:re}=f;if($===void 0){var Se;(Se=re)!==null&&Se!==void 0||(re=Ei(u,g,D,{vgChannel:O,ignoreVgConfig:!0})),re!==void 0&&($=Ur(re))}let Ie=v[u];return zy(l,Ie,O??u,Nt=>Jr({channel:u,channelDef:Nt,markDef:g,config:D,scaleName:l.scaleName(u),scale:l.getScaleComponent(u),stack:null,defaultRef:$}))}function jN(u){var l,f,g,v;let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{filled:void 0},{markDef:O,encoding:$,config:re}=u,{type:Se}=O,Ie=(l=D.filled)!==null&&l!==void 0?l:Ei("filled",O,re),Nt=wt(["bar","point","circle","square","geoshape"],Se)?"transparent":void 0,rn=(f=(g=Ei(Ie===!0?"color":void 0,O,re,{vgChannel:"fill"}))!==null&&g!==void 0?g:re.mark[Ie===!0&&"color"])!==null&&f!==void 0?f:Nt,_n=(v=Ei(Ie===!1?"color":void 0,O,re,{vgChannel:"stroke"}))!==null&&v!==void 0?v:re.mark[Ie===!1&&"color"],Xn=Ie?"fill":"stroke",cr={...rn?{fill:Ur(rn)}:{},..._n?{stroke:Ur(_n)}:{}};return O.color&&(Ie?O.fill:O.stroke)&&qr(s0("property",{fill:"fill"in O,stroke:"stroke"in O})),{...cr,...uc("color",u,{vgChannel:Xn,defaultValue:Ie?rn:_n}),...uc("fill",u,{defaultValue:$.fill?rn:void 0}),...uc("stroke",u,{defaultValue:$.stroke?_n:void 0})}}function kW(u){let{encoding:l,mark:f}=u,g=l.order;return!sf(f)&&Hd(g)?zy(u,g,"zindex",v=>Ur(v.value)):{}}function k4(u){let{channel:l,markDef:f,encoding:g={},model:v,bandPosition:D}=u,O="".concat(l,"Offset"),$=f[O],re=g[O];if((O==="xOffset"||O==="yOffset")&&re){let Ie=Jr({channel:O,channelDef:re,markDef:f,config:v==null?void 0:v.config,scaleName:v.scaleName(O),scale:v.getScaleComponent(O),stack:null,defaultRef:Ur($),bandPosition:D});return{offsetType:"encoding",offset:Ie}}let Se=f[O];return Se?{offsetType:"visual",offset:Se}:{}}function Nc(u,l,f){let{defaultPos:g,vgChannel:v}=f,{encoding:D,markDef:O,config:$,stack:re}=l,Se=D[u],Ie=D[ws(u)],Nt=l.scaleName(u),rn=l.getScaleComponent(u),{offset:_n,offsetType:Xn}=k4({channel:u,markDef:O,encoding:D,model:l,bandPosition:.5}),cr=l9({model:l,defaultPos:g,channel:u,scaleName:Nt,scale:rn}),er=!Se&&hs(u)&&(D.latitude||D.longitude)?{field:l.getName(u)}:qN({channel:u,channelDef:Se,channel2Def:Ie,markDef:O,config:$,scaleName:Nt,scale:rn,stack:re,offset:_n,defaultRef:cr,bandPosition:Xn==="encoding"?0:void 0});return er?{[v||u]:er}:void 0}function qN(u){let{channel:l,channelDef:f,scaleName:g,stack:v,offset:D,markDef:O}=u;if(Ns(f)&&v&&l===v.fieldChannel){if(Dr(f)){let $=f.bandPosition;if($===void 0&&O.type==="text"&&(l==="radius"||l==="theta")&&($=.5),$!==void 0)return Fr({scaleName:g,fieldOrDatumDef:f,startSuffix:"start",bandPosition:$,offset:D})}return sr(f,g,{suffix:"end"},{offset:D})}return Ut(u)}function l9(u){let{model:l,defaultPos:f,channel:g,scaleName:v,scale:D}=u,{markDef:O,config:$}=l;return()=>{let re=li(g),Se=Xi(g),Ie=Ei(g,O,$,{vgChannel:Se});if(Ie!==void 0)return kr(g,Ie);switch(f){case"zeroOrMin":case"zeroOrMax":if(v){let Nt=D.get("type");if(!wt([sl.LOG,sl.TIME,sl.UTC],Nt)){if(D.domainDefinitelyIncludesZero())return{scale:v,value:0}}}if(f==="zeroOrMin")return re==="y"?{field:{group:"height"}}:{value:0};switch(re){case"radius":return{signal:"min(".concat(l.width.signal,",").concat(l.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...l[ts(g)],mult:.5}}}}let IW={left:"x",center:"xc",right:"x2"},MW={top:"y",middle:"yc",bottom:"y2"};function UN(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle";if(u==="radius"||u==="theta")return Xi(u);let v=u==="x"?"align":"baseline",D=Ei(v,l,f),O;return Un(D)?(qr(Ls(v)),O=void 0):O=D,u==="x"?IW[O||(g==="top"?"left":"center")]:MW[O||g]}function iE(u,l,f){let{defaultPos:g,defaultPos2:v,range:D}=f;return D?zN(u,l,{defaultPos:g,defaultPos2:v}):Nc(u,l,{defaultPos:g})}function zN(u,l,f){let{defaultPos:g,defaultPos2:v}=f,{markDef:D,config:O}=l,$=ws(u),re=ts(u),Se=PW(l,v,$),Ie=Se[re]?UN(u,D,O):Xi(u);return{...Nc(u,l,{defaultPos:g,vgChannel:Ie}),...Se}}function PW(u,l,f){let{encoding:g,mark:v,markDef:D,stack:O,config:$}=u,re=li(f),Se=ts(f),Ie=Xi(f),Nt=g[re],rn=u.scaleName(re),_n=u.getScaleComponent(re),{offset:Xn}=f in g||f in D?k4({channel:f,markDef:D,encoding:g,model:u}):k4({channel:re,markDef:D,encoding:g,model:u});if(!Nt&&(f==="x2"||f==="y2")&&(g.latitude||g.longitude)){let er=ts(f),Rr=u.markDef[er];return Rr!=null?{[er]:{value:Rr}}:{[Ie]:{field:u.getName(f)}}}let cr=BW({channel:f,channelDef:Nt,channel2Def:g[f],markDef:D,config:$,scaleName:rn,scale:_n,stack:O,offset:Xn,defaultRef:void 0});return cr!==void 0?{[Ie]:cr}:sE(f,D)||sE(f,{[f]:is(f,D,$.style),[Se]:is(Se,D,$.style)})||sE(f,$[v])||sE(f,$.mark)||{[Ie]:l9({model:u,defaultPos:l,channel:f,scaleName:rn,scale:_n})()}}function BW(u){let{channel:l,channelDef:f,channel2Def:g,markDef:v,config:D,scaleName:O,scale:$,stack:re,offset:Se,defaultRef:Ie}=u;return Ns(f)&&re&&l.charAt(0)===re.fieldChannel.charAt(0)?sr(f,O,{suffix:"start"},{offset:Se}):Ut({channel:l,channelDef:g,scaleName:O,scale:$,stack:re,markDef:v,config:D,offset:Se,defaultRef:Ie})}function sE(u,l){let f=ts(u),g=Xi(u);if(l[g]!==void 0)return{[g]:kr(u,l[g])};if(l[u]!==void 0)return{[g]:kr(u,l[u])};if(l[f]){let v=l[f];if(x(v))qr(Uo(f));else return{[f]:kr(u,v)}}}function Qm(u,l){var f,g;let{config:v,encoding:D,markDef:O}=u,$=O.type,re=ws(l),Se=ts(l),Ie=D[l],Nt=D[re],rn=u.getScaleComponent(l),_n=rn?rn.get("type"):void 0,Xn=O.orient,cr=(f=(g=D[Se])!==null&&g!==void 0?g:D.size)!==null&&f!==void 0?f:Ei("size",O,v,{vgChannel:Se}),er=$==="bar"&&(l==="x"?Xn==="vertical":Xn==="horizontal");return Dr(Ie)&&(pr(Ie.bin)||as(Ie.bin)||Ie.timeUnit&&!Nt)&&!(cr&&!x(cr))&&!Be(_n)?UW({fieldDef:Ie,fieldDef2:Nt,channel:l,model:u}):(Ns(Ie)&&Be(_n)||er)&&!Nt?qW(Ie,l,u):zN(l,u,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function jW(u,l,f,g,v){if(x(v))if(f){let O=f.get("type");if(O==="band")return{scale:l,band:v.band};v.band!==1&&(qr(Ue(O)),v=void 0)}else return{mult:v.band,field:{group:u}};else{if(Un(v))return v;if(v)return{value:v}}if(f){let O=f.get("range");if(br(O)&&e.isNumber(O.step))return{value:O.step-2}}return{value:Gb(g.view,u)-2}}function qW(u,l,f){let{markDef:g,encoding:v,config:D,stack:O}=f,$=g.orient,re=f.scaleName(l),Se=f.getScaleComponent(l),Ie=ts(l),Nt=ws(l),rn=Ca(l),_n=f.scaleName(rn),Xn=$==="horizontal"&&l==="y"||$==="vertical"&&l==="x",cr;(v.size||g.size)&&(Xn?cr=uc("size",f,{vgChannel:Ie,defaultRef:Ur(g.size)}):qr(Ln(g.type)));let er=j1({channel:l,fieldDef:u,markDef:g,config:D,scaleType:Se==null?void 0:Se.get("type"),useVlSizeChannel:Xn});cr=cr||{[Ie]:jW(Ie,_n||re,Se,D,er)};let Rr=(Se==null?void 0:Se.get("type"))!=="band"||!("band"in cr[Ie])?"middle":"top",Mr=UN(l,g,D,Rr),Ii=Mr==="xc"||Mr==="yc",{offset:ni,offsetType:fi}=k4({channel:l,markDef:g,encoding:v,model:f,bandPosition:Ii?.5:0}),xs=Ut({channel:l,channelDef:u,markDef:g,config:D,scaleName:re,scale:Se,stack:O,offset:ni,defaultRef:l9({model:f,defaultPos:"mid",channel:l,scaleName:re,scale:Se}),bandPosition:Ii?fi==="encoding"?0:.5:Un(er)?{signal:"(1-".concat(er,")/2")}:x(er)?(1-er.band)/2:0});if(Ie)return{[Mr]:xs,...cr};{let ss=Xi(Nt),ko=cr[Ie],Zs=ni?{...ko,offset:ni}:ko;return{[Mr]:xs,[ss]:e.isArray(xs)?[xs[0],{...xs[1],offset:Zs}]:{...xs,offset:Zs}}}}function I4(u,l,f,g,v){if(oe(u))return 0;let D=u==="x"||u==="y2"?-l/2:l/2;if(Un(f)||Un(v)||Un(g)){let O=_i(f),$=_i(v),re=_i(g),Se=re?"".concat(re," + "):"",Ie=O?"(".concat(O," ? -1 : 1) * "):"",Nt=$?"(".concat($," + ").concat(D,")"):D;return{signal:Se+Ie+Nt}}else return v=v||0,g+(f?-v-D:+v+D)}function UW(u){var l,f,g;let{fieldDef:v,fieldDef2:D,channel:O,model:$}=u,{config:re,markDef:Se,encoding:Ie}=$,Nt=$.getScaleComponent(O),rn=$.scaleName(O),_n=Nt?Nt.get("type"):void 0,Xn=Nt.get("reverse"),cr=j1({channel:O,fieldDef:v,markDef:Se,config:re,scaleType:_n}),er=(l=$.component.axes[O])===null||l===void 0?void 0:l[0],Rr=(f=er==null?void 0:er.get("translate"))!==null&&f!==void 0?f:.5,Mr=hs(O)&&(g=Ei("binSpacing",Se,re))!==null&&g!==void 0?g:0,Ii=ws(O),ni=Xi(O),fi=Xi(Ii),{offset:xs}=k4({channel:O,markDef:Se,encoding:Ie,model:$,bandPosition:0}),ss=Un(cr)?{signal:"(1-".concat(cr.signal,")/2")}:x(cr)?(1-cr.band)/2:.5;if(pr(v.bin)||v.timeUnit)return{[fi]:HN({fieldDef:v,scaleName:rn,bandPosition:ss,offset:I4(Ii,Mr,Xn,Rr,xs)}),[ni]:HN({fieldDef:v,scaleName:rn,bandPosition:Un(ss)?{signal:"1-".concat(ss.signal)}:1-ss,offset:I4(O,Mr,Xn,Rr,xs)})};if(as(v.bin)){let ko=sr(v,rn,{},{offset:I4(Ii,Mr,Xn,Rr,xs)});if(Dr(D))return{[fi]:ko,[ni]:sr(D,rn,{},{offset:I4(O,Mr,Xn,Rr,xs)})};if(Me(v.bin)&&v.bin.step)return{[fi]:ko,[ni]:{signal:'scale("'.concat(rn,'", ').concat(pi(v,{expr:"datum"})," + ").concat(v.bin.step,")"),offset:I4(O,Mr,Xn,Rr,xs)}}}qr(rc(Ii))}function HN(u){let{fieldDef:l,scaleName:f,bandPosition:g,offset:v}=u;return Fr({scaleName:f,fieldOrDatumDef:l,bandPosition:g,offset:v})}let zW=new Set(["aria","width","height"]);function Vd(u,l){let{fill:f=void 0,stroke:g=void 0}=l.color==="include"?jN(u):{};return{...HW(u.markDef,l),...$N(u,"fill",f),...$N(u,"stroke",g),...uc("opacity",u),...uc("fillOpacity",u),...uc("strokeOpacity",u),...uc("strokeWidth",u),...uc("strokeDash",u),...kW(u),...MN(u),...rE(u,"href"),...NW(u)}}function $N(u,l,f){let{config:g,mark:v,markDef:D}=u;if(Ei("invalid",D,g)==="hide"&&f&&!sf(v)){let $=$W(u,{invalid:!0,channels:vs});if($)return{[l]:[{test:$,value:null},...e.array(f)]}}return f?{[l]:f}:{}}function HW(u,l){return gr.reduce((f,g)=>(!zW.has(g)&&u[g]!==void 0&&l[g]!=="ignore"&&(f[g]=Ur(u[g])),f),{})}function $W(u,l){let{invalid:f=!1,channels:g}=l,v=g.reduce((O,$)=>{let re=u.getScaleComponent($);if(re){let Se=re.get("type"),Ie=u.vgField($,{expr:"datum"});Ie&&bt(Se)&&(O[Ie]=!0)}return O},{}),D=Le(v);if(D.length>0){let O=f?"||":"&&";return D.map($=>kn($,f)).join(" ".concat(O," "))}}function c9(u){let{config:l,markDef:f}=u;if(Ei("invalid",f,l)){let v=VW(u,{channels:ro});if(v)return{defined:{signal:v}}}return{}}function VW(u,l){let{invalid:f=!1,channels:g}=l,v=g.reduce((O,$)=>{let re=u.getScaleComponent($);if(re){let Se=re.get("type"),Ie=u.vgField($,{expr:"datum"});Ie&&bt(Se)&&(O[Ie]=!0)}return O},{}),D=Le(v);if(D.length>0){let O=f?"||":"&&";return D.map($=>kn($,f)).join(" ".concat(O," "))}}function VN(u,l){if(l!==void 0)return{[u]:Ur(l)}}let f9="voronoi",WN={defined:u=>u.type==="point"&&u.nearest,parse:(u,l)=>{if(l.events)for(let f of l.events)f.markname=u.getName(f9)},marks:(u,l,f)=>{let{x:g,y:v}=l.project.hasChannel,D=u.mark;if(sf(D))return qr(_s(D)),f;let O={name:u.getName(f9),type:"path",interactive:!0,from:{data:u.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...MN(u,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:g||!v?"datum.datum.x || 0":"0"},y:{expr:v||!g?"datum.datum.y || 0":"0"},size:[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]}]},$=0,re=!1;return f.forEach((Se,Ie)=>{var Nt;let rn=(Nt=Se.name)!==null&&Nt!==void 0?Nt:"";rn===u.component.mark[0].name?$=Ie:rn.indexOf(f9)>=0&&(re=!0)}),re||f.splice($+1,0,O),f}},oE={defined:u=>u.type==="point"&&u.resolve==="global"&&u.bind&&u.bind!=="scales"&&!VC(u.bind),parse:(u,l,f)=>XN(l,f),topLevelSignals:(u,l,f)=>{let g=l.name,v=l.project,D=l.bind,O=l.init&&l.init[0],$=WN.defined(l)?"(item().isVoronoi ? datum.datum : datum)":"datum";return v.items.forEach((re,Se)=>{let Ie=Vt("".concat(g,"_").concat(re.field));if(!f.filter(Xn=>Xn.name===Ie).length){var rn,_n;f.unshift({name:Ie,...O?{init:qy(O[Se])}:{value:null},on:l.events?[{events:l.events,update:"datum && item().mark.marktype !== 'group' ? ".concat($,"[").concat(e.stringValue(re.field),"] : null")}]:[],bind:(rn=(_n=D[re.field])!==null&&_n!==void 0?_n:D[re.channel])!==null&&rn!==void 0?rn:D})}}),f},signals:(u,l,f)=>{let g=l.name,v=l.project,D=f.filter(Se=>Se.name===g+Gm)[0],O=g+Bu,$=v.items.map(Se=>Vt("".concat(g,"_").concat(Se.field))),re=$.map(Se=>"".concat(Se," !== null")).join(" && ");return $.length&&(D.update="".concat(re," ? {fields: ").concat(O,", values: [").concat($.join(", "),"]} : null")),delete D.value,delete D.on,f}},M4="_toggle",d9={defined:u=>u.type==="point"&&!!u.toggle,signals:(u,l,f)=>f.concat({name:l.name+M4,value:!1,on:[{events:l.events,update:l.toggle}]}),modifyExpr:(u,l)=>{let f=l.name+Gm,g=l.name+M4;return"".concat(g," ? null : ").concat(f,", ")+(l.resolve==="global"?"".concat(g," ? null : true, "):"".concat(g," ? null : {unit: ").concat(Vy(u),"}, "))+"".concat(g," ? ").concat(f," : null")}},WW={defined:u=>u.clear!==void 0&&u.clear!==!1,parse:(u,l)=>{l.clear&&(l.clear=e.isString(l.clear)?e.parseSelector(l.clear,"view"):l.clear)},topLevelSignals:(u,l,f)=>{if(oE.defined(l))for(let g of l.project.items){let v=f.findIndex(D=>D.name===Vt("".concat(l.name,"_").concat(g.field)));v!==-1&&f[v].on.push({events:l.clear,update:"null"})}return f},signals:(u,l,f)=>{function g(v,D){v!==-1&&f[v].on&&f[v].on.push({events:l.clear,update:D})}if(l.type==="interval")for(let v of l.project.items){let D=f.findIndex(O=>O.name===v.signals.visual);if(g(D,"[0, 0]"),D===-1){let O=f.findIndex($=>$.name===v.signals.data);g(O,"null")}}else{let v=f.findIndex(D=>D.name===l.name+Gm);g(v,"null"),d9.defined(l)&&(v=f.findIndex(D=>D.name===l.name+M4),g(v,"false"))}return f}},QN={defined:u=>{let l=u.resolve==="global"&&u.bind&&VC(u.bind),f=u.project.items.length===1&&u.project.items[0].field!==F4;return l&&!f&&qr(Xl),l&&f},parse:(u,l,f)=>{let g=ye(f);if(g.select=e.isString(g.select)?{type:g.select,toggle:l.toggle}:{...g.select,toggle:l.toggle},XN(l,g),e.isObject(f.select)&&(f.select.on||f.select.clear)){let $='event.item && indexof(event.item.mark.role, "legend") < 0';for(let re of l.events){var v;re.filter=e.array((v=re.filter)!==null&&v!==void 0?v:[]),re.filter.includes($)||re.filter.push($)}}let D=WC(l.bind)?l.bind.legend:"click",O=e.isString(D)?e.parseSelector(D,"view"):e.array(D);l.bind={legend:{merge:O}}},topLevelSignals:(u,l,f)=>{let g=l.name,v=WC(l.bind)&&l.bind.legend,D=O=>$=>{let re=ye($);return re.markname=O,re};for(let O of l.project.items){if(!O.hasLegend)continue;let $="".concat(Vt(O.field),"_legend"),re="".concat(g,"_").concat($);if(f.filter(Ie=>Ie.name===re).length===0){let Ie=v.merge.map(D("".concat($,"_symbols"))).concat(v.merge.map(D("".concat($,"_labels")))).concat(v.merge.map(D("".concat($,"_entries"))));f.unshift({name:re,...l.init?{}:{value:null},on:[{events:Ie,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:v.merge,update:"!event.item || !datum ? null : ".concat(re),force:!0}]})}}return f},signals:(u,l,f)=>{let g=l.name,v=l.project,D=f.find(rn=>rn.name===g+Gm),O=g+Bu,$=v.items.filter(rn=>rn.hasLegend).map(rn=>Vt("".concat(g,"_").concat(Vt(rn.field),"_legend"))),re=$.map(rn=>"".concat(rn," !== null")).join(" && "),Se="".concat(re," ? {fields: ").concat(O,", values: [").concat($.join(", "),"]} : null");l.events&&$.length>0?D.on.push({events:$.map(rn=>({signal:rn})),update:Se}):$.length>0&&(D.update=Se,delete D.value,delete D.on);let Ie=f.find(rn=>rn.name===g+M4),Nt=WC(l.bind)&&l.bind.legend;return Ie&&(l.events?Ie.on.push({...Ie.on[0],events:Nt}):Ie.on[0].events=Nt),f}};function QW(u,l,f){var g;let v=(g=u.fieldDef(l))===null||g===void 0?void 0:g.field;for(let re of vt((D=u.component.selection)!==null&&D!==void 0?D:{})){var D,O;let Se=(O=re.project.hasField[v])!==null&&O!==void 0?O:re.project.hasChannel[l];if(Se&&QN.defined(re)){var $;let Ie=($=f.get("selections"))!==null&&$!==void 0?$:[];Ie.push(re.name),f.set("selections",Ie,!1),Se.hasLegend=!0}}}let aE="_translate_anchor",GN="_translate_delta",GW={defined:u=>u.type==="interval"&&u.translate,signals:(u,l,f)=>{let g=l.name,v=Wm.defined(l),D=g+aE,{x:O,y:$}=l.project.hasChannel,re=e.parseSelector(l.translate,"scope");return v||(re=re.map(Se=>(Se.between[0].markname=g+Uy,Se))),f.push({name:D,value:{},on:[{events:re.map(Se=>Se.between[0]),update:"{x: x(unit), y: y(unit)"+(O!==void 0?", extent_x: ".concat(v?a9(u,Pn):"slice(".concat(O.signals.visual,")")):"")+($!==void 0?", extent_y: ".concat(v?a9(u,ar):"slice(".concat($.signals.visual,")")):"")+"}"}]},{name:g+GN,value:{},on:[{events:re,update:"{x: ".concat(D,".x - x(unit), y: ").concat(D,".y - y(unit)}")}]}),O!==void 0&&YN(u,l,O,"width",f),$!==void 0&&YN(u,l,$,"height",f),f}};function YN(u,l,f,g,v){var D,O;let $=l.name,re=$+aE,Se=$+GN,Ie=f.channel,Nt=Wm.defined(l),rn=v.filter(ss=>ss.name===f.signals[Nt?"data":"visual"])[0],_n=u.getSizeSignalRef(g).signal,Xn=u.getScaleComponent(Ie),cr=Xn.get("type"),er=Xn.get("reverse"),Rr=Nt?Ie===Pn?er?"":"-":er?"-":"":"",Mr="".concat(re,".extent_").concat(Ie),Ii="".concat(Rr).concat(Se,".").concat(Ie," / ").concat(Nt?"".concat(_n):"span(".concat(Mr,")")),ni=Nt?cr==="log"?"panLog":cr==="symlog"?"panSymlog":cr==="pow"?"panPow":"panLinear":"panLinear",fi=Nt?cr==="pow"?", ".concat((D=Xn.get("exponent"))!==null&&D!==void 0?D:1):cr==="symlog"?", ".concat((O=Xn.get("constant"))!==null&&O!==void 0?O:1):"":"",xs="".concat(ni,"(").concat(Mr,", ").concat(Ii).concat(fi,")");rn.on.push({events:{signal:Se},update:Nt?xs:"clampRange(".concat(xs,", 0, ").concat(_n,")")})}let Lf="_zoom_anchor",uE="_zoom_delta",YW={defined:u=>u.type==="interval"&&u.zoom,signals:(u,l,f)=>{let g=l.name,v=Wm.defined(l),D=g+uE,{x:O,y:$}=l.project.hasChannel,re=e.stringValue(u.scaleName(Pn)),Se=e.stringValue(u.scaleName(ar)),Ie=e.parseSelector(l.zoom,"scope");return v||(Ie=Ie.map(Nt=>(Nt.markname=g+Uy,Nt))),f.push({name:g+Lf,on:[{events:Ie,update:v?"{"+[re?"x: invert(".concat(re,", x(unit))"):"",Se?"y: invert(".concat(Se,", y(unit))"):""].filter(Nt=>!!Nt).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:D,on:[{events:Ie,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),O!==void 0&&KN(u,l,O,"width",f),$!==void 0&&KN(u,l,$,"height",f),f}};function KN(u,l,f,g,v){var D,O;let $=l.name,re=f.channel,Se=Wm.defined(l),Ie=v.filter(ni=>ni.name===f.signals[Se?"data":"visual"])[0],Nt=u.getSizeSignalRef(g).signal,rn=u.getScaleComponent(re),_n=rn.get("type"),Xn=Se?a9(u,re):Ie.name,cr=$+uE,er="".concat($).concat(Lf,".").concat(re),Rr=Se?_n==="log"?"zoomLog":_n==="symlog"?"zoomSymlog":_n==="pow"?"zoomPow":"zoomLinear":"zoomLinear",Mr=Se?_n==="pow"?", ".concat((D=rn.get("exponent"))!==null&&D!==void 0?D:1):_n==="symlog"?", ".concat((O=rn.get("constant"))!==null&&O!==void 0?O:1):"":"",Ii="".concat(Rr,"(").concat(Xn,", ").concat(er,", ").concat(cr).concat(Mr,")");Ie.on.push({events:{signal:cr},update:Se?Ii:"clampRange(".concat(Ii,", 0, ").concat(Nt,")")})}let Hx="_store",Gm="_tuple",h9="_modify",JN="vlSelectionResolve",$y=[RW,OW,DW,d9,oE,Wm,QN,WW,GW,YW,WN];function KW(u){let l=u.parent;for(;l&&!V1(l);)l=l.parent;return l}function Vy(u){let{escape:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{escape:!0},f=l?e.stringValue(u.name):u.name,g=KW(u);if(g){let{facet:v}=g;for(let D of ee)v[D]&&(f+=" + '__facet_".concat(D,"_' + (facet[").concat(e.stringValue(g.vgField(D)),"])"))}return f}function p9(u){var l;return vt((l=u.component.selection)!==null&&l!==void 0?l:{}).reduce((f,g)=>f||g.project.items.some(v=>v.field===F4),!1)}function XN(u,l){(e.isString(l.select)||!l.select.on)&&delete u.events,(e.isString(l.select)||!l.select.clear)&&delete u.clear,(e.isString(l.select)||!l.select.toggle)&&delete u.toggle}function lE(u){let l=[];return u.type==="Identifier"?[u.name]:u.type==="Literal"?[u.value]:(u.type==="MemberExpression"&&(l.push(...lE(u.object)),l.push(...lE(u.property))),l)}function ZN(u){return u.object.type==="MemberExpression"?ZN(u.object):u.object.name==="datum"}function eL(u){let l=e.parseExpression(u),f=new Set;return l.visit(g=>{g.type==="MemberExpression"&&ZN(g)&&f.add(lE(g).slice(1).join("."))}),f}class Wy extends ba{clone(){return new Wy(null,this.model,ye(this.filter))}constructor(l,f,g){super(l);this.model=f,this.filter=g,vn(this,"expr",void 0),vn(this,"_dependentFields",void 0),this.expr=fE(this.model,this.filter,this),this._dependentFields=eL(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}function m9(u,l){let f={},g=u.config.selection;if(!l||!l.length)return f;for(let D of l){let O=Vt(D.name),$=D.select,re=e.isString($)?$:$.type,Se=e.isObject($)?ye($):{type:re},Ie=g[re];for(let rn in Ie)if(!(rn==="fields"||rn==="encodings")&&(rn==="mark"&&(Se[rn]={...Ie[rn],...Se[rn]}),Se[rn]===void 0||Se[rn]===!0)){var v;Se[rn]=(v=Ie[rn])!==null&&v!==void 0?v:Se[rn]}let Nt=f[O]={...Se,name:O,type:re,init:D.value,bind:D.bind,events:e.isString(Se.on)?e.parseSelector(Se.on,"scope"):e.array(ye(Se.on))};for(let rn of $y)rn.defined(Nt)&&rn.parse&&rn.parse(u,Nt,D)}return f}function cE(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"datum",v=e.isString(l)?l:l.param,D=Vt(v),O=e.stringValue(D+Hx),$;try{$=u.getSelectionComponent(D,v)}catch{return"!!".concat(D)}if($.project.timeUnit){let Ie=f??u.component.data.raw,Nt=$.project.timeUnit.clone();Ie.parent?Nt.insertAsParentOf(Ie):Ie.parent=Nt}let re="vlSelectionTest(".concat(O,", ").concat(g).concat($.resolve==="global"?")":", ".concat(e.stringValue($.resolve),")")),Se="length(data(".concat(O,"))");return l.empty===!1?"".concat(Se," && ").concat(re):"!".concat(Se," || ").concat(re)}function tL(u,l,f){let g=Vt(l),v=f.encoding,D=f.field,O;try{O=u.getSelectionComponent(g,l)}catch{return g}if(!v&&!D)D=O.project.items[0].field,O.project.items.length>1&&qr('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(e.stringValue(D),"."));else if(v&&!D){let $=O.project.items.filter(re=>re.channel===v);!$.length||$.length>1?(D=O.project.items[0].field,qr(($.length?"Multiple ":"No ")+"matching ".concat(e.stringValue(v)," encoding found for selection ").concat(e.stringValue(f.param),". ")+'Using "field": '.concat(e.stringValue(D),"."))):D=$[0].field}return"".concat(O.name,"[").concat(e.stringValue(pn(D)),"]")}function JW(u,l){for(let[g,v]of $t((f=u.component.selection)!==null&&f!==void 0?f:{})){var f;let D=u.getName("lookup_".concat(g));u.component.data.outputNodes[D]=v.materialized=new Nf(new Wy(l,u,{param:g}),D,Pa.Lookup,u.component.data.outputNodeRefCounts)}}function fE(u,l,f){return tn(l,g=>e.isString(g)?g:il(g)?cE(u,g,f):Ru(g))}function XW(u,l){if(!!u)return e.isArray(u)&&!Kn(u)?u.map(f=>Mb(f,l)).join(", "):u}function x9(u,l,f,g){var v,D,O,$,re;(v=u.encode)!==null&&v!==void 0||(u.encode={}),(O=(D=u.encode)[l])!==null&&O!==void 0||(D[l]={}),(re=($=u.encode[l]).update)!==null&&re!==void 0||($.update={}),u.encode[l].update[f]=g}function P4(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{header:!1},{disable:v,orient:D,scale:O,labelExpr:$,title:re,zindex:Se,...Ie}=u.combine();if(!v){for(let _n in Ie){let Xn=EV[_n],cr=Ie[_n];if(Xn&&Xn!==l&&Xn!=="both")delete Ie[_n];else if(C4(cr)){let{condition:er,...Rr}=cr,Mr=e.array(er),Ii=LR[_n];if(Ii){let{vgProp:ni,part:fi}=Ii,xs=[...Mr.map(ss=>{let{test:ko,...Zs}=ss;return{test:fE(null,ko),...Zs}}),Rr];x9(Ie,fi,ni,xs),delete Ie[_n]}else if(Ii===null){let ni={signal:Mr.map(fi=>{let{test:xs,...ss}=fi;return"".concat(fE(null,xs)," ? ").concat(bi(ss)," : ")}).join("")+bi(Rr)};Ie[_n]=ni}}else if(Un(cr)){let er=LR[_n];if(er){let{vgProp:Rr,part:Mr}=er;x9(Ie,Mr,Rr,cr),delete Ie[_n]}}wt(["labelAlign","labelBaseline"],_n)&&Ie[_n]===null&&delete Ie[_n]}if(l==="grid"){if(!Ie.grid)return;if(Ie.encode){let{grid:_n}=Ie.encode;Ie.encode={..._n?{grid:_n}:{}},Ze(Ie.encode)&&delete Ie.encode}return{scale:O,orient:D,...Ie,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Ne(Se,0)}}else{if(!g.header&&u.mainExtracted)return;if($!==void 0){var Nt,rn;let Xn=$;(Nt=Ie.encode)!==null&&Nt!==void 0&&(rn=Nt.labels)!==null&&rn!==void 0&&rn.update&&Un(Ie.encode.labels.update.text)&&(Xn=qn($,"datum.label",Ie.encode.labels.update.text.signal)),x9(Ie,"labels","text",{signal:Xn})}if(Ie.labelAlign===null&&delete Ie.labelAlign,Ie.encode){for(let Xn of kR)u.hasAxisPart(Xn)||delete Ie.encode[Xn];Ze(Ie.encode)&&delete Ie.encode}let _n=XW(re,f);return{scale:O,orient:D,grid:!1,..._n?{title:_n}:{},...Ie,...f.aria===!1?{aria:!1}:{},zindex:Ne(Se,0)}}}}function nL(u){let{axes:l}=u.component,f=[];for(let g of ro)if(l[g]){for(let v of l[g])if(!v.get("disable")&&!v.get("gridScale")){let D=g==="x"?"height":"width",O=u.getSizeSignalRef(D).signal;D!==O&&f.push({name:D,update:O})}}return f}function ZW(u,l){let{x:f=[],y:g=[]}=u;return[...f.map(v=>P4(v,"grid",l)),...g.map(v=>P4(v,"grid",l)),...f.map(v=>P4(v,"main",l)),...g.map(v=>P4(v,"main",l))].filter(v=>v)}function rL(u,l,f,g){return Object.assign.apply(null,[{},...u.map(v=>{if(v==="axisOrient"){let D=f==="x"?"bottom":"left",O=l[f==="x"?"axisBottom":"axisLeft"]||{},$=l[f==="x"?"axisTop":"axisRight"]||{},re=new Set([...Le(O),...Le($)]),Se={};for(let Ie of re.values())Se[Ie]={signal:"".concat(g.signal,' === "').concat(D,'" ? ').concat(_i(O[Ie])," : ").concat(_i($[Ie]))};return Se}return l[v]})])}function eQ(u,l,f,g){let v=l==="band"?["axisDiscrete","axisBand"]:l==="point"?["axisDiscrete","axisPoint"]:Js(l)?["axisQuantitative"]:l==="time"||l==="utc"?["axisTemporal"]:[],D=u==="x"?"axisX":"axisY",O=Un(f)?"axisOrient":"axis".concat(En(f)),$=[...v,...v.map(Se=>D+Se.substr(4))],re=["axis",O,D];return{vlOnlyAxisConfig:rL($,g,u,f),vgAxisConfig:rL(re,g,u,f),axisConfigStyle:tQ([...re,...$],g)}}function tQ(u,l){let f=[{}];for(let v of u){var g;let D=(g=l[v])===null||g===void 0?void 0:g.style;if(D){D=e.array(D);for(let O of D)f.push(l.style[O])}}return Object.assign.apply(null,f)}function g9(u,l,f){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=xa(u,f,l);if(v!==void 0)return{configFrom:"style",configValue:v};for(let O of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var D;if(((D=g[O])===null||D===void 0?void 0:D[u])!==void 0)return{configFrom:O,configValue:g[O][u]}}return{}}let iL={scale:u=>{let{model:l,channel:f}=u;return l.scaleName(f)},format:u=>{let{fieldOrDatumDef:l,config:f,axis:g}=u,{format:v,formatType:D}=g;return Yr(l,l.type,v,D,f,!0)},formatType:u=>{let{axis:l,fieldOrDatumDef:f,scaleType:g}=u,{formatType:v}=l;return Ki(v,f,g)},grid:u=>{var l;let{fieldOrDatumDef:f,axis:g,scaleType:v}=u;return(l=g.grid)!==null&&l!==void 0?l:nQ(v,f)},gridScale:u=>{let{model:l,channel:f}=u;return rQ(l,f)},labelAlign:u=>{let{axis:l,labelAngle:f,orient:g,channel:v}=u;return l.labelAlign||oL(f,g,v)},labelAngle:u=>{let{labelAngle:l}=u;return l},labelBaseline:u=>{let{axis:l,labelAngle:f,orient:g,channel:v}=u;return l.labelBaseline||sL(f,g,v)},labelFlush:u=>{var l;let{axis:f,fieldOrDatumDef:g,channel:v}=u;return(l=f.labelFlush)!==null&&l!==void 0?l:sQ(g.type,v)},labelOverlap:u=>{var l;let{axis:f,fieldOrDatumDef:g,scaleType:v}=u;return(l=f.labelOverlap)!==null&&l!==void 0?l:oQ(g.type,v,Dr(g)&&!!g.timeUnit,Dr(g)?g.sort:void 0)},orient:u=>{let{orient:l}=u;return l},tickCount:u=>{var l;let{channel:f,model:g,axis:v,fieldOrDatumDef:D,scaleType:O}=u,$=f==="x"?"width":f==="y"?"height":void 0,re=$?g.getSizeSignalRef($):void 0;return(l=v.tickCount)!==null&&l!==void 0?l:b({fieldOrDatumDef:D,scaleType:O,size:re,values:v.values})},title:u=>{let{axis:l,model:f,channel:g}=u;if(l.title!==void 0)return l.title;let v=q(f,g);if(v!==void 0)return v;let D=f.typedFieldDef(g),O=g==="x"?"x2":"y2",$=f.fieldDef(O);return As(D?[Ly(D)]:[],Dr($)?[Ly($)]:[])},values:u=>{let{axis:l,fieldOrDatumDef:f}=u;return he(l,f)},zindex:u=>{var l;let{axis:f,fieldOrDatumDef:g,mark:v}=u;return(l=f.zindex)!==null&&l!==void 0?l:dt(v,g)}};function nQ(u,l){return!Be(u)&&Dr(l)&&!pr(l==null?void 0:l.bin)&&!as(l==null?void 0:l.bin)}function rQ(u,l){let f=l==="x"?"y":"x";if(u.getScaleComponent(f))return u.scaleName(f)}function iQ(u,l,f,g,v){let D=l==null?void 0:l.labelAngle;if(D!==void 0)return Un(D)?D:nn(D);{let{configValue:O}=g9("labelAngle",g,l==null?void 0:l.style,v);return O!==void 0?nn(O):f===Pn&&wt([Ul,X0],u.type)&&!(Dr(u)&&u.timeUnit)?270:void 0}}function y9(u){return"(((".concat(u.signal," % 360) + 360) % 360)")}function sL(u,l,f,g){if(u!==void 0)if(f==="x"){if(Un(u)){let v=y9(u),D=Un(l)?"(".concat(l.signal,' === "top")'):l==="top";return{signal:"(45 < ".concat(v," && ").concat(v," < 135) || (225 < ").concat(v," && ").concat(v,' < 315) ? "middle" :')+"(".concat(v," <= 45 || 315 <= ").concat(v,") === ").concat(D,' ? "bottom" : "top"')}}if(45<u&&u<135||225<u&&u<315)return"middle";if(Un(l)){let v=u<=45||315<=u?"===":"!==";return{signal:"".concat(l.signal," ").concat(v,' "top" ? "bottom" : "top"')}}return(u<=45||315<=u)==(l==="top")?"bottom":"top"}else{if(Un(u)){let v=y9(u),D=Un(l)?"(".concat(l.signal,' === "left")'):l==="left",O=g?'"middle"':"null";return{signal:"".concat(v," <= 45 || 315 <= ").concat(v," || (135 <= ").concat(v," && ").concat(v," <= 225) ? ").concat(O," : (45 <= ").concat(v," && ").concat(v," <= 135) === ").concat(D,' ? "top" : "bottom"')}}if(u<=45||315<=u||135<=u&&u<=225)return g?"middle":null;if(Un(l)){let v=45<=u&&u<=135?"===":"!==";return{signal:"".concat(l.signal," ").concat(v,' "left" ? "top" : "bottom"')}}return(45<=u&&u<=135)==(l==="left")?"top":"bottom"}}function oL(u,l,f){if(u===void 0)return;let g=f==="x",v=g?0:90,D=g?"bottom":"left";if(Un(u)){let O=y9(u),$=Un(l)?"(".concat(l.signal,' === "').concat(D,'")'):l===D;return{signal:"(".concat(v?"(".concat(O," + 90)"):O," % 180 === 0) ? ").concat(g?null:'"center"'," :")+"(".concat(v," < ").concat(O," && ").concat(O," < ").concat(180+v,") === ").concat($,' ? "left" : "right"')}}if((u+v)%180===0)return g?null:"center";if(Un(l)){let O=v<u&&u<180+v?"===":"!==",$="".concat(l.signal," ").concat(O,' "').concat(D,'"');return{signal:"".concat($,' ? "left" : "right"')}}return(v<u&&u<180+v)==(l===D)?"left":"right"}function sQ(u,l){if(l==="x"&&wt(["quantitative","temporal"],u))return!0}function oQ(u,l,f,g){if(f&&!e.isObject(g)||u!=="nominal"&&u!=="ordinal")return l==="log"||l==="symlog"?"greedy":!0}function h(u){return u==="x"?"bottom":"left"}function b(u){let{fieldOrDatumDef:l,scaleType:f,size:g,values:v}=u;if(!v&&!Be(f)&&f!=="log"){if(Dr(l)){var D;if(pr(l.bin))return{signal:"ceil(".concat(g.signal,"/10)")};if(l.timeUnit&&wt(["month","hours","day","quarter"],(D=Ou(l.timeUnit))===null||D===void 0?void 0:D.unit))return}return{signal:"ceil(".concat(g.signal,"/40)")}}}function q(u,l){let f=l==="x"?"x2":"y2",g=u.fieldDef(l),v=u.fieldDef(f),D=g?g.title:void 0,O=v?v.title:void 0;if(D&&O)return Zt(D,O);if(D)return D;if(O)return O;if(D!==void 0)return D;if(O!==void 0)return O}function he(u,l){let f=u.values;if(e.isArray(f))return NR(l,f);if(Un(f))return f}function dt(u,l){return u==="rect"&&Iy(l)?1:0}class Ht extends ba{clone(){return new Ht(null,ye(this.transform))}constructor(l,f){super(l);this.transform=f,vn(this,"_dependentFields",void 0),this._dependentFields=eL(this.transform.calculate)}static parseAllForSortIndex(l,f){return f.forEachFieldDef((g,v)=>{if(!!qx(g)&&sc(g.sort)){let{field:D,timeUnit:O}=g,$=g.sort,re=$.map((Se,Ie)=>"".concat(Ru({field:D,timeUnit:O,equal:Se})," ? ").concat(Ie," : ")).join("")+$.length;l=new Ht(l,{calculate:re,as:gn(g,v,{forAs:!0})})}}),l}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(ut(this.transform))}}function gn(u,l,f){return pi(u,{prefix:l,suffix:"sort_index",...f??{}})}function Rn(u,l){return wt(["top","bottom"],l)?"column":wt(["left","right"],l)||u==="row"?"row":"column"}function Wn(u,l,f,g){let v=g==="row"?f.headerRow:g==="column"?f.headerColumn:f.headerFacet;return Ne((l||{})[u],v[u],f.header[u])}function Er(u,l,f,g){let v={};for(let D of u){let O=Wn(D,l||{},f,g);O!==void 0&&(v[D]=O)}return v}let Ar=["row","column"],Br=["header","footer"];function Ti(u,l){let f=u.component.layoutHeaders[l].title,g=u.config?u.config:void 0,v=u.component.layoutHeaders[l].facetFieldDef?u.component.layoutHeaders[l].facetFieldDef:void 0,{titleAnchor:D,titleAngle:O,titleOrient:$}=Er(["titleAnchor","titleAngle","titleOrient"],v.header,g,l),re=Rn(l,$),Se=nn(O);return{name:"".concat(l,"-title"),type:"group",role:"".concat(re,"-title"),title:{text:f,...l==="row"?{orient:"left"}:{},style:"guide-title",...ys(Se,re),...Ji(re,Se,D),...ju(g,v,l,UV,YR)}}}function Ji(u,l){switch(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"middle"){case"start":return{align:"left"};case"end":return{align:"right"}}let g=oL(l,u==="row"?"left":"top",u==="row"?"y":"x");return g?{align:g}:{}}function ys(u,l){let f=sL(u,l==="row"?"left":"top",l==="row"?"y":"x",!0);return f?{baseline:f}:{}}function xo(u,l){let f=u.component.layoutHeaders[l],g=[];for(let v of Br)if(f[v])for(let D of f[v]){let O=Mo(u,l,v,f,D);O!=null&&g.push(O)}return g}function Es(u,l){let{sort:f}=u;if(_a(f)){var g;return{field:pi(f,{expr:"datum"}),order:(g=f.order)!==null&&g!==void 0?g:"ascending"}}else return e.isArray(f)?{field:gn(u,l,{expr:"datum"}),order:"ascending"}:{field:pi(u,{expr:"datum"}),order:f??"ascending"}}function wo(u,l,f){let{format:g,formatType:v,labelAngle:D,labelAnchor:O,labelOrient:$,labelExpr:re}=Er(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],u.header,f,l),Se=fs({fieldOrDatumDef:u,format:g,formatType:v,expr:"parent",config:f}).signal,Ie=Rn(l,$);return{text:{signal:re?qn(qn(re,"datum.label",Se),"datum.value",pi(u,{expr:"parent"})):Se},...l==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...ys(D,Ie),...Ji(Ie,D,O),...ju(f,u,l,zV,KR)}}function Mo(u,l,f,g,v){if(v){let D=null,{facetFieldDef:O}=g,$=u.config?u.config:void 0;if(O&&v.labels){let{labelOrient:Nt}=Er(["labelOrient"],O.header,$,l);(l==="row"&&!wt(["top","bottom"],Nt)||l==="column"&&!wt(["left","right"],Nt))&&(D=wo(O,l,$))}let re=V1(u)&&!Ud(u.facet),Se=v.axes,Ie=(Se==null?void 0:Se.length)>0;if(D||Ie){let Nt=l==="row"?"height":"width";return{name:u.getName("".concat(l,"_").concat(f)),type:"group",role:"".concat(l,"-").concat(f),...g.facetFieldDef?{from:{data:u.getName("".concat(l,"_domain"))},sort:Es(O,l)}:{},...Ie&&re?{from:{data:u.getName("facet_domain_".concat(l))}}:{},...D?{title:D}:{},...v.sizeSignal?{encode:{update:{[Nt]:v.sizeSignal}}}:{},...Ie?{axes:Se}:{}}}}return null}let rd={column:{start:0,end:1},row:{start:1,end:0}};function kf(u,l){return rd[l][u]}function id(u,l){let f={};for(let g of ee){let v=u[g];if(v!=null&&v.facetFieldDef){let{titleAnchor:D,titleOrient:O}=Er(["titleAnchor","titleOrient"],v.facetFieldDef.header,l,g),$=Rn(g,O),re=kf(D,$);re!==void 0&&(f[$]=re)}}return Ze(f)?void 0:f}function ju(u,l,f,g,v){let D={};for(let O of g){if(!v[O])continue;let $=Wn(O,l==null?void 0:l.header,u,f);$!==void 0&&(D[v[O]]=$)}return D}function sd(u){return[...Wd(u,"width"),...Wd(u,"height"),...Wd(u,"childWidth"),...Wd(u,"childHeight")]}function Wd(u,l){let f=l==="width"?"x":"y",g=u.component.layoutSize.get(l);if(!g||g==="merged")return[];let v=u.getSizeSignalRef(l).signal;if(g==="step"){let D=u.getScaleComponent(f);if(D){let O=D.get("type"),$=D.get("range");if(Be(O)&&br($)){let re=u.scaleName(f);return V1(u.parent)&&u.parent.component.resolve.scale[f]==="independent"?[v9(re,$)]:[v9(re,$),{name:v,update:Sle(re,D,"domain('".concat(re,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}else if(g=="container"){let D=v.endsWith("width"),O=D?"containerSize()[0]":"containerSize()[1]",$=JC(u.config.view,D?"width":"height"),re="isFinite(".concat(O,") ? ").concat(O," : ").concat($);return[{name:v,init:re,on:[{update:re,events:"window:resize"}]}]}else return[{name:v,value:g}]}function v9(u,l){let f="".concat(u,"_step");return Un(l.step)?{name:f,update:l.step.signal}:{name:f,value:l.step}}function Sle(u,l,f){let g=l.get("type"),v=l.get("padding"),D=Ne(l.get("paddingOuter"),v),O=l.get("paddingInner");return O=g==="band"?O!==void 0?O:v:1,"bandspace(".concat(f,", ").concat(_i(O),", ").concat(_i(D),") * ").concat(u,"_step")}function wle(u){return u==="childWidth"?"width":u==="childHeight"?"height":u}function Cle(u,l){return Le(u).reduce((f,g)=>{let v=u[g];return{...f,...zy(l,v,g,D=>Ur(D.value))}},{})}function Ale(u,l){if(V1(l))return u==="theta"?"independent":"shared";if(pE(l))return"shared";if(bQ(l))return hs(u)||u==="theta"||u==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function aQ(u,l){let f=u.scale[l],g=hs(l)?"axis":"legend";return f==="independent"?(u[g][l]==="shared"&&qr(Mi(l)),"independent"):u[g][l]||"shared"}let GLe={...VV,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},Tle=Le(GLe);class YLe extends pp{}let Fle={symbols:KLe,gradient:JLe,labels:XLe,entries:ZLe};function KLe(u,l){var f,g,v,D;let{fieldOrDatumDef:O,model:$,channel:re,legendCmpt:Se,legendType:Ie}=l;if(Ie!=="symbol")return;let{markDef:Nt,encoding:rn,config:_n,mark:Xn}=$,cr=Nt.filled&&Xn!=="trail",er={...os({},$,td),...jN($,{filled:cr})},Rr=(f=Se.get("symbolOpacity"))!==null&&f!==void 0?f:_n.legend.symbolOpacity,Mr=(g=Se.get("symbolFillColor"))!==null&&g!==void 0?g:_n.legend.symbolFillColor,Ii=(v=Se.get("symbolStrokeColor"))!==null&&v!==void 0?v:_n.legend.symbolStrokeColor,ni=Rr===void 0?(D=Dle(rn.opacity))!==null&&D!==void 0?D:Nt.opacity:void 0;if(er.fill){if(re==="fill"||cr&&re===ht)delete er.fill;else if(er.fill.field)if(Mr)delete er.fill;else{var fi;er.fill=Ur((fi=_n.legend.symbolBaseFillColor)!==null&&fi!==void 0?fi:"black"),er.fillOpacity=Ur(ni??1)}else if(e.isArray(er.fill)){var xs,ss,ko;let Zs=(xs=(ss=uQ((ko=rn.fill)!==null&&ko!==void 0?ko:rn.color))!==null&&ss!==void 0?ss:Nt.fill)!==null&&xs!==void 0?xs:cr&&Nt.color;Zs&&(er.fill=Ur(Zs))}}if(er.stroke){if(re==="stroke"||!cr&&re===ht)delete er.stroke;else if(er.stroke.field||Ii)delete er.stroke;else if(e.isArray(er.stroke)){let Zs=Ne(uQ(rn.stroke||rn.color),Nt.stroke,cr?Nt.color:void 0);Zs&&(er.stroke={value:Zs})}}if(re!==nt){let Zs=Dr(O)&&Rle($,Se,O);Zs?er.opacity=[{test:Zs,...Ur(ni??1)},Ur(_n.legend.unselectedOpacity)]:ni&&(er.opacity=Ur(ni))}return er={...er,...u},Ze(er)?void 0:er}function JLe(u,l){var f;let{model:g,legendType:v,legendCmpt:D}=l;if(v!=="gradient")return;let{config:O,markDef:$,encoding:re}=g,Se={},Nt=((f=D.get("gradientOpacity"))!==null&&f!==void 0?f:O.legend.gradientOpacity)===void 0?Dle(re.opacity)||$.opacity:void 0;return Nt&&(Se.opacity=Ur(Nt)),Se={...Se,...u},Ze(Se)?void 0:Se}function XLe(u,l){let{fieldOrDatumDef:f,model:g,channel:v,legendCmpt:D}=l,O=g.legend(v)||{},$=g.config,re=Dr(f)?Rle(g,D,f):void 0,Se=re?[{test:re,value:1},{value:$.legend.unselectedOpacity}]:void 0,{format:Ie,formatType:Nt}=O,rn=wi(Nt)?Gs({fieldOrDatumDef:f,field:"datum.value",format:Ie,formatType:Nt,config:$}):void 0,_n={...Se?{opacity:Se}:{},...rn?{text:rn}:{},...u};return Ze(_n)?void 0:_n}function ZLe(u,l){let{legendCmpt:f}=l,g=f.get("selections");return g!=null&&g.length?{...u,fill:{value:"transparent"}}:u}function Dle(u){return Ole(u,(l,f)=>Math.max(l,f.value))}function uQ(u){return Ole(u,(l,f)=>Ne(l,f.value))}function Ole(u,l){if(of(u))return e.array(u.condition).reduce(l,u.value);if(Hd(u))return u.value}function Rle(u,l,f){let g=l.get("selections");if(!(g!=null&&g.length))return;let v=e.stringValue(f.field);return g.map(D=>{let O=e.stringValue(Vt(D)+Hx);return"(!length(data(".concat(O,")) || (").concat(D,"[").concat(v,"] && indexof(").concat(D,"[").concat(v,"], datum.value) >= 0))")}).join(" || ")}let Nle={direction:u=>{let{direction:l}=u;return l},format:u=>{let{fieldOrDatumDef:l,legend:f,config:g}=u,{format:v,formatType:D}=f;return Yr(l,l.type,v,D,g,!1)},formatType:u=>{let{legend:l,fieldOrDatumDef:f,scaleType:g}=u,{formatType:v}=l;return Ki(v,f,g)},gradientLength:u=>{var l,f;let{legend:g,legendConfig:v}=u;return(l=(f=g.gradientLength)!==null&&f!==void 0?f:v.gradientLength)!==null&&l!==void 0?l:oke(u)},labelOverlap:u=>{var l,f;let{legend:g,legendConfig:v,scaleType:D}=u;return(l=(f=g.labelOverlap)!==null&&f!==void 0?f:v.labelOverlap)!==null&&l!==void 0?l:ake(D)},symbolType:u=>{var l;let{legend:f,markDef:g,channel:v,encoding:D}=u;return(l=f.symbolType)!==null&&l!==void 0?l:tke(g.type,v,D.shape,g.shape)},title:u=>{let{fieldOrDatumDef:l,config:f}=u;return My(l,f,{allowDisabling:!0})},type:u=>{let{legendType:l,scaleType:f,channel:g}=u;if(S(g)&&An(f)){if(l==="gradient")return}else if(l==="symbol")return;return l},values:u=>{let{fieldOrDatumDef:l,legend:f}=u;return eke(f,l)}};function eke(u,l){let f=u.values;if(e.isArray(f))return NR(l,f);if(Un(f))return f}function tke(u,l,f,g){if(l!=="shape"){var v;let D=(v=uQ(f))!==null&&v!==void 0?v:g;if(D)return D}switch(u){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function nke(u){let{legend:l}=u;return Ne(l.type,rke(u))}function rke(u){let{channel:l,timeUnit:f,scaleType:g}=u;if(S(l)){if(wt(["quarter","month","day"],f))return"symbol";if(An(g))return"gradient"}return"symbol"}function ike(u){var l,f;let{legendConfig:g,legendType:v,orient:D,legend:O}=u;return(l=(f=O.direction)!==null&&f!==void 0?f:g[v?"gradientDirection":"symbolDirection"])!==null&&l!==void 0?l:ske(D,v)}function ske(u,l){switch(u){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return l==="gradient"?"horizontal":void 0}}function oke(u){let{legendConfig:l,model:f,direction:g,orient:v,scaleType:D}=u,{gradientHorizontalMaxLength:O,gradientHorizontalMinLength:$,gradientVerticalMaxLength:re,gradientVerticalMinLength:Se}=l;if(An(D))return g==="horizontal"?v==="top"||v==="bottom"?Lle(f,"width",$,O):$:Lle(f,"height",Se,re)}function Lle(u,l,f,g){let v=u.getSizeSignalRef(l).signal;return{signal:"clamp(".concat(v,", ").concat(f,", ").concat(g,")")}}function ake(u){if(wt(["quantile","threshold","log","symlog"],u))return"greedy"}function kle(u){let l=lc(u)?uke(u):dke(u);return u.component.legends=l,l}function uke(u){let{encoding:l}=u,f={};for(let g of[ht,...T4]){let v=xu(l[g]);!v||!u.getScaleComponent(g)||g===ne&&Dr(v)&&v.type===Nu||(f[g]=fke(u,g))}return f}function lke(u,l){let f=u.scaleName(l);if(u.mark==="trail"){if(l==="color")return{stroke:f};if(l==="size")return{strokeWidth:f}}return l==="color"?u.markDef.filled?{fill:f}:{stroke:f}:{[l]:f}}function cke(u,l,f,g){switch(l){case"disable":return f!==void 0;case"values":return!!(f!=null&&f.values);case"title":if(l==="title"&&u===(g==null?void 0:g.title))return!0}return u===(f||{})[l]}function fke(u,l){var f,g,v;let D=u.legend(l),{markDef:O,encoding:$,config:re}=u,Se=re.legend,Ie=new YLe({},lke(u,l));QW(u,l,Ie);let Nt=D!==void 0?!D:Se.disable;if(Ie.set("disable",Nt,D!==void 0),Nt)return Ie;D=D||{};let rn=u.getScaleComponent(l).get("type"),_n=xu($[l]),Xn=Dr(_n)?(f=Ou(_n.timeUnit))===null||f===void 0?void 0:f.unit:void 0,cr=D.orient||re.legend.orient||"right",er=nke({legend:D,channel:l,timeUnit:Xn,scaleType:rn}),Rr=ike({legend:D,legendType:er,orient:cr,legendConfig:Se}),Mr={legend:D,channel:l,model:u,markDef:O,encoding:$,fieldOrDatumDef:_n,legendConfig:Se,config:re,scaleType:rn,orient:cr,legendType:er,direction:Rr};for(let Zs of Tle){if(er==="gradient"&&Zs.startsWith("symbol")||er==="symbol"&&Zs.startsWith("gradient"))continue;let Va=Zs in Nle?Nle[Zs](Mr):D[Zs];if(Va!==void 0){let x0=cke(Va,Zs,D,u.fieldDef(l));(x0||re.legend[Zs]===void 0)&&Ie.set(Zs,Va,x0)}}let Ii=(g=(v=D)===null||v===void 0?void 0:v.encoding)!==null&&g!==void 0?g:{},ni=Ie.get("selections"),fi={},xs={fieldOrDatumDef:_n,model:u,channel:l,legendCmpt:Ie,legendType:er};for(let Zs of["labels","legend","title","symbols","gradient","entries"]){var ss;let Va=Cle((ss=Ii[Zs])!==null&&ss!==void 0?ss:{},u),x0=Zs in Fle?Fle[Zs](Va,xs):Va;x0!==void 0&&!Ze(x0)&&(fi[Zs]={...ni!=null&&ni.length&&Dr(_n)?{name:"".concat(Vt(_n.field),"_legend_").concat(Zs)}:{},...ni!=null&&ni.length?{interactive:!!ni}:{},update:x0})}if(!Ze(fi)){var ko;Ie.set("encode",fi,!!((ko=D)!==null&&ko!==void 0&&ko.encoding))}return Ie}function dke(u){let{legends:l,resolve:f}=u.component;for(let g of u.children){kle(g);for(let v of Le(g.component.legends))f.legend[v]=aQ(u.component.resolve,v),f.legend[v]==="shared"&&(l[v]=Ile(l[v],g.component.legends[v]),l[v]||(f.legend[v]="independent",delete l[v]))}for(let g of Le(l))for(let v of u.children)!v.component.legends[g]||f.legend[g]==="shared"&&delete v.component.legends[g];return l}function Ile(u,l){if(!u)return l.clone();let f=u.getWithExplicit("orient"),g=l.getWithExplicit("orient");if(f.explicit&&g.explicit&&f.value!==g.value)return;let v=!1;for(let Se of Tle){let Ie=$m(u.getWithExplicit(Se),l.getWithExplicit(Se),Se,"legend",(Nt,rn)=>{switch(Se){case"symbolType":return hke(Nt,rn);case"title":return Jn(Nt,rn);case"type":return v=!0,h0("symbol")}return Wo(Nt,rn,Se,"legend")});u.setWithExplicit(Se,Ie)}if(v){var D,O,$,re;(D=u.implicit)!==null&&D!==void 0&&(O=D.encode)!==null&&O!==void 0&&O.gradient&&en(u.implicit,["encode","gradient"]),($=u.explicit)!==null&&$!==void 0&&(re=$.encode)!==null&&re!==void 0&&re.gradient&&en(u.explicit,["encode","gradient"])}return u}function hke(u,l){return l.value==="circle"?l:u}function pke(u,l,f,g){var v,D,O,$,re;(v=u.encode)!==null&&v!==void 0||(u.encode={}),(O=(D=u.encode)[l])!==null&&O!==void 0||(D[l]={}),(re=($=u.encode[l]).update)!==null&&re!==void 0||($.update={}),u.encode[l].update[f]=g}function Mle(u){let l=u.component.legends,f={};for(let v of Le(l)){let D=u.getScaleComponent(v),O=Je(D.get("domains"));if(f[O])for(let $ of f[O])Ile($,l[v])||f[O].push(l[v]);else f[O]=[l[v].clone()]}return vt(f).flat().map(v=>mke(v,u.config)).filter(v=>v!==void 0)}function mke(u,l){var f;let{disable:g,labelExpr:v,selections:D,...O}=u.combine();if(!g){if(l.aria===!1&&O.aria==null&&(O.aria=!1),(f=O.encode)!==null&&f!==void 0&&f.symbols){let Se=O.encode.symbols.update;Se.fill&&Se.fill.value!=="transparent"&&!Se.stroke&&!O.stroke&&(Se.stroke={value:"transparent"});for(let Ie of T4)O[Ie]&&delete Se[Ie]}if(O.title||delete O.title,v!==void 0){var $,re;let Se=v;($=O.encode)!==null&&$!==void 0&&(re=$.labels)!==null&&re!==void 0&&re.update&&Un(O.encode.labels.update.text)&&(Se=qn(v,"datum.label",O.encode.labels.update.text.signal)),pke(O,"labels","text",{signal:Se})}return O}}function xke(u){return pE(u)||bQ(u)?gke(u):Ple(u)}function gke(u){return u.children.reduce((l,f)=>l.concat(f.assembleProjections()),Ple(u))}function Ple(u){let l=u.component.projection;if(!l||l.merged)return[];let f=l.combine(),{name:g}=f;if(l.data){let v={signal:"[".concat(l.size.map(O=>O.signal).join(", "),"]")},D=l.data.reduce((O,$)=>{let re=Un($)?$.signal:"data('".concat(u.lookupDataSource($),"')");return wt(O,re)||O.push(re),O},[]);if(D.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:g,size:v,fit:{signal:D.length>1?"[".concat(D.join(", "),"]"):D[0]},...f}]}else return[{name:g,translate:{signal:"[width / 2, height / 2]"},...f}]}let yke=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Ble extends pp{constructor(l,f,g,v){super({...f},{name:l});this.specifiedProjection=f,this.size=g,this.data=v,vn(this,"merged",!1)}get isFit(){return!!this.data}}function jle(u){u.component.projection=lc(u)?vke(u):Eke(u)}function vke(u){if(u.hasProjection){var l;let f=dn(u.specifiedProjection),g=!(f&&(f.scale!=null||f.translate!=null)),v=g?[u.getSizeSignalRef("width"),u.getSizeSignalRef("height")]:void 0,D=g?_ke(u):void 0,O=new Ble(u.projectionName(!0),{...(l=dn(u.config.projection))!==null&&l!==void 0?l:{},...f??{}},v,D);return O.get("type")||O.set("type","equalEarth",!1),O}}function _ke(u){let l=[],{encoding:f}=u;for(let g of[[ie,ct],[ze,Te]])(xu(f[g[0]])||xu(f[g[1]]))&&l.push({signal:u.getName("geojson_".concat(l.length))});return u.channelHasField(ne)&&u.typedFieldDef(ne).type===Nu&&l.push({signal:u.getName("geojson_".concat(l.length))}),l.length===0&&l.push(u.requestDataName(Pa.Main)),l}function bke(u,l){let f=Lt(yke,v=>!!(!e.hasOwnProperty(u.explicit,v)&&!e.hasOwnProperty(l.explicit,v)||e.hasOwnProperty(u.explicit,v)&&e.hasOwnProperty(l.explicit,v)&&Xe(u.get(v),l.get(v))));if(Xe(u.size,l.size)){if(f)return u;if(Xe(u.explicit,{}))return l;if(Xe(l.explicit,{}))return u}return null}function Eke(u){if(u.children.length===0)return;let l;for(let g of u.children)jle(g);let f=Lt(u.children,g=>{let v=g.component.projection;if(v)if(l){let D=bke(l,v);return D&&(l=D),!!D}else return l=v,!0;else return!0});if(l&&f){let g=u.projectionName(!0),v=new Ble(g,l.specifiedProjection,l.size,ye(l.data));for(let D of u.children){let O=D.component.projection;O&&(O.isFit&&v.data.push(...D.component.projection.data),D.renameProjection(O.get("name"),g),O.merged=!0)}return v}}function Ske(u,l,f,g){if(w4(l,f)){var v,D;let O=lc(u)?(v=(D=u.axis(f))!==null&&D!==void 0?D:u.legend(f))!==null&&v!==void 0?v:{}:{},$=pi(l,{expr:"datum"}),re=pi(l,{expr:"datum",binSuffix:"end"});return{formulaAs:pi(l,{binSuffix:"range",forAs:!0}),formula:Ma($,re,O.format,O.formatType,g)}}return{}}function qle(u,l){return"".concat(ls(u),"_").concat(l)}function wke(u,l){return{signal:u.getName("".concat(l,"_bins")),extentSignal:u.getName("".concat(l,"_extent"))}}function lQ(u,l,f){var g;let v=(g=S4(f,void 0))!==null&&g!==void 0?g:{},D=qle(v,l);return u.getName("".concat(D,"_bins"))}function Cke(u){return"as"in u}function Ule(u,l,f){let g,v;Cke(u)?g=e.isString(u.as)?[u.as,"".concat(u.as,"_end")]:[u.as[0],u.as[1]]:g=[pi(u,{forAs:!0}),pi(u,{binSuffix:"end",forAs:!0})];let D={...S4(l,void 0)},O=qle(D,u.field),{signal:$,extentSignal:re}=wke(f,O);if(pt(D.extent)){let Ie=D.extent;v=tL(f,Ie.param,Ie),delete D.extent}let Se={bin:D,field:u.field,as:[g],...$?{signal:$}:{},...re?{extentSignal:re}:{},...v?{span:v}:{}};return{key:O,binComponent:Se}}class Ym extends ba{clone(){return new Ym(null,ye(this.bins))}constructor(l,f){super(l);this.bins=f}static makeFromEncoding(l,f){let g=f.reduceFieldDef((v,D,O)=>{if(zd(D)&&pr(D.bin)){let{key:$,binComponent:re}=Ule(D,D.bin,f);v[$]={...re,...v[$],...Ske(f,D,O,f.config)}}return v},{});return Ze(g)?null:new Ym(l,g)}static makeFromTransform(l,f,g){let{key:v,binComponent:D}=Ule(f,f.bin,g);return new Ym(l,{[v]:D})}merge(l,f){for(let g of Le(l.bins))g in this.bins?(f(l.bins[g].signal,this.bins[g].signal),this.bins[g].as=it([...this.bins[g].as,...l.bins[g].as],ut)):this.bins[g]=l.bins[g];for(let g of l.children)l.removeChild(g),g.parent=this;l.remove()}producedFields(){return new Set(vt(this.bins).map(l=>l.as).flat(2))}dependentFields(){return new Set(vt(this.bins).map(l=>l.field))}hash(){return"Bin ".concat(ut(this.bins))}assemble(){return vt(this.bins).flatMap(l=>{let f=[],[g,...v]=l.as,{extent:D,...O}=l.bin,$={type:"bin",field:pn(l.field),as:g,signal:l.signal,...pt(D)?{extent:null}:{extent:D},...l.span?{span:{signal:"span(".concat(l.span,")")}}:{},...O};!D&&l.extentSignal&&(f.push({type:"extent",field:pn(l.field),signal:l.extentSignal}),$.extent={signal:l.extentSignal}),f.push($);for(let re of v)for(let Se=0;Se<2;Se++)f.push({type:"formula",expr:pi({field:g[Se]},{expr:"datum"}),as:re[Se]});return l.formula&&f.push({type:"formula",expr:l.formula,as:l.formulaAs}),f})}}function Ake(u,l,f,g){var v;let D=lc(g)?g.encoding[ws(l)]:void 0;if(zd(f)&&lc(g)&&Tr(f,D,g.markDef,g.config))u.add(pi(f,{})),u.add(pi(f,{suffix:"end"})),f.bin&&w4(f,l)&&u.add(pi(f,{binSuffix:"range"}));else if(Rt(l)){let O=Qe(l);u.add(g.getName(O))}else u.add(pi(f));return qx(f)&&Rc((v=f.scale)===null||v===void 0?void 0:v.range)&&u.add(f.scale.range.field),u}function Tke(u,l){for(let g of Le(l)){let v=l[g];for(let D of Le(v))if(g in u){var f;u[g][D]=new Set([...(f=u[g][D])!==null&&f!==void 0?f:[],...v[D]])}else u[g]={[D]:v[D]}}}class H1 extends ba{clone(){return new H1(null,new Set(this.dimensions),ye(this.measures))}constructor(l,f,g){super(l);this.dimensions=f,this.measures=g}get groupBy(){return this.dimensions}static makeFromEncoding(l,f){let g=!1;f.forEachFieldDef(O=>{O.aggregate&&(g=!0)});let v={},D=new Set;return!g||(f.forEachFieldDef((O,$)=>{let{aggregate:re,field:Se}=O;if(re)if(re==="count"){var Ie,Nt;(Nt=v[Ie="*"])!==null&&Nt!==void 0||(v[Ie]={}),v["*"].count=new Set([pi(O,{forAs:!0})])}else{if(aa(re)||ua(re)){var rn;let cr=aa(re)?"argmin":"argmax",er=re[cr];(rn=v[er])!==null&&rn!==void 0||(v[er]={}),v[er][cr]=new Set([pi({op:cr,field:er},{forAs:!0})])}else{var _n;(_n=v[Se])!==null&&_n!==void 0||(v[Se]={}),v[Se][re]=new Set([pi(O,{forAs:!0})])}if(Bi($)&&f.scaleDomain($)==="unaggregated"){var Xn;(Xn=v[Se])!==null&&Xn!==void 0||(v[Se]={}),v[Se].min=new Set([pi({field:Se,aggregate:"min"},{forAs:!0})]),v[Se].max=new Set([pi({field:Se,aggregate:"max"},{forAs:!0})])}}else Ake(D,$,O,f)}),D.size+Le(v).length===0)?null:new H1(l,D,v)}static makeFromTransform(l,f){let g=new Set,v={};for(let Se of f.aggregate){let{op:Ie,field:Nt,as:rn}=Se;if(Ie)if(Ie==="count"){var D,O;(O=v[D="*"])!==null&&O!==void 0||(v[D]={}),v["*"].count=new Set([rn||pi(Se,{forAs:!0})])}else{var $;($=v[Nt])!==null&&$!==void 0||(v[Nt]={}),v[Nt][Ie]=new Set([rn||pi(Se,{forAs:!0})])}}for(let Se of(re=f.groupby)!==null&&re!==void 0?re:[]){var re;g.add(Se)}return g.size+Le(v).length===0?null:new H1(l,g,v)}merge(l){return De(this.dimensions,l.dimensions)?(Tke(this.measures,l.measures),!0):(W0("different dimensions, cannot merge"),!1)}addDimensions(l){l.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Le(this.measures)])}producedFields(){let l=new Set;for(let f of Le(this.measures))for(let g of Le(this.measures[f])){let v=this.measures[f][g];v.size===0?l.add("".concat(g,"_").concat(f)):v.forEach(l.add,l)}return l}hash(){return"Aggregate ".concat(ut({dimensions:this.dimensions,measures:this.measures}))}assemble(){let l=[],f=[],g=[];for(let D of Le(this.measures))for(let O of Le(this.measures[D]))for(let $ of this.measures[D][O])g.push($),l.push(O),f.push(D==="*"?null:pn(D));return{type:"aggregate",groupby:[...this.dimensions].map(pn),ops:l,fields:f,as:g}}}class dE extends ba{constructor(l,f,g,v){super(l);this.model=f,this.name=g,this.data=v,vn(this,"column",void 0),vn(this,"row",void 0),vn(this,"facet",void 0),vn(this,"childModel",void 0);for(let D of ee){let O=f.facet[D];if(O){let{bin:$,sort:re}=O;this[D]={name:f.getName("".concat(D,"_domain")),fields:[pi(O),...pr($)?[pi(O,{binSuffix:"end"})]:[]],..._a(re)?{sortField:re}:e.isArray(re)?{sortIndexField:gn(O,D)}:{}}}}this.childModel=f.child}hash(){let l="Facet";for(let f of ee)this[f]&&(l+=" ".concat(f.charAt(0),":").concat(ut(this[f])));return l}get fields(){let l=[];for(let g of ee){var f;(f=this[g])!==null&&f!==void 0&&f.fields&&l.push(...this[g].fields)}return l}dependentFields(){let l=new Set(this.fields);for(let f of ee)this[f]&&(this[f].sortField&&l.add(this[f].sortField.field),this[f].sortIndexField&&l.add(this[f].sortIndexField));return l}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){let l={};for(let f of ro){let g=this.childModel.component.scales[f];if(g&&!g.merged){let v=g.get("type"),D=g.get("range");if(Be(v)&&br(D)){let O=lL(this.childModel,f),$=vQ(O);$?l[f]=$:qr(vr(f))}}}return l}assembleRowColumnHeaderData(l,f,g){let v={row:"y",column:"x",facet:void 0}[l],D=[],O=[],$=[];v&&g&&g[v]&&(f?(D.push("distinct_".concat(g[v])),O.push("max")):(D.push(g[v]),O.push("distinct")),$.push("distinct_".concat(g[v])));let{sortField:re,sortIndexField:Se}=this[l];if(re){let{op:Ie=wl,field:Nt}=re;D.push(Nt),O.push(Ie),$.push(pi(re,{forAs:!0}))}else Se&&(D.push(Se),O.push("max"),$.push(Se));return{name:this[l].name,source:f??this.data,transform:[{type:"aggregate",groupby:this[l].fields,...D.length?{fields:D,ops:O,as:$}:{}}]}}assembleFacetHeaderData(l){let{columns:f}=this.model.layout,{layoutHeaders:g}=this.model.component,v=[],D={};for(let Ie of Ar){for(let Nt of Br){var O;let rn=(O=g[Ie]&&g[Ie][Nt])!==null&&O!==void 0?O:[];for(let _n of rn){var $;if((($=_n.axes)===null||$===void 0?void 0:$.length)>0){D[Ie]=!0;break}}}if(D[Ie]){let Nt='length(data("'.concat(this.facet.name,'"))'),rn=Ie==="row"?f?{signal:"ceil(".concat(Nt," / ").concat(f,")")}:1:f?{signal:"min(".concat(Nt,", ").concat(f,")")}:{signal:Nt};v.push({name:"".concat(this.facet.name,"_").concat(Ie),transform:[{type:"sequence",start:0,stop:rn}]})}}let{row:re,column:Se}=D;return(re||Se)&&v.unshift(this.assembleRowColumnHeaderData("facet",null,l)),v}assemble(){let l=[],f=null,g=this.getChildIndependentFieldsWithStep(),{column:v,row:D,facet:O}=this;if(v&&D&&(g.x||g.y)){var $,re;f="cross_".concat(this.column.name,"_").concat(this.row.name);let Se=[].concat(($=g.x)!==null&&$!==void 0?$:[],(re=g.y)!==null&&re!==void 0?re:[]),Ie=Se.map(()=>"distinct");l.push({name:f,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Se,ops:Ie}]})}for(let Se of[Qn,Dn])this[Se]&&l.push(this.assembleRowColumnHeaderData(Se,f,g));if(O){let Se=this.assembleFacetHeaderData(g);Se&&l.push(...Se)}return l}}function zle(u){return u.startsWith("'")&&u.endsWith("'")||u.startsWith('"')&&u.endsWith('"')?u.slice(1,-1):u}function Fke(u,l){let f=Fn(u);if(l==="number")return"toNumber(".concat(f,")");if(l==="boolean")return"toBoolean(".concat(f,")");if(l==="string")return"toString(".concat(f,")");if(l==="date")return"toDate(".concat(f,")");if(l==="flatten")return f;if(l.startsWith("date:")){let g=zle(l.slice(5,l.length));return"timeParse(".concat(f,",'").concat(g,"')")}else if(l.startsWith("utc:")){let g=zle(l.slice(4,l.length));return"utcParse(".concat(f,",'").concat(g,"')")}else return qr(ml(l)),null}function Dke(u){let l={};return je(u.filter,f=>{if(J0(f)){let v=null;if(Oc(f))v=gi(f.equal);else if(Md(f))v=gi(f.lte);else if(bh(f))v=gi(f.lt);else if(nf(f))v=gi(f.gt);else if(Eh(f))v=gi(f.gte);else if(rp(f))v=f.range[0];else if(za(f)){var g;v=((g=f.oneOf)!==null&&g!==void 0?g:f.in)[0]}v&&(Q0(v)?l[f.field]="date":e.isNumber(v)?l[f.field]="number":e.isString(v)&&(l[f.field]="string")),f.timeUnit&&(l[f.field]="date")}}),l}function Oke(u){let l={};function f(g){By(g)?l[g.field]="date":g.type==="quantitative"&&el(g.aggregate)?l[g.field]="number":In(g.field)>1?g.field in l||(l[g.field]="flatten"):qx(g)&&_a(g.sort)&&In(g.sort.field)>1&&(g.sort.field in l||(l[g.sort.field]="flatten"))}if((lc(u)||V1(u))&&u.forEachFieldDef((g,v)=>{if(zd(g))f(g);else{let D=li(v),O=u.fieldDef(D);f({...g,type:O.type})}}),lc(u)){let{mark:g,markDef:v,encoding:D}=u;if(sf(g)&&!u.encoding.order){let O=v.orient==="horizontal"?"y":"x",$=D[O];Dr($)&&$.type==="quantitative"&&!($.field in l)&&(l[$.field]="number")}}return l}function Rke(u){let l={};if(lc(u)&&u.component.selection)for(let f of Le(u.component.selection)){let g=u.component.selection[f];for(let v of g.project.items)!v.channel&&In(v.field)>1&&(l[v.field]="flatten")}return l}class m0 extends ba{clone(){return new m0(null,ye(this._parse))}constructor(l,f){super(l);vn(this,"_parse",void 0),this._parse=f}hash(){return"Parse ".concat(ut(this._parse))}static makeExplicit(l,f,g){var v;let D={},O=f.data;return!Vm(O)&&O!==null&&O!==void 0&&(v=O.format)!==null&&v!==void 0&&v.parse&&(D=O.format.parse),this.makeWithAncestors(l,D,{},g)}static makeWithAncestors(l,f,g,v){for(let $ of Le(g)){let re=v.getWithExplicit($);re.value!==void 0&&(re.explicit||re.value===g[$]||re.value==="derived"||g[$]==="flatten"?delete g[$]:qr(Ac($,g[$],re.value)))}for(let $ of Le(f)){let re=v.get($);re!==void 0&&(re===f[$]?delete f[$]:qr(Ac($,f[$],re)))}let D=new pp(f,g);v.copyAll(D);let O={};for(let $ of Le(D.combine())){let re=D.get($);re!==null&&(O[$]=re)}return Le(O).length===0||v.parseNothing?null:new m0(l,O)}get parse(){return this._parse}merge(l){this._parse={...this._parse,...l.parse},l.remove()}assembleFormatParse(){let l={};for(let f of Le(this._parse)){let g=this._parse[f];In(f)===1&&(l[f]=g)}return l}producedFields(){return new Set(Le(this._parse))}dependentFields(){return new Set(Le(this._parse))}assembleTransforms(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Le(this._parse).filter(f=>l?In(f)>1:!0).map(f=>{let g=Fke(f,this._parse[f]);return g?{type:"formula",expr:g,as:or(f)}:null}).filter(f=>f!==null)}}class Qy extends ba{clone(){return new Qy(null)}constructor(l){super(l)}dependentFields(){return new Set}producedFields(){return new Set([F4])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:F4}}}class _9 extends ba{clone(){return new _9(null,this.params)}constructor(l,f){super(l);this.params=f}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(ut(this.params))}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class b9 extends ba{clone(){return new b9(null,this.params)}constructor(l,f){super(l);this.params=f}dependentFields(){return new Set}producedFields(){var l;return new Set([(l=this.params.as)!==null&&l!==void 0?l:"data"])}hash(){return"Hash ".concat(ut(this.params))}assemble(){return{type:"sequence",...this.params}}}class B4 extends ba{constructor(l){var f;super(null);vn(this,"_data",void 0),vn(this,"_name",void 0),vn(this,"_generator",void 0),(f=l)!==null&&f!==void 0||(l={name:"source"});let g;if(Vm(l)||(g=l.format?{...xe(l.format,["parse"])}:{}),R4(l))this._data={values:l.values};else if(z1(l)){if(this._data={url:l.url},!g.type){let v=/(?:\.([^.]+))?$/.exec(l.url)[1];wt(["json","csv","tsv","dsv","topojson"],v)||(v="json"),g.type=v}}else NN(l)?this._data={values:[{type:"Sphere"}]}:(ON(l)||Vm(l))&&(this._data={});this._generator=Vm(l),l.name&&(this._name=l.name),g&&!Ze(g)&&(this._data.format=g)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(l){this._name=l}set parent(l){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function cQ(u){return u instanceof B4||u instanceof _9||u instanceof b9}var aL=new WeakMap;class fQ{constructor(){pu(this,aL,{writable:!0,value:void 0}),Oi(this,aL,!1)}setModified(){Oi(this,aL,!0)}get modifiedFlag(){return Kr(this,aL)}}class j4 extends fQ{getNodeDepths(l,f,g){g.set(l,f);for(let v of l.children)this.getNodeDepths(v,f+1,g);return g}optimize(l){let g=[...this.getNodeDepths(l,0,new Map).entries()].sort((v,D)=>D[1]-v[1]);for(let v of g)this.run(v[0]);return this.modifiedFlag}}class dQ extends fQ{optimize(l){this.run(l);for(let f of l.children)this.optimize(f);return this.modifiedFlag}}class Nke extends dQ{mergeNodes(l,f){let g=f.shift();for(let v of f)l.removeChild(v),v.parent=g,v.remove()}run(l){let f=l.children.map(v=>v.hash()),g={};for(let v=0;v<f.length;v++)g[f[v]]===void 0?g[f[v]]=[l.children[v]]:g[f[v]].push(l.children[v]);for(let v of Le(g))g[v].length>1&&(this.setModified(),this.mergeNodes(l,g[v]))}}class Lke extends dQ{constructor(l){super();vn(this,"requiresSelectionId",void 0),this.requiresSelectionId=l&&p9(l)}run(l){l instanceof Qy&&(this.requiresSelectionId&&(cQ(l.parent)||l.parent instanceof H1||l.parent instanceof m0)||(this.setModified(),l.remove()))}}class kke extends fQ{optimize(l){return this.run(l,new Set),this.modifiedFlag}run(l,f){let g=new Set;l instanceof mp&&(g=l.producedFields(),ve(g,f)&&(this.setModified(),l.removeFormulas(f),l.producedFields.length===0&&l.remove()));for(let v of l.children)this.run(v,new Set([...f,...g]))}}class Ike extends dQ{constructor(){super()}run(l){l instanceof Nf&&!l.isRequired()&&(this.setModified(),l.remove())}}class Mke extends j4{run(l){if(!cQ(l)&&!(l.numChildren()>1)){for(let f of l.children)if(f instanceof m0)if(l instanceof m0)this.setModified(),l.merge(f);else{if(st(l.producedFields(),f.dependentFields()))continue;this.setModified(),f.swapWithParent()}}}}class Pke extends j4{run(l){let f=[...l.children],g=l.children.filter(v=>v instanceof m0);if(l.numChildren()>1&&g.length>=1){let v={},D=new Set;for(let O of g){let $=O.parse;for(let re of Le($))re in v?v[re]!==$[re]&&D.add(re):v[re]=$[re]}for(let O of D)delete v[O];if(!Ze(v)){this.setModified();let O=new m0(l,v);for(let $ of f){if($ instanceof m0)for(let re of Le(v))delete $.parse[re];l.removeChild($),$.parent=O,$ instanceof m0&&Le($.parse).length===0&&$.remove()}}}}}class Bke extends j4{run(l){l instanceof Nf||l.numChildren()>0||l instanceof dE||l instanceof B4||(this.setModified(),l.remove())}}class jke extends j4{run(l){let f=l.children.filter(v=>v instanceof mp),g=f.pop();for(let v of f)this.setModified(),g.merge(v)}}class qke extends j4{run(l){let f=l.children.filter(v=>v instanceof H1),g={};for(let v of f){let D=ut(v.groupBy);D in g||(g[D]=[]),g[D].push(v)}for(let v of Le(g)){let D=g[v];if(D.length>1){let O=D.pop();for(let $ of D)O.merge($)&&(l.removeChild($),$.parent=O,$.remove(),this.setModified())}}}}class Uke extends j4{constructor(l){super();this.model=l}run(l){let f=!(cQ(l)||l instanceof Wy||l instanceof m0||l instanceof Qy),g=[],v=[];for(let D of l.children)D instanceof Ym&&(f&&!st(l.producedFields(),D.dependentFields())?g.push(D):v.push(D));if(g.length>0){let D=g.pop();for(let O of g)D.merge(O,this.model.renameSignal.bind(this.model));this.setModified(),l instanceof Ym?l.merge(D,this.model.renameSignal.bind(this.model)):D.swapWithParent()}if(v.length>1){let D=v.pop();for(let O of v)D.merge(O,this.model.renameSignal.bind(this.model));this.setModified()}}}class zke extends j4{run(l){let f=[...l.children];if(!mn(f,O=>O instanceof Nf)||l.numChildren()<=1)return;let v=[],D;for(let O of f)if(O instanceof Nf){let $=O;for(;$.numChildren()===1;){let[re]=$.children;if(re instanceof Nf)$=re;else break}v.push(...$.children),D?(l.removeChild(O),O.parent=D.parent,D.parent.removeChild(D),D.parent=$,this.setModified()):D=$}else v.push(O);if(v.length){this.setModified();for(let O of v)O.parent.removeChild(O),O.parent=D}}}class q4 extends ba{clone(){return new q4(null,ye(this.transform))}constructor(l,f){super(l);this.transform=f}addDimensions(l){this.transform.groupby=it(this.transform.groupby.concat(l),f=>f)}dependentFields(){let l=new Set;return this.transform.groupby&&this.transform.groupby.forEach(l.add,l),this.transform.joinaggregate.map(f=>f.field).filter(f=>f!==void 0).forEach(l.add,l),l}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(l){var f;return(f=l.as)!==null&&f!==void 0?f:pi(l)}hash(){return"JoinAggregateTransform ".concat(ut(this.transform))}assemble(){let l=[],f=[],g=[];for(let D of this.transform.joinaggregate)f.push(D.op),g.push(this.getDefaultName(D)),l.push(D.field===void 0?null:D.field);let v=this.transform.groupby;return{type:"joinaggregate",as:g,ops:f,fields:l,...v!==void 0?{groupby:v}:{}}}}function Hke(u){return u.stack.stackBy.reduce((l,f)=>{let g=f.fieldDef,v=pi(g);return v&&l.push(v),l},[])}function $ke(u){return e.isArray(u)&&u.every(l=>e.isString(l))&&u.length>1}class $x extends ba{clone(){return new $x(null,ye(this._stack))}constructor(l,f){super(l);vn(this,"_stack",void 0),this._stack=f}static makeFromTransform(l,f){let{stack:g,groupby:v,as:D,offset:O="zero"}=f,$=[],re=[];if(f.sort!==void 0)for(let Nt of f.sort)$.push(Nt.field),re.push(Ne(Nt.order,"ascending"));let Se={field:$,order:re},Ie;return $ke(D)?Ie=D:e.isString(D)?Ie=[D,"".concat(D,"_end")]:Ie=["".concat(f.stack,"_start"),"".concat(f.stack,"_end")],new $x(l,{dimensionFieldDefs:[],stackField:g,groupby:v,offset:O,sort:Se,facetby:[],as:Ie})}static makeFromEncoding(l,f){let g=f.stack,{encoding:v}=f;if(!g)return null;let{groupbyChannels:D,fieldChannel:O,offset:$,impute:re}=g,Se=D.map(_n=>{let Xn=v[_n];return Oh(Xn)}).filter(_n=>!!_n),Ie=Hke(f),Nt=f.encoding.order,rn;return e.isArray(Nt)||Dr(Nt)?rn=No(Nt):rn=Ie.reduce((_n,Xn)=>(_n.field.push(Xn),_n.order.push(O==="y"?"descending":"ascending"),_n),{field:[],order:[]}),new $x(l,{dimensionFieldDefs:Se,stackField:f.vgField(O),facetby:[],stackby:Ie,sort:rn,offset:$,impute:re,as:[f.vgField(O,{suffix:"start",forAs:!0}),f.vgField(O,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(l){this._stack.facetby.push(...l)}dependentFields(){let l=new Set;return l.add(this._stack.stackField),this.getGroupbyFields().forEach(l.add,l),this._stack.facetby.forEach(l.add,l),this._stack.sort.field.forEach(l.add,l),l}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(ut(this._stack))}getGroupbyFields(){let{dimensionFieldDefs:l,impute:f,groupby:g}=this._stack;return l.length>0?l.map(v=>v.bin?f?[pi(v,{binSuffix:"mid"})]:[pi(v,{}),pi(v,{binSuffix:"end"})]:[pi(v)]).flat():g??[]}assemble(){let l=[],{facetby:f,dimensionFieldDefs:g,stackField:v,stackby:D,sort:O,offset:$,impute:re,as:Se}=this._stack;if(re)for(let Ie of g){let{bandPosition:Nt=.5,bin:rn}=Ie;if(rn){let _n=pi(Ie,{expr:"datum"}),Xn=pi(Ie,{expr:"datum",binSuffix:"end"});l.push({type:"formula",expr:"".concat(Nt,"*").concat(_n,"+").concat(1-Nt,"*").concat(Xn),as:pi(Ie,{binSuffix:"mid",forAs:!0})})}l.push({type:"impute",field:v,groupby:[...D,...f],key:pi(Ie,{binSuffix:"mid"}),method:"value",value:0})}return l.push({type:"stack",groupby:[...this.getGroupbyFields(),...f],field:v,sort:O,as:Se,offset:$}),l}}class hE extends ba{clone(){return new hE(null,ye(this.transform))}constructor(l,f){super(l);this.transform=f}addDimensions(l){this.transform.groupby=it(this.transform.groupby.concat(l),f=>f)}dependentFields(){var l,f;let g=new Set;return((l=this.transform.groupby)!==null&&l!==void 0?l:[]).forEach(g.add,g),((f=this.transform.sort)!==null&&f!==void 0?f:[]).forEach(v=>g.add(v.field)),this.transform.window.map(v=>v.field).filter(v=>v!==void 0).forEach(g.add,g),g}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(l){var f;return(f=l.as)!==null&&f!==void 0?f:pi(l)}hash(){return"WindowTransform ".concat(ut(this.transform))}assemble(){let l=[],f=[],g=[],v=[];for(let rn of this.transform.window)f.push(rn.op),g.push(this.getDefaultName(rn)),v.push(rn.param===void 0?null:rn.param),l.push(rn.field===void 0?null:rn.field);let D=this.transform.frame,O=this.transform.groupby;if(D&&D[0]===null&&D[1]===null&&f.every(rn=>pl(rn)))return{type:"joinaggregate",as:g,ops:f,fields:l,...O!==void 0?{groupby:O}:{}};let $=[],re=[];if(this.transform.sort!==void 0)for(let rn of this.transform.sort){var Se;$.push(rn.field),re.push((Se=rn.order)!==null&&Se!==void 0?Se:"ascending")}let Ie={field:$,order:re},Nt=this.transform.ignorePeers;return{type:"window",params:v,as:g,ops:f,fields:l,sort:Ie,...Nt!==void 0?{ignorePeers:Nt}:{},...O!==void 0?{groupby:O}:{},...D!==void 0?{frame:D}:{}}}}function Vke(u){function l(f){if(!(f instanceof dE)){let g=f.clone();if(g instanceof Nf){let v=pQ+g.getSource();g.setSource(v),u.model.component.data.outputNodes[v]=g}else(g instanceof H1||g instanceof $x||g instanceof hE||g instanceof q4)&&g.addDimensions(u.fields);for(let v of f.children.flatMap(l))v.parent=g;return[g]}return f.children.flatMap(l)}return l}function hQ(u){if(u instanceof dE)if(u.numChildren()===1&&!(u.children[0]instanceof Nf)){let l=u.children[0];(l instanceof H1||l instanceof $x||l instanceof hE||l instanceof q4)&&l.addDimensions(u.fields),l.swapWithParent(),hQ(u)}else{let l=u.model.component.data.main;Hle(l);let f=Vke(u),g=u.children.map(f).flat();for(let v of g)v.parent=l}else u.children.map(hQ)}function Hle(u){if(u instanceof Nf&&u.type===Pa.Main&&u.numChildren()===1){let l=u.children[0];l instanceof dE||(l.swapWithParent(),Hle(u))}}let pQ="scale_",uL=5;function mQ(u){for(let l of u){for(let f of l.children)if(f.parent!==l)return!1;if(!mQ(l.children))return!1}return!0}function $1(u,l){let f=!1;for(let g of l)f=u.optimize(g)||f;return f}function $le(u,l,f){let g=u.sources,v=!1;return v=$1(new Ike,g)||v,v=$1(new Lke(l),g)||v,g=g.filter(D=>D.numChildren()>0),v=$1(new Bke,g)||v,g=g.filter(D=>D.numChildren()>0),f||(v=$1(new Mke,g)||v,v=$1(new Uke(l),g)||v,v=$1(new kke,g)||v,v=$1(new Pke,g)||v,v=$1(new qke,g)||v,v=$1(new jke,g)||v,v=$1(new Nke,g)||v,v=$1(new zke,g)||v),u.sources=g,v}function Wke(u,l){mQ(u.sources);let f=0,g=0;for(let v=0;v<uL&&$le(u,l,!0);v++)f++;u.sources.map(hQ);for(let v=0;v<uL&&$le(u,l,!1);v++)g++;mQ(u.sources),Math.max(f,g)===uL&&qr("Maximum optimization runs(".concat(uL,") reached."))}class Qd{constructor(l){vn(this,"signal",void 0),Object.defineProperty(this,"signal",{enumerable:!0,get:l})}static fromName(l,f){return new Qd(()=>l(f))}}function Vle(u){lc(u)?Qke(u):Gke(u)}function Qke(u){let l=u.component.scales;for(let f of Le(l)){let g=Kke(u,f);if(l[f].setWithExplicit("domains",g),Xke(u,f),u.component.data.isFaceted){let D=u;for(;!V1(D)&&D.parent;)D=D.parent;if(D.component.resolve.scale[f]==="shared")for(let $ of g.value)ur($)&&($.data=pQ+$.data.replace(pQ,""))}}}function Gke(u){for(let f of u.children)Vle(f);let l=u.component.scales;for(let f of Le(l)){let g,v=null;for(let D of u.children){let O=D.component.scales[f];if(O){g===void 0?g=O.getWithExplicit("domains"):g=$m(g,O.getWithExplicit("domains"),"domains","scale",yQ);let $=O.get("selectionExtent");v&&$&&v.param!==$.param&&qr(e0),v=$}}l[f].setWithExplicit("domains",g),v&&l[f].set("selectionExtent",v,!0)}}function Yke(u,l,f,g){if(u==="unaggregated"){let{valid:v,reason:D}=Wle(l,f);if(!v){qr(D);return}}else if(u===void 0&&g.useUnaggregatedDomain){let{valid:v}=Wle(l,f);if(v)return"unaggregated"}return u}function Kke(u,l){let f=u.getScaleComponent(l).get("type"),{encoding:g}=u,v=Yke(u.scaleDomain(l),u.typedFieldDef(l),f,u.config.scale);return v!==u.scaleDomain(l)&&(u.specifiedScales[l]={...u.specifiedScales[l],domain:v}),l==="x"&&xu(g.x2)?xu(g.x)?$m(Gy(f,v,u,"x"),Gy(f,v,u,"x2"),"domain","scale",yQ):Gy(f,v,u,"x2"):l==="y"&&xu(g.y2)?xu(g.y)?$m(Gy(f,v,u,"y"),Gy(f,v,u,"y2"),"domain","scale",yQ):Gy(f,v,u,"y2"):Gy(f,v,u,l)}function Jke(u,l,f){return u.map(g=>{let v=jb(g,{timeUnit:f,type:l});return{signal:"{data: ".concat(v,"}")}})}function xQ(u,l,f){var g;let v=(g=Ou(f))===null||g===void 0?void 0:g.unit;return l==="temporal"||v?Jke(u,l,v):[u]}function Gy(u,l,f,g){let{encoding:v}=f,D=xu(v[g]),{type:O}=D,$=D.timeUnit;if(mu(l)){let Nt=Gy(u,void 0,f,g),rn=xQ(l.unionWith,O,$);return al([...Nt.value,...rn])}else{if(Un(l))return al([l]);if(l&&l!=="unaggregated"&&!oo(l))return al(xQ(l,O,$))}let re=f.stack;if(re&&g===re.fieldChannel){if(re.offset==="normalize")return h0([[0,1]]);let Nt=f.requestDataName(Pa.Main);return h0([{data:Nt,field:f.vgField(g,{suffix:"start"})},{data:Nt,field:f.vgField(g,{suffix:"end"})}])}let Se=Bi(g)&&Dr(D)?Zke(f,g,u):void 0;if(So(D)){let Nt=xQ([D.datum],O,$);return h0(Nt)}let Ie=D;if(l==="unaggregated"){let Nt=f.requestDataName(Pa.Main),{field:rn}=D;return h0([{data:Nt,field:pi({field:rn,aggregate:"min"})},{data:Nt,field:pi({field:rn,aggregate:"max"})}])}else if(pr(Ie.bin)){if(Be(u))return h0(u==="bin-ordinal"?[]:[{data:Mt(Se)?f.requestDataName(Pa.Main):f.requestDataName(Pa.Raw),field:f.vgField(g,w4(Ie,g)?{binSuffix:"range"}:{}),sort:Se===!0||!e.isObject(Se)?{field:f.vgField(g,{}),op:"min"}:Se}]);{let{bin:Nt}=Ie;if(pr(Nt)){let rn=lQ(f,Ie.field,Nt);return h0([new Qd(()=>{let _n=f.getSignalName(rn);return"[".concat(_n,".start, ").concat(_n,".stop]")})])}else return h0([{data:f.requestDataName(Pa.Main),field:f.vgField(g,{})}])}}else if(Ie.timeUnit&&wt(["time","utc"],u)&&Tr(Ie,lc(f)?f.encoding[ws(g)]:void 0,f.markDef,f.config)){let Nt=f.requestDataName(Pa.Main);return h0([{data:Nt,field:f.vgField(g)},{data:Nt,field:f.vgField(g,{suffix:"end"})}])}else return h0(Se?[{data:Mt(Se)?f.requestDataName(Pa.Main):f.requestDataName(Pa.Raw),field:f.vgField(g),sort:Se}]:[{data:f.requestDataName(Pa.Main),field:f.vgField(g)}])}function gQ(u,l){let{op:f,field:g,order:v}=u;return{op:f??(l?"sum":wl),...g?{field:pn(g)}:{},...v?{order:v}:{}}}function Xke(u,l){var f;let g=u.component.scales[l],v=u.specifiedScales[l].domain,D=(f=u.fieldDef(l))===null||f===void 0?void 0:f.bin,O=oo(v)&&v,$=Me(D)&&pt(D.extent)&&D.extent;(O||$)&&g.set("selectionExtent",O??$,!0)}function Zke(u,l,f){if(!Be(f))return;let g=u.fieldDef(l),v=g.sort;if(sc(v))return{op:"min",field:gn(g,l),order:"ascending"};let{stack:D}=u,O=D?new Set([...D.groupbyFields,...D.stackBy.map($=>$.fieldDef.field)]):void 0;if(_a(v)){let $=D&&!O.has(v.field);return gQ(v,$)}else if(c0(v)){let{encoding:$,order:re}=v,Se=u.fieldDef($),{aggregate:Ie,field:Nt}=Se,rn=D&&!O.has(Nt);if(aa(Ie)||ua(Ie))return gQ({field:pi(Se),order:re},rn);if(pl(Ie)||!Ie)return gQ({op:Ie,field:Nt,order:re},rn)}else{if(v==="descending")return{op:"min",field:u.vgField(l),order:"descending"};if(wt(["ascending",void 0],v))return!0}}function Wle(u,l){let{aggregate:f,type:g}=u;return f?e.isString(f)&&!rs.has(f)?{valid:!1,reason:zt(f)}:g==="quantitative"&&l==="log"?{valid:!1,reason:Cn(u)}:{valid:!0}:{valid:!1,reason:Ot(u)}}function yQ(u,l,f,g){return u.explicit&&l.explicit&&qr(Qi(f,g,u.value,l.value)),{explicit:u.explicit,value:[...u.value,...l.value]}}function eIe(u){let l=it(u.map(O=>{if(ur(O)){let{sort:$,...re}=O;return re}return O}),ut),f=it(u.map(O=>{if(ur(O)){let $=O.sort;return $!==void 0&&!Mt($)&&("op"in $&&$.op==="count"&&delete $.field,$.order==="ascending"&&delete $.order),$}}).filter(O=>O!==void 0),ut);if(l.length===0)return;if(l.length===1){let O=u[0];if(ur(O)&&f.length>0){let $=f[0];if(f.length>1)qr(Qs),$=!0;else if(e.isObject($)&&"field"in $){let re=$.field;O.field===re&&($=$.order?{order:$.order}:!0)}return{...O,sort:$}}return O}let g=it(f.map(O=>Mt(O)||!("op"in O)||e.isString(O.op)&&O.op in Ua?O:(qr(Gr(O)),!0)),ut),v;g.length===1?v=g[0]:g.length>1&&(qr(Qs),v=!0);let D=it(u.map(O=>ur(O)?O.data:null),O=>O);return D.length===1&&D[0]!==null?{data:D[0],fields:l.map($=>$.field),...v?{sort:v}:{}}:{fields:l,...v?{sort:v}:{}}}function vQ(u){if(ur(u)&&e.isString(u.field))return u.field;if(wr(u)){let l;for(let f of u.fields)if(ur(f)&&e.isString(f.field)){if(!l)l=f.field;else if(l!==f.field)return qr(zo),l}return qr(ga),l}else if(Gn(u)){qr(mo);let l=u.fields[0];return e.isString(l)?l:void 0}}function lL(u,l){let g=u.component.scales[l].get("domains").map(v=>(ur(v)&&(v.data=u.lookupDataSource(v.data)),v));return eIe(g)}function Qle(u){return pE(u)||bQ(u)?u.children.reduce((l,f)=>l.concat(Qle(f)),Gle(u)):Gle(u)}function Gle(u){return Le(u.component.scales).reduce((l,f)=>{let g=u.component.scales[f];if(g.merged)return l;let v=g.combine(),{name:D,type:O,selectionExtent:$,domains:re,range:Se,reverse:Ie,...Nt}=v,rn=tIe(v.range,D,f,u),_n=lL(u,f),Xn=$?FW(u,$,g,_n):null;return l.push({name:D,type:O,..._n?{domain:_n}:{},...Xn?{domainRaw:Xn}:{},range:rn,...Ie!==void 0?{reverse:Ie}:{},...Nt}),l},[])}function tIe(u,l,f,g){if(hs(f)){if(br(u))return{step:{signal:"".concat(l,"_step")}}}else if(e.isObject(u)&&ur(u))return{...u,data:g.lookupDataSource(u.data)};return u}class Yle extends pp{constructor(l,f){super({},{name:l});vn(this,"merged",!1),this.setWithExplicit("type",f)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:mn(this.get("domains"),l=>e.isArray(l)&&l.length===2&&l[0]<=0&&l[1]>=0)}}let nIe=["range","scheme"];function rIe(u){let l=u.component.scales;for(let f of vs){let g=l[f];if(!g)continue;let v=iIe(f,u);g.setWithExplicit("range",v)}}function Kle(u,l){let f=u.fieldDef(l);if(f!=null&&f.bin){let{bin:g,field:v}=f,D=ts(l),O=u.getName(D);if(e.isObject(g)&&g.binned&&g.step!==void 0)return new Qd(()=>{let $=u.scaleName(l),re='(domain("'.concat($,'")[1] - domain("').concat($,'")[0]) / ').concat(g.step);return"".concat(u.getSignalName(O)," / (").concat(re,")")});if(pr(g)){let $=lQ(u,v,g);return new Qd(()=>{let re=u.getSignalName($),Se="(".concat(re,".stop - ").concat(re,".start) / ").concat(re,".step");return"".concat(u.getSignalName(O)," / (").concat(Se,")")})}}}function iIe(u,l){let f=l.specifiedScales[u],{size:g}=l,D=l.getScaleComponent(u).get("type");for(let Nt of nIe)if(f[Nt]!==void 0){let rn=Ts(D,Nt),_n=u0(u,Nt);if(!rn)qr(Nr(D,Nt,u));else if(_n)qr(_n);else switch(Nt){case"range":{let Xn=f.range;if(e.isArray(Xn)){if(hs(u))return al(Xn.map(cr=>{if(cr==="width"||cr==="height"){let er=l.getName(cr),Rr=l.getSignalName.bind(l);return Qd.fromName(Rr,er)}return cr}))}else if(e.isObject(Xn))return al({data:l.requestDataName(Pa.Main),field:Xn.field,sort:{op:"min",field:l.vgField(u)}});return al(Xn)}case"scheme":return al(sIe(f[Nt]))}}let O=u===Pn||u==="xOffset"?"width":"height",$=g[O];if(Rh($)){if(hs(u))if(Be(D)){let Nt=Jle($,l,u);if(Nt)return al({step:Nt})}else qr(tt(O));else if(Wi(u)){let Nt=u===se?"x":"y";if(l.getScaleComponent(Nt).get("type")==="band"){let Xn=Xle($,D);if(Xn)return al(Xn)}}}let{rangeMin:re,rangeMax:Se}=f,Ie=oIe(u,l);return(re!==void 0||Se!==void 0)&&Ts(D,"rangeMin")&&e.isArray(Ie)&&Ie.length===2?al([re??Ie[0],Se??Ie[1]]):h0(Ie)}function sIe(u){return qi(u)?{scheme:u.name,...xe(u,["name"])}:{scheme:u}}function oIe(u,l){let{size:f,config:g,mark:v,encoding:D}=l,O=l.getSignalName.bind(l),{type:$}=xu(D[u]),Se=l.getScaleComponent(u).get("type"),{domain:Ie,domainMid:Nt}=l.specifiedScales[u];switch(u){case Pn:case ar:{if(wt(["point","band"],Se)){let Xn=Zle(u,f,g.view);if(Rh(Xn))return{step:Jle(Xn,l,u)}}let rn=ts(u),_n=l.getName(rn);return u===ar&&bt(Se)?[Qd.fromName(O,_n),0]:[0,Qd.fromName(O,_n)]}case se:case qe:return aIe(u,l,Se);case we:{let rn=l.component.scales[u].get("zero"),_n=ece(v,rn,g),Xn=cIe(v,f,l,g);return lr(Se)?lIe(_n,Xn,uIe(Se,g,Ie,u)):[_n,Xn]}case fn:return[0,Math.PI*2];case We:return[0,360];case et:return[0,new Qd(()=>{let rn=l.getSignalName("width"),_n=l.getSignalName("height");return"min(".concat(rn,",").concat(_n,")/2")})];case wn:return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case yn:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ne:return"symbol";case ht:case _t:case Dt:return Se==="ordinal"?$==="nominal"?"category":"ordinal":Nt!==void 0?"diverging":v==="rect"||v==="geoshape"?"heatmap":"ramp";case nt:case Pt:case sn:return[g.scale.minOpacity,g.scale.maxOpacity]}}function Jle(u,l,f){let{encoding:g}=l,v=l.getScaleComponent(f),D=pa(f),O=g[D];if(KC({step:u,offsetIsDiscrete:Ns(O)&&ip(O.type)})==="offset"&&PR(g,D)){var re;let _n=l.getScaleComponent(D),Xn=l.scaleName(D),cr="domain('".concat(Xn,"').length");if(_n.get("type")==="band"){var Se,Ie,Nt,rn;let Rr=(Se=(Ie=_n.get("paddingInner"))!==null&&Ie!==void 0?Ie:_n.get("padding"))!==null&&Se!==void 0?Se:0,Mr=(Nt=(rn=_n.get("paddingOuter"))!==null&&rn!==void 0?rn:_n.get("padding"))!==null&&Nt!==void 0?Nt:0;cr="bandspace(".concat(cr,", ").concat(Rr,", ").concat(Mr,")")}let er=(re=v.get("paddingInner"))!==null&&re!==void 0?re:v.get("padding");return{signal:"".concat(u.step," * ").concat(cr," / (1-").concat(Ir(er),")")}}else return u.step}function Xle(u,l){if(KC({step:u,offsetIsDiscrete:Be(l)})==="offset")return{step:u.step}}function aIe(u,l,f){let g=u===se?"x":"y",D=l.getScaleComponent(g).get("type"),O=l.scaleName(g);if(D==="band"){let $=Zle(g,l.size,l.config.view);if(Rh($)){let re=Xle($,f);if(re)return re}return[0,{signal:"bandwidth('".concat(O,"')")}]}else return ke("Cannot use ".concat(u," scale if ").concat(g," scale is not discrete."))}function Zle(u,l,f){let g=u===Pn?"width":"height",v=l[g];return v||Yb(f,g)}function uIe(u,l,f,g){switch(u){case"quantile":return l.scale.quantileCount;case"quantize":return l.scale.quantizeCount;case"threshold":return f!==void 0&&e.isArray(f)?f.length+1:(qr(Fc(g)),3)}}function lIe(u,l,f){let g=()=>{let v=_i(l),D=_i(u),O="(".concat(v," - ").concat(D,") / (").concat(f," - 1)");return"sequence(".concat(D,", ").concat(v," + ").concat(O,", ").concat(O,")")};return Un(l)?new Qd(g):{signal:g()}}function ece(u,l,f){if(l)return Un(l)?{signal:"".concat(l.signal," ? 0 : ").concat(ece(u,!1,f))}:0;switch(u){case"bar":case"tick":return f.scale.minBandSize;case"line":case"trail":case"rule":return f.scale.minStrokeWidth;case"text":return f.scale.minFontSize;case"point":case"square":case"circle":return f.scale.minSize}throw new Error(xl("size",u))}let tce=.95;function cIe(u,l,f,g){let v={x:Kle(f,"x"),y:Kle(f,"y")};switch(u){case"bar":case"tick":{if(g.scale.maxBandSize!==void 0)return g.scale.maxBandSize;let D=nce(l,v,g.view);return e.isNumber(D)?D-1:new Qd(()=>"".concat(D.signal," - 1"))}case"line":case"trail":case"rule":return g.scale.maxStrokeWidth;case"text":return g.scale.maxFontSize;case"point":case"square":case"circle":{if(g.scale.maxSize)return g.scale.maxSize;let D=nce(l,v,g.view);return e.isNumber(D)?Math.pow(tce*D,2):new Qd(()=>"pow(".concat(tce," * ").concat(D.signal,", 2)"))}}throw new Error(xl("size",u))}function nce(u,l,f){let g=Rh(u.width)?u.width.step:Gb(f,"width"),v=Rh(u.height)?u.height.step:Gb(f,"height");return l.x||l.y?new Qd(()=>{let D=[l.x?l.x.signal:g,l.y?l.y.signal:v];return"min(".concat(D.join(", "),")")}):Math.min(g,v)}function rce(u,l){lc(u)?fIe(u,l):oce(u,l)}function fIe(u,l){let f=u.component.scales,{config:g,encoding:v,markDef:D,specifiedScales:O}=u;for(let $ of Le(f)){let re=O[$],Se=f[$],Ie=u.getScaleComponent($),Nt=xu(v[$]),rn=re[l],_n=Ie.get("type"),Xn=Ie.get("padding"),cr=Ie.get("paddingInner"),er=Ts(_n,l),Rr=u0($,l);if(rn!==void 0&&(er?Rr&&qr(Rr):qr(Nr(_n,l,$))),er&&Rr===void 0)if(rn!==void 0){let Mr=Nt.timeUnit,Ii=Nt.type;switch(l){case"domainMax":case"domainMin":Q0(re[l])||Ii==="temporal"||Mr?Se.set(l,{signal:jb(re[l],{type:Ii,timeUnit:Mr})},!0):Se.set(l,re[l],!0);break;default:Se.copyKeyFromObject(l,re)}}else{let Mr=l in ice?ice[l]({model:u,channel:$,fieldOrDatumDef:Nt,scaleType:_n,scalePadding:Xn,scalePaddingInner:cr,domain:re.domain,domainMin:re.domainMin,domainMax:re.domainMax,markDef:D,config:g,hasNestedOffsetScale:MC(v,$)}):g.scale[l];Mr!==void 0&&Se.set(l,Mr,!1)}}}let ice={bins:u=>{let{model:l,fieldOrDatumDef:f}=u;return Dr(f)?dIe(l,f):void 0},interpolate:u=>{let{channel:l,fieldOrDatumDef:f}=u;return hIe(l,f.type)},nice:u=>{let{scaleType:l,channel:f,domain:g,domainMin:v,domainMax:D,fieldOrDatumDef:O}=u;return pIe(l,f,g,v,D,O)},padding:u=>{let{channel:l,scaleType:f,fieldOrDatumDef:g,markDef:v,config:D}=u;return mIe(l,f,D.scale,g,v,D.bar)},paddingInner:u=>{let{scalePadding:l,channel:f,markDef:g,scaleType:v,config:D,hasNestedOffsetScale:O}=u;return xIe(l,f,g.type,v,D.scale,O)},paddingOuter:u=>{let{scalePadding:l,channel:f,scaleType:g,scalePaddingInner:v,config:D,hasNestedOffsetScale:O}=u;return gIe(l,f,g,v,D.scale,O)},reverse:u=>{let{fieldOrDatumDef:l,scaleType:f,channel:g,config:v}=u,D=Dr(l)?l.sort:void 0;return yIe(f,D,g,v.scale)},zero:u=>{let{channel:l,fieldOrDatumDef:f,domain:g,markDef:v,scaleType:D}=u;return vIe(l,f,g,v,D)}};function sce(u){lc(u)?rIe(u):oce(u,"range")}function oce(u,l){let f=u.component.scales;for(let g of u.children)l==="range"?sce(g):rce(g,l);for(let g of Le(f)){let v;for(let D of u.children){let O=D.component.scales[g];if(O){let $=O.getWithExplicit(l);v=$m(v,$,l,"scale",FN((re,Se)=>{switch(l){case"range":return re.step&&Se.step?re.step-Se.step:0}return 0}))}}f[g].setWithExplicit(l,v)}}function dIe(u,l){let f=l.bin;if(pr(f)){let g=lQ(u,l.field,f);return new Qd(()=>u.getSignalName(g))}else if(as(f)&&Me(f)&&f.step!==void 0)return{step:f.step}}function hIe(u,l){if(wt([ht,_t,Dt],u)&&l!=="nominal")return"hcl"}function pIe(u,l,f,g,v,D){var O;if(!((O=Oh(D))!==null&&O!==void 0&&O.bin||e.isArray(f)||v!=null||g!=null||wt([sl.TIME,sl.UTC],u)))return hs(l)?!0:void 0}function mIe(u,l,f,g,v,D){if(hs(u)){if(An(l)){if(f.continuousPadding!==void 0)return f.continuousPadding;let{type:O,orient:$}=v;if(O==="bar"&&!(Dr(g)&&(g.bin||g.timeUnit))&&($==="vertical"&&u==="x"||$==="horizontal"&&u==="y"))return D.continuousBandSize}if(l===sl.POINT)return f.pointPadding}}function xIe(u,l,f,g,v){let D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(hs(l)){let{bandPaddingInner:O,barBandPaddingInner:$,rectBandPaddingInner:re,bandWithNestedOffsetPaddingInner:Se}=v;return D?Se:Ne(O,f==="bar"?$:re)}else if(Wi(l)&&g===sl.BAND)return v.offsetBandPaddingInner}}function gIe(u,l,f,g,v){let D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(u===void 0){if(hs(l)){let{bandPaddingOuter:O,bandWithNestedOffsetPaddingOuter:$}=v;if(D)return $;if(f===sl.BAND)return Ne(O,Un(g)?{signal:"".concat(g.signal,"/2")}:g/2)}else if(Wi(l)){if(f===sl.POINT)return .5;if(f===sl.BAND)return v.offsetBandPaddingOuter}}}function yIe(u,l,f,g){if(f==="x"&&g.xReverse!==void 0)return bt(u)&&l==="descending"?Un(g.xReverse)?{signal:"!".concat(g.xReverse.signal)}:!g.xReverse:g.xReverse;if(bt(u)&&l==="descending")return!0}function vIe(u,l,f,g,v){if(!!f&&f!=="unaggregated"&&bt(v)){if(e.isArray(f)){let O=f[0],$=f[f.length-1];if(O<=0&&$>=0)return!0}return!1}if(u==="size"&&l.type==="quantitative"&&!lr(v))return!0;if(!(Dr(l)&&l.bin)&&wt([...ro,...ho],u)){let{orient:O,type:$}=g;return!(wt(["bar","area","line","trail"],$)&&(O==="horizontal"&&u==="y"||O==="vertical"&&u==="x"))}return!1}function _Ie(u,l,f,g){let v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,D=bIe(l,f,g,v),{type:O}=u;return Bi(l)?O!==void 0?ap(l,O)?Dr(f)&&!bl(O,f.type)?(qr(hr(O,D)),D):O:(qr(ir(l,O,D)),D):D:null}function bIe(u,l,f,g){switch(l.type){case"nominal":case"ordinal":{var v;if(S(u)||qa(u)==="discrete")return u==="shape"&&l.type==="ordinal"&&qr(gl(u,"ordinal")),"ordinal";if(hs(u)||Wi(u)){if(wt(["rect","bar","image","rule"],f.type)||g)return"band"}else if(f.type==="arc"&&u in io)return"band";let D=f[ts(u)];return x(D)||RC(l)&&(v=l.axis)!==null&&v!==void 0&&v.tickBand?"band":"point"}case"temporal":return S(u)?"time":qa(u)==="discrete"?(qr(gl(u,"temporal")),"ordinal"):Dr(l)&&l.timeUnit&&Ou(l.timeUnit).utc?"utc":"time";case"quantitative":return S(u)?Dr(l)&&pr(l.bin)?"bin-ordinal":"linear":qa(u)==="discrete"?(qr(gl(u,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Tc(l.type))}function EIe(u){let{ignoreRange:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ace(u),Vle(u);for(let f of Fh)rce(u,f);l||sce(u)}function ace(u){lc(u)?u.component.scales=SIe(u):u.component.scales=CIe(u)}function SIe(u){let{encoding:l,mark:f,markDef:g}=u,v={};for(let O of vs){let $=xu(l[O]);if($&&f===P1&&O===ne&&$.type===Nu)continue;let re=$&&$.scale;if(Wi(O)){let Se=hl(O);if(!MC(l,Se)){re&&qr(Jc(O));continue}}if($&&re!==null&&re!==!1){var D;(D=re)!==null&&D!==void 0||(re={});let Se=MC(l,O),Ie=_Ie(re,O,$,g,Se);v[O]=new Yle(u.scaleName("".concat(O),!0),{value:Ie,explicit:re.type===Ie})}}return v}let wIe=FN((u,l)=>op(u)-op(l));function CIe(u){let l=u.component.scales={},f={},g=u.component.resolve;for(let O of u.children){ace(O);for(let $ of Le(O.component.scales)){var v,D;if((D=(v=g.scale)[$])!==null&&D!==void 0||(v[$]=Ale($,u)),g.scale[$]==="shared"){let re=f[$],Se=O.component.scales[$].getWithExplicit("type");re?Pd(re.value,Se.value)?f[$]=$m(re,Se,"type","scale",wIe):(g.scale[$]="independent",delete f[$]):f[$]=Se}}}for(let O of Le(f)){let $=u.scaleName(O,!0),re=f[O];l[O]=new Yle($,re);for(let Se of u.children){let Ie=Se.component.scales[O];Ie&&(Se.renameScale(Ie.get("name"),$),Ie.merged=!0)}}return l}class _Q{constructor(){vn(this,"nameMap",void 0),this.nameMap={}}rename(l,f){this.nameMap[l]=f}has(l){return this.nameMap[l]!==void 0}get(l){for(;this.nameMap[l]&&l!==this.nameMap[l];)l=this.nameMap[l];return l}}function lc(u){return(u==null?void 0:u.type)==="unit"}function V1(u){return(u==null?void 0:u.type)==="facet"}function bQ(u){return(u==null?void 0:u.type)==="concat"}function pE(u){return(u==null?void 0:u.type)==="layer"}class EQ{constructor(l,f,g,v,D,O,$){var re,Se;this.type=f,this.parent=g,this.config=D,vn(this,"name",void 0),vn(this,"size",void 0),vn(this,"title",void 0),vn(this,"description",void 0),vn(this,"data",void 0),vn(this,"transforms",void 0),vn(this,"layout",void 0),vn(this,"scaleNameMap",void 0),vn(this,"projectionNameMap",void 0),vn(this,"signalNameMap",void 0),vn(this,"component",void 0),vn(this,"view",void 0),vn(this,"children",void 0),vn(this,"correctDataNames",Ie=>{var Nt,rn,_n;return(Nt=Ie.from)!==null&&Nt!==void 0&&Nt.data&&(Ie.from.data=this.lookupDataSource(Ie.from.data)),(rn=Ie.from)!==null&&rn!==void 0&&(_n=rn.facet)!==null&&_n!==void 0&&_n.data&&(Ie.from.facet.data=this.lookupDataSource(Ie.from.facet.data)),Ie}),this.parent=g,this.config=D,this.view=dn($),this.name=(re=l.name)!==null&&re!==void 0?re:v,this.title=Kn(l.title)?{text:l.title}:l.title?dn(l.title):void 0,this.scaleNameMap=g?g.scaleNameMap:new _Q,this.projectionNameMap=g?g.projectionNameMap:new _Q,this.signalNameMap=g?g.signalNameMap:new _Q,this.data=l.data,this.description=l.description,this.transforms=D4((Se=l.transform)!==null&&Se!==void 0?Se:[]),this.layout=f==="layer"||f==="unit"?{}:Qb(l,f,D),this.component={data:{sources:g?g.component.data.sources:[],outputNodes:g?g.component.data.outputNodes:{},outputNodeRefCounts:g?g.component.data.outputNodeRefCounts:{},isFaceted:lp(l)||(g==null?void 0:g.component.data.isFaceted)&&l.data===void 0},layoutSize:new pp,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...O?ye(O):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){EIe(this)}parseProjection(){jle(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){kle(this)}assembleEncodeFromView(l){let{style:f,...g}=l,v={};for(let D of Le(g)){let O=g[D];O!==void 0&&(v[D]=Ur(O))}return v}assembleGroupEncodeEntry(l){let f={};if(this.view&&(f=this.assembleEncodeFromView(this.view)),!l&&(this.description&&(f.description=Ur(this.description)),this.type==="unit"||this.type==="layer")){var g;return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...(g=f)!==null&&g!==void 0?g:{}}}return Ze(f)?void 0:f}assembleLayout(){if(!this.layout)return;let{spacing:l,...f}=this.layout,{component:g,config:v}=this,D=id(g.layoutHeaders,v);return{padding:l,...this.assembleDefaultLayout(),...f,...D?{titleBand:D}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){let{layoutHeaders:l}=this.component,f=[];for(let g of ee)l[g].title&&f.push(Ti(this,g));for(let g of Ar)f=f.concat(xo(this,g));return f}assembleAxes(){return ZW(this.component.axes,this.config)}assembleLegends(){return Mle(this)}assembleProjections(){return xke(this)}assembleTitle(){var l;let{encoding:f,...g}=(l=this.title)!==null&&l!==void 0?l:{},v={...Nn(this.config.title).nonMarkTitleProperties,...g,...f?{encode:{update:f}}:{}};if(v.text){if(wt(["unit","layer"],this.type)){if(wt(["middle",void 0],v.anchor)){var D;(D=v.frame)!==null&&D!==void 0||(v.frame="group")}}else{var O;(O=v.anchor)!==null&&O!==void 0||(v.anchor="start")}return Ze(v)?void 0:v}}assembleGroup(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f={};l=l.concat(this.assembleSignals()),l.length>0&&(f.signals=l);let g=this.assembleLayout();g&&(f.layout=g),f.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());let v=!this.parent||V1(this.parent)?Qle(this):[];v.length>0&&(f.scales=v);let D=this.assembleAxes();D.length>0&&(f.axes=D);let O=this.assembleLegends();return O.length>0&&(f.legends=O),f}getName(l){return Vt((this.name?"".concat(this.name,"_"):"")+l)}getDataName(l){return this.getName(Pa[l].toLowerCase())}requestDataName(l){let f=this.getDataName(l),g=this.component.data.outputNodeRefCounts;return g[f]=(g[f]||0)+1,f}getSizeSignalRef(l){if(V1(this.parent)){let f=wle(l),g=xi(f),v=this.component.scales[g];if(v&&!v.merged){let D=v.get("type"),O=v.get("range");if(Be(D)&&br(O)){let $=v.get("name"),re=lL(this,g),Se=vQ(re);if(Se){let Ie=pi({aggregate:"distinct",field:Se},{expr:"datum"});return{signal:Sle($,v,Ie)}}else return qr(vr(g)),null}}}return{signal:this.signalNameMap.get(this.getName(l))}}lookupDataSource(l){let f=this.component.data.outputNodes[l];return f?f.getSource():l}getSignalName(l){return this.signalNameMap.get(l)}renameSignal(l,f){this.signalNameMap.rename(l,f)}renameScale(l,f){this.scaleNameMap.rename(l,f)}renameProjection(l,f){this.projectionNameMap.rename(l,f)}scaleName(l,f){if(f)return this.getName(l);if(yr(l)&&Bi(l)&&this.component.scales[l]||this.scaleNameMap.has(this.getName(l)))return this.scaleNameMap.get(this.getName(l))}projectionName(l){if(l)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(l){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");let f=this.component.scales[l];return f&&!f.merged?f:this.parent?this.parent.getScaleComponent(l):void 0}getSelectionComponent(l,f){let g=this.component.selection[l];if(!g&&this.parent&&(g=this.parent.getSelectionComponent(l,f)),!g)throw new Error(so(f));return g}hasAxisOrientSignalRef(){var l,f;return((l=this.component.axes.x)===null||l===void 0?void 0:l.some(g=>g.hasOrientSignalRef()))||((f=this.component.axes.y)===null||f===void 0?void 0:f.some(g=>g.hasOrientSignalRef()))}}class uce extends EQ{vgField(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=this.fieldDef(l);if(!!g)return pi(g,f)}reduceFieldDef(l,f){return $d(this.getMapping(),(g,v,D)=>{let O=Oh(v);return O?l(g,O,D):g},f)}forEachFieldDef(l,f){PC(this.getMapping(),(g,v)=>{let D=Oh(g);D&&l(D,v)},f)}}class cL extends ba{clone(){return new cL(null,ye(this.transform))}constructor(l,f){var g,v,D;super(l);this.transform=f,this.transform=ye(f);let O=(g=this.transform.as)!==null&&g!==void 0?g:[void 0,void 0];this.transform.as=[(v=O[0])!==null&&v!==void 0?v:"value",(D=O[1])!==null&&D!==void 0?D:"density"]}dependentFields(){var l;return new Set([this.transform.density,...(l=this.transform.groupby)!==null&&l!==void 0?l:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(ut(this.transform))}assemble(){let{density:l,...f}=this.transform;return{type:"kde",field:l,...f}}}class E9 extends ba{clone(){return new E9(null,{...this.filter})}constructor(l,f){super(l);this.filter=f}static make(l,f){let{config:g,mark:v,markDef:D}=f;if(Ei("invalid",D,g)!=="filter")return null;let $=f.reduceFieldDef((re,Se,Ie)=>{let Nt=Bi(Ie)&&f.getScaleComponent(Ie);if(Nt){let rn=Nt.get("type");bt(rn)&&Se.aggregate!=="count"&&!sf(v)&&(re[Se.field]=Se)}return re},{});return Le($).length?new E9(l,$):null}dependentFields(){return new Set(Le(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(ut(this.filter))}assemble(){let l=Le(this.filter).reduce((f,g)=>{let v=this.filter[g],D=pi(v,{expr:"datum"});return v!==null&&(v.type==="temporal"?f.push("(isDate(".concat(D,") || (isValid(").concat(D,") && isFinite(+").concat(D,")))")):v.type==="quantitative"&&(f.push("isValid(".concat(D,")")),f.push("isFinite(+".concat(D,")")))),f},[]);return l.length>0?{type:"filter",expr:l.join(" && ")}:null}}class fL extends ba{clone(){return new fL(this.parent,ye(this.transform))}constructor(l,f){super(l);this.transform=f,this.transform=ye(f);let{flatten:g,as:v=[]}=this.transform;this.transform.as=g.map((D,O)=>{var $;return($=v[O])!==null&&$!==void 0?$:D})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(ut(this.transform))}assemble(){let{flatten:l,as:f}=this.transform;return{type:"flatten",fields:l,as:f}}}class dL extends ba{clone(){return new dL(null,ye(this.transform))}constructor(l,f){var g,v,D;super(l);this.transform=f,this.transform=ye(f);let O=(g=this.transform.as)!==null&&g!==void 0?g:[void 0,void 0];this.transform.as=[(v=O[0])!==null&&v!==void 0?v:"key",(D=O[1])!==null&&D!==void 0?D:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(ut(this.transform))}assemble(){let{fold:l,as:f}=this.transform;return{type:"fold",fields:l,as:f}}}class mE extends ba{clone(){return new mE(null,ye(this.fields),this.geojson,this.signal)}static parseAll(l,f){if(f.component.projection&&!f.component.projection.isFit)return l;let g=0;for(let v of[[ie,ct],[ze,Te]]){let D=v.map(O=>{let $=xu(f.encoding[O]);return Dr($)?$.field:So($)?{expr:"".concat($.datum)}:Hd($)?{expr:"".concat($.value)}:void 0});(D[0]||D[1])&&(l=new mE(l,D,null,f.getName("geojson_".concat(g++))))}if(f.channelHasField(ne)){let v=f.typedFieldDef(ne);v.type===Nu&&(l=new mE(l,null,v.field,f.getName("geojson_".concat(g++))))}return l}constructor(l,f,g,v){super(l);this.fields=f,this.geojson=g,this.signal=v}dependentFields(){var l;let f=((l=this.fields)!==null&&l!==void 0?l:[]).filter(e.isString);return new Set([...this.geojson?[this.geojson]:[],...f])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(ut(this.fields))}assemble(){return[...this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class S9 extends ba{clone(){return new S9(null,this.projection,ye(this.fields),ye(this.as))}constructor(l,f,g,v){super(l);this.projection=f,this.fields=g,this.as=v}static parseAll(l,f){if(!f.projectionName())return l;for(let g of[[ie,ct],[ze,Te]]){let v=g.map(O=>{let $=xu(f.encoding[O]);return Dr($)?$.field:So($)?{expr:"".concat($.datum)}:Hd($)?{expr:"".concat($.value)}:void 0}),D=g[0]===ze?"2":"";(v[0]||v[1])&&(l=new S9(l,f.projectionName(),v,[f.getName("x".concat(D)),f.getName("y".concat(D))]))}return l}dependentFields(){return new Set(this.fields.filter(e.isString))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(ut(this.fields)," ").concat(ut(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class U4 extends ba{clone(){return new U4(null,ye(this.transform))}constructor(l,f){super(l);this.transform=f}dependentFields(){var l;return new Set([this.transform.impute,this.transform.key,...(l=this.transform.groupby)!==null&&l!==void 0?l:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(l){let{start:f=0,stop:g,step:v}=l,D=[f,g,...v?[v]:[]].join(",");return{signal:"sequence(".concat(D,")")}}static makeFromTransform(l,f){return new U4(l,f)}static makeFromEncoding(l,f){let g=f.encoding,v=g.x,D=g.y;if(Dr(v)&&Dr(D)){let O=v.impute?v:D.impute?D:void 0;if(O===void 0)return;let $=v.impute?D:D.impute?v:void 0,{method:re,value:Se,frame:Ie,keyvals:Nt}=O.impute,rn=jR(f.mark,g);return new U4(l,{impute:O.field,key:$.field,...re?{method:re}:{},...Se!==void 0?{value:Se}:{},...Ie?{frame:Ie}:{},...Nt!==void 0?{keyvals:Nt}:{},...rn.length?{groupby:rn}:{}})}return null}hash(){return"Impute ".concat(ut(this.transform))}assemble(){let{impute:l,key:f,keyvals:g,method:v,groupby:D,value:O,frame:$=[null,null]}=this.transform,re={type:"impute",field:l,key:f,...g?{keyvals:fW(g)?this.processSequence(g):g}:{},method:"value",...D?{groupby:D}:{},value:!v||v==="value"?O:null};if(v&&v!=="value"){let Se={type:"window",as:["imputed_".concat(l,"_value")],ops:[v],fields:[l],frame:$,ignorePeers:!1,...D?{groupby:D}:{}},Ie={type:"formula",expr:"datum.".concat(l," === null ? datum.imputed_").concat(l,"_value : datum.").concat(l),as:l};return[re,Se,Ie]}else return[re]}}class hL extends ba{clone(){return new hL(null,ye(this.transform))}constructor(l,f){var g,v,D;super(l);this.transform=f,this.transform=ye(f);let O=(g=this.transform.as)!==null&&g!==void 0?g:[void 0,void 0];this.transform.as=[(v=O[0])!==null&&v!==void 0?v:f.on,(D=O[1])!==null&&D!==void 0?D:f.loess]}dependentFields(){var l;return new Set([this.transform.loess,this.transform.on,...(l=this.transform.groupby)!==null&&l!==void 0?l:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(ut(this.transform))}assemble(){let{loess:l,on:f,...g}=this.transform;return{type:"loess",x:f,y:l,...g}}}class w9 extends ba{clone(){return new w9(null,ye(this.transform),this.secondary)}constructor(l,f,g){super(l);this.transform=f,this.secondary=g}static make(l,f,g,v){let D=f.component.data.sources,{from:O}=g,$=null;if(dW(O)){let re=dce(O.data,D);re||(re=new B4(O.data),D.push(re));let Se=f.getName("lookup_".concat(v));$=new Nf(re,Se,Pa.Lookup,f.component.data.outputNodeRefCounts),f.component.data.outputNodes[Se]=$}else if(hW(O)){let re=O.param;g={as:re,...g};let Se;try{Se=f.getSelectionComponent(Vt(re),re)}catch{throw new Error(Gc(re))}if($=Se.materialized,!$)throw new Error(Cc(re))}return new w9(l,g,$.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?e.array(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(ut({transform:this.transform,secondary:this.secondary}))}assemble(){let l;if(this.transform.from.fields)l={values:this.transform.from.fields,...this.transform.as?{as:e.array(this.transform.as)}:{}};else{let f=this.transform.as;e.isString(f)||(qr(Bl),f="_lookup"),l={as:[f]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...l,...this.transform.default?{default:this.transform.default}:{}}}}class pL extends ba{clone(){return new pL(null,ye(this.transform))}constructor(l,f){var g,v,D;super(l);this.transform=f,this.transform=ye(f);let O=(g=this.transform.as)!==null&&g!==void 0?g:[void 0,void 0];this.transform.as=[(v=O[0])!==null&&v!==void 0?v:"prob",(D=O[1])!==null&&D!==void 0?D:"value"]}dependentFields(){var l;return new Set([this.transform.quantile,...(l=this.transform.groupby)!==null&&l!==void 0?l:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(ut(this.transform))}assemble(){let{quantile:l,...f}=this.transform;return{type:"quantile",field:l,...f}}}class mL extends ba{clone(){return new mL(null,ye(this.transform))}constructor(l,f){var g,v,D;super(l);this.transform=f,this.transform=ye(f);let O=(g=this.transform.as)!==null&&g!==void 0?g:[void 0,void 0];this.transform.as=[(v=O[0])!==null&&v!==void 0?v:f.on,(D=O[1])!==null&&D!==void 0?D:f.regression]}dependentFields(){var l;return new Set([this.transform.regression,this.transform.on,...(l=this.transform.groupby)!==null&&l!==void 0?l:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(ut(this.transform))}assemble(){let{regression:l,on:f,...g}=this.transform;return{type:"regression",x:f,y:l,...g}}}class xL extends ba{clone(){return new xL(null,ye(this.transform))}constructor(l,f){super(l);this.transform=f}addDimensions(l){var f;this.transform.groupby=it(((f=this.transform.groupby)!==null&&f!==void 0?f:[]).concat(l),g=>g)}producedFields(){}dependentFields(){var l;return new Set([this.transform.pivot,this.transform.value,...(l=this.transform.groupby)!==null&&l!==void 0?l:[]])}hash(){return"PivotTransform ".concat(ut(this.transform))}assemble(){let{pivot:l,value:f,groupby:g,limit:v,op:D}=this.transform;return{type:"pivot",field:l,value:f,...v!==void 0?{limit:v}:{},...D!==void 0?{op:D}:{},...g!==void 0?{groupby:g}:{}}}}class gL extends ba{clone(){return new gL(null,ye(this.transform))}constructor(l,f){super(l);this.transform=f}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(ut(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}function lce(u){let l=0;function f(g,v){if(g instanceof B4&&!g.isGenerator&&!z1(g.data)&&(u.push(v),v={name:null,source:v.name,transform:[]}),g instanceof m0)if(g.parent instanceof B4&&!v.source){var D;v.format={...(D=v.format)!==null&&D!==void 0?D:{},parse:g.assembleFormatParse()},v.transform.push(...g.assembleTransforms(!0))}else v.transform.push(...g.assembleTransforms());if(g instanceof dE){v.name||(v.name="data_".concat(l++)),!v.source||v.transform.length>0?(u.push(v),g.data=v.name):g.data=v.source,u.push(...g.assemble());return}switch((g instanceof _9||g instanceof b9||g instanceof E9||g instanceof Wy||g instanceof Ht||g instanceof S9||g instanceof H1||g instanceof w9||g instanceof hE||g instanceof q4||g instanceof dL||g instanceof fL||g instanceof cL||g instanceof hL||g instanceof pL||g instanceof mL||g instanceof Qy||g instanceof gL||g instanceof xL)&&v.transform.push(g.assemble()),(g instanceof Ym||g instanceof mp||g instanceof U4||g instanceof $x||g instanceof mE)&&v.transform.push(...g.assemble()),g instanceof Nf&&(v.source&&v.transform.length===0?g.setSource(v.source):g.parent instanceof Nf?g.setSource(v.name):(v.name||(v.name="data_".concat(l++)),g.setSource(v.name),g.numChildren()===1&&(u.push(v),v={name:null,source:v.name,transform:[]}))),g.numChildren()){case 0:g instanceof Nf&&(!v.source||v.transform.length>0)&&u.push(v);break;case 1:f(g.children[0],v);break;default:{v.name||(v.name="data_".concat(l++));let O=v.name;!v.source||v.transform.length>0?u.push(v):O=v.source;for(let $ of g.children)f($,{name:null,source:O,transform:[]});break}}}return f}function AIe(u){let l=[],f=lce(l);for(let g of u.children)f(g,{source:u.name,name:null,transform:[]});return l}function TIe(u,l){let f=[],g=lce(f),v=0;for(let re of u.sources){re.hasName()||(re.dataName="source_".concat(v++));let Se=re.assemble();g(re,Se)}for(let re of f)re.transform.length===0&&delete re.transform;let D=0;for(let[re,Se]of f.entries()){var O;((O=Se.transform)!==null&&O!==void 0?O:[]).length===0&&!Se.source&&f.splice(D++,0,f.splice(re,1)[0])}for(let re of f)for(let Se of($=re.transform)!==null&&$!==void 0?$:[]){var $;Se.type==="lookup"&&(Se.from=u.outputNodes[Se.from].getSource())}for(let re of f)re.name in l&&(re.values=l[re.name]);return f}function FIe(u){return u==="top"||u==="left"||Un(u)?"header":"footer"}function DIe(u){for(let l of ee)OIe(u,l);fce(u,"x"),fce(u,"y")}function OIe(u,l){let{facet:f,config:g,child:v,component:D}=u;if(u.channelHasField(l)){var O;let $=f[l],re=Wn("title",null,g,l),Se=My($,g,{allowDisabling:!0,includeDefault:re===void 0||!!re});v.component.layoutHeaders[l].title&&(Se=e.isArray(Se)?Se.join(", "):Se,Se+=" / ".concat(v.component.layoutHeaders[l].title),v.component.layoutHeaders[l].title=null);let Ie=Wn("labelOrient",$.header,g,l),Nt=$.header!==null?Ne((O=$.header)===null||O===void 0?void 0:O.labels,g.header.labels,!0):!1,rn=wt(["bottom","right"],Ie)?"footer":"header";D.layoutHeaders[l]={title:$.header!==null?Se:null,facetFieldDef:$,[rn]:l==="facet"?[]:[cce(u,l,Nt)]}}}function cce(u,l,f){let g=l==="row"?"height":"width";return{labels:f,sizeSignal:u.child.component.layoutSize.get(g)?u.child.getSizeSignalRef(g):void 0,axes:[]}}function fce(u,l){let{child:f}=u;if(f.component.axes[l]){let{layoutHeaders:v,resolve:D}=u.component;if(D.axis[l]=aQ(D,l),D.axis[l]==="shared"){let O=l==="x"?"column":"row",$=v[O];for(let re of f.component.axes[l]){var g;let Se=FIe(re.get("orient"));(g=$[Se])!==null&&g!==void 0||($[Se]=[cce(u,O,!1)]);let Ie=P4(re,"main",u.config,{header:!0});Ie&&$[Se][0].axes.push(Ie),re.mainExtracted=!0}}}}function RIe(u){SQ(u),yL(u,"width"),yL(u,"height")}function NIe(u){SQ(u);let l=u.layout.columns===1?"width":"childWidth",f=u.layout.columns===void 0?"height":"childHeight";yL(u,l),yL(u,f)}function SQ(u){for(let l of u.children)l.parseLayoutSize()}function yL(u,l){let f=wle(l),g=xi(f),v=u.component.resolve,D=u.component.layoutSize,O;for(let re of u.children){var $;let Se=re.component.layoutSize.getWithExplicit(f),Ie=($=v.scale[g])!==null&&$!==void 0?$:Ale(g,u);if(Ie==="independent"&&Se.value==="step"){O=void 0;break}if(O){if(Ie==="independent"&&O.value!==Se.value){O=void 0;break}O=$m(O,Se,f,"")}else O=Se}if(O){for(let re of u.children)u.renameSignal(re.getName(f),u.getName(l)),re.component.layoutSize.set(f,"merged",!1);D.setWithExplicit(l,O)}else D.setWithExplicit(l,{explicit:!1,value:void 0})}function LIe(u){let{size:l,component:f}=u;for(let g of ro){let v=ts(g);if(l[v]){let D=l[v];f.layoutSize.set(v,Rh(D)?"step":D,!0)}else{let D=kIe(u,v);f.layoutSize.set(v,D,!1)}}}function kIe(u,l){let f=l==="width"?"x":"y",g=u.config,v=u.getScaleComponent(f);if(v){let D=v.get("type"),O=v.get("range");if(Be(D)){let $=Yb(g.view,l);return br(O)||Rh($)?"step":$}else return JC(g.view,l)}else{if(u.hasProjection||u.mark==="arc")return JC(g.view,l);{let D=Yb(g.view,l);return Rh(D)?D.step:D}}}function wQ(u,l,f){return pi(l,{suffix:"by_".concat(pi(u)),...f??{}})}class C9 extends uce{constructor(l,f,g,v){super(l,"facet",f,g,v,l.resolve);vn(this,"facet",void 0),vn(this,"child",void 0),vn(this,"children",void 0),this.child=DQ(l.spec,this,this.getName("child"),void 0,v),this.children=[this.child],this.facet=this.initFacet(l.facet)}initFacet(l){if(!Ud(l))return{facet:this.initFacetFieldDef(l,"facet")};let f=Le(l),g={};for(let v of f){if(![Dn,Qn].includes(v)){qr(xl(v,"facet"));break}let D=l[v];if(D.field===void 0){qr(Zo(D,v));break}g[v]=this.initFacetFieldDef(D,v)}return g}initFacetFieldDef(l,f){let g=Py(l,f);return g.header?g.header=dn(g.header):g.header===null&&(g.header=null),g}channelHasField(l){return!!this.facet[l]}fieldDef(l){return this.facet[l]}parseData(){this.component.data=vL(this),this.child.parseData()}parseLayoutSize(){SQ(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),DIe(this)}assembleSelectionTopLevelSignals(l){return this.child.assembleSelectionTopLevelSignals(l)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(l){return this.child.assembleSelectionData(l)}getHeaderLayoutMixins(){let l={};for(let D of ee)for(let O of Br){let $=this.component.layoutHeaders[D],re=$[O],{facetFieldDef:Se}=$;if(Se){let Ie=Wn("titleOrient",Se.header,this.config,D);if(["right","bottom"].includes(Ie)){var f;let Nt=Rn(D,Ie);(f=l.titleAnchor)!==null&&f!==void 0||(l.titleAnchor={}),l.titleAnchor[Nt]="end"}}if(re!=null&&re[0]){let Ie=D==="row"?"height":"width",Nt=O==="header"?"headerBand":"footerBand";if(D!=="facet"&&!this.child.component.layoutSize.get(Ie)){var g;(g=l[Nt])!==null&&g!==void 0||(l[Nt]={}),l[Nt][D]=.5}if($.title){var v;(v=l.offset)!==null&&v!==void 0||(l.offset={}),l.offset[D==="row"?"rowTitle":"columnTitle"]=10}}}return l}assembleDefaultLayout(){let{column:l,row:f}=this.facet,g=l?this.columnDistinctSignal():f?1:void 0,v="all";return(!f&&this.component.resolve.scale.x==="independent"||!l&&this.component.resolve.scale.y==="independent")&&(v="none"),{...this.getHeaderLayoutMixins(),...g?{columns:g}:{},bounds:"full",align:v}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof C9)){let l=this.getName("column_domain");return{signal:"length(data('".concat(l,"'))")}}}assembleGroupStyle(){}assembleGroup(l){return this.parent&&this.parent instanceof C9?{...this.channelHasField("column")?{encode:{update:{columns:{field:pi(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(l)}:super.assembleGroup(l)}getCardinalityAggregateForChild(){let l=[],f=[],g=[];if(this.child instanceof C9){if(this.child.channelHasField("column")){let v=pi(this.child.facet.column);l.push(v),f.push("distinct"),g.push("distinct_".concat(v))}}else for(let v of ro){let D=this.child.component.scales[v];if(D&&!D.merged){let O=D.get("type"),$=D.get("range");if(Be(O)&&br($)){let re=lL(this.child,v),Se=vQ(re);Se?(l.push(Se),f.push("distinct"),g.push("distinct_".concat(Se))):qr(vr(v))}}}return{fields:l,ops:f,as:g}}assembleFacet(){let{name:l,data:f}=this.component.data.facetRoot,{row:g,column:v}=this.facet,{fields:D,ops:O,as:$}=this.getCardinalityAggregateForChild(),re=[];for(let Ie of ee){let Nt=this.facet[Ie];if(Nt){re.push(pi(Nt));let{bin:rn,sort:_n}=Nt;if(pr(rn)&&re.push(pi(Nt,{binSuffix:"end"})),_a(_n)){let{field:Xn,op:cr=wl}=_n,er=wQ(Nt,_n);g&&v?(D.push(er),O.push("max"),$.push(er)):(D.push(Xn),O.push(cr),$.push(er))}else if(e.isArray(_n)){let Xn=gn(Nt,Ie);D.push(Xn),O.push("max"),$.push(Xn)}}}let Se=!!g&&!!v;return{name:l,data:f,groupby:re,...Se||D.length>0?{aggregate:{...Se?{cross:Se}:{},...D.length?{fields:D,ops:O,as:$}:{}}}:{}}}facetSortFields(l){let{facet:f}=this,g=f[l];return g?_a(g.sort)?[wQ(g,g.sort,{expr:"datum"})]:e.isArray(g.sort)?[gn(g,l,{expr:"datum"})]:[pi(g,{expr:"datum"})]:[]}facetSortOrder(l){let{facet:f}=this,g=f[l];if(g){let{sort:v}=g;return[(_a(v)?v.order:!e.isArray(v)&&v)||"ascending"]}return[]}assembleLabelTitle(){let{facet:l,config:f}=this;if(l.facet)return wo(l.facet,"facet",f);let g={row:["top","bottom"],column:["left","right"]};for(let D of Ar)if(l[D]){var v;let O=Wn("labelOrient",(v=l[D])===null||v===void 0?void 0:v.header,f,D);if(g[D].includes(O))return wo(l[D],D,f)}}assembleMarks(){let{child:l}=this,f=this.component.data.facetRoot,g=AIe(f),v=l.assembleGroupEncodeEntry(!1),D=this.assembleLabelTitle()||l.assembleTitle(),O=l.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...D?{title:D}:{},...O?{style:O}:{},from:{facet:this.assembleFacet()},sort:{field:ee.map(re=>this.facetSortFields(re)).flat(),order:ee.map(re=>this.facetSortOrder(re)).flat()},...g.length>0?{data:g}:{},...v?{encode:{update:v}}:{},...l.assembleGroup(CW(this,[]))}]}getMapping(){return this.facet}}function IIe(u,l){let{row:f,column:g}=l;if(f&&g){let v=null;for(let D of[f,g])if(_a(D.sort)){let{field:O,op:$=wl}=D.sort;u=v=new q4(u,{joinaggregate:[{op:$,field:O,as:wQ(D,D.sort,{forAs:!0})}],groupby:[pi(D)]})}return v}return null}function dce(u,l){for(let O of l){var f,g,v,D;let $=O.data;if(u.name&&O.hasName()&&u.name!==O.dataName)continue;let re=(f=u.format)===null||f===void 0?void 0:f.mesh,Se=(g=$.format)===null||g===void 0?void 0:g.feature;if(re&&Se)continue;let Ie=(v=u.format)===null||v===void 0?void 0:v.feature;if((Ie||Se)&&Ie!==Se)continue;let Nt=(D=$.format)===null||D===void 0?void 0:D.mesh;if(!((re||Nt)&&re!==Nt)){if(R4(u)&&R4($)){if(Xe(u.values,$.values))return O}else if(z1(u)&&z1($)){if(u.url===$.url)return O}else if(ON(u)&&u.name===O.dataName)return O}}return null}function MIe(u,l){if(u.data||!u.parent){if(u.data===null){let g=new B4({values:[]});return l.push(g),g}let f=dce(u.data,l);if(f)return Vm(u.data)||(f.data.format=It({},u.data.format,f.data.format)),!f.hasName()&&u.data.name&&(f.dataName=u.data.name),f;{let g=new B4(u.data);return l.push(g),g}}else return u.parent.component.data.facetRoot?u.parent.component.data.facetRoot:u.parent.component.data.main}function PIe(u,l,f){let g=0;for(let O of l.transforms){let $,re;if(xW(O))re=u=new Ht(u,O),$="derived";else if(dp(O)){var v;let Se=Dke(O);re=u=(v=m0.makeWithAncestors(u,{},Se,f))!==null&&v!==void 0?v:u,u=new Wy(u,l,O.filter)}else if(EN(O))re=u=Ym.makeFromTransform(u,O,l),$="number";else if(yW(O))$="date",f.getWithExplicit(O.field).value===void 0&&(u=new m0(u,{[O.field]:$}),f.set(O.field,$,!1)),re=u=mp.makeFromTransform(u,O);else if(vW(O))re=u=H1.makeFromTransform(u,O),$="number",p9(l)&&(u=new Qy(u));else if(vN(O))re=u=w9.make(u,l,O,g++),$="derived";else if(gu(O))re=u=new hE(u,O),$="number";else if(Pu(O))re=u=new q4(u,O),$="number";else if(_W(O))re=u=$x.makeFromTransform(u,O),$="derived";else if(SN(O))re=u=new dL(u,O),$="derived";else if(bN(O))re=u=new fL(u,O),$="derived";else if(pW(O))re=u=new xL(u,O),$="derived";else if(tE(O))u=new gL(u,O);else if(gW(O))re=u=U4.makeFromTransform(u,O),$="derived";else if(n9(O))re=u=new cL(u,O),$="derived";else if(mW(O))re=u=new pL(u,O),$="derived";else if(U1(O))re=u=new mL(u,O),$="derived";else if(_N(O))re=u=new hL(u,O),$="derived";else{qr(ec(O));continue}if(re&&$!==void 0)for(let Se of(D=re.producedFields())!==null&&D!==void 0?D:[]){var D;f.set(Se,$,!1)}}return u}function vL(u){var l,f,g;let v=MIe(u,u.component.data.sources),{outputNodes:D,outputNodeRefCounts:O}=u.component.data,$=u.data,Se=!($&&(Vm($)||z1($)||R4($)))&&u.parent?u.parent.component.data.ancestorParse.clone():new DN;Vm($)?(RN($)?v=new b9(v,$.sequence):s9($)&&(v=new _9(v,$.graticule)),Se.parseNothing=!0):($==null||(l=$.format)===null||l===void 0?void 0:l.parse)===null&&(Se.parseNothing=!0),v=(f=m0.makeExplicit(v,u,Se))!==null&&f!==void 0?f:v,v=new Qy(v);let Ie=u.parent&&pE(u.parent);if((lc(u)||V1(u))&&Ie){var Nt;v=(Nt=Ym.makeFromEncoding(v,u))!==null&&Nt!==void 0?Nt:v}u.transforms.length>0&&(v=PIe(v,u,Se));let rn=Rke(u),_n=Oke(u);if(v=(g=m0.makeWithAncestors(v,{},{...rn,..._n},Se))!==null&&g!==void 0?g:v,lc(u)&&(v=mE.parseAll(v,u),v=S9.parseAll(v,u)),lc(u)||V1(u)){var Xn;if(!Ie){var cr;v=(cr=Ym.makeFromEncoding(v,u))!==null&&cr!==void 0?cr:v}v=(Xn=mp.makeFromEncoding(v,u))!==null&&Xn!==void 0?Xn:v,v=Ht.parseAllForSortIndex(v,u)}let er=u.getDataName(Pa.Raw),Rr=new Nf(v,er,Pa.Raw,O);if(D[er]=Rr,v=Rr,lc(u)){var Mr,Ii;let Zs=H1.makeFromEncoding(v,u);Zs&&(v=Zs,p9(u)&&(v=new Qy(v))),v=(Mr=U4.makeFromEncoding(v,u))!==null&&Mr!==void 0?Mr:v,v=(Ii=$x.makeFromEncoding(v,u))!==null&&Ii!==void 0?Ii:v}if(lc(u)){var ni;v=(ni=E9.make(v,u))!==null&&ni!==void 0?ni:v}let fi=u.getDataName(Pa.Main),xs=new Nf(v,fi,Pa.Main,O);D[fi]=xs,v=xs,lc(u)&&JW(u,xs);let ss=null;if(V1(u)){var ko;let Zs=u.getName("facet");v=(ko=IIe(v,u.facet))!==null&&ko!==void 0?ko:v,ss=new dE(v,u,Zs,xs.getSource()),D[Zs]=ss}return{...u.component.data,outputNodes:D,outputNodeRefCounts:O,raw:Rr,main:xs,facetRoot:ss,ancestorParse:Se}}class BIe extends EQ{constructor(l,f,g,v){var D,O,$,re;super(l,"concat",f,g,v,l.resolve);vn(this,"children",void 0),(((D=l.resolve)===null||D===void 0||(O=D.axis)===null||O===void 0?void 0:O.x)==="shared"||(($=l.resolve)===null||$===void 0||(re=$.axis)===null||re===void 0?void 0:re.y)==="shared")&&qr(t0),this.children=this.getChildren(l).map((Se,Ie)=>DQ(Se,this,this.getName("concat_".concat(Ie)),void 0,v))}parseData(){this.component.data=vL(this);for(let l of this.children)l.parseData()}parseSelections(){this.component.selection={};for(let l of this.children){l.parseSelections();for(let f of Le(l.component.selection))this.component.selection[f]=l.component.selection[f]}}parseMarkGroup(){for(let l of this.children)l.parseMarkGroup()}parseAxesAndHeaders(){for(let l of this.children)l.parseAxesAndHeaders()}getChildren(l){return Wb(l)?l.vconcat:YC(l)?l.hconcat:l.concat}parseLayoutSize(){NIe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(l){return this.children.reduce((f,g)=>g.assembleSelectionTopLevelSignals(f),l)}assembleSignals(){return this.children.forEach(l=>l.assembleSignals()),[]}assembleLayoutSignals(){let l=sd(this);for(let f of this.children)l.push(...f.assembleLayoutSignals());return l}assembleSelectionData(l){return this.children.reduce((f,g)=>g.assembleSelectionData(f),l)}assembleMarks(){return this.children.map(l=>{let f=l.assembleTitle(),g=l.assembleGroupStyle(),v=l.assembleGroupEncodeEntry(!1);return{type:"group",name:l.getName("group"),...f?{title:f}:{},...g?{style:g}:{},...v?{encode:{update:v}}:{},...l.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){let l=this.layout.columns;return{...l!=null?{columns:l}:{},bounds:"full",align:"each"}}}function jIe(u){return u===!1||u===null}let qIe={disable:1,gridScale:1,scale:1,...IR,labelExpr:1,encode:1},hce=Le(qIe);class CQ extends pp{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;super();this.explicit=l,this.implicit=f,this.mainExtracted=g}clone(){return new CQ(ye(this.explicit),ye(this.implicit),this.mainExtracted)}hasAxisPart(l){return l==="axis"?!0:l==="grid"||l==="title"?!!this.get(l):!jIe(this.get(l))}hasOrientSignalRef(){return Un(this.explicit.orient)}}function UIe(u,l,f){var g;let{encoding:v,config:D}=u,O=(g=xu(v[l]))!==null&&g!==void 0?g:xu(v[ws(l)]),$=u.axis(l)||{},{format:re,formatType:Se}=$;return wi(Se)?{text:Gs({fieldOrDatumDef:O,field:"datum.value",format:re,formatType:Se,config:D}),...f}:f}function zIe(u){return ro.reduce((l,f)=>(u.component.scales[f]&&(l[f]=[YIe(f,u)]),l),{})}let HIe={bottom:"top",top:"bottom",left:"right",right:"left"};function $Ie(u){let{axes:l,resolve:f}=u.component,g={top:0,bottom:0,right:0,left:0};for(let D of u.children){D.parseAxesAndHeaders();for(let O of Le(D.component.axes))f.axis[O]=aQ(u.component.resolve,O),f.axis[O]==="shared"&&(l[O]=VIe(l[O],D.component.axes[O]),l[O]||(f.axis[O]="independent",delete l[O]))}for(let D of ro){for(let O of u.children)if(!!O.component.axes[D]){if(f.axis[D]==="independent"){var v;l[D]=((v=l[D])!==null&&v!==void 0?v:[]).concat(O.component.axes[D]);for(let $ of O.component.axes[D]){let{value:re,explicit:Se}=$.getWithExplicit("orient");if(!Un(re)){if(g[re]>0&&!Se){let Ie=HIe[re];g[re]>g[Ie]&&$.set("orient",Ie,!1)}g[re]++}}}delete O.component.axes[D]}if(f.axis[D]==="independent"&&l[D]&&l[D].length>1)for(let O of l[D])!!O.get("grid")&&!O.explicit.grid&&(O.implicit.grid=!1)}}function VIe(u,l){if(u){if(u.length!==l.length)return;let f=u.length;for(let g=0;g<f;g++){let v=u[g],D=l[g];if(!!v!=!!D)return;if(v&&D){let O=v.getWithExplicit("orient"),$=D.getWithExplicit("orient");if(O.explicit&&$.explicit&&O.value!==$.value)return;u[g]=WIe(v,D)}}}else return l.map(f=>f.clone());return u}function WIe(u,l){for(let f of hce){let g=$m(u.getWithExplicit(f),l.getWithExplicit(f),f,"axis",(v,D)=>{switch(f){case"title":return Jn(v,D);case"gridScale":return{explicit:v.explicit,value:Ne(v.value,D.value)}}return Wo(v,D,f,"axis")});u.setWithExplicit(f,g)}return u}function QIe(u,l,f,g,v){if(l==="disable")return f!==void 0;switch(f=f||{},l){case"titleAngle":case"labelAngle":return u===(Un(f.labelAngle)?f.labelAngle:nn(f.labelAngle));case"values":return!!f.values;case"encode":return!!f.encoding||!!f.labelAngle;case"title":if(u===q(g,v))return!0}return u===f[l]}let GIe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function YIe(u,l){var f,g,v,D,O;let $=l.axis(u),re=new CQ,Se=xu(l.encoding[u]),{mark:Ie,config:Nt}=l,rn=((f=$)===null||f===void 0?void 0:f.orient)||((g=Nt[u==="x"?"axisX":"axisY"])===null||g===void 0?void 0:g.orient)||((v=Nt.axis)===null||v===void 0?void 0:v.orient)||h(u),_n=l.getScaleComponent(u).get("type"),Xn=eQ(u,_n,rn,l.config),cr=$!==void 0?!$:g9("disable",Nt.style,(D=$)===null||D===void 0?void 0:D.style,Xn).configValue;if(re.set("disable",cr,$!==void 0),cr)return re;$=$||{};let er=iQ(Se,$,u,Nt.style,Xn),Rr={fieldOrDatumDef:Se,axis:$,channel:u,model:l,scaleType:_n,orient:rn,labelAngle:er,mark:Ie,config:Nt};for(let ni of hce){let fi=ni in iL?iL[ni](Rr):MR(ni)?$[ni]:void 0,xs=fi!==void 0,ss=QIe(fi,ni,$,l,u);if(xs&&ss)re.set(ni,fi,ss);else{let{configValue:ko=void 0,configFrom:Zs=void 0}=MR(ni)&&ni!=="values"?g9(ni,Nt.style,$.style,Xn):{},Va=ko!==void 0;xs&&!Va?re.set(ni,fi,ss):(Zs!=="vgAxisConfig"||GIe.has(ni)&&Va||C4(ko)||Un(ko))&&re.set(ni,ko,!1)}}let Mr=(O=$.encoding)!==null&&O!==void 0?O:{},Ii=kR.reduce((ni,fi)=>{var xs;if(!re.hasAxisPart(fi))return ni;let ss=Cle((xs=Mr[fi])!==null&&xs!==void 0?xs:{},l),ko=fi==="labels"?UIe(l,u,ss):ss;return ko!==void 0&&!Ze(ko)&&(ni[fi]={update:ko}),ni},{});return Ze(Ii)||re.set("encode",Ii,!!$.encoding||$.labelAngle!==void 0),re}function KIe(u){let{encoding:l,size:f}=u;for(let g of ro){let v=ts(g);Rh(f[v])&&ac(l[g])&&(delete f[v],qr(tt(v)))}return f}function JIe(u,l,f){let g=dn(u),v=Ei("orient",g,f);if(g.orient=tMe(g.type,l,v),v!==void 0&&v!==g.orient&&qr(k(g.orient,v)),g.type==="bar"&&g.orient){let $=Ei("cornerRadiusEnd",g,f);if($!==void 0){let re=g.orient==="horizontal"&&l.x2||g.orient==="vertical"&&l.y2?["cornerRadius"]:T[g.orient];for(let Se of re)g[Se]=$;g.cornerRadiusEnd!==void 0&&delete g.cornerRadiusEnd}}return Ei("opacity",g,f)===void 0&&(g.opacity=ZIe(g.type,l)),Ei("cursor",g,f)===void 0&&(g.cursor=XIe(g,l,f)),g}function XIe(u,l,f){return l.href||u.href||Ei("href",u,f)?"pointer":u.cursor}function ZIe(u,l){if(wt([Dh,Ff,up,jd],u)&&!qb(l))return .7}function eMe(u,l,f){let{graticule:g}=f;if(g)return!1;let v=Ms("filled",u,l),D=u.type;return Ne(v,D!==Dh&&D!==Bd&&D!==Tf)}function tMe(u,l,f){switch(u){case Dh:case up:case jd:case Sl:case Ny:case Ry:return}let{x:g,y:v,x2:D,y2:O}=l;switch(u){case El:if(Dr(g)&&(as(g.bin)||Dr(v)&&v.aggregate&&!g.aggregate))return"vertical";if(Dr(v)&&(as(v.bin)||Dr(g)&&g.aggregate&&!v.aggregate))return"horizontal";if(O||D){if(f)return f;if(!D&&(Dr(g)&&g.type===a0&&!pr(g.bin)||ky(g)))return"horizontal";if(!O&&(Dr(v)&&v.type===a0&&!pr(v.bin)||ky(v)))return"vertical"}case Tf:if(D&&!(Dr(g)&&as(g.bin))&&O&&!(Dr(v)&&as(v.bin)))return;case I1:if(O)return Dr(v)&&as(v.bin)?"horizontal":"vertical";if(D)return Dr(g)&&as(g.bin)?"vertical":"horizontal";if(u===Tf){if(g&&!v)return"vertical";if(v&&!g)return"horizontal"}case Bd:case Ff:{let $=ac(g),re=ac(v);if(f)return f;if($&&!re)return u!=="tick"?"horizontal":"vertical";if(!$&&re)return u!=="tick"?"vertical":"horizontal";if($&&re){let Se=g,Ie=v,Nt=Se.type===rf,rn=Ie.type===rf;return Nt&&!rn?u!=="tick"?"vertical":"horizontal":!Nt&&rn?u!=="tick"?"horizontal":"vertical":!Se.aggregate&&Ie.aggregate?u!=="tick"?"vertical":"horizontal":Se.aggregate&&!Ie.aggregate&&u!=="tick"?"horizontal":"vertical"}else return}}return"vertical"}let nMe={vgMark:"arc",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Nc("x",u,{defaultPos:"mid"}),...Nc("y",u,{defaultPos:"mid"}),...Qm(u,"radius"),...Qm(u,"theta")})},rMe={vgMark:"area",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...iE("x",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="horizontal"}),...iE("y",u,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:u.markDef.orient==="vertical"}),...c9(u)})},iMe={vgMark:"rect",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Qm(u,"x"),...Qm(u,"y")})},sMe={vgMark:"shape",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:u=>{let{encoding:l}=u,f=l.shape;return[{type:"geoshape",projection:u.projectionName(),...f&&Dr(f)&&f.type===Nu?{field:pi(f,{expr:"datum"})}:{}}]}},oMe={vgMark:"image",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Qm(u,"x"),...Qm(u,"y"),...rE(u,"url")})},aMe={vgMark:"line",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Nc("x",u,{defaultPos:"mid"}),...Nc("y",u,{defaultPos:"mid"}),...uc("size",u,{vgChannel:"strokeWidth"}),...c9(u)})},uMe={vgMark:"trail",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Nc("x",u,{defaultPos:"mid"}),...Nc("y",u,{defaultPos:"mid"}),...uc("size",u),...c9(u)})};function AQ(u,l){let{config:f}=u;return{...Vd(u,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Nc("x",u,{defaultPos:"mid"}),...Nc("y",u,{defaultPos:"mid"}),...uc("size",u),...uc("angle",u),...lMe(u,f,l)}}function lMe(u,l,f){return f?{shape:{value:f}}:uc("shape",u)}let cMe={vgMark:"symbol",encodeEntry:u=>AQ(u)},fMe={vgMark:"symbol",encodeEntry:u=>AQ(u,"circle")},dMe={vgMark:"symbol",encodeEntry:u=>AQ(u,"square")},hMe={vgMark:"rect",encodeEntry:u=>({...Vd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Qm(u,"x"),...Qm(u,"y")})},pMe={vgMark:"rule",encodeEntry:u=>{let{markDef:l}=u,f=l.orient;return!u.encoding.x&&!u.encoding.y&&!u.encoding.latitude&&!u.encoding.longitude?{}:{...Vd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...iE("x",u,{defaultPos:f==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:f!=="vertical"}),...iE("y",u,{defaultPos:f==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:f!=="horizontal"}),...uc("size",u,{vgChannel:"strokeWidth"})}}},mMe={vgMark:"text",encodeEntry:u=>{let{config:l,encoding:f}=u;return{...Vd(u,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Nc("x",u,{defaultPos:"mid"}),...Nc("y",u,{defaultPos:"mid"}),...rE(u),...uc("size",u,{vgChannel:"fontSize"}),...uc("angle",u),...VN("align",xMe(u.markDef,f,l)),...VN("baseline",gMe(u.markDef,f,l)),...Nc("radius",u,{defaultPos:null}),...Nc("theta",u,{defaultPos:null})}}};function xMe(u,l,f){if(Ei("align",u,f)===void 0)return"center"}function gMe(u,l,f){if(Ei("baseline",u,f)===void 0)return"middle"}let yMe={vgMark:"rect",encodeEntry:u=>{let{config:l,markDef:f}=u,g=f.orient,v=g==="horizontal"?"width":"height",D=g==="horizontal"?"height":"width";return{...Vd(u,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Nc("x",u,{defaultPos:"mid",vgChannel:"xc"}),...Nc("y",u,{defaultPos:"mid",vgChannel:"yc"}),...uc("size",u,{defaultValue:vMe(u),vgChannel:v}),[D]:Ur(Ei("thickness",f,l))}}};function vMe(u){var l;let{config:f,markDef:g}=u,{orient:v}=g,D=v==="horizontal"?"width":"height",O=u.getScaleComponent(v==="horizontal"?"x":"y"),$=(l=Ei("size",g,f,{vgChannel:D}))!==null&&l!==void 0?l:f.tick.bandSize;if($!==void 0)return $;{let re=O?O.get("range"):void 0;return re&&br(re)&&e.isNumber(re.step)?re.step*3/4:Gb(f.view,D)*3/4}}let _L={arc:nMe,area:rMe,bar:iMe,circle:fMe,geoshape:sMe,image:oMe,line:aMe,point:cMe,rect:hMe,rule:pMe,square:dMe,text:mMe,tick:yMe,trail:uMe};function _Me(u){if(wt([Bd,I1,M1],u.mark)){let l=jR(u.mark,u.encoding);if(l.length>0)return bMe(u,l)}else if(u.mark===El){let l=mi.some(f=>Ei(f,u.markDef,u.config));if(u.stack&&!u.fieldDef("size")&&l)return EMe(u)}return TQ(u)}let pce="faceted_path_";function bMe(u,l){return[{name:u.getName("pathgroup"),type:"group",from:{facet:{name:pce+u.requestDataName(Pa.Main),data:u.requestDataName(Pa.Main),groupby:l}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:TQ(u,{fromPrefix:pce})}]}let mce="stack_group_";function EMe(u){var l;let[f]=TQ(u,{fromPrefix:mce}),g=u.scaleName(u.stack.fieldChannel),v=function(){let Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return u.vgField(u.stack.fieldChannel,Ie)},D=(Ie,Nt)=>{let rn=[v({prefix:"min",suffix:"start",expr:Nt}),v({prefix:"max",suffix:"start",expr:Nt}),v({prefix:"min",suffix:"end",expr:Nt}),v({prefix:"max",suffix:"end",expr:Nt})];return"".concat(Ie,"(").concat(rn.map(_n=>"scale('".concat(g,"',").concat(_n,")")).join(","),")")},O,$;u.stack.fieldChannel==="x"?(O={...Ce(f.encode.update,["y","yc","y2","height",...mi]),x:{signal:D("min","datum")},x2:{signal:D("max","datum")},clip:{value:!0}},$={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},f.encode.update={...xe(f.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(O={...Ce(f.encode.update,["x","xc","x2","width"]),y:{signal:D("min","datum")},y2:{signal:D("max","datum")},clip:{value:!0}},$={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},f.encode.update={...xe(f.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(let Ie of mi){let Nt=Ms(Ie,u.markDef,u.config);f.encode.update[Ie]?(O[Ie]=f.encode.update[Ie],delete f.encode.update[Ie]):Nt&&(O[Ie]=Ur(Nt)),Nt&&(f.encode.update[Ie]={value:0})}let re=[];if(((l=u.stack.groupbyChannels)===null||l===void 0?void 0:l.length)>0)for(let Ie of u.stack.groupbyChannels){let Nt=u.fieldDef(Ie),rn=pi(Nt);rn&&re.push(rn),(Nt!=null&&Nt.bin||Nt!=null&&Nt.timeUnit)&&re.push(pi(Nt,{binSuffix:"end"}))}return O=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((Ie,Nt)=>{if(f.encode.update[Nt])return{...Ie,[Nt]:f.encode.update[Nt]};{let rn=Ms(Nt,u.markDef,u.config);return rn!==void 0?{...Ie,[Nt]:Ur(rn)}:Ie}},O),O.stroke&&(O.strokeForeground={value:!0},O.strokeOffset={value:0}),[{type:"group",from:{facet:{data:u.requestDataName(Pa.Main),name:mce+u.requestDataName(Pa.Main),groupby:re,aggregate:{fields:[v({suffix:"start"}),v({suffix:"start"}),v({suffix:"end"}),v({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:O},marks:[{type:"group",encode:{update:$},marks:[f]}]}]}function SMe(u){let{encoding:l,stack:f,mark:g,markDef:v,config:D}=u,O=l.order;if(!(!e.isArray(O)&&Hd(O)&&Qt(O.value)||!O&&Qt(Ei("order",v,D)))){if((e.isArray(O)||Dr(O))&&!f)return No(O,{expr:"datum"});if(sf(g)){let re=v.orient==="horizontal"?"y":"x",Se=l[re];if(Dr(Se)){let Ie=Se.sort;if(e.isArray(Ie))return{field:pi(Se,{prefix:re,suffix:"sort_index",expr:"datum"})};if(_a(Ie))return{field:pi({aggregate:qb(u.encoding)?Ie.op:void 0,field:Ie.field},{expr:"datum"})};if(c0(Ie)){let Nt=u.fieldDef(Ie.encoding);return{field:pi(Nt,{expr:"datum"}),order:Ie.order}}else{if(Ie===null)return;var $;return{field:pi(Se,{binSuffix:($=u.stack)!==null&&$!==void 0&&$.impute?"mid":void 0,expr:"datum"})}}}return}}}function TQ(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromPrefix:""},{mark:f,markDef:g,encoding:v,config:D}=u,O=Ne(g.clip,wMe(u),CMe(u)),$=gs(g),re=v.key,Se=SMe(u),Ie=AMe(u),Nt=Ei("aria",g,D),rn=_L[f].postEncodingTransform?_L[f].postEncodingTransform(u):null;return[{name:u.getName("marks"),type:_L[f].vgMark,...O?{clip:!0}:{},...$?{style:$}:{},...re?{key:re.field}:{},...Se?{sort:Se}:{},...Ie||{},...Nt===!1?{aria:Nt}:{},from:{data:l.fromPrefix+u.requestDataName(Pa.Main)},encode:{update:_L[f].encodeEntry(u)},...rn?{transform:rn}:{}}]}function wMe(u){let l=u.getScaleComponent("x"),f=u.getScaleComponent("y");return l!=null&&l.get("selectionExtent")||f!=null&&f.get("selectionExtent")?!0:void 0}function CMe(u){let l=u.component.projection;return l&&!l.isFit?!0:void 0}function AMe(u){if(!u.component.selection)return null;let l=Le(u.component.selection).length,f=l,g=u.parent;for(;g&&f===0;)f=Le(g.component.selection).length,g=g.parent;return f?{interactive:l>0||!!u.encoding.tooltip}:null}class xce extends uce{constructor(l,f,g){var v;let D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},O=arguments.length>4?arguments[4]:void 0;super(l,"unit",f,g,O,void 0,eN(l)?l.view:void 0);vn(this,"markDef",void 0),vn(this,"encoding",void 0),vn(this,"specifiedScales",{}),vn(this,"stack",void 0),vn(this,"specifiedAxes",{}),vn(this,"specifiedLegends",{}),vn(this,"specifiedProjection",{}),vn(this,"selection",[]),vn(this,"children",[]);let $=ic(l.mark)?{...l.mark}:{type:l.mark},re=$.type;$.filled===void 0&&($.filled=eMe($,O,{graticule:l.data&&s9(l.data)}));let Se=this.encoding=CV(l.encoding||{},re,$.filled,O);this.markDef=JIe($,Se,O),this.size=KIe({encoding:Se,size:eN(l)?{...D,...l.width?{width:l.width}:{},...l.height?{height:l.height}:{}}:D}),this.stack=pN(re,Se),this.specifiedScales=this.initScales(re,Se),this.specifiedAxes=this.initAxes(Se),this.specifiedLegends=this.initLegends(Se),this.specifiedProjection=l.projection,this.selection=((v=l.params)!==null&&v!==void 0?v:[]).filter(Ie=>QC(Ie))}get hasProjection(){let{encoding:l}=this,f=this.mark===P1,g=l&&Et.some(v=>Ns(l[v]));return f||g}scaleDomain(l){let f=this.specifiedScales[l];return f?f.domain:void 0}axis(l){return this.specifiedAxes[l]}legend(l){return this.specifiedLegends[l]}initScales(l,f){return vs.reduce((g,v)=>{let D=xu(f[v]);if(D){var O;g[v]=this.initScale((O=D.scale)!==null&&O!==void 0?O:{})}return g},{})}initScale(l){let{domain:f,range:g}=l,v=dn(l);return e.isArray(f)&&(v.domain=f.map(gi)),e.isArray(g)&&(v.range=g.map(gi)),v}initAxes(l){return ro.reduce((f,g)=>{let v=l[g];if(Ns(v)||g===Pn&&Ns(l.x2)||g===ar&&Ns(l.y2)){let D=Ns(v)?v.axis:void 0;f[g]=D&&this.initAxis({...D})}return f},{})}initAxis(l){let f=Le(l),g={};for(let v of f){let D=l[v];g[v]=C4(D)?ii(D):gi(D)}return g}initLegends(l){return ma.reduce((f,g)=>{let v=xu(l[g]);if(v&&ki(g)){let D=v.legend;f[g]=D&&dn(D)}return f},{})}parseData(){this.component.data=vL(this)}parseLayoutSize(){LIe(this)}parseSelections(){this.component.selection=m9(this,this.selection)}parseMarkGroup(){this.component.mark=_Me(this)}parseAxesAndHeaders(){this.component.axes=zIe(this)}assembleSelectionTopLevelSignals(l){return AW(this,l)}assembleSignals(){return[...nL(this),...wW(this,[])]}assembleSelectionData(l){return TW(this,l)}assembleLayout(){return null}assembleLayoutSignals(){return sd(this)}assembleMarks(){var l;let f=(l=this.component.mark)!==null&&l!==void 0?l:[];return(!this.parent||!pE(this.parent))&&(f=LN(this,f)),f.map(this.correctDataNames)}assembleGroupStyle(){let{style:l}=this.view||{};if(l!==void 0)return l;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(l){return zx(this.encoding,l)}fieldDef(l){let f=this.encoding[l];return Oh(f)}typedFieldDef(l){let f=this.fieldDef(l);return zd(f)?f:null}}class FQ extends EQ{constructor(l,f,g,v,D){super(l,"layer",f,g,D,l.resolve,l.view);vn(this,"children",void 0);let O={...v,...l.width?{width:l.width}:{},...l.height?{height:l.height}:{}};this.children=l.layer.map(($,re)=>{if(Xb($))return new FQ($,this,this.getName("layer_".concat(re)),O,D);if(fp($))return new xce($,this,this.getName("layer_".concat(re)),O,D);throw new Error(ae($))})}parseData(){this.component.data=vL(this);for(let l of this.children)l.parseData()}parseLayoutSize(){RIe(this)}parseSelections(){this.component.selection={};for(let l of this.children){l.parseSelections();for(let f of Le(l.component.selection))this.component.selection[f]=l.component.selection[f]}}parseMarkGroup(){for(let l of this.children)l.parseMarkGroup()}parseAxesAndHeaders(){$Ie(this)}assembleSelectionTopLevelSignals(l){return this.children.reduce((f,g)=>g.assembleSelectionTopLevelSignals(f),l)}assembleSignals(){return this.children.reduce((l,f)=>l.concat(f.assembleSignals()),nL(this))}assembleLayoutSignals(){return this.children.reduce((l,f)=>l.concat(f.assembleLayoutSignals()),sd(this))}assembleSelectionData(l){return this.children.reduce((f,g)=>g.assembleSelectionData(f),l)}assembleGroupStyle(){let l=new Set;for(let g of this.children)for(let v of e.array(g.assembleGroupStyle()))l.add(v);let f=Array.from(l);return f.length>1?f:f.length===1?f[0]:void 0}assembleTitle(){let l=super.assembleTitle();if(l)return l;for(let f of this.children)if(l=f.assembleTitle(),l)return l}assembleLayout(){return null}assembleMarks(){return o9(this,this.children.flatMap(l=>l.assembleMarks()))}assembleLegends(){return this.children.reduce((l,f)=>l.concat(f.assembleLegends()),Mle(this))}}function DQ(u,l,f,g,v){if(lp(u))return new C9(u,l,f,v);if(Xb(u))return new FQ(u,l,f,g,v);if(fp(u))return new xce(u,l,f,g,v);if(QV(u))return new BIe(u,l,f,v);throw new Error(ae(u))}function TMe(u){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.logger&&Sf(l.logger),l.fieldTitle&&DR(l.fieldTitle);try{let f=Jb(e.mergeConfig(l.config,u.config)),g=AN(u,f),v=DQ(g,null,"",void 0,f);return v.parse(),Wke(v.component.data,v),{spec:DMe(v,FMe(u,g.autosize,f,v),u.datasets,u.usermeta),normalized:g}}finally{l.logger&&Dc(),l.fieldTitle&&bV()}}function FMe(u,l,f,g){let v=g.component.layoutSize.get("width"),D=g.component.layoutSize.get("height");if(l===void 0?(l={type:"pad"},g.hasAxisOrientSignalRef()&&(l.resize=!0)):e.isString(l)&&(l={type:l}),v&&D&&GV(l.type)){if(v==="step"&&D==="step")qr(rr()),l.type="pad";else if(v==="step"||D==="step"){let O=v==="step"?"width":"height";qr(rr(xi(O)));let $=O==="width"?"height":"width";l.type=YV($)}}return{...Le(l).length===1&&l.type?l.type==="pad"?{}:{autosize:l.type}:{autosize:l},...ZR(f,!1),...ZR(u,!0)}}function DMe(u,l){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3?arguments[3]:void 0,v=u.config?fN(u.config):void 0,D=[].concat(u.assembleSelectionData([]),TIe(u.component.data,f)),O=u.assembleProjections(),$=u.assembleTitle(),re=u.assembleGroupStyle(),Se=u.assembleGroupEncodeEntry(!0),Ie=u.assembleLayoutSignals();Ie=Ie.filter(_n=>(_n.name==="width"||_n.name==="height")&&_n.value!==void 0?(l[_n.name]=+_n.value,!1):!0);let{params:Nt,...rn}=l;return{$schema:"https://vega.github.io/schema/vega/v5.json",...u.description?{description:u.description}:{},...rn,...$?{title:$}:{},...re?{style:re}:{},...Se?{encode:{update:Se}}:{},data:D,...O.length>0?{projections:O}:{},...u.assembleGroup([...Ie,...u.assembleSelectionTopLevelSignals([]),...XR(Nt)]),...v?{config:v}:{},...g?{usermeta:g}:{}}}let OMe=me.version;n.accessPathDepth=In,n.accessPathWithDatum=Fn,n.compile=TMe,n.contains=wt,n.deepEqual=Xe,n.deleteNestedProperty=en,n.duplicate=ye,n.entries=$t,n.every=Lt,n.fieldIntersection=st,n.flatAccessWithDatum=On,n.getFirstDefined=Ne,n.hasIntersection=ve,n.hash=ut,n.internalField=yt,n.isBoolean=Mt,n.isEmpty=Ze,n.isEqual=ue,n.isInternalField=mt,n.isNullOrFalse=Qt,n.isNumeric=Wt,n.keys=Le,n.logicalExpr=tn,n.mergeDeep=It,n.never=ke,n.normalize=AN,n.normalizeAngle=nn,n.omit=xe,n.pick=Ce,n.prefixGenerator=le,n.removePathFromField=or,n.replaceAll=qn,n.replacePathInField=pn,n.resetIdCounter=jt,n.setEqual=De,n.some=mn,n.stringify=Je,n.titleCase=En,n.unique=it,n.uniqueId=Oe,n.vals=vt,n.varName=Vt,n.version=OMe,Object.defineProperty(n,"__esModule",{value:!0})})});var _C=Ae(Nx=>{"use strict";m();var vmt=Nx&&Nx.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),_mt=Nx&&Nx.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),wTe=Nx&&Nx.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&vmt(e,n,t);return _mt(e,n),e};Object.defineProperty(Nx,"__esModule",{value:!0});Nx.HTMLChartRenderer=void 0;var bmt=wTe(STe()),CTe=wTe($ae()),ATe=class{constructor(e,t,r={}){this.document=e,this.styleDefaults=t,this.size=r.size||this.styleDefaults.size||"medium"}mapData(e){let t=[];for(let r of e){let i={};for(let s of e.field.intrinsicFields)i[s.name]=this.getDataValue(r.cell(s));t.push(i)}return t}getSize(){return this.size==="large"?{height:350,width:500}:{height:175,width:250}}async render(e){if(!e.isArray())throw new Error("Invalid type for chart renderer");let t=this.getVegaLiteSpec(e),r=bmt.compile(t,{logger:{level(o){return o!==void 0?this:0},info(){return this},error(){return this},warn(){return this},debug(){return this}}}).spec,i=new CTe.View(CTe.parse(r),{renderer:"none"});i.logger().level(-1);let s=this.document.createElement("div");return s.innerHTML=await i.toSVG(),s}};Nx.HTMLChartRenderer=ATe});var B0=Ae(xh=>{"use strict";m();Object.defineProperty(xh,"__esModule",{value:!0});xh.createDrillIcon=xh.createNullElement=xh.createErrorElement=xh.yieldTask=xh.timeToString=xh.getColorScale=void 0;var Xh=vx();function Emt(n,e,t=!1){if(n!==void 0)switch(n){case"ordinal":return{range:["#C2D5EE","#1A73E8"]};case"temporal":case"quantitative":return e?t?{range:["#6BA4EE","#EEA361"]}:{range:["#1A73E8","#E8710A"]}:{range:["#C2D5EE","#1A73E8"]};case"nominal":return t?{range:["#6BA4EE","#66CEDC","#EC72B8","#EEA361","#F9C85B","#AACD85","#B87CED","#ACB0B3"]}:{range:["#1A73E8","#12B5CB","#E52592","#E8710A","#F9AB00","#7CB342","#9334E6","#80868B"]}}}xh.getColorScale=Emt;function Tu(n,e){return n.toString().padStart(e,"0")}function Smt(n,e){switch(e){case Xh.TimestampTimeframe.Year:case Xh.DateTimeframe.Year:return`${Tu(n.getUTCFullYear(),4)}`;case Xh.TimestampTimeframe.Quarter:case Xh.DateTimeframe.Quarter:{let t=Tu(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`${t}-Q${r}`}case Xh.TimestampTimeframe.Month:case Xh.DateTimeframe.Month:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2);return`${t}-${r}`}case Xh.TimestampTimeframe.Week:case Xh.DateTimeframe.Week:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2),i=Tu(n.getUTCDate(),2);return`WK${t}-${r}-${i}`}case Xh.DateTimeframe.Day:case Xh.TimestampTimeframe.Day:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2),i=Tu(n.getUTCDate(),2);return`${t}-${r}-${i}`}case Xh.TimestampTimeframe.Hour:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2),i=Tu(n.getUTCDate(),2),s=Tu(n.getUTCHours(),2);return`${t}-${r}-${i} ${s}:00 for 1 hour`}case Xh.TimestampTimeframe.Minute:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2),i=Tu(n.getUTCDate(),2),s=Tu(n.getUTCHours(),2),o=Tu(n.getUTCMinutes(),2);return`${t}-${r}-${i} ${s}:${o}`}case Xh.TimestampTimeframe.Second:{let t=Tu(n.getUTCFullYear(),2),r=Tu(n.getUTCMonth()+1,2),i=Tu(n.getUTCDate(),2),s=Tu(n.getUTCHours(),2),o=Tu(n.getUTCMinutes(),2),a=Tu(n.getUTCSeconds(),2);return`${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}xh.timeToString=Smt;async function wmt(){return new Promise(n=>{setTimeout(n,0)})}xh.yieldTask=wmt;function Cmt(n,e){let t=n.createElement("span");return t.classList.add("error"),t.appendChild(n.createTextNode(typeof e=="string"?e:e.message)),t}xh.createErrorElement=Cmt;function Amt(n){let e=n.createElement("span");return e.appendChild(n.createTextNode("\u2205")),e.classList.add("value-null"),e}xh.createNullElement=Amt;function Tmt(n){let e=n.createElement("div");e.style.borderRadius="20px",e.style.backgroundColor="var(--malloy-border-color, #efefef)",e.style.width="27px",e.style.height="14px",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.gap="2px";for(let t=0;t<3;t++){let r=n.createElement("div");r.style.backgroundColor="var(--malloy-title-color, rgb(181 181 181))",r.style.borderRadius="5px",r.style.width="4px",r.style.height="4px",e.appendChild(r)}return e}xh.createDrillIcon=Tmt});var Xae=Ae(Wc=>{"use strict";m();Object.defineProperty(Wc,"__esModule",{value:!0});Wc.HTMLVegaSpecRenderer=Wc.isDataContainer=Wc.vegaSpecs=Wc.DEFAULT_SPEC=void 0;var Fmt=_C(),Dmt=qT(),Mm=B0();Wc.DEFAULT_SPEC={$schema:"https://vega.github.io/schema/vega-lite/v5.json",config:{params:[{name:"defaultFont",value:"var(--malloy-font-family, 'Roboto')"},{name:"titleColor",value:"var(--malloy-title-color, #505050)"},{name:"labelColor",value:"var(--malloy-label-color, #505050)"}],background:void 0,color:{expr:"titleColor"},header:{labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500},text:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},mark:{font:{expr:"defaultFont"},color:{expr:"labelColor"}},title:{font:{expr:"defaultFont"},subtitleFont:{expr:"defaultFont"},fontWeight:500},axis:{labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"},titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12},legend:{titleFontWeight:500,titleColor:{expr:"titleColor"},titleFontSize:12,labelColor:{expr:"labelColor"},labelFont:{expr:"defaultFont"},titleFont:{expr:"defaultFont"}}}};var Vae={height:80,width:150},TTe={width:150},Omt={height:{step:13}},Wae={...TTe,...Omt},Qae={...TTe},Gae={height:150,width:200},FTe={},Pm={...Wc.DEFAULT_SPEC,encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar",color:"#aec7e8"},encoding:{x:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"}}}]},uR={...Wc.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},Rmt={...uR,encoding:{...uR.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Mm.getColorScale)("quantitative",!0,!0)}}},Nmt={...uR,encoding:{...uR.encoding,color:{field:"#{3}",scale:(0,Mm.getColorScale)("nominal",!0,!0)}}},Yae={...Pm,layer:[{...Pm.layer[0],encoding:{...Pm.layer[0].encoding,color:{field:"#{3}",scale:(0,Mm.getColorScale)("nominal",!0,!0)}}},Pm.layer[1]]},Kae={...Pm,layer:[{...Pm.layer[0],encoding:{...Pm.layer[0].encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Mm.getColorScale)("quantitative",!0,!0)}}},Pm.layer[1]]},u4={...Wc.DEFAULT_SPEC,mark:"bar",data:[],encoding:{x:{field:"#{1}",type:"nominal",sort:null},y:{field:"#{2}",type:"quantitative",sort:null},color:{value:"#4285F4"}}},d$={...u4,encoding:{...u4.encoding,color:{field:"#{3}",type:"nominal",scale:(0,Mm.getColorScale)("nominal",!0)}}},h$={...u4,encoding:{...u4.encoding,color:{field:"#{3}",type:"quantitative",scale:(0,Mm.getColorScale)("quantitative",!0)}}};Wc.vegaSpecs={bar_SM:Pm,bar_SM_small:{...Pm,...Wae},bar_SM_medium:{...Pm,...Qae},bar_SM_large:uR,bar_SMS:Yae,bar_SMS_small:{...Yae,...Wae},bar_SMS_medium:{...Yae,...Qae},bar_SMS_large:Nmt,bar_SMM:Kae,bar_SMM_small:{...Kae,...Wae},bar_SMM_medium:{...Kae,...Qae},bar_SMM_large:Rmt,bar_NM:u4,bar_NM_small:{...u4,...Vae},bar_NM_medium:{...u4,...Gae},bar_NM_large:{...u4},bar_NMS:d$,bar_NMS_small:{...d$,...Vae},bar_NMS_medium:{...d$,...Gae},bar_NMS_large:{...d$,...FTe},bar_NMM:h$,bar_NMM_small:{...h$,...Vae},bar_NMM_medium:{...h$,...Gae},bar_NMM_large:{...h$,...FTe},bar_SSMMM:{...Wc.DEFAULT_SPEC,repeat:["#{3}","#{4}","#{5}"],spec:{description:"A simple bar chart with embedded data.",encoding:{y:{field:"#{1}",type:"nominal",axis:null,sort:null}},layer:[{mark:{type:"bar"},encoding:{x:{field:{repeat:"repeat"},type:"quantitative",sort:null},color:{field:"#{2}",scale:(0,Mm.getColorScale)("nominal",!0,!0)}}},{mark:{type:"text",align:"left",x:5},encoding:{text:{field:"#{1}"},detail:{aggregate:"count"}}}]}},bubble_NNM:{...Wc.DEFAULT_SPEC,data:[],mark:"circle",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},size:{field:"#{3}",type:"quantitative"},color:{value:"#4285F4"}}},heat_NNM:{...Wc.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"ordinal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,Mm.getColorScale)("quantitative",!1)}}},heat_SNM:{...Wc.DEFAULT_SPEC,data:[],mark:"bar",width:400,encoding:{y:{field:"#{1}",type:"nominal",sort:null},x:{field:"#{2}",type:"ordinal",sort:null},color:{field:"#{3}",type:"quantitative",scale:(0,Mm.getColorScale)("quantitative",!1)}}},stacked_line_STM:{...Wc.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{2}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{3}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,Mm.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"}}},grid_line_SSTM:{...Wc.DEFAULT_SPEC,height:50,data:[],mark:"area",encoding:{x:{field:"#{3}",type:"temporal",axis:{grid:!1},sort:null},y:{field:"#{4}",type:"quantitative",axis:{grid:!1},title:null,sort:null},color:{field:"#{1}",type:"nominal",legend:null,scale:(0,Mm.getColorScale)("nominal",!1)},row:{field:"#{1}",type:"nominal"},column:{field:"#{2}",type:"nominal"}}}};function Jae(n){return Array.isArray(n)||n!==null&&typeof n=="object"}Wc.isDataContainer=Jae;var DTe=class extends Fmt.HTMLChartRenderer{constructor(e,t,r){super(e,t);this.spec=r}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for vega chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for vega chart.")}translateField(e,t){let r=t.match(/#\{(?<fieldnum>\d+)\}/);return r&&r.groups?e.intrinsicFields[parseInt(r.groups.fieldnum)-1].name:t}translateFields(e,t){if(Array.isArray(e))for(let r of e)Jae(r)&&this.translateFields(r,t);else if(e&&typeof e=="object")for(let[r,i]of Object.entries(e))if(r==="field"&&typeof i=="string")e[r]=this.translateField(t,i);else if(r==="repeat"&&Array.isArray(i))for(let s of i.keys()){let o=i[s];typeof o=="string"&&(i[s]=this.translateField(t,o))}else Jae(i)&&this.translateFields(i,t)}getVegaLiteSpec(e){if(e.isNull()||!e.isArray())throw new Error("Expected struct value not to be null.");let t=(0,Dmt.cloneDeep)(this.spec);this.translateFields(t,e.field);let r={values:this.mapData(e)};return t.data=r,t}};Wc.HTMLVegaSpecRenderer=DTe});var m$=Ae(p$=>{"use strict";m();Object.defineProperty(p$,"__esModule",{value:!0});p$.HTMLCartesianChartRenderer=void 0;var Lmt=_C(),kmt=B0(),Imt=Xae(),OTe=class extends Lmt.HTMLChartRenderer{getVegaLiteSpec(e){let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],c=this.getDataType(r),d=this.getDataType(i),p=s?this.getDataType(s):void 0,E=o?this.getDataType(o):void 0,w=a?this.getDataType(a):void 0,N=this.getMark(),R=s!==void 0?{field:s.name,type:p,axis:{title:s.name},scale:(0,kmt.getColorScale)(p,N==="bar")}:{value:"#4285F4"},U=o?{field:o.name,type:E,axis:{title:o.name}}:void 0,Q=a?{field:a.name,type:w,axis:{title:a.name}}:void 0,P=c==="nominal"?null:void 0,j=d==="nominal"?null:void 0,I={field:r.name,type:c,sort:P,axis:{title:r.name}},K={field:i.name,type:d,sort:j,axis:{title:i.name}};return{...Imt.DEFAULT_SPEC,...this.getSize(),data:{values:this.mapData(e)},mark:N,encoding:{x:I,y:K,size:U,color:R,shape:Q},background:"transparent"}}};p$.HTMLCartesianChartRenderer=OTe});var NTe=Ae(x$=>{"use strict";m();Object.defineProperty(x$,"__esModule",{value:!0});x$.HTMLBarChartRenderer=void 0;var Mmt=m$(),RTe=class extends Mmt.HTMLCartesianChartRenderer{getMark(){return"bar"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for bar chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for bar chart.")}};x$.HTMLBarChartRenderer=RTe});var Ab=Ae(g$=>{"use strict";m();Object.defineProperty(g$,"__esModule",{value:!0});g$.HTMLTextRenderer=void 0;var Pmt=B0(),LTe=class{constructor(e){this.document=e}getText(e){return`${e.value}`}async render(e){let t=this.getText(e);if(t===null)return(0,Pmt.createNullElement)(this.document);let r=this.document.createElement("span");return r.appendChild(this.document.createTextNode(t)),r}};g$.HTMLTextRenderer=LTe});var ITe=Ae(y$=>{"use strict";m();Object.defineProperty(y$,"__esModule",{value:!0});y$.HTMLBooleanRenderer=void 0;var Bmt=Ab(),kTe=class extends Bmt.HTMLTextRenderer{getText(e){return e.isNull()?null:`${e.boolean.value}`}};y$.HTMLBooleanRenderer=kTe});var PTe=Ae(v$=>{"use strict";m();Object.defineProperty(v$,"__esModule",{value:!0});v$.HTMLJSONRenderer=void 0;var jmt=B0(),MTe=class{constructor(e){this.document=e}async render(e){!e.isArray()&&!e.isRecord()&&(0,jmt.createErrorElement)(this.document,"Invalid data for chart renderer.");let t=this.document.createElement("pre");return t.appendChild(this.document.createTextNode(JSON.stringify(e.value,void 0,2))),t}};v$.HTMLJSONRenderer=MTe});var jTe=Ae(_$=>{"use strict";m();Object.defineProperty(_$,"__esModule",{value:!0});_$.HTMLBytesRenderer=void 0;var qmt=Ab(),BTe=class extends qmt.HTMLTextRenderer{getText(e){return e.isNull()?null:e.bytes.value.toString("base64")}};_$.HTMLBytesRenderer=BTe});var UTe=Ae(b$=>{"use strict";m();Object.defineProperty(b$,"__esModule",{value:!0});b$.HTMLCurrencyRenderer=void 0;var Umt=Ab(),qTe=class extends Umt.HTMLTextRenderer{getText(e){if(e.isNull())return null;let t="$",r=e.number.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${t}${r}`}};b$.HTMLCurrencyRenderer=qTe});var S$=Ae(E$=>{"use strict";m();Object.defineProperty(E$,"__esModule",{value:!0});E$.HTMLNumberRenderer=void 0;var zmt=Ab(),zTe=class extends zmt.HTMLTextRenderer{getNumber(e){return e.isNull()?null:e.number.value}getText(e){let t=this.getNumber(e);return t===null?t:t.toLocaleString()}};E$.HTMLNumberRenderer=zTe});var $Te=Ae(w$=>{"use strict";m();Object.defineProperty(w$,"__esModule",{value:!0});w$.HTMLPercentRenderer=void 0;var Hmt=S$(),HTe=class extends Hmt.HTMLNumberRenderer{getText(e){let t=this.getNumber(e);return t===null?t:(t*100).toLocaleString("en",{maximumFractionDigits:2})+"%"}};w$.HTMLPercentRenderer=HTe});var eue=Ae(bC=>{"use strict";m();Object.defineProperty(bC,"__esModule",{value:!0});bC.getDrillQuery=bC.getDrillFilters=void 0;var Zae=vx(),$mt=B0();function Vmt(n){return`'${n.replace("'","\\'")}'`}function Wmt(n,e,t){let r=t===Zae.TimestampTimeframe.Minute?Zae.TimestampTimeframe.Second:t||Zae.TimestampTimeframe.Second,i="@"+(0,$mt.timeToString)(e,r);return{key:n,value:i}}function Qmt(n){let e=[];for(let t of n.field.filters||[])t.aggregate||e.push({key:t.code,value:void 0});return e}function Gmt(n){let e=[],t=n.field.intrinsicFields.filter(r=>r.isAtomicField()&&r.sourceWasDimension());for(let r of t){let i=n.cell(r),s=r.isAtomicField()||r.isQueryField()?r.expression:void 0;s&&!i.isArray()&&(i.isNull()?e.push({key:s,value:"null"}):i.isString()?e.push({key:s,value:Vmt(i.value)}):i.isNumber()||i.isBoolean()?e.push({key:s,value:i.value.toString()}):(i.isTimestamp()||i.isDate())&&e.push(Wmt(s,i.value,i.field.timeframe)))}return e}function VTe(n){return n.isRecord()?Gmt(n):Qmt(n)}function WTe(n){let e=[],t=n;for(;t.parent;)e.push(...VTe(t)),t=t.parent;e.push(...VTe(t));let r=t.field.parentExplore,i=[];for(let{key:o,value:a}of e)a!==void 0?i.push(`${o}: ${a}`):i.push(o);return{formattedFilters:i.filter((o,a)=>i.find((c,d)=>c===o&&a<d)===void 0),source:r}}bC.getDrillFilters=WTe;function Ymt(n){let{formattedFilters:e,source:t}=WTe(n),r=`query: ${(t==null?void 0:t.name)||'"unable to compute source"'} `;return e.length&&(r+=`{ 
  where: 
    ${e.join(`,
    `)}
  
}
`),{drillQuery:r+"-> ",drillFilters:e}}bC.getDrillQuery=Ymt});var GTe=Ae(C$=>{"use strict";m();Object.defineProperty(C$,"__esModule",{value:!0});C$.RenderTree=void 0;var QTe=class{constructor(e,t){this.document=e,this.options=t}};C$.RenderTree=QTe});var lR=Ae(A$=>{"use strict";m();Object.defineProperty(A$,"__esModule",{value:!0});A$.ContainerRenderer=void 0;var Kmt=GTe(),Jmt=tue(),YTe=class extends Kmt.RenderTree{constructor(){super(...arguments);this.childRenderers={}}makeChildRenderers(e,t,r){let i={};e.intrinsicFields.forEach(s=>{i[s.name]=(0,Jmt.makeRenderer)(s,t,r,this.childrenStyleDefaults)}),this.childRenderers=i}static make(e,t,r,i){let s=new e(t,{isDrillingEnabled:i.isDrillingEnabled,onDrill:i.onDrill});return s.makeChildRenderers(r,t,i),s}};A$.ContainerRenderer=YTe});var ZTe=Ae(F$=>{"use strict";m();Object.defineProperty(F$,"__esModule",{value:!0});F$.HTMLDashboardRenderer=void 0;var Xmt=eue(),Zmt=lR(),e2t=Ab(),nue=B0(),T$=class extends Zmt.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArrayOrRecord())return(0,nue.createErrorElement)(this.document,"Invalid data for dashboard renderer.");let t=e.field.intrinsicFields,r=t.filter(o=>o.isAtomicField()&&o.sourceWasDimension()),i=t.filter(o=>!o.isAtomicField()||o.sourceWasMeasureLike()),s=this.document.createElement("div");for(let o of e){let a=this.document.createElement("div");a.classList.add("dimensions"),a.style.display="flex",a.style.flexWrap="wrap";let c=this.document.createElement("div");c.style.position="relative";for(let E of r){let N=await this.childRenderers[E.name].render(o.cell(E)),R=this.document.createElement("div");R.style.cssText=o2t;let U=this.document.createElement("div");U.style.cssText=a2t,U.appendChild(this.document.createTextNode(E.name));let Q=this.document.createElement("div");Q.style.cssText=rue,Q.appendChild(N),R.appendChild(U),R.appendChild(Q),a.appendChild(R)}if(r.length>0){let E=this.document.createElement("div");E.classList.add("row-separator-outer"),E.style.cssText=t2t;let w=this.document.createElement("div");w.style.cssText=i2t,E.appendChild(w),a.appendChild(E)}let d=this.document.createElement("div");d.style.cssText=s2t;for(let E of i){let w=this.childRenderers[E.name];await(0,nue.yieldTask)();let N=await w.render(o.cell(E));if(w instanceof T$)d.appendChild(N);else if(w instanceof e2t.HTMLTextRenderer){let R=this.document.createElement("div");R.style.cssText=JTe;let U=this.document.createElement("div");U.style.cssText=XTe,U.appendChild(this.document.createTextNode(E.name));let Q=this.document.createElement("div");Q.style.cssText=rue;let P=this.document.createElement("div");P.style.cssText=u2t,P.appendChild(N),Q.appendChild(P),R.appendChild(U),R.appendChild(Q),d.appendChild(R)}else{let R=this.document.createElement("div");R.style.cssText=JTe;let U=this.document.createElement("div");U.style.cssText=XTe,U.appendChild(this.document.createTextNode(E.name));let Q=this.document.createElement("div");Q.style.cssText=rue;let P=this.document.createElement("div");P.style.cssText=l2t,P.appendChild(N),Q.appendChild(P),R.appendChild(U),R.appendChild(Q),d.appendChild(R)}}if(c.appendChild(a),r.length>0&&this.options.isDrillingEnabled){let E=this.document.createElement("span"),w=(0,nue.createDrillIcon)(this.document);E.appendChild(w),E.style.cssText="padding: 8px; vertical-align: top; width: 25px; cursor: pointer; position: absolute; top: 5px; right: 5px;",E.onclick=()=>{if(this.options.onDrill){let{drillQuery:N,drillFilters:R}=(0,Xmt.getDrillQuery)(o);this.options.onDrill(N,w,R)}},c.appendChild(E)}let p=this.document.createElement("div");if(p.classList.add("dashboard-outer"),p.style.cssText=n2t,r.length>0){let E=this.document.createElement("div");E.style.cssText=r2t,p.appendChild(E)}p.appendChild(d),c.appendChild(p),s.appendChild(c)}return s}};F$.HTMLDashboardRenderer=T$;var t2t=`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  flex: 1 0 auto;
`,n2t=`
  display: flex;
  flex-direction: row;
  font-size: 11px;
`,KTe=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
`,r2t=`
  ${KTe}
  min-height: 100%;
  min-width: 11px;
  margin: 6px;
  border-radius: 4px;
`,i2t=`
  ${KTe}
  min-height: 11px;
  max-height: 11px;
  margin: 6px;
  flex: 1 0 auto;
  border-radius: 4px;
`,s2t=`
  display: flex;
  flex-wrap: wrap;
`,o2t=`
  background-color: var(--malloy-tile-background-color, #f7f7f7);
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  margin: 6px;
  border-radius: 5px;
  padding: 10px;
  box-shadow: 0 1px 5px 0 var(--malloy-border-color, #f3f3f3);
`,JTe=`
  margin: 6px;
  border-radius: 5px;
  border: 1px solid var(--malloy-border-color, #e9e9e9);
  padding: 10px;
  flex: 1 0 auto;
  box-shadow: 0 1px 5px 0 var(--malloy-tile-background-color, #f3f3f3);
  max-width: calc(100% - 11px);
  display: flex;
  flex-direction: column;
  overflow: hidden;
`,a2t=`
  font-size: 12px;
  font-weight: 500;
  color: var(--malloy-title-color, #505050);
  margin-bottom: 5px;
  font-family: var(--malloy-font-family, "Roboto");
`,XTe=`
  font-size: 11px;
  font-family: var(--malloy-font-family, "Roboto");
  font-weight: 500;
  color: #var(--malloy-title-color, #505050);
`,u2t=`
  font-size: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 5px;
`,rue=`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
`,l2t=`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`});var nFe=Ae(D$=>{"use strict";m();Object.defineProperty(D$,"__esModule",{value:!0});D$.HTMLImageRenderer=void 0;var eFe=B0(),tFe=class{constructor(e){this.document=e}async render(e){if(!e.isString())return(0,eFe.createErrorElement)(this.document,"Invalid field for Image renderer");if(e.isNull())return(0,eFe.createNullElement)(this.document);let t=this.document.createElement("img");return t.src=e.value,t}};D$.HTMLImageRenderer=tFe});var sFe=Ae(O$=>{"use strict";m();Object.defineProperty(O$,"__esModule",{value:!0});O$.HTMLDateRenderer=void 0;var rFe=vx(),iue=B0(),iFe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,iue.createNullElement)(this.document);if(!e.isDate()&&!e.isTimestamp())return(0,iue.createErrorElement)(this.document,"Invalid field for date renderer");let t=e.field.timeframe||(e.isTimestamp()?rFe.TimestampTimeframe.Second:rFe.DateTimeframe.Day),r=(0,iue.timeToString)(e.value,t),i=this.document.createElement("span");return i.appendChild(this.document.createTextNode(r)),i}};O$.HTMLDateRenderer=iFe});var aFe=Ae(R$=>{"use strict";m();Object.defineProperty(R$,"__esModule",{value:!0});R$.HTMLLineChartRenderer=void 0;var c2t=m$(),oFe=class extends c2t.HTMLCartesianChartRenderer{getMark(){return"line"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for line chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for line chart.")}};R$.HTMLLineChartRenderer=oFe});var cFe=Ae(N$=>{"use strict";m();Object.defineProperty(N$,"__esModule",{value:!0});N$.HTMLLinkRenderer=void 0;var uFe=B0(),lFe=class{constructor(e){this.document=e}async render(e){if(e.isNull())return(0,uFe.createNullElement)(this.document);if(!e.isString())return(0,uFe.createErrorElement)(this.document,"Invalid type for link renderer.");let t=document.createElement("a");return t.href=e.value,t.target="_blank",t.appendChild(this.document.createTextNode(e.value.replace(/\//g,"/\u200C"))),t}};N$.HTMLLinkRenderer=lFe});var sue=Ae(L$=>{"use strict";m();Object.defineProperty(L$,"__esModule",{value:!0});L$.HTMLListRenderer=void 0;var f2t=lR(),fFe=B0(),dFe=class extends f2t.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"small"}}getValueField(e){return e.intrinsicFields[0]}getDetailField(e){}async render(e){if(!e.isArray())return(0,fFe.createErrorElement)(this.document,"Invalid data for chart renderer.");if(e.rowCount===0)return this.document.createElement("span");let t=this.getValueField(e.field),r=this.getDetailField(e.field),i=this.document.createElement("span"),s=!0;for(let o of e){s||i.appendChild(this.document.createTextNode(", ")),s=!1;let c=await this.childRenderers[t.name].render(o.cell(t));if(i.appendChild(c),r){let d=this.childRenderers[r.name];await(0,fFe.yieldTask)();let p=await d.render(o.cell(r));i.appendChild(this.document.createTextNode("(")),i.appendChild(p),i.appendChild(this.document.createTextNode(")"))}}return i}};L$.HTMLListRenderer=dFe});var pFe=Ae(k$=>{"use strict";m();Object.defineProperty(k$,"__esModule",{value:!0});k$.HTMLListDetailRenderer=void 0;var d2t=sue(),hFe=class extends d2t.HTMLListRenderer{getDetailField(e){return e.intrinsicFields[1]}};k$.HTMLListDetailRenderer=hFe});var I$=Ae((AUt,h2t)=>{h2t.exports={type:"Topology",bbox:[-179.14733999999999,-14.552548999999999,179.77847,71.352561],transform:{scale:[.003589293992939929,.0008590596905969058],translate:[-179.14733999999999,-14.552548999999999]},objects:{states:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[1,2,3,4,5]]],id:"01",properties:{name:"Alabama"}},{type:"MultiPolygon",arcs:[[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]]],id:"02",properties:{name:"Alaska"}},{type:"Polygon",arcs:[[143,144,145,146,147]],id:"04",properties:{name:"Arizona"}},{type:"Polygon",arcs:[[148,149,150,151,152,153]],id:"08",properties:{name:"Colorado"}},{type:"MultiPolygon",arcs:[[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[163,164,-4]]],id:"12",properties:{name:"Florida"}},{type:"Polygon",arcs:[[165,166,167,168,-164,-3]],id:"13",properties:{name:"Georgia"}},{type:"Polygon",arcs:[[169,170,171,172,173]],id:"18",properties:{name:"Indiana"}},{type:"Polygon",arcs:[[174,175,176,-151]],id:"20",properties:{name:"Kansas"}},{type:"MultiPolygon",arcs:[[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[184,185]]],id:"23",properties:{name:"Maine"}},{type:"MultiPolygon",arcs:[[[186]],[[187]],[[188,189,190,191,192,193,194,195]]],id:"25",properties:{name:"Massachusetts"}},{type:"Polygon",arcs:[[196,197,198,199,200]],id:"27",properties:{name:"Minnesota"}},{type:"Polygon",arcs:[[201,202,203,204,205,206,207,208]],id:"34",properties:{name:"New Jersey"}},{type:"MultiPolygon",arcs:[[[209]],[[210]],[[211,212,213,-167,214]]],id:"37",properties:{name:"North Carolina"}},{type:"Polygon",arcs:[[215,-201,216,217]],id:"38",properties:{name:"North Dakota"}},{type:"Polygon",arcs:[[-152,-177,218,219,220,221]],id:"40",properties:{name:"Oklahoma"}},{type:"Polygon",arcs:[[222,223,-204,224,225,226,227]],id:"42",properties:{name:"Pennsylvania"}},{type:"Polygon",arcs:[[228,-217,-200,229,230,231]],id:"46",properties:{name:"South Dakota"}},{type:"Polygon",arcs:[[-221,232,233,234,235,236,237]],id:"48",properties:{name:"Texas"}},{type:"Polygon",arcs:[[-232,238,-149,239,240,241]],id:"56",properties:{name:"Wyoming"}},{type:"Polygon",arcs:[[-195,242,243,244]],id:"09",properties:{name:"Connecticut"}},{type:"Polygon",arcs:[[245,246,247,248,249,250,251,-219,-176,252]],id:"29",properties:{name:"Missouri"}},{type:"Polygon",arcs:[[253,-227,254,255,256]],id:"54",properties:{name:"West Virginia"}},{type:"Polygon",arcs:[[257,258,259,-174,260,-247]],id:"17",properties:{name:"Illinois"}},{type:"Polygon",arcs:[[-153,-222,-238,261,-147]],id:"35",properties:{name:"New Mexico"}},{type:"Polygon",arcs:[[-252,262,263,264,-235,233,-233,-220]],id:"05",properties:{name:"Arkansas"}},{type:"MultiPolygon",arcs:[[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[273,274,275,-144,276]]],id:"06",properties:{name:"California"}},{type:"MultiPolygon",arcs:[[[-209,277]],[[-225,-203,278,279]]],id:"10",properties:{name:"Delaware"}},{type:"Polygon",arcs:[[280,281]],id:"11",properties:{name:"District of Columbia"}},{type:"MultiPolygon",arcs:[[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]]],id:"15",properties:{name:"Hawaii"}},{type:"Polygon",arcs:[[-199,290,-258,-246,291,-230]],id:"19",properties:{name:"Iowa"}},{type:"MultiPolygon",arcs:[[[-261,-173,292,-257,293,294,-248]],[[295,-250]]],id:"21",properties:{name:"Kentucky"}},{type:"MultiPolygon",arcs:[[[296,297]],[[298]],[[299]],[[-226,-280,300,301,302,303,-281,304,-255]]],id:"24",properties:{name:"Maryland"}},{type:"MultiPolygon",arcs:[[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[314,315,-171]],[[316]],[[317,318,319,320,321,322]]],id:"26",properties:{name:"Michigan"}},{type:"MultiPolygon",arcs:[[[323]],[[324]],[[325]],[[326]],[[-264,327,-6,328,329]]],id:"28",properties:{name:"Mississippi"}},{type:"Polygon",arcs:[[330,-218,-229,-242,331]],id:"30",properties:{name:"Montana"}},{type:"Polygon",arcs:[[332,-185,333,-190,334]],id:"33",properties:{name:"New Hampshire"}},{type:"MultiPolygon",arcs:[[[335]],[[336]],[[337]],[[338,-207]],[[339]],[[340]],[[341,342,-196,-245,343,-205,-224]]],id:"36",properties:{name:"New York"}},{type:"MultiPolygon",arcs:[[[344]],[[345]],[[-316,346,-228,-254,-293,-172]]],id:"39",properties:{name:"Ohio"}},{type:"Polygon",arcs:[[347,348,349,274,-275,-274,350]],id:"41",properties:{name:"Oregon"}},{type:"Polygon",arcs:[[-251,-296,-249,-295,351,-215,-166,-2,-328,-263]],id:"47",properties:{name:"Tennessee"}},{type:"Polygon",arcs:[[352,-240,-154,-146,353]],id:"49",properties:{name:"Utah"}},{type:"MultiPolygon",arcs:[[[354]],[[-302,355]],[[356,-297]],[[-256,-305,-282,-304,357,-212,-352,-294]]],id:"51",properties:{name:"Virginia"}},{type:"MultiPolygon",arcs:[[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[368,-348,369]]],id:"53",properties:{name:"Washington"}},{type:"MultiPolygon",arcs:[[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[380,-323,321,-321,319,-319,381,-259,-291,-198]]],id:"55",properties:{name:"Wisconsin"}},{type:"MultiPolygon",arcs:[[[382]],[[383]],[[384]]],id:"60",properties:{name:"American Samoa"}},{type:"MultiPolygon",arcs:[[[385]]],id:"66",properties:{name:"Guam"}},{type:"MultiPolygon",arcs:[[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]]],id:"69",properties:{name:"Commonwealth of the Northern Mariana Islands"}},{type:"Polygon",arcs:[[-231,-292,-253,-175,-150,-239]],id:"31",properties:{name:"Nebraska"}},{type:"Polygon",arcs:[[-214,394,-168]],id:"45",properties:{name:"South Carolina"}},{type:"MultiPolygon",arcs:[[[395]],[[396]],[[397]],[[398]],[[399]]],id:"72",properties:{name:"Puerto Rico"}},{type:"MultiPolygon",arcs:[[[400]],[[401]],[[402]]],id:"78",properties:{name:"United States Virgin Islands"}},{type:"Polygon",arcs:[[-369,403,-332,-241,-353,404,-349]],id:"16",properties:{name:"Idaho"}},{type:"Polygon",arcs:[[-275,-350,-405,-354,-145,-276]],id:"32",properties:{name:"Nevada"}},{type:"Polygon",arcs:[[405,-335,-189,-343]],id:"50",properties:{name:"Vermont"}},{type:"MultiPolygon",arcs:[[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[-265,-330,413,-236]]],id:"22",properties:{name:"Louisiana"}},{type:"MultiPolygon",arcs:[[[-192,414]],[[415]],[[416]],[[417]],[[-243,-194,418]]],id:"44",properties:{name:"Rhode Island"}}]},nation:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[164,4,328,413,236,261,147,276,350,369,403,330,215,196,380,317,381,259,169,314,346,222,341,405,332,185,333,190,414,192,418,243,343,205,338,207,277,201,278,300,355,302,357,212,394,168]],[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[48]],[[49]],[[50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[58]],[[59]],[[60]],[[61]],[[62]],[[63]],[[64]],[[65]],[[66]],[[67]],[[68]],[[69]],[[70]],[[71]],[[72]],[[73]],[[74]],[[75]],[[76]],[[77]],[[78]],[[79]],[[80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90]],[[91]],[[92]],[[93]],[[94]],[[95]],[[96]],[[97]],[[98]],[[99]],[[100]],[[101]],[[102]],[[103]],[[104]],[[105]],[[106]],[[107]],[[108]],[[109]],[[110]],[[111]],[[112]],[[113]],[[114]],[[115]],[[116]],[[117]],[[118]],[[119]],[[120]],[[121]],[[122]],[[123]],[[124]],[[125]],[[126]],[[127]],[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141]],[[142]],[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]],[[161]],[[162]],[[177]],[[178]],[[179]],[[180]],[[181]],[[182]],[[183]],[[186]],[[187]],[[209]],[[210]],[[265]],[[266]],[[267]],[[268]],[[269]],[[270]],[[271]],[[272]],[[282]],[[283]],[[284]],[[285]],[[286]],[[287]],[[288]],[[289]],[[297,356]],[[298]],[[299]],[[305]],[[306]],[[307]],[[308]],[[309]],[[310]],[[311]],[[312]],[[313]],[[316]],[[323]],[[324]],[[325]],[[326]],[[335]],[[336]],[[337]],[[339]],[[340]],[[344]],[[345]],[[354]],[[358]],[[359]],[[360]],[[361]],[[362]],[[363]],[[364]],[[365]],[[366]],[[367]],[[370]],[[371]],[[372]],[[373]],[[374]],[[375]],[[376]],[[377]],[[378]],[[379]],[[382]],[[383]],[[384]],[[385]],[[386]],[[387]],[[388]],[[389]],[[390]],[[391]],[[392]],[[393]],[[395]],[[396]],[[397]],[[398]],[[399]],[[400]],[[401]],[[402]],[[406]],[[407]],[[408]],[[409]],[[410]],[[411]],[[412]],[[415]],[[416]],[[417]]]}]}},arcs:[[[25302,52136],[56,31],[1,25],[14,-40],[-9,-28],[-10,16],[-18,-2],[-20,-17],[-14,15]],[[25338,57677],[0,15],[150,-6],[63,0],[160,-13],[93,-2],[37,2],[159,-4],[61,-5]],[[26061,57664],[15,-321],[23,-443],[18,-379],[13,-294],[15,-311],[33,-713],[9,-32],[-4,-36],[13,-45],[5,-149],[10,-72],[17,-69],[3,-82],[9,-36],[-10,-117],[18,-28],[12,-40],[-10,-52],[-11,0],[2,-24],[-14,-21],[-13,-52],[3,-56],[-2,-86],[-7,-86],[-14,-72],[-3,-45],[6,-124],[-2,-44],[19,-87],[3,-120],[-7,-57],[2,-43],[-8,-80],[1,-79],[-7,-21],[5,-51],[-3,-54],[20,-91],[7,-64],[2,-61]],[[26229,53027],[-67,0],[-71,-5],[-110,-4],[-174,0],[-135,7],[-166,-2],[3,-38],[-13,-115],[2,-23],[23,-79],[3,-41],[36,-80],[3,-69],[-15,-102],[3,-55],[20,-51],[-18,-35],[-8,-82],[-9,-15],[7,-24],[-15,-26]],[[25528,52188],[-38,-35],[-40,-24],[-56,-4],[18,41],[12,-26],[35,27],[3,34],[-15,48],[-7,43],[-20,47],[-7,90],[9,74],[-3,76],[-7,48],[-20,32],[-15,-46],[2,-38],[-9,-57],[1,-41],[-6,-32],[-1,-144],[-8,-66],[-15,-4],[1,36],[-20,40],[-15,-16],[-5,23],[-18,-22]],[[25284,52292],[-3,222],[-3,357],[-6,423],[-10,773],[9,283],[21,710],[5,212],[33,1120],[6,160],[19,643],[12,362],[-16,35],[-13,85]],[[8053,88108],[6,38],[18,-11],[-20,-43],[-4,16]],[[7905,86007],[29,90],[15,-17],[-1,-46],[-28,-74],[-15,19],[0,28]],[[7695,85792],[26,-14],[-3,-36],[-23,50]],[[7642,85774],[22,-17],[-7,-33],[-14,14],[-1,36]],[[7602,85813],[20,-2],[-5,-34],[-15,36]],[[7594,84711],[8,45],[20,-13],[-8,-73],[-15,-17],[-5,58]],[[7543,85532],[12,28],[21,-40],[-33,-2],[0,14]],[[7540,87187],[29,79],[8,112],[31,-29],[-28,-64],[-9,-49],[5,-24],[-36,-25]],[[7464,85521],[14,55],[18,-28],[23,-4],[-33,-33],[-22,10]],[[7385,86976],[17,6],[5,-88],[-22,82]],[[7168,84530],[29,89],[15,6],[26,-66],[5,20],[-21,65],[6,54],[9,10],[27,-25],[21,19],[-29,54],[16,56],[29,-31],[15,4],[-14,56],[12,17],[20,-20],[14,45],[-18,6],[-13,33],[20,3],[22,67],[34,18],[-12,35],[-3,68],[27,66],[7,-31],[53,51],[7,-7],[-12,-118],[-13,-18],[-26,-103],[5,-84],[36,11],[2,69],[22,-9],[21,-71],[20,48],[12,-33],[-17,-117],[9,-22],[9,72],[27,47],[7,-25],[-3,-115],[-30,-89],[-32,23],[-11,81],[-21,-26],[13,-99],[-22,-20],[-39,13],[-16,-54],[-8,36],[2,74],[-10,2],[-9,-114],[-8,-24],[-31,-17],[2,-37],[-16,-22],[-45,-13],[-86,76],[-21,-13],[-15,29]],[[7129,86075],[41,28],[18,-43],[-5,-48],[-13,-16],[-29,-3],[-16,59],[4,23]],[[6962,82933],[31,45],[8,-48],[-37,-9],[-2,12]],[[6905,82759],[20,62],[19,20],[11,-11],[25,17],[5,-40],[19,-37],[36,16],[-2,-37],[-19,-31],[-46,-6],[-32,-13],[-32,25],[-4,35]],[[6789,83718],[20,17],[4,76],[18,75],[25,34],[5,44],[15,-8],[34,70],[33,36],[39,-15],[29,1],[0,-112],[26,-57],[4,45],[17,53],[-18,48],[6,25],[53,-14],[-3,35],[-52,44],[-19,-4],[-1,127],[31,61],[29,29],[20,-12],[22,-56],[6,-133],[15,13],[9,77],[-5,55],[35,-38],[7,47],[-37,36],[-21,58],[7,44],[17,-6],[51,-87],[9,4],[30,-41],[11,10],[-31,75],[-20,34],[-7,44],[17,0],[30,-58],[29,12],[41,-29],[7,49],[36,15],[-8,-63],[-39,-106],[-7,-83],[19,-36],[0,95],[16,43],[16,-49],[5,46],[17,32],[5,41],[14,10],[10,-31],[22,72],[17,8],[-4,-45],[28,-16],[-11,-38],[-11,20],[-18,-15],[19,-36],[-5,-49],[19,22],[11,-51],[27,1],[-24,-53],[-16,33],[-24,2],[-15,-48],[16,-9],[-8,-53],[26,-8],[-26,-89],[23,17],[13,47],[5,-35],[47,-4],[-3,-41],[-36,-78],[-13,-110],[-38,13],[-2,39],[-10,-41],[-23,42],[-17,-6],[-23,49],[-15,-13],[-24,19],[-8,-46],[27,1],[15,-17],[45,-87],[-8,-70],[-23,-52],[-11,36],[-19,-50],[-19,30],[-6,38],[-21,18],[-20,-12],[-17,-37],[29,2],[20,-49],[-38,-53],[-34,12],[-4,-20],[25,-34],[14,13],[35,1],[22,-43],[-11,-28],[-24,-8],[-34,-33],[-8,11],[-19,-29],[3,-49],[-27,-50],[-13,20],[7,34],[-23,50],[7,47],[27,62],[-8,24],[-15,-21],[-34,-105],[-3,-24],[-22,32],[-22,-10],[-5,-35],[26,-6],[10,-63],[-16,-61],[-25,-20],[1,-70],[-25,-41],[-12,13],[-23,-82],[-19,-30],[-18,21],[-31,-20],[22,116],[11,11],[26,71],[24,31],[-2,37],[-33,-23],[3,52],[22,102],[29,52],[-7,30],[-15,-45],[-34,-61],[-26,-112],[-24,-59],[-14,-11],[-5,-44],[-19,-30],[-4,84],[-26,58],[-33,27],[3,100],[-4,106],[-13,83],[-11,32],[-23,20],[-27,5],[14,30],[-15,37],[5,23]],[[6782,82633],[27,101],[51,97],[21,-4],[16,-54],[-12,-23],[-55,-73],[-29,-79],[-19,35]],[[6519,81925],[26,41],[5,38],[13,22],[8,-32],[-6,-43],[5,-68],[-7,-33],[-36,13],[-8,62]],[[6240,82171],[5,47],[14,25],[13,-59],[-13,-63],[-19,50]],[[6225,82357],[9,35],[3,-82],[-10,-1],[-2,48]],[[6080,82757],[21,48],[48,-3],[25,-54],[-35,23],[-16,-26],[-43,-6],[0,18]],[[5919,82533],[19,25],[11,-57],[-9,-11],[-21,43]],[[5642,81925],[8,64],[19,12],[27,-58],[-8,-18],[-21,37],[-25,-37]],[[5573,81984],[16,-49],[-27,12],[11,37]],[[5524,80844],[-1,36],[13,24],[20,-25],[-9,-59],[-19,-15],[-4,39]],[[5506,81836],[8,67],[10,10],[11,-62],[-29,-15]],[[5485,80904],[12,85],[-11,46],[31,-2],[4,-99],[-27,-38],[-9,8]],[[5445,80747],[10,13],[16,-42],[-1,-34],[-23,-4],[-2,67]],[[5429,81185],[17,-21],[5,49],[17,46],[5,-22],[-8,-58],[9,-13],[1,-44],[-10,-61],[13,-30],[-7,-19],[-17,22],[-2,-21],[-20,8],[-3,164]],[[5385,80755],[21,25],[11,-30],[-20,-26],[-12,31]],[[5377,81028],[9,39],[23,41],[5,-36],[-23,-38],[-9,-58],[-5,52]],[[5303,81352],[14,11],[5,-42],[-19,31]],[[5265,80882],[33,98],[15,27],[-5,18],[-22,0],[-4,76],[22,50],[27,-44],[-1,38],[-13,52],[30,-13],[18,114],[12,-23],[-2,-43],[-9,-2],[-5,-75],[12,-18],[0,33],[13,1],[-4,-60],[-11,-37],[-22,12],[-1,-45],[-28,-71],[-18,-24],[-31,-141],[-6,77]],[[5246,85264],[5,41],[14,-83],[-7,-25],[-12,67]],[[5238,81460],[22,42],[36,-14],[-1,-78],[-50,12],[-7,38]],[[5213,85252],[8,77],[5,-57],[-13,-20]],[[5096,81334],[16,74],[25,25],[18,-23],[-2,-46],[10,5],[12,47],[15,-32],[26,-26],[26,25],[7,-66],[-9,-60],[-14,40],[-22,3],[-14,23],[-3,40],[-10,-12],[0,-69],[11,-20],[11,-87],[-11,-60],[-36,35],[-10,59],[-18,-18],[-18,-90],[4,58],[-10,43],[0,104],[-4,28]],[[5033,85142],[7,131],[39,52],[21,6],[39,76],[5,-2],[-55,-273],[-22,-32],[-32,-4],[-2,46]],[[4937,81216],[27,3],[-4,-71],[-26,47],[3,21]],[[4863,81217],[10,31],[36,8],[-9,-51],[-37,-10],[0,22]],[[4804,81100],[4,51],[17,20],[25,-19],[12,-29],[35,-42],[6,-41],[-30,44],[-23,-57],[-28,74],[-11,-38],[-7,37]],[[4656,80881],[30,66],[26,-27],[0,-83],[-11,-53],[-13,-21],[-27,58],[-5,60]],[[4587,90956],[19,44],[21,16],[24,-17],[22,6],[9,-37],[-1,-50],[-75,-13],[-18,19],[-1,32]],[[4545,80324],[1,51],[68,-54],[19,-39],[26,0],[18,-28],[-20,-23],[-10,-33],[-22,40],[-17,-9],[-31,37],[-18,-29],[-22,57],[8,30]],[[4451,81463],[14,-1],[-5,-38],[-9,39]],[[3979,80040],[12,22],[16,-18],[-21,-37],[-7,33]],[[3880,79918],[22,34],[33,-11],[24,18],[5,-24],[-9,-45],[-26,-13],[-47,27],[-2,14]],[[3807,79887],[60,24],[9,-35],[-15,-32],[-13,37],[-34,-4],[-7,10]],[[3781,79848],[17,29],[7,-36],[-18,-14],[-6,21]],[[3751,80090],[13,56],[14,-15],[18,18],[12,-21],[-22,-33],[13,-48],[30,0],[1,-41],[-23,3],[-18,-79],[-23,24],[-2,78],[16,35],[-9,20],[-16,-21],[-4,24]],[[3635,79967],[5,36],[28,54],[30,-6],[3,-58],[20,6],[14,-15],[8,-44],[13,13],[-2,-41],[-26,-36],[-12,11],[-18,-45],[-6,28],[-25,1],[-17,-20],[-18,91],[3,25]],[[3608,79782],[7,15],[27,-33],[-32,-11],[-2,29]],[[3261,87028],[35,25],[57,0],[22,-20],[23,10],[9,-24],[21,10],[10,30],[-8,38],[34,68],[37,-11],[0,37],[25,46],[33,-40],[24,32],[23,9],[15,54],[19,-132],[27,-10],[29,34],[29,-20],[27,-40],[-12,-65],[11,-44],[-11,-40],[13,-11],[4,-65],[-13,-38],[21,-54],[2,-58],[21,10],[-11,-34],[2,-48],[-71,-21],[-6,-34],[-20,19],[-26,-18],[-28,-58],[8,-64],[-26,-8],[-23,71],[-38,47],[-57,-4],[-14,35],[-28,18],[-27,58],[-35,42],[-40,19],[-32,72],[-25,10],[-2,70],[-28,97]],[[3147,79003],[17,23],[22,53],[25,5],[37,40],[9,27],[28,-21],[14,19],[8,44],[22,-19],[3,72],[24,-11],[-17,106],[20,32],[8,-16],[15,18],[-18,35],[4,39],[17,23],[29,-1],[9,-68],[15,7],[-7,50],[13,31],[-53,47],[-14,-21],[-32,81],[0,46],[31,92],[42,50],[36,32],[6,-15],[23,13],[16,-63],[-16,-42],[7,-35],[17,-18],[14,53],[6,-33],[15,29],[-1,41],[18,63],[15,-58],[11,26],[20,-62],[-8,-56],[-23,-13],[-24,-70],[-40,-70],[2,-39],[34,54],[58,64],[4,22],[22,22],[7,-19],[-5,-72],[-16,-51],[-26,-34],[-6,-23],[-45,-51],[-30,-20],[12,-46],[-16,-1],[-4,-61],[-16,17],[-7,-70],[-20,25],[-4,-76],[-36,-13],[-22,30],[-10,-31],[-12,23],[-21,-37],[-6,11],[-44,-73],[-3,-31],[-23,4],[-16,-23],[-13,-60],[-28,23],[-9,-45],[-49,40],[-15,36]],[[3070,93368],[7,34],[34,50],[123,108],[63,74],[48,74],[45,56],[42,64],[84,105],[55,56],[146,167],[172,154],[133,90],[87,45],[135,15],[52,-11],[34,-31],[-41,-11],[7,-38],[-10,-71],[-31,-77],[1,-70],[12,-56],[-21,-59],[-49,-33],[-4,-20],[49,7],[42,-151],[40,-3],[36,32],[42,-1],[49,-30],[47,21],[69,15],[32,-58],[50,21],[18,-34],[52,32],[18,26],[84,-65],[18,59],[26,44],[37,150],[18,26],[40,-9],[8,-39],[32,-12],[31,27],[26,0],[-32,110],[-71,55],[-45,24],[-48,-1],[-60,-60],[13,112],[-3,83],[-62,114],[-22,91],[-26,35],[-59,14],[-8,56],[-32,90],[7,50],[27,18],[10,43],[16,-37],[24,28],[27,-89],[36,-91],[24,-10],[-19,-101],[3,-55],[28,-50],[57,-123],[53,-68],[39,18],[30,28],[9,49],[-45,2],[-10,45],[-56,70],[-53,112],[10,52],[0,60],[14,23],[1,57],[33,93],[30,-32],[22,3],[1,28],[-38,55],[-25,-8],[-28,57],[-87,-29],[-32,-37],[-34,0],[-39,-19],[-34,17],[-20,43],[-17,-16],[-21,23],[-4,-51],[-36,39],[-91,42],[-54,31],[-48,15],[-22,30],[1,98],[-22,163],[-52,216],[-20,58],[-36,62],[-91,101],[-145,228],[-21,24],[-51,87],[-50,49],[-54,37],[-51,23],[-29,35],[-19,70],[-54,84],[-45,40],[-81,41],[-42,-6],[37,40],[92,59],[20,46],[3,57],[19,76],[11,236],[-8,117],[179,-31],[68,6],[144,42],[79,28],[77,15],[77,63],[41,65],[29,30],[53,87],[81,192],[21,92],[7,79],[-2,186],[39,233],[84,183],[65,179],[37,77],[129,162],[96,-35],[69,-3],[68,40],[64,53],[93,104],[74,108],[44,86],[114,188],[33,31],[99,63],[7,-47],[55,-44],[82,-12],[68,15],[13,24],[32,-3],[61,17],[73,51],[74,85],[71,121],[36,88],[86,185],[68,76],[12,-68],[47,-38],[39,-2],[39,-20],[16,-82],[27,41],[99,-49],[15,-98],[-54,-71],[-35,-63],[-41,-4],[12,-146],[81,-15],[44,59],[-7,76],[16,8],[31,67],[23,12],[19,-48],[4,63],[-27,43],[35,55],[21,-47],[-3,65],[15,22],[71,-74],[45,-66],[13,-42],[-11,-33],[1,-109],[9,-49],[61,10],[35,-37],[16,-40],[48,62],[30,75],[112,0],[69,42],[53,-11],[40,-34],[84,-2],[61,-32],[45,-35],[9,-34],[-26,-11],[-26,-83],[-26,-30],[14,-93],[25,5],[19,-24],[45,-6],[10,-28],[69,-20],[33,9],[-17,-43],[9,-25],[-53,-26],[-8,-24],[20,-25],[89,6],[72,-41],[14,-33],[28,5],[44,86],[57,15],[24,-18],[10,34],[40,7],[29,-27],[15,-59],[42,27],[38,8],[58,83],[13,-22],[45,20],[21,-15],[34,26],[12,-30],[66,-8],[62,-72],[28,-1],[19,-24],[26,31],[24,-8],[37,-73],[0,-45],[35,-19],[41,51],[1,-63],[26,57],[81,-77],[14,-67],[24,-23],[49,1],[43,-15],[29,36],[23,-73],[48,-10],[29,45],[43,-12],[62,12],[66,-10],[49,-38],[50,-3],[17,28],[65,-95],[28,-8],[32,-54],[45,-16],[20,-30],[45,-12],[17,-26],[27,32],[66,-20],[45,77],[48,6],[9,20],[84,49],[18,24],[86,30],[42,-25],[48,32],[9,-18],[79,-73],[53,-37],[70,-80],[26,-67],[37,-11],[87,-97],[68,-40],[52,-62],[27,-47],[61,-13],[58,-45],[0,-9012],[2,-971],[-1,-889],[130,-95],[17,100],[135,-145],[81,180],[170,20],[1,-39],[-33,-272],[47,-112],[66,-76],[26,-22],[11,-116],[29,-80],[266,-580],[30,-299],[-8,-93],[22,4],[51,108],[111,158],[11,23],[68,8],[32,139],[-2,209],[30,-19],[18,19],[19,71],[-1,39],[-32,47],[45,48],[68,28],[131,158],[62,-115],[28,-88],[11,-2],[24,-70],[0,-104],[-12,-24],[1,-37],[16,-47],[-5,-42],[18,-76],[73,-38],[5,-66],[32,-73],[24,0],[29,-108],[-6,-69],[26,-20],[-6,-46],[22,-71],[114,-152],[32,-119],[46,-120],[50,-110],[-23,-49],[33,-134],[47,-140],[28,-176],[57,-182],[32,-161],[30,-111],[25,-123],[53,-180],[32,-155],[-33,-140],[89,-52],[-21,-205],[71,-81],[-8,-61],[11,-57],[7,-119],[71,14],[33,-77],[82,-115],[23,-48],[85,-47],[44,-115],[44,-33],[11,-116],[23,-15],[27,-36],[40,23],[28,-143],[-3,-90],[-20,-107],[-18,-67],[1,-60],[10,-38],[-5,-118],[12,-104],[11,-46],[6,-133],[12,-63],[-32,-100],[-24,-122],[-1,-33],[-20,-90],[-23,-77],[-37,-97],[-27,-55],[-19,-14],[3,-46],[-19,-23],[-12,40],[-1,56],[-13,24],[-1,-44],[-12,-22],[-18,18],[-13,52],[-4,108],[3,57],[-17,33],[8,103],[-9,6],[-16,56],[-6,64],[30,63],[17,63],[15,-8],[-3,75],[-11,82],[14,122],[-9,190],[-10,67],[-43,164],[-22,55],[-12,48],[-7,-34],[23,-62],[25,-85],[7,-72],[22,-90],[10,-131],[-16,-43],[-2,-79],[7,-92],[11,-62],[-9,-28],[-11,96],[-8,12],[3,-70],[-4,-74],[-36,-102],[-14,-5],[-24,49],[19,73],[11,73],[-3,38],[-25,-10],[10,-72],[-8,-42],[-33,-56],[-7,1],[-23,108],[-11,-45],[-25,54],[-17,18],[-12,50],[-28,68],[0,76],[31,31],[22,51],[-20,47],[7,75],[-9,39],[23,44],[3,24],[-18,1],[-3,74],[7,43],[-41,-17],[6,-45],[11,-16],[-1,-37],[-13,-85],[-1,-60],[-19,-73],[-18,13],[7,-93],[-10,-43],[-24,52],[-25,22],[-9,30],[-12,132],[-16,70],[21,-29],[7,75],[27,37],[12,147],[-8,102],[10,57],[6,-21],[12,42],[7,92],[-21,-11],[-4,-58],[-19,-30],[-21,-61],[13,-113],[-8,-42],[-33,3],[-12,-43],[3,-30],[-17,-14],[-7,34],[4,67],[-19,23],[-12,128],[-32,-17],[0,-48],[-28,118],[-3,123],[8,25],[25,1],[7,66],[13,49],[30,12],[16,-72],[7,63],[-15,168],[9,3],[30,-45],[4,-59],[11,-32],[6,23],[-9,77],[-22,35],[-19,48],[-3,53],[-11,13],[-12,-25],[-10,49],[-23,32],[-5,57],[12,23],[-4,64],[-22,28],[-37,66],[-13,69],[-15,33],[-13,79],[29,43],[-11,58],[-18,-47],[-19,18],[-2,-27],[-23,58],[-31,8],[-11,56],[-27,-28],[-54,76],[-8,75],[15,73],[18,-22],[33,4],[9,48],[-22,3],[-32,36],[2,35],[-18,125],[13,81],[-24,-10],[-15,19],[-16,53],[7,103],[20,2],[16,-36],[33,-24],[63,-89],[5,15],[-25,58],[-20,19],[-66,130],[-3,95],[-17,-15],[-2,-65],[-20,3],[-39,166],[-55,147],[-11,140],[9,65],[-2,52],[27,41],[-13,100],[-8,-2],[-9,-85],[-20,-30],[0,-42],[12,-22],[-13,-57],[-10,10],[-22,-20],[-25,11],[-36,34],[-7,-15],[-35,36],[-40,174],[-4,110],[-42,140],[-13,79],[19,1],[-11,174],[-19,-56],[1,-58],[-35,132],[-8,177],[-8,92],[-21,135],[-32,116],[-36,37],[-5,-16],[28,-38],[4,-41],[17,-39],[20,-131],[-15,11],[-34,140],[-22,36],[-22,10],[41,-92],[13,-85],[17,-29],[-7,-97],[9,-88],[13,-23],[-5,-24],[27,-124],[3,-55],[25,-139],[2,-32],[-14,11],[27,-204],[9,-85],[1,-69],[-12,8],[-1,-61],[12,-64],[-29,23],[-19,32],[-14,-4],[-18,43],[-15,66],[-10,84],[-22,-16],[-33,50],[-27,-37],[-50,-19],[3,81],[-25,16],[-4,19],[30,39],[-10,69],[5,53],[-28,109],[0,36],[-22,84],[13,24],[-2,90],[-19,64],[-12,10],[15,-131],[-12,-125],[-27,-5],[-42,70],[-26,30],[-15,150],[-11,-68],[-13,-22],[-44,54],[-14,-20],[-10,50],[-12,-18],[-3,-54],[45,-35],[7,7],[45,-44],[33,-66],[30,-104],[-11,-44],[-24,-44],[6,-11],[33,44],[7,30],[27,1],[7,-105],[26,-78],[16,-157],[-19,-44],[-43,-32],[-11,10],[9,47],[-18,16],[-12,-17],[7,-39],[-10,-37],[-43,22],[-11,-23],[5,-60],[-8,-35],[-29,5],[-8,78],[-36,35],[3,15],[-28,74],[-17,19],[-29,-19],[-35,70],[-16,15],[-56,107],[-51,75],[-2,50],[-30,70],[-37,64],[-5,28],[4,75],[-15,48],[-55,121],[-30,47],[-96,89],[-36,71],[-43,66],[-98,104],[-42,49],[-91,144],[-30,39],[5,29],[31,89],[24,-14],[-9,-27],[24,3],[0,43],[21,70],[-22,7],[2,77],[-14,116],[7,35],[22,41],[-5,34],[16,30],[-13,56],[-19,-51],[-2,-59],[-25,-21],[-21,-72],[-1,-49],[-107,-100],[-12,-28],[-28,-28],[-95,22],[-67,36],[-26,32],[-123,125],[-17,56],[18,-10],[34,24],[11,71],[-33,131],[3,42],[-20,-17],[-31,44],[6,-50],[45,-120],[-10,-21],[-54,-51],[-39,0],[-49,55],[-61,24],[-32,23],[-81,40],[-45,11],[-59,-4],[-63,-33],[-77,-12],[-80,-28],[-54,-48],[-39,39],[-45,-26],[-64,-120],[-46,-115],[6,65],[36,103],[62,117],[46,2],[-16,66],[-49,48],[-8,25],[-10,-82],[-26,84],[-26,30],[-17,-9],[-16,27],[-71,19],[9,28],[38,23],[-42,33],[-19,-6],[-2,25],[37,156],[-15,15],[-13,-36],[-29,-22],[-1,-57],[-20,-66],[-39,12],[-70,97],[1,31],[-26,36],[-39,26],[-41,-35],[-22,27],[13,29],[31,32],[25,74],[-14,10],[-18,-49],[-79,-93],[-29,-23],[-38,5],[1,-54],[60,27],[11,-24],[2,-53],[-17,2],[-28,-37],[-18,6],[-41,-38],[-41,-77],[-12,2],[-12,48],[47,77],[-37,-12],[-17,11],[-1,54],[23,83],[13,27],[18,2],[20,-31],[24,17],[22,41],[38,13],[57,58],[42,20],[-9,25],[-19,-2],[1,71],[-11,-49],[-19,-20],[1,30],[25,65],[1,21],[-33,-58],[-45,-47],[-19,-3],[-4,30],[63,112],[-6,38],[-29,-60],[-38,-14],[-12,26],[-15,-49],[-20,-14],[-54,13],[-10,58],[27,19],[11,-9],[18,25],[40,16],[29,28],[23,65],[-25,2],[-14,-46],[-23,-19],[-45,-2],[-18,68],[-12,3],[-17,-69],[-21,-8],[-4,59],[16,26],[17,-6],[-11,44],[-3,55],[13,34],[26,114],[96,6],[-7,38],[-91,-5],[-21,-63],[-27,-26],[-21,-77],[-31,-48],[-23,12],[20,36],[-10,113],[-12,53],[18,30],[-22,10],[-14,-23],[-1,-51],[12,-63],[-14,-63],[1,-41],[-13,-15],[-26,48],[-2,-67],[-27,-45],[-21,22],[0,52],[-11,19],[-7,-73],[-9,15],[4,129],[9,62],[-15,11],[-17,-130],[9,-111],[-4,-29],[-19,-9],[1,49],[-27,34],[-7,-46],[16,-65],[-13,-8],[-38,16],[-34,-48],[-28,9],[-5,31],[14,95],[42,151],[1,53],[49,123],[16,81],[-6,18],[-73,-211],[-1,-35],[-18,-58],[-8,8],[-8,69],[-12,-1],[-3,-81],[-11,-54],[-18,-42],[-3,-64],[-16,-68],[-21,27],[-7,-44],[24,-28],[-5,-91],[10,-8],[19,85],[37,6],[11,-22],[4,-91],[-14,-45],[-31,-32],[-22,-76],[1,-63],[21,20],[17,75],[30,44],[30,-89],[0,-44],[10,-43],[-23,-192],[-26,0],[-9,52],[-19,9],[1,-36],[-27,-44],[0,-17],[28,14],[23,-27],[61,-124],[26,-85],[-15,-77],[-13,-26],[-34,-35],[-17,16],[-14,-18],[-29,-6],[9,51],[-26,67],[9,60],[-17,63],[-16,-126],[0,-62],[-12,-41],[-19,69],[-9,-8],[-7,-59],[-18,-33],[-34,50],[-29,-40],[-15,52],[-27,-21],[-22,5],[-9,28],[24,74],[-9,14],[-27,-38],[-29,-175],[-30,-42],[-9,18],[14,55],[13,84],[-15,172],[-16,5],[-5,-28],[1,-81],[13,-53],[-10,-4],[-10,-72],[-17,11],[-8,-20],[-5,-68],[-11,-17],[4,-47],[25,-31],[-6,-74],[-27,32],[-12,127],[8,37],[-11,78],[-17,6],[6,-52],[-8,-49],[5,-196],[-5,-64],[-27,74],[-1,43],[-16,28],[-34,31],[3,-40],[24,-36],[-1,-63],[-69,-158],[-32,-91],[0,-36],[-16,-10],[-9,-86],[-12,2],[-3,70],[34,211],[0,29],[-26,-65],[-19,-111],[-12,11],[-9,142],[-13,-52],[-11,2],[16,-62],[-5,-80],[-39,0],[-8,-61],[-18,-24],[-22,-55],[7,-43],[-15,-41],[-16,-10],[0,54],[-16,36],[-13,-45],[-1,-53],[-22,-17],[-24,31],[-9,-23],[-21,38],[-7,43],[-12,-36],[-21,-27],[6,-35],[-20,0],[-5,-39],[-41,-7],[-6,76],[-22,-14],[-21,22],[3,22],[-21,8],[-3,70],[8,36],[16,18],[5,71],[32,31],[9,-11],[29,51],[33,3],[0,45],[33,21],[34,62],[31,-9],[-11,69],[22,26],[3,32],[37,102],[-13,15],[-24,-22],[-60,-109],[-30,-20],[-18,-39],[-39,16],[-43,67],[-15,40],[-5,46],[18,117],[13,45],[15,133],[27,79],[17,33],[35,99],[11,98],[0,71],[23,32],[5,156],[4,27],[-18,44],[-22,163],[39,35],[5,27],[63,27],[89,164],[92,118],[51,-161],[41,-16],[13,-27],[34,112],[30,8],[36,-45],[19,10],[63,-48],[65,-20],[30,-55],[-1,27],[-22,63],[-29,36],[-38,-14],[-51,63],[-24,-1],[-40,42],[-25,68],[-39,66],[-29,28],[18,55],[24,9],[31,124],[23,18],[8,60],[46,27],[30,45],[-32,50],[-20,4],[-43,-64],[-11,-49],[-19,-14],[-12,-70],[0,-70],[-18,-31],[-25,19],[-36,7],[-74,-17],[-26,43],[-28,16],[-14,-52],[-87,-84],[-39,-154],[-36,-12],[-19,-31],[-33,2],[-39,-63],[-48,-109],[-1,-29],[26,-124],[-2,-23],[-38,25],[-19,-18],[-30,-52],[-21,-92],[-27,-29],[-32,-74],[-6,-73],[8,-34],[19,-24],[-40,-56],[-9,-67],[-13,-4],[-28,-70],[-19,-7],[-9,28],[-25,-11],[4,-68],[16,-13],[-3,-30],[25,-42],[8,-35],[-12,-73],[-19,-47],[-7,-62],[-25,-21],[-4,-22],[-39,-2],[-15,12],[-40,-31],[-18,3],[-19,-60],[23,16],[15,-20],[15,30],[19,1],[7,-50],[-16,-116],[-19,-16],[-26,-51],[-28,37],[5,-34],[-13,-18],[-18,18],[7,35],[2,75],[-22,71],[3,-119],[-9,-55],[-18,-15],[-13,25],[-6,-35],[16,-28],[-9,-53],[-49,-10],[17,-93],[-8,-32],[-27,-21],[-10,8],[-24,-45],[-12,13],[-36,-37],[5,-26],[20,-18],[-23,-32],[-7,-43],[2,-61],[-12,-44],[-24,-35],[24,-26],[-6,-59],[10,-60],[27,63],[59,-23],[16,22],[12,-22],[15,25],[22,-78],[19,-27],[19,13],[23,-34],[18,-53],[8,-53],[15,-22],[-28,-14],[-14,-118],[-12,-39],[-30,-25],[-11,-55],[-24,-33],[-48,0],[-15,-17],[-4,-94],[-12,-33],[-27,1],[-5,-20],[10,-79],[11,-32],[-27,-36],[-20,15],[-2,-45],[20,-46],[-11,-81],[-21,-30],[-6,-33],[9,-24],[-23,0],[-14,-52],[-26,66],[-9,-7],[5,-57],[-4,-40],[-21,-3],[-12,-43],[-17,16],[0,27],[-20,-1],[-4,-39],[-22,-24],[-23,31],[-28,-17],[-35,-69],[15,-52],[-9,-51],[-40,-44],[-28,-2],[1,-53],[14,-25],[-6,-40],[-20,-16],[-36,59],[-10,30],[-20,-20],[-5,-63],[1,-69],[-26,-27],[-3,-97],[-65,-7],[-21,24],[-2,-74],[8,-71],[-20,0],[-12,37],[-21,3],[-4,-39],[-32,-27],[-39,-92],[-15,-12],[-5,-44],[13,-11],[47,64],[4,-50],[-6,-53],[-15,-7],[0,-31],[18,-38],[-10,-38],[-18,-26],[-2,-49],[-26,-44],[-8,-32],[2,-42],[-32,14],[-31,-28],[-4,-70],[-12,-12],[-19,75],[-8,-53],[-27,-42],[-11,-53],[-24,-6],[5,-50],[-17,-27],[-25,43],[-24,67],[-22,-16],[0,-51],[11,-5],[1,-36],[-29,-10],[-13,-67],[6,-32],[18,-6],[5,-52],[-36,-4],[-24,-15],[-17,77],[-51,-38],[-18,-51],[-16,-3],[-9,-49],[19,-1],[27,25],[20,-17],[6,-54],[-16,-47],[-43,44],[-23,11],[-5,-70],[-33,6],[-23,21],[-20,-33],[-27,-88],[2,-44],[47,-20],[32,-36],[-3,-29],[-32,-42],[1,-23],[18,-4],[25,31],[16,-7],[-55,-78],[-23,-63],[1,-52],[-13,50],[-10,-17],[16,-66],[-6,-50],[-7,39],[-10,-2],[-2,-53],[-25,80],[0,95],[-19,-60],[8,-73],[-4,-67],[-24,-6],[3,58],[-35,1],[-16,-80],[-25,-9],[-75,-43],[-29,-22],[-7,-22],[-3,-74],[-17,46],[5,80],[-23,-19],[10,-30],[1,-104],[-16,-71],[6,-46],[-24,-81],[-32,-30],[2,52],[24,4],[-1,40],[-10,4],[2,111],[18,72],[-29,39],[-28,12],[-13,-18],[3,-45],[-12,-21],[-13,22],[-25,-13],[-9,-82],[-35,-74],[-26,-20],[-37,28],[-6,-29],[11,-44],[-20,-81],[1,-31],[-21,-37],[-12,105],[-10,13],[-14,-37],[-11,14],[-18,-31],[31,-13],[-2,-68],[-32,-10],[-16,25],[5,39],[-13,24],[-22,-22],[-19,-90],[-61,-85],[-26,2],[-11,29],[-26,-29],[-13,4],[10,156],[29,96],[1,46],[-15,16],[-31,-2],[-24,-29],[-24,-101],[4,-129],[-40,-140],[-7,-12],[-14,-85],[-21,36],[-19,-12],[13,-65],[10,-17],[1,-56],[-25,-38],[-19,33],[0,45],[-16,15],[-13,-60],[10,-49],[-17,-47],[-14,27],[-32,-8],[-16,18],[-14,74],[32,6],[-21,47],[-8,104],[-21,56],[-11,7],[-16,-33],[-10,-65],[7,-27],[14,0],[18,-70],[-11,-46],[14,-95],[0,-52],[-22,30],[-20,-19],[3,-26],[-17,-30],[-18,-7],[-22,28],[-16,59],[4,36],[-13,56],[-21,37],[-31,-25],[-10,-56],[49,-85],[4,-31],[-50,-111],[-24,-21],[-20,-33],[16,-56],[27,2],[9,24],[22,-50],[13,-83],[-26,6],[8,34],[-17,6],[-10,-28],[-16,22],[-17,62],[-25,-39],[2,-69],[-18,-1],[-28,-50],[-23,18],[-37,10],[-45,-5],[-34,-14],[-41,-40],[-29,-71],[-4,-69],[-29,-53],[-51,-33],[-29,3],[-28,28],[-9,30],[-9,74],[-10,30],[-1,55],[8,29],[44,41],[14,25],[23,110],[19,110],[-1,29],[22,54],[14,13],[25,-46],[38,39],[25,49],[25,0],[37,81],[34,20],[36,-14],[31,5],[1,-37],[28,-72],[9,-61],[-5,-50],[27,24],[-8,52],[2,37],[30,-30],[-15,42],[2,77],[-10,109],[32,46],[26,21],[42,-15],[21,14],[10,69],[-16,4],[4,28],[18,10],[7,38],[18,-4],[26,99],[3,-32],[15,-20],[21,48],[-5,83],[-20,-9],[27,68],[64,206],[33,52],[23,62],[19,13],[27,42],[25,68],[27,14],[35,39],[37,20],[89,70],[30,-9],[10,18],[45,5],[10,-10],[-20,-27],[-1,-47],[14,-2],[-3,-49],[-29,-18],[-3,-85],[38,-98],[11,22],[27,-39],[4,19],[-29,53],[-3,85],[-6,32],[26,-28],[57,3],[7,-86],[23,7],[26,-36],[7,22],[-14,40],[27,15],[-56,89],[-32,36],[1,58],[-16,-7],[39,166],[15,123],[11,56],[23,44],[36,96],[18,13],[40,74],[30,81],[82,96],[41,74],[35,39],[68,106],[17,42],[29,-68],[19,-14],[31,19],[8,59],[-13,47],[-2,46],[15,122],[29,108],[41,130],[24,62],[22,37],[40,41],[21,52],[22,87],[14,15],[26,62],[30,25],[8,-74],[18,-15],[4,41],[-10,105],[-23,-2],[-6,34],[2,95],[9,59],[25,409],[14,42],[38,16],[12,53],[-20,-9],[-34,77],[-3,62],[9,97],[20,106],[27,33],[29,101],[49,102],[4,57],[19,93],[-5,45],[13,33],[-3,43],[13,38],[-20,0],[-11,-32],[0,-38],[-21,-53],[-28,-31],[-38,-27],[-21,-31],[-29,-22],[-5,-21],[-41,-28],[-44,-61],[-79,-73],[-26,5],[-28,53],[-5,73],[-20,49],[-40,38],[2,46],[11,17],[9,167],[-12,-3],[-25,-101],[-41,-54],[-6,-58],[5,-58],[-8,-37],[-14,-12],[-3,-32],[9,-80],[16,-91],[19,-76],[-26,-87],[-28,-21],[-42,32],[-39,161],[-47,208],[-26,73],[-23,42],[-31,13],[16,65],[-16,44],[-25,-9],[-6,-87],[-15,7],[1,-65],[-29,-30],[-24,79],[3,26],[-19,19],[-11,-30],[-16,6],[-1,59],[-22,-18],[-25,61],[18,47],[-17,89],[-44,-52],[-46,-72],[-31,-62],[-20,-95],[-13,57],[-36,-33],[-94,-124],[-10,-41],[0,-49],[-41,-38],[-8,-26],[-22,-10],[-15,-44],[-20,-15],[-4,55],[-29,45],[-54,-20],[-29,33],[49,47],[15,-39],[18,12],[5,50],[25,77],[3,60],[-8,85],[1,81],[-16,74],[5,21],[-16,20],[-29,97],[-20,139],[29,128],[21,23],[24,79],[24,26],[-15,77],[-18,44],[-15,64],[-10,107],[-50,162],[-3,74],[-25,67],[-10,63],[-30,85],[-10,44],[-22,9],[-11,-37],[-2,-74],[6,-37],[-8,-56],[-12,-21],[-27,-10],[-18,21],[-19,-54],[-36,-29],[-50,-68],[-73,-48],[-88,-28],[-75,10],[-51,38],[-13,32],[-13,99],[23,18],[-18,69],[-54,62],[-32,108],[-5,34],[-33,51],[-18,62],[-42,8],[-31,42],[-47,110],[23,32],[24,55],[-2,36],[-24,6],[-38,-54],[-48,10],[-16,51],[11,32],[32,1],[57,128],[10,-4],[17,45],[-16,34],[-4,41],[32,24],[-27,7],[5,70],[27,78],[-17,3],[-18,-48],[-40,42],[-6,40],[22,49],[27,-6],[19,23],[0,45],[-17,-21],[-30,32],[-16,54],[2,23],[-20,7],[-13,35],[-10,-14],[-12,-99],[-14,-6],[-38,16],[-10,21],[-10,66],[1,129],[-11,19],[-43,10],[-18,37],[-10,98],[42,44],[6,38],[-17,46],[-30,31],[-45,-27],[0,-46],[-21,23],[-9,88],[8,147],[6,11],[-2,-107],[92,47],[0,19],[-35,20],[-20,28],[-24,82],[2,18],[36,19],[55,-8],[33,25],[-29,134],[-4,46],[3,84],[21,77],[101,278],[4,29],[27,77],[29,61],[5,70],[18,67],[21,34],[19,-4],[9,23],[-11,115],[26,188],[18,70],[38,61],[-18,24],[4,22],[58,133],[60,46],[48,11],[42,-45],[43,-11],[32,-84],[24,-6],[6,-26],[54,-88],[73,24],[61,124],[4,47],[44,29],[63,172],[23,89],[23,39],[-9,58],[14,5],[28,-28],[22,-5],[13,-77],[52,0],[45,20],[26,-20],[77,28],[48,38],[9,51],[56,128],[38,135],[0,71],[-12,81],[-23,95],[-17,121],[-1,118],[-5,52],[-71,157],[-9,32],[-41,28],[-27,1],[10,97],[27,33],[14,-25],[35,-20],[51,7],[-10,45],[31,10],[41,81],[2,114],[-42,122],[-47,68],[-25,48],[-1,-32],[-27,-48],[-20,-86],[-42,-30],[-42,42],[-59,-93],[-81,-34],[-18,-71],[-85,-103],[-21,-70],[-5,-99],[-44,-70],[-4,93],[-15,110],[-23,50],[-28,-3],[4,34],[-32,46],[-9,36],[-38,-60],[16,-45],[21,-7],[16,-39],[24,11],[2,-48],[-22,-81],[-19,-11],[-22,82],[-55,76],[-41,33],[-64,13],[-41,-27],[-27,12],[-52,3],[-45,-22],[-108,-112],[-58,-17],[-111,74],[-94,45],[-47,14],[-88,40],[-49,79],[-20,96],[1,74],[20,36],[-6,64],[-28,63],[-45,56],[-1,59],[-46,64],[-10,56],[39,-33],[33,3],[9,27],[24,15],[16,32],[-3,55],[35,61],[-38,63],[-19,9],[-29,-16],[-39,15],[-64,52],[-104,21],[-49,52],[-38,63],[-55,60],[-46,30],[-15,93]],[[2812,78476],[27,27],[-1,59],[18,0],[10,36],[0,57],[21,33],[5,57],[-10,16],[11,87],[46,106],[16,-26],[27,16],[28,-3],[-9,65],[-12,5],[9,77],[-6,26],[18,76],[40,67],[54,37],[29,-53],[31,1],[2,-23],[-21,-74],[5,-60],[-55,-95],[-65,-72],[-19,-66],[-1,-36],[-28,-81],[-15,-58],[-25,-10],[-28,-71],[-15,-17],[-4,-51],[-15,21],[-27,-49],[-54,-69],[13,45]],[[2752,78371],[29,49],[-1,-45],[-26,-25],[-2,21]],[[2615,78610],[4,50],[19,16],[4,-44],[-9,-45],[-12,-8],[-6,31]],[[2607,82847],[50,-13],[29,5],[10,-14],[-27,-68],[-23,4],[-9,46],[-20,10],[-10,30]],[[2611,78728],[8,-39],[-15,13],[7,26]],[[2547,78457],[17,17],[23,-3],[-2,19],[27,23],[19,-10],[10,-25],[-17,-105],[-30,50],[-25,-29],[-19,14],[-3,49]],[[2517,78521],[8,26],[23,-16],[1,-31],[-14,-31],[-13,16],[-5,36]],[[2497,78313],[4,72],[33,-18],[-7,-57],[-30,3]],[[2431,83489],[9,43],[22,15],[12,-10],[29,22],[-2,-56],[-32,-62],[-5,31],[-33,17]],[[2316,78170],[5,42],[40,72],[31,-27],[1,-27],[-13,-58],[-19,2],[-17,-26],[-15,-48],[-15,21],[2,49]],[[2228,78152],[9,-32],[-16,2],[7,30]],[[2183,78046],[17,42],[16,-37],[-12,-55],[-19,-1],[-2,51]],[[2036,90914],[2,37],[25,87],[-3,75],[8,18],[-5,57],[21,3],[8,-42],[-4,-48],[12,-34],[64,-57],[77,-48],[55,-20],[58,87],[58,58],[58,-14],[29,-69],[23,-15],[15,-104],[-2,-38],[53,-56],[56,-14],[22,-32],[9,-35],[36,-20],[88,-20],[14,6],[102,-55],[-27,-131],[-22,-43],[-51,35],[-43,-1],[-50,-29],[-44,-89],[-10,-61],[1,-53],[-20,-46],[-30,22],[3,24],[-26,119],[-32,62],[-50,60],[-39,-5],[-11,69],[-17,55],[-54,80],[-86,69],[-65,11],[-47,-44],[-18,-58],[-36,-34],[-28,33],[-49,36],[-24,83],[-7,56],[3,73]],[[1818,77819],[15,59],[33,49],[12,-2],[27,-39],[-1,-41],[-28,-51],[-32,-27],[-22,-1],[-4,53]],[[1695,87369],[6,69],[25,52],[11,-3],[-4,-58],[12,-54],[33,-70],[48,-63],[22,-14],[25,13],[57,-94],[-21,-19],[-9,37],[-51,8],[-26,-17],[-33,46],[-58,136],[-37,31]],[[1687,87598],[8,-5],[5,-84],[-20,42],[7,47]],[[1421,77626],[35,0],[33,-31],[9,30],[14,-2],[33,27],[25,-1],[-6,-28],[10,-29],[8,15],[31,-24],[23,16],[10,-11],[32,11],[5,-12],[41,-7],[-25,-23],[-16,6],[-14,-22],[-44,-1],[-22,-35],[-8,16],[-16,-19],[-19,4],[-18,25],[-52,3],[-9,-15],[-29,19],[-10,49],[-11,-1],[-10,40]],[[1064,77503],[55,37],[11,-28],[25,50],[3,-22],[19,38],[5,29],[18,-29],[27,8],[8,34],[6,-24],[35,37],[1,42],[44,10],[-13,41],[43,-5],[13,34],[-1,36],[-32,7],[-23,29],[5,26],[21,-16],[12,36],[-2,39],[38,46],[33,-32],[22,-76],[1,-31],[-21,-85],[-34,8],[-4,-43],[33,-79],[-3,-24],[-15,21],[-17,-10],[-4,-27],[-16,-4],[-20,23],[-19,-95],[-25,31],[-64,-55],[-13,29],[-29,12],[-23,-6],[-13,-35],[-22,-8],[-33,6],[-32,25]],[[1013,77451],[17,17],[7,-29],[-22,-4],[-2,16]],[[1005,77685],[16,-19],[-11,-12],[-5,31]],[[949,77433],[5,9],[40,-3],[1,-26],[-19,3],[-22,-24],[-5,41]],[[890,77452],[11,14],[28,-1],[15,-90],[-16,5],[-17,49],[-21,23]],[[821,77563],[14,45],[26,-9],[23,-80],[-20,-38],[15,-56],[-13,-34],[-18,-2],[-18,22],[3,57],[-7,2],[-8,77],[3,16]],[[811,77269],[5,56],[12,10],[10,-27],[19,10],[-12,22],[34,30],[10,-23],[-2,-55],[-23,0],[13,-52],[-29,29],[2,-40],[-12,12],[-5,-39],[-7,45],[-15,22]],[[601,77040],[11,67],[15,16],[7,36],[-13,66],[4,27],[32,7],[7,59],[-13,69],[10,45],[15,4],[18,-20],[19,59],[9,-14],[3,-74],[-20,-29],[-2,-50],[13,-20],[19,4],[31,26],[30,5],[7,-64],[-7,-88],[-15,-12],[-36,18],[-13,-52],[-18,-12],[-13,-41],[-23,31],[-6,-25],[6,-48],[-11,17],[-13,-26],[-4,55],[-14,29],[-19,-108],[-14,11],[-2,32]],[[469,77371],[13,9],[2,-26],[-14,-17],[-1,34]],[[402,77131],[18,33],[24,-17],[26,34],[50,39],[21,43],[2,128],[12,16],[16,-10],[15,-44],[-26,-98],[5,-86],[-7,-38],[-33,-31],[-36,61],[-27,-33],[-40,-10],[-1,-43],[-10,5],[-9,51]],[[257,77332],[8,29],[29,17],[39,-5],[11,-42],[-2,-30],[19,-32],[15,17],[18,-17],[33,34],[-10,-40],[-41,-32],[-12,-71],[4,-31],[-12,-31],[-8,16],[-9,-44],[8,-57],[-8,-5],[-9,56],[-14,-24],[-16,48],[-13,8],[4,28],[41,25],[-3,64],[-20,1],[-13,34],[-39,66],[0,18]],[[130,77016],[32,-12],[-3,-18],[-27,7],[-2,23]],[[81,76979],[27,-17],[7,-23],[-25,5],[-9,35]],[[77,77233],[14,52],[20,-35],[0,-61],[-19,-10],[-15,54]],[[43,76751],[8,25],[10,-22],[5,-50],[-12,-2],[-10,-32],[-1,81]],[[3,76640],[12,18],[6,-59],[-18,-25],[0,66]],[[99917,77451],[12,-2],[12,35],[26,14],[31,-61],[-9,-68],[-24,-42],[-12,-5],[-25,29],[-11,29],[0,71]],[[99678,77049],[5,24],[26,-29],[19,3],[27,-24],[4,-31],[24,-42],[27,-78],[25,-26],[11,-57],[44,-11],[21,-33],[-18,-19],[-9,14],[-29,-16],[-15,41],[-41,72],[-30,101],[-30,43],[-17,-8],[-22,25],[-22,51]],[[99628,77446],[9,11],[20,-16],[11,-33],[-14,-49],[-10,-4],[-16,91]],[[99570,77271],[19,-7],[21,-67],[-22,15],[-18,59]],[[99530,77510],[7,22],[17,-22],[3,-34],[-17,-20],[-10,54]],[[99282,77351],[24,27],[15,50],[39,26],[6,63],[16,96],[11,18],[20,-52],[-12,-32],[-8,-57],[-20,-53],[21,-18],[0,-35],[-13,-10],[-42,17],[-17,-31],[-4,-70],[-11,2],[-25,40],[0,19]],[[98911,77903],[26,-13],[-18,-27],[-8,40]],[[98408,78327],[22,-8],[3,-26],[-24,15],[-1,19]],[[98376,78346],[14,-8],[0,-29],[-14,37]],[[98352,78374],[20,-27],[-12,-2],[-8,29]],[[98210,77943],[6,31],[19,27],[23,-6],[26,67],[41,5],[-17,-40],[-5,-37],[10,-104],[-21,0],[-17,52],[-35,-19],[-30,24]],[[97960,78551],[47,86],[33,11],[100,-20],[29,-63],[24,-15],[35,-94],[2,-18],[-35,-8],[-21,38],[-17,-71],[-9,-13],[-38,15],[-26,-41],[-27,32],[-12,40],[-3,63],[-32,56],[-35,-24],[-15,26]],[[13347,81071],[9,23],[10,-28],[-5,-52],[-16,34],[2,23]],[[13279,80906],[61,56],[7,-80],[13,-14],[-20,-68],[-24,-1],[-33,63],[-4,44]],[[13241,80901],[26,65],[8,-25],[-26,-58],[-8,18]],[[13234,81005],[16,62],[-2,43],[13,20],[-14,43],[-2,70],[5,39],[11,9],[19,-32],[5,-35],[13,-7],[17,-40],[0,-165],[-9,-34],[-27,-2],[-13,32],[-23,-36],[-9,33]],[[13172,81388],[4,66],[6,1],[52,-135],[-12,-28],[-1,-68],[-15,-111],[-23,74],[-9,113],[-2,88]],[[12999,82714],[4,48],[9,-30],[-13,-18]],[[12979,82569],[2,29],[21,40],[21,-38],[-1,-22],[-24,-37],[-19,28]],[[12954,82690],[20,33],[17,52],[-5,-50],[-18,-75],[-14,40]],[[12888,80934],[18,6],[-4,-53],[-14,47]],[[12850,82395],[7,53],[10,-24],[22,-97],[10,-68],[-13,-15],[-21,61],[-9,4],[-6,86]],[[12838,82543],[18,86],[21,30],[30,-20],[24,22],[28,-42],[4,-36],[-18,-53],[6,-82],[-16,-19],[-44,-22],[-23,65],[-24,29],[-6,42]],[[12768,81460],[21,27],[-2,-46],[-16,-11],[-3,30]],[[12700,80811],[9,0],[10,-128],[-15,29],[-4,99]],[[12674,81692],[9,23],[1,61],[20,-30],[1,-32],[-22,-72],[-9,50]],[[12659,81749],[12,9],[-1,-36],[-11,27]],[[12637,81497],[8,92],[8,25],[32,-9],[10,-16],[-2,-35],[-16,-42],[8,-16],[20,40],[5,43],[13,-19],[19,68],[19,-2],[16,-39],[-5,-60],[-15,-35],[-19,15],[-13,-35],[17,-22],[-2,-37],[-22,-21],[-22,-50],[-9,-97],[-23,78],[17,61],[-1,78],[-29,51],[-14,-16]],[[12629,82086],[11,22],[24,102],[28,10],[11,20],[-22,13],[-1,47],[15,-22],[9,34],[-36,62],[14,29],[-10,86],[23,49],[45,-24],[71,-17],[24,-82],[11,-73],[-5,-69],[14,-6],[13,-68],[17,-48],[17,5],[57,-119],[12,-52],[33,-111],[3,-126],[29,-29],[8,-82],[8,-32],[31,-50],[13,-58],[-10,-6],[-19,46],[-75,98],[-3,-31],[-23,-74],[11,-8],[14,47],[8,-19],[23,10],[5,-37],[20,-13],[10,-29],[-38,-14],[8,-36],[32,21],[14,-52],[16,-14],[11,-87],[8,-9],[-12,-49],[-20,9],[2,-32],[22,-22],[11,8],[3,46],[14,36],[9,-21],[5,-91],[-15,-34],[4,-36],[-22,-94],[-29,-40],[18,-23],[27,59],[15,-10],[0,-203],[7,-72],[-20,-105],[-37,-9],[-26,48],[-14,-19],[-17,38],[-1,37],[-38,-2],[17,53],[27,-10],[1,39],[-19,42],[-19,13],[-35,78],[9,38],[10,115],[-15,9],[-11,-58],[7,101],[8,28],[-11,39],[-5,-55],[-27,-21],[14,-103],[-18,-58],[-47,56],[-4,35],[17,58],[-18,100],[-20,-5],[-10,50],[-21,3],[12,-78],[18,-65],[6,-72],[-7,-36],[15,-17],[20,-145],[24,-26],[-4,58],[24,18],[28,-65],[4,-124],[-14,-16],[-18,74],[-7,-7],[23,-170],[-29,0],[-26,32],[-2,60],[-20,40],[-49,177],[-10,22],[-2,84],[-12,10],[-8,61],[29,8],[-27,33],[3,119],[-33,-28],[-10,26],[-18,-19],[-9,42],[6,84],[33,30],[11,-63],[17,20],[-13,29],[6,39],[14,20],[14,-14],[22,44],[-29,96],[14,12],[-16,32],[4,66],[-24,-21],[-49,87],[-4,28],[16,-1],[-9,50],[3,35],[-27,18],[6,-57],[-10,-13],[-32,39],[-16,58],[12,52],[28,14],[37,-54],[28,35],[-17,67],[-18,16],[-12,-20],[-9,17],[8,30],[-2,42],[7,63],[-5,16],[-13,-47],[-27,-65],[-22,-33],[-23,38],[-5,45]],[[12611,83642],[15,25],[14,-33],[-27,-31],[-2,39]],[[12594,82026],[14,28],[11,-6],[4,-52],[-8,-48],[-10,3],[-11,75]],[[12476,82024],[28,22],[1,-43],[31,33],[8,75],[7,-2],[-9,-101],[-22,-24],[-20,-56],[-18,17],[8,30],[-14,49]],[[12463,83115],[17,52],[16,17],[7,33],[33,-1],[1,26],[28,-40],[11,-83],[18,-54],[31,-2],[9,-21],[10,26],[-29,44],[-13,80],[-2,55],[-35,79],[11,53],[34,26],[51,-37],[25,-9],[47,-44],[31,-20],[7,14],[57,-11],[30,-74],[14,-82],[3,-56],[9,-23],[23,-11],[16,-48],[5,-46],[33,-52],[9,-64],[15,-34],[-31,-38],[-20,-42],[-26,-24],[-16,16],[-31,4],[-43,24],[5,-48],[-23,-51],[-40,25],[-19,29],[-12,-47],[-15,-20],[-25,-2],[-17,15],[-3,87],[-11,32],[-30,-64],[13,-29],[-2,-90],[-23,-3],[-2,-31],[10,-51],[-11,-51],[-2,-62],[-17,-50],[4,-39],[-9,-64],[-10,-11],[-25,15],[-14,-103],[-15,19],[-12,52],[-7,63],[-1,109],[-10,87],[2,75],[14,48],[-3,57],[15,101],[-12,28],[-22,-1],[5,77],[-20,56],[-8,75],[2,43],[-5,91]],[[12311,84926],[43,-96],[7,-47],[14,-9],[8,-130],[19,1],[21,38],[11,-23],[20,-2],[21,-29],[54,13],[-3,-89],[25,-75],[2,-52],[21,-52],[14,-87],[17,-55],[2,-142],[21,-60],[4,-65],[-9,-2],[-5,47],[-38,120],[-10,115],[-19,37],[-9,53],[-21,0],[26,-101],[4,-34],[-13,-23],[35,-121],[23,-49],[-2,-62],[24,-113],[-19,6],[15,-102],[0,-27],[-25,-62],[-20,26],[-17,-1],[4,-34],[-21,-104],[-38,-83],[-24,-25],[-2,-33],[-31,-65],[-29,3],[-9,89],[-4,135],[21,80],[15,23],[-16,31],[-1,69],[14,6],[12,-39],[6,23],[-40,141],[-1,58],[-18,60],[-5,82],[-11,43],[8,125],[-12,81],[-3,95],[-11,91],[4,44],[-20,93],[-17,45],[-9,77],[-6,101],[3,42]],[[12292,85061],[35,-45],[27,-125],[-10,-5],[-22,115],[-23,19],[-7,41]],[[12202,85643],[15,-71],[0,-46],[-10,29],[-5,88]],[[12106,83714],[16,11],[1,26],[28,65],[-4,68],[36,64],[18,-12],[25,-85],[15,10],[18,-58],[23,-24],[38,4],[22,-14],[12,-79],[-2,-49],[-20,35],[-19,-2],[-1,-22],[21,-25],[11,-46],[29,-278],[-1,-71],[12,-56],[0,-58],[18,-142],[5,-107],[-5,-112],[-11,1],[8,-81],[3,-240],[-9,-111],[-11,6],[-28,70],[-10,86],[-21,59],[-40,212],[4,48],[22,23],[-18,30],[-26,-31],[-14,88],[-11,-15],[-17,42],[-12,55],[2,34],[-14,-22],[-10,24],[-30,2],[-19,96],[19,3],[10,-29],[10,13],[-3,105],[19,53],[6,38],[-39,86],[24,63],[-4,22],[14,35],[4,53],[-33,16],[-21,-28],[-14,79],[-26,72]],[[12097,84881],[16,18],[19,-7],[16,-52],[-29,-6],[-22,47]],[[12062,83572],[4,48],[-3,66],[25,9],[34,-62],[15,-74],[12,-19],[17,30],[23,-10],[-16,-82],[-24,-14],[-27,-161],[-12,6],[-40,-30],[-9,8],[3,102],[25,47],[1,50],[-22,4],[2,29],[-13,31],[5,22]],[[11978,85151],[9,14],[7,-59],[-16,45]],[[11978,84786],[30,41],[3,-53],[-16,-19],[-17,31]],[[11861,84371],[5,174],[16,33],[8,-9],[29,60],[3,51],[-12,92],[32,-2],[0,-54],[12,-60],[28,61],[29,-6],[17,-20],[17,49],[36,50],[14,-55],[41,-30],[25,-53],[-12,-78],[-31,-76],[4,-49],[12,-5],[8,60],[32,108],[15,12],[34,-55],[46,-10],[11,-32],[29,-16],[15,-79],[-4,-67],[-22,-44],[-37,49],[-10,-8],[12,-40],[18,-18],[33,-75],[-21,-29],[-25,-2],[4,-28],[21,-13],[23,24],[7,-95],[14,-69],[12,-143],[-14,-42],[-42,-11],[-17,12],[-44,95],[-65,99],[-27,50],[-22,-26],[-9,29],[-4,-32],[30,-55],[22,-8],[-21,-31],[6,-25],[0,-72],[-9,-50],[-31,-87],[-51,47],[-1,38],[-42,85],[-20,90],[-12,-38],[-19,43],[-10,79],[4,25],[-18,86],[2,24],[-16,57],[-26,30],[-7,49],[-25,36]],[[9331,87212],[28,-14],[12,-44],[-27,-9],[-13,67]],[[9232,87245],[16,14],[58,-26],[-3,-31],[-21,-10],[-50,53]],[[8867,87809],[26,35],[27,3],[15,-16],[-18,-53],[-50,31]],[[8817,87545],[4,86],[28,16],[21,-89],[-11,-44],[-37,-10],[-5,41]],[[8816,87079],[2,14],[43,47],[1,-36],[-40,-59],[-6,34]],[[8698,86532],[8,21],[3,71],[23,12],[-3,42],[21,54],[16,7],[-3,41],[30,34],[9,30],[43,75],[22,118],[27,44],[-3,40],[10,71],[27,34],[4,-43],[24,2],[-17,-51],[9,-17],[24,28],[8,-22],[-11,-37],[-62,-118],[-49,-129],[-8,-80],[-33,-60],[30,-57],[-19,-42],[-23,-8],[-22,15],[-17,-57],[-9,6],[-45,-47],[-14,23]],[[8692,87068],[44,270],[11,-41],[12,13],[-4,66],[44,84],[0,-54],[-12,-32],[-3,-82],[-20,-37],[20,-42],[-24,-97],[2,-46],[-17,-104],[-24,45],[-3,25],[-25,7],[-1,25]],[[8672,87628],[15,31],[17,-19],[17,-48],[-24,-45],[-25,81]],[[17950,55027],[5,31],[24,-13],[25,26],[-2,40],[18,63],[1,79],[-15,136],[-16,8],[-7,-13],[-13,25],[-3,-17],[-14,68],[7,67],[2,142],[-15,41],[9,65],[-8,51],[19,9],[28,138],[9,24],[-4,46],[4,110],[8,12],[-2,74],[-7,64],[1,51],[6,6],[-2,55],[-7,20],[28,116],[0,69],[8,28],[23,29],[10,40],[17,21],[1,19],[25,65],[-1,49],[-11,54],[-14,19],[-31,100],[-13,7],[2,58],[-26,239],[-23,63],[-7,69],[-16,57],[1,147]],[[17974,57684],[6,95],[-10,22],[21,43],[0,72],[-9,178],[-6,65],[-11,47],[-4,58],[6,36],[0,103],[-9,38],[3,39],[-7,31],[3,51],[-5,59],[4,56],[9,24],[-10,31],[-12,97],[4,43],[-7,80],[25,31],[9,29],[5,-14],[12,25],[17,-1],[2,-25],[24,19],[13,-3],[18,-71],[-2,-28],[21,-51],[24,11],[24,183],[5,15],[1,230],[-2,272],[0,437]],[[18136,60011],[200,0],[222,0],[313,1],[97,1],[160,2],[6,-7],[235,0],[162,1]],[[19531,60009],[0,-1691],[-1,-237],[1,-30],[0,-925],[-1,-608],[1,-145],[-1,-113],[0,-2847]],[[19530,53413],[-64,2],[-201,-1],[-128,-1],[-172,0],[-359,476],[-212,269],[-102,136],[-368,471],[5,66],[-5,17],[1,60],[8,16],[17,103]],[[19530,64667],[242,0],[154,2],[327,0],[66,-5],[137,-1],[242,1],[7,2],[217,2]],[[20922,64668],[282,1],[135,0],[140,0],[0,-1163]],[[21479,63506],[1,-381],[0,-434],[1,-193],[0,-1270],[1,-137],[0,-1089]],[[21482,60002],[-183,3],[-22,5],[-62,1]],[[21215,60011],[-204,-3],[-169,-5],[-184,0],[-34,2],[-301,-1],[-186,-2],[-2,9],[-152,-1],[-230,-1],[-222,0]],[[19531,60009],[0,583],[1,36],[0,738],[-5,129],[0,517],[2,216],[0,1857],[1,46],[0,536]],[[27414,45876],[14,60],[5,-33],[-14,-44],[-5,17]],[[27386,45813],[9,39],[11,4],[-5,-33],[-15,-10]],[[27310,45701],[52,90],[6,-30],[-45,-80],[-13,20]],[[27118,45540],[19,106],[20,46],[25,43],[3,23],[36,66],[38,-67],[4,-52],[14,-43],[-4,-11],[-40,-48],[-3,27],[-27,-5],[-3,-24],[-46,-73],[-36,-15],[0,27]],[[27062,45510],[39,24],[-10,-43],[-17,-14],[-13,8],[1,25]],[[27020,45533],[6,35],[12,-10],[-5,-41],[-13,16]],[[26992,48019],[5,-18],[19,-211],[8,-28],[17,-26],[7,17],[14,-21],[-14,-31],[-9,-1],[-21,50],[-7,28],[-13,115],[-6,76],[0,50]],[[26806,45614],[15,13],[4,-23],[-20,-10],[1,20]],[[26322,51623],[29,47],[0,-29],[-16,-37],[-11,-6],[-2,25]],[[26229,53027],[6,-79],[11,-52],[2,-83],[6,-75],[14,-48],[136,-25],[261,-56],[206,-51],[135,-34],[-5,-14],[2,-57],[7,-26],[-3,-71],[11,-76],[37,13],[0,75],[6,47],[3,119],[-12,91],[4,60],[-1,49],[8,16],[-4,24],[12,-8],[9,59],[15,-7],[7,-33],[17,-3],[18,-28],[7,-25],[33,-19],[17,-18],[14,15],[13,-19]],[[27221,52688],[4,-13],[-4,-113],[3,-92],[-4,-22],[10,-25],[4,-95],[1,-113],[23,-389],[13,-129],[0,-51],[28,-302],[32,-288],[29,-229],[65,-412],[38,-200],[4,-63],[10,-83],[-18,-57],[-4,-54],[-1,-87],[5,-130],[6,-96],[16,-145],[35,-269],[15,-166],[5,-84],[5,-29],[11,-140],[17,-152],[9,-66],[6,-94],[13,-109],[17,-258],[-1,-235],[-7,-175],[-5,-210],[-3,-37],[-8,-286],[0,-169],[-3,-80],[-7,-81],[0,-44],[-6,23],[3,51],[-5,20],[-16,-25],[-10,-102],[-6,-17],[-1,-64],[-8,-40],[-2,-78],[5,-33],[-2,-46],[6,-16],[-8,-53],[-8,-13],[-1,-49],[21,39],[25,194],[7,41],[0,-41],[-8,-83],[-34,-222],[-9,-82],[-25,-93],[-34,-139],[-24,-66],[-3,12],[34,122],[14,40],[7,53],[3,81],[5,32],[-6,23],[-9,-11],[-7,26],[-6,-18],[-34,-22],[-14,-41],[-9,-6],[-18,45],[-18,-13],[-7,-41],[-27,-18],[-23,-6],[-17,52],[-8,68],[2,79],[6,60],[6,-3],[-2,49],[-12,97],[-11,47],[2,34],[-8,62],[-11,32],[-5,85],[-6,18],[-11,-15],[-9,101],[-24,31],[-1,16],[-21,38],[-21,55],[-11,-13],[-8,-39],[-16,126],[-15,148],[-5,173],[-7,109],[-7,57],[-28,113],[-11,9],[-1,52],[-12,23],[0,-64],[-14,-11],[-1,66],[-8,113],[-12,51],[3,24],[13,-3],[9,-39],[11,159],[-2,86],[-8,14],[0,40],[8,10],[-4,31],[-12,-4],[-5,-33],[-11,-11],[8,-148],[-9,-20],[-20,-11],[-5,-50],[0,75],[-6,50],[-17,94],[-26,177],[-9,94],[-19,140],[-27,149],[-14,56],[-4,58],[-10,61],[10,-19],[1,-30],[15,30],[10,72],[12,28],[13,98],[13,34],[-2,23],[14,26],[11,84],[-5,75],[-22,21],[5,-113],[-22,30],[6,34],[-1,65],[-5,39],[-38,71],[1,-65],[-11,-28],[11,-37],[16,-6],[11,-110],[-10,-42],[0,-62],[-4,-27],[-21,-6],[-3,-32],[7,-38],[-9,-30],[-4,40],[2,83],[-14,85],[-9,26],[-8,58],[6,182],[-5,66],[-4,164],[9,1],[0,-93],[4,-89],[9,-7],[-4,153],[9,37],[1,41],[8,44],[0,38],[7,50],[0,39],[9,47],[1,91],[5,83],[-6,66],[2,56],[-13,29],[4,42],[-9,109],[12,64],[-21,110],[3,31],[-8,55],[-10,3],[5,33],[-1,49],[-7,13],[-47,23],[-9,-51],[-7,-4],[-9,100],[3,45],[-14,32],[-12,9],[-2,63],[-7,58],[-11,45],[-15,6],[-5,44],[-24,48],[0,111],[-4,67],[-12,7],[-10,38],[-13,17],[-13,61],[0,42],[-9,35],[-5,51],[-14,44],[-28,62],[-40,72],[-26,75],[-11,-2],[-26,-33],[-31,29],[-1,-35],[-26,-69],[9,-99],[-3,-28],[-10,-7],[-15,15],[-5,26],[-24,-22],[-31,-73],[-65,-132],[-6,2],[7,44],[-10,12],[-7,-39],[-15,-41],[-36,1],[13,-49],[2,-38],[16,-22],[30,53],[29,40],[27,84],[3,-13],[-24,-82],[-28,-43],[-35,-66],[-12,-14],[-10,33],[-16,22],[-23,51],[-19,7],[-17,-28],[-13,94],[-5,119],[8,42],[0,-105],[6,-91],[7,-22],[10,39],[1,97],[-17,105],[-18,60],[-17,13],[-15,40],[-16,71],[-27,47],[-22,69],[-41,95],[-47,76],[-58,70],[-31,20],[-62,18],[-33,-5],[-47,-25],[-65,-49],[-32,-15],[-7,10],[-63,-51]],[[26061,57664],[39,-2],[136,6],[183,1]],[[26419,57669],[196,-2],[-1,6],[143,10]],[[26757,57683],[-3,-72],[-31,-68],[-26,-105],[1,-36],[-8,-26],[3,-64],[30,-82],[17,-7],[23,-104],[23,-51],[28,16],[8,-12],[8,-64],[3,-64],[12,-30],[3,-50],[11,-52],[0,-51],[7,-68],[12,-24],[8,-67],[14,-48],[11,-101],[9,-1],[19,-72],[29,-52],[29,-98],[4,-61],[9,-41],[1,-40],[13,-38],[12,-2],[17,-37],[18,-93],[15,-26],[4,-24],[-7,-43],[4,-39],[-4,-32],[28,-82],[-4,-30],[13,-42],[11,5],[-2,-41],[8,-45],[27,-55],[9,1],[16,-58],[19,-43],[-5,-67],[12,-64],[2,-49],[9,-15],[0,-85],[4,-32],[-5,-45],[6,-8],[4,-48],[-5,-41],[12,-48],[25,-26],[0,-23],[23,-81],[-4,-34],[15,-105],[4,4],[6,-76],[-10,-44],[11,-67],[-4,-26],[5,-62],[21,-34],[11,17],[22,-71],[9,-4]],[[27376,54230],[12,-12],[-5,-64],[-14,-29],[-10,15],[-6,-48],[10,-8],[-16,-60],[-21,23],[-3,-56],[11,-11],[-9,-59],[-17,-54],[-17,13],[-3,-16],[12,-33],[8,5],[-1,-84],[-7,-62],[-28,-26],[0,-22],[17,10],[6,-24],[-23,-131],[-6,-91],[7,-13],[-5,-30],[-5,-97],[-13,-22],[-8,-59],[-9,-3],[0,-71],[-7,-69],[-7,2],[-12,-44],[13,-24],[11,24],[1,-81],[-16,-161],[5,-70]],[[25527,65491],[15,-41],[12,20],[7,-15],[-6,-40],[27,-23],[29,1],[28,25],[52,75],[31,59]],[[25722,65552],[90,-1],[198,-1],[187,1],[87,1],[0,-75]],[[26284,65477],[1,-242],[0,-1380],[-3,-437],[0,-441],[-2,-278],[0,-238]],[[26280,62461],[-19,-45],[-2,-20],[16,-71],[2,-31],[-11,-38],[3,-37],[17,-7],[4,-25],[-13,-46],[6,-44],[-22,3],[-16,-23],[-9,5],[-35,-63],[-14,-39],[-19,10],[-10,43],[-26,-7],[-16,7],[-12,-33],[4,-125],[6,-71],[-16,-40],[-7,-44],[-30,-34],[-19,-161],[-19,-39],[-14,24],[-10,-13],[-6,-63],[-16,-72],[1,-87],[-5,-70],[-8,-24],[-23,-18],[-4,-36],[-13,58],[-22,1],[-26,55],[-1,94],[-21,67],[-8,-2],[1,-34],[13,-12],[-1,-25],[-13,-2],[-8,-29],[-8,23],[-9,-29],[9,-17],[-6,-42],[-18,-9],[-2,-94],[5,-38],[-23,-9],[-2,-63],[-11,-29],[-7,24],[5,51],[-10,10],[-10,-25],[-10,22],[-12,89],[-17,-2],[-14,-52],[-29,-27],[-10,-30],[-5,-97],[-7,-27],[-11,-3],[-8,62],[-18,13],[-22,57],[-22,44],[-20,6],[-14,-37],[-14,19],[-6,49],[-8,6],[-7,-66],[11,-64],[-13,-40],[-11,3],[3,56],[-5,30],[-42,-31],[-11,52],[-9,4],[-10,-40],[10,-91],[-12,-47],[-23,32]],[[25386,60941],[-11,2],[-4,34],[12,-9],[-16,92],[24,-8],[-15,29],[15,67],[1,60],[-8,26],[19,19],[2,38],[-12,-19],[22,73],[-14,60],[-4,59],[9,-10],[9,68],[5,-35],[7,41],[8,-33],[13,102],[8,9],[13,84],[-2,38],[24,42],[0,66],[9,83],[7,32],[14,12],[14,76],[-1,42],[-15,94],[11,111],[-18,40],[1,79],[-16,55],[-3,73],[19,60],[-9,50],[2,60],[6,32],[13,9],[0,347],[-1,0],[0,397],[1,12],[0,294],[1,247],[0,1196],[1,254]],[[21479,63506],[257,-1],[104,0],[263,-1],[273,1],[163,0],[279,-1],[263,-1],[144,0],[133,0]],[[23358,63503],[16,-60],[13,-11],[1,-43],[13,6],[5,-36],[26,-14],[8,41],[24,-13],[-4,-28],[7,-33],[11,-11],[-4,-42],[-9,-1],[3,-36],[12,16],[-1,-49],[-10,-6],[-13,24],[-5,-75],[-15,-19],[-7,-41],[2,-41],[-17,-24],[1,-48],[15,-41],[1,-29],[16,-31],[12,-61],[14,0],[5,-21],[-9,-25],[6,-79],[18,-52],[-3,-28],[15,-13],[5,-31],[14,-11],[9,16],[5,-31],[20,-3],[-5,-41],[0,-444],[-1,-120],[0,-696],[-1,-52],[0,-779],[-1,-97],[0,-281]],[[23550,60009],[-249,1],[-196,-1],[-169,0],[-218,0],[-208,-1],[-258,2],[-103,0],[-154,3],[-149,-4],[-209,-4],[-155,-3]],[[30863,68384],[14,7],[-7,-35],[-7,28]],[[30827,68345],[7,83],[6,-34],[19,-55],[-15,-45],[-5,34],[-12,17]],[[30819,68560],[3,42],[11,-71],[-14,29]],[[30732,68434],[14,2],[3,-41],[-17,39]],[[30712,67988],[8,37],[1,-75],[-9,38]],[[30703,68290],[8,41],[25,45],[11,-50],[-9,-8],[14,-78],[-11,-39],[-18,-13],[-12,24],[5,25],[-3,50],[-10,3]],[[30697,68452],[13,68],[2,64],[9,25],[6,-26],[-9,-35],[1,-36],[-8,-70],[-10,-29],[-4,39]],[[30213,67064],[-35,81],[0,69],[6,42],[-41,128],[-9,53],[8,101],[-4,10],[6,88],[-6,23],[-5,313],[0,89],[-11,861],[-15,757]],[[30107,69679],[21,15],[0,33],[25,-41],[-1,-38],[7,-43],[11,-15],[13,85],[2,86],[-6,28],[12,36],[8,-3],[12,-44],[21,-9],[1,39],[-24,83],[-1,32],[22,107],[14,27],[11,43],[8,-1],[15,41],[24,38],[-9,71],[21,66],[23,45],[5,56],[-7,28],[-14,0],[0,66],[10,38],[-8,14],[15,51],[5,46],[-15,44],[16,115],[8,18],[-1,37],[17,32],[14,59],[11,8],[17,324],[215,890],[13,-3],[27,-38],[11,4],[-3,-58],[1,-141],[4,-18],[37,-73],[25,43],[26,30],[28,2],[11,52],[30,11],[25,-12],[0,62],[16,23],[25,-6],[23,-36],[4,-32],[33,-68],[36,-132],[0,-15],[28,-51],[0,-545],[3,-693],[-1,-71],[9,-30],[-15,-39],[14,-70],[-15,-34],[1,-136],[23,-18],[3,20],[10,-57],[19,-28],[30,-23],[14,19],[8,-62],[1,-56],[-13,8],[-11,-22],[7,-68],[16,-63],[-9,-73],[-10,-41],[23,-116],[0,-23],[18,-40],[13,28],[1,46],[18,-30],[19,-3],[13,-56],[6,-51],[-8,-14],[10,-32],[12,-98],[15,-38],[1,-118],[-12,-50],[-10,2],[-4,-32],[-32,-113],[-24,-25],[4,-22],[-15,-8],[6,42],[-4,85],[-27,-30],[12,-58],[-12,-43],[-11,13],[-13,-58],[-13,18],[-10,-12],[2,-35],[16,-40],[-22,-57],[-13,46],[-6,57],[-13,-10],[-3,-38],[-8,3],[-7,59],[-7,-62],[-9,-14],[-8,-74],[-7,19],[-6,-48],[-4,42],[-20,-51],[-5,27],[-12,-92],[-16,39],[0,36],[-10,-21],[-11,9],[2,-66],[-16,-71],[11,-33],[-35,-16],[-23,32],[-16,107],[6,29],[22,27],[-9,45],[-13,-35],[2,44],[-10,-3],[1,-68],[-5,0],[0,64],[-24,-56],[5,-35],[-6,-43],[14,-67],[-3,-45],[-23,-77],[9,-11],[-12,-31],[11,-56],[-5,-69],[-16,-10],[-3,85],[6,4],[-3,55],[-17,45],[-4,64],[15,51],[-19,40],[6,26],[-10,10],[-18,-21],[1,113],[11,44],[1,50],[-7,14],[-7,-46],[-14,-40],[-11,33],[-7,-32],[-15,-4],[14,-81],[-3,-48],[-12,-23],[-10,-71],[-4,-72],[-13,-78],[19,-30],[-13,-28],[10,-57],[-10,-38],[-27,4],[-13,-72],[-15,-1],[-2,-58],[-11,-9],[0,52],[7,37],[-9,15],[-3,-30],[-12,-13],[5,65],[-18,-9],[1,-52],[-16,-37],[-5,-50],[-12,51],[-2,-47],[-15,-32],[-12,26],[-3,-66],[-13,51],[-13,-92],[-23,-27],[-5,-19],[-5,83],[-16,5],[-15,-42],[-5,-39],[-20,4],[-7,-49],[-20,4],[-10,-49],[-3,-50],[5,-29],[-8,-32],[-13,29],[-22,-31],[-9,-46],[6,-67],[-8,-43],[-10,-15],[3,-33],[-14,-24],[-14,4],[-10,-25],[-11,-98],[5,-19],[-14,-80],[1,-22],[-14,-74],[-9,-13]],[[30332,65028],[13,-24],[29,5],[18,17],[12,70],[16,-105],[-1,-30],[-10,-16],[-33,4],[-41,60],[-3,19]],[[30177,65078],[18,0],[19,90],[27,60],[11,-15],[7,-70],[15,-27],[10,40],[-1,-84],[-41,1],[-31,-9],[-18,-47],[-16,61]],[[29500,66699],[224,-22]],[[29724,66677],[199,-23],[126,-12],[10,46],[21,1],[-1,62],[15,36],[19,-18],[9,62],[36,32],[15,-30],[8,13]],[[30181,66846],[2,-72],[9,-136],[25,-47],[12,42],[14,-34],[-16,-90],[-23,-7],[-38,-35],[12,-50],[-18,-50],[-7,9],[-5,-59],[-4,41],[-11,-53],[11,-74],[-13,10],[-5,-28],[8,-26],[-5,-27],[14,-14],[6,36],[14,8],[9,-47],[24,-28],[12,-42],[2,-46],[21,-93],[-1,-50],[-7,-39],[-12,-5],[3,-24],[21,-51],[12,8],[8,-24],[8,-83],[-5,-50],[13,-48],[23,-35],[34,-12],[9,-23],[19,44],[19,8],[27,33],[6,25],[-1,79],[-6,61],[-13,-31],[0,97],[-5,55],[-15,34],[-9,-7],[-5,-39],[-11,59],[13,11],[21,-18],[23,-58],[18,-123],[9,-119],[2,-137],[-15,-129],[-2,-44],[-7,9],[12,112],[-7,23],[-26,-5],[-43,-40],[-30,8],[-7,-28],[-17,-7],[-15,-62],[-33,-10],[-34,-66],[-16,-47],[-21,-28],[-23,-15],[6,26],[35,34],[16,47],[24,49],[5,40],[-2,117],[6,41],[-26,26],[0,-59],[-7,14],[-4,-50],[-14,3],[2,-32],[-31,-11],[-7,-49],[2,-44],[-6,-29],[-25,-23],[-12,17],[-10,-14]],[[30097,65246],[-3,189],[-18,18]],[[30076,65453],[-8,41]],[[30068,65494],[-10,48],[-19,33],[-5,56],[2,81],[-12,-6],[0,147],[-116,-13]],[[29908,65840],[-1,18],[-202,13],[-22,-4],[-42,6],[-3,-39],[-14,-6],[1,45],[-54,3],[-118,14],[-15,-1]],[[29438,65889],[-6,42],[34,395],[34,373]],[[22823,73980],[83,-1],[266,0],[229,-1],[0,449],[27,-37],[28,20],[29,-53],[8,-35],[14,-202],[7,-25],[18,-251],[-6,-69],[4,-54],[14,-43],[29,-45],[24,-12],[8,19],[44,-11],[11,-58],[61,-7],[48,-21],[8,-66],[-3,-49],[6,-12],[42,2],[5,15],[22,-2],[23,20],[-1,48],[33,46],[39,18],[9,-22],[53,0],[72,-98],[26,4],[1,-49],[-19,-7],[-4,-37],[16,-31],[41,13],[15,-54],[-6,-34],[6,-49],[24,-127],[25,27],[-8,84],[13,45],[15,-11],[42,16],[16,-44],[-2,-65],[17,-41],[14,9],[9,-36],[41,-9],[5,-67],[-4,-31],[20,-21],[23,13],[-3,-75],[22,28],[14,-22],[19,24],[34,17],[46,113],[17,13],[13,32],[25,30],[14,-13],[0,-67],[17,-17],[-6,-26],[10,-48],[16,-3],[35,29],[6,-29],[25,15],[26,-18],[19,13],[48,8],[29,-28],[9,-66],[34,-53],[15,35],[20,9],[13,-20],[23,6],[11,-18],[25,22],[-27,-56],[-10,20],[-4,-34],[-17,-15],[-26,-58],[-37,-34],[-14,-37],[-52,-44],[-48,-54],[-15,-6],[-42,-45],[-4,-14],[-51,-77],[-37,-79],[-72,-183],[-17,-69],[-55,-178],[-26,-72],[-26,-41],[-26,-88],[-11,-11],[-28,-83],[-10,-10],[-61,-134],[-9,-25],[8,-50],[14,-46]],[[24276,71309],[-21,50],[-14,-11],[-3,-29],[-16,-14],[9,-19],[-11,-43],[-22,16],[0,-685],[-10,-10],[-6,-59],[-24,7],[-10,-56],[-14,13],[-8,-38],[-25,-23],[-20,-47],[-20,-148],[-22,-49],[-7,-114],[1,-53],[21,-21],[10,9],[14,-32],[-1,-31],[23,-85],[-1,-50],[-15,-47],[1,-29],[-17,-49],[2,-91],[-4,-32],[6,-91],[-16,-58],[11,-34],[-2,-65],[6,-41],[-7,-42],[3,-75],[-12,-80],[5,-36],[16,-27],[31,-87],[-1,-24],[14,-16],[9,-44],[50,-9],[12,-17],[10,-78],[14,-38],[50,-51],[22,-39],[14,-40],[0,-53],[8,-15],[5,-84],[17,-45],[27,-41],[3,-29],[36,-90],[39,-29],[15,-55],[30,-136],[9,-75],[-8,-113],[2,-71],[10,-37],[-4,-44],[8,-53]],[[24498,67577],[-204,0],[-224,0],[-116,-1],[-223,0],[-180,1],[-313,0],[-199,0]],[[23039,67577],[0,1215],[1,101],[-1,302],[0,479],[-10,65],[-36,59],[-18,4],[-14,55],[-9,73],[-26,98],[5,46],[25,62],[22,39],[12,63],[14,46],[4,128]],[[23008,70412],[-4,106],[6,37],[-11,188],[-1,129],[-13,27],[-20,98],[-5,49],[-4,119],[-11,57],[-2,39],[5,68],[-6,112],[5,17],[6,117],[-6,-11],[-11,51],[1,171],[-5,92],[-2,114],[3,50],[-7,103],[1,217],[-5,3],[-7,89],[-11,92],[-8,17],[-11,101],[-3,58],[-11,34],[-5,121],[-16,101],[-3,110],[7,53],[-8,93],[3,52],[-1,107],[-7,59],[7,76],[9,24],[3,62],[-15,80],[-8,124],[-6,24],[-11,98],[3,40]],[[28860,63072],[14,65]],[[28874,63137],[9,32],[5,61],[12,42]],[[28900,63272],[17,44],[38,25],[25,45],[0,69],[16,25],[7,33],[34,72],[18,15],[12,51],[10,-8],[17,39],[-14,71],[-20,41],[-7,52],[-21,54],[-7,68],[-25,19],[-4,45],[2,95],[-10,37],[-17,-5],[-9,14],[-2,83],[7,30],[-8,22],[9,100],[11,-5],[23,113],[-24,120],[13,48],[18,29],[16,56],[-4,24],[17,35],[11,49],[14,124],[22,69],[16,13]],[[29101,65083],[88,-173],[132,-246],[3,-19],[-20,-187],[-12,-65],[-4,-65],[-6,-22]],[[29282,64306],[-7,-34]],[[29275,64272],[-37,-35],[-4,-84],[-9,-16],[-3,-50]],[[29222,64087],[0,-43],[19,-28],[16,18],[24,-44],[14,-9],[4,44],[4,-90],[-3,-107],[-14,-182],[-13,-247],[-5,-173],[-40,-241],[-11,-48],[-9,-9],[3,-32],[-10,-55],[-20,-63],[-1,-19],[-31,-55],[-32,-108],[-21,-118],[-22,-149],[-20,-60],[-19,-14],[-11,14],[6,88],[15,97],[3,69],[-21,37],[-18,4],[-6,25],[-18,-3],[-7,-36],[-9,24],[-2,47],[-18,37],[-3,30],[-10,-12],[-15,68],[-7,-8],[-18,58],[-10,56],[-19,25],[6,140],[-12,29]],[[28861,63044],[-1,28]],[[28814,58772],[18,-19],[12,-74],[1,-47],[-15,9],[2,45],[-18,86]],[[28734,57762],[8,60],[8,0],[47,86],[15,12],[14,33],[12,2],[16,35],[13,10],[5,74],[11,252],[0,54],[-8,95],[-6,105],[3,-2],[11,-106],[5,-95],[-3,-136],[-15,-286],[-24,-8],[-50,-64],[-43,-78],[-19,-43]],[[27156,59531],[84,-16],[55,-3],[95,-15],[37,4],[114,-21],[48,-2],[170,-2],[279,0],[74,4],[264,0],[106,-1],[0,10],[31,-2],[120,0],[142,0]],[[28775,59487],[2,-58],[17,-245],[16,-158],[23,-156],[35,-271],[-9,14],[-18,146],[-14,80],[-13,11],[-9,174],[-16,155],[-8,23],[3,39],[-5,89],[-10,30],[-4,48],[-25,13],[-1,40],[-13,-20],[6,-61],[16,-48],[11,10],[0,-67],[15,-135],[9,-61],[-1,-26],[11,-75],[0,-47],[-19,64],[1,37],[-13,61],[-3,38],[-12,12],[6,-38],[-3,-28],[14,-39],[-31,25],[-32,118],[-15,12],[19,-97],[10,-17],[6,-52],[-9,-23],[-24,-14],[-21,71],[7,-63],[10,-27],[-7,-14],[-31,45],[-13,5],[-5,29],[-18,24],[23,-73],[21,-23],[-7,-19],[-24,-8],[-13,-62],[-16,-22],[-17,1],[-8,31],[-20,12],[-12,121],[0,61],[12,78],[-5,13],[-14,-76],[-2,-76],[8,-94],[11,-77],[-5,-42],[8,-34],[40,10],[37,47],[9,-49],[13,6],[13,30],[26,24],[32,-1],[14,-41],[0,-43],[-14,-78],[3,-55],[2,-164],[9,5],[7,115],[3,150],[14,40],[-6,33],[14,20],[25,-21],[16,-94],[7,-65],[-4,-52],[7,-98],[-8,-25],[4,-54],[-13,-54],[-17,-10],[-6,18],[-10,-16],[-6,-40],[-10,-9],[-3,-43],[-7,-11],[-7,-71],[-13,-15],[-3,-46],[-17,-25],[-3,-24],[-26,25],[-29,-4],[-26,18],[-5,25],[-10,-14],[-15,45],[-13,115],[31,3],[5,45],[-28,-25],[-12,11],[-9,-33],[9,-57],[6,-86],[-7,0],[-29,47],[-14,-10],[-20,34],[-31,30],[-23,48],[-1,-29],[17,-61],[21,-5],[63,-102],[46,-28],[8,-31],[1,-40],[-7,-56],[-13,-54],[1,-28],[-9,-53],[-15,-42],[-50,-112],[-50,112],[1,-65],[24,-55],[36,-43],[36,80],[13,2],[27,30],[4,62],[11,-14],[3,-66],[8,-31],[18,-5],[-9,75],[20,-29],[2,-85],[-17,-75],[-18,-13],[0,-34],[-11,-20],[-14,-84],[-7,-71],[-17,20],[1,80],[-10,19],[1,-82],[-16,-7],[42,-64],[23,123],[33,120],[24,75],[47,176],[8,-21],[-28,-83],[-26,-96],[-22,-62],[-21,-78],[-18,-82],[-21,-115],[-3,-32],[-4,67],[-35,55],[-39,1],[-60,-38],[-29,-33],[-20,-32],[-32,-81],[-39,-75],[-26,-63],[-37,-113],[-14,-55],[-25,-128],[-14,-111],[-10,-112],[-9,-69],[-4,-69],[-13,7],[-3,34],[-21,21],[-23,9],[-28,-2],[-30,-12],[-35,-42],[-8,-17]],[[28030,56345],[-93,330],[-104,362],[-31,116],[-88,302],[-61,1],[-74,7],[-178,10],[4,135],[-42,199],[-30,-73],[-5,21],[7,48],[-2,53],[-55,13],[-105,16],[-188,29],[-23,-20],[-5,39],[-12,-52],[-7,9],[-20,-27],[-6,5],[-29,-47],[-28,-60],[-7,21],[-91,-99]],[[26419,57669],[9,275],[22,48],[3,-26],[28,4],[22,63],[-5,57],[9,25],[-4,44],[17,62],[13,15],[8,48],[16,8],[15,45],[80,7],[11,50],[22,32],[5,26],[10,-7],[16,48],[4,35],[16,4],[8,40],[21,29],[24,-18],[26,115],[-3,63],[10,30],[15,-36],[20,98],[33,70],[10,-40],[-5,-70],[15,-20],[28,62],[15,93],[15,35],[17,21],[12,-5],[9,33],[19,-12],[4,-50],[15,0],[14,28],[33,200],[21,53],[11,12],[8,-23],[17,0],[-10,74],[7,65],[6,12],[-4,80],[9,60]],[[20923,73979],[188,-1],[322,0],[212,0],[92,0],[193,1],[160,-1],[135,0],[141,1],[256,1],[201,0]],[[23008,70412],[-210,-1],[-186,1],[-119,1],[-252,4],[-192,2],[-179,2],[-253,1],[-123,0],[-292,1],[-173,0],[-105,0]],[[20924,70423],[0,2828],[-1,17],[0,711]],[[23550,60009],[0,-581]],[[23550,59428],[6,-130],[7,-206],[6,-127],[14,-355],[4,-82],[15,-387],[-2,-319],[-3,-261],[-1,-235],[-2,-170],[-2,-417],[-5,-642]],[[23587,56097],[-9,-25],[-19,73],[-16,-13],[-1,23],[-17,-1],[-18,79],[-15,-16],[-12,5],[-21,78],[-7,58],[-22,2],[-23,85],[-27,28],[-7,-68],[-11,-32],[-13,-7],[-34,4],[0,15],[-21,-7],[-7,61],[-10,3],[-24,-52],[-20,3],[1,-45],[-13,9],[-9,-31],[-29,61],[-1,-30],[-30,-29],[-15,13],[1,-20],[-14,8],[-8,-90],[-14,-14],[-19,19],[-7,-81],[-12,-3],[-1,22],[-17,79],[-21,-6],[-8,57],[-11,-4],[-16,30],[12,58],[-25,16],[-8,-86],[-18,-9],[-4,42],[-13,14],[-6,-33],[-9,25],[-6,95],[-5,11],[-14,-27],[-6,15],[3,-73],[-16,-57],[-13,19],[11,-42],[-13,-22],[3,-64],[-11,-31],[-11,14],[-12,94],[10,30],[-2,66],[-9,28],[-10,-19],[-2,-42],[-13,19],[-9,-7],[-11,-64],[-20,5],[-5,30],[1,63],[-12,19],[-16,-27],[-11,25],[3,41],[-19,42],[-9,-3],[-12,-58],[-29,-92],[-12,-9],[-16,34],[-9,3],[4,65],[-5,-1],[7,60],[-7,20],[-13,-14],[-19,11],[-10,91],[8,35],[-4,50],[-17,-47],[-20,22],[-15,0],[-19,28],[-11,-40],[-3,-44],[-20,-26],[-24,96],[-21,23],[-12,-37],[-21,4],[-13,26],[-13,3],[-17,24],[-19,46],[-16,-27],[-9,15],[-12,-11],[-2,20],[-18,-3],[-5,140],[-18,56],[4,22],[-16,5],[-18,57],[-4,-92],[-12,-4],[-22,47],[-17,2],[-6,-49],[-30,15],[-24,78],[-37,143],[-20,-19],[0,2257],[-123,0],[-179,0],[-150,0],[-175,1],[-210,0]],[[21214,59429],[1,119],[0,463]],[[27478,65805],[48,61],[45,74],[9,24],[10,60],[13,3],[3,-28],[36,72],[47,74]],[[27689,66145],[0,-314],[1,-2],[247,-1],[77,3],[167,-2],[243,1],[105,3],[111,-4],[169,-1],[107,2],[14,-59],[5,4],[8,-100],[15,4],[27,-34],[10,-49],[-8,-32],[14,-21],[2,-159],[-8,-12],[25,-113],[1,-34],[11,5],[15,-33],[-2,-18],[25,3],[3,-22],[16,8],[-1,-30],[13,-55]],[[28900,63272],[-23,37],[-22,6],[-24,-20],[-15,-34],[-20,-82]],[[28796,63179],[-217,-1],[-118,-1],[-151,0],[-236,3],[-305,-2]],[[27769,63178],[-167,0],[-124,0],[0,1068]],[[27478,64246],[0,1559]],[[20920,69320],[5,4],[0,872],[-1,227]],[[23039,67577],[-40,0],[5,-22],[-7,-37],[22,-64],[-1,-110],[-14,-5],[8,-52],[-3,-31],[24,-3],[2,-83],[9,-35],[-7,-66],[-14,-16],[5,-56],[-8,-28],[6,-21],[-12,-46],[0,-80],[-11,-16],[-3,-52],[-11,-26],[1,-76],[15,-27],[17,-60],[10,-87],[-4,-45],[13,-31]],[[23041,66402],[-17,-7],[-5,30],[-24,-5],[-7,53],[-21,66],[7,52],[-11,16],[-21,3],[-1,40],[-28,35],[-12,-17],[-8,48],[-43,13],[-5,28],[-18,20],[-1,38],[-25,25],[-15,-14],[-15,13],[-7,-23],[-18,14],[-16,-13],[-16,11],[-18,-17],[-25,9],[-20,21],[-8,-11],[-9,-74],[-12,-29],[-19,-9],[-31,69],[-36,62],[-58,85],[-9,59],[-112,0],[-186,-1],[-153,1],[-214,-1],[-206,-2],[-62,4],[-178,0],[-143,1],[-293,1]],[[20922,66996],[0,345],[-1,8],[0,1828],[-1,143]],[[23587,56097],[8,8],[0,-54],[11,-25],[9,6],[-2,-36],[10,-9],[5,27],[8,-18],[3,29],[21,-27],[11,46],[12,-17],[5,-30],[6,21],[16,-22]],[[23710,55996],[0,0]],[[23710,55996],[1,-11],[0,-608]],[[23711,55377],[0,-1196],[8,-12],[11,-72],[18,-31],[9,-83],[15,-55],[-2,-34],[8,-56],[-7,-42],[3,-45],[-7,-28],[6,-51],[9,-32],[13,-6],[3,-35],[-6,-27],[14,-36],[-1,-32],[8,-15],[3,-49],[-6,-53],[12,-47],[6,2],[6,-113],[19,12],[-6,-102],[8,-31],[2,-54],[-13,-21],[-1,-33],[12,-55],[-9,-22],[-3,-38],[4,-63],[-9,-33],[-9,-63],[-3,-73],[-12,-25],[-2,-68],[-14,-30],[-3,-40],[7,-24],[5,-91],[-13,-51],[-6,-74],[16,-52],[1,-53],[-5,-39],[9,-79],[-12,-70],[9,-19],[-11,-51],[-14,-39],[-7,-78],[-13,-74],[-17,-45],[-2,-25],[9,-30],[17,-94]],[[23768,51502],[0,-14],[-46,3],[-37,-40],[-128,-208],[-28,-61],[-10,-54],[-15,7],[22,71],[9,47],[13,-1],[9,19],[8,46],[9,-16],[11,8],[-15,55],[-54,-54],[-8,26],[17,90],[4,80],[0,74],[-12,5],[-5,23],[-17,-29],[-10,-41],[-4,-50],[-15,-24],[-6,46],[-18,-45],[-2,-35],[9,-32],[-10,-50],[10,-55],[20,-17],[-6,-54],[11,-20],[2,-78],[-2,-67],[-8,-31],[-9,10],[-19,-71],[-22,-65],[-3,26],[-13,-8],[-2,-88],[6,-26],[13,44],[26,65],[3,19],[32,99],[15,23],[0,45],[26,-15],[-20,-61],[-62,-153],[-24,-69],[-4,-25],[-32,-91],[-40,-143],[-15,-8],[-69,-146],[-35,-80],[-53,-89],[-61,-112],[-34,-87],[-13,-42],[-15,-74],[-53,-111],[-24,-68],[-47,-155],[-32,-143],[-11,-83],[-14,-59],[-33,-221],[-24,-197],[-11,-127],[-10,-192],[-2,-108],[1,-103],[8,-205],[14,-207],[12,-134],[16,-229],[11,-260],[-7,47],[-5,147],[-12,189],[-11,152],[-24,16],[18,27],[-9,83],[-6,87],[-9,88],[-3,106],[1,138],[-1,122],[11,276],[16,180],[19,148],[14,70],[10,87],[8,35],[-2,47],[13,86],[18,38],[9,45],[18,127],[28,58],[8,53],[16,2],[35,105],[23,49],[24,23],[-4,43],[9,29],[-9,16],[-16,-41],[-20,-35],[-11,-40],[-17,-5],[-6,40],[0,60],[-18,12],[-6,-31],[0,-84],[-5,-25],[6,-41],[-4,-36],[-20,-56],[-17,-61],[-8,-1],[-18,30],[-3,43],[-32,-61],[-17,-67],[21,-22],[24,57],[8,-74],[-7,-23],[-38,-223],[-12,-2],[-6,55],[-21,-10],[-4,18],[-32,-11],[-11,12],[-6,-38],[12,-32],[15,-1],[11,17],[-4,-64],[7,-48],[15,-34],[17,-18],[-19,-146],[-13,-185],[-12,-106],[-20,-27],[-7,-27],[-11,18],[14,21],[3,59],[-8,3],[-6,-31],[-29,-75],[4,-32],[24,-16],[25,38],[8,2],[-5,-116],[3,-4],[-4,-202],[-6,-207],[-4,-3],[10,-230],[8,-65],[1,-84],[9,-1],[23,-215],[5,-29],[-9,-47],[4,-34],[-1,-62],[8,-72],[20,-11],[1,-35],[12,18],[2,-127],[-23,7],[-13,-8],[0,-19],[-21,-12],[-6,-99],[-20,11],[-7,40],[-15,3],[-6,55],[-11,4],[-18,98],[-31,12],[-11,33],[-17,-9],[-7,16],[-23,-17],[-4,18],[-13,-1],[-3,-29],[-10,31],[-20,-14],[-8,22],[-6,-22],[-14,20],[-8,30],[3,25],[-16,1],[-3,44],[-15,-1],[-21,75],[-9,-11],[-25,48],[-19,-22],[-13,35],[-15,69],[-10,8],[-2,33],[-8,12],[-18,-15],[-21,47],[-12,-3],[-8,20],[-12,-19],[-9,44],[6,50],[-10,56],[-11,13],[-3,98],[-6,42],[-3,79],[-8,25],[-1,49],[-7,64],[-17,43],[2,31],[-13,26],[-7,37],[5,20],[-11,46],[-9,7],[-1,52],[6,31],[-3,66],[4,29],[-4,86],[-16,25],[1,37],[-12,11],[9,30],[5,86],[-3,31],[4,60],[-13,10],[5,76],[-12,58],[-7,-14],[-7,46],[-9,-18],[-9,39],[-10,-6],[-18,90],[-9,11],[-3,38],[-8,-9],[-10,38],[0,50],[-7,26],[3,41],[-13,48],[2,47],[-17,16],[-7,81],[-10,23],[-8,70],[-35,53],[-4,53],[-7,-2],[-13,59],[2,38],[-17,100],[3,47],[-9,39],[9,29],[-12,11],[-9,47],[4,39],[-14,28],[1,33],[-15,28],[-4,51],[2,41],[-8,26],[-4,73],[-6,1],[-9,88],[-8,1],[-6,47],[1,76],[-7,106],[-18,46],[-10,40],[3,14],[-9,71],[-23,41],[-2,30],[-17,46],[-18,25],[-13,84],[0,21],[-26,21],[-6,44],[-23,7],[3,57],[-2,65],[-5,5],[-6,-67],[-6,27],[2,53],[-17,27],[-13,108],[-8,-4],[-9,32],[-13,-25],[-7,44],[-8,-27],[-37,-13],[-19,31],[-6,-8],[-15,22],[-22,-14],[-12,24],[-17,-7],[-4,-22],[-26,21],[-11,50],[-13,-3],[-20,40],[-14,-18],[-10,-111],[-34,19],[-9,-37],[-7,11],[-22,-32],[-7,10],[-8,-54],[2,-23],[-13,-40],[0,-50],[-7,0],[-2,-59],[-11,-30],[1,-33],[-7,-58],[2,-52],[-5,-48],[-10,-5],[-3,-72],[-5,-37],[10,-22],[-5,-38],[-18,-38],[-10,8],[-7,-67],[-17,-43],[-7,-36],[-4,-84],[-14,-8],[-17,15],[-15,-11],[-14,46],[-27,24],[-27,111],[-24,33],[-10,-8],[-22,38],[-18,77],[-13,24],[-39,21],[-17,28],[-19,61],[-11,12],[-19,81],[0,24],[-14,47],[-21,7],[-12,27],[-5,34],[-30,78],[-9,43],[-7,110],[-12,56],[-7,60],[-13,63],[0,59],[-7,57],[6,72],[-3,54],[2,55],[-7,68],[-11,30],[-3,44],[-13,39],[-1,30],[-13,34],[2,33],[-13,177],[-7,40],[-12,4],[-11,91],[-15,0],[-14,66],[-12,10],[-3,24],[-15,34],[-12,-4],[-7,28],[-31,39],[0,39],[-44,118],[-13,107],[-12,37],[-18,26],[-9,33],[-9,2],[-2,36],[-24,106],[-20,35],[-4,54],[-14,32],[-21,7],[-35,78],[-11,88],[-10,24],[-6,68],[-13,89],[-9,41],[-19,38],[-11,-19],[-11,41]],[[20232,53938],[-5,28],[-16,20],[1,23],[-10,25],[-3,38],[7,18],[1,101],[331,0],[250,-1],[226,0],[183,1],[0,1212],[2,254],[0,149],[2,417],[2,232],[0,1518],[1,434],[0,809],[-1,213],[11,0]],[[20922,66996],[0,-2328]],[[19530,64667],[-136,-2],[-143,-1],[-52,-3],[-133,1],[-93,2],[0,442],[1,219],[-1,508]],[[18973,65833],[0,676],[1,163],[0,1090],[-1,26],[0,516],[-1,267],[1,140]],[[18973,68711],[-2,175],[-1,282],[1,156],[75,2],[22,-12],[85,2],[11,8],[45,-5],[25,8],[87,-2],[194,5],[11,-7],[221,0],[316,0],[14,-4],[144,-2],[178,-1],[23,7],[132,0],[251,-2],[115,-1]],[[29908,65840],[0,-107],[3,-222],[0,-150],[-3,-209],[-12,-8],[3,-76],[-8,-29]],[[29891,65039],[-7,19],[-17,2],[-21,-24],[-18,3],[-13,-24],[-16,28],[-6,-37],[-49,-35],[-3,20],[-15,0],[-27,-33],[-6,21],[-26,1],[-7,-26],[-18,23],[-40,-27],[-3,60],[-9,-17],[-19,-82],[-12,0],[-22,-73],[-13,23],[-24,-58],[-7,13],[-23,-28],[5,-22],[-10,-32],[-29,-11],[-22,-54],[-9,15],[-15,-35]],[[29390,64649],[1,33],[-20,102],[68,130],[-19,97],[4,161],[5,295],[9,422]],[[23231,64184],[167,-9],[159,-8],[156,3],[130,8],[62,0],[197,12],[152,13],[101,14],[12,-38],[1,-33],[18,-14],[-1,-36],[16,-57],[10,-2],[1,-56],[11,-31],[19,-7]],[[24442,63943],[-8,-18],[-17,-144],[-2,-71],[6,-165],[14,-99],[7,-28],[-8,-66],[5,-38],[15,-34],[4,-28],[-3,-61],[26,-77],[15,-57],[11,-14],[10,-69],[13,-8],[11,-76],[16,-54],[59,-137],[20,-90],[3,-90],[8,-78],[-9,-36],[11,-85],[3,-65],[22,-69],[11,7],[11,32],[9,66],[19,4],[27,-45],[16,-5],[38,-82],[-2,-60],[-12,-29],[-13,-59],[10,-92],[-2,-37],[-22,-96],[-6,-99],[-17,-68],[-7,-52],[-1,-78],[5,-70],[18,-50],[20,-89],[25,-37],[11,-54],[8,0],[17,-60],[16,7],[3,-27],[-12,-24],[6,-50],[20,-5],[10,31],[13,-28],[1,-29],[15,-12],[23,-70],[-2,-40],[14,-3],[9,-42],[19,-24],[0,-57],[11,-68],[-13,-8],[2,-50],[26,-161],[-4,-62],[-15,-12],[-8,-56],[17,-53],[-1,-47],[13,-87],[11,-46],[-1,-53],[24,-56],[10,27],[-15,45],[14,12],[17,-56],[8,-53],[11,14]],[[25079,59990],[9,-21],[-5,-90],[-6,-46],[-10,-9],[-1,-38],[17,-37],[-3,-28],[-16,3],[-4,-44],[11,-58],[-8,-29],[-7,-71],[-13,-18],[-18,78],[-13,-13],[-13,-142]],[[24999,59427],[-8,-40],[-13,7],[2,31]],[[24980,59425],[6,38],[-5,49],[-21,2],[-4,-30],[9,-58]],[[24965,59426],[6,-22],[-7,-64],[10,-59],[-5,-37],[-24,-1],[0,-37],[21,-39],[1,-27],[-15,-15],[-30,16],[-3,-21],[28,-74],[1,-61],[-22,-40],[-3,-75],[-12,-23]],[[24911,58847],[-179,-6],[16,110],[23,58],[0,23],[15,53],[16,28],[3,43],[9,7],[5,133],[-22,44],[3,15],[-5,71],[-349,-1],[-323,1],[-141,0],[-222,1],[-210,1]],[[23358,63503],[-31,56],[8,79],[-24,76],[-2,77],[-20,19],[1,32],[-18,26],[-12,110],[1,39],[-11,34],[-1,40],[13,42],[-11,18],[-1,-33],[-20,3],[1,63]],[[26900,61666],[18,-20],[35,40],[23,11],[5,49],[3,98],[12,28],[16,-7],[6,30],[-3,101],[-10,105],[21,52],[0,67],[14,88],[12,27],[6,37],[13,-40],[11,-1],[12,-79],[-8,-40],[11,-20],[9,22],[3,42],[9,20],[9,-25],[4,111],[-10,29],[-3,43],[19,19],[-3,96],[8,41],[10,12],[3,55],[31,-7],[3,83],[25,76],[17,-19],[6,-52],[11,3],[21,47],[17,8],[11,54],[11,8],[8,48],[16,57],[30,89],[16,9],[4,83],[10,26],[-11,50],[12,48],[0,57],[10,23],[-4,60],[13,-11],[-2,52],[7,20],[0,122],[9,30],[0,58],[10,48],[5,61],[10,23],[5,65],[-3,95],[4,71],[-9,84],[-11,44],[9,50],[14,-1],[18,27]],[[27769,63178],[-3,-600],[10,7],[33,103],[12,-1],[10,67],[31,60],[13,75],[11,-2],[28,-36],[11,54],[38,158],[13,-10],[-13,-14],[13,-18],[2,-26],[20,-34],[17,1],[7,-18],[28,-4],[14,38],[-7,49],[13,-1],[-11,32],[14,-11],[9,37],[19,-23],[28,87],[24,-20],[17,-49],[8,-40],[18,20],[17,-23],[14,4],[0,-37],[-16,-15],[12,-69],[19,-41],[-2,-33],[9,-12],[5,-43],[-6,-63],[10,-14]],[[28258,62713],[-9,-45],[-21,-175],[-78,209],[-66,179],[-4,-62],[5,-28],[-6,-36],[7,-11],[-23,-106],[6,-15],[-11,-54],[10,-36],[-16,-62],[-7,-7],[-24,-88],[6,-16],[-14,-63],[-7,21],[-15,-66],[-10,-24],[0,36],[-23,-71],[-20,-130],[-35,101],[-9,-69],[-17,-82],[-1,-71],[-8,1],[-10,-57],[-15,-138],[-28,-94],[-46,53],[-17,109],[-31,47],[-14,-121],[3,-65],[-12,-60],[-22,-87],[6,-44],[-12,-21],[-25,-81],[-7,-56],[6,-29],[-8,-30],[-6,-60],[-10,-51],[-18,-51],[-30,-104],[-21,-112],[2,-36],[-12,-39],[4,-41],[17,-34],[-12,-40],[-18,-34],[-1,-32],[13,-4],[-4,-29],[-49,-99],[-10,68],[-12,-9],[-19,-47],[-41,-71],[-4,26],[-21,38],[-7,-51],[9,-43],[-19,-47],[-17,-5],[-37,-27],[-31,-51],[-27,75],[-11,45],[-8,-21],[-8,-55],[-23,-17],[-2,-30],[-13,-29],[-34,-7],[-19,48],[0,24],[-12,25],[-18,3],[-7,52],[-14,31],[-2,90],[-15,22],[-1,33],[18,34],[-11,29]],[[27075,60636],[-14,-4],[-28,30],[-3,37],[-8,1],[-7,40],[-9,-2],[-7,42],[-15,11],[-13,134],[-10,19],[-13,61],[1,34],[-15,19],[-8,39],[11,55],[-15,22],[-9,80],[-10,45],[-15,37],[0,38],[8,0],[3,55],[-4,20],[11,33],[1,58],[-8,36],[1,90]],[[24442,63943],[12,16],[-2,50],[4,90],[-11,35],[13,69],[31,43],[18,-1],[18,41],[1,61],[6,49],[1,67],[10,27],[14,66],[11,19],[6,106],[-1,98],[-13,75],[-13,6],[-20,85],[11,77],[2,74],[6,55],[19,21],[13,-15],[23,40],[31,-6],[24,17],[16,56],[10,13],[26,-1],[18,57],[16,21],[-1,66],[9,59],[0,52],[9,29],[28,49],[-1,41],[8,72],[-3,58],[7,61],[-7,37],[1,89],[-13,41],[-47,73],[-15,74],[3,60],[-16,63],[-22,37],[-2,26],[-22,35],[0,47]],[[24658,66423],[45,-2],[227,-2],[51,-5],[194,-11],[41,4],[152,1],[82,-5]],[[25450,66403],[-2,-124],[-8,-97],[10,-109],[21,-117],[12,-37],[3,-54],[13,-139],[4,-75],[14,-93],[8,-20],[2,-47]],[[25386,60941],[-8,-66],[-17,-35],[-11,-56],[7,-105],[20,-68],[-6,-50],[-48,-19],[-12,-11],[-18,-52],[-14,26],[-18,-44],[-2,-55],[-9,-65],[2,-25],[17,-65],[7,-66],[-10,-89],[-15,-10],[-13,13],[-19,52],[-35,40],[-14,39],[-31,42],[-19,5],[-13,-21],[-13,-42],[-9,-65],[-16,-52],[-4,-55],[14,-52]],[[20232,53938],[-214,0],[-254,0],[0,-524],[-234,-1]],[[24911,58847],[4,-38],[18,-49],[0,-45],[-24,23],[-9,-49],[20,-36],[-11,-33],[-11,-1],[-9,-52],[-17,-22],[-9,21],[-15,-41],[6,-68],[9,-17],[12,23],[3,-38],[-26,-42],[1,-53],[9,-10],[-3,-40],[-22,56],[-9,-9],[-5,-58],[9,-42],[-11,-75],[-8,88],[-23,-67],[-3,-46],[12,-6],[2,43],[15,-35],[-9,-47],[0,-45],[-16,-10],[4,-47],[15,-7],[6,-29],[-12,-43],[15,-58],[-10,-25],[-12,21],[-9,-26],[-9,-100],[-25,13],[-3,-49]],[[24751,57677],[17,-55],[0,-45],[-18,-44],[-31,-44],[-4,59],[-11,2],[-2,-29],[8,-44],[-5,-25],[6,-72],[-14,-19],[-5,34],[2,57],[-10,-27],[2,-35],[-7,-14],[6,-40],[20,-2],[2,-31],[-14,-50],[-11,18],[1,49],[-10,-21],[0,-64],[12,-61],[1,-27],[-13,-51],[6,-83],[-25,-57],[0,-63],[-10,1],[3,54],[-19,-1],[-5,-27],[8,-45],[-7,-30],[-19,-15],[-4,-71],[-16,43],[-9,-29],[14,-43],[20,1],[2,-25],[-13,-28],[-16,33],[-12,-32],[9,-51],[11,3],[3,-24],[-8,-61],[-24,-6],[7,-45],[-11,-16],[-5,43],[-16,-23],[-3,-29],[22,-34],[-18,-78],[7,-55],[16,-26],[-10,-34],[-8,18],[-24,-2],[-1,-59],[10,-26],[13,14],[8,-50],[-12,-18],[-16,22],[-7,35],[-17,-16],[-2,-28],[25,-51],[2,-33],[-28,-41],[13,-63],[-14,-80],[18,16],[-1,51],[14,-27],[-4,-54],[-17,-10],[-3,-19],[10,-24],[17,14],[10,73],[5,-32],[-23,-90],[0,-64],[12,-68],[3,42],[10,13],[2,-23],[-13,-52],[2,-75],[-3,-23],[-14,-8],[-11,14],[-5,-39],[23,-62],[-13,-59]],[[24512,55359],[-219,4],[-154,5],[-157,7],[-86,0],[-185,2]],[[16868,55911],[16,-5],[28,-53],[21,-22],[1,-25],[16,-61],[-5,-43],[-13,25],[-26,7],[-6,35],[0,74],[-20,16],[-12,52]],[[16867,55390],[9,4],[22,-117],[40,-130],[-10,4],[-11,-22],[-17,44],[-13,72],[-14,119],[-6,26]],[[16741,55926],[8,7],[1,-41],[-11,7],[2,27]],[[16637,56552],[8,-17],[11,14],[0,-30],[-17,-4],[-9,21],[7,16]],[[16596,55679],[14,7],[20,-35],[8,-31],[-13,-15],[-20,21],[-9,53]],[[16501,56608],[18,-7],[13,-22],[15,5],[19,-43],[19,-4],[7,39],[20,-20],[-11,-43],[-28,-11],[-17,-31],[-42,24],[-1,61],[-12,52]],[[16410,56520],[22,8],[9,21],[13,-8],[13,19],[0,-48],[18,-13],[1,-48],[-41,-54],[-16,37],[-19,86]],[[16354,56562],[16,17],[6,28],[6,-35],[13,-26],[-21,-6],[-20,22]],[[15305,65829],[155,-4],[9,6],[77,-1],[56,12],[28,-8],[115,2],[37,5],[95,-1],[45,-5],[154,-8],[114,-4],[197,0],[92,2]],[[16479,65825],[0,-1]],[[16479,65824],[0,-1448],[1,-34],[0,-756],[-1,-393],[-1,-13],[0,-457],[-1,-122],[2,-263],[26,-77],[115,-330],[114,-336],[63,-182],[99,-298],[125,-377],[62,-186],[127,-394],[313,-989],[234,-759],[70,-234],[147,-492]],[[17950,55027],[-416,-126],[-254,-89],[-3,98],[-9,62],[-8,20],[-14,-23],[-3,66],[1,71],[-8,41],[9,61],[-9,161],[-13,127],[-9,54],[-40,193],[-25,61],[-10,51],[-15,37],[-9,-2],[-19,95],[-26,59],[-14,15],[-20,57],[-25,88],[-24,39],[-2,-47],[-21,-23],[-18,14],[-10,25],[-15,6],[-4,38],[9,34],[1,43],[-14,116],[-11,64],[-17,50],[-35,1],[-22,-8],[-16,-36],[-14,38],[-28,16],[-37,59],[-12,2],[-24,53],[-17,141],[-10,10],[-17,53],[-4,-3],[-20,65],[-21,25],[-6,20],[-32,4],[-16,-24],[-18,25],[-22,-10],[-37,60],[-23,0],[-15,15],[-44,-7],[-48,-22],[-1,31],[-13,66],[-16,30],[-12,-4],[-6,32],[13,143],[-11,60],[8,119],[-17,54],[9,115],[1,140],[-18,56],[-14,7],[-3,-21],[-27,55],[-11,48],[10,131],[-2,50],[-11,53],[-27,14],[-27,102],[-18,101],[-24,25],[-17,66],[-5,81],[-16,47],[-7,37],[-14,35],[-6,99],[-5,35],[-20,29],[-15,104],[-25,94],[-33,64],[-11,45],[-8,80],[1,42],[-11,101],[2,92],[-11,16],[10,74],[18,-38],[9,30],[7,61],[8,141],[-21,149],[-12,43],[-10,11],[-9,-28],[-37,2],[-28,68],[-22,102],[-14,18],[-2,31],[-17,60],[-4,62],[5,129],[-12,89],[-2,52],[-12,14],[-6,33],[-1,64],[5,27],[2,77],[-6,134],[14,28],[16,8],[6,-24],[7,-88],[-9,-9],[11,-107],[-2,-27],[27,-23],[27,-80],[8,5],[14,-63],[12,3],[-6,40],[-12,19],[-10,87],[-7,109],[-21,54],[-2,46],[-22,26],[9,74],[-7,68],[-15,-1],[-14,68],[8,-9],[9,26],[0,40],[19,-2],[10,39],[-10,71],[-26,44],[-13,-30],[-14,-6],[2,-47],[-5,-46],[15,-51],[-12,-25],[-4,-44],[19,-56],[-7,-14],[-11,29],[7,-71],[-15,-16],[-9,38],[-26,61],[-13,-12],[-23,67],[-10,53],[-17,33],[-16,8],[-20,-33],[14,127],[3,48],[-12,92],[7,20],[-16,70],[-11,-10],[-1,67],[-17,106],[-20,51],[-14,19],[-22,64],[-37,176],[-14,29],[-8,41],[-31,90],[-24,116],[14,78],[-1,42],[-14,126],[-16,123],[-7,105],[3,99],[13,132],[-5,52],[0,65],[-14,92],[-4,108],[-16,36],[-6,55],[-35,133],[-7,6],[0,43],[-8,43],[-22,32],[-49,151],[4,63],[-4,70],[-13,74],[9,98],[14,109],[42,265],[11,95],[7,119],[-12,37],[-1,97],[4,2],[11,99],[12,244],[-5,126],[-15,128],[-8,96],[-9,-4],[-17,54],[10,74],[5,110],[-3,67]],[[28861,63044],[-1,28]],[[28874,63137],[-6,7],[-22,-81],[2,-39],[11,-31],[1,-49],[-8,-28],[0,-41],[14,-52],[7,-58],[21,-62],[10,-68],[3,-58],[-5,-35],[2,-126],[16,-48],[7,-43],[2,-74],[34,-137],[16,-29],[10,24],[4,-36],[5,-129],[4,-244]],[[29002,61700],[-105,1],[-74,9],[-2,72],[-25,1311],[0,86]],[[28426,62262],[21,70],[37,-118],[-36,-118]],[[28448,62096],[0,93],[-22,73]],[[6433,39922],[2,44],[19,76],[12,7],[13,93],[16,52],[3,58],[-17,94],[-4,45],[-1,105],[8,37],[18,-9],[18,-32],[3,-32],[22,-44],[15,-47],[12,6],[25,-32],[39,-77],[13,-19],[22,-61],[16,-57],[17,-76],[-3,-47],[1,-90],[8,-10],[16,12],[7,-57],[-1,-57],[22,-82],[22,-39],[5,-21],[-4,-44],[-13,-51],[-17,-47],[-14,-56],[-23,-38],[-20,-47],[-20,-18],[-16,15],[-9,-9],[-18,-66],[-16,-25],[-13,-48],[-14,-16],[-12,-59],[1,-33],[-8,-37],[-5,-59],[-20,-63],[-15,61],[-22,52],[-22,29],[-10,95],[5,113],[4,151],[-10,106],[1,46],[-9,12],[-5,114],[-7,66],[-9,8],[-8,108]],[[6254,41293],[5,69],[11,56],[14,6],[13,-33],[10,-78],[10,-50],[24,29],[18,35],[26,-21],[0,-16],[17,-51],[10,-15],[5,-40],[31,-37],[5,-32],[0,-52],[-8,-43],[-13,-40],[-6,3],[-17,-36],[-14,10],[-30,-53],[-21,-9],[-17,26],[-7,210],[-7,20],[-14,-24],[-26,50],[-13,58],[-6,58]],[[6253,40841],[7,29],[28,57],[10,-30],[-4,-44],[5,-17],[-13,-19],[-5,15],[-18,-23],[-10,32]],[[6153,41274],[7,27],[13,5],[26,-19],[17,-60],[8,-51],[-9,-65],[-19,-29],[-17,-5],[-7,60],[-3,73],[-14,32],[-2,32]],[[6084,41504],[6,52],[9,29],[-2,58],[17,-2],[3,-14],[54,-29],[10,34],[4,-42],[22,-13],[27,18],[17,-25],[-8,-55],[-18,-51],[-20,-21],[-35,32],[-26,31],[-15,-14],[-29,-5],[-16,17]],[[5814,42059],[43,9],[13,49],[4,35],[13,48],[14,15],[6,-27],[6,-70],[20,-84],[4,-52],[-4,-15],[3,-47],[18,-55],[3,57],[12,-2],[-4,-64],[8,-24],[-1,-29],[17,-70],[-12,-37],[-11,18],[-21,-29],[-6,26],[-17,31],[-25,11],[-30,-20],[-7,4],[-7,84],[-11,34],[-1,31],[-14,67],[0,61],[-13,45]],[[5394,42585],[1,40],[11,38],[4,49],[33,72],[8,26],[23,-18],[3,25],[16,-11],[8,14],[15,-20],[10,-37],[5,-45],[0,-46],[-11,-63],[1,-106],[-4,-28],[-28,-78],[-8,15],[-36,12],[-18,71],[-24,29],[-9,61]],[[5266,42374],[4,43],[12,44],[19,45],[2,38],[11,9],[2,-31],[-5,-57],[2,-36],[-20,-28],[-16,-97],[-12,30],[1,40]],[[24498,67577],[-5,-52],[10,-50],[-1,-74],[27,-41],[13,-76],[-18,-60],[-6,-52],[-9,-24],[1,-108],[8,-88],[0,-68],[12,-25],[13,-169],[33,-64],[47,-37],[17,-20],[18,-109],[0,-37]],[[23231,64184],[4,28],[-10,56],[-13,16],[-15,58],[2,37],[13,35],[-4,83],[10,51],[-7,27],[2,66],[-9,20],[1,42],[-7,30],[5,27],[-5,93],[12,17],[-24,24],[4,37],[-5,63],[13,41],[-20,27],[7,29],[-1,116],[-20,10],[2,77],[-9,1],[-2,-37],[-15,28],[3,56],[-11,39],[7,39],[-8,41],[11,18],[-6,54],[8,20],[3,46],[-12,23],[-1,38],[-14,61],[6,11],[3,66],[-16,6],[1,30],[-15,11],[5,16],[-15,25],[1,83],[-22,56],[-3,48],[10,25],[-14,103],[-11,29],[0,76],[9,44],[-4,44],[-14,8]],[[26280,62461],[18,48],[7,-2],[15,-54],[21,-28],[14,29],[14,-3],[8,29],[8,-8],[4,-69],[29,-32],[10,-84],[16,-83],[0,-66],[5,-26],[40,-41],[33,19],[29,-46],[3,-34],[15,-26],[5,-50],[28,-29],[14,66],[26,22],[15,-32],[28,-20],[11,-24],[5,-43],[13,24],[30,-1],[10,53],[18,34],[9,39],[15,0],[21,32],[7,-33],[-3,-44],[9,-111],[13,-37],[21,-6],[21,-79],[13,-35],[2,-44]],[[27075,60636],[-108,-317],[-37,-39],[-22,-41],[-19,-49],[-25,-45],[0,-86],[-16,-39],[-12,-2],[-12,-33],[3,-59],[-6,-45],[-25,-36],[-29,-4],[-16,-80],[-2,-50],[-16,-4],[-33,-35],[-39,-52],[-21,2],[-33,-49],[-8,-27]],[[26599,59546],[-4,-21],[-83,8],[-79,2],[-76,5],[-83,11],[-51,16],[-74,9],[-55,-14],[-96,8],[-56,10],[-83,22],[-49,4],[-16,-22],[-7,22],[-146,-12],[-92,-2],[-114,-8],[1,35],[-61,17],[10,-147],[-6,-64],[-137,6],[-126,0],[-84,6],[-33,-10]],[[24980,59425],[-15,1]],[[28739,61120],[-14,0]],[[28725,61120],[-1,72],[8,28],[11,-40],[-4,-60]],[[28711,61320],[2,79],[11,13],[7,-30],[5,-118],[-15,21],[4,27],[-14,8]],[[28627,62072],[5,20],[5,-46],[-10,26]],[[29002,61700],[-1,-43],[-9,-105],[-5,-15],[-20,-211],[-18,-120]],[[28949,61206],[-107,-38],[-6,-55],[-6,4]],[[28830,61117],[-13,30],[-19,-4],[-22,-64],[-9,-1],[-1,67],[7,70],[17,28],[-17,2],[2,45],[11,40],[-21,9],[-12,-33],[-4,28],[5,58],[26,27],[-6,39],[-9,-13],[-4,36],[15,112],[-15,-24],[-7,-47],[0,-60],[-8,-1],[-11,77],[11,9],[-1,53],[-8,10],[-4,-49],[-9,-33],[6,-27],[-9,-62],[-4,29],[-17,-23],[-9,12],[-16,83],[-9,13],[2,43],[-24,151],[20,14],[5,39],[-8,-7],[-9,51],[8,40],[12,22],[6,-25],[12,26],[1,-36],[22,-9],[13,-39],[4,10],[-16,69],[-17,14],[-8,42],[-7,-3],[-16,77],[-5,-28],[-12,20],[-1,-59],[-7,8],[3,101],[18,92],[14,-45],[8,10],[-3,124],[-8,17],[-17,-47],[-12,4],[1,-48],[-12,-17],[4,104],[16,101],[7,-51],[21,-11],[11,31],[-6,54],[11,55],[-16,-9],[-3,-52],[4,-31],[-12,17],[3,63],[-6,59],[-7,14],[16,136],[12,42],[-2,24],[14,25],[7,37],[30,-6],[-11,24],[18,70],[-10,6],[12,122],[-35,-24],[-6,-48],[12,-24],[4,-32],[-12,-14],[-34,-97],[-7,31],[7,54],[-8,28],[0,-44],[-9,-51],[8,-34],[-7,-46],[-6,96],[-15,14],[6,-103],[-8,8],[-6,-42],[12,-22],[-21,-44],[-7,-28],[-13,8],[-2,26],[-22,46],[3,-46],[9,-13],[2,-41],[27,-54],[2,-67],[-5,-25],[13,-48],[-23,-45],[7,-37],[-3,-40],[-9,4],[-7,-55],[6,-53],[-17,-58],[9,-50],[-2,-54],[6,-73],[-2,-89],[7,-65],[22,-80],[8,-62],[-9,-45],[-14,7],[9,-42],[9,22],[8,-14],[-7,-47],[4,-48],[18,-92],[-5,-22],[5,-97],[-9,19],[-11,58],[-8,4],[-5,64],[-8,-9],[-2,-57],[-7,38],[-8,-3],[-5,48],[-12,45],[-23,23],[-35,3],[-8,129],[-8,13],[-4,-31],[10,-68],[-2,-22],[-22,43],[-2,34],[-13,31],[-12,114],[-20,-44],[-33,-56],[-12,27],[-7,115],[11,82],[15,57],[20,30],[-5,10]],[[28423,61914],[-1,45],[7,27],[18,25],[1,85]],[[28426,62262],[-9,37],[-20,6],[-8,17],[1,48],[-26,42],[-34,15],[-6,39],[-10,13],[1,58],[9,18],[7,49],[-23,43],[-6,45],[-15,-1],[-16,25],[-13,-3]],[[26327,70327],[8,17],[9,-60],[65,-63],[-17,-58],[-23,18],[-14,61],[-28,85]],[[26120,70229],[5,40],[7,-20],[-12,-20]],[[26084,70289],[21,-39],[-4,-36],[-19,38],[2,37]],[[26055,70019],[7,48],[3,69],[6,15],[1,57],[18,-7],[-1,-85],[4,-83],[-19,-44],[-19,30]],[[26035,70180],[13,8],[-5,-54],[-7,1],[-1,45]],[[25984,69839],[13,-17],[1,-59],[-14,76]],[[25933,69486],[6,23],[19,-25],[-6,-96],[-17,52],[-2,46]],[[25908,69335],[11,44],[6,-47],[-17,3]],[[25759,70041],[20,-64],[-8,-22],[-4,36],[-14,43],[6,7]],[[25722,65552],[30,68],[27,87],[37,261],[34,146],[19,134],[10,99],[10,176],[-1,58],[6,87],[-1,163],[-6,182],[-11,120],[-35,230],[-11,94],[-12,138],[-17,119],[0,48],[22,102],[7,50],[1,77],[-9,134],[-14,90],[4,32],[20,51],[24,151],[21,112],[4,124],[9,134],[-11,112],[1,33],[27,43],[20,15],[6,93],[-2,74],[10,36],[13,-18],[16,80],[18,-35],[17,13],[8,32],[9,86],[10,16],[15,94],[11,47],[9,-7],[12,35],[3,-39],[-19,-32],[-3,-42],[12,-81],[-23,-81],[13,19],[0,-74],[-6,-7],[-8,-84],[7,-95],[8,-2],[19,145],[3,98],[13,20],[-8,-158],[-15,-44],[-6,-67],[14,-14],[8,65],[7,13],[22,135],[5,78],[-1,56],[4,82],[-6,85],[5,94],[17,49],[10,3],[18,48],[18,16],[25,-7],[26,14],[12,20],[-1,33],[-33,17],[-14,47],[-8,114],[16,75],[13,14],[20,69],[-2,31],[-18,27],[60,-15],[7,49],[61,-102],[26,-58],[13,20],[11,-16],[13,10],[32,-34],[24,-85],[3,-57],[17,-27],[33,4],[8,-9],[29,-77],[23,-7],[34,-71],[29,6],[21,-78],[11,-25],[-9,-27],[15,-96],[11,-30],[14,-133],[-20,21],[-16,34],[-15,-41],[4,-110],[12,-44],[21,-26],[5,-59],[1,-98],[7,-37],[-4,-71],[-8,-67],[2,-65],[-5,-111],[-1,-121],[-12,-15],[-14,-64],[-24,2],[-8,-30],[-8,-108],[-4,-115],[-19,-5],[-8,-19],[0,-49],[-42,-6],[-13,-35],[-9,-76],[-5,-124],[-8,-42],[13,-91],[16,-32],[9,33],[5,-38],[20,-21],[13,-38],[10,16],[28,120],[14,0],[7,25],[-7,51],[9,44],[9,87],[4,-50],[19,31],[5,29],[-21,31],[24,-3],[11,24],[5,41],[23,10],[34,28],[9,45],[31,30],[11,-30],[23,-25],[15,-39],[17,-123],[10,-37],[7,-97],[5,-208],[17,-178],[4,-247],[10,-143],[18,-110],[2,-48],[-11,-46],[-7,-145],[4,-47],[-12,-113],[-4,-67],[-18,-66],[-15,4],[-12,-42],[1,66],[-9,27],[10,16],[15,62],[-14,26],[-15,-5],[-19,-34],[-7,-32],[9,-27],[2,-45],[-15,4],[-11,-52],[1,-84],[-7,-77],[-17,-53],[-30,-25],[-18,-97],[2,-127],[-3,-44],[-15,-25],[-1,-70],[-16,-39],[-6,-39],[-13,-4],[-7,-65],[-11,-11],[-17,-72],[5,-79],[-8,-9]],[[26661,65520],[-86,-11],[-167,-20],[-124,-12]],[[25045,72671],[21,69],[95,141],[7,-2],[43,98],[31,42],[6,-11],[28,29],[-1,-28],[-12,-16],[-30,-80],[0,-30],[-25,-55],[-51,-53],[-42,-66],[2,-20],[23,0],[-59,-73],[-18,3],[-18,52]],[[24721,71146],[19,40],[12,3],[39,49],[38,34],[31,77],[19,64],[16,27],[33,17],[15,-17],[29,27],[22,-3],[52,75],[30,94],[22,5],[29,23],[10,39],[5,51],[25,65],[14,16],[30,82],[23,23],[21,56],[11,54],[20,52],[58,85],[56,25],[50,-7],[23,-39],[1,-45],[-11,5],[-17,-24],[-19,13],[-21,-10],[5,-47],[-32,-57],[-30,-95],[-19,-20],[-5,-74],[-7,9],[-7,-52],[-14,-26],[-5,-67],[-12,-48],[-9,-6],[-12,-164],[6,-52],[-9,-35],[11,3],[20,87],[3,44],[7,-13],[29,80],[28,43],[-12,-55],[-12,-24],[-15,-77],[30,84],[26,18],[14,-13],[37,1],[15,-30],[8,8],[17,-35],[8,-39],[15,11],[22,-63],[3,-61],[17,-49],[6,-47],[14,-49],[19,-15],[-2,-79],[11,-28],[26,-15],[42,10],[25,43],[11,-8],[14,-72],[12,-27],[19,-4],[8,46],[16,-7],[9,-38],[4,69],[-7,53],[16,20],[7,-32],[-6,-56],[17,-26],[26,72],[40,62],[59,110],[11,-21],[61,42],[46,-16],[35,-3],[30,7],[62,85],[24,12],[30,-7],[32,14],[-22,-84],[-2,-135],[2,-45],[-8,-19],[9,-51],[16,-8],[9,16],[6,-26],[15,3],[17,-28],[34,49],[13,-4],[11,-46],[-1,-35],[25,28],[7,-7],[10,65],[19,24],[23,-19],[11,9],[8,39],[27,-5],[5,-30],[-10,-100],[7,-120],[1,-95],[-29,-2],[-8,-65],[15,-12],[5,21],[15,-4],[8,-38],[19,-19],[-13,-40],[24,-75],[12,-1],[20,-45],[8,38],[14,-35],[8,26],[-16,100],[14,-15],[41,13],[12,-15],[14,-91],[16,-31],[-10,-64],[-14,-20],[-27,39],[-31,-16],[-31,42],[-11,-12],[-27,1],[-27,23],[-60,-26],[-13,-28],[-37,69],[-15,48],[-13,-7],[-13,30],[-10,-41],[2,-51],[-15,-32],[1,-45],[9,-63],[-12,-20],[-24,42],[-3,31],[-21,37],[-5,30],[-22,64],[-38,46],[-13,-7],[-33,49],[-18,-5],[-13,23],[-5,-20],[-19,11],[-25,-75],[-17,-73],[-9,-8],[-32,23],[-23,-15],[-8,-22],[2,-34],[-23,37],[-21,17],[-24,-14],[-10,11],[-23,-24],[-13,-42],[-2,-63],[-9,-72],[-14,4],[-7,-39],[-22,-15],[-6,-46],[-13,-3],[0,-45],[-12,-9],[4,-61],[-20,32],[-9,40],[12,27],[1,34],[11,31],[1,40],[13,-4],[15,87],[-3,43],[-12,10],[-18,-75],[-38,24],[3,-51],[-13,-47],[-5,-56],[-30,-31],[-5,-27],[-6,39],[3,55],[-4,67],[-8,32],[-10,-19],[-5,-120],[3,-12],[-31,-55],[-26,-129],[-17,-146],[-19,-65],[-20,-112],[-41,-174],[6,-33]],[[25508,69434],[-19,14],[-8,47],[-13,28],[-2,29],[15,118],[11,48],[-2,34],[-11,25],[-16,-47],[-27,-10]],[[25436,69720],[0,0]],[[25436,69720],[-7,47],[7,24],[-3,38],[13,34],[6,40],[-3,47],[8,69],[-14,75],[12,13],[-8,44],[-13,18],[-6,33],[-24,4],[-9,43],[-21,-18],[-18,45],[17,52],[-7,21],[0,47],[-40,48],[-14,-14],[-24,47],[-12,-15],[-21,21],[-2,25],[-27,-2],[-3,-32],[-14,0],[-4,29],[-17,16],[-12,-13],[-86,142],[-287,231],[1,27],[-28,167],[-27,16],[-10,24]],[[24739,71113],[0,0]],[[24739,71113],[-12,-6],[-6,39]],[[25252,52115],[30,-13],[-14,-20],[-12,9],[-4,24]],[[25179,52148],[16,13],[30,-29],[6,-15],[-24,5],[-28,26]],[[25119,52114],[15,7],[15,31],[-4,-29],[-21,-27],[-5,18]],[[25071,52140],[21,-1],[8,13],[-5,-43],[-10,-7],[-17,26],[3,12]],[[24751,57677],[229,-2],[156,1],[202,1]],[[25284,52292],[-4,-32],[-7,15],[-10,-40],[-18,27],[-13,-15],[-5,30],[-18,7],[-18,-23],[-23,49],[-2,-28],[-21,38],[-22,-3],[-31,-27],[-28,-42],[-30,-33],[4,54],[-10,30],[-14,-27],[9,-17],[1,-40],[-25,-57],[-8,-80],[-9,10],[-13,-16]],[[24969,52072],[-12,0],[-13,50],[-4,66],[0,69],[-15,77],[0,54],[-10,43],[-11,19],[-4,39],[-10,34],[-4,95],[-8,14],[10,88],[-4,36],[7,25],[9,125],[7,19],[-1,45],[7,22],[-7,36],[-165,-2],[-134,-1],[-226,0],[13,21],[7,58],[-16,50],[-1,28],[10,46],[-3,41],[-12,30],[1,38],[18,-7],[17,20],[2,43],[-12,37],[-1,45],[-7,16],[9,39],[4,-50],[8,-29],[9,7],[0,29],[-13,75],[-1,74],[20,18],[12,35],[-4,32],[-18,-13],[-9,30],[5,38],[10,-28],[18,0],[1,106],[11,35],[23,5],[4,18],[-29,11],[7,94],[12,11],[2,-43],[7,-17],[5,28],[-6,21],[24,78],[-2,50],[7,25],[19,14],[0,50],[-19,26],[5,25],[13,-39],[5,36],[12,22],[9,69],[-15,24],[2,-62],[-32,11],[2,79],[27,20],[7,27],[14,-31],[5,42],[-2,53],[12,-8],[16,79],[-4,18],[-6,-40],[-23,17],[0,58],[8,20],[-8,35],[-10,-20],[-23,49],[3,58],[5,1],[17,-48],[10,7],[-5,26],[-21,50],[14,31],[8,37],[-7,37],[-6,-46],[-20,-26],[-6,14],[-3,52],[9,38],[16,33],[2,27],[-31,30],[1,71],[5,37],[21,52],[2,39],[-9,72],[-11,-4],[1,-67],[-14,-26],[-9,22],[3,48],[10,50]],[[17580,73980],[234,-2],[232,3],[190,-5],[190,2],[348,-2],[211,0],[232,2],[328,0],[141,0],[292,0],[227,1],[143,-1],[294,0],[114,0],[167,1]],[[18973,68711],[-21,23],[-6,49],[-24,59],[2,43],[-28,117],[-17,36],[-8,-52],[-20,-3],[5,-33],[-16,-98],[15,-64],[-32,26],[-9,-16],[-24,13],[-3,-19],[-30,-40],[-13,63],[-22,-8],[-13,-25],[-10,13],[-21,-30],[-8,22],[-14,-8],[-12,35],[-16,7],[-9,-35],[-9,0],[-2,-61],[-8,-45],[-24,38],[-8,-20],[-11,24],[-33,2],[-17,22],[-17,-23],[-15,-72],[6,-53],[-9,-22],[-11,44],[-18,24],[-15,40],[-6,53],[5,34],[-21,81],[9,48],[-5,50],[-18,109],[-32,58],[-26,-44],[-4,40],[-28,53],[-11,97],[14,13],[2,55],[-4,61],[-19,39],[2,26],[-17,15],[-7,73],[-24,73],[-1,35],[-14,54],[2,70],[-8,19],[-6,57],[6,30],[-1,46],[-19,0],[7,95],[-15,25],[-12,-2],[2,26],[-10,44],[-15,26],[-9,-13],[2,-41],[-15,-35],[-19,-82],[-19,-26],[-13,12],[-3,-58],[-24,-42],[-5,36],[-14,22],[-13,60],[-25,0],[4,53],[-8,36],[18,37],[1,48],[-19,74],[18,89],[25,1],[7,44],[-13,54],[6,49],[-19,27],[-4,54],[9,58],[-17,33],[2,49],[19,7],[-1,79],[-6,30],[13,24],[1,116],[13,65],[-7,69],[12,3],[10,123],[-3,58],[-8,10],[-26,-23],[-4,-21],[-22,15],[-19,-5],[-8,39],[6,39],[-7,30],[-14,9],[-4,-30],[-15,-21],[-6,17],[6,55],[-34,58],[-16,59],[4,71],[-20,60],[-13,-1],[-6,60],[-19,82],[-17,54],[-12,13],[-5,37],[-11,7],[2,38],[-9,41],[-24,10],[-32,45],[-7,54],[-47,87],[-11,-2],[12,36],[22,8],[3,22],[-16,7],[-5,57],[-11,5],[2,34],[13,32],[-12,55],[2,63],[-13,24],[-7,47],[-8,-6],[-8,88],[-15,21],[-39,152],[-1,279],[1,109],[0,804]],[[29991,69339],[3,68],[18,64],[-3,15],[11,74],[-13,36],[18,11],[4,26],[22,42],[15,-61],[28,-5],[13,70]],[[30213,67064],[-30,-174],[-2,-44]],[[29724,66677],[-9,53],[-6,-10],[-12,102],[9,73],[1,57],[13,10],[8,45],[-6,52],[9,33],[-5,65],[4,138],[12,64],[-6,60],[10,135],[-5,35],[5,74],[15,33],[6,109],[9,44],[19,43],[6,44],[-1,64],[19,67],[0,85],[12,44],[12,69],[0,47],[-10,68],[6,57],[-6,34],[10,61],[35,32],[10,-13],[16,21],[5,52],[24,14],[14,39],[7,45],[16,22],[-6,59],[11,13],[2,73],[-10,38],[-11,102],[15,52],[4,64],[18,75],[-13,89],[11,30]],[[29842,64964],[3,18],[27,22],[-21,-43],[-9,3]],[[29812,64781],[5,20],[11,-16],[0,-50],[-6,35],[-10,11]],[[29792,64880],[16,16],[-12,-43],[-4,27]],[[29275,64272],[5,-67],[-9,-39],[-38,-78],[-11,-1]],[[28633,68013],[16,50],[-5,-45],[-11,-5]],[[28611,68032],[12,40],[9,-5],[-21,-35]],[[27689,66145],[33,53],[53,111],[29,91],[30,50],[26,25],[11,70],[13,36],[4,52],[36,56],[19,54],[-4,80],[-13,40],[2,43],[-7,37],[-23,35],[1,92],[-18,15],[9,77],[-5,125],[-3,13],[28,22],[38,42],[56,47],[40,20],[33,2],[38,-9],[36,8],[86,-42],[23,-19],[15,-47],[23,-46],[12,-10],[40,49],[35,1],[43,12],[21,-19],[23,-1],[14,25],[30,20],[18,40],[9,1],[19,80],[30,64],[10,8],[19,54],[14,5],[20,-15],[17,19],[9,53],[2,87],[-9,180],[-20,40],[11,50],[14,11],[2,-33],[21,41],[-3,43],[-19,47],[-22,-15],[5,29],[-15,51],[-15,1],[1,80],[16,115],[19,5],[23,42],[0,48],[18,22],[27,55],[9,-5],[16,29],[25,75],[4,46],[12,51],[41,121],[31,100],[56,141],[-1,12],[68,109],[26,62],[18,0],[22,37],[27,-29],[19,10],[91,-8],[53,-1],[107,14],[24,-1],[93,10]],[[29478,69336],[1,-109],[-7,-30],[-4,-63],[13,-57],[-10,-55],[-2,-92],[-4,-31],[4,-70],[19,-88],[4,-69],[-12,-80],[7,-114],[-4,-36],[-19,-63],[-5,-89],[-8,-79],[9,-27],[-1,-103],[10,-67],[-5,-64],[12,-57],[-16,-97],[-7,-114],[10,-26],[7,66],[19,0],[2,-53],[13,-29],[-2,-343],[-6,-422],[0,-74],[-4,-37],[8,-65]],[[29390,64649],[-7,-42],[-21,-42],[-2,-79],[-13,2],[9,-60],[18,87],[11,-15],[10,42],[21,27],[18,2],[4,33],[22,-30],[2,41],[9,-28],[20,-8],[18,-23],[23,28],[2,43],[17,8],[10,-12],[75,3],[39,20],[14,18],[30,63],[9,40],[12,13],[13,50],[21,21],[12,-2],[-18,-52],[-9,-6],[15,-31],[5,-44],[17,-12],[11,25],[16,-72],[15,17],[23,48],[2,28],[17,11],[12,-12],[-5,-21],[-67,-94],[-78,-123],[-50,-62],[-81,-93],[-53,-78],[-43,-41],[-27,-12],[-6,15],[-64,-60],[-61,10],[-46,-55],[3,38],[-23,-2],[3,25],[-11,39],[7,35],[-8,36]],[[26861,65369],[16,17],[-2,-36],[-14,19]],[[26831,65420],[6,90],[11,-35],[-3,-35],[-14,-42],[0,22]],[[26661,65520],[1,-26],[21,-28],[13,17],[37,-82],[25,-20],[11,-21],[18,-66],[19,-29],[18,23],[2,50],[7,13],[14,-55],[19,2],[-1,-37],[29,-96],[16,-33],[22,-21],[41,57],[22,4],[17,35],[51,60],[37,-38],[19,15],[20,-9],[29,61],[29,86],[8,10],[16,58],[44,102],[10,1],[67,108],[30,17],[24,34],[65,69],[17,24]],[[15490,70789],[21,10],[13,-45],[-1,-55],[17,-42],[25,-1],[32,51],[14,-4],[59,-119],[7,-61],[18,-81],[1,-57],[7,-52],[-3,-67],[10,-88],[-4,-41],[3,-50],[33,-54],[46,-35],[11,-19],[17,14],[13,-32],[18,-5],[23,39],[23,7],[54,83],[12,45],[15,16],[21,-15],[29,12],[28,26],[19,-30],[17,-9],[18,14],[34,-40],[9,-75],[14,4],[19,50],[34,4],[13,-16],[11,34],[47,51],[15,35],[21,-9],[21,-51],[22,6],[34,26],[20,5],[11,42],[28,27],[29,46],[46,27],[37,10],[13,57],[14,23],[24,-22],[64,39],[17,-14],[19,6],[28,42],[11,36],[163,1],[250,-3],[164,-3]],[[17338,70482],[16,-107],[11,-27],[16,-75],[18,5],[10,-47],[19,-2],[16,-48],[0,-53],[13,-49],[7,-54],[-24,-108],[-1,-55],[-10,-23],[-24,-150],[1,-36],[-9,-51],[-7,-116],[-13,-40],[-6,-53],[-14,-44],[-3,-51],[7,-58],[-9,-68],[-18,-76],[0,-21],[-32,-49],[-14,-93],[-8,-97],[-10,-66],[-18,-48],[3,-66],[-8,-36],[15,-69],[-8,-56],[13,-35],[19,25],[16,-59],[20,12],[2,-53],[18,-17],[1,-31],[-10,-62],[-12,-17],[1,-42],[11,-32],[-1,-43],[-12,-81],[0,-54],[-11,-11],[-2,-59],[0,-2105]],[[17307,65831],[-166,-2],[-273,-5],[-26,-3],[-143,2],[-220,2]],[[15305,65829],[-21,55],[-15,55],[-7,69],[2,33],[-14,81],[2,32],[-7,63],[-2,126],[13,147],[-7,107],[-17,87],[-11,2],[-11,123],[15,90],[12,96],[6,83],[0,52],[9,80],[6,99],[-6,42],[17,53],[8,43],[16,132],[15,193],[15,283],[7,225],[4,188],[-2,8],[10,197],[-1,69],[7,184],[0,92],[-5,39],[8,91],[12,227],[8,117],[4,157],[-3,66],[3,109],[-4,69],[5,24],[5,176],[-1,76],[-11,41],[6,87],[-2,83],[-7,45],[16,36],[1,109],[-19,193],[27,-79],[14,-14],[-3,38],[23,10],[7,17],[11,-28],[12,31],[15,0],[20,51]],[[26599,59546],[33,-4],[78,1],[5,-5],[157,-1],[61,3],[151,-2],[3,26],[77,-5],[-8,-28]],[[18139,65823],[61,-6],[262,13],[192,2],[5,-5],[196,3],[118,3]],[[18136,60011],[0,880],[1,11],[-1,272],[1,173],[-1,298],[1,318],[0,1661],[1,149],[0,628],[1,266],[0,1156]],[[28738,60998],[7,-15],[-7,-27],[0,42]],[[28949,61206],[-16,-79],[-15,-98],[-8,-27],[-5,21],[-15,-7],[-19,-78],[-12,-70],[-11,-126],[1,-64],[-23,-128],[7,-14],[-18,-91],[-12,-79],[-9,-11],[1,-57],[-11,-86],[-18,-64],[-16,2],[4,-35],[-9,-5],[-1,84],[-10,55],[-4,61],[2,70],[9,59],[3,89],[10,105],[4,76],[16,79],[18,110],[-4,34],[21,17],[15,65],[1,28],[-20,21],[25,54]],[[28739,61120],[-11,-44],[-3,44]],[[28423,61914],[-20,-21],[-13,21],[0,-52],[-18,-113],[-4,-52],[2,-76],[15,-59],[29,15],[6,26],[15,0],[12,38],[9,-30],[-6,-74],[19,-64],[0,-49],[35,-59],[25,-2],[7,-28],[6,21],[24,-9],[4,-44],[16,-39],[8,-59],[13,-15],[15,-54],[20,-23],[30,-68],[-5,-65],[-15,-24],[-2,-107],[4,-29],[-11,-46],[13,-23],[-19,-30],[-31,64],[-11,-27],[-7,25],[0,41],[-13,81],[-19,32],[-8,35],[-12,12],[-21,103],[-11,11],[-4,45],[-13,30],[-2,-30],[28,-89],[20,-114],[15,-24],[1,-25],[16,-14],[10,-96],[11,-53],[30,-4],[7,-36],[31,-24],[-14,-29],[-1,-37],[13,-8],[4,22],[8,-41],[5,-110],[-8,-90],[-18,63],[-21,45],[-9,-42],[11,-39],[7,-55],[9,-14],[-22,-24],[-18,-4],[6,-39],[22,11],[-2,-76],[14,12],[4,-31],[12,-20],[6,-49],[-9,-97],[-4,15],[-16,-18],[-15,-34],[-10,68],[-29,61],[-14,45],[4,48],[-13,71],[-22,-9],[-8,-25],[-10,46],[-18,11],[-4,23],[-21,-35],[11,-33],[12,8],[18,-13],[15,-55],[9,-2],[8,58],[8,-119],[1,-67],[22,-19],[25,-82],[1,-65],[27,4],[9,27],[1,-33],[9,-11],[-3,86],[17,6],[13,-29],[35,-36],[17,27],[11,-11],[8,-128],[12,-140],[9,-71],[7,-94]],[[15775,72069],[4,105],[10,72],[12,-52],[-2,-58],[19,-32],[-18,-27],[-5,-26],[-18,-12],[-2,30]],[[15740,73454],[0,40],[20,-41],[-17,-26],[-3,27]],[[15720,73667],[6,14],[26,-115],[-18,42],[-14,59]],[[15715,73495],[8,29],[12,-47],[-15,-33],[-5,51]],[[15707,73080],[13,89],[14,59],[2,55],[16,11],[7,-19],[0,-49],[19,-38],[3,-26],[-15,-19],[-17,15],[-1,-29],[-13,-34],[-14,-7],[3,-24],[23,10],[11,-42],[8,-84],[-4,-14],[10,-100],[8,27],[-5,67],[10,-3],[16,-57],[16,-13],[7,-94],[-8,-58],[-14,13],[-12,86],[-21,-25],[2,30],[-19,44],[3,93],[-5,56],[-18,-4],[-3,30],[-22,54]],[[15649,73739],[11,-4],[34,-53],[-8,-8],[-22,20],[-15,45]],[[15623,73630],[17,26],[2,-33],[-19,7]],[[15618,73982],[15,0],[4,-29],[-17,-2],[-2,31]],[[15586,73509],[7,30],[20,1],[2,-29],[15,-33],[17,-9],[-18,69],[37,108],[12,-2],[37,-58],[-19,-50],[11,-66],[-2,-62],[-11,-25],[4,-69],[-20,-12],[-15,50],[-9,-12],[-22,11],[-31,62],[-6,76],[-9,20]],[[15577,73617],[18,-10],[18,-54],[-30,41],[-6,23]],[[17306,73978],[-1,-290],[0,-441],[-2,-286],[0,-702],[1,-52],[0,-1247],[-7,-48],[20,-76],[8,-54],[0,-63],[12,-40],[-17,-93],[7,-11],[11,-93]],[[15490,70789],[-34,9],[-3,34],[-12,6],[-10,-31],[-13,10],[-19,-51],[-9,7],[-21,74],[-10,8],[-7,-47],[-10,-10],[6,139],[1,124],[-4,165],[13,-61],[-2,-100],[4,-137],[17,0],[1,37],[-10,40],[0,61],[12,-37],[14,83],[-19,116],[11,42],[25,53],[-17,37],[-6,-27],[-18,-2],[4,-23],[-16,4],[-20,44],[-1,55],[-11,130],[8,8],[6,-52],[11,31],[52,63],[-10,27],[-34,23],[-2,45],[-27,14],[-8,-24],[8,-90],[-16,-21],[3,38],[-4,206],[-14,176],[-24,80],[-9,207],[-5,77],[-15,162],[-14,36],[-4,55],[-14,23],[-5,31],[-19,29],[-12,110],[-8,101],[1,53],[-11,56],[12,58],[9,138],[-19,46],[3,22],[17,1],[40,-55],[32,-64],[10,-1],[25,-39],[6,12],[41,-55],[-1,-20],[35,-41],[56,-11],[21,13],[31,-37],[9,19],[10,-18],[24,7],[12,-32],[41,2],[32,71],[-3,-24],[22,-42],[7,-45],[17,17],[17,-5],[-3,-32],[14,-20],[1,-59],[10,6],[3,53],[-14,34],[0,40],[12,28],[21,10],[3,-31],[-15,-34],[10,-50],[7,6],[2,48],[10,14],[8,-100],[-15,-10],[11,-42],[8,-78],[13,-21],[-8,-25],[-16,2],[2,-42],[-17,-36],[-9,-113],[-14,-9],[11,113],[-6,17],[-19,-101],[-4,-53],[-21,-70],[-38,-183],[-13,-119],[12,8],[23,-13],[12,27],[21,17],[3,38],[-44,-62],[-17,27],[42,226],[31,74],[29,28],[3,73],[16,73],[31,68],[-9,97],[22,-40],[14,-187],[-22,0],[3,-40],[11,-14],[-4,-56],[7,-19],[0,-53],[-14,-38],[-1,-38],[15,-16],[-10,-48],[-6,-87],[4,-21],[-10,-57],[7,-49],[-15,-79],[-27,78],[8,96],[-16,-42],[-6,-63],[30,-83],[-10,-16],[1,-48],[-11,-26],[-16,46],[-20,105],[12,37],[1,61],[-7,25],[0,-51],[-12,-57],[7,-72],[-6,-48],[13,14],[11,-66],[27,-22],[11,37],[0,33],[13,16],[8,79],[10,53],[-2,30],[25,-58],[10,25],[-4,36],[27,34],[0,50],[-8,58],[-8,11],[6,35],[-10,40],[-7,71],[22,38],[-24,58],[16,82],[-6,91],[15,46],[9,119],[22,25],[-1,69],[-14,23],[-23,86],[1,74],[-10,49],[-15,4],[3,-24],[-11,-28],[10,-67],[18,-50],[1,-35],[-26,85],[-12,4],[-7,58],[2,77],[18,24],[16,-22],[10,42],[-10,45],[-28,45],[-13,48],[1,39],[-29,-33],[-7,33],[4,45],[-13,-17],[3,39],[24,28],[13,-15],[9,-49],[19,7],[-10,108],[17,6],[5,34],[-21,66],[-5,66],[8,44],[-13,30],[-17,-6],[-11,-41],[9,-44],[-19,40],[8,57],[-10,25],[-9,-14],[-1,65],[-21,54],[11,21],[-5,36],[-13,16],[16,54],[184,0],[97,-6],[145,5],[143,-2],[190,0],[169,0],[165,1],[178,0],[325,-2]],[[25685,69733],[6,80],[31,-17],[-23,-128],[-14,65]],[[25568,69555],[12,14],[2,-63],[-14,23],[0,26]],[[24707,71654],[8,83],[12,4],[-5,-75],[-15,-12]],[[24691,71507],[21,33],[-14,-47],[-7,14]],[[24655,71564],[5,21],[30,29],[5,-13],[-11,-48],[-24,-11],[-5,22]],[[24625,71464],[3,27],[20,41],[1,-19],[-24,-49]],[[24631,71609],[14,-54],[-13,-3],[-8,37],[7,20]],[[24621,71679],[35,36],[11,-55],[14,34],[2,-44],[-16,-9],[-17,-49],[-11,42],[-16,20],[-2,25]],[[24616,71401],[17,18],[32,86],[14,-32],[-30,-33],[5,-35],[-17,-4],[-20,-37],[-1,37]],[[24563,71635],[15,17],[-1,-44],[-14,27]],[[24276,71309],[20,-30],[34,11],[49,52],[19,27],[18,0],[48,70],[25,27],[6,26],[17,-22],[7,33],[25,10],[22,70],[14,-12],[14,35],[10,-4],[24,-81],[-14,-76],[-24,-78],[9,-73],[-16,-35],[-11,-77],[13,-16],[42,73],[5,54],[42,-108],[13,-22],[9,10],[25,-27]],[[25508,69434],[-10,-58],[-1,-80],[-37,-13],[-21,-40],[3,-47],[-11,-59],[-9,-15],[-11,-83],[-12,-42],[-7,-104],[3,-25],[-13,-50],[20,-42],[12,7],[7,53],[26,64],[10,3],[15,63],[0,36],[31,133],[26,36],[11,-7],[11,34],[15,-32],[-6,46],[12,97],[27,109],[7,100],[12,-5],[21,32],[1,59],[17,60],[22,-3],[-2,-87],[-16,-5],[-2,-142],[-12,-40],[-8,4],[-5,-53],[-14,-52],[5,-43],[-13,-39],[4,-26],[-18,-33],[-13,-62],[-8,-87],[-17,-107],[-9,-26],[-9,-62],[-21,-268],[9,-94],[-2,-71],[-12,-41],[-23,-46],[-3,-62],[-8,-37],[-14,-162],[2,-82],[8,-50],[-2,-102],[-21,-118],[-7,-136],[-20,-107],[-9,-156],[8,-76],[-5,-38],[8,-85],[-7,-57],[14,-62],[0,-85],[6,-63],[16,-59],[-4,-89],[-11,-107],[6,-145]],[[2682,386],[26,11],[1,-51],[-9,8],[-8,-28],[-10,60]],[[2636,452],[21,8],[-4,-21],[-13,-12],[-4,25]],[[2313,271],[13,35],[16,2],[19,68],[4,-20],[27,2],[4,-44],[-7,13],[-29,-30],[-23,-89],[-11,47],[-13,16]],[[90204,32599],[5,15],[34,16],[21,137],[6,65],[7,-11],[7,-43],[14,-11],[-10,-88],[-32,-109],[-9,-44],[-2,-111],[-12,-56],[-18,30],[-7,101],[8,50],[-12,59]],[[90597,35570],[10,43],[4,-16],[-8,-45],[-6,18]],[[90537,37432],[5,20],[1,-49],[-6,29]],[[90507,37973],[14,53],[0,59],[11,0],[0,-66],[-9,-13],[-10,-55],[-6,22]],[[90501,34555],[4,28],[2,101],[9,-12],[20,67],[5,-22],[-14,-80],[4,-63],[-13,7],[0,-73],[-12,18],[-5,29]],[[90487,38800],[6,39],[11,-28],[-1,-51],[-8,-23],[-7,25],[-1,38]],[[90486,35993],[20,2],[3,-36],[-19,-8],[-4,42]],[[90472,34420],[4,45],[13,54],[5,-54],[-4,-24],[7,-40],[-2,-61],[-9,-29],[-14,109]],[[90343,33382],[11,51],[21,35],[15,-9],[-2,-35],[-12,-13],[-8,-39],[-11,-6],[-5,23],[-9,-7]],[[28030,56345],[-13,-8],[-36,-51],[-27,-66],[-35,-121],[-18,-79],[-7,-45],[-16,-58],[-14,-93],[-13,-174],[3,-55],[-7,-48],[-14,-47],[-23,-41],[-9,-97],[-17,10],[-17,-16],[-11,39],[-16,-33],[-10,-63],[3,-31],[8,10],[0,-33],[-15,-20],[-18,-45],[-9,-52],[-34,-59],[-10,38],[-11,-7],[-1,-32],[17,-22],[-5,-59],[-25,-52],[-7,-40],[-10,5],[-24,-22],[-17,-59],[-6,18],[-36,-90],[-8,21],[-15,-28],[-2,30],[-13,-1],[-4,-42],[15,-83],[-7,-74],[-32,-62],[-19,-20],[-2,41],[-19,40],[-11,-22],[-2,-31],[12,-15],[14,-59],[-15,-65],[-25,-59],[-9,0],[-17,-67],[5,-21]],[[31708,38299],[11,-21],[12,13],[9,-36],[-17,-36],[-12,19],[-3,61]],[[31642,38028],[49,54],[35,-32],[-18,-26],[-21,-7],[-11,-24],[-8,12],[-17,-17],[-9,40]],[[31637,38350],[7,-14],[0,-44],[-7,58]],[[31170,38320],[15,18],[17,49],[-4,63],[7,32],[14,12],[20,-6],[17,-25],[50,2],[20,-22],[24,26],[18,-5],[25,-25],[8,20],[28,0],[27,-20],[16,1],[7,-19],[6,24],[37,-35],[4,19],[18,-18],[6,7],[31,-33],[14,-49],[7,13],[5,-27],[10,-6],[14,22],[-5,-40],[3,-84],[13,-30],[-7,-43],[-11,19],[3,-28],[-10,2],[-7,-32],[-13,1],[-11,-59],[-7,-83],[-8,-6],[-1,-44],[-25,-46],[-15,-9],[-12,12],[-7,-27],[-10,13],[-21,-43],[-10,9],[-9,-29],[-8,9],[-18,66],[-12,-10],[-7,-34],[-21,60],[-8,0],[-25,-33],[-14,24],[-12,-19],[-25,47],[-7,-39],[-14,-27],[-21,-3],[-12,-18],[-8,41],[-21,8],[-11,-32],[-19,19],[-12,-12],[1,53],[10,31],[-11,12],[3,65],[5,15],[1,75],[7,31],[-10,101],[-13,21],[-9,78]],[[30985,38023],[20,12],[5,-43],[-15,-38],[-12,32],[2,37]],[[31858,38286],[13,39],[11,-4],[15,-28],[-13,-4],[1,-49],[-9,20],[-13,-5],[-5,31]],[[31828,37522],[7,36],[-4,40],[7,30],[10,-13],[8,22],[17,3],[6,-29],[39,5],[2,-18],[-32,-48],[-41,-30],[-19,2]],[[31779,38288],[6,50],[10,-23],[12,26],[19,-21],[33,6],[-2,-23],[-14,-4],[9,-42],[-16,-11],[-15,23],[-7,-20],[-12,49],[-23,-10]],[[17306,73978],[171,1],[103,1]],[[18139,65823],[-119,3],[-36,-2],[-58,9],[-63,-7],[-79,0],[-293,0],[-184,5]],[[29478,69336],[71,5],[115,0],[40,-9],[62,-5],[57,2],[168,10]],[[25149,51924],[13,-63],[5,-76],[-3,-101],[-10,-105],[-4,3],[8,90],[4,100],[-1,46],[-12,106]],[[25020,51931],[11,38],[32,81],[2,-14],[-13,-63],[2,-28],[13,-33],[-15,-50],[-3,47],[-10,-10],[-17,10],[-2,22]],[[24941,51321],[17,10],[-9,-42],[-8,32]],[[24732,50824],[7,27],[13,-65],[-8,-14],[-12,52]],[[24681,50807],[39,-33],[-19,-8],[-20,41]],[[24628,50763],[25,19],[2,-17],[-26,-20],[-1,18]],[[24275,51386],[10,27],[12,-5],[3,26],[22,-6],[23,-61],[9,7],[6,-29],[-15,-36],[-1,-40],[-14,-19],[-59,115],[4,21]],[[24969,52072],[-17,-35],[-8,7],[-17,-56],[-2,-38],[-12,-15],[3,-40],[-28,17],[-11,-45],[5,-68],[18,-10],[13,25],[-4,-59],[8,-34],[15,-19],[13,11],[6,29],[5,101],[-2,13],[24,54],[3,44],[18,-34],[13,6],[0,-21],[-17,-34],[0,-34],[15,-17],[3,-61],[15,14],[11,82],[16,-25],[-4,-55],[-13,0],[-12,-44],[22,2],[-3,-29],[-31,-22],[13,-66],[11,22],[-7,-59],[-9,26],[-14,11],[-12,-55],[-1,-99],[-9,-5],[-6,86],[-11,1],[-2,-66],[13,-58],[-13,33],[-14,5],[-8,-17],[-15,6],[18,-39],[0,-32],[-23,49],[0,-25],[12,-32],[-12,-14],[1,-34],[11,-36],[20,-11],[-1,-22],[12,-24],[-1,-34],[7,-46],[9,30],[5,-21],[22,-2],[16,-34],[3,30],[20,-91],[11,44],[24,-111],[0,-59],[6,-13],[18,28],[7,-41],[-24,-15],[-2,-33],[16,-3],[-8,-52],[-11,24],[-12,-96],[2,-44],[-21,36],[-2,55],[-8,16],[-31,-138],[-15,-41],[7,67],[9,29],[5,48],[9,21],[0,54],[9,23],[-1,51],[-10,24],[-4,-62],[-16,-29],[-12,29],[-14,77],[-34,43],[-10,45],[-56,33],[-12,-14],[-48,-143],[-46,-115],[-7,10],[4,41],[-12,16],[-2,41],[6,3],[-12,100],[-11,27],[-9,-1],[1,-28],[-8,-36],[2,76],[-10,56],[-13,-64],[-14,14],[-7,-22],[-7,31],[-6,-27],[10,-63],[-12,4],[-7,-27],[-4,-54],[-8,7],[-5,-57],[-8,12],[-19,-33],[-6,-76],[-16,16],[5,21],[-13,67],[-18,57],[-11,-13],[-26,21],[-10,33],[-25,12],[-16,25],[-16,60],[12,14],[7,58],[8,-12],[12,-52],[7,22],[-1,-68],[15,-17],[-4,104],[-23,64],[0,42],[-11,7],[-9,-41],[-13,-13],[2,41],[-10,-7],[3,39],[9,28],[-10,40],[-29,-50],[-10,80],[-10,-8],[-6,118],[-26,1],[6,33],[1,85],[-32,16],[-13,-10],[-20,-38],[-7,57],[8,41],[8,-3],[-2,46],[-16,8],[-14,-22],[-9,20],[-2,-40],[-24,-36],[-14,-34],[-6,32],[-18,-16],[0,-32],[9,-30],[18,-8],[-9,-30],[8,-63],[20,21],[5,-18],[-13,-14],[6,-20],[-32,-6],[-26,-49],[-20,-9],[-82,63],[-35,42],[-57,101],[-23,32],[-41,40],[-33,5],[-14,-14],[-36,7],[-58,-25],[-17,-13],[-26,-53]],[[30097,65246],[-20,-46],[-6,102],[2,64],[-10,22],[2,-159],[-17,2],[-2,-35],[-10,-7],[-1,55],[16,95],[8,68],[17,46]],[[30029,65436],[5,7],[11,-52],[-5,-7],[-11,52]],[[30019,65203],[6,51],[-4,23],[5,57],[4,-20],[0,-85],[-11,-26]],[[29960,64853],[11,80],[5,-14],[1,-76],[-17,10]],[[30068,65494],[-3,-45],[-14,-41],[-6,42],[4,35],[-19,54],[-8,40],[5,-129],[-22,17],[12,-39],[1,-75],[-12,-11],[8,-53],[0,-72],[-10,-45],[-8,-73],[-12,6],[-27,-18],[-27,-34],[-38,-30],[-1,16]]]}});var gFe=Ae(EC=>{"use strict";m();var p2t=EC&&EC.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(EC,"__esModule",{value:!0});EC.HTMLPointMapRenderer=void 0;var m2t=vx(),x2t=p2t(I$()),g2t=_C(),mFe=B0(),xFe=class extends g2t.HTMLChartRenderer{getDataValue(e){if(e.isNumber()||e.isString())return e.value;if(e.isTimestamp()||e.isDate())return(0,mFe.timeToString)(e.value,e.field.timeframe||m2t.TimestampTimeframe.Second);throw new Error("Invalid field type for point map chart.")}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp()||e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for point map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],c=s?this.getDataType(s):void 0,d=o?this.getDataType(o):void 0,p=a?this.getDataType(a):void 0,E=s!==void 0?{field:s.name,type:c,axis:{title:s.name},scale:(0,mFe.getColorScale)(c,!1)}:void 0,w=o?{field:o.name,type:d,axis:{title:o.name}}:{value:5},N=a?{field:a.name,type:p,axis:{title:a.name}}:{value:"circle"};return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:x2t.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{mark:"point",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},size:w,color:E,shape:N}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-Roboto"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};EC.HTMLPointMapRenderer=xFe});var vFe=Ae(M$=>{"use strict";m();Object.defineProperty(M$,"__esModule",{value:!0});M$.HTMLScatterChartRenderer=void 0;var y2t=m$(),yFe=class extends y2t.HTMLCartesianChartRenderer{getMark(){return"point"}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"temporal";if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for scatter chart.")}getDataValue(e){if(e.isNull())return null;if(e.isTimestamp()||e.isDate()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for scatter chart.")}};M$.HTMLScatterChartRenderer=yFe});var bFe=Ae(SC=>{"use strict";m();var v2t=SC&&SC.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(SC,"__esModule",{value:!0});SC.HTMLSegmentMapRenderer=void 0;var _2t=v2t(I$()),b2t=_C(),E2t=B0(),_Fe=class extends b2t.HTMLChartRenderer{getDataValue(e){if(e.isNull()||e.isNumber()||e.isString())return e.value;throw new Error("Invalid field type for segment map.")}getDataType(e){if(e.isAtomicField()){if(e.isString())return"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for segment map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");let t=e.field.intrinsicFields,r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],c=a?this.getDataType(a):void 0,d=a!==void 0?{field:a.name,type:c,axis:{title:a.name},scale:(0,E2t.getColorScale)(c,!1)}:void 0;return{...this.getSize(),data:{values:this.mapData(e)},projection:{type:"albersUsa"},layer:[{data:{values:_2t.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"lightgray",stroke:"white"}},{mark:"line",encoding:{latitude:{field:r.name,type:"quantitative"},longitude:{field:i.name,type:"quantitative"},latitude2:{field:s.name,type:"quantitative"},longitude2:{field:o.name,type:"quantitative"},color:d}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};SC.HTMLSegmentMapRenderer=_Fe});var EFe=Ae(P$=>{"use strict";m();Object.defineProperty(P$,"__esModule",{value:!0});P$.STATE_CODES=void 0;P$.STATE_CODES={AL:"01",Alabama:"01",AK:"02",Alaska:"02",AZ:"04",Arizona:"04",AR:"05",Arkansas:"05",CA:"06",California:"06",CO:"08",Colorado:"08",CT:"09",Connecticut:"09",DE:"10",Delaware:"10",DC:"11","District of Columbia":"11",FL:"12",Florida:"12",GA:"13",Georgia:"13",HI:"15",Hawaii:"12",ID:"16",Idaho:"16",IL:"17",Illinois:"17",IN:"18",Indiana:"18",IA:"19",Iowa:"19",KS:"20",Kansas:"20",KY:"21",Kentucky:"21",LA:"22",Louisiana:"22",ME:"23",Maine:"23",MD:"24",Maryland:"24",MA:"25",Massachusetts:"25",MI:"26",Michigan:"26",MN:"27",Minnesota:"27",MS:"28",Mississippi:"28",MO:"29",Missouri:"29",MT:"30",Montana:"30",NE:"31",Nebraska:"31",NV:"32",Nevada:"32",NH:"33","New Hampshire":"33",NJ:"34","New Jersey":"34",NM:"35","New Mexico":"35",NY:"36","New York":"36",NC:"37","North Carolina":"37",ND:"38","North Dakota":"38",OH:"39",Ohio:"39",OK:"40",Oklahoma:"40",OR:"41",Oregon:"41",PA:"42",Pennsylvania:"42",RI:"44","Rhode Island":"44",SC:"45","South Carolina":"45",SD:"46","South Dakota":"46",TN:"47",Tennessee:"47",TX:"48",Texas:"48",UT:"49",Utah:"49",VT:"50",Vermont:"50",VA:"51",Virginia:"51",WA:"53",Washington:"53",WV:"54","West Virginia":"54",WI:"55",Wisconsin:"55",WY:"56",Wyoming:"56",PR:"72","Puerto Rico":"72",VI:"78",AS:"60",MP:"69",GU:"66"}});var CFe=Ae(wC=>{"use strict";m();var S2t=wC&&wC.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wC,"__esModule",{value:!0});wC.HTMLShapeMapRenderer=void 0;var SFe=S2t(I$()),w2t=_C(),C2t=EFe(),A2t=B0(),wFe=class extends w2t.HTMLChartRenderer{getRegionField(e){return e.intrinsicFields[0]}getColorField(e){return e.intrinsicFields[1]}getDataValue(e){if(e.isNumber())return e.value;if(e.isString())if(e.field===this.getRegionField(e.field.parentExplore)){let t=C2t.STATE_CODES[e.value];return t===void 0?void 0:t}else return e.value;else{if(e.isNull())return;throw new Error("Invalid field type for shape map.")}}getDataType(e){if(e.isAtomicField()){if(e.isDate()||e.isTimestamp())return"nominal";if(e.isString())return e===this.getRegionField(e.parentExplore)?"quantitative":"nominal";if(e.isNumber())return"quantitative"}throw new Error("Invalid field type for shape map.")}getVegaLiteSpec(e){if(e.isNull())throw new Error("Expected struct value not to be null.");if(!e.isArray())throw new Error("Invalid data for shape map");let t=this.getRegionField(e.field),r=this.getColorField(e.field),i=r?this.getDataType(r):void 0,s=r!==void 0?{field:r.name,type:i,axis:{title:r.name},scale:(0,A2t.getColorScale)(i,!1)}:void 0,o=this.mapData(e).filter(a=>a[t.name]!==void 0);return{...this.getSize(),data:{values:o},projection:{type:"albersUsa"},layer:[{data:{values:SFe.default,format:{type:"topojson",feature:"states"}},mark:{type:"geoshape",fill:"#efefef",stroke:"white"}},{transform:[{lookup:t.name,from:{data:{values:SFe.default,format:{type:"topojson",feature:"states"}},key:"id"},as:"geo"}],mark:"geoshape",encoding:{shape:{field:"geo",type:"geojson"},color:s}}],background:"transparent",config:{axis:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},legend:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500,titleColor:"var(--malloy-title-color, #505050)",labelColor:"var(--malloy-label-color, #000000)",titleFontSize:12},header:{labelFont:"var(--malloy-font-family, Roboto)",titleFont:"var(--malloy-font-family, Roboto)",titleFontWeight:500},mark:{font:"var(--malloy-font-family, Roboto)"},title:{font:"var(--malloy-font-family, Roboto)",subtitleFont:"var(--malloy-font-family, Roboto)",fontWeight:500}}}}};wC.HTMLShapeMapRenderer=wFe});var FFe=Ae(j$=>{"use strict";m();Object.defineProperty(j$,"__esModule",{value:!0});j$.HTMLTableRenderer=void 0;var T2t=eue(),F2t=lR(),AFe=S$(),TFe=B0(),B$=class extends F2t.ContainerRenderer{constructor(){super(...arguments);this.childrenStyleDefaults={size:"medium"}}async render(e){if(!e.isArray()&&!e.isRecord())throw new Error("Invalid type for Table Renderer");let t=this.document.createElement("tr");if(e.field.intrinsicFields.forEach(o=>{let a=o.name,d=this.childRenderers[a]instanceof AFe.HTMLNumberRenderer,p=this.document.createElement("th");p.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        text-align: ${d?"right":"left"};
      `,p.innerHTML=a.replace(/_/g,"_&#8203;"),t.appendChild(p)}),this.options.isDrillingEnabled){let o=this.document.createElement("th");o.style.cssText=`
        padding: 8px;
        color: var(--malloy-title-color, #505050);
        border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
        width: 25px;
      `,t.appendChild(o)}let r=this.document.createElement("tbody");for(let o of e){let a=this.document.createElement("tr");for(let c of e.field.intrinsicFields){let d=this.childRenderers[c.name],p=d instanceof AFe.HTMLNumberRenderer;await(0,TFe.yieldTask)();let E=await d.render(o.cell(c)),w=this.document.createElement("td");w.style.cssText=`
          padding: ${d instanceof B$?"0":"8px"};
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          ${p?"text-align: right;":""}
        `,w.appendChild(E),a.appendChild(w)}if(this.options.isDrillingEnabled){let c=this.document.createElement("td"),d=(0,TFe.createDrillIcon)(this.document);c.appendChild(d),c.style.cssText=`
          padding: 8px;
          vertical-align: top;
          border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
          width: 25px;
          cursor: pointer
        `,c.onclick=()=>{if(this.options.onDrill){let{drillQuery:p,drillFilters:E}=(0,T2t.getDrillQuery)(o);this.options.onDrill(p,d,E)}},a.appendChild(c)}r.appendChild(a)}let i=this.document.createElement("table");i.style.cssText=`
      border: 1px solid var(--malloy-border-color, #eaeaea);
      vertical-align: top;
      border-bottom: 1px solid var(--malloy-border-color, #eaeaea);
      border-collapse: collapse;
      width: 100%;
    `;let s=this.document.createElement("thead");return s.appendChild(t),i.appendChild(s),i.appendChild(r),i}};j$.HTMLTableRenderer=B$});var tue=Ae(l4=>{"use strict";m();Object.defineProperty(l4,"__esModule",{value:!0});l4.makeRenderer=l4.JSONView=l4.HTMLView=void 0;var q$=vx(),DFe=NTe(),D2t=ITe(),OFe=PTe(),O2t=jTe(),R2t=UTe(),N2t=$Te(),L2t=ZTe(),k2t=nFe(),I2t=sFe(),M2t=aFe(),P2t=cFe(),B2t=sue(),j2t=pFe(),q2t=S$(),U2t=gFe(),z2t=vFe(),H2t=bFe(),$2t=CFe(),V2t=FFe(),W2t=Ab(),RFe=Xae(),U$=lR(),z$=B0(),NFe=class{constructor(e){this.document=e}async render(e,t){let r=kFe(e.field,this.document,t,{size:"large"});try{return await r.render(e)}catch(i){return i instanceof Error?(0,z$.createErrorElement)(this.document,i):(0,z$.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};l4.HTMLView=NFe;var LFe=class{constructor(e){this.document=e}async render(e){let t=new OFe.HTMLJSONRenderer(this.document);try{return await t.render(e)}catch(r){return r instanceof Error?(0,z$.createErrorElement)(this.document,r):(0,z$.createErrorElement)(this.document,"Internal error - Exception not an Error object.")}}};l4.JSONView=LFe;function Q2t(n,e){let t=e[n.name];if(!t)for(let r of n.sourceClasses)t||(t=e[r]);return t}function H$(n){if(n.isExplore())return n;throw new Error(`${n.name} does not contain fields and cannot be rendered this way`)}function kFe(n,e,t,r){let i=Q2t(n,t.dataStyles)||{};if(i.renderer==="shape_map"||n.name.endsWith("_shape_map"))return new $2t.HTMLShapeMapRenderer(e,r,i);if(i.renderer==="point_map"||n.name.endsWith("_point_map"))return new U2t.HTMLPointMapRenderer(e,r);if(i.renderer==="image"||n.name.endsWith("_image"))return new k2t.HTMLImageRenderer(e);if(i.renderer==="segment_map"||n.name.endsWith("_segment_map"))return new H2t.HTMLSegmentMapRenderer(e,r,i);if(i.renderer==="dashboard"||n.name.endsWith("_dashboard"))return U$.ContainerRenderer.make(L2t.HTMLDashboardRenderer,e,H$(n),t);if(i.renderer==="json"||n.name.endsWith("_json"))return new OFe.HTMLJSONRenderer(e);if(i.renderer==="line_chart"||n.name.endsWith("_line_chart"))return new M2t.HTMLLineChartRenderer(e,r,i);if(i.renderer==="scatter_chart"||n.name.endsWith("_scatter_chart"))return new z2t.HTMLScatterChartRenderer(e,r);if(i.renderer==="bar_chart")return new DFe.HTMLBarChartRenderer(e,r,i);if(n.name.endsWith("_bar_chart"))return new DFe.HTMLBarChartRenderer(e,r,{});if(i.renderer==="vega"){let s=i.spec;if(s)return new RFe.HTMLVegaSpecRenderer(e,r,s);if(i.spec_name){let o=t.dataStyles[i.spec_name];if(o!==void 0&&o.renderer==="vega"){if(o.spec)return new RFe.HTMLVegaSpecRenderer(e,r,o.spec);throw new Error(`No spec defined on ${i.spec_name}`)}else throw new Error(`No Vega renderer named ${i.spec_name}`)}else throw new Error(`No top level vega spec defined for ${n.name}`)}else return i.renderer==="time"||n.hasParentExplore()&&n.isAtomicField()&&(n.type===q$.AtomicFieldType.Date||n.type===q$.AtomicFieldType.Timestamp)?new I2t.HTMLDateRenderer(e):i.renderer==="currency"?new R2t.HTMLCurrencyRenderer(e):i.renderer==="percent"?new N2t.HTMLPercentRenderer(e):i.renderer==="number"||n.hasParentExplore()&&n.isAtomicField()&&n.type===q$.AtomicFieldType.Number?new q2t.HTMLNumberRenderer(e):i.renderer==="bytes"?new O2t.HTMLBytesRenderer(e):i.renderer==="boolean"||n.hasParentExplore()&&n.isAtomicField()&&n.type===q$.AtomicFieldType.Boolean?new D2t.HTMLBooleanRenderer(e):i.renderer==="link"||n.name.endsWith("_url")?new P2t.HTMLLinkRenderer(e):i.renderer==="list"||n.name.endsWith("_list")?U$.ContainerRenderer.make(B2t.HTMLListRenderer,e,H$(n),t):i.renderer==="list_detail"||n.name.endsWith("_list_detail")?U$.ContainerRenderer.make(j2t.HTMLListDetailRenderer,e,H$(n),t):i.renderer==="table"||!n.hasParentExplore()||n.isExploreField()?U$.ContainerRenderer.make(V2t.HTMLTableRenderer,e,H$(n),t):new W2t.HTMLTextRenderer(e)}l4.makeRenderer=kFe});var MFe=Ae(CC=>{"use strict";m();Object.defineProperty(CC,"__esModule",{value:!0});CC.JSONView=CC.HTMLView=void 0;var IFe=tue();Object.defineProperty(CC,"HTMLView",{enumerable:!0,get:function(){return IFe.HTMLView}});Object.defineProperty(CC,"JSONView",{enumerable:!0,get:function(){return IFe.JSONView}})});var WFe=Ae(($zt,VFe)=>{m();VFe.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var tDe=Ae((Vzt,eDe)=>{"use strict";m();var W$=Object.prototype.hasOwnProperty,QFe=Object.prototype.toString,GFe=Object.defineProperty,YFe=Object.getOwnPropertyDescriptor,KFe=function(e){return typeof Array.isArray=="function"?Array.isArray(e):QFe.call(e)==="[object Array]"},JFe=function(e){if(!e||QFe.call(e)!=="[object Object]")return!1;var t=W$.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&W$.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return typeof i=="undefined"||W$.call(e,i)},XFe=function(e,t){GFe&&t.name==="__proto__"?GFe(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},ZFe=function(e,t){if(t==="__proto__")if(W$.call(e,t)){if(YFe)return YFe(e,t).value}else return;return e[t]};eDe.exports=function n(){var e,t,r,i,s,o,a=arguments[0],c=1,d=arguments.length,p=!1;for(typeof a=="boolean"&&(p=a,a=arguments[1]||{},c=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});c<d;++c)if(e=arguments[c],e!=null)for(t in e)r=ZFe(a,t),i=ZFe(e,t),a!==i&&(p&&i&&(JFe(i)||(s=KFe(i)))?(s?(s=!1,o=r&&KFe(r)?r:[]):o=r&&JFe(r)?r:{},XFe(a,{name:t,newValue:n(p,o,i)})):typeof i!="undefined"&&XFe(a,{name:t,newValue:i}));return a}});var iDe=Ae((Gzt,rDe)=>{m();rDe.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var YDe=Ae((DWt,GDe)=>{"use strict";m();var zgt={}.hasOwnProperty;GDe.exports=zgt});var JDe=Ae((OWt,KDe)=>{"use strict";m();var Hgt=[].splice;KDe.exports=Hgt});var ZDe=Ae((RWt,XDe)=>{"use strict";m();var que=JDe();function $gt(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),que.apply(n,o);else for(t&&que.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),que.apply(n,o),s+=1e4,e+=1e4}XDe.exports=$gt});var tOe=Ae((NWt,eOe)=>{"use strict";m();function Vgt(n){return n==null?[]:"length"in n?n:[n]}eOe.exports=Vgt});var iOe=Ae((LWt,rOe)=>{"use strict";m();var nOe=YDe(),Wgt=ZDe(),Qgt=tOe();function Ggt(n){for(var e={},t=-1;++t<n.length;)Ygt(e,n[t]);return e}function Ygt(n,e){var t,r,i,s;for(t in e){r=nOe.call(n,t)?n[t]:n[t]={},i=e[t];for(s in i)r[s]=Kgt(Qgt(i[s]),nOe.call(r,s)?r[s]:[])}}function Kgt(n,e){for(var t=-1,r=[];++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);return Wgt(e,0,0,r),e}rOe.exports=Ggt});var oOe=Ae((kWt,sOe)=>{"use strict";m();var Jgt=String.fromCharCode;sOe.exports=Jgt});var yR=Ae((IWt,aOe)=>{"use strict";m();var Xgt=oOe();function Zgt(n){return e;function e(t){return n.test(Xgt(t))}}aOe.exports=Zgt});var lOe=Ae((MWt,uOe)=>{"use strict";m();var eyt=yR(),tyt=eyt(/[A-Za-z]/);uOe.exports=tyt});var fOe=Ae((PWt,cOe)=>{"use strict";m();var nyt=yR(),ryt=nyt(/[\dA-Za-z]/);cOe.exports=ryt});var hOe=Ae((BWt,dOe)=>{"use strict";m();function iyt(n){return n<32||n===127}dOe.exports=iyt});var mOe=Ae((jWt,pOe)=>{"use strict";m();function syt(n){return n<-2}pOe.exports=syt});var gOe=Ae((qWt,xOe)=>{"use strict";m();var oyt=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;xOe.exports=oyt});var vOe=Ae((UWt,yOe)=>{"use strict";m();var ayt=gOe(),uyt=yR(),lyt=uyt(ayt);yOe.exports=lyt});var bOe=Ae((zWt,_Oe)=>{"use strict";m();var cyt=yR(),fyt=cyt(/\s/);_Oe.exports=fyt});var POe=Ae(MOe=>{m();var EOe=lOe(),SOe=fOe(),wOe=hOe(),dyt=mOe(),COe=vOe(),AOe=bOe(),hyt={tokenize:gyt,partial:!0},TOe={tokenize:yyt,partial:!0},FOe={tokenize:vyt,partial:!0},DC={tokenize:byt,partial:!0},DOe={tokenize:_yt,partial:!0},OOe={tokenize:myt,previous:kOe},ROe={tokenize:xyt,previous:zue},Ay={tokenize:pyt,previous:IOe},Lx={};MOe.text=Lx;var Nb=48;for(;Nb<123;)Lx[Nb]=Ay,Nb++,Nb===58?Nb=65:Nb===91&&(Nb=97);Lx[43]=Ay;Lx[45]=Ay;Lx[46]=Ay;Lx[95]=Ay;Lx[72]=[Ay,ROe];Lx[104]=[Ay,ROe];Lx[87]=[Ay,OOe];Lx[119]=[Ay,OOe];function pyt(n,e,t){var r=this,i;return s;function s(w){return!LOe(w)||!IOe(r.previous)||Hue(r.events)?t(w):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),o(w))}function o(w){return LOe(w)?(n.consume(w),o):w===64?(n.consume(w),a):t(w)}function a(w){return w===46?n.check(DC,E,c)(w):w===45||w===95?n.check(DC,t,d)(w):SOe(w)?(n.consume(w),a):E(w)}function c(w){return n.consume(w),i=!0,a}function d(w){return n.consume(w),p}function p(w){return w===46?n.check(DC,t,c)(w):a(w)}function E(w){return i?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(w)):t(w)}}function myt(n,e,t){var r=this;return i;function i(o){return o!==87&&o-32!==87||!kOe(r.previous)||Hue(r.events)?t(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(hyt,n.attempt(TOe,n.attempt(FOe,s),t),t)(o))}function s(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(o)}}function xyt(n,e,t){var r=this;return i;function i(R){return R!==72&&R-32!==72||!zue(r.previous)||Hue(r.events)?t(R):(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),n.consume(R),s)}function s(R){return R===84||R-32===84?(n.consume(R),o):t(R)}function o(R){return R===84||R-32===84?(n.consume(R),a):t(R)}function a(R){return R===80||R-32===80?(n.consume(R),c):t(R)}function c(R){return R===83||R-32===83?(n.consume(R),d):d(R)}function d(R){return R===58?(n.consume(R),p):t(R)}function p(R){return R===47?(n.consume(R),E):t(R)}function E(R){return R===47?(n.consume(R),w):t(R)}function w(R){return wOe(R)||AOe(R)||COe(R)?t(R):n.attempt(TOe,n.attempt(FOe,N),t)(R)}function N(R){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(R)}}function gyt(n,e,t){return r;function r(c){return n.consume(c),i}function i(c){return c===87||c-32===87?(n.consume(c),s):t(c)}function s(c){return c===87||c-32===87?(n.consume(c),o):t(c)}function o(c){return c===46?(n.consume(c),a):t(c)}function a(c){return c===null||dyt(c)?t(c):e(c)}}function yyt(n,e,t){var r,i;return s;function s(c){return c===38?n.check(DOe,a,o)(c):c===46||c===95?n.check(DC,a,o)(c):wOe(c)||AOe(c)||c!==45&&COe(c)?a(c):(n.consume(c),s)}function o(c){return c===46?(i=r,r=void 0,n.consume(c),s):(c===95&&(r=!0),n.consume(c),s)}function a(c){return!i&&!r?e(c):t(c)}}function vyt(n,e){var t=0;return r;function r(o){return o===38?n.check(DOe,e,i)(o):(o===40&&t++,o===41?n.check(DC,s,i)(o):Uue(o)?e(o):NOe(o)?n.check(DC,e,i)(o):(n.consume(o),r))}function i(o){return n.consume(o),r}function s(o){return t--,t<0?e(o):i(o)}}function _yt(n,e,t){return r;function r(o){return n.consume(o),i}function i(o){return EOe(o)?(n.consume(o),i):o===59?(n.consume(o),s):t(o)}function s(o){return Uue(o)?e(o):t(o)}}function byt(n,e,t){return r;function r(s){return n.consume(s),i}function i(s){return NOe(s)?(n.consume(s),i):Uue(s)?e(s):t(s)}}function NOe(n){return n===33||n===34||n===39||n===41||n===42||n===44||n===46||n===58||n===59||n===60||n===63||n===95||n===126}function Uue(n){return n===null||n<0||n===32||n===60}function LOe(n){return n===43||n===45||n===46||n===95||SOe(n)}function kOe(n){return n===null||n<0||n===32||n===40||n===42||n===95||n===126}function zue(n){return n===null||!EOe(n)}function IOe(n){return n!==47&&zue(n)}function Hue(n){for(var e=n.length;e--;)if((n[e][1].type==="labelLink"||n[e][1].type==="labelImage")&&!n[e][1]._balanced)return!0}});var jOe=Ae(($Wt,BOe)=>{m();BOe.exports=POe()});var UOe=Ae((VWt,qOe)=>{"use strict";m();function Eyt(n){return n<0||n===32}qOe.exports=Eyt});var HOe=Ae((WWt,zOe)=>{"use strict";m();var Syt=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;zOe.exports=Syt});var VOe=Ae((QWt,$Oe)=>{"use strict";m();var wyt=String.fromCharCode;$Oe.exports=wyt});var $ue=Ae((GWt,WOe)=>{"use strict";m();var Cyt=VOe();function Ayt(n){return e;function e(t){return n.test(Cyt(t))}}WOe.exports=Ayt});var GOe=Ae((YWt,QOe)=>{"use strict";m();var Tyt=HOe(),Fyt=$ue(),Dyt=Fyt(Tyt);QOe.exports=Dyt});var KOe=Ae((KWt,YOe)=>{"use strict";m();var Oyt=$ue(),Ryt=Oyt(/\s/);YOe.exports=Ryt});var XOe=Ae((JWt,JOe)=>{"use strict";m();var Nyt=UOe(),Lyt=GOe(),kyt=KOe();function Iyt(n){if(n===null||Nyt(n)||kyt(n))return 1;if(Lyt(n))return 2}JOe.exports=Iyt});var eRe=Ae((XWt,ZOe)=>{"use strict";m();var Myt=[].splice;ZOe.exports=Myt});var nRe=Ae((ZWt,tRe)=>{"use strict";m();var Vue=eRe();function Pyt(n,e,t,r){var i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),Vue.apply(n,o);else for(t&&Vue.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),Vue.apply(n,o),s+=1e4,e+=1e4}tRe.exports=Pyt});var iRe=Ae((eQt,rRe)=>{"use strict";m();function Byt(n,e,t){for(var r=[],i=-1,s;++i<n.length;)s=n[i].resolveAll,s&&r.indexOf(s)<0&&(e=s(e,t),r.push(s));return e}rRe.exports=Byt});var oRe=Ae((tQt,sRe)=>{"use strict";m();var jyt=Object.assign;sRe.exports=jyt});var uRe=Ae((nQt,aRe)=>{"use strict";m();var qyt=oRe();function Uyt(n){return qyt({},n)}aRe.exports=Uyt});var fRe=Ae((rQt,cRe)=>{m();cRe.exports=Hyt;var lRe=XOe(),Wue=nRe(),zyt=iRe(),iV=uRe();function Hyt(n){var e=n||{},t=e.singleTilde,r={tokenize:o,resolveAll:i};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:r}};function i(a,c){for(var d=-1,p,E,w,N;++d<a.length;)if(a[d][0]==="enter"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._close){for(w=d;w--;)if(a[w][0]==="exit"&&a[w][1].type==="strikethroughSequenceTemporary"&&a[w][1]._open&&a[d][1].end.offset-a[d][1].start.offset===a[w][1].end.offset-a[w][1].start.offset){a[d][1].type="strikethroughSequence",a[w][1].type="strikethroughSequence",p={type:"strikethrough",start:iV(a[w][1].start),end:iV(a[d][1].end)},E={type:"strikethroughText",start:iV(a[w][1].end),end:iV(a[d][1].start)},N=[["enter",p,c],["enter",a[w][1],c],["exit",a[w][1],c],["enter",E,c]],Wue(N,N.length,0,zyt(c.parser.constructs.insideSpan.null,a.slice(w+1,d),c)),Wue(N,N.length,0,[["exit",E,c],["enter",a[d][1],c],["exit",a[d][1],c],["exit",p,c]]),Wue(a,w-1,d-w+3,N),d=w+N.length-2;break}}return s(a)}function s(a){for(var c=-1,d=a.length;++c<d;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function o(a,c,d){var p=this.previous,E=this.events,w=0;return N;function N(U){return U!==126||p===126&&E[E.length-1][1].type!=="characterEscape"?d(U):(a.enter("strikethroughSequenceTemporary"),R(U))}function R(U){var Q=lRe(p),P,j;return U===126?w>1?d(U):(a.consume(U),w++,R):w<2&&!t?d(U):(P=a.exit("strikethroughSequenceTemporary"),j=lRe(U),P._open=!j||j===2&&Q,P._close=!Q||Q===2&&j,c(U))}}}});var hRe=Ae((iQt,dRe)=>{"use strict";m();function $yt(n){return n===-2||n===-1||n===32}dRe.exports=$yt});var xRe=Ae((sQt,mRe)=>{"use strict";m();var pRe=hRe();function Vyt(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(c){return pRe(c)?(n.enter(t),a(c)):e(c)}function a(c){return pRe(c)&&s++<i?(n.consume(c),a):(n.exit(t),e(c))}}mRe.exports=Vyt});var vRe=Ae(yRe=>{m();yRe.flow={null:{tokenize:Gyt,resolve:Qyt,interruptible:!0}};var Que=xRe(),Wyt={tokenize:Yyt,partial:!0},gRe={tokenize:Kyt,partial:!0};function Qyt(n,e){for(var t=n.length,r=-1,i,s,o,a,c,d,p,E,w,N;++r<t;)i=n[r][1],a&&(i.type==="temporaryTableCellContent"&&(E=E||r,w=r),(i.type==="tableCellDivider"||i.type==="tableRow")&&w&&(d={type:"tableContent",start:n[E][1].start,end:n[w][1].end},p={type:"chunkText",start:d.start,end:d.end,contentType:"text"},n.splice(E,w-E+1,["enter",d,e],["enter",p,e],["exit",p,e],["exit",d,e]),r-=w-E-3,t=n.length,E=void 0,w=void 0)),n[r][0]==="exit"&&N&&N+1<r&&(i.type==="tableCellDivider"||i.type==="tableRow"&&(N+3<r||n[N][1].type!=="whitespace"))&&(c={type:o?"tableDelimiter":s?"tableHeader":"tableData",start:n[N][1].start,end:n[r][1].end},n.splice(r+(i.type==="tableCellDivider"?1:0),0,["exit",c,e]),n.splice(N,0,["enter",c,e]),r+=2,t=n.length,N=r+1),i.type==="tableRow"&&(a=n[r][0]==="enter",a&&(N=r+1)),i.type==="tableDelimiterRow"&&(o=n[r][0]==="enter",o&&(N=r+1)),i.type==="tableHead"&&(s=n[r][0]==="enter");return n}function Gyt(n,e,t){var r=[],i=0,s,o;return a;function a(te){return te===null||te===-5||te===-4||te===-3?t(te):(n.enter("table")._align=r,n.enter("tableHead"),n.enter("tableRow"),te===124?c(te):(i++,n.enter("temporaryTableCellContent"),E(te)))}function c(te){return n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),s=!0,d}function d(te){return te===null||te===-5||te===-4||te===-3?N(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),p):(s&&(s=void 0,i++),te===124?c(te):(n.enter("temporaryTableCellContent"),E(te)))}function p(te){return te===-2||te===-1||te===32?(n.consume(te),p):(n.exit("whitespace"),d(te))}function E(te){return te===null||te<0||te===32||te===124?(n.exit("temporaryTableCellContent"),d(te)):(n.consume(te),te===92?w:E)}function w(te){return te===92||te===124?(n.consume(te),E):E(te)}function N(te){return te===null?t(te):(n.exit("tableRow"),n.exit("tableHead"),n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),n.check(Wyt,t,Que(n,R,"linePrefix",4)))}function R(te){return te===null||te<0||te===32?t(te):(n.enter("tableDelimiterRow"),U(te))}function U(te){return te===null||te===-5||te===-4||te===-3?K(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),Q):te===45?(n.enter("tableDelimiterFiller"),n.consume(te),o=!0,r.push(null),P):te===58?(n.enter("tableDelimiterAlignment"),n.consume(te),n.exit("tableDelimiterAlignment"),r.push("left"),j):te===124?(n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),U):t(te)}function Q(te){return te===-2||te===-1||te===32?(n.consume(te),Q):(n.exit("whitespace"),U(te))}function P(te){return te===45?(n.consume(te),P):(n.exit("tableDelimiterFiller"),te===58?(n.enter("tableDelimiterAlignment"),n.consume(te),n.exit("tableDelimiterAlignment"),r[r.length-1]=r[r.length-1]==="left"?"center":"right",I):U(te))}function j(te){return te===45?(n.enter("tableDelimiterFiller"),n.consume(te),o=!0,P):t(te)}function I(te){return te===null||te===-5||te===-4||te===-3?K(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),Q):te===124?(n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),U):t(te)}function K(te){return n.exit("tableDelimiterRow"),!o||i!==r.length?t(te):te===null?de(te):n.check(gRe,de,M)(te)}function de(te){return n.exit("table"),e(te)}function M(te){return n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),Que(n,Z,"linePrefix",4)}function Z(te){return n.enter("tableBody"),me(te)}function me(te){return n.enter("tableRow"),te===124?_e(te):(n.enter("temporaryTableCellContent"),lt(te))}function _e(te){return n.enter("tableCellDivider"),n.consume(te),n.exit("tableCellDivider"),Ve}function Ve(te){return te===null||te===-5||te===-4||te===-3?St(te):te===-2||te===-1||te===32?(n.enter("whitespace"),n.consume(te),at):te===124?_e(te):(n.enter("temporaryTableCellContent"),lt(te))}function at(te){return te===-2||te===-1||te===32?(n.consume(te),at):(n.exit("whitespace"),Ve(te))}function lt(te){return te===null||te<0||te===32||te===124?(n.exit("temporaryTableCellContent"),Ve(te)):(n.consume(te),te===92?Ke:lt)}function Ke(te){return te===92||te===124?(n.consume(te),lt):lt(te)}function St(te){return n.exit("tableRow"),te===null?Ft(te):n.check(gRe,Ft,je)(te)}function Ft(te){return n.exit("tableBody"),de(te)}function je(te){return n.enter("lineEnding"),n.consume(te),n.exit("lineEnding"),Que(n,me,"linePrefix",4)}}function Yyt(n,e,t){return r;function r(o){return o!==45?t(o):(n.enter("setextUnderline"),i(o))}function i(o){return o===45?(n.consume(o),i):s(o)}function s(o){return o===-2||o===-1||o===32?(n.consume(o),s):o===null||o===-5||o===-4||o===-3?e(o):t(o)}}function Kyt(n,e,t){var r=0;return i;function i(o){return n.enter("check"),n.consume(o),s}function s(o){return o===-1||o===32?(n.consume(o),r++,r===4?e:s):o===null||o<0?e(o):t(o)}}});var bRe=Ae((aQt,_Re)=>{m();_Re.exports=vRe()});var SRe=Ae((uQt,ERe)=>{"use strict";m();function Jyt(n){return n<0||n===32}ERe.exports=Jyt});var CRe=Ae((lQt,wRe)=>{"use strict";m();function Xyt(n){return n===-2||n===-1||n===32}wRe.exports=Xyt});var FRe=Ae((cQt,TRe)=>{"use strict";m();var ARe=CRe();function Zyt(n,e,t,r){var i=r?r-1:1/0,s=0;return o;function o(c){return ARe(c)?(n.enter(t),a(c)):e(c)}function a(c){return ARe(c)&&s++<i?(n.consume(c),a):(n.exit(t),e(c))}}TRe.exports=Zyt});var ORe=Ae((fQt,DRe)=>{"use strict";m();function e3t(n){for(var e=-1,t=0;++e<n.length;)t+=typeof n[e]=="string"?n[e].length:1;return t}DRe.exports=e3t});var NRe=Ae((dQt,RRe)=>{"use strict";m();var t3t=ORe();function n3t(n,e){var t=n[n.length-1];return!t||t[1].type!==e?0:t3t(t[2].sliceStream(t[1]))}RRe.exports=n3t});var kRe=Ae(LRe=>{m();var r3t=SRe(),i3t=FRe(),s3t=NRe(),o3t={tokenize:a3t};LRe.text={91:o3t};function a3t(n,e,t){var r=this;return i;function i(a){return a!==91||r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(a):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),s)}function s(a){return a===-2||a===32?(n.enter("taskListCheckValueUnchecked"),n.consume(a),n.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(n.enter("taskListCheckValueChecked"),n.consume(a),n.exit("taskListCheckValueChecked"),o):t(a)}function o(a){return a===93?(n.enter("taskListCheckMarker"),n.consume(a),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),n.check({tokenize:u3t},e,t)):t(a)}}function u3t(n,e,t){var r=this;return i3t(n,i,"whitespace");function i(s){return s3t(r.events,"whitespace")&&s!==null&&!r3t(s)?e(s):t(s)}}});var MRe=Ae((pQt,IRe)=>{m();IRe.exports=kRe()});var BRe=Ae((mQt,PRe)=>{m();var l3t=iOe(),c3t=jOe(),f3t=fRe(),d3t=bRe(),h3t=MRe();PRe.exports=p3t;function p3t(n){return l3t([c3t,f3t(n),d3t,h3t])}});var qRe=Ae((xQt,jRe)=>{m();jRe.exports=BRe()});var zRe=Ae((gQt,URe)=>{"use strict";m();URe.exports=m3t;function m3t(n,e){var t=String(n),r=0,i;if(typeof e!="string")throw new Error("Expected character");for(i=t.indexOf(e);i!==-1;)r++,i=t.indexOf(e,i+e.length);return r}});var Gue=Ae((yQt,$Re)=>{"use strict";m();$Re.exports=HRe;function HRe(n){if(n==null)return v3t;if(typeof n=="string")return y3t(n);if(typeof n=="object")return"length"in n?g3t(n):x3t(n);if(typeof n=="function")return n;throw new Error("Expected function, string, or object as test")}function x3t(n){return e;function e(t){var r;for(r in n)if(t[r]!==n[r])return!1;return!0}}function g3t(n){for(var e=[],t=-1;++t<n.length;)e[t]=HRe(n[t]);return r;function r(){for(var i=-1;++i<e.length;)if(e[i].apply(this,arguments))return!0;return!1}}function y3t(n){return e;function e(t){return Boolean(t&&t.type===n)}}function v3t(){return!0}});var WRe=Ae((vQt,VRe)=>{m();VRe.exports=_3t;function _3t(n){return n}});var KRe=Ae((_Qt,YRe)=>{"use strict";m();YRe.exports=sV;var b3t=Gue(),E3t=WRe(),QRe=!0,GRe="skip",Yue=!1;sV.CONTINUE=QRe;sV.SKIP=GRe;sV.EXIT=Yue;function sV(n,e,t,r){var i,s;typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),s=b3t(e),i=r?-1:1,o(n,null,[])();function o(a,c,d){var p=typeof a=="object"&&a!==null?a:{},E;return typeof p.type=="string"&&(E=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0,w.displayName="node ("+E3t(p.type+(E?"<"+E+">":""))+")"),w;function w(){var N=d.concat(a),R=[],U,Q;if((!e||s(a,c,d[d.length-1]||null))&&(R=S3t(t(a,d)),R[0]===Yue))return R;if(a.children&&R[0]!==GRe)for(Q=(r?a.children.length:-1)+i;Q>-1&&Q<a.children.length;){if(U=o(a.children[Q],Q,N)(),U[0]===Yue)return U;Q=typeof U[1]=="number"?U[1]:Q+i}return R}}}function S3t(n){return n!==null&&typeof n=="object"&&"length"in n?n:typeof n=="number"?[QRe,n]:[n]}});var XRe=Ae((bQt,JRe)=>{"use strict";m();JRe.exports=n=>{if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}});var rNe=Ae((EQt,nNe)=>{"use strict";m();nNe.exports=F3t;var w3t=KRe(),C3t=Gue(),A3t=XRe(),T3t=[].splice;function F3t(n,e,t,r){var i,s;return typeof e=="string"||e&&typeof e.exec=="function"?s=[[e,t]]:(s=e,r=t),i=r||{},ZRe(n,i,o(D3t(s))),n;function o(a){var c=a[0];return d;function d(p,E){var w=c[0],N=c[1],R=[],U=0,Q=E.children.indexOf(p),P,j,I,K;for(w.lastIndex=0,j=w.exec(p.value);j&&(P=j.index,K=N.apply(null,[].concat(j,{index:j.index,input:j.input})),K!==!1&&(U!==P&&R.push({type:"text",value:p.value.slice(U,P)}),typeof K=="string"&&K.length>0&&(K={type:"text",value:K}),K&&(R=[].concat(R,K)),U=P+j[0].length),!!w.global);)j=w.exec(p.value);if(P===void 0?(R=[p],Q--):(U<p.value.length&&R.push({type:"text",value:p.value.slice(U)}),R.unshift(Q,1),T3t.apply(E.children,R)),a.length>1)for(I=o(a.slice(1)),P=-1;++P<R.length;)p=R[P],p.type==="text"?I(p,E):ZRe(p,i,I);return Q+R.length+1}}}function ZRe(n,e,t){var r=C3t(e.ignore||[]),i=[];return w3t(n,"text",s),i;function s(o,a){for(var c=-1,d,p;++c<a.length;){if(d=a[c],r(d,p?p.children.indexOf(d):void 0,p))return;p=d}return t(o,p)}}function D3t(n){var e=[],t,r;if(typeof n!="object")throw new Error("Expected array or object as schema");if("length"in n)for(r=-1;++r<n.length;)e.push([eNe(n[r][0]),tNe(n[r][1])]);else for(t in n)e.push([eNe(t),tNe(n[t])]);return e}function eNe(n){return typeof n=="string"?new RegExp(A3t(n),"g"):n}function tNe(n){return typeof n=="function"?n:e;function e(){return n}}});var sNe=Ae((SQt,iNe)=>{"use strict";m();var O3t=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;iNe.exports=O3t});var aNe=Ae((wQt,oNe)=>{"use strict";m();var R3t=String.fromCharCode;oNe.exports=R3t});var Kue=Ae((CQt,uNe)=>{"use strict";m();var N3t=aNe();function L3t(n){return e;function e(t){return n.test(N3t(t))}}uNe.exports=L3t});var cNe=Ae((AQt,lNe)=>{"use strict";m();var k3t=sNe(),I3t=Kue(),M3t=I3t(k3t);lNe.exports=M3t});var dNe=Ae((TQt,fNe)=>{"use strict";m();var P3t=Kue(),B3t=P3t(/\s/);fNe.exports=B3t});var mNe=Ae(oV=>{m();var hNe=zRe(),j3t=rNe(),q3t=cNe(),U3t=dNe();oV.transforms=[Q3t];oV.enter={literalAutolink:z3t,literalAutolinkEmail:Jue,literalAutolinkHttp:Jue,literalAutolinkWww:Jue};oV.exit={literalAutolink:W3t,literalAutolinkEmail:V3t,literalAutolinkHttp:H3t,literalAutolinkWww:$3t};function z3t(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function Jue(n){this.config.enter.autolinkProtocol.call(this,n)}function H3t(n){this.config.exit.autolinkProtocol.call(this,n)}function $3t(n){this.config.exit.data.call(this,n),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(n)}function V3t(n){this.config.exit.autolinkEmail.call(this,n)}function W3t(n){this.exit(n)}function Q3t(n){j3t(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/i,G3t],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/,Y3t]],{ignore:["link","linkReference"]})}function G3t(n,e,t,r,i){var s="",o,a;return!pNe(i)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!K3t(t))||(o=J3t(t+r),!o[0])?!1:(a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]},o[1]&&(a=[a,{type:"text",value:o[1]}]),a)}function Y3t(n,e,t,r){return!pNe(r,!0)||/[_-]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function K3t(n){var e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function J3t(n){var e=/[!"&'),.:;<>?\]}]+$/.exec(n),t,r,i;if(e)for(n=n.slice(0,e.index),e=e[0],t=e.indexOf(")"),r=hNe(n,"("),i=hNe(n,")");t!==-1&&r>i;)n+=e.slice(0,t+1),e=e.slice(t+1),t=e.indexOf(")"),i++;return[n,e]}function pNe(n,e){var t=n.input.charCodeAt(n.index-1);return(t!==t||U3t(t)||q3t(t))&&(!e||t!==47)}});var xNe=Ae(aV=>{m();aV.canContainEols=["delete"];aV.enter={strikethrough:X3t};aV.exit={strikethrough:Z3t};function X3t(n){this.enter({type:"delete",children:[]},n)}function Z3t(n){this.exit(n)}});var yNe=Ae(Zue=>{m();Zue.enter={table:evt,tableData:gNe,tableHeader:gNe,tableRow:nvt};Zue.exit={codeText:rvt,table:tvt,tableData:Xue,tableHeader:Xue,tableRow:Xue};function evt(n){this.enter({type:"table",align:n._align,children:[]},n),this.setData("inTable",!0)}function tvt(n){this.exit(n),this.setData("inTable")}function nvt(n){this.enter({type:"tableRow",children:[]},n)}function Xue(n){this.exit(n)}function gNe(n){this.enter({type:"tableCell",children:[]},n)}function rvt(n){var e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,ivt)),this.stack[this.stack.length-1].value=e,this.exit(n)}function ivt(n,e){return e==="|"?e:n}});var bNe=Ae(_Ne=>{m();_Ne.exit={taskListCheckValueChecked:vNe,taskListCheckValueUnchecked:vNe,paragraph:svt};function vNe(n){this.stack[this.stack.length-2].checked=n.type==="taskListCheckValueChecked"}function svt(n){var e=this.stack[this.stack.length-2],t=this.stack[this.stack.length-1],r=e.children,i=t.children[0],s=-1,o;if(e&&e.type==="listItem"&&typeof e.checked=="boolean"&&i&&i.type==="text"){for(;++s<r.length;)if(r[s].type==="paragraph"){o=r[s];break}o===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}this.exit(n)}});var SNe=Ae((NQt,ENe)=>{m();var ovt=mNe(),avt=xNe(),uvt=yNe(),lvt=bNe(),cvt={}.hasOwnProperty;ENe.exports=fvt([ovt,avt,uvt,lvt]);function fvt(n){for(var e={transforms:[],canContainEols:[]},t=n.length,r=-1;++r<t;)dvt(e,n[r]);return e}function dvt(n,e){var t,r,i;for(t in e)r=cvt.call(n,t)?n[t]:n[t]={},i=e[t],t==="canContainEols"||t==="transforms"?n[t]=[].concat(r,i):Object.assign(r,i)}});var CNe=Ae(wNe=>{m();var ele="phrasing",tle=["autolink","link","image","label"];wNe.unsafe=[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ele,notInConstruct:tle},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ele,notInConstruct:tle},{character:":",before:"[ps]",after:"\\/",inConstruct:ele,notInConstruct:tle}]});var TNe=Ae((kQt,ANe)=>{m();ANe.exports=hvt;function hvt(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,c,d;++s<r.length;)d=r[s],s+1<r.length?(c=e.handle.handlers[r[s+1].type],c&&c.peek&&(c=c.peek),a=c?c(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&d.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(d,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var DNe=Ae(nle=>{m();var pvt=TNe();nle.unsafe=[{character:"~",inConstruct:"phrasing"}];nle.handlers={delete:FNe};FNe.peek=mvt;function FNe(n,e,t){var r=t.enter("emphasis"),i=pvt(n,t,{before:"~",after:"~"});return r(),"~~"+i+"~~"}function mvt(){return"~"}});var RNe=Ae((MQt,ONe)=>{m();ONe.exports=xvt;function xvt(n,e,t){for(var r=n.children||[],i=[],s=-1,o=t.before,a,c,d;++s<r.length;)d=r[s],s+1<r.length?(c=e.handle.handlers[r[s+1].type],c&&c.peek&&(c=c.peek),a=c?c(r[s+1],n,e,{before:"",after:""}).charAt(0):""):a=t.after,i.length>0&&(o==="\r"||o===`
`)&&d.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(d,n,e,{before:o,after:a})),o=i[i.length-1].slice(-1);return i.join("")}});var LNe=Ae((PQt,NNe)=>{m();NNe.exports=gvt;function gvt(n){var e,t;return n._compiled||(e=n.before?"(?:"+n.before+")":"",t=n.after?"(?:"+n.after+")":"",n.atBreak&&(e="[\\r\\n][\\t ]*"+e),n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(t||""),"g")),n._compiled}});var MNe=Ae((BQt,INe)=>{m();INe.exports=kNe;kNe.peek=vvt;var yvt=LNe();function kNe(n,e,t){for(var r=n.value||"",i="`",s=-1,o,a,c,d;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/[ \r\n`]/.test(r.charAt(0))||/[ \r\n`]/.test(r.charAt(r.length-1)))&&(r=" "+r+" ");++s<t.unsafe.length;)if(o=t.unsafe[s],!!o.atBreak)for(a=yvt(o);c=a.exec(r);)d=c.index,r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(c.index+1);return i+r+i}function vvt(){return"`"}});var uV=Ae((jQt,PNe)=>{"use strict";m();var Ty="",rle;PNe.exports=_vt;function _vt(n,e){if(typeof n!="string")throw new TypeError("expected a string");if(e===1)return n;if(e===2)return n+n;var t=n.length*e;if(rle!==n||typeof rle=="undefined")rle=n,Ty="";else if(Ty.length>=t)return Ty.substr(0,t);for(;t>Ty.length&&e>1;)e&1&&(Ty+=n),e>>=1,n+=n;return Ty+=n,Ty=Ty.substr(0,t),Ty}});var zNe=Ae((qQt,UNe)=>{"use strict";m();var OC=uV();UNe.exports=Tvt;var bvt=/ +$/,Lb=" ",Evt=`
`,Svt="-",lV=":",BNe="|",jNe=0,wvt=67,Cvt=76,Avt=82,cV=99,ile=108,fV=114;function Tvt(n,e){for(var t=e||{},r=t.padding!==!1,i=t.delimiterStart!==!1,s=t.delimiterEnd!==!1,o=(t.align||[]).concat(),a=t.alignDelimiters!==!1,c=[],d=t.stringLength||Dvt,p=-1,E=n.length,w=[],N=[],R=[],U=[],Q=[],P=0,j,I,K,de,M,Z,me,_e,Ve,at,lt;++p<E;){for(j=n[p],I=-1,K=j.length,R=[],U=[],K>P&&(P=K);++I<K;)Z=Fvt(j[I]),a===!0&&(M=d(Z),U[I]=M,de=Q[I],(de===void 0||M>de)&&(Q[I]=M)),R.push(Z);w[p]=R,N[p]=U}if(I=-1,K=P,typeof o=="object"&&"length"in o)for(;++I<K;)c[I]=qNe(o[I]);else for(lt=qNe(o);++I<K;)c[I]=lt;for(I=-1,K=P,R=[],U=[];++I<K;)lt=c[I],Ve="",at="",lt===ile?Ve=lV:lt===fV?at=lV:lt===cV&&(Ve=lV,at=lV),M=a?Math.max(1,Q[I]-Ve.length-at.length):1,Z=Ve+OC(Svt,M)+at,a===!0&&(M=Ve.length+M+at.length,M>Q[I]&&(Q[I]=M),U[I]=M),R[I]=Z;for(w.splice(1,0,R),N.splice(1,0,U),p=-1,E=w.length,me=[];++p<E;){for(R=w[p],U=N[p],I=-1,K=P,_e=[];++I<K;)Z=R[I]||"",Ve="",at="",a===!0&&(M=Q[I]-(U[I]||0),lt=c[I],lt===fV?Ve=OC(Lb,M):lt===cV?M%2===0?(Ve=OC(Lb,M/2),at=Ve):(Ve=OC(Lb,M/2+.5),at=OC(Lb,M/2-.5)):at=OC(Lb,M)),i===!0&&I===0&&_e.push(BNe),r===!0&&!(a===!1&&Z==="")&&(i===!0||I!==0)&&_e.push(Lb),a===!0&&_e.push(Ve),_e.push(Z),a===!0&&_e.push(at),r===!0&&_e.push(Lb),(s===!0||I!==K-1)&&_e.push(BNe);_e=_e.join(""),s===!1&&(_e=_e.replace(bvt,"")),me.push(_e)}return me.join(Evt)}function Fvt(n){return n==null?"":String(n)}function Dvt(n){return n.length}function qNe(n){var e=typeof n=="string"?n.charCodeAt(0):jNe;return e===Cvt||e===ile?ile:e===Avt||e===fV?fV:e===wvt||e===cV?cV:jNe}});var $Ne=Ae((UQt,HNe)=>{m();var Ovt=RNe(),Rvt=MNe(),Nvt=zNe();HNe.exports=Lvt;function Lvt(n){var e=n||{},t=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:o,tableRow:a,tableCell:c,inlineCode:w}};function o(N,R,U){return d(p(N,U),N.align)}function a(N,R,U){var Q=E(N,U),P=d([Q]);return P.slice(0,P.indexOf(`
`))}function c(N,R,U){var Q=U.enter("tableCell"),P=Ovt(N,U,{before:s,after:s});return Q(),P}function d(N,R){return Nvt(N,{align:R,alignDelimiters:r,padding:t,stringLength:i})}function p(N,R){for(var U=N.children,Q=-1,P=U.length,j=[],I=R.enter("table");++Q<P;)j[Q]=E(U[Q],R);return I(),j}function E(N,R){for(var U=N.children,Q=-1,P=U.length,j=[],I=R.enter("tableRow");++Q<P;)j[Q]=c(U[Q],N,R);return I(),j}function w(N,R,U){var Q=Rvt(N,R,U);return U.stack.indexOf("tableCell")!==-1&&(Q=Q.replace(/\|/g,"\\$&")),Q}}});var WNe=Ae((zQt,VNe)=>{m();VNe.exports=kvt;function kvt(n){var e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}});var GNe=Ae((HQt,QNe)=>{m();QNe.exports=Ivt;function Ivt(n){var e=n.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}});var KNe=Ae(($Qt,YNe)=>{m();YNe.exports=Pvt;var Mvt=uV();function Pvt(n,e){for(var t=n.children||[],r=[],i=-1,s;++i<t.length;)s=t[i],r.push(e.handle(s,n,e,{before:`
`,after:`
`})),i+1<t.length&&r.push(o(s,t[i+1]));return r.join("");function o(a,c){for(var d=-1,p;++d<e.join.length&&(p=e.join[d](a,c,n,e),!(p===!0||p===1));){if(typeof p=="number")return Mvt(`
`,1+Number(p));if(p===!1)return`

<!---->

`}return`

`}}});var XNe=Ae((VQt,JNe)=>{m();JNe.exports=jvt;var Bvt=/\r?\n|\r/g;function jvt(n,e){for(var t=[],r=0,i=0,s;s=Bvt.exec(n);)o(n.slice(r,s.index)),t.push(s[0]),r=s.index+s[0].length,i++;return o(n.slice(r)),t.join("");function o(a){t.push(e(a,i,!a))}}});var tLe=Ae((WQt,eLe)=>{m();eLe.exports=$vt;var ZNe=uV(),qvt=WNe(),Uvt=GNe(),zvt=KNe(),Hvt=XNe();function $vt(n,e,t){var r=qvt(t),i=Uvt(t),s,o,a;return e&&e.ordered&&(r=(e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+"."),s=r.length+1,(i==="tab"||i==="mixed"&&(e&&e.spread||n.spread))&&(s=Math.ceil(s/4)*4),a=t.enter("listItem"),o=Hvt(zvt(n,t),c),a(),o;function c(d,p,E){return p?(E?"":ZNe(" ",s))+d:(E?r:r+ZNe(" ",s-r.length))+d}}});var nLe=Ae(sle=>{m();var Vvt=tLe();sle.unsafe=[{atBreak:!0,character:"-",after:"[:|-]"}];sle.handlers={listItem:Wvt};function Wvt(n,e,t){var r=Vvt(n,e,t),i=n.children[0];return typeof n.checked=="boolean"&&i&&i.type==="paragraph"&&(r=r.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,s)),r;function s(o){return o+"["+(n.checked?"x":" ")+"] "}}});var sLe=Ae((GQt,iLe)=>{m();iLe.exports=rLe;function rLe(n,e){var t=-1,r;if(e.extensions)for(;++t<e.extensions.length;)rLe(n,e.extensions[t]);for(r in e)r==="extensions"||(r==="unsafe"||r==="join"?n[r]=n[r].concat(e[r]||[]):r==="handlers"?n[r]=Object.assign(n[r],e[r]||{}):n.options[r]=e[r]);return n}});var aLe=Ae((YQt,oLe)=>{m();var Qvt=CNe(),Gvt=DNe(),Yvt=$Ne(),Kvt=nLe(),Jvt=sLe();oLe.exports=Xvt;function Xvt(n){var e=Jvt({handlers:{},join:[],unsafe:[],options:{}},{extensions:[Qvt,Gvt,Yvt(n),Kvt]});return Object.assign(e.options,{handlers:e.handlers,join:e.join,unsafe:e.unsafe})}});var cLe=Ae((KQt,lLe)=>{"use strict";m();var Zvt=qRe(),e5t=SNe(),t5t=aLe(),uLe;lLe.exports=n5t;function n5t(n){var e=this.data();!uLe&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(uLe=!0,console.warn("[remark-gfm] Warning: please upgrade to remark 13 to use this plugin")),t("micromarkExtensions",Zvt(n)),t("fromMarkdownExtensions",e5t),t("toMarkdownExtensions",t5t(n));function t(r,i){e[r]?e[r].push(i):e[r]=[i]}}});var $Le={};RQ($Le,{getCLS:()=>o4t,getFCP:()=>jLe,getFID:()=>l4t,getLCP:()=>c4t,getTTFB:()=>f4t});var x4,bR,MLe,xV,Fy,gV,yV,ER,g4,SR,PLe,BLe,gle,jLe,qLe,yle,o4t,wR,a4t,ULe,zLe,u4t,HLe,l4t,vle,c4t,f4t,VLe=OQ(()=>{m();Fy=function(n,e){return{name:n,value:e===void 0?-1:e,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},gV=function(n,e){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if(n==="first-input"&&!("PerformanceEventTiming"in self))return;var t=new PerformanceObserver(function(r){return r.getEntries().map(e)});return t.observe({type:n,buffered:!0}),t}}catch{}},yV=function(n,e){var t=function r(i){i.type!=="pagehide"&&document.visibilityState!=="hidden"||(n(i),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},ER=function(n){addEventListener("pageshow",function(e){e.persisted&&n(e)},!0)},g4=function(n,e,t){var r;return function(i){e.value>=0&&(i||t)&&(e.delta=e.value-(r||0),(e.delta||r===void 0)&&(r=e.value,n(e)))}},SR=-1,PLe=function(){return document.visibilityState==="hidden"?0:1/0},BLe=function(){yV(function(n){var e=n.timeStamp;SR=e},!0)},gle=function(){return SR<0&&(SR=PLe(),BLe(),ER(function(){setTimeout(function(){SR=PLe(),BLe()},0)})),{get firstHiddenTime(){return SR}}},jLe=function(n,e){var t,r=gle(),i=Fy("FCP"),s=function(c){c.name==="first-contentful-paint"&&(a&&a.disconnect(),c.startTime<r.firstHiddenTime&&(i.value=c.startTime,i.entries.push(c),t(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=o?null:gV("paint",s);(o||a)&&(t=g4(n,i,e),o&&s(o),ER(function(c){i=Fy("FCP"),t=g4(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-c.timeStamp,t(!0)})})}))},qLe=!1,yle=-1,o4t=function(n,e){qLe||(jLe(function(d){yle=d.value}),qLe=!0);var t,r=function(d){yle>-1&&n(d)},i=Fy("CLS",0),s=0,o=[],a=function(d){if(!d.hadRecentInput){var p=o[0],E=o[o.length-1];s&&d.startTime-E.startTime<1e3&&d.startTime-p.startTime<5e3?(s+=d.value,o.push(d)):(s=d.value,o=[d]),s>i.value&&(i.value=s,i.entries=o,t())}},c=gV("layout-shift",a);c&&(t=g4(r,i,e),yV(function(){c.takeRecords().map(a),t(!0)}),ER(function(){s=0,yle=-1,i=Fy("CLS",0),t=g4(r,i,e)}))},wR={passive:!0,capture:!0},a4t=new Date,ULe=function(n,e){x4||(x4=e,bR=n,MLe=new Date,HLe(removeEventListener),zLe())},zLe=function(){if(bR>=0&&bR<MLe-a4t){var n={entryType:"first-input",name:x4.type,target:x4.target,cancelable:x4.cancelable,startTime:x4.timeStamp,processingStart:x4.timeStamp+bR};xV.forEach(function(e){e(n)}),xV=[]}},u4t=function(n){if(n.cancelable){var e=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;n.type=="pointerdown"?function(t,r){var i=function(){ULe(t,r),o()},s=function(){o()},o=function(){removeEventListener("pointerup",i,wR),removeEventListener("pointercancel",s,wR)};addEventListener("pointerup",i,wR),addEventListener("pointercancel",s,wR)}(e,n):ULe(e,n)}},HLe=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return n(e,u4t,wR)})},l4t=function(n,e){var t,r=gle(),i=Fy("FID"),s=function(a){a.startTime<r.firstHiddenTime&&(i.value=a.processingStart-a.startTime,i.entries.push(a),t(!0))},o=gV("first-input",s);t=g4(n,i,e),o&&yV(function(){o.takeRecords().map(s),o.disconnect()},!0),o&&ER(function(){var a;i=Fy("FID"),t=g4(n,i,e),xV=[],bR=-1,x4=null,HLe(addEventListener),a=s,xV.push(a),zLe()})},vle={},c4t=function(n,e){var t,r=gle(),i=Fy("LCP"),s=function(c){var d=c.startTime;d<r.firstHiddenTime&&(i.value=d,i.entries.push(c),t())},o=gV("largest-contentful-paint",s);if(o){t=g4(n,i,e);var a=function(){vle[i.id]||(o.takeRecords().map(s),o.disconnect(),vle[i.id]=!0,t(!0))};["keydown","click"].forEach(function(c){addEventListener(c,a,{once:!0,capture:!0})}),yV(a,!0),ER(function(c){i=Fy("LCP"),t=g4(n,i,e),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-c.timeStamp,vle[i.id]=!0,t(!0)})})})}},f4t=function(n){var e,t=Fy("TTFB");e=function(){try{var r=performance.getEntriesByType("navigation")[0]||function(){var i=performance.timing,s={entryType:"navigation",startTime:0};for(var o in i)o!=="navigationStart"&&o!=="toJSON"&&(s[o]=Math.max(i[o]-i.navigationStart,0));return s}();if(t.value=t.delta=r.responseStart,t.value<0||t.value>performance.now())return;t.entries=[r],n(t)}catch{}},document.readyState==="complete"?setTimeout(e,0):addEventListener("load",function(){return setTimeout(e,0)})}});m();var CR=xr(Lr()),QLe=xr(jk());m();m();m();m();m();m();m();function AA(n,e){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AA(n,e)}function kh(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,AA(n,e)}m();var Cp=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}();m();m();function qs(){return qs=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qs.apply(this,arguments)}var r_=typeof window=="undefined";function ul(){}function Vde(n,e){return typeof n=="function"?n(e):n}function TA(n){return typeof n=="number"&&n>=0&&n!==1/0}function FA(n){return Array.isArray(n)?n:[n]}function qk(n,e){return Math.max(n+(e||0)-Date.now(),0)}function YE(n,e,t){return RA(n)?typeof e=="function"?qs({},t,{queryKey:n,queryFn:e}):qs({},e,{queryKey:n}):n}function Wde(n,e,t){return RA(n)?typeof e=="function"?qs({},t,{mutationKey:n,mutationFn:e}):qs({},e,{mutationKey:n}):typeof n=="function"?qs({},e,{mutationFn:n}):qs({},n)}function i2(n,e,t){return RA(n)?[qs({},e,{queryKey:n}),t]:[n||{},e]}function WBe(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function YY(n,e){var t=n.active,r=n.exact,i=n.fetching,s=n.inactive,o=n.predicate,a=n.queryKey,c=n.stale;if(RA(a)){if(r){if(e.queryHash!==DA(a,e.options))return!1}else if(!OA(e.queryKey,a))return!1}var d=WBe(t,s);if(d==="none")return!1;if(d!=="all"){var p=e.isActive();if(d==="active"&&!p||d==="inactive"&&p)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function KY(n,e){var t=n.exact,r=n.fetching,i=n.predicate,s=n.mutationKey;if(RA(s)){if(!e.options.mutationKey)return!1;if(t){if(v3(e.options.mutationKey)!==v3(s))return!1}else if(!OA(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function DA(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||v3;return t(n)}function v3(n){var e=FA(n);return QBe(e)}function QBe(n){return JSON.stringify(n,function(e,t){return JY(t)?Object.keys(t).sort().reduce(function(r,i){return r[i]=t[i],r},{}):t})}function OA(n,e){return Qde(FA(n),FA(e))}function Qde(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!Qde(n[t],e[t])}):!1}function KE(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||JY(n)&&JY(e)){for(var r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),s=i.length,o=t?[]:{},a=0,c=0;c<s;c++){var d=t?c:i[c];o[d]=KE(n[d],e[d]),o[d]===n[d]&&a++}return r===s&&a===r?n:o}return e}function Gde(n,e){if(n&&!e||e&&!n)return!1;for(var t in n)if(n[t]!==e[t])return!1;return!0}function JY(n){if(!Yde(n))return!1;var e=n.constructor;if(typeof e=="undefined")return!0;var t=e.prototype;return!(!Yde(t)||!t.hasOwnProperty("isPrototypeOf"))}function Yde(n){return Object.prototype.toString.call(n)==="[object Object]"}function RA(n){return typeof n=="string"||Array.isArray(n)}function Kde(n){return new Promise(function(e){setTimeout(e,n)})}function XY(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function Uk(){if(typeof AbortController=="function")return new AbortController}var GBe=function(n){kh(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!r_&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},t.setFocused=function(i){this.focused=i,i&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(i){i()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Cp),_3=new GBe;m();var YBe=function(n){kh(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!r_&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},t.setOnline=function(i){this.online=i,i&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(i){i()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine},e}(Cp),JE=new YBe;function KBe(n){return Math.min(1e3*Math.pow(2,n),3e4)}function NA(n){return typeof(n==null?void 0:n.cancel)=="function"}var Jde=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function XE(n){return n instanceof Jde}var zk=function(e){var t=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(w){return i==null?void 0:i(w)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(w,N){o=w,a=N});var c=function(N){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(N),s==null||s(),o(N))},d=function(N){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(N),s==null||s(),a(N))},p=function(){return new Promise(function(N){s=N,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},E=function w(){if(!t.isResolved){var N;try{N=e.fn()}catch(R){N=Promise.reject(R)}i=function(U){if(!t.isResolved&&(d(new Jde(U)),t.abort==null||t.abort(),NA(N)))try{N.cancel()}catch{}},t.isTransportCancelable=NA(N),Promise.resolve(N).then(c).catch(function(R){var U,Q;if(!t.isResolved){var P=(U=e.retry)!=null?U:3,j=(Q=e.retryDelay)!=null?Q:KBe,I=typeof j=="function"?j(t.failureCount,R):j,K=P===!0||typeof P=="number"&&t.failureCount<P||typeof P=="function"&&P(t.failureCount,R);if(r||!K){d(R);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,R),Kde(I).then(function(){if(!_3.isFocused()||!JE.isOnline())return p()}).then(function(){r?d(R):w()})}})}};E()};m();m();m();var JBe=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):XY(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&XY(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),Qo=new JBe;m();var Xde=console;function i_(){return Xde}function ZY(n){Xde=n}var Zde=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(r){var i;this.options=qs({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),TA(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,c=Vde(r,a);return((s=(o=this.options).isDataEqual)==null?void 0:s.call(o,a,c))?c=a:this.options.structuralSharing!==!1&&(c=KE(a,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),c},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(ul).catch(ul):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!qk(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i==null?void 0:i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var d;return(d=this.retryer)==null||d.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var p=this.observers.find(function(j){return j.options.queryFn});p&&this.setOptions(p.options)}var E=FA(this.queryKey),w=Uk(),N={queryKey:E,pageParam:void 0,meta:this.meta};Object.defineProperty(N,"signal",{enumerable:!0,get:function(){if(w)return s.abortSignalConsumed=!0,w.signal}});var R=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(N)):Promise.reject("Missing queryFn")},U={fetchOptions:i,options:this.options,queryKey:E,state:this.state,fetchFn:R,meta:this.meta};if((o=this.options.behavior)==null?void 0:o.onFetch){var Q;(Q=this.options.behavior)==null||Q.onFetch(U)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=U.fetchOptions)==null?void 0:a.meta)){var P;this.dispatch({type:"fetch",meta:(P=U.fetchOptions)==null?void 0:P.meta})}return this.retryer=new zk({fn:U.fetchFn,abort:w==null||(c=w.abort)==null?void 0:c.bind(w),onSuccess:function(I){s.setData(I),s.cache.config.onSuccess==null||s.cache.config.onSuccess(I,s),s.cacheTime===0&&s.optionalRemove()},onError:function(I){XE(I)&&I.silent||s.dispatch({type:"error",error:I}),XE(I)||(s.cache.config.onError==null||s.cache.config.onError(I,s),i_().error(I)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:U.options.retry,retryDelay:U.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Qo.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData!="undefined",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i!="undefined";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return qs({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return qs({},r,{isPaused:!0});case"continue":return qs({},r,{isPaused:!1});case"fetch":return qs({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return qs({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return XE(a)&&a.revert&&this.revertState?qs({},this.revertState):qs({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return qs({},r,{isInvalidated:!0});case"setState":return qs({},r,i.state);default:return r}},n}();var ehe=function(n){kh(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var t=e.prototype;return t.build=function(i,s,o){var a,c=s.queryKey,d=(a=s.queryHash)!=null?a:DA(c,s),p=this.get(d);return p||(p=new Zde({cache:this,queryKey:c,queryHash:d,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(c),meta:s.meta}),this.add(p)),p},t.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},t.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},t.clear=function(){var i=this;Qo.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},t.get=function(i){return this.queriesMap[i]},t.getAll=function(){return this.queries},t.find=function(i,s){var o=i2(i,s),a=o[0];return typeof a.exact=="undefined"&&(a.exact=!0),this.queries.find(function(c){return YY(a,c)})},t.findAll=function(i,s){var o=i2(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(c){return YY(a,c)}):this.queries},t.notify=function(i){var s=this;Qo.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){var i=this;Qo.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},t.onOnline=function(){var i=this;Qo.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(Cp);m();m();m();var the=function(){function n(t){this.options=qs({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||eK(),this.meta=t.meta}var e=n.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(ul).catch(ul)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),i_().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new zk({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=XBe(this.state,r),Qo.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},n}();function eK(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function XBe(n,e){switch(e.type){case"failed":return qs({},n,{failureCount:n.failureCount+1});case"pause":return qs({},n,{isPaused:!0});case"continue":return qs({},n,{isPaused:!1});case"loading":return qs({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return qs({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return qs({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return qs({},n,e.state);default:return n}}var nhe=function(n){kh(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var t=e.prototype;return t.build=function(i,s,o){var a=new the({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},t.add=function(i){this.mutations.push(i),this.notify(i)},t.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},t.clear=function(){var i=this;Qo.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},t.getAll=function(){return this.mutations},t.find=function(i){return typeof i.exact=="undefined"&&(i.exact=!0),this.mutations.find(function(s){return KY(i,s)})},t.findAll=function(i){return this.mutations.filter(function(s){return KY(i,s)})},t.notify=function(i){var s=this;Qo.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Qo.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(ul)})},Promise.resolve())})},e}(Cp);m();function rhe(){return{onFetch:function(e){e.fetchFn=function(){var t,r,i,s,o,a,c=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,d=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,p=d==null?void 0:d.pageParam,E=(d==null?void 0:d.direction)==="forward",w=(d==null?void 0:d.direction)==="backward",N=((o=e.state.data)==null?void 0:o.pages)||[],R=((a=e.state.data)==null?void 0:a.pageParams)||[],U=Uk(),Q=U==null?void 0:U.signal,P=R,j=!1,I=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},K=function(St,Ft,je,te){return P=te?[Ft].concat(P):[].concat(P,[Ft]),te?[je].concat(St):[].concat(St,[je])},de=function(St,Ft,je,te){if(j)return Promise.reject("Cancelled");if(typeof je=="undefined"&&!Ft&&St.length)return Promise.resolve(St);var Xe={queryKey:e.queryKey,signal:Q,pageParam:je,meta:e.meta},ye=I(Xe),ke=Promise.resolve(ye).then(function(xe){return K(St,je,xe,te)});if(NA(ye)){var Ce=ke;Ce.cancel=ye.cancel}return ke},M;if(!N.length)M=de([]);else if(E){var Z=typeof p!="undefined",me=Z?p:ihe(e.options,N);M=de(N,Z,me)}else if(w){var _e=typeof p!="undefined",Ve=_e?p:ZBe(e.options,N);M=de(N,_e,Ve,!0)}else(function(){P=[];var Ke=typeof e.options.getNextPageParam=="undefined",St=c&&N[0]?c(N[0],0,N):!0;M=St?de([],Ke,R[0]):Promise.resolve(K([],R[0],N[0]));for(var Ft=function(Xe){M=M.then(function(ye){var ke=c&&N[Xe]?c(N[Xe],Xe,N):!0;if(ke){var Ce=Ke?R[Xe]:ihe(e.options,ye);return de(ye,Ke,Ce)}return Promise.resolve(K(ye,R[Xe],N[Xe]))})},je=1;je<N.length;je++)Ft(je)})();var at=M.then(function(Ke){return{pages:Ke,pageParams:P}}),lt=at;return lt.cancel=function(){j=!0,U==null||U.abort(),NA(M)&&M.cancel()},at}}}}function ihe(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function ZBe(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}var tK=function(){function n(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new ehe,this.mutationCache=t.mutationCache||new nhe,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=_3.subscribe(function(){_3.isFocused()&&JE.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=JE.subscribe(function(){_3.isFocused()&&JE.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=i2(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(qs({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=YE(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return Qo.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var c=a.queryKey;return[c,o.setQueryData(c,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=i2(r,i),o=s[0],a=this.queryCache;Qo.batch(function(){a.findAll(o).forEach(function(c){a.remove(c)})})},e.resetQueries=function(r,i,s){var o=this,a=i2(r,i,s),c=a[0],d=a[1],p=this.queryCache,E=qs({},c,{active:!0});return Qo.batch(function(){return p.findAll(c).forEach(function(w){w.reset()}),o.refetchQueries(E,d)})},e.cancelQueries=function(r,i,s){var o=this,a=i2(r,i,s),c=a[0],d=a[1],p=d===void 0?{}:d;typeof p.revert=="undefined"&&(p.revert=!0);var E=Qo.batch(function(){return o.queryCache.findAll(c).map(function(w){return w.cancel(p)})});return Promise.all(E).then(ul).catch(ul)},e.invalidateQueries=function(r,i,s){var o,a,c,d=this,p=i2(r,i,s),E=p[0],w=p[1],N=qs({},E,{active:(o=(a=E.refetchActive)!=null?a:E.active)!=null?o:!0,inactive:(c=E.refetchInactive)!=null?c:!1});return Qo.batch(function(){return d.queryCache.findAll(E).forEach(function(R){R.invalidate()}),d.refetchQueries(N,w)})},e.refetchQueries=function(r,i,s){var o=this,a=i2(r,i,s),c=a[0],d=a[1],p=Qo.batch(function(){return o.queryCache.findAll(c).map(function(w){return w.fetch(void 0,qs({},d,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),E=Promise.all(p).then(ul);return(d==null?void 0:d.throwOnError)||(E=E.catch(ul)),E},e.fetchQuery=function(r,i,s){var o=YE(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry=="undefined"&&(a.retry=!1);var c=this.queryCache.build(this,a);return c.isStaleByTime(a.staleTime)?c.fetch(a):Promise.resolve(c.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(ul).catch(ul)},e.fetchInfiniteQuery=function(r,i,s){var o=YE(r,i,s);return o.behavior=rhe(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(ul).catch(ul)},e.cancelMutations=function(){var r=this,i=Qo.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(ul).catch(ul)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return v3(r)===v3(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return OA(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return v3(r)===v3(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return OA(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r==null?void 0:r._defaulted)return r;var i=qs({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=DA(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return(r==null?void 0:r._defaulted)?r:qs({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}();m();var nK=function(n){kh(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var t=e.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),she(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return rK(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return rK(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&ohe(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var d=this.computeRefetchInterval();c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)},t.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(i,s){var o=this,a={},c=function(p){o.trackedProps.includes(p)||o.trackedProps.push(p)};return Object.keys(i).forEach(function(d){Object.defineProperty(a,d,{configurable:!1,enumerable:!0,get:function(){return c(d),i[d]}})}),(s.useErrorBoundary||s.suspense)&&c("error"),a},t.getNextResult=function(i){var s=this;return new Promise(function(o,a){var c=s.subscribe(function(d){d.isFetching||(c(),d.isError&&(i==null?void 0:i.throwOnError)?a(d.error):o(d))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(i){return this.fetch(qs({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},t.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},t.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},t.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return(i==null?void 0:i.throwOnError)||(s=s.catch(ul)),s},t.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(r_||this.currentResult.isStale||!TA(this.options.staleTime))){var s=qk(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},t.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},t.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(r_||this.options.enabled===!1||!TA(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||_3.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(i,s){var o=this.currentQuery,a=this.options,c=this.currentResult,d=this.currentResultState,p=this.currentResultOptions,E=i!==o,w=E?i.state:this.currentQueryInitialState,N=E?this.currentResult:this.previousQueryResult,R=i.state,U=R.dataUpdatedAt,Q=R.error,P=R.errorUpdatedAt,j=R.isFetching,I=R.status,K=!1,de=!1,M;if(s.optimisticResults){var Z=this.hasListeners(),me=!Z&&she(i,s),_e=Z&&ohe(i,o,s,a);(me||_e)&&(j=!0,U||(I="loading"))}if(s.keepPreviousData&&!R.dataUpdateCount&&(N==null?void 0:N.isSuccess)&&I!=="error")M=N.data,U=N.dataUpdatedAt,I=N.status,K=!0;else if(s.select&&typeof R.data!="undefined")if(c&&R.data===(d==null?void 0:d.data)&&s.select===this.selectFn)M=this.selectResult;else try{this.selectFn=s.select,M=s.select(R.data),s.structuralSharing!==!1&&(M=KE(c==null?void 0:c.data,M)),this.selectResult=M,this.selectError=null}catch(lt){i_().error(lt),this.selectError=lt}else M=R.data;if(typeof s.placeholderData!="undefined"&&typeof M=="undefined"&&(I==="loading"||I==="idle")){var Ve;if((c==null?void 0:c.isPlaceholderData)&&s.placeholderData===(p==null?void 0:p.placeholderData))Ve=c.data;else if(Ve=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof Ve!="undefined")try{Ve=s.select(Ve),s.structuralSharing!==!1&&(Ve=KE(c==null?void 0:c.data,Ve)),this.selectError=null}catch(lt){i_().error(lt),this.selectError=lt}typeof Ve!="undefined"&&(I="success",M=Ve,de=!0)}this.selectError&&(Q=this.selectError,M=this.selectResult,P=Date.now(),I="error");var at={status:I,isLoading:I==="loading",isSuccess:I==="success",isError:I==="error",isIdle:I==="idle",data:M,dataUpdatedAt:U,error:Q,errorUpdatedAt:P,failureCount:R.fetchFailureCount,errorUpdateCount:R.errorUpdateCount,isFetched:R.dataUpdateCount>0||R.errorUpdateCount>0,isFetchedAfterMount:R.dataUpdateCount>w.dataUpdateCount||R.errorUpdateCount>w.errorUpdateCount,isFetching:j,isRefetching:j&&I!=="loading",isLoadingError:I==="error"&&R.dataUpdatedAt===0,isPlaceholderData:de,isPreviousData:K,isRefetchError:I==="error"&&R.dataUpdatedAt!==0,isStale:iK(i,s),refetch:this.refetch,remove:this.remove};return at},t.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!a&&!c||a==="tracked"&&!this.trackedProps.length)return!0;var d=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(p){var E=p,w=i[E]!==s[E],N=d==null?void 0:d.some(function(U){return U===p}),R=c==null?void 0:c.some(function(U){return U===p});return w&&!R&&(!d||N)})},t.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Gde(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(qs({},o,i))}},t.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},t.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!XE(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},t.notify=function(i){var s=this;Qo.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(Cp);function eje(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function she(n,e){return eje(n,e)||n.state.dataUpdatedAt>0&&rK(n,e,e.refetchOnMount)}function rK(n,e,t){if(e.enabled!==!1){var r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&iK(n,e)}return!1}function ohe(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&iK(n,t)}function iK(n,e){return n.isStaleByTime(e.staleTime)}m();var ahe=function(n){kh(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var t=e.prototype;return t.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},t.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},t.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},t.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},t.getCurrentResult=function(){return this.currentResult},t.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},t.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,qs({},this.options,{variables:typeof i!="undefined"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},t.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:eK(),s=qs({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},t.notify=function(i){var s=this;Qo.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(Cp);m();m();m();var uhe=xr(jk()),lhe=uhe.default.unstable_batchedUpdates;Qo.setBatchNotifyFunction(lhe);m();m();var che=console;ZY(che);m();var b3=xr(Lr()),fhe=b3.default.createContext(void 0),dhe=b3.default.createContext(!1);function hhe(n){return n&&typeof window!="undefined"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=fhe),window.ReactQueryClientContext):fhe}var ZE=function(){var e=b3.default.useContext(hhe(b3.default.useContext(dhe)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},sK=function(e){var t=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;b3.default.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var o=hhe(i);return b3.default.createElement(dhe.Provider,{value:i},b3.default.createElement(o.Provider,{value:t},s))};m();var oK=xr(Lr());function tje(){var n=!1;return{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}}}var nje=oK.default.createContext(tje()),phe=function(){return oK.default.useContext(nje)};m();var e7=xr(Lr());m();function Hk(n,e,t){return typeof e=="function"?e.apply(void 0,t):typeof e=="boolean"?e:!!n}function $k(n,e,t){var r=e7.default.useRef(!1),i=e7.default.useState(0),s=i[1],o=Wde(n,e,t),a=ZE(),c=e7.default.useRef();c.current?c.current.setOptions(o):c.current=new ahe(a,o);var d=c.current.getCurrentResult();e7.default.useEffect(function(){r.current=!0;var E=c.current.subscribe(Qo.batchCalls(function(){r.current&&s(function(w){return w+1})}));return function(){r.current=!1,E()}},[]);var p=e7.default.useCallback(function(E,w){c.current.mutate(E,w).catch(ul)},[]);if(d.error&&Hk(void 0,c.current.options.useErrorBoundary,[d.error]))throw d.error;return qs({},d,{mutate:p,mutateAsync:d.mutate})}m();m();var t7=xr(Lr());function mhe(n,e){var t=t7.default.useRef(!1),r=t7.default.useState(0),i=r[1],s=ZE(),o=phe(),a=s.defaultQueryObserverOptions(n);a.optimisticResults=!0,a.onError&&(a.onError=Qo.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Qo.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Qo.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var c=t7.default.useState(function(){return new e(s,a)}),d=c[0],p=d.getOptimisticResult(a);if(t7.default.useEffect(function(){t.current=!0,o.clearReset();var E=d.subscribe(Qo.batchCalls(function(){t.current&&i(function(w){return w+1})}));return d.updateResult(),function(){t.current=!1,E()}},[o,d]),t7.default.useEffect(function(){d.setOptions(a,{listeners:!1})},[a,d]),a.suspense&&p.isLoading)throw d.fetchOptimistic(a).then(function(E){var w=E.data;a.onSuccess==null||a.onSuccess(w),a.onSettled==null||a.onSettled(w,null)}).catch(function(E){o.clearReset(),a.onError==null||a.onError(E),a.onSettled==null||a.onSettled(void 0,E)});if(p.isError&&!o.isReset()&&!p.isFetching&&Hk(a.suspense,a.useErrorBoundary,[p.error,d.getCurrentQuery()]))throw p.error;return a.notifyOnChangeProps==="tracked"&&(p=d.trackResult(p,a)),p}function E3(n,e,t){var r=YE(n,e,t);return mhe(r,nK)}m();m();m();var pV=xr(Lr());m();var fI=xr(vhe()),Uu=xr(Lr()),Uhe=xr(bhe());m();function sje(n){function e(xe,Je,ut,Qt,wt){for(var mn=0,Lt=0,It=0,cn=0,it,ue,De=0,ve=0,le,st=le=it=0,Ze=0,Le=0,vt=0,$t=0,Mt=ut.length,Vt=Mt-1,tn,en="",En="",Fn="",On="",qt;Ze<Mt;){if(ue=ut.charCodeAt(Ze),Ze===Vt&&Lt+cn+It+mn!==0&&(Lt!==0&&(ue=Lt===47?10:47),cn=It=mn=0,Mt++,Vt++),Lt+cn+It+mn===0){if(Ze===Vt&&(0<Le&&(en=en.replace(w,"")),0<en.trim().length)){switch(ue){case 32:case 9:case 59:case 13:case 10:break;default:en+=ut.charAt(Ze)}ue=59}switch(ue){case 123:for(en=en.trim(),it=en.charCodeAt(0),le=1,$t=++Ze;Ze<Mt;){switch(ue=ut.charCodeAt(Ze)){case 123:le++;break;case 125:le--;break;case 47:switch(ue=ut.charCodeAt(Ze+1)){case 42:case 47:e:{for(st=Ze+1;st<Vt;++st)switch(ut.charCodeAt(st)){case 47:if(ue===42&&ut.charCodeAt(st-1)===42&&Ze+2!==st){Ze=st+1;break e}break;case 10:if(ue===47){Ze=st+1;break e}}Ze=st}}break;case 91:ue++;case 40:ue++;case 34:case 39:for(;Ze++<Vt&&ut.charCodeAt(Ze)!==ue;);}if(le===0)break;Ze++}switch(le=ut.substring($t,Ze),it===0&&(it=(en=en.replace(E,"").trim()).charCodeAt(0)),it){case 64:switch(0<Le&&(en=en.replace(w,"")),ue=en.charCodeAt(1),ue){case 100:case 109:case 115:case 45:Le=Je;break;default:Le=je}if(le=e(Je,Le,le,ue,wt+1),$t=le.length,0<Xe&&(Le=t(je,en,vt),qt=a(3,le,Le,Je,Ke,lt,$t,ue,wt,Qt),en=Le.join(""),qt!==void 0&&($t=(le=qt.trim()).length)===0&&(ue=0,le="")),0<$t)switch(ue){case 115:en=en.replace(M,o);case 100:case 109:case 45:le=en+"{"+le+"}";break;case 107:en=en.replace(j,"$1 $2"),le=en+"{"+le+"}",le=Ft===1||Ft===2&&s("@"+le,3)?"@-webkit-"+le+"@"+le:"@"+le;break;default:le=en+le,Qt===112&&(le=(En+=le,""))}else le="";break;default:le=e(Je,t(Je,en,vt),le,Qt,wt+1)}Fn+=le,le=vt=Le=st=it=0,en="",ue=ut.charCodeAt(++Ze);break;case 125:case 59:if(en=(0<Le?en.replace(w,""):en).trim(),1<($t=en.length))switch(st===0&&(it=en.charCodeAt(0),it===45||96<it&&123>it)&&($t=(en=en.replace(" ",":")).length),0<Xe&&(qt=a(1,en,Je,xe,Ke,lt,En.length,Qt,wt,Qt))!==void 0&&($t=(en=qt.trim()).length)===0&&(en="\0\0"),it=en.charCodeAt(0),ue=en.charCodeAt(1),it){case 0:break;case 64:if(ue===105||ue===99){On+=en+ut.charAt(Ze);break}default:en.charCodeAt($t-1)!==58&&(En+=i(en,it,ue,en.charCodeAt(2)))}vt=Le=st=it=0,en="",ue=ut.charCodeAt(++Ze)}}switch(ue){case 13:case 10:Lt===47?Lt=0:1+it===0&&Qt!==107&&0<en.length&&(Le=1,en+="\0"),0<Xe*ke&&a(0,en,Je,xe,Ke,lt,En.length,Qt,wt,Qt),lt=1,Ke++;break;case 59:case 125:if(Lt+cn+It+mn===0){lt++;break}default:switch(lt++,tn=ut.charAt(Ze),ue){case 9:case 32:if(cn+mn+Lt===0)switch(De){case 44:case 58:case 9:case 32:tn="";break;default:ue!==32&&(tn=" ")}break;case 0:tn="\\0";break;case 12:tn="\\f";break;case 11:tn="\\v";break;case 38:cn+Lt+mn===0&&(Le=vt=1,tn="\f"+tn);break;case 108:if(cn+Lt+mn+St===0&&0<st)switch(Ze-st){case 2:De===112&&ut.charCodeAt(Ze-3)===58&&(St=De);case 8:ve===111&&(St=ve)}break;case 58:cn+Lt+mn===0&&(st=Ze);break;case 44:Lt+It+cn+mn===0&&(Le=1,tn+="\r");break;case 34:case 39:Lt===0&&(cn=cn===ue?0:cn===0?ue:cn);break;case 91:cn+Lt+It===0&&mn++;break;case 93:cn+Lt+It===0&&mn--;break;case 41:cn+Lt+mn===0&&It--;break;case 40:if(cn+Lt+mn===0){if(it===0)switch(2*De+3*ve){case 533:break;default:it=1}It++}break;case 64:Lt+It+cn+mn+st+le===0&&(le=1);break;case 42:case 47:if(!(0<cn+mn+It))switch(Lt){case 0:switch(2*ue+3*ut.charCodeAt(Ze+1)){case 235:Lt=47;break;case 220:$t=Ze,Lt=42}break;case 42:ue===47&&De===42&&$t+2!==Ze&&(ut.charCodeAt($t+2)===33&&(En+=ut.substring($t,Ze+1)),tn="",Lt=0)}}Lt===0&&(en+=tn)}ve=De,De=ue,Ze++}if($t=En.length,0<$t){if(Le=Je,0<Xe&&(qt=a(2,En,Le,xe,Ke,lt,$t,Qt,wt,Qt),qt!==void 0&&(En=qt).length===0))return On+En+Fn;if(En=Le.join(",")+"{"+En+"}",Ft*St!==0){switch(Ft!==2||s(En,2)||(St=0),St){case 111:En=En.replace(K,":-moz-$1")+En;break;case 112:En=En.replace(I,"::-webkit-input-$1")+En.replace(I,"::-moz-$1")+En.replace(I,":-ms-input-$1")+En}St=0}}return On+En+Fn}function t(xe,Je,ut){var Qt=Je.trim().split(Q);Je=Qt;var wt=Qt.length,mn=xe.length;switch(mn){case 0:case 1:var Lt=0;for(xe=mn===0?"":xe[0]+" ";Lt<wt;++Lt)Je[Lt]=r(xe,Je[Lt],ut).trim();break;default:var It=Lt=0;for(Je=[];Lt<wt;++Lt)for(var cn=0;cn<mn;++cn)Je[It++]=r(xe[cn]+" ",Qt[Lt],ut).trim()}return Je}function r(xe,Je,ut){var Qt=Je.charCodeAt(0);switch(33>Qt&&(Qt=(Je=Je.trim()).charCodeAt(0)),Qt){case 38:return Je.replace(P,"$1"+xe.trim());case 58:return xe.trim()+Je.replace(P,"$1"+xe.trim());default:if(0<1*ut&&0<Je.indexOf("\f"))return Je.replace(P,(xe.charCodeAt(0)===58?"":"$1")+xe.trim())}return xe+Je}function i(xe,Je,ut,Qt){var wt=xe+";",mn=2*Je+3*ut+4*Qt;if(mn===944){xe=wt.indexOf(":",9)+1;var Lt=wt.substring(xe,wt.length-1).trim();return Lt=wt.substring(0,xe).trim()+Lt+";",Ft===1||Ft===2&&s(Lt,1)?"-webkit-"+Lt+Lt:Lt}if(Ft===0||Ft===2&&!s(wt,1))return wt;switch(mn){case 1015:return wt.charCodeAt(10)===97?"-webkit-"+wt+wt:wt;case 951:return wt.charCodeAt(3)===116?"-webkit-"+wt+wt:wt;case 963:return wt.charCodeAt(5)===110?"-webkit-"+wt+wt:wt;case 1009:if(wt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+wt+wt;case 978:return"-webkit-"+wt+"-moz-"+wt+wt;case 1019:case 983:return"-webkit-"+wt+"-moz-"+wt+"-ms-"+wt+wt;case 883:if(wt.charCodeAt(8)===45)return"-webkit-"+wt+wt;if(0<wt.indexOf("image-set(",11))return wt.replace(at,"$1-webkit-$2")+wt;break;case 932:if(wt.charCodeAt(4)===45)switch(wt.charCodeAt(5)){case 103:return"-webkit-box-"+wt.replace("-grow","")+"-webkit-"+wt+"-ms-"+wt.replace("grow","positive")+wt;case 115:return"-webkit-"+wt+"-ms-"+wt.replace("shrink","negative")+wt;case 98:return"-webkit-"+wt+"-ms-"+wt.replace("basis","preferred-size")+wt}return"-webkit-"+wt+"-ms-"+wt+wt;case 964:return"-webkit-"+wt+"-ms-flex-"+wt+wt;case 1023:if(wt.charCodeAt(8)!==99)break;return Lt=wt.substring(wt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Lt+"-webkit-"+wt+"-ms-flex-pack"+Lt+wt;case 1005:return R.test(wt)?wt.replace(N,":-webkit-")+wt.replace(N,":-moz-")+wt:wt;case 1e3:switch(Lt=wt.substring(13).trim(),Je=Lt.indexOf("-")+1,Lt.charCodeAt(0)+Lt.charCodeAt(Je)){case 226:Lt=wt.replace(de,"tb");break;case 232:Lt=wt.replace(de,"tb-rl");break;case 220:Lt=wt.replace(de,"lr");break;default:return wt}return"-webkit-"+wt+"-ms-"+Lt+wt;case 1017:if(wt.indexOf("sticky",9)===-1)break;case 975:switch(Je=(wt=xe).length-10,Lt=(wt.charCodeAt(Je)===33?wt.substring(0,Je):wt).substring(xe.indexOf(":",7)+1).trim(),mn=Lt.charCodeAt(0)+(Lt.charCodeAt(7)|0)){case 203:if(111>Lt.charCodeAt(8))break;case 115:wt=wt.replace(Lt,"-webkit-"+Lt)+";"+wt;break;case 207:case 102:wt=wt.replace(Lt,"-webkit-"+(102<mn?"inline-":"")+"box")+";"+wt.replace(Lt,"-webkit-"+Lt)+";"+wt.replace(Lt,"-ms-"+Lt+"box")+";"+wt}return wt+";";case 938:if(wt.charCodeAt(5)===45)switch(wt.charCodeAt(6)){case 105:return Lt=wt.replace("-items",""),"-webkit-"+wt+"-webkit-box-"+Lt+"-ms-flex-"+Lt+wt;case 115:return"-webkit-"+wt+"-ms-flex-item-"+wt.replace(me,"")+wt;default:return"-webkit-"+wt+"-ms-flex-line-pack"+wt.replace("align-content","").replace(me,"")+wt}break;case 973:case 989:if(wt.charCodeAt(3)!==45||wt.charCodeAt(4)===122)break;case 931:case 953:if(Ve.test(xe)===!0)return(Lt=xe.substring(xe.indexOf(":")+1)).charCodeAt(0)===115?i(xe.replace("stretch","fill-available"),Je,ut,Qt).replace(":fill-available",":stretch"):wt.replace(Lt,"-webkit-"+Lt)+wt.replace(Lt,"-moz-"+Lt.replace("fill-",""))+wt;break;case 962:if(wt="-webkit-"+wt+(wt.charCodeAt(5)===102?"-ms-"+wt:"")+wt,ut+Qt===211&&wt.charCodeAt(13)===105&&0<wt.indexOf("transform",10))return wt.substring(0,wt.indexOf(";",27)+1).replace(U,"$1-webkit-$2")+wt}return wt}function s(xe,Je){var ut=xe.indexOf(Je===1?":":"{"),Qt=xe.substring(0,Je!==3?ut:10);return ut=xe.substring(ut+1,xe.length-1),ye(Je!==2?Qt:Qt.replace(_e,"$1"),ut,Je)}function o(xe,Je){var ut=i(Je,Je.charCodeAt(0),Je.charCodeAt(1),Je.charCodeAt(2));return ut!==Je+";"?ut.replace(Z," or ($1)").substring(4):"("+Je+")"}function a(xe,Je,ut,Qt,wt,mn,Lt,It,cn,it){for(var ue=0,De=Je,ve;ue<Xe;++ue)switch(ve=te[ue].call(p,xe,De,ut,Qt,wt,mn,Lt,It,cn,it)){case void 0:case!1:case!0:case null:break;default:De=ve}if(De!==Je)return De}function c(xe){switch(xe){case void 0:case null:Xe=te.length=0;break;default:if(typeof xe=="function")te[Xe++]=xe;else if(typeof xe=="object")for(var Je=0,ut=xe.length;Je<ut;++Je)c(xe[Je]);else ke=!!xe|0}return c}function d(xe){return xe=xe.prefix,xe!==void 0&&(ye=null,xe?typeof xe!="function"?Ft=1:(Ft=2,ye=xe):Ft=0),d}function p(xe,Je){var ut=xe;if(33>ut.charCodeAt(0)&&(ut=ut.trim()),Ce=ut,ut=[Ce],0<Xe){var Qt=a(-1,Je,ut,ut,Ke,lt,0,0,0,0);Qt!==void 0&&typeof Qt=="string"&&(Je=Qt)}var wt=e(je,ut,Je,0,0);return 0<Xe&&(Qt=a(-2,wt,ut,ut,Ke,lt,wt.length,0,0,0),Qt!==void 0&&(wt=Qt)),Ce="",St=0,lt=Ke=1,wt}var E=/^\0+/g,w=/[\0\r\f]/g,N=/: */g,R=/zoo|gra/,U=/([,: ])(transform)/g,Q=/,\r+?/g,P=/([\t\r\n ])*\f?&/g,j=/@(k\w+)\s*(\S*)\s*/,I=/::(place)/g,K=/:(read-only)/g,de=/[svh]\w+-[tblr]{2}/,M=/\(\s*(.*)\s*\)/g,Z=/([\s\S]*?);/g,me=/-self|flex-/g,_e=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Ve=/stretch|:\s*\w+\-(?:conte|avail)/,at=/([^-])(image-set\()/,lt=1,Ke=1,St=0,Ft=1,je=[],te=[],Xe=0,ye=null,ke=0,Ce="";return p.use=c,p.set=d,n!==void 0&&d(n),p}var Ehe=sje;m();var oje={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},She=oje;var xK=xr(Dhe()),zhe=xr(qhe());function s2(){return(s2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var Hhe=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},gK=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!(0,fI.typeOf)(n)},dI=Object.freeze([]),S3=Object.freeze({});function LA(n){return typeof n=="function"}function $he(n){return n.displayName||n.name||"Component"}function yK(n){return n&&typeof n.styledComponentId=="string"}var w3=typeof process!="undefined"&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled";var vK=typeof window!="undefined"&&"HTMLElement"in window,Cje=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:!1);function eg(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var Aje=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&eg(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(t+1),d=0,p=r.length;d<p;d++)this.tag.insertRule(c,r[d])&&(this.groupSizes[t]++,c++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),hI=new Map,pI=new Map,kA=1,mI=function(n){if(hI.has(n))return hI.get(n);for(;pI.has(kA);)kA++;var e=kA++;return hI.set(n,e),pI.set(e,n),e},Tje=function(n){return pI.get(n)},Fje=function(n,e){e>=kA&&(kA=e+1),hI.set(n,e),pI.set(e,n)},Dje="style["+w3+'][data-styled-version="5.3.6"]',Oje=new RegExp("^"+w3+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Rje=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},Nje=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(Oje);if(a){var c=0|parseInt(a[1],10),d=a[2];c!==0&&(Fje(d,c),Rje(n,d,a[3]),n.getTag().insertRules(c,r)),r.length=0}else r.push(o)}}},_K=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:null},Vhe=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var c=a.childNodes,d=c.length;d>=0;d--){var p=c[d];if(p&&p.nodeType===1&&p.hasAttribute(w3))return p}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(w3,"active"),r.setAttribute("data-styled-version","5.3.6");var o=_K();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},Lje=function(){function n(t){var r=this.element=Vhe(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var c=s[o];if(c.ownerNode===i)return c}eg(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),kje=function(){function n(t){var r=this.element=Vhe(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),Ije=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),Whe=vK,Mje={isServer:!vK,useCSSOMInjection:!Cje},IA=function(){function n(t,r,i){t===void 0&&(t=S3),r===void 0&&(r={}),this.options=s2({},Mje,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&vK&&Whe&&(Whe=!1,function(s){for(var o=document.querySelectorAll(Dje),a=0,c=o.length;a<c;a++){var d=o[a];d&&d.getAttribute(w3)!=="active"&&(Nje(s,d),d.parentNode&&d.parentNode.removeChild(d))}}(this))}n.registerId=function(t){return mI(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(s2({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new Ije(o):s?new Lje(o):new kje(o),new Aje(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(mI(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(mI(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(mI(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=Tje(o);if(a!==void 0){var c=t.names.get(a),d=r.getGroup(o);if(c&&d&&c.size){var p=w3+".g"+o+'[id="'+a+'"]',E="";c!==void 0&&c.forEach(function(w){w.length>0&&(E+=w+",")}),s+=""+d+p+'{content:"'+E+`"}/*!sc*/
`}}}return s}(this)},n}(),Pje=/(a)(d)/gi,Qhe=function(n){return String.fromCharCode(n+(n>25?39:97))};function bK(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=Qhe(e%52)+t;return(Qhe(e%52)+t).replace(Pje,"$1-$2")}var n7=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},Ghe=function(n){return n7(5381,n)};function Yhe(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(LA(t)&&!yK(t))return!1}return!0}var Bje=Ghe("5.3.6"),jje=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Yhe(e),this.componentId=t,this.baseHash=n7(Bje,t),this.baseStyle=r,IA.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=s_(this.rules,e,t,r).join(""),a=bK(n7(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var c=r(o,"."+a,void 0,i);t.insertRules(i,a,c)}s.push(a),this.staticRulesId=a}else{for(var d=this.rules.length,p=n7(this.baseHash,r.hash),E="",w=0;w<d;w++){var N=this.rules[w];if(typeof N=="string")E+=N;else if(N){var R=s_(N,e,t,r),U=Array.isArray(R)?R.join(""):R;p=n7(p,U+w),E+=U}}if(E){var Q=bK(p>>>0);if(!t.hasNameForId(i,Q)){var P=r(E,"."+Q,void 0,i);t.insertRules(i,Q,P)}s.push(Q)}}return s.join(" ")},n}(),qje=/^\s*\/\/.*$/gm,Uje=[":","[",".","#"];function Khe(n){var e,t,r,i,s=n===void 0?S3:n,o=s.options,a=o===void 0?S3:o,c=s.plugins,d=c===void 0?dI:c,p=new Ehe(a),E=[],w=function(U){function Q(P){if(P)try{U(P+"}")}catch{}}return function(P,j,I,K,de,M,Z,me,_e,Ve){switch(P){case 1:if(_e===0&&j.charCodeAt(0)===64)return U(j+";"),"";break;case 2:if(me===0)return j+"/*|*/";break;case 3:switch(me){case 102:case 112:return U(I[0]+j),"";default:return j+(Ve===0?"/*|*/":"")}case-2:j.split("/*|*/}").forEach(Q)}}}(function(U){E.push(U)}),N=function(U,Q,P){return Q===0&&Uje.indexOf(P[t.length])!==-1||P.match(i)?U:"."+e};function R(U,Q,P,j){j===void 0&&(j="&");var I=U.replace(qje,""),K=Q&&P?P+" "+Q+" { "+I+" }":I;return e=j,t=Q,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),p(P||!Q?"":Q,K)}return p.use([].concat(d,[function(U,Q,P){U===2&&P.length&&P[0].lastIndexOf(t)>0&&(P[0]=P[0].replace(r,N))},w,function(U){if(U===-2){var Q=E;return E=[],Q}}])),R.hash=d.length?d.reduce(function(U,Q){return Q.name||eg(15),n7(U,Q.name)},5381).toString():"",R}var EK=Uu.default.createContext(),Q6t=EK.Consumer,SK=Uu.default.createContext(),zje=(SK.Consumer,new IA),wK=Khe();function Jhe(){return(0,Uu.useContext)(EK)||zje}function Hje(){return(0,Uu.useContext)(SK)||wK}function $je(n){var e=(0,Uu.useState)(n.stylisPlugins),t=e[0],r=e[1],i=Jhe(),s=(0,Uu.useMemo)(function(){var a=i;return n.sheet?a=n.sheet:n.target&&(a=a.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(a=a.reconstructWithOptions({useCSSOMInjection:!1})),a},[n.disableCSSOMInjection,n.sheet,n.target]),o=(0,Uu.useMemo)(function(){return Khe({options:{prefix:!n.disableVendorPrefixes},plugins:t})},[n.disableVendorPrefixes,t]);return(0,Uu.useEffect)(function(){(0,Uhe.default)(t,n.stylisPlugins)||r(n.stylisPlugins)},[n.stylisPlugins]),Uu.default.createElement(EK.Provider,{value:s},Uu.default.createElement(SK.Provider,{value:o},n.children))}var Xhe=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=wK);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return eg(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=wK),this.name+e.hash},n}(),Vje=/([A-Z])/,Wje=/([A-Z])/g,Qje=/^ms-/,Gje=function(n){return"-"+n.toLowerCase()};function Zhe(n){return Vje.test(n)?n.replace(Wje,Gje).replace(Qje,"-ms-"):n}var epe=function(n){return n==null||n===!1||n===""};function s_(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=s_(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(epe(n))return"";if(yK(n))return"."+n.styledComponentId;if(LA(n)){if(typeof(d=n)!="function"||d.prototype&&d.prototype.isReactComponent||!e)return n;var c=n(e);return s_(c,e,t,r)}var d;return n instanceof Xhe?t?(n.inject(t,r),n.getName(r)):n:gK(n)?function p(E,w){var N,R,U=[];for(var Q in E)E.hasOwnProperty(Q)&&!epe(E[Q])&&(Array.isArray(E[Q])&&E[Q].isCss||LA(E[Q])?U.push(Zhe(Q)+":",E[Q],";"):gK(E[Q])?U.push.apply(U,p(E[Q],Q)):U.push(Zhe(Q)+": "+(N=Q,(R=E[Q])==null||typeof R=="boolean"||R===""?"":typeof R!="number"||R===0||N in She?String(R).trim():R+"px")+";"));return w?[w+" {"].concat(U,["}"]):U}(n):n.toString()}var tpe=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function npe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return LA(n)||gK(n)?tpe(s_(Hhe(dI,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:tpe(s_(Hhe(n,t)))}var Yje=function(n,e,t){return t===void 0&&(t=S3),n.theme!==t.theme&&n.theme||e||t.theme},Kje=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Jje=/(^-|-$)/g;function CK(n){return n.replace(Kje,"-").replace(Jje,"")}var rpe=function(n){return bK(Ghe(n)>>>0)};function xI(n){return typeof n=="string"&&!0}var AK=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},Xje=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function Zje(n,e,t){var r=n[t];AK(e)&&AK(r)?ipe(r,e):n[t]=e}function ipe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(AK(o))for(var a in o)Xje(a)&&Zje(n,o[a],a)}return n}var spe=Uu.default.createContext(),G6t=spe.Consumer;var TK={};function ope(n,e,t){var r=yK(n),i=!xI(n),s=e.attrs,o=s===void 0?dI:s,a=e.componentId,c=a===void 0?function(j,I){var K=typeof j!="string"?"sc":CK(j);TK[K]=(TK[K]||0)+1;var de=K+"-"+rpe("5.3.6"+K+TK[K]);return I?I+"-"+de:de}(e.displayName,e.parentComponentId):a,d=e.displayName,p=d===void 0?function(j){return xI(j)?"styled."+j:"Styled("+$he(j)+")"}(n):d,E=e.displayName&&e.componentId?CK(e.displayName)+"-"+e.componentId:e.componentId||c,w=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,N=e.shouldForwardProp;r&&n.shouldForwardProp&&(N=e.shouldForwardProp?function(j,I,K){return n.shouldForwardProp(j,I,K)&&e.shouldForwardProp(j,I,K)}:n.shouldForwardProp);var R,U=new jje(t,E,r?n.componentStyle:void 0),Q=U.isStatic&&o.length===0,P=function(j,I){return function(K,de,M,Z){var me=K.attrs,_e=K.componentStyle,Ve=K.defaultProps,at=K.foldedComponentIds,lt=K.shouldForwardProp,Ke=K.styledComponentId,St=K.target,Ft=function(Qt,wt,mn){Qt===void 0&&(Qt=S3);var Lt=s2({},wt,{theme:Qt}),It={};return mn.forEach(function(cn){var it,ue,De,ve=cn;for(it in LA(ve)&&(ve=ve(Lt)),ve)Lt[it]=It[it]=it==="className"?(ue=It[it],De=ve[it],ue&&De?ue+" "+De:ue||De):ve[it]}),[Lt,It]}(Yje(de,(0,Uu.useContext)(spe),Ve)||S3,de,me),je=Ft[0],te=Ft[1],Xe=function(Qt,wt,mn,Lt){var It=Jhe(),cn=Hje(),it=wt?Qt.generateAndInjectStyles(S3,It,cn):Qt.generateAndInjectStyles(mn,It,cn);return it}(_e,Z,je,void 0),ye=M,ke=te.$as||de.$as||te.as||de.as||St,Ce=xI(ke),xe=te!==de?s2({},de,{},te):de,Je={};for(var ut in xe)ut[0]!=="$"&&ut!=="as"&&(ut==="forwardedAs"?Je.as=xe[ut]:(lt?lt(ut,xK.default,ke):!Ce||(0,xK.default)(ut))&&(Je[ut]=xe[ut]));return de.style&&te.style!==de.style&&(Je.style=s2({},de.style,{},te.style)),Je.className=Array.prototype.concat(at,Ke,Xe!==Ke?Xe:null,de.className,te.className).filter(Boolean).join(" "),Je.ref=ye,(0,Uu.createElement)(ke,Je)}(R,j,I,Q)};return P.displayName=p,(R=Uu.default.forwardRef(P)).attrs=w,R.componentStyle=U,R.displayName=p,R.shouldForwardProp=N,R.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):dI,R.styledComponentId=E,R.target=r?n.target:n,R.withComponent=function(j){var I=e.componentId,K=function(M,Z){if(M==null)return{};var me,_e,Ve={},at=Object.keys(M);for(_e=0;_e<at.length;_e++)me=at[_e],Z.indexOf(me)>=0||(Ve[me]=M[me]);return Ve}(e,["componentId"]),de=I&&I+"-"+(xI(j)?j:CK($he(j)));return ope(j,s2({},K,{attrs:w,componentId:de}),t)},Object.defineProperty(R,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(j){this._foldedDefaultProps=r?ipe({},n.defaultProps,j):j}}),R.toString=function(){return"."+R.styledComponentId},i&&(0,zhe.default)(R,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),R}var FK=function(n){return function e(t,r,i){if(i===void 0&&(i=S3),!(0,fI.isValidElementType)(r))return eg(1,String(r));var s=function(){return t(r,i,npe.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,s2({},i,{},o))},s.attrs=function(o){return e(t,r,s2({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(ope,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){FK[n]=FK(n)});var Y6t=function(){function n(t,r){this.rules=t,this.componentId=r,this.isStatic=Yhe(t),IA.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,r,i,s){var o=s(s_(this.rules,r,i,s).join(""),""),a=this.componentId+t;i.insertRules(a,a,o)},e.removeStyles=function(t,r){r.clearRules(this.componentId+t)},e.renderStyles=function(t,r,i,s){t>2&&IA.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,r,i,s)},n}();function ape(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=npe.apply(void 0,[n].concat(t)).join(""),s=rpe(i);return new Xhe(s,i)}var K6t=function(){function n(){var t=this;this._emitSheetCSS=function(){var r=t.instance.toString();if(!r)return"";var i=_K();return"<style "+[i&&'nonce="'+i+'"',w3+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return t.sealed?eg(2):t._emitSheetCSS()},this.getStyleElement=function(){var r;if(t.sealed)return eg(2);var i=((r={})[w3]="",r["data-styled-version"]="5.3.6",r.dangerouslySetInnerHTML={__html:t.instance.toString()},r),s=_K();return s&&(i.nonce=s),[Uu.default.createElement("style",s2({},i,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new IA({isServer:!0}),this.sealed=!1}var e=n.prototype;return e.collectStyles=function(t){return this.sealed?eg(2):Uu.default.createElement($je,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return eg(3)},n}();var Hn=FK;m();m();var twe=xr(ewe()),pO=xr(vx()),nwe=class{constructor(){this.connection=new twe.DuckDBWASMConnection("duckdb")}async lookupConnection(e){return await this.connection.connecting,this.connection}},L0t=async n=>(await fetch(n)).text(),rwe=class{constructor(){this.contents={}}setContents(e,t){this.contents[e]=t}async readURL(e){let t=e.toString();return t in this.contents?this.contents[t]:L0t(e)}},mO=new rwe,ooe=new nwe,xO=new pO.Runtime(mO,ooe);async function iwe(){let n=window.location.href,e=new URL("composer.json",n),t=await mO.readURL(e),r=JSON.parse(t);return await Promise.all(r.datasets.map(async i=>{let s=await ooe.lookupConnection("duckdb");await Promise.all(i.tables.map(p=>s.database?.registerFileURL(p,new URL(p,n).toString())));let o=new URL(i.model,n),a=i.readme&&await mO.readURL(new URL(i.readme,n)),c=i.styles&&await mO.readURL(new URL(i.styles,n)),d=await xO.getModel(o);return{id:o.toString(),name:i.name,description:i.description,model:d._modelDef,readme:a,styles:c}}))}async function swe(n,e,t){let r=await xO._loadModelFromModelDef(t).getModel(),i=await pO.Malloy.compile({urlReader:mO,connections:ooe,model:r,parse:pO.Malloy.parse({source:n})}),s=xO._loadModelFromModelDef(i._modelDef).loadQueryByName(e),o=(await s.getPreparedResult()).resultExplore.limit;return s.run({rowLimit:o})}async function owe(n,e,t,r){let i=e.as||e.name,s={...n.contents,[i]:e};return xO._loadModelFromModelDef({...n,contents:s}).search(i,t,void 0,r)}async function awe(n,e){let t=e.as||e.name,r={...n.contents,[t]:e};return xO._loadModelFromModelDef({...n,contents:r}).searchValueMap(t)}var uwe="datasets";function aoe(){let{data:n}=E3(uwe,async()=>iwe(),{refetchOnWindowFocus:!1});return n}m();m();var gO=xr(Lr()),lwe=n=>gO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},gO.createElement("title",null,"chevron_left"),gO.createElement("g",{id:"chevron_left",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},gO.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-90.000000) translate(-55.000000, -55.000005) "})));m();var yO=xr(Lr()),Iz=n=>yO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},yO.createElement("title",null,"chevron_right"),yO.createElement("g",{id:"chevron_right",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},yO.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-270.000000) translate(-55.000000, -55.000005) "})));m();var yi={dimension:{fillLight:"rgb(240,246,255)",fillMedium:"#c3d7f7",fillStrong:"#4285f4"},measure:{fillStrong:"#ea8600",fillMedium:"#f3cfa1",fillLight:"#fff3e8"},filter:{fillStrong:"#8166da",fillMedium:"#d4d6d8",fillLight:"#f8f6ff"},query:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},source:{fillStrong:"rgb(56,169,86)",fillMedium:"#bce0c5",fillLight:"#f3fbf5"},other:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},error:{fillStrong:"#9aa0a6",fillMedium:"#d4d6d8",fillLight:"#f7f8f8"},mainBackground:"rgb(247, 249, 252)"};var K9t=Hn.div`
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  display: flex;
  justify-content: space-between;
  align-items: center;
  min-height: 22px;
  padding: 7px 10px 6px 20px;
  border-bottom: 1px solid #efefef;
  font-size: 11pt;
  font-weight: 500;
`,Mz=Hn.div`
  display: flex;
  font-weight: normal;
  font-family: "Roboto Mono";
  gap: 5px;
  margin-top: -3px;
  align-items: center;
  user-select: none;
`,Y5=Hn.label`
  font-size: 12px;
  color: #505050;
  font-family: Roboto;
  font-family: Roboto;
  text-transform: none;
  color: #9aa0a6;
  font-weight: normal;
`,L0=Hn.button`
  padding: 5.5px 10px;
  font-family: Google Sans;
  border-radius: 5px;
  cursor: pointer;
  min-width: 80px;

  ${({color:n="primary",outline:e=!1})=>`
    ${n==="primary"&&!e?`
        border: 1px solid #4285F4;
        background-color: #4285F4;
        color: white;

        &:active {
          background-color: #175cb7;
        }
      `:n==="primary"&&e?`
        border: 1px solid #d8dade;
        background-color: white;
        color: #4285F4;

        &:active {
          background-color: #efefef;
        }
      `:n==="secondary"&&!e?`
        border: 1px solid #a5a5a5;
        background-color: #dbdbdb;
        color: #343434;

        &:active {
          background-color: #adadad;
        }
      `:`
        border: 1px solid #343434;
        background-color: white;
        color: #343434;

        &:active {
          background-color: #343434;
          color: white;
        }
      `}
  `}
`,p1=Hn.div`
  display: flex;
  justify-content: flex-end;
  gap: 5px;
  margin-top: 15px;
`,Pz=Hn.form`
  display: flex;
  justify-content: space-between;
  gap: 5px;
`,cwe=({onClick:n})=>_.createElement(lwe,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),fwe=({onClick:n})=>_.createElement(Iz,{width:"22px",height:"22px",style:{cursor:"pointer"},onClick:n}),Gf=Hn.div`
  color: #969696;
  text-align: center;
  margin-top: 30px;
  margin-bottom: 30px;
  font-family: Roboto;
  text-transform: none;
  font-size: 16px;
  font-weight: normal;
`,yf=Hn.div`
  font-family: Google Sans;
  font-size: 14px;
  color: #505050;
  text-transform: none;
  margin-bottom: 15px;
  user-select: none;
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
`,vf=Hn.div`
  padding: 15px;
`,Il=Hn.div`
  padding: 10px;
`,m1=Hn.div`
  border-bottom: 1px solid #efefef;
  padding: 10px;
`,x1=Hn.div`
  display: flex;
  flex-direction: column;
`,g1=Hn.div`
  display: flex;
  flex-direction: column;
  gap: 15px;
`,Yl=Hn.div`
  overflow-y: auto;
  max-height: 400px;
`,uoe=Hn.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,Bz=Hn(uoe)`
  font-size: 12px;
`,Mw=Hn.div`
  flex-shrink: 0;
  align-items: center;
  justify-content: center;
  display: flex;

  ${({color:n})=>`
      svg .primaryfill {
        fill: ${yi[n].fillStrong};
      }
      svg .primarystroke {
        stroke: ${yi[n].fillStrong};
      }
    `}
`,Pw=Hn.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,jz=Hn.div`
  overflow: hidden;
  width: 100%;
  height: 40px;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  background-color: ${yi.mainBackground};
  flex-shrink: 0;
`,Y6=Hn.div`
  overflow: hidden;
  background-color: white;
  border-radius: 5px;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
`;m();m();m();m();m();var Bw=xr(Lr()),dwe=n=>Bw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Bw.createElement("title",null,"channel_about"),Bw.createElement("g",{id:"channel_about",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Bw.createElement("g",{id:"article_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.250000, 4.250000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},Bw.createElement("path",{d:"M19.9520833,71.29375 L54.9,71.29375 L54.9,63.66875 L19.9520833,63.66875 L19.9520833,71.29375 Z M19.9520833,49.5625 L71.5479167,49.5625 L71.5479167,41.9375 L19.9520833,41.9375 L19.9520833,49.5625 Z M19.9520833,27.83125 L71.5479167,27.83125 L71.5479167,20.20625 L19.9520833,20.20625 L19.9520833,27.83125 Z M7.625,91.5 C5.59166667,91.5 3.8125,90.7375 2.2875,89.2125 C0.7625,87.6875 0,85.9083333 0,83.875 L0,7.625 C0,5.59166667 0.7625,3.8125 2.2875,2.2875 C3.8125,0.7625 5.59166667,0 7.625,0 L83.875,0 C85.9083333,0 87.6875,0.7625 89.2125,2.2875 C90.7375,3.8125 91.5,5.59166667 91.5,7.625 L91.5,83.875 C91.5,85.9083333 90.7375,87.6875 89.2125,89.2125 C87.6875,90.7375 85.9083333,91.5 83.875,91.5 L7.625,91.5 Z M7.625,83.875 L83.875,83.875 L83.875,7.625 L7.625,7.625 L7.625,83.875 Z M7.625,7.625 L7.625,83.875 L7.625,7.625 Z",id:"Shape"}))));m();var jw=xr(Lr()),hwe=n=>jw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},jw.createElement("title",null,"channel_feedback"),jw.createElement("g",{id:"channel_feedback",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},jw.createElement("g",{id:"chat_FILL0_wght400_GRAD0_opsz48",transform:"translate(4.000000, 4.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},jw.createElement("path",{d:"M18.4,55.315 L54.395,55.315 L54.395,48.415 L18.4,48.415 L18.4,55.315 Z M18.4,40.365 L73.6,40.365 L73.6,33.465 L18.4,33.465 L18.4,40.365 Z M18.4,25.415 L73.6,25.415 L73.6,18.515 L18.4,18.515 L18.4,25.415 Z M0,92 L0,6.9 C0,5.13666667 0.69,3.54583333 2.07,2.1275 C3.45,0.709166667 5.06,0 6.9,0 L85.1,0 C86.8633333,0 88.4541667,0.709166667 89.8725,2.1275 C91.2908333,3.54583333 92,5.13666667 92,6.9 L92,66.7 C92,68.4633333 91.2908333,70.0541667 89.8725,71.4725 C88.4541667,72.8908333 86.8633333,73.6 85.1,73.6 L18.4,73.6 L0,92 Z M6.9,75.325 L15.525,66.7 L85.1,66.7 L85.1,6.9 L6.9,6.9 L6.9,75.325 Z M6.9,6.9 L6.9,75.325 L6.9,6.9 Z",id:"Shape"}))));m();var qw=xr(Lr()),pwe=n=>qw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},qw.createElement("title",null,"channel_help"),qw.createElement("g",{id:"channel_help",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},qw.createElement("g",{id:"help_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},qw.createElement("path",{d:"M46.7125,73.190625 C47.9458333,73.190625 48.9864583,72.7666667 49.834375,71.91875 C50.6822917,71.0708333 51.10625,70.0302083 51.10625,68.796875 C51.10625,67.5635417 50.6822917,66.5229167 49.834375,65.675 C48.9864583,64.8270833 47.9458333,64.403125 46.7125,64.403125 C45.4791667,64.403125 44.4385417,64.8270833 43.590625,65.675 C42.7427083,66.5229167 42.31875,67.5635417 42.31875,68.796875 C42.31875,70.0302083 42.7427083,71.0708333 43.590625,71.91875 C44.4385417,72.7666667 45.4791667,73.190625 46.7125,73.190625 Z M42.665625,56.309375 L49.4875,56.309375 C49.4875,54.3052083 49.7380208,52.4744792 50.2390625,50.8171875 C50.7401042,49.1598958 52.3010417,47.2520833 54.921875,45.09375 C57.3114583,43.0895833 59.0072917,41.1239583 60.009375,39.196875 C61.0114583,37.2697917 61.5125,35.15 61.5125,32.8375 C61.5125,28.7520833 60.1828125,25.4760417 57.5234375,23.009375 C54.8640625,20.5427083 51.3375,19.309375 46.94375,19.309375 C43.1666667,19.309375 39.8328125,20.2536458 36.9421875,22.1421875 C34.0515625,24.0307292 31.9510417,26.6322917 30.640625,29.946875 L36.76875,32.259375 C37.6166667,30.1010417 38.8885417,28.4244792 40.584375,27.2296875 C42.2802083,26.0348958 44.284375,25.4375 46.596875,25.4375 C49.2177083,25.4375 51.3375,26.1505208 52.95625,27.5765625 C54.575,29.0026042 55.384375,30.8333333 55.384375,33.06875 C55.384375,34.7645833 54.8833333,36.3640625 53.88125,37.8671875 C52.8791667,39.3703125 51.4145833,40.93125 49.4875,42.55 C47.175,44.5541667 45.4598958,46.5390625 44.3421875,48.5046875 C43.2244792,50.4703125 42.665625,53.071875 42.665625,56.309375 L42.665625,56.309375 Z M46.25,92.5 C39.9291667,92.5 33.9552083,91.2859375 28.328125,88.8578125 C22.7010417,86.4296875 17.7869792,83.1151042 13.5859375,78.9140625 C9.38489583,74.7130208 6.0703125,69.7989583 3.6421875,64.171875 C1.2140625,58.5447917 0,52.5708333 0,46.25 C0,39.8520833 1.2140625,33.8395833 3.6421875,28.2125 C6.0703125,22.5854167 9.38489583,17.690625 13.5859375,13.528125 C17.7869792,9.365625 22.7010417,6.0703125 28.328125,3.6421875 C33.9552083,1.2140625 39.9291667,0 46.25,0 C52.6479167,0 58.6604167,1.2140625 64.2875,3.6421875 C69.9145833,6.0703125 74.809375,9.365625 78.971875,13.528125 C83.134375,17.690625 86.4296875,22.5854167 88.8578125,28.2125 C91.2859375,33.8395833 92.5,39.8520833 92.5,46.25 C92.5,52.5708333 91.2859375,58.5447917 88.8578125,64.171875 C86.4296875,69.7989583 83.134375,74.7130208 78.971875,78.9140625 C74.809375,83.1151042 69.9145833,86.4296875 64.2875,88.8578125 C58.6604167,91.2859375 52.6479167,92.5 46.25,92.5 Z M46.25,85.5625 C57.1958333,85.5625 66.484375,81.7276042 74.115625,74.0578125 C81.746875,66.3880208 85.5625,57.11875 85.5625,46.25 C85.5625,35.3041667 81.746875,26.015625 74.115625,18.384375 C66.484375,10.753125 57.1958333,6.9375 46.25,6.9375 C35.38125,6.9375 26.1119792,10.753125 18.4421875,18.384375 C10.7723958,26.015625 6.9375,35.3041667 6.9375,46.25 C6.9375,57.11875 10.7723958,66.3880208 18.4421875,74.0578125 C26.1119792,81.7276042 35.38125,85.5625 46.25,85.5625 Z",id:"Shape"}))));m();var Uw=xr(Lr()),mwe=n=>Uw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Uw.createElement("title",null,"channel_preview"),Uw.createElement("g",{id:"channel_preview",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Uw.createElement("g",{id:"analytics_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},Uw.createElement("path",{d:"M21.0694444,72.3298611 L28.7777778,72.3298611 L28.7777778,45.9930556 L21.0694444,45.9930556 L21.0694444,72.3298611 Z M63.7222222,72.3298611 L71.4305556,72.3298611 L71.4305556,18.3715278 L63.7222222,18.3715278 L63.7222222,72.3298611 Z M42.3958333,72.3298611 L50.1041667,72.3298611 L50.1041667,57.1701389 L42.3958333,57.1701389 L42.3958333,72.3298611 Z M42.3958333,45.9930556 L50.1041667,45.9930556 L50.1041667,38.2847222 L42.3958333,38.2847222 L42.3958333,45.9930556 Z M7.70833333,92.5 C5.65277778,92.5 3.85416667,91.7291667 2.3125,90.1875 C0.770833333,88.6458333 0,86.8472222 0,84.7916667 L0,7.70833333 C0,5.65277778 0.770833333,3.85416667 2.3125,2.3125 C3.85416667,0.770833333 5.65277778,0 7.70833333,0 L84.7916667,0 C86.8472222,0 88.6458333,0.770833333 90.1875,2.3125 C91.7291667,3.85416667 92.5,5.65277778 92.5,7.70833333 L92.5,84.7916667 C92.5,86.8472222 91.7291667,88.6458333 90.1875,90.1875 C88.6458333,91.7291667 86.8472222,92.5 84.7916667,92.5 L7.70833333,92.5 Z M7.70833333,84.7916667 L84.7916667,84.7916667 L84.7916667,7.70833333 L7.70833333,7.70833333 L7.70833333,84.7916667 Z M7.70833333,7.70833333 L7.70833333,84.7916667 L7.70833333,7.70833333 Z",id:"Shape"}))));m();var zw=xr(Lr()),xwe=n=>zw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},zw.createElement("title",null,"channel_query"),zw.createElement("g",{id:"channel_query",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},zw.createElement("g",{id:"travel_explore_FILL0_wght400_GRAD0_opsz48",transform:"translate(2.685232, 3.500000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},zw.createElement("path",{d:"M43.9974969,93 C37.8673342,92.689612 32.1251564,91.2540676 26.7709637,88.6933667 C21.416771,86.1326658 16.7609512,82.7765957 12.8035044,78.6251564 C8.84605757,74.4737171 5.72277847,69.6433041 3.43366708,64.1339174 C1.14455569,58.6245307 0,52.7659574 0,46.5581977 C0,40.1176471 1.22215269,34.0650814 3.66645807,28.4005006 C6.11076345,22.7359199 9.42803504,17.8085106 13.6182728,13.6182728 C17.8085106,9.42803504 22.7359199,6.11076345 28.4005006,3.66645807 C34.0650814,1.22215269 40.1176471,0 46.5581977,0 C58.1201502,0 68.1689612,3.64705882 76.7046308,10.9411765 C85.2403004,18.2352941 90.4780976,27.3917397 92.4180225,38.4105131 L85.3178974,38.4105131 C83.9987484,31.8923655 81.2440551,26.0725907 77.0538173,20.951189 C72.8635795,15.8297872 67.6257822,11.9887359 61.3404255,9.42803504 L61.3404255,11.5231539 C61.3404255,14.2390488 60.4092616,16.6057572 58.5469337,18.6232791 C56.6846058,20.640801 54.3954944,21.649562 51.6795995,21.649562 L41.5531915,21.649562 L41.5531915,31.77597 C41.5531915,33.0951189 41.0294118,34.1814768 39.9818523,35.0350438 C38.9342929,35.8886108 37.7509387,36.3153942 36.4317897,36.3153942 L26.7709637,36.3153942 L26.7709637,46.5581977 L39.5744681,46.5581977 L39.5744681,61.1076345 L31.77597,61.1076345 L8.03128911,37.3629537 C7.64330413,38.9148936 7.37171464,40.4474343 7.21652065,41.9605757 C7.06132666,43.4737171 6.98372966,45.0062578 6.98372966,46.5581977 C6.98372966,57.0337922 10.514393,66.0738423 17.5757196,73.6783479 C24.6370463,81.2828536 33.4443054,85.3954944 43.9974969,86.0162703 L43.9974969,93 Z M89.6245307,89.9737171 L74.0275344,74.3767209 C72.3979975,75.5406758 70.6326658,76.4330413 68.7315394,77.0538173 C66.830413,77.6745932 64.8710889,77.9849812 62.853567,77.9849812 C57.3441802,77.9849812 52.6689612,76.0644556 48.8279099,72.2234043 C44.9868586,68.3823529 43.0663329,63.7071339 43.0663329,58.1977472 C43.0663329,52.6883605 44.9868586,48.0131414 48.8279099,44.1720901 C52.6689612,40.3310388 57.3441802,38.4105131 62.853567,38.4105131 C68.3629537,38.4105131 73.0381727,40.3310388 76.879224,44.1720901 C80.7202753,48.0131414 82.640801,52.6883605 82.640801,58.1977472 C82.640801,60.2152691 82.3110138,62.1745932 81.6514393,64.0757196 C80.9918648,65.9768461 80.1188986,67.7809762 79.0325407,69.4881101 L94.6295369,84.9687109 L89.6245307,89.9737171 Z M62.853567,71.0012516 C66.4230288,71.0012516 69.4493116,69.7596996 71.9324155,67.2765957 C74.4155194,64.7934919 75.6570713,61.767209 75.6570713,58.1977472 C75.6570713,54.6282854 74.4155194,51.6020025 71.9324155,49.1188986 C69.4493116,46.6357947 66.4230288,45.3942428 62.853567,45.3942428 C59.2841051,45.3942428 56.2578223,46.6357947 53.7747184,49.1188986 C51.2916145,51.6020025 50.0500626,54.6282854 50.0500626,58.1977472 C50.0500626,61.767209 51.2916145,64.7934919 53.7747184,67.2765957 C56.2578223,69.7596996 59.2841051,71.0012516 62.853567,71.0012516 Z",id:"Shape"}))));m();var sy=xr(Lr()),gwe=n=>sy.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},sy.createElement("title",null,"channel_samples"),sy.createElement("g",{id:"channel_samples",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},sy.createElement("g",{id:"Group",transform:"translate(5.000000, 5.000000)",fill:"#4285F4",className:"primary-fill"},sy.createElement("path",{d:"M20.25,6.75 L83.25,6.75 L83.25,70.875 L20.25,70.875 L20.25,6.75 Z M20.25,0 C18.45,0 16.875,0.675 15.525,2.025 C14.175,3.375 13.5,4.95 13.5,6.75 L13.5,69.75 C13.5,71.55 14.175,73.125 15.525,74.475 C16.875,75.825 18.45,76.5 20.25,76.5 L83.25,76.5 C85.05,76.5 86.625,75.825 87.975,74.475 C89.325,73.125 90,71.55 90,69.75 L90,6.75 C90,4.95 89.325,3.375 87.975,2.025 C86.625,0.675 85.05,0 83.25,0 L20.25,0 Z M6.75,90 C4.95,90 3.375,89.325 2.025,87.975 C0.675,86.625 0,85.05 0,83.25 L0,13.5 L6.75,13.5 L6.75,83.25 L76.5,83.25 L76.5,90 L6.75,90 Z",id:"Shape",fillRule:"nonzero"}),sy.createElement("rect",{id:"Rectangle",x:30.1571655,y:21.9026527,width:42.7656174,height:6.46202087}),sy.createElement("rect",{id:"Rectangle-Copy",x:30.1571655,y:36.2815933,width:42.7656174,height:6.46202087}),sy.createElement("rect",{id:"Rectangle-Copy-2",x:30.1571655,y:50.2489586,width:22.6109238,height:6.46202087}))));m();var Hw=xr(Lr()),ywe=n=>Hw.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Hw.createElement("title",null,"channel_settings"),Hw.createElement("g",{id:"channel_settings",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},Hw.createElement("g",{id:"settings_FILL0_wght400_GRAD0_opsz48",transform:"translate(3.750000, 3.750000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},Hw.createElement("path",{d:"M35.6125,92.5 L33.3,77.93125 C31.8354167,77.3916667 30.29375,76.659375 28.675,75.734375 C27.05625,74.809375 25.6302083,73.8458333 24.396875,72.84375 L10.753125,79.0875 L0,60.125 L12.4875,50.990625 C12.3333333,50.296875 12.2369792,49.5067708 12.1984375,48.6203125 C12.1598958,47.7338542 12.140625,46.94375 12.140625,46.25 C12.140625,45.55625 12.1598958,44.7661458 12.1984375,43.8796875 C12.2369792,42.9932292 12.3333333,42.203125 12.4875,41.509375 L0,32.375 L10.753125,13.4125 L24.396875,19.65625 C25.6302083,18.6541667 27.05625,17.690625 28.675,16.765625 C30.29375,15.840625 31.8354167,15.146875 33.3,14.684375 L35.6125,0 L56.8875,0 L59.2,14.56875 C60.6645833,15.1083333 62.2255208,15.8213542 63.8828125,16.7078125 C65.5401042,17.5942708 66.946875,18.5770833 68.103125,19.65625 L81.746875,13.4125 L92.5,32.375 L80.0125,41.278125 C80.1666667,42.0489583 80.2630208,42.8776042 80.3015625,43.7640625 C80.3401042,44.6505208 80.359375,45.4791667 80.359375,46.25 C80.359375,47.0208333 80.3401042,47.8302083 80.3015625,48.678125 C80.2630208,49.5260417 80.1666667,50.3354167 80.0125,51.10625 L92.5,60.125 L81.746875,79.0875 L68.103125,72.84375 C66.8697917,73.8458333 65.4630208,74.8286458 63.8828125,75.7921875 C62.3026042,76.7557292 60.7416667,77.46875 59.2,77.93125 L56.8875,92.5 L35.6125,92.5 Z M46.25,61.28125 C50.4125,61.28125 53.9583333,59.8166667 56.8875,56.8875 C59.8166667,53.9583333 61.28125,50.4125 61.28125,46.25 C61.28125,42.0875 59.8166667,38.5416667 56.8875,35.6125 C53.9583333,32.6833333 50.4125,31.21875 46.25,31.21875 C42.0875,31.21875 38.5416667,32.6833333 35.6125,35.6125 C32.6833333,38.5416667 31.21875,42.0875 31.21875,46.25 C31.21875,50.4125 32.6833333,53.9583333 35.6125,56.8875 C38.5416667,59.8166667 42.0875,61.28125 46.25,61.28125 Z M46.25,54.34375 C44.0145833,54.34375 42.1067708,53.5536458 40.5265625,51.9734375 C38.9463542,50.3932292 38.15625,48.4854167 38.15625,46.25 C38.15625,44.0145833 38.9463542,42.1067708 40.5265625,40.5265625 C42.1067708,38.9463542 44.0145833,38.15625 46.25,38.15625 C48.4854167,38.15625 50.3932292,38.9463542 51.9734375,40.5265625 C53.5536458,42.1067708 54.34375,44.0145833 54.34375,46.25 C54.34375,48.4854167 53.5536458,50.3932292 51.9734375,51.9734375 C50.3932292,53.5536458 48.4854167,54.34375 46.25,54.34375 Z M41.1625,85.5625 L51.3375,85.5625 L52.95625,72.6125 C55.5,71.9958333 57.9088542,71.0322917 60.1828125,69.721875 C62.4567708,68.4114583 64.51875,66.83125 66.36875,64.98125 L78.625,70.3 L83.25,61.975 L72.38125,53.996875 C72.6895833,52.6864583 72.9401042,51.3953125 73.1328125,50.1234375 C73.3255208,48.8515625 73.421875,47.5604167 73.421875,46.25 C73.421875,44.9395833 73.3447917,43.6484375 73.190625,42.3765625 C73.0364583,41.1046875 72.7666667,39.8135417 72.38125,38.503125 L83.25,30.525 L78.625,22.2 L66.36875,27.51875 C64.5958333,25.5145833 62.5916667,23.8380208 60.35625,22.4890625 C58.1208333,21.1401042 55.6541667,20.2729167 52.95625,19.8875 L51.3375,6.9375 L41.1625,6.9375 L39.54375,19.8875 C36.9229167,20.4270833 34.4755208,21.3520833 32.2015625,22.6625 C29.9276042,23.9729167 27.9041667,25.5916667 26.13125,27.51875 L13.875,22.2 L9.25,30.525 L20.11875,38.503125 C19.8104167,39.8135417 19.5598958,41.1046875 19.3671875,42.3765625 C19.1744792,43.6484375 19.078125,44.9395833 19.078125,46.25 C19.078125,47.5604167 19.1744792,48.8515625 19.3671875,50.1234375 C19.5598958,51.3953125 19.8104167,52.6864583 20.11875,53.996875 L9.25,61.975 L13.875,70.3 L26.13125,64.98125 C27.98125,66.83125 30.0432292,68.4114583 32.3171875,69.721875 C34.5911458,71.0322917 37,71.9958333 39.54375,72.6125 L41.1625,85.5625 Z",id:"Shape"}))));m();var $w=xr(Lr()),vwe=n=>$w.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},$w.createElement("title",null,"channel_source"),$w.createElement("g",{id:"channel_source",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",className:"hover-fill"},$w.createElement("g",{id:"account_tree_FILL0_wght400_GRAD0_opsz48",transform:"translate(50.000000, 50.000000) scale(-1, -1) translate(-50.000000, -50.000000) translate(3.333333, 8.000000)",fill:"#4285F4",fillRule:"nonzero",className:"primary-fill"},$w.createElement("path",{d:"M61.1333333,84 L61.1333333,69.4166667 L43.1666667,69.4166667 L43.1666667,21.5833333 L32.3166667,21.5833333 L32.3166667,36.75 L0,36.75 L0,0 L32.3166667,0 L32.3166667,14.5833333 L61.1333333,14.5833333 L61.1333333,0 L93.3333333,0 L93.3333333,36.75 L61.1333333,36.75 L61.1333333,21.5833333 L50.1666667,21.5833333 L50.1666667,62.4166667 L61.1333333,62.4166667 L61.1333333,47.25 L93.3333333,47.25 L93.3333333,84 L61.1333333,84 Z M7,7 L7,29.75 L7,7 Z M68.1333333,54.25 L68.1333333,77 L68.1333333,54.25 Z M68.1333333,7 L68.1333333,29.75 L68.1333333,7 Z M68.1333333,29.75 L86.3333333,29.75 L86.3333333,7 L68.1333333,7 L68.1333333,29.75 Z M68.1333333,77 L86.3333333,77 L86.3333333,54.25 L68.1333333,54.25 L68.1333333,77 Z M7,29.75 L25.3166667,29.75 L25.3166667,7 L7,7 L7,29.75 Z",id:"Shape"}))));var loe=({name:n})=>{let e={width:"18px",height:"18px"};switch(n){case"about":return _.createElement(dwe,{...e});case"feedback":return _.createElement(hwe,{...e});case"help":return _.createElement(pwe,{...e});case"preview":return _.createElement(mwe,{...e});case"query":return _.createElement(xwe,{...e});case"samples":return _.createElement(gwe,{...e});case"settings":return _.createElement(ywe,{...e});case"source":return _.createElement(vwe,{...e})}};var vO=({icon:n,text:e,onClick:t,selected:r,disabled:i=!1})=>_.createElement(k0t,{onClick:t,selected:r,disabled:i},_.createElement(loe,{name:n}),e),k0t=Hn.button`
  outline: none;
  border: none;
  color: ${yi.dimension.fillStrong};
  display: flex;
  flex-direction: column;
  background-color: transparent;
  gap: 8px;
  align-items: center;
  justify-content: center;
  padding: 10px;
  font-weight: 600;

  ${({selected:n,disabled:e})=>(e?`
      .primary-fill {
        fill: ${yi.other.fillMedium};
      }

      color: ${yi.other.fillMedium};
    `:`
      cursor: pointer;

      &:hover {
        background-color: ${yi.other.fillLight};
      }

      .primary-fill {
        fill: ${yi.other.fillStrong};
      }

      color: ${yi.other.fillStrong};
    `)+(n?`
      color: ${yi.dimension.fillStrong};

      &:hover {
        background-color: ${yi.dimension.fillLight};
      }

      .primary-fill {
        fill: ${yi.dimension.fillStrong};
      }
      `:"")}
`;m();m();var _we=Hn.div`
  padding: 5px;
  background-color: #fbb;
  font-family: "Google Sans", sans-serif;
  font-size: 12px;
  color: #4b4c50;
  border-radius: 5px;
`,I0t=Hn(_we)`
  white-space: pre-wrap;
  font-family: "Roboto Mono", monospace;
`,coe=({error:n})=>{if(n){let{message:e}=n;return e.split(`
`).length>1?_.createElement(I0t,null,e):_.createElement(_we,null,e)}return null};var NLe=xr(uCe());m();m();m();var X5=xr(lCe()),Xz=xr(cCe());var woe=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"text.html.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["css","javascript","less","sass","scss","stylus","typescript","tsx"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample"},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample"},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json"},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"jupyter",scopeName:"source.jupyter",path:"jupyter.tmLanguage.json",embeddedLangs:["json"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","html","java","javascript","typescript","lua","python","julia","ruby","xml","yaml","cpp","haskell","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"marko",scopeName:"text.marko",path:"marko.tmLanguage.json",samplePath:"marko.sample",embeddedLangs:["css","less","scss","javascript"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"rel",scopeName:"source.rel",path:"rel.tmLanguage.json",samplePath:"rel.sample"},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"],embeddedLangs:["ruby","python","applescript","html","markdown"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stata",scopeName:"source.stata",path:"stata.tmLanguage.json",samplePath:"stata.sample",embeddedLangs:["sql"]},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["json","markdown","pug","haml","vue-html","sass","scss","less","stylus","postcss","css","typescript","coffee","javascript"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["\u6587\u8A00"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"},{id:"zenscript",scopeName:"source.zenscript",path:"zenscript.tmLanguage.json",samplePath:"zenscript.sample"}],Qw;(function(n){n[n.NotSet=-1]="NotSet",n[n.None=0]="None",n[n.Italic=1]="Italic",n[n.Bold=2]="Bold",n[n.Underline=4]="Underline"})(Qw||(Qw={}));var hh=class{static toBinaryStr(e){let t=e.toString(2);for(;t.length<32;)t="0"+t;return t}static printMetadata(e){let t=hh.getLanguageId(e),r=hh.getTokenType(e),i=hh.getFontStyle(e),s=hh.getForeground(e),o=hh.getBackground(e);console.log({languageId:t,tokenType:r,fontStyle:i,foreground:s,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&1792)>>>8}static getFontStyle(e){return(e&14336)>>>11}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static set(e,t,r,i,s,o){let a=hh.getLanguageId(e),c=hh.getTokenType(e),d=hh.getFontStyle(e),p=hh.getForeground(e),E=hh.getBackground(e);return t!==0&&(a=t),r!==0&&(c=r===8?0:r),i!==Qw.NotSet&&(d=i),s!==0&&(p=s),o!==0&&(E=o),(a<<0|c<<8|d<<11|p<<14|E<<23)>>>0}};function kdt(n){return n.endsWith("/")||n.endsWith("\\")?n.slice(0,-1):n}function Idt(n){return n.startsWith("./")?n.slice(2):n}function Mdt(n){let e=n.split(/[\/\\]/g);return e[e.length-2]}function Pdt(...n){return n.map(kdt).map(Idt).join("/")}function Bdt(n,e){let t=new Map;for(let r of n){let i=e(r);t.has(i)?t.get(i).push(r):t.set(i,[r])}return t}function jdt(n,e){e===void 0&&(e=!1);var t=n.length,r=0,i="",s=0,o=16,a=0,c=0,d=0,p=0,E=0;function w(I,K){for(var de=0,M=0;de<I||!K;){var Z=n.charCodeAt(r);if(Z>=48&&Z<=57)M=M*16+Z-48;else if(Z>=65&&Z<=70)M=M*16+Z-65+10;else if(Z>=97&&Z<=102)M=M*16+Z-97+10;else break;r++,de++}return de<I&&(M=-1),M}function N(I){r=I,i="",s=0,o=16,E=0}function R(){var I=r;if(n.charCodeAt(r)===48)r++;else for(r++;r<n.length&&Gw(n.charCodeAt(r));)r++;if(r<n.length&&n.charCodeAt(r)===46)if(r++,r<n.length&&Gw(n.charCodeAt(r)))for(r++;r<n.length&&Gw(n.charCodeAt(r));)r++;else return E=3,n.substring(I,r);var K=r;if(r<n.length&&(n.charCodeAt(r)===69||n.charCodeAt(r)===101))if(r++,(r<n.length&&n.charCodeAt(r)===43||n.charCodeAt(r)===45)&&r++,r<n.length&&Gw(n.charCodeAt(r))){for(r++;r<n.length&&Gw(n.charCodeAt(r));)r++;K=r}else E=3;return n.substring(I,K)}function U(){for(var I="",K=r;;){if(r>=t){I+=n.substring(K,r),E=2;break}var de=n.charCodeAt(r);if(de===34){I+=n.substring(K,r),r++;break}if(de===92){if(I+=n.substring(K,r),r++,r>=t){E=2;break}var M=n.charCodeAt(r++);switch(M){case 34:I+='"';break;case 92:I+="\\";break;case 47:I+="/";break;case 98:I+="\b";break;case 102:I+="\f";break;case 110:I+=`
`;break;case 114:I+="\r";break;case 116:I+="	";break;case 117:var Z=w(4,!0);Z>=0?I+=String.fromCharCode(Z):E=4;break;default:E=5}K=r;continue}if(de>=0&&de<=31)if(FO(de)){I+=n.substring(K,r),E=2;break}else E=6;r++}return I}function Q(){if(i="",E=0,s=r,c=a,p=d,r>=t)return s=t,o=17;var I=n.charCodeAt(r);if(Coe(I)){do r++,i+=String.fromCharCode(I),I=n.charCodeAt(r);while(Coe(I));return o=15}if(FO(I))return r++,i+=String.fromCharCode(I),I===13&&n.charCodeAt(r)===10&&(r++,i+=`
`),a++,d=r,o=14;switch(I){case 123:return r++,o=1;case 125:return r++,o=2;case 91:return r++,o=3;case 93:return r++,o=4;case 58:return r++,o=6;case 44:return r++,o=5;case 34:return r++,i=U(),o=10;case 47:var K=r-1;if(n.charCodeAt(r+1)===47){for(r+=2;r<t&&!FO(n.charCodeAt(r));)r++;return i=n.substring(K,r),o=12}if(n.charCodeAt(r+1)===42){r+=2;for(var de=t-1,M=!1;r<de;){var Z=n.charCodeAt(r);if(Z===42&&n.charCodeAt(r+1)===47){r+=2,M=!0;break}r++,FO(Z)&&(Z===13&&n.charCodeAt(r)===10&&r++,a++,d=r)}return M||(r++,E=1),i=n.substring(K,r),o=13}return i+=String.fromCharCode(I),r++,o=16;case 45:if(i+=String.fromCharCode(I),r++,r===t||!Gw(n.charCodeAt(r)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=R(),o=11;default:for(;r<t&&P(I);)r++,I=n.charCodeAt(r);if(s!==r){switch(i=n.substring(s,r),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(I),r++,o=16}}function P(I){if(Coe(I)||FO(I))return!1;switch(I){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function j(){var I;do I=Q();while(I>=12&&I<=15);return I}return{setPosition:N,getPosition:function(){return r},scan:e?j:Q,getToken:function(){return o},getTokenValue:function(){return i},getTokenOffset:function(){return s},getTokenLength:function(){return r-s},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return s-p},getTokenError:function(){return E}}}function Coe(n){return n===32||n===9||n===11||n===12||n===160||n===5760||n>=8192&&n<=8203||n===8239||n===8287||n===12288||n===65279}function FO(n){return n===10||n===13||n===8232||n===8233}function Gw(n){return n>=48&&n<=57}var Zz;(function(n){n.DEFAULT={allowTrailingComma:!1}})(Zz||(Zz={}));function qdt(n,e,t){e===void 0&&(e=[]),t===void 0&&(t=Zz.DEFAULT);var r=null,i=[],s=[];function o(c){Array.isArray(i)?i.push(c):r!==null&&(i[r]=c)}var a={onObjectBegin:function(){var c={};o(c),s.push(i),i=c,r=null},onObjectProperty:function(c){r=c},onObjectEnd:function(){i=s.pop()},onArrayBegin:function(){var c=[];o(c),s.push(i),i=c,r=null},onArrayEnd:function(){i=s.pop()},onLiteralValue:o,onError:function(c,d,p){e.push({error:c,offset:d,length:p})}};return Udt(n,a,t),i[0]}function Udt(n,e,t){t===void 0&&(t=Zz.DEFAULT);var r=jdt(n,!1);function i(_e){return _e?function(){return _e(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function s(_e){return _e?function(Ve){return _e(Ve,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}var o=i(e.onObjectBegin),a=s(e.onObjectProperty),c=i(e.onObjectEnd),d=i(e.onArrayBegin),p=i(e.onArrayEnd),E=s(e.onLiteralValue),w=s(e.onSeparator),N=i(e.onComment),R=s(e.onError),U=t&&t.disallowComments,Q=t&&t.allowTrailingComma;function P(){for(;;){var _e=r.scan();switch(r.getTokenError()){case 4:j(14);break;case 5:j(15);break;case 3:j(13);break;case 1:U||j(11);break;case 2:j(12);break;case 6:j(16);break}switch(_e){case 12:case 13:U?j(10):N();break;case 16:j(1);break;case 15:case 14:break;default:return _e}}}function j(_e,Ve,at){if(Ve===void 0&&(Ve=[]),at===void 0&&(at=[]),R(_e),Ve.length+at.length>0)for(var lt=r.getToken();lt!==17;){if(Ve.indexOf(lt)!==-1){P();break}else if(at.indexOf(lt)!==-1)break;lt=P()}}function I(_e){var Ve=r.getTokenValue();return _e?E(Ve):a(Ve),P(),!0}function K(){switch(r.getToken()){case 11:var _e=r.getTokenValue(),Ve=Number(_e);isNaN(Ve)&&(j(2),Ve=0),E(Ve);break;case 7:E(null);break;case 8:E(!0);break;case 9:E(!1);break;default:return!1}return P(),!0}function de(){return r.getToken()!==10?(j(3,[],[2,5]),!1):(I(!1),r.getToken()===6?(w(":"),P(),me()||j(4,[],[2,5])):j(5,[],[2,5]),!0)}function M(){o(),P();for(var _e=!1;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(_e||j(4,[],[]),w(","),P(),r.getToken()===2&&Q)break}else _e&&j(6,[],[]);de()||j(4,[],[2,5]),_e=!0}return c(),r.getToken()!==2?j(7,[2],[]):P(),!0}function Z(){d(),P();for(var _e=!1;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(_e||j(4,[],[]),w(","),P(),r.getToken()===4&&Q)break}else _e&&j(6,[],[]);me()||j(4,[],[4,5]),_e=!0}return p(),r.getToken()!==4?j(8,[4],[]):P(),!0}function me(){switch(r.getToken()){case 3:return Z();case 1:return M();case 10:return I(!0);default:return K()}}return P(),r.getToken()===17?t.allowEmptyContent?!0:(j(4,[],[]),!1):me()?(r.getToken()!==17&&j(9,[],[]),!0):(j(4,[],[]),!1)}var zdt=qdt,Hdt=typeof self!="undefined"&&typeof self.WorkerGlobalScope!="undefined",Aoe=Hdt||typeof window!="undefined"&&typeof window.document!="undefined"&&typeof fetch!="undefined",Toe="",fCe="";function dCe(n){Toe=n}var Foe=null;async function $dt(){if(!Foe){let n;if(Aoe)typeof fCe=="string"?n=(0,X5.loadWASM)({data:await fetch(hCe("dist/onig.wasm")).then(e=>e.arrayBuffer())}):n=(0,X5.loadWASM)(fCe);else{let t=Eoe().join(wL.resolve("vscode-oniguruma"),"../onig.wasm"),i=Soe().readFileSync(t).buffer;n=(0,X5.loadWASM)(i)}Foe=n.then(()=>({createOnigScanner(e){return(0,X5.createOnigScanner)(e)},createOnigString(e){return(0,X5.createOnigString)(e)}}))}return Foe}function hCe(n){if(Aoe)return Toe||console.warn("[Shiki] no CDN provider found, use `setCDN()` to specify the CDN for loading the resources before calling `getHighlighter()`"),`${Toe}${n}`;{let e=Eoe();return e.isAbsolute(n)?n:e.resolve(__dirname,"..",n)}}async function Vdt(n){let e=hCe(n);return Aoe?await fetch(e).then(t=>t.text()):await Soe().promises.readFile(e,"utf-8")}async function pCe(n){let e=[],t=zdt(await Vdt(n),e,{allowTrailingComma:!0});if(e.length)throw e[0];return t}async function mCe(n){let e=await pCe(n),t=xCe(e);if(t.include){let r=await mCe(Pdt(Mdt(n),t.include));r.settings&&(t.settings=r.settings.concat(t.settings)),r.bg&&!t.bg&&(t.bg=r.bg),r.colors&&(t.colors=Object.assign(Object.assign({},r.colors),t.colors)),delete t.include}return t}async function Wdt(n){return await pCe(n)}function Qdt(n){n.settings||(n.settings=[]),!(n.settings[0]&&n.settings[0].settings&&!n.settings[0].scope)&&n.settings.unshift({settings:{foreground:n.fg,background:n.bg}})}function xCe(n){let e=n.type||"dark",t=Object.assign(Object.assign({name:n.name,type:e},n),Gdt(n));return n.include&&(t.include=n.include),n.tokenColors&&(t.settings=n.tokenColors,delete t.tokenColors),Qdt(t),t}var gCe={light:"#333333",dark:"#bbbbbb"},yCe={light:"#fffffe",dark:"#1e1e1e"};function Gdt(n){var e,t,r,i,s,o;let a,c,d=n.settings?n.settings:n.tokenColors,p=d?d.find(E=>!E.name&&!E.scope):void 0;return((e=p==null?void 0:p.settings)===null||e===void 0?void 0:e.foreground)&&(a=p.settings.foreground),((t=p==null?void 0:p.settings)===null||t===void 0?void 0:t.background)&&(c=p.settings.background),!a&&((i=(r=n)===null||r===void 0?void 0:r.colors)===null||i===void 0?void 0:i["editor.foreground"])&&(a=n.colors["editor.foreground"]),!c&&((o=(s=n)===null||s===void 0?void 0:s.colors)===null||o===void 0?void 0:o["editor.background"])&&(c=n.colors["editor.background"]),a||(a=n.type==="light"?gCe.light:gCe.dark),c||(c=n.type==="light"?yCe.light:yCe.dark),{fg:a,bg:c}}var vCe=class{constructor(e,t){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=e,this._onigLibName=t}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(e){return this.languageMap[e]}async loadGrammar(e){let t=this.scopeToLangMap[e];if(!t)return null;if(t.grammar)return t.grammar;let r=await Wdt(woe.includes(t)?`${this.languagesPath}${t.path}`:t.path);return t.grammar=r,r}addLanguage(e){this.languageMap[e.id]=e,e.aliases&&e.aliases.forEach(t=>{this.languageMap[t]=e}),this.scopeToLangMap[e.scopeName]=e}};function Ydt(n,e,t,r,i){let s=t.split(/\r\n|\r|\n/),o=Xz.INITIAL,a=[],c=[];for(let d=0,p=s.length;d<p;d++){let E=s[d];if(E===""){a=[],c.push([]);continue}let w,N,R;i.includeExplanation&&(w=r.tokenizeLine(E,o),N=w.tokens,R=0);let U=r.tokenizeLine2(E,o),Q=U.tokens.length/2;for(let P=0;P<Q;P++){let j=U.tokens[2*P],I=P+1<Q?U.tokens[2*P+2]:E.length;if(j===I)continue;let K=U.tokens[2*P+1],de=hh.getForeground(K),M=e[de],Z=hh.getFontStyle(K),me=[];if(i.includeExplanation){let _e=0;for(;j+_e<I;){let Ve=N[R],at=E.substring(Ve.startIndex,Ve.endIndex);_e+=at.length,me.push({content:at,scopes:Kdt(n,Ve.scopes)}),R++}}a.push({content:E.substring(j,I),color:M,fontStyle:Z,explanation:me})}c.push(a),a=[],o=U.ruleStack}return c}function Kdt(n,e){let t=[];for(let r=0,i=e.length;r<i;r++){let s=e.slice(0,r),o=e[r];t[r]={scopeName:o,themeMatches:Xdt(n,o,s)}}return t}function _Ce(n,e){let t=n+".";return n===e||e.substring(0,t.length)===t}function Jdt(n,e,t,r){if(!_Ce(n,t))return!1;let i=e.length-1,s=r.length-1;for(;i>=0&&s>=0;)_Ce(e[i],r[s])&&i--,s--;return i===-1}function Xdt(n,e,t){let r=[],i=0;for(let s=0,o=n.settings.length;s<o;s++){let a=n.settings[s],c;if(typeof a.scope=="string")c=a.scope.split(/,/).map(d=>d.trim());else if(Array.isArray(a.scope))c=a.scope;else continue;for(let d=0,p=c.length;d<p;d++){let w=c[d].split(/ /),N=w[w.length-1],R=w.slice(0,w.length-1);Jdt(N,R,e,t)&&(r[i++]=a,d=p)}}return r}function Zdt(n,e={}){var t;let r=e.bg||"#fff",i=Bdt((t=e.lineOptions)!==null&&t!==void 0?t:[],o=>o.line),s="";return s+=`<pre class="shiki" style="background-color: ${r}">`,e.langId&&(s+=`<div class="language-id">${e.langId}</div>`),s+="<code>",n.forEach((o,a)=>{var c;let d=a+1,p=(c=i.get(d))!==null&&c!==void 0?c:[];s+=`<span class="${nht(p).join(" ")}">`,o.forEach(w=>{let N=[`color: ${w.color||e.fg}`];w.fontStyle&Qw.Italic&&N.push("font-style: italic"),w.fontStyle&Qw.Bold&&N.push("font-weight: bold"),w.fontStyle&Qw.Underline&&N.push("text-decoration: underline"),s+=`<span style="${N.join("; ")}">${tht(w.content)}</span>`}),s+=`</span>
`}),s=s.replace(/\n*$/,""),s+="</code></pre>",s}var eht={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tht(n){return n.replace(/[&<>"']/g,e=>eht[e])}function nht(n){var e;let t=new Set(["line"]);for(let r of n)for(let i of(e=r.classes)!==null&&e!==void 0?e:[])t.add(i);return Array.from(t)}var bCe=class extends Xz.Registry{constructor(e){super(e);this._resolver=e,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={}}getTheme(e){return typeof e=="string"?this._resolvedThemes[e]:e}async loadTheme(e){return typeof e=="string"?(this._resolvedThemes[e]||(this._resolvedThemes[e]=await mCe(`${this.themesPath}${e}.json`)),this._resolvedThemes[e]):(e=xCe(e),e.name&&(this._resolvedThemes[e.name]=e),e)}async loadThemes(e){return await Promise.all(e.map(t=>this.loadTheme(t)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(e){return this._resolvedGrammars[e]}async loadLanguage(e){let t=await this.loadGrammar(e.scopeName);this._resolvedGrammars[e.id]=t,e.aliases&&e.aliases.forEach(r=>{this._resolvedGrammars[r]=t})}async loadLanguages(e){for(let t of e)this._resolver.addLanguage(t);for(let t of e)await this.loadLanguage(t)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}};function ECe(n){return typeof n=="string"?woe.find(e=>{var t;return e.id===n||((t=e.aliases)===null||t===void 0?void 0:t.includes(n))}):n}function rht(n){var e;let t=woe,r=n.themes||[];return((e=n.langs)===null||e===void 0?void 0:e.length)&&(t=n.langs.map(ECe)),n.theme&&r.unshift(n.theme),r.length||(r=["nord"]),{_languages:t,_themes:r}}async function SCe(n){var e,t;let{_languages:r,_themes:i}=rht(n),s=new vCe($dt(),"vscode-oniguruma"),o=new bCe(s);((e=n.paths)===null||e===void 0?void 0:e.themes)&&(o.themesPath=n.paths.themes),((t=n.paths)===null||t===void 0?void 0:t.languages)&&(s.languagesPath=n.paths.languages);let c=(await o.loadThemes(i))[0],d;await o.loadLanguages(r);let p={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function E(M,Z){M.bg=p[M.bg]||M.bg,M.fg=p[M.fg]||M.fg,Z.forEach((me,_e)=>{Z[_e]=p[me]||me})}function w(M){let Z=M?o.getTheme(M):c;if(!Z)throw Error(`No theme registration for ${M}`);(!d||d.name!==Z.name)&&(o.setTheme(Z),d=Z);let me=o.getColorMap();return Z.name==="css-variables"&&E(Z,me),{_theme:Z,_colorMap:me}}function N(M){let Z=o.getGrammar(M);if(!Z)throw Error(`No language registration for ${M}`);return{_grammar:Z}}function R(M,Z="text",me,_e={includeExplanation:!0}){if(iht(Z))return[...M.split(/\r\n|\r|\n/).map(St=>[{content:St}])];let{_grammar:Ve}=N(Z),{_theme:at,_colorMap:lt}=w(me);return Ydt(at,lt,M,Ve,_e)}function U(M,Z="text",me){let _e;typeof Z=="object"?_e=Z:_e={lang:Z,theme:me};let Ve=R(M,_e.lang,_e.theme,{includeExplanation:!1}),{_theme:at}=w(_e.theme);return Zdt(Ve,{fg:at.fg,bg:at.bg,lineOptions:_e==null?void 0:_e.lineOptions})}async function Q(M){await o.loadTheme(M)}async function P(M){let Z=ECe(M);s.addLanguage(Z),await o.loadLanguage(Z)}function j(){return o.getLoadedThemes()}function I(){return o.getLoadedLanguages()}function K(M){let{_theme:Z}=w(M);return Z.bg}function de(M){let{_theme:Z}=w(M);return Z.fg}return{codeToThemedTokens:R,codeToHtml:U,getTheme:M=>w(M)._theme,loadTheme:Q,loadLanguage:P,getBackgroundColor:K,getForegroundColor:de,getLoadedThemes:j,getLoadedLanguages:I}}function iht(n){return!n||["plaintext","txt","text"].includes(n)}m();var wCe={scopeName:"source.malloy",patterns:[{include:"#sql-statement"},{include:"#comments"},{include:"#strings"},{include:"#numbers"},{include:"#keywords"},{include:"#properties"},{include:"#functions"},{include:"#dates"},{include:"#identifiers-quoted"},{include:"#types"},{include:"#constants"},{include:"#timeframes"},{include:"#identifiers-unquoted"}],repository:{"sql-statement":{begin:"\\|\\|",end:";;",beginCaptures:{"0":{name:"punctuation.sql-block.open"}},endCaptures:{"0":{name:"punctuation.sql-block.close"}},name:"source.sql",patterns:[{include:"source.sql"}]},functions:{patterns:[{match:"(?i)\\b(count)(\\s*\\()(distinct)",captures:{"1":{name:"entity.name.function"},"3":{name:"entity.name.function.modifier"}}},{match:"(?i)\\b(AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE|TABLE|FROM|FROM_SQL|UNGROUPED)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}},{match:"(?i)\\b([a-zA-Z]*)(\\s*\\()",captures:{"1":{name:"entity.name.function"}}}]},dates:{patterns:[{match:"(?i)@[0-9A-Z-]*(\\s[0-9A-Z-][0-9A-Z-](:[0-9A-Z-][0-9A-Z-])?(:[0-9A-Z-][0-9A-Z-])?)?",name:"constant.numeric.date"}]},"identifiers-quoted":{patterns:[{match:"(?i)`[A-z_][A-z_0-9]*`",name:"variable.other.quoted"}]},"identifiers-unquoted":{patterns:[{match:"(?i)\\b[A-z_][A-z_0-9]*\\b",name:"variable.other"}]},timeframes:{patterns:[{match:"(?i)\\b((year|quarter|month|week|day|hour|minute|second)s?)\\b",name:"keyword.other.timeframe"},{match:"(?i)\\b(day_of_year|day_of_month)\\b",name:"keyword.other.timeframe"}]},comments:{patterns:[{begin:"/\\*",end:"\\*/",beginCaptures:{"0":{name:"punctuation.definition.comment.begin"}},endCaptures:{"0":{name:"punctuation.definition.comment.end"}},name:"comment.block"},{begin:"//",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-slash"},{begin:"--",end:"\\n",beginCaptures:{"0":{name:"punctuation.definition.comment"}},name:"comment.line.double-hyphen"}]},strings:{patterns:[{begin:"'",end:"'",beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.single",patterns:[{include:"#escapes"}]},{begin:'"',end:'"',beginCaptures:{"0":{name:"punctuation.definition.string.begin"}},endCaptures:{"0":{name:"punctuation.definition.string.end"}},name:"string.unquoted.double",patterns:[{include:"#escapes"}]},{begin:"(?i)[r|/]'",end:"'",name:"string.regexp",patterns:[{include:"#escapes"}]}],repository:{escapes:{name:"constant.character.escape",match:"\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]|37[0-7]?|[4-7][0-7]?|.)",captures:{"0":{name:"constant.character.escape"}}}}},numbers:{match:"\\b((0|[1-9][0-9]*)(\\.[0-9]*)?| \\.[0-9]+)\\b",name:"constant.numeric"},constants:{patterns:[{match:"(?i)\\bnull\\b",name:"constant.language.null"},{match:"(?i)\\btrue\\b",name:"constant.language.true"},{match:"(?i)\\bfalse\\b",name:"constant.language.false"}]},types:{patterns:[{match:"(?i)\\bstring\\b",name:"entity.name.type.string"},{match:"(?i)\\bnumber\\b",name:"entity.name.type.number"},{match:"(?i)\\bdate\\b",name:"entity.name.type.date"},{match:"(?i)\\btimestamp\\b",name:"entity.name.type.timestamp"},{match:"(?i)\\bboolean\\b",name:"entity.name.type.boolean"}]},properties:{patterns:[{match:"(?i)\\baccept\\b",name:"keyword.control.accept"},{match:"(?i)\\bsql\\b",name:"keyword.control.sql"},{match:"(?i)\\baggregate\\b",name:"keyword.control.aggregate"},{match:"(?i)\\bdimension\\b",name:"keyword.control.dimension"},{match:"(?i)\\bexcept\\b",name:"keyword.control.except"},{match:"(?i)\\bexplore\\b",name:"keyword.control.explore"},{match:"(?i)\\bgroup_by\\b",name:"keyword.control.group_by"},{match:"(?i)\\bhaving\\b",name:"keyword.control.having"},{match:"(?i)\\bindex\\b",name:"keyword.control.index"},{match:"(?i)\\bjoin_one\\b",name:"keyword.control.join_one"},{match:"(?i)\\bwith\\b",name:"keyword.control.with"},{match:"(?i)\\bjoin_many\\b",name:"keyword.control.join_many"},{match:"(?i)\\bjoin_cross\\b",name:"keyword.control.join_cross"},{match:"(?i)\\blimit\\b",name:"keyword.control.limit"},{match:"(?i)\\bmeasure\\b",name:"keyword.control.measure"},{match:"(?i)\\bnest\\b",name:"keyword.control.nest"},{match:"(?i)\\border_by\\b",name:"keyword.control.order_by"},{match:"(?i)\\bprimary_key\\b",name:"keyword.control.primary_key"},{match:"(?i)\\bproject\\b",name:"keyword.control.project"},{match:"(?i)\\bquery\\b",name:"keyword.control.query"},{match:"(?i)\\brename\\b",name:"keyword.control.rename"},{match:"(?i)\\btop\\b",name:"keyword.control.top"},{match:"(?i)\\bwhere\\b",name:"keyword.control.where"},{match:"(?i)\\bdeclare\\b",name:"keyword.control.declare"}]},keywords:{patterns:[{match:"(?i)\\bis\\b",name:"keyword.control.is"},{match:"(?i)\\bon\\b",name:"keyword.control.on"},{match:"(?i)\\bnot\\b",name:"keyword.other.not"},{match:"(?i)\\bor\\b",name:"keyword.other.or"},{match:"(?i)\\bdesc\\b",name:"keyword.control.desc"},{match:"(?i)\\bby\\b",name:"keyword.control.by"},{match:"(?i)\\band\\b",name:"keyword.other.and"},{match:"(?i)\\basc\\b",name:"keyword.control.asc"},{match:"(?i)\\bfor\\b",name:"keyword.other.for"},{match:"(?i)\\belse\\b",name:"keyword.other.else"},{match:"(?i)\\bto\\b",name:"keyword.other.to"},{match:"(?i)\\bwhen\\b",name:"keyword.other.when"},{match:"(?i)\\bpick\\b",name:"keyword.other.pick"},{match:"(?i)\\bimport\\b",name:"keyword.control.import"}]}}};dCe("https://unpkg.com/shiki/");function Yw(){return navigator.userAgent.toLowerCase().indexOf(" electron/")!=-1}function b1(){return!0}var oht=SCe({theme:"light-plus",langs:["sql","json",{id:"malloy",scopeName:"source.malloy",embeddedLangs:["sql"],grammar:wCe}]});async function aht(n,e){let t=await oht;return t.getLoadedLanguages().includes(e)||(e="txt"),t.codeToHtml(n,{lang:e})}async function DO(n,e){let t=await aht(n,e),r=document.createElement("div");return r.innerHTML=t,r}function OO(n){return n.type==="struct"?"source":n.type==="turtle"?"query":n.type}function Doe(n){return n.type==="struct"||n.type==="turtle"?"string":n.type}function eH(n){return n.type==="struct"?"source":n.type==="turtle"?"query":n.aggregate?"measure":"dimension"}function tH(n){return n!==void 0}function I0(n,e){let t=eH(n);if(n.type==="struct"||t==="source")throw new Error("Cannot make a summary item from a struct.");return{type:"field",field:n,path:e,saveDefinition:void 0,isRefined:!1,name:n.as||n.name,isRenamed:!1,fieldIndex:-1,kind:t}}function Ooe(n){return n.type!=="struct"&&n.type!=="turtle"&&!!n.aggregate}function RO(n){return n.type!=="struct"&&n.type!=="turtle"&&!n.aggregate}function nH(n){return n.type==="turtle"}function Kf(n,e=[]){return n.fields.flatMap(t=>t.type==="struct"?Kf(t,[...e,t.as||t.name]):[{field:t,path:[...e,t.as||t.name].join(".")}])}function uht(n){let e=n.split(".");return e.map((t,r)=>e.slice(r).join("."))}function M0(n,e){return[...uht(e).reverse(),n.name,eH(n),OO(n)]}function ph(n){let e=n.split(".");return e[e.length-2]}function rH(n){return n<1e3?n.toLocaleString():n<1e4?(n/1e3).toFixed(1)+"K":n<1e6?Math.floor(n/1e3).toLocaleString()+"K":n<1e7?(n/1e6).toFixed(1)+"M":Math.floor(n/1e3).toLocaleString()+"M"}function Roe(n,e,t){let r=document.createElement("a"),i=new Blob([n],{type:e}),s=URL.createObjectURL(i);r.setAttribute("href",s),r.setAttribute("download",t),r.click()}async function lht(n,e){if(e===void 0||n===void 0)return;if(b1())return awe(n,e);if(Yw()){let r=await window.malloy.topValues(n,e);if(r instanceof Error)throw r;return r}return(await(await fetch("api/top_values",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:e})})).json()).result}function CCe(n,e){let{data:t}=E3(["top_values",n?.id,e?.name],()=>lht(n?.model,e),{refetchOnWindowFocus:!1});return t}m();m();var ACe=xr(Lr());function E1(n,e){(0,ACe.useEffect)(()=>{let t=Array.isArray(n)?n:[n],r=!1,i=(c,d)=>!c.current||d.target instanceof Element&&c.current.contains(d.target),s=c=>t.some(d=>i(d,c)),o=c=>{!r||s(c)||(e(c),r=!1)},a=c=>{s(c)||(r=!0)};return document.addEventListener("mouseup",o),document.addEventListener("mousedown",a),()=>{document.removeEventListener("mouseup",o),document.removeEventListener("mousedown",a)}},[n,e])}m();var iH=xr(Lr());function sH(n){let e=(0,iH.useRef)();return(0,iH.useEffect)(()=>{e.current=n}),e.current}m();var J6=xr(Lr());m();m();function oH(n,e){if(n===void 0)return{stageIndex:e.stageIndex};if(e.fieldIndex===void 0)throw new Error("Invalid push to stage path");return{stageIndex:e.stageIndex,parts:[...n.parts||[],{stageIndex:n.stageIndex,fieldIndex:e.fieldIndex}]}}function Noe(n){if(n.parts&&n.parts.length>0){let e=n.parts[0];return{stageIndex:e.stageIndex,fieldIndex:e.fieldIndex,stagePath:{stageIndex:n.stageIndex,parts:n.parts.slice(1)}}}return{stageIndex:n.stageIndex}}function TCe(n){return n.parts?{stagePath:{stageIndex:n.parts[0].stageIndex,parts:n.parts?.slice(1)},stageIndex:n.stageIndex,fieldIndex:n.parts[0].fieldIndex}:{stagePath:void 0,fieldIndex:void 0,stageIndex:n.stageIndex}}var P0=xr(vx()),Loe=class{constructor(e){this._source=e}updateSource(e){this._source=e}getSource(){return this._source}getField(e,t){let r=t.split("."),i=e;for(;r.length>1;){let o=r[0],a=i.fields.find(c=>(c.as||c.name)===o);if(a===void 0)throw new Error(`Could not find (inner) ${o}`);if(a.type==="struct")i=a,r=r.slice(1);else if(a.type==="turtle"){let c=this.getSource();for(let d of a.pipeline)c=this.modifySourceForStage(d,c);i=c,r=r.slice(1)}else throw new Error("Inner segment in path is not a source")}let s=i.fields.find(o=>(o.as||o.name)===r[0]);if(s===void 0)throw new Error(`Could not find ${r[0]}`);return s}modifySourceForStage(e,t){return P0.Segment.nextStructDef(t,e)}},FCe={pipeline:[{type:"reduce",fields:[]}],name:"new_query",type:"turtle"},koe=class extends Loe{constructor(e){super(e);this.query=JSON.parse(JSON.stringify(FCe))}getWriter(){return new DCe(this.query,this._source)}getName(){return this.query.name}clearQuery(){this.query=JSON.parse(JSON.stringify(FCe))}setQuery(e){this.query={pipeline:e.pipeline,name:e.as||e.name,type:"turtle"}}stageAtPath(e){let t=this.query.pipeline;for(;;){let{stagePath:r,stageIndex:i,fieldIndex:s}=Noe(e);if(s!==void 0){let o=t[i].fields[s];if(typeof o=="string"||(0,P0.isFilteredAliasedName)(o)||o.type!=="turtle")throw new Error("Path does not refer to a stage correctly");if(t=o.pipeline,r===void 0)throw new Error("Invalid stage path");e=r}else return t[i]}}sourceForStageAtPath(e){let t=this.query.pipeline,r=this.getSource();for(;;){let{stagePath:i,stageIndex:s,fieldIndex:o}=Noe(e);for(let a=0;a<s;a++)r=this.modifySourceForStage(t[a],r);if(o!==void 0){let a=t[s].fields[o];if(typeof a=="string"||(0,P0.isFilteredAliasedName)(a)||a.type!=="turtle")throw new Error("Path does not refer to a stage correctly");if(t=a.pipeline,i===void 0)throw new Error("Invalid stage path");e=i}else return r}}sortOrder(e){return e.type==="struct"?3:e.type==="turtle"?2:e.aggregate?1:0}fieldDefForQueryFieldDef(e,t){return typeof e=="string"?this.getField(t,e):(0,P0.isFilteredAliasedName)(e)?this.getField(t,e.name):e}getIndexToInsertNewField(e,t){let r=this.stageAtPath(e),i=this.sourceForStageAtPath(e),s=this.fieldDefForQueryFieldDef(t,i),o=this.sortOrder(s);for(let a=0;a<r.fields.length;a++){let c=r.fields[a];try{let d=this.fieldDefForQueryFieldDef(c,i);if(this.sortOrder(d)>o)return a}catch(d){console.log(d)}}return r.fields.length}insertField(e,t){let r=this.stageAtPath(e),i=this.getIndexToInsertNewField(e,t);r.fields.splice(i,0,t)}addField(e,t){this.insertField(e,t)}loadQuery(e){let t=this.getField(this.getSource(),e);if(t.type!=="turtle")throw new Error("Path does not refer to query.");t.pipeline.forEach((r,i)=>{if(this.query.pipeline[i]===void 0)this.query.pipeline[i]=JSON.parse(JSON.stringify(r));else{let s=this.query.pipeline[i];if(s.type!=="reduce"||r.type!=="reduce")throw new Error("Cannot load query with non-reduce stages");r.by&&(s.by={...r.by},s.orderBy=void 0),r.filterList&&(s.filterList=(s.filterList||[]).concat(...r.filterList.filter(o=>!s.filterList?.find(a=>a.code===o.code)))),r.limit&&(s.limit=r.limit),r.orderBy&&(s.orderBy=r.orderBy,s.by=void 0),s.fields=r.fields.map(o=>JSON.parse(JSON.stringify(o))).concat(s.fields.filter(o=>!r.fields.find(a=>this.nameOf(a)===this.nameOf(o))))}}),this.query.name=t.as||t.name}nameOf(e){return typeof e=="string"?e:e.as||e.name}replaceSavedField(e,t,r){this.stageAtPath(e).fields.splice(t,1,r)}removeField(e,t){let r=this.stageAtPath(e);if(r.type==="reduce"&&r.orderBy){let i=r.orderBy.findIndex(s=>{let o=r.fields[t];return s.field===this.nameOf(o)});i!==-1&&r.orderBy.splice(i,1)}r.fields.splice(t,1)}getFieldIndex(e,t){let i=this.stageAtPath(e).fields.findIndex(s=>s===t);return i===-1?void 0:i}hasField(e,t){return this.getFieldIndex(e,t)!==void 0}reorderFields(e,t){let r=this.stageAtPath(e),i=t.map(s=>r.fields[s]);r.fields=i}toggleField(e,t){let r=this.getFieldIndex(e,t);r!==void 0?this.removeField(e,r):this.addField(e,t)}getQuery(){return this.query}addFilter(e,t){let r=this.stageAtPath(e);r.filterList=[...r.filterList||[],t]}editFilter(e,t,r,i){let s=this.stageAtPath(e);if(t===void 0){if(s.filterList===void 0)throw new Error("Stage has no filters.");s.filterList[r]=i}else{let o=s.fields[t];if(!(0,P0.isFilteredAliasedName)(o))throw new Error("Cannot edit filter on non FAN.");if(o.filterList===void 0)throw new Error("Field has no filters");o.filterList[r]=i}}removeFilter(e,t,r){let i=this.stageAtPath(e);if(r===void 0)i.filterList&&i.filterList.splice(t,1);else{let s=i.fields[r];(0,P0.isFilteredAliasedName)(s)&&s.filterList?.splice(r,1)}}hasLimit(e){let t=this.stageAtPath(e);if(t.type!=="reduce")throw new Error("Don't know how to handle this yet");return t.limit!==void 0}addLimit(e,t,r,i){let s=this.stageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");s.limit=t,r&&(s.orderBy=[{field:r.path,dir:i}])}addOrderBy(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[];let s=i.fields[t],o=typeof s=="string"?s:s.as||s.name;i.orderBy.push({field:o,dir:r})}editOrderBy(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");i.orderBy=i.orderBy||[],i.orderBy[t]={field:i.orderBy[t].field,dir:r}}removeLimit(e){let t=this.stageAtPath(e);t.limit=void 0}addStage(e,t){let r;if(e!==void 0){let i=this.stageAtPath(e);if(t===void 0)throw new Error("fieldIndex must be provided if stagePath is");let s=i.fields[t];if(typeof s!="string"&&!(0,P0.isFilteredAliasedName)(s)&&s.type==="turtle")r=s;else throw new Error("Invalid field to add stage to.")}else r=this.query;r.pipeline.push({type:"reduce",fields:[]})}removeStage(e){let{stagePath:t,fieldIndex:r,stageIndex:i}=TCe(e),s;if(t!==void 0){let o=this.stageAtPath(t);if(r===void 0)throw new Error("Invalid stage path");let a=o.fields[r];if(typeof a!="string"&&!(0,P0.isFilteredAliasedName)(a)&&a.type==="turtle")s=a;else throw new Error("Invalid field to add stage to.")}else s=this.query;s.pipeline.splice(i,1),s.pipeline.length===0&&s.pipeline.push({type:"reduce",fields:[]})}removeOrderBy(e,t){let r=this.stageAtPath(e);if(r.type!=="reduce")throw new Error("Don't know how to handle this yet");r.orderBy&&r.orderBy.splice(t,1)}canRun(){return this.query.pipeline[0].fields.length>0}renameField(e,t,r){let i=this.stageAtPath(e);if(i.type!=="reduce")throw new Error("Don't know how to handle this yet");let s=i.fields[t],o=this.nameOf(s);i.orderBy&&i.orderBy.forEach(a=>{a.field===o&&(a.field=r)}),typeof s=="string"?i.fields[t]={name:s,as:r}:((0,P0.isFilteredAliasedName)(s),s.as=r)}addFilterToField(e,t,r,i){i!==void 0&&this.renameField(e,t,i);let s=this.stageAtPath(e);if(s.type!=="reduce")throw new Error("Don't know how to handle this yet");let o=s.fields[t];if(typeof o=="string"){if(i===void 0)throw new Error("As must be specified if field is not already renamed.")}else(0,P0.isFilteredAliasedName)(o)&&(o.filterList=[...o.filterList||[],r])}addNewNestedQuery(e,t){let r={name:t,type:"turtle",pipeline:[{type:"reduce",fields:[]}]};this.insertField(e,r)}addNewField(e,t){this.insertField(e,t)}editFieldDefinition(e,t,r){let i=this.stageAtPath(e);i.fields[t]=r}replaceWithDefinition(e,t,r){r===void 0&&(r=this._source);let i=this.stageAtPath(e),s=i.fields[t];if(typeof s!="string")throw new Error("Don't deal with this yet");let o=r.fields.find(a=>(a.as||a.name)===s);if(o===void 0)throw new Error("Field is not defined..");i.fields[t]=JSON.parse(JSON.stringify(o))}setName(e){this.query.name=e}},DCe=class extends Loe{constructor(e,t){super(t);this.query=e}getQueryStringForSource(e){return this.getMalloyString(!0,e)}getQueryStringForModel(){return this.getMalloyString(!1,this.query.name)}getFiltersString(e){let t=[];e.length===1?t.push(" "):t.push(uy,Kw);for(let r=0;r<e.length;r++){let i=e[r];t.push(i.code),r!==e.length-1&&t.push(","),t.push(uy)}return e.length>1&&t.push(Jw),t}maybeQuoteIdentifier(e){let t=e.split(".");for(let r=0;r<t.length;r++)t[r].match(/^[A-Za-z_][A-Za-z_0-9]*$/)||(t[r]=`\`${t[r]}\``);return t.join(".")}codeInfoForField(e,t,r){try{if(typeof e=="string"){let i=this.getField(t,e);if(i.type==="struct")throw new Error("Don't know how to deal with this");return{property:i.type==="turtle"?"nest":i.aggregate?"aggregate":"group_by",malloy:[this.maybeQuoteIdentifier(e)]}}else if((0,P0.isFilteredAliasedName)(e)){let i=this.getField(t,e.name);if(i.type==="struct")throw new Error("Don't know how to deal with this");let s=i.type==="turtle"?"nest":i.aggregate?"aggregate":"group_by",o=[],a=e.as===void 0?"":`${this.maybeQuoteIdentifier(e.as)} is `;return o.push(`${a}${this.maybeQuoteIdentifier(e.name)}`),e.filterList&&e.filterList.length>0&&(o.push(" {",Kw,"where:"),o.push(...this.getFiltersString(e.filterList||[])),o.push(Jw,"}")),{property:s,malloy:o}}else if(e.type==="turtle"){let i=[];i.push(`${this.maybeQuoteIdentifier(e.as||e.name)} is`);let s=t,o=!0;for(let a of e.pipeline)o||i.push("->"),i.push(...this.getMalloyStringForStage(a,s,r+"  ")),s=this.modifySourceForStage(a,s),o=!1;return{property:"nest",malloy:i}}else{let i=e.aggregate?"aggregate":"group_by",s=[`${this.maybeQuoteIdentifier(e.as||e.name)} is ${e.code}`];return{property:i,malloy:s}}}catch(i){console.log(i)}}writeMalloyForPropertyValues(e,t){return t.length===0?[]:t.length===1?[e,": ",...t[0],uy]:[e,": ",uy,Kw,...t.flatMap(r=>[...r,uy]),Jw]}getMalloyStringForStage(e,t,r=""){let i=[];i.push(" {",uy,Kw),e.filterList&&e.filterList.length>0&&i.push("where:",...this.getFiltersString(e.filterList));let s,o=[];for(let a of e.fields){let c=this.codeInfoForField(a,t,r);c&&(s!==void 0&&c.property!==s&&(i.push(...this.writeMalloyForPropertyValues(s,o)),o=[]),s=c.property,o.push(c.malloy))}return s&&i.push(...this.writeMalloyForPropertyValues(s,o)),e.limit&&i.push(`limit: ${e.limit}`,uy),e.type==="reduce"&&e.orderBy&&e.orderBy.length>0&&(i.push("order_by: "),i.push(e.orderBy.map(a=>{let c;if(typeof a.field=="string"){let d=a.field.split(".");c=d[d.length-1]}else c=a.field;return`${typeof c=="string"?this.maybeQuoteIdentifier(c):c}${a.dir?" "+a.dir:""}`}).join(", "),uy)),i.push(Jw,"}"),i}getMalloyString(e,t){let r=[];e||r.push("query:"),t!==void 0&&r.push(`${this.maybeQuoteIdentifier(t)} is`),e||r.push(this.maybeQuoteIdentifier(this.getSource().as||this.getSource().name));let i=[r.join(" ")],s=this.getSource();for(let o of this.query.pipeline)e||i.push(" ->"),i.push(...this.getMalloyStringForStage(o,s)),s=this.modifySourceForStage(o,s);return OCe(i)}getSummaryItemsForFilterList(e){let t=[];for(let r=0;r<e.length;r++){let i=e[r];t.push({type:"filter",filterSource:i.code,filterIndex:r})}return t}getQuerySummary(e,t){let r=this.query.name,i=this.getSource();return{stages:this.query.pipeline.map((o,a)=>{let c=this.getStageSummary(o,i,e,t);if(i=this.modifySourceForStage(o,i),a===this.query.pipeline.length-1){let d=this.getStyleItemForName(r,"query",e,t);d&&c.items.push(d)}return c})}}nameOf(e){return typeof e=="string"?e:e.as||e.name}getStyleItem(e,t,r,i){let s,o;if(typeof e=="string"){s=e;let a=this.getField(t,e);if(a.type==="struct")throw new Error("Don't know how to deal with this");o=a.type==="turtle"?"query":a.aggregate?"measure":"dimension"}else if(s=e.as||e.name,(0,P0.isFilteredAliasedName)(e)){let a=this.getField(t,e.name);if(a.type==="struct")throw new Error("Don't know how to deal with this");o=a.type==="turtle"?"query":a.aggregate?"measure":"dimension"}else o=e.type==="turtle"?"query":e.aggregate?"measure":"dimension";return this.getStyleItemForName(s,o,r,i)}getStyleItemForName(e,t,r,i){let s={...r,...i}[e];if(!(s===void 0||s.renderer===void 0))return{type:"data_style",renderer:s.renderer,styleKey:e,canRemove:e in i,allowedRenderers:t==="query"||t==="source"?["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]:["number","boolean","currency","image","link","percent","text","time"]}}getStageSummary(e,t,r,i){let s=[],o=[];e.filterList&&s.push(...this.getSummaryItemsForFilterList(e.filterList));for(let a=0;a<e.fields.length;a++){let c=e.fields[a];try{let d=this.getStyleItem(c,t,r,i),p=d?[d]:[];if(typeof c=="string"){let E=this.getField(t,c);if(E.type==="struct")throw new Error("Don't know how to deal with this");s.push({type:"field",field:E,saveDefinition:void 0,fieldIndex:a,isRefined:!1,styles:p.filter(w=>w.canRemove),isRenamed:!1,path:c,kind:E.type==="turtle"?"query":E.aggregate?"measure":"dimension",name:E.as||E.name}),E.type!=="turtle"&&o.push({name:c,fieldIndex:a,type:E.type})}else if((0,P0.isFilteredAliasedName)(c)){let E=this.getField(t,c.name);if(E.type==="struct")throw new Error("Don't know how to deal with this");E.type!=="turtle"&&o.push({name:c.as||c.name,fieldIndex:a,type:E.type}),s.push({type:"field",field:E,saveDefinition:t===this.getSource()&&E.type!=="turtle"?this.fanToDef(c,E):void 0,fieldIndex:a,filters:this.getSummaryItemsForFilterList(c.filterList||[]),styles:p.filter(w=>w.canRemove),isRefined:!0,path:c.name,isRenamed:c.as!==void 0,name:c.as||c.name,kind:E.type==="turtle"?"query":E.aggregate?"measure":"dimension"})}else if(c.type==="turtle"){let E=[],w=t;for(let N of c.pipeline)E.push(this.getStageSummary(N,w,r,i)),w=this.modifySourceForStage(N,w);s.push({type:"nested_query_definition",name:c.as||c.name,fieldIndex:a,saveDefinition:t===this.getSource()?c:void 0,stages:E,styles:p})}else s.push({type:"field_definition",name:c.as||c.name,fieldIndex:a,field:c,saveDefinition:t===this.getSource()?c:void 0,source:c.code,kind:c.aggregate?"measure":"dimension",styles:p}),o.push({name:c.as||c.name,fieldIndex:a,type:c.type})}catch(d){s.push({type:"error_field",field:c,name:this.nameOf(c),error:d.message,fieldIndex:a})}}if(e.limit&&s.push({type:"limit",limit:e.limit}),e.type==="reduce"&&e.orderBy)for(let a=0;a<e.orderBy.length;a++){let c=e.orderBy[a],d;typeof c.field=="string"?d=e.fields.findIndex(E=>this.nameOf(E)===c.field):d=c.field-1;let p=e.fields[d];if(p!==void 0){let E;if(typeof p=="string"?E=this.getField(t,p):(0,P0.isFilteredAliasedName)(p)?E=this.getField(t,p.as||p.name):E=p,E.type==="struct"||E.type==="turtle")continue;s.push({type:"order_by",byField:{type:E.type,fieldIndex:d,name:this.nameOf(E)},direction:c.dir,orderByIndex:a})}}return{items:s,orderByFields:o,inputSource:t}}fanToDef(e,t){let r=[e.name];e.filterList&&e.filterList.length>0&&(r.push(" {",Kw,"where:"),r.push(...this.getFiltersString(e.filterList||[])),r.push(Jw,"}"));let i=OCe(r);return{type:t.type,name:e.as||e.name,e:["ignore"],aggregate:t.aggregate,code:i}}},Kw=Symbol("indent"),uy=Symbol("newline"),Jw=Symbol("outdent"),cht=2;function OCe(n){let e="",t=0,r=!0;for(let i of n)i===uy?(e+=`
`,r=!0):i===Jw?t--:i===Kw?t++:(r&&(e+=" ".repeat(t*cht),r=!1),e+=i);return e}m();async function fht(n,e,t){if(b1()){let r=await swe(n,t,e);if(r instanceof Error)throw r;return r}}function RCe(n,e){let{data:t,mutateAsync:r,isLoading:i,reset:s}=$k(({query:a,queryName:c})=>fht(a,e,c),{onError:n});return{result:t,runQuery:(a,c)=>{s(),r({query:a,queryName:c})},isRunning:i,clearResult:s}}function Ioe(n,e,t){let r=(0,J6.useRef)(new koe(void 0)),[i,s]=(0,J6.useState)(),[o,a]=(0,J6.useState)(""),[c,d]=(0,J6.useState)(!1),p=(0,J6.useRef)({}),E=(()=>r.current.getSource()===void 0?void 0:r.current.getWriter().getQuerySummary({},p.current))(),w=it=>{r.current.updateSource(it)},N=r.current.getQuery()?.name,{result:R,runQuery:U,isRunning:Q,clearResult:P}=RCe(s,n),j=()=>{let it=r.current.getWriter(),ue=it.getQuerySummary({},p.current),De={stageIndex:ue?ue.stages.length-1:0};s(void 0),r.current?.hasLimit(De)||I(le=>le.addLimit(De,10),!0,!0);let ve=r.current.getQuery();if(it=r.current.getWriter(),r.current?.canRun()){let le=it.getQueryStringForModel();U(le,ve.name),d(!1)}},I=(it,ue=!1,De=!1)=>{console.log("Modify query: source",r.current.getSource()),it(r.current);let ve=r.current.getWriter();if(r.current?.canRun()){let le=ve.getQueryStringForModel();ue||t({run:ue,query:le,styles:p.current}),a(le),d(!0)}else{let le=ve.getQueryStringForModel();a(le),d(!0)}},K=(it=!1,ue=!1)=>{I(De=>De.clearQuery(),it),cn({},it),P(),t({run:!1,query:void 0,styles:{}}),a("")},de=(it,ue)=>{I(De=>De.toggleField(it,ue))},M=(it,ue)=>{I(De=>De.removeField(it,ue))},Z=(it,ue)=>{I(De=>De.addFilter(it,ue))},me=(it,ue,De,ve)=>{I(le=>le.editFilter(it,ue,De,ve))},_e=(it,ue,De)=>{I(ve=>ve.removeFilter(it,ue,De))},Ve=(it,ue)=>{I(De=>De.addLimit(it,ue))},at=(it,ue)=>{I(De=>De.addStage(it,ue))},lt=it=>{I(ue=>ue.removeStage(it))},Ke=(it,ue,De)=>{I(ve=>ve.addOrderBy(it,ue,De))},St=(it,ue,De)=>{I(ve=>ve.editOrderBy(it,ue,De))},Ft=(it,ue)=>{I(De=>De.removeOrderBy(it,ue))},je=it=>{I(ue=>ue.removeLimit(it))},te=(it,ue,De)=>{I(ve=>ve.renameField(it,ue,De))},Xe=(it,ue,De,ve)=>{I(le=>le.addFilterToField(it,ue,De,ve))},ye=(it,ue)=>{I(De=>De.addNewNestedQuery(it,ue))},ke=(it,ue)=>{I(De=>De.addNewField(it,ue))},Ce=(it,ue=!1)=>{I(De=>De.setQuery(it),ue)},xe=(it,ue,De)=>{I(ve=>ve.editFieldDefinition(it,ue,De))},Je=(it,ue,De)=>{I(ve=>ve.editFieldDefinition(it,ue,De))},ut=(it,ue)=>{I(De=>De.reorderFields(it,ue))},Qt=(it,ue)=>{I(De=>De.replaceWithDefinition(it,ue))},wt=it=>{I(ue=>ue.loadQuery(it))},mn=ke,Lt=it=>{I(ue=>{ue.clearQuery();for(let De of it)ue.addFilter({stageIndex:0},De)})},It=(it,ue,De=!1)=>{let ve={...p.current};return ue===void 0?it in ve&&delete ve[it]:ve[it]={renderer:ue},I(()=>{p.current=ve},De),ve},cn=(it,ue=!1)=>{I(()=>{p.current=it},ue)};return{dirty:c,queryBuilder:r,queryMalloy:o,queryName:N,clearQuery:K,runQuery:j,isRunning:Q,clearResult:P,source:r.current.getSource(),querySummary:E,dataStyles:p.current,result:R,error:i,registerNewSource:w,queryModifiers:{setDataStyles:cn,setQuery:Ce,addFilter:Z,toggleField:de,addLimit:Ve,addOrderBy:Ke,addNewNestedQuery:ye,addNewDimension:ke,addNewMeasure:mn,setDataStyle:It,addStage:at,loadQuery:wt,updateFieldOrder:ut,removeField:M,removeFilter:_e,removeLimit:je,removeOrderBy:Ft,renameField:te,addFilterToField:Xe,editLimit:Ve,editFilter:me,replaceWithDefinition:Qt,editDimension:xe,editMeasure:Je,editOrderBy:St,removeStage:lt,clearQuery:K,onDrill:Lt}}}m();m();var HFe=xr(Lr());m();m();m();var NO=xr(Lr()),NCe=n=>NO.createElement("svg",{width:"110px",height:"110px",viewBox:"6 6 100 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},NO.createElement("title",null,"insert_group_by"),NO.createElement("g",{id:"insert_group_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},NO.createElement("path",{d:"M31.7463881,49.3114698 C32.6824928,49.3083801 33.6154932,49.1963884 34.5261904,48.9793527 L45.0010173,67.8024842 L45.0010173,67.8032565 C43.2956473,70.2493007 42.5480527,73.2367133 42.8986175,76.1988173 C43.2492613,79.1601303 44.6742783,81.890304 46.9033203,83.870708 C49.1330544,85.851903 52.0117188,86.9463056 54.9937928,86.9463056 C57.9758669,86.9463056 60.8545313,85.8518634 63.0834745,83.870708 C65.3132086,81.890304 66.7382058,79.1601303 67.0889682,76.1988173 C67.4396121,73.2369111 66.6919779,70.2493007 64.9865684,67.8032565 L75.4613953,48.980125 L75.4613953,48.9793527 C78.5099046,49.699958 81.7183727,49.2180056 84.4200741,47.6338999 C87.1225664,46.0505653 89.1106817,43.4862425 89.9717699,40.4749053 C90.8328581,37.4635681 90.5008399,34.235723 89.0449384,31.4630387 C87.5882658,28.6903544 85.1197206,26.584791 82.151685,25.5847028 C79.1834516,24.5837248 75.9441385,24.7652355 73.1066007,26.0913707 C70.2688652,27.4167347 68.0507969,29.7848559 66.9138836,32.7028673 L43.0841815,32.7028673 C42.0044302,29.9371034 39.9514417,27.6601133 37.310837,26.3015513 C34.6702324,24.9429696 31.623898,24.5961814 28.7454313,25.32606 C25.8669647,26.0559385 23.3534966,27.8122421 21.6791694,30.2652067 C20.0046839,32.7173803 19.284138,35.6972794 19.6532888,38.644554 C20.021708,41.5910378 21.4544362,44.3012413 23.6819162,46.2662229 C25.9086844,48.2303345 28.776474,49.3139413 31.7460915,49.3115686 L31.7463881,49.3114698 Z M54.9987359,80.3146003 C53.5304767,80.3146003 52.1224442,79.7314725 51.0836021,78.6934213 C50.0455509,77.6545989 49.4624231,76.2465862 49.4624231,74.7782874 C49.4624231,73.3099887 50.0455509,71.9019957 51.0836021,70.8639445 C52.1224245,69.8251221 53.5304372,69.2419944 54.9987359,69.2419944 C56.4670347,69.2419944 57.8750277,69.8251221 58.9138698,70.8639445 C59.951921,71.9019957 60.5350488,73.3099887 60.5350488,74.7782874 C60.5350488,76.2465862 59.951921,77.6545792 58.9138698,78.6934213 C57.8750474,79.7314725 56.4670347,80.3146003 54.9987359,80.3146003 Z M78.2510838,31.5953952 C79.7193431,31.5953952 81.1273755,32.1785229 82.1654268,33.2165742 C83.203478,34.2553966 83.7873769,35.6634093 83.7873769,37.131708 C83.7873769,38.6000068 83.203478,40.0079998 82.1654268,41.046051 C81.1273755,42.0848734 79.7193826,42.6680011 78.2510838,42.6680011 C76.7828246,42.6680011 75.3740012,42.0848734 74.33595,41.046051 C73.2978987,40.0079998 72.714771,38.6000068 72.714771,37.131708 C72.714771,35.6634093 73.2978987,34.2554163 74.33595,33.2165742 C75.3740012,32.1785229 76.7827851,31.5953952 78.2510838,31.5953952 Z M43.7166018,39.3459801 L66.2808701,39.3459801 C66.7149337,41.7696815 67.8734779,44.0047541 69.6028318,45.75738 L59.7591401,63.5727121 C56.7137943,62.2774614 53.2720118,62.2774614 50.2258752,63.5727121 L40.3380911,45.75738 C42.0882652,44.0118524 43.2661865,41.7758109 43.7156132,39.3459801 L43.7166018,39.3459801 Z M31.7465858,31.5953952 C33.214845,31.5953952 34.6236684,32.1785229 35.6617196,33.2165742 C36.6997709,34.2553966 37.2828986,35.6634093 37.2828986,37.131708 C37.2828986,38.6000068 36.6997709,40.0079998 35.6617196,41.046051 C34.6236684,42.0848734 33.2148846,42.6680011 31.7465858,42.6680011 C30.2783266,42.6680011 28.8702941,42.0848734 27.8322428,41.046051 C26.7941916,40.0079998 26.2102927,38.6000068 26.2102927,37.131708 C26.2102927,35.6634093 26.7941916,34.2554163 27.8322428,33.2165742 C28.8702941,32.1785229 30.278287,31.5953952 31.7465858,31.5953952 L31.7465858,31.5953952 Z",id:"Shape-Copy-3",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"})));m();var Sx=xr(Lr()),LCe=n=>Sx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Sx.createElement("title",null,"insert_measure"),Sx.createElement("g",{id:"insert_measure",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Sx.createElement("path",{d:"M64.4079772,43.4952662 C64.4079772,65.775216 64.4079772,77.6781315 64.4079772,79.2040126 C64.4079772,81.4928343 72.4309475,81.4935567 72.4309475,79.2040126 C72.4309475,77.6776499 72.4309475,65.7747344 72.4309475,43.4952662 L82.1242499,53.5032288 C82.9082803,54.3127101 83.9390395,54.7167092 84.9596343,54.7167092 C85.980229,54.7167092 87.0118722,54.3119686 87.7950187,53.5032288 C89.3623612,51.8850077 89.3623612,49.2552488 87.7950187,47.6371608 L71.2655269,30.5703346 C70.8943747,30.1871342 70.4404886,29.8781937 69.9456129,29.6650532 C69.9247535,29.6546561 69.9046123,29.6546561 69.883753,29.6435167 C69.4298852,29.4519166 68.9350096,29.3457171 68.4192709,29.3457171 C67.9035322,29.3457171 67.4086565,29.4519147 66.9547887,29.6435167 C66.9339294,29.6539139 66.9137882,29.6539139 66.8929288,29.6650532 C66.3980532,29.8781937 65.9441854,30.1863928 65.5730149,30.5703346 L49.0328429,47.6474271 C47.4655004,49.2656482 47.4655004,51.8954071 49.0328429,53.5134951 C50.6001855,55.1205753 53.1472623,55.1205753 54.714476,53.5023554 L64.4079772,43.4952662 Z",id:"Path-Copy-3",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero",transform:"translate(68.413931, 55.133308) rotate(-270.000000) translate(-68.413931, -55.133308) "}),Sx.createElement("rect",{id:"Rectangle-Copy-50",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 39.025784) rotate(-90.000000) translate(-32.019040, -39.025784) ",x:24.0122609,y:34.8667243,width:16.0135574,height:8.31811859}),Sx.createElement("rect",{id:"Rectangle-Copy-51",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero",transform:"translate(32.019040, 72.330197) rotate(-90.000000) translate(-32.019040, -72.330197) ",x:24.0122609,y:68.1711376,width:16.0135574,height:8.31811859}),Sx.createElement("circle",{id:"Oval-Copy-16",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 88.946306) rotate(-180.000000) translate(-32.019040, -88.946306) ",cx:32.0190396,cy:88.9463056,r:9.09652528}),Sx.createElement("circle",{id:"Oval-Copy-20",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",transform:"translate(32.019040, 55.133308) rotate(-90.000000) translate(-32.019040, -55.133308) ",cx:32.0190396,cy:55.1333084,r:9.09652528}),Sx.createElement("circle",{id:"Oval-Copy-21",className:"primarystroke",stroke:"#4285F4",strokeWidth:7,fillRule:"nonzero",cx:32.0190396,cy:23.2007668,r:9.09652528})));m();var LO=xr(Lr()),kCe=n=>LO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},LO.createElement("title",null,"insert_filter"),LO.createElement("g",{id:"insert_filter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},LO.createElement("path",{d:"M87.3843313,20.5 C88.0702245,20.5 88.6794354,20.684137 89.1839151,20.9924545 C89.72968,21.3260038 90.1536978,21.8060023 90.4194477,22.364077 C90.6824778,22.9164401 90.7905536,23.5453405 90.7077209,24.1843828 C90.641307,24.6967561 90.4522801,25.21669 90.1181537,25.7073778 L89.9660074,25.9157747 L65.9667297,54.9330833 L65.9667297,86.0952768 C65.9667297,87.3578277 65.3421199,88.3687734 64.46847,88.9512067 C64.0000984,89.2634544 63.4591929,89.4523731 62.9014864,89.49211 C62.4335638,89.5254497 61.9536386,89.4542406 61.4987219,89.2647425 L61.3053966,89.1762469 L45.2981054,81.501442 C44.7448345,81.2248066 44.1940182,80.794047 43.8075879,80.2144017 C43.516589,79.7779032 43.3168206,79.2579753 43.2760203,78.6543848 L43.268304,78.4241163 L43.268304,54.9330833 L19.2778986,25.9265022 C18.8405281,25.4244753 18.5999563,24.8470099 18.5253334,24.2601464 C18.4451968,23.6299215 18.5577673,22.9877736 18.8297244,22.4166636 C19.0989541,21.8512813 19.5239716,21.3563425 20.06756,21.0111708 C20.5069962,20.7321343 21.0239609,20.5500465 21.6001779,20.5088845 L21.8507024,20.5 L87.3843313,20.5 Z M80.4108174,26.9794004 L28.8312662,26.9794004 L49.2106529,51.6044926 L49.3557497,51.8317181 C49.767411,52.5135117 49.9668805,53.1962297 49.9668805,53.8764024 L49.9668805,53.8764024 L49.9668805,76.3587304 L59.2681532,80.9104171 L59.2681532,53.6572264 L59.2765596,53.4785743 C59.3429907,52.7639199 59.7932531,52.0547544 60.2732157,51.568472 L60.2732157,51.568472 L80.4108174,26.9794004 Z",id:"Shape-Copy-2",stroke:"#4285F4",fill:"#4285F4",className:"primaryfill primarystroke",fillRule:"nonzero"})));m();var ly=xr(Lr()),ICe=n=>ly.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},ly.createElement("title",null,"insert_limit"),ly.createElement("g",{id:"insert_limit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},ly.createElement("rect",{id:"Rectangle-Copy-46",className:"primaryfill",fill:"#4285F4",x:24,y:23,width:61.9377906,height:8,rx:4}),ly.createElement("rect",{id:"Rectangle-Copy-47",className:"primaryfill",fill:"#4285F4",x:24,y:39,width:61.9377906,height:8,rx:4}),ly.createElement("rect",{id:"Rectangle-Copy-48",className:"primaryfill",fill:"#4285F4",x:24,y:55,width:53.5,height:8,rx:4}),ly.createElement("rect",{id:"Rectangle-Copy-49",className:"primaryfill",fill:"#4285F4",x:24,y:71.1904762,width:40,height:7.61904762,rx:3.80952381}),ly.createElement("path",{d:"M77.1113683,65.3807638 L87.6203313,83.396129 C87.8986116,83.8731809 87.7374754,84.4854986 87.2604234,84.7637789 C87.1074874,84.8529916 86.933607,84.9 86.7565524,84.9 L65.7386264,84.9 C65.1863417,84.9 64.7386264,84.4522847 64.7386264,83.9 C64.7386264,83.7229454 64.7856348,83.549065 64.8748475,83.396129 L75.3838105,65.3807638 C75.6620908,64.9037119 76.2744085,64.7425757 76.7514604,65.020856 C76.9004641,65.1077747 77.0244495,65.2317602 77.1113683,65.3807638 Z",id:"Triangle-Copy-2",fill:"#4285F4",className:"primaryfill",transform:"translate(76.247589, 74.400000) rotate(-90.000000) translate(-76.247589, -74.400000) "})));m();var kO=xr(Lr()),MCe=n=>kO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},kO.createElement("title",null,"insert_nest"),kO.createElement("g",{id:"insert_nest",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},kO.createElement("path",{d:"M27.3181186,27 C29.5272576,27 31.3181186,28.790861 31.3181186,31 L31.318,59.317 L72.9431634,59.317258 L62.9360743,49.6237568 C61.3178543,48.0565431 61.3178543,45.5094664 62.9249345,43.9421238 C64.5430225,42.3747812 67.1727815,42.3747812 68.7910025,43.9421238 L68.7910025,43.9421238 L85.8680951,60.4822957 C86.2520369,60.8534663 86.560236,61.307334 86.7733764,61.8022097 C86.7845158,61.823069 86.7845158,61.8432103 86.7949129,61.8640696 C86.986515,62.3179374 87.0927126,62.812813 87.0927126,63.3285517 C87.0927126,63.8442904 86.9865131,64.3391661 86.7949129,64.7930338 C86.7837736,64.8138932 86.7837736,64.8340344 86.7733764,64.8548938 C86.560236,65.3497694 86.2512954,65.8036556 85.8680951,66.1748077 L85.8680951,66.1748077 L68.8012688,82.7042995 C67.1831809,84.2716421 64.5534219,84.2716421 62.9352009,82.7042995 C62.1264611,81.921153 61.7217204,80.8895099 61.7217204,79.8689151 C61.7217204,78.8483204 62.1257196,77.8175611 62.9352009,77.0335308 L62.9352009,77.0335308 L72.9431634,67.3402284 L27.234417,67.3402284 C25.2840646,67.3402284 23.6511005,66.037955 23.2100653,64.2817501 C23.0737364,63.8793045 23,63.4482633 23,63 L23,31 C23,28.790861 24.790861,27 27,27 L27.3181186,27 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var Xw=xr(Lr()),PCe=n=>Xw.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Xw.createElement("title",null,"insert_order_by"),Xw.createElement("g",{id:"insert_order_by",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Xw.createElement("path",{d:"M30.5506412,37.7046734 L30.5506412,81.9762916 C30.5506412,84.1931505 32.3445678,85.9877768 34.5621264,85.9877768 C36.7789852,85.9877768 38.5736115,84.1938502 38.5736115,81.9762916 L38.5736115,37.7046734 L48.2669139,47.3979757 C49.0509443,48.1820061 50.0817035,48.5733031 51.1022983,48.5733031 C52.122893,48.5733031 53.1545362,48.1812879 53.9376827,47.3979757 C55.5050252,45.8306331 55.5050252,43.2835564 53.9376827,41.7163427 L37.4081909,25.1861143 C37.0370387,24.8149622 36.5831526,24.515735 36.0882769,24.3092959 C36.0674175,24.2992257 36.0472763,24.2992257 36.026417,24.2884366 C35.5725492,24.1028605 35.0776736,24 34.5619349,24 C34.0461961,24 33.5513205,24.1028586 33.0974527,24.2884366 C33.0765934,24.2985068 33.0564522,24.2985068 33.0355928,24.3092959 C32.5407172,24.515735 32.0868494,24.814244 31.7156789,25.1861143 L15.1755069,41.7262862 C13.6081644,43.2936288 13.6081644,45.8407055 15.1755069,47.4079192 C16.7428495,48.9644712 19.2899263,48.9644712 20.85714,47.3971298 L30.5506412,37.7046734 Z",id:"Path-Copy",fill:"#4285F4",fillRule:"nonzero",className:"primaryfill"}),Xw.createElement("path",{d:"M79.9439284,72.2964315 L79.9439284,28.0137648 C79.9439284,25.796906 78.1500018,24.0022797 75.9324432,24.0022797 C73.7155844,24.0022797 71.920958,25.7962062 71.920958,28.0137648 L71.920958,72.2853831 L62.2276557,62.5920808 C60.6603131,61.0247382 58.1233641,61.0247382 56.5460227,62.5920808 C54.9786801,64.1594234 54.9786801,66.7065001 56.5460227,68.2737138 L73.0861946,84.8138857 C73.4573467,85.1850378 73.9112329,85.484265 74.4061086,85.6907041 C74.4269679,85.7007743 74.4471091,85.7007743 74.4679685,85.7115634 C74.9218362,85.8971395 75.4167119,86 75.9324506,86 C76.4481893,86 76.943065,85.8971414 77.3969327,85.7115634 C77.4177921,85.7014932 77.4379333,85.7014932 77.4587926,85.6907041 C77.9536683,85.484265 78.407536,85.185756 78.7787066,84.8138857 L95.3188785,68.2737138 C96.8862211,66.7063712 96.8862211,64.1592945 95.3188785,62.5920808 C93.7515359,61.0355288 91.2044592,61.0355288 89.6372455,62.6028702 L79.9439284,72.2964315 Z",id:"Path-Copy-2",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));m();var X6=xr(Lr()),BCe=n=>X6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},X6.createElement("title",null,"item_rename"),X6.createElement("g",{id:"item_rename",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},X6.createElement("g",{id:"noun-rename-3187972",transform:"translate(19.000000, 29.000000)",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"},X6.createElement("path",{d:"M70.5666667,14.4545455 L48.6666667,14.4545455 L48.6666667,4.81818182 L51.1,4.81818182 C51.9695899,4.81818182 52.7728819,4.35895403 53.2074057,3.61363636 C53.6419295,2.8683187 53.6419295,1.94984935 53.2074057,1.20454545 C52.7728819,0.459241558 51.9695621,0 51.1,0 L41.3666667,0 C40.4970768,0 39.6937848,0.459227792 39.259261,1.20454545 C38.8247371,1.94986312 38.8247371,2.86833247 39.259261,3.61363636 C39.6937848,4.35894026 40.4971046,4.81818182 41.3666667,4.81818182 L43.8,4.81818182 L43.8,14.4545455 L2.43333333,14.4545455 C1.78806895,14.4545455 1.1688621,14.7083673 0.712619048,15.1600649 C0.256376,15.6117626 0,16.2248005 0,16.8636364 L0,36.1363636 C0,36.7751995 0.256376,37.3882374 0.712619048,37.8399351 C1.1688621,38.2916327 1.78806895,38.5454545 2.43333333,38.5454545 L43.8,38.5454545 L43.8,48.1818182 L41.3666667,48.1818182 C40.4970768,48.1818182 39.6937848,48.641046 39.259261,49.3863636 C38.8247371,50.1316813 38.8247371,51.0501506 39.259261,51.7954545 C39.6937848,52.5407584 40.4971046,53 41.3666667,53 L51.1,53 C51.9695899,53 52.7728819,52.5407722 53.2074057,51.7954545 C53.6419295,51.0501369 53.6419295,50.1316675 53.2074057,49.3863636 C52.7728819,48.6410597 51.9695621,48.1818182 51.1,48.1818182 L48.6666667,48.1818182 L48.6666667,38.5454545 L70.5666667,38.5454545 C71.211931,38.5454545 71.8311379,38.2916327 72.287381,37.8399351 C72.743624,37.3882374 73,36.7751995 73,36.1363636 L73,16.8636364 C73,16.2248005 72.743624,15.6117626 72.287381,15.1600649 C71.8311379,14.7083673 71.211931,14.4545455 70.5666667,14.4545455 Z M4.86666667,33.7272727 L4.86666667,19.2727273 L43.8,19.2727273 L43.8,33.7272727 L4.86666667,33.7272727 Z M68.1333333,33.7272727 L48.6666667,33.7272727 L48.6666667,19.2727273 L68.1333333,19.2727273 L68.1333333,33.7272727 Z",id:"Shape"}),X6.createElement("path",{d:"M36.5833621,24 L12.4166379,24 C11.553002,24 10.7552101,24.4765571 10.3236615,25.25 C9.89211284,26.0234429 9.89211284,26.9765714 10.3236615,27.75 C10.7552101,28.5234286 11.5530297,29 12.4166379,29 L36.5833621,29 C37.446998,29 38.2447899,28.5234429 38.6763385,27.75 C39.1078872,26.9765571 39.1078872,26.0234286 38.6763385,25.25 C38.2447899,24.4765714 37.4469703,24 36.5833621,24 Z",id:"Path"}))));m();var Z6=xr(Lr()),jCe=n=>Z6.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Z6.createElement("title",null,"item_edit"),Z6.createElement("g",{id:"item_edit",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Z6.createElement("g",{id:"noun-edit-1269277",transform:"translate(24.000000, 19.000000)",fill:"#4285F4",fillRule:"nonzero",stroke:"#4285F4",className:"primaryfill primarystroke"},Z6.createElement("path",{d:"M3.59891474,39.407072 L3.06867736,55.867955 C3.03311545,56.9719519 3.89925313,57.8957468 5.00325002,57.9313087 C5.0461704,57.9326913 5.08912418,57.9326911 5.13204455,57.9313083 L21.5822973,57.4013025 C22.0903599,57.3849333 22.5731262,57.1757204 22.9324738,56.8161862 L59.5846859,20.1449445 C60.3655318,19.3636932 60.3652031,18.0973633 59.5839519,17.3165174 C59.5834627,17.3160285 59.5829732,17.3155398 59.5824835,17.3150514 L43.6370127,1.4108896 C42.8555349,0.631436244 41.5903551,0.632410128 40.8100781,1.41306566 L4.18332144,38.057592 C3.82420961,38.416878 3.61526942,38.8993513 3.59891474,39.407072 Z M19.6812157,53.0009522 L9.73874131,53.3226566 C8.63474957,53.358378 7.71082953,52.4923738 7.67510814,51.388382 C7.67371403,51.3452961 7.6737133,51.3021764 7.67510597,51.2590905 L7.99671088,41.3093667 C8.01311902,40.8017362 8.22204313,40.3193622 8.58108638,39.9601325 L30.3814317,18.1484685 C31.1612436,17.3682518 32.4255308,17.3667397 33.2072068,18.1450889 L42.8519496,27.7487844 C43.634662,28.5281657 43.6373624,29.7944927 42.8579812,30.5772051 C42.8571049,30.5780852 42.8562277,30.5789644 42.8553498,30.5798429 L21.0311311,52.4158307 C20.6718495,52.7753061 20.1891879,52.984516 19.6812157,53.0009522 Z M46.0079854,24.5968587 L36.3860729,14.9699505 C35.6062481,14.1882519 35.6062481,12.922488 36.3860729,12.1407894 L40.8083468,7.71621952 C41.5884586,6.93423458 42.8547885,6.93390593 43.6360397,7.71475178 C43.6362845,7.7149964 43.6365292,7.71524109 43.6360397,7.71621952 L53.2579523,17.3431277 C54.0377771,18.1248263 54.0377771,19.3905902 53.2579523,20.1722888 L48.8356784,24.5968587 C48.0555666,25.3788436 46.7892367,25.3791723 46.0079854,24.5983264 C46.0077407,24.5980818 46.007496,24.5978371 46.0079854,24.5968587 Z",id:"Shape"}),Z6.createElement("path",{d:"M2,64 L60,64 C61.1045695,64 62,64.8954305 62,66 C62,67.1045695 61.1045695,68 60,68 L2,68 C0.8954305,68 1.3527075e-16,67.1045695 0,66 C-1.3527075e-16,64.8954305 0.8954305,64 2,64 Z",id:"Path"}))));m();var Zw=xr(Lr()),eC=n=>Zw.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Zw.createElement("title",null,"query_clear_hover"),Zw.createElement("g",{id:"query_clear_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Zw.createElement("circle",{className:"circle hoverfill",fill:"transparent",cx:55,cy:55,r:55}),Zw.createElement("path",{d:"M78.1428571,25 L85,31.8571429 L61.857,55 L85,78.1428571 L78.1428571,85 L55,61.857 L31.8571429,85 L25,78.1428571 L48.142,55 L25,31.8571429 L31.8571429,25 L55,48.143 L78.1428571,25 Z",className:"cross primaryfill",fill:"#4285F4"})));m();var tC=xr(Lr()),qCe=n=>tC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},tC.createElement("title",null,"query_add_hover"),tC.createElement("g",{id:"query_add_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},tC.createElement("circle",{id:"Oval",className:"hoverfill",fill:"transparent",cx:55,cy:55,r:55}),tC.createElement("path",{d:"M75.8285714,28 L82,34.1714286 L61.171,55 L82,75.8285714 L75.8285714,82 L54.999,61.171 L34.1714286,82 L28,75.8285714 L48.828,55 L28,34.1714286 L34.1714286,28 L55,48.829 L75.8285714,28 Z",id:"Combined-Shape-Copy",fill:"#4285F4",className:"primaryfill",transform:"translate(55.000000, 55.000000) rotate(-315.000000) translate(-55.000000, -55.000000) "})));m();var nC=xr(Lr()),UCe=n=>nC.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},nC.createElement("title",null,"query_run_hover"),nC.createElement("g",{id:"query_run_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},nC.createElement("circle",{id:"Oval-Copy-2",className:"hoverfill",fill:"#EAF2FF",cx:56,cy:56,r:55.5}),nC.createElement("path",{d:"M62,32.5734278 L89.4027789,80.75 L34.5972211,80.75 L62,32.5734278 Z",id:"Triangle",className:"primarystroke",stroke:"#4285F4",strokeWidth:6.5,transform:"translate(62.000000, 55.000000) rotate(-270.000000) translate(-62.000000, -55.000000) "})));m();var Z5=xr(Lr()),zCe=n=>Z5.createElement("svg",{width:"112px",height:"112px",viewBox:"0 0 112 112",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Z5.createElement("title",null,"query_save_hover"),Z5.createElement("g",{id:"query_save_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Z5.createElement("circle",{id:"Oval-Copy-2",className:"hoverfill",fill:"#EAF2FF",cx:56,cy:56,r:55.5}),Z5.createElement("path",{d:"M55.9991771,28.3532333 L55.9991771,34.8532333 L32.864,34.8532333 L32.864,80.1272333 L53.9292984,65.9165518 L74.994,80.1272333 L74.9931771,54.8692333 L81.4941771,54.8692333 L81.4944197,92.3532333 L53.9292984,73.7573595 L26.3641771,92.3532333 L26.3641771,28.3532333 L55.9991771,28.3532333 Z",id:"Combined-Shape-Copy",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"}),Z5.createElement("rect",{id:"Rectangle-Copy-2",className:"primaryfill",fill:"#4285F4",x:75.006375,y:19.6467667,width:6.48804474,height:24}),Z5.createElement("rect",{id:"Rectangle-Copy-3",className:"primaryfill",fill:"#4285F4",transform:"translate(78.250397, 31.646767) rotate(-270.000000) translate(-78.250397, -31.646767) ",x:75.006375,y:19.6467667,width:6.48804474,height:24})));m();var IO=xr(Lr()),aH=n=>IO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},IO.createElement("title",null,"cahevron_down"),IO.createElement("g",{id:"cahevron_down",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},IO.createElement("path",{d:"M52.9466923,41.3127809 C54.0529774,40.2742275 55.7502198,40.2309545 56.9057514,41.1829617 L57.0533077,41.3127809 L81.5533077,64.3127809 C82.7612755,65.4467914 82.8212296,67.34534 81.6872191,68.5533077 C80.5968243,69.7148152 78.7995712,69.8149195 77.5890551,68.8127704 L77.4466923,68.6872191 L54.9999906,47.615 L32.5533077,68.6872191 C31.3918003,69.7776139 29.5918121,69.7641211 28.4469384,68.6875913 L28.3127809,68.5533077 C27.2223861,67.3918003 27.2358789,65.5918121 28.3124087,64.4469384 L28.4466923,64.3127809 L52.9466923,41.3127809 Z",id:"Path",fill:"#979797",fillRule:"nonzero",transform:"translate(55.000000, 55.000005) rotate(-180.000000) translate(-55.000000, -55.000005) "})));m();var rC=xr(Lr()),HCe=n=>rC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},rC.createElement("title",null,"item_duplicate"),rC.createElement("g",{id:"item_duplicate",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},rC.createElement("rect",{id:"Rectangle",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,x:29.4307692,y:24,width:30.0923077,height:41.7692308,rx:5}),rC.createElement("rect",{id:"Rectangle-Copy",stroke:"#4285F4",className:"primarystroke",strokeWidth:6,fill:"none",x:47.4769231,y:45.2307692,width:30.0923077,height:41.7692308,rx:5})));m();var eb=xr(Lr()),uH=n=>eb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},eb.createElement("title",null,"viz_scatter"),eb.createElement("g",{id:"viz_scatter",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},eb.createElement("path",{d:"M29.1340462,83.93 C36.5885775,83.93 42.6340462,77.8857969 42.6340462,70.43 C42.6340462,62.9742031 36.5885775,56.93 29.1340462,56.93 C21.679515,56.93 15.6340462,62.9742031 15.6340462,70.43 C15.6340462,77.8857969 21.679515,83.93 29.1340462,83.93 Z",id:"Path-Copy-3",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"}),eb.createElement("path",{d:"M68.2840462,92.63 C73.6709212,92.63 78.0340462,88.264925 78.0340462,82.88 C78.0340462,77.495075 73.6709212,73.13 68.2840462,73.13 C62.8971712,73.13 58.5340462,77.495075 58.5340462,82.88 C58.5340462,88.264925 62.8971712,92.63 68.2840462,92.63 Z",id:"Path-Copy-2",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero",transform:"translate(68.284046, 82.880000) rotate(-360.000000) translate(-68.284046, -82.880000) "}),eb.createElement("path",{d:"M67.8242963,57.43 C78.8701296,57.43 87.8242963,48.4758333 87.8242963,37.43 C87.8242963,26.3842917 78.8701296,17.43 67.8242963,17.43 C56.7784629,17.43 47.8242963,26.3842917 47.8242963,37.43 C47.8242963,48.4758333 56.7784629,57.43 67.8242963,57.43 Z",id:"Path-Copy",stroke:"#9aa0a6",className:"primarystroke",strokeWidth:7,fillRule:"nonzero"})));m();var tb=xr(Lr()),$Ce=n=>tb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},tb.createElement("title",null,"alert_outline"),tb.createElement("g",{id:"alert_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},tb.createElement("path",{d:"M54.0787732,20.8756898 C55.4385401,20.5119661 56.9370629,20.666976 58.2520419,21.4269314 C59.0865559,21.9092155 59.7796762,22.6023358 60.2619602,23.4368497 L60.2619602,23.4368497 L90.6657826,76.0457109 C91.425738,77.3606899 91.5807479,78.8592127 91.2170242,80.2189797 C90.8533006,81.5787466 89.9708433,82.7997576 88.6558643,83.559713 C87.8192733,84.0431974 86.8700737,84.2977528 85.9038224,84.2977528 L85.9038224,84.2977528 L25.0961776,84.2977528 C23.5773946,84.2977528 22.2023946,83.6821443 21.2070903,82.6868401 C20.2117861,81.6915359 19.5961776,80.3165359 19.5961776,78.7977528 C19.5961776,77.8315015 19.850733,76.8823018 20.3342174,76.0457109 L20.3342174,76.0457109 L50.7380398,23.4368497 C51.4979952,22.1218707 52.7190062,21.2394134 54.0787732,20.8756898 Z",id:"Triangle",stroke:"#EA4335",strokeWidth:7}),tb.createElement("polygon",{id:"Path",fill:"#EA4335",fillRule:"nonzero",points:"50.4640684 39.8293463 60.4640684 39.8293463 60.4640684 60.8293463 50.4640684 60.8293463"}),tb.createElement("path",{d:"M60.464247,71.3304517 C60.464247,74.092878 58.2250065,76.331047 55.4636517,76.331047 C52.7022969,76.331047 50.4630564,74.0929673 50.4630564,71.3304517 C50.4630564,68.5691861 52.7022969,66.331047 55.4636517,66.331047 C58.2250065,66.331047 60.464247,68.5691266 60.464247,71.3304517",id:"Path",fill:"#EA4335",fillRule:"nonzero"})));m();var MO=xr(Lr()),VCe=n=>MO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},MO.createElement("title",null,"pipeline"),MO.createElement("g",{id:"pipeline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},MO.createElement("path",{d:"M27,28 C27.5522847,28 28,28.4477153 28,29 L28,30.416 L54.4420782,30.4163284 C56.5842736,30.4163284 58.3331571,32.1002969 58.4371829,34.2166881 L58.4420782,34.4163284 L58.442,72.416 L82,72.416 L82,71 C82,70.4477153 82.4477153,70 83,70 L87,70 C87.5522847,70 88,70.4477153 88,71 L88,82 C88,82.5522847 87.5522847,83 87,83 L83,83 C82.4477153,83 82,82.5522847 82,82 L82,80.416 L54.4420782,80.4163284 C52.2998828,80.4163284 50.5509993,78.73236 50.4469735,76.6159688 L50.4420782,76.4163284 L50.442,38.416 L28,38.416 L28,40 C28,40.5522847 27.5522847,41 27,41 L23,41 C22.4477153,41 22,40.5522847 22,40 L22,29 C22,28.4477153 22.4477153,28 23,28 L27,28 Z",id:"Combined-Shape",className:"primaryfill",fill:"#4285F4",fillRule:"nonzero"})));m();var PO=xr(Lr()),lH=n=>PO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},PO.createElement("title",null,"type-icon-projection"),PO.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},PO.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var nb=xr(Lr()),WCe=n=>nb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},nb.createElement("title",null,"move_icon_outline"),nb.createElement("g",{id:"move_icon_outline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},nb.createElement("g",{id:"Group",transform:"translate(25.000000, 17.000000)",fillRule:"nonzero",stroke:"#979797",className:"primarystroke",strokeWidth:6},nb.createElement("path",{d:"M32.8776058,2.98037748 L53.4553591,24.2930505 C54.9898149,25.8823083 54.9453892,28.4145786 53.3561313,29.9490344 C52.6104198,30.6690317 51.6143254,31.0714286 50.5777533,31.0714286 L9.42224672,31.0714286 C7.21310772,31.0714286 5.42224672,29.2805676 5.42224672,27.0714286 C5.42224672,26.0348564 5.82464355,25.038762 6.54464088,24.2930505 L27.1223942,2.98037748 C28.65685,1.39111966 31.1891202,1.34669386 32.7783781,2.88114969 C32.8120317,2.91364284 32.8451127,2.94672386 32.8776058,2.98037748 Z",id:"Triangle"}),nb.createElement("path",{d:"M32.8776058,47.9803775 L53.4553591,69.2930505 C54.9898149,70.8823083 54.9453892,73.4145786 53.3561313,74.9490344 C52.6104198,75.6690317 51.6143254,76.0714286 50.5777533,76.0714286 L9.42224672,76.0714286 C7.21310772,76.0714286 5.42224672,74.2805676 5.42224672,72.0714286 C5.42224672,71.0348564 5.82464355,70.038762 6.54464088,69.2930505 L27.1223942,47.9803775 C28.65685,46.3911197 31.1891202,46.3466939 32.7783781,47.8811497 C32.8120317,47.9136428 32.8451127,47.9467239 32.8776058,47.9803775 Z",id:"Triangle-Copy",transform:"translate(30.000000, 60.535714) rotate(-180.000000) translate(-30.000000, -60.535714) "}))));m();var Moe=xr(Lr()),QCe=n=>Moe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px.0",viewBox:"-2 -2 24 24",width:"24px.0",fill:"#9aa0a6",className:"primaryfill",role:"img",...n},Moe.createElement("path",{d:"M19.6 21.0 13.3 14.7Q12.55 15.3 11.575 15.65Q10.6 16.0 9.5 16.0Q6.775 16.0 4.8875 14.1125Q3.0 12.225 3.0 9.5Q3.0 6.775 4.8875 4.8875Q6.775 3.0 9.5 3.0Q12.225 3.0 14.1125 4.8875Q16.0 6.775 16.0 9.5Q16.0 10.6 15.65 11.575Q15.3 12.55 14.7 13.3L21.0 19.6ZM9.5 14.0Q11.375 14.0 12.6875 12.6875Q14.0 11.375 14.0 9.5Q14.0 7.625 12.6875 6.3125Q11.375 5.0 9.5 5.0Q7.625 5.0 6.3125 6.3125Q5.0 7.625 5.0 9.5Q5.0 11.375 6.3125 12.6875Q7.625 14.0 9.5 14.0Z"}));m();var BO=xr(Lr()),GCe=n=>BO.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},BO.createElement("title",null,"project_folder"),BO.createElement("g",{id:"project_folder",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},BO.createElement("path",{d:"M24.1875,84 C22.7375,84 21.46875,83.4411458 20.38125,82.3234375 C19.29375,81.2057292 18.75,79.9520833 18.75,78.5625 L18.75,31.4375 C18.75,30.0479167 19.29375,28.7942708 20.38125,27.6765625 C21.46875,26.5588542 22.7375,26 24.1875,26 L49.5625,26 L55,31.4375 L85.8125,31.4375 C87.2020833,31.4375 88.4557292,31.9963542 89.5734375,33.1140625 C90.6911458,34.2317708 91.25,35.4854167 91.25,36.875 L91.25,78.5625 C91.25,79.9520833 90.6911458,81.2057292 89.5734375,82.3234375 C88.4557292,83.4411458 87.2020833,84 85.8125,84 L24.1875,84 Z M24.1875,31.4375 L24.1875,78.5625 L85.8125,78.5625 L85.8125,36.875 L52.734375,36.875 L47.296875,31.4375 L24.1875,31.4375 Z M24.1875,31.4375 L24.1875,78.5625 L24.1875,31.4375 Z",id:"Shape",fill:"#606368",fillRule:"nonzero"})));m();var cy=xr(Lr()),YCe=n=>cy.createElement("svg",{width:"15px",height:"14px",viewBox:"-2 -2 18 17",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},cy.createElement("title",null,"panel_icon_query"),cy.createElement("g",{id:"window-org",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},cy.createElement("g",{id:"z",transform:"translate(-76.000000, -86.000000)",fill:"#939BA5",className:"primaryfill primarystroke",fillRule:"nonzero",stroke:"#939BA5",strokeWidth:.25},cy.createElement("g",{id:"noun_explore_2232152-copy",transform:"translate(77.058375, 86.177891)"},cy.createElement("path",{d:"M1.89319474,1.8964973 C0.960203984,2.8308601 0.313970678,4.05198036 0.0958154857,5.35679538 C-0.0112040426,5.99754051 -0.0331567664,6.6465179 0.0532820834,7.29137916 C0.142465024,7.96642542 0.327691131,8.61128668 0.614448585,9.22870704 C1.17698713,10.4429671 2.14839516,11.4761171 3.3173777,12.1264666 C4.44794297,12.7562353 5.77471072,13.0416207 7.06443324,12.9153926 C7.7092945,12.8522785 8.33769122,12.7054697 8.93590294,12.4543854 C9.58350829,12.1840925 10.1734877,11.8218725 10.7072133,11.3636094 C11.7101784,10.501965 12.4373624,9.31651793 12.7529328,8.03228359 C13.0602709,6.77960629 12.9944127,5.42814173 12.5388937,4.21936988 C12.0518177,2.92964736 11.1737087,1.82240685 10.0239348,1.06092175 C8.94139112,0.34334209 7.62834383,-0.0284821691 6.32901699,0.00170282605 C5.02557402,0.0318878212 3.72761922,0.457221844 2.67526053,1.23105536 C2.39810739,1.43411805 2.13604675,1.65364529 1.89319474,1.8964973 C1.74089772,2.04879432 1.72992136,2.32869155 1.89319474,2.47824448 C2.05784017,2.62916945 2.31166854,2.64014581 2.47494192,2.47824448 C2.61763463,2.33555177 2.76718756,2.19971929 2.92222867,2.07211909 C2.95790185,2.04330614 2.99494707,2.01449319 3.03062024,1.98568024 C3.08550205,1.94177479 2.9414373,2.05291045 3.02650411,1.98979637 C3.04296865,1.97744797 3.05806115,1.9664716 3.07452569,1.9541232 C3.15410432,1.89512525 3.23368294,1.8388714 3.31600565,1.78398959 C3.6329481,1.57269462 3.97047123,1.39158465 4.32171481,1.24340376 C4.28878573,1.25712422 4.25585664,1.27084467 4.22292755,1.28456512 C4.71411975,1.07875834 5.2313808,0.937437677 5.75961822,0.864719279 C5.722573,0.87020746 5.68689982,0.874323596 5.6498546,0.879811777 C6.19318451,0.807093379 6.7447467,0.807093379 7.28807661,0.879811777 C7.25103139,0.874323596 7.21535821,0.87020746 7.17831299,0.864719279 C7.70655041,0.937437677 8.22381146,1.07875834 8.71500366,1.28456512 C8.68207457,1.27084467 8.64914549,1.25712422 8.6162164,1.24340376 C8.8892534,1.35865556 9.15405813,1.493116 9.4078865,1.64815711 C9.53685875,1.72636369 9.66171487,1.8086864 9.7838269,1.8964973 C9.81538394,1.91982207 9.84831302,1.94314683 9.87987006,1.9664716 C9.90593892,1.98568024 10.0019821,2.06388682 9.89084642,1.97470388 C9.95258846,2.0240975 10.0157025,2.07349113 10.0760725,2.12562885 C10.3134364,2.32457541 10.5343356,2.5427306 10.7387704,2.77597829 C10.786792,2.8308601 10.8348135,2.88711396 10.8814631,2.94473986 C10.9061599,2.97492485 10.9308567,3.00648189 10.9555535,3.03803893 C10.9953428,3.08743256 10.9281126,3.00236576 10.9281126,3.00236576 C10.9445772,3.02294644 10.9596697,3.04489916 10.9761342,3.06547984 C11.0666892,3.18621982 11.151756,3.31107593 11.2327067,3.4373041 C11.4124446,3.71994541 11.5688577,4.01905128 11.699202,4.32776145 C11.6854816,4.29483237 11.6717611,4.26190328 11.6580407,4.2289742 C11.8638475,4.72016639 12.0051681,5.23742745 12.0778865,5.76566486 C12.0723983,5.72861964 12.0682822,5.69294646 12.062794,5.65590124 C12.1355124,6.19923116 12.1355124,6.75079334 12.062794,7.29412325 C12.0682822,7.25707803 12.0723983,7.22140486 12.0778865,7.18435964 C12.0051681,7.71259705 11.8638475,8.2298581 11.6580407,8.7210503 C11.6717611,8.68812121 11.6854816,8.65519213 11.699202,8.62226304 C11.5839502,8.89530004 11.4494898,9.16010477 11.2944487,9.41393314 C11.2162421,9.5429054 11.1339194,9.66776151 11.0461085,9.78987354 C11.0227837,9.82143058 10.999459,9.85435966 10.9761342,9.8859167 C10.9569256,9.91198556 10.878719,10.0080287 10.9679019,9.89689307 C10.9185083,9.9586351 10.8691147,10.0217492 10.816977,10.0821192 C10.6180304,10.319483 10.3998752,10.5403823 10.1666275,10.744817 C10.1117457,10.7928386 10.0554919,10.8408602 9.99786595,10.8875097 C9.96768096,10.9122065 9.93612392,10.9369034 9.90456688,10.9616002 C9.85517325,11.0013895 9.94024005,10.9341593 9.94024005,10.9341593 C9.91965937,10.9506238 9.89770665,10.9657163 9.87712597,10.9821808 C9.75638599,11.0727358 9.63152987,11.1578026 9.50530171,11.2387533 C9.22266039,11.4184912 8.92355453,11.5749044 8.61484435,11.7052487 C8.64777344,11.6915282 8.68070253,11.6778078 8.71363161,11.6640873 C8.22243942,11.8698941 7.70517836,12.0112148 7.17694095,12.0839332 C7.21398617,12.078445 7.24965934,12.0743289 7.28670457,12.0688407 C6.74337465,12.1415591 6.19181247,12.1415591 5.64848255,12.0688407 C5.68552778,12.0743289 5.72120095,12.078445 5.75824617,12.0839332 C5.23000876,12.0112148 4.7127477,11.8698941 4.22155551,11.6640873 C4.2544846,11.6778078 4.28741368,11.6915282 4.32034277,11.7052487 C4.04730576,11.5899969 3.78250103,11.4555365 3.52867267,11.3004953 C3.39970041,11.2222888 3.2748443,11.139966 3.15273227,11.0521552 C3.12117523,11.0288304 3.08824614,11.0055056 3.0566891,10.9821808 C3.03062024,10.9629722 2.93457708,10.8847656 3.04571274,10.9739486 C2.98397071,10.9245549 2.92085663,10.8751613 2.86048664,10.8230236 C2.62312281,10.624077 2.40222353,10.4059218 2.19778879,10.1726742 C2.1497672,10.1177923 2.10174562,10.0615385 2.05509608,10.0039126 C2.03039927,9.9737276 2.00570245,9.94217056 1.98100564,9.91061352 C1.94121633,9.86121989 2.00844654,9.94628669 2.00844654,9.94628669 C1.991982,9.92570602 1.9768895,9.90375329 1.96042496,9.88317261 C1.86986998,9.76243263 1.78480317,9.63757652 1.7038525,9.51134835 C1.52411458,9.22870704 1.36770142,8.92960118 1.23735712,8.620891 C1.25107757,8.65382008 1.26479803,8.68674917 1.27851848,8.71967825 C1.07271169,8.22848606 0.931391034,7.71122501 0.858672637,7.18298759 C0.864160818,7.22003281 0.868276953,7.25570599 0.873765134,7.29275121 C0.801046737,6.7494213 0.801046737,6.19785911 0.873765134,5.6545292 C0.868276953,5.69157442 0.864160818,5.72724759 0.858672637,5.76429282 C0.931391034,5.2360554 1.07271169,4.71879435 1.27851848,4.22760215 C1.26479803,4.26053124 1.25107757,4.29346032 1.23735712,4.32638941 C1.38553801,3.97514583 1.56664798,3.6376227 1.77794294,3.32068025 C1.83282475,3.23835754 1.88907861,3.15877891 1.94807655,3.07920029 C1.96042496,3.06273575 1.97140132,3.04764325 1.98374973,3.03117871 C2.04686381,2.94748395 1.93572815,3.0915487 1.97963359,3.03529484 C2.00844654,2.99824962 2.03725949,2.96257644 2.06607244,2.92690327 C2.19367265,2.77049011 2.32950513,2.62230923 2.47219783,2.47961652 C2.62449486,2.3273195 2.63684326,2.04742227 2.47219783,1.89786934 C2.3102965,1.74557232 2.05509608,1.73322391 1.89319474,1.8964973 Z",id:"Path"}),cy.createElement("path",{d:"M6.16836964,6.17066644 C6.09118278,6.2541117 6.04424482,6.35633213 6.04320176,6.47211242 C6.04320176,6.58372045 6.08909665,6.69428542 6.16836964,6.77355841 C6.33004482,6.93731972 6.60854336,6.93731972 6.77126161,6.77355841 C6.93397986,6.60875403 6.93606599,6.33547082 6.77126161,6.17066644 C6.69198862,6.09139345 6.58142365,6.04549856 6.46981562,6.04549856 C6.35403533,6.04654162 6.25285796,6.09347958 6.16836964,6.17066644 C6.11100103,6.22386279 6.07657986,6.31460951 6.07657986,6.39179637 C6.07657986,6.46898323 6.11100103,6.55972994 6.16836964,6.61292629 C6.29770979,6.73183578 6.48233241,6.73183578 6.61062949,6.61292629 C6.61480176,6.60875403 6.62001708,6.60458177 6.62418935,6.60145257 C6.60332803,6.61814162 6.58246672,6.63378761 6.56056234,6.65047666 C6.5678638,6.64526133 6.57516526,6.64108907 6.58350978,6.63795987 C6.55847621,6.64839053 6.53344263,6.65882118 6.50840905,6.66925184 C6.51675358,6.66612264 6.52509811,6.66403651 6.53344263,6.66195038 C6.50527986,6.66612264 6.47816015,6.66925184 6.44999738,6.6734241 C6.4614711,6.67238104 6.47294482,6.67238104 6.48441854,6.6734241 C6.45625577,6.66925184 6.42913606,6.66612264 6.40097329,6.66195038 C6.41036088,6.66403651 6.41766234,6.66612264 6.42600687,6.66925184 C6.40097329,6.65882118 6.37593971,6.64839053 6.35090614,6.63795987 C6.35925066,6.64213213 6.36655212,6.6463044 6.37385358,6.65047666 C6.35299227,6.63378761 6.33213095,6.61814162 6.31022657,6.60145257 C6.32065723,6.60875403 6.32795869,6.61709856 6.33630322,6.62752921 C6.31961416,6.6066679 6.30396818,6.58580659 6.28727913,6.56390221 C6.29249446,6.57120367 6.29666672,6.57850513 6.29979592,6.58684965 C6.28936526,6.56181607 6.2789346,6.5367825 6.26850395,6.51174892 C6.27163314,6.52009345 6.27371927,6.52843797 6.27580541,6.5367825 C6.27163314,6.50861972 6.26850395,6.48150002 6.26433168,6.45333724 C6.26537475,6.46481096 6.26537475,6.47628469 6.26433168,6.48775841 C6.26850395,6.45959564 6.27163314,6.43247593 6.27580541,6.40431315 C6.27371927,6.41370075 6.27163314,6.42100221 6.26850395,6.42934673 C6.2789346,6.40431315 6.28936526,6.37927958 6.29979592,6.354246 C6.29562365,6.36259053 6.29145139,6.36989199 6.28727913,6.37719345 C6.30396818,6.35633213 6.31961416,6.33547082 6.33630322,6.31356644 C6.32900176,6.3239971 6.32065723,6.33129856 6.31022657,6.33964308 C6.33108789,6.32295403 6.3519492,6.30730805 6.37385358,6.29061899 C6.36655212,6.29583432 6.35925066,6.30000659 6.35090614,6.30313578 C6.37593971,6.29270513 6.40097329,6.28227447 6.42600687,6.27184381 C6.41766234,6.27497301 6.40931781,6.27705914 6.40097329,6.27914527 C6.42913606,6.27497301 6.45625577,6.27184381 6.48441854,6.26767155 C6.47294482,6.26871461 6.4614711,6.26871461 6.44999738,6.26767155 C6.47816015,6.27184381 6.50527986,6.27497301 6.53344263,6.27914527 C6.52405504,6.27705914 6.51675358,6.27497301 6.50840905,6.27184381 C6.53344263,6.28227447 6.55847621,6.29270513 6.58350978,6.30313578 C6.57516526,6.29896352 6.5678638,6.29479126 6.56056234,6.29061899 C6.58142365,6.30730805 6.60228497,6.32295403 6.62418935,6.33964308 C6.61375869,6.33234162 6.60645723,6.3239971 6.5981127,6.31356644 C6.61480176,6.33442775 6.63044774,6.35528907 6.64713679,6.37719345 C6.64192146,6.36989199 6.6377492,6.36259053 6.63462,6.354246 C6.64505066,6.37927958 6.65548132,6.40431315 6.66591197,6.42934673 C6.66278278,6.42100221 6.66069665,6.41265768 6.65861051,6.40431315 C6.66278278,6.43247593 6.66591197,6.45959564 6.67008424,6.48775841 C6.66904117,6.47628469 6.66904117,6.46481096 6.67008424,6.45333724 C6.66591197,6.48150002 6.66278278,6.50861972 6.65861051,6.5367825 C6.66069665,6.52739491 6.66278278,6.52009345 6.66591197,6.51174892 C6.65548132,6.5367825 6.64505066,6.56181607 6.63462,6.58684965 C6.63879227,6.57850513 6.64296453,6.57120367 6.64713679,6.56390221 C6.63044774,6.58476352 6.61480176,6.60562483 6.5981127,6.62752921 C6.6012419,6.62231388 6.60541416,6.61814162 6.60958643,6.61396936 C6.66591197,6.55347155 6.70137621,6.47628469 6.70137621,6.39283943 C6.70137621,6.31565257 6.66695504,6.22490586 6.60958643,6.17170951 C6.55013168,6.11747009 6.47190176,6.07679053 6.3884565,6.07991972 C6.30918351,6.08304892 6.22573825,6.11016863 6.16836964,6.17066644 Z",id:"Path"}),cy.createElement("path",{d:"M3.68710555,9.70849202 C3.82738583,9.65557928 3.96889665,9.60389707 4.10917694,9.55098433 C4.44634184,9.42547039 4.78350674,9.29995644 5.12067165,9.1744425 C5.52551563,9.02308746 5.93159015,8.87296294 6.33643414,8.72160789 C6.68221275,8.59240236 7.02676082,8.46442736 7.37253943,8.33522183 C7.53004712,8.27615645 7.68878534,8.21955212 7.8450625,8.15925621 C7.84629303,8.15925621 7.84629303,8.15925621 7.84752356,8.15802568 C7.92504688,8.12726246 7.98780385,8.09280765 8.03948606,8.02512856 C8.07024928,7.98575164 8.08747668,7.94637472 8.10593462,7.89961462 C8.10716514,7.89592304 8.10839567,7.89346198 8.1096262,7.88977039 C8.11700938,7.8688514 8.12562308,7.84916294 8.13300625,7.82824395 C8.16746106,7.73841534 8.20068534,7.64981727 8.23514014,7.55998866 C8.3569625,7.24128169 8.47755433,6.92134419 8.59937668,6.60263722 C8.75196226,6.20025429 8.90577836,5.79787136 9.05836394,5.3942579 C9.19618317,5.03248242 9.3340024,4.67070694 9.47182163,4.30770093 C9.54688389,4.11081632 9.62194615,3.91270118 9.69700841,3.71581656 C9.70069999,3.70720286 9.70439158,3.69735863 9.70685264,3.68874493 C9.80283389,3.43648651 9.50504591,3.13869853 9.2527875,3.23467978 C9.11373774,3.28759252 8.97591851,3.34050526 8.83686875,3.393418 C8.50339543,3.52016248 8.16992212,3.64690695 7.8364488,3.77365142 C7.43283534,3.92746752 7.02799135,4.08128363 6.62437789,4.23509973 C6.27367717,4.36799685 5.92297645,4.50212449 5.57227573,4.63502161 C5.39877116,4.70147016 5.2252666,4.76545766 5.05176203,4.83313675 C5.04930097,4.83436728 5.04560939,4.83559781 5.04314833,4.83682834 C4.99638823,4.85528627 4.95701131,4.87251367 4.91763439,4.90327689 C4.85118583,4.9549591 4.81550049,5.01771608 4.78473727,5.09523939 C4.78473727,5.09646992 4.78473727,5.09646992 4.78350674,5.09770045 C4.7773541,5.1124668 4.77243198,5.12846367 4.76627934,5.14323002 C4.73551612,5.22444492 4.70598343,5.30689035 4.67522021,5.38810526 C4.55955049,5.69942905 4.44265025,6.01075285 4.32698054,6.32330718 C4.17685602,6.72569011 4.02673151,7.12807304 3.87660699,7.53045597 C3.74001829,7.89592304 3.60466011,8.2613901 3.46807141,8.62685717 C3.39300915,8.82743337 3.31917742,9.02677904 3.24411516,9.22735524 C3.24042358,9.23719947 3.23673199,9.24581318 3.23427093,9.25565741 C3.20227718,9.3405639 3.22688776,9.46484731 3.2711868,9.53990957 C3.31548584,9.61620236 3.40408391,9.69003409 3.49145146,9.70972255 C3.70064136,9.75771317 3.8729154,9.64573505 3.9455166,9.45131149 C3.99719881,9.31349226 4.04888103,9.1744425 4.10056324,9.03662327 C4.22361612,8.70684154 4.346669,8.37582928 4.46972189,8.04604755 C4.61984641,7.64489515 4.7687404,7.24374275 4.91886492,6.84135982 C5.04807044,6.49558121 5.17604544,6.14980261 5.30525097,5.80525453 C5.36800794,5.63667208 5.43568703,5.46932016 5.49352188,5.29827665 C5.49475241,5.29581559 5.49475241,5.29335454 5.49598294,5.29089348 C5.40984592,5.3770305 5.3237089,5.46316752 5.23757189,5.54930454 C5.37785217,5.4963918 5.51690193,5.44347905 5.65718222,5.38933579 C5.99065554,5.26259132 6.32535938,5.13584684 6.6588327,5.00787185 C7.06490722,4.85405574 7.47098173,4.69900911 7.87705625,4.545193 C8.22775697,4.41229589 8.57968822,4.27816824 8.93038894,4.14527113 C9.10020192,4.08128363 9.27247596,4.02098771 9.44105841,3.95084757 C9.44351947,3.94961704 9.44598052,3.94838651 9.44844158,3.94838651 C9.29708653,3.79703146 9.14573149,3.64567642 8.99437644,3.49432137 C8.9414637,3.63460166 8.88855096,3.77365142 8.83440769,3.9139317 C8.70766322,4.24740502 8.58091875,4.58210887 8.45294375,4.91558218 C8.29912764,5.3216567 8.14408101,5.72773122 7.9902649,6.13380574 C7.85736779,6.48450645 7.72324015,6.8364377 7.59034303,7.18713842 C7.52635553,7.3569514 7.45621539,7.52553385 7.39591947,7.69780789 C7.39468895,7.70026895 7.39345842,7.70273001 7.39345842,7.70519107 C7.47959544,7.61905405 7.56573245,7.53291703 7.65186947,7.44678001 C7.51405024,7.49846222 7.37500048,7.55014443 7.23718125,7.60182664 C6.90739952,7.72487953 6.57638727,7.84793241 6.24660554,7.9709853 C5.84545313,8.12110981 5.44430073,8.2700038 5.0419178,8.42012832 C4.6961392,8.54933385 4.35036059,8.67730885 4.00581252,8.80651438 C3.83723006,8.86927135 3.66741708,8.93079779 3.49883463,8.99478529 C3.49637358,8.99601582 3.49391252,8.99601582 3.49145146,8.99724635 C3.3991618,9.03170116 3.32163848,9.07969178 3.2711868,9.16705933 C3.2244267,9.24581318 3.20473824,9.36271342 3.23427093,9.45131149 C3.29087526,9.62850765 3.49391252,9.78109322 3.68710555,9.70849202 Z",id:"Path"})))));var sa=({action:n,onClick:e,color:t})=>{let s={...{width:"22px",height:"22px"},...{onClick:e,style:{cursor:e?"pointer":"unset"}}};return _.createElement(dht,{color:t,doHover:e!==void 0},n==="group_by"?_.createElement(NCe,{...s}):n==="aggregate"?_.createElement(LCe,{...s}):n==="filter"?_.createElement(kCe,{...s}):n==="limit"?_.createElement(ICe,{...s}):n==="nest"?_.createElement(MCe,{...s}):n==="order_by"?_.createElement(PCe,{...s}):n==="remove"?_.createElement(eC,{...s}):n==="rename"?_.createElement(BCe,{...s}):n==="add"?_.createElement(qCe,{...s}):n==="save"?_.createElement(zCe,{...s}):n==="container-open"?_.createElement(aH,{...s}):n==="container-closed"?_.createElement(Iz,{...s}):n==="duplicate"?_.createElement(HCe,{...s}):n==="style"?_.createElement(uH,{...s}):n==="stage"?_.createElement(VCe,{...s}):n==="error"?_.createElement($Ce,{...s}):n==="load"?_.createElement(lH,{...s}):n==="move"?_.createElement(WCe,{...s}):n==="edit"?_.createElement(jCe,{...s}):n==="search"?_.createElement(QCe,{...s}):n==="open-directory"?_.createElement(GCe,{...s}):n==="run"?_.createElement(UCe,{...s}):n==="analysis"?_.createElement(YCe,{...s}):null)},dht=Hn.div`
  display: flex;
  ${({color:n,doHover:e})=>n===void 0?"":`
      svg .hoverfill {
        fill: transparent;
      }
      ${n!==void 0&&`
        svg .primaryfill {
          fill: ${yi[n].fillStrong};
        }
        svg .primarystroke {
          stroke: ${yi[n].fillStrong};
        }
      `}
      ${n!==void 0&&e&&`
        svg:hover .hoverfill {
          fill: ${yi[n].fillLight};
        }
      `}
    `}
`;m();m();var fb=xr(Lr());m();m();var cH=xr(Lr());var Poe=function(e){return e.reduce(function(t,r){var i=r[0],s=r[1];return t[i]=s,t},{})},Boe=typeof window!="undefined"&&window.document&&window.document.createElement?cH.useLayoutEffect:cH.useEffect;m();var n4=xr(Lr()),v9e=xr(jk());m();m();var Ml="top",$c="bottom",bc="right",Kl="left",fH="auto",e4=[Ml,$c,bc,Kl],fy="start",rb="end",KCe="clippingParents",dH="viewport",iC="popper",JCe="reference",joe=e4.reduce(function(n,e){return n.concat([e+"-"+fy,e+"-"+rb])},[]),hH=[].concat(e4,[fH]).reduce(function(n,e){return n.concat([e,e+"-"+fy,e+"-"+rb])},[]),hht="beforeRead",pht="read",mht="afterRead",xht="beforeMain",ght="main",yht="afterMain",vht="beforeWrite",_ht="write",bht="afterWrite",XCe=[hht,pht,mht,xht,ght,yht,vht,_ht,bht];m();m();function bf(n){return n?(n.nodeName||"").toLowerCase():null}m();m();function dl(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function S1(n){var e=dl(n).Element;return n instanceof e||n instanceof Element}function Vc(n){var e=dl(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function sC(n){if(typeof ShadowRoot=="undefined")return!1;var e=dl(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Eht(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Vc(s)||!bf(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Sht(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(c,d){return c[d]="",c},{});!Vc(i)||!bf(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}var ZCe={name:"applyStyles",enabled:!0,phase:"write",fn:Eht,effect:Sht,requires:["computeStyles"]};m();m();function Ef(n){return n.split("-")[0]}m();m();m();var Tm=Math.max,ib=Math.min,dy=Math.round;m();m();function oC(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function jO(){return!/^((?!chrome|android).)*safari/i.test(oC())}function w1(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Vc(n)&&(i=n.offsetWidth>0&&dy(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&dy(r.height)/n.offsetHeight||1);var o=S1(n)?dl(n):window,a=o.visualViewport,c=!jO()&&t,d=(r.left+(c&&a?a.offsetLeft:0))/i,p=(r.top+(c&&a?a.offsetTop:0))/s,E=r.width/i,w=r.height/s;return{width:E,height:w,top:p,right:d+E,bottom:p+w,left:d,x:d,y:p}}function sb(n){var e=w1(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}m();function qO(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&sC(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}m();m();function Td(n){return dl(n).getComputedStyle(n)}m();function qoe(n){return["table","td","th"].indexOf(bf(n))>=0}m();m();function Jf(n){return((S1(n)?n.ownerDocument:n.document)||window.document).documentElement}function hy(n){return bf(n)==="html"?n:n.assignedSlot||n.parentNode||(sC(n)?n.host:null)||Jf(n)}function e9e(n){return!Vc(n)||Td(n).position==="fixed"?null:n.offsetParent}function wht(n){var e=/firefox/i.test(oC()),t=/Trident/i.test(oC());if(t&&Vc(n)){var r=Td(n);if(r.position==="fixed")return null}var i=hy(n);for(sC(i)&&(i=i.host);Vc(i)&&["html","body"].indexOf(bf(i))<0;){var s=Td(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Fm(n){for(var e=dl(n),t=e9e(n);t&&qoe(t)&&Td(t).position==="static";)t=e9e(t);return t&&(bf(t)==="html"||bf(t)==="body"&&Td(t).position==="static")?e:t||wht(n)||e}m();function ob(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}m();function ab(n,e,t){return Tm(n,ib(e,t))}function t9e(n,e,t){var r=ab(n,e,t);return r>t?t:r}m();m();function UO(){return{top:0,right:0,bottom:0,left:0}}function zO(n){return Object.assign({},UO(),n)}m();function HO(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Cht=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,zO(typeof e!="number"?e:HO(e,e4))};function Aht(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Ef(t.placement),c=ob(a),d=[Kl,bc].indexOf(a)>=0,p=d?"height":"width";if(!(!s||!o)){var E=Cht(i.padding,t),w=sb(s),N=c==="y"?Ml:Kl,R=c==="y"?$c:bc,U=t.rects.reference[p]+t.rects.reference[c]-o[c]-t.rects.popper[p],Q=o[c]-t.rects.reference[c],P=Fm(s),j=P?c==="y"?P.clientHeight||0:P.clientWidth||0:0,I=U/2-Q/2,K=E[N],de=j-w[p]-E[R],M=j/2-w[p]/2+I,Z=ab(K,M,de),me=c;t.modifiersData[r]=(e={},e[me]=Z,e.centerOffset=Z-M,e)}}function Tht(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!qO(e.elements.popper,i)||(e.elements.arrow=i))}var n9e={name:"arrow",enabled:!0,phase:"main",fn:Aht,effect:Tht,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};m();m();function C1(n){return n.split("-")[1]}var Fht={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Dht(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:dy(e*i)/i||0,y:dy(t*i)/i||0}}function r9e(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,c=n.gpuAcceleration,d=n.adaptive,p=n.roundOffsets,E=n.isFixed,w=o.x,N=w===void 0?0:w,R=o.y,U=R===void 0?0:R,Q=typeof p=="function"?p({x:N,y:U}):{x:N,y:U};N=Q.x,U=Q.y;var P=o.hasOwnProperty("x"),j=o.hasOwnProperty("y"),I=Kl,K=Ml,de=window;if(d){var M=Fm(t),Z="clientHeight",me="clientWidth";if(M===dl(t)&&(M=Jf(t),Td(M).position!=="static"&&a==="absolute"&&(Z="scrollHeight",me="scrollWidth")),M=M,i===Ml||(i===Kl||i===bc)&&s===rb){K=$c;var _e=E&&M===de&&de.visualViewport?de.visualViewport.height:M[Z];U-=_e-r.height,U*=c?1:-1}if(i===Kl||(i===Ml||i===$c)&&s===rb){I=bc;var Ve=E&&M===de&&de.visualViewport?de.visualViewport.width:M[me];N-=Ve-r.width,N*=c?1:-1}}var at=Object.assign({position:a},d&&Fht),lt=p===!0?Dht({x:N,y:U}):{x:N,y:U};if(N=lt.x,U=lt.y,c){var Ke;return Object.assign({},at,(Ke={},Ke[K]=j?"0":"",Ke[I]=P?"0":"",Ke.transform=(de.devicePixelRatio||1)<=1?"translate("+N+"px, "+U+"px)":"translate3d("+N+"px, "+U+"px, 0)",Ke))}return Object.assign({},at,(e={},e[K]=j?U+"px":"",e[I]=P?N+"px":"",e.transform="",e))}function Oht(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,c=a===void 0?!0:a;if(!1)var d;var p={placement:Ef(e.placement),variation:C1(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,r9e(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,r9e(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var i9e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Oht,data:{}};m();var pH={passive:!0};function Rht(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,c=dl(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&d.forEach(function(p){p.addEventListener("scroll",t.update,pH)}),a&&c.addEventListener("resize",t.update,pH),function(){s&&d.forEach(function(p){p.removeEventListener("scroll",t.update,pH)}),a&&c.removeEventListener("resize",t.update,pH)}}var s9e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Rht,data:{}};m();m();var Nht={left:"right",right:"left",bottom:"top",top:"bottom"};function aC(n){return n.replace(/left|right|bottom|top/g,function(e){return Nht[e]})}m();var Lht={start:"end",end:"start"};function mH(n){return n.replace(/start|end/g,function(e){return Lht[e]})}m();m();m();m();m();function ub(n){var e=dl(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function lb(n){return w1(Jf(n)).left+ub(n).scrollLeft}function Uoe(n,e){var t=dl(n),r=Jf(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;var d=jO();(d||!d&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a+lb(n),y:c}}m();function zoe(n){var e,t=Jf(n),r=ub(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=Tm(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Tm(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+lb(n),c=-r.scrollTop;return Td(i||t).direction==="rtl"&&(a+=Tm(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}m();m();m();function cb(n){var e=Td(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function xH(n){return["html","body","#document"].indexOf(bf(n))>=0?n.ownerDocument.body:Vc(n)&&cb(n)?n:xH(hy(n))}function t4(n,e){var t;e===void 0&&(e=[]);var r=xH(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=dl(r),o=i?[s].concat(s.visualViewport||[],cb(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(t4(hy(o)))}m();function uC(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function kht(n,e){var t=w1(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function o9e(n,e,t){return e===dH?uC(Uoe(n,t)):S1(e)?kht(e,t):uC(zoe(Jf(n)))}function Iht(n){var e=t4(hy(n)),t=["absolute","fixed"].indexOf(Td(n).position)>=0,r=t&&Vc(n)?Fm(n):n;return S1(r)?e.filter(function(i){return S1(i)&&qO(i,r)&&bf(i)!=="body"}):[]}function Hoe(n,e,t,r){var i=e==="clippingParents"?Iht(n):[].concat(e),s=[].concat(i,[t]),o=s[0],a=s.reduce(function(c,d){var p=o9e(n,d,r);return c.top=Tm(p.top,c.top),c.right=ib(p.right,c.right),c.bottom=ib(p.bottom,c.bottom),c.left=Tm(p.left,c.left),c},o9e(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}m();function $O(n){var e=n.reference,t=n.element,r=n.placement,i=r?Ef(r):null,s=r?C1(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,c;switch(i){case Ml:c={x:o,y:e.y-t.height};break;case $c:c={x:o,y:e.y+e.height};break;case bc:c={x:e.x+e.width,y:a};break;case Kl:c={x:e.x-t.width,y:a};break;default:c={x:e.x,y:e.y}}var d=i?ob(i):null;if(d!=null){var p=d==="y"?"height":"width";switch(s){case fy:c[d]=c[d]-(e[p]/2-t[p]/2);break;case rb:c[d]=c[d]+(e[p]/2-t[p]/2);break;default:}}return c}function Dm(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,c=a===void 0?KCe:a,d=t.rootBoundary,p=d===void 0?dH:d,E=t.elementContext,w=E===void 0?iC:E,N=t.altBoundary,R=N===void 0?!1:N,U=t.padding,Q=U===void 0?0:U,P=zO(typeof Q!="number"?Q:HO(Q,e4)),j=w===iC?JCe:iC,I=n.rects.popper,K=n.elements[R?j:w],de=Hoe(S1(K)?K:K.contextElement||Jf(n.elements.popper),c,p,o),M=w1(n.elements.reference),Z=$O({reference:M,element:I,strategy:"absolute",placement:i}),me=uC(Object.assign({},I,Z)),_e=w===iC?me:M,Ve={top:de.top-_e.top+P.top,bottom:_e.bottom-de.bottom+P.bottom,left:de.left-_e.left+P.left,right:_e.right-de.right+P.right},at=n.modifiersData.offset;if(w===iC&&at){var lt=at[i];Object.keys(Ve).forEach(function(Ke){var St=[bc,$c].indexOf(Ke)>=0?1:-1,Ft=[Ml,$c].indexOf(Ke)>=0?"y":"x";Ve[Ke]+=lt[Ft]*St})}return Ve}m();function $oe(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,c=t.allowedAutoPlacements,d=c===void 0?hH:c,p=C1(r),E=p?a?joe:joe.filter(function(R){return C1(R)===p}):e4,w=E.filter(function(R){return d.indexOf(R)>=0});w.length===0&&(w=E);var N=w.reduce(function(R,U){return R[U]=Dm(n,{placement:U,boundary:i,rootBoundary:s,padding:o})[Ef(U)],R},{});return Object.keys(N).sort(function(R,U){return N[R]-N[U]})}function Mht(n){if(Ef(n)===fH)return[];var e=aC(n);return[mH(n),e,mH(e)]}function Pht(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!0:o,c=t.fallbackPlacements,d=t.padding,p=t.boundary,E=t.rootBoundary,w=t.altBoundary,N=t.flipVariations,R=N===void 0?!0:N,U=t.allowedAutoPlacements,Q=e.options.placement,P=Ef(Q),j=P===Q,I=c||(j||!R?[aC(Q)]:Mht(Q)),K=[Q].concat(I).reduce(function(ut,Qt){return ut.concat(Ef(Qt)===fH?$oe(e,{placement:Qt,boundary:p,rootBoundary:E,padding:d,flipVariations:R,allowedAutoPlacements:U}):Qt)},[]),de=e.rects.reference,M=e.rects.popper,Z=new Map,me=!0,_e=K[0],Ve=0;Ve<K.length;Ve++){var at=K[Ve],lt=Ef(at),Ke=C1(at)===fy,St=[Ml,$c].indexOf(lt)>=0,Ft=St?"width":"height",je=Dm(e,{placement:at,boundary:p,rootBoundary:E,altBoundary:w,padding:d}),te=St?Ke?bc:Kl:Ke?$c:Ml;de[Ft]>M[Ft]&&(te=aC(te));var Xe=aC(te),ye=[];if(s&&ye.push(je[lt]<=0),a&&ye.push(je[te]<=0,je[Xe]<=0),ye.every(function(ut){return ut})){_e=at,me=!1;break}Z.set(at,ye)}if(me)for(var ke=R?3:1,Ce=function(Qt){var wt=K.find(function(mn){var Lt=Z.get(mn);if(Lt)return Lt.slice(0,Qt).every(function(It){return It})});if(wt)return _e=wt,"break"},xe=ke;xe>0;xe--){var Je=Ce(xe);if(Je==="break")break}e.placement!==_e&&(e.modifiersData[r]._skip=!0,e.placement=_e,e.reset=!0)}}var a9e={name:"flip",enabled:!0,phase:"main",fn:Pht,requiresIfExists:["offset"],data:{_skip:!1}};m();function u9e(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function l9e(n){return[Ml,bc,$c,Kl].some(function(e){return n[e]>=0})}function Bht(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Dm(e,{elementContext:"reference"}),a=Dm(e,{altBoundary:!0}),c=u9e(o,r),d=u9e(a,i,s),p=l9e(c),E=l9e(d);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:E},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":E})}var c9e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Bht};m();function jht(n,e,t){var r=Ef(n),i=[Kl,Ml].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Kl,bc].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function qht(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=hH.reduce(function(p,E){return p[E]=jht(E,e.rects,s),p},{}),a=o[e.placement],c=a.x,d=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=o}var f9e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qht};m();function Uht(n){var e=n.state,t=n.name;e.modifiersData[t]=$O({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var d9e={name:"popperOffsets",enabled:!0,phase:"read",fn:Uht,data:{}};m();m();function Voe(n){return n==="x"?"y":"x"}function zht(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!1:o,c=t.boundary,d=t.rootBoundary,p=t.altBoundary,E=t.padding,w=t.tether,N=w===void 0?!0:w,R=t.tetherOffset,U=R===void 0?0:R,Q=Dm(e,{boundary:c,rootBoundary:d,padding:E,altBoundary:p}),P=Ef(e.placement),j=C1(e.placement),I=!j,K=ob(P),de=Voe(K),M=e.modifiersData.popperOffsets,Z=e.rects.reference,me=e.rects.popper,_e=typeof U=="function"?U(Object.assign({},e.rects,{placement:e.placement})):U,Ve=typeof _e=="number"?{mainAxis:_e,altAxis:_e}:Object.assign({mainAxis:0,altAxis:0},_e),at=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,lt={x:0,y:0};if(!!M){if(s){var Ke,St=K==="y"?Ml:Kl,Ft=K==="y"?$c:bc,je=K==="y"?"height":"width",te=M[K],Xe=te+Q[St],ye=te-Q[Ft],ke=N?-me[je]/2:0,Ce=j===fy?Z[je]:me[je],xe=j===fy?-me[je]:-Z[je],Je=e.elements.arrow,ut=N&&Je?sb(Je):{width:0,height:0},Qt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:UO(),wt=Qt[St],mn=Qt[Ft],Lt=ab(0,Z[je],ut[je]),It=I?Z[je]/2-ke-Lt-wt-Ve.mainAxis:Ce-Lt-wt-Ve.mainAxis,cn=I?-Z[je]/2+ke+Lt+mn+Ve.mainAxis:xe+Lt+mn+Ve.mainAxis,it=e.elements.arrow&&Fm(e.elements.arrow),ue=it?K==="y"?it.clientTop||0:it.clientLeft||0:0,De=(Ke=at==null?void 0:at[K])!=null?Ke:0,ve=te+It-De-ue,le=te+cn-De,st=ab(N?ib(Xe,ve):Xe,te,N?Tm(ye,le):ye);M[K]=st,lt[K]=st-te}if(a){var Ze,Le=K==="x"?Ml:Kl,vt=K==="x"?$c:bc,$t=M[de],Mt=de==="y"?"height":"width",Vt=$t+Q[Le],tn=$t-Q[vt],en=[Ml,Kl].indexOf(P)!==-1,En=(Ze=at==null?void 0:at[de])!=null?Ze:0,Fn=en?Vt:$t-Z[Mt]-me[Mt]-En+Ve.altAxis,On=en?$t+Z[Mt]+me[Mt]-En-Ve.altAxis:tn,qt=N&&en?t9e(Fn,$t,On):ab(N?Fn:Vt,$t,N?On:tn);M[de]=qt,lt[de]=qt-$t}e.modifiersData[r]=lt}}var h9e={name:"preventOverflow",enabled:!0,phase:"main",fn:zht,requiresIfExists:["offset"]};m();m();m();m();function Woe(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Qoe(n){return n===dl(n)||!Vc(n)?ub(n):Woe(n)}function Hht(n){var e=n.getBoundingClientRect(),t=dy(e.width)/n.offsetWidth||1,r=dy(e.height)/n.offsetHeight||1;return t!==1||r!==1}function Goe(n,e,t){t===void 0&&(t=!1);var r=Vc(e),i=Vc(e)&&Hht(e),s=Jf(e),o=w1(n,i,t),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!t)&&((bf(e)!=="body"||cb(s))&&(a=Qoe(e)),Vc(e)?(c=w1(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=lb(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}m();function $ht(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var c=e.get(a);c&&i(c)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function Yoe(n){var e=$ht(n);return XCe.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}m();function Koe(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}m();function Joe(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var p9e={placement:"bottom",modifiers:[],strategy:"absolute"};function m9e(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function x9e(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?p9e:i;return function(a,c,d){d===void 0&&(d=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},p9e,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},E=[],w=!1,N={state:p,setOptions:function(P){var j=typeof P=="function"?P(p.options):P;U(),p.options=Object.assign({},s,p.options,j),p.scrollParents={reference:S1(a)?t4(a):a.contextElement?t4(a.contextElement):[],popper:t4(c)};var I=Yoe(Joe([].concat(r,p.options.modifiers)));if(p.orderedModifiers=I.filter(function(at){return at.enabled}),!1){var K;if(getBasePlacement(p.options.placement)===auto)var de;var M,Z,me,_e,Ve}return R(),N.update()},forceUpdate:function(){if(!w){var P=p.elements,j=P.reference,I=P.popper;if(!!m9e(j,I)){p.rects={reference:Goe(j,Fm(I),p.options.strategy==="fixed"),popper:sb(I)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(at){return p.modifiersData[at.name]=Object.assign({},at.data)});for(var K=0,de=0;de<p.orderedModifiers.length;de++){if(p.reset===!0){p.reset=!1,de=-1;continue}var M=p.orderedModifiers[de],Z=M.fn,me=M.options,_e=me===void 0?{}:me,Ve=M.name;typeof Z=="function"&&(p=Z({state:p,options:_e,name:Ve,instance:N})||p)}}}},update:Koe(function(){return new Promise(function(Q){N.forceUpdate(),Q(p)})}),destroy:function(){U(),w=!0}};if(!m9e(a,c))return N;N.setOptions(d).then(function(Q){!w&&d.onFirstUpdate&&d.onFirstUpdate(Q)});function R(){p.orderedModifiers.forEach(function(Q){var P=Q.name,j=Q.options,I=j===void 0?{}:j,K=Q.effect;if(typeof K=="function"){var de=K({state:p,name:P,instance:N,options:I}),M=function(){};E.push(de||M)}})}function U(){E.forEach(function(Q){return Q()}),E=[]}return N}}m();var Vht=[s9e,d9e,i9e,ZCe,f9e,a9e,h9e,n9e,c9e],Xoe=x9e({defaultModifiers:Vht});var _9e=xr(y9e());var Kht=[],Zoe=function(e,t,r){r===void 0&&(r={});var i=n4.useRef(null),s={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||Kht},o=n4.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],c=o[1],d=n4.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(N){var R=N.state,U=Object.keys(R.elements);v9e.flushSync(function(){c({styles:Poe(U.map(function(Q){return[Q,R.styles[Q]||{}]})),attributes:Poe(U.map(function(Q){return[Q,R.attributes[Q]]}))})})},requires:["computeStyles"]}},[]),p=n4.useMemo(function(){var w={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[d,{name:"applyStyles",enabled:!1}])};return(0,_9e.default)(i.current,w)?i.current||w:(i.current=w,w)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,d]),E=n4.useRef();return Boe(function(){E.current&&E.current.setOptions(p)},[p]),Boe(function(){if(!(e==null||t==null)){var w=r.createPopper||Xoe,N=w(e,t,p);return E.current=N,function(){N.destroy(),E.current=null}}},[e,t,r.createPopper]),{state:E.current?E.current.state:null,styles:a.styles,attributes:a.attributes,update:E.current?E.current.update:null,forceUpdate:E.current?E.current.forceUpdate:null}};var Jht=Hn.div`
  border: 1px solid #ececed;
  border-radius: 4px;
  position: fixed;
  box-shadow: 0px 1px 5px 1px #0000001a;
  background-color: white;
  font-size: 14px;
  ${({width:n,zIndex:e})=>`
    width: ${n}px;
    z-index: ${e};
  `}
`,Xht=Hn.div`
  position: relative;
`,Om=({open:n,setOpen:e,children:t,width:r=350,placement:i="right-start",referenceDiv:s,zIndex:o=10,xOffset:a=0,yOffset:c=10,disabled:d=!1})=>{let p=(0,fb.useRef)(null),[E,w]=(0,fb.useState)(null),{styles:N,attributes:R}=Zoe(s?.current||p.current,E,{placement:i,modifiers:[{name:"offset",options:{offset:[a,c]}},{name:"preventOverflow",options:{altAxis:!0,padding:20,boundary:document.getElementsByTagName("body")[0]}},{name:"flip",options:{flipVariations:!1}}]});return E1(p,()=>e(!1)),fb.default.createElement(Xht,{ref:p},n&&!d&&fb.default.createElement(Jht,{width:r,ref:w,style:{...N.popper,position:"fixed"},...R.popper,zIndex:o},t))};m();m();var Rx=xr(Lr());m();m();var Jo=({icon:n,name:e,onClick:t,canRemove:r,onRemove:i,unsaved:s=!1,color:o,active:a=!1,disableHover:c=!1,detail:d,fullDetail:p=!1})=>_.createElement(npt,{onClick:t,color:o,active:a,disableHover:c},_.createElement(ept,null,_.createElement(Mw,{color:o},n),_.createElement(uoe,null,e),s?_.createElement(Zht,{color:o}):""),r&&_.createElement(yH,{className:"back"},_.createElement(vH,{color:o,width:"20px",height:"20px",className:"close",onClick:()=>i&&i()})),!r&&d!==void 0&&_.createElement(tpt,{style:{color:yi[o].fillStrong,opacity:.8},noShrink:p},d)),Zht=Hn.div`
  width: 8px;
  margin-top: 3px;
  height: 8px;
  min-width: 8px;
  min-height: 8px;
  border-radius: 100px;

  ${({color:n})=>`
    background-color: ${yi[n].fillStrong};
    `}
`,ept=Hn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
`,yH=Hn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
`,tpt=Hn.div`
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  ${({noShrink:n})=>`flex-shrink: ${n?0:4};`}
  font-size: 12px;
  font-weight: normal;
  text-transform: none;
  margin-right: 5px;
  justify-content: start;
  text-overflow: ellipsis;
  color: #9aa0a6;
`,npt=Hn.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  cursor: pointer;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";

  ${({active:n,color:e})=>n?`
        background-color: ${yi[e].fillLight};
        .back {
          display: flex;
        }
      `:""}

  &:hover {
    .back {
      display: flex;
    }
  }

  .back {
    display: none;
  }

  ${({color:n,disableHover:e})=>{if(!e)return`
        &:hover {
          background-color: ${yi[n].fillLight};
        }
      `}}
`,vH=Hn(eC)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${yi[n].fillMedium};
      }
      .circle {
        fill: transparent;
      }
      &:hover .cross {
        fill: ${yi[n].fillStrong};
      }
      &:hover .circle {
        fill: ${yi[n].fillMedium};
      }
    `}
`;m();m();m();m();var cae=xr(Lr());m();var wx=xr(vx()),eae=class{async readURL(){return""}},tae=class{constructor(){this.name="dummy"}runSQL(){throw new Error("Dummy connection cannot run SQL.")}runSQLBlockAndFetchResultSchema(){throw new Error("Dummy connection cannot run SQL blocks.")}fetchSchemaForSQLBlocks(){throw new Error("Dummy connection cannot fetch schemas.")}fetchSchemaForTables(){throw new Error("Dummy connection cannot fetch schemas.")}isPool(){return!1}canPersist(){return!1}canFetchSchemaAndRunSimultaneously(){return!1}canStream(){return!1}canFetchSchemaAndRunStreamSimultaneously(){return!1}};async function nae(n,e){let r=await new wx.Runtime(new eae,new tae)._loadModelFromModelDef(n).getModel();return await wx.Malloy.compile({urlReader:new eae,connections:new wx.FixedConnectionMap(new Map([["dummy",new tae]]),"dummy"),model:r,parse:wx.Malloy.parse({source:e})})}async function rae(n,e){return(await nae(n,e))._modelDef}function iae(n){return{name:"model",exports:[],contents:{[n.as||n.name]:n}}}async function Cx(n,e){let t=`query: the_query is ${n.as||n.name} -> { group_by: one is 1; where: ${e}}`,r=iae(n),s=(await rae(r,t)).contents.the_query;if(s.type!=="query")throw new Error("Expected the_query to be a query");let o=s.pipeline[0].filterList;if(o===void 0)throw new Error("Expected a filter list");return o[0]}async function b9e(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { group_by: ${e} is ${t} }`,i=iae(n),o=(await rae(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definiton, not reference");if((0,wx.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}async function E9e(n,e,t){let r=`query: the_query is ${n.as||n.name} -> { aggregate: ${e} is ${t} }`,i=iae(n),o=(await rae(i,r)).contents.the_query;if(o.type!=="query")throw new Error("Expected the_query to be a query");let a=o.pipeline[0].fields[0];if(typeof a=="string")throw new Error("Expected field definiton, not reference");if((0,wx.isFilteredAliasedName)(a))throw new Error("Expected field definition, not filtered aliased name");return a}async function sae(n,e){let t=await nae(n,e),r=/\s*query\s*:\s*([^\s]*)\s*is/,i=e.match(r),s=i?t.getPreparedQueryByName(i[1]):t.preparedQuery,o="new_query";s._query.pipeHead&&(s=s.getFlattenedQuery(o));let a="as"in s._query?s._query.as||s._query.name:o;return{...s._query,type:"query",name:a}}async function oae(n,e){let t=await nae(n,e),r=/\s*query\s*:\s*([^\s]*)\s*is/,i=e.match(r);return(i?t.getPreparedQueryByName(i[1]):t.preparedQuery).preparedResult._sourceExploreName}m();m();m();async function rpt(n,e,t,r){if(e===void 0)return;if(b1()){let s=await owe(n,e,t,r);if(s instanceof Error)throw s;return s}if(Yw()){let s=await window.malloy.search(n,e,t,r);if(s instanceof Error)throw s;return s}return(await(await fetch("api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:n,searchTerm:t,source:e,fieldPath:r})})).json()).result||[]}function db(n,e,t,r){let{data:i,isLoading:s}=E3([e,t,r],()=>rpt(n,e,t,r),{refetchOnWindowFocus:!0});return{searchResults:i,isLoading:s}}m();var ipt=xr(Lr());m();function aae(n){window.malloy.openLink(n)}m();m();var Jh=({value:n,setValue:e,placeholder:t,autoFocus:r,onTab:i})=>_.createElement(spt,null,_.createElement(opt,null,_.createElement(sa,{action:"search",color:"other"})),_.createElement(apt,{type:"text",placeholder:t,value:n,onChange:o=>e(o.target.value),autoFocus:r,tabIndex:1,onKeyDown:o=>{o.key==="Tab"&&(i&&i(),o.stopPropagation(),o.preventDefault())}})),spt=Hn.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  position: relative;
`,opt=Hn.div`
  position: fixed;
  left: 15px;
  top: 9px;
  pointer-events: none;
`,apt=Hn.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: none;
  padding: 3px 10px 1px 38px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;m();m();m();m();var r4=({fieldPath:n,topValues:e,filterExpression:t,definition:r})=>{let i=e?.find(s=>s.fieldName===n);return _.createElement(Yl,null,_.createElement(upt,null,_.createElement(cpt,null,n&&_.createElement(_H,null,_.createElement("div",null,"Path"),_.createElement(uae,null,n.length<=32?n:_.createElement(S9e,{path:n.split(".")}))),r&&_.createElement(_H,null,_.createElement("div",null,"Definition"),_.createElement(uae,null,r)),t&&_.createElement(_H,null,_.createElement("div",null,"Filter"),_.createElement(uae,null,t)),i&&_.createElement(_H,null,_.createElement("div",null,"Top Values"),i.values.slice(0,8).map(s=>_.createElement(mpt,{key:s.fieldValue},_.createElement(dpt,null,_.createElement(ppt,null,s.fieldValue===null?_.createElement(lpt,null,"\u2205"):s.fieldValue)),_.createElement(hpt,null,rH(s.weight))))))))},upt=Hn(vf)`
  padding: 20px;
  background-color: rgb(248, 248, 248);
`,lpt=Hn.span``,uae=Hn.div`
  color: #505050;
  font-weight: normal;
  font-family: Roboto Mono;
  font-weight: normal;
  font-size: 14px;
  text-transform: none;
  overflow-wrap: break-word;
  padding: 4px 0px;
`,cpt=Hn.div`
  display: flex;
  gap: 15px;
  flex-direction: column;
`,_H=Hn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,S9e=({path:n,top:e=!0})=>_.createElement("div",null,e?"":".",n[0],n.length>1&&_.createElement(fpt,null,_.createElement(S9e,{path:n.slice(1),top:!1}))),fpt=Hn.div`
  margin-left: 10px;
`,dpt=Hn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: center;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #505050;
`,hpt=Hn.div`
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  align-items: center;
  overflow: hidden;
  flex-shrink: 0;
  color: #9aa0a6;
`,ppt=Hn.div`
  text-overflow: ellipsis;
  text-transform: none;
  color: #505050;
  overflow: hidden;
  white-space: nowrap;
`,mpt=Hn.div`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 0px;
  text-align: left;
  display: flex;
  color: #353535;
  user-select: none;
  font-size: 14px;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Roboto"
  font-weight: normal;;
`;m();m();var hb=xr(Lr());var i4=({popoverContent:n,content:e,width:t,enabled:r=!0,zIndex:i=11})=>{let[s,o]=(0,hb.useState)(!1),a=(0,hb.useRef)(!1),c=(0,hb.useRef)(null),d=()=>{a.current=!0,o(!1)};return(0,hb.useEffect)(()=>{a.current=!1},[s]),_.createElement(xpt,{onMouseEnter:()=>!a.current&&o(!0),onMouseLeave:d},_.createElement("div",{ref:c},e({isOpen:s,closeMenu:d})),(()=>{let p=n({setOpen:o,closeMenu:d});return _.createElement(Om,{open:r&&s&&p!==null,setOpen:o,referenceDiv:c,zIndex:i,width:t},p)})())},xpt=Hn.div`
  position: relative;
`;m();m();m();var py=xr(Lr()),w9e=n=>py.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},py.createElement("title",null,"type-icon-on-off"),py.createElement("g",{id:"type-icon-on-off",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},py.createElement("g",{id:"Group-Copy",transform:"translate(4.295444, 4.604157)",fill:"#4285f4",fillRule:"nonzero"},py.createElement("path",{d:"M1.61912392,3.08712961 L5.78998715,3.08712961 C6.6842046,3.08712961 7.40911107,2.39605211 7.40911107,1.54356481 C7.40911107,0.691077503 6.6842046,0 5.78998715,0 L1.61912392,0 C0.724906472,0 0,0.691077503 0,1.54356481 C0,2.39605211 0.724906472,3.08712961 1.61912392,3.08712961 Z M1.61912392,0.617425922 L5.78998715,0.617425922 C6.32651762,0.617425922 6.7614615,1.03207242 6.7614615,1.54356481 C6.7614615,2.05505719 6.32651762,2.46970369 5.78998715,2.46970369 L1.61912392,2.46970369 C1.08259345,2.46970369 0.647649569,2.05505719 0.647649569,1.54356481 C0.647649569,1.03207242 1.08259345,0.617425922 1.61912392,0.617425922 Z",id:"Shape-Copy-20"}),py.createElement("path",{d:"M1.83745135,2.13685198 C2.08762004,2.13888594 2.31428875,1.98975367 2.4114368,1.75920941 C2.50858486,1.52866515 2.45700749,1.2622842 2.28082919,1.08466199 C2.10465088,0.907039785 1.83869956,0.853289683 1.60736972,0.948552441 C1.37603988,1.0438152 1.22505383,1.26925874 1.22505383,1.51943543 C1.22505383,1.85847446 1.49842318,2.13409557 1.83745135,2.13685198 L1.83745135,2.13685198 Z",id:"Path-Copy-14"}),py.createElement("path",{d:"M5.78998714,3.70455553 L1.6191239,3.70455553 C0.724906454,3.70455553 0,4.39563305 0,5.24812034 C0,6.10060763 0.724906454,6.79168514 1.6191239,6.79168514 L5.78998714,6.79168514 C6.68420459,6.79168514 7.40911107,6.10060764 7.40911107,5.24812034 C7.40911107,4.39563304 6.68420459,3.70455553 5.78998714,3.70455553 L5.78998714,3.70455553 Z M5.78998714,6.17425922 L1.6191239,6.17425922 C1.08259342,6.17425922 0.647649538,5.75961272 0.647649538,5.24812034 C0.647649538,4.73662796 1.08259342,4.32198146 1.6191239,4.32198146 L5.78998714,4.32198146 C6.32651761,4.32198146 6.7614615,4.73662796 6.7614615,5.24812034 C6.7614615,5.75961272 6.32651761,6.17425922 5.78998714,6.17425922 L5.78998714,6.17425922 Z",id:"Shape-Copy-21"}),py.createElement("path",{d:"M5.54392378,4.67774545 C5.2937551,4.6757115 5.06708639,4.82484377 4.96993833,5.05538803 C4.87279028,5.28593228 4.92436765,5.55231324 5.10054595,5.72993544 C5.27672426,5.90755765 5.54267558,5.96130775 5.77400542,5.86604499 C6.00533526,5.77078224 6.15632131,5.5453387 6.15632131,5.295162 C6.15632131,4.95612297 5.88295196,4.68050187 5.54392378,4.67774545 Z",id:"Path-Copy-15"}))));m();var lC=xr(Lr()),lae=n=>lC.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},lC.createElement("title",null,"type-icon-date"),lC.createElement("g",{id:"type-icon-date",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},lC.createElement("g",{id:"Group-Copy-22",transform:"translate(4.753763, 4.094719)",fill:"#4285f4",fillRule:"nonzero"},lC.createElement("path",{d:"M5.84322609,0.649247344 L5.51860242,0.649247344 L5.51860242,0 L4.86935508,0 L4.86935508,0.649247344 L1.62311836,0.649247344 L1.62311836,0 L0.973871015,0 L0.973871015,0.649247344 L0.649247344,0.649247344 C0.292161305,0.649247344 0,0.941408648 0,1.29849469 L0,6.49247344 C0,6.84955947 0.292161305,7.14172078 0.649247344,7.14172078 L5.84322609,7.14172078 C6.20031213,7.14172078 6.49247344,6.84955947 6.49247344,6.49247344 L6.49247344,1.29849469 C6.49247344,0.941408648 6.20031213,0.649247344 5.84322609,0.649247344 Z M5.84322609,6.49247344 L0.649247344,6.49247344 L0.649247344,2.2723657 L5.84322609,2.2723657 L5.84322609,6.49247344 Z",id:"Shape"}))));m();var VO=xr(Lr()),C9e=n=>VO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},VO.createElement("title",null,"type-icon-number"),VO.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},VO.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#4285f4",fillRule:"nonzero"})));m();var WO=xr(Lr()),A9e=n=>WO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},WO.createElement("title",null,"type-icon-string"),WO.createElement("g",{id:"type-icon-string",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},WO.createElement("path",{d:"M4.8045,10.45 L5.2245,9.253 L7.1425,9.253 L7.5625,10.45 L8.6055,10.45 L6.7225,5.438 L5.6375,5.438 L3.7615,10.45 L4.8045,10.45 Z M6.8345,8.385 L5.5255,8.385 L5.9735,7.125 L6.1555,6.523 L6.2115,6.523 L6.3935,7.125 L6.8345,8.385 Z M10.2505,10.562 C10.4791667,10.562 10.681,10.5176667 10.856,10.429 C11.031,10.3403333 11.1721667,10.226 11.2795,10.086 L11.2795,10.086 L11.3355,10.086 L11.3355,10.45 L12.2385,10.45 L12.2385,8.252 C12.2385,7.76666667 12.0961667,7.398 11.8115,7.146 C11.5268333,6.894 11.1115,6.768 10.5655,6.768 C10.2575,6.768 9.97283333,6.82866667 9.7115,6.95 C9.45016667,7.07133333 9.23316667,7.244 9.0605,7.468 L9.0605,7.468 L9.6485,7.93 C9.75116667,7.804 9.88066667,7.7025 10.037,7.6255 C10.1933333,7.5485 10.3555,7.51 10.5235,7.51 C10.7708333,7.51 10.968,7.57066667 11.115,7.692 C11.262,7.81333333 11.3355,7.972 11.3355,8.168 L11.3355,8.168 L11.3355,8.322 C11.0741667,8.21466667 10.7591667,8.161 10.3905,8.161 C10.1245,8.161 9.88183333,8.21 9.6625,8.308 C9.44316667,8.406 9.2705,8.546 9.1445,8.728 C9.0185,8.91 8.9555,9.12 8.9555,9.358 C8.9555,9.71733333 9.07683333,10.0078333 9.3195,10.2295 C9.56216667,10.4511667 9.8725,10.562 10.2505,10.562 Z M10.4675,9.848 C10.2761667,9.848 10.1291667,9.8025 10.0265,9.7115 C9.92383333,9.6205 9.8725,9.50266667 9.8725,9.358 C9.8725,9.00333333 10.1105,8.826 10.5865,8.826 C10.8478333,8.826 11.0975,8.882 11.3355,8.994 C11.3355,9.22266667 11.2573333,9.42216667 11.101,9.5925 C10.9446667,9.76283333 10.7335,9.848 10.4675,9.848 Z",id:"Aa-Copy",fill:"#4285f4",fillRule:"nonzero"})));m();var QO=xr(Lr()),T9e=n=>QO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},QO.createElement("title",null,"type-icon-projection"),QO.createElement("g",{id:"type-icon-projection",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},QO.createElement("path",{d:"M11.3362588,4 L11.3362588,12 L8,9.90676786 L4.6637412,12 L4.6637412,4 L11.3362588,4 Z M10.336,5 L5.663,5 L5.663,10.191 L8,8.72623637 L10.336,10.191 L10.336,5 Z",id:"Rectangle",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"})));m();var GO=xr(Lr()),F9e=n=>GO.createElement("svg",{width:"16px",height:"16px",viewBox:"1.5 1.5 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},GO.createElement("title",null,"type-icon-number"),GO.createElement("g",{id:"type-icon-number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},GO.createElement("path",{d:"M12,7 L12,6 L10,6 L10,4 L9,4 L9,6 L7,6 L7,4 L6,4 L6,6 L4,6 L4,7 L6,7 L6,9 L4,9 L4,10 L6,10 L6,12 L7,12 L7,10 L9,10 L9,12 L10,12 L10,10 L12,10 L12,9 L10,9 L10,7 L12,7 Z M9,9 L7,9 L7,7 L9,7 L9,9 Z",id:"Shape-Copy-21",fill:"#ea8600",fillRule:"nonzero"})));var Rm=({type:n,kind:e})=>{let t={width:"22px",height:"22px"};if(e==="measure")return _.createElement(F9e,{...t});if(n==="string")return _.createElement(A9e,{...t});if(n==="boolean")return _.createElement(w9e,{...t});if(n==="number")return _.createElement(C9e,{...t});if(n==="date")return _.createElement(lae,{...t});if(n==="timestamp")return _.createElement(lae,{...t});if(n==="query")return _.createElement(T9e,{...t});if(n==="source")return _.createElement(lH,{...t});throw new Error("Invalid icon type")};var cC=({searchTerm:n,items:e,topValues:t})=>{let r=e.map(s=>({item:s,rank:ypt(s.terms,n)})).filter(({rank:s})=>s>0).sort(({rank:s},{rank:o})=>o-s);return{searchList:_.createElement(gpt,null,r.map(({item:s})=>{if(s.item.type==="field"){let o=s.item,a=OO(s.item.field);return _.createElement(i4,{width:300,key:s.key,content:()=>_.createElement(Jo,{icon:_.createElement(Rm,{type:a,kind:o.kind}),onClick:s.select,name:o.name,color:o.kind,detail:s.detail}),popoverContent:()=>_.createElement(r4,{fieldPath:o.path,topValues:t})})}else return _.createElement("div",null)}),r.length===0&&_.createElement(Gf,null,"No results")),count:r.length}},my=n=>{let{searchList:e}=cC(n);return e},gpt=Hn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function ypt(n,e){let t=e.split(" ").map(i=>i.trim()).filter(i=>i.length>0),r=0;for(let i of t)for(let s=0;s<n.length;s++){let o=n[s],a=n.length-s,c=o.split("_");o.toLowerCase().includes(i.toLowerCase())&&(r+=a),o.toLowerCase()===i.toLowerCase()&&(r+=a*10),o.toLowerCase().startsWith(i.toLowerCase())&&(r+=a*6),c.some(d=>d.toLowerCase().startsWith(i.toLowerCase()))&&(r+=a)}return r}m();m();var fC=xr(Lr());m();var xy=xr(Lr()),D9e=n=>xy.createElement("svg",{width:"25px",height:"25px",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},xy.createElement("title",null,"malloy-icon-status-progress"),xy.createElement("defs",null,xy.createElement("circle",{id:"path-1",cx:7.5,cy:7.5,r:7.5}),xy.createElement("mask",{id:"mask-2",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:0,y:0,width:15,height:15,fill:"white"},xy.createElement("use",{xlinkHref:"#path-1"}))),xy.createElement("g",{id:"malloy-icon-status-progress",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeDasharray:16},xy.createElement("use",{id:"Oval-Copy-3",stroke:"#4285F4",className:"primarystroke",mask:"url(#mask-2)",strokeWidth:3,transform:"translate(7.500000, 7.500000) rotate(-240.000000) translate(-7.500000, -7.500000) ",xlinkHref:"#path-1"})));var Nm=({text:n})=>fC.default.createElement(Ept,null,fC.default.createElement(Spt,null,fC.default.createElement(bpt,null,n),fC.default.createElement(O9e,{size:25}))),O9e=({size:n,color:e})=>fC.default.createElement(_pt,{size:n,color:e||"dimension",width:n+"px",height:n+"px"}),vpt=ape`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,_pt=Hn(D9e)`
  ${({size:n,color:e})=>`
    width: ${n}px;
    height: ${n}px;

    .primarystroke {
      stroke: ${yi[e].fillStrong}
    }
  `}
  animation: ${vpt} 2s infinite linear;
`,bpt=Hn.div`
  margin-bottom: 10px;
  color: #505050;
  font-size: 15px;
`,Ept=Hn.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 1 0 auto;
  width: 100%;
  height: 100%;
`,Spt=Hn.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
`;var Jl=({model:n,actions:e,closeMenu:t,searchItems:r,valueSearchSource:i,topValues:s,addFilter:o})=>{let[a,c]=(0,cae.useState)(e.length===1&&e[0].kind==="sub_menu"?e[0]:void 0),[d,p]=(0,cae.useState)(""),{searchResults:E,isLoading:w}=db(n,i,d),N=E&&E.filter(K=>K.fieldType==="string").slice(0,100),R=r!==void 0,{searchList:U,count:Q}=cC({searchTerm:d,items:r||[],topValues:s}),P=N?.length||0,j=Q>0,I=P>0||w;return _.createElement(wpt,null,a===void 0&&_.createElement(_.Fragment,null,R&&_.createElement(m1,null,_.createElement(Jh,{value:d,setValue:p,placeholder:"Search",autoFocus:!0})),_.createElement(R9e,null,d===""&&_.createElement(Il,null,_.createElement(Tpt,null,e.filter(K=>K.isEnabled!==!1).map(K=>_.createElement(Cpt,{key:K.id,color:K.iconColor,onClick:()=>{K.kind==="one_click"?(K.onClick(),t()):c(K)}},_.createElement(sa,{action:K.iconName,color:K.iconColor}),_.createElement(Apt,null,K.label))))),d!==""&&_.createElement(_.Fragment,null,j&&_.createElement(Yl,{style:{borderBottom:j?"1px solid #efefef":"",maxHeight:I?"200px":"300px"}},_.createElement(Il,null,U)),I&&i&&_.createElement(Yl,{style:{borderBottom:"1px solid #efefef",maxHeight:j?"200px":"300px"}},_.createElement(Il,null,N&&N.length>0&&N.map((K,de)=>_.createElement(Jo,{key:de,name:K.fieldValue,detail:K.fieldName,icon:_.createElement(sa,{action:"filter"}),color:"filter",onClick:()=>{Cx(i,`${K.fieldName} = '${K.fieldValue}'`).then(M=>{o&&o(M),t()})}})),N!==void 0&&N.length===0&&_.createElement(Gf,null,"No value results"),w&&_.createElement(Gf,null,_.createElement(Nm,{text:"Loading value results..."})))),!I&&!j&&_.createElement(Gf,null,"No results")))),a!==void 0&&_.createElement(_.Fragment,null,_.createElement(R9e,null,a.Component({onComplete:()=>{a.closeOnComplete?t():c(void 0)}}))))},wpt=Hn.div``,Cpt=Hn.button`
  border: none;
  background-color: transparent;
  border-radius: 50px;
  padding: 4px 7px;
  text-align: left;
  font-size: 14px;
  cursor: pointer;
  width: 100%;
  display: flex;
  justify-content: flex-start;
  gap: 10px;
  align-items: center;
  font-family: "Roboto Mono";
  color: #353535;

  ${({color:n})=>`
    &:hover {
      background-color: ${yi[n].fillLight};
    }
  `}
`,Apt=Hn.div``,Tpt=Hn.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
`,R9e=Hn.div`
  flex-direction: column;
  display: flex;
`;m();m();var pb=xr(Lr());m();m();var bH=xr(Lr());var lu=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,autoSelect:s})=>{let o=(0,bH.useRef)(null);return(0,bH.useEffect)(()=>{s&&o.current&&o.current.select()},[s]),_.createElement(Pw,null,r&&_.createElement(Y5,null,r),_.createElement(Fpt,{ref:o,type:"text",placeholder:t,value:n,onChange:a=>e(a.target.value),autoFocus:i}))},Fpt=Hn.input`
  font-family: "Roboto Mono";
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
  }
`;m();var U9e=xr(Lr());m();function Ax(n,e){if(e.length===0)throw new Error("Alternation must have some values");return e.join(" "+n+" ")}function fae(n,e){switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${n} = ${Ax("|",e.values.map(t=>t.toString()))}`;case"is_not_equal_to":return e.values.length===0?"true":`${n} != ${Ax("&",e.values.map(t=>t.toString()))}`;case"is_between":return`${n}: ${e.lowerBound} to ${e.upperBound}`;case"is_greater_than":return`${n} > ${e.value}`;case"is_less_than":return`${n} < ${e.value}`;case"is_greater_than_or_equal_to":return`${n} >= ${e.value}`;case"is_less_than_or_equal_to":return`${n} <= ${e.value}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function dae(n,e){switch(e.type){case"is_equal_to":return e.values.length===0?"true":`${n} = ${Ax("|",e.values.map(s4))}`;case"is_not_equal_to":return e.values.length===0?"true":`${n} != ${Ax("&",e.values.map(s4))}`;case"contains":return e.values.length===0?"true":`${n} ~ ${Ax("|",e.values.map(dC).map(t=>`%${t}%`).map(s4))}`;case"does_not_contain":return e.values.length===0?"true":`${n} !~ ${Ax("&",e.values.map(dC).map(t=>`%${t}%`).map(s4))}`;case"starts_with":return e.values.length===0?"true":`${n} ~ ${Ax("|",e.values.map(dC).map(t=>`${t}%`).map(s4))}`;case"does_not_start_with":return e.values.length===0?"true":`${n} !~ ${Ax("&",e.values.map(dC).map(t=>`${t}%`).map(s4))}`;case"ends_with":return e.values.length===0?"true":`${n} ~ ${Ax("|",e.values.map(dC).map(t=>`%${t}`).map(s4))}`;case"does_not_end_with":return e.values.length===0?"true":`${n} !~ ${Ax("&",e.values.map(dC).map(t=>`%${t}`).map(s4))}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"is_blank":return`${n} = ''`;case"is_not_blank":return`${n} != ''`;case"custom":return`${n}: ${e.partial}`}}function hae(n,e){switch(e.type){case"is_false":return`not ${n}`;case"is_true":return`${n}`;case"is_true_or_null":return`${n}: true | null`;case"is_false_or_null":return`${n}: false | null`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function pae(n,e){switch(e.type){case"is_in_the_past":return`${n}: now - ${e.amount} ${e.unit} for ${e.amount} ${e.unit}`;case"is_last":return`${n}.${e.period} = now.${e.period} - 1 ${e.period}`;case"is_this":return`${n}.${e.period} = now.${e.period}`;case"is_on":return`${n}.${e.granularity} = ${YO(e.date,e.granularity)}`;case"is_after":return`${n}.${e.granularity} > ${YO(e.date,e.granularity)}`;case"is_before":return`${n}.${e.granularity} > ${YO(e.date,e.granularity)}`;case"is_between":return`${n}.${e.granularity}: ${YO(e.start,e.granularity)} to ${YO(e.end,e.granularity)}`;case"is_null":return`${n} = null`;case"is_not_null":return`${n} != null`;case"custom":return`${n}: ${e.partial}`}}function dC(n){return n.replace(/%/g,"%%")}function s4(n){return`'${n}'`}function YO(n,e){switch(e){case"year":return`@${Cu(n.getUTCFullYear(),4)}`;case"quarter":{let t=Cu(n.getUTCFullYear(),4),r=Math.floor(n.getUTCMonth()/3)+1;return`@${t}-Q${r}`}case"month":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2);return`@${t}-${r}`}case"week":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2);return`@WK${t}-${r}-${i}`}case"day":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2);return`@${t}-${r}-${i}`}case"hour":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2),s=Cu(n.getUTCHours(),2);return`@${t}-${r}-${i} ${s}:00 for 1 hour`}case"minute":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2),s=Cu(n.getUTCHours(),2),o=Cu(n.getUTCMinutes(),2);return`@${t}-${r}-${i} ${s}:${o}`}case"second":{let t=Cu(n.getUTCFullYear(),2),r=Cu(n.getUTCMonth()+1,2),i=Cu(n.getUTCDate(),2),s=Cu(n.getUTCHours(),2),o=Cu(n.getUTCMinutes(),2),a=Cu(n.getUTCSeconds(),2);return`@${t}-${r}-${i} ${s}:${o}:${a}`}default:throw new Error("Unknown timeframe.")}}function Cu(n,e){return n.toString().padStart(e,"0")}function N9e(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":case"starts_with":case"does_not_start_with":case"contains":case"does_not_contain":case"ends_with":case"does_not_end_with":return{type:e,values:"values"in n?n.values:[]};case"is_blank":case"is_not_blank":case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function L9e(n,e){switch(e){case"is_equal_to":case"is_not_equal_to":return{type:e,values:"values"in n?n.values:"value"in n?[n.value]:"lowerBound"in n?[n.lowerBound]:[]};case"is_greater_than":case"is_less_than":case"is_greater_than_or_equal_to":case"is_less_than_or_equal_to":return{type:e,value:"value"in n?n.value:"values"in n&&n.values[0]||0};case"is_between":return{type:e,lowerBound:"value"in n?n.value:"values"in n&&n.values[0]||0,upperBound:0};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function k9e(n,e){switch(e){case"is_in_the_past":return{type:e,unit:"days",amount:7};case"is_last":case"is_this":return{type:e,period:"day",amount:1};case"is_on":case"is_after":case"is_before":return{type:e,granularity:"granularity"in n?n.granularity:"day",date:"date"in n?n.date:"start"in n?n.start:new Date};case"is_between":return{type:e,granularity:"granularity"in n?n.granularity:"day",start:"date"in n?n.date:new Date,end:new Date};case"is_null":case"is_not_null":return{type:e};case"custom":return{type:e,partial:""}}}function I9e(n,e){switch(e){case"custom":return{type:e,partial:""};default:return{type:e}}}m();var gy=xr(Lr());var Lm=({values:n,setValues:e,autoFocus:t,placeholder:r,type:i="text",value:s,setValue:o,focusElement:a})=>{let[c,d]=(0,gy.useState)(""),[p,E]=(0,gy.useState)(!1),w=(0,gy.useRef)(null),N=(0,gy.useRef)(null),[R,U]=(0,gy.useState)(void 0),Q=s||c,P=o||d;(0,gy.useEffect)(()=>{let I=K=>{if(K.key==="Backspace"){if(R!==void 0){let de=[...n];de.splice(R,1),e(de),R===0?n.length===1?(U(void 0),w.current?.focus()):U(0):U(R-1)}}else K.key==="ArrowRight"?R===n.length-1?(U(void 0),w.current?.focus()):R!==void 0&&U(R+1):K.key==="ArrowLeft"?R!==void 0&&R>0&&U(R-1):w.current?.focus()};return window.addEventListener("keyup",I),()=>window.removeEventListener("keyup",I)});let j=()=>{Q.length>0&&(e([...n,Q]),P(""))};return E1(a?[N,a]:N,()=>{E(!1),j()}),_.createElement(Dpt,{onClick:()=>w.current?.focus(),isFocused:p||R!==void 0,ref:N},n.map((I,K)=>_.createElement(Opt,{key:K,isSelected:R===K,onClick:de=>{U(K),de.stopPropagation()}},I)),_.createElement(Rpt,{ref:w,type:i,placeholder:n.length===0?r:"",value:Q,size:1,onChange:I=>{P(I.target.value)},onKeyDown:I=>{I.key==="Enter"&&Q!==""&&(j(),I.stopPropagation(),I.preventDefault())},onKeyUp:I=>{I.key==="Backspace"?Q===""&&n.length>0&&(j(),w.current?.blur(),U(n.length-1)):I.key==="ArrowLeft"&&(w.current?.selectionStart===0||w.current?.selectionStart===null)&&(j(),w.current?.blur(),U(n.length-1),I.preventDefault(),I.stopPropagation())},onFocus:()=>{E(!0),U(void 0)},autoFocus:t}))},Dpt=Hn.div`
  font-family: Roboto;
  font-size: 14px;
  font-weight: normal;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 2px 3px;
  outline: none;
  display: flex;
  overflow: hidden;
  gap: 3px;
  flex-wrap: wrap;

  ${({isFocused:n})=>n?"border-color: #4285F4;":""}
`,Opt=Hn.div`
  ${({isSelected:n})=>`
    border: 1px solid ${n?yi.dimension.fillStrong:yi.dimension.fillMedium};
    background-color: ${n?yi.dimension.fillMedium:yi.dimension.fillLight};
  `}

  border-radius: 5px;
  color: ${yi.dimension.fillStrong};
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 1px 5px;
  text-transform: none;
  cursor: pointer;
  height: 20px;
`,Rpt=Hn.input`
  border: none;
  outline: none;
  font-family: Roboto;
  font-size: 14px;
  min-width: 95px;
  padding: 3.75px 7px;
  flex-grow: 1;
`,Hkt=Hn(eC)`
  cursor: pointer;
  ${({color:n})=>`
      .cross {
        fill: ${yi[n].fillStrong};
      }
    `}
`;m();m();var SH=xr(Lr());m();var EH=xr(Lr()),M9e=n=>EH.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,role:"img",...n},EH.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),EH.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}));var Npt=Hn.div`
  position: relative;
`,Lpt=Hn.div`
  font-size: 14px;
  border: 1px solid #efefef;
  border-radius: 4px;
  padding: 3px 10px;
  cursor: pointer;
  color: #5f6368;
  display: flex;
  justify-content: space-between;
  text-transform: none;
  align-items: center;
  font-family: Arial;
  &:hover {
    border: 1px solid #ececed;
  }
  :focus {
    border-box: none;
    box-shadow: none;
    border: 1px solid #ececed;
    outline: none;
  }
  &[disabled] {
    cursor: default;
    background-color: #f6f6f6;
  }
`,P9e=Hn.label`
  padding: 0px 10px;
  height: 30px;
  cursor: pointer;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  color: #5f6368;
  display: flex;
  align-items: center;
  &:hover {
    background-color: ${yi.dimension.fillLight};
  }
`,B9e=Hn.span`
  margin-left: 8px;
`,kpt=Hn(M9e)`
  vertical-align: text-top;
  width: 20px;
  opacity: 70%;
  visibility: hidden;

  &.selected {
    visibility: visible;
  }
`,Fd=({value:n,onChange:e,options:t,placeholder:r="Select",disabled:i=!1,valueEqual:s=(o,a)=>o===a})=>{let[o,a]=(0,SH.useState)(!1),c=(0,SH.useRef)(null),d=n!==void 0&&t.find(E=>s(E.value,n))?.label||r,p=E=>{e&&e(E),a(!1)};return E1(c,()=>{a(!1)}),_.createElement(Npt,{ref:c},_.createElement(Lpt,{tabIndex:0,onClick:()=>!i&&a(!0)},d,_.createElement(aH,{width:"22px",height:"22px"})),_.createElement(Om,{open:o,setOpen:a,placement:"bottom-start",width:200,maxHeight:500},_.createElement(mae,{options:t,value:n,valueEqual:s,onChange:p})))};function mae({options:n,value:e,onChange:t,valueEqual:r=(i,s)=>i===s}){return _.createElement(q9e,null,n.map((i,s)=>{let o=e!==void 0&&r(e,i.value);return _.createElement(P9e,{key:s,onClick:()=>t(i.value),className:o?"selected":""},_.createElement(Ipt,{type:"radio",defaultChecked:o}),_.createElement(kpt,{className:o?"selected":""}),_.createElement(B9e,null,i.label))}))}function j9e({options:n}){return _.createElement(q9e,null,n.map((e,t)=>_.createElement(P9e,{key:t,onClick:()=>e.onSelect()},_.createElement(B9e,null,e.label))))}var Ipt=Hn.input`
  width: 0;
  height: 0;
`,q9e=Hn.div`
  font-size: 14px;
  font-family: Roboto;
  text-transform: none;
  font-weight: normal;
  width: 100%;
  padding: 10px 0;
  overflow-y: auto;
  max-height: 400px;
`;var z9e=({model:n,source:e,filter:t,setFilter:r,fieldPath:i})=>{let s=U=>{r(N9e(t,U))},o=Bpt(n,e,t,r,i),a=jpt(t,r),c=qpt(t,r),d=Upt(t,r),p=zpt(t,r),E=Hpt(t,r),w=$pt(t,r),N=Vpt(t,r),R=!!(o.util||a.util||c.util||d.util||p.util||E.util||w.util||N.util);return _.createElement("div",null,_.createElement(Mpt,null,_.createElement(Fd,{value:t.type,onChange:s,options:[{value:"is_equal_to",label:"Is"},{value:"starts_with",label:"Starts with"},{value:"ends_with",label:"Ends with"},{value:"contains",label:"Contains"},{value:"is_blank",label:"Blank"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Is not"},{value:"does_not_start_with",label:"Does not start with"},{value:"does_not_end_with",label:"Does not end with"},{value:"does_not_contain",label:"Does not contain"},{value:"is_not_blank",label:"Not blank"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),o.builder,a.builder,c.builder,d.builder,p.builder,E.builder,w.builder,N.builder),R&&_.createElement(Ppt,null,o.util,a.util,c.util,d.util,p.util,E.util,w.util,N.util))},Mpt=Hn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  padding: 0 15px;
`,Ppt=Hn.div`
  margin-top: 15px;
  border-top: 1px solid #efefef;
  border-bottom: 1px solid #efefef;
`;function Bpt(n,e,t,r,i){let[s,o]=(0,U9e.useState)(""),{searchResults:a,isLoading:c}=db(n,e,s,i);if(t.type!=="is_equal_to"&&t.type!=="is_not_equal_to")return{builder:null,util:null};let d=_.createElement(Lm,{values:t.values,setValues:E=>r({...t,values:E}),placeholder:"Values...",value:s,setValue:o}),p=_.createElement(Yl,null,_.createElement(Il,null,a&&a.length>0&&a.map((E,w)=>_.createElement(Jo,{key:w,name:E.fieldValue,detail:rH(E.weight),icon:_.createElement(sa,{action:"filter"}),color:"filter",onClick:()=>{r({...t,values:[...t.values,E.fieldValue]}),o("")},fullDetail:!0})),a!==void 0&&a.length===0&&_.createElement(Gf,null,"No value results"),c&&_.createElement(Gf,null,_.createElement(Nm,{text:"Loading value results..."}))));return{builder:d,util:p}}function jpt(n,e){return n.type!=="contains"?{builder:null,util:null}:{builder:_.createElement(Lm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function qpt(n,e){return n.type!=="does_not_contain"?{builder:null,util:null}:{builder:_.createElement(Lm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Upt(n,e){return n.type!=="starts_with"?{builder:null,util:null}:{builder:_.createElement(Lm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function zpt(n,e){return n.type!=="does_not_start_with"?{builder:null,util:null}:{builder:_.createElement(Lm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Hpt(n,e){return n.type!=="ends_with"?{builder:null,util:null}:{builder:_.createElement(Lm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function $pt(n,e){return n.type!=="does_not_end_with"?{builder:null,util:null}:{builder:_.createElement(Lm,{values:n.values,setValues:i=>e({...n,values:i}),placeholder:"Values..."}),util:null}}function Vpt(n,e){return n.type!=="custom"?{builder:null,util:null}:{builder:_.createElement(lu,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}),util:null}}m();m();m();var wH=xr(Lr());var A1=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i})=>{let[s,o]=(0,wH.useState)(n.toString());return(0,wH.useEffect)(()=>{o(n.toString())},[n]),_.createElement(Pw,null,r&&_.createElement(Y5,null,r),_.createElement(Wpt,{type:"number",placeholder:t,value:s,size:1,onChange:a=>{let c=a.target.value;o(c);let d=parseFloat(c);Number.isNaN(d)||e(d)},autoFocus:i}))},Wpt=Hn.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  border: 1px solid #efefef;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  &:focus {
    border-color: #4285f4;
    background-color: ${yi.dimension.fillLight};
  }
`;var H9e=({filter:n,setFilter:e})=>{let t=N=>{e(L9e(n,N))},r=_.createElement(Fd,{value:n.type,onChange:t,options:[{value:"is_equal_to",label:"Equal to"},{value:"is_greater_than",label:"Greater than"},{value:"is_less_than",label:"Less than"},{value:"is_greater_than_or_equal_to",label:"Greater than or equal to"},{value:"is_less_than_or_equal_to",label:"Less than or equal to"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_equal_to",label:"Not equal to"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),i=Gpt(n,e,r),s=Ypt(n,e,r),o=Kpt(n,e,r),a=Jpt(n,e,r),c=Xpt(n,e,r),d=Zpt(n,e,r),p=e1t(n,e,r),E=t1t(n,e,r),w=n.type==="is_null"||n.type==="is_not_null"?_.createElement("div",{style:{width:"100%"}},r):null;return _.createElement(Qpt,null,i.builder,s.builder,o.builder,a.builder,c.builder,d.builder,p.builder,E.builder,w)},Qpt=Hn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,KO=Hn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,CH=Hn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function Gpt(n,e,t){return n.type!=="is_equal_to"?{builder:null,util:null}:{builder:_.createElement(CH,null,t,_.createElement(Lm,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function Ypt(n,e,t){return n.type!=="is_not_equal_to"?{builder:null,util:null}:{builder:_.createElement(CH,null,t,_.createElement(Lm,{values:n.values.map(i=>i.toString()),setValues:i=>e({...n,values:i.map(s=>parseFloat(s))}),placeholder:"Values...",type:"number"}))}}function Kpt(n,e,t){return n.type!=="is_greater_than"?{builder:null,util:null}:{builder:_.createElement(KO,null,_.createElement("div",{style:{width:"50%",flexShrink:1}},t),_.createElement("div",{style:{width:"50%",flexShrink:1}},_.createElement(A1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function Jpt(n,e,t){return n.type!=="is_less_than"?{builder:null,util:null}:{builder:_.createElement(KO,null,_.createElement("div",{style:{width:"50%",flexShrink:1}},t),_.createElement("div",{style:{width:"50%",flexShrink:1}},_.createElement(A1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function Xpt(n,e,t){return n.type!=="is_greater_than_or_equal_to"?{builder:null,util:null}:{builder:_.createElement(KO,null,_.createElement("div",{style:{width:"80%",flexShrink:1}},t),_.createElement("div",{style:{width:"20%",flexShrink:1}},_.createElement(A1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function Zpt(n,e,t){return n.type!=="is_less_than_or_equal_to"?{builder:null,util:null}:{builder:_.createElement(KO,null,_.createElement("div",{style:{width:"70%",flexShrink:1}},t),_.createElement("div",{style:{width:"30%",flexShrink:1}},_.createElement(A1,{value:n.value,setValue:i=>e({...n,value:i})})))}}function e1t(n,e,t){return n.type!=="is_between"?{builder:null,util:null}:{builder:_.createElement(CH,null,t,_.createElement(KO,null,_.createElement("div",{style:{width:"50%",flexShrink:1}},_.createElement(A1,{value:n.lowerBound,setValue:i=>e({...n,lowerBound:i})})),_.createElement("div",{style:{width:"50%",flexShrink:1}},_.createElement(A1,{value:n.upperBound,setValue:i=>e({...n,upperBound:i})}))))}}function t1t(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:_.createElement(CH,null,t,_.createElement(lu,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}m();var yy=xr(Lr());m();m();var AH=xr(gae()),TH=xr(Lr());var JO=({value:n,setValue:e,placeholder:t,label:r,autoFocus:i,granularity:s,onFocus:o,onBlur:a,isActive:c})=>{let d=s==="year"?"YYYY":s==="month"?"YYYY-MM":s==="quarter"?"YYYY-[Q]Q":s==="week"?"[WK]YYYY-MM-DD":s==="day"?"YYYY-MM-DD":s==="hour"?"YYYY-MM-DD HH:00":s==="minute"?"YYYY-MM-DD HH:mm":"YYYY-MM-DD HH:mm:ss",[p,E]=(0,TH.useState)((0,AH.default)(n).format(d));return(0,TH.useEffect)(()=>{E((0,AH.default)(n).format(d))},[n,d]),_.createElement(Pw,null,r&&_.createElement(Y5,null,r),_.createElement(n1t,{type:"text",placeholder:t||d,value:p,onFocus:o,onBlur:a,isActive:c,onChange:w=>{let N=w.target.value;E(N);let R=s==="year"?/\d\d\d\d/:s==="month"?/\d\d-\d\d\d\d/:s==="quarter"?/\d\d\d\d-Q\d/:s==="week"?/WK\d\d-\d\d-\d\d\d\d/:s==="day"?/\d\d-\d\d-\d\d\d\d/:s==="hour"?/\d\d-\d\d-\d\d\d\d \d\d:00/:s==="minute"?/\d\d-\d\d-\d\d\d\d \d\d:\d\d/:/\d\d-\d\d-\d\d\d\d \d\d:\d\d:\d\d/;if(N.match(R)){let U=(0,AH.default)(N,d);U.isValid()&&e(U.toDate())}},autoFocus:i}))},n1t=Hn.input`
  font-family: Roboto;
  font-size: 14px;
  border-radius: 5px;
  padding: 5.75px 10px;
  outline: none;
  width: calc(100% - 22px);

  ${({isActive:n})=>`
    border: 1px solid ${n?yi.dimension.fillStrong:"#efefef"};
    background-color: ${n?yi.dimension.fillLight:"white"};
    color: ${n?yi.dimension.fillStrong:"#505050"};
  `}

  &:focus {
    border-color: #4285f4;
    background-color: ${yi.dimension.fillLight};
  }
`;m();m();var pC=xr(Lr()),$o=xr(gae());function $9e(n){return["year","quarter","month","week","day","hour","minute","second"].indexOf(n)}function r1t(n){return["January","February","March","April","May","June","July","August","September","October","November","December"][n]}var FH=({value:n,setValue:e,maxLevel:t})=>{let[r,i]=(0,pC.useState)(n),s=v1t(r),[o,a]=(0,pC.useState)(t),c=Math.floor((0,$o.default)(r).year()/10)*10;(0,pC.useEffect)(()=>{($9e(t)<$9e(o)||o==="quarter"&&t!=="quarter"||o==="week"&&t!=="week")&&a(t)},[t,o]),(0,pC.useEffect)(()=>{i(n)},[n]);let d=P=>{let j=(0,$o.default)(r).year(P).toDate();i(j),e(j),t!=="year"&&a(t==="quarter"?"quarter":"month")},p=P=>{let j=()=>d(c+P);return P===-1||P===10?_.createElement(p1t,{onClick:j,isSelected:!1},c+P):_.createElement(W9e,{onClick:j,isSelected:(0,$o.default)(r).year()===c+P},c+P)},E=P=>{let j=(0,$o.default)(r).month(P).toDate();i(j),e(j),t!=="month"&&a(t==="week"?"week":"day")},w=P=>{i(P),e(P),t!=="day"&&a(t)},N=P=>{i(P),e(P),t!=="week"&&a("day")},R=P=>{let j=(0,$o.default)(r).quarter(P+1).toDate();i(j),e(j)},U=P=>_.createElement(d1t,{onClick:()=>E(P),isSelected:(0,$o.default)(r).month()===P&&(0,$o.default)(r).year()===(0,$o.default)(n).year()},r1t(P)),Q=P=>_.createElement(f1t,{onClick:()=>R(P),isSelected:(0,$o.default)(r).quarter()-1===P&&(0,$o.default)(r).year()===(0,$o.default)(n).year()},"Q",P+1);return _.createElement(i1t,null,_.createElement(s1t,null,_.createElement(V9e,null,_.createElement(cwe,{onClick:()=>{o==="day"||o==="week"?i((0,$o.default)(r).subtract(1,"month").toDate()):o==="month"||o==="quarter"?i((0,$o.default)(r).subtract(1,"year").toDate()):o==="year"?i((0,$o.default)(r).subtract(10,"years").toDate()):w((0,$o.default)(r).subtract(1,"days").toDate())}})),_.createElement(o1t,{onClick:()=>{o==="day"||o==="week"?a("month"):o==="month"||o==="quarter"?a("year"):(o==="hour"||o==="minute"||o==="second")&&a("day")}},(o==="day"||o==="week")&&(0,$o.default)(r).format("MMMM YYYY"),(o==="month"||o==="quarter")&&(0,$o.default)(r).format("YYYY"),o==="year"&&_.createElement(_.Fragment,null,c,"-",c+9),(o==="hour"||o==="minute"||o==="second")&&_.createElement(_.Fragment,null,(0,$o.default)(r).format("MMMM D, YYYY"))),_.createElement(V9e,null,_.createElement(fwe,{onClick:()=>{o==="day"||o==="week"?i((0,$o.default)(r).add(1,"month").toDate()):o==="month"||o==="quarter"?i((0,$o.default)(r).add(1,"year").toDate()):o==="year"?i((0,$o.default)(r).add(10,"years").toDate()):w((0,$o.default)(r).add(1,"days").toDate())}}))),o==="day"&&_.createElement(Q9e,null,_.createElement(G9e,null,_.createElement(mh,null,"S"),_.createElement(mh,null,"M"),_.createElement(mh,null,"T"),_.createElement(mh,null,"W"),_.createElement(mh,null,"T"),_.createElement(mh,null,"F"),_.createElement(mh,null,"S")),s.map((P,j)=>_.createElement(m1t,{key:j},P.map(I=>_.createElement(y1t,{key:I.number,isCurrentMonth:I.isCurrentMonth,onClick:()=>{w(I.date)},isSelected:n.getTime()===I.date.valueOf()},I.number))))),o==="month"&&_.createElement(a1t,null,_.createElement(DH,null,U(0),U(1),U(2)),_.createElement(DH,null,U(3),U(4),U(5)),_.createElement(DH,null,U(6),U(7),U(8)),_.createElement(DH,null,U(9),U(10),U(11))),o==="year"&&_.createElement(h1t,null,_.createElement(OH,null,p(-1),p(0),p(1)),_.createElement(OH,null,p(2),p(3),p(4)),_.createElement(OH,null,p(5),p(6),p(7)),_.createElement(OH,null,p(8),p(9),p(10))),o==="quarter"&&_.createElement(c1t,null,Q(0),Q(1),Q(2),Q(3)),o==="week"&&_.createElement(Q9e,null,_.createElement(G9e,null,_.createElement(mh,null,"S"),_.createElement(mh,null,"M"),_.createElement(mh,null,"T"),_.createElement(mh,null,"W"),_.createElement(mh,null,"T"),_.createElement(mh,null,"F"),_.createElement(mh,null,"S")),s.map((P,j)=>_.createElement(x1t,{key:j,onClick:()=>{N(P[0].date)},isSelected:n.getTime()===P[0].date.valueOf()},P.map(I=>_.createElement(g1t,{key:I.number,isCurrentMonth:I.isCurrentMonth},I.number))))),(o==="hour"||o==="minute"||o==="second")&&_.createElement(u1t,null,_.createElement(l1t,null,_.createElement(g1,null,_.createElement(A1,{label:"Hours",value:parseInt((0,$o.default)(r).format("hh")),setValue:P=>{let j=(0,$o.default)(r).hour()>=12?"PM":"AM",I=parseInt((0,$o.default)(`${P} ${j}`,["hh A"]).format("H"));e((0,$o.default)(r).hour(I).toDate())}})),(t==="minute"||t==="second")&&_.createElement(g1,null,_.createElement(A1,{label:"Minutes",value:(0,$o.default)(r).minutes(),setValue:P=>{e((0,$o.default)(r).minute(P).toDate())}})),t==="second"&&_.createElement(g1,null,_.createElement(A1,{label:"Seconds",value:(0,$o.default)(r).seconds(),setValue:P=>{e((0,$o.default)(r).second(P).toDate())}})),_.createElement("div",{style:{display:"flex",justifyContent:"flex-end",flexDirection:"column"}},_.createElement(Fd,{value:(0,$o.default)(r).hour()>=12?"PM":"AM",onChange:P=>{let j=parseInt((0,$o.default)(r).format("h")),I=parseInt((0,$o.default)(`${j} ${P}`,["hh A"]).format("H"));e((0,$o.default)(r).hour(I).toDate())},options:[{value:"AM",label:"AM"},{value:"PM",label:"PM"}]})))))},i1t=Hn.div`
  user-select: none;
  font-size: 14px;
  font-family: Roboto;
`,s1t=Hn.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 5px;
  margin-bottom: 5px;
`,V9e=Hn.div`
  border-radius: 5px;
  padding-top: 2px;
  padding-left: 4px;
  padding-right: 4px;
  cursor: pointer;

  &:hover {
    background-color: #efefef;
  }
`,o1t=Hn.div`
  border-radius: 5px;
  padding: 4px;
  padding-top: 5px;
  flex-grow: 1;
  text-align: center;
  cursor: pointer;
  text-transform: none;
  font-weight: normal;

  &:hover {
    background-color: #efefef;
  }
`,a1t=Hn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,u1t=Hn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 90px;
`,l1t=Hn.div`
  display: flex;
  flex-direction: row;
  user-select: none;
  justify-content: space-around;
  gap: 10px;
`,c1t=Hn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,DH=Hn.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,f1t=Hn.div`
  width: calc(100% - 22px);
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${yi.dimension.fillLight};
    border-color: ${yi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${yi.dimension.fillLight};
      border-color: ${yi.dimension.fillMedium};
    `:""}
`,d1t=Hn.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;
  font-weight: normal;

  &:hover {
    background-color: ${yi.dimension.fillLight};
    border-color: ${yi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${yi.dimension.fillLight};
      border-color: ${yi.dimension.fillMedium};
    `:""}
`,h1t=Hn.div`
  display: flex;
  flex-direction: column;
  user-select: none;
  justify-content: space-around;
  height: 209.5px;
`,OH=Hn.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 2px;
`,W9e=Hn.div`
  width: 60px;
  min-width: 60px;
  max-width: 60px;
  padding: 5px 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #efefef;
  color: #505050;
  font-weight: normal;
  cursor: pointer;
  text-transform: none;
  border-radius: 5px;

  &:hover {
    background-color: ${yi.dimension.fillLight};
    border-color: ${yi.dimension.fillMedium};
  }

  ${({isSelected:n})=>n?`
      background-color: ${yi.dimension.fillLight};
      border-color: ${yi.dimension.fillMedium};
    `:""}
`,p1t=Hn(W9e)`
  color: #909090;
`,Q9e=Hn.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
  user-select: none;
`,G9e=Hn.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,m1t=Hn.div`
  display: flex;
  flex-direction: row;
  gap: 2px;
  justify-content: space-between;
`,x1t=Hn.div`
  display: flex;
  cursor: pointer;
  flex-direction: row;
  gap: 2px;
  border-radius: 50px;
  justify-content: space-between;
  border: 1px solid transparent;

  ${({isSelected:n})=>n?`
    background-color: ${yi.dimension.fillLight};
    color:  ${yi.dimension.fillStrong};
    border-color: ${yi.dimension.fillMedium};
  `:`
    &:hover {
      background-color: ${yi.dimension.fillLight};
    }
  `}
`,yae=Hn.div`
  width: 16.5px;
  height: 16.5px;
  min-width: 16.5px;
  max-width: 16.5px;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
`,mh=Hn(yae)`
  font-weight: bold;
  color: #505050;
`,g1t=Hn(yae)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  ${({isCurrentMonth:n})=>`
    color: ${n?"#505050":"#909090"};
  `}
`,y1t=Hn(yae)`
  cursor: pointer;
  border-radius: 50px;
  font-size: 12px;
  border: 1px solid transparent;
  ${({isCurrentMonth:n,isSelected:e})=>`
    color: ${n?"#505050":"#909090"};
    ${e?`
      background-color: ${yi.dimension.fillLight};
      color:  ${yi.dimension.fillStrong};
      border-color: ${yi.dimension.fillMedium};
    `:`
      &:hover {
        background-color: ${yi.dimension.fillLight};
      }
    `}
  `}
`;function v1t(n){let e=(0,$o.default)(n).date(1),t=e.day(),r=e.daysInMonth(),i=e.clone().subtract(1,"day").daysInMonth(),s=[];for(let o=0;o<6;o++){let a=[];for(let c=0;c<7;c++)if(o===0&&c<t){let d=t-c;a.push({number:i-d+1,date:e.clone().subtract(d,"days").toDate(),isCurrentMonth:!1})}else{let d=o*7+c-t;d<r?a.push({number:d+1,date:e.clone().add(d,"days").toDate(),isCurrentMonth:!0}):a.push({number:d-r+1,date:e.clone().add(d,"days").toDate(),isCurrentMonth:!1})}s.push(a)}return s}var Y9e=({filter:n,setFilter:e,type:t})=>{let r=w=>{e(k9e(n,w))},i=_.createElement(Fd,{value:n.type,onChange:r,options:[{value:"is_in_the_past",label:"Past"},{value:"is_last",label:"Last"},{value:"is_this",label:"This"},{value:"is_on",label:"On"},{value:"is_after",label:"After"},{value:"is_before",label:"Before"},{value:"is_between",label:"Between"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"custom",label:"Custom"}]}),s=E1t(n,e,t,i),o=C1t(n,e,t,i),a=S1t(n,e,t,i),c=w1t(n,e,t,i),d=A1t(n,e,i),p=n.type==="is_null"||n.type==="is_not_null"?_.createElement("div",{style:{width:"100%"}},i):null,E=s.util||c.util||d.util||a.util||o.util;return _.createElement("div",null,_.createElement(_1t,null,s.builder,c.builder,d.builder,a.builder,o.builder,p),E&&_.createElement(b1t,null,s.util,c.util,d.util,a.util,o.util))},_1t=Hn.div`
  padding: 0 15px;
`,b1t=Hn.div`
  border-top: 1px solid #efefef;
  padding: 15px;
  margin-top: 10px;
  padding-bottom: 0;
`,mC=Hn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  width: 100%;
`,vae=Hn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function E1t(n,e,t,r){if(n.type!=="is_in_the_past")return{builder:null,util:null};let i=[{value:"years",label:"Years"},{value:"quarters",label:"Quarters"},{value:"months",label:"Months"},{value:"weeks",label:"Weeks"},{value:"days",label:"Days"}];return t==="timestamp"&&i.push({value:"hours",label:"Hours"},{value:"minutes",label:"Minutes"},{value:"seconds",label:"Seconds"}),{builder:_.createElement(mC,null,_.createElement("div",{style:{width:"30%",flexShrink:1}},r),_.createElement("div",{style:{width:"30%",flexShrink:1}},_.createElement(lu,{value:n.amount.toString(),setValue:a=>e({...n,amount:parseFloat(a)})})),_.createElement("div",{style:{width:"40%",flexShrink:1}},_.createElement(Fd,{value:n.unit,options:i,onChange:a=>e({...n,unit:a})}))),util:null}}function S1t(n,e,t,r){if(n.type!=="is_this"&&n.type!=="is_last")return{builder:null,util:null};let i=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];return t==="timestamp"&&i.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"}),{builder:_.createElement(mC,null,_.createElement("div",{style:{width:"50%",flexShrink:1}},r),_.createElement("div",{style:{width:"50%",flexShrink:1}},_.createElement(Fd,{value:n.period,options:i,onChange:a=>e({...n,period:a})}))),util:null}}function w1t(n,e,t,r){let[i,s]=(0,yy.useState)(!1),o=(0,yy.useRef)(null),a=(0,yy.useRef)(null);if(E1([o,a],()=>s(!1)),n.type!=="is_on"&&n.type!=="is_after"&&n.type!=="is_before")return{builder:null,util:null};let c=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&c.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let d=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,p=_.createElement(vae,null,_.createElement(mC,null,_.createElement("div",{style:{width:"50%",flexShrink:1}},r),_.createElement("div",{style:{width:"50%",flexShrink:1}},_.createElement(Fd,{value:n.granularity,options:c,onChange:w=>e({...n,granularity:w})}))),_.createElement(mC,null,_.createElement("div",{ref:o,style:{width:"100%",flexShrink:1}},_.createElement(JO,{value:n.date,setValue:w=>e({...n,date:w}),granularity:d,onFocus:()=>s(!0),isActive:i})))),E=i?_.createElement("div",{ref:a},_.createElement(FH,{value:n.date,setValue:w=>e({...n,date:w}),maxLevel:d})):null;return{builder:p,util:E}}function C1t(n,e,t,r){let[i,s]=(0,yy.useState)(void 0),o=(0,yy.useRef)(null),a=(0,yy.useRef)(null),c=(0,yy.useRef)(null);if(E1([o,a,c],()=>{s(void 0)}),n.type!=="is_between")return{builder:null,util:null};let d=[{value:"year",label:"Year"},{value:"quarter",label:"Quarter"},{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}];t==="timestamp"&&d.push({value:"hour",label:"Hour"},{value:"minute",label:"Minute"},{value:"second",label:"Second"});let p=t==="date"&&(n.granularity==="second"||n.granularity==="minute"||n.granularity==="hour")?"day":n.granularity,E=_.createElement(vae,null,_.createElement(mC,null,_.createElement("div",{style:{width:"50%",flexShrink:1}},r),_.createElement("div",{style:{width:"50%",flexShrink:1}},_.createElement(Fd,{value:n.granularity,options:d,onChange:N=>e({...n,granularity:N})}))),_.createElement(mC,null,_.createElement("div",{ref:o},_.createElement(JO,{value:n.start,setValue:N=>e({...n,start:N}),granularity:p,onFocus:()=>s({key:"start",date:n.start,setValue:N=>e({...n,start:N})}),isActive:i?.key==="start"})),_.createElement("div",{ref:a},_.createElement(JO,{value:n.end,setValue:N=>e({...n,end:N}),granularity:p,onFocus:()=>s({key:"end",date:n.end,setValue:N=>e({...n,end:N})}),isActive:i?.key==="end"})))),w=i?_.createElement("div",{ref:c},_.createElement(FH,{key:i.key,value:i.date,setValue:i.setValue,maxLevel:p})):null;return{builder:E,util:w}}function A1t(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:_.createElement(vae,null,t,_.createElement(lu,{value:n.partial,setValue:s=>e({type:"custom",partial:s}),placeholder:"!= null"})),util:null}}m();var K9e=({filter:n,setFilter:e})=>{let t=o=>{e(I9e(n,o))},r=_.createElement(Fd,{value:n.type,onChange:t,options:[{value:"is_true",label:"True"},{value:"is_false",label:"False"},{value:"is_null",label:"Null"},{value:"is_not_null",label:"Not null"},{value:"is_true_or_null",label:"True or null"},{value:"is_false_or_null",label:"False or null"},{value:"custom",label:"Custom"}]}),i=D1t(n,e,r),s=n.type!=="custom"?_.createElement("div",{style:{width:"100%"}},r):null;return _.createElement(T1t,null,i.builder,s)},T1t=Hn.div`
  display: flex;
  gap: 10px;
  flex-direction: row;
  padding: 0 15px;
  width: calc(100% - 30px);
`,F1t=Hn.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
  width: 100%;
`;function D1t(n,e,t){return n.type!=="custom"?{builder:null,util:null}:{builder:_.createElement(F1t,null,t,_.createElement(lu,{value:n.partial,setValue:i=>e({type:"custom",partial:i}),placeholder:"!= null"}))}}var XO=({model:n,source:e,field:t,addFilter:r,needsRename:i,onComplete:s,fieldPath:o})=>{let a=t.type==="struct"?"source":t.type==="turtle"?"query":t.type,c=t.type==="struct"?"source":t.type==="turtle"?"query":t.aggregate?"measure":"dimension",[d,p]=(0,pb.useState)({type:"is_equal_to",values:[]}),[E,w]=(0,pb.useState)({type:"is_equal_to",values:[]}),[N,R]=(0,pb.useState)({type:"is_on",date:new Date,granularity:"day"}),[U,Q]=(0,pb.useState)({type:"is_true"}),[P,j]=(0,pb.useState)(a==="string"?dae(o,d):a==="number"?fae(o,E):a==="date"||a==="timestamp"?pae(o,N):a==="boolean"?hae(o,U):""),[I,K]=(0,pb.useState)("");return _.createElement("div",null,_.createElement("form",null,_.createElement(yf,{style:{padding:"15px",paddingBottom:0}},"Filter",_.createElement(Mz,null,_.createElement(Mw,{color:"dimension"},_.createElement(Rm,{type:a,kind:c})),_.createElement(Bz,null,t.name))),i&&_.createElement(O1t,null,_.createElement(g1,null,_.createElement(lu,{value:I,setValue:K,placeholder:"field name",label:"Field Name",autoFocus:!0}),_.createElement(Y5,null,"Filter"))),a==="string"&&_.createElement(z9e,{model:n,source:e,fieldPath:o,filter:d,setFilter:de=>{p(de),j(dae(o,de))}}),a==="boolean"&&_.createElement(K9e,{filter:U,setFilter:de=>{Q(de),j(hae(o,de))}}),a==="number"&&_.createElement(H9e,{filter:E,setFilter:de=>{w(de),j(fae(o,de))}}),(a==="date"||a==="timestamp")&&_.createElement(Y9e,{type:a,filter:N,setFilter:de=>{R(de),j(pae(o,de))}}),_.createElement(p1,{style:{padding:"0 15px 15px 15px"}},_.createElement(L0,{type:"submit",onClick:de=>{Cx(e,P).then(M=>{r(M,I||void 0),s()}).catch(console.log),de.stopPropagation(),de.preventDefault()}},"Done"))))},O1t=Hn.div`
  margin: 15px;
  margin-top: 0;
  margin-bottom: 10px;
`;m();m();var _ae=xr(Lr());var ZO=({source:n,addDimension:e,onComplete:t,initialCode:r,initialName:i})=>{let[s,o]=(0,_ae.useState)(r||""),[a,c]=(0,_ae.useState)(i||""),d=r===void 0;return _.createElement(vf,null,_.createElement(yf,null,d?"New":"Edit"," Dimension"),_.createElement("form",null,_.createElement(g1,null,d&&_.createElement(lu,{value:a,setValue:c,placeholder:"field name",label:"Field Name",autoFocus:!0}),_.createElement(lu,{value:s,setValue:o,placeholder:"some_field * 10",label:d?"Definition":void 0})),_.createElement(p1,null,_.createElement(L0,{type:"submit",onClick:p=>{b9e(n,a,s).then(E=>{e(E),t()}).catch(console.log),p?.stopPropagation(),p?.preventDefault()}},"Done"))))};m();m();m();m();var eR=xr(Lr()),J9e=n=>eR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},eR.createElement("title",null,"viz_table"),eR.createElement("g",{id:"viz_table",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},eR.createElement("path",{d:"M81.0526316,23 L28.9473684,23 C25.1263158,23 22,26.1662162 22,30.036036 L22,79.2882883 C22,83.1581081 25.1263158,86.3243243 28.9473684,86.3243243 L81.0526316,86.3243243 C84.8736842,86.3243243 88,83.1581081 88,79.2882883 L88,30.036036 C88,26.1662162 84.8736842,23 81.0526316,23 Z M80.8648649,30.1351351 L80.8648649,40.8378378 L28.2432432,40.8378378 L28.2432432,30.1351351 L80.8648649,30.1351351 Z M63.9189189,79.1891892 L46.0810811,79.1891892 L46.0810811,47.972973 L63.9189189,47.972973 L63.9189189,79.1891892 Z M28.2432432,47.972973 L38.9459459,47.972973 L38.9459459,79.1891892 L28.2432432,79.1891892 L28.2432432,47.972973 Z M71.0540541,79.1891892 L71.0540541,47.972973 L81.7567568,47.972973 L81.7567568,79.1891892 L71.0540541,79.1891892 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));m();var mb=xr(Lr()),X9e=n=>mb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},mb.createElement("title",null,"viz_dashboard"),mb.createElement("g",{id:"viz_dashboard",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},mb.createElement("g",{id:"dashboard_black_24dp",transform:"translate(13.000000, 13.000000)"},mb.createElement("path",{d:"M5,0 L80,0 C82.7614237,-5.07265313e-16 85,2.23857625 85,5 L85,80 C85,82.7614237 82.7614237,85 80,85 L5,85 C2.23857625,85 3.38176876e-16,82.7614237 0,80 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),mb.createElement("path",{d:"M67,18 L67,25 L53,25 L53,18 L67,18 M32,18 L32,39 L18,39 L18,18 L32,18 M67,46 L67,67 L53,67 L53,46 L67,46 M32,60 L32,67 L18,67 L18,60 L32,60 M69,11 L51,11 C48.2385763,11 46,13.2385763 46,16 L46,27 C46,29.7614237 48.2385763,32 51,32 L69,32 C71.7614237,32 74,29.7614237 74,27 L74,16 C74,13.2385763 71.7614237,11 69,11 Z M34,11 L16,11 C13.2385763,11 11,13.2385763 11,16 L11,41 C11,43.7614237 13.2385763,46 16,46 L34,46 C36.7614237,46 39,43.7614237 39,41 L39,16 C39,13.2385763 36.7614237,11 34,11 Z M69,39 L51,39 C48.2385763,39 46,41.2385763 46,44 L46,69 C46,71.7614237 48.2385763,74 51,74 L69,74 C71.7614237,74 74,71.7614237 74,69 L74,44 C74,41.2385763 71.7614237,39 69,39 Z M34,53 L16,53 C13.2385763,53 11,55.2385763 11,58 L11,69 C11,71.7614237 13.2385763,74 16,74 L34,74 C36.7614237,74 39,71.7614237 39,69 L39,58 C39,55.2385763 36.7614237,53 34,53 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));m();var vy=xr(Lr()),Z9e=n=>vy.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},vy.createElement("title",null,"viz_text"),vy.createElement("g",{id:"viz_text",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},vy.createElement("rect",{id:"Rectangle-Copy",stroke:"#9aa0a6",strokeWidth:6,x:15.5,y:35,width:79,height:40,rx:5}),vy.createElement("g",{id:"abc",transform:"translate(33.090000, 44.134000)",fill:"#9aa0a6",fillRule:"nonzero"},vy.createElement("path",{d:"M4.81,19.032 C3.406,19.032 2.25333333,18.6203333 1.352,17.797 C0.450666667,16.9736667 0,15.8946667 0,14.56 C0,13.676 0.234,12.896 0.702,12.22 C1.17,11.544 1.81133333,11.024 2.626,10.66 C3.44066667,10.296 4.342,10.114 5.33,10.114 C6.69933333,10.114 7.86933333,10.3133333 8.84,10.712 L8.84,10.14 C8.84,9.412 8.567,8.82266667 8.021,8.372 C7.475,7.92133333 6.74266667,7.696 5.824,7.696 C5.2,7.696 4.59766667,7.839 4.017,8.125 C3.43633333,8.411 2.95533333,8.788 2.574,9.256 L0.39,7.54 C1.03133333,6.708 1.83733333,6.06666667 2.808,5.616 C3.77866667,5.16533333 4.836,4.94 5.98,4.94 C8.008,4.94 9.55066667,5.408 10.608,6.344 C11.6653333,7.28 12.194,8.64933333 12.194,10.452 L12.194,18.616 L8.84,18.616 L8.84,17.264 L8.632,17.264 C8.23333333,17.784 7.709,18.2086667 7.059,18.538 C6.409,18.8673333 5.65933333,19.032 4.81,19.032 Z M5.616,16.38 C6.604,16.38 7.38833333,16.0636667 7.969,15.431 C8.54966667,14.7983333 8.84,14.0573333 8.84,13.208 C7.956,12.792 7.02866667,12.584 6.058,12.584 C4.29,12.584 3.406,13.2426667 3.406,14.56 C3.406,15.0973333 3.59666667,15.535 3.978,15.873 C4.35933333,16.211 4.90533333,16.38 5.616,16.38 Z",id:"Shape"}),vy.createElement("path",{d:"M22.724,19.032 C21.8226667,19.032 21.021,18.8413333 20.319,18.46 C19.617,18.0786667 19.0926667,17.602 18.746,17.03 L18.538,17.03 L18.538,18.616 L15.34,18.616 L15.34,0 L18.746,0 L18.746,5.096 L18.538,6.968 L18.746,6.968 C19.11,6.396 19.6386667,5.915 20.332,5.525 C21.0253333,5.135 21.8226667,4.94 22.724,4.94 C23.92,4.94 25.0076667,5.239 25.987,5.837 C26.9663333,6.435 27.7333333,7.27133333 28.288,8.346 C28.8426667,9.42066667 29.12,10.634 29.12,11.986 C29.12,13.3553333 28.8426667,14.573 28.288,15.639 C27.7333333,16.705 26.9663333,17.537 25.987,18.135 C25.0076667,18.733 23.92,19.032 22.724,19.032 Z M22.126,15.886 C22.7673333,15.886 23.3653333,15.7213333 23.92,15.392 C24.4746667,15.0626667 24.9166667,14.6033333 25.246,14.014 C25.5753333,13.4246667 25.74,12.7486667 25.74,11.986 C25.74,11.2233333 25.5753333,10.5473333 25.246,9.958 C24.9166667,9.36866667 24.4746667,8.91366667 23.92,8.593 C23.3653333,8.27233333 22.7673333,8.112 22.126,8.112 C21.502,8.112 20.9126667,8.27233333 20.358,8.593 C19.8033333,8.91366667 19.3613333,9.36866667 19.032,9.958 C18.7026667,10.5473333 18.538,11.2233333 18.538,11.986 C18.538,12.7486667 18.7026667,13.4246667 19.032,14.014 C19.3613333,14.6033333 19.8033333,15.0626667 20.358,15.392 C20.9126667,15.7213333 21.502,15.886 22.126,15.886 Z",id:"Shape"}),vy.createElement("path",{d:"M37.986,19.032 C36.6513333,19.032 35.4553333,18.733 34.398,18.135 C33.3406667,17.537 32.513,16.7006667 31.915,15.626 C31.317,14.5513333 31.018,13.338 31.018,11.986 C31.018,10.634 31.317,9.425 31.915,8.359 C32.513,7.293 33.3406667,6.45666667 34.398,5.85 C35.4553333,5.24333333 36.6513333,4.94 37.986,4.94 C39.4593333,4.94 40.7246667,5.25633333 41.782,5.889 C42.8393333,6.52166667 43.602,7.41866667 44.07,8.58 L40.95,9.88 C40.3953333,8.70133333 39.4073333,8.112 37.986,8.112 C36.946,8.112 36.0923333,8.46733333 35.425,9.178 C34.7576667,9.88866667 34.424,10.8246667 34.424,11.986 C34.424,13.1646667 34.7576667,14.1093333 35.425,14.82 C36.0923333,15.5306667 36.946,15.886 37.986,15.886 C39.4246667,15.886 40.4646667,15.262 41.106,14.014 L44.2,15.366 C43.628,16.5273333 42.8133333,17.4286667 41.756,18.07 C40.6986667,18.7113333 39.442,19.032 37.986,19.032 Z",id:"Path"}))));m();var Tx=xr(Lr()),eAe=n=>Tx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Tx.createElement("title",null,"viz_currency"),Tx.createElement("g",{id:"viz_currency",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Tx.createElement("g",{id:"Group",transform:"translate(19.000000, 19.000000)"},Tx.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:36,cy:36,r:32.5}),Tx.createElement("path",{d:"M35.7525,20.06 C38.5425,20.06 40.7775,20.7425 42.4575,22.1075 C44.1375,23.4725 45.2775,25.01 45.8775,26.72 L41.4225,28.61 C41.1225,27.53 40.4925,26.6 39.5325,25.82 C38.5725,25.04 37.3275,24.65 35.7975,24.65 C34.3275,24.65 33.0825,25.04 32.0625,25.82 C31.0425,26.6 30.5325,27.59 30.5325,28.79 C30.5325,29.9 30.99,30.8225 31.905,31.5575 C32.759,32.2435 34.0507333,32.8968333 35.7802,33.5175 L38.2275,34.37 C40.9875,35.33 43.1175,36.575 44.6175,38.105 C46.1175,39.635 46.8675,41.675 46.8675,44.225 C46.8675,46.325 46.335,48.0875 45.27,49.5125 C44.205,50.9375 42.84,51.995 41.175,52.685 C39.51,53.375 37.8075,53.72 36.0675,53.72 C33.3975,53.72 30.9975,52.94 28.8675,51.38 C26.7375,49.82 25.2525,47.63 24.4125,44.81 L29.0925,42.92 C29.5725,44.72 30.4275,46.19 31.6575,47.33 C32.8875,48.47 34.3725,49.04 36.1125,49.04 C37.7325,49.04 39.105,48.62 40.23,47.78 C41.355,46.94 41.9175,45.785 41.9175,44.315 C41.9175,42.965 41.4225,41.8475 40.4325,40.9625 C39.4975,40.1266667 37.9202778,39.3109028 35.7008333,38.5152083 L33.2775,37.655 C31.0875,36.875 29.265,35.7875 27.81,34.3925 C26.355,32.9975 25.6275,31.145 25.6275,28.835 C25.6275,27.245 26.055,25.775 26.91,24.425 C27.765,23.075 28.965,22.01 30.51,21.23 C32.055,20.45 33.8025,20.06 35.7525,20.06 Z",id:"Path",fill:"#9aa0a6",fillRule:"nonzero"}),Tx.createElement("line",{x1:36,y1:14,x2:36,y2:21,id:"Line-Copy-4",stroke:"#9aa0a6",strokeWidth:5}),Tx.createElement("line",{x1:36,y1:52,x2:36,y2:59,id:"Line-Copy-5",stroke:"#9aa0a6",strokeWidth:5})),Tx.createElement("g",{id:"S",transform:"translate(43.412500, 37.060000)"})));m();var tR=xr(Lr()),tAe=n=>tR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},tR.createElement("title",null,"viz_image"),tR.createElement("g",{id:"viz_image",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},tR.createElement("path",{d:"M81.4444444,28.5555556 L81.4444444,81.4444444 L28.5555556,81.4444444 L28.5555556,28.5555556 L81.4444444,28.5555556 M81.4444444,21 L28.5555556,21 C24.4,21 21,24.4 21,28.5555556 L21,81.4444444 C21,85.6 24.4,89 28.5555556,89 L81.4444444,89 C85.6,89 89,85.6 89,81.4444444 L89,28.5555556 C89,24.4 85.6,21 81.4444444,21 Z M63.0844444,54.4711111 L51.7511111,69.0911111 L43.6666667,59.3066667 L32.3333333,73.8888889 L77.6666667,73.8888889 L63.0844444,54.4711111 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"})));m();var xb=xr(Lr()),nAe=n=>xb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},xb.createElement("title",null,"viz_time"),xb.createElement("g",{id:"viz_time",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},xb.createElement("g",{id:"Group-Copy-19",transform:"translate(51.307692, 36.538462)",fill:"#9aa0a6",fillRule:"nonzero"},xb.createElement("polygon",{id:"Path",points:"5.30769231 0 0 0 0 21.7906683 18.5769231 33.2307692 21.2307692 28.7636822 5.30769231 19.0668348"})),xb.createElement("circle",{id:"Oval",stroke:"#9aa0a6",strokeWidth:7,cx:55,cy:55,r:32.5})));m();var gb=xr(Lr()),rAe=n=>gb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},gb.createElement("title",null,"viz_json"),gb.createElement("g",{id:"viz_json",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},gb.createElement("g",{id:"{;}",transform:"translate(24.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},gb.createElement("path",{d:"M17.0296296,66 C13.2765432,66 10.3209877,64.871179 8.16296296,62.6135371 C6.00493827,60.3558952 4.92592593,57.3296943 4.92592593,53.5349345 L4.92592593,41.6462882 C4.92592593,39.9170306 4.45679012,38.5840611 3.51851852,37.6473799 C2.58024691,36.7106987 1.40740741,36.2423581 0,36.2423581 L0,29.7576419 C1.40740741,29.7576419 2.58024691,29.2893013 3.51851852,28.3526201 C4.45679012,27.4159389 4.92592593,26.0829694 4.92592593,24.3537118 L4.92592593,12.4650655 C4.92592593,8.67030568 6.00493827,5.6441048 8.16296296,3.38646288 C10.3209877,1.12882096 13.2765432,0 17.0296296,0 L19,0 L19,6.41266376 L17.7333333,6.41266376 C16.091358,6.41266376 14.7425926,6.98908297 13.687037,8.1419214 C12.6314815,9.29475983 12.1037037,10.8318777 12.1037037,12.7532751 L12.1037037,24.3537118 C12.1037037,26.7074236 11.7166667,28.5687773 10.9425926,29.9377729 C10.1685185,31.3067686 8.93703704,32.2554585 7.24814815,32.7838428 L7.24814815,33.2161572 C8.93703704,33.7445415 10.1685185,34.6812227 10.9425926,36.0262009 C11.7166667,37.371179 12.1037037,39.2445415 12.1037037,41.6462882 L12.1037037,53.2467249 C12.1037037,55.1681223 12.6314815,56.7052402 13.687037,57.8580786 C14.7425926,59.010917 16.091358,59.5873362 17.7333333,59.5873362 L19,59.5873362 L19,66 L17.0296296,66 Z",id:"Path"}),gb.createElement("path",{d:"M44,59.5873362 L45.4074074,59.5873362 C47.0493827,59.5873362 48.3864198,59.010917 49.4185185,57.8580786 C50.4506173,56.7052402 50.9666667,55.1681223 50.9666667,53.2467249 L50.9666667,41.6462882 C50.9666667,39.2445415 51.3537037,37.371179 52.1277778,36.0262009 C52.9018519,34.6812227 54.1333333,33.7445415 55.8222222,33.2161572 L55.8222222,32.7838428 C54.1333333,32.2554585 52.9018519,31.3067686 52.1277778,29.9377729 C51.3537037,28.5687773 50.9666667,26.7074236 50.9666667,24.3537118 L50.9666667,12.7532751 C50.9666667,10.8318777 50.4506173,9.29475983 49.4185185,8.1419214 C48.3864198,6.98908297 47.0493827,6.41266376 45.4074074,6.41266376 L44,6.41266376 L44,0 L46.0407407,0 C49.7938272,0 52.7493827,1.12882096 54.9074074,3.38646288 C57.0654321,5.6441048 58.1444444,8.67030568 58.1444444,12.4650655 L58.1444444,24.3537118 C58.1444444,26.0829694 58.6018519,27.4159389 59.5166667,28.3526201 C60.4314815,29.2893013 61.5925926,29.7576419 63,29.7576419 L63,36.2423581 C61.5925926,36.2423581 60.4314815,36.7106987 59.5166667,37.6473799 C58.6018519,38.5840611 58.1444444,39.9170306 58.1444444,41.6462882 L58.1444444,53.5349345 C58.1444444,57.3296943 57.0654321,60.3558952 54.9074074,62.6135371 C52.7493827,64.871179 49.7938272,66 46.0407407,66 L44,66 L44,59.5873362 Z",id:"Path"}))));m();var o4=xr(Lr()),iAe=n=>o4.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},o4.createElement("title",null,"viz_list"),o4.createElement("g",{id:"viz_list",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},o4.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:24.1587742,y:27,width:61.9377906,height:8,rx:4}),o4.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:24.1587742,y:43,width:61.9377906,height:8,rx:4}),o4.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:24.1587742,y:59,width:62,height:8,rx:4}),o4.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:24.1587742,y:75.1904762,width:62,height:7.61904762,rx:3.80952381})));m();var T1=xr(Lr()),sAe=n=>T1.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},T1.createElement("title",null,"viz_list_detail"),T1.createElement("g",{id:"viz_list_detail",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},T1.createElement("rect",{id:"Rectangle-Copy-58",fill:"#9aa0a6",x:22.1587742,y:27,width:15.983946,height:8,rx:4}),T1.createElement("rect",{id:"Rectangle-Copy-59",fill:"#9aa0a6",x:44.1587742,y:27,width:43.9558514,height:8,rx:4}),T1.createElement("rect",{id:"Rectangle-Copy-61",fill:"#9aa0a6",x:22.1587742,y:43,width:15.983946,height:8,rx:4}),T1.createElement("rect",{id:"Rectangle-Copy-62",fill:"#9aa0a6",x:44.1587742,y:43,width:43.9558514,height:8,rx:4}),T1.createElement("rect",{id:"Rectangle-Copy-64",fill:"#9aa0a6",x:22.1587742,y:59,width:16,height:8,rx:4}),T1.createElement("rect",{id:"Rectangle-Copy-66",fill:"#9aa0a6",x:44.1587742,y:59,width:44,height:8,rx:4}),T1.createElement("rect",{id:"Rectangle-Copy-65",fill:"#9aa0a6",x:22.1587742,y:75.1904762,width:16,height:7.61904762,rx:3.80952381}),T1.createElement("rect",{id:"Rectangle-Copy-67",fill:"#9aa0a6",x:44.1587742,y:75.1904762,width:44,height:7.61904762,rx:3.80952381})));m();var Fx=xr(Lr()),oAe=n=>Fx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Fx.createElement("title",null,"viz_bar_chart"),Fx.createElement("g",{id:"viz_bar_chart",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Fx.createElement("g",{id:"Group-3",transform:"translate(20.000000, 24.000000)",fill:"#9aa0a6"},Fx.createElement("g",{id:"Group-2",transform:"translate(34.500000, 31.000000) rotate(-270.000000) translate(-34.500000, -31.000000) translate(3.500000, -3.500000)"},Fx.createElement("path",{d:"M-26.056314,30.056314 L34.943686,30.056314 C37.152825,30.056314 38.943686,31.847175 38.943686,34.056314 L38.943686,34.943686 C38.943686,37.152825 37.152825,38.943686 34.943686,38.943686 L-26.056314,38.943686 C-28.265453,38.943686 -30.056314,37.152825 -30.056314,34.943686 L-30.056314,34.056314 C-30.056314,31.847175 -28.265453,30.056314 -26.056314,30.056314 Z",id:"Rectangle-Copy-59",transform:"translate(4.443686, 34.500000) rotate(-90.000000) translate(-4.443686, -34.500000) "}),Fx.createElement("path",{d:"M-0.491247385,37.8466366 L44.9281075,37.8466366 C47.1372465,37.8466366 48.9281075,39.6374976 48.9281075,41.8466366 L48.9281075,42.7340086 C48.9281075,44.9431476 47.1372465,46.7340086 44.9281075,46.7340086 L-0.491247385,46.7340086 C-2.70038638,46.7340086 -4.49124739,44.9431476 -4.49124739,42.7340086 L-4.49124739,41.8466366 C-4.49124739,39.6374976 -2.70038638,37.8466366 -0.491247385,37.8466366 Z",id:"Rectangle-Copy-62",transform:"translate(22.218430, 42.290323) rotate(-90.000000) translate(-22.218430, -42.290323) "}),Fx.createElement("path",{d:"M23.3837854,43.9469253 L56.6025627,43.9469253 C58.8117017,43.9469253 60.6025627,45.7377863 60.6025627,47.9469253 L60.6025627,48.8342973 C60.6025627,51.0434363 58.8117017,52.8342973 56.6025627,52.8342973 L23.3837854,52.8342973 C21.1746464,52.8342973 19.3837854,51.0434363 19.3837854,48.8342973 L19.3837854,47.9469253 C19.3837854,45.7377863 21.1746464,43.9469253 23.3837854,43.9469253 Z",id:"Rectangle-Copy-66",transform:"translate(39.993174, 48.390611) rotate(-90.000000) translate(-39.993174, -48.390611) "}),Fx.createElement("path",{d:"M46.7286345,49.7286345 L68.8072017,49.7286345 C71.0163407,49.7286345 72.8072017,51.5194955 72.8072017,53.7286345 L72.8072017,54.1927983 C72.8072017,56.4019373 71.0163407,58.1927983 68.8072017,58.1927983 L46.7286345,58.1927983 C44.5194955,58.1927983 42.7286345,56.4019373 42.7286345,54.1927983 L42.7286345,53.7286345 C42.7286345,51.5194955 44.5194955,49.7286345 46.7286345,49.7286345 Z",id:"Rectangle-Copy-67",transform:"translate(57.767918, 53.960716) rotate(-90.000000) translate(-57.767918, -53.960716) "})))));m();var nR=xr(Lr()),aAe=n=>nR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},nR.createElement("title",null,"viz_line"),nR.createElement("g",{id:"viz_line",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},nR.createElement("path",{d:"M88.1848681,33.1583406 C89.7542734,31.6035859 92.2869054,31.6154626 93.8416601,33.1848679 C95.3445896,34.7019597 95.3835892,37.1191334 93.9668812,38.6829968 L93.8151328,38.84166 L66.2578818,66.14166 C64.8378618,67.5484238 62.6084032,67.6843587 61.0319068,66.4919462 L60.8595019,66.3539866 L45.2420004,53.1430003 L21.844917,76.8176775 C20.3437446,78.336508 17.927116,78.4009733 16.3484126,77.0008213 L16.1881594,76.850753 C14.6693289,75.3495806 14.6048635,72.932952 16.0050156,71.3542486 L16.1550839,71.1939954 L42.1550839,44.8881592 C43.5729843,43.4535802 45.8262314,43.3057778 47.4155704,44.5116324 L47.583248,44.646014 L63.2290004,57.8810003 L88.1848681,33.1583406 Z",id:"Path-10",fill:"#9aa0a6",fillRule:"nonzero"})));m();var yb=xr(Lr()),uAe=n=>yb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},yb.createElement("title",null,"viz_map_points"),yb.createElement("g",{id:"viz_map_points",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},yb.createElement("g",{id:"Group-Copy-36",transform:"translate(30.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},yb.createElement("path",{d:"M25,0 C11.1785714,0 0,11.268 0,25.2 C0,44.1 25,72 25,72 C25,72 50,44.1 50,25.2 C50,11.268 38.8214286,0 25,0 Z M7.14285714,25.2 C7.14285714,15.264 15.1428571,7.2 25,7.2 C34.8571429,7.2 42.8571429,15.264 42.8571429,25.2 C42.8571429,35.568 32.5714286,51.084 25,60.768 C17.5714286,51.156 7.14285714,35.46 7.14285714,25.2 Z",id:"Shape"}),yb.createElement("path",{d:"M25,34 C29.97052,34 34,29.97052 34,25 C34,20.029444 29.97052,16 25,16 C20.02948,16 16,20.029444 16,25 C16,29.97052 20.02948,34 25,34 Z",id:"Path"}))));m();var km=xr(Lr()),lAe=n=>km.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},km.createElement("title",null,"viz_map_segment"),km.createElement("g",{id:"viz_map_segment",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},km.createElement("g",{id:"Group-Copy-36",transform:"translate(11.000000, 27.000000)",fillRule:"nonzero"},km.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),km.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),km.createElement("g",{id:"Group-Copy-37",transform:"translate(62.000000, 27.000000)",fillRule:"nonzero"},km.createElement("path",{d:"M17,0 C7.60142857,0 0,7.6685 0,17.15 C0,30.0125 17,49 17,49 C17,49 34,30.0125 34,17.15 C34,7.6685 26.3985714,0 17,0 Z M4.85714286,17.15 C4.85714286,10.388 10.2971429,4.9 17,4.9 C23.7028571,4.9 29.1428571,10.388 29.1428571,17.15 C29.1428571,24.206 22.1485714,34.7655 17,41.356 C11.9485714,34.8145 4.85714286,24.1325 4.85714286,17.15 Z",id:"Shape",fill:"#9aa0a6"}),km.createElement("path",{d:"M17,24 C20.31368,24 23,21.31368 23,18 C23,14.686296 20.31368,12 17,12 C13.68632,12 11,14.686296 11,18 C11,21.31368 13.68632,24 17,24 Z",id:"Path",fill:"#9aa0a6"})),km.createElement("line",{x1:28.5,y1:81.5,x2:79.5,y2:81.5,id:"Line-3",stroke:"#9aa0a6",strokeWidth:5,strokeLinecap:"round",strokeDasharray:"5,10"})));m();var Dx=xr(Lr()),cAe=n=>Dx.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Dx.createElement("title",null,"viz_map_shape"),Dx.createElement("g",{id:"viz_map_shape",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Dx.createElement("g",{id:"noun-world-4667432-2",transform:"translate(19.000000, 19.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Dx.createElement("g",{id:"noun-world-4667432"},Dx.createElement("path",{d:"M36,5 C18.8798665,5 5,18.8793071 5,36 C5,53.1206929 18.8793071,67 36,67 C53.1206929,67 67,53.1206929 67,36 C67,18.8793071 53.1206929,5 36,5 Z M0,36 C0,16.1177143 16.1177143,0 36,0 C55.8822857,0 72,16.1177143 72,36 C72,55.8822857 55.8822857,72 36,72 C16.1177143,72 0,55.8822857 0,36 Z",id:"Shape"}),Dx.createElement("path",{d:"M37.2848685,1.50131372 C37.8999474,1.48477633 38.4631152,1.71654937 38.8767996,2.10376364 C39.2928262,2.49317029 39.5578301,3.03960333 39.57434,3.65023916 L39.57434,3.65023916 L40.0344656,20.7428771 C40.0487121,21.2893502 39.8586306,21.8212062 39.4992535,22.2375953 L39.4992535,22.2375953 L32.1172188,30.7832284 C31.7924232,31.1592888 31.3490374,31.4169308 30.8586892,31.5134813 L30.8586892,31.5134813 L24.6865498,32.7324332 L28.0628423,42.7359018 C28.4533111,43.8925701 28.4513039,45.0197005 28.1633304,46.0321806 C27.8503264,47.132665 27.1975708,48.0987342 26.3338575,48.8190181 C25.4716664,49.5380326 24.3999821,50.0114808 23.2508211,50.1317463 C22.1949716,50.2422462 21.0728206,50.0558305 19.9867908,49.4837618 L19.9867908,49.4837618 L1.68382097,39.8433672 C1.13885361,39.5565384 0.764084629,39.078393 0.597525292,38.5380041 C0.430427538,37.9958684 0.472619244,37.3906551 0.763987861,36.8508084 C1.05393693,36.3139129 1.53648052,35.9433066 2.08313472,35.7791188 C2.62798313,35.6154734 3.2361363,35.657153 3.77860632,35.9426925 L3.77860632,35.9426925 L22.0816454,45.5831236 C22.3171919,45.7071442 22.5603781,45.7498863 22.7897862,45.7258621 C23.0398735,45.6996723 23.2725259,45.5956093 23.4599703,45.4392842 C23.6458558,45.2842591 23.7880139,45.0772117 23.8554593,44.8399997 C23.9169381,44.6237728 23.9147045,44.383346 23.8314444,44.1367864 L23.8314444,44.1367864 L19.6527943,31.7569079 C19.4493668,31.1542234 19.517516,30.4944328 19.8403231,29.9450638 C20.1614725,29.3985413 20.7046793,29.014044 21.3323155,28.8900909 L21.3323155,28.8900909 L29.2286003,27.3302661 L35.5513871,20.0108413 L35.1144494,3.7686887 C35.0979491,3.15801867 35.3331708,2.59836837 35.7276711,2.18746751 C36.1199426,1.77888802 36.6699139,1.51752889 37.2848685,1.50131372 Z",id:"Path",stroke:"#9aa0a6"}),Dx.createElement("path",{d:"M42.2538467,56.3169014 C42.834665,56.3169014 43.3919278,56.5473051 43.8025756,56.957964 L43.8025756,56.957964 L50.5634819,63.7190531 C50.990585,64.1465338 51.2042254,64.7070592 51.2042254,65.267637 C51.2042254,65.8282064 50.9905908,66.3887389 50.5631792,66.8165562 C50.1353619,67.244019 49.5748515,67.4577465 49.0143336,67.4577465 C48.453827,67.4577465 47.893307,67.2440267 47.4652769,66.8163886 L47.4652769,66.8163886 L41.3467145,60.697095 L29.639469,60.697095 L23.5207389,66.8165562 C23.0929158,67.2440249 22.5323953,67.4577465 21.9719658,67.4577465 C21.4114352,67.4577465 20.8509999,67.2439558 20.4235838,66.8165562 C19.995665,66.388992 19.7816901,65.8283383 19.7816901,65.2676696 C19.7816901,64.7070094 19.9956592,64.1463486 20.4234173,63.7189168 L20.4234173,63.7189168 L27.1839229,56.9576493 C27.5952192,56.5470739 28.1516855,56.3169014 28.7323368,56.3169014 L28.7323368,56.3169014 Z",id:"Path",stroke:"#9aa0a6"}),Dx.createElement("path",{d:"M63.9378166,21.2379048 C64.4225216,20.8714311 65.0086399,20.7379975 65.5642349,20.8181856 C66.1191803,20.8982799 66.6440521,21.191578 67.006552,21.6798365 C67.3682973,22.1662502 67.5006358,22.75458 67.4216695,23.3126471 C67.3426278,23.8712474 67.0519787,24.3991735 66.5692317,24.7645164 L66.5692317,24.7645164 L53.5947929,34.5837331 L50.8571888,42.8725775 L63.4236834,55.5534973 C63.8498746,55.9835692 64.0634024,56.5474048 64.0634024,57.111468 C64.0634024,57.6755228 63.8498803,58.2393656 63.4235328,58.6696236 C62.9952729,59.1014133 62.434079,59.3169014 61.8731786,59.3169014 C61.3121772,59.3169014 60.7510686,59.1013441 60.3230649,58.6694716 L60.3230649,58.6694716 L46.8022881,45.0255804 C46.5094233,44.730049 46.31189,44.3642735 46.2203738,43.9732706 C46.1289585,43.5826987 46.1433461,43.1669732 46.2741073,42.7711741 L46.2741073,42.7711741 L49.6544877,32.5388634 C49.7943202,32.1133276 50.0607882,31.7409505 50.416846,31.4711161 L50.416846,31.4711161 Z",id:"Path",stroke:"#9aa0a6"})))));m();var _y=xr(Lr()),fAe=n=>_y.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},_y.createElement("title",null,"viz_number"),_y.createElement("g",{id:"viz_number",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},_y.createElement("g",{id:"Group",transform:"translate(20.000000, 20.000000)",fill:"#9aa0a6"},_y.createElement("path",{d:"M-10.5,30.5 L51.5,30.5 C53.709139,30.5 55.5,32.290861 55.5,34.5 L55.5,35.5 C55.5,37.709139 53.709139,39.5 51.5,39.5 L-10.5,39.5 C-12.709139,39.5 -14.5,37.709139 -14.5,35.5 L-14.5,34.5 C-14.5,32.290861 -12.709139,30.5 -10.5,30.5 Z",id:"Rectangle-Copy-60",transform:"translate(20.500000, 35.000000) rotate(-90.000000) translate(-20.500000, -35.000000) "}),_y.createElement("path",{d:"M19.5,30.5 L81.5,30.5 C83.709139,30.5 85.5,32.290861 85.5,34.5 L85.5,35.5 C85.5,37.709139 83.709139,39.5 81.5,39.5 L19.5,39.5 C17.290861,39.5 15.5,37.709139 15.5,35.5 L15.5,34.5 C15.5,32.290861 17.290861,30.5 19.5,30.5 Z",id:"Rectangle-Copy-61",transform:"translate(50.500000, 35.000000) rotate(-90.000000) translate(-50.500000, -35.000000) "}),_y.createElement("path",{d:"M4,14 L66,14 C68.209139,14 70,15.790861 70,18 L70,19 C70,21.209139 68.209139,23 66,23 L4,23 C1.790861,23 2.705415e-16,21.209139 0,19 L0,18 C-2.705415e-16,15.790861 1.790861,14 4,14 Z",id:"Rectangle-Copy-63",transform:"translate(35.000000, 18.500000) rotate(-360.000000) translate(-35.000000, -18.500000) "}),_y.createElement("path",{d:"M4,44 L66,44 C68.209139,44 70,45.790861 70,48 L70,49 C70,51.209139 68.209139,53 66,53 L4,53 C1.790861,53 2.705415e-16,51.209139 0,49 L0,48 C-2.705415e-16,45.790861 1.790861,44 4,44 Z",id:"Rectangle-Copy-62",transform:"translate(35.000000, 48.500000) rotate(-360.000000) translate(-35.000000, -48.500000) "}))));m();var xC=xr(Lr()),dAe=n=>xC.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},xC.createElement("title",null,"viz_percent"),xC.createElement("g",{id:"viz_percent",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},xC.createElement("g",{id:"%-copy-5",transform:"translate(19.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},xC.createElement("path",{d:"M16.1194226,31.5251397 C19.1010499,31.5251397 21.8186789,30.8184358 24.2723097,29.4050279 C26.7259405,27.9916201 28.6671041,26.0712291 30.0958005,23.6438547 C31.5244969,21.2164804 32.2388451,18.5893855 32.2388451,15.7625698 C32.2388451,12.9357542 31.5244969,10.3086592 30.0958005,7.88128492 C28.6671041,5.45391061 26.7259405,3.53351955 24.2723097,2.12011173 C21.8186789,0.706703911 19.1010499,0 16.1194226,0 C13.1377953,0 10.4201662,0.706703911 7.96653543,2.12011173 C5.51290464,3.53351955 3.57174103,5.45391061 2.14304462,7.88128492 C0.714348206,10.3086592 0,12.9357542 0,15.7625698 C0,18.5893855 0.714348206,21.2164804 2.14304462,23.6438547 C3.57174103,26.0712291 5.51290464,27.9916201 7.96653543,29.4050279 C10.4201662,30.8184358 13.1377953,31.5251397 16.1194226,31.5251397 Z M19.9645575,62.4787112 L57.1929452,7.56550735 C58.3200259,5.90302296 57.8859954,3.64163362 56.223511,2.5145529 C56.2107419,2.50589603 56.1979177,2.49732049 56.1850394,2.48882682 C54.4804105,1.3645685 52.1887314,1.81914062 51.0422905,3.50893047 L13.7228276,58.5157377 C12.6107181,60.1549252 13.0379992,62.3852921 14.6771866,63.4974016 C14.7072768,63.5178164 14.7376757,63.5377723 14.7683727,63.5572626 C16.507245,64.6613129 18.8087263,64.1836036 19.9645575,62.4787112 Z M16.1194226,24.150838 C13.8832021,24.150838 12.0041557,23.3519553 10.4822835,21.7541899 C8.9604112,20.1564246 8.19947507,18.1592179 8.19947507,15.7625698 C8.19947507,13.3044693 8.9604112,11.2918994 10.4822835,9.72486034 C12.0041557,8.15782123 13.8832021,7.37430168 16.1194226,7.37430168 C18.4177603,7.37430168 20.3278653,8.15782123 21.8497375,9.72486034 C23.3716098,11.2918994 24.1325459,13.3044693 24.1325459,15.7625698 C24.1325459,18.2206704 23.3716098,20.2332402 21.8497375,21.8002793 C20.3278653,23.3673184 18.4177603,24.150838 16.1194226,24.150838 Z M54.8805774,66 C57.8622047,66 60.5798338,65.2932961 63.0334646,63.8798883 C65.4870954,62.4664804 67.428259,60.5460894 68.8569554,58.1187151 C70.2856518,55.6913408 71,53.0642458 71,50.2374302 C71,47.4106145 70.2856518,44.7835196 68.8569554,42.3561453 C67.428259,39.9287709 65.4870954,38.0083799 63.0334646,36.5949721 C60.5798338,35.1815642 57.8622047,34.4748603 54.8805774,34.4748603 C51.8989501,34.4748603 49.1813211,35.1815642 46.7276903,36.5949721 C44.2740595,38.0083799 42.3328959,39.9287709 40.9041995,42.3561453 C39.4755031,44.7835196 38.7611549,47.4106145 38.7611549,50.2374302 C38.7611549,53.0642458 39.4755031,55.6913408 40.9041995,58.1187151 C42.3328959,60.5460894 44.2740595,62.4664804 46.7276903,63.8798883 C49.1813211,65.2932961 51.8989501,66 54.8805774,66 Z M54.8805774,58.6256983 C52.644357,58.6256983 50.7653106,57.8268156 49.2434383,56.2290503 C47.7215661,54.6312849 46.9606299,52.6340782 46.9606299,50.2374302 C46.9606299,47.7793296 47.7215661,45.7667598 49.2434383,44.1997207 C50.7653106,42.6326816 52.644357,41.849162 54.8805774,41.849162 C57.1789151,41.849162 59.0890201,42.6326816 60.6108924,44.1997207 C62.1327647,45.7667598 62.8937008,47.7793296 62.8937008,50.2374302 C62.8937008,52.6340782 62.1172353,54.6312849 60.5643045,56.2290503 C59.0113736,57.8268156 57.1167979,58.6256983 54.8805774,58.6256983 Z",id:"%-copy-2"}))));m();var Ox=xr(Lr()),hAe=n=>Ox.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},Ox.createElement("title",null,"viz_boolean"),Ox.createElement("g",{id:"viz_boolean",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Ox.createElement("g",{id:"noun_switch_3350414-2",transform:"translate(20.000000, 22.000000)",fill:"#9aa0a6",fillRule:"nonzero"},Ox.createElement("g",{id:"noun_switch_3350414"},Ox.createElement("path",{d:"M15.2972028,30.8 L54.7027972,30.8 C63.151209,30.8 70,23.9051851 70,15.4 C70,6.89481485 63.151209,0 54.7027972,0 L15.2972028,0 C6.84879098,0 0,6.89481485 0,15.4 C0,23.9051851 6.84879098,30.8 15.2972028,30.8 Z M15.2972028,6.16 L54.7027972,6.16 C59.7718443,6.16 63.8811189,10.2968889 63.8811189,15.4 C63.8811189,20.5031111 59.7718443,24.64 54.7027972,24.64 L15.2972028,24.64 C10.2281557,24.64 6.11888112,20.5031111 6.11888112,15.4 C6.11888112,10.2968889 10.2281557,6.16 15.2972028,6.16 Z",id:"Shape"}),Ox.createElement("path",{d:"M19.6340542,21.9997804 C22.2930484,22.0215224 24.7022661,20.4273668 25.7348338,17.9629544 C26.7674016,15.4985421 26.2191958,12.6510518 24.3466309,10.7523518 C22.474066,8.85365189 19.6473211,8.27908795 17.1885612,9.29740315 C14.7298014,10.3157183 13.125,12.7256064 13.125,15.3998806 C13.125,19.0240523 16.0305897,21.9703156 19.6340542,21.9997804 L19.6340542,21.9997804 Z",id:"Path"}),Ox.createElement("path",{d:"M54.7027971,35.2 L15.2972025,35.2 C6.84879081,35.2 0,42.094815 0,50.6 C0,59.105185 6.84879081,66 15.2972025,66 L54.7027971,66 C63.151209,66 70,59.1051851 70,50.6 C70,42.0948149 63.151209,35.2 54.7027971,35.2 L54.7027971,35.2 Z M54.7027971,59.84 L15.2972025,59.84 C10.2281554,59.84 6.11888082,55.7031111 6.11888082,50.6 C6.11888082,45.4968889 10.2281554,41.36 15.2972025,41.36 L54.7027971,41.36 C59.7718442,41.36 63.8811189,45.4968889 63.8811189,50.6 C63.8811189,55.7031111 59.7718442,59.84 54.7027971,59.84 L54.7027971,59.84 Z",id:"Shape"}),Ox.createElement("path",{d:"M50.3659458,44.0002196 C47.7069516,43.9784776 45.2977339,45.5726332 44.2651662,48.0370456 C43.2325984,50.5014579 43.7808042,53.3489482 45.6533691,55.2476482 C47.525934,57.1463481 50.3526789,57.720912 52.8114388,56.7025969 C55.2701986,55.6842817 56.875,53.2743936 56.875,50.6001194 C56.875,46.9759477 53.9694103,44.0296844 50.3659458,44.0002196 Z",id:"Path"})))));m();var rR=xr(Lr()),pAe=n=>rR.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},rR.createElement("title",null,"viz_sparkline"),rR.createElement("g",{id:"viz_sparkline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},rR.createElement("polyline",{id:"Path-11",stroke:"#9aa0a6",strokeWidth:6,points:"10 54.8274509 25.9215088 61.0844803 40.1501567 54.8274509 53.3907166 68.7215958 69.5925598 42 83.3327332 64.4487228 100.431152 57.8274509"})));m();var vb=xr(Lr()),mAe=n=>vb.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},vb.createElement("title",null,"viz_link"),vb.createElement("g",{id:"viz_link",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},vb.createElement("g",{id:"link_black_24dp",transform:"translate(5.000000, 5.000000)"},vb.createElement("path",{d:"M5,0 L96,0 C98.7614237,-5.07265313e-16 101,2.23857625 101,5 L101,96 C101,98.7614237 98.7614237,101 96,101 L5,101 C2.23857625,101 3.38176876e-16,98.7614237 0,96 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z",id:"Path"}),vb.createElement("path",{d:"M71,30 L58.4,30 C56.0804041,30 54.2,31.8804041 54.2,34.2 C54.2,36.5195959 56.0804041,38.4 58.4,38.4 L71,38.4 L71,38.4 C77.93,38.4 83.6,44.07 83.6,51 C83.6,57.93 77.93,63.6 71,63.6 L58.4,63.6 C56.0804041,63.6 54.2,65.4804041 54.2,67.8 C54.2,70.1195959 56.0804041,72 58.4,72 L71,72 L71,72 C82.592,72 92,62.592 92,51 C92,39.408 82.592,30 71,30 Z M41.6,63.6 L29,63.6 L29,63.6 C22.07,63.6 16.4,57.93 16.4,51 C16.4,44.07 22.07,38.4 29,38.4 L41.6,38.4 C43.9195959,38.4 45.8,36.5195959 45.8,34.2 C45.8,31.8804041 43.9195959,30 41.6,30 L29,30 L29,30 C17.408,30 8,39.408 8,51 C8,62.592 17.408,72 29,72 L41.6,72 C43.9195959,72 45.8,70.1195959 45.8,67.8 C45.8,65.4804041 43.9195959,63.6 41.6,63.6 Z M37.4,46.8 L62.6,46.8 C64.9195959,46.8 66.8,48.6804041 66.8,51 C66.8,53.3195959 64.9195959,55.2 62.6,55.2 L37.4,55.2 C35.0804041,55.2 33.2,53.3195959 33.2,51 C33.2,48.6804041 35.0804041,46.8 37.4,46.8 Z",id:"Shape",fill:"#9aa0a6",fillRule:"nonzero"}))));var RH=({renderer:n})=>{let e={width:"22px",height:"22px"};return n==="table"?_.createElement(J9e,{...e}):n==="dashboard"?_.createElement(X9e,{...e}):n==="text"?_.createElement(Z9e,{...e}):n==="currency"?_.createElement(eAe,{...e}):n==="image"?_.createElement(tAe,{...e}):n==="time"?_.createElement(nAe,{...e}):n==="json"?_.createElement(rAe,{...e}):n==="list"?_.createElement(iAe,{...e}):n==="list_detail"?_.createElement(sAe,{...e}):n==="bar_chart"?_.createElement(oAe,{...e}):n==="scatter_chart"?_.createElement(uH,{...e}):n==="line_chart"?_.createElement(aAe,{...e}):n==="point_map"?_.createElement(uAe,{...e}):n==="segment_map"?_.createElement(lAe,{...e}):n==="shape_map"?_.createElement(cAe,{...e}):n==="number"?_.createElement(fAe,{...e}):n==="percent"?_.createElement(dAe,{...e}):n==="boolean"?_.createElement(hAe,{...e}):n==="spark_line"?_.createElement(pAe,{...e}):n==="link"?_.createElement(mAe,{...e}):null};var Dd=({setDataStyle:n,onComplete:e,allowedRenderers:t})=>_.createElement(x1,null,_.createElement(Yl,null,_.createElement(Il,null,_.createElement(R1t,null,t.map(r=>_.createElement(Jo,{icon:_.createElement(RH,{renderer:r}),key:r,onClick:()=>{n(r),e()},name:r,color:"other"})))))),R1t=Hn.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;m();m();var xAe=xr(Lr());var by=({byField:n,addOrderBy:e,onComplete:t,initialDirection:r})=>{let[i,s]=(0,xAe.useState)(r||"asc");return _.createElement(vf,null,_.createElement(yf,null,"Order By",_.createElement(Mz,null,_.createElement(Mw,{color:"dimension"},_.createElement(Rm,{type:OO(n),kind:eH(n)})),_.createElement(Bz,null,n.name))),_.createElement("form",null,_.createElement(g1,null,_.createElement(N1t,null,_.createElement(mae,{options:[{value:"asc",label:"Ascending"},{value:"desc",label:"Descending"}],value:i,onChange:s}))),_.createElement(p1,null,_.createElement(L0,{type:"submit",onClick:()=>{n!==void 0&&(e(n.fieldIndex,i),t())}},"Done"))))},N1t=Hn.div`
  display: flex;
  border: 1px solid #efefef;
  border-radius: 5px;
  overflow: hidden;
`;m();m();var gAe=xr(Lr());var Ey=({rename:n,onComplete:e})=>{let[t,r]=(0,gAe.useState)("");return _.createElement(vf,null,_.createElement(yf,null,"Rename"),_.createElement(Pz,null,_.createElement(lu,{value:t,setValue:r,placeholder:"new_name",autoFocus:!0}),_.createElement(L0,{type:"submit",onClick:()=>{n(t),e()}},"Done")))};var bae=({source:n,model:e,rename:t,name:r,closeMenu:i,setDataStyle:s,fieldIndex:o,beginReorderingField:a,isEditable:c,editDimension:d,definition:p,saveDimension:E,filterField:w,filterFieldPath:N,addFilter:R,stagePath:U,addOrderBy:Q,orderByField:P})=>_.createElement(Jl,{closeMenu:i,actions:[{kind:"sub_menu",id:"rename",iconName:"rename",label:"Rename",iconColor:"other",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(Ey,{rename:t,onComplete:j})},{kind:"sub_menu",id:"filter_on",iconName:"filter",label:"Filter By",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:j})=>w&&N?_.createElement(XO,{model:e,onComplete:j,source:n,field:w,fieldPath:N,needsRename:!1,addFilter:I=>R(U,I)}):_.createElement("div",null)},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(by,{byField:P,addOrderBy:(I,K)=>Q(U,I,K),onComplete:j})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(Dd,{setDataStyle:s,onComplete:j,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",isEnabled:c,iconColor:"other",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(ZO,{source:n,addDimension:I=>d(o,I),onComplete:j,initialCode:p,initialName:r})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:a},{kind:"one_click",id:"save_definition",label:"Save Dimension",iconName:"save",isEnabled:!1,iconColor:"dimension",onClick:()=>{E&&E()}}]});m();m();m();m();var Eae=xr(Lr());m();m();var yAe=xr(Lr());m();m();var a4=({children:n})=>_.createElement(L1t,null,_.createElement(k1t,null),_.createElement(I1t,null,n)),L1t=Hn.div`
  margin-top: 5px;
  display: flex;
  flex-direction: row;
  gap: 2px;
  margin-left: 13px;
`,k1t=Hn.div`
  width: 6px;
  min-width: 6px;
  padding: 5px 0px;
  margin: 0 1px;
  background-color: #efefef;
  border-radius: 100px;
`,I1t=Hn.div`
  width: calc(100% - 10px);
`;var F1=({fields:n,selectField:e,filter:t,showNested:r,path:i=[],topValues:s})=>_.createElement(M1t,null,n.filter(o=>t(o)||r&&o.type==="struct").map(o=>{if(t(o)){let a=o.type==="struct"?"source":o.type==="turtle"?"query":o.type,c=o.type==="struct"?"source":o.type==="turtle"?"query":o.aggregate?"measure":"dimension",d=[...i,o.as||o.name].join(".");return _.createElement(i4,{width:300,key:o.as||o.name,content:()=>_.createElement(Jo,{icon:_.createElement(Rm,{type:a,kind:c}),onClick:()=>e(d,o),name:o.as||o.name,color:c}),popoverContent:()=>_.createElement(r4,{fieldPath:d,topValues:s})})}else return o.type==="struct"&&vAe(o,t)?_.createElement(P1t,{key:o.as||o.name,source:o,filter:t,selectField:e,path:[...i,o.as||o.name],topValues:s}):null})),M1t=Hn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`;function vAe(n,e){return n.fields.some(e)||n.fields.some(t=>t.type==="struct"&&vAe(t,e))}var P1t=({source:n,filter:e,selectField:t,path:r,topValues:i})=>{let[s,o]=(0,yAe.useState)(!1);return _.createElement("div",null,_.createElement(Jo,{icon:_.createElement(sa,{action:s?"container-open":"container-closed",color:"other"}),onClick:()=>o(!s),name:n.as||n.name,color:"other"}),s&&_.createElement(a4,null,_.createElement(F1,{filter:e,selectField:t,fields:n.fields,showNested:!0,path:r,topValues:i})))};var Sy=({model:n,source:e,addFilter:t,onComplete:r,needsRename:i,topValues:s})=>{let[o,a]=(0,Eae.useState)(""),[c,d]=(0,Eae.useState)(),{searchResults:p,isLoading:E}=db(n,e,o),w=p&&p.filter(I=>I.fieldType==="string").slice(0,100),N=Kf(e).filter(({field:I})=>RO(I)).map(({field:I,path:K})=>({item:I0(I,K),terms:M0(I,K),key:B1t(K),select:()=>d({path:K,def:I})})),{searchList:R,count:U}=cC({searchTerm:o,items:N||[],topValues:s}),Q=w?.length||0,P=U>0,j=Q>0||E;return _.createElement("div",null,!c&&_.createElement(m1,null,_.createElement(Jh,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),_.createElement("div",null,c&&_.createElement(XO,{model:n,source:e,fieldPath:c.path,field:c.def,addFilter:t,onComplete:r,needsRename:i}),!c&&_.createElement(_.Fragment,null,o===""&&_.createElement(Yl,null,_.createElement(Il,null,_.createElement(F1,{fields:e.fields,filter:RO,showNested:!0,selectField:(I,K)=>d({path:I,def:K}),topValues:s}))),o!==""&&_.createElement(_.Fragment,null,P&&_.createElement(Yl,{style:{borderBottom:P?"1px solid #efefef":"",maxHeight:j?"200px":"300px"}},_.createElement(Il,null,R)),j&&e&&_.createElement(Yl,{style:{borderBottom:"1px solid #efefef",maxHeight:P?"200px":"300px"}},_.createElement(Il,null,w&&w.length>0&&w.map((I,K)=>_.createElement(Jo,{key:K,name:I.fieldValue,detail:I.fieldName,icon:_.createElement(sa,{action:"filter"}),color:"filter",onClick:()=>{Cx(e,`${I.fieldName} = '${I.fieldValue}'`).then(de=>{t&&t(de),r()})}})),w!==void 0&&w.length===0&&_.createElement(Gf,null,"No value results"),E&&_.createElement(Gf,null,_.createElement(Nm,{text:"Loading value results..."}))))),!P&&!j&&_.createElement(Gf,null,"No results"))))};function B1t(n){return"field/"+n}m();m();var Sae=xr(Lr());var iR=({source:n,addMeasure:e,onComplete:t,initialCode:r,initialName:i})=>{let[s,o]=(0,Sae.useState)(r||""),[a,c]=(0,Sae.useState)(i||""),d=r===void 0;return _.createElement(vf,null,_.createElement(yf,null,d?"New":"Edit"," measure"),_.createElement("form",null,_.createElement(g1,null,d&&_.createElement(lu,{value:a,setValue:c,placeholder:"field name",label:"Field Name",autoFocus:!0}),_.createElement(lu,{value:s,setValue:o,placeholder:"some_field * 10",label:d?"Definition":void 0})),_.createElement(p1,null,_.createElement(L0,{type:"submit",onClick:p=>{E9e(n,a,s).then(E=>{e(E),t()}).catch(console.log),p.preventDefault(),p.stopPropagation()}},"Done"))))};var wae=({model:n,source:e,addFilter:t,rename:r,closeMenu:i,setDataStyle:s,beginReorderingField:o,isRenamed:a,editMeasure:c,name:d,definition:p,isEditable:E,fieldIndex:w,topValues:N,saveMeasure:R,addOrderBy:U,orderByField:Q,stagePath:P})=>_.createElement(Jl,{closeMenu:i,actions:[{kind:"sub_menu",id:"filter",iconName:"filter",iconColor:"filter",label:"Filter",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(Sy,{model:n,source:e,addFilter:t,onComplete:j,needsRename:!a,topValues:N})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(Ey,{rename:r,onComplete:j})},{kind:"sub_menu",id:"order_by",iconName:"order_by",label:"Order By",iconColor:"other",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(by,{byField:Q,addOrderBy:(I,K)=>U(P,I,K),onComplete:j})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(Dd,{setDataStyle:s,onComplete:j,allowedRenderers:["number","boolean","currency","image","link","percent","text","time"]})},{kind:"sub_menu",id:"edit_definition",label:"Edit Definition",iconName:"edit",iconColor:"other",isEnabled:E,closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(iR,{source:e,addMeasure:I=>c(w,I),onComplete:j,initialCode:p,initialName:d})},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:o},{kind:"one_click",id:"save_definition",label:"Save Measure",iconName:"save",isEnabled:!1,iconColor:"measure",onClick:()=>{R&&R()}}]});m();m();var Cae=({renameField:n,replaceWithDefinition:e,closeMenu:t,setDataStyle:r,beginReorderingField:i})=>_.createElement(Jl,{closeMenu:t,actions:[{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:s})=>_.createElement(Ey,{rename:n,onComplete:s})},{kind:"sub_menu",id:"style",label:"Style",iconColor:"other",iconName:"style",closeOnComplete:!0,Component:({onComplete:s})=>_.createElement(Dd,{setDataStyle:r,onComplete:s,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"one_click",id:"expand_definition",label:"Duplicate",iconName:"duplicate",iconColor:"other",onClick:e},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:i}]});m();m();m();m();var _Ae=xr(Lr());var wy=({existing:n,addLimit:e,onComplete:t})=>{let[r,i]=(0,_Ae.useState)(n?.toString()||"10");return _.createElement(vf,null,_.createElement(yf,null,"Limit"),_.createElement(Pz,null,_.createElement(lu,{value:r,setValue:i,autoFocus:!0,autoSelect:!0}),_.createElement(L0,{onClick:()=>{let s=parseInt(r);Number.isNaN(s)||(e(s),t())},type:"submit"},"Done")))};var Aae=({limit:n,editLimit:e,closeMenu:t})=>_.createElement(Jl,{closeMenu:t,actions:[{id:"edit",label:"Change limit",iconName:"limit",iconColor:"other",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:r})=>_.createElement(wy,{addLimit:e,onComplete:r,existing:n})}]});m();m();m();m();var Tae=xr(Lr());var _b=({source:n,selectField:e,addNewMeasure:t,onComplete:r})=>{let[i,s]=(0,Tae.useState)(!1),[o,a]=(0,Tae.useState)("");return _.createElement(x1,null,!i&&_.createElement(_.Fragment,null,_.createElement(m1,null,_.createElement(Jh,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),_.createElement(Yl,null,_.createElement(Il,null,o===""&&_.createElement(_.Fragment,null,_.createElement(Jo,{icon:_.createElement(sa,{action:"add"}),onClick:()=>s(!0),name:"New Measure",color:"other"}),_.createElement(F1,{fields:n.fields,filter:Ooe,showNested:!0,selectField:e,topValues:void 0})),o!==""&&_.createElement(_.Fragment,null,_.createElement(my,{topValues:void 0,searchTerm:o,items:Kf(n).filter(({field:c})=>Ooe(c)).map(({field:c,path:d})=>({item:I0(c,d),terms:[...M0(c,d),"aggregate"],detail:ph(d),key:j1t(d),select:()=>e(d)}))}))))),i&&_.createElement(iR,{addMeasure:t,source:n,onComplete:r}))};function j1t(n){return"aggregate/"+n}m();m();var Fae=xr(Lr());var bb=({source:n,selectField:e,addNewDimension:t,onComplete:r,topValues:i})=>{let[s,o]=(0,Fae.useState)(!1),[a,c]=(0,Fae.useState)("");return _.createElement(x1,null,!s&&_.createElement(_.Fragment,null,_.createElement(m1,null,_.createElement(Jh,{placeholder:"Search",value:a,setValue:c,autoFocus:!0})),_.createElement(Yl,null,_.createElement(Il,null,a===""&&_.createElement(_.Fragment,null,_.createElement(Jo,{icon:_.createElement(sa,{action:"add"}),onClick:()=>o(!0),name:"New Dimension",color:"other"}),_.createElement(F1,{fields:n.fields,filter:d=>d.type!=="turtle"&&d.type!=="struct"&&!d.aggregate,showNested:!0,selectField:e,topValues:i})),a!==""&&_.createElement(_.Fragment,null,_.createElement(my,{topValues:i,searchTerm:a,items:Kf(n).filter(({field:d})=>RO(d)).map(({field:d,path:p})=>({item:I0(d,p),terms:[...M0(d,p),"group_by"],detail:ph(p),key:q1t(p),select:()=>e(p)}))}))))),s&&_.createElement(ZO,{addDimension:t,source:n,onComplete:r}))};function q1t(n){return"group_by/"+n}m();m();var Oae=xr(Lr());m();m();var bAe=xr(Lr());var Dae=({addNest:n,onComplete:e})=>{let[t,r]=(0,bAe.useState)("");return _.createElement(vf,null,_.createElement(yf,null,"New Nested Query"),_.createElement("form",null,_.createElement(lu,{value:t,setValue:r,placeholder:"query_name",autoFocus:!0}),_.createElement(p1,null,_.createElement(L0,{type:"submit",onClick:()=>{n(t),e()}},"Done"))))};var Eb=({source:n,selectField:e,selectNewNest:t,onComplete:r})=>{let[i,s]=(0,Oae.useState)(!1),[o,a]=(0,Oae.useState)("");return _.createElement(x1,null,!i&&_.createElement(_.Fragment,null,_.createElement(m1,null,_.createElement(Jh,{placeholder:"Search",value:o,setValue:a,autoFocus:!0})),_.createElement(Yl,null,_.createElement(Il,null,o===""&&_.createElement(_.Fragment,null,_.createElement(Jo,{icon:_.createElement(sa,{action:"add"}),onClick:()=>s(!0),name:"New Nested Query",color:"other"}),_.createElement(F1,{fields:n.fields,filter:c=>c.type==="turtle",showNested:!0,selectField:e,topValues:void 0})),o!==""&&_.createElement(_.Fragment,null,_.createElement(my,{topValues:void 0,searchTerm:o,items:Kf(n).filter(({field:c})=>nH(c)).map(({field:c,path:d})=>({item:I0(c,d),terms:[...M0(c,d),"nest"],detail:ph(d),key:U1t(d),select:()=>e(d)}))}))))),i&&_.createElement(Dae,{addNest:t,onComplete:r}))};function U1t(n){return"nest/"+n}m();m();var EAe=xr(Lr());var Sb=({addOrderBy:n,orderByFields:e,onComplete:t})=>{let[r,i]=(0,EAe.useState)();return e.length===0?_.createElement(vf,null,_.createElement(yf,null,"Order By"),_.createElement(Gf,null,"You must add some fields first.")):_.createElement("div",null,r===void 0&&_.createElement(x1,null,_.createElement(Il,null,_.createElement(z1t,null,e.map(s=>_.createElement(Jo,{icon:_.createElement(Rm,{type:s.type,kind:"dimension"}),key:s.name,onClick:()=>i(s),name:s.name,color:"dimension"}))))),r!==void 0&&_.createElement(by,{addOrderBy:n,onComplete:t,byField:r}))},z1t=Hn.div`
  overflow: hidden;
  display: flex;
  gap: 2px;
  flex-direction: column;
`;var Rae=({model:n,source:e,toggleField:t,addFilter:r,addLimit:i,addOrderBy:s,addNewNestedQuery:o,stagePath:a,orderByFields:c,addNewDimension:d,addNewMeasure:p,closeMenu:E,setDataStyle:w,beginReorderingField:N,addStage:R,topValues:U,saveQuery:Q,rename:P})=>_.createElement(Jl,{topValues:U,model:n,valueSearchSource:e,addFilter:j=>r(a,j),closeMenu:E,actions:[{kind:"sub_menu",id:"group_by",label:"Group By",iconColor:"dimension",iconName:"group_by",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(bb,{source:e,selectField:I=>t(a,I),addNewDimension:I=>d(a,I),onComplete:j,topValues:U})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(_b,{source:e,selectField:I=>t(a,I),addNewMeasure:I=>p(a,I),onComplete:j})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(Eb,{source:e,selectField:I=>t(a,I),selectNewNest:I=>o(a,I),onComplete:j})},{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(Sy,{model:n,source:e,addFilter:(I,K)=>r(a,I,K),onComplete:j,needsRename:!1,topValues:U})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(wy,{addLimit:I=>i(a,I),onComplete:j})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(Sb,{addOrderBy:(I,K)=>s(a,I,K),orderByFields:c,onComplete:j})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(Dd,{setDataStyle:w,onComplete:j,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"sub_menu",id:"rename",iconName:"rename",iconColor:"other",label:"Rename",closeOnComplete:!0,Component:({onComplete:j})=>_.createElement(Ey,{rename:P,onComplete:j})},{kind:"one_click",id:"add_stage",label:"Add stage",iconName:"stage",iconColor:"other",onClick:R},{kind:"one_click",id:"move",iconName:"move",iconColor:"other",label:"Move",onClick:N},{kind:"one_click",id:"save_definition",label:"Save Query",iconName:"save",isEnabled:!1,iconColor:"query",onClick:Q}],searchItems:Kf(e).map(({field:j,path:I})=>({item:I0(j,I),terms:M0(j,I),detail:ph(I),key:I,select:()=>t(a,I)}))});m();m();m();m();var SAe=xr(Lr());var Nae=({existing:n,editFilter:e,source:t,onComplete:r})=>{let[i,s]=(0,SAe.useState)(n);return _.createElement(vf,null,_.createElement(yf,null,"Edit Filter"),_.createElement("form",null,_.createElement(lu,{value:i,setValue:s,placeholder:"filter_expression",autoFocus:!0}),_.createElement(p1,null,_.createElement(L0,{type:"submit",onClick:()=>{Cx(t,i).then(o=>{e(o),r()})}},"Done"))))};var Lae=({filterSource:n,editFilter:e,closeMenu:t,source:r})=>_.createElement(Jl,{closeMenu:t,actions:[{id:"edit",label:"Change filter",iconName:"filter",iconColor:"filter",kind:"sub_menu",closeOnComplete:!0,Component:({onComplete:i})=>_.createElement(Nae,{editFilter:e,onComplete:i,existing:n,source:r})}]});m();m();var kae=({closeMenu:n,editOrderBy:e,orderByField:t,existingDirection:r})=>_.createElement(Jl,{closeMenu:n,actions:[{kind:"sub_menu",id:"edit",iconName:"order_by",iconColor:"other",label:"Edit Order By",closeOnComplete:!0,Component:({onComplete:i})=>_.createElement(by,{addOrderBy:(s,o)=>e(o),onComplete:i,byField:t,initialDirection:r})}]});m();m();var Iae=({onComplete:n,setDataStyle:e,allowedRenderers:t})=>_.createElement(Dd,{onComplete:n,setDataStyle:e,allowedRenderers:t});m();m();var NH=({source:n,toggleField:e,addFilter:t,addLimit:r,addOrderBy:i,addNewNestedQuery:s,stagePath:o,orderByFields:a,addNewDimension:c,addNewMeasure:d,closeMenu:p,setDataStyle:E,isLastStage:w,topValues:N})=>_.createElement(Jl,{topValues:N,closeMenu:p,actions:[{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:R})=>_.createElement(bb,{source:n,selectField:U=>e(o,U),addNewDimension:U=>c(o,U),onComplete:R,topValues:N})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconName:"aggregate",iconColor:"measure",closeOnComplete:!0,Component:({onComplete:R})=>_.createElement(_b,{source:n,selectField:U=>e(o,U),addNewMeasure:U=>d(o,U),onComplete:R})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,Component:({onComplete:R})=>_.createElement(Eb,{source:n,selectField:U=>e(o,U),selectNewNest:U=>s(o,U),onComplete:R})},{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:R})=>_.createElement(Sy,{source:n,addFilter:(U,Q)=>t(o,U,Q),onComplete:R,needsRename:!1,topValues:N})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:R})=>_.createElement(wy,{addLimit:U=>r(o,U),onComplete:R})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:R})=>_.createElement(Sb,{addOrderBy:(U,Q)=>i(o,U,Q),orderByFields:a,onComplete:R})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,isEnabled:w,Component:({onComplete:R})=>_.createElement(Dd,{setDataStyle:E,onComplete:R,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})}],searchItems:Kf(n).map(({field:R,path:U})=>({item:I0(R,U),terms:M0(R,U),detail:ph(U),key:U,select:()=>e(o,U)}))});m();m();var Mae=({remove:n,closeMenu:e})=>_.createElement(Jl,{closeMenu:e,actions:[{kind:"one_click",id:"remove",iconName:"remove",iconColor:"other",label:"Remove",onClick:n}]});var Pae=({model:n,querySummary:e,stagePath:t,queryName:r,topValues:i,queryModifiers:s})=>e.stages[0].items.length===0&&e.stages.length===1&&(!t||!t.parts||t.parts.length===0)?_.createElement(Gf,null,_.createElement("div",null,"Add fields to the query"),_.createElement("div",null,"with the \u201C+\u201D button")):_.createElement(Bae,null,e.stages.map((o,a)=>{let c=oH(t,{stageIndex:a,fieldIndex:0});return _.createElement("div",{key:"stage/"+a},e.stages.length>1&&_.createElement(jae,{popoverContent:({closeMenu:d})=>_.createElement(NH,{source:o.inputSource,toggleField:s.toggleField,addFilter:s.addFilter,addLimit:s.addLimit,addOrderBy:s.addOrderBy,addNewNestedQuery:s.addNewNestedQuery,stagePath:c,remove:()=>s.removeStage(c),orderByFields:o.orderByFields,addNewDimension:s.addNewDimension,addNewMeasure:s.addNewMeasure,closeMenu:d,isLastStage:a===e.stages.length-1,setDataStyle:p=>s.setDataStyle(r,p),stageSummary:o.items,updateFieldOrder:s.updateFieldOrder,topValues:i}),content:({isOpen:d})=>_.createElement(AAe,{active:d},"Stage ",a+1,_.createElement(yH,{className:"back"},_.createElement(vH,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>s.removeStage(c)})))}),_.createElement(wAe,{model:n,stage:o,queryModifiers:s,stagePath:c,key:"stage/"+a,source:o.inputSource,topValues:i}))})),wAe=({model:n,stage:e,topValues:t,queryModifiers:r,source:i,stagePath:s})=>{let[o,a]=(0,Rx.useState)(),c=p=>{a(p)},d=e.items.map(p=>"fieldIndex"in p?p.fieldIndex:void 0).filter(tH);return(0,Rx.useEffect)(()=>{let p=E=>{let w=d.findIndex(U=>U===o),N=E.key==="ArrowUp"?-1:E.key==="ArrowDown"?1:0,R=w+N;if(w>-1&&N!==0&&R>=0&&R<d.length){let U=[...d],Q=U[w];U[w]=U[R],U[R]=Q,r.updateFieldOrder(s,U),a(R)}};return window.addEventListener("keyup",p),()=>window.removeEventListener("keyup",p)}),_.createElement(Bae,null,e.items.map((p,E)=>_.createElement(CAe,{model:n,key:`${p.type}/${E}`,item:p,stageSummary:e.items,beginReorderingField:c,isSelected:"fieldIndex"in p&&p.fieldIndex===o,deselect:()=>a(void 0),topValues:t,queryModifiers:r,source:i,stagePath:s})))},Bae=Hn.div`
  display: flex;
  gap: 2px;
  flex-direction: column;
`,jae=({popoverContent:n,content:e})=>{let[t,r]=(0,Rx.useState)(!1),i=(0,Rx.useRef)(!1),s=(0,Rx.useRef)(null),o=()=>{i.current=!0,r(!1)};return(0,Rx.useEffect)(()=>{i.current=!1},[t]),_.createElement(_.Fragment,null,_.createElement(H1t,{onClick:()=>!i.current&&r(!0)},_.createElement("div",{ref:s,key:t?"open":"closed"},e({isOpen:t,closeMenu:o})),_.createElement(Om,{open:t,setOpen:r,referenceDiv:s},n({setOpen:r,closeMenu:o}))))},H1t=Hn.div`
  position: relative;
`,CAe=({model:n,item:e,source:t,stagePath:r,fieldIndex:i,stageSummary:s,isSelected:o,beginReorderingField:a,deselect:c,topValues:d,queryModifiers:p})=>{let E=(0,Rx.useRef)(null),w=[];return"styles"in e&&e.styles&&w.push(...e.styles.map(N=>({childItem:N}))),"filters"in e&&e.filters&&w.push(...e.filters.map(N=>({childItem:N,fieldIndex:e.fieldIndex}))),E1(E,()=>o&&c()),_.createElement("div",{ref:E},_.createElement(jae,{popoverContent:({closeMenu:N})=>{if(e.type==="field"||e.type==="field_definition"){if(e.kind==="dimension")return _.createElement(bae,{model:n,source:t,removeField:()=>p.removeField(r,e.fieldIndex),rename:R=>{p.renameField(r,e.fieldIndex,R)},closeMenu:N,setDataStyle:R=>p.setDataStyle(e.name,R),stagePath:r,stageSummary:s,updateFieldOrder:p.updateFieldOrder,fieldIndex:e.fieldIndex,beginReorderingField:()=>{a(e.fieldIndex),N()},filterField:e.type==="field"?e.field:void 0,filterFieldPath:e.type==="field"?e.path:void 0,name:e.name,isEditable:e.type==="field_definition",canSave:!b1()&&e.saveDefinition!==void 0,definition:e.type==="field_definition"?e.source:void 0,addFilter:p.addFilter,saveDimension:()=>{},editDimension:(R,U)=>p.editDimension(r,R,U),addOrderBy:p.addOrderBy,orderByField:{name:e.name,fieldIndex:e.fieldIndex,type:Doe(e.field)}});if(e.kind==="measure"){let R=e.type==="field_definition"||e.kind==="measure"&&e.isRenamed;return _.createElement(wae,{model:n,stagePath:r,source:t,removeField:()=>p.removeField(r,e.fieldIndex),addFilter:(U,Q)=>p.addFilterToField(r,e.fieldIndex,U,Q),rename:U=>{p.renameField(r,e.fieldIndex,U)},closeMenu:N,setDataStyle:U=>p.setDataStyle(e.name,U),isRenamed:R,beginReorderingField:()=>{a(e.fieldIndex),N()},fieldIndex:e.fieldIndex,name:e.name,isEditable:e.type==="field_definition",definition:e.type==="field_definition"?e.source:void 0,canSave:!b1()&&e.saveDefinition!==void 0,editMeasure:(U,Q)=>p.editMeasure(r,U,Q),saveMeasure:()=>{},topValues:d,addOrderBy:p.addOrderBy,orderByField:{name:e.name,fieldIndex:e.fieldIndex,type:Doe(e.field)}})}else return _.createElement(Cae,{source:t,removeField:()=>p.removeField(r,e.fieldIndex),addFilter:R=>p.addFilterToField(r,e.fieldIndex,R),renameField:R=>{p.renameField(r,e.fieldIndex,R)},addLimit:()=>{},replaceWithDefinition:()=>p.replaceWithDefinition(r,e.fieldIndex),closeMenu:N,setDataStyle:R=>p.setDataStyle(e.name,R),beginReorderingField:()=>{a(e.fieldIndex),N()}})}else{if(e.type==="filter")return _.createElement(Lae,{source:t,filterSource:e.filterSource,removeFilter:()=>p.removeFilter(r,e.filterIndex),editFilter:R=>p.editFilter(r,i,e.filterIndex,R),closeMenu:N});if(e.type==="limit")return _.createElement(Aae,{removeLimit:()=>p.removeLimit(r),editLimit:R=>p.editLimit(r,R),closeMenu:N,limit:e.limit});if(e.type==="order_by")return _.createElement(kae,{removeOrderBy:()=>p.removeOrderBy(r,e.orderByIndex),closeMenu:N,orderByField:e.byField,orderByIndex:e.orderByIndex,existingDirection:e.direction,editOrderBy:R=>p.editOrderBy(r,e.orderByIndex,R)});if(e.type==="data_style")return _.createElement(Iae,{onComplete:N,setDataStyle:R=>p.setDataStyle(e.styleKey,R),allowedRenderers:e.allowedRenderers});if(e.type==="nested_query_definition"){let R=oH(r,{fieldIndex:e.fieldIndex,stageIndex:0});return _.createElement(Rae,{model:n,source:t,toggleField:p.toggleField,addFilter:p.addFilter,addLimit:p.addLimit,addOrderBy:p.addOrderBy,addNewNestedQuery:p.addNewNestedQuery,stagePath:R,remove:()=>p.removeField(r,e.fieldIndex),orderByFields:e.stages[0].orderByFields,addNewDimension:p.addNewDimension,addNewMeasure:p.addNewMeasure,closeMenu:N,setDataStyle:U=>p.setDataStyle(e.name,U),addStage:()=>p.addStage(r,e.fieldIndex),stageSummary:e.stages[0].items,updateFieldOrder:p.updateFieldOrder,topValues:d,rename:U=>{p.renameField(r,e.fieldIndex,U)},canSave:!b1()&&e.saveDefinition!==void 0,saveQuery:()=>{},beginReorderingField:()=>{a(e.fieldIndex),N()}})}else return e.type==="error_field"?_.createElement(Mae,{remove:()=>p.removeField(r,e.fieldIndex),closeMenu:N}):_.createElement("div",null)}},content:({isOpen:N,closeMenu:R})=>{if(e.type==="field"||e.type==="field_definition"){let U=e.type==="field"&&!e.isRefined,Q;return e.kind==="dimension"?Q=_.createElement(Jo,{icon:_.createElement(sa,{action:"group_by"}),name:e.name,unsaved:!U,canRemove:!0,onRemove:()=>{p.removeField(r,e.fieldIndex),R()},color:"dimension",active:N||o}):e.kind==="measure"?Q=_.createElement(Jo,{icon:_.createElement(sa,{action:"aggregate"}),name:e.name,canRemove:!0,unsaved:!U,onRemove:()=>{p.removeField(r,e.fieldIndex),R()},color:"measure",active:N||o}):Q=_.createElement(Jo,{icon:_.createElement(sa,{action:"nest"}),name:e.name,canRemove:!0,onRemove:()=>{p.removeField(r,e.fieldIndex),R()},color:"query",active:N||o}),_.createElement(i4,{width:300,enabled:!N,content:()=>Q,zIndex:9,popoverContent:()=>_.createElement(r4,{fieldPath:e.type==="field"?e.path:void 0,definition:e.type!=="field"?e.source:void 0,topValues:void 0})})}else return e.type==="filter"?_.createElement(i4,{width:300,enabled:!N,zIndex:9,content:()=>_.createElement(Jo,{icon:_.createElement(sa,{action:"filter"}),name:e.filterSource,canRemove:!0,onRemove:()=>{p.removeFilter(r,e.filterIndex,i),R()},color:"filter",active:N||o}),popoverContent:()=>_.createElement(r4,{filterExpression:e.filterSource,topValues:void 0})}):e.type==="limit"?_.createElement(Jo,{icon:_.createElement(sa,{action:"limit"}),name:`limit: ${e.limit}`,canRemove:!0,onRemove:()=>{p.removeLimit(r),R()},color:"other",active:N||o}):e.type==="order_by"?_.createElement(Jo,{icon:_.createElement(sa,{action:"order_by"}),name:`${e.byField.name} ${e.direction||""}`,canRemove:!0,onRemove:()=>{p.removeOrderBy(r,e.orderByIndex),R()},color:"other",active:N||o}):e.type==="data_style"?_.createElement(Jo,{icon:_.createElement(RH,{renderer:e.renderer}),name:e.renderer,color:"other",canRemove:e.canRemove,onRemove:()=>{p.setDataStyle(e.styleKey,void 0),R()},active:N||o}):e.type==="nested_query_definition"?_.createElement(Jo,{icon:_.createElement(sa,{action:"nest"}),name:e.name,unsaved:!0,canRemove:!0,onRemove:()=>{p.removeField(r,e.fieldIndex),R()},color:"query",active:N||o}):e.type==="error_field"?_.createElement(Jo,{icon:_.createElement(sa,{action:"error"}),name:e.name,unsaved:!1,canRemove:!0,onRemove:()=>{p.removeField(r,e.fieldIndex),R()},color:"error",active:N||o}):_.createElement("div",null)}}),e.type==="nested_query_definition"&&(e.stages[0].items.length>0||e.stages.length>1)&&e.stages.map((N,R)=>{let U=oH(r,{fieldIndex:e.fieldIndex,stageIndex:R});return _.createElement(a4,{key:"stage/"+R},e.stages.length>1&&_.createElement(jae,{popoverContent:({closeMenu:Q})=>_.createElement(NH,{source:N.inputSource,toggleField:p.toggleField,addFilter:p.addFilter,addLimit:p.addLimit,addOrderBy:p.addOrderBy,addNewNestedQuery:p.addNewNestedQuery,stagePath:U,remove:()=>p.removeStage(U),orderByFields:N.orderByFields,addNewDimension:p.addNewDimension,addNewMeasure:p.addNewMeasure,closeMenu:Q,setDataStyle:P=>p.setDataStyle(e.name,P),isLastStage:R===e.stages.length-1,stageSummary:N.items,updateFieldOrder:p.updateFieldOrder,topValues:d}),content:({isOpen:Q})=>_.createElement(AAe,{active:Q},"Stage ",R+1,_.createElement(yH,{className:"back"},_.createElement(vH,{color:"other",width:"20px",height:"20px",className:"close",onClick:()=>p.removeStage(U)})))}),_.createElement(wAe,{model:n,stage:N,stagePath:U,source:t,topValues:d,queryModifiers:p}))}),w.length>0&&_.createElement(a4,null,_.createElement(Bae,null,w.map(({childItem:N,fieldIndex:R},U)=>_.createElement(CAe,{model:n,key:"child:"+U,item:N,source:t,stagePath:r,fieldIndex:R,stageSummary:s,isSelected:!1,beginReorderingField:()=>{},deselect:()=>{},topValues:d,queryModifiers:p})))))},AAe=Hn.div`
  text-transform: uppercase;
  font-size: 12px;
  border: none;
  overflow: hidden;
  background-color: transparent;
  border-radius: 50px;
  padding: 5px 7px 5px 10px;
  text-align: left;
  margin-bottom: 2px;
  user-select: none;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  font-family: "Google Sans";
  color: #9aa0a6;

  &:hover {
    .back {
      visibility: visible;
    }
  }

  .back {
    visibility: hidden;
  }

  &:hover {
    background-color: #f7f8f8;
  }

  ${({active:n})=>n?`
      background-color: #f7f8f8;
      .back {
        visibility: visible;
      }
    `:""}
`;m();m();var D1=xr(Lr()),jFe=xr(MFe());m();m();var BFe=xr(Lr());m();var c4=xr(Lr()),PFe=n=>c4.createElement("svg",{width:"110px",height:"110px",viewBox:"0 0 110 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},c4.createElement("title",null,"download_hover"),c4.createElement("g",{id:"download_hover",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c4.createElement("circle",{id:"Oval",fill:"#EAF2FF",className:"hoverfill",cx:55,cy:55,r:55}),c4.createElement("g",{id:"download_black_24dp",transform:"translate(8.000000, 9.133308)"},c4.createElement("rect",{id:"Rectangle",x:0,y:0,width:94,height:94}),c4.createElement("path",{d:"M19.5833333,78.3333333 L74.4166667,78.3333333 L74.4166667,70.5 L19.5833333,70.5 L19.5833333,78.3333333 Z M74.4166667,35.25 L58.75,35.25 L58.75,11.75 L35.25,11.75 L35.25,35.25 L19.5833333,35.25 L47,62.6666667 L74.4166667,35.25 Z",id:"Shape",fill:"#4285F4",className:"primaryfill",fillRule:"nonzero"}))));var oue=({onDownloadHTML:n,onDownloadJSON:e,disabled:t=!1})=>{let[r,i]=(0,BFe.useState)(!1),s=o=>()=>{t||(o(),i(!1))};return _.createElement(Y2t,null,_.createElement(G2t,{disabled:t,onClick:()=>!t&&i(!0),width:"26px",height:"26px"}),_.createElement(Om,{open:r,setOpen:i,placement:"bottom-start",width:200,maxHeight:500,yOffset:25},_.createElement(j9e,{options:[{label:"Download HTML",onSelect:s(n)},{label:"Download JSON",onSelect:s(e)}]})))},G2t=Hn(PFe)`
  cursor: pointer;

  .hoverfill {
    fill: transparent;
  }

  ${({disabled:n})=>`
    .primaryfill {
      fill: ${n?yi.other.fillMedium:yi.other.fillStrong};
    }

    &:hover {
      .hoverfill {
        fill: ${n?"transparent":yi.dimension.fillLight};
      }

      .primaryfill {
        fill: ${n?yi.other.fillMedium:yi.dimension.fillStrong};
      }
    }
  `}
`,Y2t=Hn.div`
  display: flex;
  align-items: center;
  user-select: none;
`;m();m();var $$=xr(Lr()),Tb=({element:n})=>{let e=(0,$$.useRef)(null);return(0,$$.useEffect)(()=>{let t=e.current;t&&(t.innerHTML="",t.appendChild(n))},[n]),_.createElement("div",{ref:e})};var aue=({source:n,result:e,dataStyles:t,malloy:r,onDrill:i,isRunning:s})=>{let[o,a]=(0,D1.useState)(),[c,d]=(0,D1.useState)(),[p,E]=(0,D1.useState)(),[w,N]=(0,D1.useState)("html"),[R,U]=(0,D1.useState)(!1),[Q,P]=(0,D1.useState)(!1),j=(0,D1.useRef)(0),I=sH(e),K=sH(t);return(0,D1.useEffect)(()=>{DO(r,"malloy").then(d).catch(console.log)},[r]),(0,D1.useEffect)(()=>{e===I&&JSON.stringify(t)===JSON.stringify(K)||(U(!1),P(!1),a(void 0),e!==void 0&&setTimeout(async()=>{U(!0),DO(e.sql,"sql").then(E),console.log(e.sql);let de=++j.current,M=await new jFe.HTMLView(document).render(e.data,{dataStyles:{...t},isDrillingEnabled:!0,onDrill:(Z,me,_e)=>{Promise.all(_e.map(Ve=>Cx(n,Ve).catch(at=>{console.log(at)}))).then(Ve=>{let at=Ve.filter(tH);at.length>0&&i(at)})}});setTimeout(()=>{j.current===de&&(U(!1),P(!0),setTimeout(()=>{j.current===de&&a(M)},0))},0)}))},[e,t,K,I]),_.createElement(J2t,null,_.createElement(Z2t,null,_.createElement(UFe,null,_.createElement(uue,{onClick:()=>N("malloy"),selected:w==="malloy"},"Malloy"),_.createElement(uue,{onClick:()=>N("sql"),selected:w==="sql"},"SQL"),_.createElement(uue,{onClick:()=>N("html"),selected:w==="html"},"Results")),_.createElement(UFe,null,_.createElement(oue,{disabled:!e||o===void 0||R,onDownloadHTML:()=>Roe(o?.outerHTML||"","text/html","result.html"),onDownloadJSON:()=>Roe(JSON.stringify(e?.data.toObject()||{},null,2),"application/json","result.json")}))),_.createElement(X2t,null,s&&w!=="malloy"&&_.createElement(Nm,{text:"Running"}),w==="html"&&_.createElement(_.Fragment,null,e!==void 0&&R&&_.createElement(Nm,{text:"Rendering"}),!o&&Q&&_.createElement(Nm,{text:"Displaying"}),o&&Q&&_.createElement(K2t,null,_.createElement(Tb,{element:o}))),e!==void 0&&w==="sql"&&_.createElement(qFe,null,p&&_.createElement(Tb,{element:p})),w==="malloy"&&_.createElement(qFe,null,c&&_.createElement(Tb,{element:c}))))},K2t=Hn.div`
  font-size: 14px;
  font-family: "Roboto Mono";
`,J2t=Hn.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  overflow: hidden;
`,X2t=Hn(Y6)`
  padding: 20px;
  overflow: auto;
  width: auto;
`,Z2t=Hn(jz)`
  gap: 10px;
  justify-content: space-between;
  padding: 0px 20px;
  flex-direction: row;
  width: auto;
`,uue=Hn.div`
  padding: 8px;
  cursor: pointer;
  text-transform: uppercase;
  color: #939393;
  font-family: "Google Sans";
  border-top: 1px solid transparent;
  font-size: 11pt;
  ${({selected:n})=>`border-bottom: 1px solid ${n?"#4285F4":"transparent"}`}
`,qFe=Hn.div`
  padding: 0 15px;
  font-family: "Roboto Mono";
  font-size: 14px;
`,UFe=Hn.div`
  display: flex;
  align-items: center;
  font-size: 11pt;
  color: #4d4d4d;
`,tzt=Hn.div`
  font-weight: bold;
`;m();m();m();m();var zFe=xr(Lr());var lue=({source:n,selectField:e,onComplete:t})=>{let[r,i]=(0,zFe.useState)("");return _.createElement(x1,null,_.createElement(m1,null,_.createElement(Jh,{placeholder:"Search",value:r,setValue:i,autoFocus:!0})),_.createElement(Yl,null,_.createElement(Il,null,r===""&&_.createElement(F1,{fields:n.fields,filter:s=>s.type==="turtle",showNested:!0,selectField:s=>{e(s),t()},topValues:void 0}),r!==""&&_.createElement(_.Fragment,null,_.createElement(my,{topValues:void 0,searchTerm:r,items:Kf(n).filter(({field:s})=>nH(s)).map(({field:s,path:o})=>({item:I0(s,o),terms:[...M0(s,o),"query"],detail:ph(o),key:ext(o),select:()=>e(o)}))})))))};function ext(n){return"load/"+n}var cue=({source:n,stagePath:e,orderByFields:t,closeMenu:r,queryName:i,topValues:s,queryModifiers:o,model:a})=>_.createElement(Jl,{topValues:s,valueSearchSource:n,addFilter:c=>o.addFilter(e,c),closeMenu:r,model:a,actions:[{kind:"sub_menu",id:"group_by",label:"Group By",iconName:"group_by",iconColor:"dimension",closeOnComplete:!0,Component:({onComplete:c})=>_.createElement(bb,{topValues:s,source:n,addNewDimension:d=>o.addNewDimension(e,d),selectField:d=>o.toggleField(e,d),onComplete:c})},{kind:"sub_menu",id:"aggregate",label:"Aggregate",iconColor:"measure",iconName:"aggregate",closeOnComplete:!0,Component:({onComplete:c})=>_.createElement(_b,{source:n,selectField:d=>o.toggleField(e,d),addNewMeasure:d=>o.addNewMeasure(e,d),onComplete:c})},{kind:"sub_menu",id:"nest",label:"Nest",iconName:"nest",iconColor:"query",closeOnComplete:!0,Component:({onComplete:c})=>_.createElement(Eb,{source:n,selectField:d=>o.toggleField(e,d),selectNewNest:d=>o.addNewNestedQuery(e,d),onComplete:c})},{kind:"sub_menu",id:"filter",label:"Filter",iconName:"filter",iconColor:"filter",closeOnComplete:!0,Component:({onComplete:c})=>_.createElement(Sy,{model:a,topValues:s,source:n,addFilter:(d,p)=>o.addFilter(e,d,p),onComplete:c,needsRename:!1})},{kind:"sub_menu",id:"limit",label:"Limit",iconName:"limit",iconColor:"other",closeOnComplete:!0,Component:({onComplete:c})=>_.createElement(wy,{addLimit:d=>o.addLimit(e,d),onComplete:c})},{kind:"sub_menu",id:"order_by",label:"Order By",iconName:"order_by",iconColor:"other",closeOnComplete:!0,Component:({onComplete:c})=>_.createElement(Sb,{addOrderBy:(d,p)=>o.addOrderBy(e,d,p),orderByFields:t,onComplete:c})},{kind:"sub_menu",id:"style",label:"Style",iconName:"style",iconColor:"other",closeOnComplete:!0,Component:({onComplete:c})=>_.createElement(Dd,{setDataStyle:d=>o.setDataStyle(i,d),onComplete:c,allowedRenderers:["table","bar_chart","dashboard","json","line_chart","list","list_detail","point_map","scatter_chart","segment_map","shape_map","spark_line"]})},{kind:"one_click",id:"add_stage",label:"Add Stage",iconName:"stage",iconColor:"other",onClick:()=>o.addStage(void 0)},{kind:"sub_menu",id:"load_query",label:"Load Query",iconName:"load",iconColor:"query",closeOnComplete:!0,Component:({onComplete:c})=>_.createElement(lue,{source:n,selectField:o.loadQuery,onComplete:c})}],searchItems:Kf(n).map(({field:c,path:d})=>({item:I0(c,d),terms:M0(c,d),detail:ph(d),key:d,select:()=>o.toggleField(e,d)}))});m();var f4=xr(Lr()),V$=n=>f4.createElement("svg",{width:"357px",height:"110px",viewBox:"0 0 357 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img",...n},f4.createElement("title",null,"query_run_wide"),f4.createElement("g",{id:"query_run_wide",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},f4.createElement("path",{d:"M55.5,5.0735362 L287.5,5.0735362 C297.517605,5.0735362 306.301251,7.17877912 313.56051,11.0988368 C320.819769,15.0188946 326.554642,20.7537671 330.474699,28.0130264 C334.394757,35.2722856 336.5,44.0559316 336.5,54.0735362 C336.5,64.0911408 334.394757,72.8747868 330.474699,80.134046 C326.554642,87.3933053 320.819769,93.1281778 313.56051,97.0482355 C306.301251,100.968293 297.517605,103.073536 287.5,103.073536 L55.5,103.073536 C45.4823954,103.073536 36.6987494,100.968293 29.4394902,97.0482355 C22.1802309,93.1281778 16.4453584,87.3933053 12.5253006,80.134046 C8.60524292,72.8747868 6.5,64.0911408 6.5,54.0735362 C6.5,44.0559316 8.60524292,35.2722856 12.5253006,28.0130264 C16.4453584,20.7537671 22.1802309,15.0188946 29.4394902,11.0988368 C36.6987494,7.17877912 45.4823954,5.0735362 55.5,5.0735362 Z",id:"Rectangle",className:"backgroundfill",fill:"#4285F4"}),f4.createElement("text",{id:"RUN-Copy",fontFamily:"GoogleSans-Medium, Google Sans",fontSize:59,fontWeight:400,fill:"#FFFFFF",className:"foregroundfill"},f4.createElement("tspan",{x:152.764,y:74.5},"RUN")),f4.createElement("path",{d:"M110,33.0734278 L135.127584,77.25 L84.8724165,77.25 L110,33.0734278 Z",id:"Triangle-Copy-2",className:"foregroundstroke",stroke:"#FFFFFF",strokeWidth:6.5,transform:"translate(110.000000, 53.500000) rotate(-270.000000) translate(-110.000000, -53.500000) "})));var fue=({dirty:n,model:e,source:t,queryName:r,topValues:i,runQuery:s,querySummary:o,result:a,dataStyles:c,isRunning:d,queryMalloy:p,queryModifiers:E,queryTitle:w})=>{let[N,R]=(0,HFe.useState)(!1);return _.createElement(txt,null,_.createElement(nxt,null,_.createElement(sxt,null,t&&_.createElement(_.Fragment,null,_.createElement("div",null,_.createElement(sa,{action:"add",onClick:()=>R(!0),color:"dimension"}),_.createElement(Om,{open:N,setOpen:R},_.createElement(cue,{model:e,source:t,queryModifiers:E,stagePath:{stageIndex:0},orderByFields:o?.stages[0].orderByFields||[],closeMenu:()=>R(!1),queryName:r,stageSummary:o?.stages[0].items||[],isOnlyStage:o?.stages.length===1,topValues:i}))),_.createElement(sa,{action:"remove",onClick:()=>E.clearQuery(),color:"dimension"}),_.createElement(oxt,{width:"80px",onClick:()=>s(),className:d?"running":p===""?"blank":n?"dirty":"clean"}))),_.createElement(rxt,null,_.createElement(ixt,null,o&&_.createElement(Pae,{model:e,source:t,querySummary:o,queryModifiers:E,stagePath:void 0,queryName:r,topValues:i})))),_.createElement(aue,{source:t,result:a,dataStyles:c,malloy:p,onDrill:E.onDrill,isRunning:d}))},txt=Hn.div`
  overflow: hidden;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  gap: 10px;
`,nxt=Hn.div`
  width: 300px;
  min-width: 300px;
  height: 100%;
  display: flex;
  flex-direction: column;
`,rxt=Hn(Y6)`
  display: flex;
  overflow-y: auto;
  flex-direction: column;
`,ixt=Hn.div`
  padding: 10px;
`,sxt=Hn(jz)`
  gap: 20px;
  justify-content: center;
  align-items: center;
`,oxt=Hn(V$)`
  cursor: pointer;
  &.running,
  &.clean,
  &.blank {
    .backgroundfill {
      fill: #e9e9e9;
    }
    .foregroundstroke {
      stroke: #a7a7a7;
    }
    .foregroundfill {
      fill: #a7a7a7;
    }
  }
`;m();m();var $Fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABAKADAAQAAAABAAABAAAAAABn6hpJAAA4h0lEQVR4Ae1dCXgV1fW/d+btLwshCSCKWtyquNZCCJsgi7JWlKBtXWvF2qqtCARUakCQ1bW1deliq22VKFbWivpnk926tm6tVkBlSQKB5C3JezP3f27gheTlzZt97iTc+b58eXPvueec+5uZc7ff3EGIHxwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEehYCOCOVR331ObiioqQL3zCJBnvHZaUD/QCoAsITgqEJJFI8pICLtgjkJz3vYmTX+154vdeffYmHHeP9/Z7Ujs9vyAmhm9prPFcmoh4zyYY5RMJC7KMkSeUaPTkJncjv/xuoEfd0q59617D30UJ+706/izwAGDxNS95+IkRMvliYQP55DyC4oIW9V6pZ8KLe270S92nbJhxw7tayrRXmT3Tu5VFv86ZHdkZOgseePX7DxAM9ojE/V2ia3BhZPLJMw993l7r7ka/1S+AG712oU8Xzfn1KULg0zca8SenIQLNmIEDIz8JygPe9x28cMTGeaOqDKhwbZHdd3U9L7Ynb3Vsd+hEo06KQYnkXXBwvSf369HdK1DUqB5e7hgChm7UY8X5L4pA6dxfzYx51/9SEg56rEBEREUJP/nO/dumls+zQh9rHf+b1v2xyHudb5cioqYekZq/vsLGeLhn/W0nP7r7WTVZnp8dAR4AsuOjmlsyd+Gfov43rkNIshZLDDME+LKXt0yeUqbqhHsF8Bd3nLS67p3Cy6x2UfDKpLD3gUe7L/p6stW6jyd91t60xxNyUNe+8xe/GPG8NhEh2baaB4U+q7ZPnjfaNgM2Kv7izh7r6/7ZeZBdJmAGgeT3OvTMKU99eatdNjq6Xku6ZB0dpEz1G7D49/Psfvip3Zi8fVTpw3N+l8kHN6ftnt79r3Y+/LTuhCB86F/5t+ydcuK9bsbCzb7xHoCBq1P62GP9Ism1GwmpcySAYhwkId/ogVvvuG2TAXcdL7J/2okT9u3ovERuFBy5v7y5klTQt/r0Eyr2ful4Zdu5QUdu4HaOUbr7uCHx/iqnHn5qnJAYboj/czn8dOSBSq+wnvP9FcU5Bz7Kf86ph5/6lqgTxchnuWv1+MlljyDAA4DOO6HvozOfT6Cd+TqLmRZP4v8V9Fk88zemFdmsILIrb0XDQW/AZjNt1AOv4NRdt/e4q00GT8iKgOtblKzeO5xZ8njFSbHEjp2EaCP4WO0eRrkNB4R9BV9N3hKzWrcV+vZOOrWk6uO8LcDmY3JfeQuStUtW/Luwws5ZWSuAcpEO3gPQcTFI8nAlq4efuklQnb+YnPGQDpcdFY3Ue59n9fDTiiYOejpdPfIc3gvQcdV5ANAIVr+FCy+Mk49LNIrbJibJ+2/utXBwN9sMGFT89V09vhfZFTrNYHHLiiXjnpm7S08KWqawgyviAUDjBW5Ee14gpJFJ17aliwQnfILX6zqGYHRv8Em6LNfSVxa/5UacXyMW3sPCdnu0yQOAhqtWOvfpyxqEf5+pQdQRESzJ157/2IhzHTGmwciuGd1ui+4KuqZXAjf1Lz4aePYJGlw/7kV4ANBwCyQ9XzxtOdVXg10lEYKQh0jEFXMBtNWPfxV+UMlXFungU45EfHNZ2G5vNnkAULlig+b+/Qdx4d2TVcScz5blERc8ernlHHu9Fdk3v/Ce2Bc5nfSWs1teRvj6D0rPO89uO+1dPw8AWa4gIQQTf/RBhJNZpNhlETm5CKwzG3eTtSiA6313s0Mgi2VCROwRF2eR4FmAAA8AWW6D0Qsj14aTo04RhaIsUuyyYChwXu/nx/2QlQdJAf08v//+AjFg38tQZuqGCRqxZ+jFQ8zo6OhleQBQuMI3/pEEYF+PuZh4UB65WkGKbbI334+w1zN38NobHWfeQetfBC9BzhCCEirs7869S/I8IvJg4SHak2N7pdxrnQcAhWuzf38ECCWkB80ONw6DG6m7giSbZMEnIjHkpS8KnBzff+jnTnshCeh+6IE0UaI799uPPGHJaRey2vPD3iMB+IMJwYtqhpfAfg38yIQADwAZUCl7nBQTGU0/liWgfPkHx05d8MvbKYDwUcYtTHjNGLz8+46NU8hGdCY8WM3v4GO/jIov2e8CVI65kCeKzScEkTmkrJSTg5oROfaDB4BjWDT/ikSiFXCS15wAP4LJgciLv9Uyidlv2vLTHkDzQUh+PNJwf/O5zT+SEloAAQC6H8eO/D5VyNvJHRv35tCuf4s3kcHXHlW1EqcIH7tczb94AGiG4siPcQviZ0HXdlJactNpvuSCniS0+nTsn37AesVPBiy92nayUmIdGggP1BXp9rGHoOIh+9KTHT+nz304w9aDMCFYXjdyYLHjDrncIA8AaRcoIUsLYWCdcXPPgHQx8pGz00o4e+rJ8yGc4QaHh9KTSCQW2OkN2KCTaYpLa3kX1SB/cYOdLqjqzoXWX8jwMiJMBObFEw2zVBUcZwI8ALS44GMXxi6Bh39ci6Q2P/Ol69ukOZWAPQLy5PgUzcFNfkWfygkDFQVMZkjr0TUQBPooqcFwNxUN3auUbXu6F5r/UIuxfxuDBN1SPaL0223Sj+MEHgCOXny6VCTJsmLrlrpH/OQcFCCKz0BKzJb/LSf+FA3Isi3LXuQ/8J0ehFQpv3nn1sKHPKKK7tmZkQ+tf7YDJgOBQp2EHh4/UgjwAHAUibEL4z+AIPDdFDDZ/ucnb4DsjKOEbMVM5QkBDxLhT/UgpHfJkgnXqMrpFEh+je6EDQlO1VKsy+XfaBGzVCYEwyKvoH47w/zO2KphfQdbarwdK1NHrB1XTqvrlPQjE1m1dUvp86KTUEgeljp15D9t/bUeGOoyctUdbWcKtSpIkyPbUCEk3ZOWrHgaOiWCcs85pJhvdQad+KNjf+2HvJj2+LTLd1xJHgDg2lbtjfwcbghdL/zkSz9AmIQduTM8uX4kwPhf6wGt3Kk19d/cqVVeTS4ZQ7+Esb+uF36KL4NeAKwMOHGEYdyfaeJPyTZc64trRvRlRqFW8otFuva7ioV3Dtgcu5gUwZf8Zug1JQIJLkf6nt5i+uWhefPk+vSXI+TeoUuvpy23qQMov6eDgtv0KvEXNqL879boLaZbnq73Z1r2U1NEiDyX3DhYe7dKTWE7zT/uA4CciN4PY1tDu/zmSeORKNtLwPNRxh/t4+o9gBxUn4j8Um+xdPkkbkv6SZdROu9y6V4khCSlbEvSKd8/xYjUoxB6NCfXfBX5hZ4yHVH2uA4Aox6Knwkz2z8xemGx4EO50veNFlct18z3V5XMLABd3dtKXrrqjMy56qmJDag/PChXqktmlvDAw1/Q3z5yEOX6+zVM/GX2DhZ8gUJ9eOxgeyO4knGXpB/XAQAlJCDOZCb9aL0+YTIUeaRvaRXXJadn4i+zYuJFSXl+5jwNqRIyvetQUf9q5Clo1GBMnwjl+tDW38wBATIvHo1UmNHR3ssetwFg9MIYUFpJG0qr3gtKu59HlgX1lswuL4Z9rfn+2cUVc2Ea7sqSJWUDFAUUMpLr0dVQ1vQuyAJMBNpBDsqBiT8xA+NPoTqKyRjhW6uG9jlTUaCDZxyXAQAefCxLsunWLXVvBPCFyJ/8TurU/H8Y82fi+xtWLEuqBKeWusm/kU8maF7LNDO/O11wEHlPtI4cRGf8jUz8ZaoDJQcBwfm4JQcdlwFg9KIYEGVI70w3hJE02gvIk26AohqIOhoMePNgow8jE38KuuEmL+m75ErNu5okq9EdMEC2bFxDG+qudFnQosPoxJ+SeWgQvrd/RO9BSvkdOf24CwB3PE78RCYPWn1R/cKpKJQYbFot9kLXNtzqTVvTOqkCmMybp4UcRDajzvDwW/657ZxvRVDo7FrTdfFBYAxmeBnKrGIso+OSHHTcBYDPIxGgtJJTzd4wmco3rQjIwUxZmtO8naD1p02mxQe0ct86UPf17Wpqkwk0E4JFgZqc3nxapeLhexASzZGDzE78KfkNde5dPbzEviUdJcOM04+rADD+16QQxnuaKa16r41XLEK5yTF6izXLi0EvEv3WDCOalbb4AUOB+0qXlHVukdTqJ9mEToPW/6etEi08CXVpRLkXGycHhYENqYXvb9hlgh4kI0daRqE27IeDBY+rANBQF9FNadV7LXLlq5AgKT5jWdV5Mmz0kbWA3kyg88pEmqlUDFr/+dASGqAdKmlsm14M5CAc0E8OolMidObfzgMC5Ck1yRrH91e0s05quo+bADDu4fjpBGPdlFY1ANPzBTGIchMT05NVzz0w8aeH76+qUEEAOuA/7ffK1aelZyfWoVJ4+Cekp1t97s+RUP6A/brVKm30oVuRSgEYKt1zeGgf0xRqFTOuyT5uAkCyEUg/BIgxDhw5eARsz3OKZkt0hx9DfH/NFloIEuKTGhOZyEGWLYu2sJbxZ3G/KiR00k4Ooht9BE0w/jI6oZAIQTA/jtH9CtkdLvm4CAAjF0aB0koMU1r1XnUsiCgvof1lM7sm/pT8BiwmlFZO6JfKT65DZXDjl6bO7f7v8RHU+VKYENR4WL3sp2YWE/KT/cNLDFOo1fS7Kf+4CACYwYc0g2Jv5Gu4QPVaN230AZN/Th/SUXKQ1aQfrfXofEEtErtHVMXpkp/PodY/5QwMk7xIJkAT7/hHhw8A0PoDpZWYprTqvRUw3LR5yWthAT77xJWljD89TkKL3+eF8WWJKvQzKNZmTkCPKiOydD6vaVkwS2G6dKhvo48synRnkfEHhpXoplDrNsO4QIcOAGVLiA/LxDJKq95r5feegQINAxWL0Q0+BSD+sDrCJLkoIQn3sbKff1oE+c5U3jnIKr6/0fpJiHR4clCHDgD1n8fuoAQYozeA2XJNLwrJwC3JRA6CiS0688/yGBz77JTX9xcaW7O0wHHas++iQA6iL/pYxfc36ircOyXVl/XVTKE2aodluQ4bAMoeJp0xki2ntOq9WF5vNxRquLxNsaYPe9LFbUZHgRxDA2Ofo8DBw+iQZOvSf9Ya5nRrQKEL25KDnJ74U3KS0sY7MjmowwaA+sbITJjMsZzSqnSjZEvPgwUIIXnMFbMbfWSzpTVvVOQjeHVJRiGSQGu/0bXdn1YTmuSaKMJp5KDUhz01KbBbCHqQ1YkDd9hthpX+DhkArlgYPw0TbBulVe/F8njzULhhfHMxTfv7N0tb/6NHshZd1PhVs+Liuhq0KxZqPnf6RyhfQjl9j5GDWn7Y02lfMtoj8r2HLitlNlTK6JNFiR0yADTI0nyY+WfXr81wcXKEy5HY2KPpk96tPuyZQdbupLHRf7UyIcILAO/sZRcAqDPF/Y+Qg9I/7NnKUUYn0JPslEgmTe+vyMj9rGY7XAAYPT/aDxh/tlNas6KaIVP0+OFFoR9Yu9FHBjtqSec27kE9E23H3N1iB9AHda0+iKymytJ8fxDIQUP2SDk2vOprhaMQBH5aO7Kf48ulVvieTUeHCwAyIbp2v8kGjtV5ub7+L2OP+IrVerXqoy39mOhHiuI797KblKROde1d+1vgT2xVdJBhBiUHNdr88VUW1etQAWD0vGgZMG8co7TqumAYJzw+cToWcTlCOKGrrEXCfeP/Q0VSvaK24kQd2ljNZqgLoeeQKKNZoiDeregg6wyCrqoZUdpMoWbtjhX2O0wAoKQfGPdnesnFCpxM68CI/GbZ5MB/t014+T+wJ8GTphXqVBAgSTQi9qlqqWhNA0oSBreFgObhIai6cM2WzYDPy6qOMhIACvVDjEzbYpbBlbalHijyeexnEAB62qPdnFZY6qr154QfSGkJhfyzYdsfZQpcStDC/0Njn6GwrP4GXr4UQ2/udbgXgNEuj4weS1XXL3qmQ4+ASS8p5YPif0L67h/WW//73ooK2WZ0iAAweh4pgH1+mVFa1S4h3MxzX7kdN8+8rRv7t2ooY/m+hEp+UNLPgPjnStlt0v21QA5KOreIAnyoe6D1j6ccyX9ty38Bs9+kzl34fx4pK3MOIBsB6BABgODIfTC/5XCzpfGqYPxlz1D4V+nSoS55j8Oe9DvT0+04HwUTf14C30DSeNDhwvpvDH0tTaOFY2LQO3pbHIT+eizlyC+vxzMbgoD5XUTTFVtxTlDP6gM7VfdXtMKU3TrafQAYPS/eExHs2oshwOenfnUnbki/kOuGPBsHLvw96elWn59EST8Nx0g/WvUX1h9Au+IOcAMENAWCAEyytz6gF3AA9kaf2zrVRWcY3Vc7esAxeqeLXNPjSrsPAAQn57mN9JO6APAy0PYV5cEXU+fp/zeXvfw3WBF4Oz3dyvNxkdakH6266ZLhe98EtIobkoMHf5l3EFqvVLjI2xl6TvhLpXyW6fCiUEGioXEmSx+ssN2uA8DYBdG+sJONaydkYE0bWjfcpnVLXTia58HItmWvJtJPsnnqIWVW8/8u8Vr04WF7yEHw8Cc9HjQtmzN49eoGWDadkU2GbR75We2wAT3Z+mDOersOAJLsXtIPzPK/snJacKPa5dl89dINMNZ9VU1Ob74a6Uervt37qCR4aPEBGp/GA5DqumTRa1tfBNntFpu3RB00Pr5G1OjapWctlWy3AWDUvOhV0PXvr6WSjssA6Qe+8DNdq12P4CmnLaJWeS1ypSqkHy06qEznRD16q9ratwWhroeB8VuhxQfaSxKxYFsvSYsPWWUIKasZVtI3q4yLM9tlAJj0FPG6mfQD1/vJVXcHPtN63TdNrISWUHhKq7yaHJ3FH66B9KOmJ5Ufr46jhLXkoPl4EKpK6Vf73/mNbW9BL4QZhVrNP4lY96FZNVtW57fLAPDVwdhPgfJ7utVgWKIPo0MeT2i2Xl0+LMyCru5hveUyyWsl/WQqmyktR25Aa/dYNOGN0W74YvgjmexkTRNwOeDjTnIQQv1qRpS47gW0rHgezWx3AeCKR0gnQmQ3z74+uHwKpkQfXcfGiZXwPqxgev/CTjpJP1qdDBwCclCj+d2L4Ya7tyXpR6v9Lq9v+w982MVxCrVW/yRJnk8mTTIPkFaDFsm1uwDQ0BC7F+peaFH9LVVDiT1du4YfN6o0WJz7KEwe7jJanpajO/3oIf1oteUjEnprr8kVAYzeES9Bz2u1mS4XIGgWzB8cSk93yflp1V+8T3dYbldHuwoAV8yLnQpd/ztcizAW7nn2JtxMadXrJyUHQRChAc7QQUk/32mx048hJVkKFdQfhJ2DglkksmdBFz4j6Sd7qWO5eW9ur4FJwQePpbjtF5l58IrB1s6Y2lzFdhUAGrA0Dzb7YLuVrsIFgRvz7ZXlASD2mDu2TnzpL6DrHSNaxkX/baSY5jL0ZvngG2PwQ8u9wjsYrdVsTEGw0FP4mFMUagUXFJOBHNQ5WRdz7TspmRxvNwFgzIJoH5gJdu0WzaIK6ScT+JnS4OEnQCDSvex1ZKcf3VMPmVzImlbUcBj9qzY3q0x6JrT8EhCespJ+0ssonVNykJ2feFeyqzUdXkq7vXZEn29plWct124CgETIQ9D6w73kvgMe2leXTwuut8qzrWUvrYO5gOVa9VHSz+gsO/1o1aNVbvd+Sm7UfimwgJ7Bl6CPtepXkyt6fdvfaI9LTY5JPkH+BMOP0eitc7sIAGPmRcfDwz9Ab+WckcdJDxZhlx9rD1HE06DbrIkc1Df+JSrOstOPtZ7BXuvJKNpUpe1tQahDneix9mu7tJdEBKK7l2Q1Dor6gJ5ePaJviWK+izJcHwAo6UfGsms/1Ag3+FPLygOqlFa913zLhJc/gQ7PM2rlmnb6iX6iJmZ5frxGIzkIowW4P9pvtQNd1uzYQHteVuu1Qh/0j7Asy4ut0GW3DtcHgK8Pxn4CnOsz7AbCoP7D4VBolsGyqsXgM9oVtAXNJnhp7D8oTNR3+smmw0ge3V1oncoHRcD3rzxe9LAR/ZrKeLxADsKaekma9FkpBD3W6mF9r7RSpR26XB0AyuaTfIJk1+7HDjf4vMo7sWZKq94LuPnKV2C0jRVfNqGkn4Hx/+pVa5l84PBhVJuFHAT43If7oZhlBtMUFf9j06dACbeMQp2m3vQp3LuuJwe5OgBEUOweaP2LTF8JWxTg3V26hh+1RXULpSIWH4Gu7lctkpp/jop+bAvpp9mAyg9KONq8R2FFAKP3YKef51RUmM4O+gKzAB9LKNSmnUlTAMuCZ1R9/u5tacmuOnVtABi1OHYKRPefuwqtFs4IJkk/LVRl/bllYmUMbqQ25KAm0k/D7qxlncgsiNSi3ZG25CCY+aekH+37kBl0Nnf1xirYUGieweL2F8P4lweGDdM2Y2q/N20suDYAoKT0oFtJP7BE986K8sBf2qBpU8K2q5dCS4rfbal+rM2kn5a2sv2mi4Ef7m29PyY8+Ktgp583s5WzMq/wpPCjYHOXlTot00VIoYQOtwngluk3qciVAWDUgsh3Yez7fZN1s604tP5Zd/qx2jB0cQkSyJSU3l6Ne9FpCftJPyl7av87N9QBOSinSQwCguQR0FS1Mlbm42fXxTEWXPuQQU/2zoOj+p1iZZ2t0uXKAAAtv2tJP5Sgs7I8uNaqC6BVz/aJr/wfBIKVR0g/9lJ+tfrUUu6bo+QgoGr9Ht71/6hlnhO/C9dspRTqfzphS7cNIAclG5OuHKa4LgCMmh/5Hkz8DdINsiMFcFLAHstJP5pdx+K00viXchcHST9afctLxtDmqrxGbwAxWbVp6iUhobmXpNVvx+QIuaZ6aL/ejtnTaMhVAaBiLYG9IohrST/Afn1mZbn/Y43YWi62tXvl7j74G9sn1ow6vq8W4yGxihqj5c2WK35j6zoYgmimUJu1p6c8JQcRlHQdOchVAWD7tuitQGs/Sw+wTsnCJFNdQAxVOGUvk51kEk0f2O2wpwGJmbKZp63xn+WNV314C0tHsOiZ5lZyEDRug6pH9LmCJT7ptl0TAH74OMmD5a770x10yzkl5LwyFVtOadVaP7IWnQSydxX74qiuk/teOf/CU4g+9HeH6RtS0f/VHymQA7TW1rhc0Zotn9CemnEN9pYE6sQCUjHYY68V7dpdEwAORmMzwO1i7a47KAlEnBxf6BEHLbYxlcBoLsyNNC24D+16EN6w8beRYZmwLOe8JvMQALpI8drpLH0JCJ4K6AVkpVCz8g/wObPmrehPWNlPt+uKADB2fuxkAOYX6c6555zcWzkZ20ZpVasnWY8ugrHtdSm5oJhEQudw6pT5/x3+k9FX4jGuC4x37xr092t6sHIsd83m/bCJsSKFmpVfKbsy9HRrRpaY3F8tpc3cf1cEAAlJc2Grr4C5qthUGuN3S8rDhvexs8KrJEGLofWnnJvm49LiGlTjObL23pzI4EcjFtHq0DmtLEMwDzY0NM5plejwSXEnoFCjzBRqh13JZK5IShDbvwuZyXB6GvMAMHpe5GK4t3+Y7phrzokwBV7JYzbzntyARsPDf2k6HvR7ml26sJ8MfDNwBjostB2OwITXdaUvXXVRut9OnePKLTGYuHUtOQgu388PDBtwslN4KNlhHgBkDJ/3cu9OPytXzwj+nxJ4dqfDgy/KMlqoZKd3p4Noj5/dhGCtGEQbQgpvakNUlyW2n24rfH3bcxAEWlGolbB0Pp0EJNTIfINTpgFgzPzIWIiEg50HX90iEEsk+Ea9JfvYqVvLLJHYgH4M+LTuX6eJnntCo/1v3KTZTJ2uhK5/AinfQjAUuLTPkitHp+Sd/k/JQVjAbiYH/aBqRMnFTuPS0p7y1WspZcNvSvqByRDF1s0Gk3pV/u7VKX7HKa0pJ2HZLwcGHrNS50r/zwjVo33hQqVs29J3egrQuz66Mpn9wDJZVLakjNlYpWjN9iYKdXYv2eRSchBivHMQswCwY1v0FgDg22ygV7OK6z2BEFNOQlJA5YBPVzVPaf6A7nXIaXLQsvCRZT81/6AOZ++UpR+rydmZL3jp/opYstOGUd0wzBtcNbzvOKPlzZZjEgDGLSC5MiIVZp23qzyMGxcs+wXeZ5d+Nb1kMzoRuv6T1eRS+cXeODrcyaJv96WUZvn/rv8kRHsAWg+YsJzFkhxUuHrbR4Dn77T667gckZiRg5gEAIlEp8MF6eI40BoMwtLR12JByL597DT4kGhEc6BlCGkQbRYZ1vUAqs8wG98sYNEPOuanY389B+3JJOO1TOdTgmEMPTpcr8dvp2ThWn+7ZmNsklP2WtpxPABcuSB6EtwQd7V0wl2/yX3Lb8VRVj6RjegCWPC/Xq99Sg5ChfaTg9YHz0C1QtsdgDT4e3fpkrITNcjZIpKzbNs+eB3HtS+awc7XFSzIQY4HgDghQGklhu4gW+6MFkphnPh+n+nhP7dIcvxnUmoi/Ri6LkNtJgfR9f61Sst+KkjRay7LEltyUIHnIdrDU3GVTTaBTzskZccp1IZuNKMIjZsXuQha/2ZKq1E9dpXDRGRL+lmHRkJ3cJjR+lFyUJGN5CDK+DMz2QjX/vp+S8ouNFo/s+WayEECuc+sHtvKy/gXNSMGOUqhdjQAJN1N+lm9ckbgDdsuropiePBFmaBFKmKq2SWUHBSwnhxEuf5vA+ff3EEEiUim62jGh8L+o6GHh983o8O+srSXFAdavHOHYwFg9PxIRkqrc1VVtkSXiOh75MoS9udI69GPwEovKyyd0zVhOTmIvu0HLbjpA4YCw/pWThhpWpFBBbiiQqZ7Ohosbn8xQq7dP6z0IvsNHbHgSAAoW0KgdXMv6Qcm3f6wcqr/X06Bnm6HvA8f90Fodnq60fOzwnWWkoM+8HVH9H1/qw5ZktmSg97Y+gZc89VW1cdKPXAfAH9ReshKndl0ORIAIl9EKRFE39pRNq+tzMM4Ah+a/KWVKvXqSh5E02AI0E1vuWzy/YEcRN/UM3tIQFZbEbKkY9LCFdJrN5Fpj4fZIXjQVNeSgxAZUjW0zxgnwLE9AJQ9QXLgZR9VSqsTlc1kAwBYuGpazt5MeU6kkbdQd7BjeZe0C5CDavPNzwVsCJ6ODoi6KAmaYAMi2OzBS8qYvc9c+NoO2FoZ/0GTsyyEMFpIyuynUNseACJ1Uc2UVsdxxvgboSDEdKPGRBI9AK2/9U8YgDkMdg4yQw6KYB96M3imPZeFkG4xOTnVHuXatAZ99LuTbiUHkbOra3feoq0mxqVsDQBjHo7qorQar4axkgJBM5mSftaj82AseqMx79VLhYAcREyQg/4RPhvFsUfdkEEJ+IbAlP6vXkN7QEyOnFU79sLbgkxXJbJVHPYPrKga19/W/RVtDQByI5kDG0PY0rplA05LHvD9P+w9PfSsFlm7ZI7u9GPrNRhaBDsHefX3tPeKuWib/1S7qn5EL/R8kvGGB+w1kl17UaDLYrgXvskuxSqXdMXRRLmd1m27+cbMr78A1o2ut9N5M7pF+Hgly51+4F3/y6DrP8JMHbSUFWA3+qJi/ZOB9G0/WYsBkzKwF8yNJS9ddb5JNYaL4+XLo/DdtZmGFdhcELghk6vHlNpGobYtAIDji6H1t02/Kdwxfm35tJw1pnSYKAwPvgDdO8e6nk3kIB07B33k64o+8zq1QTPcI0nZMSwyXbbiASOfhbmADzLlsU8DclAD3TPTnsOWB3Tk/MhIWM80TGm1p6pHtAIXXMbIw3TySdqAboLekbYX6i0C45wTEpqIPHTZb3noXIusalMD98qI0hevukybtPVSlBwkCpjpPZGtVpiQ6w4O720LhdryAEBJP7DDL9OIng1MuL//uGq6/8OsMjZmNpF+CHJ83HtWqA7tCRep1mxL4FuoStQ/Z6CqWEVARvKiClJh+f2oYrY5G/YPXAMUnNeaE1z0g/YYkwQvtsMlywGv/yL6I2hqetnhrGmdQPoJ+BHT8V6yFk2BC3qC6boYUND/hOzkoJjgRWtCbDZpAkzOW1X5wU0GqmVZEQ8SgRzkyNSHbp+BQj10//CSUboLqhSwNABQ0g8sa81WscksG+bDFi+9K7yHlQOwz183uL2YdTW7+mKoNk95J581gbNQFHtZwQMdR/TAiNeuC7NyoPMbWz5EBP+RlX01u7C/ouXkIEsDQH1ddCpEKksprWqgaM0H2ufeQk+I6dAEPu/1AIx3md3gFKuh3TLvHES7/ZsCPbXCaY8cISfU1kYsZ0XqctbjnwnDxIiuMg4Jw6R6r+qDu2620pxlAWDcgkh3aGHZXrxsyADp57mpmNmFhdb/XMCHaReXwhOm5KDObcf4y4DvL0P/l/lB0NSBL1/JZIhE61782sY9MFFsy3jbCmyhgZ1Fyga3vYAGlVsWABLQfXMt6Qehf4VPCzHt2iUxWgStv/4FeYMXNluxocXVrT4r9h9Y8vvY55aOGwk3JNkOI4uETosgFjIbKma7djBO6lZdG7Ps1XVLAsC4RQ3nQ+t2Y3bHGeaKaGrlRHbbQifWoeEwyXU5QwRamabkoMLiIxRfSvZZFj63VT7zE4J+1O+F8cycwmvWRGBFAN4TcOdBiHx31fD+llCoLQkAiWQSWjd3kn4gkr8Ob/v9g9WlpEs48Md07iFT3fsWHGj6rBil++4RXfGh2hZuEiGJ2XL0izqd8keYC/hXC6fc8xMo1IRY8/FV0wFg9Px6IHAQ2ymtRtCnpB+oILNZd+oz7PRzA/y7wIj/dpc5p3uyYU3oHCcYv/qrQsjlJUvGD9df0JoSuLJSEmE+whpt1muB2ZobDlxeYppCbSoAVBDYSgO5r3VrhhujP62YnsNs/zfyNo3UzpN+muuv8uPbocMP1Yne51TE2GXLeDFTctCbO2jP8XV2AChbpj3LZEI2PVlpKgDsWBi9CRxxlNKqDEnrHGj9o4IPsyX91KO7IUDa9iJH6xrrO4Oh0X6PB83HHnwfLJHG9JV2RhqGleevfvF92oNidni8whTAyp29JISG1wztbWpuyXAAuG4RCcOnqx9gdmVUDEMX6aEVk0Nfq4jZlk22Nn3Xz7LZWqsdhcBUgQegum1XLf0KlpaYfglJpW5zxi6fxOyV8s7/2PYBYPUnFR+ZZUt0dcnEzkGGA0CNHIU1f8JsvTYb4vDw7wvlhRZmk7E7LxFHs6F3ZNl6raX+YvSJl6BnUjq9wYIF0AvYnzp30394+Lrvj1bfzdInjH33wYQgs69FZa07QefCzkE3ZZXJkmkoAFz5SOQEuLldPEGCf1n5M3ZbPZEN6BxYabs5C+5Ms+CiT8NDEHxL7Mix6Xt/qIMh0/2pcxf+nwb7BzIjKhS/vukbjAXHdurVjT8hs8mIEYYYpoYCQLwRiBqEGDKou3L6C3wUOi30e/3FrCuRhHf9oeUSrdNonSYYz67zDEbL0zX2wMIz0HP6OD3dDecwRMmJydIslr4UdQpCjxIz2zw2W92hMT6hWq411CDrDgCjFzWcCy9tGO5yZKuIFXmiiNmSfjagoXBBRllRF6t1wMNPPALK2J2unFgpCaLo2jkL6ILf3P+lq3pZjYlWfbhyXT0Mk1zbS4IJ0ylVlw3UPSTXHQAIJf0Q+s6/Cw+M3lwxLbyKlWfw4NOdfkwvzdjlP/RK/oIHoXeU9G8pe2kF3ORrlfJZptN7Limx/bhMUcHJv4eh0r9Z4qBom8BLZkn9+yvqCgCjFsSHQ6QxteygWAGTGZT0g2GfP5NqTBWHnX6ug96RLTu3mHIMCkPrH/didI+aHpi7mAKtLcQK9x0QBEaVVk4YysozSg4iAnZxL4ncdGBYqa5lec0BoIn0Iyfd3Lo9B5Tf91jdHGQzCkIPYA4r+6p2MXoUX4J2q8ltvWbpO5jg59XkWOVLssSUHNTl9W2roJf0Jqv6Z7NLe6BJpO/jq5oDwPaFkRvAuGnqYbYKGM2DCxILCpjpZ5+TCTQZLsBJRutgZzlo/as8fjRPqw1/wHcv9KjiWuUdlYMe1j+WfHidozbTjHkwcS85iJDLaoaXaKbmawoAY58iQGnFrm3d4MF7eGl56Ku06+TYKdmEukCn2db9281UBj7AMQv3RYe16thwxQu7YRjwiFZ5p+VgGDq3dElZ0Gm7KXsFr+94j2D8XOrcbf8lmSwiFdr2V9QUAJK10bth2c+S1w8tBwsorV4htMByvToUSkk0C4JQro4iTop+6pXRU7oN5gbnw8RBle5yDhSAuYATCZInO2BK0YTgF++FmRVXUqiBoHd+1Vurb1R0vkWGagAYtbCe7mPn2okPujSzrBzXtaiToz/JenQ2zPzf4qhRHcYEEZW3JP1oLbpt1F8Ow4RghVZ5p+Xgnfjykle/39Vpuyl7RSu2fC1g5FoKNby+8AAZOzaU8lfpv2oAIBIGAgZ84deFB4xtP+7TJ/Q7lq7B570WwpS5K5dFgdiz3jMIvWoUn2DX85+GocCnRsvbWY72uEg8XmGnDTXdJOSFnifepybHIh/w6V4d36+6KpY1AIyd39ALHrKbWVRAk01YkqkYgpOaZG0QSqxDQwDoMTaoNq0Srhu4Zm5ZdN2QiqSA3bvsBROVt/RdevXZpsEyqKB42aY6WHquMFjc9mJEJlPrR/XOSqHOGgCSJLnQraQfuMHXrpoWXmE7igoG4OmCHrKrST9/8w1Bbyu4rzl568Sly6AXsF5zAQcF6b0pNzYCRZfdATsHPQPDUFdSqGnPPdYozM6GjmIAGLMgNhQUuJLSCpNTBD7lpNq9yVZxs3mw08+1MPP/HbN67CgPwTHu9aqTfrTaxthzt1vJQVCHMX2WjL9Ua12slqPkILgPXDtHBs/wj2ou661Ioc4YACjpRybmdxuxGuyUPkpUWT4trEhpTcnZ9R+2+A7ADhFz7dJvgd7HcX+00wI9TSq2Taz8J4x1/2qVPsv1wM5B0BuAKQ82R/Gb21fAcGQtG+vZrTb1kpLKu3ZlDAA7Fkaug4KupLTCjRj3+hAswbA7YIvvuyDq92DngbJlaP2rPTnoQWUJYzk+LN7jWnIQIhf1rbzqWmM1s6YUweLdEIFgVOi+A5waWT2s77BMnrUJAGUPw+eIXUz6AZAfefXu0O5MlXEiDd71LwY7052wZcQGXOzZ+LvokJGy2cq8NbFyF5BfHssmwzIPJryYkoO6vLHlXRiaPs8Sg2y2aY8+EzmoTQCIJqKTYf74pGzKGOZVFYRD8xnaR5KMYISE8lj6oGgbo8+8OehJxXyTGXlYoHTiapNq7CreQybSL+xSrkWvIATcTA66oGbTyuvT69EqAIxfRLpA19+1lFZBwBV/uRNrprSmV9bsOXkLnQUt7CSzeuwqDxdzOrT+Cbv0vzGx8hAShFl26Tevl8wYuKSM9tCYHIVrNuyGF8IfZWJcg1Ei4zmkrDTYUrRVAGhIRt1LaQVCSu8+oadbOu/072QSSD8EeZy2q8UejP03egajV7TImpEJFZ9HexifmdFhV1m4NrmNRKqwS78WvaJHAAo1cieFGpETqw4mW20I0xwAxi2InwWOu5fSCoQUxqSfgXCDjdNyEzgtAw8/rNuYI/1o9ZmSgxAWXNtLhHm4SQOWXn2m1vpYLVe4etthgQgVVuu1Sh+soE2rGzmwuZfUHACSRLqDLhlYZchiPetXloeXWaxTrzqm48tszsKw5EXfILQ9m4yVeduvfvnvMBm70UqdVumiPbTGROJ2q/QZ0VM4MPg0BOVPjJS1uwy8SZnbkIjfnLLTFABu/CMJQOT8YSrRVf+B9IMZk36O7vE/1lW4HHUGHsQG2OJ7htO+iQi7lhyECbl28Nob4Z5mc+CKddBLEl3bS5IRvhkae7h1EGoKAFX74hMgcnZiA5eKVUL+uqo8bJrSqmIla3Yyjm4AfLxZhVhlYvQ4vO33pdPmN1+zdAfcQS84bVeLPegRFTRUHb5Si6xdMsWvb10GvYB1duk3pZeQ06sv7zuY6mgKALB8crkphbYVxnEPEFBsU69dsSvxgQewxkOsJ/1ohQX7/PfAvFGDVnkn5WRCRjppL6MtAT4r5lJyEEoe2duzKQBApDo/YwWYJ+LHlk8P7mLuBnEnPjDx9wC0/rWs8Nk6/oUv4Y2ox1nZz24X69ocM7suY7nFa7b9E8hBfzVW2t5SMABoeuaFsiXEBy+2fdtec/q1Q1CqzsFBzfvY6begrQSs/XeHLmWhNmkHpTD6rzeMfuOgxYymcgXPXOgF1GTMZJgI1+zsSW9PYj5sE5EPerDu218RFo6OBIDE5/HusIjEHKj0ewVm/mZVTseWU1rT7aidw9r/KWoyLPJhN5pyO0k/WutEyUHQjZytVd4xOUJ8H31x8ATH7CkY6vzGW7sgQLqOQg1zWt1JxWCPAO2/pOA7s2QYN33Wo1PwKWYOtDAMC6Ou+zQ04LPJcwla2sJNpj/PP634t/Ci0H+YOpHBeEIE4rYLDtGLHwQ3XEihHiwLBAgALsColQvw8YXyp2/FtlFaWxlTO4GN1tVEnM4nnsyf93Laj5S9p7/7dAKLgutekApKIrPdolLY0P9N5CBMt9Zzz0EnJ3FFhSwIvlDUPW7BaAkIJqvLw393i09e0XWfhX7RNxBtcws+KT+2lr20FOZt3kqdu+E/cLZjbvCD+lA4IPQk7BzkGgo1TAI2YSP8/S4Ms8iY2eu1rS4Q3enHCwQTNx0S+gxu7LgbXAI/Gr2C86QfrXWHXgDTXZpa+glDkp1NLy+1TGT4m5KDYP9AF5GD8PsUjtQy4A6G2DSbBgbXC8unhF3hS8qpo1tqv5c6Z/z/1/B5r/8x9kHR/NYJL2+DB+9FRQEnM7D5/RCtdrdozXagUOMNVus1qK+JXNcUAIAfzL5LiXGDD7mC9NMWT8K+yw2t/wGP6OJvDx5FjQjiDHeQg4DA7cIDI48ryEHQ2DY9800BIIiFv8L4hOlkF9h//O8zgl+68JohePD+zNovWNeegweig6z9ULO/fWLl/6CV+7WanJ359F4WsOdvdtowqrvozc07gBz0gtHyVpQDfA4XdQ6/SnU1BYCj39VjtsU2+FHj8wXpUokrDzwIvQMtsGNv22UA4XNvMXoiQ7ork4K+vDlwkx1g5RwEy2VbJlZ+zcq+ml2Pz8O0lwQvAj2HK9fVUz+bAkDTDyz8Ss1xu/KxIMw+MhlplwXzemF1glmrBhdpOu6FGs3XwhkN68Y/WwvbYz7gjLUMVjBhdq0yeNMmqWDV5p3QS2JCoYaGTBY96Lcpp5oDwIry4JvgVGUqw7n/eEefPkHmlFa1+oqXoOcBPMffgYfAs9IzBL2k5p/b8i84vegJwAu2E3f2gHv4xe0TX/k/Z63qt1ZUEJoNcyVf6C9pusTjha/t+HdKS3MAoAl+T+h2cMqxrht0E2NeQbyO5U4/KSDU/sPNTGAu4Mfw37ElQbBVDWvZP1bzzY35lBwkiMK19Bo75h+8k+ATxDscs2fCEO2Cw5uu18M1do6tCAGnKNjt3pZutwoAr0zF+0UiwE3u2ITg1GXlgU9bOuTm3zAJ9xlwqO9yykdo/SfBMuRep+xZbWfLhJc/ga3EHflqzpF7VvjxxomVrtyPLxO2nV/fugkIOQsy5Vmf1vRq/fV4+fJWxL9WAYAaXTEj9AosC/6Ifn7LeieOaRQQfmDV9HC7mdhKeQ7f2wNGl72EDtAPL2iin3kc2OQzVS+7/m+f+PKv4eGcY5f+I3oxbHKDbqJbldlrx3rtxf1H3wfDlt9Zr/mYRrifGkVExtOAcyz1yC9oZDIfI+dHboHM39qxTyBEnekrZ+Q4FPky189samItug8ipOUTXYC5BH8/hnH/s2Z9dFP5kiVXTSeybPnr3bTlh1b01u0Tl/7eTfXV4wvdnqtmRN9HZVm+U085bbI4DpPsV9MdijLJKwYAKjxmUbRUSpI/w3sDp2cqbCCtSsDCnSunh5iugxrwO2MRCAKXQ8vzBxgWWPPaKUa7gC46yTsIvZbRYDtP7PPiVd9HRKaz30VWVAVaTvoG4vXbrlnqStKP3jpWDy/5GXzhaB7duFNv2Uzy0PK/K4joupaTfulybYYALQVWTA1tKfKELoQo+wQMCUy9nQc6/hzIDZ/dUR5+ipN3CPqHx4fOhZ9/AbANT+bQshCJH4PNPXt11Ief4gVd9L+FwoGz4cF9jp4bPjBuhCHkr7uEiy7sKA8/xaLo9W1PCGKgF9wLyw1jQwtiFIWGdk5Rz4tKsj38R0Q1Whq1sL4bfFnkNqAQ3gpd366aisGKAlTmORF5n1k+3d+89KCpbDsTgi8GnwrvntJVFNhxVdsGq/Dg74FqPuvxot/D13w/b2dVNuVuvxfGnyth4RboXV4LXeDOWpTBvbQPGpInA1h8ct3EynY7OaqlrtWXlfYhSekWeNauAYxytJSBwLoT7r8nvH7f7zqtfEsTaxQw1XfQLcTqv4z1FgjqDWO6PhBuzgSjIjgJf7B6QMincP4eUIzeOy0QXvurO3GDPgvtW5psRsFkAyoBDAAbwAihnjClB7toN5GuaC/qI3jw6ctF73pktOHoy0btu9ImvB+56g5/bf1XQ2QkXIhkciHB5Cy4KUXAjc6FSDA8/hT+7wDMdvTA4o7KiZXthhBlApbmoqRscE71ofgQJEmADboQ3uI/Mhxv6jWSBKyyfAS9oR1A79le2PnEd3BlJVNKf7Pj/AdHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQYIfD/M2Z1Cla5ouIAAAAASUVORK5CYII=";var due=()=>_.createElement("img",{src:$Fe,alt:"Malloy",style:{height:"30px",marginRight:"12px"}});m();m();var dV=xr(Lr());m();m();m();m();function hue(n){if(n)throw n}var fDe=xr(WFe(),1),yue=xr(tDe(),1);m();function cR(n){if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}m();function nDe(){let n=[],e={run:t,use:r};return e;function t(...i){let s=-1,o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(c,...d){let p=n[++s],E=-1;if(c){o(c);return}for(;++E<i.length;)(d[E]===null||d[E]===void 0)&&(d[E]=i[E]);i=d,p?uxt(p,a)(...d):o(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function uxt(n,e){let t;return r;function r(...o){let a=n.length>o.length,c;a&&o.push(i);try{c=n.apply(this,o)}catch(d){let p=d;if(a&&t)throw p;return i(p)}a||(c instanceof Promise?c.then(s,i):c instanceof Error?i(c):s(c))}function i(o,...a){t||(t=!0,e(o,...a))}function s(o){i(null,o)}}m();m();var lDe=xr(iDe(),1);m();m();function Fb(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?sDe(n.position):"start"in n||"end"in n?sDe(n):"line"in n||"column"in n?pue(n):""}function pue(n){return oDe(n&&n.line)+":"+oDe(n&&n.column)}function sDe(n){return pue(n&&n.start)+"-"+pue(n&&n.end)}function oDe(n){return n&&typeof n=="number"?n:1}var gh=class extends Error{constructor(e,t,r){let i=[null,null],s={start:{line:null,column:null},end:{line:null,column:null}};super();if(typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){let o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}t&&("type"in t||"position"in t?t.position&&(s=t.position):"start"in t||"end"in t?s=t:("line"in t||"column"in t)&&(s.start=t)),this.name=Fb(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack=typeof e=="object"?e.stack:"",this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.source=i[0],this.ruleId=i[1],this.position=s,this.actual,this.expected,this.file,this.url,this.note}};gh.prototype.file="";gh.prototype.name="";gh.prototype.reason="";gh.prototype.message="";gh.prototype.stack="";gh.prototype.fatal=null;gh.prototype.column=null;gh.prototype.line=null;gh.prototype.source=null;gh.prototype.ruleId=null;gh.prototype.position=null;m();var Bm={basename:lxt,dirname:cxt,extname:fxt,join:dxt,sep:"/"};function lxt(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');fR(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let o=-1,a=e.length-1;for(;i--;)if(n.charCodeAt(i)===47){if(s){t=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(n.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return t===r?r=o:r<0&&(r=n.length),n.slice(t,r)}function cxt(n){if(fR(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.charCodeAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.charCodeAt(0)===47?"/":".":e===1&&n.charCodeAt(0)===47?"//":n.slice(0,e)}function fxt(n){fR(n);let e=n.length,t=-1,r=0,i=-1,s=0,o;for(;e--;){let a=n.charCodeAt(e);if(a===47){if(o){r=e+1;break}continue}t<0&&(o=!0,t=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function dxt(...n){let e=-1,t;for(;++e<n.length;)fR(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":hxt(t)}function hxt(n){fR(n);let e=n.charCodeAt(0)===47,t=pxt(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.charCodeAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function pxt(n,e){let t="",r=0,i=-1,s=0,o=-1,a,c;for(;++o<=n.length;){if(o<n.length)a=n.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}}else if(t.length>0){t="",r=0,i=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,o):t=n.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return t}function fR(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}m();var aDe={cwd:mxt};function mxt(){return"/"}m();m();function AC(n){return n!==null&&typeof n=="object"&&n.href&&n.origin}function uDe(n){if(typeof n=="string")n=new URL(n);else if(!AC(n)){let e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){let e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return xxt(n)}function xxt(n){if(n.hostname!==""){let r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}let e=n.pathname,t=-1;for(;++t<e.length;)if(e.charCodeAt(t)===37&&e.charCodeAt(t+1)===50){let r=e.charCodeAt(t+2);if(r===70||r===102){let i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}var mue=["history","path","basename","stem","extname","dirname"],Q$=class{constructor(e){let t;e?typeof e=="string"||(0,lDe.default)(e)?t={value:e}:AC(e)?t={path:e}:t=e:t={},this.data={},this.messages=[],this.history=[],this.cwd=aDe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<mue.length;){let s=mue[r];s in t&&t[s]!==void 0&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)mue.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(e){AC(e)&&(e=uDe(e)),gue(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?Bm.dirname(this.path):void 0}set dirname(e){cDe(this.basename,"dirname"),this.path=Bm.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?Bm.basename(this.path):void 0}set basename(e){gue(e,"basename"),xue(e,"basename"),this.path=Bm.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?Bm.extname(this.path):void 0}set extname(e){if(xue(e,"extname"),cDe(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Bm.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?Bm.basename(this.path,this.extname):void 0}set stem(e){gue(e,"stem"),xue(e,"stem"),this.path=Bm.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,r){let i=new gh(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,t,r){let i=this.message(e,t,r);return i.fatal=null,i}fail(e,t,r){let i=this.message(e,t,r);throw i.fatal=!0,i}};function xue(n,e){if(n&&n.includes(Bm.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Bm.sep+"`")}function gue(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function cDe(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}var vue=hDe().freeze(),dDe={}.hasOwnProperty;function hDe(){let n=nDe(),e=[],t={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=e,s.use=c,s.parse=d,s.stringify=p,s.run=E,s.runSync=w,s.process=N,s.processSync=R,s;function s(){let U=hDe(),Q=-1;for(;++Q<e.length;)U.use(...e[Q]);return U.data((0,yue.default)(!0,{},t)),U}function o(U,Q){return typeof U=="string"?arguments.length===2?(Eue("data",r),t[U]=Q,s):dDe.call(t,U)&&t[U]||null:U?(Eue("data",r),t=U,s):t}function a(){if(r)return s;for(;++i<e.length;){let[U,...Q]=e[i];if(Q[0]===!1)continue;Q[0]===!0&&(Q[0]=void 0);let P=U.call(s,...Q);typeof P=="function"&&n.use(P)}return r=!0,i=Number.POSITIVE_INFINITY,s}function c(U,...Q){let P;if(Eue("use",r),U!=null)if(typeof U=="function")de(U,...Q);else if(typeof U=="object")Array.isArray(U)?K(U):I(U);else throw new TypeError("Expected usable value, not `"+U+"`");return P&&(t.settings=Object.assign(t.settings||{},P)),s;function j(M){if(typeof M=="function")de(M);else if(typeof M=="object")if(Array.isArray(M)){let[Z,...me]=M;de(Z,...me)}else I(M);else throw new TypeError("Expected usable value, not `"+M+"`")}function I(M){K(M.plugins),M.settings&&(P=Object.assign(P||{},M.settings))}function K(M){let Z=-1;if(M!=null)if(Array.isArray(M))for(;++Z<M.length;){let me=M[Z];j(me)}else throw new TypeError("Expected a list of plugins, not `"+M+"`")}function de(M,Z){let me=-1,_e;for(;++me<e.length;)if(e[me][0]===M){_e=e[me];break}_e?(cR(_e[1])&&cR(Z)&&(Z=(0,yue.default)(!0,_e[1],Z)),_e[1]=Z):e.push([...arguments])}}function d(U){s.freeze();let Q=dR(U),P=s.Parser;return _ue("parse",P),pDe(P,"parse")?new P(String(Q),Q).parse():P(String(Q),Q)}function p(U,Q){s.freeze();let P=dR(Q),j=s.Compiler;return bue("stringify",j),mDe(U),pDe(j,"compile")?new j(U,P).compile():j(U,P)}function E(U,Q,P){if(mDe(U),s.freeze(),!P&&typeof Q=="function"&&(P=Q,Q=void 0),!P)return new Promise(j);j(null,P);function j(I,K){n.run(U,dR(Q),de);function de(M,Z,me){Z=Z||U,M?K(M):I?I(Z):P(null,Z,me)}}}function w(U,Q){let P,j;return s.run(U,Q,I),xDe("runSync","run",j),P;function I(K,de){hue(K),P=de,j=!0}}function N(U,Q){if(s.freeze(),_ue("process",s.Parser),bue("process",s.Compiler),!Q)return new Promise(P);P(null,Q);function P(j,I){let K=dR(U);s.run(s.parse(K),K,(M,Z,me)=>{if(M||!Z||!me)de(M);else{let _e=s.stringify(Z,me);_e==null||(vxt(_e)?me.value=_e:me.result=_e),de(M,me)}});function de(M,Z){M||!Z?I(M):j?j(Z):Q(null,Z)}}}function R(U){let Q;s.freeze(),_ue("processSync",s.Parser),bue("processSync",s.Compiler);let P=dR(U);return s.process(P,j),xDe("processSync","process",Q),P;function j(I){Q=!0,hue(I)}}}function pDe(n,e){return typeof n=="function"&&n.prototype&&(gxt(n.prototype)||e in n.prototype)}function gxt(n){let e;for(e in n)if(dDe.call(n,e))return!0;return!1}function _ue(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Parser`")}function bue(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Compiler`")}function Eue(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mDe(n){if(!cR(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function xDe(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function dR(n){return yxt(n)?n:new Q$(n)}function yxt(n){return Boolean(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function vxt(n){return typeof n=="string"||(0,fDe.default)(n)}m();m();m();m();m();function gDe(n,e){var{includeImageAlt:t=!0}=e||{};return yDe(n,t)}function yDe(n,e){return n&&typeof n=="object"&&(n.value||(e?n.alt:"")||"children"in n&&vDe(n.children,e)||Array.isArray(n)&&vDe(n,e))||""}function vDe(n,e){for(var t=[],r=-1;++r<n.length;)t[r]=yDe(n[r],e);return t.join("")}m();m();m();function Zf(n,e,t,r){let i=n.length,s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),[].splice.apply(n,o);else for(t&&[].splice.apply(n,[e,t]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),[].splice.apply(n,o),s+=1e4,e+=1e4}function Rd(n,e){return n.length>0?(Zf(n,n.length,0,e),n):e}var _De={}.hasOwnProperty;function bDe(n){let e={},t=-1;for(;++t<n.length;)_xt(e,n[t]);return e}function _xt(n,e){let t;for(t in e){let i=(_De.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t],o;for(o in s){_De.call(i,o)||(i[o]=[]);let a=s[o];bxt(i[o],Array.isArray(a)?a:a?[a]:[])}}}function bxt(n,e){let t=-1,r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);Zf(n,0,0,r)}m();m();m();m();var EDe=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var Zh=d4(/[A-Za-z]/),hR=d4(/\d/),SDe=d4(/[\dA-Fa-f]/),Nd=d4(/[\dA-Za-z]/),wDe=d4(/[!-/:-@[-`{-~]/),Sue=d4(/[#-'*+\--9=?A-Z^-~]/);function pR(n){return n!==null&&(n<32||n===127)}function Ec(n){return n!==null&&(n<0||n===32)}function Yi(n){return n!==null&&n<-2}function Ra(n){return n===-2||n===-1||n===32}var CDe=d4(/\s/),ADe=d4(EDe);function d4(n){return e;function e(t){return t!==null&&n.test(String.fromCharCode(t))}}function no(n,e,t,r){let i=r?r-1:Number.POSITIVE_INFINITY,s=0;return o;function o(c){return Ra(c)?(n.enter(t),a(c)):e(c)}function a(c){return Ra(c)&&s++<i?(n.consume(c),a):(n.exit(t),e(c))}}var TDe={tokenize:Ext};function Ext(n){let e=n.attempt(this.parser.constructs.contentInitial,r,i),t;return e;function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),no(n,e,"linePrefix")}function i(a){return n.enter("paragraph"),s(a)}function s(a){let c=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return Yi(a)?(n.consume(a),n.exit("chunkText"),s):(n.consume(a),o)}}m();var FDe={tokenize:Sxt},DDe={tokenize:wxt};function Sxt(n){let e=this,t=[],r=0,i,s,o;return a;function a(I){if(r<t.length){let K=t[r];return e.containerState=K[1],n.attempt(K[0].continuation,c,d)(I)}return d(I)}function c(I){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&j();let K=e.events.length,de=K,M;for(;de--;)if(e.events[de][0]==="exit"&&e.events[de][1].type==="chunkFlow"){M=e.events[de][1].end;break}P(r);let Z=K;for(;Z<e.events.length;)e.events[Z][1].end=Object.assign({},M),Z++;return Zf(e.events,de+1,0,e.events.slice(K)),e.events.length=Z,d(I)}return a(I)}function d(I){if(r===t.length){if(!i)return w(I);if(i.currentConstruct&&i.currentConstruct.concrete)return R(I);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(DDe,p,E)(I)}function p(I){return i&&j(),P(r),w(I)}function E(I){return e.parser.lazy[e.now().line]=r!==t.length,o=e.now().offset,R(I)}function w(I){return e.containerState={},n.attempt(DDe,N,R)(I)}function N(I){return r++,t.push([e.currentConstruct,e.containerState]),w(I)}function R(I){if(I===null){i&&j(),P(0),n.consume(I);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),U(I)}function U(I){if(I===null){Q(n.exit("chunkFlow"),!0),P(0),n.consume(I);return}return Yi(I)?(n.consume(I),Q(n.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(n.consume(I),U)}function Q(I,K){let de=e.sliceStream(I);if(K&&de.push(null),I.previous=s,s&&(s.next=I),s=I,i.defineSkip(I.start),i.write(de),e.parser.lazy[I.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<o&&(!i.events[M][1].end||i.events[M][1].end.offset>o))return;let Z=e.events.length,me=Z,_e,Ve;for(;me--;)if(e.events[me][0]==="exit"&&e.events[me][1].type==="chunkFlow"){if(_e){Ve=e.events[me][1].end;break}_e=!0}for(P(r),M=Z;M<e.events.length;)e.events[M][1].end=Object.assign({},Ve),M++;Zf(e.events,me+1,0,e.events.slice(Z)),e.events.length=M}}function P(I){let K=t.length;for(;K-- >I;){let de=t[K];e.containerState=de[1],de[0].exit.call(e,n)}t.length=I}function j(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function wxt(n,e,t){return no(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}m();m();m();m();function wue(n){if(n===null||Ec(n)||CDe(n))return 1;if(ADe(n))return 2}m();function TC(n,e,t){let r=[],i=-1;for(;++i<n.length;){let s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}var mR={name:"attention",tokenize:Axt,resolveAll:Cxt};function Cxt(n,e){let t=-1,r,i,s,o,a,c,d,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;c=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;let E=Object.assign({},n[r][1].end),w=Object.assign({},n[t][1].start);ODe(E,-c),ODe(w,c),o={type:c>1?"strongSequence":"emphasisSequence",start:E,end:Object.assign({},n[r][1].end)},a={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:w},s={type:c>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[t][1].start)},i={type:c>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},n[r][1].end=Object.assign({},o.start),n[t][1].start=Object.assign({},a.end),d=[],n[r][1].end.offset-n[r][1].start.offset&&(d=Rd(d,[["enter",n[r][1],e],["exit",n[r][1],e]])),d=Rd(d,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=Rd(d,TC(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),d=Rd(d,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,d=Rd(d,[["enter",n[t][1],e],["exit",n[t][1],e]])):p=0,Zf(n,r-1,t-r+3,d),t=r+d.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function Axt(n,e){let t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=wue(r),s;return o;function o(c){return n.enter("attentionSequence"),s=c,a(c)}function a(c){if(c===s)return n.consume(c),a;let d=n.exit("attentionSequence"),p=wue(c),E=!p||p===2&&i||t.includes(c),w=!i||i===2&&p||t.includes(r);return d._open=Boolean(s===42?E:E&&(i||!w)),d._close=Boolean(s===42?w:w&&(p||!E)),e(c)}}function ODe(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}m();var Cue={name:"autolink",tokenize:Txt};function Txt(n,e,t){let r=1;return i;function i(R){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(R),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(R){return Zh(R)?(n.consume(R),o):Sue(R)?d(R):t(R)}function o(R){return R===43||R===45||R===46||Nd(R)?a(R):d(R)}function a(R){return R===58?(n.consume(R),c):(R===43||R===45||R===46||Nd(R))&&r++<32?(n.consume(R),a):d(R)}function c(R){return R===62?(n.exit("autolinkProtocol"),N(R)):R===null||R===32||R===60||pR(R)?t(R):(n.consume(R),c)}function d(R){return R===64?(n.consume(R),r=0,p):Sue(R)?(n.consume(R),d):t(R)}function p(R){return Nd(R)?E(R):t(R)}function E(R){return R===46?(n.consume(R),r=0,p):R===62?(n.exit("autolinkProtocol").type="autolinkEmail",N(R)):w(R)}function w(R){return(R===45||Nd(R))&&r++<63?(n.consume(R),R===45?w:E):t(R)}function N(R){return n.enter("autolinkMarker"),n.consume(R),n.exit("autolinkMarker"),n.exit("autolink"),e}}m();var h4={tokenize:Fxt,partial:!0};function Fxt(n,e,t){return no(n,r,"linePrefix");function r(i){return i===null||Yi(i)?e(i):t(i)}}m();var G$={name:"blockQuote",tokenize:Dxt,continuation:{tokenize:Oxt},exit:Rxt};function Dxt(n,e,t){let r=this;return i;function i(o){if(o===62){let a=r.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return Ra(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function Oxt(n,e,t){return no(n,n.attempt(G$,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Rxt(n){n.exit("blockQuote")}m();var Y$={name:"characterEscape",tokenize:Nxt};function Nxt(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return wDe(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}m();m();var RDe=document.createElement("i");function FC(n){let e="&"+n+";";RDe.innerHTML=e;let t=RDe.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}var K$={name:"characterReference",tokenize:Lxt};function Lxt(n,e,t){let r=this,i=0,s,o;return a;function a(E){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(E),n.exit("characterReferenceMarker"),c}function c(E){return E===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(E),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),s=31,o=Nd,p(E))}function d(E){return E===88||E===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(E),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=SDe,p):(n.enter("characterReferenceValue"),s=7,o=hR,p(E))}function p(E){let w;return E===59&&i?(w=n.exit("characterReferenceValue"),o===Nd&&!FC(r.sliceSerialize(w))?t(E):(n.enter("characterReferenceMarker"),n.consume(E),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)):o(E)&&i++<s?(n.consume(E),p):t(E)}}m();var J$={name:"codeFenced",tokenize:kxt,concrete:!0};function kxt(n,e,t){let r=this,i={tokenize:de,partial:!0},s={tokenize:K,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,c=0,d;return p;function p(M){return n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),d=M,E(M)}function E(M){return M===d?(n.consume(M),c++,E):(n.exit("codeFencedFenceSequence"),c<3?t(M):no(n,w,"whitespace")(M))}function w(M){return M===null||Yi(M)?Q(M):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),N(M))}function N(M){return M===null||Ec(M)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),no(n,R,"whitespace")(M)):M===96&&M===d?t(M):(n.consume(M),N)}function R(M){return M===null||Yi(M)?Q(M):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),U(M))}function U(M){return M===null||Yi(M)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),Q(M)):M===96&&M===d?t(M):(n.consume(M),U)}function Q(M){return n.exit("codeFencedFence"),r.interrupt?e(M):P(M)}function P(M){return M===null?I(M):Yi(M)?n.attempt(s,n.attempt(i,I,a?no(n,P,"linePrefix",a+1):P),I)(M):(n.enter("codeFlowValue"),j(M))}function j(M){return M===null||Yi(M)?(n.exit("codeFlowValue"),P(M)):(n.consume(M),j)}function I(M){return n.exit("codeFenced"),e(M)}function K(M,Z,me){let _e=this;return Ve;function Ve(lt){return M.enter("lineEnding"),M.consume(lt),M.exit("lineEnding"),at}function at(lt){return _e.parser.lazy[_e.now().line]?me(lt):Z(lt)}}function de(M,Z,me){let _e=0;return no(M,Ve,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function Ve(Ke){return M.enter("codeFencedFence"),M.enter("codeFencedFenceSequence"),at(Ke)}function at(Ke){return Ke===d?(M.consume(Ke),_e++,at):_e<c?me(Ke):(M.exit("codeFencedFenceSequence"),no(M,lt,"whitespace")(Ke))}function lt(Ke){return Ke===null||Yi(Ke)?(M.exit("codeFencedFence"),Z(Ke)):me(Ke)}}}m();var xR={name:"codeIndented",tokenize:Mxt},Ixt={tokenize:Pxt,partial:!0};function Mxt(n,e,t){let r=this;return i;function i(d){return n.enter("codeIndented"),no(n,s,"linePrefix",4+1)(d)}function s(d){let p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(d):t(d)}function o(d){return d===null?c(d):Yi(d)?n.attempt(Ixt,o,c)(d):(n.enter("codeFlowValue"),a(d))}function a(d){return d===null||Yi(d)?(n.exit("codeFlowValue"),o(d)):(n.consume(d),a)}function c(d){return n.exit("codeIndented"),e(d)}}function Pxt(n,e,t){let r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):Yi(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):no(n,s,"linePrefix",4+1)(o)}function s(o){let a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Yi(o)?i(o):t(o)}}m();var Aue={name:"codeText",tokenize:qxt,resolve:Bxt,previous:jxt};function Bxt(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function jxt(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function qxt(n,e,t){let r=this,i=0,s,o;return a;function a(w){return n.enter("codeText"),n.enter("codeTextSequence"),c(w)}function c(w){return w===96?(n.consume(w),i++,c):(n.exit("codeTextSequence"),d(w))}function d(w){return w===null?t(w):w===96?(o=n.enter("codeTextSequence"),s=0,E(w)):w===32?(n.enter("space"),n.consume(w),n.exit("space"),d):Yi(w)?(n.enter("lineEnding"),n.consume(w),n.exit("lineEnding"),d):(n.enter("codeTextData"),p(w))}function p(w){return w===null||w===32||w===96||Yi(w)?(n.exit("codeTextData"),d(w)):(n.consume(w),p)}function E(w){return w===96?(n.consume(w),s++,E):s===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(w)):(o.type="codeTextData",p(w))}}m();m();function X$(n){let e={},t=-1,r,i,s,o,a,c,d;for(;++t<n.length;){for(;t in e;)t=e[t];if(r=n[t],t&&r[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Uxt(n,t)),t=e[t],d=!0);else if(r[1]._container){for(s=t,i=void 0;s--&&(o=n[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(n[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},n[i][1].start),a=n.slice(i,t),a.unshift(r),Zf(n,i,t-i+1,a))}}return!d}function Uxt(n,e){let t=n[e][1],r=n[e][2],i=e-1,s=[],o=t._tokenizer||r.parser[t.contentType](t.start),a=o.events,c=[],d={},p,E,w=-1,N=t,R=0,U=0,Q=[U];for(;N;){for(;n[++i][1]!==N;);s.push(i),N._tokenizer||(p=r.sliceStream(N),N.next||p.push(null),E&&o.defineSkip(N.start),N._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),N._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),E=N,N=N.next}for(N=t;++w<a.length;)a[w][0]==="exit"&&a[w-1][0]==="enter"&&a[w][1].type===a[w-1][1].type&&a[w][1].start.line!==a[w][1].end.line&&(U=w+1,Q.push(U),N._tokenizer=void 0,N.previous=void 0,N=N.next);for(o.events=[],N?(N._tokenizer=void 0,N.previous=void 0):Q.pop(),w=Q.length;w--;){let P=a.slice(Q[w],Q[w+1]),j=s.pop();c.unshift([j,j+P.length-1]),Zf(n,j,2,P)}for(w=-1;++w<c.length;)d[R+c[w][0]]=R+c[w][1],R+=c[w][1]-c[w][0]-1;return d}var Tue={tokenize:$xt,resolve:Hxt},zxt={tokenize:Vxt,partial:!0};function Hxt(n){return X$(n),n}function $xt(n,e){let t;return r;function r(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Yi(a)?n.check(zxt,o,s)(a):(n.consume(a),i)}function s(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function o(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Vxt(n,e,t){let r=this;return i;function i(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),no(n,s,"linePrefix")}function s(o){if(o===null||Yi(o))return t(o);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):n.interrupt(r.parser.constructs.flow,t,e)(o)}}m();m();function Z$(n,e,t,r,i,s,o,a,c){let d=c||Number.POSITIVE_INFINITY,p=0;return E;function E(P){return P===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(P),n.exit(s),w):P===null||P===41||pR(P)?t(P):(n.enter(r),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),U(P))}function w(P){return P===62?(n.enter(s),n.consume(P),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),N(P))}function N(P){return P===62?(n.exit("chunkString"),n.exit(a),w(P)):P===null||P===60||Yi(P)?t(P):(n.consume(P),P===92?R:N)}function R(P){return P===60||P===62||P===92?(n.consume(P),N):N(P)}function U(P){return P===40?++p>d?t(P):(n.consume(P),U):P===41?p--?(n.consume(P),U):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(P)):P===null||Ec(P)?p?t(P):(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(P)):pR(P)?t(P):(n.consume(P),P===92?Q:U)}function Q(P){return P===40||P===41||P===92?(n.consume(P),U):U(P)}}m();function eV(n,e,t,r,i,s){let o=this,a=0,c;return d;function d(N){return n.enter(r),n.enter(i),n.consume(N),n.exit(i),n.enter(s),p}function p(N){return N===null||N===91||N===93&&!c||N===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?t(N):N===93?(n.exit(s),n.enter(i),n.consume(N),n.exit(i),n.exit(r),e):Yi(N)?(n.enter("lineEnding"),n.consume(N),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),E(N))}function E(N){return N===null||N===91||N===93||Yi(N)||a++>999?(n.exit("chunkString"),p(N)):(n.consume(N),c=c||!Ra(N),N===92?w:E)}function w(N){return N===91||N===92||N===93?(n.consume(N),a++,E):E(N)}}m();function tV(n,e,t,r,i,s){let o;return a;function a(w){return n.enter(r),n.enter(i),n.consume(w),n.exit(i),o=w===40?41:w,c}function c(w){return w===o?(n.enter(i),n.consume(w),n.exit(i),n.exit(r),e):(n.enter(s),d(w))}function d(w){return w===o?(n.exit(s),c(o)):w===null?t(w):Yi(w)?(n.enter("lineEnding"),n.consume(w),n.exit("lineEnding"),no(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===o||w===null||Yi(w)?(n.exit("chunkString"),d(w)):(n.consume(w),w===92?E:p)}function E(w){return w===o||w===92?(n.consume(w),p):p(w)}}m();function Db(n,e){let t;return r;function r(i){return Yi(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):Ra(i)?no(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}m();function Cy(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Fue={name:"definition",tokenize:Qxt},Wxt={tokenize:Gxt,partial:!0};function Qxt(n,e,t){let r=this,i;return s;function s(c){return n.enter("definition"),eV.call(r,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(c)}function o(c){return i=Cy(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),c===58?(n.enter("definitionMarker"),n.consume(c),n.exit("definitionMarker"),Db(n,Z$(n,n.attempt(Wxt,no(n,a,"whitespace"),no(n,a,"whitespace")),t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):t(c)}function a(c){return c===null||Yi(c)?(n.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(c)):t(c)}}function Gxt(n,e,t){return r;function r(o){return Ec(o)?Db(n,i)(o):t(o)}function i(o){return o===34||o===39||o===40?tV(n,no(n,s,"whitespace"),t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):t(o)}function s(o){return o===null||Yi(o)?e(o):t(o)}}m();var Due={name:"hardBreakEscape",tokenize:Yxt};function Yxt(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.enter("escapeMarker"),n.consume(s),i}function i(s){return Yi(s)?(n.exit("escapeMarker"),n.exit("hardBreakEscape"),e(s)):t(s)}}m();var Oue={name:"headingAtx",tokenize:Jxt,resolve:Kxt};function Kxt(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},Zf(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function Jxt(n,e,t){let r=this,i=0;return s;function s(p){return n.enter("atxHeading"),n.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&i++<6?(n.consume(p),o):p===null||Ec(p)?(n.exit("atxHeadingSequence"),r.interrupt?e(p):a(p)):t(p)}function a(p){return p===35?(n.enter("atxHeadingSequence"),c(p)):p===null||Yi(p)?(n.exit("atxHeading"),e(p)):Ra(p)?no(n,a,"whitespace")(p):(n.enter("atxHeadingText"),d(p))}function c(p){return p===35?(n.consume(p),c):(n.exit("atxHeadingSequence"),a(p))}function d(p){return p===null||p===35||Ec(p)?(n.exit("atxHeadingText"),a(p)):(n.consume(p),d)}}m();m();var NDe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Rue=["pre","script","style","textarea"];var Nue={name:"htmlFlow",tokenize:egt,resolveTo:Zxt,concrete:!0},Xxt={tokenize:tgt,partial:!0};function Zxt(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function egt(n,e,t){let r=this,i,s,o,a,c;return d;function d(xe){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(xe),p}function p(xe){return xe===33?(n.consume(xe),E):xe===47?(n.consume(xe),R):xe===63?(n.consume(xe),i=3,r.interrupt?e:ye):Zh(xe)?(n.consume(xe),o=String.fromCharCode(xe),s=!0,U):t(xe)}function E(xe){return xe===45?(n.consume(xe),i=2,w):xe===91?(n.consume(xe),i=5,o="CDATA[",a=0,N):Zh(xe)?(n.consume(xe),i=4,r.interrupt?e:ye):t(xe)}function w(xe){return xe===45?(n.consume(xe),r.interrupt?e:ye):t(xe)}function N(xe){return xe===o.charCodeAt(a++)?(n.consume(xe),a===o.length?r.interrupt?e:at:N):t(xe)}function R(xe){return Zh(xe)?(n.consume(xe),o=String.fromCharCode(xe),U):t(xe)}function U(xe){return xe===null||xe===47||xe===62||Ec(xe)?xe!==47&&s&&Rue.includes(o.toLowerCase())?(i=1,r.interrupt?e(xe):at(xe)):NDe.includes(o.toLowerCase())?(i=6,xe===47?(n.consume(xe),Q):r.interrupt?e(xe):at(xe)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(xe):s?j(xe):P(xe)):xe===45||Nd(xe)?(n.consume(xe),o+=String.fromCharCode(xe),U):t(xe)}function Q(xe){return xe===62?(n.consume(xe),r.interrupt?e:at):t(xe)}function P(xe){return Ra(xe)?(n.consume(xe),P):_e(xe)}function j(xe){return xe===47?(n.consume(xe),_e):xe===58||xe===95||Zh(xe)?(n.consume(xe),I):Ra(xe)?(n.consume(xe),j):_e(xe)}function I(xe){return xe===45||xe===46||xe===58||xe===95||Nd(xe)?(n.consume(xe),I):K(xe)}function K(xe){return xe===61?(n.consume(xe),de):Ra(xe)?(n.consume(xe),K):j(xe)}function de(xe){return xe===null||xe===60||xe===61||xe===62||xe===96?t(xe):xe===34||xe===39?(n.consume(xe),c=xe,M):Ra(xe)?(n.consume(xe),de):(c=null,Z(xe))}function M(xe){return xe===null||Yi(xe)?t(xe):xe===c?(n.consume(xe),me):(n.consume(xe),M)}function Z(xe){return xe===null||xe===34||xe===39||xe===60||xe===61||xe===62||xe===96||Ec(xe)?K(xe):(n.consume(xe),Z)}function me(xe){return xe===47||xe===62||Ra(xe)?j(xe):t(xe)}function _e(xe){return xe===62?(n.consume(xe),Ve):t(xe)}function Ve(xe){return Ra(xe)?(n.consume(xe),Ve):xe===null||Yi(xe)?at(xe):t(xe)}function at(xe){return xe===45&&i===2?(n.consume(xe),Ft):xe===60&&i===1?(n.consume(xe),je):xe===62&&i===4?(n.consume(xe),ke):xe===63&&i===3?(n.consume(xe),ye):xe===93&&i===5?(n.consume(xe),Xe):Yi(xe)&&(i===6||i===7)?n.check(Xxt,ke,lt)(xe):xe===null||Yi(xe)?lt(xe):(n.consume(xe),at)}function lt(xe){return n.exit("htmlFlowData"),Ke(xe)}function Ke(xe){return xe===null?Ce(xe):Yi(xe)?n.attempt({tokenize:St,partial:!0},Ke,Ce)(xe):(n.enter("htmlFlowData"),at(xe))}function St(xe,Je,ut){return Qt;function Qt(mn){return xe.enter("lineEnding"),xe.consume(mn),xe.exit("lineEnding"),wt}function wt(mn){return r.parser.lazy[r.now().line]?ut(mn):Je(mn)}}function Ft(xe){return xe===45?(n.consume(xe),ye):at(xe)}function je(xe){return xe===47?(n.consume(xe),o="",te):at(xe)}function te(xe){return xe===62&&Rue.includes(o.toLowerCase())?(n.consume(xe),ke):Zh(xe)&&o.length<8?(n.consume(xe),o+=String.fromCharCode(xe),te):at(xe)}function Xe(xe){return xe===93?(n.consume(xe),ye):at(xe)}function ye(xe){return xe===62?(n.consume(xe),ke):xe===45&&i===2?(n.consume(xe),ye):at(xe)}function ke(xe){return xe===null||Yi(xe)?(n.exit("htmlFlowData"),Ce(xe)):(n.consume(xe),ke)}function Ce(xe){return n.exit("htmlFlow"),e(xe)}}function tgt(n,e,t){return r;function r(i){return n.exit("htmlFlowData"),n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),n.attempt(h4,e,t)}}m();var Lue={name:"htmlText",tokenize:ngt};function ngt(n,e,t){let r=this,i,s,o,a;return c;function c(Ce){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(Ce),d}function d(Ce){return Ce===33?(n.consume(Ce),p):Ce===47?(n.consume(Ce),Z):Ce===63?(n.consume(Ce),de):Zh(Ce)?(n.consume(Ce),Ve):t(Ce)}function p(Ce){return Ce===45?(n.consume(Ce),E):Ce===91?(n.consume(Ce),s="CDATA[",o=0,Q):Zh(Ce)?(n.consume(Ce),K):t(Ce)}function E(Ce){return Ce===45?(n.consume(Ce),w):t(Ce)}function w(Ce){return Ce===null||Ce===62?t(Ce):Ce===45?(n.consume(Ce),N):R(Ce)}function N(Ce){return Ce===null||Ce===62?t(Ce):R(Ce)}function R(Ce){return Ce===null?t(Ce):Ce===45?(n.consume(Ce),U):Yi(Ce)?(a=R,Xe(Ce)):(n.consume(Ce),R)}function U(Ce){return Ce===45?(n.consume(Ce),ke):R(Ce)}function Q(Ce){return Ce===s.charCodeAt(o++)?(n.consume(Ce),o===s.length?P:Q):t(Ce)}function P(Ce){return Ce===null?t(Ce):Ce===93?(n.consume(Ce),j):Yi(Ce)?(a=P,Xe(Ce)):(n.consume(Ce),P)}function j(Ce){return Ce===93?(n.consume(Ce),I):P(Ce)}function I(Ce){return Ce===62?ke(Ce):Ce===93?(n.consume(Ce),I):P(Ce)}function K(Ce){return Ce===null||Ce===62?ke(Ce):Yi(Ce)?(a=K,Xe(Ce)):(n.consume(Ce),K)}function de(Ce){return Ce===null?t(Ce):Ce===63?(n.consume(Ce),M):Yi(Ce)?(a=de,Xe(Ce)):(n.consume(Ce),de)}function M(Ce){return Ce===62?ke(Ce):de(Ce)}function Z(Ce){return Zh(Ce)?(n.consume(Ce),me):t(Ce)}function me(Ce){return Ce===45||Nd(Ce)?(n.consume(Ce),me):_e(Ce)}function _e(Ce){return Yi(Ce)?(a=_e,Xe(Ce)):Ra(Ce)?(n.consume(Ce),_e):ke(Ce)}function Ve(Ce){return Ce===45||Nd(Ce)?(n.consume(Ce),Ve):Ce===47||Ce===62||Ec(Ce)?at(Ce):t(Ce)}function at(Ce){return Ce===47?(n.consume(Ce),ke):Ce===58||Ce===95||Zh(Ce)?(n.consume(Ce),lt):Yi(Ce)?(a=at,Xe(Ce)):Ra(Ce)?(n.consume(Ce),at):ke(Ce)}function lt(Ce){return Ce===45||Ce===46||Ce===58||Ce===95||Nd(Ce)?(n.consume(Ce),lt):Ke(Ce)}function Ke(Ce){return Ce===61?(n.consume(Ce),St):Yi(Ce)?(a=Ke,Xe(Ce)):Ra(Ce)?(n.consume(Ce),Ke):at(Ce)}function St(Ce){return Ce===null||Ce===60||Ce===61||Ce===62||Ce===96?t(Ce):Ce===34||Ce===39?(n.consume(Ce),i=Ce,Ft):Yi(Ce)?(a=St,Xe(Ce)):Ra(Ce)?(n.consume(Ce),St):(n.consume(Ce),i=void 0,te)}function Ft(Ce){return Ce===i?(n.consume(Ce),je):Ce===null?t(Ce):Yi(Ce)?(a=Ft,Xe(Ce)):(n.consume(Ce),Ft)}function je(Ce){return Ce===62||Ce===47||Ec(Ce)?at(Ce):t(Ce)}function te(Ce){return Ce===null||Ce===34||Ce===39||Ce===60||Ce===61||Ce===96?t(Ce):Ce===62||Ec(Ce)?at(Ce):(n.consume(Ce),te)}function Xe(Ce){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(Ce),n.exit("lineEnding"),no(n,ye,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ye(Ce){return n.enter("htmlTextData"),a(Ce)}function ke(Ce){return Ce===62?(n.consume(Ce),n.exit("htmlTextData"),n.exit("htmlText"),e):t(Ce)}}m();var Ob={name:"labelEnd",tokenize:ugt,resolveTo:agt,resolveAll:ogt},rgt={tokenize:lgt},igt={tokenize:cgt},sgt={tokenize:fgt};function ogt(n){let e=-1,t;for(;++e<n.length;)t=n[e][1],(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(e+1,t.type==="labelImage"?4:2),t.type="data",e++);return n}function agt(n,e){let t=n.length,r=0,i,s,o,a;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);let c={type:n[s][1].type==="labelLink"?"link":"image",start:Object.assign({},n[s][1].start),end:Object.assign({},n[n.length-1][1].end)},d={type:"label",start:Object.assign({},n[s][1].start),end:Object.assign({},n[o][1].end)},p={type:"labelText",start:Object.assign({},n[s+r+2][1].end),end:Object.assign({},n[o-2][1].start)};return a=[["enter",c,e],["enter",d,e]],a=Rd(a,n.slice(s+1,s+r+3)),a=Rd(a,[["enter",p,e]]),a=Rd(a,TC(e.parser.constructs.insideSpan.null,n.slice(s+r+4,o-3),e)),a=Rd(a,[["exit",p,e],n[o-2],n[o-1],["exit",d,e]]),a=Rd(a,n.slice(o+1)),a=Rd(a,[["exit",c,e]]),Zf(n,s,n.length,a),n}function ugt(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?d(p):(o=r.parser.defined.includes(Cy(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(p),n.exit("labelMarker"),n.exit("labelEnd"),c):t(p)}function c(p){return p===40?n.attempt(rgt,e,o?e:d)(p):p===91?n.attempt(igt,e,o?n.attempt(sgt,e,d):d)(p):o?e(p):d(p)}function d(p){return s._balanced=!0,t(p)}}function lgt(n,e,t){return r;function r(c){return n.enter("resource"),n.enter("resourceMarker"),n.consume(c),n.exit("resourceMarker"),Db(n,i)}function i(c){return c===41?a(c):Z$(n,s,t,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function s(c){return Ec(c)?Db(n,o)(c):a(c)}function o(c){return c===34||c===39||c===40?tV(n,Db(n,a),t,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):a(c)}function a(c){return c===41?(n.enter("resourceMarker"),n.consume(c),n.exit("resourceMarker"),n.exit("resource"),e):t(c)}}function cgt(n,e,t){let r=this;return i;function i(o){return eV.call(r,n,s,t,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Cy(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):t(o)}}function fgt(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}m();var kue={name:"labelStartImage",tokenize:dgt,resolveAll:Ob.resolveAll};function dgt(n,e,t){let r=this;return i;function i(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),s}function s(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}m();var Iue={name:"labelStartLink",tokenize:hgt,resolveAll:Ob.resolveAll};function hgt(n,e,t){let r=this;return i;function i(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}m();var gR={name:"lineEnding",tokenize:pgt};function pgt(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),no(n,e,"linePrefix")}}m();m();var Rb={name:"thematicBreak",tokenize:mgt};function mgt(n,e,t){let r=0,i;return s;function s(c){return n.enter("thematicBreak"),i=c,o(c)}function o(c){return c===i?(n.enter("thematicBreakSequence"),a(c)):Ra(c)?no(n,o,"whitespace")(c):r<3||c!==null&&!Yi(c)?t(c):(n.exit("thematicBreak"),e(c))}function a(c){return c===i?(n.consume(c),r++,a):(n.exit("thematicBreakSequence"),o(c))}}var j0={name:"list",tokenize:ygt,continuation:{tokenize:vgt},exit:bgt},xgt={tokenize:Egt,partial:!0},ggt={tokenize:_gt,partial:!0};function ygt(n,e,t){let r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(N){let R=r.containerState.type||(N===42||N===43||N===45?"listUnordered":"listOrdered");if(R==="listUnordered"?!r.containerState.marker||N===r.containerState.marker:hR(N)){if(r.containerState.type||(r.containerState.type=R,n.enter(R,{_container:!0})),R==="listUnordered")return n.enter("listItemPrefix"),N===42||N===45?n.check(Rb,t,d)(N):d(N);if(!r.interrupt||N===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),c(N)}return t(N)}function c(N){return hR(N)&&++o<10?(n.consume(N),c):(!r.interrupt||o<2)&&(r.containerState.marker?N===r.containerState.marker:N===41||N===46)?(n.exit("listItemValue"),d(N)):t(N)}function d(N){return n.enter("listItemMarker"),n.consume(N),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||N,n.check(h4,r.interrupt?t:p,n.attempt(xgt,w,E))}function p(N){return r.containerState.initialBlankLine=!0,s++,w(N)}function E(N){return Ra(N)?(n.enter("listItemPrefixWhitespace"),n.consume(N),n.exit("listItemPrefixWhitespace"),w):t(N)}function w(N){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(N)}}function vgt(n,e,t){let r=this;return r.containerState._closeFlow=void 0,n.check(h4,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,no(n,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ra(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(ggt,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,no(n,n.attempt(j0,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function _gt(n,e,t){let r=this;return no(n,i,"listItemIndent",r.containerState.size+1);function i(s){let o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):t(s)}}function bgt(n){n.exit(this.containerState.type)}function Egt(n,e,t){let r=this;return no(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){let o=r.events[r.events.length-1];return!Ra(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}m();var nV={name:"setextUnderline",tokenize:wgt,resolveTo:Sgt};function Sgt(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);let o={type:"setextHeading",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",o,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end=Object.assign({},n[s][1].end)):n[r][1]=o,n.push(["exit",o,e]),n}function wgt(n,e,t){let r=this,i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(p){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(n.enter("setextHeadingLine"),n.enter("setextHeadingLineSequence"),s=p,c(p)):t(p)}function c(p){return p===s?(n.consume(p),c):(n.exit("setextHeadingLineSequence"),no(n,d,"lineSuffix")(p))}function d(p){return p===null||Yi(p)?(n.exit("setextHeadingLine"),e(p)):t(p)}}var LDe={tokenize:Cgt};function Cgt(n){let e=this,t=n.attempt(h4,r,n.attempt(this.parser.constructs.flowInitial,i,no(n,n.attempt(this.parser.constructs.flow,i,n.attempt(Tue,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}m();var kDe={resolveAll:BDe()},IDe=PDe("string"),MDe=PDe("text");function PDe(n){return{tokenize:e,resolveAll:BDe(n==="text"?Agt:void 0)};function e(t){let r=this,i=this.parser.constructs[n],s=t.attempt(i,o,a);return o;function o(p){return d(p)?s(p):a(p)}function a(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),c}function c(p){return d(p)?(t.exit("data"),s(p)):(t.consume(p),c)}function d(p){if(p===null)return!0;let E=i[p],w=-1;if(E)for(;++w<E.length;){let N=E[w];if(!N.previous||N.previous.call(r,r.previous))return!0}return!1}}}function BDe(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function Agt(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){let r=n[t-1][1],i=e.sliceStream(r),s=i.length,o=-1,a=0,c;for(;s--;){let d=i[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(d===-2)c=!0,a++;else if(d!==-1){s++;break}}if(a){let d={type:t===n.length||c||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},d.start),r.start.offset===r.end.offset?Object.assign(r,d):(n.splice(t,0,["enter",d,e],["exit",d,e]),t+=2)}t++}return n}m();function jDe(n,e,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},s=[],o=[],a=[],c=!0,d={consume:K,enter:de,exit:M,attempt:_e(Z),check:_e(me),interrupt:_e(me,{interrupt:!0})},p={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:U,sliceSerialize:R,now:Q,defineSkip:P,write:N},E=e.tokenize.call(p,d),w;return e.resolveAll&&s.push(e),p;function N(Ke){return o=Rd(o,Ke),j(),o[o.length-1]!==null?[]:(Ve(e,0),p.events=TC(s,p.events,p),p.events)}function R(Ke,St){return Fgt(U(Ke),St)}function U(Ke){return Tgt(o,Ke)}function Q(){return Object.assign({},r)}function P(Ke){i[Ke.line]=Ke.column,lt()}function j(){let Ke;for(;r._index<o.length;){let St=o[r._index];if(typeof St=="string")for(Ke=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Ke&&r._bufferIndex<St.length;)I(St.charCodeAt(r._bufferIndex));else I(St)}}function I(Ke){c=void 0,w=Ke,E=E(Ke)}function K(Ke){Yi(Ke)?(r.line++,r.column=1,r.offset+=Ke===-3?2:1,lt()):Ke!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=Ke,c=!0}function de(Ke,St){let Ft=St||{};return Ft.type=Ke,Ft.start=Q(),p.events.push(["enter",Ft,p]),a.push(Ft),Ft}function M(Ke){let St=a.pop();return St.end=Q(),p.events.push(["exit",St,p]),St}function Z(Ke,St){Ve(Ke,St.from)}function me(Ke,St){St.restore()}function _e(Ke,St){return Ft;function Ft(je,te,Xe){let ye,ke,Ce,xe;return Array.isArray(je)?ut(je):"tokenize"in je?ut([je]):Je(je);function Je(Lt){return It;function It(cn){let it=cn!==null&&Lt[cn],ue=cn!==null&&Lt.null,De=[...Array.isArray(it)?it:it?[it]:[],...Array.isArray(ue)?ue:ue?[ue]:[]];return ut(De)(cn)}}function ut(Lt){return ye=Lt,ke=0,Lt.length===0?Xe:Qt(Lt[ke])}function Qt(Lt){return It;function It(cn){return xe=at(),Ce=Lt,Lt.partial||(p.currentConstruct=Lt),Lt.name&&p.parser.constructs.disable.null.includes(Lt.name)?mn(cn):Lt.tokenize.call(St?Object.assign(Object.create(p),St):p,d,wt,mn)(cn)}}function wt(Lt){return c=!0,Ke(Ce,xe),te}function mn(Lt){return c=!0,xe.restore(),++ke<ye.length?Qt(ye[ke]):Xe}}}function Ve(Ke,St){Ke.resolveAll&&!s.includes(Ke)&&s.push(Ke),Ke.resolve&&Zf(p.events,St,p.events.length-St,Ke.resolve(p.events.slice(St),p)),Ke.resolveTo&&(p.events=Ke.resolveTo(p.events,p))}function at(){let Ke=Q(),St=p.previous,Ft=p.currentConstruct,je=p.events.length,te=Array.from(a);return{restore:Xe,from:je};function Xe(){r=Ke,p.previous=St,p.currentConstruct=Ft,p.events.length=je,a=te,lt()}}function lt(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Tgt(n,e){let t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex,o;return t===i?o=[n[t].slice(r,s)]:(o=n.slice(t,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(n[i].slice(0,s))),o}function Fgt(n,e){let t=-1,r=[],i;for(;++t<n.length;){let s=n[t],o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}var Mue={};RQ(Mue,{attentionMarkers:()=>Mgt,contentInitial:()=>Ogt,disable:()=>Pgt,document:()=>Dgt,flow:()=>Ngt,flowInitial:()=>Rgt,insideSpan:()=>Igt,string:()=>Lgt,text:()=>kgt});m();var Dgt={[42]:j0,[43]:j0,[45]:j0,[48]:j0,[49]:j0,[50]:j0,[51]:j0,[52]:j0,[53]:j0,[54]:j0,[55]:j0,[56]:j0,[57]:j0,[62]:G$},Ogt={[91]:Fue},Rgt={[-2]:xR,[-1]:xR,[32]:xR},Ngt={[35]:Oue,[42]:Rb,[45]:[nV,Rb],[60]:Nue,[61]:nV,[95]:Rb,[96]:J$,[126]:J$},Lgt={[38]:K$,[92]:Y$},kgt={[-5]:gR,[-4]:gR,[-3]:gR,[33]:kue,[38]:K$,[42]:mR,[60]:[Cue,Lue],[91]:Iue,[92]:[Due,Y$],[93]:Ob,[95]:mR,[96]:Aue},Igt={null:[mR,kDe]},Mgt={null:[42,95]},Pgt={null:[]};function qDe(n={}){let e=bDe([Mue].concat(n.extensions||[])),t={defined:[],lazy:{},constructs:e,content:r(TDe),document:r(FDe),flow:r(LDe),string:r(IDe),text:r(MDe)};return t;function r(i){return s;function s(o){return jDe(t,i,o)}}}m();var UDe=/[\0\t\n\r]/g;function zDe(){let n=1,e="",t=!0,r;return i;function i(s,o,a){let c=[],d,p,E,w,N;for(s=e+s.toString(o),E=0,e="",t&&(s.charCodeAt(0)===65279&&E++,t=void 0);E<s.length;){if(UDe.lastIndex=E,d=UDe.exec(s),w=d&&d.index!==void 0?d.index:s.length,N=s.charCodeAt(w),!d){e=s.slice(E);break}if(N===10&&E===w&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),E<w&&(c.push(s.slice(E,w)),n+=w-E),N){case 0:{c.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,c.push(-2);n++<p;)c.push(-1);break}case 10:{c.push(-4),n=1;break}default:r=!0,n=1}E=w+1}return a&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}m();function HDe(n){for(;!X$(n););return n}m();function rV(n,e){let t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}m();var Bgt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $De(n){return n.replace(Bgt,jgt)}function jgt(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){let i=t.charCodeAt(1),s=i===120||i===88;return rV(t.slice(s?2:1),s?16:10)}return FC(t)||n}var Pue={}.hasOwnProperty,Bue=function(n,e,t){return typeof e!="string"&&(t=e,e=void 0),qgt(t)(HDe(qDe(t).document().write(zDe()(n,e,!0))))};function qgt(n={}){let e=VDe({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(Mt),autolinkProtocol:lt,autolinkEmail:lt,atxHeading:c(Ze),blockQuote:c(ue),characterEscape:lt,characterReference:lt,codeFenced:c(De),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:c(De,d),codeText:c(ve,d),codeTextData:lt,data:lt,codeFlowValue:lt,definition:c(le),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:c(st),hardBreakEscape:c(Le),hardBreakTrailing:c(Le),htmlFlow:c(vt,d),htmlFlowData:lt,htmlText:c(vt,d),htmlTextData:lt,image:c($t),label:d,link:c(Mt),listItem:c(tn),listItemValue:U,listOrdered:c(Vt,R),listUnordered:c(Vt),paragraph:c(en),reference:wt,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:c(Ze),strong:c(En),thematicBreak:c(On)},exit:{atxHeading:E(),atxHeadingSequence:me,autolink:E(),autolinkEmail:it,autolinkProtocol:cn,blockQuote:E(),characterEscapeValue:Ke,characterReferenceMarkerHexadecimal:Lt,characterReferenceMarkerNumeric:Lt,characterReferenceValue:It,codeFenced:E(I),codeFencedFence:j,codeFencedFenceInfo:Q,codeFencedFenceMeta:P,codeFlowValue:Ke,codeIndented:E(K),codeText:E(Xe),codeTextData:Ke,data:Ke,definition:E(),definitionDestinationString:Z,definitionLabelString:de,definitionTitleString:M,emphasis:E(),hardBreakEscape:E(Ft),hardBreakTrailing:E(Ft),htmlFlow:E(je),htmlFlowData:Ke,htmlText:E(te),htmlTextData:Ke,image:E(ke),label:xe,labelText:Ce,lineEnding:St,link:E(ye),listItem:E(),listOrdered:E(),listUnordered:E(),paragraph:E(),referenceString:mn,resourceDestinationString:Je,resourceTitleString:ut,resource:Qt,setextHeading:E(at),setextHeadingLineSequence:Ve,setextHeadingText:_e,strong:E(),thematicBreak:E()}},n.mdastExtensions||[]),t={};return r;function r(qt){let pn={type:"root",children:[]},qn=[pn],or=[],In=[],Ne={stack:qn,tokenStack:or,config:e,enter:p,exit:w,buffer:d,resume:N,setData:s,getData:o},$e=-1;for(;++$e<qt.length;)if(qt[$e][1].type==="listOrdered"||qt[$e][1].type==="listUnordered")if(qt[$e][0]==="enter")In.push($e);else{let Oe=In.pop();$e=i(qt,Oe,$e)}for($e=-1;++$e<qt.length;){let Oe=e[qt[$e][0]];Pue.call(Oe,qt[$e][1].type)&&Oe[qt[$e][1].type].call(Object.assign({sliceSerialize:qt[$e][2].sliceSerialize},Ne),qt[$e][1])}if(or.length>0){let Oe=or[or.length-1];(Oe[1]||WDe).call(Ne,void 0,Oe[0])}for(pn.position={start:a(qt.length>0?qt[0][1].start:{line:1,column:1,offset:0}),end:a(qt.length>0?qt[qt.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<e.transforms.length;)pn=e.transforms[$e](pn)||pn;return pn}function i(qt,pn,qn){let or=pn-1,In=-1,Ne=!1,$e,Oe,jt,yt;for(;++or<=qn;){let mt=qt[or];if(mt[1].type==="listUnordered"||mt[1].type==="listOrdered"||mt[1].type==="blockQuote"?(mt[0]==="enter"?In++:In--,yt=void 0):mt[1].type==="lineEndingBlank"?mt[0]==="enter"&&($e&&!yt&&!In&&!jt&&(jt=or),yt=void 0):mt[1].type==="linePrefix"||mt[1].type==="listItemValue"||mt[1].type==="listItemMarker"||mt[1].type==="listItemPrefix"||mt[1].type==="listItemPrefixWhitespace"||(yt=void 0),!In&&mt[0]==="enter"&&mt[1].type==="listItemPrefix"||In===-1&&mt[0]==="exit"&&(mt[1].type==="listUnordered"||mt[1].type==="listOrdered")){if($e){let nn=or;for(Oe=void 0;nn--;){let Wt=qt[nn];if(Wt[1].type==="lineEnding"||Wt[1].type==="lineEndingBlank"){if(Wt[0]==="exit")continue;Oe&&(qt[Oe][1].type="lineEndingBlank",Ne=!0),Wt[1].type="lineEnding",Oe=nn}else if(!(Wt[1].type==="linePrefix"||Wt[1].type==="blockQuotePrefix"||Wt[1].type==="blockQuotePrefixWhitespace"||Wt[1].type==="blockQuoteMarker"||Wt[1].type==="listItemIndent"))break}jt&&(!Oe||jt<Oe)&&($e._spread=!0),$e.end=Object.assign({},Oe?qt[Oe][1].start:mt[1].end),qt.splice(Oe||or,0,["exit",$e,mt[2]]),or++,qn++}mt[1].type==="listItemPrefix"&&($e={type:"listItem",_spread:!1,start:Object.assign({},mt[1].start)},qt.splice(or,0,["enter",$e,mt[2]]),or++,qn++,jt=void 0,yt=!0)}}return qt[pn][1]._spread=Ne,qn}function s(qt,pn){t[qt]=pn}function o(qt){return t[qt]}function a(qt){return{line:qt.line,column:qt.column,offset:qt.offset}}function c(qt,pn){return qn;function qn(or){p.call(this,qt(or),or),pn&&pn.call(this,or)}}function d(){this.stack.push({type:"fragment",children:[]})}function p(qt,pn,qn){return this.stack[this.stack.length-1].children.push(qt),this.stack.push(qt),this.tokenStack.push([pn,qn]),qt.position={start:a(pn.start)},qt}function E(qt){return pn;function pn(qn){qt&&qt.call(this,qn),w.call(this,qn)}}function w(qt,pn){let qn=this.stack.pop(),or=this.tokenStack.pop();if(or)or[0].type!==qt.type&&(pn?pn.call(this,qt,or[0]):(or[1]||WDe).call(this,qt,or[0]));else throw new Error("Cannot close `"+qt.type+"` ("+Fb({start:qt.start,end:qt.end})+"): it\u2019s not open");return qn.position.end=a(qt.end),qn}function N(){return gDe(this.stack.pop())}function R(){s("expectingFirstListItemValue",!0)}function U(qt){if(o("expectingFirstListItemValue")){let pn=this.stack[this.stack.length-2];pn.start=Number.parseInt(this.sliceSerialize(qt),10),s("expectingFirstListItemValue")}}function Q(){let qt=this.resume(),pn=this.stack[this.stack.length-1];pn.lang=qt}function P(){let qt=this.resume(),pn=this.stack[this.stack.length-1];pn.meta=qt}function j(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function I(){let qt=this.resume(),pn=this.stack[this.stack.length-1];pn.value=qt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function K(){let qt=this.resume(),pn=this.stack[this.stack.length-1];pn.value=qt.replace(/(\r?\n|\r)$/g,"")}function de(qt){let pn=this.resume(),qn=this.stack[this.stack.length-1];qn.label=pn,qn.identifier=Cy(this.sliceSerialize(qt)).toLowerCase()}function M(){let qt=this.resume(),pn=this.stack[this.stack.length-1];pn.title=qt}function Z(){let qt=this.resume(),pn=this.stack[this.stack.length-1];pn.url=qt}function me(qt){let pn=this.stack[this.stack.length-1];if(!pn.depth){let qn=this.sliceSerialize(qt).length;pn.depth=qn}}function _e(){s("setextHeadingSlurpLineEnding",!0)}function Ve(qt){let pn=this.stack[this.stack.length-1];pn.depth=this.sliceSerialize(qt).charCodeAt(0)===61?1:2}function at(){s("setextHeadingSlurpLineEnding")}function lt(qt){let pn=this.stack[this.stack.length-1],qn=pn.children[pn.children.length-1];(!qn||qn.type!=="text")&&(qn=Fn(),qn.position={start:a(qt.start)},pn.children.push(qn)),this.stack.push(qn)}function Ke(qt){let pn=this.stack.pop();pn.value+=this.sliceSerialize(qt),pn.position.end=a(qt.end)}function St(qt){let pn=this.stack[this.stack.length-1];if(o("atHardBreak")){let qn=pn.children[pn.children.length-1];qn.position.end=a(qt.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(pn.type)&&(lt.call(this,qt),Ke.call(this,qt))}function Ft(){s("atHardBreak",!0)}function je(){let qt=this.resume(),pn=this.stack[this.stack.length-1];pn.value=qt}function te(){let qt=this.resume(),pn=this.stack[this.stack.length-1];pn.value=qt}function Xe(){let qt=this.resume(),pn=this.stack[this.stack.length-1];pn.value=qt}function ye(){let qt=this.stack[this.stack.length-1];o("inReference")?(qt.type+="Reference",qt.referenceType=o("referenceType")||"shortcut",delete qt.url,delete qt.title):(delete qt.identifier,delete qt.label),s("referenceType")}function ke(){let qt=this.stack[this.stack.length-1];o("inReference")?(qt.type+="Reference",qt.referenceType=o("referenceType")||"shortcut",delete qt.url,delete qt.title):(delete qt.identifier,delete qt.label),s("referenceType")}function Ce(qt){let pn=this.stack[this.stack.length-2],qn=this.sliceSerialize(qt);pn.label=$De(qn),pn.identifier=Cy(qn).toLowerCase()}function xe(){let qt=this.stack[this.stack.length-1],pn=this.resume(),qn=this.stack[this.stack.length-1];s("inReference",!0),qn.type==="link"?qn.children=qt.children:qn.alt=pn}function Je(){let qt=this.resume(),pn=this.stack[this.stack.length-1];pn.url=qt}function ut(){let qt=this.resume(),pn=this.stack[this.stack.length-1];pn.title=qt}function Qt(){s("inReference")}function wt(){s("referenceType","collapsed")}function mn(qt){let pn=this.resume(),qn=this.stack[this.stack.length-1];qn.label=pn,qn.identifier=Cy(this.sliceSerialize(qt)).toLowerCase(),s("referenceType","full")}function Lt(qt){s("characterReferenceType",qt.type)}function It(qt){let pn=this.sliceSerialize(qt),qn=o("characterReferenceType"),or;qn?(or=rV(pn,qn==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):or=FC(pn);let In=this.stack.pop();In.value+=or,In.position.end=a(qt.end)}function cn(qt){Ke.call(this,qt);let pn=this.stack[this.stack.length-1];pn.url=this.sliceSerialize(qt)}function it(qt){Ke.call(this,qt);let pn=this.stack[this.stack.length-1];pn.url="mailto:"+this.sliceSerialize(qt)}function ue(){return{type:"blockquote",children:[]}}function De(){return{type:"code",lang:null,meta:null,value:""}}function ve(){return{type:"inlineCode",value:""}}function le(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function st(){return{type:"emphasis",children:[]}}function Ze(){return{type:"heading",depth:void 0,children:[]}}function Le(){return{type:"break"}}function vt(){return{type:"html",value:""}}function $t(){return{type:"image",title:null,url:"",alt:null}}function Mt(){return{type:"link",title:null,url:"",children:[]}}function Vt(qt){return{type:"list",ordered:qt.type==="listOrdered",start:null,spread:qt._spread,children:[]}}function tn(qt){return{type:"listItem",spread:qt._spread,checked:null,children:[]}}function en(){return{type:"paragraph",children:[]}}function En(){return{type:"strong",children:[]}}function Fn(){return{type:"text",value:""}}function On(){return{type:"thematicBreak"}}}function VDe(n,e){let t=-1;for(;++t<e.length;){let r=e[t];Array.isArray(r)?VDe(n,r):Ugt(n,r)}return n}function Ugt(n,e){let t;for(t in e)if(Pue.call(e,t)){let r=t==="canContainEols"||t==="transforms",s=(Pue.call(n,t)?n[t]:void 0)||(n[t]=r?[]:{}),o=e[t];o&&(r?n[t]=[...s,...o]:Object.assign(s,o))}}function WDe(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Fb({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Fb({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Fb({start:e.start,end:e.end})+") is still open")}function jue(n){Object.assign(this,{Parser:t=>{let r=this.data("settings");return Bue(t,Object.assign({},r,n,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var QDe=jue;var dLe=xr(cLe());m();var ole=/\s*([a-zA-Z\d-]+)(\s+([\s\S]*))?\s*/,r5t=new RegExp("(\\s*\\/\\*"+ole.source+"\\*\\/\\s*)"),i5t=new RegExp("(\\s*<!--"+ole.source+"-->\\s*)");function fLe(n){if(o5t(n)&&(n.type==="html"||n.type==="comment"||n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")){let e=2,t;if(n.type==="comment"?(t=n.value.match(ole),e=1):n.type==="html"?t=n.value.match(i5t):(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")&&(t=n.value.match(r5t)),t&&t[0].length===n.value.length){let r=s5t(t[e+1]||"");if(r)return{name:t[e],attributes:(t[e+2]||"").trim(),parameters:r,node:n}}}return null}function s5t(n){let e={};return n.replace(/\s+([-\w]+)(?:=(?:"((?:\\[\s\S]|[^"])+)"|'((?:\\[\s\S]|[^'])+)'|((?:\\[\s\S]|[^"'\s])+)))?/gi,t).replace(/\s+/g,"")?null:e;function t(r,i,s,o,a){let c=s||o||a||"";return c==="true"||c===""?c=!0:c==="false"?c=!1:Number.isNaN(Number(c))||(c=Number(c)),e[i]=c,""}}function o5t(n){return Boolean(n&&typeof n=="object"&&"type"in n)}function hLe(n){let e=vue().use(QDe).use(dLe.default).use(a5t),t=e.parse(n);return e.runSync(t)}var a5t=()=>{let n,e;function t(r){function i(s){let o=s;if(o.type==="html"){let a=fLe(o);return a&&(a.name==="malloy-set-model"?e=a.parameters?.model?.toString():a.name==="malloy-query"&&(n=a)),o}else{if("children"in o)return{...o,children:o.children.map(a=>i(a))};if(o.type==="code"){let a=n;return a?(n=void 0,{model:a.parameters?.model?.toString()||e||"",query:o.value,name:a.parameters?.name?.toString()||"",description:a.parameters?.description?.toString()||"",renderer:a.parameters?.renderer?.toString()||"",type:"malloyQueryLink"}):o}else return o}}return i(r)}return t};var ale=({content:n,loadQueryLink:e})=>{let t=hLe(n);return _.createElement(pLe,{node:t,loadQueryLink:e})},pLe=({node:n,loadQueryLink:e})=>{let t=r=>_.createElement(u5t,{nodes:r.children,loadQueryLink:e});switch(n.type){case"root":return _.createElement(y5t,null,_.createElement(v5t,null,t(n)));case"heading":switch(n.depth){case 1:return _.createElement(d5t,null,t(n));case 2:return _.createElement(h5t,null,t(n));case 3:return _.createElement(p5t,null,t(n));case 4:return _.createElement(m5t,null,t(n));case 5:return _.createElement(x5t,null,t(n));case 6:return _.createElement(g5t,null,t(n))}return _.createElement("div",null);case"text":return _.createElement("span",null,n.value);case"strong":return _.createElement("b",null,t(n));case"paragraph":return _.createElement(b5t,null,t(n));case"link":return _.createElement(_5t,{href:n.url,onClick:()=>aae(n.url)},t(n),n.title);case"emphasis":return _.createElement("i",null,t(n));case"blockquote":return _.createElement("blockquote",null,t(n));case"break":return _.createElement("br",null);case"code":return _.createElement(l5t,{code:n.value,language:n.lang});case"delete":return _.createElement("del",null,t(n));case"html":return _.createElement("span",null);case"image":return _.createElement("img",{src:n.url,alt:n.alt,title:n.title??void 0});case"inlineCode":return _.createElement("code",null,n.value);case"listItem":return _.createElement("li",null,t(n));case"list":return _.createElement("ul",null,t(n));case"table":return _.createElement(c5t,{align:n.align},_.createElement("tbody",null,t(n)));case"tableRow":return _.createElement("tr",null,t(n));case"tableCell":return _.createElement(f5t,null,t(n));case"thematicBreak":return _.createElement("hr",null);case"malloyQueryLink":return _.createElement(S5t,{onClick:()=>{e(n.model,n.query,n.name,n.renderer)}},_.createElement(w5t,null,n.name,_.createElement(V$,{width:"80",height:"22"})),_.createElement(C5t,null,n.description))}},u5t=({nodes:n,loadQueryLink:e})=>_.createElement(_.Fragment,null,n.map((t,r)=>_.createElement(pLe,{node:t,key:r,loadQueryLink:e}))),l5t=({code:n,language:e})=>{let[t,r]=(0,dV.useState)();return(0,dV.useEffect)(()=>{DO(n,e).then(r)},[n,e]),t?_.createElement(E5t,null,_.createElement(Tb,{element:t})):_.createElement("pre",null,n)},c5t=Hn.table`
  border: 1px solid #eaeaea;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
  border-collapse: collapse;
  width: 100%;

  tr:first-child {
    font-weight: 500;
  }

  ${({align:n})=>n.map((e,t)=>`
        tr td:nth-child(${t+1}) {
          text-align: ${e??"left"};
        }
      `).join(`
`)}
`,f5t=Hn.td`
  padding: 8px;
  vertical-align: top;
  border-bottom: 1px solid #eaeaea;
`,d5t=Hn.h1`
  font-size: 21px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,h5t=Hn.h2`
  font-size: 19px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,p5t=Hn.h3`
  font-size: 17px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,m5t=Hn.h4`
  font-size: 15px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,x5t=Hn.h5`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,g5t=Hn.h6`
  font-size: 14px;
  font-weight: 500;
  margin-block-end: 8px;
  margin-block-start: 16px;
`,y5t=Hn.div`
  padding: 10px 30px 30px 30px;
  width: 100%;
  font-family: Google Sans;
  overflow-y: auto;
`,v5t=Hn.div`
  max-width: 900px;
`,_5t=Hn.a`
  color: ${yi.dimension.fillStrong};
`,b5t=Hn.p`
  font-size: 14px;
  margin-block-start: 8px;
  color: #4b4c50;
`,E5t=Hn.div`
  pre {
    font-size: 14px;
    border: 1px solid #efefef;
    border-radius: 5px;
    padding: 10px;
    background-color: #fbfbfb;
  }
`,S5t=Hn.div`
  border: 1px solid #efefef;
  border-radius: 10px;
  padding: 10px 20px;
  background-color: #fcfcfc;
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 10px;
  cursor: pointer;

  &:hover {
    background-color: #f0f6ff;
  }
`,w5t=Hn.div`
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
`,C5t=Hn.div`
  color: #696969;
  font-size: 14px;
`;m();var q0=xr(Lr());m();m();function vR(){return vR=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vR.apply(this,arguments)}var p4;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(p4||(p4={}));var mLe="popstate";function xLe(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ule("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:hV(i)}return F5t(e,t,null,n)}function A5t(){return Math.random().toString(36).substr(2,8)}function gLe(n){return{usr:n.state,key:n.key}}function ule(n,e,t,r){return t===void 0&&(t=null),vR({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?_R(e):e,{state:t,key:e&&e.key||r||A5t()})}function hV(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _R(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function T5t(n){let e=typeof window!="undefined"&&typeof window.location!="undefined"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",t=typeof n=="string"?n:hV(n);return new URL(t,e)}function F5t(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=p4.Pop,c=null;function d(){a=p4.Pop,c&&c({action:a,location:w.location})}function p(N,R){a=p4.Push;let U=ule(w.location,N,R);t&&t(U,N);let Q=gLe(U),P=w.createHref(U);try{o.pushState(Q,"",P)}catch{i.location.assign(P)}s&&c&&c({action:a,location:w.location})}function E(N,R){a=p4.Replace;let U=ule(w.location,N,R);t&&t(U,N);let Q=gLe(U),P=w.createHref(U);o.replaceState(Q,"",P),s&&c&&c({action:a,location:w.location})}let w={get action(){return a},get location(){return n(i,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(mLe,d),c=N,()=>{i.removeEventListener(mLe,d),c=null}},createHref(N){return e(i,N)},encodeLocation(N){let R=T5t(hV(N));return vR({},N,{pathname:R.pathname,search:R.search,hash:R.hash})},push:p,replace:E,go(N){return o.go(N)}};return w}var yLe;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(yLe||(yLe={}));function vLe(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function m4(n,e){if(n===!1||n===null||typeof n=="undefined")throw new Error(e)}function D5t(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?_R(n):n;return{pathname:t?t.startsWith("/")?t:O5t(t,e):e,search:R5t(r),hash:N5t(i)}}function O5t(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function lle(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _Le(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bLe(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=_R(n):(i=vR({},n),m4(!i.pathname||!i.pathname.includes("?"),lle("?","pathname","search",i)),m4(!i.pathname||!i.pathname.includes("#"),lle("#","pathname","hash",i)),m4(!i.search||!i.search.includes("#"),lle("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let E=e.length-1;if(o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),E-=1;i.pathname=w.join("/")}a=E>=0?e[E]:"/"}let c=D5t(i,a),d=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}var cle=n=>n.join("/").replace(/\/\/+/g,"/");var R5t=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,N5t=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;var gGt=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";var L5t=new Set(["POST","PUT","PATCH","DELETE"]),yGt=new Set(["GET","HEAD",...L5t]);var wa=xr(Lr());function I5t(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var M5t=typeof Object.is=="function"?Object.is:I5t,{useState:P5t,useEffect:B5t,useLayoutEffect:j5t,useDebugValue:q5t}=wa;function U5t(n,e,t){let r=e(),[{inst:i},s]=P5t({inst:{value:r,getSnapshot:e}});return j5t(()=>{i.value=r,i.getSnapshot=e,fle(i)&&s({inst:i})},[n,r,e]),B5t(()=>(fle(i)&&s({inst:i}),n(()=>{fle(i)&&s({inst:i})})),[n]),q5t(r),r}function fle(n){let e=n.getSnapshot,t=n.value;try{let r=e();return!M5t(t,r)}catch{return!0}}function z5t(n,e,t){return e()}var H5t=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",$5t=!H5t,V5t=$5t?z5t:U5t,TGt="useSyncExternalStore"in wa?(n=>n.useSyncExternalStore)(wa):V5t;var dle=wa.createContext(null),hle=wa.createContext(null),ELe=wa.createContext({outlet:null,matches:[]});function ple(){return wa.useContext(hle)!=null}function mle(){return ple()||m4(!1),wa.useContext(hle).location}function SLe(){ple()||m4(!1);let{basename:n,navigator:e}=wa.useContext(dle),{matches:t}=wa.useContext(ELe),{pathname:r}=mle(),i=JSON.stringify(_Le(t).map(a=>a.pathnameBase)),s=wa.useRef(!1);return wa.useEffect(()=>{s.current=!0}),wa.useCallback(function(a,c){if(c===void 0&&(c={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let d=bLe(a,JSON.parse(i),r,c.relative==="path");n!=="/"&&(d.pathname=d.pathname==="/"?n:cle([n,d.pathname])),(c.replace?e.replace:e.push)(d,c.state,c)},[n,e,i,r])}var wLe;(function(n){n.UseRevalidator="useRevalidator"})(wLe||(wLe={}));var CLe;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(CLe||(CLe={}));function ALe(n){let{basename:e="/",children:t=null,location:r,navigationType:i=p4.Pop,navigator:s,static:o=!1}=n;ple()&&m4(!1);let a=e.replace(/^\/*/,"/"),c=wa.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=_R(r));let{pathname:d="/",search:p="",hash:E="",state:w=null,key:N="default"}=r,R=wa.useMemo(()=>{let U=vLe(d,a);return U==null?null:{pathname:U,search:p,hash:E,state:w,key:N}},[a,d,p,E,w,N]);return R==null?null:wa.createElement(dle.Provider,{value:c},wa.createElement(hle.Provider,{children:t,value:{location:R,navigationType:i}}))}var TLe;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(TLe||(TLe={}));var FGt=new Promise(()=>{});function xle(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function W5t(n,e){let t=xle(n);for(let r of e.keys())t.has(r)||e.getAll(r).forEach(i=>{t.append(r,i)});return t}function FLe(n){let{basename:e,children:t,window:r}=n,i=q0.useRef();i.current==null&&(i.current=xLe({window:r,v5Compat:!0}));let s=i.current,[o,a]=q0.useState({action:s.action,location:s.location});return q0.useLayoutEffect(()=>s.listen(a),[s]),q0.createElement(ALe,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var DLe;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(DLe||(DLe={}));var OLe;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(OLe||(OLe={}));function RLe(n){let e=q0.useRef(xle(n)),t=mle(),r=q0.useMemo(()=>W5t(t.search,e.current),[t.search]),i=SLe(),s=q0.useCallback((o,a)=>{let c=xle(typeof o=="function"?o(r):o);i("?"+c,a)},[i,r]);return[r,s]}var Q5t={REMOVE_FIELDS:"command+k",RUN_QUERY:"command+enter"};function LLe(n){return n.split("_").map(e=>e.charAt(0).toUpperCase()+e.substring(1)).join(" ")}var mV=()=>{let n=aoe(),[e,t]=RLe(),r=n?.find(Ke=>Ke.name===e.get("model")),i=e.get("source"),s=(0,pV.useRef)(""),o=({run:Ke,query:St,styles:Ft})=>{let je=e.get("query")||void 0,te=JSON.stringify(Ft);te==="{}"&&(te=void 0);let Xe=e.get("styles")||void 0;console.log("updateQueryInURL",{oldQuery:je,newQuery:St,newStyles:te,oldStyles:Xe,change:!(je===St&&Xe===te)}),!(je===St&&Xe===te)&&(St===void 0?e.delete("query"):(e.set("query",St),e.delete("name")),Ke?e.set("run","true"):e.delete("run"),te===void 0?e.delete("styles"):e.set("styles",te),s.current=e.toString(),console.log("set params 4"),t(e))},a=e.get("page")||"query",c=Ke=>{e.set("page",Ke),Ke!=="query"&&(e.delete("query"),e.delete("run"),e.delete("name"),e.delete("styles")),console.log("set params 5"),s.current=e.toString(),t(e)},{queryMalloy:d,queryName:p,clearQuery:E,clearResult:w,runQuery:N,isRunning:R,queryModifiers:U,querySummary:Q,dataStyles:P,result:j,registerNewSource:I,error:K,dirty:de}=Ioe(r?.model,i,o),M=r?.model,Z=M&&i?M.contents[i]:void 0,me=(Ke,St,Ft=!1)=>{I(Ke.model.contents[St]),Ft||(e.set("source",St),e.set("model",Ke.name),e.set("page","query"),e.delete("query"),e.delete("run"),e.delete("name"),e.delete("styles"),E(!0),s.current=e.toString(),console.log("set params 6"),t(e))};(0,pV.useEffect)(()=>{(async()=>{console.log({params:e.toString(),newParams:s.current,change:e.toString()!==s.current}),console.log(new Map(e.entries()));let St=e.get("model"),Ft=e.get("query")?.replace(/->\s*{\n}/g,""),je=e.get("source"),te=e.get("styles"),Xe=e.get("page");if(console.log({model:St,query:Ft,source:je,datasets:n}),St&&(Ft||je)&&n){if(e.toString()===s.current)return;let ye=n.find(Ce=>Ce.name===St);if(ye===void 0)throw new Error("Bad model");let ke=je||await oae(ye.model,Ft);if(I(ye.model.contents[ke]),Ft){if(Xe!=="query")return;w();let Ce=await sae(ye.model,Ft);U.setDataStyles(te?JSON.parse(te):{},!0),U.setQuery(Ce,!0),e.has("run")&&e.get("page")==="query"&&N()}else e.delete("query"),e.delete("run"),e.delete("name"),e.delete("styles"),E(!0);s.current=e.toString(),console.log("set params 7")}else if(n&&!r){let ye=n[0];e.set("model",ye.name),ye.readme&&e.set("page","about"),s.current=e.toString(),console.log("set params 1"),t(e)}})()},[e,n]);let _e=async(Ke,St,Ft,je)=>{let te=n.find(ke=>ke.name===Ke);if(te===void 0)throw new Error("Bad model");let Xe=await oae(te.model,St);e.set("model",Ke),e.set("source",Xe),e.set("query",St),e.set("page","query"),e.set("run","true"),e.set("name",Ft),I(te.model.contents[Xe]);let ye=await sae(te.model,St);if(U.setQuery(ye,!0),je){let ke=U.setDataStyle(ye.name,je,!0);e.delete("renderer"),e.set("styles",JSON.stringify(ke))}N(),s.current=e.toString(),console.log("set params 2"),t(e)},Ve=()=>{N(),e.set("run","true"),s.current=e.toString(),console.log("set params 3"),t(e,{replace:!0})},at={REMOVE_FIELDS:()=>E(),RUN_QUERY:Ve},lt=CCe(r,Z);return _.createElement(G5t,{handlers:at,keyMap:Q5t},_.createElement(e4t,null,_.createElement(t4t,null,_.createElement(due,null),r&&_.createElement("span",null,r.name,i&&(a==="query"||a==="sources")&&_.createElement("span",null," \u203A"," ",LLe(i),(e.get("name")||p)&&a==="query"&&_.createElement("span",null," \u203A"," ",e.get("name")||LLe(p)))))),_.createElement(K5t,null,_.createElement(kLe,null,_.createElement(J5t,null,_.createElement(X5t,null,_.createElement(vO,{onClick:()=>c("about"),text:"Home",icon:"about",selected:a==="about",disabled:r?.readme===void 0}),_.createElement(vO,{onClick:()=>c("query"),text:"Query",icon:"query",selected:a==="query"}),_.createElement(vO,{onClick:()=>c("sources"),text:"Sources",icon:"source",selected:a==="sources",disabled:n===void 0})),_.createElement(Z5t,null)),_.createElement(n4t,null,_.createElement(Y5t,null,a==="query"&&_.createElement(fue,{dirty:de,model:M,source:Z,datasets:n,queryModifiers:U,topValues:lt,queryName:p,querySummary:Q,queryMalloy:d,dataStyles:P,result:j,isRunning:R,runQuery:Ve}),a==="about"&&_.createElement(Y6,null,r&&_.createElement(ale,{content:r.readme||`# No Readme
This project has no readme`,loadQueryLink:_e})),a==="sources"&&_.createElement(Y6,null,n&&n.map(Ke=>{let St=Object.entries(Ke.model.contents).map(([Ft,je])=>({name:Ft,source:je})).filter(Ft=>Ft.source.type==="struct");return _.createElement("div",{key:Ke.id},_.createElement(Jo,{icon:_.createElement(sa,{action:"open-directory",color:"other"}),name:Ke.name,color:"other"}),_.createElement(a4,null,St.map(Ft=>_.createElement(Jo,{key:Ft.name,icon:_.createElement(sa,{action:"analysis",color:"dimension"}),onClick:()=>{me(Ke,Ft.name)},name:Ft.name,color:"dimension"}))))})),_.createElement(coe,{error:K}))),_.createElement(r4t,null))),_.createElement(i4t,null))},G5t=Hn(NLe.HotKeys)`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  outline: none;
  background-color: ${yi.mainBackground};
`,Y5t=Hn.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 10px;
`,K5t=Hn.div`
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
`,kLe=Hn.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
  background-color: ${yi.mainBackground};
`,J5t=Hn.div`
  width: 70px;
  min-width: 70px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${yi.mainBackground};
  justify-content: space-between;
  align-items: center;
`,X5t=Hn.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
`,Z5t=Hn.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
`,e4t=Hn.div`
  height: 40px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 5px 10px 5px 20px;
  background-color: ${yi.mainBackground};
`,t4t=Hn.div`
  display: flex;
  align-items: center;
  gap: 5px;
`,n4t=Hn(kLe)`
  margin-top: 10px;
  height: unset;
`,r4t=Hn.div`
  width: 10px;
  min-width: 10px;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: ${yi.mainBackground};
`,i4t=Hn.div`
  width: 100%;
  min-height: 10px;
  height: 10px;
  display: flex;
  flex-direction: column;
  background-color: ${yi.mainBackground};
`;var s4t=new tK,ILe=()=>_.createElement(sK,{client:s4t},_.createElement(mV,null));m();var d4t=n=>{n&&n instanceof Function&&Promise.resolve().then(()=>(VLe(),$Le)).then(({getCLS:e,getFID:t,getFCP:r,getLCP:i,getTTFB:s})=>{e(n),t(n),r(n),i(n),s(n)})},WLe=d4t;QLe.default.render(CR.default.createElement(CR.default.StrictMode,null,CR.default.createElement(FLe,null,CR.default.createElement(ILe,null))),document.getElementById("root"));WLe();})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! moment.js
//! momentjs.com
//! version : 2.29.4
